{
  "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/5580",
  "repository_url": "https://api.github.com/repos/ethereum-optimism/optimism",
  "labels_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/5580/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/5580/comments",
  "events_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/5580/events",
  "html_url": "https://github.com/ethereum-optimism/optimism/issues/5580",
  "id": 1692565596,
  "node_id": "I_kwDODjvEJM5k4oBc",
  "number": 5580,
  "title": "NFT bridging between L1 and L2 (testnet)",
  "user": {
    "login": "eskrano",
    "id": 10223123,
    "node_id": "MDQ6VXNlcjEwMjIzMTIz",
    "avatar_url": "https://avatars.githubusercontent.com/u/10223123?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/eskrano",
    "html_url": "https://github.com/eskrano",
    "followers_url": "https://api.github.com/users/eskrano/followers",
    "following_url": "https://api.github.com/users/eskrano/following{/other_user}",
    "gists_url": "https://api.github.com/users/eskrano/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/eskrano/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/eskrano/subscriptions",
    "organizations_url": "https://api.github.com/users/eskrano/orgs",
    "repos_url": "https://api.github.com/users/eskrano/repos",
    "events_url": "https://api.github.com/users/eskrano/events{/privacy}",
    "received_events_url": "https://api.github.com/users/eskrano/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 3,
  "created_at": "2023-05-02T14:45:49Z",
  "updated_at": "2023-05-05T14:00:27Z",
  "closed_at": null,
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "**Problem with L1 -> L2 bridging ERC721 tokens**\r\nWhen im trying to use L1ERC721Bridge im getting revert for L2 message to relay and message status - fail.\r\n\r\nHere's txns which I did\r\n\r\nhttps://goerli-optimism.etherscan.io/tx/0xe553e416e19457af65f46591148af99fd7d0a831d44b461f4be8ed70e19f4b28 - relay tx.\r\nhttps://goerli.etherscan.io/tx/0x8b284d668426f49d7d6dd39f34ec7960f958fe2896bb8fb00bbe3dfd7732527b - nft transfer to l1 bridge tx.\r\n\r\n**To Reproduce**\r\nIm using next code : \r\n`\r\n    const txBridge = await L1Bridge.connect(walletL1).bridgeERC721(\r\n        process.env.L1_NFT_ADDR,\r\n        process.env.L2_NFT_ADDR,\r\n        process.env.TOKEN_ID,\r\n        1_200_000,\r\n        ethers.utils.hexlify(ethers.utils.toUtf8Bytes(\"bridge\")),\r\n        {\r\n            gasLimit: 2_000_000\r\n        }\r\n    )\r\n`\r\n\r\nHere's .env file\r\n\r\n`\r\nL1_NFT_ADDR=0x1F359C32b5D8c9678b076eAac411A4d2Eb11E697\r\nL2_NFT_ADDR=0x5e3e2404c549E066D98c5d1C1B1ABC054c3540d6\r\n\r\nTOKEN_ID=5\r\n\r\nMINTABLE_ERC721_FACTORY_ADDRESS=0x13DcfC403eCEF3E8Eab66C00dC64e793dc40Be1d\r\n\r\n\r\nL1_BRIDGE=0x0F9C590b958002E8B10a7431979c1aF882772E88\r\nL2_BRIDGE=0x4200000000000000000000000000000000000014\r\n`\r\n\r\nL2 nft was created by MintableFactory which is deployed at L2 goerli testnet at address 0x13DcfC403eCEF3E8Eab66C00dC64e793dc40Be1d\r\n\r\n**Expected behavior**\r\nGet NFT token at L2\r\n\r\n**System Specs:**\r\n - OS: mac os\r\n - Package Version (or commit hash): latest sdk\r\n\r\n**Additional context**\r\nIm also trying to use sdk estimateL2MessageGasLimit~ method and got 27k gas  but im only able to estimate for L1 bridge because L2 bridge finalizeERc721 func callable only from MESSENGER or OTHER_BRIDGE so I found qx.app code and just saw they're using 1.2kk gas hardcoded but it didnt help me .\r\n\r\nI suppose maybe its not a bug and im just lost some details. \r\n",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/5580/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/5580/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1532086921",
    "html_url": "https://github.com/ethereum-optimism/optimism/issues/5580#issuecomment-1532086921",
    "issue_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/5580",
    "id": 1532086921,
    "node_id": "IC_kwDODjvEJM5bUcqJ",
    "user": {
      "login": "tynes",
      "id": 6626818,
      "node_id": "MDQ6VXNlcjY2MjY4MTg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6626818?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tynes",
      "html_url": "https://github.com/tynes",
      "followers_url": "https://api.github.com/users/tynes/followers",
      "following_url": "https://api.github.com/users/tynes/following{/other_user}",
      "gists_url": "https://api.github.com/users/tynes/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tynes/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tynes/subscriptions",
      "organizations_url": "https://api.github.com/users/tynes/orgs",
      "repos_url": "https://api.github.com/users/tynes/repos",
      "events_url": "https://api.github.com/users/tynes/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tynes/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-05-02T20:13:51Z",
    "updated_at": "2023-05-02T20:13:51Z",
    "author_association": "CONTRIBUTOR",
    "body": "It looks like you are interacting with the implementation and not the proxy. The address of the proxy can be found here:\r\nhttps://goerli.etherscan.io/address/0x8dd330dde8d9898d43b4dc840da27a07df91b3c9\r\n\r\nThis value was found by looking at the `OTHER_BRIDGE()(address)` method on the L2ERC721Bridge",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1532086921/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1532105052",
    "html_url": "https://github.com/ethereum-optimism/optimism/issues/5580#issuecomment-1532105052",
    "issue_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/5580",
    "id": 1532105052,
    "node_id": "IC_kwDODjvEJM5bUhFc",
    "user": {
      "login": "eskrano",
      "id": 10223123,
      "node_id": "MDQ6VXNlcjEwMjIzMTIz",
      "avatar_url": "https://avatars.githubusercontent.com/u/10223123?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eskrano",
      "html_url": "https://github.com/eskrano",
      "followers_url": "https://api.github.com/users/eskrano/followers",
      "following_url": "https://api.github.com/users/eskrano/following{/other_user}",
      "gists_url": "https://api.github.com/users/eskrano/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eskrano/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eskrano/subscriptions",
      "organizations_url": "https://api.github.com/users/eskrano/orgs",
      "repos_url": "https://api.github.com/users/eskrano/repos",
      "events_url": "https://api.github.com/users/eskrano/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eskrano/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-05-02T20:27:38Z",
    "updated_at": "2023-05-02T20:27:38Z",
    "author_association": "NONE",
    "body": "> It looks like you are interacting with the implementation and not the proxy. The address of the proxy can be found here: https://goerli.etherscan.io/address/0x8dd330dde8d9898d43b4dc840da27a07df91b3c9\r\n> \r\n> This value was found by looking at the `OTHER_BRIDGE()(address)` method on the L2ERC721Bridge\r\n\r\nThanks for idea, I just did a try (https://goerli-optimism.etherscan.io/tx/0xbd4c1fd1c7e2dcb3860c89b2b430f72d4e388b632f84a451a56fbeefe4614a71 - relay tx, l1 bridge tx - 0x63f299655624b331b78b4105c127d6ae9db098439154159002935d0de62fee0a ). But got reverted relay",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1532105052/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1536306659",
    "html_url": "https://github.com/ethereum-optimism/optimism/issues/5580#issuecomment-1536306659",
    "issue_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/5580",
    "id": 1536306659,
    "node_id": "IC_kwDODjvEJM5bki3j",
    "user": {
      "login": "eskrano",
      "id": 10223123,
      "node_id": "MDQ6VXNlcjEwMjIzMTIz",
      "avatar_url": "https://avatars.githubusercontent.com/u/10223123?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eskrano",
      "html_url": "https://github.com/eskrano",
      "followers_url": "https://api.github.com/users/eskrano/followers",
      "following_url": "https://api.github.com/users/eskrano/following{/other_user}",
      "gists_url": "https://api.github.com/users/eskrano/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eskrano/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eskrano/subscriptions",
      "organizations_url": "https://api.github.com/users/eskrano/orgs",
      "repos_url": "https://api.github.com/users/eskrano/repos",
      "events_url": "https://api.github.com/users/eskrano/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eskrano/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-05-05T14:00:27Z",
    "updated_at": "2023-05-05T14:00:27Z",
    "author_association": "NONE",
    "body": "Still need help. Thanks.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1536306659/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
