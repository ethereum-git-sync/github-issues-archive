{
  "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/504",
  "repository_url": "https://api.github.com/repos/ethereum-optimism/optimism",
  "labels_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/504/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/504/comments",
  "events_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/504/events",
  "html_url": "https://github.com/ethereum-optimism/optimism/issues/504",
  "id": 862267649,
  "node_id": "MDU6SXNzdWU4NjIyNjc2NDk=",
  "number": 504,
  "title": "`solidity-gas-reporter` shows ~400k gas usage for an empty function call",
  "user": {
    "login": "transmissions11",
    "id": 26209401,
    "node_id": "MDQ6VXNlcjI2MjA5NDAx",
    "avatar_url": "https://avatars.githubusercontent.com/u/26209401?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/transmissions11",
    "html_url": "https://github.com/transmissions11",
    "followers_url": "https://api.github.com/users/transmissions11/followers",
    "following_url": "https://api.github.com/users/transmissions11/following{/other_user}",
    "gists_url": "https://api.github.com/users/transmissions11/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/transmissions11/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/transmissions11/subscriptions",
    "organizations_url": "https://api.github.com/users/transmissions11/orgs",
    "repos_url": "https://api.github.com/users/transmissions11/repos",
    "events_url": "https://api.github.com/users/transmissions11/events{/privacy}",
    "received_events_url": "https://api.github.com/users/transmissions11/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 2907832490,
      "node_id": "MDU6TGFiZWwyOTA3ODMyNDkw",
      "url": "https://api.github.com/repos/ethereum-optimism/optimism/labels/C-bug",
      "name": "C-bug",
      "color": "C5DEF5",
      "default": false,
      "description": "Category: This is a bug."
    },
    {
      "id": 2930018676,
      "node_id": "MDU6TGFiZWwyOTMwMDE4Njc2",
      "url": "https://api.github.com/repos/ethereum-optimism/optimism/labels/P-unconfirmed",
      "name": "P-unconfirmed",
      "color": "BFD4F2",
      "default": false,
      "description": "Issue might be valid, but itâ€™s not yet confirmed"
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 5,
  "created_at": "2021-04-20T01:40:53Z",
  "updated_at": "2021-05-22T08:33:49Z",
  "closed_at": "2021-05-06T04:14:23Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "<!--\r\nNeed help?\r\nRefer to our contributing guidelines for additional information about making a good issue:\r\nhttps://github.com/ethereum-optimism/.github/blob/master/CONTRIBUTING.md\r\n-->\r\n\r\n**Describe the bug**\r\nCalling an empty function takes up 400k gas units (according to solidity-gas-reporter) when interacting with l2geth\r\n\r\n**To Reproduce**\r\nSee this reproduction branch: https://github.com/Rari-Capital/nova/tree/reproCaseForEmptyFunctionGasUsage\r\n\r\nCan also view this run of CI which shows the crazy high gas usage in the \"Run tests\" section: https://github.com/Rari-Capital/nova/runs/2386486739\r\n\r\n<img width=\"827\" alt=\"Screen Shot 2021-04-19 at 6 40 28 PM\" src=\"https://user-images.githubusercontent.com/26209401/115324429-b7492300-a13e-11eb-96ba-be32098ab3b8.png\">\r\n\r\n\r\n**Expected behavior**\r\nI don't think a simple empty call like this is meant to take up this much gas.\r\n\r\n",
  "closed_by": {
    "login": "snario",
    "id": 1933029,
    "node_id": "MDQ6VXNlcjE5MzMwMjk=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1933029?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/snario",
    "html_url": "https://github.com/snario",
    "followers_url": "https://api.github.com/users/snario/followers",
    "following_url": "https://api.github.com/users/snario/following{/other_user}",
    "gists_url": "https://api.github.com/users/snario/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/snario/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/snario/subscriptions",
    "organizations_url": "https://api.github.com/users/snario/orgs",
    "repos_url": "https://api.github.com/users/snario/repos",
    "events_url": "https://api.github.com/users/snario/events{/privacy}",
    "received_events_url": "https://api.github.com/users/snario/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/504/reactions",
    "total_count": 1,
    "+1": 1,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/504/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/829428388",
    "html_url": "https://github.com/ethereum-optimism/optimism/issues/504#issuecomment-829428388",
    "issue_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/504",
    "id": 829428388,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgyOTQyODM4OA==",
    "user": {
      "login": "snario",
      "id": 1933029,
      "node_id": "MDQ6VXNlcjE5MzMwMjk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1933029?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/snario",
      "html_url": "https://github.com/snario",
      "followers_url": "https://api.github.com/users/snario/followers",
      "following_url": "https://api.github.com/users/snario/following{/other_user}",
      "gists_url": "https://api.github.com/users/snario/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/snario/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/snario/subscriptions",
      "organizations_url": "https://api.github.com/users/snario/orgs",
      "repos_url": "https://api.github.com/users/snario/repos",
      "events_url": "https://api.github.com/users/snario/events{/privacy}",
      "received_events_url": "https://api.github.com/users/snario/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-04-29T16:54:12Z",
    "updated_at": "2021-04-29T16:54:12Z",
    "author_association": "CONTRIBUTOR",
    "body": "We're working on better gas metering right now which will give a much better analysis for this kind of thing.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/829428388/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/833208696",
    "html_url": "https://github.com/ethereum-optimism/optimism/issues/504#issuecomment-833208696",
    "issue_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/504",
    "id": 833208696,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgzMzIwODY5Ng==",
    "user": {
      "login": "transmissions11",
      "id": 26209401,
      "node_id": "MDQ6VXNlcjI2MjA5NDAx",
      "avatar_url": "https://avatars.githubusercontent.com/u/26209401?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/transmissions11",
      "html_url": "https://github.com/transmissions11",
      "followers_url": "https://api.github.com/users/transmissions11/followers",
      "following_url": "https://api.github.com/users/transmissions11/following{/other_user}",
      "gists_url": "https://api.github.com/users/transmissions11/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/transmissions11/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/transmissions11/subscriptions",
      "organizations_url": "https://api.github.com/users/transmissions11/orgs",
      "repos_url": "https://api.github.com/users/transmissions11/repos",
      "events_url": "https://api.github.com/users/transmissions11/events{/privacy}",
      "received_events_url": "https://api.github.com/users/transmissions11/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-05-06T04:07:14Z",
    "updated_at": "2021-05-06T04:07:14Z",
    "author_association": "CONTRIBUTOR",
    "body": "![Screen Shot 2021-05-05 at 9 06 13 PM](https://user-images.githubusercontent.com/26209401/117240514-d81fa280-ade5-11eb-8190-e0f4a052eed1.png)\r\nI don't think an ERC20 approve should take 500k gas either...",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/833208696/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/833210389",
    "html_url": "https://github.com/ethereum-optimism/optimism/issues/504#issuecomment-833210389",
    "issue_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/504",
    "id": 833210389,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgzMzIxMDM4OQ==",
    "user": {
      "login": "snario",
      "id": 1933029,
      "node_id": "MDQ6VXNlcjE5MzMwMjk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1933029?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/snario",
      "html_url": "https://github.com/snario",
      "followers_url": "https://api.github.com/users/snario/followers",
      "following_url": "https://api.github.com/users/snario/following{/other_user}",
      "gists_url": "https://api.github.com/users/snario/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/snario/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/snario/subscriptions",
      "organizations_url": "https://api.github.com/users/snario/orgs",
      "repos_url": "https://api.github.com/users/snario/repos",
      "events_url": "https://api.github.com/users/snario/events{/privacy}",
      "received_events_url": "https://api.github.com/users/snario/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-05-06T04:12:51Z",
    "updated_at": "2021-05-06T04:12:51Z",
    "author_association": "CONTRIBUTOR",
    "body": "cc @elenadimitrova as well who has recently added automated gas reporting: https://github.com/ethereum-optimism/optimism/pull/603/checks?check_run_id=2511987843",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/833210389/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/833210811",
    "html_url": "https://github.com/ethereum-optimism/optimism/issues/504#issuecomment-833210811",
    "issue_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/504",
    "id": 833210811,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgzMzIxMDgxMQ==",
    "user": {
      "login": "snario",
      "id": 1933029,
      "node_id": "MDQ6VXNlcjE5MzMwMjk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1933029?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/snario",
      "html_url": "https://github.com/snario",
      "followers_url": "https://api.github.com/users/snario/followers",
      "following_url": "https://api.github.com/users/snario/following{/other_user}",
      "gists_url": "https://api.github.com/users/snario/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/snario/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/snario/subscriptions",
      "organizations_url": "https://api.github.com/users/snario/orgs",
      "repos_url": "https://api.github.com/users/snario/repos",
      "events_url": "https://api.github.com/users/snario/events{/privacy}",
      "received_events_url": "https://api.github.com/users/snario/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-05-06T04:14:20Z",
    "updated_at": "2021-05-06T04:14:20Z",
    "author_association": "CONTRIBUTOR",
    "body": "@TransmissionsDev there is a constant value overhead of about 400k L2 gas right now. We'll add more information about this in the docs shortly.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/833210811/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/833215203",
    "html_url": "https://github.com/ethereum-optimism/optimism/issues/504#issuecomment-833215203",
    "issue_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/504",
    "id": 833215203,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgzMzIxNTIwMw==",
    "user": {
      "login": "transmissions11",
      "id": 26209401,
      "node_id": "MDQ6VXNlcjI2MjA5NDAx",
      "avatar_url": "https://avatars.githubusercontent.com/u/26209401?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/transmissions11",
      "html_url": "https://github.com/transmissions11",
      "followers_url": "https://api.github.com/users/transmissions11/followers",
      "following_url": "https://api.github.com/users/transmissions11/following{/other_user}",
      "gists_url": "https://api.github.com/users/transmissions11/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/transmissions11/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/transmissions11/subscriptions",
      "organizations_url": "https://api.github.com/users/transmissions11/orgs",
      "repos_url": "https://api.github.com/users/transmissions11/repos",
      "events_url": "https://api.github.com/users/transmissions11/events{/privacy}",
      "received_events_url": "https://api.github.com/users/transmissions11/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-05-06T04:29:08Z",
    "updated_at": "2021-05-22T08:33:49Z",
    "author_association": "CONTRIBUTOR",
    "body": "> @TransmissionsDev there is a constant value overhead of about 400k L2 gas right now. We'll add more information about this in the docs shortly.\r\n\r\nDoes this apply to enqueue'd transactions? If so, should seriously consider removing the fractional gas payment entirely imo (or increase the divisor)",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/833215203/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
