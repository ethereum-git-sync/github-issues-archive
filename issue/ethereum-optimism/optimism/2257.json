{
  "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/2257",
  "repository_url": "https://api.github.com/repos/ethereum-optimism/optimism",
  "labels_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/2257/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/2257/comments",
  "events_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/2257/events",
  "html_url": "https://github.com/ethereum-optimism/optimism/issues/2257",
  "id": 1159926022,
  "node_id": "I_kwDODjvEJM5FIxEG",
  "number": 2257,
  "title": "Cannot subscribe to new pending transactions",
  "user": {
    "login": "paymog",
    "id": 1986950,
    "node_id": "MDQ6VXNlcjE5ODY5NTA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1986950?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/paymog",
    "html_url": "https://github.com/paymog",
    "followers_url": "https://api.github.com/users/paymog/followers",
    "following_url": "https://api.github.com/users/paymog/following{/other_user}",
    "gists_url": "https://api.github.com/users/paymog/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/paymog/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/paymog/subscriptions",
    "organizations_url": "https://api.github.com/users/paymog/orgs",
    "repos_url": "https://api.github.com/users/paymog/repos",
    "events_url": "https://api.github.com/users/paymog/events{/privacy}",
    "received_events_url": "https://api.github.com/users/paymog/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 2907832490,
      "node_id": "MDU6TGFiZWwyOTA3ODMyNDkw",
      "url": "https://api.github.com/repos/ethereum-optimism/optimism/labels/C-bug",
      "name": "C-bug",
      "color": "C5DEF5",
      "default": false,
      "description": "Category: This is a bug."
    },
    {
      "id": 2930018676,
      "node_id": "MDU6TGFiZWwyOTMwMDE4Njc2",
      "url": "https://api.github.com/repos/ethereum-optimism/optimism/labels/P-unconfirmed",
      "name": "P-unconfirmed",
      "color": "BFD4F2",
      "default": false,
      "description": "Issue might be valid, but it’s not yet confirmed"
    },
    {
      "id": 3357535896,
      "node_id": "MDU6TGFiZWwzMzU3NTM1ODk2",
      "url": "https://api.github.com/repos/ethereum-optimism/optimism/labels/M-l2geth",
      "name": "M-l2geth",
      "color": "FBCA04",
      "default": false,
      "description": "Module: l2geth"
    },
    {
      "id": 4266439918,
      "node_id": "LA_kwDODjvEJM7-TLTu",
      "url": "https://api.github.com/repos/ethereum-optimism/optimism/labels/C-bedrock-fixes-this",
      "name": "C-bedrock-fixes-this",
      "color": "C5DEF5",
      "default": false,
      "description": "Category: Something Bedrock fixes"
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 9,
  "created_at": "2022-03-04T18:24:38Z",
  "updated_at": "2023-04-21T13:52:20Z",
  "closed_at": null,
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "**Describe the bug**\r\nI cannot subscribe to new pending transactions when running a local testnet. However, I *can* subscribe to new blocks.\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n1. Run the local testnet with `docker-compose -f docker-compose.yml -f docker-compose.ts-batch-submitter.yml up`\r\n2. Wait for all the services to come alive\r\n3. In another terminal tab run `wscat ws://localhost:8546` and in that console issue the following: `{\"id\": 1, \"method\": \"eth_subscribe\", \"params\": [\"newPendingTransactions\"]}`\r\n4. Notice that the subscription is successfully acknowledged\r\n5. Run the following js script with node which will submit a transaction and theoretically subscribe to new pending events: https://gist.github.com/paymog/1dee62da2fbed88d85dba311e8f56142 (note that these pending events come from https://docs.ethers.io/v5/api/providers/provider/#Provider--log-methods)\r\n6. Notice that the event handler is never executed in the wscat terminal nor in the node program\r\n\r\n**Expected behavior**\r\nA transaction hash should have been returned in both the wscat terminal and the node program that's subscribed to pending events.\r\n\r\n**Screenshots**\r\nHere's the output of the node program when I run it:\r\n\r\n```\r\n/root/.nvm/versions/node/v17.6.0/bin/node /root/.nvm/versions/node/v17.6.0/lib/node_modules/npm/bin/npm-cli.js run run --scripts-prepend-node-path=auto\r\n\r\n> metis-transaction@1.0.0 run\r\n> node index.js\r\n\r\nbalance is 4999999999999999777944\r\n{\r\n  nonce: 8,\r\n  gasPrice: BigNumber { _hex: '0x01', _isBigNumber: true },\r\n  gasLimit: BigNumber { _hex: '0x1e8480', _isBigNumber: true },\r\n  to: '0x00000398232e2064f896018496b4B44b3d627511',\r\n  value: BigNumber { _hex: '0x64', _isBigNumber: true },\r\n  data: '0x',\r\n  chainId: 1088,\r\n  v: 2212,\r\n  r: '0xb34a1fcee125f977608f12fe89f46c5b6d10115de180d80f9a191f87e36ea0cf',\r\n  s: '0x6df5f8714d493f1e4b6347d27cd8400f806e2b6798d777d4017ca1eab29c662c',\r\n  from: '0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266',\r\n  hash: '0xec40a82b9e3da8e153c618516f2ebb7b8eb8e871aa832ec14abb68ca31f53663',\r\n  type: null,\r\n  confirmations: 0,\r\n  wait: [Function (anonymous)]\r\n}\r\n\r\n<note that it hangs here and does not terminate>\r\n```\r\n\r\n\r\n**System Specs:**\r\n - OS: ubuntu 21\r\n - Package Version (or commit hash): 03f1cfda19be4a3f2ca3bfe183c25d41c0edc105\r\n\r\n**Additional context**\r\nIn the provided gist, if I change `\"pending\"` to `\"block\"` then the event listener gets correctly triggered.\r\n",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/2257/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/2257/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1060887723",
    "html_url": "https://github.com/ethereum-optimism/optimism/issues/2257#issuecomment-1060887723",
    "issue_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/2257",
    "id": 1060887723,
    "node_id": "IC_kwDODjvEJM4_O9yr",
    "user": {
      "login": "paymog",
      "id": 1986950,
      "node_id": "MDQ6VXNlcjE5ODY5NTA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1986950?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/paymog",
      "html_url": "https://github.com/paymog",
      "followers_url": "https://api.github.com/users/paymog/followers",
      "following_url": "https://api.github.com/users/paymog/following{/other_user}",
      "gists_url": "https://api.github.com/users/paymog/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/paymog/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/paymog/subscriptions",
      "organizations_url": "https://api.github.com/users/paymog/orgs",
      "repos_url": "https://api.github.com/users/paymog/repos",
      "events_url": "https://api.github.com/users/paymog/events{/privacy}",
      "received_events_url": "https://api.github.com/users/paymog/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-03-07T16:35:52Z",
    "updated_at": "2022-03-07T16:35:52Z",
    "author_association": "NONE",
    "body": "Looks like this is happening because L2 transactions do not get added to the txPool and instead get applied as a sequencer transaction:\r\n\r\nhttps://github.com/ethereum-optimism/optimism/blob/51a527b8e3fe69940fb8c0f5e4aa2e0ae8ee294c/l2geth/eth/api_backend.go#L299-L316",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1060887723/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1060893110",
    "html_url": "https://github.com/ethereum-optimism/optimism/issues/2257#issuecomment-1060893110",
    "issue_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/2257",
    "id": 1060893110,
    "node_id": "IC_kwDODjvEJM4_O_G2",
    "user": {
      "login": "paymog",
      "id": 1986950,
      "node_id": "MDQ6VXNlcjE5ODY5NTA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1986950?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/paymog",
      "html_url": "https://github.com/paymog",
      "followers_url": "https://api.github.com/users/paymog/followers",
      "following_url": "https://api.github.com/users/paymog/following{/other_user}",
      "gists_url": "https://api.github.com/users/paymog/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/paymog/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/paymog/subscriptions",
      "organizations_url": "https://api.github.com/users/paymog/orgs",
      "repos_url": "https://api.github.com/users/paymog/repos",
      "events_url": "https://api.github.com/users/paymog/events{/privacy}",
      "received_events_url": "https://api.github.com/users/paymog/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-03-07T16:41:32Z",
    "updated_at": "2022-03-07T16:41:32Z",
    "author_association": "NONE",
    "body": "and these docs seem to confirm: https://community.optimism.io/docs/how-optimism-works/#block-production\r\n\r\nMaybe I should be subscribed to new pending transactions on the L1?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1060893110/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1060971859",
    "html_url": "https://github.com/ethereum-optimism/optimism/issues/2257#issuecomment-1060971859",
    "issue_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/2257",
    "id": 1060971859,
    "node_id": "IC_kwDODjvEJM4_PSVT",
    "user": {
      "login": "paymog",
      "id": 1986950,
      "node_id": "MDQ6VXNlcjE5ODY5NTA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1986950?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/paymog",
      "html_url": "https://github.com/paymog",
      "followers_url": "https://api.github.com/users/paymog/followers",
      "following_url": "https://api.github.com/users/paymog/following{/other_user}",
      "gists_url": "https://api.github.com/users/paymog/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/paymog/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/paymog/subscriptions",
      "organizations_url": "https://api.github.com/users/paymog/orgs",
      "repos_url": "https://api.github.com/users/paymog/repos",
      "events_url": "https://api.github.com/users/paymog/events{/privacy}",
      "received_events_url": "https://api.github.com/users/paymog/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-03-07T18:02:45Z",
    "updated_at": "2022-03-07T18:02:45Z",
    "author_association": "NONE",
    "body": "Yup, when subscribing on the L1 i get events, as seen in this gist: https://gist.github.com/abdafcc432839975e76027cba0786f71",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1060971859/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1060984113",
    "html_url": "https://github.com/ethereum-optimism/optimism/issues/2257#issuecomment-1060984113",
    "issue_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/2257",
    "id": 1060984113,
    "node_id": "IC_kwDODjvEJM4_PVUx",
    "user": {
      "login": "smartcontracts",
      "id": 14298799,
      "node_id": "MDQ6VXNlcjE0Mjk4Nzk5",
      "avatar_url": "https://avatars.githubusercontent.com/u/14298799?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/smartcontracts",
      "html_url": "https://github.com/smartcontracts",
      "followers_url": "https://api.github.com/users/smartcontracts/followers",
      "following_url": "https://api.github.com/users/smartcontracts/following{/other_user}",
      "gists_url": "https://api.github.com/users/smartcontracts/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/smartcontracts/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/smartcontracts/subscriptions",
      "organizations_url": "https://api.github.com/users/smartcontracts/orgs",
      "repos_url": "https://api.github.com/users/smartcontracts/repos",
      "events_url": "https://api.github.com/users/smartcontracts/events{/privacy}",
      "received_events_url": "https://api.github.com/users/smartcontracts/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-03-07T18:15:13Z",
    "updated_at": "2022-03-07T18:15:13Z",
    "author_association": "CONTRIBUTOR",
    "body": "cc @tynes ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1060984113/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1061076257",
    "html_url": "https://github.com/ethereum-optimism/optimism/issues/2257#issuecomment-1061076257",
    "issue_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/2257",
    "id": 1061076257,
    "node_id": "IC_kwDODjvEJM4_Pr0h",
    "user": {
      "login": "paymog",
      "id": 1986950,
      "node_id": "MDQ6VXNlcjE5ODY5NTA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1986950?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/paymog",
      "html_url": "https://github.com/paymog",
      "followers_url": "https://api.github.com/users/paymog/followers",
      "following_url": "https://api.github.com/users/paymog/following{/other_user}",
      "gists_url": "https://api.github.com/users/paymog/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/paymog/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/paymog/subscriptions",
      "organizations_url": "https://api.github.com/users/paymog/orgs",
      "repos_url": "https://api.github.com/users/paymog/repos",
      "events_url": "https://api.github.com/users/paymog/events{/privacy}",
      "received_events_url": "https://api.github.com/users/paymog/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-03-07T19:56:25Z",
    "updated_at": "2022-03-07T19:56:25Z",
    "author_association": "NONE",
    "body": "Another interesting discovery, if I swap out `TxPool()` for `syncService` in the following method, then my L2 transaction subscription works well: \r\n\r\nhttps://github.com/ethereum-optimism/optimism/blob/51a527b8e3fe69940fb8c0f5e4aa2e0ae8ee294c/l2geth/eth/api_backend.go#L352\r\n\r\nIdeally we would combine the `TxPool()` and `syncService` subscriptions into one (which I'm currently trying to figure out)",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1061076257/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1061103319",
    "html_url": "https://github.com/ethereum-optimism/optimism/issues/2257#issuecomment-1061103319",
    "issue_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/2257",
    "id": 1061103319,
    "node_id": "IC_kwDODjvEJM4_PybX",
    "user": {
      "login": "qbzzt",
      "id": 12722969,
      "node_id": "MDQ6VXNlcjEyNzIyOTY5",
      "avatar_url": "https://avatars.githubusercontent.com/u/12722969?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/qbzzt",
      "html_url": "https://github.com/qbzzt",
      "followers_url": "https://api.github.com/users/qbzzt/followers",
      "following_url": "https://api.github.com/users/qbzzt/following{/other_user}",
      "gists_url": "https://api.github.com/users/qbzzt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/qbzzt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/qbzzt/subscriptions",
      "organizations_url": "https://api.github.com/users/qbzzt/orgs",
      "repos_url": "https://api.github.com/users/qbzzt/repos",
      "events_url": "https://api.github.com/users/qbzzt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/qbzzt/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-03-07T20:26:30Z",
    "updated_at": "2022-03-07T20:26:30Z",
    "author_association": "CONTRIBUTOR",
    "body": "> Another interesting discovery, if I swap out `TxPool()` for `syncService` in the following method, then my L2 transaction subscription works well:\r\n> \r\n> https://github.com/ethereum-optimism/optimism/blob/51a527b8e3fe69940fb8c0f5e4aa2e0ae8ee294c/l2geth/eth/api_backend.go#L352\r\n> \r\n> Ideally we would combine the `TxPool()` and `syncService` subscriptions into one (which I'm currently trying to figure out)\r\n\r\nThis makes sense. Currently there is just one sequencer, so there is no need for a transaction pool.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1061103319/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1061111030",
    "html_url": "https://github.com/ethereum-optimism/optimism/issues/2257#issuecomment-1061111030",
    "issue_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/2257",
    "id": 1061111030,
    "node_id": "IC_kwDODjvEJM4_P0T2",
    "user": {
      "login": "tynes",
      "id": 6626818,
      "node_id": "MDQ6VXNlcjY2MjY4MTg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6626818?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tynes",
      "html_url": "https://github.com/tynes",
      "followers_url": "https://api.github.com/users/tynes/followers",
      "following_url": "https://api.github.com/users/tynes/following{/other_user}",
      "gists_url": "https://api.github.com/users/tynes/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tynes/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tynes/subscriptions",
      "organizations_url": "https://api.github.com/users/tynes/orgs",
      "repos_url": "https://api.github.com/users/tynes/repos",
      "events_url": "https://api.github.com/users/tynes/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tynes/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-03-07T20:35:18Z",
    "updated_at": "2022-03-07T20:35:18Z",
    "author_association": "CONTRIBUTOR",
    "body": "In the existing architecture, there isn't a mempool so subscribing to pending transactions will not work. I see you have looked into the code and found out why. Perhaps you could subscribe to new head instead? \r\n\r\nIn the future we will be moving to a system that does have a mempool, so the web3 api should work 1:1",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1061111030/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1061134711",
    "html_url": "https://github.com/ethereum-optimism/optimism/issues/2257#issuecomment-1061134711",
    "issue_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/2257",
    "id": 1061134711,
    "node_id": "IC_kwDODjvEJM4_P6F3",
    "user": {
      "login": "paymog",
      "id": 1986950,
      "node_id": "MDQ6VXNlcjE5ODY5NTA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1986950?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/paymog",
      "html_url": "https://github.com/paymog",
      "followers_url": "https://api.github.com/users/paymog/followers",
      "following_url": "https://api.github.com/users/paymog/following{/other_user}",
      "gists_url": "https://api.github.com/users/paymog/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/paymog/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/paymog/subscriptions",
      "organizations_url": "https://api.github.com/users/paymog/orgs",
      "repos_url": "https://api.github.com/users/paymog/repos",
      "events_url": "https://api.github.com/users/paymog/events{/privacy}",
      "received_events_url": "https://api.github.com/users/paymog/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-03-07T21:04:37Z",
    "updated_at": "2022-03-07T21:04:37Z",
    "author_association": "NONE",
    "body": "Looks like subscribing to the new transactions on the sync service gets what I need. I've made a new filter which returns the entire transaction object as determined by the sync service. One new discovery is that when I try to send the entire transaction object over the wire to a client all the data comes through except for the hash. Here's an example of a subscription using `wscat`:\r\n\r\n```\r\n # ❮❮❮ wscat -c ws://localhost:8546\r\nConnected (press CTRL+C to quit)\r\n> {\"id\": 1, \"method\": \"eth_subscribe\", \"params\": [\"newAcceptedTransactions\"]}\r\n< {\"jsonrpc\":\"2.0\",\"id\":1,\"result\":\"0x2a2c16da483de16a3a093f9107cdc35f\"}\r\n\r\n< {\"jsonrpc\":\"2.0\",\"method\":\"eth_subscription\",\"params\":{\"subscription\":\"0x2a2c16da483de16a3a093f9107cdc35f\",\"result\":{\"nonce\":\"0x2\",\"gasPrice\":\"0x1\",\"gas\":\"0x1e8480\",\"to\":\"0x00000398232e2064f896018496b4b44b3d627511\",\"value\":\"0x64\",\"input\":\"0x\",\"v\":\"0x8a3\",\"r\":\"0xd874e1870361e44d936385423a69f89664a66dba96f8fc5aa6098ad1b18950e4\",\"s\":\"0x478fae4d1933ede3813891e6e58e81558ca7052e5ae35885f8568c6d748a4ccf\",\"hash\":null}}}\r\n```\r\n\r\nNote that `\"hash\":null` is being returned. I'm trying to figure out why this is and one idea I have is that `txDataMarshaling` does not have a `Hash` field: https://github.com/ethereum-optimism/optimism/blob/67146ed3db1a4a1a308afc3b86d5c92beba822e7/l2geth/core/types/transaction.go#L65-L74\r\n\r\nIs that it? Might there be some other reason?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1061134711/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1061165615",
    "html_url": "https://github.com/ethereum-optimism/optimism/issues/2257#issuecomment-1061165615",
    "issue_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/2257",
    "id": 1061165615,
    "node_id": "IC_kwDODjvEJM4_QBov",
    "user": {
      "login": "paymog",
      "id": 1986950,
      "node_id": "MDQ6VXNlcjE5ODY5NTA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1986950?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/paymog",
      "html_url": "https://github.com/paymog",
      "followers_url": "https://api.github.com/users/paymog/followers",
      "following_url": "https://api.github.com/users/paymog/following{/other_user}",
      "gists_url": "https://api.github.com/users/paymog/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/paymog/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/paymog/subscriptions",
      "organizations_url": "https://api.github.com/users/paymog/orgs",
      "repos_url": "https://api.github.com/users/paymog/repos",
      "events_url": "https://api.github.com/users/paymog/events{/privacy}",
      "received_events_url": "https://api.github.com/users/paymog/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-03-07T21:41:52Z",
    "updated_at": "2022-03-07T21:41:52Z",
    "author_association": "NONE",
    "body": "Here's a sample PR which demonstrates the issue above (where `hash` is empty for full transaction objects sent over the wire): https://github.com/paymog/optimism/pull/1",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1061165615/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
