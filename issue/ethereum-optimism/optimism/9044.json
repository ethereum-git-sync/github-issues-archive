{
  "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/9044",
  "repository_url": "https://api.github.com/repos/ethereum-optimism/optimism",
  "labels_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/9044/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/9044/comments",
  "events_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/9044/events",
  "html_url": "https://github.com/ethereum-optimism/optimism/issues/9044",
  "id": 2086710027,
  "node_id": "I_kwDODjvEJM58YKsL",
  "number": 9044,
  "title": "Getting error on op-geth and op-node when setting up OP archive node",
  "user": {
    "login": "danlix2000",
    "id": 51103503,
    "node_id": "MDQ6VXNlcjUxMTAzNTAz",
    "avatar_url": "https://avatars.githubusercontent.com/u/51103503?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/danlix2000",
    "html_url": "https://github.com/danlix2000",
    "followers_url": "https://api.github.com/users/danlix2000/followers",
    "following_url": "https://api.github.com/users/danlix2000/following{/other_user}",
    "gists_url": "https://api.github.com/users/danlix2000/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/danlix2000/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/danlix2000/subscriptions",
    "organizations_url": "https://api.github.com/users/danlix2000/orgs",
    "repos_url": "https://api.github.com/users/danlix2000/repos",
    "events_url": "https://api.github.com/users/danlix2000/events{/privacy}",
    "received_events_url": "https://api.github.com/users/danlix2000/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 0,
  "created_at": "2024-01-17T18:06:19Z",
  "updated_at": "2024-01-18T03:04:36Z",
  "closed_at": "2024-01-18T03:04:36Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "I downloaded the latest archive snapshots \r\n\r\n`https://datadirs.optimism.io/mainnet-2024-01-03.tar.zst`\r\n\r\nbelow are the errors \r\n\r\n**OP-geth error**\r\n\r\n```\r\n  geth[802120]: Fatal: Failed to register the Ethereum service: database contains incompatible genesis (have d4e56740f876aef8c010b86a40d5f56745a118d0906a34e69aec8c0db1cb8fa3, new 7ca38a1916c42007829c55e69d3e9a73265554b586a499015373241b8a3fa48b)\r\n\r\n```\r\n\r\n\r\nService file flags (I have separate l2geth ndoe too.)\r\n\r\n`ExecStart=/home/ubuntu/op-geth/build/bin/geth --datadir=/data/datadir --http --http.port=8545 --http.addr=0.0.0.0 --authrpc.addr=localhost --authrpc.jwtsecret=./jwt.txt --verbosity=3 --rollup.sequencerhttp=https://mainnet-sequencer.optimism.io/ --nodiscover --syncmode=full --maxpeers=0  --op-network=op-mainnet --rollup.historicalrpc=http://10.199.11.3:8546 --gcmode archive\r\n`\r\n\r\n\r\n**Op-node error**\r\n\r\n```\r\nl1_block_number=17,422,590 regolith_time=\"@ genesis\" canyon_time=\"@ 1704992401 ~ Thu Jan 11 17:00:01 UTC 2024\" delta_time=\"(not configured)\" eclipse_time=\"(not configured)\" fjord_time=\"(not configured)\" interop_time=\"(not configured)\"\r\n op-node[801494]: t=2024-01-17T16:51:03+0000 lvl=info msg=\"Initializing rollup node\" version=v0.0.0-f2229b8b-1703194093\r\n op-node[801494]: t=2024-01-17T16:51:04+0000 lvl=eror msg=\"Error initializing the rollup node\" err=\"failed to init L2: failed to get L2 genesis blockhash: failed to determine L2BlockRef of height 105235063, could not get payload: not found\"\r\n op-node[801494]: t=2024-01-17T16:51:04+0000 lvl=crit msg=\"Application failed\"                 message=\"failed to setup: unable to create the rollup node: failed to init L2: failed to get L2 genesis blockhash: failed to determine L2BlockRef of height 105235063, could not get payload: not found\"\r\n.\r\n```\r\n\r\n\r\n**Service file flags'**\r\n\r\n`ExecStart=/home/ubuntu/optimism/op-node/bin/op-node         --l1=https://ethereum.xxxx.xyz/ethmainnetnvl?apikey=xxxxxx         --l1.rpckind=basic         --l2=ws://localhost:8551         --l2.jwt-secret=./jwt.txt         --network=op-mainnet         --rpc.addr=0.0.0.0         --rpc.port=8547`\r\n\r\n\r\nplease advice ",
  "closed_by": {
    "login": "danlix2000",
    "id": 51103503,
    "node_id": "MDQ6VXNlcjUxMTAzNTAz",
    "avatar_url": "https://avatars.githubusercontent.com/u/51103503?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/danlix2000",
    "html_url": "https://github.com/danlix2000",
    "followers_url": "https://api.github.com/users/danlix2000/followers",
    "following_url": "https://api.github.com/users/danlix2000/following{/other_user}",
    "gists_url": "https://api.github.com/users/danlix2000/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/danlix2000/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/danlix2000/subscriptions",
    "organizations_url": "https://api.github.com/users/danlix2000/orgs",
    "repos_url": "https://api.github.com/users/danlix2000/repos",
    "events_url": "https://api.github.com/users/danlix2000/events{/privacy}",
    "received_events_url": "https://api.github.com/users/danlix2000/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/9044/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/9044/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[

]
