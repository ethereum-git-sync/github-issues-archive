{
  "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/1283",
  "repository_url": "https://api.github.com/repos/ethereum-optimism/optimism",
  "labels_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/1283/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/1283/comments",
  "events_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/1283/events",
  "html_url": "https://github.com/ethereum-optimism/optimism/issues/1283",
  "id": 947878133,
  "node_id": "MDU6SXNzdWU5NDc4NzgxMzM=",
  "number": 1283,
  "title": "Allow applications to cancel L2 => L1 messages",
  "user": {
    "login": "smartcontracts",
    "id": 14298799,
    "node_id": "MDQ6VXNlcjE0Mjk4Nzk5",
    "avatar_url": "https://avatars.githubusercontent.com/u/14298799?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/smartcontracts",
    "html_url": "https://github.com/smartcontracts",
    "followers_url": "https://api.github.com/users/smartcontracts/followers",
    "following_url": "https://api.github.com/users/smartcontracts/following{/other_user}",
    "gists_url": "https://api.github.com/users/smartcontracts/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/smartcontracts/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/smartcontracts/subscriptions",
    "organizations_url": "https://api.github.com/users/smartcontracts/orgs",
    "repos_url": "https://api.github.com/users/smartcontracts/repos",
    "events_url": "https://api.github.com/users/smartcontracts/events{/privacy}",
    "received_events_url": "https://api.github.com/users/smartcontracts/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 2907832555,
      "node_id": "MDU6TGFiZWwyOTA3ODMyNTU1",
      "url": "https://api.github.com/repos/ethereum-optimism/optimism/labels/C-feature-request",
      "name": "C-feature-request",
      "color": "C5DEF5",
      "default": false,
      "description": "Category: A feature request."
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 4,
  "created_at": "2021-07-19T17:38:23Z",
  "updated_at": "2022-03-25T15:14:18Z",
  "closed_at": "2022-03-25T15:14:18Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "<!--\r\nNeed help?\r\nRefer to our contributing guidelines for additional information about making a good issue:\r\nhttps://github.com/ethereum-optimism/.github/blob/master/CONTRIBUTING.md\r\n-->\r\n\r\n**Is your feature request related to a problem? Please describe.**\r\nI've seen several users ask in Discord about cancelling withdrawals once submitted. Currently, we do NOT support this as a feature. I'd like to see some solution(s) that make this possible.\r\n\r\n**Describe the solution you'd like**\r\nI can immediately come up with two potential solutions:\r\n1. Add some special function to the L1 side of the Standard Bridge that (1) blocks the L2 => L1 transaction and (2) sends an L1 => L2 transaction that tells the L2 bridge to release the funds. This is the \"blunt tool\" approach. It's relatively easy, but kinda ugly and forces the user to make an L1 transaction to block the transaction.\r\n2. Replace `OVM_L2ToL1MessagePasser.sentMessages` with another `mapping (bytes32 => uint8)` where the mapping is to an enum that describes the status of the message (\"sent\" or \"cancelled\"). Maybe the `OVM_L2ToL1MessagePasser` would allow the sender to change the status of the message within X amount of time and the message can only be relayed if the status is still \"sent\" after the challenge period. Something something, add X amount of time to the challenge period, something something. It definitely works but I haven't specced it out yet.",
  "closed_by": {
    "login": "smartcontracts",
    "id": 14298799,
    "node_id": "MDQ6VXNlcjE0Mjk4Nzk5",
    "avatar_url": "https://avatars.githubusercontent.com/u/14298799?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/smartcontracts",
    "html_url": "https://github.com/smartcontracts",
    "followers_url": "https://api.github.com/users/smartcontracts/followers",
    "following_url": "https://api.github.com/users/smartcontracts/following{/other_user}",
    "gists_url": "https://api.github.com/users/smartcontracts/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/smartcontracts/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/smartcontracts/subscriptions",
    "organizations_url": "https://api.github.com/users/smartcontracts/orgs",
    "repos_url": "https://api.github.com/users/smartcontracts/repos",
    "events_url": "https://api.github.com/users/smartcontracts/events{/privacy}",
    "received_events_url": "https://api.github.com/users/smartcontracts/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/1283/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/1283/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/885376680",
    "html_url": "https://github.com/ethereum-optimism/optimism/issues/1283#issuecomment-885376680",
    "issue_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/1283",
    "id": 885376680,
    "node_id": "IC_kwDODjvEJM40xcao",
    "user": {
      "login": "vaibhavchellani",
      "id": 19390504,
      "node_id": "MDQ6VXNlcjE5MzkwNTA0",
      "avatar_url": "https://avatars.githubusercontent.com/u/19390504?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vaibhavchellani",
      "html_url": "https://github.com/vaibhavchellani",
      "followers_url": "https://api.github.com/users/vaibhavchellani/followers",
      "following_url": "https://api.github.com/users/vaibhavchellani/following{/other_user}",
      "gists_url": "https://api.github.com/users/vaibhavchellani/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vaibhavchellani/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vaibhavchellani/subscriptions",
      "organizations_url": "https://api.github.com/users/vaibhavchellani/orgs",
      "repos_url": "https://api.github.com/users/vaibhavchellani/repos",
      "events_url": "https://api.github.com/users/vaibhavchellani/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vaibhavchellani/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-23T03:38:35Z",
    "updated_at": "2021-07-23T03:38:35Z",
    "author_association": "CONTRIBUTOR",
    "body": "This would increase the latency for L2->L1 communication, so selecting the delay interval carefully is important I think. Do you have a number in mind yet?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/885376680/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/886978051",
    "html_url": "https://github.com/ethereum-optimism/optimism/issues/1283#issuecomment-886978051",
    "issue_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/1283",
    "id": 886978051,
    "node_id": "IC_kwDODjvEJM403jYD",
    "user": {
      "login": "smartcontracts",
      "id": 14298799,
      "node_id": "MDQ6VXNlcjE0Mjk4Nzk5",
      "avatar_url": "https://avatars.githubusercontent.com/u/14298799?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/smartcontracts",
      "html_url": "https://github.com/smartcontracts",
      "followers_url": "https://api.github.com/users/smartcontracts/followers",
      "following_url": "https://api.github.com/users/smartcontracts/following{/other_user}",
      "gists_url": "https://api.github.com/users/smartcontracts/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/smartcontracts/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/smartcontracts/subscriptions",
      "organizations_url": "https://api.github.com/users/smartcontracts/orgs",
      "repos_url": "https://api.github.com/users/smartcontracts/repos",
      "events_url": "https://api.github.com/users/smartcontracts/events{/privacy}",
      "received_events_url": "https://api.github.com/users/smartcontracts/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-26T19:46:30Z",
    "updated_at": "2021-07-26T19:46:30Z",
    "author_association": "CONTRIBUTOR",
    "body": "> This would increase the latency for L2->L1 communication, so selecting the delay interval carefully is important I think. Do you have a number in mind yet?\r\n\r\nYeah it would definitely add latency. Generally I'm assuming that *if* users want to cancel an action they probably want to do it within a relatively short period of time (\"I didn't mean to submit that withdrawal!\"). So maybe something even as short as <1hr would work. Wdyt?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/886978051/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/888203824",
    "html_url": "https://github.com/ethereum-optimism/optimism/issues/1283#issuecomment-888203824",
    "issue_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/1283",
    "id": 888203824,
    "node_id": "IC_kwDODjvEJM408Oow",
    "user": {
      "login": "vaibhavchellani",
      "id": 19390504,
      "node_id": "MDQ6VXNlcjE5MzkwNTA0",
      "avatar_url": "https://avatars.githubusercontent.com/u/19390504?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vaibhavchellani",
      "html_url": "https://github.com/vaibhavchellani",
      "followers_url": "https://api.github.com/users/vaibhavchellani/followers",
      "following_url": "https://api.github.com/users/vaibhavchellani/following{/other_user}",
      "gists_url": "https://api.github.com/users/vaibhavchellani/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vaibhavchellani/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vaibhavchellani/subscriptions",
      "organizations_url": "https://api.github.com/users/vaibhavchellani/orgs",
      "repos_url": "https://api.github.com/users/vaibhavchellani/repos",
      "events_url": "https://api.github.com/users/vaibhavchellani/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vaibhavchellani/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-28T10:34:34Z",
    "updated_at": "2021-07-28T10:34:34Z",
    "author_association": "CONTRIBUTOR",
    "body": "So I come from a perspective of offering fast withdrawal services to end-users, what I think cross-domain use cases will need is finality guarantees i.e post a tx-batch on-chain as quickly as possible and do not change it.\r\n\r\nFrom here on its a comparison of \"how many users need fast withdraws\" and \"how many users need withdraw cancellations\"\r\n\r\nI believe more users need fast withdrawal services, but I am biased.\r\n\r\nIf we really want to add withdrawal cancellations, I would limit it to even shorter time durations i.e 15-30mins. Curious to wdyt? \r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/888203824/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/889159791",
    "html_url": "https://github.com/ethereum-optimism/optimism/issues/1283#issuecomment-889159791",
    "issue_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/1283",
    "id": 889159791,
    "node_id": "IC_kwDODjvEJM40_4Bv",
    "user": {
      "login": "smartcontracts",
      "id": 14298799,
      "node_id": "MDQ6VXNlcjE0Mjk4Nzk5",
      "avatar_url": "https://avatars.githubusercontent.com/u/14298799?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/smartcontracts",
      "html_url": "https://github.com/smartcontracts",
      "followers_url": "https://api.github.com/users/smartcontracts/followers",
      "following_url": "https://api.github.com/users/smartcontracts/following{/other_user}",
      "gists_url": "https://api.github.com/users/smartcontracts/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/smartcontracts/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/smartcontracts/subscriptions",
      "organizations_url": "https://api.github.com/users/smartcontracts/orgs",
      "repos_url": "https://api.github.com/users/smartcontracts/repos",
      "events_url": "https://api.github.com/users/smartcontracts/events{/privacy}",
      "received_events_url": "https://api.github.com/users/smartcontracts/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-29T13:48:28Z",
    "updated_at": "2021-07-29T13:48:49Z",
    "author_association": "CONTRIBUTOR",
    "body": "Yeah, I think you're actually correct. Fast withdrawals essentially make cancellations unnecessary. You can't cancel an L1 transaction, assuming you get the money pretty much right away on L1 after submitting a withdrawal then you won't be *too* upset about not being able to cancel the withdrawal. ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/889159791/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 1,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
