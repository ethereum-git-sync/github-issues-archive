{
  "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/6902",
  "repository_url": "https://api.github.com/repos/ethereum-optimism/optimism",
  "labels_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/6902/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/6902/comments",
  "events_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/6902/events",
  "html_url": "https://github.com/ethereum-optimism/optimism/issues/6902",
  "id": 1856305254,
  "node_id": "I_kwDODjvEJM5upPhm",
  "number": 6902,
  "title": "Fix safe head stuck for 1hour",
  "user": {
    "login": "nolanxyg",
    "id": 33241113,
    "node_id": "MDQ6VXNlcjMzMjQxMTEz",
    "avatar_url": "https://avatars.githubusercontent.com/u/33241113?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/nolanxyg",
    "html_url": "https://github.com/nolanxyg",
    "followers_url": "https://api.github.com/users/nolanxyg/followers",
    "following_url": "https://api.github.com/users/nolanxyg/following{/other_user}",
    "gists_url": "https://api.github.com/users/nolanxyg/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/nolanxyg/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/nolanxyg/subscriptions",
    "organizations_url": "https://api.github.com/users/nolanxyg/orgs",
    "repos_url": "https://api.github.com/users/nolanxyg/repos",
    "events_url": "https://api.github.com/users/nolanxyg/events{/privacy}",
    "received_events_url": "https://api.github.com/users/nolanxyg/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2023-08-18T08:37:18Z",
  "updated_at": "2023-09-06T08:39:07Z",
  "closed_at": null,
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "<!--\r\nNeed help?\r\nRefer to our contributing guidelines for additional information about making a good issue:\r\nhttps://github.com/ethereum-optimism/.github/blob/master/CONTRIBUTING.md\r\n-->\r\n\r\n**Is your feature request related to a problem? Please describe.**\r\n\r\nYes, safe head may stop increase for 1hour(==channelTimeOut), which is a problem to some DAPPs since they may require safe head increasing timely\r\n\r\nI found that the team already identified this issue: https://status.optimism.io/clkhjkmre549295iqomx3wh79jr \r\nand revealed that team is actively working on a fix.\r\n\r\n1. could the team describe more about the fix tech-plan? \r\n* plan-A: optimize op-node to support read multi-channels from channel queue \r\n* or plan-B: just optimize op-batcher to avoid submitting broken channel(some frame in channel is missed, which result to channel time out)\r\nplan-B seems can not fix the issue perfectly, if batcher submitted a frame, the tx is on-chain successfully but rpc client return error to batcher due to network issue, so batcher will submit it again, this duplicated frame may cause channel queue stuck for 1hour\r\n* or plan-C?\r\n\r\n2. when will this be fixed?\r\nthanks!\r\n\r\n\r\n",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/6902/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/6902/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1684219157",
    "html_url": "https://github.com/ethereum-optimism/optimism/issues/6902#issuecomment-1684219157",
    "issue_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/6902",
    "id": 1684219157,
    "node_id": "IC_kwDODjvEJM5kYyUV",
    "user": {
      "login": "tynes",
      "id": 6626818,
      "node_id": "MDQ6VXNlcjY2MjY4MTg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6626818?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tynes",
      "html_url": "https://github.com/tynes",
      "followers_url": "https://api.github.com/users/tynes/followers",
      "following_url": "https://api.github.com/users/tynes/following{/other_user}",
      "gists_url": "https://api.github.com/users/tynes/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tynes/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tynes/subscriptions",
      "organizations_url": "https://api.github.com/users/tynes/orgs",
      "repos_url": "https://api.github.com/users/tynes/repos",
      "events_url": "https://api.github.com/users/tynes/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tynes/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-08-18T17:26:47Z",
    "updated_at": "2023-08-18T17:26:47Z",
    "author_association": "CONTRIBUTOR",
    "body": "We would like to include a fix for this in the next network upgrade/hard fork. The idea would be that the next channel that is considered canonical is the first channel that closes rather than the first channel that is seen. Until then, the solution is plan B",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1684219157/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1707916120",
    "html_url": "https://github.com/ethereum-optimism/optimism/issues/6902#issuecomment-1707916120",
    "issue_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/6902",
    "id": 1707916120,
    "node_id": "IC_kwDODjvEJM5lzLtY",
    "user": {
      "login": "huihzhao",
      "id": 98204090,
      "node_id": "U_kgDOBdp5ug",
      "avatar_url": "https://avatars.githubusercontent.com/u/98204090?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/huihzhao",
      "html_url": "https://github.com/huihzhao",
      "followers_url": "https://api.github.com/users/huihzhao/followers",
      "following_url": "https://api.github.com/users/huihzhao/following{/other_user}",
      "gists_url": "https://api.github.com/users/huihzhao/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/huihzhao/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/huihzhao/subscriptions",
      "organizations_url": "https://api.github.com/users/huihzhao/orgs",
      "repos_url": "https://api.github.com/users/huihzhao/repos",
      "events_url": "https://api.github.com/users/huihzhao/events{/privacy}",
      "received_events_url": "https://api.github.com/users/huihzhao/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-09-06T08:39:07Z",
    "updated_at": "2023-09-06T08:39:07Z",
    "author_association": "NONE",
    "body": "@tynes do you have any consideration why Plan A is not good idea? want to hear more ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1707916120/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
