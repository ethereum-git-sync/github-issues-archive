{
  "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/6971",
  "repository_url": "https://api.github.com/repos/ethereum-optimism/optimism",
  "labels_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/6971/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/6971/comments",
  "events_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/6971/events",
  "html_url": "https://github.com/ethereum-optimism/optimism/issues/6971",
  "id": 1862949221,
  "node_id": "I_kwDODjvEJM5vClll",
  "number": 6971,
  "title": "Unknown field \"numDeployConfirmations\"",
  "user": {
    "login": "carletex",
    "id": 2486142,
    "node_id": "MDQ6VXNlcjI0ODYxNDI=",
    "avatar_url": "https://avatars.githubusercontent.com/u/2486142?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/carletex",
    "html_url": "https://github.com/carletex",
    "followers_url": "https://api.github.com/users/carletex/followers",
    "following_url": "https://api.github.com/users/carletex/following{/other_user}",
    "gists_url": "https://api.github.com/users/carletex/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/carletex/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/carletex/subscriptions",
    "organizations_url": "https://api.github.com/users/carletex/orgs",
    "repos_url": "https://api.github.com/users/carletex/repos",
    "events_url": "https://api.github.com/users/carletex/events{/privacy}",
    "received_events_url": "https://api.github.com/users/carletex/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2023-08-23T09:34:37Z",
  "updated_at": "2023-08-23T12:09:48Z",
  "closed_at": null,
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "I'm following the getting started guide https://stack.optimism.io/docs/build/getting-started/ to spin up my own OP Stack chain.\r\n\r\nEverything works great until the \"Generate the L2 config files\" section. When I run:\r\n\r\n```bash\r\ngo run cmd/main.go genesis l2 \\\r\n    --deploy-config ../packages/contracts-bedrock/deploy-config/getting-started.json \\\r\n    --deployment-dir ../packages/contracts-bedrock/deployments/getting-started/ \\\r\n    --outfile.l2 genesis.json \\\r\n    --outfile.rollup rollup.json \\\r\n    --l1-rpc **redacted**\r\n```\r\n\r\nI get the following error:\r\n\r\n```bash\r\nt=2023-08-23T09:29:16+0000 lvl=info msg=\"Deploy config\" path=../packages/contracts-bedrock/deploy-config/getting-started.json\r\nt=2023-08-23T09:29:16+0000 lvl=crit msg=\"Application failed\" message=\"cannot unmarshal deploy config: json: unknown field \\\"numDeployConfirmations\\\"\"\r\nexit status 1\r\n```\r\n\r\nIt seems that it doesn't like the `numDeployConfirmations` field in `contracts-bedrock/deploy-config/getting-started.json`. For testing purposes I removed it, and then I get:\r\n\r\n```bash\r\nt=2023-08-23T09:32:29+0000 lvl=info msg=\"Deploy config\" path=../packages/contracts-bedrock/deploy-config/getting-started.json\r\nt=2023-08-23T09:32:29+0000 lvl=info msg=\"Deployment directory\" path=../packages/contracts-bedrock/deployments/getting-started/\r\nt=2023-08-23T09:32:29+0000 lvl=warn msg=\"L2OutputOracleStartingBlockNumber is 0, should only be 0 for fresh chains\"\r\nt=2023-08-23T09:32:29+0000 lvl=crit msg=\"Application failed\"   message=\"L2 block time (2) is larger than L1 block time (0)\"\r\n\r\n```\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n1. Follow the getting started guide https://stack.optimism.io/docs/build/getting-started/\r\n2. Run the `go run cmd/main.go genesis l2` command\r\n3. See error\r\n\r\n**System Specs:**\r\n - OS:  Ubuntu 20.04 LTS\r\n - Package Version (or commit hash): 1736e83558e34cc8b03009136a8ed27bcc09d656\r\n\r\n---\r\n\r\nI might be missing something.\r\n\r\nThanks!\r\n\r\n",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/6971/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/6971/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1689807660",
    "html_url": "https://github.com/ethereum-optimism/optimism/issues/6971#issuecomment-1689807660",
    "issue_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/6971",
    "id": 1689807660,
    "node_id": "IC_kwDODjvEJM5kuGss",
    "user": {
      "login": "Aymen-Tirchi",
      "id": 103293477,
      "node_id": "U_kgDOBigiJQ",
      "avatar_url": "https://avatars.githubusercontent.com/u/103293477?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Aymen-Tirchi",
      "html_url": "https://github.com/Aymen-Tirchi",
      "followers_url": "https://api.github.com/users/Aymen-Tirchi/followers",
      "following_url": "https://api.github.com/users/Aymen-Tirchi/following{/other_user}",
      "gists_url": "https://api.github.com/users/Aymen-Tirchi/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Aymen-Tirchi/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Aymen-Tirchi/subscriptions",
      "organizations_url": "https://api.github.com/users/Aymen-Tirchi/orgs",
      "repos_url": "https://api.github.com/users/Aymen-Tirchi/repos",
      "events_url": "https://api.github.com/users/Aymen-Tirchi/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Aymen-Tirchi/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-08-23T11:40:06Z",
    "updated_at": "2023-08-23T11:40:06Z",
    "author_association": "NONE",
    "body": "- I was having the same issue I removed the `numDeployConfirmations` from `getting-started.json` I got another issue which is : \r\n```\r\nt=2023-08-23T12:29:29+0100 lvl=info msg=\"Deploy config\" path=../packages/contracts-bedrock/deploy-config/getting-started.json\r\nt=2023-08-23T12:29:29+0100 lvl=crit msg=\"Application failed\" message=\"cannot unmarshal deploy config: json: unknown field \\\"controller\\\"\"\r\n```\r\nso I also removed `controller` and it works \r\n- to solve the `L2 block time (2) is larger than L1 block time (0)` issue\r\nadd this `\"l1BlockTime\": 12,` to your `getting-started.json`",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1689807660/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1689847621",
    "html_url": "https://github.com/ethereum-optimism/optimism/issues/6971#issuecomment-1689847621",
    "issue_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/6971",
    "id": 1689847621,
    "node_id": "IC_kwDODjvEJM5kuQdF",
    "user": {
      "login": "deanrubin",
      "id": 16443050,
      "node_id": "MDQ6VXNlcjE2NDQzMDUw",
      "avatar_url": "https://avatars.githubusercontent.com/u/16443050?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/deanrubin",
      "html_url": "https://github.com/deanrubin",
      "followers_url": "https://api.github.com/users/deanrubin/followers",
      "following_url": "https://api.github.com/users/deanrubin/following{/other_user}",
      "gists_url": "https://api.github.com/users/deanrubin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/deanrubin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/deanrubin/subscriptions",
      "organizations_url": "https://api.github.com/users/deanrubin/orgs",
      "repos_url": "https://api.github.com/users/deanrubin/repos",
      "events_url": "https://api.github.com/users/deanrubin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/deanrubin/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-08-23T12:09:48Z",
    "updated_at": "2023-08-23T12:09:48Z",
    "author_association": "NONE",
    "body": "I have the same issue as-well",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1689847621/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
