{
  "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/5983",
  "repository_url": "https://api.github.com/repos/ethereum-optimism/optimism",
  "labels_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/5983/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/5983/comments",
  "events_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/5983/events",
  "html_url": "https://github.com/ethereum-optimism/optimism/issues/5983",
  "id": 1750949748,
  "node_id": "I_kwDODjvEJM5oXV90",
  "number": 5983,
  "title": "CrossChainMessenger: Support multiple withdrawals",
  "user": {
    "login": "nicholaspai",
    "id": 9457025,
    "node_id": "MDQ6VXNlcjk0NTcwMjU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/9457025?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/nicholaspai",
    "html_url": "https://github.com/nicholaspai",
    "followers_url": "https://api.github.com/users/nicholaspai/followers",
    "following_url": "https://api.github.com/users/nicholaspai/following{/other_user}",
    "gists_url": "https://api.github.com/users/nicholaspai/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/nicholaspai/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/nicholaspai/subscriptions",
    "organizations_url": "https://api.github.com/users/nicholaspai/orgs",
    "repos_url": "https://api.github.com/users/nicholaspai/repos",
    "events_url": "https://api.github.com/users/nicholaspai/events{/privacy}",
    "received_events_url": "https://api.github.com/users/nicholaspai/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 2907832555,
      "node_id": "MDU6TGFiZWwyOTA3ODMyNTU1",
      "url": "https://api.github.com/repos/ethereum-optimism/optimism/labels/C-feature-request",
      "name": "C-feature-request",
      "color": "C5DEF5",
      "default": false,
      "description": "Category: A feature request."
    },
    {
      "id": 3662935689,
      "node_id": "LA_kwDODjvEJM7aU_aJ",
      "url": "https://api.github.com/repos/ethereum-optimism/optimism/labels/M-sdk",
      "name": "M-sdk",
      "color": "FBCA04",
      "default": false,
      "description": "Module: sdk"
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": {
    "login": "roninjin10",
    "id": 35039927,
    "node_id": "MDQ6VXNlcjM1MDM5OTI3",
    "avatar_url": "https://avatars.githubusercontent.com/u/35039927?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/roninjin10",
    "html_url": "https://github.com/roninjin10",
    "followers_url": "https://api.github.com/users/roninjin10/followers",
    "following_url": "https://api.github.com/users/roninjin10/following{/other_user}",
    "gists_url": "https://api.github.com/users/roninjin10/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/roninjin10/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/roninjin10/subscriptions",
    "organizations_url": "https://api.github.com/users/roninjin10/orgs",
    "repos_url": "https://api.github.com/users/roninjin10/repos",
    "events_url": "https://api.github.com/users/roninjin10/events{/privacy}",
    "received_events_url": "https://api.github.com/users/roninjin10/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "roninjin10",
      "id": 35039927,
      "node_id": "MDQ6VXNlcjM1MDM5OTI3",
      "avatar_url": "https://avatars.githubusercontent.com/u/35039927?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/roninjin10",
      "html_url": "https://github.com/roninjin10",
      "followers_url": "https://api.github.com/users/roninjin10/followers",
      "following_url": "https://api.github.com/users/roninjin10/following{/other_user}",
      "gists_url": "https://api.github.com/users/roninjin10/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/roninjin10/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/roninjin10/subscriptions",
      "organizations_url": "https://api.github.com/users/roninjin10/orgs",
      "repos_url": "https://api.github.com/users/roninjin10/repos",
      "events_url": "https://api.github.com/users/roninjin10/events{/privacy}",
      "received_events_url": "https://api.github.com/users/roninjin10/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 12,
  "created_at": "2023-06-10T12:24:29Z",
  "updated_at": "2023-06-17T02:14:45Z",
  "closed_at": null,
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "<!--\r\nNeed help?\r\nRefer to our contributing guidelines for additional information about making a good issue:\r\nhttps://github.com/ethereum-optimism/.github/blob/master/CONTRIBUTING.md\r\n-->\r\n\r\n**Describe the bug**\r\nThe CrossChainMessenger is [known to not support multiple withdrawals](https://github.com/ethereum-optimism/optimism/blob/develop/packages/sdk/src/cross-chain-messenger.ts#L432). This creates a problem for use cases like Bridges that often do have these sorts of L2 transactions containing multiple withdrawals.\r\n\r\n**To Reproduce**\r\nExample [L2 txn](https://optimistic.etherscan.io/tx/0xd73f0cdf499830f2919f3009cee35611abf5a01842c4eed0e8c2493a00969a5b)\r\n\r\n**Expected behavior**\r\n```\r\nError: multiple withdrawals found in receipt\r\n    at CrossChainMessenger.toLowLevelMessage (/Users/nicholaspai/UMA/relayer-v2/node_modules/@eth-optimism/sdk/src/cross-chain-messenger.ts:439:15)\r\n    at runMicrotasks (<anonymous>)\r\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\r\n    at async CrossChainMessenger.getMessageStatus (/Users/nicholaspai/UMA/relayer-v2/node_modules/@eth-optimism/sdk/src/cross-chain-messenger.ts:668:30)\r\n```\r\n\r\n**System Specs:**\r\n - Package Version (or commit hash): `\"@eth-optimism/sdk\": \"^2.1.0\"`\r\n",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/5983/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/5983/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1587476711",
    "html_url": "https://github.com/ethereum-optimism/optimism/issues/5983#issuecomment-1587476711",
    "issue_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/5983",
    "id": 1587476711,
    "node_id": "IC_kwDODjvEJM5envjn",
    "user": {
      "login": "nicholaspai",
      "id": 9457025,
      "node_id": "MDQ6VXNlcjk0NTcwMjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9457025?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nicholaspai",
      "html_url": "https://github.com/nicholaspai",
      "followers_url": "https://api.github.com/users/nicholaspai/followers",
      "following_url": "https://api.github.com/users/nicholaspai/following{/other_user}",
      "gists_url": "https://api.github.com/users/nicholaspai/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nicholaspai/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nicholaspai/subscriptions",
      "organizations_url": "https://api.github.com/users/nicholaspai/orgs",
      "repos_url": "https://api.github.com/users/nicholaspai/repos",
      "events_url": "https://api.github.com/users/nicholaspai/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nicholaspai/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-06-12T14:35:36Z",
    "updated_at": "2023-06-12T14:35:36Z",
    "author_association": "NONE",
    "body": "I think one way to fix this is to add a `logIndex: Number` parameter to some of the `CrossChainMessenger` functions to pick out the withdrawal message from the transaction receipt https://github.com/across-protocol/optimism/commit/2bbdb4dc69d8b563b14fdc498f68ef9e71dc71e1#diff-77164cc5c071d1488e1cf72c0f91fdd99dd8976edb5004c83198bbd517039572",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1587476711/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1588001706",
    "html_url": "https://github.com/ethereum-optimism/optimism/issues/5983#issuecomment-1588001706",
    "issue_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/5983",
    "id": 1588001706,
    "node_id": "IC_kwDODjvEJM5epvuq",
    "user": {
      "login": "annieke",
      "id": 15117059,
      "node_id": "MDQ6VXNlcjE1MTE3MDU5",
      "avatar_url": "https://avatars.githubusercontent.com/u/15117059?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/annieke",
      "html_url": "https://github.com/annieke",
      "followers_url": "https://api.github.com/users/annieke/followers",
      "following_url": "https://api.github.com/users/annieke/following{/other_user}",
      "gists_url": "https://api.github.com/users/annieke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/annieke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/annieke/subscriptions",
      "organizations_url": "https://api.github.com/users/annieke/orgs",
      "repos_url": "https://api.github.com/users/annieke/repos",
      "events_url": "https://api.github.com/users/annieke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/annieke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-06-12T20:03:11Z",
    "updated_at": "2023-06-12T20:03:11Z",
    "author_association": "CONTRIBUTOR",
    "body": "hi, we're aware of this issue and are looking to ship a fix in ~a week! thank you for the report",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1588001706/reactions",
      "total_count": 2,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 2,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1589366897",
    "html_url": "https://github.com/ethereum-optimism/optimism/issues/5983#issuecomment-1589366897",
    "issue_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/5983",
    "id": 1589366897,
    "node_id": "IC_kwDODjvEJM5eu9Bx",
    "user": {
      "login": "roninjin10",
      "id": 35039927,
      "node_id": "MDQ6VXNlcjM1MDM5OTI3",
      "avatar_url": "https://avatars.githubusercontent.com/u/35039927?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/roninjin10",
      "html_url": "https://github.com/roninjin10",
      "followers_url": "https://api.github.com/users/roninjin10/followers",
      "following_url": "https://api.github.com/users/roninjin10/following{/other_user}",
      "gists_url": "https://api.github.com/users/roninjin10/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/roninjin10/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/roninjin10/subscriptions",
      "organizations_url": "https://api.github.com/users/roninjin10/orgs",
      "repos_url": "https://api.github.com/users/roninjin10/repos",
      "events_url": "https://api.github.com/users/roninjin10/events{/privacy}",
      "received_events_url": "https://api.github.com/users/roninjin10/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-06-13T13:54:34Z",
    "updated_at": "2023-06-13T13:54:34Z",
    "author_association": "CONTRIBUTOR",
    "body": "> [](https://github.com/across-protocol/optimism/commit/2bbdb4dc69d8b563b14fdc498f68ef9e71dc71e1#diff-77164cc5c071d1488e1cf72c0f91fdd99dd8976edb5004c83198bbd517039572)\r\n\r\nThis would work but we will get something clean out for ya'll",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1589366897/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 1,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1591880321",
    "html_url": "https://github.com/ethereum-optimism/optimism/issues/5983#issuecomment-1591880321",
    "issue_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/5983",
    "id": 1591880321,
    "node_id": "IC_kwDODjvEJM5e4iqB",
    "user": {
      "login": "nicholaspai",
      "id": 9457025,
      "node_id": "MDQ6VXNlcjk0NTcwMjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9457025?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nicholaspai",
      "html_url": "https://github.com/nicholaspai",
      "followers_url": "https://api.github.com/users/nicholaspai/followers",
      "following_url": "https://api.github.com/users/nicholaspai/following{/other_user}",
      "gists_url": "https://api.github.com/users/nicholaspai/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nicholaspai/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nicholaspai/subscriptions",
      "organizations_url": "https://api.github.com/users/nicholaspai/orgs",
      "repos_url": "https://api.github.com/users/nicholaspai/repos",
      "events_url": "https://api.github.com/users/nicholaspai/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nicholaspai/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-06-14T19:49:03Z",
    "updated_at": "2023-06-14T20:15:28Z",
    "author_association": "NONE",
    "body": "> > \r\n> \r\n> This would work but we will get something clean out for ya'll\r\n\r\ncc @annieke it also seems there is an additional bug that finalized withdrawals are not getting marked with the correct `RELAYED` status\r\n\r\nI've been able to manually finalize withdrawals locally but I don't see the status updated in the SDK's `getMessageStatus` method\r\n\r\nExample L2 withdrawal:\r\n- https://optimistic.etherscan.io/tx/0xda9e9c8dfc7718bc1499e1e64d8df6cddbabc46e819475a6c755db286a41b9fa\r\n\r\nL1 finalization: \r\n- https://etherscan.io/tx/0x9bc7b3a1056d4a2829ea253e290877fb25d61f07153b638767d2bb8d44e520d3\r\n\r\nPerhaps because these are pre-bedrock?\r\n\r\nUPDATE:\r\n- I've confirmed that these errors are only showing up on pre bedrock withdrawal. I have yet to finalize a post bedrock withdrawal yet so I will know soon",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1591880321/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1593520066",
    "html_url": "https://github.com/ethereum-optimism/optimism/issues/5983#issuecomment-1593520066",
    "issue_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/5983",
    "id": 1593520066,
    "node_id": "IC_kwDODjvEJM5e-y_C",
    "user": {
      "login": "roninjin10",
      "id": 35039927,
      "node_id": "MDQ6VXNlcjM1MDM5OTI3",
      "avatar_url": "https://avatars.githubusercontent.com/u/35039927?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/roninjin10",
      "html_url": "https://github.com/roninjin10",
      "followers_url": "https://api.github.com/users/roninjin10/followers",
      "following_url": "https://api.github.com/users/roninjin10/following{/other_user}",
      "gists_url": "https://api.github.com/users/roninjin10/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/roninjin10/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/roninjin10/subscriptions",
      "organizations_url": "https://api.github.com/users/roninjin10/orgs",
      "repos_url": "https://api.github.com/users/roninjin10/repos",
      "events_url": "https://api.github.com/users/roninjin10/events{/privacy}",
      "received_events_url": "https://api.github.com/users/roninjin10/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-06-15T18:10:05Z",
    "updated_at": "2023-06-15T18:10:05Z",
    "author_association": "CONTRIBUTOR",
    "body": "Hey @nicholaspai, small update.   Based on my investigation of the SDK the \"cleaner solution\" I was hoping to do is a little too risky of a refactor to do as it might cause regressions.   I am currently going with the idea you suggested where you would pass in a `withdrawaIndex`.   By using `populateTransaction` you would be able to aggregate them into a multicall.   The work is being done in this pr https://github.com/ethereum-optimism/optimism/pull/6024 and should be released soon",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1593520066/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1593522170",
    "html_url": "https://github.com/ethereum-optimism/optimism/issues/5983#issuecomment-1593522170",
    "issue_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/5983",
    "id": 1593522170,
    "node_id": "IC_kwDODjvEJM5e-zf6",
    "user": {
      "login": "roninjin10",
      "id": 35039927,
      "node_id": "MDQ6VXNlcjM1MDM5OTI3",
      "avatar_url": "https://avatars.githubusercontent.com/u/35039927?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/roninjin10",
      "html_url": "https://github.com/roninjin10",
      "followers_url": "https://api.github.com/users/roninjin10/followers",
      "following_url": "https://api.github.com/users/roninjin10/following{/other_user}",
      "gists_url": "https://api.github.com/users/roninjin10/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/roninjin10/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/roninjin10/subscriptions",
      "organizations_url": "https://api.github.com/users/roninjin10/orgs",
      "repos_url": "https://api.github.com/users/roninjin10/repos",
      "events_url": "https://api.github.com/users/roninjin10/events{/privacy}",
      "received_events_url": "https://api.github.com/users/roninjin10/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-06-15T18:11:54Z",
    "updated_at": "2023-06-15T18:11:54Z",
    "author_association": "CONTRIBUTOR",
    "body": "@nicholaspai regarding the finalization issue you mentioned, prebedrock withdrawals are getting correct message status in our production code atm.    I will test it out myself to try to repro with the withdrawal you shared",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1593522170/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1593523250",
    "html_url": "https://github.com/ethereum-optimism/optimism/issues/5983#issuecomment-1593523250",
    "issue_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/5983",
    "id": 1593523250,
    "node_id": "IC_kwDODjvEJM5e-zwy",
    "user": {
      "login": "nicholaspai",
      "id": 9457025,
      "node_id": "MDQ6VXNlcjk0NTcwMjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9457025?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nicholaspai",
      "html_url": "https://github.com/nicholaspai",
      "followers_url": "https://api.github.com/users/nicholaspai/followers",
      "following_url": "https://api.github.com/users/nicholaspai/following{/other_user}",
      "gists_url": "https://api.github.com/users/nicholaspai/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nicholaspai/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nicholaspai/subscriptions",
      "organizations_url": "https://api.github.com/users/nicholaspai/orgs",
      "repos_url": "https://api.github.com/users/nicholaspai/repos",
      "events_url": "https://api.github.com/users/nicholaspai/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nicholaspai/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-06-15T18:12:55Z",
    "updated_at": "2023-06-15T18:12:55Z",
    "author_association": "NONE",
    "body": "> Hey @nicholaspai, small update. Based on my investigation of the SDK the \"cleaner solution\" I was hoping to do is a little too risky of a refactor to do as it might cause regressions. I am currently going with the idea you suggested where you would pass in a `withdrawaIndex`. By using `populateTransaction` you would be able to aggregate them into a multicall. The work is being done in this pr #6024 and should be released soon\r\n\r\nNice thanks. Curious what do you think of the `MESSAGE_STATUS` bug I think exists ([comment](https://github.com/ethereum-optimism/optimism/issues/5983#issuecomment-1591880321) for pre Bedrock withdrawals?\r\n\r\nIt's a bit annoying to have to fix since these withdrawals shouldn't grow over time but there might be some other dApps/deves who run into that bug? We were able to manually withdraw the pre bedrock withdrawals and added some logic to just ignore those withdrawals.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1593523250/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1593552060",
    "html_url": "https://github.com/ethereum-optimism/optimism/issues/5983#issuecomment-1593552060",
    "issue_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/5983",
    "id": 1593552060,
    "node_id": "IC_kwDODjvEJM5e-6y8",
    "user": {
      "login": "roninjin10",
      "id": 35039927,
      "node_id": "MDQ6VXNlcjM1MDM5OTI3",
      "avatar_url": "https://avatars.githubusercontent.com/u/35039927?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/roninjin10",
      "html_url": "https://github.com/roninjin10",
      "followers_url": "https://api.github.com/users/roninjin10/followers",
      "following_url": "https://api.github.com/users/roninjin10/following{/other_user}",
      "gists_url": "https://api.github.com/users/roninjin10/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/roninjin10/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/roninjin10/subscriptions",
      "organizations_url": "https://api.github.com/users/roninjin10/orgs",
      "repos_url": "https://api.github.com/users/roninjin10/repos",
      "events_url": "https://api.github.com/users/roninjin10/events{/privacy}",
      "received_events_url": "https://api.github.com/users/roninjin10/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-06-15T18:37:47Z",
    "updated_at": "2023-06-15T18:37:47Z",
    "author_association": "CONTRIBUTOR",
    "body": "Yea we will have to repro because all of our legacy withdrawals are working.    My only guess is that it requires the combination of being both a multicall and a legacy withdrawal to repro but I will try to repro today",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1593552060/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1593580717",
    "html_url": "https://github.com/ethereum-optimism/optimism/issues/5983#issuecomment-1593580717",
    "issue_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/5983",
    "id": 1593580717,
    "node_id": "IC_kwDODjvEJM5e_Byt",
    "user": {
      "login": "nicholaspai",
      "id": 9457025,
      "node_id": "MDQ6VXNlcjk0NTcwMjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9457025?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nicholaspai",
      "html_url": "https://github.com/nicholaspai",
      "followers_url": "https://api.github.com/users/nicholaspai/followers",
      "following_url": "https://api.github.com/users/nicholaspai/following{/other_user}",
      "gists_url": "https://api.github.com/users/nicholaspai/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nicholaspai/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nicholaspai/subscriptions",
      "organizations_url": "https://api.github.com/users/nicholaspai/orgs",
      "repos_url": "https://api.github.com/users/nicholaspai/repos",
      "events_url": "https://api.github.com/users/nicholaspai/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nicholaspai/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-06-15T19:02:55Z",
    "updated_at": "2023-06-15T19:02:55Z",
    "author_association": "NONE",
    "body": "> Yea we will have to repro because all of our legacy withdrawals are working. My only guess is that it requires the combination of being both a multicall and a legacy withdrawal to repro but I will try to repro today\r\n\r\noh yeah the legacy withdrawal works, the status is just not set correctly from `READY_TO_RELAY` to `RELAYED`",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1593580717/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1593736392",
    "html_url": "https://github.com/ethereum-optimism/optimism/issues/5983#issuecomment-1593736392",
    "issue_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/5983",
    "id": 1593736392,
    "node_id": "IC_kwDODjvEJM5e_nzI",
    "user": {
      "login": "roninjin10",
      "id": 35039927,
      "node_id": "MDQ6VXNlcjM1MDM5OTI3",
      "avatar_url": "https://avatars.githubusercontent.com/u/35039927?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/roninjin10",
      "html_url": "https://github.com/roninjin10",
      "followers_url": "https://api.github.com/users/roninjin10/followers",
      "following_url": "https://api.github.com/users/roninjin10/following{/other_user}",
      "gists_url": "https://api.github.com/users/roninjin10/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/roninjin10/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/roninjin10/subscriptions",
      "organizations_url": "https://api.github.com/users/roninjin10/orgs",
      "repos_url": "https://api.github.com/users/roninjin10/repos",
      "events_url": "https://api.github.com/users/roninjin10/events{/privacy}",
      "received_events_url": "https://api.github.com/users/roninjin10/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-06-15T21:18:33Z",
    "updated_at": "2023-06-15T21:18:49Z",
    "author_association": "CONTRIBUTOR",
    "body": "Right on our end this sdk method is returning RELAYED correctly (haven't tested your withdrawal yet will in a bit)",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1593736392/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 1
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1594207951",
    "html_url": "https://github.com/ethereum-optimism/optimism/issues/5983#issuecomment-1594207951",
    "issue_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/5983",
    "id": 1594207951,
    "node_id": "IC_kwDODjvEJM5fBa7P",
    "user": {
      "login": "roninjin10",
      "id": 35039927,
      "node_id": "MDQ6VXNlcjM1MDM5OTI3",
      "avatar_url": "https://avatars.githubusercontent.com/u/35039927?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/roninjin10",
      "html_url": "https://github.com/roninjin10",
      "followers_url": "https://api.github.com/users/roninjin10/followers",
      "following_url": "https://api.github.com/users/roninjin10/following{/other_user}",
      "gists_url": "https://api.github.com/users/roninjin10/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/roninjin10/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/roninjin10/subscriptions",
      "organizations_url": "https://api.github.com/users/roninjin10/orgs",
      "repos_url": "https://api.github.com/users/roninjin10/repos",
      "events_url": "https://api.github.com/users/roninjin10/events{/privacy}",
      "received_events_url": "https://api.github.com/users/roninjin10/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-06-16T07:03:57Z",
    "updated_at": "2023-06-16T07:45:46Z",
    "author_association": "CONTRIBUTOR",
    "body": "@nicholaspai thanks for the second report!  I have reproed on your withdrawals but also on testnet.   This is a regression.  You were correct and I was wrong because this issue affects ALL legacy withdrawals.  We'll get a fix in for both issues in asap.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1594207951/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 1,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1595580937",
    "html_url": "https://github.com/ethereum-optimism/optimism/issues/5983#issuecomment-1595580937",
    "issue_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/5983",
    "id": 1595580937,
    "node_id": "IC_kwDODjvEJM5fGqIJ",
    "user": {
      "login": "roninjin10",
      "id": 35039927,
      "node_id": "MDQ6VXNlcjM1MDM5OTI3",
      "avatar_url": "https://avatars.githubusercontent.com/u/35039927?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/roninjin10",
      "html_url": "https://github.com/roninjin10",
      "followers_url": "https://api.github.com/users/roninjin10/followers",
      "following_url": "https://api.github.com/users/roninjin10/following{/other_user}",
      "gists_url": "https://api.github.com/users/roninjin10/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/roninjin10/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/roninjin10/subscriptions",
      "organizations_url": "https://api.github.com/users/roninjin10/orgs",
      "repos_url": "https://api.github.com/users/roninjin10/repos",
      "events_url": "https://api.github.com/users/roninjin10/events{/privacy}",
      "received_events_url": "https://api.github.com/users/roninjin10/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-06-17T02:14:45Z",
    "updated_at": "2023-06-17T02:14:45Z",
    "author_association": "CONTRIBUTOR",
    "body": "hey @nicholaspai, I got both fixes in. So you don't have to wait for our normal release you can `npm install @eth-optimism/sdk@0.0.0-20230617021031` to use the version of the sdk with the fixes in it right away.  We should have an official release sometime next week.\r\n\r\nHave a great weekend!",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1595580937/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
