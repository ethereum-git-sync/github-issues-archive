{
  "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/8614",
  "repository_url": "https://api.github.com/repos/ethereum-optimism/optimism",
  "labels_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/8614/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/8614/comments",
  "events_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/8614/events",
  "html_url": "https://github.com/ethereum-optimism/optimism/issues/8614",
  "id": 2040848588,
  "node_id": "I_kwDODjvEJM55pODM",
  "number": 8614,
  "title": "Cannot find `op-stack-go:devnet` image when running local chain",
  "user": {
    "login": "boundless-forest",
    "id": 11801722,
    "node_id": "MDQ6VXNlcjExODAxNzIy",
    "avatar_url": "https://avatars.githubusercontent.com/u/11801722?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/boundless-forest",
    "html_url": "https://github.com/boundless-forest",
    "followers_url": "https://api.github.com/users/boundless-forest/followers",
    "following_url": "https://api.github.com/users/boundless-forest/following{/other_user}",
    "gists_url": "https://api.github.com/users/boundless-forest/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/boundless-forest/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/boundless-forest/subscriptions",
    "organizations_url": "https://api.github.com/users/boundless-forest/orgs",
    "repos_url": "https://api.github.com/users/boundless-forest/repos",
    "events_url": "https://api.github.com/users/boundless-forest/events{/privacy}",
    "received_events_url": "https://api.github.com/users/boundless-forest/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 2907832490,
      "node_id": "MDU6TGFiZWwyOTA3ODMyNDkw",
      "url": "https://api.github.com/repos/ethereum-optimism/optimism/labels/C-bug",
      "name": "C-bug",
      "color": "C5DEF5",
      "default": false,
      "description": "Category: bugs"
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 4,
  "created_at": "2023-12-14T03:44:00Z",
  "updated_at": "2023-12-20T13:41:40Z",
  "closed_at": null,
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "I want to run a local development environment following the https://docs.optimism.io/chain/testing/dev-node guide.  After typing `make devnet-up`, run into the error:\r\n\r\n```sh\r\n#15 [ops-bedrock_l2 internal] load metadata for us-docker.pkg.dev/oplabs-tools-artifacts/images/op-geth:optimism\r\n#15 CANCELED\r\n------\r\n > [us-docker.pkg.dev/oplabs-tools-artifacts/images/op-proposer:devnet internal] load metadata for us-docker.pkg.dev/oplabs-tools-artifacts/images/op-stack-go:devnet:\r\n------\r\nfailed to solve: us-docker.pkg.dev/oplabs-tools-artifacts/images/op-stack-go:devnet: us-docker.pkg.dev/oplabs-tools-artifacts/images/op-stack-go:devnet: not found\r\nTraceback (most recent call last):\r\n  File \"/home/bear/coding/rust-space/optimism/./bedrock-devnet/main.py\", line 9, in <module>\r\n    main()\r\n  File \"/home/bear/coding/rust-space/optimism/./bedrock-devnet/main.py\", line 5, in main\r\n    devnet.main()\r\n  File \"/home/bear/coding/rust-space/optimism/bedrock-devnet/devnet/__init__.py\", line 109, in main\r\n    run_command(['docker', 'compose', 'build', '--progress', 'plain',\r\n  File \"/home/bear/coding/rust-space/optimism/bedrock-devnet/devnet/__init__.py\", line 392, in run_command\r\n    return subprocess.run(\r\n  File \"/usr/lib/python3.10/subprocess.py\", line 526, in run\r\n    raise CalledProcessError(retcode, process.args,\r\nsubprocess.CalledProcessError: Command '['docker', 'compose', 'build', '--progress', 'plain', '--build-arg', 'GIT_COMMIT=5fb16e2fb07b25212c2b2ae08d246642240f9fd6', '--build-arg', 'GIT_DATE=1702436055']' returned non-zero exit status 17.\r\nmake: *** [Makefile:124: devnet-up] Error 1\r\n```\r\nIt seems that there is no such an image called `op-stack-go:devnet` anymore in the https://console.cloud.google.com/artifacts/docker/oplabs-tools-artifacts/us/images. Any insight from the maintainers of this repo?\r\n",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/8614/reactions",
    "total_count": 1,
    "+1": 1,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/8614/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1855428024",
    "html_url": "https://github.com/ethereum-optimism/optimism/issues/8614#issuecomment-1855428024",
    "issue_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/8614",
    "id": 1855428024,
    "node_id": "IC_kwDODjvEJM5ul5W4",
    "user": {
      "login": "sveitser",
      "id": 1040871,
      "node_id": "MDQ6VXNlcjEwNDA4NzE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1040871?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sveitser",
      "html_url": "https://github.com/sveitser",
      "followers_url": "https://api.github.com/users/sveitser/followers",
      "following_url": "https://api.github.com/users/sveitser/following{/other_user}",
      "gists_url": "https://api.github.com/users/sveitser/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sveitser/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sveitser/subscriptions",
      "organizations_url": "https://api.github.com/users/sveitser/orgs",
      "repos_url": "https://api.github.com/users/sveitser/repos",
      "events_url": "https://api.github.com/users/sveitser/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sveitser/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-12-14T08:51:03Z",
    "updated_at": "2023-12-14T08:53:10Z",
    "author_association": "CONTRIBUTOR",
    "body": "I\"m also affected. What seems even weirder to me is that building the missing image locally doesn't seem to help either.\r\n\r\nRunning the following from https://github.com/ethereum-optimism/optimism/blob/develop/CONTRIBUTING.md#building-the-rest-of-the-system\r\n\r\n```\r\ncd ops-bedrock\r\nexport COMPOSE_DOCKER_CLI_BUILD=1\r\nexport DOCKER_BUILDKIT=1\r\ndocker compose build\r\n```\r\nLeads to the same error as OP\r\n```\r\n...\r\n => => loading layer 2a3c70920cf9 196.61kB / 19.33MB                                                                                                                                     0.3s\r\n => [op-node internal] load build definition from Dockerfile                                                                                                                             0.2s\r\n => => transferring dockerfile: 464B                                                                                                                                                     0.0s\r\n => ERROR [op-node internal] load metadata for us-docker.pkg.dev/oplabs-tools-artifacts/images/op-stack-go:devnet                                                                        0.2s\r\n------\r\n > [op-node internal] load metadata for us-docker.pkg.dev/oplabs-tools-artifacts/images/op-stack-go:devnet:\r\n------\r\nfailed to solve: us-docker.pkg.dev/oplabs-tools-artifacts/images/op-stack-go:devnet: us-docker.pkg.dev/oplabs-tools-artifacts/images/op-stack-go:devnet: not found\r\n```\r\n\r\nBuilding the missing image locally with\r\n\r\n```\r\ndocker compose build op_stack_go_builder\r\n```\r\nsucceeds:\r\n```\r\n$ docker images|grep op-stack-go     \r\nus-docker.pkg.dev/oplabs-tools-artifacts/images/op-stack-go   devnet            04ee7a199867   4 minutes ago   330MB\r\n```\r\n\r\nBut I still get the same error when running `docker compose build`.\r\n\r\nI think everyone who starts building now is affected. A colleague who seems to have downloaded the \"existing but still not resolvable\" image earlier is able to build.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1855428024/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1862155312",
    "html_url": "https://github.com/ethereum-optimism/optimism/issues/8614#issuecomment-1862155312",
    "issue_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/8614",
    "id": 1862155312,
    "node_id": "IC_kwDODjvEJM5u_jww",
    "user": {
      "login": "smartcontracts",
      "id": 14298799,
      "node_id": "MDQ6VXNlcjE0Mjk4Nzk5",
      "avatar_url": "https://avatars.githubusercontent.com/u/14298799?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/smartcontracts",
      "html_url": "https://github.com/smartcontracts",
      "followers_url": "https://api.github.com/users/smartcontracts/followers",
      "following_url": "https://api.github.com/users/smartcontracts/following{/other_user}",
      "gists_url": "https://api.github.com/users/smartcontracts/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/smartcontracts/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/smartcontracts/subscriptions",
      "organizations_url": "https://api.github.com/users/smartcontracts/orgs",
      "repos_url": "https://api.github.com/users/smartcontracts/repos",
      "events_url": "https://api.github.com/users/smartcontracts/events{/privacy}",
      "received_events_url": "https://api.github.com/users/smartcontracts/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-12-19T05:40:09Z",
    "updated_at": "2023-12-19T05:40:09Z",
    "author_association": "CONTRIBUTOR",
    "body": "Hi, I noticed @opfocus created a PR in the docs repo to update things there. Do you get the same issue with the updated docs?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1862155312/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1863876926",
    "html_url": "https://github.com/ethereum-optimism/optimism/issues/8614#issuecomment-1863876926",
    "issue_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/8614",
    "id": 1863876926,
    "node_id": "IC_kwDODjvEJM5vGIE-",
    "user": {
      "login": "boundless-forest",
      "id": 11801722,
      "node_id": "MDQ6VXNlcjExODAxNzIy",
      "avatar_url": "https://avatars.githubusercontent.com/u/11801722?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/boundless-forest",
      "html_url": "https://github.com/boundless-forest",
      "followers_url": "https://api.github.com/users/boundless-forest/followers",
      "following_url": "https://api.github.com/users/boundless-forest/following{/other_user}",
      "gists_url": "https://api.github.com/users/boundless-forest/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/boundless-forest/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/boundless-forest/subscriptions",
      "organizations_url": "https://api.github.com/users/boundless-forest/orgs",
      "repos_url": "https://api.github.com/users/boundless-forest/repos",
      "events_url": "https://api.github.com/users/boundless-forest/events{/privacy}",
      "received_events_url": "https://api.github.com/users/boundless-forest/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-12-20T05:26:43Z",
    "updated_at": "2023-12-20T05:26:43Z",
    "author_association": "NONE",
    "body": "Looks the PR linked in this issue. Seems not fix the issue.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1863876926/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1863886488",
    "html_url": "https://github.com/ethereum-optimism/optimism/issues/8614#issuecomment-1863886488",
    "issue_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/8614",
    "id": 1863886488,
    "node_id": "IC_kwDODjvEJM5vGKaY",
    "user": {
      "login": "opfocus",
      "id": 86885634,
      "node_id": "MDQ6VXNlcjg2ODg1NjM0",
      "avatar_url": "https://avatars.githubusercontent.com/u/86885634?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/opfocus",
      "html_url": "https://github.com/opfocus",
      "followers_url": "https://api.github.com/users/opfocus/followers",
      "following_url": "https://api.github.com/users/opfocus/following{/other_user}",
      "gists_url": "https://api.github.com/users/opfocus/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/opfocus/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/opfocus/subscriptions",
      "organizations_url": "https://api.github.com/users/opfocus/orgs",
      "repos_url": "https://api.github.com/users/opfocus/repos",
      "events_url": "https://api.github.com/users/opfocus/events{/privacy}",
      "received_events_url": "https://api.github.com/users/opfocus/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-12-20T05:39:05Z",
    "updated_at": "2023-12-20T13:41:40Z",
    "author_association": "NONE",
    "body": "> Looks the PR linked in this issue. Seems not fix the issue.\r\n\r\nWhich commit and branch are you currently using\r\n\r\nI don't have much knowledge about this. If it were me, I would probably first check for possible version issues with Docker Compose. Docker Engine [link](https://docs.docker.com/engine/install/ubuntu/#install-using-the-repository) Compose [link](https://docs.docker.com/compose/install/linux/#install-the-plugin-manually).",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1863886488/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
