{
  "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/9202",
  "repository_url": "https://api.github.com/repos/ethereum-optimism/optimism",
  "labels_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/9202/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/9202/comments",
  "events_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/9202/events",
  "html_url": "https://github.com/ethereum-optimism/optimism/issues/9202",
  "id": 2102102365,
  "node_id": "I_kwDODjvEJM59S4ld",
  "number": 9202,
  "title": "`op-version-check`: cannot get addresses for internal devnet",
  "user": {
    "login": "geoknee",
    "id": 1833419,
    "node_id": "MDQ6VXNlcjE4MzM0MTk=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1833419?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/geoknee",
    "html_url": "https://github.com/geoknee",
    "followers_url": "https://api.github.com/users/geoknee/followers",
    "following_url": "https://api.github.com/users/geoknee/following{/other_user}",
    "gists_url": "https://api.github.com/users/geoknee/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/geoknee/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/geoknee/subscriptions",
    "organizations_url": "https://api.github.com/users/geoknee/orgs",
    "repos_url": "https://api.github.com/users/geoknee/repos",
    "events_url": "https://api.github.com/users/geoknee/events{/privacy}",
    "received_events_url": "https://api.github.com/users/geoknee/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 2907832490,
      "node_id": "MDU6TGFiZWwyOTA3ODMyNDkw",
      "url": "https://api.github.com/repos/ethereum-optimism/optimism/labels/C-bug",
      "name": "C-bug",
      "color": "C5DEF5",
      "default": false,
      "description": "Category: bugs"
    },
    {
      "id": 5851585626,
      "node_id": "LA_kwDODjvEJM8AAAABXMgcWg",
      "url": "https://api.github.com/repos/ethereum-optimism/optimism/labels/A-op-chain-ops",
      "name": "A-op-chain-ops",
      "color": "FEF2C0",
      "default": false,
      "description": "Area: op-chain-ops"
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": {
    "login": "geoknee",
    "id": 1833419,
    "node_id": "MDQ6VXNlcjE4MzM0MTk=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1833419?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/geoknee",
    "html_url": "https://github.com/geoknee",
    "followers_url": "https://api.github.com/users/geoknee/followers",
    "following_url": "https://api.github.com/users/geoknee/following{/other_user}",
    "gists_url": "https://api.github.com/users/geoknee/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/geoknee/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/geoknee/subscriptions",
    "organizations_url": "https://api.github.com/users/geoknee/orgs",
    "repos_url": "https://api.github.com/users/geoknee/repos",
    "events_url": "https://api.github.com/users/geoknee/events{/privacy}",
    "received_events_url": "https://api.github.com/users/geoknee/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "geoknee",
      "id": 1833419,
      "node_id": "MDQ6VXNlcjE4MzM0MTk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1833419?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/geoknee",
      "html_url": "https://github.com/geoknee",
      "followers_url": "https://api.github.com/users/geoknee/followers",
      "following_url": "https://api.github.com/users/geoknee/following{/other_user}",
      "gists_url": "https://api.github.com/users/geoknee/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/geoknee/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/geoknee/subscriptions",
      "organizations_url": "https://api.github.com/users/geoknee/orgs",
      "repos_url": "https://api.github.com/users/geoknee/repos",
      "events_url": "https://api.github.com/users/geoknee/events{/privacy}",
      "received_events_url": "https://api.github.com/users/geoknee/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 1,
  "created_at": "2024-01-26T11:59:54Z",
  "updated_at": "2024-01-29T17:55:54Z",
  "closed_at": null,
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "<!--\r\nNeed help?\r\nRefer to our contributing guidelines for additional information about making a good issue:\r\nhttps://github.com/ethereum-optimism/.github/blob/master/CONTRIBUTING.md\r\n-->\r\n\r\n**Describe the bug**\r\nRunning `op-version-check` against the internal devnet fails with \"Ignoring L1/L2\"\r\n\r\n**To Reproduce**\r\n\r\n```\r\n> L1_RPC_URLS=https://ethereum-goerli.publicnode.com L2_RPC_URLS=<internal-devnet-rpc> ./bin/op-version-check\r\nINFO [01-26|11:44:01.034] Ignoring L1/L2                           l1-chain-id=5 l2-chain-id=997\r\n[]\r\n```\r\n\r\n**Expected behavior**\r\nThe tool should printthe contract version information correctly with the above input. \r\n```\r\n>  L1_RPC_URLS=https://ethereum-goerli.publicnode.com L2_RPC_URLS=<internal-devnet-rpc> ./bin/op-version-check\r\nWARN [01-26|11:46:46.087] goerli\r\nWARN [01-26|11:46:46.087] goerli-dev-0\r\nINFO [01-26|11:46:46.087] OP Labs devnet 0                         l1-chain-id=5 l2-chain-id=997\r\nINFO [01-26|11:46:46.087] Detecting on chain contracts\r\nINFO [01-26|11:46:46.605] Successfully processed contract versions chain=\"OP Labs devnet 0\" l1-chain-id=5 l2-chain-id=997\r\n[\r\n  {\r\n    \"Name\": \"OP Labs devnet 0\",\r\n    \"ChainID\": 997,\r\n    \"Contracts\": {\r\n      \"AddressManager\": {\r\n        \"Version\": \"null\",\r\n        \"Address\": \"0xf3a31b72d030e1916afeb3abba90e7e104818b9b\"\r\n      },\r\n      \"L1CrossDomainMessenger\": {\r\n        \"Version\": \"1.1.0\",\r\n        \"Address\": \"0x12371d047382bb3a4b1891e8474ddaee983d08ec\"\r\n      },\r\n      \"L1ERC721Bridge\": {\r\n        \"Version\": \"1.1.0\",\r\n        \"Address\": \"0xab598ffd07bdf497fce58e36138573ccba6b7a8b\"\r\n      },\r\n      \"L1StandardBridge\": {\r\n        \"Version\": \"1.1.0\",\r\n        \"Address\": \"0x0178b1f72eb1e61e1847f8fd36c791822623fb42\"\r\n      },\r\n      \"L2OutputOracle\": {\r\n        \"Version\": \"1.2.0\",\r\n        \"Address\": \"0xddb2e0c86ae08f1249d528f1a810cebd1b4c4d72\"\r\n      },\r\n      \"OptimismMintableERC20Factory\": {\r\n        \"Version\": \"1.1.0\",\r\n        \"Address\": \"0x00b75ed2e46c4c29bc363a75a6d97791018b3903\"\r\n      },\r\n      \"OptimismPortal\": {\r\n        \"Version\": \"1.2.0\",\r\n        \"Address\": \"0xc6170e048b7daef6d0b6cbbad9aca0e5370ddbbc\"\r\n      },\r\n      \"ProxyAdmin\": {\r\n        \"Version\": \"null\",\r\n        \"Address\": \"0xd98bd7a1f2384d890d0d6153cb6f813ab6ccfccf\"\r\n      },\r\n      \"SystemConfig\": {\r\n        \"Version\": \"1.0.1\",\r\n        \"Address\": \"0x78c9876a3621b97cc9b3c13ad0f35091db49e8e3\"\r\n      }\r\n    }\r\n  }\r\n]\r\n```\r\n\r\n**Additional context**\r\n\r\n I think the underlying issue is tied to looking up superchain name from L1 chain id. There are technically two superchains on Goerli, so such a lookup can't work in all cases: \r\n\r\nhttps://github.com/ethereum-optimism/optimism/blob/1eb56be09f45a996a144509e5bb9bd63045a8b57/op-chain-ops/cmd/op-version-check/main.go#L108\r\n\r\n",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/9202/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/9202/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1915270206",
    "html_url": "https://github.com/ethereum-optimism/optimism/issues/9202#issuecomment-1915270206",
    "issue_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/9202",
    "id": 1915270206,
    "node_id": "IC_kwDODjvEJM5yKLQ-",
    "user": {
      "login": "tynes",
      "id": 6626818,
      "node_id": "MDQ6VXNlcjY2MjY4MTg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6626818?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tynes",
      "html_url": "https://github.com/tynes",
      "followers_url": "https://api.github.com/users/tynes/followers",
      "following_url": "https://api.github.com/users/tynes/following{/other_user}",
      "gists_url": "https://api.github.com/users/tynes/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tynes/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tynes/subscriptions",
      "organizations_url": "https://api.github.com/users/tynes/orgs",
      "repos_url": "https://api.github.com/users/tynes/repos",
      "events_url": "https://api.github.com/users/tynes/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tynes/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2024-01-29T17:55:53Z",
    "updated_at": "2024-01-29T17:55:53Z",
    "author_association": "CONTRIBUTOR",
    "body": "If there was a way to decouple this tool from the superchain registry then it could run against any networks",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1915270206/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
