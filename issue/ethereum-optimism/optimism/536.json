{
  "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/536",
  "repository_url": "https://api.github.com/repos/ethereum-optimism/optimism",
  "labels_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/536/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/536/comments",
  "events_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/536/events",
  "html_url": "https://github.com/ethereum-optimism/optimism/issues/536",
  "id": 864126768,
  "node_id": "MDU6SXNzdWU4NjQxMjY3Njg=",
  "number": 536,
  "title": "executionPrice is set via the gasPrice",
  "user": {
    "login": "K-Ho",
    "id": 5341583,
    "node_id": "MDQ6VXNlcjUzNDE1ODM=",
    "avatar_url": "https://avatars.githubusercontent.com/u/5341583?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/K-Ho",
    "html_url": "https://github.com/K-Ho",
    "followers_url": "https://api.github.com/users/K-Ho/followers",
    "following_url": "https://api.github.com/users/K-Ho/following{/other_user}",
    "gists_url": "https://api.github.com/users/K-Ho/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/K-Ho/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/K-Ho/subscriptions",
    "organizations_url": "https://api.github.com/users/K-Ho/orgs",
    "repos_url": "https://api.github.com/users/K-Ho/repos",
    "events_url": "https://api.github.com/users/K-Ho/events{/privacy}",
    "received_events_url": "https://api.github.com/users/K-Ho/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 2907832490,
      "node_id": "MDU6TGFiZWwyOTA3ODMyNDkw",
      "url": "https://api.github.com/repos/ethereum-optimism/optimism/labels/C-bug",
      "name": "C-bug",
      "color": "C5DEF5",
      "default": false,
      "description": "Category: This is a bug."
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": {
    "login": "gakonst",
    "id": 17802178,
    "node_id": "MDQ6VXNlcjE3ODAyMTc4",
    "avatar_url": "https://avatars.githubusercontent.com/u/17802178?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/gakonst",
    "html_url": "https://github.com/gakonst",
    "followers_url": "https://api.github.com/users/gakonst/followers",
    "following_url": "https://api.github.com/users/gakonst/following{/other_user}",
    "gists_url": "https://api.github.com/users/gakonst/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/gakonst/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/gakonst/subscriptions",
    "organizations_url": "https://api.github.com/users/gakonst/orgs",
    "repos_url": "https://api.github.com/users/gakonst/repos",
    "events_url": "https://api.github.com/users/gakonst/events{/privacy}",
    "received_events_url": "https://api.github.com/users/gakonst/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "gakonst",
      "id": 17802178,
      "node_id": "MDQ6VXNlcjE3ODAyMTc4",
      "avatar_url": "https://avatars.githubusercontent.com/u/17802178?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gakonst",
      "html_url": "https://github.com/gakonst",
      "followers_url": "https://api.github.com/users/gakonst/followers",
      "following_url": "https://api.github.com/users/gakonst/following{/other_user}",
      "gists_url": "https://api.github.com/users/gakonst/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gakonst/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gakonst/subscriptions",
      "organizations_url": "https://api.github.com/users/gakonst/orgs",
      "repos_url": "https://api.github.com/users/gakonst/repos",
      "events_url": "https://api.github.com/users/gakonst/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gakonst/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 5,
  "created_at": "2021-04-21T17:47:36Z",
  "updated_at": "2021-04-27T17:19:33Z",
  "closed_at": "2021-04-27T17:19:33Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "<!--\r\nNeed help?\r\nRefer to our contributing guidelines for additional information about making a good issue:\r\nhttps://github.com/ethereum-optimism/.github/blob/master/CONTRIBUTING.md\r\n-->\r\n\r\n**Describe the bug**\r\nThe gasPrice in OE is currently harcoded to 1 gwei and `estimateGas` really does a `calculateFeeInGwei`. Within estimateGas, we pull the executionPrice using geth's built-in `suggestPrice` which will [suggest a gasPrice based on historical gasPrices](https://github.com/ethereum-optimism/optimism/blob/41cfbd166e9a1c52a9caf7782662bcda2cc2dd9f/l2geth/eth/gasprice/gasprice.go#L76-L147). This means that when we switch fees on, `suggestPrice` will always return 1 gwei and the L2 executionPrice would be stuck at a constant 1 gwei. See: https://github.com/ethereum-optimism/optimism/blob/ba2e04320b80b1c03bc517fa17e29c615a73e413/l2geth/internal/ethapi/api.go#L1022\r\n\r\n**Expected behavior**\r\nI would expect `executionPrice` to be set based on the congestion of the chain\r\n\r\n\r\n**Additional context**\r\nThe `executionPrice` should be set based on congestion of the chain using some formula. While OE is still under capacity, I suggest we either hardcode `executionPrice` to 0 or set it based on an env var (so if we receive a huge spike in usage, we can easily increase `executionPrice`)\r\n",
  "closed_by": {
    "login": "tynes",
    "id": 6626818,
    "node_id": "MDQ6VXNlcjY2MjY4MTg=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6626818?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/tynes",
    "html_url": "https://github.com/tynes",
    "followers_url": "https://api.github.com/users/tynes/followers",
    "following_url": "https://api.github.com/users/tynes/following{/other_user}",
    "gists_url": "https://api.github.com/users/tynes/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/tynes/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/tynes/subscriptions",
    "organizations_url": "https://api.github.com/users/tynes/orgs",
    "repos_url": "https://api.github.com/users/tynes/repos",
    "events_url": "https://api.github.com/users/tynes/events{/privacy}",
    "received_events_url": "https://api.github.com/users/tynes/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/536/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/536/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/824308822",
    "html_url": "https://github.com/ethereum-optimism/optimism/issues/536#issuecomment-824308822",
    "issue_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/536",
    "id": 824308822,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgyNDMwODgyMg==",
    "user": {
      "login": "gakonst",
      "id": 17802178,
      "node_id": "MDQ6VXNlcjE3ODAyMTc4",
      "avatar_url": "https://avatars.githubusercontent.com/u/17802178?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gakonst",
      "html_url": "https://github.com/gakonst",
      "followers_url": "https://api.github.com/users/gakonst/followers",
      "following_url": "https://api.github.com/users/gakonst/following{/other_user}",
      "gists_url": "https://api.github.com/users/gakonst/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gakonst/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gakonst/subscriptions",
      "organizations_url": "https://api.github.com/users/gakonst/orgs",
      "repos_url": "https://api.github.com/users/gakonst/repos",
      "events_url": "https://api.github.com/users/gakonst/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gakonst/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-04-21T19:39:57Z",
    "updated_at": "2021-04-21T19:39:57Z",
    "author_association": "CONTRIBUTOR",
    "body": "Given that we do not have a notion of a mempool, I am supportive of setting the `executionPrice` via env var now (initially set to 0).",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/824308822/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/824439462",
    "html_url": "https://github.com/ethereum-optimism/optimism/issues/536#issuecomment-824439462",
    "issue_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/536",
    "id": 824439462,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgyNDQzOTQ2Mg==",
    "user": {
      "login": "tynes",
      "id": 6626818,
      "node_id": "MDQ6VXNlcjY2MjY4MTg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6626818?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tynes",
      "html_url": "https://github.com/tynes",
      "followers_url": "https://api.github.com/users/tynes/followers",
      "following_url": "https://api.github.com/users/tynes/following{/other_user}",
      "gists_url": "https://api.github.com/users/tynes/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tynes/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tynes/subscriptions",
      "organizations_url": "https://api.github.com/users/tynes/orgs",
      "repos_url": "https://api.github.com/users/tynes/repos",
      "events_url": "https://api.github.com/users/tynes/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tynes/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-04-21T23:57:40Z",
    "updated_at": "2021-04-22T08:44:32Z",
    "author_association": "CONTRIBUTOR",
    "body": "MVP via config is fine for `executionPrice` but having downtime to change config options is no fun.\r\n\r\nIdeally we can set that via IPC so that we don't have to restart the Sequencer to update that value\r\n\r\n@smartcontracts Would this solve the problem that users are facing for the hackathon?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/824439462/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/824663813",
    "html_url": "https://github.com/ethereum-optimism/optimism/issues/536#issuecomment-824663813",
    "issue_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/536",
    "id": 824663813,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgyNDY2MzgxMw==",
    "user": {
      "login": "gakonst",
      "id": 17802178,
      "node_id": "MDQ6VXNlcjE3ODAyMTc4",
      "avatar_url": "https://avatars.githubusercontent.com/u/17802178?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gakonst",
      "html_url": "https://github.com/gakonst",
      "followers_url": "https://api.github.com/users/gakonst/followers",
      "following_url": "https://api.github.com/users/gakonst/following{/other_user}",
      "gists_url": "https://api.github.com/users/gakonst/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gakonst/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gakonst/subscriptions",
      "organizations_url": "https://api.github.com/users/gakonst/orgs",
      "repos_url": "https://api.github.com/users/gakonst/repos",
      "events_url": "https://api.github.com/users/gakonst/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gakonst/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-04-22T08:52:11Z",
    "updated_at": "2021-04-22T08:52:18Z",
    "author_association": "CONTRIBUTOR",
    "body": "@tynes Agreed we can do it over IPC (since all namespaces are exposed over IPC). Probably better that way instead of config option. We should add it to the `rollup_private` namespace then, do you agree?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/824663813/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/825067480",
    "html_url": "https://github.com/ethereum-optimism/optimism/issues/536#issuecomment-825067480",
    "issue_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/536",
    "id": 825067480,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgyNTA2NzQ4MA==",
    "user": {
      "login": "K-Ho",
      "id": 5341583,
      "node_id": "MDQ6VXNlcjUzNDE1ODM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5341583?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/K-Ho",
      "html_url": "https://github.com/K-Ho",
      "followers_url": "https://api.github.com/users/K-Ho/followers",
      "following_url": "https://api.github.com/users/K-Ho/following{/other_user}",
      "gists_url": "https://api.github.com/users/K-Ho/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/K-Ho/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/K-Ho/subscriptions",
      "organizations_url": "https://api.github.com/users/K-Ho/orgs",
      "repos_url": "https://api.github.com/users/K-Ho/repos",
      "events_url": "https://api.github.com/users/K-Ho/events{/privacy}",
      "received_events_url": "https://api.github.com/users/K-Ho/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-04-22T18:00:56Z",
    "updated_at": "2021-04-22T18:00:56Z",
    "author_association": "CONTRIBUTOR",
    "body": "Currently going to set executionPrice to 0, but let's get set something up before end of May. Ideally, the executionPrice is set in an L2 contract cc @tynes @karlfloersch ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/825067480/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/825346147",
    "html_url": "https://github.com/ethereum-optimism/optimism/issues/536#issuecomment-825346147",
    "issue_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/536",
    "id": 825346147,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgyNTM0NjE0Nw==",
    "user": {
      "login": "tynes",
      "id": 6626818,
      "node_id": "MDQ6VXNlcjY2MjY4MTg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6626818?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tynes",
      "html_url": "https://github.com/tynes",
      "followers_url": "https://api.github.com/users/tynes/followers",
      "following_url": "https://api.github.com/users/tynes/following{/other_user}",
      "gists_url": "https://api.github.com/users/tynes/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tynes/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tynes/subscriptions",
      "organizations_url": "https://api.github.com/users/tynes/orgs",
      "repos_url": "https://api.github.com/users/tynes/repos",
      "events_url": "https://api.github.com/users/tynes/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tynes/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-04-23T02:42:49Z",
    "updated_at": "2021-04-23T02:42:49Z",
    "author_association": "CONTRIBUTOR",
    "body": "It was decided that in the short term, placing the data in a contract is not needed for Synthetix Exchange. It is something that is required for Uniswap V3",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/825346147/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 1
    },
    "performed_via_github_app": null
  }
]
