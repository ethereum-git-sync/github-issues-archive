{
  "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/658",
  "repository_url": "https://api.github.com/repos/ethereum-optimism/optimism",
  "labels_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/658/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/658/comments",
  "events_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/658/events",
  "html_url": "https://github.com/ethereum-optimism/optimism/issues/658",
  "id": 869298482,
  "node_id": "MDU6SXNzdWU4NjkyOTg0ODI=",
  "number": 658,
  "title": "`yarn build` step of `docker-compose build` failing (exit code: 137)",
  "user": {
    "login": "vintrocode",
    "id": 77507980,
    "node_id": "MDQ6VXNlcjc3NTA3OTgw",
    "avatar_url": "https://avatars.githubusercontent.com/u/77507980?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/vintrocode",
    "html_url": "https://github.com/vintrocode",
    "followers_url": "https://api.github.com/users/vintrocode/followers",
    "following_url": "https://api.github.com/users/vintrocode/following{/other_user}",
    "gists_url": "https://api.github.com/users/vintrocode/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/vintrocode/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/vintrocode/subscriptions",
    "organizations_url": "https://api.github.com/users/vintrocode/orgs",
    "repos_url": "https://api.github.com/users/vintrocode/repos",
    "events_url": "https://api.github.com/users/vintrocode/events{/privacy}",
    "received_events_url": "https://api.github.com/users/vintrocode/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 2907832490,
      "node_id": "MDU6TGFiZWwyOTA3ODMyNDkw",
      "url": "https://api.github.com/repos/ethereum-optimism/optimism/labels/C-bug",
      "name": "C-bug",
      "color": "C5DEF5",
      "default": false,
      "description": "Category: This is a bug."
    },
    {
      "id": 2907927870,
      "node_id": "MDU6TGFiZWwyOTA3OTI3ODcw",
      "url": "https://api.github.com/repos/ethereum-optimism/optimism/labels/C-meta",
      "name": "C-meta",
      "color": "C5DEF5",
      "default": false,
      "description": "Category: Meta discussion about this repository, git hygiene, issues, etc"
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 4,
  "created_at": "2021-04-27T21:59:54Z",
  "updated_at": "2021-04-28T01:43:14Z",
  "closed_at": "2021-04-27T23:32:16Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "**Describe the bug**\r\nSomething related to yarn build causes `docker-compose build` to fail\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n1. clone optimism repo\r\n2. follow readme up to \"integration tests\"\r\n3. `cd` into `ops` folder, set env vars and try `docker-compose build`\r\n\r\n**Expected behavior**\r\nDocker compose to build the images so I can run the containers locally\r\n\r\n**Terminal Output**\r\n```\r\n(base) âžœ  optimism git:(master) cd ops \\\r\nexport COMPOSE_DOCKER_CLI_BUILD=1 \\\r\nexport DOCKER_BUILDKIT=1 \\\r\ndocker-compose build\r\n\r\nBuilding builder\r\n[+] Building 55.0s (28/30)\r\n => => transferring context: 199B                                                                                                                                                                   0.0s\r\n => [internal] load metadata for docker.io/library/alpine:latest                                                                                                                                    1.6s\r\n => [internal] load metadata for docker.io/library/node:14-buster-slim                                                                                                                              1.6s\r\n => https://github.com/ethereum-optimism/solc-bin/raw/gh-pages/bin/soljson-v0.7.6.js                                                                                                                1.2s\r\n => [internal] load build context                                                                                                                                                                   3.6s\r\n => => transferring context: 81.94MB                                                                                                                                                                3.5s\r\n => [downloader 1/3] FROM docker.io/library/alpine@sha256:69e70a79f2d41ab5d637de98c1e0b055206ba40a8145e7bddb55ccc04e13cf8f                                                                          0.0s\r\n => [node 1/2] FROM docker.io/library/node:14-buster-slim@sha256:f5ca34ff9a862fd26e803778b0c96638c2a20a3ca60fbf4ed959005aa8132290                                                                   0.0s\r\n => https://github.com/ethereum/solc-bin/raw/gh-pages/linux-amd64/solc-linux-amd64-v0.7.6+commit.7338295f                                                                                           1.2s\r\n => CACHED [downloader 2/3] ADD https://github.com/ethereum/solc-bin/raw/gh-pages/linux-amd64/solc-linux-amd64-v0.7.6+commit.7338295f ./solc                                                        0.0s\r\n => CACHED [downloader 3/3] ADD https://github.com/ethereum-optimism/solc-bin/raw/gh-pages/bin/soljson-v0.7.6.js ./ovm-solc                                                                         0.0s\r\n => CACHED [node 2/2] RUN apt-get update -y && apt-get install -y git                                                                                                                               0.0s\r\n => CACHED [stage-3 1/9] WORKDIR /optimism                                                                                                                                                          0.0s\r\n => CACHED [builder  2/10] COPY *.json yarn.lock ./                                                                                                                                                 0.0s\r\n => CACHED [builder  3/10] COPY packages/core-utils/package.json ./packages/core-utils/package.json                                                                                                 0.0s\r\n => CACHED [builder  4/10] COPY packages/hardhat-ovm/package.json ./packages/hardhat-ovm/package.json                                                                                               0.0s\r\n => CACHED [builder  5/10] COPY packages/smock/package.json ./packages/smock/package.json                                                                                                           0.0s\r\n[+] Building 55.2s (28/30)\r\n => [internal] load build definition from Dockerfile.monorepo                                                                                                                                      0.0ss\r\n => => transferring dockerfile: 2.70kB                                                                                                                                                             0.0ss\r\n => [internal] load .dockerignore                                                                                                                                                                  0.0ss\r\n => => transferring context: 199B                                                                                                                                                                  0.0ss\r\n => [internal] load metadata for docker.io/library/alpine:latest                                                                                                                                   1.6ss\r\n => [internal] load metadata for docker.io/library/node:14-buster-slim                                                                                                                             1.6ss\r\n => https://github.com/ethereum-optimism/solc-bin/raw/gh-pages/bin/soljson-v0.7.6.js                                                                                                               1.2ss\r\n => [internal] load build context                                                                                                                                                                  3.6ss\r\n => => transferring context: 81.94MB                                                                                                                                                               3.5ss\r\n => [downloader 1/3] FROM docker.io/library/alpine@sha256:69e70a79f2d41ab5d637de98c1e0b055206ba40a8145e7bddb55ccc04e13cf8f                                                                         0.0ss\r\n => [node 1/2] FROM docker.io/library/node:14-buster-slim@sha256:f5ca34ff9a862fd26e803778b0c96638c2a20a3ca60fbf4ed959005aa8132290                                                                  0.0ss\r\n => https://github.com/ethereum/solc-bin/raw/gh-pages/linux-amd64/solc-linux-amd64-v0.7.6+commit.7338295f                                                                                          1.2s\r\n => CACHED [downloader 2/3] ADD https://github.com/ethereum/solc-bin/raw/gh-pages/linux-amd64/solc-linux-amd64-v0.7.6+commit.7338295f ./solc                                                       0.0s\r\n => CACHED [downloader 3/3] ADD https://github.com/ethereum-optimism/solc-bin/raw/gh-pages/bin/soljson-v0.7.6.js ./ovm-solc                                                                        0.0s\r\n => CACHED [node 2/2] RUN apt-get update -y && apt-get install -y git                                                                                                                              0.0s\r\n => CACHED [stage-3 1/9] WORKDIR /optimism                                                                                                                                                         0.0s\r\n => CACHED [builder  2/10] COPY *.json yarn.lock ./                                                                                                                                                0.0s\r\n => CACHED [builder  3/10] COPY packages/core-utils/package.json ./packages/core-utils/package.json                                                                                                0.0s\r\n => CACHED [builder  4/10] COPY packages/hardhat-ovm/package.json ./packages/hardhat-ovm/package.json                                                                                              0.0[+] [+] Building 56.0[+] Building 88.6s (29/30)\r\n => [internal] load build definition from Dockerfile.monorepo                                                                                                                                                         0.0si => => transferring dockerfile: 2.70kB                                                                                                                                                                                0.0s\r\n => [internal] load .dockerignore                                                                                                                                                                                     0.0si => => transferring context: 199B                                                                                                                                                                                     0.0s\r\n => [internal] load metadata for docker.io/library/alpine:latest                                                                                                                                                      1.6so => [internal] load metadata for docker.io/library/node:14-buster-slim                                                                                                                                                1.6s\r\n => https://github.com/ethereum-optimism/solc-bin/raw/gh-pages/bin/soljson-v0.7.6.js                                                                                                                                  1.2so => [internal] load build context                                                                                                                                                                                     3.6s\r\n => => transferring context: 81.94MB                                                                                                                                                                                  3.5s1 => [downloader 1/3] FROM docker.io/library/alpine@sha256:69e70a79f2d41ab5d637de98c1e0b055206ba40a8145e7bddb55ccc04e13cf8f                                                                                            0.0s\r\n => [node 1/2] FROM docker.io/library/node:14-buster-slim@sha256:f5ca34ff9a862fd26e803778b0c96638c2a20a3ca60fbf4ed959005aa8132290                                                                                     0.0su => https://github.com/ethereum/solc-bin/raw/gh-pages/linux-amd64/solc-linux-amd64-v0.7.6+commit.7338295f                                                                                                             1.2s\r\n => CACHED [downloader 2/3] ADD https://github.com/ethereum/solc-bin/raw/gh-pages/linux-amd64/solc-linux-amd64-v0.7.6+commit.7338295f ./solc                                                                          0.0sl => CACHED [downloader 3/3] ADD https://github.com/ethereum-optimism/solc-bin/raw/gh-pages/bin/soljson-v0.7.6.js ./ovm-solc                                                                                           0.0s\r\n => CACHED [node 2/2] RUN apt-get update -y && apt-get install -y git                                                                                                                                                 0.0se => CACHED [stage-3 1/9] WORKDIR /optimism                                                                                                                                                                            0.0s\r\n => CACHED [builder  2/10] COPY *.json yarn.lock ./                                                                                                                                                                   0.0sd => CACHED [builder  3/10] COPY packages/core-utils/package.json ./packages/core-utils/package.json                                                                                                                   0.0s\r\n => CACHED [builder  4/10] COPY packages/hardhat-ovm/package.json ./packages/hardhat-ovm/package.json                                                                                                                 0.0sd => CACHED [builder  5/10] COPY packages/smock/package.json ./packages/smock/package.json                                                                                                                             0.0s\r\n => CACHED [builder  6/10] COPY packages/contracts/package.json ./packages/contracts/package.json                                                                                                                     0.0sd => CACHED [builder  7/10] COPY packages/data-transport-layer/package.json ./packages/data-transport-layer/package.json                                                                                               0.0s\r\n => CACHED [builder  8/10] COPY packages/batch-submitter/package.json ./packages/batch-submitter/package.json                                                                                                         0.0sd => CACHED [builder  9/10] COPY packages/message-relayer/package.json ./packages/message-relayer/package.json                                                                                                         0.0s\r\n => CACHED [builder 10/10] RUN yarn install --frozen-lockfile                                                                                                                                                         0.0se => CACHED [stage-3 2/9] COPY --from=builder /optimism/node_modules ./node_modules                                                                                                                                    0.0s\r\n => CACHED [stage-3 3/9] COPY --from=builder /optimism/packages ./packages                                                                                                                                            0.0se => CACHED [stage-3 4/9] COPY *.json yarn.lock ./                                                                                                                                                                     0.0s\r\n => [stage-3 5/9] COPY ./packages ./packages                                                                                                                                                                          2.8s] => [stage-3 6/9] COPY --from=downloader solc /root/.cache/hardhat-nodejs/compilers/linux-amd64/solc-linux-amd64-v0.7.6+commit.7338295f                                                                               0.1s\r\n => [stage-3 7/9] COPY --from=downloader ovm-solc /root/.cache/hardhat-nodejs/compilers/ovm/0.7.6.js                                                                                                                  0.1s] => ERROR [stage-3 8/9] RUN yarn build                                                                                                                                                                               80.0s\r\n------                                                                                                                                                                                                                      > [stage-3 8/9] RUN yarn build:\r\n#29 0.869 yarn run v1.22.5                                                                                                                                                                                                 #29 1.044 $ yarn lerna run build\r\n#29 1.492 $ /optimism/node_modules/.bin/lerna run build                                                                                                                                                                    #29 2.755 lerna notice cli v4.0.0\r\n#29 2.767 lerna info versioning independent\r\n#29 2.907 lerna info Executing command in 7 packages: \"yarn run build\"\r\n#29 7.793 lerna info run Ran npm script 'build' in '@eth-optimism/hardhat-ovm' in 4.9s:\r\n#29 7.794 $ tsc -p tsconfig.build.json\r\n#29 8.299 lerna info run Ran npm script 'build' in '@eth-optimism/core-utils' in 5.4s:\r\n#29 8.299 $ tsc -p tsconfig.build.json\r\n#29 15.04 lerna info run Ran npm script 'build' in '@eth-optimism/smock' in 6.7s:\r\n#29 15.04 $ tsc -p tsconfig.build.json\r\n#29 79.51 lerna ERR! yarn run build exited 137 in '@eth-optimism/contracts'\r\n#29 79.52 lerna ERR! yarn run build stdout:\r\n#29 79.52 $ ./scripts/build.sh\r\n#29 79.52 $ hardhat compile --network optimism\r\n#29 79.52 $ hardhat compile --show-stack-traces\r\n#29 79.52 $ tsc -p ./tsconfig.build.json\r\n#29 79.52 Compiling 97 files with 0.7.6\r\n#29 79.52 Compiling 97 files with 0.7.6\r\n#29 79.52 Downloading OVM compiler version 0.7.6-allow_kall_2\r\n#29 79.52 info Visit https://yarnpkg.com/en/docs/cli/run for documentation about this command.\r\n#29 79.52 info Visit https://yarnpkg.com/en/docs/cli/run for documentation about this command.\r\n#29 79.52 Compilation finished successfully\r\n#29 79.52 Creating Typechain artifacts in directory dist/types for target ethers-v5\r\n#29 79.52 Successfully generated Typechain artifacts!\r\n#29 79.52 lerna ERR! yarn run build stderr:\r\n#29 79.52 Killed\r\n#29 79.52 error Command failed with exit code 137.\r\n#29 79.52 error Command failed with exit code 137.\r\n#29 79.52 @openzeppelin/contracts/access/Ownable.sol:26:5: Warning: Visibility for constructor is ignored. If you want the contract to be non-deployable, making it \"abstract\" is sufficient.\r\n#29 79.52     constructor () internal {\r\n#29 79.52     ^ (Relevant source part starts here and spans across multiple lines).\r\n#29 79.52\r\n#29 79.52 @openzeppelin/contracts/utils/ReentrancyGuard.sol:38:5: Warning: Visibility for constructor is ignored. If you want the contract to be non-deployable, making it \"abstract\" is sufficient.\r\n#29 79.52     constructor () internal {\r\n#29 79.52     ^ (Relevant source part starts here and spans across multiple lines).\r\n#29 79.52\r\n#29 79.52 contracts/optimistic-ethereum/OVM/bridge/tokens/OVM_L1ETHGateway.sol:41:5: Warning: Visibility for constructor is ignored. If you want the contract to be non-deployable, making it \"abstract\" is sufficient.\r\n#29 79.52     constructor()\r\n#29 79.52     ^ (Relevant source part starts here and spans across multiple lines).\r\n#29 79.52\r\n#29 79.52 contracts/optimistic-ethereum/OVM/execution/OVM_ExecutionManager.sol:1068:9: Warning: Unused function parameter. Remove or comment out the variable name to silence this warning.\r\n#29 79.52         uint _gasLimit,\r\n#29 79.52         ^------------^\r\n#29 79.52\r\n#29 79.52 contracts/optimistic-ethereum/libraries/codec/Lib_OVMCodec.sol:160:5: Warning: Function state mutability can be restricted to pure\r\n#29 79.52     function decompressEIP155Transaction(\r\n#29 79.52     ^ (Relevant source part starts here and spans across multiple lines).\r\n#29 79.52\r\n#29 79.52 contracts/optimistic-ethereum/OVM/predeploys/OVM_DeployerWhitelist.sol:131:5: Warning: Function state mutability can be restricted to view\r\n#29 79.52     function isDeployerAllowed(\r\n#29 79.52     ^ (Relevant source part starts here and spans across multiple lines).\r\n#29 79.52\r\n#29 79.52 contracts/optimistic-ethereum/OVM/execution/OVM_ExecutionManager.sol:357:5: Warning: Function state mutability can be restricted to view\r\n#29 79.52     function ovmREVERT(\r\n#29 79.52     ^ (Relevant source part starts here and spans across multiple lines).\r\n#29 79.52\r\n#29 79.52 contracts/optimistic-ethereum/OVM/execution/OVM_ExecutionManager.sol:1551:5: Warning: Function state mutability can be restricted to view\r\n#29 79.52     function _revertWithFlag(\r\n#29 79.52     ^ (Relevant source part starts here and spans across multiple lines).\r\n#29 79.52\r\n#29 79.52 lerna ERR! yarn run build exited 137 in '@eth-optimism/contracts'\r\n#29 79.67 error Command failed with exit code 137.\r\n#29 79.67 info Visit https://yarnpkg.com/en/docs/cli/run for documentation about this command.\r\n#29 79.82 error Command failed with exit code 137.\r\n#29 79.82 info Visit https://yarnpkg.com/en/docs/cli/run for documentation about this command.\r\n------\r\nexecutor failed running [/bin/sh -c yarn build]: exit code: 137\r\nERROR: Service 'builder' failed to build\r\n```\r\n\r\n**System Specs:**\r\n - OS: Mac OS Big Sur\r\n - commit hash: `2d63f2f94ab2ba3ec3ee8bc038a11260a09f240c`\r\n\r\n",
  "closed_by": {
    "login": "vintrocode",
    "id": 77507980,
    "node_id": "MDQ6VXNlcjc3NTA3OTgw",
    "avatar_url": "https://avatars.githubusercontent.com/u/77507980?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/vintrocode",
    "html_url": "https://github.com/vintrocode",
    "followers_url": "https://api.github.com/users/vintrocode/followers",
    "following_url": "https://api.github.com/users/vintrocode/following{/other_user}",
    "gists_url": "https://api.github.com/users/vintrocode/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/vintrocode/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/vintrocode/subscriptions",
    "organizations_url": "https://api.github.com/users/vintrocode/orgs",
    "repos_url": "https://api.github.com/users/vintrocode/repos",
    "events_url": "https://api.github.com/users/vintrocode/events{/privacy}",
    "received_events_url": "https://api.github.com/users/vintrocode/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/658/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/658/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/828008192",
    "html_url": "https://github.com/ethereum-optimism/optimism/issues/658#issuecomment-828008192",
    "issue_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/658",
    "id": 828008192,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgyODAwODE5Mg==",
    "user": {
      "login": "snario",
      "id": 1933029,
      "node_id": "MDQ6VXNlcjE5MzMwMjk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1933029?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/snario",
      "html_url": "https://github.com/snario",
      "followers_url": "https://api.github.com/users/snario/followers",
      "following_url": "https://api.github.com/users/snario/following{/other_user}",
      "gists_url": "https://api.github.com/users/snario/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/snario/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/snario/subscriptions",
      "organizations_url": "https://api.github.com/users/snario/orgs",
      "repos_url": "https://api.github.com/users/snario/repos",
      "events_url": "https://api.github.com/users/snario/events{/privacy}",
      "received_events_url": "https://api.github.com/users/snario/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-04-27T23:16:43Z",
    "updated_at": "2021-04-27T23:16:43Z",
    "author_association": "CONTRIBUTOR",
    "body": "Code 137 indicates that the process is out of memory. How much memory did you allocate to Docker on your machine?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/828008192/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/828022099",
    "html_url": "https://github.com/ethereum-optimism/optimism/issues/658#issuecomment-828022099",
    "issue_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/658",
    "id": 828022099,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgyODAyMjA5OQ==",
    "user": {
      "login": "vintrocode",
      "id": 77507980,
      "node_id": "MDQ6VXNlcjc3NTA3OTgw",
      "avatar_url": "https://avatars.githubusercontent.com/u/77507980?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vintrocode",
      "html_url": "https://github.com/vintrocode",
      "followers_url": "https://api.github.com/users/vintrocode/followers",
      "following_url": "https://api.github.com/users/vintrocode/following{/other_user}",
      "gists_url": "https://api.github.com/users/vintrocode/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vintrocode/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vintrocode/subscriptions",
      "organizations_url": "https://api.github.com/users/vintrocode/orgs",
      "repos_url": "https://api.github.com/users/vintrocode/repos",
      "events_url": "https://api.github.com/users/vintrocode/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vintrocode/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-04-27T23:32:16Z",
    "updated_at": "2021-04-27T23:32:16Z",
    "author_association": "NONE",
    "body": "Looks like my default docker desktop allocation was only 2gb. Increased it and it built successfully. Thanks a lot ðŸ¤ ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/828022099/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 1,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/828028473",
    "html_url": "https://github.com/ethereum-optimism/optimism/issues/658#issuecomment-828028473",
    "issue_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/658",
    "id": 828028473,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgyODAyODQ3Mw==",
    "user": {
      "login": "vintrocode",
      "id": 77507980,
      "node_id": "MDQ6VXNlcjc3NTA3OTgw",
      "avatar_url": "https://avatars.githubusercontent.com/u/77507980?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vintrocode",
      "html_url": "https://github.com/vintrocode",
      "followers_url": "https://api.github.com/users/vintrocode/followers",
      "following_url": "https://api.github.com/users/vintrocode/following{/other_user}",
      "gists_url": "https://api.github.com/users/vintrocode/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vintrocode/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vintrocode/subscriptions",
      "organizations_url": "https://api.github.com/users/vintrocode/orgs",
      "repos_url": "https://api.github.com/users/vintrocode/repos",
      "events_url": "https://api.github.com/users/vintrocode/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vintrocode/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-04-27T23:44:24Z",
    "updated_at": "2021-04-27T23:44:24Z",
    "author_association": "NONE",
    "body": "For anyone else who may stumble upon this, try removing old containers to make room before increasing your docker memory allocation and allowing your laptop to take flight ðŸš€ \r\n`docker system prune -a`",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/828028473/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/828076868",
    "html_url": "https://github.com/ethereum-optimism/optimism/issues/658#issuecomment-828076868",
    "issue_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/658",
    "id": 828076868,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgyODA3Njg2OA==",
    "user": {
      "login": "transmissions11",
      "id": 26209401,
      "node_id": "MDQ6VXNlcjI2MjA5NDAx",
      "avatar_url": "https://avatars.githubusercontent.com/u/26209401?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/transmissions11",
      "html_url": "https://github.com/transmissions11",
      "followers_url": "https://api.github.com/users/transmissions11/followers",
      "following_url": "https://api.github.com/users/transmissions11/following{/other_user}",
      "gists_url": "https://api.github.com/users/transmissions11/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/transmissions11/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/transmissions11/subscriptions",
      "organizations_url": "https://api.github.com/users/transmissions11/orgs",
      "repos_url": "https://api.github.com/users/transmissions11/repos",
      "events_url": "https://api.github.com/users/transmissions11/events{/privacy}",
      "received_events_url": "https://api.github.com/users/transmissions11/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-04-28T01:43:14Z",
    "updated_at": "2021-04-28T01:43:14Z",
    "author_association": "CONTRIBUTOR",
    "body": "Hmm I still see this (not code 137) at higher memory allocations:\r\n\r\n```\r\nBuilding builder\r\n[+] Building 74.7s (29/30)                                                                                                                                     \r\n => [internal] load build definition from Dockerfile.monorepo                                                                                             0.0s\r\n => => transferring dockerfile: 46B                                                                                                                       0.0s\r\n => [internal] load .dockerignore                                                                                                                         0.0s\r\n => => transferring context: 35B                                                                                                                          0.0s\r\n => [internal] load metadata for docker.io/library/alpine:latest                                                                                          1.4s\r\n => [internal] load metadata for docker.io/library/node:14-buster-slim                                                                                    1.3s\r\n => https://github.com/ethereum-optimism/solc-bin/raw/gh-pages/bin/soljson-v0.7.6.js                                                                      0.6s\r\n => [downloader 1/3] FROM docker.io/library/alpine@sha256:69e70a79f2d41ab5d637de98c1e0b055206ba40a8145e7bddb55ccc04e13cf8f                                0.0s\r\n => [node 1/2] FROM docker.io/library/node:14-buster-slim@sha256:f5ca34ff9a862fd26e803778b0c96638c2a20a3ca60fbf4ed959005aa8132290                         0.0s\r\n => [internal] load build context                                                                                                                         0.4s\r\n => => transferring context: 586.42kB                                                                                                                     0.3s\r\n => https://github.com/ethereum/solc-bin/raw/gh-pages/linux-amd64/solc-linux-amd64-v0.7.6+commit.7338295f                                                 0.6s\r\n => CACHED [node 2/2] RUN apt-get update -y && apt-get install -y git                                                                                     0.0s\r\n => CACHED [builder  1/10] WORKDIR /optimism                                                                                                              0.0s\r\n => CACHED [builder  2/10] COPY *.json yarn.lock ./                                                                                                       0.0s\r\n => CACHED [builder  3/10] COPY packages/core-utils/package.json ./packages/core-utils/package.json                                                       0.0s\r\n => CACHED [builder  4/10] COPY packages/hardhat-ovm/package.json ./packages/hardhat-ovm/package.json                                                     0.0s\r\n => CACHED [builder  5/10] COPY packages/smock/package.json ./packages/smock/package.json                                                                 0.0s\r\n => CACHED [builder  6/10] COPY packages/contracts/package.json ./packages/contracts/package.json                                                         0.0s\r\n => CACHED [builder  7/10] COPY packages/data-transport-layer/package.json ./packages/data-transport-layer/package.json                                   0.0s\r\n => CACHED [builder  8/10] COPY packages/batch-submitter/package.json ./packages/batch-submitter/package.json                                             0.0s\r\n => CACHED [builder  9/10] COPY packages/message-relayer/package.json ./packages/message-relayer/package.json                                             0.0s\r\n => CACHED [builder 10/10] RUN yarn install --frozen-lockfile                                                                                             0.0s\r\n => CACHED [stage-3 2/9] COPY --from=builder /optimism/node_modules ./node_modules                                                                        0.0s\r\n => CACHED [stage-3 3/9] COPY --from=builder /optimism/packages ./packages                                                                                0.0s\r\n => CACHED [stage-3 4/9] COPY *.json yarn.lock ./                                                                                                         0.0s\r\n => CACHED [stage-3 5/9] COPY ./packages ./packages                                                                                                       0.0s\r\n => CACHED [downloader 2/3] ADD https://github.com/ethereum/solc-bin/raw/gh-pages/linux-amd64/solc-linux-amd64-v0.7.6+commit.7338295f ./solc              0.0s\r\n => CACHED [downloader 3/3] ADD https://github.com/ethereum-optimism/solc-bin/raw/gh-pages/bin/soljson-v0.7.6.js ./ovm-solc                               0.0s\r\n => CACHED [stage-3 6/9] COPY --from=downloader solc /root/.cache/hardhat-nodejs/compilers/linux-amd64/solc-linux-amd64-v0.7.6+commit.7338295f            0.0s\r\n => CACHED [stage-3 7/9] COPY --from=downloader ovm-solc /root/.cache/hardhat-nodejs/compilers/ovm/0.7.6.js                                               0.0s\r\n => ERROR [stage-3 8/9] RUN yarn build                                                                                                                   72.6s\r\n------                                                                                                                                                         \r\n > [stage-3 8/9] RUN yarn build:                                                                                                                               \r\n#29 0.353 yarn run v1.22.5                                                                                                                                     \r\n#29 0.375 $ yarn lerna run build                                                                                                                               \r\n#29 0.475 $ /optimism/node_modules/.bin/lerna run build                                                                                                        \r\n#29 0.740 lerna notice cli v4.0.0                                                                                                                              \r\n#29 0.742 lerna info versioning independent\r\n#29 0.777 lerna info Executing command in 7 packages: \"yarn run build\"\r\n#29 2.147 lerna info run Ran npm script 'build' in '@eth-optimism/hardhat-ovm' in 1.4s:\r\n#29 2.147 $ tsc -p tsconfig.build.json\r\n#29 2.383 lerna info run Ran npm script 'build' in '@eth-optimism/core-utils' in 1.6s:\r\n#29 2.383 $ tsc -p tsconfig.build.json\r\n#29 3.959 lerna info run Ran npm script 'build' in '@eth-optimism/smock' in 1.6s:\r\n#29 3.959 $ tsc -p tsconfig.build.json\r\n#29 72.54 lerna ERR! yarn run build exited 1 in '@eth-optimism/contracts'\r\n#29 72.54 lerna ERR! yarn run build stdout:\r\n#29 72.54 $ ./scripts/build.sh\r\n#29 72.54 $ hardhat compile --show-stack-traces\r\n#29 72.54 $ hardhat compile --network optimism\r\n#29 72.54 $ tsc -p ./tsconfig.build.json\r\n#29 72.54 Compiling 97 files with 0.7.6\r\n#29 72.54 \r\n#29 72.54 info Visit https://yarnpkg.com/en/docs/cli/run for documentation about this command.\r\n#29 72.54 Compiling 97 files with 0.7.6\r\n#29 72.54 \r\n#29 72.54 info Visit https://yarnpkg.com/en/docs/cli/run for documentation about this command.\r\n#29 72.54 info Visit https://yarnpkg.com/en/docs/cli/run for documentation about this command.\r\n#29 72.54 lerna ERR! yarn run build stderr:\r\n#29 72.54 @openzeppelin/contracts/access/Ownable.sol:26:5: Warning: Visibility for constructor is ignored. If you want the contract to be non-deployable, making it \"abstract\" is sufficient.\r\n#29 72.54     constructor () internal {\r\n#29 72.54     ^ (Relevant source part starts here and spans across multiple lines).\r\n#29 72.54 \r\n#29 72.54 @openzeppelin/contracts/utils/ReentrancyGuard.sol:38:5: Warning: Visibility for constructor is ignored. If you want the contract to be non-deployable, making it \"abstract\" is sufficient.\r\n#29 72.54     constructor () internal {\r\n#29 72.54     ^ (Relevant source part starts here and spans across multiple lines).\r\n#29 72.54 \r\n#29 72.54 contracts/optimistic-ethereum/libraries/wrappers/Lib_ExecutionManagerWrapper.sol:143:13: DeclarationError: Function not found.\r\n#29 72.54             kall(add(_calldata, 0x20), mload(_calldata), 0x0, 0x0)\r\n#29 72.54             ^--^\r\n#29 72.54 \r\n#29 72.54 contracts/optimistic-ethereum/OVM/bridge/tokens/OVM_L1ETHGateway.sol:41:5: Warning: Visibility for constructor is ignored. If you want the contract to be non-deployable, making it \"abstract\" is sufficient.\r\n#29 72.54     constructor()\r\n#29 72.54     ^ (Relevant source part starts here and spans across multiple lines).\r\n#29 72.54 \r\n#29 72.54 Error HH600: Compilation failed\r\n#29 72.54 HardhatError: HH600: Compilation failed\r\n#29 72.54     at SimpleTaskDefinition.action (/optimism/node_modules/hardhat/src/builtin-tasks/compile.ts:751:15)\r\n#29 72.54     at Environment._runTaskDefinition (/optimism/node_modules/hardhat/src/internal/core/runtime-environment.ts:218:14)\r\n#29 72.54     at Environment.run (/optimism/node_modules/hardhat/src/internal/core/runtime-environment.ts:130:14)\r\n#29 72.54     at SimpleTaskDefinition.action (/optimism/node_modules/hardhat/src/builtin-tasks/compile.ts:973:7)\r\n#29 72.54     at Environment._runTaskDefinition (/optimism/node_modules/hardhat/src/internal/core/runtime-environment.ts:218:14)\r\n#29 72.54     at Environment.run (/optimism/node_modules/hardhat/src/internal/core/runtime-environment.ts:130:14)\r\n#29 72.54     at SimpleTaskDefinition.action (/optimism/node_modules/hardhat/src/builtin-tasks/compile.ts:395:45)\r\n#29 72.54     at Environment._runTaskDefinition (/optimism/node_modules/hardhat/src/internal/core/runtime-environment.ts:218:14)\r\n#29 72.54     at Environment.run (/optimism/node_modules/hardhat/src/internal/core/runtime-environment.ts:130:14)\r\n#29 72.54     at SimpleTaskDefinition.action (/optimism/node_modules/hardhat/src/builtin-tasks/compile.ts:1320:63)\r\n#29 72.54     at Environment._runTaskDefinition (/optimism/node_modules/hardhat/src/internal/core/runtime-environment.ts:218:14)\r\n#29 72.54     at Environment.run (/optimism/node_modules/hardhat/src/internal/core/runtime-environment.ts:130:14)\r\n#29 72.54     at SimpleTaskDefinition.action (/optimism/node_modules/hardhat/src/builtin-tasks/compile.ts:1390:7)\r\n#29 72.54     at Environment._runTaskDefinition (/optimism/node_modules/hardhat/src/internal/core/runtime-environment.ts:218:14)\r\n#29 72.54     at OverriddenTaskDefinition._action (/optimism/node_modules/@typechain/hardhat/src/index.ts:28:5)\r\n#29 72.54     at Environment._runTaskDefinition (/optimism/node_modules/hardhat/src/internal/core/runtime-environment.ts:218:14)\r\n#29 72.54 error Command failed with exit code 1.\r\n#29 72.54 @openzeppelin/contracts/access/Ownable.sol:26:5: Warning: Visibility for constructor is ignored. If you want the contract to be non-deployable, making it \"abstract\" is sufficient.\r\n#29 72.54     constructor () internal {\r\n#29 72.54     ^ (Relevant source part starts here and spans across multiple lines).\r\n#29 72.54 \r\n#29 72.54 @openzeppelin/contracts/utils/ReentrancyGuard.sol:38:5: Warning: Visibility for constructor is ignored. If you want the contract to be non-deployable, making it \"abstract\" is sufficient.\r\n#29 72.54     constructor () internal {\r\n#29 72.54     ^ (Relevant source part starts here and spans across multiple lines).\r\n#29 72.54 \r\n#29 72.54 contracts/optimistic-ethereum/libraries/wrappers/Lib_ExecutionManagerWrapper.sol:143:13: DeclarationError: Function not found.\r\n#29 72.54             kall(add(_calldata, 0x20), mload(_calldata), 0x0, 0x0)\r\n#29 72.54             ^--^\r\n#29 72.54 \r\n#29 72.54 contracts/optimistic-ethereum/OVM/bridge/tokens/OVM_L1ETHGateway.sol:41:5: Warning: Visibility for constructor is ignored. If you want the contract to be non-deployable, making it \"abstract\" is sufficient.\r\n#29 72.54     constructor()\r\n#29 72.54     ^ (Relevant source part starts here and spans across multiple lines).\r\n#29 72.54 \r\n#29 72.54 Error HH600: Compilation failed\r\n#29 72.54 For more info go to https://hardhat.org/HH600 or run Hardhat with --show-stack-traces\r\n#29 72.54 error Command failed with exit code 1.\r\n#29 72.54 error Command failed with exit code 1.\r\n#29 72.54 lerna ERR! yarn run build exited 1 in '@eth-optimism/contracts'\r\n#29 72.55 error Command failed with exit code 1.\r\n#29 72.55 info Visit https://yarnpkg.com/en/docs/cli/run for documentation about this command.\r\n#29 72.56 error Command failed with exit code 1.\r\n#29 72.56 info Visit https://yarnpkg.com/en/docs/cli/run for documentation about this command.\r\n------\r\nexecutor failed running [/bin/sh -c yarn build]: exit code: 1\r\nERROR: Service 'builder' failed to build\r\nbenmayer@Bens-MacBook-Pro ops % docker-compose up\r\n\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/828076868/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 1
    },
    "performed_via_github_app": null
  }
]
