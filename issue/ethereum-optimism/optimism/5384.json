{
  "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/5384",
  "repository_url": "https://api.github.com/repos/ethereum-optimism/optimism",
  "labels_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/5384/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/5384/comments",
  "events_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/5384/events",
  "html_url": "https://github.com/ethereum-optimism/optimism/issues/5384",
  "id": 1658265879,
  "node_id": "I_kwDODjvEJM5i1yEX",
  "number": 5384,
  "title": "run make test-unit failed in mac os in develop branch",
  "user": {
    "login": "s7v7nislands",
    "id": 225986,
    "node_id": "MDQ6VXNlcjIyNTk4Ng==",
    "avatar_url": "https://avatars.githubusercontent.com/u/225986?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/s7v7nislands",
    "html_url": "https://github.com/s7v7nislands",
    "followers_url": "https://api.github.com/users/s7v7nislands/followers",
    "following_url": "https://api.github.com/users/s7v7nislands/following{/other_user}",
    "gists_url": "https://api.github.com/users/s7v7nislands/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/s7v7nislands/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/s7v7nislands/subscriptions",
    "organizations_url": "https://api.github.com/users/s7v7nislands/orgs",
    "repos_url": "https://api.github.com/users/s7v7nislands/repos",
    "events_url": "https://api.github.com/users/s7v7nislands/events{/privacy}",
    "received_events_url": "https://api.github.com/users/s7v7nislands/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 2907832490,
      "node_id": "MDU6TGFiZWwyOTA3ODMyNDkw",
      "url": "https://api.github.com/repos/ethereum-optimism/optimism/labels/C-bug",
      "name": "C-bug",
      "color": "C5DEF5",
      "default": false,
      "description": "Category: This is a bug."
    },
    {
      "id": 2930018676,
      "node_id": "MDU6TGFiZWwyOTMwMDE4Njc2",
      "url": "https://api.github.com/repos/ethereum-optimism/optimism/labels/P-unconfirmed",
      "name": "P-unconfirmed",
      "color": "BFD4F2",
      "default": false,
      "description": "Issue might be valid, but it’s not yet confirmed"
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 4,
  "created_at": "2023-04-07T02:22:29Z",
  "updated_at": "2023-05-05T18:46:29Z",
  "closed_at": "2023-05-05T18:46:29Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "<!--\r\nNeed help?\r\nRefer to our contributing guidelines for additional information about making a good issue:\r\nhttps://github.com/ethereum-optimism/.github/blob/master/CONTRIBUTING.md\r\n-->\r\n\r\n**Describe the bug**\r\nrun make test-unit failed in mac using the develop branch\r\n\r\n**To Reproduce**\r\n```\r\nFailing tests:\r\nEncountered 1 failing test in contracts/test/OptimismPortal.t.sol:OptimismPortal_FinalizeWithdrawal_Test\r\n[FAIL. Reason: EvmError: Revert Counterexample: calldata=0x289c769e000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000a00000000000000000000000000000000000000000000000000000000000000000, args=[0x0000000000000000000000000000000000000000, 0x0000000000000000000000000000000000000000, 0, 0, 0x]] testDiff_finalizeWithdrawalTransaction_succeeds(address,address,uint256,uint256,bytes) (runs: 0, μ: 0, ~: 0)\r\n\r\nEncountered 1 failing test in contracts/test/SafeCall.t.sol:SafeCall_call_Test\r\n[FAIL. Reason: Assertion failed. Counterexample: calldata=0xe28f97dc000000000000000000000000000000000000000000000000000000000000215c0000000000000000000000005615deb798bb3e4dfa0139dfa1b3d433cc23b72f000000000000000000000000000000000000000000000000000000000000215900000000000000000000000000000000000000000000000000000000000028a600000000000000000000000000000000000000000000000000000000000000a0000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000010b0, args=[0x000000000000000000000000000000000000215c, 0x5615dEB798BB3E4dFa0139dFa1b3D433Cc23b72f, 8537, 10406, 0x00000000000000000000000000000000000000000000000000000000000010b0]] testFuzz_call_succeeds(address,address,uint256,uint64,bytes) (runs: 81, μ: 45387, ~: 46133)\r\n\r\nEncountered 1 failing test in contracts/test/invariants/CrossDomainMessenger.t.sol:XDM_MinGasLimits\r\n[FAIL. Reason: Assertion failed.]\r\n        [Sequence]\r\n                sender=0x000000000000000000000000000000000000181a addr=[contracts/test/invariants/CrossDomainMessenger.t.sol:RelayActor]0x15cf58144ef33af1e14b5208015d11f9143e27b9 calldata=relay(uint16,uint32,bytes), args=[30, 2472477342, 0x00000000000000000000000000000000000000000000000000000000000013d7]\r\n\r\n invariant_minGasLimits() (runs: 1, calls: 4, reverts: 1)\r\n\r\nEncountered a total of 3 failing tests, 479 tests succeeded\r\ninfo Visit https://yarnpkg.com/en/docs/cli/run for documentation about this command.\r\nlerna ERR! yarn run test stderr:\r\nerror Command failed with exit code 1.\r\nlerna ERR! yarn run test exited 1 in '@eth-optimism/contracts-bedrock'\r\nlerna WARN complete Waiting for 3 child processes to exit. CTRL-C to exit immediately.\r\nerror Command failed with exit code 1.\r\ninfo Visit https://yarnpkg.com/en/docs/cli/run for documentation about this command.\r\nerror Command failed with exit code 1.\r\ninfo Visit https://yarnpkg.com/en/docs/cli/run for documentation about this command.\r\n```\r\n\r\n**Expected behavior**\r\npass the test\r\n\r\n**System Specs:**\r\n - OS: 13.3\r\n - Package Version (or commit hash): 17e4ffe22da6b90942ea4376f11f9fb1b02afd1b\r\n\r\n❯ node --version\r\nv16.19.0\r\n\r\n❯ yarn --version\r\n1.22.19\r\n\r\n\r\n",
  "closed_by": {
    "login": "smartcontracts",
    "id": 14298799,
    "node_id": "MDQ6VXNlcjE0Mjk4Nzk5",
    "avatar_url": "https://avatars.githubusercontent.com/u/14298799?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/smartcontracts",
    "html_url": "https://github.com/smartcontracts",
    "followers_url": "https://api.github.com/users/smartcontracts/followers",
    "following_url": "https://api.github.com/users/smartcontracts/following{/other_user}",
    "gists_url": "https://api.github.com/users/smartcontracts/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/smartcontracts/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/smartcontracts/subscriptions",
    "organizations_url": "https://api.github.com/users/smartcontracts/orgs",
    "repos_url": "https://api.github.com/users/smartcontracts/repos",
    "events_url": "https://api.github.com/users/smartcontracts/events{/privacy}",
    "received_events_url": "https://api.github.com/users/smartcontracts/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/5384/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/5384/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1515025287",
    "html_url": "https://github.com/ethereum-optimism/optimism/issues/5384#issuecomment-1515025287",
    "issue_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/5384",
    "id": 1515025287,
    "node_id": "IC_kwDODjvEJM5aTXOH",
    "user": {
      "login": "smartcontracts",
      "id": 14298799,
      "node_id": "MDQ6VXNlcjE0Mjk4Nzk5",
      "avatar_url": "https://avatars.githubusercontent.com/u/14298799?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/smartcontracts",
      "html_url": "https://github.com/smartcontracts",
      "followers_url": "https://api.github.com/users/smartcontracts/followers",
      "following_url": "https://api.github.com/users/smartcontracts/following{/other_user}",
      "gists_url": "https://api.github.com/users/smartcontracts/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/smartcontracts/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/smartcontracts/subscriptions",
      "organizations_url": "https://api.github.com/users/smartcontracts/orgs",
      "repos_url": "https://api.github.com/users/smartcontracts/repos",
      "events_url": "https://api.github.com/users/smartcontracts/events{/privacy}",
      "received_events_url": "https://api.github.com/users/smartcontracts/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-04-19T16:22:38Z",
    "updated_at": "2023-04-19T16:22:38Z",
    "author_association": "CONTRIBUTOR",
    "body": "What version of foundry are you on?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1515025287/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1515597008",
    "html_url": "https://github.com/ethereum-optimism/optimism/issues/5384#issuecomment-1515597008",
    "issue_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/5384",
    "id": 1515597008,
    "node_id": "IC_kwDODjvEJM5aVizQ",
    "user": {
      "login": "s7v7nislands",
      "id": 225986,
      "node_id": "MDQ6VXNlcjIyNTk4Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/225986?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/s7v7nislands",
      "html_url": "https://github.com/s7v7nislands",
      "followers_url": "https://api.github.com/users/s7v7nislands/followers",
      "following_url": "https://api.github.com/users/s7v7nislands/following{/other_user}",
      "gists_url": "https://api.github.com/users/s7v7nislands/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/s7v7nislands/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/s7v7nislands/subscriptions",
      "organizations_url": "https://api.github.com/users/s7v7nislands/orgs",
      "repos_url": "https://api.github.com/users/s7v7nislands/repos",
      "events_url": "https://api.github.com/users/s7v7nislands/events{/privacy}",
      "received_events_url": "https://api.github.com/users/s7v7nislands/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-04-20T01:47:48Z",
    "updated_at": "2023-04-20T01:47:48Z",
    "author_association": "CONTRIBUTOR",
    "body": "```\r\n❯ forge -V\r\nforge 0.2.0 (da2392e 2023-03-26T14:40:32.194254Z)\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1515597008/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1516232687",
    "html_url": "https://github.com/ethereum-optimism/optimism/issues/5384#issuecomment-1516232687",
    "issue_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/5384",
    "id": 1516232687,
    "node_id": "IC_kwDODjvEJM5aX9_v",
    "user": {
      "login": "smartcontracts",
      "id": 14298799,
      "node_id": "MDQ6VXNlcjE0Mjk4Nzk5",
      "avatar_url": "https://avatars.githubusercontent.com/u/14298799?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/smartcontracts",
      "html_url": "https://github.com/smartcontracts",
      "followers_url": "https://api.github.com/users/smartcontracts/followers",
      "following_url": "https://api.github.com/users/smartcontracts/following{/other_user}",
      "gists_url": "https://api.github.com/users/smartcontracts/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/smartcontracts/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/smartcontracts/subscriptions",
      "organizations_url": "https://api.github.com/users/smartcontracts/orgs",
      "repos_url": "https://api.github.com/users/smartcontracts/repos",
      "events_url": "https://api.github.com/users/smartcontracts/events{/privacy}",
      "received_events_url": "https://api.github.com/users/smartcontracts/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-04-20T12:21:05Z",
    "updated_at": "2023-04-20T12:21:05Z",
    "author_association": "CONTRIBUTOR",
    "body": "Hmmm strange. Works for me on an m2 mac using that foundry version. Can you try again on latest develop? Some issues might've been fixed recently.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1516232687/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1536054068",
    "html_url": "https://github.com/ethereum-optimism/optimism/issues/5384#issuecomment-1536054068",
    "issue_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/5384",
    "id": 1536054068,
    "node_id": "IC_kwDODjvEJM5bjlM0",
    "user": {
      "login": "s7v7nislands",
      "id": 225986,
      "node_id": "MDQ6VXNlcjIyNTk4Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/225986?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/s7v7nislands",
      "html_url": "https://github.com/s7v7nislands",
      "followers_url": "https://api.github.com/users/s7v7nislands/followers",
      "following_url": "https://api.github.com/users/s7v7nislands/following{/other_user}",
      "gists_url": "https://api.github.com/users/s7v7nislands/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/s7v7nislands/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/s7v7nislands/subscriptions",
      "organizations_url": "https://api.github.com/users/s7v7nislands/orgs",
      "repos_url": "https://api.github.com/users/s7v7nislands/repos",
      "events_url": "https://api.github.com/users/s7v7nislands/events{/privacy}",
      "received_events_url": "https://api.github.com/users/s7v7nislands/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-05-05T10:30:10Z",
    "updated_at": "2023-05-05T10:30:10Z",
    "author_association": "CONTRIBUTOR",
    "body": "It seems ok now. switch to different branches, I should run `make nuke`",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1536054068/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
