{
  "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/5464",
  "repository_url": "https://api.github.com/repos/ethereum-optimism/optimism",
  "labels_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/5464/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/5464/comments",
  "events_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/5464/events",
  "html_url": "https://github.com/ethereum-optimism/optimism/issues/5464",
  "id": 1669581644,
  "node_id": "I_kwDODjvEJM5jg8tM",
  "number": 5464,
  "title": "insufficient balance for transfer",
  "user": {
    "login": "oleksandrmarkelov",
    "id": 63374230,
    "node_id": "MDQ6VXNlcjYzMzc0MjMw",
    "avatar_url": "https://avatars.githubusercontent.com/u/63374230?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/oleksandrmarkelov",
    "html_url": "https://github.com/oleksandrmarkelov",
    "followers_url": "https://api.github.com/users/oleksandrmarkelov/followers",
    "following_url": "https://api.github.com/users/oleksandrmarkelov/following{/other_user}",
    "gists_url": "https://api.github.com/users/oleksandrmarkelov/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/oleksandrmarkelov/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/oleksandrmarkelov/subscriptions",
    "organizations_url": "https://api.github.com/users/oleksandrmarkelov/orgs",
    "repos_url": "https://api.github.com/users/oleksandrmarkelov/repos",
    "events_url": "https://api.github.com/users/oleksandrmarkelov/events{/privacy}",
    "received_events_url": "https://api.github.com/users/oleksandrmarkelov/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 2907832490,
      "node_id": "MDU6TGFiZWwyOTA3ODMyNDkw",
      "url": "https://api.github.com/repos/ethereum-optimism/optimism/labels/C-bug",
      "name": "C-bug",
      "color": "C5DEF5",
      "default": false,
      "description": "Category: This is a bug."
    },
    {
      "id": 4266439918,
      "node_id": "LA_kwDODjvEJM7-TLTu",
      "url": "https://api.github.com/repos/ethereum-optimism/optimism/labels/C-bedrock-fixes-this",
      "name": "C-bedrock-fixes-this",
      "color": "C5DEF5",
      "default": false,
      "description": "Category: Something Bedrock fixes"
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 5,
  "created_at": "2023-04-15T21:35:39Z",
  "updated_at": "2023-06-16T18:56:29Z",
  "closed_at": "2023-06-16T18:56:29Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "<!--\r\nNeed help?\r\nRefer to our contributing guidelines for additional information about making a good issue:\r\nhttps://github.com/ethereum-optimism/.github/blob/master/CONTRIBUTING.md\r\n-->\r\n\r\n**Describe the bug**\r\nSync from L2 stops on block 87079654 with error insufficient balance for transfer\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\nENV vars:\r\n###### DTL ENV ######\r\n\r\nDATA_TRANSPORT_LAYER__ADDRESS_MANAGER=0xdE1FCfB0851916CA5101820A69b13a4E276bd81F\r\nDATA_TRANSPORT_LAYER__L1_START_HEIGHT=13596466\r\nDATA_TRANSPORT_LAYER__CONFIRMATIONS=12\r\nDATA_TRANSPORT_LAYER__DANGEROUSLY_CATCH_ALL_ERRORS=true\r\nDATA_TRANSPORT_LAYER__DB_PATH=/datadrive/opti/.local/share/optimism/dtl/datadir\r\nDATA_TRANSPORT_LAYER__ENABLE_METRICS=true\r\nDATA_TRANSPORT_LAYER__ETH_NETWORK_NAME=mainnet\r\nDATA_TRANSPORT_LAYER__L2_CHAIN_ID=10\r\nDATA_TRANSPORT_LAYER__LOGS_PER_POLLING_INTERVAL=2000\r\nDATA_TRANSPORT_LAYER__NODE_ENV=production\r\nDATA_TRANSPORT_LAYER__POLLING_INTERVAL=500\r\nDATA_TRANSPORT_LAYER__SENTRY_TRACE_RATE=0.05\r\nDATA_TRANSPORT_LAYER__SERVER_HOSTNAME=0.0.0.0\r\nDATA_TRANSPORT_LAYER__SERVER_PORT=7878\r\nDATA_TRANSPORT_LAYER__TRANSACTIONS_PER_POLLING_INTERVAL=1000\r\nDATA_TRANSPORT_LAYER__SYNC_FROM_L1=false\r\nDATA_TRANSPORT_LAYER__L1_RPC_ENDPOINT=https://eth-mainnet.g.alchemy.com/XXXX\r\nDATA_TRANSPORT_LAYER__SYNC_FROM_L2=true\r\nDATA_TRANSPORT_LAYER__L2_RPC_ENDPOINT=https://opt-mainnet.g.alchemy.com/XXXX\r\n\r\n###### L2 GETH OP ENV ######\r\n\r\nNETWORK_NAME=mainnet\r\nNODE_TYPE=archive\r\nUSING_OVM=true\r\nSEQUENCER_CLIENT_HTTP=https://mainnet.optimism.io\r\nBLOCK_SIGNER_ADDRESS=0x00000398232E2064F896018496b4b44b3D62751F\r\nBLOCK_SIGNER_PRIVATE_KEY=6587ae678cf4fc9a33000cdbf9f35226b71dcc6a4684a31203241f9bcfd55d27\r\nETH1_CTC_DEPLOYMENT_HEIGHT=13596466\r\nETH1_SYNC_SERVICE_ENABLE=true\r\nROLLUP_CLIENT_HTTP=http://0.0.0.0:7878\r\nROLLUP_MAX_CALLDATA_SIZE=40000\r\nROLLUP_POLL_INTERVAL_FLAG=1s\r\nROLLUP_VERIFIER_ENABLE=true\r\nROLLUP_DISABLE_TRANSFERS=false\r\nROLLUP_ENABLE_L2_GAS_POLLING=false\r\nROLLUP_GAS_PRICE_ORACLE_OWNER_ADDRESS=0x648E3e8101BFaB7bf5997Bd007Fb473786019159\r\nROLLUP_BACKEND=l2\r\n\r\n\r\n###### L2 GETH ENV ######\r\n\r\nGCMODE=archive\r\nDATADIR=/datadrive/opti/.local/share/optimism/l2geth/datadir\r\nCHAIN_ID=10\r\nNETWORK_ID=10\r\nNO_DISCOVER=true\r\nNO_USB=true\r\nGASPRICE=0\r\nTARGET_GAS_LIMIT=1500000000\r\nRPC_ADDR=0.0.0.0\r\nRPC_API=eth,rollup,net,web3,debug\r\nRPC_CORS_DOMAIN=*\r\nRPC_ENABLE=true\r\nRPC_PORT=9657\r\nRPC_VHOSTS=*\r\nWS_ADDR=0.0.0.0\r\nWS_API=eth,rollup,net,web3,debug\r\nWS_ORIGINS=*\r\nWS=true\r\n\r\n\r\n**Screenshots**\r\n<img width=\"1265\" alt=\"image\" src=\"https://user-images.githubusercontent.com/63374230/232254078-87f5a74e-c5d5-4f8f-ac36-74e22b922f1c.png\">\r\n\r\n**System Specs:**\r\n - OS: ubuntu 20.02\r\n - Package Version (or commit hash): 1.9.10-stable\r\n\r\n**Additional context**\r\nAdd any other context about the problem here.\r\n",
  "closed_by": {
    "login": "tynes",
    "id": 6626818,
    "node_id": "MDQ6VXNlcjY2MjY4MTg=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6626818?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/tynes",
    "html_url": "https://github.com/tynes",
    "followers_url": "https://api.github.com/users/tynes/followers",
    "following_url": "https://api.github.com/users/tynes/following{/other_user}",
    "gists_url": "https://api.github.com/users/tynes/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/tynes/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/tynes/subscriptions",
    "organizations_url": "https://api.github.com/users/tynes/orgs",
    "repos_url": "https://api.github.com/users/tynes/repos",
    "events_url": "https://api.github.com/users/tynes/events{/privacy}",
    "received_events_url": "https://api.github.com/users/tynes/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/5464/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/5464/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1514903700",
    "html_url": "https://github.com/ethereum-optimism/optimism/issues/5464#issuecomment-1514903700",
    "issue_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/5464",
    "id": 1514903700,
    "node_id": "IC_kwDODjvEJM5aS5iU",
    "user": {
      "login": "smartcontracts",
      "id": 14298799,
      "node_id": "MDQ6VXNlcjE0Mjk4Nzk5",
      "avatar_url": "https://avatars.githubusercontent.com/u/14298799?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/smartcontracts",
      "html_url": "https://github.com/smartcontracts",
      "followers_url": "https://api.github.com/users/smartcontracts/followers",
      "following_url": "https://api.github.com/users/smartcontracts/following{/other_user}",
      "gists_url": "https://api.github.com/users/smartcontracts/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/smartcontracts/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/smartcontracts/subscriptions",
      "organizations_url": "https://api.github.com/users/smartcontracts/orgs",
      "repos_url": "https://api.github.com/users/smartcontracts/repos",
      "events_url": "https://api.github.com/users/smartcontracts/events{/privacy}",
      "received_events_url": "https://api.github.com/users/smartcontracts/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-04-19T15:06:24Z",
    "updated_at": "2023-04-19T15:06:24Z",
    "author_association": "CONTRIBUTOR",
    "body": "Unfortunately happens sometimes if the node was not shut down properly. Unclear why this happens but this is fixed by Bedrock. You will need to resync your node and try to avoid a hard shutdown.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1514903700/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1515145331",
    "html_url": "https://github.com/ethereum-optimism/optimism/issues/5464#issuecomment-1515145331",
    "issue_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/5464",
    "id": 1515145331,
    "node_id": "IC_kwDODjvEJM5aT0hz",
    "user": {
      "login": "oleksandrmarkelov",
      "id": 63374230,
      "node_id": "MDQ6VXNlcjYzMzc0MjMw",
      "avatar_url": "https://avatars.githubusercontent.com/u/63374230?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/oleksandrmarkelov",
      "html_url": "https://github.com/oleksandrmarkelov",
      "followers_url": "https://api.github.com/users/oleksandrmarkelov/followers",
      "following_url": "https://api.github.com/users/oleksandrmarkelov/following{/other_user}",
      "gists_url": "https://api.github.com/users/oleksandrmarkelov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/oleksandrmarkelov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/oleksandrmarkelov/subscriptions",
      "organizations_url": "https://api.github.com/users/oleksandrmarkelov/orgs",
      "repos_url": "https://api.github.com/users/oleksandrmarkelov/repos",
      "events_url": "https://api.github.com/users/oleksandrmarkelov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/oleksandrmarkelov/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-04-19T17:57:46Z",
    "updated_at": "2023-04-19T17:57:46Z",
    "author_association": "NONE",
    "body": "there were no hard shut down. The node just stopped syncing. \r\n\r\nAnyway, if such time of issue happened, is it possible to recover from it?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1515145331/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1517846635",
    "html_url": "https://github.com/ethereum-optimism/optimism/issues/5464#issuecomment-1517846635",
    "issue_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/5464",
    "id": 1517846635,
    "node_id": "IC_kwDODjvEJM5aeIBr",
    "user": {
      "login": "smartcontracts",
      "id": 14298799,
      "node_id": "MDQ6VXNlcjE0Mjk4Nzk5",
      "avatar_url": "https://avatars.githubusercontent.com/u/14298799?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/smartcontracts",
      "html_url": "https://github.com/smartcontracts",
      "followers_url": "https://api.github.com/users/smartcontracts/followers",
      "following_url": "https://api.github.com/users/smartcontracts/following{/other_user}",
      "gists_url": "https://api.github.com/users/smartcontracts/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/smartcontracts/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/smartcontracts/subscriptions",
      "organizations_url": "https://api.github.com/users/smartcontracts/orgs",
      "repos_url": "https://api.github.com/users/smartcontracts/repos",
      "events_url": "https://api.github.com/users/smartcontracts/events{/privacy}",
      "received_events_url": "https://api.github.com/users/smartcontracts/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-04-21T13:35:59Z",
    "updated_at": "2023-04-21T13:35:59Z",
    "author_association": "CONTRIBUTOR",
    "body": "Hm node just stopped out of the blue?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1517846635/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1518533775",
    "html_url": "https://github.com/ethereum-optimism/optimism/issues/5464#issuecomment-1518533775",
    "issue_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/5464",
    "id": 1518533775,
    "node_id": "IC_kwDODjvEJM5agvyP",
    "user": {
      "login": "oleksandrmarkelov",
      "id": 63374230,
      "node_id": "MDQ6VXNlcjYzMzc0MjMw",
      "avatar_url": "https://avatars.githubusercontent.com/u/63374230?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/oleksandrmarkelov",
      "html_url": "https://github.com/oleksandrmarkelov",
      "followers_url": "https://api.github.com/users/oleksandrmarkelov/followers",
      "following_url": "https://api.github.com/users/oleksandrmarkelov/following{/other_user}",
      "gists_url": "https://api.github.com/users/oleksandrmarkelov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/oleksandrmarkelov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/oleksandrmarkelov/subscriptions",
      "organizations_url": "https://api.github.com/users/oleksandrmarkelov/orgs",
      "repos_url": "https://api.github.com/users/oleksandrmarkelov/repos",
      "events_url": "https://api.github.com/users/oleksandrmarkelov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/oleksandrmarkelov/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-04-22T06:39:40Z",
    "updated_at": "2023-04-22T06:39:40Z",
    "author_association": "NONE",
    "body": "noded haven't stopped but syncing from L2 stopped",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1518533775/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1595146426",
    "html_url": "https://github.com/ethereum-optimism/optimism/issues/5464#issuecomment-1595146426",
    "issue_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/5464",
    "id": 1595146426,
    "node_id": "IC_kwDODjvEJM5fFAC6",
    "user": {
      "login": "tynes",
      "id": 6626818,
      "node_id": "MDQ6VXNlcjY2MjY4MTg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6626818?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tynes",
      "html_url": "https://github.com/tynes",
      "followers_url": "https://api.github.com/users/tynes/followers",
      "following_url": "https://api.github.com/users/tynes/following{/other_user}",
      "gists_url": "https://api.github.com/users/tynes/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tynes/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tynes/subscriptions",
      "organizations_url": "https://api.github.com/users/tynes/orgs",
      "repos_url": "https://api.github.com/users/tynes/repos",
      "events_url": "https://api.github.com/users/tynes/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tynes/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-06-16T18:56:29Z",
    "updated_at": "2023-06-16T18:56:29Z",
    "author_association": "CONTRIBUTOR",
    "body": "The system has been upgraded to bedrock",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1595146426/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
