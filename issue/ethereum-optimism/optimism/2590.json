{
  "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/2590",
  "repository_url": "https://api.github.com/repos/ethereum-optimism/optimism",
  "labels_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/2590/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/2590/comments",
  "events_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/2590/events",
  "html_url": "https://github.com/ethereum-optimism/optimism/issues/2590",
  "id": 1240726592,
  "node_id": "I_kwDODjvEJM5J8_xA",
  "number": 2590,
  "title": "Problem synching op-replica ",
  "user": {
    "login": "yunfangjuan",
    "id": 1704002,
    "node_id": "MDQ6VXNlcjE3MDQwMDI=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1704002?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/yunfangjuan",
    "html_url": "https://github.com/yunfangjuan",
    "followers_url": "https://api.github.com/users/yunfangjuan/followers",
    "following_url": "https://api.github.com/users/yunfangjuan/following{/other_user}",
    "gists_url": "https://api.github.com/users/yunfangjuan/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/yunfangjuan/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/yunfangjuan/subscriptions",
    "organizations_url": "https://api.github.com/users/yunfangjuan/orgs",
    "repos_url": "https://api.github.com/users/yunfangjuan/repos",
    "events_url": "https://api.github.com/users/yunfangjuan/events{/privacy}",
    "received_events_url": "https://api.github.com/users/yunfangjuan/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 7,
  "created_at": "2022-05-18T23:35:59Z",
  "updated_at": "2022-06-07T05:27:44Z",
  "closed_at": "2022-05-25T19:24:25Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "\r\n**Describe the bug**\r\nI am trying to run a mainnet optimism replica locally. But it failed with some verification error \r\n\r\n\r\n**To Reproduce**\r\nHere is what I did: \r\n1.  `mv default-mainnet.env .env`\r\n2.  edit my .env file to \r\n\r\nCOMPOSE_PROJECT_NAME=op-replica\r\nCOMPOSE_FILE=replica.yml:replica-shared.yml:replica-toml.yml\r\nETH_NETWORK=mainnet\r\nDATA_TRANSPORT_LAYER__L1_RPC_ENDPOINT=<my_alchemy_ethereum_mainnet_endpoint>\r\nDATA_TRANSPORT_LAYER__L2_RPC_ENDPOINT=https://mainnet.optimism.io\r\nREPLICA_HEALTHCHECK__ETH_NETWORK_RPC_PROVIDER=https://mainnet.optimism.io\r\nSEQUENCER_CLIENT_HTTP=https://mainnet.optimism.io\r\nSHARED_ENV_PATH=../envs/mainnet\r\nGCMODE=full\r\nL2GETH_IMAGE_TAG=0.5.12\r\nDTL_IMAGE_TAG=0.5.20\r\nHC_IMAGE_TAG=latest\r\nL2GETH_HTTP_PORT=9991\r\nL2GETH_WS_PORT=9992\r\nDTL_PORT=7878\r\nGETH_INIT_SCRIPT=check-for-chaindata-berlin.sh\r\nRESTART=unless-stopped\r\n\r\n3. start my script `docker-compose up -d`\r\n\r\nIt was synching fine. Until I got the following errors: \r\n\r\nop-replica-l2geth-replica-1  | DEBUG[05-18|23:35:34.550] Transaction failed, account skipped      hash=e04155…859fb0 err=\"insufficient balance for transfer\"\r\nop-replica-l2geth-replica-1  | ERROR[05-18|23:35:34.550] Problem committing transaction           msg=\"insufficient balance for transfer\"\r\nop-replica-l2geth-replica-1  | ERROR[05-18|23:35:34.550] Got error waiting for transaction to be added to chain msg=\"insufficient balance for transfer\"\r\nop-replica-l2geth-replica-1  | ERROR[05-18|23:35:34.550] Could not verify                         error=\"Verifier cannot sync transactions with BackendL2: Verifier cannot sync transactions with backend l2: Cannot sync transactions with backend l2: Cannot apply transaction: insufficient balance for transfer\"\r\nop-replica-l2geth-replica-1  | INFO [05-18|23:35:35.548] Syncing transaction range                start=6530034 end=8561969 backend=l2\r\nop-replica-l2geth-replica-1  | DEBUG[05-18|23:35:35.550] Applying transaction to tip              index=6530034 hash=0xe041555381044008873ad8ee2c28c2424e245fe6f1373b3b45af970786859fb0 origin=sequencer\r\nop-replica-l2geth-replica-1  | DEBUG[05-18|23:35:35.550] Attempting to commit rollup transaction  hash=0xe041555381044008873ad8ee2c28c2424e245fe6f1373b3b45af970786859fb0\r\nop-replica-l2geth-replica-1  | DEBUG[05-18|23:35:35.550] Transaction failed, account skipped      hash=e04155…859fb0 err=\"insufficient balance for transfer\"\r\nop-replica-l2geth-replica-1  | ERROR[05-18|23:35:35.550] Problem committing transaction           msg=\"insufficient balance for transfer\"\r\nop-replica-l2geth-replica-1  | ERROR[05-18|23:35:35.550] Got error waiting for transaction to be added to chain msg=\"insufficient balance for transfer\"\r\nop-replica-l2geth-replica-1  | ERROR[05-18|23:35:35.550] Could not verify                         error=\"Verifier cannot sync transactions with BackendL2: Verifier cannot sync transactions with backend l2: Cannot sync transactions with backend l2: Cannot apply transaction: insufficient balance for transfer\"\r\n^Ccanceled\r\n\r\nPlease advise. \r\n",
  "closed_by": {
    "login": "smartcontracts",
    "id": 14298799,
    "node_id": "MDQ6VXNlcjE0Mjk4Nzk5",
    "avatar_url": "https://avatars.githubusercontent.com/u/14298799?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/smartcontracts",
    "html_url": "https://github.com/smartcontracts",
    "followers_url": "https://api.github.com/users/smartcontracts/followers",
    "following_url": "https://api.github.com/users/smartcontracts/following{/other_user}",
    "gists_url": "https://api.github.com/users/smartcontracts/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/smartcontracts/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/smartcontracts/subscriptions",
    "organizations_url": "https://api.github.com/users/smartcontracts/orgs",
    "repos_url": "https://api.github.com/users/smartcontracts/repos",
    "events_url": "https://api.github.com/users/smartcontracts/events{/privacy}",
    "received_events_url": "https://api.github.com/users/smartcontracts/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/2590/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/2590/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1133175193",
    "html_url": "https://github.com/ethereum-optimism/optimism/issues/2590#issuecomment-1133175193",
    "issue_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/2590",
    "id": 1133175193,
    "node_id": "IC_kwDODjvEJM5DiuGZ",
    "user": {
      "login": "yunfangjuan",
      "id": 1704002,
      "node_id": "MDQ6VXNlcjE3MDQwMDI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1704002?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/yunfangjuan",
      "html_url": "https://github.com/yunfangjuan",
      "followers_url": "https://api.github.com/users/yunfangjuan/followers",
      "following_url": "https://api.github.com/users/yunfangjuan/following{/other_user}",
      "gists_url": "https://api.github.com/users/yunfangjuan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/yunfangjuan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/yunfangjuan/subscriptions",
      "organizations_url": "https://api.github.com/users/yunfangjuan/orgs",
      "repos_url": "https://api.github.com/users/yunfangjuan/repos",
      "events_url": "https://api.github.com/users/yunfangjuan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/yunfangjuan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-05-20T18:02:40Z",
    "updated_at": "2022-05-20T18:02:40Z",
    "author_association": "NONE",
    "body": "I upgraded  DTL to 0.5.30 and l2geth to 0.5.19 and was able to synch thru the 6530034  block",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1133175193/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1135493833",
    "html_url": "https://github.com/ethereum-optimism/optimism/issues/2590#issuecomment-1135493833",
    "issue_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/2590",
    "id": 1135493833,
    "node_id": "IC_kwDODjvEJM5DrkLJ",
    "user": {
      "login": "smartcontracts",
      "id": 14298799,
      "node_id": "MDQ6VXNlcjE0Mjk4Nzk5",
      "avatar_url": "https://avatars.githubusercontent.com/u/14298799?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/smartcontracts",
      "html_url": "https://github.com/smartcontracts",
      "followers_url": "https://api.github.com/users/smartcontracts/followers",
      "following_url": "https://api.github.com/users/smartcontracts/following{/other_user}",
      "gists_url": "https://api.github.com/users/smartcontracts/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/smartcontracts/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/smartcontracts/subscriptions",
      "organizations_url": "https://api.github.com/users/smartcontracts/orgs",
      "repos_url": "https://api.github.com/users/smartcontracts/repos",
      "events_url": "https://api.github.com/users/smartcontracts/events{/privacy}",
      "received_events_url": "https://api.github.com/users/smartcontracts/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-05-24T07:09:20Z",
    "updated_at": "2022-05-24T07:09:20Z",
    "author_association": "CONTRIBUTOR",
    "body": "@yunfangjuan if you were able to sync past the target block, can I close this issue?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1135493833/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1135934349",
    "html_url": "https://github.com/ethereum-optimism/optimism/issues/2590#issuecomment-1135934349",
    "issue_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/2590",
    "id": 1135934349,
    "node_id": "IC_kwDODjvEJM5DtPuN",
    "user": {
      "login": "yunfangjuan",
      "id": 1704002,
      "node_id": "MDQ6VXNlcjE3MDQwMDI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1704002?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/yunfangjuan",
      "html_url": "https://github.com/yunfangjuan",
      "followers_url": "https://api.github.com/users/yunfangjuan/followers",
      "following_url": "https://api.github.com/users/yunfangjuan/following{/other_user}",
      "gists_url": "https://api.github.com/users/yunfangjuan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/yunfangjuan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/yunfangjuan/subscriptions",
      "organizations_url": "https://api.github.com/users/yunfangjuan/orgs",
      "repos_url": "https://api.github.com/users/yunfangjuan/repos",
      "events_url": "https://api.github.com/users/yunfangjuan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/yunfangjuan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-05-24T13:36:52Z",
    "updated_at": "2022-05-24T13:36:52Z",
    "author_association": "NONE",
    "body": "Yes. go ahead",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1135934349/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1138397583",
    "html_url": "https://github.com/ethereum-optimism/optimism/issues/2590#issuecomment-1138397583",
    "issue_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/2590",
    "id": 1138397583,
    "node_id": "IC_kwDODjvEJM5D2pGP",
    "user": {
      "login": "wangtao19911111",
      "id": 41531065,
      "node_id": "MDQ6VXNlcjQxNTMxMDY1",
      "avatar_url": "https://avatars.githubusercontent.com/u/41531065?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/wangtao19911111",
      "html_url": "https://github.com/wangtao19911111",
      "followers_url": "https://api.github.com/users/wangtao19911111/followers",
      "following_url": "https://api.github.com/users/wangtao19911111/following{/other_user}",
      "gists_url": "https://api.github.com/users/wangtao19911111/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/wangtao19911111/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/wangtao19911111/subscriptions",
      "organizations_url": "https://api.github.com/users/wangtao19911111/orgs",
      "repos_url": "https://api.github.com/users/wangtao19911111/repos",
      "events_url": "https://api.github.com/users/wangtao19911111/events{/privacy}",
      "received_events_url": "https://api.github.com/users/wangtao19911111/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-05-26T10:40:38Z",
    "updated_at": "2022-05-26T10:40:38Z",
    "author_association": "NONE",
    "body": "do this need to sync from 0？\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1138397583/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1148118834",
    "html_url": "https://github.com/ethereum-optimism/optimism/issues/2590#issuecomment-1148118834",
    "issue_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/2590",
    "id": 1148118834,
    "node_id": "IC_kwDODjvEJM5Ebucy",
    "user": {
      "login": "Tab-ops",
      "id": 53932327,
      "node_id": "MDQ6VXNlcjUzOTMyMzI3",
      "avatar_url": "https://avatars.githubusercontent.com/u/53932327?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Tab-ops",
      "html_url": "https://github.com/Tab-ops",
      "followers_url": "https://api.github.com/users/Tab-ops/followers",
      "following_url": "https://api.github.com/users/Tab-ops/following{/other_user}",
      "gists_url": "https://api.github.com/users/Tab-ops/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Tab-ops/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Tab-ops/subscriptions",
      "organizations_url": "https://api.github.com/users/Tab-ops/orgs",
      "repos_url": "https://api.github.com/users/Tab-ops/repos",
      "events_url": "https://api.github.com/users/Tab-ops/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Tab-ops/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-06-07T02:16:43Z",
    "updated_at": "2022-06-07T02:16:43Z",
    "author_association": "NONE",
    "body": "I also encountered this problem. Do I need to change the version and then resynchronize? @yunfangjuan ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1148118834/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1148206640",
    "html_url": "https://github.com/ethereum-optimism/optimism/issues/2590#issuecomment-1148206640",
    "issue_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/2590",
    "id": 1148206640,
    "node_id": "IC_kwDODjvEJM5EcD4w",
    "user": {
      "login": "smartcontracts",
      "id": 14298799,
      "node_id": "MDQ6VXNlcjE0Mjk4Nzk5",
      "avatar_url": "https://avatars.githubusercontent.com/u/14298799?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/smartcontracts",
      "html_url": "https://github.com/smartcontracts",
      "followers_url": "https://api.github.com/users/smartcontracts/followers",
      "following_url": "https://api.github.com/users/smartcontracts/following{/other_user}",
      "gists_url": "https://api.github.com/users/smartcontracts/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/smartcontracts/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/smartcontracts/subscriptions",
      "organizations_url": "https://api.github.com/users/smartcontracts/orgs",
      "repos_url": "https://api.github.com/users/smartcontracts/repos",
      "events_url": "https://api.github.com/users/smartcontracts/events{/privacy}",
      "received_events_url": "https://api.github.com/users/smartcontracts/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-06-07T05:16:22Z",
    "updated_at": "2022-06-07T05:16:22Z",
    "author_association": "CONTRIBUTOR",
    "body": "@Tab-ops yes you will need to resynchronize with the lastest version",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1148206640/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1148212791",
    "html_url": "https://github.com/ethereum-optimism/optimism/issues/2590#issuecomment-1148212791",
    "issue_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/2590",
    "id": 1148212791,
    "node_id": "IC_kwDODjvEJM5EcFY3",
    "user": {
      "login": "Tab-ops",
      "id": 53932327,
      "node_id": "MDQ6VXNlcjUzOTMyMzI3",
      "avatar_url": "https://avatars.githubusercontent.com/u/53932327?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Tab-ops",
      "html_url": "https://github.com/Tab-ops",
      "followers_url": "https://api.github.com/users/Tab-ops/followers",
      "following_url": "https://api.github.com/users/Tab-ops/following{/other_user}",
      "gists_url": "https://api.github.com/users/Tab-ops/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Tab-ops/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Tab-ops/subscriptions",
      "organizations_url": "https://api.github.com/users/Tab-ops/orgs",
      "repos_url": "https://api.github.com/users/Tab-ops/repos",
      "events_url": "https://api.github.com/users/Tab-ops/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Tab-ops/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-06-07T05:27:44Z",
    "updated_at": "2022-06-07T05:27:44Z",
    "author_association": "NONE",
    "body": "@smartcontracts Is it like this？\r\nL2GETH_IMAGE_TAG=latest\r\nDTL_IMAGE_TAG=latest\r\nHC_IMAGE_TAG=latest",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1148212791/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
