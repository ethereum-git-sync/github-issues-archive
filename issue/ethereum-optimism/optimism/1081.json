{
  "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/1081",
  "repository_url": "https://api.github.com/repos/ethereum-optimism/optimism",
  "labels_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/1081/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/1081/comments",
  "events_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/1081/events",
  "html_url": "https://github.com/ethereum-optimism/optimism/issues/1081",
  "id": 920590962,
  "node_id": "MDU6SXNzdWU5MjA1OTA5NjI=",
  "number": 1081,
  "title": "`fee too low` error on Truffle migration or test when using ops tool",
  "user": {
    "login": "platocrat",
    "id": 37757724,
    "node_id": "MDQ6VXNlcjM3NzU3NzI0",
    "avatar_url": "https://avatars.githubusercontent.com/u/37757724?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/platocrat",
    "html_url": "https://github.com/platocrat",
    "followers_url": "https://api.github.com/users/platocrat/followers",
    "following_url": "https://api.github.com/users/platocrat/following{/other_user}",
    "gists_url": "https://api.github.com/users/platocrat/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/platocrat/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/platocrat/subscriptions",
    "organizations_url": "https://api.github.com/users/platocrat/orgs",
    "repos_url": "https://api.github.com/users/platocrat/repos",
    "events_url": "https://api.github.com/users/platocrat/events{/privacy}",
    "received_events_url": "https://api.github.com/users/platocrat/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 2907832490,
      "node_id": "MDU6TGFiZWwyOTA3ODMyNDkw",
      "url": "https://api.github.com/repos/ethereum-optimism/optimism/labels/C-bug",
      "name": "C-bug",
      "color": "C5DEF5",
      "default": false,
      "description": "Category: This is a bug."
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 16,
  "created_at": "2021-06-14T16:43:20Z",
  "updated_at": "2021-10-26T23:12:48Z",
  "closed_at": "2021-10-26T23:12:48Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "<!--\r\nNeed help?\r\nRefer to our contributing guidelines for additional information about making a good issue:\r\nhttps://github.com/ethereum-optimism/.github/blob/master/CONTRIBUTING.md\r\n-->\r\n\r\n**Describe the bug**\r\nUsers in Discord reported errors when using Kovan **AND** the ops tool.\r\nRunning Truffle tests results in a `fee too low error`.\r\n```\r\nError: while migrating ERC20: fee too low: 100829625000000, \r\nuse at least tx.gasLimit = 54181975 and tx.gasPrice = 15000000\r\n```\r\n\r\nNote that this error is _after_ hardcoding a `gasLimit` and `gasPrice` that matches the error log's suggestion (also, based on user reports, I had different suggested values than those reported).\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n1. `git clone https://github.com/ethereum-optimism/optimism.git`\r\n2. Pull recent changes from develop branch: `git pull origin develop`\r\n3. Start docker services: `yarn && yarn build && cd ops && docker-compose build && docker-compose up`\r\n4. In a new terminal, run Truffle tests under `optimism/examples/truffle`:  `yarn truffle test --network optimism --config truffle-config-ovm.js`\r\n5. See error:\r\n```\r\nError: while migrating ERC20: fee too low: 100829625000000, \r\nuse at least tx.gasLimit = 54181975 and tx.gasPrice = 15000000\r\n```\r\n\r\n**Expected behavior**\r\nTests should pass after adding the suggested gasLimit and gasPrice values\r\n\r\n**System Specs:**\r\n - OS: MacOS\r\n - [Latest commit of `develop` branch](https://github.com/ethereum-optimism/optimism/commit/6d7b12b8693117c379be76223448ef36707304d2) \r\n",
  "closed_by": {
    "login": "smartcontracts",
    "id": 14298799,
    "node_id": "MDQ6VXNlcjE0Mjk4Nzk5",
    "avatar_url": "https://avatars.githubusercontent.com/u/14298799?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/smartcontracts",
    "html_url": "https://github.com/smartcontracts",
    "followers_url": "https://api.github.com/users/smartcontracts/followers",
    "following_url": "https://api.github.com/users/smartcontracts/following{/other_user}",
    "gists_url": "https://api.github.com/users/smartcontracts/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/smartcontracts/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/smartcontracts/subscriptions",
    "organizations_url": "https://api.github.com/users/smartcontracts/orgs",
    "repos_url": "https://api.github.com/users/smartcontracts/repos",
    "events_url": "https://api.github.com/users/smartcontracts/events{/privacy}",
    "received_events_url": "https://api.github.com/users/smartcontracts/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/1081/reactions",
    "total_count": 2,
    "+1": 2,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/1081/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/861855503",
    "html_url": "https://github.com/ethereum-optimism/optimism/issues/1081#issuecomment-861855503",
    "issue_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/1081",
    "id": 861855503,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg2MTg1NTUwMw==",
    "user": {
      "login": "JarenL",
      "id": 12476725,
      "node_id": "MDQ6VXNlcjEyNDc2NzI1",
      "avatar_url": "https://avatars.githubusercontent.com/u/12476725?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/JarenL",
      "html_url": "https://github.com/JarenL",
      "followers_url": "https://api.github.com/users/JarenL/followers",
      "following_url": "https://api.github.com/users/JarenL/following{/other_user}",
      "gists_url": "https://api.github.com/users/JarenL/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/JarenL/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/JarenL/subscriptions",
      "organizations_url": "https://api.github.com/users/JarenL/orgs",
      "repos_url": "https://api.github.com/users/JarenL/repos",
      "events_url": "https://api.github.com/users/JarenL/events{/privacy}",
      "received_events_url": "https://api.github.com/users/JarenL/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-06-15T21:47:16Z",
    "updated_at": "2021-06-15T21:47:41Z",
    "author_association": "NONE",
    "body": "Similar issue.\r\n\r\nUsing Truffle v5.3.9 \r\n\r\n`? Pick a network optimistic_kovan\r\n‚úñ Preparing everything to publish the project. Deploying new App contract\r\nfee too low: 120000000000000, use at least tx.gasLimit = 80430000 and tx.gasPrice = 15000000`",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/861855503/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/864289281",
    "html_url": "https://github.com/ethereum-optimism/optimism/issues/1081#issuecomment-864289281",
    "issue_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/1081",
    "id": 864289281,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg2NDI4OTI4MQ==",
    "user": {
      "login": "tynes",
      "id": 6626818,
      "node_id": "MDQ6VXNlcjY2MjY4MTg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6626818?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tynes",
      "html_url": "https://github.com/tynes",
      "followers_url": "https://api.github.com/users/tynes/followers",
      "following_url": "https://api.github.com/users/tynes/following{/other_user}",
      "gists_url": "https://api.github.com/users/tynes/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tynes/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tynes/subscriptions",
      "organizations_url": "https://api.github.com/users/tynes/orgs",
      "repos_url": "https://api.github.com/users/tynes/repos",
      "events_url": "https://api.github.com/users/tynes/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tynes/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-06-18T21:44:34Z",
    "updated_at": "2021-06-18T21:44:34Z",
    "author_association": "CONTRIBUTOR",
    "body": "What is your `tx.gasLimit` and `tx.gasPrice`? I believe truffle hard codes the gas price for deployment txs",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/864289281/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/869657376",
    "html_url": "https://github.com/ethereum-optimism/optimism/issues/1081#issuecomment-869657376",
    "issue_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/1081",
    "id": 869657376,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg2OTY1NzM3Ng==",
    "user": {
      "login": "rube-de",
      "id": 8930910,
      "node_id": "MDQ6VXNlcjg5MzA5MTA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8930910?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rube-de",
      "html_url": "https://github.com/rube-de",
      "followers_url": "https://api.github.com/users/rube-de/followers",
      "following_url": "https://api.github.com/users/rube-de/following{/other_user}",
      "gists_url": "https://api.github.com/users/rube-de/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rube-de/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rube-de/subscriptions",
      "organizations_url": "https://api.github.com/users/rube-de/orgs",
      "repos_url": "https://api.github.com/users/rube-de/repos",
      "events_url": "https://api.github.com/users/rube-de/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rube-de/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-06-28T12:51:50Z",
    "updated_at": "2021-06-28T12:51:50Z",
    "author_association": "NONE",
    "body": "any update on this? running the truffle-erc20-example and being unable to follow it because of this error.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/869657376/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/872484009",
    "html_url": "https://github.com/ethereum-optimism/optimism/issues/1081#issuecomment-872484009",
    "issue_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/1081",
    "id": 872484009,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg3MjQ4NDAwOQ==",
    "user": {
      "login": "JarenL",
      "id": 12476725,
      "node_id": "MDQ6VXNlcjEyNDc2NzI1",
      "avatar_url": "https://avatars.githubusercontent.com/u/12476725?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/JarenL",
      "html_url": "https://github.com/JarenL",
      "followers_url": "https://api.github.com/users/JarenL/followers",
      "following_url": "https://api.github.com/users/JarenL/following{/other_user}",
      "gists_url": "https://api.github.com/users/JarenL/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/JarenL/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/JarenL/subscriptions",
      "organizations_url": "https://api.github.com/users/JarenL/orgs",
      "repos_url": "https://api.github.com/users/JarenL/repos",
      "events_url": "https://api.github.com/users/JarenL/events{/privacy}",
      "received_events_url": "https://api.github.com/users/JarenL/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-01T19:06:50Z",
    "updated_at": "2021-07-01T19:06:50Z",
    "author_association": "NONE",
    "body": "@tynes I used Optimism suggested then tried with the values from the error, no change error still persists.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/872484009/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/872868295",
    "html_url": "https://github.com/ethereum-optimism/optimism/issues/1081#issuecomment-872868295",
    "issue_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/1081",
    "id": 872868295,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg3Mjg2ODI5NQ==",
    "user": {
      "login": "djomaa",
      "id": 33370991,
      "node_id": "MDQ6VXNlcjMzMzcwOTkx",
      "avatar_url": "https://avatars.githubusercontent.com/u/33370991?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/djomaa",
      "html_url": "https://github.com/djomaa",
      "followers_url": "https://api.github.com/users/djomaa/followers",
      "following_url": "https://api.github.com/users/djomaa/following{/other_user}",
      "gists_url": "https://api.github.com/users/djomaa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/djomaa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/djomaa/subscriptions",
      "organizations_url": "https://api.github.com/users/djomaa/orgs",
      "repos_url": "https://api.github.com/users/djomaa/repos",
      "events_url": "https://api.github.com/users/djomaa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/djomaa/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-02T09:45:10Z",
    "updated_at": "2021-07-02T12:10:07Z",
    "author_association": "NONE",
    "body": "It seems truffle estimates too low gas limit. \r\nFor me hardcoding `gasLimit` from the error to `deployer.deploy(Contract, { gasLimit: <value from error> })` and setting `gasPrice` in truffle-config to `15000000` worked.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/872868295/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/881795566",
    "html_url": "https://github.com/ethereum-optimism/optimism/issues/1081#issuecomment-881795566",
    "issue_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/1081",
    "id": 881795566,
    "node_id": "IC_kwDODjvEJM40jyHu",
    "user": {
      "login": "qbzzt",
      "id": 12722969,
      "node_id": "MDQ6VXNlcjEyNzIyOTY5",
      "avatar_url": "https://avatars.githubusercontent.com/u/12722969?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/qbzzt",
      "html_url": "https://github.com/qbzzt",
      "followers_url": "https://api.github.com/users/qbzzt/followers",
      "following_url": "https://api.github.com/users/qbzzt/following{/other_user}",
      "gists_url": "https://api.github.com/users/qbzzt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/qbzzt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/qbzzt/subscriptions",
      "organizations_url": "https://api.github.com/users/qbzzt/orgs",
      "repos_url": "https://api.github.com/users/qbzzt/repos",
      "events_url": "https://api.github.com/users/qbzzt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/qbzzt/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-17T01:44:16Z",
    "updated_at": "2021-07-17T02:00:09Z",
    "author_association": "CONTRIBUTOR",
    "body": "This error is still happening with the latest code. It might be a clue that \r\n\r\n```javascript\r\nx = await Counter.new()\r\n```\r\n\r\nsucceeds in the console with this Counter.sol (bytecode length 755 bytes):\r\n\r\n```solidity\r\npragma solidity >=0.5.0;\r\n\r\n\r\ncontract Counter {\r\n        uint value = 0;\r\n\r\n        event Asked4Value(uint);\r\n\r\n        function increment() external {\r\n                value++;\r\n                emit Asked4Value(value);\r\n        }\r\n}\r\n```\r\n\r\nBut fails (with the error in this issue) with this one (bytecode length 869 bytes):\r\n\r\n```solidity\r\npragma solidity >=0.5.0;\r\n\r\n\r\ncontract Counter {\r\n        uint value = 0;\r\n\r\n        event Asked4Value(address);\r\n\r\n        function increment() external {\r\n                value++;\r\n                emit Asked4Value(msg.sender);\r\n        }\r\n}\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/881795566/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/883573244",
    "html_url": "https://github.com/ethereum-optimism/optimism/issues/1081#issuecomment-883573244",
    "issue_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/1081",
    "id": 883573244,
    "node_id": "IC_kwDODjvEJM40qkH8",
    "user": {
      "login": "JarenL",
      "id": 12476725,
      "node_id": "MDQ6VXNlcjEyNDc2NzI1",
      "avatar_url": "https://avatars.githubusercontent.com/u/12476725?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/JarenL",
      "html_url": "https://github.com/JarenL",
      "followers_url": "https://api.github.com/users/JarenL/followers",
      "following_url": "https://api.github.com/users/JarenL/following{/other_user}",
      "gists_url": "https://api.github.com/users/JarenL/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/JarenL/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/JarenL/subscriptions",
      "organizations_url": "https://api.github.com/users/JarenL/orgs",
      "repos_url": "https://api.github.com/users/JarenL/repos",
      "events_url": "https://api.github.com/users/JarenL/events{/privacy}",
      "received_events_url": "https://api.github.com/users/JarenL/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-20T17:38:35Z",
    "updated_at": "2021-07-20T17:38:35Z",
    "author_association": "NONE",
    "body": "Is there anyone out there who has deployed on optimism with truffle?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/883573244/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/883575975",
    "html_url": "https://github.com/ethereum-optimism/optimism/issues/1081#issuecomment-883575975",
    "issue_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/1081",
    "id": 883575975,
    "node_id": "IC_kwDODjvEJM40qkyn",
    "user": {
      "login": "tynes",
      "id": 6626818,
      "node_id": "MDQ6VXNlcjY2MjY4MTg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6626818?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tynes",
      "html_url": "https://github.com/tynes",
      "followers_url": "https://api.github.com/users/tynes/followers",
      "following_url": "https://api.github.com/users/tynes/following{/other_user}",
      "gists_url": "https://api.github.com/users/tynes/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tynes/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tynes/subscriptions",
      "organizations_url": "https://api.github.com/users/tynes/orgs",
      "repos_url": "https://api.github.com/users/tynes/repos",
      "events_url": "https://api.github.com/users/tynes/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tynes/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-20T17:42:46Z",
    "updated_at": "2021-07-20T17:42:46Z",
    "author_association": "CONTRIBUTOR",
    "body": "To get the example to work, we had to hard code the gas limit in the deployment transaction. Truffle seems to use a hardcoded, constant amount of gas for all deployment transactions, see: https://github.com/ethereum-optimism/optimism/blob/c7bc85deee999b8edfbe187b302d0ea262638ca9/examples/truffle/truffle-config-ovm.js#L20",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/883575975/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/883595471",
    "html_url": "https://github.com/ethereum-optimism/optimism/issues/1081#issuecomment-883595471",
    "issue_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/1081",
    "id": 883595471,
    "node_id": "IC_kwDODjvEJM40qpjP",
    "user": {
      "login": "JarenL",
      "id": 12476725,
      "node_id": "MDQ6VXNlcjEyNDc2NzI1",
      "avatar_url": "https://avatars.githubusercontent.com/u/12476725?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/JarenL",
      "html_url": "https://github.com/JarenL",
      "followers_url": "https://api.github.com/users/JarenL/followers",
      "following_url": "https://api.github.com/users/JarenL/following{/other_user}",
      "gists_url": "https://api.github.com/users/JarenL/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/JarenL/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/JarenL/subscriptions",
      "organizations_url": "https://api.github.com/users/JarenL/orgs",
      "repos_url": "https://api.github.com/users/JarenL/repos",
      "events_url": "https://api.github.com/users/JarenL/events{/privacy}",
      "received_events_url": "https://api.github.com/users/JarenL/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-20T18:13:52Z",
    "updated_at": "2021-07-20T18:14:33Z",
    "author_association": "NONE",
    "body": "@tynes I tried what you did, direct copy, still same error. I am trying to deploy to optimism-kovan, does that require something different?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/883595471/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/883609951",
    "html_url": "https://github.com/ethereum-optimism/optimism/issues/1081#issuecomment-883609951",
    "issue_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/1081",
    "id": 883609951,
    "node_id": "IC_kwDODjvEJM40qtFf",
    "user": {
      "login": "JarenL",
      "id": 12476725,
      "node_id": "MDQ6VXNlcjEyNDc2NzI1",
      "avatar_url": "https://avatars.githubusercontent.com/u/12476725?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/JarenL",
      "html_url": "https://github.com/JarenL",
      "followers_url": "https://api.github.com/users/JarenL/followers",
      "following_url": "https://api.github.com/users/JarenL/following{/other_user}",
      "gists_url": "https://api.github.com/users/JarenL/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/JarenL/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/JarenL/subscriptions",
      "organizations_url": "https://api.github.com/users/JarenL/orgs",
      "repos_url": "https://api.github.com/users/JarenL/repos",
      "events_url": "https://api.github.com/users/JarenL/events{/privacy}",
      "received_events_url": "https://api.github.com/users/JarenL/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-20T18:37:35Z",
    "updated_at": "2021-07-20T18:37:35Z",
    "author_association": "NONE",
    "body": "Truffle put out a [optimism-box](https://github.com/truffle-box/optimism-box). Followed the steps there for optimism-kovan setup, still running into issues with the whole \"fee too low\" issue everyone is having.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/883609951/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/886878882",
    "html_url": "https://github.com/ethereum-optimism/optimism/issues/1081#issuecomment-886878882",
    "issue_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/1081",
    "id": 886878882,
    "node_id": "IC_kwDODjvEJM403LKi",
    "user": {
      "login": "haydenyoung",
      "id": 936565,
      "node_id": "MDQ6VXNlcjkzNjU2NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/936565?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/haydenyoung",
      "html_url": "https://github.com/haydenyoung",
      "followers_url": "https://api.github.com/users/haydenyoung/followers",
      "following_url": "https://api.github.com/users/haydenyoung/following{/other_user}",
      "gists_url": "https://api.github.com/users/haydenyoung/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/haydenyoung/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/haydenyoung/subscriptions",
      "organizations_url": "https://api.github.com/users/haydenyoung/orgs",
      "repos_url": "https://api.github.com/users/haydenyoung/repos",
      "events_url": "https://api.github.com/users/haydenyoung/events{/privacy}",
      "received_events_url": "https://api.github.com/users/haydenyoung/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-26T17:11:09Z",
    "updated_at": "2021-07-26T17:11:09Z",
    "author_association": "NONE",
    "body": "Also running into the fee to low error with the truffle example project https://github.com/ethereum-optimism/Truffle-ERC20-Example. Got the truffle box example working though https://github.com/ethereum-optimism/optimism-tutorial/tree/main/truffle but it is a lot smaller than the first example.\r\n\r\nThe example results in a gas limit that far exceeds optimisms max tx gaslimit and hence the gaslimit error (setting `gas: 54180130` in the truffle config doesn't work for me either).\r\n\r\nA couple of interesting points:\r\n\r\nDeploying the contract to ganache yielded a much smaller estimated gas:\r\n\r\nganache: 649757\r\noptimism-ethereum: 54180130\r\n\r\nAlso, changing the TARGET_GAS_LIMIT in optimism to something much higher did result in a different error (something about insufficient funds).\r\n\r\nIt seems that the truffle line \r\n\r\n```\r\ntoken = await ERC20.new(10000, tokenName, tokenDecimals, tokenSymbol, { from: accounts[0] })\r\n```\r\ncauses issues on Optimism resulting in a much larger gas limit which is outside the max gas limit of Optimism. My understanding is the gas limit will be higher when deploying contracts on Optimism but is it only 25% because this seems 10x higher.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/886878882/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/886906097",
    "html_url": "https://github.com/ethereum-optimism/optimism/issues/1081#issuecomment-886906097",
    "issue_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/1081",
    "id": 886906097,
    "node_id": "IC_kwDODjvEJM403Rzx",
    "user": {
      "login": "djomaa",
      "id": 33370991,
      "node_id": "MDQ6VXNlcjMzMzcwOTkx",
      "avatar_url": "https://avatars.githubusercontent.com/u/33370991?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/djomaa",
      "html_url": "https://github.com/djomaa",
      "followers_url": "https://api.github.com/users/djomaa/followers",
      "following_url": "https://api.github.com/users/djomaa/following{/other_user}",
      "gists_url": "https://api.github.com/users/djomaa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/djomaa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/djomaa/subscriptions",
      "organizations_url": "https://api.github.com/users/djomaa/orgs",
      "repos_url": "https://api.github.com/users/djomaa/repos",
      "events_url": "https://api.github.com/users/djomaa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/djomaa/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-26T17:53:29Z",
    "updated_at": "2021-07-26T17:53:29Z",
    "author_association": "NONE",
    "body": "Estimation gas limit by myself worked for me\r\n[code link](https://rentry.co/74v3a)",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/886906097/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/887398790",
    "html_url": "https://github.com/ethereum-optimism/optimism/issues/1081#issuecomment-887398790",
    "issue_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/1081",
    "id": 887398790,
    "node_id": "IC_kwDODjvEJM405KGG",
    "user": {
      "login": "haydenyoung",
      "id": 936565,
      "node_id": "MDQ6VXNlcjkzNjU2NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/936565?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/haydenyoung",
      "html_url": "https://github.com/haydenyoung",
      "followers_url": "https://api.github.com/users/haydenyoung/followers",
      "following_url": "https://api.github.com/users/haydenyoung/following{/other_user}",
      "gists_url": "https://api.github.com/users/haydenyoung/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/haydenyoung/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/haydenyoung/subscriptions",
      "organizations_url": "https://api.github.com/users/haydenyoung/orgs",
      "repos_url": "https://api.github.com/users/haydenyoung/repos",
      "events_url": "https://api.github.com/users/haydenyoung/events{/privacy}",
      "received_events_url": "https://api.github.com/users/haydenyoung/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-27T10:28:29Z",
    "updated_at": "2021-07-27T10:28:43Z",
    "author_association": "NONE",
    "body": "strangely enough, setting gasPrice: 0 on the tx works for me\r\n```\r\n{ gasPrice: 0 }\r\n````",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/887398790/reactions",
      "total_count": 2,
      "+1": 2,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/889960844",
    "html_url": "https://github.com/ethereum-optimism/optimism/issues/1081#issuecomment-889960844",
    "issue_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/1081",
    "id": 889960844,
    "node_id": "IC_kwDODjvEJM41C7mM",
    "user": {
      "login": "platocrat",
      "id": 37757724,
      "node_id": "MDQ6VXNlcjM3NzU3NzI0",
      "avatar_url": "https://avatars.githubusercontent.com/u/37757724?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/platocrat",
      "html_url": "https://github.com/platocrat",
      "followers_url": "https://api.github.com/users/platocrat/followers",
      "following_url": "https://api.github.com/users/platocrat/following{/other_user}",
      "gists_url": "https://api.github.com/users/platocrat/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/platocrat/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/platocrat/subscriptions",
      "organizations_url": "https://api.github.com/users/platocrat/orgs",
      "repos_url": "https://api.github.com/users/platocrat/repos",
      "events_url": "https://api.github.com/users/platocrat/events{/privacy}",
      "received_events_url": "https://api.github.com/users/platocrat/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-30T15:14:54Z",
    "updated_at": "2021-07-30T15:14:54Z",
    "author_association": "CONTRIBUTOR",
    "body": "Is this still an issue?\r\n\r\nI noticed that I need to hardcode a gasLimit for all of my transactions that change state.\r\n\r\nAlso, \r\n> strangely enough, setting gasPrice: 0 on the tx works for me\r\n> \r\n> ```\r\n> { gasPrice: 0 }\r\n> ```\r\n\r\nSetting `gasPrice` to 0 would not work on Kovan for sending transactions, just a friendly FYI üòÉ ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/889960844/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/890056136",
    "html_url": "https://github.com/ethereum-optimism/optimism/issues/1081#issuecomment-890056136",
    "issue_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/1081",
    "id": 890056136,
    "node_id": "IC_kwDODjvEJM41DS3I",
    "user": {
      "login": "JarenL",
      "id": 12476725,
      "node_id": "MDQ6VXNlcjEyNDc2NzI1",
      "avatar_url": "https://avatars.githubusercontent.com/u/12476725?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/JarenL",
      "html_url": "https://github.com/JarenL",
      "followers_url": "https://api.github.com/users/JarenL/followers",
      "following_url": "https://api.github.com/users/JarenL/following{/other_user}",
      "gists_url": "https://api.github.com/users/JarenL/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/JarenL/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/JarenL/subscriptions",
      "organizations_url": "https://api.github.com/users/JarenL/orgs",
      "repos_url": "https://api.github.com/users/JarenL/repos",
      "events_url": "https://api.github.com/users/JarenL/events{/privacy}",
      "received_events_url": "https://api.github.com/users/JarenL/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-30T17:51:22Z",
    "updated_at": "2021-07-30T17:52:22Z",
    "author_association": "NONE",
    "body": "@platocrat Yes still an issue for me. Cannot deploy anything on optimism kovan with truffle, same errors.\r\n\r\nIf anyone has code that's working please share üòÅ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/890056136/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/952399267",
    "html_url": "https://github.com/ethereum-optimism/optimism/issues/1081#issuecomment-952399267",
    "issue_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/1081",
    "id": 952399267,
    "node_id": "IC_kwDODjvEJM44xHWj",
    "user": {
      "login": "smartcontracts",
      "id": 14298799,
      "node_id": "MDQ6VXNlcjE0Mjk4Nzk5",
      "avatar_url": "https://avatars.githubusercontent.com/u/14298799?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/smartcontracts",
      "html_url": "https://github.com/smartcontracts",
      "followers_url": "https://api.github.com/users/smartcontracts/followers",
      "following_url": "https://api.github.com/users/smartcontracts/following{/other_user}",
      "gists_url": "https://api.github.com/users/smartcontracts/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/smartcontracts/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/smartcontracts/subscriptions",
      "organizations_url": "https://api.github.com/users/smartcontracts/orgs",
      "repos_url": "https://api.github.com/users/smartcontracts/repos",
      "events_url": "https://api.github.com/users/smartcontracts/events{/privacy}",
      "received_events_url": "https://api.github.com/users/smartcontracts/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-10-26T23:12:48Z",
    "updated_at": "2021-10-26T23:12:48Z",
    "author_association": "CONTRIBUTOR",
    "body": "\"Fixed\" in OVM 2.0. Truffle will \"just work\". Please see OVM 2.0 tutorials on https://community.optimism.io for more information.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/952399267/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
