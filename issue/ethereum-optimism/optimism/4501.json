{
  "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/4501",
  "repository_url": "https://api.github.com/repos/ethereum-optimism/optimism",
  "labels_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/4501/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/4501/comments",
  "events_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/4501/events",
  "html_url": "https://github.com/ethereum-optimism/optimism/issues/4501",
  "id": 1498904719,
  "node_id": "I_kwDODjvEJM5ZV3iP",
  "number": 4501,
  "title": "@eth-optimism/sdk doesn't work in react/browser",
  "user": {
    "login": "miguelmota",
    "id": 168240,
    "node_id": "MDQ6VXNlcjE2ODI0MA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/168240?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/miguelmota",
    "html_url": "https://github.com/miguelmota",
    "followers_url": "https://api.github.com/users/miguelmota/followers",
    "following_url": "https://api.github.com/users/miguelmota/following{/other_user}",
    "gists_url": "https://api.github.com/users/miguelmota/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/miguelmota/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/miguelmota/subscriptions",
    "organizations_url": "https://api.github.com/users/miguelmota/orgs",
    "repos_url": "https://api.github.com/users/miguelmota/repos",
    "events_url": "https://api.github.com/users/miguelmota/events{/privacy}",
    "received_events_url": "https://api.github.com/users/miguelmota/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": {
    "login": "roninjin10",
    "id": 35039927,
    "node_id": "MDQ6VXNlcjM1MDM5OTI3",
    "avatar_url": "https://avatars.githubusercontent.com/u/35039927?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/roninjin10",
    "html_url": "https://github.com/roninjin10",
    "followers_url": "https://api.github.com/users/roninjin10/followers",
    "following_url": "https://api.github.com/users/roninjin10/following{/other_user}",
    "gists_url": "https://api.github.com/users/roninjin10/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/roninjin10/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/roninjin10/subscriptions",
    "organizations_url": "https://api.github.com/users/roninjin10/orgs",
    "repos_url": "https://api.github.com/users/roninjin10/repos",
    "events_url": "https://api.github.com/users/roninjin10/events{/privacy}",
    "received_events_url": "https://api.github.com/users/roninjin10/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "roninjin10",
      "id": 35039927,
      "node_id": "MDQ6VXNlcjM1MDM5OTI3",
      "avatar_url": "https://avatars.githubusercontent.com/u/35039927?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/roninjin10",
      "html_url": "https://github.com/roninjin10",
      "followers_url": "https://api.github.com/users/roninjin10/followers",
      "following_url": "https://api.github.com/users/roninjin10/following{/other_user}",
      "gists_url": "https://api.github.com/users/roninjin10/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/roninjin10/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/roninjin10/subscriptions",
      "organizations_url": "https://api.github.com/users/roninjin10/orgs",
      "repos_url": "https://api.github.com/users/roninjin10/repos",
      "events_url": "https://api.github.com/users/roninjin10/events{/privacy}",
      "received_events_url": "https://api.github.com/users/roninjin10/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 7,
  "created_at": "2022-12-15T18:32:31Z",
  "updated_at": "2023-04-16T20:05:28Z",
  "closed_at": "2023-02-03T23:02:32Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "<!--\r\nNeed help?\r\nRefer to our contributing guidelines for additional information about making a good issue:\r\nhttps://github.com/ethereum-optimism/.github/blob/master/CONTRIBUTING.md\r\n-->\r\n\r\n**Describe the bug**\r\n\r\nThe package `@eth-optimism/sdk` can't be imported in a browser react app.\r\n\r\n**To Reproduce**\r\n\r\n```sh\r\nnpx create-react-app my-app\r\ncd my-app\r\nnpm i @eth-optimism/sdk --save\r\n```\r\n\r\nImport in `src/App.js`\r\n\r\n```js\r\nimport * as op from '@eth-optimism/sdk'\r\nimport logo from './logo.svg';\r\nimport './App.css';\r\n\r\nconsole.log(op)\r\n```\r\n\r\n**Expected behavior**\r\n\r\nNo import errors\r\n\r\n**Screenshots**\r\n\r\n![DeepinScreenshot_select-area_20221215102821](https://user-images.githubusercontent.com/168240/207939558-621fb5c5-2ae1-440c-8e43-f1a2054beefc.png)\r\n\r\n\r\n**System Specs:**\r\n - OS: N/A\r\n - Package Version (or commit hash):     `\"@eth-optimism/sdk\": \"^1.8.0\"`\r\n\r\n**Additional context**\r\n\r\nTrying the suggested steps of installing `browserify-zlib` and `assert` didn't resolve it either.\r\n",
  "closed_by": {
    "login": "roninjin10",
    "id": 35039927,
    "node_id": "MDQ6VXNlcjM1MDM5OTI3",
    "avatar_url": "https://avatars.githubusercontent.com/u/35039927?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/roninjin10",
    "html_url": "https://github.com/roninjin10",
    "followers_url": "https://api.github.com/users/roninjin10/followers",
    "following_url": "https://api.github.com/users/roninjin10/following{/other_user}",
    "gists_url": "https://api.github.com/users/roninjin10/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/roninjin10/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/roninjin10/subscriptions",
    "organizations_url": "https://api.github.com/users/roninjin10/orgs",
    "repos_url": "https://api.github.com/users/roninjin10/repos",
    "events_url": "https://api.github.com/users/roninjin10/events{/privacy}",
    "received_events_url": "https://api.github.com/users/roninjin10/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/4501/reactions",
    "total_count": 1,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 1,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/4501/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1353741794",
    "html_url": "https://github.com/ethereum-optimism/optimism/issues/4501#issuecomment-1353741794",
    "issue_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/4501",
    "id": 1353741794,
    "node_id": "IC_kwDODjvEJM5QsHXi",
    "user": {
      "login": "smartcontracts",
      "id": 14298799,
      "node_id": "MDQ6VXNlcjE0Mjk4Nzk5",
      "avatar_url": "https://avatars.githubusercontent.com/u/14298799?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/smartcontracts",
      "html_url": "https://github.com/smartcontracts",
      "followers_url": "https://api.github.com/users/smartcontracts/followers",
      "following_url": "https://api.github.com/users/smartcontracts/following{/other_user}",
      "gists_url": "https://api.github.com/users/smartcontracts/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/smartcontracts/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/smartcontracts/subscriptions",
      "organizations_url": "https://api.github.com/users/smartcontracts/orgs",
      "repos_url": "https://api.github.com/users/smartcontracts/repos",
      "events_url": "https://api.github.com/users/smartcontracts/events{/privacy}",
      "received_events_url": "https://api.github.com/users/smartcontracts/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-12-15T21:39:21Z",
    "updated_at": "2022-12-15T21:39:21Z",
    "author_association": "CONTRIBUTOR",
    "body": "Looking into it!",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1353741794/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1353813211",
    "html_url": "https://github.com/ethereum-optimism/optimism/issues/4501#issuecomment-1353813211",
    "issue_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/4501",
    "id": 1353813211,
    "node_id": "IC_kwDODjvEJM5QsYzb",
    "user": {
      "login": "smartcontracts",
      "id": 14298799,
      "node_id": "MDQ6VXNlcjE0Mjk4Nzk5",
      "avatar_url": "https://avatars.githubusercontent.com/u/14298799?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/smartcontracts",
      "html_url": "https://github.com/smartcontracts",
      "followers_url": "https://api.github.com/users/smartcontracts/followers",
      "following_url": "https://api.github.com/users/smartcontracts/following{/other_user}",
      "gists_url": "https://api.github.com/users/smartcontracts/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/smartcontracts/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/smartcontracts/subscriptions",
      "organizations_url": "https://api.github.com/users/smartcontracts/orgs",
      "repos_url": "https://api.github.com/users/smartcontracts/repos",
      "events_url": "https://api.github.com/users/smartcontracts/events{/privacy}",
      "received_events_url": "https://api.github.com/users/smartcontracts/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-12-15T22:49:22Z",
    "updated_at": "2022-12-15T22:49:22Z",
    "author_association": "CONTRIBUTOR",
    "body": "Working on this in #4506. Would you mind testing out this canary release for me? I'm away from my computer for the rest of the evening. Otherwise I can test for myself tomorrow. https://www.npmjs.com/package/@eth-optimism/sdk/v/0.0.0-20221115223117",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1353813211/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1355132732",
    "html_url": "https://github.com/ethereum-optimism/optimism/issues/4501#issuecomment-1355132732",
    "issue_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/4501",
    "id": 1355132732,
    "node_id": "IC_kwDODjvEJM5Qxa88",
    "user": {
      "login": "smartcontracts",
      "id": 14298799,
      "node_id": "MDQ6VXNlcjE0Mjk4Nzk5",
      "avatar_url": "https://avatars.githubusercontent.com/u/14298799?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/smartcontracts",
      "html_url": "https://github.com/smartcontracts",
      "followers_url": "https://api.github.com/users/smartcontracts/followers",
      "following_url": "https://api.github.com/users/smartcontracts/following{/other_user}",
      "gists_url": "https://api.github.com/users/smartcontracts/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/smartcontracts/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/smartcontracts/subscriptions",
      "organizations_url": "https://api.github.com/users/smartcontracts/orgs",
      "repos_url": "https://api.github.com/users/smartcontracts/repos",
      "events_url": "https://api.github.com/users/smartcontracts/events{/privacy}",
      "received_events_url": "https://api.github.com/users/smartcontracts/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-12-16T15:58:09Z",
    "updated_at": "2022-12-16T15:58:09Z",
    "author_association": "CONTRIBUTOR",
    "body": "@roninjin10 would you mind hopping in here?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1355132732/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1416505307",
    "html_url": "https://github.com/ethereum-optimism/optimism/issues/4501#issuecomment-1416505307",
    "issue_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/4501",
    "id": 1416505307,
    "node_id": "IC_kwDODjvEJM5Ubifb",
    "user": {
      "login": "roninjin10",
      "id": 35039927,
      "node_id": "MDQ6VXNlcjM1MDM5OTI3",
      "avatar_url": "https://avatars.githubusercontent.com/u/35039927?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/roninjin10",
      "html_url": "https://github.com/roninjin10",
      "followers_url": "https://api.github.com/users/roninjin10/followers",
      "following_url": "https://api.github.com/users/roninjin10/following{/other_user}",
      "gists_url": "https://api.github.com/users/roninjin10/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/roninjin10/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/roninjin10/subscriptions",
      "organizations_url": "https://api.github.com/users/roninjin10/orgs",
      "repos_url": "https://api.github.com/users/roninjin10/repos",
      "events_url": "https://api.github.com/users/roninjin10/events{/privacy}",
      "received_events_url": "https://api.github.com/users/roninjin10/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-02-03T23:00:17Z",
    "updated_at": "2023-02-03T23:00:17Z",
    "author_association": "CONTRIBUTOR",
    "body": "@miguelmota working on this now should be fixed sometime next week",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1416505307/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1416507039",
    "html_url": "https://github.com/ethereum-optimism/optimism/issues/4501#issuecomment-1416507039",
    "issue_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/4501",
    "id": 1416507039,
    "node_id": "IC_kwDODjvEJM5Ubi6f",
    "user": {
      "login": "roninjin10",
      "id": 35039927,
      "node_id": "MDQ6VXNlcjM1MDM5OTI3",
      "avatar_url": "https://avatars.githubusercontent.com/u/35039927?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/roninjin10",
      "html_url": "https://github.com/roninjin10",
      "followers_url": "https://api.github.com/users/roninjin10/followers",
      "following_url": "https://api.github.com/users/roninjin10/following{/other_user}",
      "gists_url": "https://api.github.com/users/roninjin10/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/roninjin10/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/roninjin10/subscriptions",
      "organizations_url": "https://api.github.com/users/roninjin10/orgs",
      "repos_url": "https://api.github.com/users/roninjin10/repos",
      "events_url": "https://api.github.com/users/roninjin10/events{/privacy}",
      "received_events_url": "https://api.github.com/users/roninjin10/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-02-03T23:02:32Z",
    "updated_at": "2023-02-03T23:02:32Z",
    "author_association": "CONTRIBUTOR",
    "body": "@miguelmota actually I'm working on a different issue.  Your problem is only that you need to add a pollyfill.   Search for information about pollyfilling node builtins like zlib and you should be good to go.  Let me know if you run into issues",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1416507039/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1510104148",
    "html_url": "https://github.com/ethereum-optimism/optimism/issues/4501#issuecomment-1510104148",
    "issue_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/4501",
    "id": 1510104148,
    "node_id": "IC_kwDODjvEJM5aAlxU",
    "user": {
      "login": "miguelmota",
      "id": 168240,
      "node_id": "MDQ6VXNlcjE2ODI0MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/168240?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/miguelmota",
      "html_url": "https://github.com/miguelmota",
      "followers_url": "https://api.github.com/users/miguelmota/followers",
      "following_url": "https://api.github.com/users/miguelmota/following{/other_user}",
      "gists_url": "https://api.github.com/users/miguelmota/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/miguelmota/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/miguelmota/subscriptions",
      "organizations_url": "https://api.github.com/users/miguelmota/orgs",
      "repos_url": "https://api.github.com/users/miguelmota/repos",
      "events_url": "https://api.github.com/users/miguelmota/events{/privacy}",
      "received_events_url": "https://api.github.com/users/miguelmota/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-04-16T06:19:35Z",
    "updated_at": "2023-04-16T20:05:28Z",
    "author_association": "CONTRIBUTOR",
    "body": "Thanks for looking into this. The use case is to be able to exit transactions in the browser and check the message status. It's not ideal that it'll require dev's to add polyfills but fortunately I found this simple enough solution for create-react-app:\r\n\r\n```bash\r\nnpm i -D @craco/craco\r\nnpm i zlib-browserify\r\n```\r\n\r\n`craco.config.js`\r\n\r\n```js\r\nmodule.exports = {\r\n  webpack: {\r\n    configure: {\r\n      resolve: {\r\n        fallback: {\r\n          zlib: require.resolve('zlib-browserify')\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\n\r\n`package.json`\r\n\r\n```json\r\n  \"scripts\": {\r\n    \"start\": \"craco start\",\r\n    \"build\": \"craco build\"\r\n  }\r\n```\r\n\r\nImportant to note that `browserify-zlib` did not work (albeit more downloaded), and `zlib-browserify` does work.\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1510104148/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 1,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1510406089",
    "html_url": "https://github.com/ethereum-optimism/optimism/issues/4501#issuecomment-1510406089",
    "issue_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/4501",
    "id": 1510406089,
    "node_id": "IC_kwDODjvEJM5aBvfJ",
    "user": {
      "login": "roninjin10",
      "id": 35039927,
      "node_id": "MDQ6VXNlcjM1MDM5OTI3",
      "avatar_url": "https://avatars.githubusercontent.com/u/35039927?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/roninjin10",
      "html_url": "https://github.com/roninjin10",
      "followers_url": "https://api.github.com/users/roninjin10/followers",
      "following_url": "https://api.github.com/users/roninjin10/following{/other_user}",
      "gists_url": "https://api.github.com/users/roninjin10/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/roninjin10/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/roninjin10/subscriptions",
      "organizations_url": "https://api.github.com/users/roninjin10/orgs",
      "repos_url": "https://api.github.com/users/roninjin10/repos",
      "events_url": "https://api.github.com/users/roninjin10/events{/privacy}",
      "received_events_url": "https://api.github.com/users/roninjin10/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-04-16T14:56:36Z",
    "updated_at": "2023-04-16T14:56:36Z",
    "author_association": "CONTRIBUTOR",
    "body": "Glad you found a solution @miguelmota .  I added your feedback to our list for SDK 3.0 upgrades",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1510406089/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
