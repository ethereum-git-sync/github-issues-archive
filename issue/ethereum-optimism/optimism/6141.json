{
  "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/6141",
  "repository_url": "https://api.github.com/repos/ethereum-optimism/optimism",
  "labels_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/6141/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/6141/comments",
  "events_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/6141/events",
  "html_url": "https://github.com/ethereum-optimism/optimism/issues/6141",
  "id": 1774647530,
  "node_id": "I_kwDODjvEJM5pxvjq",
  "number": 6141,
  "title": "Deploying L1 contracts on Goerli fails when following instructions of OP Stack Docs",
  "user": {
    "login": "AndreasKendziorra",
    "id": 40799768,
    "node_id": "MDQ6VXNlcjQwNzk5NzY4",
    "avatar_url": "https://avatars.githubusercontent.com/u/40799768?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/AndreasKendziorra",
    "html_url": "https://github.com/AndreasKendziorra",
    "followers_url": "https://api.github.com/users/AndreasKendziorra/followers",
    "following_url": "https://api.github.com/users/AndreasKendziorra/following{/other_user}",
    "gists_url": "https://api.github.com/users/AndreasKendziorra/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/AndreasKendziorra/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/AndreasKendziorra/subscriptions",
    "organizations_url": "https://api.github.com/users/AndreasKendziorra/orgs",
    "repos_url": "https://api.github.com/users/AndreasKendziorra/repos",
    "events_url": "https://api.github.com/users/AndreasKendziorra/events{/privacy}",
    "received_events_url": "https://api.github.com/users/AndreasKendziorra/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 4,
  "created_at": "2023-06-26T12:16:16Z",
  "updated_at": "2023-06-26T19:45:37Z",
  "closed_at": null,
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "**Describe the bug**\r\nWhen following the [current](https://github.com/ethereum-optimism/optimism/blob/15660862779df0d171e7725050d5f1483c8d8f95/docs/op-stack/src/docs/build/getting-started.md) _getting started_ page of the OP Stack documentation, one gets at the [first deployment step](https://github.com/ethereum-optimism/optimism/blob/15660862779df0d171e7725050d5f1483c8d8f95/docs/op-stack/src/docs/build/getting-started.md?plain=1#L243), which is this one:\r\n```bash\r\nforge script scripts/Deploy.s.sol:Deploy --private-key $PRIVATE_KEY --broadcast --rpc-url $ETH_RPC_URL\r\n```\r\nThe following error will be shown\r\n```\r\n, $.l2GenesisRegolithTimeOffset) \r\n    │   │   └─ ← \"No matching value or array found for key $.l2GenesisRegolithTimeOffset\"\r\n    │   └─ ← 0 bytes of code\r\n    └─ ← \"No matching value or array found for key $.l2GenesisRegolithTimeOffset\"\r\n\r\n\r\n\r\n== Logs ==\r\n  Connected to network with chainid 5\r\n  Storing temp deployment data in /Users/userA/OP_stack_deployment/optimism/packages/contracts-bedrock/deployments/goerli/.deploy\r\n  DeployConfig: reading file /Users/userA/OP_stack_deployment/optimism/packages/contracts-bedrock/deploy-config/goerli.json\r\nError: \r\nScript failed.\r\n```\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n1. Follow all steps of the  [getting started](https://github.com/ethereum-optimism/optimism/blob/15660862779df0d171e7725050d5f1483c8d8f95/docs/op-stack/src/docs/build/getting-started.md) page of the OP Stack doc up to [this line](https://github.com/ethereum-optimism/optimism/blob/15660862779df0d171e7725050d5f1483c8d8f95/docs/op-stack/src/docs/build/getting-started.md?plain=1#L243) (inclusive).\r\n\r\n**Expected behavior**\r\nDeployment succeeds.\r\n\r\n**System Specs:**\r\n - OS: mac OS\r\n - commit hash: [1566086](https://github.com/ethereum-optimism/optimism/commit/15660862779df0d171e7725050d5f1483c8d8f95)\r\n",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/6141/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/6141/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1607926360",
    "html_url": "https://github.com/ethereum-optimism/optimism/issues/6141#issuecomment-1607926360",
    "issue_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/6141",
    "id": 1607926360,
    "node_id": "IC_kwDODjvEJM5f1wJY",
    "user": {
      "login": "tynes",
      "id": 6626818,
      "node_id": "MDQ6VXNlcjY2MjY4MTg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6626818?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tynes",
      "html_url": "https://github.com/tynes",
      "followers_url": "https://api.github.com/users/tynes/followers",
      "following_url": "https://api.github.com/users/tynes/following{/other_user}",
      "gists_url": "https://api.github.com/users/tynes/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tynes/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tynes/subscriptions",
      "organizations_url": "https://api.github.com/users/tynes/orgs",
      "repos_url": "https://api.github.com/users/tynes/repos",
      "events_url": "https://api.github.com/users/tynes/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tynes/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-06-26T17:34:31Z",
    "updated_at": "2023-06-26T17:34:31Z",
    "author_association": "CONTRIBUTOR",
    "body": "Be sure to set the environment variables, try again after setting them correctly",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1607926360/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1607928350",
    "html_url": "https://github.com/ethereum-optimism/optimism/issues/6141#issuecomment-1607928350",
    "issue_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/6141",
    "id": 1607928350,
    "node_id": "IC_kwDODjvEJM5f1woe",
    "user": {
      "login": "tynes",
      "id": 6626818,
      "node_id": "MDQ6VXNlcjY2MjY4MTg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6626818?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tynes",
      "html_url": "https://github.com/tynes",
      "followers_url": "https://api.github.com/users/tynes/followers",
      "following_url": "https://api.github.com/users/tynes/following{/other_user}",
      "gists_url": "https://api.github.com/users/tynes/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tynes/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tynes/subscriptions",
      "organizations_url": "https://api.github.com/users/tynes/orgs",
      "repos_url": "https://api.github.com/users/tynes/repos",
      "events_url": "https://api.github.com/users/tynes/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tynes/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-06-26T17:35:39Z",
    "updated_at": "2023-06-26T17:35:39Z",
    "author_association": "CONTRIBUTOR",
    "body": "In particular `DEPLOYMENT_CONTEXT` is not set",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1607928350/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1608043191",
    "html_url": "https://github.com/ethereum-optimism/optimism/issues/6141#issuecomment-1608043191",
    "issue_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/6141",
    "id": 1608043191,
    "node_id": "IC_kwDODjvEJM5f2Mq3",
    "user": {
      "login": "AndreasKendziorra",
      "id": 40799768,
      "node_id": "MDQ6VXNlcjQwNzk5NzY4",
      "avatar_url": "https://avatars.githubusercontent.com/u/40799768?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/AndreasKendziorra",
      "html_url": "https://github.com/AndreasKendziorra",
      "followers_url": "https://api.github.com/users/AndreasKendziorra/followers",
      "following_url": "https://api.github.com/users/AndreasKendziorra/following{/other_user}",
      "gists_url": "https://api.github.com/users/AndreasKendziorra/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/AndreasKendziorra/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/AndreasKendziorra/subscriptions",
      "organizations_url": "https://api.github.com/users/AndreasKendziorra/orgs",
      "repos_url": "https://api.github.com/users/AndreasKendziorra/repos",
      "events_url": "https://api.github.com/users/AndreasKendziorra/events{/privacy}",
      "received_events_url": "https://api.github.com/users/AndreasKendziorra/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-06-26T18:45:30Z",
    "updated_at": "2023-06-26T18:45:30Z",
    "author_association": "NONE",
    "body": ">In particular DEPLOYMENT_CONTEXT is not set\r\n\r\nI also followed [these instructions](https://github.com/ethereum-optimism/optimism/blob/15660862779df0d171e7725050d5f1483c8d8f95/docs/op-stack/src/docs/build/getting-started.md?plain=1#L195-L211) regarding environment variables. So, my `.envrc` file contains\r\n```\r\nexport DEPLOYMENT_CONTEXT=getting-started\r\n```\r\nWhat actually fixed it for me was adding the following line to [goerli.json](https://github.com/ethereum-optimism/optimism/blob/0e2e7112feb8f2a62d463be298409ba09cb0d8f5/packages/contracts-bedrock/deploy-config/goerli.json):\r\n```json\r\n\"l2GenesisRegolithTimeOffset\": \"0x0\",\r\n```\r\nBut I'm not sure if this value was missing on purpose in this file or not.  ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1608043191/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1608130258",
    "html_url": "https://github.com/ethereum-optimism/optimism/issues/6141#issuecomment-1608130258",
    "issue_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/6141",
    "id": 1608130258,
    "node_id": "IC_kwDODjvEJM5f2h7S",
    "user": {
      "login": "qbzzt",
      "id": 12722969,
      "node_id": "MDQ6VXNlcjEyNzIyOTY5",
      "avatar_url": "https://avatars.githubusercontent.com/u/12722969?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/qbzzt",
      "html_url": "https://github.com/qbzzt",
      "followers_url": "https://api.github.com/users/qbzzt/followers",
      "following_url": "https://api.github.com/users/qbzzt/following{/other_user}",
      "gists_url": "https://api.github.com/users/qbzzt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/qbzzt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/qbzzt/subscriptions",
      "organizations_url": "https://api.github.com/users/qbzzt/orgs",
      "repos_url": "https://api.github.com/users/qbzzt/repos",
      "events_url": "https://api.github.com/users/qbzzt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/qbzzt/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-06-26T19:45:36Z",
    "updated_at": "2023-06-26T19:45:36Z",
    "author_association": "CONTRIBUTOR",
    "body": "Can you try the latest instructions? I updated them with some missing steps (or at least, missing if you don't have a recent enough version of Foundry).\r\n\r\nhttps://stack.optimism.io/docs/build/getting-started/",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1608130258/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
