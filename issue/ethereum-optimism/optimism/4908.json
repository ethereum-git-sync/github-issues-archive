{
  "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/4908",
  "repository_url": "https://api.github.com/repos/ethereum-optimism/optimism",
  "labels_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/4908/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/4908/comments",
  "events_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/4908/events",
  "html_url": "https://github.com/ethereum-optimism/optimism/issues/4908",
  "id": 1588484883,
  "node_id": "I_kwDODjvEJM5erlsT",
  "number": 4908,
  "title": "Friendlier way to recover from a corrupt op-geth state",
  "user": {
    "login": "qbzzt",
    "id": 12722969,
    "node_id": "MDQ6VXNlcjEyNzIyOTY5",
    "avatar_url": "https://avatars.githubusercontent.com/u/12722969?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/qbzzt",
    "html_url": "https://github.com/qbzzt",
    "followers_url": "https://api.github.com/users/qbzzt/followers",
    "following_url": "https://api.github.com/users/qbzzt/following{/other_user}",
    "gists_url": "https://api.github.com/users/qbzzt/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/qbzzt/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/qbzzt/subscriptions",
    "organizations_url": "https://api.github.com/users/qbzzt/orgs",
    "repos_url": "https://api.github.com/users/qbzzt/repos",
    "events_url": "https://api.github.com/users/qbzzt/events{/privacy}",
    "received_events_url": "https://api.github.com/users/qbzzt/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 0,
  "created_at": "2023-02-16T22:57:00Z",
  "updated_at": "2023-02-16T22:59:17Z",
  "closed_at": null,
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "When I run `op-geth` with a corrupt state, `op-node` keeps emitting:\r\n\r\n```\r\nWARN [02-16|21:22:02.868] Derivation process temporary error       attempts=14 err=\"stage 0 failed resetting: temp: failed to find the L2 Heads to start from: failed to fetch L2 block by hash 0x0000000000000000000000000000000000000000000000000000000000000000: failed to determine block-hash of hash 0x0000000000000000000000000000000000000000000000000000000000000000, could not get payload: not found\"\r\n```\r\n\r\nThe solution is to delete `op-geth`'s data dir, reinitialize, and resync. However, this doesn't happen automatically, which is less than ideal from the user friendliness perspective, especially if we want more people who aren't professionals running blockchain nodes, either for our network or for OP Stack blockchains.\r\n",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/4908/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/4908/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[

]
