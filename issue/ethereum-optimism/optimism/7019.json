{
  "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/7019",
  "repository_url": "https://api.github.com/repos/ethereum-optimism/optimism",
  "labels_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/7019/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/7019/comments",
  "events_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/7019/events",
  "html_url": "https://github.com/ethereum-optimism/optimism/issues/7019",
  "id": 1867286498,
  "node_id": "I_kwDODjvEJM5vTIfi",
  "number": 7019,
  "title": "Devnet finalization error ",
  "user": {
    "login": "steph-mipt",
    "id": 70902141,
    "node_id": "MDQ6VXNlcjcwOTAyMTQx",
    "avatar_url": "https://avatars.githubusercontent.com/u/70902141?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/steph-mipt",
    "html_url": "https://github.com/steph-mipt",
    "followers_url": "https://api.github.com/users/steph-mipt/followers",
    "following_url": "https://api.github.com/users/steph-mipt/following{/other_user}",
    "gists_url": "https://api.github.com/users/steph-mipt/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/steph-mipt/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/steph-mipt/subscriptions",
    "organizations_url": "https://api.github.com/users/steph-mipt/orgs",
    "repos_url": "https://api.github.com/users/steph-mipt/repos",
    "events_url": "https://api.github.com/users/steph-mipt/events{/privacy}",
    "received_events_url": "https://api.github.com/users/steph-mipt/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2023-08-25T15:53:29Z",
  "updated_at": "2023-08-25T23:16:34Z",
  "closed_at": "2023-08-25T23:16:34Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "**Describe the bug**\r\nDuring the operation of the local dev-net, blocks on l2 are not finalized.\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n- Run bedrock-devnet\r\n- Only the 0th block remains finalized\r\n\r\n**Expected behavior**\r\nThe finalized block updates every 12 seconds (or so), as described in the config [here](https://github.com/ethereum-optimism/optimism/blob/96562692558e5c3851899488bcebe51fbe3b7f09/packages/contracts-bedrock/deploy-config/internal-devnet.json#L23).\r\n\r\n**Screenshots**\r\n![image](https://github.com/ethereum-optimism/optimism/assets/70902141/af0c679a-3917-4627-b947-cdcace54d280)\r\n\r\n**System Specs:**\r\n - OS: Ubuntu 22.04\r\n - Package Version (or commit hash): develop/master/releasev1.13\r\n\r\n**Additional context**\r\nAs seen in the screenshot, a lot of time has passed and many blocks have been created, but only the zeroth remains finalized.\r\n\r\n",
  "closed_by": {
    "login": "ajsutton",
    "id": 72675,
    "node_id": "MDQ6VXNlcjcyNjc1",
    "avatar_url": "https://avatars.githubusercontent.com/u/72675?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/ajsutton",
    "html_url": "https://github.com/ajsutton",
    "followers_url": "https://api.github.com/users/ajsutton/followers",
    "following_url": "https://api.github.com/users/ajsutton/following{/other_user}",
    "gists_url": "https://api.github.com/users/ajsutton/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/ajsutton/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/ajsutton/subscriptions",
    "organizations_url": "https://api.github.com/users/ajsutton/orgs",
    "repos_url": "https://api.github.com/users/ajsutton/repos",
    "events_url": "https://api.github.com/users/ajsutton/events{/privacy}",
    "received_events_url": "https://api.github.com/users/ajsutton/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/7019/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/7019/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1693576581",
    "html_url": "https://github.com/ethereum-optimism/optimism/issues/7019#issuecomment-1693576581",
    "issue_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/7019",
    "id": 1693576581,
    "node_id": "IC_kwDODjvEJM5k8e2F",
    "user": {
      "login": "steph-mipt",
      "id": 70902141,
      "node_id": "MDQ6VXNlcjcwOTAyMTQx",
      "avatar_url": "https://avatars.githubusercontent.com/u/70902141?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/steph-mipt",
      "html_url": "https://github.com/steph-mipt",
      "followers_url": "https://api.github.com/users/steph-mipt/followers",
      "following_url": "https://api.github.com/users/steph-mipt/following{/other_user}",
      "gists_url": "https://api.github.com/users/steph-mipt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/steph-mipt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/steph-mipt/subscriptions",
      "organizations_url": "https://api.github.com/users/steph-mipt/orgs",
      "repos_url": "https://api.github.com/users/steph-mipt/repos",
      "events_url": "https://api.github.com/users/steph-mipt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/steph-mipt/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-08-25T15:54:55Z",
    "updated_at": "2023-08-25T15:54:55Z",
    "author_association": "NONE",
    "body": "Can you please attach the `A-bedrock-devnet` label to the issue?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1693576581/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1694024651",
    "html_url": "https://github.com/ethereum-optimism/optimism/issues/7019#issuecomment-1694024651",
    "issue_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/7019",
    "id": 1694024651,
    "node_id": "IC_kwDODjvEJM5k-MPL",
    "user": {
      "login": "ajsutton",
      "id": 72675,
      "node_id": "MDQ6VXNlcjcyNjc1",
      "avatar_url": "https://avatars.githubusercontent.com/u/72675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ajsutton",
      "html_url": "https://github.com/ajsutton",
      "followers_url": "https://api.github.com/users/ajsutton/followers",
      "following_url": "https://api.github.com/users/ajsutton/following{/other_user}",
      "gists_url": "https://api.github.com/users/ajsutton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ajsutton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ajsutton/subscriptions",
      "organizations_url": "https://api.github.com/users/ajsutton/orgs",
      "repos_url": "https://api.github.com/users/ajsutton/repos",
      "events_url": "https://api.github.com/users/ajsutton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ajsutton/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-08-25T23:16:34Z",
    "updated_at": "2023-08-25T23:16:34Z",
    "author_association": "CONTRIBUTOR",
    "body": "The `finalized` block returned by op-geth is the latest L2 block that has data included in a finalized L1 block that the node has seen. Since the devnet L1 doesn't finalize blocks (it's not running a full PoS consensus) the finalized L2 block is also expected to remain at 0.\r\n\r\nThe `finalizationPeriodSeconds` setting you reference refers to the L2 output oracle contract and how fast proposed output roots are considered finalized which affects how long you have to wait before finalizing withdrawals. On mainnet that's 1 week, but its deliberately very short on the devnet to make testing withdrawals faster.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1694024651/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
