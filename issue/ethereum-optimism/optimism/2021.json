{
  "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/2021",
  "repository_url": "https://api.github.com/repos/ethereum-optimism/optimism",
  "labels_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/2021/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/2021/comments",
  "events_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/2021/events",
  "html_url": "https://github.com/ethereum-optimism/optimism/issues/2021",
  "id": 1105602966,
  "node_id": "I_kwDODjvEJM5B5imW",
  "number": 2021,
  "title": "JSON RPC batch requests are not supported",
  "user": {
    "login": "vbaranov",
    "id": 4341812,
    "node_id": "MDQ6VXNlcjQzNDE4MTI=",
    "avatar_url": "https://avatars.githubusercontent.com/u/4341812?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/vbaranov",
    "html_url": "https://github.com/vbaranov",
    "followers_url": "https://api.github.com/users/vbaranov/followers",
    "following_url": "https://api.github.com/users/vbaranov/following{/other_user}",
    "gists_url": "https://api.github.com/users/vbaranov/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/vbaranov/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/vbaranov/subscriptions",
    "organizations_url": "https://api.github.com/users/vbaranov/orgs",
    "repos_url": "https://api.github.com/users/vbaranov/repos",
    "events_url": "https://api.github.com/users/vbaranov/events{/privacy}",
    "received_events_url": "https://api.github.com/users/vbaranov/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 2907832490,
      "node_id": "MDU6TGFiZWwyOTA3ODMyNDkw",
      "url": "https://api.github.com/repos/ethereum-optimism/optimism/labels/C-bug",
      "name": "C-bug",
      "color": "C5DEF5",
      "default": false,
      "description": "Category: This is a bug."
    },
    {
      "id": 2981541772,
      "node_id": "MDU6TGFiZWwyOTgxNTQxNzcy",
      "url": "https://api.github.com/repos/ethereum-optimism/optimism/labels/P-confirmed",
      "name": "P-confirmed",
      "color": "BFD4F2",
      "default": false,
      "description": "A confirmed bug"
    },
    {
      "id": 3357535896,
      "node_id": "MDU6TGFiZWwzMzU3NTM1ODk2",
      "url": "https://api.github.com/repos/ethereum-optimism/optimism/labels/M-l2geth",
      "name": "M-l2geth",
      "color": "FBCA04",
      "default": false,
      "description": "Module: l2geth"
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 5,
  "created_at": "2022-01-17T09:36:52Z",
  "updated_at": "2022-01-21T18:11:22Z",
  "closed_at": "2022-01-21T18:11:22Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "I'm testing Kovan Optimism and discovered that JSON RPC batch requests are not supported:\r\n\r\n> curl -X POST --data '[{\"jsonrpc\":\"2.0\",\"method\":\"eth_getBlockByNumber\",\"params\":[\"0xE9304\", false],\"id\":83},{\"jsonrpc\":\"2.0\",\"method\":\"eth_getBlockByNumber\",\"params\":[\"0xE855C\", false],\"id\":84}]' https://kovan.optimism.io/\r\n> {\"jsonrpc\":\"2.0\",\"error\":{\"code\":-32700,\"message\":\"parse error\"},\"id\":null}\r\n\r\nDo you plan to support them or perhaps it has been already added in the latest version of the client?\r\n\r\n",
  "closed_by": {
    "login": "mslipper",
    "id": 67953,
    "node_id": "MDQ6VXNlcjY3OTUz",
    "avatar_url": "https://avatars.githubusercontent.com/u/67953?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/mslipper",
    "html_url": "https://github.com/mslipper",
    "followers_url": "https://api.github.com/users/mslipper/followers",
    "following_url": "https://api.github.com/users/mslipper/following{/other_user}",
    "gists_url": "https://api.github.com/users/mslipper/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/mslipper/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/mslipper/subscriptions",
    "organizations_url": "https://api.github.com/users/mslipper/orgs",
    "repos_url": "https://api.github.com/users/mslipper/repos",
    "events_url": "https://api.github.com/users/mslipper/events{/privacy}",
    "received_events_url": "https://api.github.com/users/mslipper/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/2021/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/2021/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1015067733",
    "html_url": "https://github.com/ethereum-optimism/optimism/issues/2021#issuecomment-1015067733",
    "issue_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/2021",
    "id": 1015067733,
    "node_id": "IC_kwDODjvEJM48gLRV",
    "user": {
      "login": "smartcontracts",
      "id": 14298799,
      "node_id": "MDQ6VXNlcjE0Mjk4Nzk5",
      "avatar_url": "https://avatars.githubusercontent.com/u/14298799?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/smartcontracts",
      "html_url": "https://github.com/smartcontracts",
      "followers_url": "https://api.github.com/users/smartcontracts/followers",
      "following_url": "https://api.github.com/users/smartcontracts/following{/other_user}",
      "gists_url": "https://api.github.com/users/smartcontracts/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/smartcontracts/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/smartcontracts/subscriptions",
      "organizations_url": "https://api.github.com/users/smartcontracts/orgs",
      "repos_url": "https://api.github.com/users/smartcontracts/repos",
      "events_url": "https://api.github.com/users/smartcontracts/events{/privacy}",
      "received_events_url": "https://api.github.com/users/smartcontracts/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-01-18T04:46:32Z",
    "updated_at": "2022-01-18T04:46:32Z",
    "author_association": "CONTRIBUTOR",
    "body": "This may be a configuration issue with the proxy that sits in front of kovan.optimism.io. I'm not sure why batch requests would be unsupported, I don't think we've removed them from Geth. Will flag this.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1015067733/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1015069784",
    "html_url": "https://github.com/ethereum-optimism/optimism/issues/2021#issuecomment-1015069784",
    "issue_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/2021",
    "id": 1015069784,
    "node_id": "IC_kwDODjvEJM48gLxY",
    "user": {
      "login": "Inphi",
      "id": 3516807,
      "node_id": "MDQ6VXNlcjM1MTY4MDc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3516807?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Inphi",
      "html_url": "https://github.com/Inphi",
      "followers_url": "https://api.github.com/users/Inphi/followers",
      "following_url": "https://api.github.com/users/Inphi/following{/other_user}",
      "gists_url": "https://api.github.com/users/Inphi/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Inphi/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Inphi/subscriptions",
      "organizations_url": "https://api.github.com/users/Inphi/orgs",
      "repos_url": "https://api.github.com/users/Inphi/repos",
      "events_url": "https://api.github.com/users/Inphi/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Inphi/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-01-18T04:53:04Z",
    "updated_at": "2022-01-18T04:53:04Z",
    "author_association": "COLLABORATOR",
    "body": "The problem is in [proxyd](https://github.com/ethereum-optimism/optimism/blob/3174f034da022ac7ebcfde4ebd08961e377b43c3/go/proxyd/rpc.go#L57) itself. We reject batched RPCs for some reason. I don't think this is the intended behavior.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1015069784/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 1
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1015444761",
    "html_url": "https://github.com/ethereum-optimism/optimism/issues/2021#issuecomment-1015444761",
    "issue_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/2021",
    "id": 1015444761,
    "node_id": "IC_kwDODjvEJM48hnUZ",
    "user": {
      "login": "vbaranov",
      "id": 4341812,
      "node_id": "MDQ6VXNlcjQzNDE4MTI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4341812?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vbaranov",
      "html_url": "https://github.com/vbaranov",
      "followers_url": "https://api.github.com/users/vbaranov/followers",
      "following_url": "https://api.github.com/users/vbaranov/following{/other_user}",
      "gists_url": "https://api.github.com/users/vbaranov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vbaranov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vbaranov/subscriptions",
      "organizations_url": "https://api.github.com/users/vbaranov/orgs",
      "repos_url": "https://api.github.com/users/vbaranov/repos",
      "events_url": "https://api.github.com/users/vbaranov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vbaranov/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-01-18T14:06:56Z",
    "updated_at": "2022-01-18T14:06:56Z",
    "author_association": "NONE",
    "body": "As additional info, If I run Optimism node locally by following this guide https://community.optimism.io/docs/developers/l2/dev-node.html using Docker images, JSON RPC batch requests work fine.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1015444761/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1015815875",
    "html_url": "https://github.com/ethereum-optimism/optimism/issues/2021#issuecomment-1015815875",
    "issue_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/2021",
    "id": 1015815875,
    "node_id": "IC_kwDODjvEJM48jB7D",
    "user": {
      "login": "tynes",
      "id": 6626818,
      "node_id": "MDQ6VXNlcjY2MjY4MTg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6626818?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tynes",
      "html_url": "https://github.com/tynes",
      "followers_url": "https://api.github.com/users/tynes/followers",
      "following_url": "https://api.github.com/users/tynes/following{/other_user}",
      "gists_url": "https://api.github.com/users/tynes/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tynes/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tynes/subscriptions",
      "organizations_url": "https://api.github.com/users/tynes/orgs",
      "repos_url": "https://api.github.com/users/tynes/repos",
      "events_url": "https://api.github.com/users/tynes/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tynes/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-01-18T20:39:56Z",
    "updated_at": "2022-01-18T20:39:56Z",
    "author_association": "CONTRIBUTOR",
    "body": "This is a known issue with the public endpoint, see: https://github.com/ethereum-optimism/optimism/pull/1987#issuecomment-1012344285\r\n\r\nIf you require this functionality right now, please run your own replica or use Quicknode/Infura/Alchemy",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1015815875/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1018745505",
    "html_url": "https://github.com/ethereum-optimism/optimism/issues/2021#issuecomment-1018745505",
    "issue_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/2021",
    "id": 1018745505,
    "node_id": "IC_kwDODjvEJM48uNKh",
    "user": {
      "login": "mslipper",
      "id": 67953,
      "node_id": "MDQ6VXNlcjY3OTUz",
      "avatar_url": "https://avatars.githubusercontent.com/u/67953?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mslipper",
      "html_url": "https://github.com/mslipper",
      "followers_url": "https://api.github.com/users/mslipper/followers",
      "following_url": "https://api.github.com/users/mslipper/following{/other_user}",
      "gists_url": "https://api.github.com/users/mslipper/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mslipper/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mslipper/subscriptions",
      "organizations_url": "https://api.github.com/users/mslipper/orgs",
      "repos_url": "https://api.github.com/users/mslipper/repos",
      "events_url": "https://api.github.com/users/mslipper/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mslipper/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-01-21T18:11:20Z",
    "updated_at": "2022-01-21T18:11:20Z",
    "author_association": "COLLABORATOR",
    "body": "This is fixed on the public endpoint now.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1018745505/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
