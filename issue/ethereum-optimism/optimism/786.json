{
  "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/786",
  "repository_url": "https://api.github.com/repos/ethereum-optimism/optimism",
  "labels_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/786/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/786/comments",
  "events_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/786/events",
  "html_url": "https://github.com/ethereum-optimism/optimism/issues/786",
  "id": 877558663,
  "node_id": "MDU6SXNzdWU4Nzc1NTg2NjM=",
  "number": 786,
  "title": "Contract deployments to Kovan fail with a `Reverted` error on the tx explorer",
  "user": {
    "login": "platocrat",
    "id": 37757724,
    "node_id": "MDQ6VXNlcjM3NzU3NzI0",
    "avatar_url": "https://avatars.githubusercontent.com/u/37757724?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/platocrat",
    "html_url": "https://github.com/platocrat",
    "followers_url": "https://api.github.com/users/platocrat/followers",
    "following_url": "https://api.github.com/users/platocrat/following{/other_user}",
    "gists_url": "https://api.github.com/users/platocrat/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/platocrat/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/platocrat/subscriptions",
    "organizations_url": "https://api.github.com/users/platocrat/orgs",
    "repos_url": "https://api.github.com/users/platocrat/repos",
    "events_url": "https://api.github.com/users/platocrat/events{/privacy}",
    "received_events_url": "https://api.github.com/users/platocrat/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 2907832490,
      "node_id": "MDU6TGFiZWwyOTA3ODMyNDkw",
      "url": "https://api.github.com/repos/ethereum-optimism/optimism/labels/C-bug",
      "name": "C-bug",
      "color": "C5DEF5",
      "default": false,
      "description": "Category: This is a bug."
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2021-05-06T14:27:41Z",
  "updated_at": "2021-05-24T00:01:37Z",
  "closed_at": "2021-05-24T00:01:37Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "<!--\r\nNeed help?\r\nRefer to our contributing guidelines for additional information about making a good issue:\r\nhttps://github.com/ethereum-optimism/.github/blob/master/CONTRIBUTING.md\r\n-->\r\n\r\n**Describe the bug**\r\nAn issue was raised in Discord by the @funfair-tech team, by Mark and Josh, that re-deploys of all of their contracts to Kovan fail with a revert error.\r\nYou can [see this error on the transaction explorer](https://kovan-l2-explorer.surge.sh/tx/0x55d15ff9f9734aedd2fa3723ac60d7783aec9c2352fa6d6a4e3ce14560500c0c).\r\n\r\nSnapshot of the transaction on the OE transaction explorer is below:\r\n\r\n<img width=\"943\" alt=\"Screen Shot 2021-05-06 at 9 22 30 AM\" src=\"https://user-images.githubusercontent.com/37757724/117314665-9b3ac680-ae4c-11eb-8e1d-b195cb12383a.png\">\r\n\r\nMark noted that re-deploys of their contracts with the _same source code and build settings_ worked previously, but now they are failing as well.\r\nAdditionally, they deployed their contracts to Kovan many times in the past, using hardhat, and they \"worked all the time before\".\r\n\r\nThis is a critical blocker for Mark and Josh as they \"were hoping to be getting everything to a state where we could do a run-trough for the video today, but we're blocked until its all back\r\n\r\n**Additional context**\r\nMark and Josh shared what think might be causing this issue. I'll quote them below:\r\n\r\nMark: \r\n> That looks like its down to a too high nonce occurring.  Is there any way through JSON-RPC we can detect this is the reason - this error comes from a headless server (which we run multiple of in a cluster on standard Ethereum using the one account) which expects that TX with nonces that are too high just get queued or dropped rather than reverted.\r\n\r\nJosh: \r\n> @K-Ho We'll have downtime for the next few hours, at which point the state will remain < isnt the nonce part of the state? thought that was staying the same?",
  "closed_by": {
    "login": "smartcontracts",
    "id": 14298799,
    "node_id": "MDQ6VXNlcjE0Mjk4Nzk5",
    "avatar_url": "https://avatars.githubusercontent.com/u/14298799?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/smartcontracts",
    "html_url": "https://github.com/smartcontracts",
    "followers_url": "https://api.github.com/users/smartcontracts/followers",
    "following_url": "https://api.github.com/users/smartcontracts/following{/other_user}",
    "gists_url": "https://api.github.com/users/smartcontracts/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/smartcontracts/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/smartcontracts/subscriptions",
    "organizations_url": "https://api.github.com/users/smartcontracts/orgs",
    "repos_url": "https://api.github.com/users/smartcontracts/repos",
    "events_url": "https://api.github.com/users/smartcontracts/events{/privacy}",
    "received_events_url": "https://api.github.com/users/smartcontracts/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/786/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/786/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/845426546",
    "html_url": "https://github.com/ethereum-optimism/optimism/issues/786#issuecomment-845426546",
    "issue_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/786",
    "id": 845426546,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg0NTQyNjU0Ng==",
    "user": {
      "login": "smartcontracts",
      "id": 14298799,
      "node_id": "MDQ6VXNlcjE0Mjk4Nzk5",
      "avatar_url": "https://avatars.githubusercontent.com/u/14298799?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/smartcontracts",
      "html_url": "https://github.com/smartcontracts",
      "followers_url": "https://api.github.com/users/smartcontracts/followers",
      "following_url": "https://api.github.com/users/smartcontracts/following{/other_user}",
      "gists_url": "https://api.github.com/users/smartcontracts/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/smartcontracts/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/smartcontracts/subscriptions",
      "organizations_url": "https://api.github.com/users/smartcontracts/orgs",
      "repos_url": "https://api.github.com/users/smartcontracts/repos",
      "events_url": "https://api.github.com/users/smartcontracts/events{/privacy}",
      "received_events_url": "https://api.github.com/users/smartcontracts/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-05-20T19:46:37Z",
    "updated_at": "2021-05-20T19:46:37Z",
    "author_association": "CONTRIBUTOR",
    "body": "Is this still happening?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/845426546/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/846647661",
    "html_url": "https://github.com/ethereum-optimism/optimism/issues/786#issuecomment-846647661",
    "issue_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/786",
    "id": 846647661,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg0NjY0NzY2MQ==",
    "user": {
      "login": "smartcontracts",
      "id": 14298799,
      "node_id": "MDQ6VXNlcjE0Mjk4Nzk5",
      "avatar_url": "https://avatars.githubusercontent.com/u/14298799?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/smartcontracts",
      "html_url": "https://github.com/smartcontracts",
      "followers_url": "https://api.github.com/users/smartcontracts/followers",
      "following_url": "https://api.github.com/users/smartcontracts/following{/other_user}",
      "gists_url": "https://api.github.com/users/smartcontracts/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/smartcontracts/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/smartcontracts/subscriptions",
      "organizations_url": "https://api.github.com/users/smartcontracts/orgs",
      "repos_url": "https://api.github.com/users/smartcontracts/repos",
      "events_url": "https://api.github.com/users/smartcontracts/events{/privacy}",
      "received_events_url": "https://api.github.com/users/smartcontracts/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-05-24T00:01:37Z",
    "updated_at": "2021-05-24T00:01:37Z",
    "author_association": "CONTRIBUTOR",
    "body": "I'm going to close this issue because I think it's a bit too vague. Needs more information before we can figure out what's going on (if anything).",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/846647661/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
