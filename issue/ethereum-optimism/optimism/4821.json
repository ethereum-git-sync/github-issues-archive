{
  "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/4821",
  "repository_url": "https://api.github.com/repos/ethereum-optimism/optimism",
  "labels_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/4821/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/4821/comments",
  "events_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/4821/events",
  "html_url": "https://github.com/ethereum-optimism/optimism/issues/4821",
  "id": 1566529012,
  "node_id": "I_kwDODjvEJM5dX1X0",
  "number": 4821,
  "title": "OP-GETH cannot serve engine_forkchoiceUpdatedV1 calls",
  "user": {
    "login": "fmira21",
    "id": 73617204,
    "node_id": "MDQ6VXNlcjczNjE3MjA0",
    "avatar_url": "https://avatars.githubusercontent.com/u/73617204?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/fmira21",
    "html_url": "https://github.com/fmira21",
    "followers_url": "https://api.github.com/users/fmira21/followers",
    "following_url": "https://api.github.com/users/fmira21/following{/other_user}",
    "gists_url": "https://api.github.com/users/fmira21/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/fmira21/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/fmira21/subscriptions",
    "organizations_url": "https://api.github.com/users/fmira21/orgs",
    "repos_url": "https://api.github.com/users/fmira21/repos",
    "events_url": "https://api.github.com/users/fmira21/events{/privacy}",
    "received_events_url": "https://api.github.com/users/fmira21/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2023-02-01T17:35:36Z",
  "updated_at": "2023-02-04T17:10:22Z",
  "closed_at": "2023-02-04T17:10:22Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "Hi guys!\r\nI have just deployed the Bedrock-based Optimism node on Goerli in Docker using this guidance:\r\nhttps://github.com/smartcontracts/simple-optimism-node/tree/sc/bedrock-goerli\r\n\r\nDespite all my endeavour, the node cannot sync further than pre-hardfork blocks. \r\n`l2geth` is on 4061223 again, while `op-geth` is stuck on 4061224.\r\nWhile investigating, I noticed that `op-geth` cannot serve `engine_forkchoiceUpdatedV1` from the `op-node`:\r\n\r\n```\r\nWARN [02-01|17:27:10.982] Served engine_forkchoiceUpdatedV1        conn=172.18.0.5:49612 reqid=3610 duration=\"16.208Âµs\" err=\"the method engine_forkchoiceUpdatedV1 does not exist/is not available\"\r\n```\r\n\r\n`engine` is enabled for the node among other methods in the `http.api` flag.\r\n\r\nI have two questions:\r\n1. Do I understand it right that this failure prevents my Goerli node from syncing?\r\n2. How to fix it?\r\n\r\nThank you in advance!",
  "closed_by": {
    "login": "fmira21",
    "id": 73617204,
    "node_id": "MDQ6VXNlcjczNjE3MjA0",
    "avatar_url": "https://avatars.githubusercontent.com/u/73617204?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/fmira21",
    "html_url": "https://github.com/fmira21",
    "followers_url": "https://api.github.com/users/fmira21/followers",
    "following_url": "https://api.github.com/users/fmira21/following{/other_user}",
    "gists_url": "https://api.github.com/users/fmira21/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/fmira21/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/fmira21/subscriptions",
    "organizations_url": "https://api.github.com/users/fmira21/orgs",
    "repos_url": "https://api.github.com/users/fmira21/repos",
    "events_url": "https://api.github.com/users/fmira21/events{/privacy}",
    "received_events_url": "https://api.github.com/users/fmira21/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/4821/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/4821/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1412515497",
    "html_url": "https://github.com/ethereum-optimism/optimism/issues/4821#issuecomment-1412515497",
    "issue_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/4821",
    "id": 1412515497,
    "node_id": "IC_kwDODjvEJM5UMUap",
    "user": {
      "login": "ajsutton",
      "id": 72675,
      "node_id": "MDQ6VXNlcjcyNjc1",
      "avatar_url": "https://avatars.githubusercontent.com/u/72675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ajsutton",
      "html_url": "https://github.com/ajsutton",
      "followers_url": "https://api.github.com/users/ajsutton/followers",
      "following_url": "https://api.github.com/users/ajsutton/following{/other_user}",
      "gists_url": "https://api.github.com/users/ajsutton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ajsutton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ajsutton/subscriptions",
      "organizations_url": "https://api.github.com/users/ajsutton/orgs",
      "repos_url": "https://api.github.com/users/ajsutton/repos",
      "events_url": "https://api.github.com/users/ajsutton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ajsutton/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-02-01T18:18:13Z",
    "updated_at": "2023-02-01T18:18:13Z",
    "author_association": "CONTRIBUTOR",
    "body": "Bit of a shot in the dark on this, but is it possible that the op-node has been pointed to Geth's normal JSON-RPC port (default is port 8545)?  The engine_forkChoiceUpdated method is only available on the engine API (default is port 8551).",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1412515497/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 1,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1416802755",
    "html_url": "https://github.com/ethereum-optimism/optimism/issues/4821#issuecomment-1416802755",
    "issue_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/4821",
    "id": 1416802755,
    "node_id": "IC_kwDODjvEJM5UcrHD",
    "user": {
      "login": "fmira21",
      "id": 73617204,
      "node_id": "MDQ6VXNlcjczNjE3MjA0",
      "avatar_url": "https://avatars.githubusercontent.com/u/73617204?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fmira21",
      "html_url": "https://github.com/fmira21",
      "followers_url": "https://api.github.com/users/fmira21/followers",
      "following_url": "https://api.github.com/users/fmira21/following{/other_user}",
      "gists_url": "https://api.github.com/users/fmira21/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fmira21/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fmira21/subscriptions",
      "organizations_url": "https://api.github.com/users/fmira21/orgs",
      "repos_url": "https://api.github.com/users/fmira21/repos",
      "events_url": "https://api.github.com/users/fmira21/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fmira21/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-02-04T17:10:22Z",
    "updated_at": "2023-02-04T17:10:22Z",
    "author_association": "NONE",
    "body": "@ajsutton \r\nThank you for your answer!\r\nIt works!",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1416802755/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
