{
  "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/8022",
  "repository_url": "https://api.github.com/repos/ethereum-optimism/optimism",
  "labels_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/8022/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/8022/comments",
  "events_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/8022/events",
  "html_url": "https://github.com/ethereum-optimism/optimism/issues/8022",
  "id": 1975197197,
  "node_id": "I_kwDODjvEJM51ux4N",
  "number": 8022,
  "title": "Optimize op-e2e: do not repeat tests unaffected by hardforks or connection-type",
  "user": {
    "login": "protolambda",
    "id": 19571989,
    "node_id": "MDQ6VXNlcjE5NTcxOTg5",
    "avatar_url": "https://avatars.githubusercontent.com/u/19571989?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/protolambda",
    "html_url": "https://github.com/protolambda",
    "followers_url": "https://api.github.com/users/protolambda/followers",
    "following_url": "https://api.github.com/users/protolambda/following{/other_user}",
    "gists_url": "https://api.github.com/users/protolambda/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/protolambda/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/protolambda/subscriptions",
    "organizations_url": "https://api.github.com/users/protolambda/orgs",
    "repos_url": "https://api.github.com/users/protolambda/repos",
    "events_url": "https://api.github.com/users/protolambda/events{/privacy}",
    "received_events_url": "https://api.github.com/users/protolambda/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 1,
  "created_at": "2023-11-02T23:31:18Z",
  "updated_at": "2023-11-02T23:41:34Z",
  "closed_at": null,
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "Op-e2e has several environment variables that result in some duplication of test runs:\r\n- `OP_E2E_USE_SPAN_BATCH`\r\n- `OP_E2E_USE_CANYON` (not in CI?)\r\n- `OP_E2E_USE_HTTP`\r\n\r\nThese should be removed: not all op-e2e tests are actually affected by these. Instead, we should parametrize individual test-cases with the settings they need to run with.\r\n",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/8022/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/8022/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1791709053",
    "html_url": "https://github.com/ethereum-optimism/optimism/issues/8022#issuecomment-1791709053",
    "issue_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/8022",
    "id": 1791709053,
    "node_id": "IC_kwDODjvEJM5qy099",
    "user": {
      "login": "ajsutton",
      "id": 72675,
      "node_id": "MDQ6VXNlcjcyNjc1",
      "avatar_url": "https://avatars.githubusercontent.com/u/72675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ajsutton",
      "html_url": "https://github.com/ajsutton",
      "followers_url": "https://api.github.com/users/ajsutton/followers",
      "following_url": "https://api.github.com/users/ajsutton/following{/other_user}",
      "gists_url": "https://api.github.com/users/ajsutton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ajsutton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ajsutton/subscriptions",
      "organizations_url": "https://api.github.com/users/ajsutton/orgs",
      "repos_url": "https://api.github.com/users/ajsutton/repos",
      "events_url": "https://api.github.com/users/ajsutton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ajsutton/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-11-02T23:41:33Z",
    "updated_at": "2023-11-02T23:41:33Z",
    "author_association": "CONTRIBUTOR",
    "body": "hmm, we probably should have set `OP_E2E_USE_CANYON=false` for e2e-http and test-external.  They've probably gone back to running the canon tests again which isn't particularly helpful.\r\n\r\nIs the idea here to only have one e2e job in CI rather than separate ws and http jobs? If we get there, we could probably remove `OP_E2E_CANNON_ENABLED` as well.\r\n\r\nThe external client tests probably should stay since the idea there is to plug in something other than op-geth which makes nearly all the tests useful for compatibility testing (though long term it would be good to have a more dedicated set of reference tests).",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1791709053/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
