{
  "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/1345",
  "repository_url": "https://api.github.com/repos/ethereum-optimism/optimism",
  "labels_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/1345/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/1345/comments",
  "events_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/1345/events",
  "html_url": "https://github.com/ethereum-optimism/optimism/issues/1345",
  "id": 972118019,
  "node_id": "MDU6SXNzdWU5NzIxMTgwMTk=",
  "number": 1345,
  "title": "Tell me when I trace a transaction that hasn't been finalized",
  "user": {
    "login": "qbzzt",
    "id": 12722969,
    "node_id": "MDQ6VXNlcjEyNzIyOTY5",
    "avatar_url": "https://avatars.githubusercontent.com/u/12722969?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/qbzzt",
    "html_url": "https://github.com/qbzzt",
    "followers_url": "https://api.github.com/users/qbzzt/followers",
    "following_url": "https://api.github.com/users/qbzzt/following{/other_user}",
    "gists_url": "https://api.github.com/users/qbzzt/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/qbzzt/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/qbzzt/subscriptions",
    "organizations_url": "https://api.github.com/users/qbzzt/orgs",
    "repos_url": "https://api.github.com/users/qbzzt/repos",
    "events_url": "https://api.github.com/users/qbzzt/events{/privacy}",
    "received_events_url": "https://api.github.com/users/qbzzt/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 2907832555,
      "node_id": "MDU6TGFiZWwyOTA3ODMyNTU1",
      "url": "https://api.github.com/repos/ethereum-optimism/optimism/labels/C-feature-request",
      "name": "C-feature-request",
      "color": "C5DEF5",
      "default": false,
      "description": "Category: A feature request."
    },
    {
      "id": 2907832712,
      "node_id": "MDU6TGFiZWwyOTA3ODMyNzEy",
      "url": "https://api.github.com/repos/ethereum-optimism/optimism/labels/M-core-utils",
      "name": "M-core-utils",
      "color": "FBCA04",
      "default": false,
      "description": "Module: core-utils"
    },
    {
      "id": 3662935689,
      "node_id": "LA_kwDODjvEJM7aU_aJ",
      "url": "https://api.github.com/repos/ethereum-optimism/optimism/labels/M-sdk",
      "name": "M-sdk",
      "color": "FBCA04",
      "default": false,
      "description": "Module: sdk"
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2021-08-16T21:35:02Z",
  "updated_at": "2022-03-08T23:20:16Z",
  "closed_at": "2022-03-08T23:20:16Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "**Is your feature request related to a problem? Please describe.**\r\n\r\n`core-utils/watcher` (https://github.com/ethereum-optimism/optimism/blob/develop/packages/core-utils/src/watcher.ts) lets me resolve a withdrawal's hash to the hash of the transaction that finalizes it:\r\n\r\n```\r\nconst lookupL2toL1 = async () => {\r\n    console.log(`withdrawal L2 TX hash: ${withdrawalL2TxHash}`)  \r\n    const [withdrawalHash] = await kovanWatcher.getMessageHashesFromL2Tx(withdrawalL2TxHash)\r\n    console.log(`withdrawal hash: ${withdrawalHash}`)\r\n    const l1withdrawalReceipt = await kovanWatcher.getL1TransactionReceipt(withdrawalHash)\r\n    console.log(`withdrawal L1 TX hash: ${l1withdrawalReceipt.transactionHash}`)\r\n}\r\n```\r\n\r\nThere is a significant time lag between when a withdrawal transaction starts and when it is finalized. This time lag is\r\ncomposed of two separate periods:\r\n\r\n1. Between the initial transaction and when the transaction can be finalized (the challenge period, one minute on kovan and a week on mainnet)\r\n2. Between when the transaction can be finalized and when it actually is finalized (depends on the user)\r\n\r\nI am not sure what happens during the first period, but during the second period, if you try to use the watcher (`kovanWatcher.getL1TransactionReceipt`), the Promise never resolves.\r\n\r\n**Describe the solution you'd like**\r\n\r\nI want the option to get back \"No answer yet\", or \"still waiting for it to be finalized\" instead of just hanging there.",
  "closed_by": {
    "login": "smartcontracts",
    "id": 14298799,
    "node_id": "MDQ6VXNlcjE0Mjk4Nzk5",
    "avatar_url": "https://avatars.githubusercontent.com/u/14298799?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/smartcontracts",
    "html_url": "https://github.com/smartcontracts",
    "followers_url": "https://api.github.com/users/smartcontracts/followers",
    "following_url": "https://api.github.com/users/smartcontracts/following{/other_user}",
    "gists_url": "https://api.github.com/users/smartcontracts/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/smartcontracts/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/smartcontracts/subscriptions",
    "organizations_url": "https://api.github.com/users/smartcontracts/orgs",
    "repos_url": "https://api.github.com/users/smartcontracts/repos",
    "events_url": "https://api.github.com/users/smartcontracts/events{/privacy}",
    "received_events_url": "https://api.github.com/users/smartcontracts/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/1345/reactions",
    "total_count": 1,
    "+1": 1,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/1345/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/999036646",
    "html_url": "https://github.com/ethereum-optimism/optimism/issues/1345#issuecomment-999036646",
    "issue_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/1345",
    "id": 999036646,
    "node_id": "IC_kwDODjvEJM47jBbm",
    "user": {
      "login": "smartcontracts",
      "id": 14298799,
      "node_id": "MDQ6VXNlcjE0Mjk4Nzk5",
      "avatar_url": "https://avatars.githubusercontent.com/u/14298799?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/smartcontracts",
      "html_url": "https://github.com/smartcontracts",
      "followers_url": "https://api.github.com/users/smartcontracts/followers",
      "following_url": "https://api.github.com/users/smartcontracts/following{/other_user}",
      "gists_url": "https://api.github.com/users/smartcontracts/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/smartcontracts/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/smartcontracts/subscriptions",
      "organizations_url": "https://api.github.com/users/smartcontracts/orgs",
      "repos_url": "https://api.github.com/users/smartcontracts/repos",
      "events_url": "https://api.github.com/users/smartcontracts/events{/privacy}",
      "received_events_url": "https://api.github.com/users/smartcontracts/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-12-21T19:26:58Z",
    "updated_at": "2021-12-21T19:26:58Z",
    "author_association": "CONTRIBUTOR",
    "body": "This will be resolved as part of the SDK.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/999036646/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1062361922",
    "html_url": "https://github.com/ethereum-optimism/optimism/issues/1345#issuecomment-1062361922",
    "issue_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/1345",
    "id": 1062361922,
    "node_id": "IC_kwDODjvEJM4_UltC",
    "user": {
      "login": "smartcontracts",
      "id": 14298799,
      "node_id": "MDQ6VXNlcjE0Mjk4Nzk5",
      "avatar_url": "https://avatars.githubusercontent.com/u/14298799?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/smartcontracts",
      "html_url": "https://github.com/smartcontracts",
      "followers_url": "https://api.github.com/users/smartcontracts/followers",
      "following_url": "https://api.github.com/users/smartcontracts/following{/other_user}",
      "gists_url": "https://api.github.com/users/smartcontracts/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/smartcontracts/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/smartcontracts/subscriptions",
      "organizations_url": "https://api.github.com/users/smartcontracts/orgs",
      "repos_url": "https://api.github.com/users/smartcontracts/repos",
      "events_url": "https://api.github.com/users/smartcontracts/events{/privacy}",
      "received_events_url": "https://api.github.com/users/smartcontracts/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-03-08T23:20:16Z",
    "updated_at": "2022-03-08T23:20:16Z",
    "author_association": "CONTRIBUTOR",
    "body": "Resolved in the SDK",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1062361922/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
