{
  "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/8956",
  "repository_url": "https://api.github.com/repos/ethereum-optimism/optimism",
  "labels_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/8956/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/8956/comments",
  "events_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/8956/events",
  "html_url": "https://github.com/ethereum-optimism/optimism/issues/8956",
  "id": 2077537586,
  "node_id": "I_kwDODjvEJM571LUy",
  "number": 8956,
  "title": "Issue with new geth-op and geth-node upgrade",
  "user": {
    "login": "dandavid3000",
    "id": 10652761,
    "node_id": "MDQ6VXNlcjEwNjUyNzYx",
    "avatar_url": "https://avatars.githubusercontent.com/u/10652761?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/dandavid3000",
    "html_url": "https://github.com/dandavid3000",
    "followers_url": "https://api.github.com/users/dandavid3000/followers",
    "following_url": "https://api.github.com/users/dandavid3000/following{/other_user}",
    "gists_url": "https://api.github.com/users/dandavid3000/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/dandavid3000/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/dandavid3000/subscriptions",
    "organizations_url": "https://api.github.com/users/dandavid3000/orgs",
    "repos_url": "https://api.github.com/users/dandavid3000/repos",
    "events_url": "https://api.github.com/users/dandavid3000/events{/privacy}",
    "received_events_url": "https://api.github.com/users/dandavid3000/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 1,
  "created_at": "2024-01-11T20:33:18Z",
  "updated_at": "2024-01-13T15:22:06Z",
  "closed_at": null,
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "**Describe the bug**\r\nNode could not sync due to to old version with deadline Thu Jan 11 17:00:01 UTC 2024 (unix timestamp: 1704992401)\r\nI upgraded op-node (op-node v1.4.0)  and op-geth (v1.101304.2)\r\n\r\nAdd flags for op-node : --network=op-mainnet and op-geth:  --op-network=op-mainnet\r\n\r\nThe issue with sync\r\n`no peers ready to handle block requests for more P2P requests for L2 block history target=114,696,812 end=ad8ba5..6b8c56:114703049 current=114,702,845`\r\n\r\n**Getting in the log**\r\n\r\n`\r\nINFO [01-11|21:30:47.516] Advancing bq origin                      origin=1a4d5e..2bf44e:18985035 originBehind=false\r\nINFO [01-11|21:30:47.999] Optimistically queueing unsafe L2 execution payload id=0b6659..f0e187:114703076\r\nWARN [01-11|21:30:47.999] Could not add unsafe payload             id=0b6659..f0e187:114703076 timestamp=1,705,004,929 err=\"cannot add duplicate payload 0x0b665981dafac6b2333f229cd605f9cccc14a04599d28a2e225c5ae6e2f0e187:114703076\"\r\nINFO [01-11|21:30:48.139] Advancing bq origin                      origin=bcf8e3..c55968:18985036 originBehind=false\r\nINFO [01-11|21:30:48.139] created new channel                      origin=bcf8e3..c55968:18985036 channel=a4baf8..cb386d length=115,237 frame_number=0 is_last=true\r\nINFO [01-11|21:30:48.139] Reading channel                          channel=a4baf8..cb386d frames=1\r\nINFO [01-11|21:30:48.139] Optimistically queueing unsafe L2 execution payload id=094aa4..36e9e7:114703075\r\nWARN [01-11|21:30:48.139] Could not add unsafe payload             id=094aa4..36e9e7:114703075 timestamp=1,705,004,927 err=\"cannot add duplicate payload 0x094aa41435fce0248848b5001086281f14c0e91ad3ff0c49d1337eb2e636e9e7:114703075\"\r\nINFO [01-11|21:30:48.139] Optimistically queueing unsafe L2 execution payload id=23a2aa..eb7e24:114703074\r\nINFO [01-11|21:30:48.407] attempting connection                    peer=16Uiu2HAmP8nPwENMbsgC7dgv5EmQXKsvbYy5vPjRxBLtpeBdww7x\r\nINFO [01-11|21:30:48.802] Advancing bq origin                      origin=573c31..020b5e:18985037 originBehind=false\r\nINFO [01-11|21:30:49.297] no peers ready to handle block requests for more P2P requests for L2 block history target=114,696,812 end=23a2aa..eb7e24:114703074 current=114,702,846\r\nINFO [01-11|21:30:49.419] Advancing bq origin                      origin=8d0354..d00f8a:18985038 originBehind=false\r\nWARN [01-11|21:30:49.763] failed p2p sync request                  peer=16Uiu2HAm1hmjDZjF27FP1oCQBS8ND9DWXZX1yyRNexTyr7eC5WL3 num=114,702,978 err=\"failed to open stream: failed to negotiate protocol: protocols not supported: [/opstack/req/payload_by_number/10/0]\"\r\nWARN [01-11|21:30:49.906] failed p2p sync request                  peer=16Uiu2HAmNuBC9F56kbHqg6cQj8jbSaRxC47rCd5PYaGhegDg233L num=114,702,975 err=\"failed to open stream: failed to negotiate protocol: protocols not supported: [/opstack/req/payload_by_number/10/0]\"\r\nINFO [01-11|21:30:49.949] Advancing bq origin                      origin=6a076e..7e8bdb:18985039 originBehind=false\r\nINFO [01-11|21:30:50.468] Advancing bq origin                      origin=d6f053..66ce57:18985040 originBehind=false\r\nINFO [01-11|21:30:51.086] Advancing bq origin                      origin=2565a4..899e71:18985041 originBehind=false\r\nINFO [01-11|21:30:51.644] Advancing bq origin                      origin=28e906..6414ee:18985042 originBehind=false\r\nWARN [01-11|21:30:51.644] tx in inbox with unauthorized submitter  origin=28e906..6414ee:18985042 index=166 txHash=6f1176..799430 err=nil\r\nINFO [01-11|21:30:52.243] Advancing bq origin                      origin=c3b336..178def:18985043 originBehind=false\r\nINFO [01-11|21:30:52.733] no peers ready to handle block requests for more P2P requests for L2 block history target=114,696,812 end=23a2aa..eb7e24:114703074 current=114,702,846\r\nINFO [01-11|21:30:52.849] Advancing bq origin                      origin=6171a9..f98789:18985044 originBehind=false\r\nINFO [01-11|21:30:52.850] created new channel                      origin=6171a9..f98789:18985044 channel=a44b20..674004 length=116,023 frame_number=0 is_last=true\r\nINFO [01-11|21:30:52.850] Reading channel                          channel=a44b20..674004 frames=1\r\nINFO [01-11|21:30:53.443] Advancing bq origin                      origin=b45803..1ab2e5:18985045 originBehind=false\r\nWARN [01-11|21:30:53.761] failed p2p sync request                  peer=16Uiu2HAm1hmjDZjF27FP1oCQBS8ND9DWXZX1yyRNexTyr7eC5WL3 num=114,702,862 err=\"failed to open stream: failed to negotiate protocol: protocols not supported: [/opstack/req/payload_by_number/10/0]\"\r\nWARN [01-11|21:30:53.906] failed p2p sync request                  peer=16Uiu2HAmNuBC9F56kbHqg6cQj8jbSaRxC47rCd5PYaGhegDg233L num=114,702,861 err=\"failed to open stream: failed to negotiate protocol: protocols not supported: [/opstack/req/payload_by_number/10/0]\"\r\nINFO [01-11|21:30:54.049] Advancing bq origin                      origin=007ab1..c0763f:18985046 originBehind=false\r\nINFO [01-11|21:30:54.599] Advancing bq origin                      origin=66ddee..eab990:18985047 originBehind=false\r\nINFO [01-11|21:30:55.259] Advancing bq origin                      origin=cc171a..ef0711:18985048 originBehind=false\r\nINFO [01-11|21:30:55.999] Advancing bq origin                      origin=b8ccac..c96942:18985049 originBehind=false\r\n`\r\n\r\n**To Reproduce**\r\nop-node (op-node v1.4.0)  and op-geth (v1.101304.2)\r\n\r\n**Expected behavior**\r\nNode is synced after the upgrade",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/8956/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/8956/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1890487452",
    "html_url": "https://github.com/ethereum-optimism/optimism/issues/8956#issuecomment-1890487452",
    "issue_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/8956",
    "id": 1890487452,
    "node_id": "IC_kwDODjvEJM5wroyc",
    "user": {
      "login": "MrFrogoz",
      "id": 96173364,
      "node_id": "U_kgDOBbt9NA",
      "avatar_url": "https://avatars.githubusercontent.com/u/96173364?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MrFrogoz",
      "html_url": "https://github.com/MrFrogoz",
      "followers_url": "https://api.github.com/users/MrFrogoz/followers",
      "following_url": "https://api.github.com/users/MrFrogoz/following{/other_user}",
      "gists_url": "https://api.github.com/users/MrFrogoz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MrFrogoz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MrFrogoz/subscriptions",
      "organizations_url": "https://api.github.com/users/MrFrogoz/orgs",
      "repos_url": "https://api.github.com/users/MrFrogoz/repos",
      "events_url": "https://api.github.com/users/MrFrogoz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MrFrogoz/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2024-01-13T15:22:05Z",
    "updated_at": "2024-01-13T15:22:05Z",
    "author_association": "NONE",
    "body": "Remove --l1.trustrpc",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1890487452/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
