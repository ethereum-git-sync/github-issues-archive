{
  "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/2534",
  "repository_url": "https://api.github.com/repos/ethereum-optimism/optimism",
  "labels_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/2534/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/2534/comments",
  "events_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/2534/events",
  "html_url": "https://github.com/ethereum-optimism/optimism/issues/2534",
  "id": 1223938390,
  "node_id": "I_kwDODjvEJM5I89FW",
  "number": 2534,
  "title": "Fatal: Failed to write genesis block: database contains incompatible genesis ",
  "user": {
    "login": "oliviertruquet",
    "id": 22949111,
    "node_id": "MDQ6VXNlcjIyOTQ5MTEx",
    "avatar_url": "https://avatars.githubusercontent.com/u/22949111?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/oliviertruquet",
    "html_url": "https://github.com/oliviertruquet",
    "followers_url": "https://api.github.com/users/oliviertruquet/followers",
    "following_url": "https://api.github.com/users/oliviertruquet/following{/other_user}",
    "gists_url": "https://api.github.com/users/oliviertruquet/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/oliviertruquet/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/oliviertruquet/subscriptions",
    "organizations_url": "https://api.github.com/users/oliviertruquet/orgs",
    "repos_url": "https://api.github.com/users/oliviertruquet/repos",
    "events_url": "https://api.github.com/users/oliviertruquet/events{/privacy}",
    "received_events_url": "https://api.github.com/users/oliviertruquet/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 2907832490,
      "node_id": "MDU6TGFiZWwyOTA3ODMyNDkw",
      "url": "https://api.github.com/repos/ethereum-optimism/optimism/labels/C-bug",
      "name": "C-bug",
      "color": "C5DEF5",
      "default": false,
      "description": "Category: This is a bug."
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 11,
  "created_at": "2022-05-03T10:47:02Z",
  "updated_at": "2023-05-20T12:12:20Z",
  "closed_at": "2022-10-25T19:14:48Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "\r\n**Describe the bug**\r\nI am trying to build a mainnet replica node and I am getting a fatal error when collecting the l2geth logs. \r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n1. Clone optimism repo to your machine\r\n2. cd optimism/infra/op-replica/docker-compose\r\n3. Update your .env file as follows:\r\nCOMPOSE_PROJECT_NAME=op-replica\r\nCOMPOSE_FILE=replica.yml:replica-shared.yml:replica-toml.yml\r\nETH_NETWORK=mainnet\r\nDATA_TRANSPORT_LAYER__L1_RPC_ENDPOINT=https://mainnet.infura.io/v3/\r\nDATA_TRANSPORT_LAYER__L2_RPC_ENDPOINT=https://mainnet.optimism.io\r\nREPLICA_HEALTHCHECK__ETH_NETWORK_RPC_PROVIDER=https://mainnet.optimism.io\r\nSEQUENCER_CLIENT_HTTP=https://mainnet.optimism.io\r\nSHARED_ENV_PATH=../envs/mainnet\r\nGCMODE=archive\r\nL2GETH_IMAGE_TAG=0.5.19\r\nDTL_IMAGE_TAG=0.5.28\r\nHC_IMAGE_TAG= 1.0.6\r\nL2GETH_HTTP_PORT=9991\r\nL2GETH_WS_PORT=9992\r\nDTL_PORT=7878\r\nGETH_INIT_SCRIPT=check-for-chaindata-berlin.sh\r\n\r\nRESTART=unless-stopped\r\n5. Start the replica \r\n6. See error\r\n\r\n**Expected behavior**\r\nnot sure why the chain id collected is the optimism testnet chain id when I updated my env file with mainnet variables.\r\n\r\n**Screenshots**\r\ndocker-compose % docker-compose logs -f l2geth-replica\r\nAttaching to op-replica-l2geth-replica-1\r\nop-replica-l2geth-replica-1 | + echo running /scripts/check-for-chaindata-berlin.sh\r\nop-replica-l2geth-replica-1 | + GETH_DATA_DIR=/geth\r\nop-replica-l2geth-replica-1 | + GETH_CHAINDATA_DIR=/geth/geth/chaindata\r\nop-replica-l2geth-replica-1 | + GETH_KEYSTORE_DIR=/geth/keystore\r\nop-replica-l2geth-replica-1 | + '[' '!' -d /geth/keystore ]\r\nop-replica-l2geth-replica-1 | running /scripts/check-for-chaindata-berlin.sh\r\nop-replica-l2geth-replica-1 | + '[' '!' -d /geth/geth/chaindata ]\r\nop-replica-l2geth-replica-1 | + echo '/geth/geth/chaindata exists, checking for hardfork.'\r\nop-replica-l2geth-replica-1 | /geth/geth/chaindata exists, checking for hardfork.\r\nop-replica-l2geth-replica-1 | Chain config:\r\nop-replica-l2geth-replica-1 | + echo 'Chain config:'\r\nop-replica-l2geth-replica-1 | + geth dump-chain-cfg '--datadir=/geth'\r\nop-replica-l2geth-replica-1 | INFO [05-03|10:10:37.281] Maximum peer count                       ETH=50 LES=0 total=50\r\nop-replica-l2geth-replica-1 | INFO [05-03|10:10:37.283] Smartcard socket not found, disabling    err=\"stat /run/pcscd/pcscd.comm: no such file or directory\"\r\nop-replica-l2geth-replica-1 | INFO [05-03|10:10:37.287] Allocated cache and file handles         database=/geth/geth/chaindata cache=16.00MiB handles=16\r\nop-replica-l2geth-replica-1 | {\r\nop-replica-l2geth-replica-1 |   \"chainId\": 69,\r\nop-replica-l2geth-replica-1 |   \"homesteadBlock\": 0,\r\nop-replica-l2geth-replica-1 |   \"eip150Block\": 0,\r\nop-replica-l2geth-replica-1 |   \"eip150Hash\": \"0x0000000000000000000000000000000000000000000000000000000000000000\",\r\nop-replica-l2geth-replica-1 |   \"eip155Block\": 0,\r\nop-replica-l2geth-replica-1 |   \"eip158Block\": 0,\r\nop-replica-l2geth-replica-1 |   \"byzantiumBlock\": 0,\r\nop-replica-l2geth-replica-1 |   \"constantinopleBlock\": 0,\r\nop-replica-l2geth-replica-1 |   \"petersburgBlock\": 0,\r\nop-replica-l2geth-replica-1 |   \"istanbulBlock\": 0,\r\nop-replica-l2geth-replica-1 |   \"muirGlacierBlock\": 0,\r\nop-replica-l2geth-replica-1 |   \"berlinBlock\": 1138900,\r\nop-replica-l2geth-replica-1 |   \"clique\": {\r\nop-replica-l2geth-replica-1 |     \"period\": 0,\r\nop-replica-l2geth-replica-1 |     \"epoch\": 30000\r\nop-replica-l2geth-replica-1 |   }\r\nop-replica-l2geth-replica-1 | }\r\nop-replica-l2geth-replica-1 | + geth dump-chain-cfg '--datadir=/geth'\r\nop-replica-l2geth-replica-1 | + grep -q '\"berlinBlock\": 3950000'\r\nop-replica-l2geth-replica-1 | INFO [05-03|10:10:37.386] Maximum peer count                       ETH=50 LES=0 total=50\r\nop-replica-l2geth-replica-1 | INFO [05-03|10:10:37.387] Smartcard socket not found, disabling    err=\"stat /run/pcscd/pcscd.comm: no such file or directory\"\r\nop-replica-l2geth-replica-1 | INFO [05-03|10:10:37.389] Allocated cache and file handles         database=/geth/geth/chaindata cache=16.00MiB handles=16\r\nop-replica-l2geth-replica-1 | + echo 'Hardfork not activated, running init.'\r\nop-replica-l2geth-replica-1 | Hardfork not activated, running init.\r\nop-replica-l2geth-replica-1 | + geth init '--datadir=/geth' https://storage.googleapis.com/optimism/mainnet/genesis-berlin.json 0x106b0a3247ca54714381b1109e82cc6b7e32fd79ae56fbcc2e7b1541122f84ea\r\nop-replica-l2geth-replica-1 | INFO [05-03|10:10:37.460] Fetching genesis file                    url=https://storage.googleapis.com/optimism/mainnet/genesis-berlin.json\r\nop-replica-l2geth-replica-1 | INFO [05-03|10:12:45.986] Maximum peer count                       ETH=50 LES=0 total=50\r\nop-replica-l2geth-replica-1 | INFO [05-03|10:12:45.986] Smartcard socket not found, disabling    err=\"stat /run/pcscd/pcscd.comm: no such file or directory\"\r\nop-replica-l2geth-replica-1 | INFO [05-03|10:12:45.986] Allocated cache and file handles         database=/geth/geth/chaindata cache=16.00MiB handles=16\r\nop-replica-l2geth-replica-1 | INFO [05-03|10:15:46.089] Persisted trie from memory database      nodes=4883110 size=490.96MiB time=1m39.609451927s gcnodes=0 gcsize=0.00B gctime=0s livenodes=1 livesize=-48932.00B\r\nop-replica-l2geth-replica-1 | Fatal: Failed to write genesis block: database contains incompatible genesis (have 02adc9b449ff5f2467b8c674ece7ff9b21319d76c4ad62a67a70d552655927e5, new 7ca38a1916c42007829c55e69d3e9a73265554b586a499015373241b8a3fa48b)\r\nop-replica-l2geth-replica-1 | Fatal: Failed to write genesis block: database contains incompatible genesis (have 02adc9b449ff5f2467b8c674ece7ff9b21319d76c4ad62a67a70d552655927e5, new 7ca38a1916c42007829c55e69d3e9a73265554b586a499015373241b8a3fa48b)\r\n\r\n**System Specs:**\r\n - OS: Monetery 12.3.1\r\n - Package Version (or commit hash): https://github.com/ethereum-optimism/optimism/releases/tag/%40eth-optimism%2Fsdk%401.1.2\r\n\r\n\r\n**Additional context**\r\nn/a\r\n",
  "closed_by": {
    "login": "smartcontracts",
    "id": 14298799,
    "node_id": "MDQ6VXNlcjE0Mjk4Nzk5",
    "avatar_url": "https://avatars.githubusercontent.com/u/14298799?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/smartcontracts",
    "html_url": "https://github.com/smartcontracts",
    "followers_url": "https://api.github.com/users/smartcontracts/followers",
    "following_url": "https://api.github.com/users/smartcontracts/following{/other_user}",
    "gists_url": "https://api.github.com/users/smartcontracts/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/smartcontracts/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/smartcontracts/subscriptions",
    "organizations_url": "https://api.github.com/users/smartcontracts/orgs",
    "repos_url": "https://api.github.com/users/smartcontracts/repos",
    "events_url": "https://api.github.com/users/smartcontracts/events{/privacy}",
    "received_events_url": "https://api.github.com/users/smartcontracts/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/2534/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/2534/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1115965181",
    "html_url": "https://github.com/ethereum-optimism/optimism/issues/2534#issuecomment-1115965181",
    "issue_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/2534",
    "id": 1115965181,
    "node_id": "IC_kwDODjvEJM5ChEb9",
    "user": {
      "login": "oliviertruquet",
      "id": 22949111,
      "node_id": "MDQ6VXNlcjIyOTQ5MTEx",
      "avatar_url": "https://avatars.githubusercontent.com/u/22949111?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/oliviertruquet",
      "html_url": "https://github.com/oliviertruquet",
      "followers_url": "https://api.github.com/users/oliviertruquet/followers",
      "following_url": "https://api.github.com/users/oliviertruquet/following{/other_user}",
      "gists_url": "https://api.github.com/users/oliviertruquet/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/oliviertruquet/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/oliviertruquet/subscriptions",
      "organizations_url": "https://api.github.com/users/oliviertruquet/orgs",
      "repos_url": "https://api.github.com/users/oliviertruquet/repos",
      "events_url": "https://api.github.com/users/oliviertruquet/events{/privacy}",
      "received_events_url": "https://api.github.com/users/oliviertruquet/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-05-03T10:50:16Z",
    "updated_at": "2022-05-03T10:50:33Z",
    "author_association": "NONE",
    "body": "Otherwise, DTL syncing normally: \r\n\r\nop-replica-data-transport-layer-1 | {\"level\":30,\"time\":1651574972750,\"fromBlock\":448001,\"toBlock\":449001,\"msg\":\"Synchronizing unconfirmed transactions from Layer 2 (Optimism)\"}\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1115965181/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1116001539",
    "html_url": "https://github.com/ethereum-optimism/optimism/issues/2534#issuecomment-1116001539",
    "issue_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/2534",
    "id": 1116001539,
    "node_id": "IC_kwDODjvEJM5ChNUD",
    "user": {
      "login": "oliviertruquet",
      "id": 22949111,
      "node_id": "MDQ6VXNlcjIyOTQ5MTEx",
      "avatar_url": "https://avatars.githubusercontent.com/u/22949111?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/oliviertruquet",
      "html_url": "https://github.com/oliviertruquet",
      "followers_url": "https://api.github.com/users/oliviertruquet/followers",
      "following_url": "https://api.github.com/users/oliviertruquet/following{/other_user}",
      "gists_url": "https://api.github.com/users/oliviertruquet/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/oliviertruquet/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/oliviertruquet/subscriptions",
      "organizations_url": "https://api.github.com/users/oliviertruquet/orgs",
      "repos_url": "https://api.github.com/users/oliviertruquet/repos",
      "events_url": "https://api.github.com/users/oliviertruquet/events{/privacy}",
      "received_events_url": "https://api.github.com/users/oliviertruquet/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-05-03T11:39:04Z",
    "updated_at": "2022-05-03T11:39:04Z",
    "author_association": "NONE",
    "body": "Also any reason why I get this kind of errors on the DTL, I was getting a lot of these on the testnet version and was suspecting something might be wrong on my end: op-replica-data-transport-layer-1 | {\"level\":50,\"time\":1651577018440,\"extra\":{\"message\":\"Error: missing response (requestBody=\\\"{\\\\\\\"method\\\\\\\":\\\\\\\"eth_blockNumber\\\\\\\",\\\\\\\"params\\\\\\\":[],\\\\\\\"id\\\\\\\":467,\\\\\\\"jsonrpc\\\\\\\":\\\\\\\"2.0\\\\\\\"}\\\", requestMethod=\\\"POST\\\", serverError={\\\"code\\\":\\\"ECONNRESET\\\",\\\"path\\\":null,\\\"host\\\":\\\"mainnet.optimism.io\\\",\\\"port\\\":443}, url=\\\"https://mainnet.optimism.io\\\", code=SERVER_ERROR, version=web/5.5.1)\",\"stack\":\"Error: missing response (requestBody=\\\"{\\\\\\\"method\\\\\\\":\\\\\\\"eth_blockNumber\\\\\\\",\\\\\\\"params\\\\\\\":[],\\\\\\\"id\\\\\\\":467,\\\\\\\"jsonrpc\\\\\\\":\\\\\\\"2.0\\\\\\\"}\\\", requestMethod=\\\"POST\\\", serverError={\\\"code\\\":\\\"ECONNRESET\\\",\\\"path\\\":null,\\\"host\\\":\\\"mainnet.optimism.io\\\",\\\"port\\\":443}, url=\\\"https://mainnet.optimism.io\\\", code=SERVER_ERROR, version=web/5.5.1)\\n    at Logger.makeError (/opt/optimism/node_modules/@ethersproject/providers/node_modules/@ethersproject/logger/lib/index.js:199:21)\\n    at Logger.throwError (/opt/optimism/node_modules/@ethersproject/providers/node_modules/@ethersproject/logger/lib/index.js:208:20)\\n    at /opt/optimism/node_modules/@ethersproject/providers/node_modules/@ethersproject/web/lib/index.js:248:36\\n    at step (/opt/optimism/node_modules/@ethersproject/providers/node_modules/@ethersproject/web/lib/index.js:33:23)\\n    at Object.throw (/opt/optimism/node_modules/@ethersproject/providers/node_modules/@ethersproject/web/lib/index.js:14:53)\\n    at rejected (/opt/optimism/node_modules/@ethersproject/providers/node_modules/@ethersproject/web/lib/index.js:6:65)\\n    at runMicrotasks (<anonymous>)\\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\",\"code\":\"SERVER_ERROR\"},\"msg\":\"Caught an unhandled error\"}",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1116001539/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1116368973",
    "html_url": "https://github.com/ethereum-optimism/optimism/issues/2534#issuecomment-1116368973",
    "issue_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/2534",
    "id": 1116368973,
    "node_id": "IC_kwDODjvEJM5CinBN",
    "user": {
      "login": "tynes",
      "id": 6626818,
      "node_id": "MDQ6VXNlcjY2MjY4MTg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6626818?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tynes",
      "html_url": "https://github.com/tynes",
      "followers_url": "https://api.github.com/users/tynes/followers",
      "following_url": "https://api.github.com/users/tynes/following{/other_user}",
      "gists_url": "https://api.github.com/users/tynes/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tynes/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tynes/subscriptions",
      "organizations_url": "https://api.github.com/users/tynes/orgs",
      "repos_url": "https://api.github.com/users/tynes/repos",
      "events_url": "https://api.github.com/users/tynes/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tynes/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-05-03T17:38:09Z",
    "updated_at": "2022-05-03T17:38:09Z",
    "author_association": "CONTRIBUTOR",
    "body": "Is `USING_OVM=true` set in the env?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1116368973/reactions",
      "total_count": 2,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 1
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1116894133",
    "html_url": "https://github.com/ethereum-optimism/optimism/issues/2534#issuecomment-1116894133",
    "issue_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/2534",
    "id": 1116894133,
    "node_id": "IC_kwDODjvEJM5CknO1",
    "user": {
      "login": "oliviertruquet",
      "id": 22949111,
      "node_id": "MDQ6VXNlcjIyOTQ5MTEx",
      "avatar_url": "https://avatars.githubusercontent.com/u/22949111?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/oliviertruquet",
      "html_url": "https://github.com/oliviertruquet",
      "followers_url": "https://api.github.com/users/oliviertruquet/followers",
      "following_url": "https://api.github.com/users/oliviertruquet/following{/other_user}",
      "gists_url": "https://api.github.com/users/oliviertruquet/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/oliviertruquet/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/oliviertruquet/subscriptions",
      "organizations_url": "https://api.github.com/users/oliviertruquet/orgs",
      "repos_url": "https://api.github.com/users/oliviertruquet/repos",
      "events_url": "https://api.github.com/users/oliviertruquet/events{/privacy}",
      "received_events_url": "https://api.github.com/users/oliviertruquet/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-05-04T03:30:47Z",
    "updated_at": "2022-05-04T03:30:47Z",
    "author_association": "NONE",
    "body": "> Is `USING_OVM=true` set in the env?\r\n\r\nI did set it to true but the error was the same. ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1116894133/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1117448764",
    "html_url": "https://github.com/ethereum-optimism/optimism/issues/2534#issuecomment-1117448764",
    "issue_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/2534",
    "id": 1117448764,
    "node_id": "IC_kwDODjvEJM5Cmuo8",
    "user": {
      "login": "smartcontracts",
      "id": 14298799,
      "node_id": "MDQ6VXNlcjE0Mjk4Nzk5",
      "avatar_url": "https://avatars.githubusercontent.com/u/14298799?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/smartcontracts",
      "html_url": "https://github.com/smartcontracts",
      "followers_url": "https://api.github.com/users/smartcontracts/followers",
      "following_url": "https://api.github.com/users/smartcontracts/following{/other_user}",
      "gists_url": "https://api.github.com/users/smartcontracts/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/smartcontracts/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/smartcontracts/subscriptions",
      "organizations_url": "https://api.github.com/users/smartcontracts/orgs",
      "repos_url": "https://api.github.com/users/smartcontracts/repos",
      "events_url": "https://api.github.com/users/smartcontracts/events{/privacy}",
      "received_events_url": "https://api.github.com/users/smartcontracts/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-05-04T15:07:31Z",
    "updated_at": "2022-05-04T15:08:16Z",
    "author_association": "CONTRIBUTOR",
    "body": "You may need to delete the datadir and run everything again with `USING_OVM=true` set. So try:\r\n\r\n```\r\ndocker-compose down -v\r\ndocker-compose up\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1117448764/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1118138751",
    "html_url": "https://github.com/ethereum-optimism/optimism/issues/2534#issuecomment-1118138751",
    "issue_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/2534",
    "id": 1118138751,
    "node_id": "IC_kwDODjvEJM5CpXF_",
    "user": {
      "login": "oliviertruquet",
      "id": 22949111,
      "node_id": "MDQ6VXNlcjIyOTQ5MTEx",
      "avatar_url": "https://avatars.githubusercontent.com/u/22949111?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/oliviertruquet",
      "html_url": "https://github.com/oliviertruquet",
      "followers_url": "https://api.github.com/users/oliviertruquet/followers",
      "following_url": "https://api.github.com/users/oliviertruquet/following{/other_user}",
      "gists_url": "https://api.github.com/users/oliviertruquet/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/oliviertruquet/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/oliviertruquet/subscriptions",
      "organizations_url": "https://api.github.com/users/oliviertruquet/orgs",
      "repos_url": "https://api.github.com/users/oliviertruquet/repos",
      "events_url": "https://api.github.com/users/oliviertruquet/events{/privacy}",
      "received_events_url": "https://api.github.com/users/oliviertruquet/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-05-05T03:55:37Z",
    "updated_at": "2022-05-05T03:55:37Z",
    "author_association": "NONE",
    "body": "> You may need to delete the datadir and run everything again with `USING_OVM=true` set. So try:\r\n> \r\n> ```\r\n> docker-compose down -v\r\n> docker-compose up\r\n> ```\r\n\r\nShoot, I did miss the deletion of the datadir indeed. I was not using the -v command. Adding USING_OVM seems to work here.  I still need to wait for the DTL to sync completely though as I am getting this error on the l2geth side: \r\n\r\n`l2geth-replica_1        | INFO [05-05|03:44:52.396] Cannot connect to upstream service       msg=\"Cannot connect to data service: Cannot fetch eth context: 400 cannot GET http://data-transport-layer:7878/eth/context/latest: http error\"`\r\n\r\nI did not see any information on the USING_OVM setting when reading the [readme](https://github.com/ethereum-optimism/optimism/tree/develop/infra/op-replica/docker-compose), where was I supposed to infer this from? I saw a mention of USING_OVM [here](https://github.com/ethereum-optimism/go-ethereum) but it was not obvious that I was supposed to add that setting in my .env file. Maybe it should be included by default in the [default-mainnet.env](https://github.com/ethereum-optimism/optimism/blob/develop/infra/op-replica/docker-compose/default-mainnet.env) file.\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1118138751/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1120096350",
    "html_url": "https://github.com/ethereum-optimism/optimism/issues/2534#issuecomment-1120096350",
    "issue_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/2534",
    "id": 1120096350,
    "node_id": "IC_kwDODjvEJM5Cw1Be",
    "user": {
      "login": "smartcontracts",
      "id": 14298799,
      "node_id": "MDQ6VXNlcjE0Mjk4Nzk5",
      "avatar_url": "https://avatars.githubusercontent.com/u/14298799?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/smartcontracts",
      "html_url": "https://github.com/smartcontracts",
      "followers_url": "https://api.github.com/users/smartcontracts/followers",
      "following_url": "https://api.github.com/users/smartcontracts/following{/other_user}",
      "gists_url": "https://api.github.com/users/smartcontracts/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/smartcontracts/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/smartcontracts/subscriptions",
      "organizations_url": "https://api.github.com/users/smartcontracts/orgs",
      "repos_url": "https://api.github.com/users/smartcontracts/repos",
      "events_url": "https://api.github.com/users/smartcontracts/events{/privacy}",
      "received_events_url": "https://api.github.com/users/smartcontracts/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-05-07T01:00:48Z",
    "updated_at": "2022-05-07T01:00:48Z",
    "author_association": "CONTRIBUTOR",
    "body": "Hmm... it is indeed weird that `USING_OVM` isn't included in that ENV file. I'll make sure the docs get updated to explicitly reference this. Thank you for reporting! Feel free to drop an ETH address and I'll send you a hand-drawn contributor NFT for your troubles :-) ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1120096350/reactions",
      "total_count": 2,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 1,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1133603474",
    "html_url": "https://github.com/ethereum-optimism/optimism/issues/2534#issuecomment-1133603474",
    "issue_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/2534",
    "id": 1133603474,
    "node_id": "IC_kwDODjvEJM5DkWqS",
    "user": {
      "login": "oliviertruquet",
      "id": 22949111,
      "node_id": "MDQ6VXNlcjIyOTQ5MTEx",
      "avatar_url": "https://avatars.githubusercontent.com/u/22949111?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/oliviertruquet",
      "html_url": "https://github.com/oliviertruquet",
      "followers_url": "https://api.github.com/users/oliviertruquet/followers",
      "following_url": "https://api.github.com/users/oliviertruquet/following{/other_user}",
      "gists_url": "https://api.github.com/users/oliviertruquet/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/oliviertruquet/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/oliviertruquet/subscriptions",
      "organizations_url": "https://api.github.com/users/oliviertruquet/orgs",
      "repos_url": "https://api.github.com/users/oliviertruquet/repos",
      "events_url": "https://api.github.com/users/oliviertruquet/events{/privacy}",
      "received_events_url": "https://api.github.com/users/oliviertruquet/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-05-21T11:26:32Z",
    "updated_at": "2022-05-21T11:26:32Z",
    "author_association": "NONE",
    "body": "@smartcontracts , did you ever get a chance to send the contributor NFT haha? I could not find it in my wallet :_(",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1133603474/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1134220465",
    "html_url": "https://github.com/ethereum-optimism/optimism/issues/2534#issuecomment-1134220465",
    "issue_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/2534",
    "id": 1134220465,
    "node_id": "IC_kwDODjvEJM5DmtSx",
    "user": {
      "login": "smartcontracts",
      "id": 14298799,
      "node_id": "MDQ6VXNlcjE0Mjk4Nzk5",
      "avatar_url": "https://avatars.githubusercontent.com/u/14298799?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/smartcontracts",
      "html_url": "https://github.com/smartcontracts",
      "followers_url": "https://api.github.com/users/smartcontracts/followers",
      "following_url": "https://api.github.com/users/smartcontracts/following{/other_user}",
      "gists_url": "https://api.github.com/users/smartcontracts/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/smartcontracts/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/smartcontracts/subscriptions",
      "organizations_url": "https://api.github.com/users/smartcontracts/orgs",
      "repos_url": "https://api.github.com/users/smartcontracts/repos",
      "events_url": "https://api.github.com/users/smartcontracts/events{/privacy}",
      "received_events_url": "https://api.github.com/users/smartcontracts/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-05-23T06:07:49Z",
    "updated_at": "2022-05-23T06:07:49Z",
    "author_association": "CONTRIBUTOR",
    "body": "> @smartcontracts , did you ever get a chance to send the contributor NFT haha? I could not find it in my wallet :_(\r\n\r\nHeyo! Sorry I haven't gotten around to this yet. I'm planning to do a large batch of them this week. I draw each one of them individually so it can sometimes take me a while, sorry about that!",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1134220465/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1145183435",
    "html_url": "https://github.com/ethereum-optimism/optimism/issues/2534#issuecomment-1145183435",
    "issue_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/2534",
    "id": 1145183435,
    "node_id": "IC_kwDODjvEJM5EQhzL",
    "user": {
      "login": "smartcontracts",
      "id": 14298799,
      "node_id": "MDQ6VXNlcjE0Mjk4Nzk5",
      "avatar_url": "https://avatars.githubusercontent.com/u/14298799?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/smartcontracts",
      "html_url": "https://github.com/smartcontracts",
      "followers_url": "https://api.github.com/users/smartcontracts/followers",
      "following_url": "https://api.github.com/users/smartcontracts/following{/other_user}",
      "gists_url": "https://api.github.com/users/smartcontracts/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/smartcontracts/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/smartcontracts/subscriptions",
      "organizations_url": "https://api.github.com/users/smartcontracts/orgs",
      "repos_url": "https://api.github.com/users/smartcontracts/repos",
      "events_url": "https://api.github.com/users/smartcontracts/events{/privacy}",
      "received_events_url": "https://api.github.com/users/smartcontracts/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-06-02T18:30:08Z",
    "updated_at": "2022-06-02T18:30:08Z",
    "author_association": "CONTRIBUTOR",
    "body": "Sorry it took so long! https://quixotic.io/asset/0x8954397e87A891f8b23c8baA8C47f726AB00b2B1/23",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1145183435/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1309972415",
    "html_url": "https://github.com/ethereum-optimism/optimism/issues/2534#issuecomment-1309972415",
    "issue_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/2534",
    "id": 1309972415,
    "node_id": "IC_kwDODjvEJM5OFJe_",
    "user": {
      "login": "machaohappyii",
      "id": 7270823,
      "node_id": "MDQ6VXNlcjcyNzA4MjM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7270823?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/machaohappyii",
      "html_url": "https://github.com/machaohappyii",
      "followers_url": "https://api.github.com/users/machaohappyii/followers",
      "following_url": "https://api.github.com/users/machaohappyii/following{/other_user}",
      "gists_url": "https://api.github.com/users/machaohappyii/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/machaohappyii/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/machaohappyii/subscriptions",
      "organizations_url": "https://api.github.com/users/machaohappyii/orgs",
      "repos_url": "https://api.github.com/users/machaohappyii/repos",
      "events_url": "https://api.github.com/users/machaohappyii/events{/privacy}",
      "received_events_url": "https://api.github.com/users/machaohappyii/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-11-10T09:02:57Z",
    "updated_at": "2022-11-10T09:02:57Z",
    "author_association": "NONE",
    "body": "> 您可能需要删除 datadir 并使用`USING_OVM=true`set 再次运行所有内容。所以试试：\r\n> \r\n> ```\r\n> docker-compose down -v\r\n> docker-compose up\r\n> ```\r\n\r\n\r\n\r\n> 您可能需要删除数据目录并使用再次`USING_OVM=true`运行所有内容。\r\n> \r\n> ```\r\n> docker-compose down -v\r\n> docker-compose up\r\n> ```\r\n\r\nHello, I build an optimization node based on the docker of the main network and keep reporting this error. How can I deal with it? Thank you very much!\r\n| > @eth-optimism/fault-detector@0.3.1 start\r\nsimple-optimism-node-fault-detector-1  | > ts-node ./src/service.ts\r\nsimple-optimism-node-fault-detector-1  | \r\nsimple-optimism-node-fault-detector-1  | {\"level\":30,\"time\":1668070609510,\"msg\":\"starting app server\"}\r\nsimple-optimism-node-fault-detector-1  | {\"level\":30,\"time\":1668070609540,\"port\":7300,\"hostname\":\"0.0.0.0\",\"msg\":\"app server started\"}\r\nsimple-optimism-node-fault-detector-1  | {\"level\":30,\"time\":1668070609541,\"msg\":\"initializing service\"}\r\nsimple-optimism-node-fault-detector-1  | /opt/optimism/node_modules/@ethersproject/providers/node_modules/@ethersproject/logger/src.ts/index.ts:269\r\nsimple-optimism-node-fault-detector-1  |         const error: any = new Error(message);\r\nsimple-optimism-node-fault-detector-1  |                            ^\r\nsimple-optimism-node-fault-detector-1  | Error: could not detect network (event=\"noNetwork\", code=NETWORK_ERROR, version=providers/5.7.1)\r\nsimple-optimism-node-fault-detector-1  |     at Logger.makeError (/opt/optimism/node_modules/@ethersproject/providers/node_modules/@ethersproject/logger/src.ts/index.ts:269:28)\r\nsimple-optimism-node-fault-detector-1  |     at Logger.throwError (/opt/optimism/node_modules/@ethersproject/providers/node_modules/@ethersproject/logger/src.ts/index.ts:281:20)\r\nsimple-optimism-node-fault-detector-1  |     at JsonRpcProvider.<anonymous> (/opt/optimism/node_modules/@ethersproject/providers/src.ts/json-rpc-provider.ts:483:23)\r\nsimple-optimism-node-fault-detector-1  |     at step (/opt/optimism/node_modules/@ethersproject/providers/lib/json-rpc-provider.js:48:23)\r\nsimple-optimism-node-fault-detector-1  |     at Object.throw (/opt/optimism/node_modules/@ethersproject/providers/lib/json-rpc-provider.js:29:53)\r\nsimple-optimism-node-fault-detector-1  |     at rejected (/opt/optimism/node_modules/@ethersproject/providers/lib/json-rpc-provider.js:21:65)\r\nsimple-optimism-node-fault-detector-1  |     at processTicksAndRejections (node:internal/process/task_queues:96:5) {\r\nsimple-optimism-node-fault-detector-1  |   reason: 'could not detect network',\r\nsimple-optimism-node-fault-detector-1  |   code: 'NETWORK_ERROR',\r\nsimple-optimism-node-fault-detector-1  |   event: 'noNetwork'\r\nsimple-optimism-node-fault-detector-1  | }\r\nsimple-optimism-node-fault-detector-1  | npm ERR! Lifecycle script `start` failed with error: \r\nsimple-optimism-node-fault-detector-1  | npm ERR! Error: command failed \r\nsimple-optimism-node-fault-detector-1  | npm ERR!   in workspace: @eth-optimism/fault-detector@0.3.1 \r\nsimple-optimism-node-fault-detector-1  | npm ERR!   at location: /opt/optimism/packages/fault-detector \r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1309972415/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
