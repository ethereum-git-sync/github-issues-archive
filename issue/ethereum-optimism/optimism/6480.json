{
  "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/6480",
  "repository_url": "https://api.github.com/repos/ethereum-optimism/optimism",
  "labels_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/6480/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/6480/comments",
  "events_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/6480/events",
  "html_url": "https://github.com/ethereum-optimism/optimism/issues/6480",
  "id": 1824605722,
  "node_id": "I_kwDODjvEJM5swUYa",
  "number": 6480,
  "title": "not found eth_sendRawTransaction in op-geth at upload smart contracts",
  "user": {
    "login": "netzulo",
    "id": 11871932,
    "node_id": "MDQ6VXNlcjExODcxOTMy",
    "avatar_url": "https://avatars.githubusercontent.com/u/11871932?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/netzulo",
    "html_url": "https://github.com/netzulo",
    "followers_url": "https://api.github.com/users/netzulo/followers",
    "following_url": "https://api.github.com/users/netzulo/following{/other_user}",
    "gists_url": "https://api.github.com/users/netzulo/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/netzulo/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/netzulo/subscriptions",
    "organizations_url": "https://api.github.com/users/netzulo/orgs",
    "repos_url": "https://api.github.com/users/netzulo/repos",
    "events_url": "https://api.github.com/users/netzulo/events{/privacy}",
    "received_events_url": "https://api.github.com/users/netzulo/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2023-07-27T15:22:48Z",
  "updated_at": "2023-07-27T19:40:56Z",
  "closed_at": null,
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "## Obtained behaviour\r\n\r\nI can't upload my own smart contracts from a separated repository **using official optimism op-geth**, before bedrocks, working\r\n\r\n* **I tested upload over L2 directly and works, but i need to use geth endpoint RPC**\r\n\r\n## Expected behaviour\r\n\r\n**I can't upload** my own smart contracts from a separated repository **using official optimism op-geth**, before bedrocks, working\r\n\r\n### Steps to reproduce the behavior:\r\n1. build base environment\r\n```\r\ngit clone https://github.com/ethereum-optimism/optimism.git\r\ncd optimism\r\npnpm clean\r\npnpm install\r\nmake op-node op-batcher op-proposer\r\npnpm build\r\ngit clone https://github.com/ethereum-optimism/op-geth.git\r\ncd op-geth\r\nmake clean && make geth\r\ncd ..\r\nmake devnet-clean && make devnet-up-deploy\r\n```\r\n2. Build and up for my own containers (`op-geth` and genesis creators)\r\n\r\n```\r\ndocker compose build create-gethlegacy-genesis op-gethlegacy create-geth-genesis op-geth\r\ndocker compose up -d\r\n```\r\n3. setup my hardhat file to point to op-geth and deploy to this endpoint without changes between before and after bedrock\r\n4. review logs at geth, i can see `2023-07-27 17:07:54 WARN [07-27|15:07:54.993] Served eth_sendRawTransaction            conn=172.20.0.1:51894 reqid=11 duration=3.902377ms err=\"the method eth_sendRawTransaction does not exist/is not available\"\r\n`\r\n\r\n**Screenshots**\r\n\r\n\r\n**System Specs:**\r\n - OS: Linux ubuntu\r\n ```\r\n [ntz@ntz-cronos]~: lsb_release -a\r\nNo LSB modules are available.\r\nDistributor ID:\tUbuntu\r\nDescription:\tUbuntu 22.04.2 LTS\r\nRelease:\t22.04\r\nCodename:\tjammy\r\n```\r\n - Package Version (or commit hash): branch **develop**\r\n\r\n**Additional context**\r\n\r\nDocker-compose file used\r\n\r\n```\r\nversion: '3.9'\r\nname: ba\r\n\r\n# Networks to be used by services\r\nnetworks:\r\n  op-network:\r\n    name: op-network\r\n    driver: bridge\r\n\r\n# This Compose file is expected to be used with the devnet-up.sh script.\r\n# The volumes below mount the configs generated by the script into each\r\n# service.\r\n\r\nvolumes:\r\n  l1_data:\r\n  l2_data:\r\n  op_log:\r\n  geth_data:\r\n  gethlegacy_data:\r\n\r\n\r\nservices:\r\n  l1:\r\n    container_name: l1\r\n    build:\r\n      context: .\r\n      dockerfile: Dockerfile.l1\r\n    ports:\r\n      - \"8545:8545\"\r\n      - \"8546:8546\"\r\n      - \"9551:8551\"\r\n      - \"7060:6060\"\r\n    volumes:\r\n      - \"l1_data:/db\"\r\n      - \"${PWD}/../.devnet/genesis-l1.json:/genesis.json\"\r\n      - \"${PWD}/test-jwt-secret.txt:/config/test-jwt-secret.txt\"\r\n\r\n  l2:\r\n    container_name: l2\r\n    build:\r\n      context: .\r\n      dockerfile: Dockerfile.l2\r\n    ports:\r\n      - \"9545:8545\"\r\n      - \"9552:8551\"\r\n      - \"8060:6060\"\r\n    volumes:\r\n      - \"l2_data:/db\"\r\n      - \"${PWD}/../.devnet/genesis-l2.json:/genesis.json\"\r\n      - \"${PWD}/test-jwt-secret.txt:/config/test-jwt-secret.txt\"\r\n    entrypoint:  # pass the L2 specific flags by overriding the entry-point and adding extra arguments\r\n      - \"/bin/sh\"\r\n      - \"/entrypoint.sh\"\r\n      - \"--authrpc.jwtsecret=/config/test-jwt-secret.txt\"\r\n\r\n  op-node:\r\n    container_name: op-node\r\n    depends_on:\r\n      - l1\r\n      - l2\r\n    build:\r\n      context: ../\r\n      dockerfile: ./op-node/Dockerfile\r\n    command: >\r\n      op-node\r\n      --l1=ws://l1:8546\r\n      --l2=http://l2:8551\r\n      --l2.jwt-secret=/config/test-jwt-secret.txt\r\n      --sequencer.enabled\r\n      --sequencer.l1-confs=0\r\n      --verifier.l1-confs=0\r\n      --p2p.sequencer.key=8b3a350cf5c34c9194ca85829a2df0ec3153be0318b5e2d3348e872092edffba\r\n      --rollup.config=/rollup.json\r\n      --rpc.addr=0.0.0.0\r\n      --rpc.port=8545\r\n      --p2p.listen.ip=0.0.0.0\r\n      --p2p.listen.tcp=9003\r\n      --p2p.listen.udp=9003\r\n      --p2p.scoring.peers=light\r\n      --p2p.ban.peers=true\r\n      --snapshotlog.file=/op_log/snapshot.log\r\n      --p2p.priv.path=/config/p2p-node-key.txt\r\n      --metrics.enabled\r\n      --metrics.addr=0.0.0.0\r\n      --metrics.port=7300\r\n      --pprof.enabled\r\n      --rpc.enable-admin\r\n    ports:\r\n      - \"7545:8545\"\r\n      - \"9003:9003\"\r\n      - \"7300:7300\"\r\n      - \"6060:6060\"\r\n    volumes:\r\n      - \"${PWD}/p2p-sequencer-key.txt:/config/p2p-sequencer-key.txt\"\r\n      - \"${PWD}/p2p-node-key.txt:/config/p2p-node-key.txt\"\r\n      - \"${PWD}/test-jwt-secret.txt:/config/test-jwt-secret.txt\"\r\n      - \"${PWD}/../.devnet/rollup.json:/rollup.json\"\r\n      - op_log:/op_log\r\n\r\n  op-proposer:\r\n    container_name: op-proposer\r\n    depends_on:\r\n      - l1\r\n      - l2\r\n      - op-node\r\n    build:\r\n      context: ../\r\n      dockerfile: ./op-proposer/Dockerfile\r\n    ports:\r\n      - \"6062:6060\"\r\n      - \"7302:7300\"\r\n    environment:\r\n      OP_PROPOSER_L1_ETH_RPC: http://l1:8545\r\n      OP_PROPOSER_ROLLUP_RPC: http://op-node:8545\r\n      OP_PROPOSER_POLL_INTERVAL: 1s\r\n      OP_PROPOSER_NUM_CONFIRMATIONS: 1\r\n      OP_PROPOSER_MNEMONIC: test test test test test test test test test test test junk\r\n      OP_PROPOSER_L2_OUTPUT_HD_PATH: \"m/44'/60'/0'/0/1\"\r\n      OP_PROPOSER_L2OO_ADDRESS: \"${L2OO_ADDRESS:-0xA57B9f15AA204b9D68DF58849b02Df16c80C0999}\"\r\n      OP_PROPOSER_PPROF_ENABLED: \"true\"\r\n      OP_PROPOSER_METRICS_ENABLED: \"true\"\r\n      OP_PROPOSER_ALLOW_NON_FINALIZED: \"true\"\r\n\r\n  op-batcher:\r\n    container_name: op-batcher\r\n    depends_on:\r\n      - l1\r\n      - l2\r\n      - op-node\r\n    build:\r\n      context: ../\r\n      dockerfile: ./op-batcher/Dockerfile\r\n    ports:\r\n      - \"6061:6060\"\r\n      - \"7301:7300\"\r\n      - \"6545:8545\"\r\n    environment:\r\n      OP_BATCHER_L1_ETH_RPC: http://l1:8545\r\n      OP_BATCHER_L2_ETH_RPC: http://l2:8545\r\n      OP_BATCHER_ROLLUP_RPC: http://op-node:8545\r\n      OP_BATCHER_MAX_CHANNEL_DURATION: 1\r\n      OP_BATCHER_SUB_SAFETY_MARGIN: 4 # SWS is 15, ChannelTimeout is 40\r\n      OP_BATCHER_POLL_INTERVAL: 1s\r\n      OP_BATCHER_NUM_CONFIRMATIONS: 1\r\n      OP_BATCHER_MNEMONIC: test test test test test test test test test test test junk\r\n      OP_BATCHER_SEQUENCER_HD_PATH: \"m/44'/60'/0'/0/2\"\r\n      OP_BATCHER_PPROF_ENABLED: \"true\"\r\n      OP_BATCHER_METRICS_ENABLED: \"true\"\r\n      OP_BATCHER_RPC_ENABLE_ADMIN: \"true\"\r\n\r\n  stateviz:\r\n    build:\r\n      context: ../\r\n      dockerfile: ./ops-op/Dockerfile.stateviz\r\n    command:\r\n      - stateviz\r\n      - -addr=0.0.0.0:8080\r\n      - -snapshot=/op_log/snapshot.log\r\n      - -refresh=10s\r\n    ports:\r\n      - \"9090:8080\"\r\n    volumes:\r\n      - op_log:/op_log:ro\r\n\r\n  create-gethlegacy-genesis:\r\n    container_name: create-gethlegacy-genesis\r\n    depends_on:\r\n      - l1\r\n      - l2\r\n      - op-node\r\n    build:\r\n      context: ./../op-geth\r\n      dockerfile: ./Dockerfile\r\n    volumes:\r\n      - \"gethlegacy_data:/home/datadir/\"\r\n      - \"${PWD}/../.devnet/genesis-l2.json:/config/genesis.json\"\r\n    command: init --datadir /home/datadir /config/genesis.json\r\n\r\n  op-gethlegacy:\r\n    container_name: op-gethlegacy\r\n    depends_on:\r\n      create-gethlegacy-genesis:\r\n        condition: service_completed_successfully\r\n    build:\r\n      context: ./../op-geth\r\n      dockerfile: ./Dockerfile\r\n    ports:\r\n      - \"8547:8545\"\r\n      - \"8552:8546\"\r\n    volumes:\r\n      - \"gethlegacy_data:/home/datadir/\"\r\n      - \"${PWD}/test-jwt-secret.txt:/config/jwt.txt\"\r\n      - \"${PWD}/../.devnet/genesis-l2.json:/config/genesis.json\"\r\n    environment:\r\n      USING_OVM: true\r\n      ETH1_SYNC_SERVICE_ENABLE: false\r\n      # RPC_API: eth,rollup,net,web3,debug\r\n      # RPC_ADDR: 0.0.0.0\r\n      # RPC_CORS_DOMAIN: \"*\"\r\n      # RPC_ENABLE: true\r\n      # RPC_PORT: 8545\r\n      # RPC_VHOSTS: \"*\"\r\n    command: >\r\n      --datadir /home/datadir\r\n      --http\r\n      --http.corsdomain=\"*\"\r\n      --http.vhosts=\"*\"\r\n      --http.addr=0.0.0.0\r\n      --http.port=8545\r\n      --http.api=eth,rollup,net,web3,debug\r\n      --ws\r\n      --ws.addr=0.0.0.0\r\n      --ws.port=8546\r\n      --ws.origins=\"*\"\r\n      --ws.api=eth,rollup,net,web3,debug\r\n      --syncmode=full\r\n      --gcmode=archive\r\n      --nodiscover\r\n      --maxpeers=0\r\n      --networkid=901\r\n      --authrpc.vhosts=\"*\"\r\n      --authrpc.addr=0.0.0.0\r\n      --authrpc.port=8551\r\n      --authrpc.jwtsecret=/config/jwt.txt\r\n      --verbosity=3\r\n\r\n  create-geth-genesis:\r\n    container_name: create-geth-genesis\r\n    depends_on:\r\n      - l1\r\n      - l2\r\n      - op-node\r\n      - op-gethlegacy\r\n    build:\r\n      context: ./../op-geth\r\n      dockerfile: ./Dockerfile\r\n    volumes:\r\n      - \"geth_data:/home/datadir/\"\r\n      - \"${PWD}/../.devnet/genesis-l2.json:/config/genesis.json\"\r\n    command: init --datadir /home/datadir /config/genesis.json\r\n\r\n  op-geth:\r\n    container_name: op-geth\r\n    depends_on:\r\n      create-geth-genesis:\r\n        condition: service_completed_successfully\r\n    build:\r\n      context: ./../op-geth\r\n      dockerfile: ./Dockerfile\r\n    ports:\r\n      - \"8549:8545\"\r\n      - \"8550:8546\"\r\n    volumes:\r\n      - \"geth_data:/home/datadir/\"\r\n      - \"${PWD}/test-jwt-secret.txt:/config/jwt.txt\"\r\n      - \"${PWD}/../.devnet/genesis-l2.json:/config/genesis.json\"\r\n    environment:\r\n      L1_RPC: http://l1:8545\r\n      L2_RPC: http://l2:8545\r\n      SEQUENCER_URL: http://op-node:8545\r\n      L2OO_ADDRESS: ${L2OO_ADDRESS:-0xA57B9f15AA204b9D68DF58849b02Df16c80C0999}\r\n    command: >\r\n      --datadir /home/datadir\r\n      --http\r\n      --http.corsdomain=\"*\"\r\n      --http.vhosts=\"*\"\r\n      --http.addr=0.0.0.0\r\n      --http.api=web3,debug,eth,txpool,net,engine,miner\r\n      --ws\r\n      --ws.addr=0.0.0.0\r\n      --ws.port=8546\r\n      --ws.origins=\"*\"\r\n      --ws.api=web3,debug,eth,txpool,net,engine,miner\r\n      --syncmode=full\r\n      --gcmode=archive\r\n      --nodiscover\r\n      --maxpeers=0\r\n      --networkid=901\r\n      --authrpc.vhosts=\"*\"\r\n      --authrpc.addr=0.0.0.0\r\n      --authrpc.port=8551\r\n      --authrpc.jwtsecret=/config/jwt.txt\r\n      --rollup.sequencerhttp=http://op-node:8545\r\n      --rollup.historicalrpc=http://op-gethlegacy:8545\r\n      --rollup.disabletxpoolgossip=true\r\n      --verbosity=3\r\n#     --snapshot=false\r\n```\r\n\r\nLogs from op-geth\r\n\r\n```\r\n2023-07-27 16:17:18 INFO [07-27|14:17:18.877] Maximum peer count                       ETH=0 LES=0 total=0\r\n2023-07-27 16:17:18 INFO [07-27|14:17:18.879] Smartcard socket not found, disabling    err=\"stat /run/pcscd/pcscd.comm: no such file or directory\"\r\n2023-07-27 16:17:18 WARN [07-27|14:17:18.881] Disable transaction unindexing for archive node \r\n2023-07-27 16:17:18 INFO [07-27|14:17:18.885] Enabling recording of key preimages since archive mode is used \r\n2023-07-27 16:17:18 INFO [07-27|14:17:18.886] Set global gas cap                       cap=50,000,000\r\n2023-07-27 16:17:18 INFO [07-27|14:17:18.886] Initializing the KZG library             backend=gokzg\r\n2023-07-27 16:17:18 INFO [07-27|14:17:18.948] Allocated trie memory caches             clean=307.00MiB dirty=0.00B\r\n2023-07-27 16:17:18 INFO [07-27|14:17:18.949] Using pebble as the backing database \r\n2023-07-27 16:17:18 INFO [07-27|14:17:18.949] Allocated cache and file handles         database=/home/datadir/geth/chaindata cache=512.00MiB handles=524,288\r\n2023-07-27 16:17:18 INFO [07-27|14:17:18.981] Opened ancient database                  database=/home/datadir/geth/chaindata/ancient/chain readonly=false\r\n2023-07-27 16:17:19 INFO [07-27|14:17:19.009]  \r\n2023-07-27 16:17:19 INFO [07-27|14:17:19.009] --------------------------------------------------------------------------------------------------------------------------------------------------------- \r\n2023-07-27 16:17:19 INFO [07-27|14:17:19.010] Chain ID:  901 (unknown) \r\n2023-07-27 16:17:19 INFO [07-27|14:17:19.010] Consensus: Optimism \r\n2023-07-27 16:17:19 INFO [07-27|14:17:19.010]  \r\n2023-07-27 16:17:19 INFO [07-27|14:17:19.010] Pre-Merge hard forks (block based): \r\n2023-07-27 16:17:19 INFO [07-27|14:17:19.010]  - Homestead:                   #0        (https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-upgrades/homestead.md) \r\n2023-07-27 16:17:19 INFO [07-27|14:17:19.010]  - Tangerine Whistle (EIP 150): #0        (https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-upgrades/tangerine-whistle.md) \r\n2023-07-27 16:17:19 INFO [07-27|14:17:19.010]  - Spurious Dragon/1 (EIP 155): #0        (https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-upgrades/spurious-dragon.md) \r\n2023-07-27 16:17:19 INFO [07-27|14:17:19.010]  - Spurious Dragon/2 (EIP 158): #0        (https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-upgrades/spurious-dragon.md) \r\n2023-07-27 16:17:19 INFO [07-27|14:17:19.010]  - Byzantium:                   #0        (https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-upgrades/byzantium.md) \r\n2023-07-27 16:17:19 INFO [07-27|14:17:19.010]  - Constantinople:              #0        (https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-upgrades/constantinople.md) \r\n2023-07-27 16:17:19 INFO [07-27|14:17:19.010]  - Petersburg:                  #0        (https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-upgrades/petersburg.md) \r\n2023-07-27 16:17:19 INFO [07-27|14:17:19.010]  - Istanbul:                    #0        (https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-upgrades/istanbul.md) \r\n2023-07-27 16:17:19 INFO [07-27|14:17:19.010]  - Muir Glacier:                #0        (https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-upgrades/muir-glacier.md) \r\n2023-07-27 16:17:19 INFO [07-27|14:17:19.010]  - Berlin:                      #0        (https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-upgrades/berlin.md) \r\n2023-07-27 16:17:19 INFO [07-27|14:17:19.010]  - London:                      #0        (https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-upgrades/london.md) \r\n2023-07-27 16:17:19 INFO [07-27|14:17:19.010]  - Arrow Glacier:               #0        (https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-upgrades/arrow-glacier.md) \r\n2023-07-27 16:17:19 INFO [07-27|14:17:19.010]  - Gray Glacier:                #0        (https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-upgrades/gray-glacier.md) \r\n2023-07-27 16:17:19 INFO [07-27|14:17:19.010]  \r\n2023-07-27 16:17:19 INFO [07-27|14:17:19.010] Merge configured: \r\n2023-07-27 16:17:19 INFO [07-27|14:17:19.010]  - Hard-fork specification:    https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-upgrades/paris.md \r\n2023-07-27 16:17:19 INFO [07-27|14:17:19.010]  - Network known to be merged: true \r\n2023-07-27 16:17:19 INFO [07-27|14:17:19.010]  - Total terminal difficulty:  0 \r\n2023-07-27 16:17:19 INFO [07-27|14:17:19.010]  - Merge netsplit block:       #0        \r\n2023-07-27 16:17:19 INFO [07-27|14:17:19.010]  \r\n2023-07-27 16:17:19 INFO [07-27|14:17:19.010] Post-Merge hard forks (timestamp based): \r\n2023-07-27 16:17:19 INFO [07-27|14:17:19.010]  - Regolith:                    @0          \r\n2023-07-27 16:17:19 INFO [07-27|14:17:19.010]  \r\n2023-07-27 16:17:19 INFO [07-27|14:17:19.010] --------------------------------------------------------------------------------------------------------------------------------------------------------- \r\n2023-07-27 16:17:19 INFO [07-27|14:17:19.010]  \r\n2023-07-27 16:17:19 INFO [07-27|14:17:19.010] Loaded most recent local block           number=0 hash=cbeb92..14c5d2 td=0 age=8m32s\r\n2023-07-27 16:17:19 WARN [07-27|14:17:19.011] Failed to load snapshot                  err=\"missing or corrupted snapshot\"\r\n2023-07-27 16:17:19 INFO [07-27|14:17:19.014] Rebuilding state snapshot \r\n2023-07-27 16:17:19 INFO [07-27|14:17:19.015] Initialising Ethereum protocol           network=901 dbversion=<nil>\r\n2023-07-27 16:17:19 INFO [07-27|14:17:19.015] Resuming state snapshot generation       root=fbcba3..02e94e accounts=0 slots=0 storage=0.00B dangling=0 elapsed=\"465.183µs\"\r\n2023-07-27 16:17:19 INFO [07-27|14:17:19.015] Entered PoS stage \r\n2023-07-27 16:17:19 INFO [07-27|14:17:19.017] Regenerated local transaction journal    transactions=0 accounts=0\r\n2023-07-27 16:17:19 INFO [07-27|14:17:19.017] Chain post-merge, sync via beacon client \r\n2023-07-27 16:17:19 INFO [07-27|14:17:19.017] Gasprice oracle is ignoring threshold set threshold=2\r\n2023-07-27 16:17:19 WARN [07-27|14:17:19.017] Sanitizing invalid optimism gasprice oracle min priority fee suggestion provided=<nil> updated=100,000,000\r\n2023-07-27 16:17:19 WARN [07-27|14:17:19.018] Error reading unclean shutdown markers   error=\"pebble: not found\"\r\n2023-07-27 16:17:19 WARN [07-27|14:17:19.018] Engine API enabled                       protocol=eth\r\n2023-07-27 16:17:19 INFO [07-27|14:17:19.018] Starting peer-to-peer node               instance=Geth/v0.1.0-unstable-8f8af46e-20230726/linux-amd64/go1.20.6\r\n2023-07-27 16:17:19 INFO [07-27|14:17:19.036] IPC endpoint opened                      url=/home/datadir/geth.ipc\r\n2023-07-27 16:17:19 INFO [07-27|14:17:19.037] Loaded JWT secret file                   path=/config/jwt.txt crc32=0x890e18e0\r\n2023-07-27 16:17:19 INFO [07-27|14:17:19.038] New local node record                    seq=1,690,467,439,034 id=13b0d9fe9dd6da90 ip=127.0.0.1 udp=0 tcp=30303\r\n2023-07-27 16:17:19 INFO [07-27|14:17:19.038] Started P2P networking                   self=\"enode://b6dc64c57fd2c5470a53ede47fdb9fb052dcca46b040a695e7cc3810dc3ce1087523e27c0aa7da8ed919425eba5dbba2ba17f1dc073e6d5131826e905ec87948@127.0.0.1:30303?discport=0\"\r\n2023-07-27 16:17:19 INFO [07-27|14:17:19.044] HTTP server started                      endpoint=[::]:8545 auth=false prefix= cors=* vhosts=*\r\n2023-07-27 16:17:19 INFO [07-27|14:17:19.044] WebSocket enabled                        url=ws://[::]:8546\r\n2023-07-27 16:17:19 INFO [07-27|14:17:19.044] WebSocket enabled                        url=ws://[::]:8551\r\n2023-07-27 16:17:19 INFO [07-27|14:17:19.044] HTTP server started                      endpoint=[::]:8551 auth=true  prefix= cors=localhost vhosts=*\r\n2023-07-27 16:17:19 INFO [07-27|14:17:19.096] Generated state snapshot                 accounts=2344 slots=2079 storage=392.83KiB dangling=0 elapsed=81.712ms\r\n2023-07-27 16:28:32 WARN [07-27|14:28:32.186] Served eth_call                          conn=172.20.0.1:34158 reqid=0 duration=1.290952ms err=\"invalid opcode: opcode 0xb7 not defined\"\r\n2023-07-27 17:07:54 WARN [07-27|15:07:54.993] Served eth_sendRawTransaction            conn=172.20.0.1:51894 reqid=11 duration=3.902377ms err=\"the method eth_sendRawTransaction does not exist/is not available\"\r\n```\r\n\r\nLogs from op-gethlegacy\r\n\r\n```\r\n2023-07-27 16:17:16 INFO [07-27|14:17:16.689] Maximum peer count                       ETH=0 LES=0 total=0\r\n2023-07-27 16:17:16 INFO [07-27|14:17:16.690] Smartcard socket not found, disabling    err=\"stat /run/pcscd/pcscd.comm: no such file or directory\"\r\n2023-07-27 16:17:16 WARN [07-27|14:17:16.692] Disable transaction unindexing for archive node \r\n2023-07-27 16:17:16 INFO [07-27|14:17:16.695] Enabling recording of key preimages since archive mode is used \r\n2023-07-27 16:17:16 INFO [07-27|14:17:16.695] Set global gas cap                       cap=50,000,000\r\n2023-07-27 16:17:16 INFO [07-27|14:17:16.696] Initializing the KZG library             backend=gokzg\r\n2023-07-27 16:17:16 INFO [07-27|14:17:16.749] Allocated trie memory caches             clean=307.00MiB dirty=0.00B\r\n2023-07-27 16:17:16 INFO [07-27|14:17:16.749] Using pebble as the backing database \r\n2023-07-27 16:17:16 INFO [07-27|14:17:16.749] Allocated cache and file handles         database=/home/datadir/geth/chaindata cache=512.00MiB handles=524,288\r\n2023-07-27 16:17:16 INFO [07-27|14:17:16.772] Opened ancient database                  database=/home/datadir/geth/chaindata/ancient/chain readonly=false\r\n2023-07-27 16:17:16 INFO [07-27|14:17:16.788]  \r\n2023-07-27 16:17:16 INFO [07-27|14:17:16.788] --------------------------------------------------------------------------------------------------------------------------------------------------------- \r\n2023-07-27 16:17:16 INFO [07-27|14:17:16.788] Chain ID:  901 (unknown) \r\n2023-07-27 16:17:16 INFO [07-27|14:17:16.788] Consensus: Optimism \r\n2023-07-27 16:17:16 INFO [07-27|14:17:16.788]  \r\n2023-07-27 16:17:16 INFO [07-27|14:17:16.788] Pre-Merge hard forks (block based): \r\n2023-07-27 16:17:16 INFO [07-27|14:17:16.788]  - Homestead:                   #0        (https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-upgrades/homestead.md) \r\n2023-07-27 16:17:16 INFO [07-27|14:17:16.788]  - Tangerine Whistle (EIP 150): #0        (https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-upgrades/tangerine-whistle.md) \r\n2023-07-27 16:17:16 INFO [07-27|14:17:16.788]  - Spurious Dragon/1 (EIP 155): #0        (https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-upgrades/spurious-dragon.md) \r\n2023-07-27 16:17:16 INFO [07-27|14:17:16.788]  - Spurious Dragon/2 (EIP 158): #0        (https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-upgrades/spurious-dragon.md) \r\n2023-07-27 16:17:16 INFO [07-27|14:17:16.788]  - Byzantium:                   #0        (https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-upgrades/byzantium.md) \r\n2023-07-27 16:17:16 INFO [07-27|14:17:16.788]  - Constantinople:              #0        (https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-upgrades/constantinople.md) \r\n2023-07-27 16:17:16 INFO [07-27|14:17:16.788]  - Petersburg:                  #0        (https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-upgrades/petersburg.md) \r\n2023-07-27 16:17:16 INFO [07-27|14:17:16.788]  - Istanbul:                    #0        (https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-upgrades/istanbul.md) \r\n2023-07-27 16:17:16 INFO [07-27|14:17:16.788]  - Muir Glacier:                #0        (https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-upgrades/muir-glacier.md) \r\n2023-07-27 16:17:16 INFO [07-27|14:17:16.788]  - Berlin:                      #0        (https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-upgrades/berlin.md) \r\n2023-07-27 16:17:16 INFO [07-27|14:17:16.788]  - London:                      #0        (https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-upgrades/london.md) \r\n2023-07-27 16:17:16 INFO [07-27|14:17:16.788]  - Arrow Glacier:               #0        (https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-upgrades/arrow-glacier.md) \r\n2023-07-27 16:17:16 INFO [07-27|14:17:16.788]  - Gray Glacier:                #0        (https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-upgrades/gray-glacier.md) \r\n2023-07-27 16:17:16 INFO [07-27|14:17:16.788]  \r\n2023-07-27 16:17:16 INFO [07-27|14:17:16.788] Merge configured: \r\n2023-07-27 16:17:16 INFO [07-27|14:17:16.788]  - Hard-fork specification:    https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-upgrades/paris.md \r\n2023-07-27 16:17:16 INFO [07-27|14:17:16.788]  - Network known to be merged: true \r\n2023-07-27 16:17:16 INFO [07-27|14:17:16.788]  - Total terminal difficulty:  0 \r\n2023-07-27 16:17:16 INFO [07-27|14:17:16.788]  - Merge netsplit block:       #0        \r\n2023-07-27 16:17:16 INFO [07-27|14:17:16.788]  \r\n2023-07-27 16:17:16 INFO [07-27|14:17:16.788] Post-Merge hard forks (timestamp based): \r\n2023-07-27 16:17:16 INFO [07-27|14:17:16.788]  - Regolith:                    @0          \r\n2023-07-27 16:17:16 INFO [07-27|14:17:16.788]  \r\n2023-07-27 16:17:16 INFO [07-27|14:17:16.788] --------------------------------------------------------------------------------------------------------------------------------------------------------- \r\n2023-07-27 16:17:16 INFO [07-27|14:17:16.788]  \r\n2023-07-27 16:17:16 INFO [07-27|14:17:16.791] Loaded most recent local block           number=0 hash=cbeb92..14c5d2 td=0 age=8m29s\r\n2023-07-27 16:17:16 WARN [07-27|14:17:16.792] Failed to load snapshot                  err=\"missing or corrupted snapshot\"\r\n2023-07-27 16:17:16 INFO [07-27|14:17:16.799] Rebuilding state snapshot \r\n2023-07-27 16:17:16 INFO [07-27|14:17:16.799] Initialising Ethereum protocol           network=901 dbversion=<nil>\r\n2023-07-27 16:17:16 INFO [07-27|14:17:16.799] Entered PoS stage \r\n2023-07-27 16:17:16 INFO [07-27|14:17:16.799] Resuming state snapshot generation       root=fbcba3..02e94e accounts=0 slots=0 storage=0.00B dangling=0 elapsed=\"280.042µs\"\r\n2023-07-27 16:17:16 INFO [07-27|14:17:16.800] Regenerated local transaction journal    transactions=0 accounts=0\r\n2023-07-27 16:17:16 INFO [07-27|14:17:16.800] Chain post-merge, sync via beacon client \r\n2023-07-27 16:17:16 INFO [07-27|14:17:16.800] Gasprice oracle is ignoring threshold set threshold=2\r\n2023-07-27 16:17:16 WARN [07-27|14:17:16.800] Sanitizing invalid optimism gasprice oracle min priority fee suggestion provided=<nil> updated=100,000,000\r\n2023-07-27 16:17:16 WARN [07-27|14:17:16.800] Error reading unclean shutdown markers   error=\"pebble: not found\"\r\n2023-07-27 16:17:16 WARN [07-27|14:17:16.800] Engine API enabled                       protocol=eth\r\n2023-07-27 16:17:16 INFO [07-27|14:17:16.801] Starting peer-to-peer node               instance=Geth/v0.1.0-unstable-8f8af46e-20230726/linux-amd64/go1.20.6\r\n2023-07-27 16:17:16 INFO [07-27|14:17:16.818] IPC endpoint opened                      url=/home/datadir/geth.ipc\r\n2023-07-27 16:17:16 INFO [07-27|14:17:16.819] New local node record                    seq=1,690,467,436,817 id=c6db1a4d710b7157 ip=127.0.0.1 udp=0 tcp=30303\r\n2023-07-27 16:17:16 INFO [07-27|14:17:16.819] Started P2P networking                   self=\"enode://aabab57dac83935dfe5df0d20bc3afec4916c7175469b25b358adb82a69122ce3dae0ac8019aa5753f85de4a64e7193765d898a9796e6689e09d6490e67da895@127.0.0.1:30303?discport=0\"\r\n2023-07-27 16:17:16 INFO [07-27|14:17:16.820] Loaded JWT secret file                   path=/config/jwt.txt crc32=0x890e18e0\r\n2023-07-27 16:17:16 INFO [07-27|14:17:16.820] HTTP server started                      endpoint=[::]:8545 auth=false prefix= cors=* vhosts=*\r\n2023-07-27 16:17:16 INFO [07-27|14:17:16.820] WebSocket enabled                        url=ws://[::]:8546\r\n2023-07-27 16:17:16 INFO [07-27|14:17:16.821] WebSocket enabled                        url=ws://[::]:8551\r\n2023-07-27 16:17:16 INFO [07-27|14:17:16.821] HTTP server started                      endpoint=[::]:8551 auth=true  prefix= cors=localhost vhosts=*\r\n2023-07-27 16:17:16 INFO [07-27|14:17:16.901] Generated state snapshot                 accounts=2344 slots=2079 storage=392.83KiB dangling=0 elapsed=102.029ms\r\n2023-07-27 17:17:16 INFO [07-27|15:17:16.869] Writing clean trie cache to disk         path=/home/datadir/geth/triecache threads=1\r\n2023-07-27 17:17:16 INFO [07-27|15:17:16.870] Regenerated local transaction journal    transactions=0 accounts=0\r\n2023-07-27 17:17:16 INFO [07-27|15:17:16.887] Persisted the clean trie cache           path=/home/datadir/geth/triecache elapsed=17.492ms\r\n```\r\n",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/6480/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/6480/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1654432670",
    "html_url": "https://github.com/ethereum-optimism/optimism/issues/6480#issuecomment-1654432670",
    "issue_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/6480",
    "id": 1654432670,
    "node_id": "IC_kwDODjvEJM5inKOe",
    "user": {
      "login": "tynes",
      "id": 6626818,
      "node_id": "MDQ6VXNlcjY2MjY4MTg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6626818?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tynes",
      "html_url": "https://github.com/tynes",
      "followers_url": "https://api.github.com/users/tynes/followers",
      "following_url": "https://api.github.com/users/tynes/following{/other_user}",
      "gists_url": "https://api.github.com/users/tynes/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tynes/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tynes/subscriptions",
      "organizations_url": "https://api.github.com/users/tynes/orgs",
      "repos_url": "https://api.github.com/users/tynes/repos",
      "events_url": "https://api.github.com/users/tynes/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tynes/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-07-27T19:40:16Z",
    "updated_at": "2023-07-27T19:40:16Z",
    "author_association": "CONTRIBUTOR",
    "body": "What exactly are you trying to do? It looks like you have many config errors. `opgethlegacy` is `l2geth` not `op-geth`",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1654432670/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1654433712",
    "html_url": "https://github.com/ethereum-optimism/optimism/issues/6480#issuecomment-1654433712",
    "issue_url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/6480",
    "id": 1654433712,
    "node_id": "IC_kwDODjvEJM5inKew",
    "user": {
      "login": "tynes",
      "id": 6626818,
      "node_id": "MDQ6VXNlcjY2MjY4MTg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6626818?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tynes",
      "html_url": "https://github.com/tynes",
      "followers_url": "https://api.github.com/users/tynes/followers",
      "following_url": "https://api.github.com/users/tynes/following{/other_user}",
      "gists_url": "https://api.github.com/users/tynes/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tynes/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tynes/subscriptions",
      "organizations_url": "https://api.github.com/users/tynes/orgs",
      "repos_url": "https://api.github.com/users/tynes/repos",
      "events_url": "https://api.github.com/users/tynes/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tynes/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-07-27T19:40:48Z",
    "updated_at": "2023-07-27T19:40:48Z",
    "author_association": "CONTRIBUTOR",
    "body": "This is not a bug, this is misconfiguration",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum-optimism/optimism/issues/comments/1654433712/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
