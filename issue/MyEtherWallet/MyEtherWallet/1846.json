{
  "url": "https://api.github.com/repos/MyEtherWallet/MyEtherWallet/issues/1846",
  "repository_url": "https://api.github.com/repos/MyEtherWallet/MyEtherWallet",
  "labels_url": "https://api.github.com/repos/MyEtherWallet/MyEtherWallet/issues/1846/labels{/name}",
  "comments_url": "https://api.github.com/repos/MyEtherWallet/MyEtherWallet/issues/1846/comments",
  "events_url": "https://api.github.com/repos/MyEtherWallet/MyEtherWallet/issues/1846/events",
  "html_url": "https://github.com/MyEtherWallet/MyEtherWallet/issues/1846",
  "id": 548495591,
  "node_id": "MDU6SXNzdWU1NDg0OTU1OTE=",
  "number": 1846,
  "title": "Commit hook tests do not pass out of the box",
  "user": {
    "login": "interfect",
    "id": 752054,
    "node_id": "MDQ6VXNlcjc1MjA1NA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/752054?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/interfect",
    "html_url": "https://github.com/interfect",
    "followers_url": "https://api.github.com/users/interfect/followers",
    "following_url": "https://api.github.com/users/interfect/following{/other_user}",
    "gists_url": "https://api.github.com/users/interfect/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/interfect/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/interfect/subscriptions",
    "organizations_url": "https://api.github.com/users/interfect/orgs",
    "repos_url": "https://api.github.com/users/interfect/repos",
    "events_url": "https://api.github.com/users/interfect/events{/privacy}",
    "received_events_url": "https://api.github.com/users/interfect/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 1039568662,
      "node_id": "MDU6TGFiZWwxMDM5NTY4NjYy",
      "url": "https://api.github.com/repos/MyEtherWallet/MyEtherWallet/labels/stale",
      "name": "stale",
      "color": "fcf3ba",
      "default": false,
      "description": "PRs or Issue that are inactive"
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2020-01-11T23:45:58Z",
  "updated_at": "2020-03-12T16:54:35Z",
  "closed_at": "2020-03-12T16:54:35Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "- **I'm submitting a ...**\r\n\r\n  - [ ] Feature request\r\n  - [X] Bug report\r\n\r\n- **Bug Report**\r\n  - What is the current behavior?\r\n    - Commit hooks do not pass out of the box.\r\n  - If the current behavior is a bug, please provide the steps to reproduce and if possible a minimal demo of the problem\r\n    - Install NodeJS v11.15.0 and npm 6.7.0 (using `n`) on Ubuntu 18.04, along with `build-essential`.\r\n    - `git clone https://github.com/MyEtherWallet/MyEtherWallet.git`\r\n    - `cd MyEtherWallet`\r\n    - `git fetch origin && git checkout origin/develop`\r\n    - `npm install` (Note that this command succeeds! Installation is supposedly successful, despite the many pages of output.)\r\n    - `touch a`\r\n    - `git add a`\r\n    - `git commit -m \"Test\"`\r\n  - What is the expected behavior?\r\n    - The commit hook tests should succeed out of the box on a trivial commit like this.\r\n  - What is the motivation / use case for changing the behavior?\r\n    - If the commit hooks do not work, everyone will have to bypass them. Then they won't enforce anything they are meant to enforce.\r\n  - Please tell us about your environment:\r\n    - Operating system\r\n      - Ubuntu 18.04\r\n    - Browser and version\r\n      - N/A\r\n  - Other information (e.g. detailed explanation, stacktraces, related issues, suggestions how to fix, links for us to have context, eg. stackoverflow, gitter, etc)\r\n    Pretty much all the tests fail with `Unable to find native module` on `import MEWconnect from '@myetherwallet/mewconnect-web-client';`. Presumably that failed to build during `npm install`, but additional runs of `npm install` do not seem to try to build it again.\r\n  - Where can this be found? e.g: `/interface`, `/create-wallet`, etc.\r\n\r\nI won't paste the entire enormous log of 100+ failed tests, but here's the end of it:\r\n\r\n```\r\n FAIL  tests/unit/specs/src/components/BottomHelpLink/BottomHelpLink.spec.js\r\n  ● Test suite failed to run\r\n\r\n    Unable to find native module\r\n\r\n    > 1 | import MEWconnect from '@myetherwallet/mewconnect-web-client';\r\n        | ^\r\n      2 | import store from '@/store';\r\n      3 | import { Transaction } from 'ethereumjs-tx';\r\n      4 | import WalletInterface from '@/wallets/WalletInterface';\r\n\r\n      at requireNativeModule (node_modules/@myetherwallet/mewconnect-web-client/node_modules/node-cmake/index.js:40:20)\r\n      at Object.<anonymous> (node_modules/@myetherwallet/mewconnect-web-client/node_modules/wrtc/lib/binding.js:3:39)\r\n      at Object.<anonymous> (node_modules/@myetherwallet/mewconnect-web-client/node_modules/wrtc/lib/index.js:3:15)\r\n      at Object.<anonymous> (node_modules/@myetherwallet/mewconnect-web-client/dist/index.js:12:28)\r\n      at Object.<anonymous> (src/wallets/hybrid/MEWconnect/index.js:1:1)\r\n      at Object.<anonymous> (src/wallets/hybrid/index.js:1:1)\r\n      at Object.<anonymous> (src/wallets/index.js:10:1)\r\n      at Object.<anonymous> (src/helpers/ExtensionHelpers.js:3:1)\r\n      at Object.<anonymous> (src/helpers/index.js:9:1)\r\n      at Object.<anonymous> (src/directives/AddrResolver.js:2:1)\r\n      at Object.<anonymous> (tests/unit/helpers/setupTooling.js:9:1)\r\n      at Object.<anonymous> (tests/unit/helpers/index.js:2:1)\r\n      at Object.<anonymous> (tests/unit/specs/src/components/BottomHelpLink/BottomHelpLink.spec.js:3:1)\r\n\r\n FAIL  tests/unit/specs/src/layouts/HomeLayout/HomeLayout.spec.js\r\n  ● Test suite failed to run\r\n\r\n    Unable to find native module\r\n\r\n    > 1 | import MEWconnect from '@myetherwallet/mewconnect-web-client';\r\n        | ^\r\n      2 | import store from '@/store';\r\n      3 | import { Transaction } from 'ethereumjs-tx';\r\n      4 | import WalletInterface from '@/wallets/WalletInterface';\r\n\r\n      at requireNativeModule (node_modules/@myetherwallet/mewconnect-web-client/node_modules/node-cmake/index.js:40:20)\r\n      at Object.<anonymous> (node_modules/@myetherwallet/mewconnect-web-client/node_modules/wrtc/lib/binding.js:3:39)\r\n      at Object.<anonymous> (node_modules/@myetherwallet/mewconnect-web-client/node_modules/wrtc/lib/index.js:3:15)\r\n      at Object.<anonymous> (node_modules/@myetherwallet/mewconnect-web-client/dist/index.js:12:28)\r\n      at Object.<anonymous> (src/wallets/hybrid/MEWconnect/index.js:1:1)\r\n      at Object.<anonymous> (src/wallets/hybrid/index.js:1:1)\r\n      at Object.<anonymous> (src/wallets/index.js:10:1)\r\n      at Object.<anonymous> (src/helpers/ExtensionHelpers.js:3:1)\r\n      at Object.<anonymous> (src/helpers/index.js:9:1)\r\n      at Object.<anonymous> (src/store/mutations.js:2:1)\r\n      at Object.<anonymous> (src/store/index.js:4:1)\r\n      at Object.<anonymous> (src/helpers/addressUtils.js:1:1)\r\n      at Object.<anonymous> (src/helpers/misc.js:3:1)\r\n      at src/components/CustomerSupport/CustomerSupport.vue:1277:50\r\n      at Object.<anonymous> (src/components/CustomerSupport/CustomerSupport.vue:1420:3)\r\n      at Object.<anonymous> (src/components/CustomerSupport/index.js:1:1)\r\n      at src/containers/FaqsContainer/FaqsContainer.vue:589:49\r\n      at Object.<anonymous> (src/containers/FaqsContainer/FaqsContainer.vue:715:3)\r\n      at Object.<anonymous> (src/containers/FaqsContainer/index.js:1:1)\r\n      at src/layouts/HomeLayout/HomeLayout.vue:461:50\r\n      at Object.<anonymous> (src/layouts/HomeLayout/HomeLayout.vue:512:3)\r\n      at Object.<anonymous> (tests/unit/specs/src/layouts/HomeLayout/HomeLayout.spec.js:2:1)\r\n\r\n\r\nTest Suites: 116 failed, 4 skipped, 6 passed, 122 of 126 total\r\nTests:       8 skipped, 6 passed, 14 total\r\nSnapshots:   0 total\r\nTime:        44.044s\r\nRan all test suites.\r\nSkipped 8 specs in 5 suites\r\n  Skipped 4 specs in /z/home/anovak/workspace/MyEtherWallet/tests/unit/specs/src/partners/kyber/kyber.spec.js\r\n    - kyber.js should return the value in token wei\r\n    - kyber.js should return gas limits array from api\r\n    - kyber.js should return data for kyber trade tx\r\n    - kyber.js should return data for kyber approval tx\r\n  Skipped 1 specs in /z/home/anovak/workspace/MyEtherWallet/tests/unit/specs/src/partners/changelly/changelly.spec.js\r\n    - changelly.js Expect fixed rate calculated value to be within 1% of exact value (from ETH) \r\n  Skipped 1 specs in /z/home/anovak/workspace/MyEtherWallet/tests/unit/specs/src/layouts/InterfaceLayout/InterfaceLayout.spec.js\r\n    - InterfaceLayout.vue should render correct balance data\r\n  Skipped 1 specs in /z/home/anovak/workspace/MyEtherWallet/tests/unit/specs/src/partners/simplex/simplex-api.spec.js\r\n    - simplex.js [INTENTIONALLY SKIPPED] should instanciate a new instance\r\n  Skipped 1 specs in /z/home/anovak/workspace/MyEtherWallet/tests/unit/specs/src/partners/simplex/simplex.spec.js\r\n    - simplex.js [INTENTIONALLY SKIPPED] should instanciate a new instance\r\nnpm ERR! code ELIFECYCLE\r\nnpm ERR! errno 1\r\nnpm ERR! myetherwallet@5.2.9 test:unit: `vue-cli-service test:unit --logHeapUsage`\r\nnpm ERR! Exit status 1\r\nnpm ERR! \r\nnpm ERR! Failed at the myetherwallet@5.2.9 test:unit script.\r\nnpm ERR! This is probably not a problem with npm. There is likely additional logging output above.\r\n\r\nnpm ERR! A complete log of this run can be found in:\r\nnpm ERR!     /z/home/anovak/.npm/_logs/2020-01-11T23_40_35_703Z-debug.log\r\nnpm ERR! code ELIFECYCLE\r\nnpm ERR! errno 1\r\nnpm ERR! myetherwallet@5.2.9 test: `npm run update:lists && jest --clearCache && npm run test:unit`\r\nnpm ERR! Exit status 1\r\nnpm ERR! \r\nnpm ERR! Failed at the myetherwallet@5.2.9 test script.\r\nnpm ERR! This is probably not a problem with npm. There is likely additional logging output above.\r\n\r\nnpm ERR! A complete log of this run can be found in:\r\nnpm ERR!     /z/home/anovak/.npm/_logs/2020-01-11T23_40_35_718Z-debug.log\r\n\r\npre-commit hook failed (add --no-verify to bypass)\r\n```\r\n\r\n\r\n",
  "closed_by": {
    "login": "gamalielhere",
    "id": 16236741,
    "node_id": "MDQ6VXNlcjE2MjM2NzQx",
    "avatar_url": "https://avatars.githubusercontent.com/u/16236741?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/gamalielhere",
    "html_url": "https://github.com/gamalielhere",
    "followers_url": "https://api.github.com/users/gamalielhere/followers",
    "following_url": "https://api.github.com/users/gamalielhere/following{/other_user}",
    "gists_url": "https://api.github.com/users/gamalielhere/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/gamalielhere/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/gamalielhere/subscriptions",
    "organizations_url": "https://api.github.com/users/gamalielhere/orgs",
    "repos_url": "https://api.github.com/users/gamalielhere/repos",
    "events_url": "https://api.github.com/users/gamalielhere/events{/privacy}",
    "received_events_url": "https://api.github.com/users/gamalielhere/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/MyEtherWallet/MyEtherWallet/issues/1846/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/MyEtherWallet/MyEtherWallet/issues/1846/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/MyEtherWallet/MyEtherWallet/issues/comments/597980872",
    "html_url": "https://github.com/MyEtherWallet/MyEtherWallet/issues/1846#issuecomment-597980872",
    "issue_url": "https://api.github.com/repos/MyEtherWallet/MyEtherWallet/issues/1846",
    "id": 597980872,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU5Nzk4MDg3Mg==",
    "user": {
      "login": "stale[bot]",
      "id": 26384082,
      "node_id": "MDM6Qm90MjYzODQwODI=",
      "avatar_url": "https://avatars.githubusercontent.com/in/1724?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/stale%5Bbot%5D",
      "html_url": "https://github.com/apps/stale",
      "followers_url": "https://api.github.com/users/stale%5Bbot%5D/followers",
      "following_url": "https://api.github.com/users/stale%5Bbot%5D/following{/other_user}",
      "gists_url": "https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/stale%5Bbot%5D/subscriptions",
      "organizations_url": "https://api.github.com/users/stale%5Bbot%5D/orgs",
      "repos_url": "https://api.github.com/users/stale%5Bbot%5D/repos",
      "events_url": "https://api.github.com/users/stale%5Bbot%5D/events{/privacy}",
      "received_events_url": "https://api.github.com/users/stale%5Bbot%5D/received_events",
      "type": "Bot",
      "site_admin": false
    },
    "created_at": "2020-03-12T02:55:33Z",
    "updated_at": "2020-03-12T02:55:33Z",
    "author_association": "NONE",
    "body": "This issue has been automatically marked as stale because it has not had recent activity. It will be closed within 10 days if no further activity occurs. Thank you for your contributions.\n",
    "reactions": {
      "url": "https://api.github.com/repos/MyEtherWallet/MyEtherWallet/issues/comments/597980872/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/MyEtherWallet/MyEtherWallet/issues/comments/598297096",
    "html_url": "https://github.com/MyEtherWallet/MyEtherWallet/issues/1846#issuecomment-598297096",
    "issue_url": "https://api.github.com/repos/MyEtherWallet/MyEtherWallet/issues/1846",
    "id": 598297096,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU5ODI5NzA5Ng==",
    "user": {
      "login": "gamalielhere",
      "id": 16236741,
      "node_id": "MDQ6VXNlcjE2MjM2NzQx",
      "avatar_url": "https://avatars.githubusercontent.com/u/16236741?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gamalielhere",
      "html_url": "https://github.com/gamalielhere",
      "followers_url": "https://api.github.com/users/gamalielhere/followers",
      "following_url": "https://api.github.com/users/gamalielhere/following{/other_user}",
      "gists_url": "https://api.github.com/users/gamalielhere/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gamalielhere/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gamalielhere/subscriptions",
      "organizations_url": "https://api.github.com/users/gamalielhere/orgs",
      "repos_url": "https://api.github.com/users/gamalielhere/repos",
      "events_url": "https://api.github.com/users/gamalielhere/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gamalielhere/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-03-12T16:54:34Z",
    "updated_at": "2020-03-12T16:54:34Z",
    "author_association": "CONTRIBUTOR",
    "body": "closing as this has been fixed",
    "reactions": {
      "url": "https://api.github.com/repos/MyEtherWallet/MyEtherWallet/issues/comments/598297096/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
