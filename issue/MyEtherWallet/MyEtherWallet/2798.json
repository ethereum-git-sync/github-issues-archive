{
  "url": "https://api.github.com/repos/MyEtherWallet/MyEtherWallet/issues/2798",
  "repository_url": "https://api.github.com/repos/MyEtherWallet/MyEtherWallet",
  "labels_url": "https://api.github.com/repos/MyEtherWallet/MyEtherWallet/issues/2798/labels{/name}",
  "comments_url": "https://api.github.com/repos/MyEtherWallet/MyEtherWallet/issues/2798/comments",
  "events_url": "https://api.github.com/repos/MyEtherWallet/MyEtherWallet/issues/2798/events",
  "html_url": "https://github.com/MyEtherWallet/MyEtherWallet/issues/2798",
  "id": 796441174,
  "node_id": "MDU6SXNzdWU3OTY0NDExNzQ=",
  "number": 2798,
  "title": "Cant build, ran out of memory",
  "user": {
    "login": "lucaswxp",
    "id": 131314,
    "node_id": "MDQ6VXNlcjEzMTMxNA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/131314?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/lucaswxp",
    "html_url": "https://github.com/lucaswxp",
    "followers_url": "https://api.github.com/users/lucaswxp/followers",
    "following_url": "https://api.github.com/users/lucaswxp/following{/other_user}",
    "gists_url": "https://api.github.com/users/lucaswxp/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/lucaswxp/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/lucaswxp/subscriptions",
    "organizations_url": "https://api.github.com/users/lucaswxp/orgs",
    "repos_url": "https://api.github.com/users/lucaswxp/repos",
    "events_url": "https://api.github.com/users/lucaswxp/events{/privacy}",
    "received_events_url": "https://api.github.com/users/lucaswxp/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 1,
  "created_at": "2021-01-28T22:58:34Z",
  "updated_at": "2021-03-29T16:15:33Z",
  "closed_at": "2021-03-29T16:15:33Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "* **I'm submitting a possible**\r\n\r\n  * \\[ x ] Bug report (memory leak?)\r\n \r\nHey guys, I'm stuck at `npm run build`, I'm running out of memory:\r\n\r\n```\r\n> myetherwallet@5.7.19-hotfix.1 update:swap /home/lucaswxp/MyEtherWallet\r\n> node compileBaseSwapOptions.js --max_old_space_size=4096\r\n\r\n\r\nComplete\r\n\r\n⠼  Building for production...\r\n⠸  Building for production...\r\n<--- Last few GCs --->\r\n\r\n[15484:0x3cb8840]    47714 ms: Mark-sweep 1371.2 (1446.9) -> 1358.0 (1447.9) MB, 586.1 / 0.0 ms  (average mu = 0.129, current mu = 0.076) allocation failure scavenge might not succeed\r\n[15484:0x3cb8840]    48331 ms: Mark-sweep 1374.7 (1450.4) -> 1361.2 (1451.4) MB, 572.2 / 0.0 ms  (average mu = 0.102, current mu = 0.073) allocation failure scavenge might not succeed\r\n\r\n\r\n<--- JS stacktrace --->\r\n\r\n==== JS stack trace =========================================\r\n\r\n    0: ExitFrame [pc: 0x329b1d95be1d]\r\nSecurity context: 0x0e38c9d9e6c1 <JSObject>\r\n    1: /* anonymous */ [0x3b82d8addce9] [/home/lucaswxp/MyEtherWallet/node_modules/webpack-sources/node_modules/source-map/lib/source-node.js:~342] [pc=0x329b1e8f504f](this=0x0a52f2d8d461 <JSGlobal Object>,chunk=0x0ba7dee4e779 <String[67]\\:     // eslint-disable-next-line @typescript-eslint/no-explicit-any\\n>,original=0x3d86c24d1761 <Object map = 0x1cbe44f0b...\r\n\r\nFATAL ERROR: Ineffective mark-compacts near heap limit Allocation failed - JavaScript heap out of memory\r\n 1: 0x8fb090 node::Abort() [node]\r\n 2: 0x8fb0dc  [node]\r\n 3: 0xb033ae v8::Utils::ReportOOMFailure(v8::internal::Isolate*, char const*, bool) [node]\r\n 4: 0xb035e4 v8::internal::V8::FatalProcessOutOfMemory(v8::internal::Isolate*, char const*, bool) [node]\r\n 5: 0xef7642  [node]\r\n 6: 0xef7748 v8::internal::Heap::CheckIneffectiveMarkCompact(unsigned long, double) [node]\r\n 7: 0xf03822 v8::internal::Heap::PerformGarbageCollection(v8::internal::GarbageCollector, v8::GCCallbackFlags) [node]\r\n 8: 0xf04154 v8::internal::Heap::CollectGarbage(v8::internal::AllocationSpace, v8::internal::GarbageCollectionReason, v8::GCCallbackFlags) [node]\r\n 9: 0xf06dc1 v8::internal::Heap::AllocateRawWithRetryOrFail(int, v8::internal::AllocationSpace, v8::internal::AllocationAlignment) [node]\r\n10: 0xed0244 v8::internal::Factory::NewFillerObject(int, bool, v8::internal::AllocationSpace) [node]\r\n11: 0x117031e v8::internal::Runtime_AllocateInNewSpace(int, v8::internal::Object**, v8::internal::Isolate*) [node]\r\n12: 0x329b1d95be1d \r\nAborted\r\n```\r\n\r\nAs you can see, I tried increasing memory with `--max_old_space_size=4096` and still didn't work, also shouldn't default 1.5G node memory limit be enough to build it?",
  "closed_by": {
    "login": "gamalielhere",
    "id": 16236741,
    "node_id": "MDQ6VXNlcjE2MjM2NzQx",
    "avatar_url": "https://avatars.githubusercontent.com/u/16236741?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/gamalielhere",
    "html_url": "https://github.com/gamalielhere",
    "followers_url": "https://api.github.com/users/gamalielhere/followers",
    "following_url": "https://api.github.com/users/gamalielhere/following{/other_user}",
    "gists_url": "https://api.github.com/users/gamalielhere/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/gamalielhere/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/gamalielhere/subscriptions",
    "organizations_url": "https://api.github.com/users/gamalielhere/orgs",
    "repos_url": "https://api.github.com/users/gamalielhere/repos",
    "events_url": "https://api.github.com/users/gamalielhere/events{/privacy}",
    "received_events_url": "https://api.github.com/users/gamalielhere/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/MyEtherWallet/MyEtherWallet/issues/2798/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/MyEtherWallet/MyEtherWallet/issues/2798/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/MyEtherWallet/MyEtherWallet/issues/comments/770600763",
    "html_url": "https://github.com/MyEtherWallet/MyEtherWallet/issues/2798#issuecomment-770600763",
    "issue_url": "https://api.github.com/repos/MyEtherWallet/MyEtherWallet/issues/2798",
    "id": 770600763,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc3MDYwMDc2Mw==",
    "user": {
      "login": "AnilChinchawale",
      "id": 29918376,
      "node_id": "MDQ6VXNlcjI5OTE4Mzc2",
      "avatar_url": "https://avatars.githubusercontent.com/u/29918376?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/AnilChinchawale",
      "html_url": "https://github.com/AnilChinchawale",
      "followers_url": "https://api.github.com/users/AnilChinchawale/followers",
      "following_url": "https://api.github.com/users/AnilChinchawale/following{/other_user}",
      "gists_url": "https://api.github.com/users/AnilChinchawale/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/AnilChinchawale/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/AnilChinchawale/subscriptions",
      "organizations_url": "https://api.github.com/users/AnilChinchawale/orgs",
      "repos_url": "https://api.github.com/users/AnilChinchawale/repos",
      "events_url": "https://api.github.com/users/AnilChinchawale/events{/privacy}",
      "received_events_url": "https://api.github.com/users/AnilChinchawale/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-02-01T06:17:02Z",
    "updated_at": "2021-02-01T06:17:02Z",
    "author_association": "NONE",
    "body": "Hi @lucaswxp ,\r\n\r\nI have faced a similar issue while building a wallet, Fixed it with the below command in windows.\r\n\r\n`SET NODE_OPTIONS=--max_old_space_size=4096`",
    "reactions": {
      "url": "https://api.github.com/repos/MyEtherWallet/MyEtherWallet/issues/comments/770600763/reactions",
      "total_count": 2,
      "+1": 2,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
