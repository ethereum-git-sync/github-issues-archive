{
  "url": "https://api.github.com/repos/MyEtherWallet/MyEtherWallet/issues/3799",
  "repository_url": "https://api.github.com/repos/MyEtherWallet/MyEtherWallet",
  "labels_url": "https://api.github.com/repos/MyEtherWallet/MyEtherWallet/issues/3799/labels{/name}",
  "comments_url": "https://api.github.com/repos/MyEtherWallet/MyEtherWallet/issues/3799/comments",
  "events_url": "https://api.github.com/repos/MyEtherWallet/MyEtherWallet/issues/3799/events",
  "html_url": "https://github.com/MyEtherWallet/MyEtherWallet/issues/3799",
  "id": 1216837552,
  "node_id": "I_kwDOB56xl85Ih3ew",
  "number": 3799,
  "title": "Docker build failed due to severity reason, ansi-regex is vulnerable",
  "user": {
    "login": "henryclw",
    "id": 97804910,
    "node_id": "U_kgDOBdRibg",
    "avatar_url": "https://avatars.githubusercontent.com/u/97804910?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/henryclw",
    "html_url": "https://github.com/henryclw",
    "followers_url": "https://api.github.com/users/henryclw/followers",
    "following_url": "https://api.github.com/users/henryclw/following{/other_user}",
    "gists_url": "https://api.github.com/users/henryclw/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/henryclw/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/henryclw/subscriptions",
    "organizations_url": "https://api.github.com/users/henryclw/orgs",
    "repos_url": "https://api.github.com/users/henryclw/repos",
    "events_url": "https://api.github.com/users/henryclw/events{/privacy}",
    "received_events_url": "https://api.github.com/users/henryclw/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 1,
  "created_at": "2022-04-27T05:59:47Z",
  "updated_at": "2022-10-21T17:59:11Z",
  "closed_at": "2022-10-21T17:59:11Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "##### Steps to reproduce\r\n\r\n1. Clone repo\r\n2. run `docker build . `\r\n\r\n##### What do you expect to happen?\r\n\r\nBuild succeed.\r\n\r\n##### What happens instead?\r\n\r\nBuild failed with the following logs:\r\n\r\n```\r\n#11 [ 7/11] COPY package-audit.js ./\r\n#11 sha256:3f5a2dfafaff4a4398e0d802bea6728d8cb4d2d6ad580180e539106cda939870\r\n#11 DONE 0.1s\r\n\r\n#12 [ 8/11] RUN  node package-audit.js\r\n#12 sha256:3c7c6312fd7f5ab78bab2eb9cc72951cd3b3e8286a2b9b329061b5c6a5e021ca\r\n#12 2.180 AUDIT Failed {\r\n#12 2.180   findings: [ { version: '3.0.0', paths: [Array] } ],\r\n#12 2.180   metadata: null,\r\n#12 2.180   vulnerable_versions: '>=3.0.0 <3.0.1',\r\n#12 2.180   module_name: 'ansi-regex',\r\n#12 2.180   severity: 'high',\r\n#12 2.180   github_advisory_id: 'GHSA-93q8-gq69-wqmw',\r\n#12 2.180   cves: [ 'CVE-2021-3807' ],\r\n#12 2.180   access: 'public',\r\n#12 2.180   patched_versions: '>=3.0.1',\r\n#12 2.180   cvss: {\r\n#12 2.180     score: 7.5,\r\n#12 2.180     vectorString: 'CVSS:3.0/AV:N/AC:L/PR:N/UI:N/S:U/C:N/I:N/A:H'\r\n#12 2.180   },\r\n#12 2.180   updated: '2022-04-26T21:00:27.000Z',\r\n#12 2.180   recommendation: 'Upgrade to version 3.0.1 or later',\r\n#12 2.180   cwe: [ 'CWE-918', 'CWE-1333' ],\r\n#12 2.180   found_by: null,\r\n#12 2.180   deleted: null,\r\n#12 2.180   id: 1070250,\r\n#12 2.180   references: '- https://nvd.nist.gov/vuln/detail/CVE-2021-3807\\n' +\r\n#12 2.180     '- https://github.com/chalk/ansi-regex/commit/8d1d7cdb586269882c4bdc1b7325d0c58c8f76f9\\n' +\r\n#12 2.180     '- https://huntr.dev/bounties/5b3cf33b-ede0-4398-9974-800876dfd994\\n' +\r\n#12 2.180     '- https://github.com/chalk/ansi-regex/issues/38#issuecomment-924086311\\n' +\r\n#12 2.180     '- https://app.snyk.io/vuln/SNYK-JS-ANSIREGEX-1583908\\n' +\r\n#12 2.180     '- https://github.com/chalk/ansi-regex/issues/38#issuecomment-925924774\\n' +\r\n#12 2.180     '- https://github.com/chalk/ansi-regex/releases/tag/v6.0.1\\n' +\r\n#12 2.180     '- https://www.oracle.com/security-alerts/cpuapr2022.html\\n' +\r\n#12 2.180     '- https://github.com/advisories/GHSA-93q8-gq69-wqmw',\r\n#12 2.180   created: '2021-09-20T20:20:09.000Z',\r\n#12 2.180   reported_by: null,\r\n#12 2.180   title: ' Inefficient Regular Expression Complexity in chalk/ansi-regex',\r\n#12 2.180   npm_advisory_id: null,\r\n#12 2.180   overview: 'ansi-regex is vulnerable to Inefficient Regular Expression Complexity',\r\n#12 2.180   url: 'https://github.com/advisories/GHSA-93q8-gq69-wqmw'\r\n#12 2.180 }\r\n#12 ERROR: executor failed running [/bin/sh -c node package-audit.js]: exit code: 1\r\n------\r\n > [ 8/11] RUN  node package-audit.js:\r\n------\r\nexecutor failed running [/bin/sh -c node package-audit.js]: exit code: 1\r\n```\r\n\r\n##### Screenshot\r\n\r\n![image](https://user-images.githubusercontent.com/97804910/165448949-12ce0ec4-5fe4-4071-ace0-75ad541ad914.png)\r\n\r\n##### Possible solutions\r\n\r\n- <https://github.com/advisories/GHSA-93q8-gq69-wqmw>\r\n\r\nMaybe we could update the `ansi-regex` version to solve this?\r\n\r\n\r\n",
  "closed_by": {
    "login": "gamalielhere",
    "id": 16236741,
    "node_id": "MDQ6VXNlcjE2MjM2NzQx",
    "avatar_url": "https://avatars.githubusercontent.com/u/16236741?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/gamalielhere",
    "html_url": "https://github.com/gamalielhere",
    "followers_url": "https://api.github.com/users/gamalielhere/followers",
    "following_url": "https://api.github.com/users/gamalielhere/following{/other_user}",
    "gists_url": "https://api.github.com/users/gamalielhere/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/gamalielhere/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/gamalielhere/subscriptions",
    "organizations_url": "https://api.github.com/users/gamalielhere/orgs",
    "repos_url": "https://api.github.com/users/gamalielhere/repos",
    "events_url": "https://api.github.com/users/gamalielhere/events{/privacy}",
    "received_events_url": "https://api.github.com/users/gamalielhere/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/MyEtherWallet/MyEtherWallet/issues/3799/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/MyEtherWallet/MyEtherWallet/issues/3799/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/MyEtherWallet/MyEtherWallet/issues/comments/1287275843",
    "html_url": "https://github.com/MyEtherWallet/MyEtherWallet/issues/3799#issuecomment-1287275843",
    "issue_url": "https://api.github.com/repos/MyEtherWallet/MyEtherWallet/issues/3799",
    "id": 1287275843,
    "node_id": "IC_kwDOB56xl85MukVD",
    "user": {
      "login": "gamalielhere",
      "id": 16236741,
      "node_id": "MDQ6VXNlcjE2MjM2NzQx",
      "avatar_url": "https://avatars.githubusercontent.com/u/16236741?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gamalielhere",
      "html_url": "https://github.com/gamalielhere",
      "followers_url": "https://api.github.com/users/gamalielhere/followers",
      "following_url": "https://api.github.com/users/gamalielhere/following{/other_user}",
      "gists_url": "https://api.github.com/users/gamalielhere/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gamalielhere/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gamalielhere/subscriptions",
      "organizations_url": "https://api.github.com/users/gamalielhere/orgs",
      "repos_url": "https://api.github.com/users/gamalielhere/repos",
      "events_url": "https://api.github.com/users/gamalielhere/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gamalielhere/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-10-21T17:59:11Z",
    "updated_at": "2022-10-21T17:59:11Z",
    "author_association": "CONTRIBUTOR",
    "body": "@henryclw you can fix this locally by updating the version on package.json resolutions or add ansi-regex on the exclusions list in package-audit.js",
    "reactions": {
      "url": "https://api.github.com/repos/MyEtherWallet/MyEtherWallet/issues/comments/1287275843/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
