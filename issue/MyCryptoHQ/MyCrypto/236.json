{
  "url": "https://api.github.com/repos/MyCryptoHQ/MyCrypto/issues/236",
  "repository_url": "https://api.github.com/repos/MyCryptoHQ/MyCrypto",
  "labels_url": "https://api.github.com/repos/MyCryptoHQ/MyCrypto/issues/236/labels{/name}",
  "comments_url": "https://api.github.com/repos/MyCryptoHQ/MyCrypto/issues/236/comments",
  "events_url": "https://api.github.com/repos/MyCryptoHQ/MyCrypto/issues/236/events",
  "html_url": "https://github.com/MyCryptoHQ/MyCrypto/issues/236",
  "id": 260496773,
  "node_id": "MDU6SXNzdWUyNjA0OTY3NzM=",
  "number": 236,
  "title": "Audit / Improve Async State Management",
  "user": {
    "login": "dternyak",
    "id": 7861465,
    "node_id": "MDQ6VXNlcjc4NjE0NjU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/7861465?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/dternyak",
    "html_url": "https://github.com/dternyak",
    "followers_url": "https://api.github.com/users/dternyak/followers",
    "following_url": "https://api.github.com/users/dternyak/following{/other_user}",
    "gists_url": "https://api.github.com/users/dternyak/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/dternyak/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/dternyak/subscriptions",
    "organizations_url": "https://api.github.com/users/dternyak/orgs",
    "repos_url": "https://api.github.com/users/dternyak/repos",
    "events_url": "https://api.github.com/users/dternyak/events{/privacy}",
    "received_events_url": "https://api.github.com/users/dternyak/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 654893566,
      "node_id": "MDU6TGFiZWw2NTQ4OTM1NjY=",
      "url": "https://api.github.com/repos/MyCryptoHQ/MyCrypto/labels/type:%20enhancement",
      "name": "type: enhancement",
      "color": "008080",
      "default": false,
      "description": "Items that improve overall user experience and/or expand on existing features."
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": {
    "login": "eddiewang",
    "id": 2057997,
    "node_id": "MDQ6VXNlcjIwNTc5OTc=",
    "avatar_url": "https://avatars.githubusercontent.com/u/2057997?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/eddiewang",
    "html_url": "https://github.com/eddiewang",
    "followers_url": "https://api.github.com/users/eddiewang/followers",
    "following_url": "https://api.github.com/users/eddiewang/following{/other_user}",
    "gists_url": "https://api.github.com/users/eddiewang/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/eddiewang/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/eddiewang/subscriptions",
    "organizations_url": "https://api.github.com/users/eddiewang/orgs",
    "repos_url": "https://api.github.com/users/eddiewang/repos",
    "events_url": "https://api.github.com/users/eddiewang/events{/privacy}",
    "received_events_url": "https://api.github.com/users/eddiewang/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "eddiewang",
      "id": 2057997,
      "node_id": "MDQ6VXNlcjIwNTc5OTc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2057997?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eddiewang",
      "html_url": "https://github.com/eddiewang",
      "followers_url": "https://api.github.com/users/eddiewang/followers",
      "following_url": "https://api.github.com/users/eddiewang/following{/other_user}",
      "gists_url": "https://api.github.com/users/eddiewang/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eddiewang/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eddiewang/subscriptions",
      "organizations_url": "https://api.github.com/users/eddiewang/orgs",
      "repos_url": "https://api.github.com/users/eddiewang/repos",
      "events_url": "https://api.github.com/users/eddiewang/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eddiewang/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 5,
  "created_at": "2017-09-26T05:37:48Z",
  "updated_at": "2018-01-08T02:09:42Z",
  "closed_at": "2018-01-08T02:09:42Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "Currently, we do not keep track of all state of a network request / async action. \r\nBy keeping track of the state of a network request, we can show users spinners/give them feedback while the async action resolves.\r\n\r\nIn addition to auditing and improving state management, it would be helpful to standardize on a specific format for keeping state of a specific network.\r\n\r\nE.g. `isLoading` / `hasErrored` / `errorMessage`\r\n\r\n",
  "closed_by": {
    "login": "dternyak",
    "id": 7861465,
    "node_id": "MDQ6VXNlcjc4NjE0NjU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/7861465?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/dternyak",
    "html_url": "https://github.com/dternyak",
    "followers_url": "https://api.github.com/users/dternyak/followers",
    "following_url": "https://api.github.com/users/dternyak/following{/other_user}",
    "gists_url": "https://api.github.com/users/dternyak/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/dternyak/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/dternyak/subscriptions",
    "organizations_url": "https://api.github.com/users/dternyak/orgs",
    "repos_url": "https://api.github.com/users/dternyak/repos",
    "events_url": "https://api.github.com/users/dternyak/events{/privacy}",
    "received_events_url": "https://api.github.com/users/dternyak/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/MyCryptoHQ/MyCrypto/issues/236/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/MyCryptoHQ/MyCrypto/issues/236/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/MyCryptoHQ/MyCrypto/issues/comments/332939401",
    "html_url": "https://github.com/MyCryptoHQ/MyCrypto/issues/236#issuecomment-332939401",
    "issue_url": "https://api.github.com/repos/MyCryptoHQ/MyCrypto/issues/236",
    "id": 332939401,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzMjkzOTQwMQ==",
    "user": {
      "login": "dternyak",
      "id": 7861465,
      "node_id": "MDQ6VXNlcjc4NjE0NjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7861465?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dternyak",
      "html_url": "https://github.com/dternyak",
      "followers_url": "https://api.github.com/users/dternyak/followers",
      "following_url": "https://api.github.com/users/dternyak/following{/other_user}",
      "gists_url": "https://api.github.com/users/dternyak/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dternyak/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dternyak/subscriptions",
      "organizations_url": "https://api.github.com/users/dternyak/orgs",
      "repos_url": "https://api.github.com/users/dternyak/repos",
      "events_url": "https://api.github.com/users/dternyak/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dternyak/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-09-28T19:27:26Z",
    "updated_at": "2017-09-28T19:27:26Z",
    "author_association": "CONTRIBUTOR",
    "body": "https://github.com/MyEtherWallet/MyEtherWallet/issues/149 is an example of async state not being handled properly. ",
    "reactions": {
      "url": "https://api.github.com/repos/MyCryptoHQ/MyCrypto/issues/comments/332939401/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/MyCryptoHQ/MyCrypto/issues/comments/333184741",
    "html_url": "https://github.com/MyCryptoHQ/MyCrypto/issues/236#issuecomment-333184741",
    "issue_url": "https://api.github.com/repos/MyCryptoHQ/MyCrypto/issues/236",
    "id": 333184741,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzMzE4NDc0MQ==",
    "user": {
      "login": "wbobeirne",
      "id": 649992,
      "node_id": "MDQ6VXNlcjY0OTk5Mg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/649992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/wbobeirne",
      "html_url": "https://github.com/wbobeirne",
      "followers_url": "https://api.github.com/users/wbobeirne/followers",
      "following_url": "https://api.github.com/users/wbobeirne/following{/other_user}",
      "gists_url": "https://api.github.com/users/wbobeirne/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/wbobeirne/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/wbobeirne/subscriptions",
      "organizations_url": "https://api.github.com/users/wbobeirne/orgs",
      "repos_url": "https://api.github.com/users/wbobeirne/repos",
      "events_url": "https://api.github.com/users/wbobeirne/events{/privacy}",
      "received_events_url": "https://api.github.com/users/wbobeirne/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-09-29T17:14:57Z",
    "updated_at": "2017-09-29T17:14:57Z",
    "author_association": "CONTRIBUTOR",
    "body": "I think this one can be tricky, since many redux states require multiple loaders. For instance, the wallet reducer should have one loader for its ETH value, and separate loader(s) for the token values, and separate loader(s) for equivalent currency values. Having one and only one key for loading doesn't give us that level of granularity.",
    "reactions": {
      "url": "https://api.github.com/repos/MyCryptoHQ/MyCrypto/issues/comments/333184741/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/MyCryptoHQ/MyCrypto/issues/comments/333186103",
    "html_url": "https://github.com/MyCryptoHQ/MyCrypto/issues/236#issuecomment-333186103",
    "issue_url": "https://api.github.com/repos/MyCryptoHQ/MyCrypto/issues/236",
    "id": 333186103,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzMzE4NjEwMw==",
    "user": {
      "login": "tayvano",
      "id": 7924827,
      "node_id": "MDQ6VXNlcjc5MjQ4Mjc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7924827?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tayvano",
      "html_url": "https://github.com/tayvano",
      "followers_url": "https://api.github.com/users/tayvano/followers",
      "following_url": "https://api.github.com/users/tayvano/following{/other_user}",
      "gists_url": "https://api.github.com/users/tayvano/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tayvano/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tayvano/subscriptions",
      "organizations_url": "https://api.github.com/users/tayvano/orgs",
      "repos_url": "https://api.github.com/users/tayvano/repos",
      "events_url": "https://api.github.com/users/tayvano/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tayvano/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-09-29T17:20:57Z",
    "updated_at": "2017-09-29T17:20:57Z",
    "author_association": "CONTRIBUTOR",
    "body": "It should also be noted that token balances are loaded via parity and eth balances, transaction count, and other items necessary to send a transaction are loaded via geth. This is to prevent token balances not loading from preventing a user from sending a transaction in times of very high traffic, such as during ICOs. ",
    "reactions": {
      "url": "https://api.github.com/repos/MyCryptoHQ/MyCrypto/issues/comments/333186103/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/MyCryptoHQ/MyCrypto/issues/comments/333186298",
    "html_url": "https://github.com/MyCryptoHQ/MyCrypto/issues/236#issuecomment-333186298",
    "issue_url": "https://api.github.com/repos/MyCryptoHQ/MyCrypto/issues/236",
    "id": 333186298,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzMzE4NjI5OA==",
    "user": {
      "login": "dternyak",
      "id": 7861465,
      "node_id": "MDQ6VXNlcjc4NjE0NjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7861465?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dternyak",
      "html_url": "https://github.com/dternyak",
      "followers_url": "https://api.github.com/users/dternyak/followers",
      "following_url": "https://api.github.com/users/dternyak/following{/other_user}",
      "gists_url": "https://api.github.com/users/dternyak/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dternyak/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dternyak/subscriptions",
      "organizations_url": "https://api.github.com/users/dternyak/orgs",
      "repos_url": "https://api.github.com/users/dternyak/repos",
      "events_url": "https://api.github.com/users/dternyak/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dternyak/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-09-29T17:21:44Z",
    "updated_at": "2017-10-07T23:12:50Z",
    "author_association": "CONTRIBUTOR",
    "body": "Agreed, this issue is to create / manage state for each async action. We\r\nshould should standardize on what format we hold each state in however (e.g\r\nisLoading[action] vs isFetching[action]).\r\n\r\n1. Determine where async action state isn't being managed.\r\n2. Manage all async action state (with a different top-level key for each corresponding value).\r\n    2a. Do so in a standardized format. ",
    "reactions": {
      "url": "https://api.github.com/repos/MyCryptoHQ/MyCrypto/issues/comments/333186298/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/MyCryptoHQ/MyCrypto/issues/comments/347339409",
    "html_url": "https://github.com/MyCryptoHQ/MyCrypto/issues/236#issuecomment-347339409",
    "issue_url": "https://api.github.com/repos/MyCryptoHQ/MyCrypto/issues/236",
    "id": 347339409,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0NzMzOTQwOQ==",
    "user": {
      "login": "eddiewang",
      "id": 2057997,
      "node_id": "MDQ6VXNlcjIwNTc5OTc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2057997?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eddiewang",
      "html_url": "https://github.com/eddiewang",
      "followers_url": "https://api.github.com/users/eddiewang/followers",
      "following_url": "https://api.github.com/users/eddiewang/following{/other_user}",
      "gists_url": "https://api.github.com/users/eddiewang/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eddiewang/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eddiewang/subscriptions",
      "organizations_url": "https://api.github.com/users/eddiewang/orgs",
      "repos_url": "https://api.github.com/users/eddiewang/repos",
      "events_url": "https://api.github.com/users/eddiewang/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eddiewang/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-11-27T21:48:23Z",
    "updated_at": "2017-11-27T21:50:55Z",
    "author_association": "CONTRIBUTOR",
    "body": "I want to outline what my research has been so far and the strategy to tackle this issue will be here:\r\n\r\nIn my research dealing with the RPC calls so far it seems like there isn't we don't always handle errors currently. In issues like #462 #272 and #372 alot these errors cause certain functions to stop working on MEW and worse, sometimes they're swallowed, so we don't even know if they're there.\r\n\r\nIn my Error Auditing PR #384 I have started the preliminary work to fix this by adding JSONSchema validators to the RPC calls. Since we expect the data returned to be represented a certain way, if it deviates from that specific object format, our UI won't be able to handle it, so we should throw an error.\r\n\r\nNow, we should look at the sagas and ensure that each error is not only properly detected, rather than just calling a `showNotification` on error catching, we should update the state objects in a unified manner by modifying the action creators.\r\n\r\nStrategy:\r\n1. Create JsonSchema validators for all outbound api calls and make sure all error responses are thrown.\r\n2. Ensure no side effects are being called from action creators, or anywhere else... - all external calls should be contained within redux-saga unless there is a good reason not to do so.\r\n3. Create a standardized api call format (isLoading, hasErrored, errorMessage would be solid i think) for Redux... possible a wrapper function that makes this simple to wrap around current requests? Still doing research on this part....\r\n3. Create integration tests for the core api requests, such as wallet node calls: getBalance, getTokenBalance, etc.",
    "reactions": {
      "url": "https://api.github.com/repos/MyCryptoHQ/MyCrypto/issues/comments/347339409/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
