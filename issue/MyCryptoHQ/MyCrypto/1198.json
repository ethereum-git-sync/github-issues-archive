{
  "url": "https://api.github.com/repos/MyCryptoHQ/MyCrypto/issues/1198",
  "repository_url": "https://api.github.com/repos/MyCryptoHQ/MyCrypto",
  "labels_url": "https://api.github.com/repos/MyCryptoHQ/MyCrypto/issues/1198/labels{/name}",
  "comments_url": "https://api.github.com/repos/MyCryptoHQ/MyCrypto/issues/1198/comments",
  "events_url": "https://api.github.com/repos/MyCryptoHQ/MyCrypto/issues/1198/events",
  "html_url": "https://github.com/MyCryptoHQ/MyCrypto/issues/1198",
  "id": 300869210,
  "node_id": "MDU6SXNzdWUzMDA4NjkyMTA=",
  "number": 1198,
  "title": "Fix typings for stored Big Numbers",
  "user": {
    "login": "aitrean",
    "id": 2967924,
    "node_id": "MDQ6VXNlcjI5Njc5MjQ=",
    "avatar_url": "https://avatars.githubusercontent.com/u/2967924?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/aitrean",
    "html_url": "https://github.com/aitrean",
    "followers_url": "https://api.github.com/users/aitrean/followers",
    "following_url": "https://api.github.com/users/aitrean/following{/other_user}",
    "gists_url": "https://api.github.com/users/aitrean/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/aitrean/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/aitrean/subscriptions",
    "organizations_url": "https://api.github.com/users/aitrean/orgs",
    "repos_url": "https://api.github.com/users/aitrean/repos",
    "events_url": "https://api.github.com/users/aitrean/events{/privacy}",
    "received_events_url": "https://api.github.com/users/aitrean/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": {
    "login": "aitrean",
    "id": 2967924,
    "node_id": "MDQ6VXNlcjI5Njc5MjQ=",
    "avatar_url": "https://avatars.githubusercontent.com/u/2967924?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/aitrean",
    "html_url": "https://github.com/aitrean",
    "followers_url": "https://api.github.com/users/aitrean/followers",
    "following_url": "https://api.github.com/users/aitrean/following{/other_user}",
    "gists_url": "https://api.github.com/users/aitrean/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/aitrean/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/aitrean/subscriptions",
    "organizations_url": "https://api.github.com/users/aitrean/orgs",
    "repos_url": "https://api.github.com/users/aitrean/repos",
    "events_url": "https://api.github.com/users/aitrean/events{/privacy}",
    "received_events_url": "https://api.github.com/users/aitrean/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "aitrean",
      "id": 2967924,
      "node_id": "MDQ6VXNlcjI5Njc5MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2967924?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/aitrean",
      "html_url": "https://github.com/aitrean",
      "followers_url": "https://api.github.com/users/aitrean/followers",
      "following_url": "https://api.github.com/users/aitrean/following{/other_user}",
      "gists_url": "https://api.github.com/users/aitrean/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/aitrean/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/aitrean/subscriptions",
      "organizations_url": "https://api.github.com/users/aitrean/orgs",
      "repos_url": "https://api.github.com/users/aitrean/repos",
      "events_url": "https://api.github.com/users/aitrean/events{/privacy}",
      "received_events_url": "https://api.github.com/users/aitrean/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 5,
  "created_at": "2018-02-28T02:38:21Z",
  "updated_at": "2018-02-28T22:53:30Z",
  "closed_at": "2018-02-28T22:53:30Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "In #608, I'm creating new Bignumber instances out of the Bignumber-typed values we pass through the selectors (see transaction.ts). This solution is quick, but not ideal. We're currently defining properties such as gasLimit.value as BN. However, they do not have any of the actual BN functions attached to them, so calls like gasLimit.value.mul(a) will not be recognized. I'm looking to change the reducers and selectors to store big numbers as strings, and convert them back to actual BN objects passed through the selectors.",
  "closed_by": {
    "login": "wbobeirne",
    "id": 649992,
    "node_id": "MDQ6VXNlcjY0OTk5Mg==",
    "avatar_url": "https://avatars.githubusercontent.com/u/649992?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/wbobeirne",
    "html_url": "https://github.com/wbobeirne",
    "followers_url": "https://api.github.com/users/wbobeirne/followers",
    "following_url": "https://api.github.com/users/wbobeirne/following{/other_user}",
    "gists_url": "https://api.github.com/users/wbobeirne/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/wbobeirne/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/wbobeirne/subscriptions",
    "organizations_url": "https://api.github.com/users/wbobeirne/orgs",
    "repos_url": "https://api.github.com/users/wbobeirne/repos",
    "events_url": "https://api.github.com/users/wbobeirne/events{/privacy}",
    "received_events_url": "https://api.github.com/users/wbobeirne/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/MyCryptoHQ/MyCrypto/issues/1198/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/MyCryptoHQ/MyCrypto/issues/1198/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/MyCryptoHQ/MyCrypto/issues/comments/369351602",
    "html_url": "https://github.com/MyCryptoHQ/MyCrypto/issues/1198#issuecomment-369351602",
    "issue_url": "https://api.github.com/repos/MyCryptoHQ/MyCrypto/issues/1198",
    "id": 369351602,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2OTM1MTYwMg==",
    "user": {
      "login": "wbobeirne",
      "id": 649992,
      "node_id": "MDQ6VXNlcjY0OTk5Mg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/649992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/wbobeirne",
      "html_url": "https://github.com/wbobeirne",
      "followers_url": "https://api.github.com/users/wbobeirne/followers",
      "following_url": "https://api.github.com/users/wbobeirne/following{/other_user}",
      "gists_url": "https://api.github.com/users/wbobeirne/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/wbobeirne/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/wbobeirne/subscriptions",
      "organizations_url": "https://api.github.com/users/wbobeirne/orgs",
      "repos_url": "https://api.github.com/users/wbobeirne/repos",
      "events_url": "https://api.github.com/users/wbobeirne/events{/privacy}",
      "received_events_url": "https://api.github.com/users/wbobeirne/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-02-28T19:19:22Z",
    "updated_at": "2018-02-28T19:19:22Z",
    "author_association": "CONTRIBUTOR",
    "body": "I've not experienced this issue, is it possible that this only happens when BNs are restored from local storage serialization? Pretty much all of our balances are BNs that are stored in Redux, and fetched by selectors.",
    "reactions": {
      "url": "https://api.github.com/repos/MyCryptoHQ/MyCrypto/issues/comments/369351602/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/MyCryptoHQ/MyCrypto/issues/comments/369379341",
    "html_url": "https://github.com/MyCryptoHQ/MyCrypto/issues/1198#issuecomment-369379341",
    "issue_url": "https://api.github.com/repos/MyCryptoHQ/MyCrypto/issues/1198",
    "id": 369379341,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2OTM3OTM0MQ==",
    "user": {
      "login": "HenryNguyen5",
      "id": 6404866,
      "node_id": "MDQ6VXNlcjY0MDQ4NjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6404866?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/HenryNguyen5",
      "html_url": "https://github.com/HenryNguyen5",
      "followers_url": "https://api.github.com/users/HenryNguyen5/followers",
      "following_url": "https://api.github.com/users/HenryNguyen5/following{/other_user}",
      "gists_url": "https://api.github.com/users/HenryNguyen5/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/HenryNguyen5/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/HenryNguyen5/subscriptions",
      "organizations_url": "https://api.github.com/users/HenryNguyen5/orgs",
      "repos_url": "https://api.github.com/users/HenryNguyen5/repos",
      "events_url": "https://api.github.com/users/HenryNguyen5/events{/privacy}",
      "received_events_url": "https://api.github.com/users/HenryNguyen5/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-02-28T20:54:36Z",
    "updated_at": "2018-02-28T20:54:36Z",
    "author_association": "NONE",
    "body": "All of the balances should be BNs, I haven't run into this issue either. Do you have a repro case I could look at? Before the transaction stack refactor we would store the balances as strings but that comes with a slew of problems ( is it in base 10? 16? if it is in base 16 does it have a 0x prefix or not? This could be solved by using opaque types, but would require a large refactor of its own currently.) which is why all balances are now stored as BNs in the reducer. Also, if any selector encounters high load, you'll be adding a lot of additional overhead re-instantiating balances as BNs",
    "reactions": {
      "url": "https://api.github.com/repos/MyCryptoHQ/MyCrypto/issues/comments/369379341/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/MyCryptoHQ/MyCrypto/issues/comments/369410622",
    "html_url": "https://github.com/MyCryptoHQ/MyCrypto/issues/1198#issuecomment-369410622",
    "issue_url": "https://api.github.com/repos/MyCryptoHQ/MyCrypto/issues/1198",
    "id": 369410622,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2OTQxMDYyMg==",
    "user": {
      "login": "aitrean",
      "id": 2967924,
      "node_id": "MDQ6VXNlcjI5Njc5MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2967924?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/aitrean",
      "html_url": "https://github.com/aitrean",
      "followers_url": "https://api.github.com/users/aitrean/followers",
      "following_url": "https://api.github.com/users/aitrean/following{/other_user}",
      "gists_url": "https://api.github.com/users/aitrean/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/aitrean/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/aitrean/subscriptions",
      "organizations_url": "https://api.github.com/users/aitrean/orgs",
      "repos_url": "https://api.github.com/users/aitrean/repos",
      "events_url": "https://api.github.com/users/aitrean/events{/privacy}",
      "received_events_url": "https://api.github.com/users/aitrean/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-02-28T22:47:04Z",
    "updated_at": "2018-02-28T22:47:04Z",
    "author_association": "CONTRIBUTOR",
    "body": "During testing, I was inserting the JSON state for a store into the selectors. However, when trying to test selectors that relied on BN methods (see getValidGasCost(), getGasCost() under selectors/transaction), Typescript would complain that the methods did not exist. Since the store is all serialized, we aren't keeping actual BN function data stored there. In which case, I'm confused as to how we're treating the selector BN values as full BN objects with call-able methods, or why they work in production but not when I pass in the raw json store? ",
    "reactions": {
      "url": "https://api.github.com/repos/MyCryptoHQ/MyCrypto/issues/comments/369410622/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/MyCryptoHQ/MyCrypto/issues/comments/369412067",
    "html_url": "https://github.com/MyCryptoHQ/MyCrypto/issues/1198#issuecomment-369412067",
    "issue_url": "https://api.github.com/repos/MyCryptoHQ/MyCrypto/issues/1198",
    "id": 369412067,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2OTQxMjA2Nw==",
    "user": {
      "login": "wbobeirne",
      "id": 649992,
      "node_id": "MDQ6VXNlcjY0OTk5Mg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/649992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/wbobeirne",
      "html_url": "https://github.com/wbobeirne",
      "followers_url": "https://api.github.com/users/wbobeirne/followers",
      "following_url": "https://api.github.com/users/wbobeirne/following{/other_user}",
      "gists_url": "https://api.github.com/users/wbobeirne/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/wbobeirne/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/wbobeirne/subscriptions",
      "organizations_url": "https://api.github.com/users/wbobeirne/orgs",
      "repos_url": "https://api.github.com/users/wbobeirne/repos",
      "events_url": "https://api.github.com/users/wbobeirne/events{/privacy}",
      "received_events_url": "https://api.github.com/users/wbobeirne/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-02-28T22:52:53Z",
    "updated_at": "2018-02-28T22:52:53Z",
    "author_association": "CONTRIBUTOR",
    "body": "BN can't be serialized into JSON, so depending on your methodology of testing, it won't actually be a BN that's getting put in. If you try to go from a snapshot to a selector, that also won't likely work since the snapshots just serialize everything.\r\n\r\nWhen you say tests, do you mean unit tests, or was it something more ad-hoc?",
    "reactions": {
      "url": "https://api.github.com/repos/MyCryptoHQ/MyCrypto/issues/comments/369412067/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/MyCryptoHQ/MyCrypto/issues/comments/369412225",
    "html_url": "https://github.com/MyCryptoHQ/MyCrypto/issues/1198#issuecomment-369412225",
    "issue_url": "https://api.github.com/repos/MyCryptoHQ/MyCrypto/issues/1198",
    "id": 369412225,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2OTQxMjIyNQ==",
    "user": {
      "login": "wbobeirne",
      "id": 649992,
      "node_id": "MDQ6VXNlcjY0OTk5Mg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/649992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/wbobeirne",
      "html_url": "https://github.com/wbobeirne",
      "followers_url": "https://api.github.com/users/wbobeirne/followers",
      "following_url": "https://api.github.com/users/wbobeirne/following{/other_user}",
      "gists_url": "https://api.github.com/users/wbobeirne/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/wbobeirne/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/wbobeirne/subscriptions",
      "organizations_url": "https://api.github.com/users/wbobeirne/orgs",
      "repos_url": "https://api.github.com/users/wbobeirne/repos",
      "events_url": "https://api.github.com/users/wbobeirne/events{/privacy}",
      "received_events_url": "https://api.github.com/users/wbobeirne/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-02-28T22:53:30Z",
    "updated_at": "2018-02-28T22:53:30Z",
    "author_association": "CONTRIBUTOR",
    "body": "^ Continuing the conversation in the PR, and closing this issue since I think this is a testing methodology issue, and not something wrong with how we store state.",
    "reactions": {
      "url": "https://api.github.com/repos/MyCryptoHQ/MyCrypto/issues/comments/369412225/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
