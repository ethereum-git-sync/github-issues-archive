{
  "url": "https://api.github.com/repos/MyCryptoHQ/MyCrypto/issues/2064",
  "repository_url": "https://api.github.com/repos/MyCryptoHQ/MyCrypto",
  "labels_url": "https://api.github.com/repos/MyCryptoHQ/MyCrypto/issues/2064/labels{/name}",
  "comments_url": "https://api.github.com/repos/MyCryptoHQ/MyCrypto/issues/2064/comments",
  "events_url": "https://api.github.com/repos/MyCryptoHQ/MyCrypto/issues/2064/events",
  "html_url": "https://github.com/MyCryptoHQ/MyCrypto/issues/2064",
  "id": 340911035,
  "node_id": "MDU6SXNzdWUzNDA5MTEwMzU=",
  "number": 2064,
  "title": "Windows Desktop users + Ledger = error \".tmp.node is not a valid Win32 application\"",
  "user": {
    "login": "tayvano",
    "id": 7924827,
    "node_id": "MDQ6VXNlcjc5MjQ4Mjc=",
    "avatar_url": "https://avatars.githubusercontent.com/u/7924827?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/tayvano",
    "html_url": "https://github.com/tayvano",
    "followers_url": "https://api.github.com/users/tayvano/followers",
    "following_url": "https://api.github.com/users/tayvano/following{/other_user}",
    "gists_url": "https://api.github.com/users/tayvano/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/tayvano/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/tayvano/subscriptions",
    "organizations_url": "https://api.github.com/users/tayvano/orgs",
    "repos_url": "https://api.github.com/users/tayvano/repos",
    "events_url": "https://api.github.com/users/tayvano/events{/privacy}",
    "received_events_url": "https://api.github.com/users/tayvano/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 633603096,
      "node_id": "MDU6TGFiZWw2MzM2MDMwOTY=",
      "url": "https://api.github.com/repos/MyCryptoHQ/MyCrypto/labels/type:%20issue",
      "name": "type: issue",
      "color": "cc0000",
      "default": false,
      "description": "Items that document a problem or bug with an existing feature."
    },
    {
      "id": 992569134,
      "node_id": "MDU6TGFiZWw5OTI1NjkxMzQ=",
      "url": "https://api.github.com/repos/MyCryptoHQ/MyCrypto/labels/cat:%20desktop",
      "name": "cat: desktop",
      "color": "663980",
      "default": false,
      "description": "Issues or features only occurring on the desktop application."
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2018-07-13T07:26:45Z",
  "updated_at": "2018-07-15T17:02:57Z",
  "closed_at": "2018-07-15T17:02:57Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "### Description of the Issue\r\n\r\nWindows users are unable to interact with Ledger on Desktop Application as they get an error: `\".tmp.node is not a valid Win32 application\"`\r\n\r\nMultiple reports\r\n\r\n### Steps to Reproduce\r\n\r\n- Download & Install Desktop app on your Windows machine\r\n\r\n- Open app\r\n\r\n- Click connect to ledger (doesn't matter if you have a Ledger device connected or notâ€”error is the same\r\n\r\n### Description of Your Machine\r\n\r\n- Windows 10, 64 bit \r\n\r\n- Windows 7, 64 bit\r\n\r\n### Console Logs / Screenshots\r\n\r\n#### Report 1: \r\n\r\n- https://old.reddit.com/r/MyCrypto/comments/8ydif7/mycrypto_v12_is_out_and_a_stable_desktop_app_with/e2a8lfv/\r\n\r\n```\r\nInstalled it but I get some weird \" .tmp.node is not a valid Win32 application\\\\? \" error when trying to login with my Nano S.\r\n```\r\n\r\n#### Report 2: Jordan\r\n\r\n```\r\n\\\\?\\C:\\Users\\Jordan\\AppData\\Local\\Temp\\1b247efa-2c89-4998-98bc-8061998f6361.tmp.node is not a valid Win32 application\\\\?\\C:\\Users\\Jordan\\AppData\\Local\\Temp\\1b247efa-2c89-4998-98bc-8061998f6361.tmp.node\r\n```\r\n\r\n![ss 2018-07-12 at 05 43 04](https://user-images.githubusercontent.com/7924827/42678232-22115bbe-8633-11e8-90b7-a893a9cbad7f.png)\r\n\r\n![ss 2018-07-12 at 05 45 40](https://user-images.githubusercontent.com/7924827/42678254-32c76d4a-8633-11e8-8f91-f59e5fdd4c52.png)\r\n\r\n#### Report 3: via Discord\r\n\r\n```\r\ngetting a javascript error when trying to connect to ledger nano\r\nand __.tmp.node is not a valid win 32 application\r\nvia desktop app\r\n```\r\n\r\n#### Report 4: https://www.reddit.com/r/ethereum/comments/8yf6ht/mycrypto_120_is_live_desktop_app_wledger_trezor/e2b0n3l/\r\n\r\n```\r\n%1 is not a valid Win32 application. \\\\?\\C:\\Windows\\Temp\\29fbe1d7-2811-419d-ab2d-740ba9f5196d.tmp.node\r\n```",
  "closed_by": {
    "login": "tayvano",
    "id": 7924827,
    "node_id": "MDQ6VXNlcjc5MjQ4Mjc=",
    "avatar_url": "https://avatars.githubusercontent.com/u/7924827?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/tayvano",
    "html_url": "https://github.com/tayvano",
    "followers_url": "https://api.github.com/users/tayvano/followers",
    "following_url": "https://api.github.com/users/tayvano/following{/other_user}",
    "gists_url": "https://api.github.com/users/tayvano/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/tayvano/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/tayvano/subscriptions",
    "organizations_url": "https://api.github.com/users/tayvano/orgs",
    "repos_url": "https://api.github.com/users/tayvano/repos",
    "events_url": "https://api.github.com/users/tayvano/events{/privacy}",
    "received_events_url": "https://api.github.com/users/tayvano/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/MyCryptoHQ/MyCrypto/issues/2064/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/MyCryptoHQ/MyCrypto/issues/2064/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/MyCryptoHQ/MyCrypto/issues/comments/404754031",
    "html_url": "https://github.com/MyCryptoHQ/MyCrypto/issues/2064#issuecomment-404754031",
    "issue_url": "https://api.github.com/repos/MyCryptoHQ/MyCrypto/issues/2064",
    "id": 404754031,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwNDc1NDAzMQ==",
    "user": {
      "login": "tayvano",
      "id": 7924827,
      "node_id": "MDQ6VXNlcjc5MjQ4Mjc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7924827?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tayvano",
      "html_url": "https://github.com/tayvano",
      "followers_url": "https://api.github.com/users/tayvano/followers",
      "following_url": "https://api.github.com/users/tayvano/following{/other_user}",
      "gists_url": "https://api.github.com/users/tayvano/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tayvano/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tayvano/subscriptions",
      "organizations_url": "https://api.github.com/users/tayvano/orgs",
      "repos_url": "https://api.github.com/users/tayvano/repos",
      "events_url": "https://api.github.com/users/tayvano/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tayvano/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-07-13T07:43:56Z",
    "updated_at": "2018-07-13T15:29:39Z",
    "author_association": "CONTRIBUTOR",
    "body": "### Research and stuff we know after debugging\r\n\r\n- Same issue is happening in latest version of Mist\r\n    - https://github.com/ethereum/mist/issues/3988\r\n    - https://gitter.im/ethereum/mist?at=5b3ec49ef1664406611d82f3\r\n\r\n- Issue is **not** happening in Ledger Live (also Electron / React) \r\n    - https://github.com/LedgerHQ/ledger-live-desktop\r\n\r\n**Via Connor:**\r\n\r\nI've isolated the issue to https://github.com/MyCryptoHQ/MyCrypto/commit/6fc6d9e0745c13c7275992cb913cf12924fff0d4.\r\n\r\nThe PR before, https://github.com/MyCryptoHQ/MyCrypto/commit/3f57520bcac5a32d2d6ede979f845b355ffef475, works fine.\r\n\r\nThere are no differences between `package.json` and `yarn.lock`.\r\n\r\nIf I check out 6fc6d9e0745c13c7275992cb913cf12924fff0d4 and manually undo the code changes, the error persists.\r\n\r\nI don't really know what to check next, I have pretty much no experience with electron and no windows machine to try things out on. \r\n\r\nThe temporary fix, I suppose, would be to do a reverse-commit of just 6fc6d9e0745c13c7275992cb913cf12924fff0d4 if deemed necessary, otherwise I can work with another dev tomorrow to try to rebuild until we determine exactly what it is causing the issue.\r\n\r\n**What Google Says**\r\n\r\n- More broadly, the issue is when you have some library or dependency that is 32bit on your 64 bit machine or vice versa. \r\n\r\n- Error has occurred for years and years\r\n\r\n- I'm still putting my money on a electron-build / dependency issue. Something similar to this: https://github.com/electron/electron/issues/1075#issuecomment-362220859\r\n\r\n- \"It might be a build problem like node abi version mismatch from native modules.\"\r\n\r\n- https://github.com/electron/electron/blob/master/docs/tutorial/using-native-node-modules.md\r\n\r\n- \".node files are Node native extensions. The issue you are experiencing has to do with prebuilt native binaries that are not compatible to your architecture. This is most likely a problem in our CI service probably with electron-builder which is not compiling the correct binaries of the scrypt module for the target architecture.\"",
    "reactions": {
      "url": "https://api.github.com/repos/MyCryptoHQ/MyCrypto/issues/comments/404754031/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/MyCryptoHQ/MyCrypto/issues/comments/405104292",
    "html_url": "https://github.com/MyCryptoHQ/MyCrypto/issues/2064#issuecomment-405104292",
    "issue_url": "https://api.github.com/repos/MyCryptoHQ/MyCrypto/issues/2064",
    "id": 405104292,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwNTEwNDI5Mg==",
    "user": {
      "login": "tayvano",
      "id": 7924827,
      "node_id": "MDQ6VXNlcjc5MjQ4Mjc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7924827?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tayvano",
      "html_url": "https://github.com/tayvano",
      "followers_url": "https://api.github.com/users/tayvano/followers",
      "following_url": "https://api.github.com/users/tayvano/following{/other_user}",
      "gists_url": "https://api.github.com/users/tayvano/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tayvano/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tayvano/subscriptions",
      "organizations_url": "https://api.github.com/users/tayvano/orgs",
      "repos_url": "https://api.github.com/users/tayvano/repos",
      "events_url": "https://api.github.com/users/tayvano/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tayvano/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-07-15T17:02:57Z",
    "updated_at": "2018-07-15T17:02:57Z",
    "author_association": "CONTRIBUTOR",
    "body": "Fixed in v 1.2.1 \r\n\r\nPR w/ fix: https://github.com/MyCryptoHQ/MyCrypto/pull/2067",
    "reactions": {
      "url": "https://api.github.com/repos/MyCryptoHQ/MyCrypto/issues/comments/405104292/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
