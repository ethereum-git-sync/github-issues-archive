{
  "url": "https://api.github.com/repos/MyCryptoHQ/MyCrypto/issues/2717",
  "repository_url": "https://api.github.com/repos/MyCryptoHQ/MyCrypto",
  "labels_url": "https://api.github.com/repos/MyCryptoHQ/MyCrypto/issues/2717/labels{/name}",
  "comments_url": "https://api.github.com/repos/MyCryptoHQ/MyCrypto/issues/2717/comments",
  "events_url": "https://api.github.com/repos/MyCryptoHQ/MyCrypto/issues/2717/events",
  "html_url": "https://github.com/MyCryptoHQ/MyCrypto/issues/2717",
  "id": 482337546,
  "node_id": "MDU6SXNzdWU0ODIzMzc1NDY=",
  "number": 2717,
  "title": "Reference to localback.net in official build",
  "user": {
    "login": "SwaroopH",
    "id": 62628,
    "node_id": "MDQ6VXNlcjYyNjI4",
    "avatar_url": "https://avatars.githubusercontent.com/u/62628?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/SwaroopH",
    "html_url": "https://github.com/SwaroopH",
    "followers_url": "https://api.github.com/users/SwaroopH/followers",
    "following_url": "https://api.github.com/users/SwaroopH/following{/other_user}",
    "gists_url": "https://api.github.com/users/SwaroopH/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/SwaroopH/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/SwaroopH/subscriptions",
    "organizations_url": "https://api.github.com/users/SwaroopH/orgs",
    "repos_url": "https://api.github.com/users/SwaroopH/repos",
    "events_url": "https://api.github.com/users/SwaroopH/events{/privacy}",
    "received_events_url": "https://api.github.com/users/SwaroopH/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 3,
  "created_at": "2019-08-19T14:14:26Z",
  "updated_at": "2019-09-23T08:45:56Z",
  "closed_at": "2019-09-23T08:45:55Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "### Description of Issue\r\n\r\nI noticed that the official MacOS build from download.mycrypto.com tries to connect to localback.net and denying access to it stalls the app. Could be related to build issue as described in #2099. I cannot seem to find any reference to that domain in the code.\r\n\r\nEDIT: ~Using the build from Github release works fine.~ Nope, Github release seems to connect to that domain as well.\r\n\r\n### What exactly were you doing when you encountered this issue?\r\n\r\n1. Download MacOS build from official website.\r\n2. Monitor traffic in firewall like Little Snitch. \r\n\r\n### How were you accessing your wallet?\r\n\r\nN/a\r\n\r\n### Description of Your Machine\r\n\r\n- Browser: Firefox\r\n- Browser version: 68.0.2 (64-bit)\r\n- Operating system: OSX 10.14.6\r\n- Device: MBP\r\n- MyCrypto.com vs Desktop Application? Desktop\r\n- MyCrypto Version Number: 1.7.1\r\n\r\n\r\n### Console Logs / Screenshots\r\n\r\n![Screenshot 2019-08-19 19 42 36](https://user-images.githubusercontent.com/62628/63272343-82c1fb80-c2b9-11e9-91b6-558e6b663362.png)\r\n\r\n...\r\n\r\n\r\n\r\n",
  "closed_by": {
    "login": "SwaroopH",
    "id": 62628,
    "node_id": "MDQ6VXNlcjYyNjI4",
    "avatar_url": "https://avatars.githubusercontent.com/u/62628?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/SwaroopH",
    "html_url": "https://github.com/SwaroopH",
    "followers_url": "https://api.github.com/users/SwaroopH/followers",
    "following_url": "https://api.github.com/users/SwaroopH/following{/other_user}",
    "gists_url": "https://api.github.com/users/SwaroopH/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/SwaroopH/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/SwaroopH/subscriptions",
    "organizations_url": "https://api.github.com/users/SwaroopH/orgs",
    "repos_url": "https://api.github.com/users/SwaroopH/repos",
    "events_url": "https://api.github.com/users/SwaroopH/events{/privacy}",
    "received_events_url": "https://api.github.com/users/SwaroopH/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/MyCryptoHQ/MyCrypto/issues/2717/reactions",
    "total_count": 1,
    "+1": 1,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/MyCryptoHQ/MyCrypto/issues/2717/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/MyCryptoHQ/MyCrypto/issues/comments/525572983",
    "html_url": "https://github.com/MyCryptoHQ/MyCrypto/issues/2717#issuecomment-525572983",
    "issue_url": "https://api.github.com/repos/MyCryptoHQ/MyCrypto/issues/2717",
    "id": 525572983,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUyNTU3Mjk4Mw==",
    "user": {
      "login": "tayvano",
      "id": 7924827,
      "node_id": "MDQ6VXNlcjc5MjQ4Mjc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7924827?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tayvano",
      "html_url": "https://github.com/tayvano",
      "followers_url": "https://api.github.com/users/tayvano/followers",
      "following_url": "https://api.github.com/users/tayvano/following{/other_user}",
      "gists_url": "https://api.github.com/users/tayvano/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tayvano/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tayvano/subscriptions",
      "organizations_url": "https://api.github.com/users/tayvano/orgs",
      "repos_url": "https://api.github.com/users/tayvano/repos",
      "events_url": "https://api.github.com/users/tayvano/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tayvano/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-08-28T03:51:16Z",
    "updated_at": "2019-08-28T03:51:16Z",
    "author_association": "CONTRIBUTOR",
    "body": "We're looking into why this could be happening but it's something from Trezor's bridge package.\r\n\r\n<img width=\"1285\" alt=\" 2019-08-27 at 9 50 19 PM\" src=\"https://user-images.githubusercontent.com/7924827/63824541-c26d9080-c914-11e9-9f0c-955898dac89b.png\">\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/MyCryptoHQ/MyCrypto/issues/comments/525572983/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/MyCryptoHQ/MyCrypto/issues/comments/533874033",
    "html_url": "https://github.com/MyCryptoHQ/MyCrypto/issues/2717#issuecomment-533874033",
    "issue_url": "https://api.github.com/repos/MyCryptoHQ/MyCrypto/issues/2717",
    "id": 533874033,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUzMzg3NDAzMw==",
    "user": {
      "login": "mwbailey",
      "id": 98658,
      "node_id": "MDQ6VXNlcjk4NjU4",
      "avatar_url": "https://avatars.githubusercontent.com/u/98658?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mwbailey",
      "html_url": "https://github.com/mwbailey",
      "followers_url": "https://api.github.com/users/mwbailey/followers",
      "following_url": "https://api.github.com/users/mwbailey/following{/other_user}",
      "gists_url": "https://api.github.com/users/mwbailey/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mwbailey/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mwbailey/subscriptions",
      "organizations_url": "https://api.github.com/users/mwbailey/orgs",
      "repos_url": "https://api.github.com/users/mwbailey/repos",
      "events_url": "https://api.github.com/users/mwbailey/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mwbailey/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-09-22T11:36:11Z",
    "updated_at": "2019-09-22T11:36:11Z",
    "author_association": "CONTRIBUTOR",
    "body": "Hi @SwaroopH.\r\n\r\nAs @tayvano indicated, this relates to Trezor's bridge, which is a separate program (installed only by those who use Trezor devices) that starts a local web server to communicate with both a Trezor device and a browser. Non-Trezor users wouldn't have the bridge installed, but MyCrypto doesn't know this until it checks at startup.\r\n\r\nThe old version of the bridge (`trezord`, which has been obsoleted by the newer `trezord-go`) used `https://localback.net:21324`, which redirected to `https://localhost:21324`. This was probably to avoid the user being confronted with invalid certificate warnings when using https on localhost.\r\n\r\nNewer versions of the `trezor-link` library (starting with 1.6.0) only check for the `trezord-go` bridge, which would be running on the unencrypted `http://localhost:21325`. MyCrypto, however, is currently using `trezor-link` 1.5.2, which checks for the older `trezord` as a fallback option using the now obsolete localback.net method if `trezord-go` is not found.\r\n\r\nIt shouldn't matter whether you allow or deny access to localback.net. The connection will fail either way, but MyCrypto should continue to run as expected. If connections to localback.net are denied, it will fail immediately since it can't connect to the host. If allowed, the connection will eventually time out since there is no longer any server running at `https://localback.net:21324`. Regardless, the failed connection should not have any noticeable effect on MyCrypto.\r\n\r\nI suspect the reason MyCrypto stalled for you has to do with the delay caused by Little Snitch's popup asking to allow or deny access (if you don't have a preexisting rule for a domain). In my testing, if you respond within ~15 seconds (doesn't matter whether to allow or deny), MyCrypto runs fine. If you wait longer than that, MyCrypto will stall.\r\n\r\nI think this has to do with the way Little Snitch captures and holds packets at the application layer. It doesn't appear to send any packets to the network interface until the initial localback.net popup has been closed, even if other domains (mycryptoapi.com, infura.io, etherscan.io, etc. already have rules allowing access). If you don't respond in time, none of the connections that MyCrypto attempts on startup ever hit the network.\r\n\r\nCan you check to see if the MyCrypto app runs properly if there's a permanent Little Snitch rule denying access to localback.net or if you quickly hit 'Deny' on the popup? Let me know if there's still a problem, and I'll take another look.",
    "reactions": {
      "url": "https://api.github.com/repos/MyCryptoHQ/MyCrypto/issues/comments/533874033/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/MyCryptoHQ/MyCrypto/issues/comments/534010278",
    "html_url": "https://github.com/MyCryptoHQ/MyCrypto/issues/2717#issuecomment-534010278",
    "issue_url": "https://api.github.com/repos/MyCryptoHQ/MyCrypto/issues/2717",
    "id": 534010278,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUzNDAxMDI3OA==",
    "user": {
      "login": "SwaroopH",
      "id": 62628,
      "node_id": "MDQ6VXNlcjYyNjI4",
      "avatar_url": "https://avatars.githubusercontent.com/u/62628?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/SwaroopH",
      "html_url": "https://github.com/SwaroopH",
      "followers_url": "https://api.github.com/users/SwaroopH/followers",
      "following_url": "https://api.github.com/users/SwaroopH/following{/other_user}",
      "gists_url": "https://api.github.com/users/SwaroopH/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/SwaroopH/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SwaroopH/subscriptions",
      "organizations_url": "https://api.github.com/users/SwaroopH/orgs",
      "repos_url": "https://api.github.com/users/SwaroopH/repos",
      "events_url": "https://api.github.com/users/SwaroopH/events{/privacy}",
      "received_events_url": "https://api.github.com/users/SwaroopH/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-09-23T08:45:55Z",
    "updated_at": "2019-09-23T08:45:55Z",
    "author_association": "NONE",
    "body": "@mwbailey thanks for looking into this, it makes sense to me now. Never had a Trezor but I guess one of the older eth clients may have installed it.\r\n\r\nI was able to get MyCrypto to work by adding the exception.",
    "reactions": {
      "url": "https://api.github.com/repos/MyCryptoHQ/MyCrypto/issues/comments/534010278/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
