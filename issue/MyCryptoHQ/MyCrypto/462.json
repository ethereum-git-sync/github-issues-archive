{
  "url": "https://api.github.com/repos/MyCryptoHQ/MyCrypto/issues/462",
  "repository_url": "https://api.github.com/repos/MyCryptoHQ/MyCrypto",
  "labels_url": "https://api.github.com/repos/MyCryptoHQ/MyCrypto/issues/462/labels{/name}",
  "comments_url": "https://api.github.com/repos/MyCryptoHQ/MyCrypto/issues/462/comments",
  "events_url": "https://api.github.com/repos/MyCryptoHQ/MyCrypto/issues/462/events",
  "html_url": "https://github.com/MyCryptoHQ/MyCrypto/issues/462",
  "id": 277122854,
  "node_id": "MDU6SXNzdWUyNzcxMjI4NTQ=",
  "number": 462,
  "title": "CryptoCompare equivalent values API needs to be batch-requested",
  "user": {
    "login": "wbobeirne",
    "id": 649992,
    "node_id": "MDQ6VXNlcjY0OTk5Mg==",
    "avatar_url": "https://avatars.githubusercontent.com/u/649992?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/wbobeirne",
    "html_url": "https://github.com/wbobeirne",
    "followers_url": "https://api.github.com/users/wbobeirne/followers",
    "following_url": "https://api.github.com/users/wbobeirne/following{/other_user}",
    "gists_url": "https://api.github.com/users/wbobeirne/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/wbobeirne/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/wbobeirne/subscriptions",
    "organizations_url": "https://api.github.com/users/wbobeirne/orgs",
    "repos_url": "https://api.github.com/users/wbobeirne/repos",
    "events_url": "https://api.github.com/users/wbobeirne/events{/privacy}",
    "received_events_url": "https://api.github.com/users/wbobeirne/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 633603096,
      "node_id": "MDU6TGFiZWw2MzM2MDMwOTY=",
      "url": "https://api.github.com/repos/MyCryptoHQ/MyCrypto/labels/type:%20issue",
      "name": "type: issue",
      "color": "cc0000",
      "default": false,
      "description": "Items that document a problem or bug with an existing feature."
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": {
    "login": "wbobeirne",
    "id": 649992,
    "node_id": "MDQ6VXNlcjY0OTk5Mg==",
    "avatar_url": "https://avatars.githubusercontent.com/u/649992?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/wbobeirne",
    "html_url": "https://github.com/wbobeirne",
    "followers_url": "https://api.github.com/users/wbobeirne/followers",
    "following_url": "https://api.github.com/users/wbobeirne/following{/other_user}",
    "gists_url": "https://api.github.com/users/wbobeirne/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/wbobeirne/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/wbobeirne/subscriptions",
    "organizations_url": "https://api.github.com/users/wbobeirne/orgs",
    "repos_url": "https://api.github.com/users/wbobeirne/repos",
    "events_url": "https://api.github.com/users/wbobeirne/events{/privacy}",
    "received_events_url": "https://api.github.com/users/wbobeirne/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "wbobeirne",
      "id": 649992,
      "node_id": "MDQ6VXNlcjY0OTk5Mg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/649992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/wbobeirne",
      "html_url": "https://github.com/wbobeirne",
      "followers_url": "https://api.github.com/users/wbobeirne/followers",
      "following_url": "https://api.github.com/users/wbobeirne/following{/other_user}",
      "gists_url": "https://api.github.com/users/wbobeirne/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/wbobeirne/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/wbobeirne/subscriptions",
      "organizations_url": "https://api.github.com/users/wbobeirne/orgs",
      "repos_url": "https://api.github.com/users/wbobeirne/repos",
      "events_url": "https://api.github.com/users/wbobeirne/events{/privacy}",
      "received_events_url": "https://api.github.com/users/wbobeirne/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 7,
  "created_at": "2017-11-27T18:35:35Z",
  "updated_at": "2018-08-28T21:44:47Z",
  "closed_at": "2018-08-28T21:44:47Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "## Updated issue\r\n\r\nNow that the API is more resilient, we'll need to handle the 500+ characters use case if you request an obscene number of tokens. We'll simply need to split the request into multiple groups, and combine all of the results at the end.\r\n\r\n## Old issue\r\n\r\nIf you load a wallet that has tokens that CryptoCompare doesn't know about, the price API call fails:\r\n\r\nhttps://min-api.cryptocompare.com/data/price?fsym=ETH&tsyms=USD,EUR,GBP,BTC,CHF,REP,ETH,ANT,BeerCoin%20%F0%9F%8D%BA%20,CryptoCarbon,DAO,DGD,DGX%201.0,EDG,EMV,GNT,GUP,HMQ,ICN,JET,JetCoins,MCAP,MCO,MDA,MGO,MKR,MLN,NxC,OMG,PAY,PLU,PTOY,QRL,REP,RLC,RLT,ROUND,SGT,SHIT,SNGLS,SNT,STORJ,SWT,TIME,TRST,TaaS,Unicorn%20%F0%9F%A6%84%20,VERI,VRS,VSL,WINGS,XAUR\r\n\r\n```\r\n{\"Response\":\"Error\",\"Message\":\"tsyms param seems to be invalid.\",\"Type\":1,\"Aggregated\":false,\"Data\":[]}\r\n```\r\n\r\nThe immediate problem is that the fetch call doesn't catch this (It comes back as a 200 response) The bigger problem is that one bad token kills this feature entirely. I have a few possible solutions:\r\n\r\n1) Get a white-list of CryptoCompare tokens. This kinda sucks, and would have to be updated frequently.\r\n2) Make the request, and if it fails, make the request again with _only ETH_. Make EquivalentValues show only ETH, and only allow them to select per token, not all tokens + ETH.\r\n3) Try to work out better handling from CryptoCompare's side. Either an OPTIONS endpoint that describes which tokens it acknowledges, or have it return even with bad tokens, just omit them from the response.\r\n\r\ncc @tayvano on number 3, do we have a relationship with them?",
  "closed_by": {
    "login": "ConnorBryan",
    "id": 10479826,
    "node_id": "MDQ6VXNlcjEwNDc5ODI2",
    "avatar_url": "https://avatars.githubusercontent.com/u/10479826?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/ConnorBryan",
    "html_url": "https://github.com/ConnorBryan",
    "followers_url": "https://api.github.com/users/ConnorBryan/followers",
    "following_url": "https://api.github.com/users/ConnorBryan/following{/other_user}",
    "gists_url": "https://api.github.com/users/ConnorBryan/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/ConnorBryan/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/ConnorBryan/subscriptions",
    "organizations_url": "https://api.github.com/users/ConnorBryan/orgs",
    "repos_url": "https://api.github.com/users/ConnorBryan/repos",
    "events_url": "https://api.github.com/users/ConnorBryan/events{/privacy}",
    "received_events_url": "https://api.github.com/users/ConnorBryan/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/MyCryptoHQ/MyCrypto/issues/462/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/MyCryptoHQ/MyCrypto/issues/462/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/MyCryptoHQ/MyCrypto/issues/comments/347492636",
    "html_url": "https://github.com/MyCryptoHQ/MyCrypto/issues/462#issuecomment-347492636",
    "issue_url": "https://api.github.com/repos/MyCryptoHQ/MyCrypto/issues/462",
    "id": 347492636,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0NzQ5MjYzNg==",
    "user": {
      "login": "vcealicu",
      "id": 9008226,
      "node_id": "MDQ6VXNlcjkwMDgyMjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9008226?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vcealicu",
      "html_url": "https://github.com/vcealicu",
      "followers_url": "https://api.github.com/users/vcealicu/followers",
      "following_url": "https://api.github.com/users/vcealicu/following{/other_user}",
      "gists_url": "https://api.github.com/users/vcealicu/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vcealicu/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vcealicu/subscriptions",
      "organizations_url": "https://api.github.com/users/vcealicu/orgs",
      "repos_url": "https://api.github.com/users/vcealicu/repos",
      "events_url": "https://api.github.com/users/vcealicu/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vcealicu/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-11-28T11:18:18Z",
    "updated_at": "2017-11-28T11:18:18Z",
    "author_association": "NONE",
    "body": "I'll fix it on our side. We'll just omit the tokens that don't trade. That's what we do for the pricemultifull path. I'll implement the same logic on this.",
    "reactions": {
      "url": "https://api.github.com/repos/MyCryptoHQ/MyCrypto/issues/comments/347492636/reactions",
      "total_count": 2,
      "+1": 2,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/MyCryptoHQ/MyCrypto/issues/comments/347524448",
    "html_url": "https://github.com/MyCryptoHQ/MyCrypto/issues/462#issuecomment-347524448",
    "issue_url": "https://api.github.com/repos/MyCryptoHQ/MyCrypto/issues/462",
    "id": 347524448,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0NzUyNDQ0OA==",
    "user": {
      "login": "vcealicu",
      "id": 9008226,
      "node_id": "MDQ6VXNlcjkwMDgyMjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9008226?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vcealicu",
      "html_url": "https://github.com/vcealicu",
      "followers_url": "https://api.github.com/users/vcealicu/followers",
      "following_url": "https://api.github.com/users/vcealicu/following{/other_user}",
      "gists_url": "https://api.github.com/users/vcealicu/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vcealicu/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vcealicu/subscriptions",
      "organizations_url": "https://api.github.com/users/vcealicu/orgs",
      "repos_url": "https://api.github.com/users/vcealicu/repos",
      "events_url": "https://api.github.com/users/vcealicu/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vcealicu/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-11-28T13:33:30Z",
    "updated_at": "2017-11-28T13:33:30Z",
    "author_association": "NONE",
    "body": "I found the bug.... it's just a limit that is being hit and I return the wrong error. The actual error should be: the tsyms length is higher than 100 (that's the current limit). \r\n\r\nI'm pushing out a change that will return the correct error and increase the limit to 500 characters, so you can request on average around 80-100 assets per call (depending on the ticker length of each asset). \r\n\r\nIf a user has more than 80 assets, I would say split it into separate calls and this way you can handle unlimited assets, they will just take a few calls to get all the data.",
    "reactions": {
      "url": "https://api.github.com/repos/MyCryptoHQ/MyCrypto/issues/comments/347524448/reactions",
      "total_count": 3,
      "+1": 2,
      "-1": 0,
      "laugh": 0,
      "hooray": 1,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/MyCryptoHQ/MyCrypto/issues/comments/347596974",
    "html_url": "https://github.com/MyCryptoHQ/MyCrypto/issues/462#issuecomment-347596974",
    "issue_url": "https://api.github.com/repos/MyCryptoHQ/MyCrypto/issues/462",
    "id": 347596974,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0NzU5Njk3NA==",
    "user": {
      "login": "vcealicu",
      "id": 9008226,
      "node_id": "MDQ6VXNlcjkwMDgyMjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9008226?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vcealicu",
      "html_url": "https://github.com/vcealicu",
      "followers_url": "https://api.github.com/users/vcealicu/followers",
      "following_url": "https://api.github.com/users/vcealicu/following{/other_user}",
      "gists_url": "https://api.github.com/users/vcealicu/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vcealicu/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vcealicu/subscriptions",
      "organizations_url": "https://api.github.com/users/vcealicu/orgs",
      "repos_url": "https://api.github.com/users/vcealicu/repos",
      "events_url": "https://api.github.com/users/vcealicu/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vcealicu/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-11-28T17:20:17Z",
    "updated_at": "2017-11-28T17:20:17Z",
    "author_association": "NONE",
    "body": "It's running on dev overnight to make sure I'm not breaking anything and will deploy it live tomorrow morning. We just added 3 more vms on the API side, we are doing 16M calls per hour so I really need to test even the slightest changes properly. https://www.cryptocompare.com/coins/btc/post/p_301483",
    "reactions": {
      "url": "https://api.github.com/repos/MyCryptoHQ/MyCrypto/issues/comments/347596974/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/MyCryptoHQ/MyCrypto/issues/comments/347712182",
    "html_url": "https://github.com/MyCryptoHQ/MyCrypto/issues/462#issuecomment-347712182",
    "issue_url": "https://api.github.com/repos/MyCryptoHQ/MyCrypto/issues/462",
    "id": 347712182,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0NzcxMjE4Mg==",
    "user": {
      "login": "dternyak",
      "id": 7861465,
      "node_id": "MDQ6VXNlcjc4NjE0NjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7861465?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dternyak",
      "html_url": "https://github.com/dternyak",
      "followers_url": "https://api.github.com/users/dternyak/followers",
      "following_url": "https://api.github.com/users/dternyak/following{/other_user}",
      "gists_url": "https://api.github.com/users/dternyak/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dternyak/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dternyak/subscriptions",
      "organizations_url": "https://api.github.com/users/dternyak/orgs",
      "repos_url": "https://api.github.com/users/dternyak/repos",
      "events_url": "https://api.github.com/users/dternyak/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dternyak/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-11-29T00:34:14Z",
    "updated_at": "2017-11-29T00:34:19Z",
    "author_association": "CONTRIBUTOR",
    "body": "Thank you for the extremely quick response and turn-around @vcealicu 😁 ",
    "reactions": {
      "url": "https://api.github.com/repos/MyCryptoHQ/MyCrypto/issues/comments/347712182/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/MyCryptoHQ/MyCrypto/issues/comments/347910149",
    "html_url": "https://github.com/MyCryptoHQ/MyCrypto/issues/462#issuecomment-347910149",
    "issue_url": "https://api.github.com/repos/MyCryptoHQ/MyCrypto/issues/462",
    "id": 347910149,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0NzkxMDE0OQ==",
    "user": {
      "login": "vcealicu",
      "id": 9008226,
      "node_id": "MDQ6VXNlcjkwMDgyMjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9008226?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vcealicu",
      "html_url": "https://github.com/vcealicu",
      "followers_url": "https://api.github.com/users/vcealicu/followers",
      "following_url": "https://api.github.com/users/vcealicu/following{/other_user}",
      "gists_url": "https://api.github.com/users/vcealicu/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vcealicu/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vcealicu/subscriptions",
      "organizations_url": "https://api.github.com/users/vcealicu/orgs",
      "repos_url": "https://api.github.com/users/vcealicu/repos",
      "events_url": "https://api.github.com/users/vcealicu/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vcealicu/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-11-29T16:11:35Z",
    "updated_at": "2017-11-29T16:11:35Z",
    "author_association": "NONE",
    "body": "Fixed now, feel free to close the issue. No problem, just ping me on skype or email if you need anything else from us. ",
    "reactions": {
      "url": "https://api.github.com/repos/MyCryptoHQ/MyCrypto/issues/comments/347910149/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/MyCryptoHQ/MyCrypto/issues/comments/347928731",
    "html_url": "https://github.com/MyCryptoHQ/MyCrypto/issues/462#issuecomment-347928731",
    "issue_url": "https://api.github.com/repos/MyCryptoHQ/MyCrypto/issues/462",
    "id": 347928731,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0NzkyODczMQ==",
    "user": {
      "login": "wbobeirne",
      "id": 649992,
      "node_id": "MDQ6VXNlcjY0OTk5Mg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/649992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/wbobeirne",
      "html_url": "https://github.com/wbobeirne",
      "followers_url": "https://api.github.com/users/wbobeirne/followers",
      "following_url": "https://api.github.com/users/wbobeirne/following{/other_user}",
      "gists_url": "https://api.github.com/users/wbobeirne/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/wbobeirne/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/wbobeirne/subscriptions",
      "organizations_url": "https://api.github.com/users/wbobeirne/orgs",
      "repos_url": "https://api.github.com/users/wbobeirne/repos",
      "events_url": "https://api.github.com/users/wbobeirne/events{/privacy}",
      "received_events_url": "https://api.github.com/users/wbobeirne/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-11-29T17:08:58Z",
    "updated_at": "2017-11-29T17:08:58Z",
    "author_association": "CONTRIBUTOR",
    "body": "Awesome, works great. I'll be updating the issue to reflect the work we need to do to do batch requests, but I'm going to re-label it as low. I can't imagine there are too many instances of 80+ coin requests.",
    "reactions": {
      "url": "https://api.github.com/repos/MyCryptoHQ/MyCrypto/issues/comments/347928731/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/MyCryptoHQ/MyCrypto/issues/comments/413010662",
    "html_url": "https://github.com/MyCryptoHQ/MyCrypto/issues/462#issuecomment-413010662",
    "issue_url": "https://api.github.com/repos/MyCryptoHQ/MyCrypto/issues/462",
    "id": 413010662,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxMzAxMDY2Mg==",
    "user": {
      "login": "SharonManrique",
      "id": 25834495,
      "node_id": "MDQ6VXNlcjI1ODM0NDk1",
      "avatar_url": "https://avatars.githubusercontent.com/u/25834495?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/SharonManrique",
      "html_url": "https://github.com/SharonManrique",
      "followers_url": "https://api.github.com/users/SharonManrique/followers",
      "following_url": "https://api.github.com/users/SharonManrique/following{/other_user}",
      "gists_url": "https://api.github.com/users/SharonManrique/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/SharonManrique/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SharonManrique/subscriptions",
      "organizations_url": "https://api.github.com/users/SharonManrique/orgs",
      "repos_url": "https://api.github.com/users/SharonManrique/repos",
      "events_url": "https://api.github.com/users/SharonManrique/events{/privacy}",
      "received_events_url": "https://api.github.com/users/SharonManrique/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-08-14T20:47:57Z",
    "updated_at": "2018-08-14T20:47:57Z",
    "author_association": "CONTRIBUTOR",
    "body": "[Added to Asana](https://app.asana.com/0/763966770926912/779983315837147)",
    "reactions": {
      "url": "https://api.github.com/repos/MyCryptoHQ/MyCrypto/issues/comments/413010662/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
