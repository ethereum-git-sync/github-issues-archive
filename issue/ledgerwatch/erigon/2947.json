{
  "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/2947",
  "repository_url": "https://api.github.com/repos/ledgerwatch/erigon",
  "labels_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/2947/labels{/name}",
  "comments_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/2947/comments",
  "events_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/2947/events",
  "html_url": "https://github.com/ledgerwatch/erigon/issues/2947",
  "id": 1050325244,
  "node_id": "I_kwDOC0FsAM4-mrD8",
  "number": 2947,
  "title": "failure when fixing canonical headers after downloading headers",
  "user": {
    "login": "AlexeyAkhunov",
    "id": 13686139,
    "node_id": "MDQ6VXNlcjEzNjg2MTM5",
    "avatar_url": "https://avatars.githubusercontent.com/u/13686139?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/AlexeyAkhunov",
    "html_url": "https://github.com/AlexeyAkhunov",
    "followers_url": "https://api.github.com/users/AlexeyAkhunov/followers",
    "following_url": "https://api.github.com/users/AlexeyAkhunov/following{/other_user}",
    "gists_url": "https://api.github.com/users/AlexeyAkhunov/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/AlexeyAkhunov/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/AlexeyAkhunov/subscriptions",
    "organizations_url": "https://api.github.com/users/AlexeyAkhunov/orgs",
    "repos_url": "https://api.github.com/users/AlexeyAkhunov/repos",
    "events_url": "https://api.github.com/users/AlexeyAkhunov/events{/privacy}",
    "received_events_url": "https://api.github.com/users/AlexeyAkhunov/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 0,
  "created_at": "2021-11-10T21:27:47Z",
  "updated_at": "2022-05-27T04:52:16Z",
  "closed_at": "2022-05-27T04:52:16Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "\r\n````\r\nINFO[11-10|21:14:57.203] [1/15 Headers] Wrote block headers       number=12693696 blk/second=14995.200 alloc=\"1.52 GiB\" sys=\"3.12 GiB\"\r\nINFO[11-10|21:15:27.203] [1/15 Headers] Wrote block headers       number=13111296 blk/second=13920.000 alloc=\"1.60 GiB\" sys=\"3.12 GiB\"\r\nINFO[11-10|21:15:51.802] Generating ethash verification cache     epoch=451 percentage=96 elapsed=3.000s\r\nINFO[11-10|21:15:57.154] [p2p] GoodPeers                          eth66=31 eth65=27\r\nINFO[11-10|21:15:57.204] [1/15 Headers] Inserting headers         progress=13501861\r\nINFO[11-10|21:16:27.205] [1/15 Headers] Inserting headers         progress=13509015\r\nINFO[11-10|21:16:57.207] [1/15 Headers] Inserting headers         progress=13516143\r\nINFO[11-10|21:17:27.204] [1/15 Headers] Inserting headers         progress=13523371\r\nINFO[11-10|21:17:57.155] [p2p] GoodPeers                          eth66=33 eth65=29\r\nINFO[11-10|21:17:57.203] [1/15 Headers] Inserting headers         progress=13530629\r\nINFO[11-10|21:17:57.830] Generating ethash verification cache     epoch=452 percentage=94 elapsed=3.000s\r\nINFO[11-10|21:18:27.203] [1/15 Headers] Inserting headers         progress=13537793\r\nINFO[11-10|21:18:57.206] [1/15 Headers] Inserting headers         progress=13544882\r\nINFO[11-10|21:19:27.205] [1/15 Headers] Inserting headers         progress=13552049\r\nINFO[11-10|21:19:57.155] [p2p] GoodPeers                          eth66=33 eth65=30\r\nINFO[11-10|21:19:57.207] [1/15 Headers] Inserting headers         progress=13559161\r\nINFO[11-10|21:20:03.792] Generating ethash verification cache     epoch=453 percentage=94 elapsed=3.001s\r\nINFO[11-10|21:20:27.204] [1/15 Headers] Inserting headers         progress=13566341\r\nINFO[11-10|21:20:57.206] [1/15 Headers] Inserting headers         progress=13573397\r\nINFO[11-10|21:21:27.207] [1/15 Headers] Inserting headers         progress=13580463\r\nINFO[11-10|21:21:57.155] [p2p] GoodPeers                          eth66=33 eth65=31\r\nINFO[11-10|21:21:57.206] [1/15 Headers] Inserting headers         progress=13587481\r\nINFO[11-10|21:22:10.805] Generating ethash verification cache     epoch=454 percentage=94 elapsed=3.000s\r\nINFO[11-10|21:22:27.203] write canonical markers                  ancestor=8482417 hash=0xf84f3a41e0f00f92835b3eddbcd9372cd30c80fcfef39f764f81aa0d4cfcb007\r\nEROR[11-10|21:22:32.923] Staged Sync                              error=\"[1/15 Headers] fix canonical chain: ancestor is nil. height 6933035, hash a99b8f4db1769a1d045bcf46dd457c2454c19e8c3d95a13c8f425056002bfc3b\"\r\nINFO[11-10|21:22:32.963] [1/15 Headers] Waiting for headers...    from=0\r\nEROR[11-10|21:22:32.963] consensus.ErrUnknownAncestor             parentNum=13590847 hash=0x2446108301ea362e663b35122b6e6c1b36714165246a12d8fb9d11d9fd9b6162\r\nWARN[11-10|21:22:32.963] Verification failed for header           hash=0x4cb667834cd751f7c4ef8be556d37d3f0a60cf0707ae801510388ab674911686 height=13590848 error=\"unknown ancestor\"\r\nWARN[11-10|21:22:41.610] [RecvUploadMessage]: Handling incoming message error=\"send bodies response: sendMessageById to peer 5675a0dbe54cab4ab612f3a497dcdd157800dcab742176bb7bed07a3fa139fd1: set tcp 192.168.1.180:58865: use of closed network connection\"\r\nINFO[11-10|21:23:02.964] [1/15 Headers] Wrote block headers       number=468480 blk/second=15616.000 alloc=\"1.39 GiB\" sys=\"3.51 GiB\"\r\nINFO[11-10|21:23:32.963] [1/15 Headers] Inserting headers         progress=1053591\r\nINFO[11-10|21:23:57.156] [p2p] GoodPeers                          eth66=33 eth65=30\r\nINFO[11-10|21:24:02.964] [1/15 Headers] Inserting headers         progress=1468416\r\nINFO[11-10|21:24:32.965] [1/15 Headers] Inserting headers         progress=1797120\r\n^CINFO[11-10|21:24:34.517] Got interrupt, shutting down...\r\nINFO[11-10|21:24:42.798] Successfully update p2p node database    path=/Users/alexsharp/data/nodes/eth66 updated=0 deleted=1485\r\nINFO[11-10|21:24:42.799] database closed                          label=sentry\r\nINFO[11-10|21:24:43.040] Successfully update p2p node database    path=/Users/alexsharp/data/nodes/eth65 updated=0 deleted=2082\r\n````\r\n",
  "closed_by": {
    "login": "AskAlexSharov",
    "id": 46885206,
    "node_id": "MDQ6VXNlcjQ2ODg1MjA2",
    "avatar_url": "https://avatars.githubusercontent.com/u/46885206?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/AskAlexSharov",
    "html_url": "https://github.com/AskAlexSharov",
    "followers_url": "https://api.github.com/users/AskAlexSharov/followers",
    "following_url": "https://api.github.com/users/AskAlexSharov/following{/other_user}",
    "gists_url": "https://api.github.com/users/AskAlexSharov/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/AskAlexSharov/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/AskAlexSharov/subscriptions",
    "organizations_url": "https://api.github.com/users/AskAlexSharov/orgs",
    "repos_url": "https://api.github.com/users/AskAlexSharov/repos",
    "events_url": "https://api.github.com/users/AskAlexSharov/events{/privacy}",
    "received_events_url": "https://api.github.com/users/AskAlexSharov/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/2947/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/2947/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[

]
