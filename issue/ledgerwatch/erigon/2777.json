{
  "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/2777",
  "repository_url": "https://api.github.com/repos/ledgerwatch/erigon",
  "labels_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/2777/labels{/name}",
  "comments_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/2777/comments",
  "events_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/2777/events",
  "html_url": "https://github.com/ledgerwatch/erigon/issues/2777",
  "id": 1015607636,
  "node_id": "I_kwDOC0FsAM48iPFU",
  "number": 2777,
  "title": "Erigon crashing after 10.01 upgrade, \"erigon: mdbx:9683: mdbx_page_alloc: Assertion `((re_list)[((re_list)[0])]) < txn->mt_geo.next && ((re_list)[1]) < txn->mt_geo.next' failed.\"",
  "user": {
    "login": "NessDan",
    "id": 304269,
    "node_id": "MDQ6VXNlcjMwNDI2OQ==",
    "avatar_url": "https://avatars.githubusercontent.com/u/304269?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/NessDan",
    "html_url": "https://github.com/NessDan",
    "followers_url": "https://api.github.com/users/NessDan/followers",
    "following_url": "https://api.github.com/users/NessDan/following{/other_user}",
    "gists_url": "https://api.github.com/users/NessDan/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/NessDan/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/NessDan/subscriptions",
    "organizations_url": "https://api.github.com/users/NessDan/orgs",
    "repos_url": "https://api.github.com/users/NessDan/repos",
    "events_url": "https://api.github.com/users/NessDan/events{/privacy}",
    "received_events_url": "https://api.github.com/users/NessDan/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 11,
  "created_at": "2021-10-04T20:33:33Z",
  "updated_at": "2021-10-07T01:25:38Z",
  "closed_at": "2021-10-07T01:24:58Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "#### System information\r\n\r\nErigon version: `erigon version 2021.10.1-alpha`\r\n\r\nOS & Version: Ubuntu Linux 21.04\r\n\r\nCommit hash : `ef80fd54b1c6c82aae92f5fa24cbd381e8577b50`\r\n\r\n#### Expected behaviour\r\n\r\nErigon loads and properly runs\r\n\r\n#### Actual behaviour\r\n\r\nErigon loads, starts to \"event subscription channel established with the RPC daemon\", and then promptly crashes with a key error:\r\n\r\n```\r\nerigon: mdbx:9683: mdbx_page_alloc: Assertion `((re_list)[((re_list)[0])]) < txn->mt_geo.next && ((re_list)[1]) < txn->mt_geo.next' failed.`\r\n```\r\n\r\n#### Steps to reproduce the behaviour\r\n\r\n1. Update Erigon to the latest version,\r\n2. Run the RPC Client, `./rpcdaemon --datadir /home/erigon/data/ --private.api.addr=localhost:9090`\r\n2. Run Erigon, `./erigon --datadir /home/erigon/data --private.api.addr=localhost:9090`\r\n3. Observe the logs.\r\n\r\n#### Backtrace\r\n\r\n[Full stack trace attached to the issue.](https://github.com/ledgerwatch/erigon/files/7281152/erigon-stacktrace-10.04-error.txt)\r\n\r\n````\r\nOct 04 20:22:35 beafy erigon[22602]: [INFO] [10-04|20:22:35.993] Build info                               git_branch=HEAD git_tag=v2021.10.01 git_commit=ef80fd54b1c6c82aae92f5fa24cbd381e8577b50\r\nOct 04 20:22:35 beafy erigon[22602]: [INFO] [10-04|20:22:35.993] Starting Erigon on Ethereum mainnet...\r\nOct 04 20:22:35 beafy erigon[22602]: [INFO] [10-04|20:22:35.994] Maximum peer count                       ETH=100 total=100\r\nOct 04 20:22:35 beafy erigon[22602]: [INFO] [10-04|20:22:35.994] Set global gas cap                       cap=50000000\r\nOct 04 20:22:36 beafy erigon[22602]: [INFO] [10-04|20:22:36.043] Opening Database                         label=chaindata path=/home/erigon/data/chaindata\r\nOct 04 20:22:36 beafy erigon[22602]: mdbx_ipclock_failed:29740 wlock owner died, recovering\r\nOct 04 20:22:36 beafy erigon[22602]: [INFO] [10-04|20:22:36.044] Initialised chain configuration          config=\"{ChainID: 1  1150000 DAO: 1920000 DAOSupport: true EIP150: 2463000 EIP155: 2675000 EIP158: 2675000 Byzantium: 4370000 Constantinople: 7280000 Petersburg: 7280000 Istanbul: 9069000, Muir Glacier: 9200000, Berlin: 12244000, London: 12965000, Engine: ethash}\"\r\nOct 04 20:22:36 beafy erigon[22602]: [INFO] [10-04|20:22:36.044] Disk storage enabled for ethash DAGs     dir=/home/erigon/data/ethash-dags count=2\r\nOct 04 20:22:36 beafy erigon[22602]: [INFO] [10-04|20:22:36.044] Initialising Ethereum protocol           network=1\r\nOct 04 20:22:36 beafy erigon[22602]: [INFO] [10-04|20:22:36.044] Effective                                prune=\"--prune=\"\r\nOct 04 20:22:36 beafy erigon[22602]: [INFO] [10-04|20:22:36.672] Starting private RPC server              on=localhost:9090\r\nOct 04 20:22:36 beafy erigon[22602]: [INFO] [10-04|20:22:36.673] [1/18 Headers] Waiting for headers...    from=13354674\r\nOct 04 20:22:36 beafy erigon[22602]: [INFO] [10-04|20:22:36.686] Mapped network port                      proto=tcp extport=30303 intport=30303 interface=NAT-PMP(192.168.1.1)\r\nOct 04 20:22:36 beafy erigon[22602]: [INFO] [10-04|20:22:36.689] Mapped network port                      proto=udp extport=30303 intport=30303 interface=NAT-PMP(192.168.1.1)\r\nOct 04 20:22:36 beafy erigon[22602]: [INFO] [10-04|20:22:36.694] Mapped network port                      proto=tcp extport=30304 intport=30304 interface=NAT-PMP(192.168.1.1)\r\nOct 04 20:22:36 beafy erigon[22602]: [INFO] [10-04|20:22:36.698] Mapped network port                      proto=udp extport=30304 intport=30304 interface=NAT-PMP(192.168.1.1)\r\nOct 04 20:22:36 beafy erigon[22602]: [INFO] [10-04|20:22:36.731] Started P2P networking                   version=66 self=enode://11411322e260a7454774ec32b66450e31b87a6879a61b0359841a44d2c17babf65171744529c24c6ae10f1859f7d02d1c3ac06e6e6b6abb0cae0ac5ea660673c@67.149.151.142:30303 name=erigon/v2021.10.1-alpha-ef80fd54/linux-amd64/go1.16.4\r\nOct 04 20:22:36 beafy erigon[22602]: [INFO] [10-04|20:22:36.753] Started P2P networking                   version=65 self=enode://11411322e260a7454774ec32b66450e31b87a6879a61b0359841a44d2c17babf65171744529c24c6ae10f1859f7d02d1c3ac06e6e6b6abb0cae0ac5ea660673c@67.149.151.142:30304 name=erigon/v2021.10.1-alpha-ef80fd54/linux-amd64/go1.16.4\r\nOct 04 20:22:37 beafy erigon[22602]: [INFO] [10-04|20:22:37.515] event subscription channel established with the RPC daemon\r\nOct 04 20:22:55 beafy erigon[22602]: erigon: mdbx:9683: mdbx_page_alloc: Assertion `((re_list)[((re_list)[0])]) < txn->mt_geo.next && ((re_list)[1]) < txn->mt_geo.next' failed.\r\nOct 04 20:22:55 beafy erigon[22602]: SIGABRT: abort\r\nOct 04 20:22:55 beafy erigon[22602]: PC=0x7f4c66229fbb m=30 sigcode=18446744073709551610\r\nOct 04 20:22:55 beafy erigon[22602]: signal arrived during cgo execution\r\nOct 04 20:22:55 beafy erigon[22602]: goroutine 191 [syscall, locked to thread]:\r\nOct 04 20:22:55 beafy erigon[22602]: runtime.cgocall(0x1219bd0, 0xc0023c0b78, 0xc00b0b1f00)\r\nOct 04 20:22:55 beafy erigon[22602]:         runtime/cgocall.go:154 +0x5b fp=0xc0023c0b48 sp=0xc0023c0b10 pc=0x44953b\r\nOct 04 20:22:55 beafy erigon[22602]: github.com/torquem-ch/mdbx-go/mdbx._Cfunc_mdbxgo_cursor_put2(0x7d4bac0018e0, 0xc006158780, 0x28, 0xc0037f8fc0, 0x21f, 0xc000000000, 0xc000000000)\r\nOct 04 20:22:55 beafy erigon[22602]:         _cgo_gotypes.go:1021 +0x48 fp=0xc0023c0b78 sp=0xc0023c0b48 pc=0x98c728\r\nOct 04 20:22:55 beafy erigon[22602]: github.com/torquem-ch/mdbx-go/mdbx.(*Cursor).Put.func1(0xc00b572420, 0xc006158780, 0x28, 0x28, 0xc0037f8fc0, 0x21f, 0x21f, 0x0, 0xc000032000)\r\n````\r\n\r\n",
  "closed_by": {
    "login": "NessDan",
    "id": 304269,
    "node_id": "MDQ6VXNlcjMwNDI2OQ==",
    "avatar_url": "https://avatars.githubusercontent.com/u/304269?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/NessDan",
    "html_url": "https://github.com/NessDan",
    "followers_url": "https://api.github.com/users/NessDan/followers",
    "following_url": "https://api.github.com/users/NessDan/following{/other_user}",
    "gists_url": "https://api.github.com/users/NessDan/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/NessDan/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/NessDan/subscriptions",
    "organizations_url": "https://api.github.com/users/NessDan/orgs",
    "repos_url": "https://api.github.com/users/NessDan/repos",
    "events_url": "https://api.github.com/users/NessDan/events{/privacy}",
    "received_events_url": "https://api.github.com/users/NessDan/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/2777/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/2777/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/934019546",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/2777#issuecomment-934019546",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/2777",
    "id": 934019546,
    "node_id": "IC_kwDOC0FsAM43rAHa",
    "user": {
      "login": "AskAlexSharov",
      "id": 46885206,
      "node_id": "MDQ6VXNlcjQ2ODg1MjA2",
      "avatar_url": "https://avatars.githubusercontent.com/u/46885206?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/AskAlexSharov",
      "html_url": "https://github.com/AskAlexSharov",
      "followers_url": "https://api.github.com/users/AskAlexSharov/followers",
      "following_url": "https://api.github.com/users/AskAlexSharov/following{/other_user}",
      "gists_url": "https://api.github.com/users/AskAlexSharov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/AskAlexSharov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/AskAlexSharov/subscriptions",
      "organizations_url": "https://api.github.com/users/AskAlexSharov/orgs",
      "repos_url": "https://api.github.com/users/AskAlexSharov/repos",
      "events_url": "https://api.github.com/users/AskAlexSharov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/AskAlexSharov/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-10-05T03:05:50Z",
    "updated_at": "2021-10-05T05:12:49Z",
    "author_association": "COLLABORATOR",
    "body": "1. what version of Erigon you had before?\r\n2. please run \r\n```\r\nmake db-tools\r\n./build/bin/mdbx_chk -v -d <datadir>/chaindata\r\n```\r\nand show output\r\n\r\n3. What is your FileSystem? What is your Disk model? Is it server-grade or desktop Disk? \r\n4. How much free space left on Disk?",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/934019546/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/934081603",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/2777#issuecomment-934081603",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/2777",
    "id": 934081603,
    "node_id": "IC_kwDOC0FsAM43rPRD",
    "user": {
      "login": "NessDan",
      "id": 304269,
      "node_id": "MDQ6VXNlcjMwNDI2OQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/304269?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/NessDan",
      "html_url": "https://github.com/NessDan",
      "followers_url": "https://api.github.com/users/NessDan/followers",
      "following_url": "https://api.github.com/users/NessDan/following{/other_user}",
      "gists_url": "https://api.github.com/users/NessDan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/NessDan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/NessDan/subscriptions",
      "organizations_url": "https://api.github.com/users/NessDan/orgs",
      "repos_url": "https://api.github.com/users/NessDan/repos",
      "events_url": "https://api.github.com/users/NessDan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/NessDan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-10-05T05:34:48Z",
    "updated_at": "2021-10-05T05:34:48Z",
    "author_association": "NONE",
    "body": "> 1. what version of Erigon you had before?\r\n\r\nI can't say, it was one of the last 3 releases but that's as specific as I can get :(\r\n\r\n> 2. please run\r\n> \r\n> ```\r\n> make db-tools\r\n> ./build/bin/mdbx_chk -v -d <datadir>/chaindata\r\n> ```\r\n\r\nOutput:\r\n\r\n```\r\n~/git$ ./build/bin/mdbx_chk -v -d ~/data/chaindata\r\nmdbx_chk v0.10.1-15-g63e7276 (2021-06-18T15:13:51+03:00, T-1c2ca15627c5c4e72657c00530c8a9a71ccd5128)\r\nRunning for /home/erigon/data/chaindata in 'read-only' mode...\r\n - monopolistic mode\r\n - current boot-id a98c597a17115145-06e45e92b9c54e1f\r\n - pagesize 4096 (4096 system), max keysize 1980..2022, max readers 118\r\n - mapsize 2199023255552 (2.00 Tb)\r\n - dynamic datafile: 12288 (12.00 Kb) .. 2199023255552 (2.00 Tb), +2147483648 (2.00 Gb), -4096 (4.00 Kb)\r\n - current datafile: 1372242051072 (1.25 Tb), 335020032 pages\r\n - meta-0: steady txn#356176, tail\r\n - meta-1: steady txn#356177, stay\r\n - meta-2: steady txn#356178, head\r\n - transactions: recent 356178, latter reader 356178, lag 0\r\nSkipping b-tree walk...\r\nProcessing '@MAIN'...\r\n - key-value kind: usual-key => single-value\r\n - summary: 52 records, 0 dups, 640 key's bytes, 2496 data's bytes, 0 problems\r\nProcessing '@GC'...\r\n - key-value kind: ordinal-key => single-value\r\n - last modification txn#356178\r\n - fixed key-size 8\r\n - problems: wrong idl entry (4)\r\n - summary: 3 records, 0 dups, 24 key's bytes, 608 data's bytes, 4 problems\r\n - space: 536870912 total pages, backed 335020032 (62.4%), allocated 334665058 (62.3%), available 202205986 (37.7%)\r\nTotal 4 errors are detected, elapsed 0.001 seconds.\r\n```\r\n\r\n> 1. What is your FileSystem? What is your Disk model? Is it server-grade or desktop Disk?\r\n\r\nDefault filesystem for Ubuntu server installations (ext4?) I have an NVMe RAID for my disks. They are consumer NVMes.\r\n\r\n> 2. How much free space left on Disk?\r\n291GB Left \r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/934081603/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/934101725",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/2777#issuecomment-934101725",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/2777",
    "id": 934101725,
    "node_id": "IC_kwDOC0FsAM43rULd",
    "user": {
      "login": "AskAlexSharov",
      "id": 46885206,
      "node_id": "MDQ6VXNlcjQ2ODg1MjA2",
      "avatar_url": "https://avatars.githubusercontent.com/u/46885206?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/AskAlexSharov",
      "html_url": "https://github.com/AskAlexSharov",
      "followers_url": "https://api.github.com/users/AskAlexSharov/followers",
      "following_url": "https://api.github.com/users/AskAlexSharov/following{/other_user}",
      "gists_url": "https://api.github.com/users/AskAlexSharov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/AskAlexSharov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/AskAlexSharov/subscriptions",
      "organizations_url": "https://api.github.com/users/AskAlexSharov/orgs",
      "repos_url": "https://api.github.com/users/AskAlexSharov/repos",
      "events_url": "https://api.github.com/users/AskAlexSharov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/AskAlexSharov/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-10-05T06:18:53Z",
    "updated_at": "2021-10-05T06:18:53Z",
    "author_association": "COLLABORATOR",
    "body": "@NessDan what type of RAID?",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/934101725/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/934131768",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/2777#issuecomment-934131768",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/2777",
    "id": 934131768,
    "node_id": "IC_kwDOC0FsAM43rbg4",
    "user": {
      "login": "erthink",
      "id": 6241554,
      "node_id": "MDQ6VXNlcjYyNDE1NTQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6241554?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/erthink",
      "html_url": "https://github.com/erthink",
      "followers_url": "https://api.github.com/users/erthink/followers",
      "following_url": "https://api.github.com/users/erthink/following{/other_user}",
      "gists_url": "https://api.github.com/users/erthink/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/erthink/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/erthink/subscriptions",
      "organizations_url": "https://api.github.com/users/erthink/orgs",
      "repos_url": "https://api.github.com/users/erthink/repos",
      "events_url": "https://api.github.com/users/erthink/events{/privacy}",
      "received_events_url": "https://api.github.com/users/erthink/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-10-05T07:13:24Z",
    "updated_at": "2021-10-05T07:13:24Z",
    "author_association": "CONTRIBUTOR",
    "body": "Corresponding libmdbx' assertion is [here](https://github.com/erthink/libmdbx/blob/c81226906afe0e3758ac9143bcbe6a672b6c1b57/src/core.c#L6293-L6294).\r\n\r\nFor such cases DB should be checked without `-d` option.\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/934131768/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/934140817",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/2777#issuecomment-934140817",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/2777",
    "id": 934140817,
    "node_id": "IC_kwDOC0FsAM43rduR",
    "user": {
      "login": "AskAlexSharov",
      "id": 46885206,
      "node_id": "MDQ6VXNlcjQ2ODg1MjA2",
      "avatar_url": "https://avatars.githubusercontent.com/u/46885206?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/AskAlexSharov",
      "html_url": "https://github.com/AskAlexSharov",
      "followers_url": "https://api.github.com/users/AskAlexSharov/followers",
      "following_url": "https://api.github.com/users/AskAlexSharov/following{/other_user}",
      "gists_url": "https://api.github.com/users/AskAlexSharov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/AskAlexSharov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/AskAlexSharov/subscriptions",
      "organizations_url": "https://api.github.com/users/AskAlexSharov/orgs",
      "repos_url": "https://api.github.com/users/AskAlexSharov/repos",
      "events_url": "https://api.github.com/users/AskAlexSharov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/AskAlexSharov/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-10-05T07:26:55Z",
    "updated_at": "2021-10-05T07:30:35Z",
    "author_association": "COLLABORATOR",
    "body": "@NessDan please run `./build/bin/mdbx_chk -vvv <datadir>/chaindata` ",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/934140817/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/934624764",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/2777#issuecomment-934624764",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/2777",
    "id": 934624764,
    "node_id": "IC_kwDOC0FsAM43tT38",
    "user": {
      "login": "erthink",
      "id": 6241554,
      "node_id": "MDQ6VXNlcjYyNDE1NTQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6241554?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/erthink",
      "html_url": "https://github.com/erthink",
      "followers_url": "https://api.github.com/users/erthink/followers",
      "following_url": "https://api.github.com/users/erthink/following{/other_user}",
      "gists_url": "https://api.github.com/users/erthink/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/erthink/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/erthink/subscriptions",
      "organizations_url": "https://api.github.com/users/erthink/orgs",
      "repos_url": "https://api.github.com/users/erthink/repos",
      "events_url": "https://api.github.com/users/erthink/events{/privacy}",
      "received_events_url": "https://api.github.com/users/erthink/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-10-05T17:42:11Z",
    "updated_at": "2021-10-05T17:42:11Z",
    "author_association": "CONTRIBUTOR",
    "body": "@NessDan, in your case, the database is definitely damaged. As a libmdbx developer, I am interested to understand the cause and fix it if one is the result of an libmdbx' bug.\r\n\r\nIf you already run the `mdbx_chk -vvv` then wait it for completeness.\r\nOtherwise, you can get the initial amount of information for me much quicker.\r\nPlease:\r\n1. run `./build/bin/mdbx_chk -0 -d -vvvvv <datadir>/chaindata`\r\n2. run `./build/bin/mdbx_chk -1 -d -vvvvv <datadir>/chaindata`\r\n3. run `./build/bin/mdbx_chk -2 -d -vvvvv <datadir>/chaindata`\r\n4. and provide the output.\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/934624764/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/935163369",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/2777#issuecomment-935163369",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/2777",
    "id": 935163369,
    "node_id": "IC_kwDOC0FsAM43vXXp",
    "user": {
      "login": "NessDan",
      "id": 304269,
      "node_id": "MDQ6VXNlcjMwNDI2OQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/304269?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/NessDan",
      "html_url": "https://github.com/NessDan",
      "followers_url": "https://api.github.com/users/NessDan/followers",
      "following_url": "https://api.github.com/users/NessDan/following{/other_user}",
      "gists_url": "https://api.github.com/users/NessDan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/NessDan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/NessDan/subscriptions",
      "organizations_url": "https://api.github.com/users/NessDan/orgs",
      "repos_url": "https://api.github.com/users/NessDan/repos",
      "events_url": "https://api.github.com/users/NessDan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/NessDan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-10-06T00:45:36Z",
    "updated_at": "2021-10-06T00:47:36Z",
    "author_association": "NONE",
    "body": "@erthink @AskAlexSharov thank you both for responding, see outputs below. Alex, if you need me to run the original command you posted previously let me know.\r\n\r\n> @NessDan what type of RAID?\r\n\r\nRAID1 via mdadm\r\n\r\n> 1. run `./build/bin/mdbx_chk -0 -d -vvvvv <datadir>/chaindata`\r\n\r\n```\r\n$ ./mdbx_chk -0 -d -vvvvv ~/data/chaindata\r\nmdbx_chk v0.10.1-15-g63e7276 (2021-06-18T15:13:51+03:00, T-1c2ca15627c5c4e72657c00530c8a9a71ccd5128)\r\nRunning for /home/erigon/data/chaindata in 'read-only' mode...\r\n   open-MADV_DONTNEED 334665058..335020032\r\n   readahead OFF 0..334665058\r\n - monopolistic mode\r\n - current boot-id a98c597a17115145-06e45e92b9c54e1f\r\n - pagesize 4096 (4096 system), max keysize 1980..2022, max readers 118\r\n - mapsize 2199023255552 (2.00 Tb)\r\n - dynamic datafile: 12288 (12.00 Kb) .. 2199023255552 (2.00 Tb), +2147483648 (2.00 Gb), -4096 (4.00 Kb)\r\n - current datafile: 1372242051072 (1.25 Tb), 335020032 pages\r\n - meta-0: steady txn#356176, tail, forced for checking\r\n - meta-1: steady txn#356177, stay\r\n - meta-2: steady txn#356178, head\r\n - skip checking meta-pages since the 0 is selected for verification\r\n - transactions: recent 356178, selected for verification 356176, lag 2\r\nSkipping b-tree walk...\r\nProcessing '@MAIN'...\r\n - key-value kind: usual-key => single-value, flags: none (0x00), dbi-id 1\r\n - page size 4096, entries 52\r\n - b-tree depth 1, pages: branch 0, leaf 1, overflow 0\r\n - summary: 52 records, 0 dups, 640 key's bytes, 2496 data's bytes, 0 problems\r\nProcessing '@GC'...\r\n - key-value kind: ordinal-key => single-value, flags: integerkey (0x08), dbi-id 0\r\n - last modification txn#356176\r\n - page size 4096, entries 3\r\n - b-tree depth 1, pages: branch 0, leaf 1, overflow 0\r\n - fixed key-size 8\r\n     entry #356174: wrong idl entry (pgno 2452399876 > backed-pages 335020032)\r\n     entry #356174: wrong idl entry (pgno 1371130778 > backed-pages 335020032)\r\n     entry #356174: wrong idl entry (pgno 1370601768 > backed-pages 335020032)\r\n     entry #356174: wrong idl entry (pgno 1359416077 > backed-pages 335020032)\r\n     transaction 356174, 115 pages, maxspan 4\r\n    304916365\r\n    304916326\r\n    304916309\r\n    304916302\r\n    304916276\r\n    304916257\r\n    304916250[2]\r\n    304916243\r\n    2452399876\r\n    297390424\r\n    297390418\r\n    297390410\r\n    297390297\r\n    297390277\r\n    297390262\r\n    297390234\r\n    297390203\r\n    297390138\r\n    297390070\r\n    297389991\r\n    297389932\r\n    297389918\r\n    297389889[2]\r\n    297389885\r\n    297389789\r\n    297389787\r\n    297389716\r\n    297389706\r\n    297389701\r\n    297389684\r\n    297389677\r\n    297389662\r\n    297389651\r\n    297389637\r\n    297389606\r\n    297389582\r\n    297389562\r\n    297389535\r\n    297389508\r\n    297389504\r\n    297389490\r\n    297389437\r\n    297389418\r\n    297389406\r\n    297389400\r\n    297389393\r\n    297389370\r\n    297389354\r\n    297389347\r\n    297389339\r\n    297389309\r\n    297389284\r\n    297389257\r\n    297389248\r\n    297389239\r\n    297389233\r\n    297389229\r\n    297389223\r\n    297389210\r\n    297389199\r\n    297389187\r\n    297389185[2]\r\n    297389173\r\n    297389059\r\n    297389046\r\n    297389024\r\n    297389016\r\n    297388972\r\n    297388963[2]\r\n    1371130778\r\n    296860409\r\n    296860406\r\n    296860387\r\n    296860360\r\n    296860311\r\n    296860283\r\n    296860280\r\n    296860251\r\n    296860246[2]\r\n    296860240\r\n    296860185\r\n    296860149\r\n    296860135\r\n    296860124\r\n    296860121\r\n    296860112\r\n    296860078\r\n    296860067\r\n    296860046[2]\r\n    296860036\r\n    296860032\r\n    296860019\r\n    296859985\r\n    296859945\r\n    1370601768\r\n    285674439\r\n    285674387\r\n    285674384\r\n    285674381\r\n    285674351\r\n    285674337\r\n    285674333\r\n    285674331\r\n    285674321\r\n    1359416077\r\n    334665057[4]\r\n     transaction 356175, 17 pages, maxspan 1\r\n    334665051\r\n    334639470\r\n    334639462\r\n    334621540\r\n    334350709\r\n    334257083\r\n    334095946\r\n    333668358\r\n    333629142\r\n    332664604\r\n    331690902\r\n    315925864\r\n    315427739\r\n    307167044\r\n    305124732\r\n    305035511\r\n      2479074\r\n     transaction 356176, 17 pages, maxspan 4\r\n    334665053[2]\r\n    334665048\r\n    334659750[4]\r\n    334659743[3]\r\n    334639523\r\n    284542474\r\n    282682511\r\n     81804507\r\n      2703662\r\n      2479567\r\n      2477421\r\n - problems: wrong idl entry (4)\r\n - summary: 3 records, 0 dups, 24 key's bytes, 608 data's bytes, 4 problems\r\n - space: 536870912 total pages, backed 335020032 (62.4%), allocated 334665058 (62.3%), remained 202205854 (37.7%), used 334664909 (62.3%), gc 149 (0.0%), detained 17 (0.0%), reclaimable 132 (0.0%), available 202205986 (37.7%)\r\nTotal 4 errors are detected, elapsed 0.001 seconds.\r\n```\r\n\r\n> 2. run `./build/bin/mdbx_chk -1 -d -vvvvv <datadir>/chaindata`\r\n\r\n```\r\n$ ./mdbx_chk -1 -d -vvvvv ~/data/chaindata\r\nmdbx_chk v0.10.1-15-g63e7276 (2021-06-18T15:13:51+03:00, T-1c2ca15627c5c4e72657c00530c8a9a71ccd5128)\r\nRunning for /home/erigon/data/chaindata in 'read-only' mode...\r\n   open-MADV_DONTNEED 334665058..335020032\r\n   readahead OFF 0..334665058\r\n - monopolistic mode\r\n - current boot-id a98c597a17115145-06e45e92b9c54e1f\r\n - pagesize 4096 (4096 system), max keysize 1980..2022, max readers 118\r\n - mapsize 2199023255552 (2.00 Tb)\r\n - dynamic datafile: 12288 (12.00 Kb) .. 2199023255552 (2.00 Tb), +2147483648 (2.00 Gb), -4096 (4.00 Kb)\r\n - current datafile: 1372242051072 (1.25 Tb), 335020032 pages\r\n - meta-0: steady txn#356176, tail\r\n - meta-1: steady txn#356177, stay, forced for checking\r\n - meta-2: steady txn#356178, head\r\n - skip checking meta-pages since the 1 is selected for verification\r\n - transactions: recent 356178, selected for verification 356177, lag 1\r\nSkipping b-tree walk...\r\nProcessing '@MAIN'...\r\n - key-value kind: usual-key => single-value, flags: none (0x00), dbi-id 1\r\n - page size 4096, entries 52\r\n - b-tree depth 1, pages: branch 0, leaf 1, overflow 0\r\n - summary: 52 records, 0 dups, 640 key's bytes, 2496 data's bytes, 0 problems\r\nProcessing '@GC'...\r\n - key-value kind: ordinal-key => single-value, flags: integerkey (0x08), dbi-id 0\r\n - last modification txn#356177\r\n - page size 4096, entries 3\r\n - b-tree depth 1, pages: branch 0, leaf 1, overflow 0\r\n - fixed key-size 8\r\n     entry #356175: wrong idl entry (pgno 2452399876 > backed-pages 335020032)\r\n     entry #356175: wrong idl entry (pgno 1371130778 > backed-pages 335020032)\r\n     entry #356175: wrong idl entry (pgno 1370601768 > backed-pages 335020032)\r\n     entry #356175: wrong idl entry (pgno 1359416077 > backed-pages 335020032)\r\n     transaction 356175, 115 pages, maxspan 4\r\n    304916365\r\n    304916326\r\n    304916309\r\n    304916302\r\n    304916276\r\n    304916257\r\n    304916250[2]\r\n    304916243\r\n    2452399876\r\n    297390424\r\n    297390418\r\n    297390410\r\n    297390297\r\n    297390277\r\n    297390262\r\n    297390234\r\n    297390203\r\n    297390138\r\n    297390070\r\n    297389991\r\n    297389932\r\n    297389918\r\n    297389889[2]\r\n    297389885\r\n    297389789\r\n    297389787\r\n    297389716\r\n    297389706\r\n    297389701\r\n    297389684\r\n    297389677\r\n    297389662\r\n    297389651\r\n    297389637\r\n    297389606\r\n    297389582\r\n    297389562\r\n    297389535\r\n    297389508\r\n    297389504\r\n    297389490\r\n    297389437\r\n    297389418\r\n    297389406\r\n    297389400\r\n    297389393\r\n    297389370\r\n    297389354\r\n    297389347\r\n    297389339\r\n    297389309\r\n    297389284\r\n    297389257\r\n    297389248\r\n    297389239\r\n    297389233\r\n    297389229\r\n    297389223\r\n    297389210\r\n    297389199\r\n    297389187\r\n    297389185[2]\r\n    297389173\r\n    297389059\r\n    297389046\r\n    297389024\r\n    297389016\r\n    297388972\r\n    297388963[2]\r\n    1371130778\r\n    296860409\r\n    296860406\r\n    296860387\r\n    296860360\r\n    296860311\r\n    296860283\r\n    296860280\r\n    296860251\r\n    296860246[2]\r\n    296860240\r\n    296860185\r\n    296860149\r\n    296860135\r\n    296860124\r\n    296860121\r\n    296860112\r\n    296860078\r\n    296860067\r\n    296860046[2]\r\n    296860036\r\n    296860032\r\n    296860019\r\n    296859985\r\n    296859945\r\n    1370601768\r\n    285674439\r\n    285674387\r\n    285674384\r\n    285674381\r\n    285674351\r\n    285674337\r\n    285674333\r\n    285674331\r\n    285674321\r\n    1359416077\r\n    334665057[4]\r\n     transaction 356176, 17 pages, maxspan 4\r\n    334665053[2]\r\n    334665048\r\n    334659750[4]\r\n    334659743[3]\r\n    334639523\r\n    284542474\r\n    282682511\r\n     81804507\r\n      2703662\r\n      2479567\r\n      2477421\r\n     transaction 356177, 17 pages, maxspan 2\r\n    334665050[2]\r\n    333521770\r\n    331873980\r\n    331773313\r\n    331734264\r\n    328657477\r\n    319217950\r\n    318790901\r\n    315802693\r\n    302664255\r\n    302377023\r\n    295141301\r\n    289819614\r\n      2520748\r\n      2506358\r\n      2477599\r\n - problems: wrong idl entry (4)\r\n - summary: 3 records, 0 dups, 24 key's bytes, 608 data's bytes, 4 problems\r\n - space: 536870912 total pages, backed 335020032 (62.4%), allocated 334665058 (62.3%), remained 202205854 (37.7%), used 334664909 (62.3%), gc 149 (0.0%), detained 17 (0.0%), reclaimable 132 (0.0%), available 202205986 (37.7%)\r\nTotal 4 errors are detected, elapsed 0.001 seconds.\r\n```\r\n\r\n> 3. run `./build/bin/mdbx_chk -2 -d -vvvvv <datadir>/chaindata`\r\n\r\n```\r\n$ ./mdbx_chk -2 -d -vvvvv ~/data/chaindata\r\nmdbx_chk v0.10.1-15-g63e7276 (2021-06-18T15:13:51+03:00, T-1c2ca15627c5c4e72657c00530c8a9a71ccd5128)\r\nRunning for /home/erigon/data/chaindata in 'read-only' mode...\r\n   open-MADV_DONTNEED 334665058..335020032\r\n   readahead OFF 0..334665058\r\n - monopolistic mode\r\n - current boot-id a98c597a17115145-06e45e92b9c54e1f\r\n - pagesize 4096 (4096 system), max keysize 1980..2022, max readers 118\r\n - mapsize 2199023255552 (2.00 Tb)\r\n - dynamic datafile: 12288 (12.00 Kb) .. 2199023255552 (2.00 Tb), +2147483648 (2.00 Gb), -4096 (4.00 Kb)\r\n - current datafile: 1372242051072 (1.25 Tb), 335020032 pages\r\n - meta-0: steady txn#356176, tail\r\n - meta-1: steady txn#356177, stay\r\n - meta-2: steady txn#356178, head, forced for checking\r\n - skip checking meta-pages since the 2 is selected for verification\r\n - transactions: recent 356178, selected for verification 356178, lag 0\r\nSkipping b-tree walk...\r\nProcessing '@MAIN'...\r\n - key-value kind: usual-key => single-value, flags: none (0x00), dbi-id 1\r\n - page size 4096, entries 52\r\n - b-tree depth 1, pages: branch 0, leaf 1, overflow 0\r\n - summary: 52 records, 0 dups, 640 key's bytes, 2496 data's bytes, 0 problems\r\nProcessing '@GC'...\r\n - key-value kind: ordinal-key => single-value, flags: integerkey (0x08), dbi-id 0\r\n - last modification txn#356178\r\n - page size 4096, entries 3\r\n - b-tree depth 1, pages: branch 0, leaf 1, overflow 0\r\n - fixed key-size 8\r\n     entry #356176: wrong idl entry (pgno 2452399876 > backed-pages 335020032)\r\n     entry #356176: wrong idl entry (pgno 1371130778 > backed-pages 335020032)\r\n     entry #356176: wrong idl entry (pgno 1370601768 > backed-pages 335020032)\r\n     entry #356176: wrong idl entry (pgno 1359416077 > backed-pages 335020032)\r\n     transaction 356176, 115 pages, maxspan 4\r\n    304916365\r\n    304916326\r\n    304916309\r\n    304916302\r\n    304916276\r\n    304916257\r\n    304916250[2]\r\n    304916243\r\n    2452399876\r\n    297390424\r\n    297390418\r\n    297390410\r\n    297390297\r\n    297390277\r\n    297390262\r\n    297390234\r\n    297390203\r\n    297390138\r\n    297390070\r\n    297389991\r\n    297389932\r\n    297389918\r\n    297389889[2]\r\n    297389885\r\n    297389789\r\n    297389787\r\n    297389716\r\n    297389706\r\n    297389701\r\n    297389684\r\n    297389677\r\n    297389662\r\n    297389651\r\n    297389637\r\n    297389606\r\n    297389582\r\n    297389562\r\n    297389535\r\n    297389508\r\n    297389504\r\n    297389490\r\n    297389437\r\n    297389418\r\n    297389406\r\n    297389400\r\n    297389393\r\n    297389370\r\n    297389354\r\n    297389347\r\n    297389339\r\n    297389309\r\n    297389284\r\n    297389257\r\n    297389248\r\n    297389239\r\n    297389233\r\n    297389229\r\n    297389223\r\n    297389210\r\n    297389199\r\n    297389187\r\n    297389185[2]\r\n    297389173\r\n    297389059\r\n    297389046\r\n    297389024\r\n    297389016\r\n    297388972\r\n    297388963[2]\r\n    1371130778\r\n    296860409\r\n    296860406\r\n    296860387\r\n    296860360\r\n    296860311\r\n    296860283\r\n    296860280\r\n    296860251\r\n    296860246[2]\r\n    296860240\r\n    296860185\r\n    296860149\r\n    296860135\r\n    296860124\r\n    296860121\r\n    296860112\r\n    296860078\r\n    296860067\r\n    296860046[2]\r\n    296860036\r\n    296860032\r\n    296860019\r\n    296859985\r\n    296859945\r\n    1370601768\r\n    285674439\r\n    285674387\r\n    285674384\r\n    285674381\r\n    285674351\r\n    285674337\r\n    285674333\r\n    285674331\r\n    285674321\r\n    1359416077\r\n    334665057[4]\r\n     transaction 356177, 17 pages, maxspan 2\r\n    334665050[2]\r\n    333521770\r\n    331873980\r\n    331773313\r\n    331734264\r\n    328657477\r\n    319217950\r\n    318790901\r\n    315802693\r\n    302664255\r\n    302377023\r\n    295141301\r\n    289819614\r\n      2520748\r\n      2506358\r\n      2477599\r\n     transaction 356178, 17 pages, maxspan 1\r\n    334665051\r\n    334639470\r\n    334639462\r\n    334621540\r\n    334350709\r\n    334257083\r\n    334095946\r\n    333668358\r\n    333629142\r\n    332664604\r\n    331690902\r\n    315925864\r\n    315427739\r\n    307167044\r\n    305124732\r\n    305035511\r\n      2479074\r\n - problems: wrong idl entry (4)\r\n - summary: 3 records, 0 dups, 24 key's bytes, 608 data's bytes, 4 problems\r\n - space: 536870912 total pages, backed 335020032 (62.4%), allocated 334665058 (62.3%), remained 202205854 (37.7%), used 334664909 (62.3%), gc 149 (0.0%), detained 17 (0.0%), reclaimable 132 (0.0%), available 202205986 (37.7%)\r\nTotal 4 errors are detected, elapsed 0.001 seconds.\r\n```\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/935163369/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/935578878",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/2777#issuecomment-935578878",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/2777",
    "id": 935578878,
    "node_id": "IC_kwDOC0FsAM43w8z-",
    "user": {
      "login": "erthink",
      "id": 6241554,
      "node_id": "MDQ6VXNlcjYyNDE1NTQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6241554?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/erthink",
      "html_url": "https://github.com/erthink",
      "followers_url": "https://api.github.com/users/erthink/followers",
      "following_url": "https://api.github.com/users/erthink/following{/other_user}",
      "gists_url": "https://api.github.com/users/erthink/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/erthink/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/erthink/subscriptions",
      "organizations_url": "https://api.github.com/users/erthink/orgs",
      "repos_url": "https://api.github.com/users/erthink/repos",
      "events_url": "https://api.github.com/users/erthink/events{/privacy}",
      "received_events_url": "https://api.github.com/users/erthink/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-10-06T06:37:24Z",
    "updated_at": "2021-10-06T06:45:18Z",
    "author_association": "CONTRIBUTOR",
    "body": "@NessDan, seems you got RAM glitches. Suggesting run the [memtestx86](https://www.memtest86.com/).\r\n\r\nIn details:\r\n- all three MVCC snapshots (pointed by each of the three meta-pages) have the same problem;\r\n- the problem is the GC' record #356176 has the four wrong entries (32-bit numbers) in the data;\r\n- each GC' record is a sorted list of page numbers which could be reused in corresponding conditions;\r\n- these four bad values seems like a good values with a single bit error:\r\n  ```\r\n         ...\r\n   304916243 = 0x122CA713\r\n  2452399876 = 0x122CA704 | 0x80000000\r\n   297390424 = 0x11B9D158\r\n         ...\r\n   297388963 = 0x11B9CBA4\r\n  1371130778 = 0x11B9CB9A | 0x40000000\r\n   296860409 = 0x11B1BAF9\r\n         ...\r\n   296859945 = 0x11B1B929\r\n  1370601768 = 0x11B1B928 | 0x40000000\r\n   285674439 = 0x11070BC7\r\n         ...\r\n   285674321 = 0x11070B51\r\n  1359416077 = 0x11070B0D | 0x40000000\r\n   334665057 = 0x13F29561\r\nMoreover, in three cases (except the last one), the values were properly sorted before the distortion. The last fourth case also confirms my assumption, because the observed order of numbers corresponds to the situation when the `334665057` is added to the list after these data in RAM is distorted.\r\n\r\nFor now I have no idea how such corruption could happen due to an error in _libmdbx_ or _Erigon_, except for RAM failures.\r\n@AskAlexSharov, FYI.",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/935578878/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 1,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/936262483",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/2777#issuecomment-936262483",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/2777",
    "id": 936262483,
    "node_id": "IC_kwDOC0FsAM43zjtT",
    "user": {
      "login": "NessDan",
      "id": 304269,
      "node_id": "MDQ6VXNlcjMwNDI2OQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/304269?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/NessDan",
      "html_url": "https://github.com/NessDan",
      "followers_url": "https://api.github.com/users/NessDan/followers",
      "following_url": "https://api.github.com/users/NessDan/following{/other_user}",
      "gists_url": "https://api.github.com/users/NessDan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/NessDan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/NessDan/subscriptions",
      "organizations_url": "https://api.github.com/users/NessDan/orgs",
      "repos_url": "https://api.github.com/users/NessDan/repos",
      "events_url": "https://api.github.com/users/NessDan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/NessDan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-10-06T13:44:07Z",
    "updated_at": "2021-10-06T13:44:37Z",
    "author_association": "NONE",
    "body": "@erthink thank you, I ran memtest and you were correct! \n\nI removed the faulty sticks. In the meantime is there anything I can do to repair the damage here?",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/936262483/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/936462078",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/2777#issuecomment-936462078",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/2777",
    "id": 936462078,
    "node_id": "IC_kwDOC0FsAM430Ub-",
    "user": {
      "login": "erthink",
      "id": 6241554,
      "node_id": "MDQ6VXNlcjYyNDE1NTQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6241554?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/erthink",
      "html_url": "https://github.com/erthink",
      "followers_url": "https://api.github.com/users/erthink/followers",
      "following_url": "https://api.github.com/users/erthink/following{/other_user}",
      "gists_url": "https://api.github.com/users/erthink/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/erthink/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/erthink/subscriptions",
      "organizations_url": "https://api.github.com/users/erthink/orgs",
      "repos_url": "https://api.github.com/users/erthink/repos",
      "events_url": "https://api.github.com/users/erthink/events{/privacy}",
      "received_events_url": "https://api.github.com/users/erthink/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-10-06T15:08:18Z",
    "updated_at": "2021-10-06T15:08:18Z",
    "author_association": "CONTRIBUTOR",
    "body": "> In the meantime is there anything I can do to repair the damage here?\r\n\r\nThis is a bad idea, since any of your data that has been written from RAM to disk may contain errors.\r\n\r\nIn many cases (if not the vast majority), you cannot be sure of the correctness of the data, even if there are checksums, since ones are calculated (mostly) when writing to disk, but not while stored in RAM. Moreover, all backups made using buggy RAM can be damaged in the same way.\r\n\r\nIn my opinion there is only one solution:\r\n- make backup of your most important data if any, but label this backup \"may be damaged\".\r\n- erase and reinstall whole system at all.\r\n\r\nP.S.\r\nusing ECC memory is not a bad idea.\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/936462078/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/937370773",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/2777#issuecomment-937370773",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/2777",
    "id": 937370773,
    "node_id": "IC_kwDOC0FsAM433ySV",
    "user": {
      "login": "NessDan",
      "id": 304269,
      "node_id": "MDQ6VXNlcjMwNDI2OQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/304269?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/NessDan",
      "html_url": "https://github.com/NessDan",
      "followers_url": "https://api.github.com/users/NessDan/followers",
      "following_url": "https://api.github.com/users/NessDan/following{/other_user}",
      "gists_url": "https://api.github.com/users/NessDan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/NessDan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/NessDan/subscriptions",
      "organizations_url": "https://api.github.com/users/NessDan/orgs",
      "repos_url": "https://api.github.com/users/NessDan/repos",
      "events_url": "https://api.github.com/users/NessDan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/NessDan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-10-07T01:25:38Z",
    "updated_at": "2021-10-07T01:25:38Z",
    "author_association": "NONE",
    "body": "Thank you for your help! I'll look into ECC Memory :)",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/937370773/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
