{
  "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/4030",
  "repository_url": "https://api.github.com/repos/ledgerwatch/erigon",
  "labels_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/4030/labels{/name}",
  "comments_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/4030/comments",
  "events_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/4030/events",
  "html_url": "https://github.com/ledgerwatch/erigon/issues/4030",
  "id": 1221549229,
  "node_id": "I_kwDOC0FsAM5Iz1yt",
  "number": 4030,
  "title": "eth_subscriptionLogs with topics filter problem",
  "user": {
    "login": "d-polikhranidi",
    "id": 76728763,
    "node_id": "MDQ6VXNlcjc2NzI4NzYz",
    "avatar_url": "https://avatars.githubusercontent.com/u/76728763?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/d-polikhranidi",
    "html_url": "https://github.com/d-polikhranidi",
    "followers_url": "https://api.github.com/users/d-polikhranidi/followers",
    "following_url": "https://api.github.com/users/d-polikhranidi/following{/other_user}",
    "gists_url": "https://api.github.com/users/d-polikhranidi/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/d-polikhranidi/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/d-polikhranidi/subscriptions",
    "organizations_url": "https://api.github.com/users/d-polikhranidi/orgs",
    "repos_url": "https://api.github.com/users/d-polikhranidi/repos",
    "events_url": "https://api.github.com/users/d-polikhranidi/events{/privacy}",
    "received_events_url": "https://api.github.com/users/d-polikhranidi/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 4406003490,
      "node_id": "LA_kwDOC0FsAM8AAAABBp5HIg",
      "url": "https://api.github.com/repos/ledgerwatch/erigon/labels/gateway",
      "name": "gateway",
      "color": "62DB33",
      "default": false,
      "description": "Issue assigned to gateway team"
    },
    {
      "id": 4479226498,
      "node_id": "LA_kwDOC0FsAM8AAAABCvuSgg",
      "url": "https://api.github.com/repos/ledgerwatch/erigon/labels/status:in-progress",
      "name": "status:in-progress",
      "color": "1DDFDF",
      "default": false,
      "description": "Actively being worked on (picked up by developer)"
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": {
    "login": "revitteth",
    "id": 693995,
    "node_id": "MDQ6VXNlcjY5Mzk5NQ==",
    "avatar_url": "https://avatars.githubusercontent.com/u/693995?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/revitteth",
    "html_url": "https://github.com/revitteth",
    "followers_url": "https://api.github.com/users/revitteth/followers",
    "following_url": "https://api.github.com/users/revitteth/following{/other_user}",
    "gists_url": "https://api.github.com/users/revitteth/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/revitteth/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/revitteth/subscriptions",
    "organizations_url": "https://api.github.com/users/revitteth/orgs",
    "repos_url": "https://api.github.com/users/revitteth/repos",
    "events_url": "https://api.github.com/users/revitteth/events{/privacy}",
    "received_events_url": "https://api.github.com/users/revitteth/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "revitteth",
      "id": 693995,
      "node_id": "MDQ6VXNlcjY5Mzk5NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/693995?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/revitteth",
      "html_url": "https://github.com/revitteth",
      "followers_url": "https://api.github.com/users/revitteth/followers",
      "following_url": "https://api.github.com/users/revitteth/following{/other_user}",
      "gists_url": "https://api.github.com/users/revitteth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/revitteth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/revitteth/subscriptions",
      "organizations_url": "https://api.github.com/users/revitteth/orgs",
      "repos_url": "https://api.github.com/users/revitteth/repos",
      "events_url": "https://api.github.com/users/revitteth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/revitteth/received_events",
      "type": "User",
      "site_admin": false
    },
    {
      "login": "primalcs",
      "id": 33655333,
      "node_id": "MDQ6VXNlcjMzNjU1MzMz",
      "avatar_url": "https://avatars.githubusercontent.com/u/33655333?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/primalcs",
      "html_url": "https://github.com/primalcs",
      "followers_url": "https://api.github.com/users/primalcs/followers",
      "following_url": "https://api.github.com/users/primalcs/following{/other_user}",
      "gists_url": "https://api.github.com/users/primalcs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/primalcs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/primalcs/subscriptions",
      "organizations_url": "https://api.github.com/users/primalcs/orgs",
      "repos_url": "https://api.github.com/users/primalcs/repos",
      "events_url": "https://api.github.com/users/primalcs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/primalcs/received_events",
      "type": "User",
      "site_admin": false
    },
    {
      "login": "hexoscott",
      "id": 70711990,
      "node_id": "MDQ6VXNlcjcwNzExOTkw",
      "avatar_url": "https://avatars.githubusercontent.com/u/70711990?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hexoscott",
      "html_url": "https://github.com/hexoscott",
      "followers_url": "https://api.github.com/users/hexoscott/followers",
      "following_url": "https://api.github.com/users/hexoscott/following{/other_user}",
      "gists_url": "https://api.github.com/users/hexoscott/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hexoscott/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hexoscott/subscriptions",
      "organizations_url": "https://api.github.com/users/hexoscott/orgs",
      "repos_url": "https://api.github.com/users/hexoscott/repos",
      "events_url": "https://api.github.com/users/hexoscott/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hexoscott/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 20,
  "created_at": "2022-04-29T21:14:24Z",
  "updated_at": "2023-02-27T08:00:00Z",
  "closed_at": "2023-02-27T07:59:59Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "#### System information\r\n\r\nErigon version: erigon version **2022.04.3-alpha-87421417**\r\n\r\nOS & Version: **Linux (Alpine 3.15.4 in Docker)**\r\n\r\nCommit hash : 8742141792f3fc8e9184b3188e823118074df681\r\n\r\n#### Expected behaviour\r\n\r\nWhen I'm subscribe to erigon node with topics filter - I must see transactions that corresponds to topics.\r\n\r\n#### Actual behaviour\r\n\r\nI see no any transactions at all, but they are (according to ETH/BSC explorer). If I don't use any filters (no topics) - I see all transactions, but I need only transactions with topics I'm interested in.\r\n\r\n#### Steps to reproduce the behaviour\r\n\r\n```\r\nconst Web3 = require(\"web3\");\r\nconst web3 = new Web3(new Web3.providers.WebsocketProvider(\"wss://NODE_IP:NODE_PORT\"));\r\n\r\nlet options = {\r\n    topics: [\r\n        null,\r\n        '0x0000000000000000000000002faf487a4414fe77e2327f0bf4ae2a264a776ad2',\r\n        null\r\n    ]\r\n};\r\n\r\nlet subscription = web3.eth.subscribe('logs', options, (err, event) => {\r\n    if (err) throw err;\r\n});\r\n\r\nsubscription.on('data', event => console.log(event))\r\nsubscription.on('changed', changed => console.log(changed))\r\nsubscription.on('error', err => { throw err })\r\nsubscription.on('connected', nr => console.log(nr))\r\n```\r\n\r\nThe minimal code above works well with gEth nodes and getblock.io node.\r\n\r\nSo, what I miss?\r\n",
  "closed_by": {
    "login": "hexoscott",
    "id": 70711990,
    "node_id": "MDQ6VXNlcjcwNzExOTkw",
    "avatar_url": "https://avatars.githubusercontent.com/u/70711990?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/hexoscott",
    "html_url": "https://github.com/hexoscott",
    "followers_url": "https://api.github.com/users/hexoscott/followers",
    "following_url": "https://api.github.com/users/hexoscott/following{/other_user}",
    "gists_url": "https://api.github.com/users/hexoscott/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/hexoscott/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/hexoscott/subscriptions",
    "organizations_url": "https://api.github.com/users/hexoscott/orgs",
    "repos_url": "https://api.github.com/users/hexoscott/repos",
    "events_url": "https://api.github.com/users/hexoscott/events{/privacy}",
    "received_events_url": "https://api.github.com/users/hexoscott/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/4030/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/4030/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1113964017",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/4030#issuecomment-1113964017",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/4030",
    "id": 1113964017,
    "node_id": "IC_kwDOC0FsAM5CZb3x",
    "user": {
      "login": "AskAlexSharov",
      "id": 46885206,
      "node_id": "MDQ6VXNlcjQ2ODg1MjA2",
      "avatar_url": "https://avatars.githubusercontent.com/u/46885206?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/AskAlexSharov",
      "html_url": "https://github.com/AskAlexSharov",
      "followers_url": "https://api.github.com/users/AskAlexSharov/followers",
      "following_url": "https://api.github.com/users/AskAlexSharov/following{/other_user}",
      "gists_url": "https://api.github.com/users/AskAlexSharov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/AskAlexSharov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/AskAlexSharov/subscriptions",
      "organizations_url": "https://api.github.com/users/AskAlexSharov/orgs",
      "repos_url": "https://api.github.com/users/AskAlexSharov/repos",
      "events_url": "https://api.github.com/users/AskAlexSharov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/AskAlexSharov/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-04-30T10:22:49Z",
    "updated_at": "2022-04-30T10:22:49Z",
    "author_association": "COLLABORATOR",
    "body": "I think subscription to logs not supported: https://github.com/ledgerwatch/erigon/tree/devel/cmd/rpcdaemon#rpc-implementation-status\r\neth_getLogs - works and fast",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1113964017/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1113964767",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/4030#issuecomment-1113964767",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/4030",
    "id": 1113964767,
    "node_id": "IC_kwDOC0FsAM5CZcDf",
    "user": {
      "login": "d-polikhranidi",
      "id": 76728763,
      "node_id": "MDQ6VXNlcjc2NzI4NzYz",
      "avatar_url": "https://avatars.githubusercontent.com/u/76728763?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/d-polikhranidi",
      "html_url": "https://github.com/d-polikhranidi",
      "followers_url": "https://api.github.com/users/d-polikhranidi/followers",
      "following_url": "https://api.github.com/users/d-polikhranidi/following{/other_user}",
      "gists_url": "https://api.github.com/users/d-polikhranidi/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/d-polikhranidi/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/d-polikhranidi/subscriptions",
      "organizations_url": "https://api.github.com/users/d-polikhranidi/orgs",
      "repos_url": "https://api.github.com/users/d-polikhranidi/repos",
      "events_url": "https://api.github.com/users/d-polikhranidi/events{/privacy}",
      "received_events_url": "https://api.github.com/users/d-polikhranidi/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-04-30T10:30:11Z",
    "updated_at": "2022-04-30T10:30:11Z",
    "author_association": "NONE",
    "body": "> I think subscription to logs not supported: https://github.com/ledgerwatch/erigon/tree/devel/cmd/rpcdaemon#rpc-implementation-status\r\n> eth_getLogs - works and fast\r\n\r\nBut subscription to logs without topics - works great\r\n\r\n```\r\nconst Web3 = require(\"web3\");\r\nconst web3 = new Web3(new Web3.providers.WebsocketProvider(\"wss://NODE_IP:NODE_PORT\"));\r\n\r\nlet subscription = web3.eth.subscribe('logs', {}, (err, event) => {\r\n    if (err) throw err;\r\n});\r\n\r\nsubscription.on('data', event => console.log(event))\r\nsubscription.on('changed', changed => console.log(changed))\r\nsubscription.on('error', err => { throw err })\r\nsubscription.on('connected', nr => console.log(nr))\r\n```\r\n\r\nThis works. But when I add `topics` to options it's shows nothing((",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1113964767/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1113979474",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/4030#issuecomment-1113979474",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/4030",
    "id": 1113979474,
    "node_id": "IC_kwDOC0FsAM5CZfpS",
    "user": {
      "login": "AskAlexSharov",
      "id": 46885206,
      "node_id": "MDQ6VXNlcjQ2ODg1MjA2",
      "avatar_url": "https://avatars.githubusercontent.com/u/46885206?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/AskAlexSharov",
      "html_url": "https://github.com/AskAlexSharov",
      "followers_url": "https://api.github.com/users/AskAlexSharov/followers",
      "following_url": "https://api.github.com/users/AskAlexSharov/following{/other_user}",
      "gists_url": "https://api.github.com/users/AskAlexSharov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/AskAlexSharov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/AskAlexSharov/subscriptions",
      "organizations_url": "https://api.github.com/users/AskAlexSharov/orgs",
      "repos_url": "https://api.github.com/users/AskAlexSharov/repos",
      "events_url": "https://api.github.com/users/AskAlexSharov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/AskAlexSharov/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-04-30T12:19:33Z",
    "updated_at": "2022-04-30T12:19:33Z",
    "author_association": "COLLABORATOR",
    "body": "Donâ€™t know, maybe bug. Need somebody to check. ",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1113979474/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1164148862",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/4030#issuecomment-1164148862",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/4030",
    "id": 1164148862,
    "node_id": "IC_kwDOC0FsAM5FY4B-",
    "user": {
      "login": "primalcs",
      "id": 33655333,
      "node_id": "MDQ6VXNlcjMzNjU1MzMz",
      "avatar_url": "https://avatars.githubusercontent.com/u/33655333?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/primalcs",
      "html_url": "https://github.com/primalcs",
      "followers_url": "https://api.github.com/users/primalcs/followers",
      "following_url": "https://api.github.com/users/primalcs/following{/other_user}",
      "gists_url": "https://api.github.com/users/primalcs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/primalcs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/primalcs/subscriptions",
      "organizations_url": "https://api.github.com/users/primalcs/orgs",
      "repos_url": "https://api.github.com/users/primalcs/repos",
      "events_url": "https://api.github.com/users/primalcs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/primalcs/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-06-23T09:04:20Z",
    "updated_at": "2022-06-23T09:04:20Z",
    "author_association": "CONTRIBUTOR",
    "body": "Could you please try \r\n`let options = {\r\n    topics: [\r\n        '0x0000000000000000000000002faf487a4414fe77e2327f0bf4ae2a264a776ad2'\r\n    ]\r\n};`\r\n\r\ninstead of \r\n`\r\nlet options = {\r\n    topics: [\r\n        null,\r\n        '0x0000000000000000000000002faf487a4414fe77e2327f0bf4ae2a264a776ad2',\r\n        null\r\n    ]\r\n};` \r\n?\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1164148862/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1169555051",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/4030#issuecomment-1169555051",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/4030",
    "id": 1169555051,
    "node_id": "IC_kwDOC0FsAM5Ftf5r",
    "user": {
      "login": "dan-nathan",
      "id": 88816794,
      "node_id": "MDQ6VXNlcjg4ODE2Nzk0",
      "avatar_url": "https://avatars.githubusercontent.com/u/88816794?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dan-nathan",
      "html_url": "https://github.com/dan-nathan",
      "followers_url": "https://api.github.com/users/dan-nathan/followers",
      "following_url": "https://api.github.com/users/dan-nathan/following{/other_user}",
      "gists_url": "https://api.github.com/users/dan-nathan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dan-nathan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dan-nathan/subscriptions",
      "organizations_url": "https://api.github.com/users/dan-nathan/orgs",
      "repos_url": "https://api.github.com/users/dan-nathan/repos",
      "events_url": "https://api.github.com/users/dan-nathan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dan-nathan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-06-29T05:39:47Z",
    "updated_at": "2022-06-29T05:41:01Z",
    "author_association": "NONE",
    "body": "I'm running similar issues with my erigon node running on Ubuntu 22.04 on commit aa798534. If I only have one log subscription it works fine, but running multiple at once with different topic/address queries causes unexpected behaviour. I'm testing using go-ethereum with this simple program, which subscribes to logs with the option to filter by address `0xdac17f958d2ee523a2206206994597c13d831ec7` (USDT) using the flag `-usdt`, and the option to filter by topics `[\"0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef\"]` (ERC20 Transfer event hash) using the flag `-erc20`\r\n\r\n```\r\npackage main\r\n\r\nimport (\r\n\t\"context\"\r\n\t\"flag\"\r\n\t\"fmt\"\r\n\t\"os\"\r\n\r\n\tethereum \"github.com/ethereum/go-ethereum\"\r\n\tethCommon \"github.com/ethereum/go-ethereum/common\"\r\n\t\"github.com/ethereum/go-ethereum/core/types\"\r\n\tethClient \"github.com/ethereum/go-ethereum/ethclient\"\r\n)\r\n\r\nconst (\r\n\tusdtAddress         = \"0xdac17f958d2ee523a2206206994597c13d831ec7\"\r\n\terc20TransferTopic0 = \"0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef\"\r\n)\r\n\r\nfunc main() {\r\n\twebsocketAddress := os.Getenv(\"ERIGON_WEBSOCKET_URL\")\r\n\tif websocketAddress == \"\" {\r\n\t\tfmt.Println(\"Please set ERIGON_WEBSOCKET_URL environment variable\")\r\n\t\treturn\r\n\t}\r\n\tclient, err := ethClient.Dial(websocketAddress)\r\n\tif err != nil {\r\n\t\tfmt.Printf(\"Failed to connect to websocket: %v\\n\", err)\r\n\t\treturn\r\n\t}\r\n\r\n\terc20, uniswap := parseCliArgs()\r\n\r\n\tvar filter ethereum.FilterQuery\r\n\tif erc20 {\r\n\t\tfilter.Topics = [][]ethCommon.Hash{{ethCommon.HexToHash(erc20TransferTopic0)}}\r\n\t}\r\n\tif uniswap {\r\n\t\tfilter.Addresses = []ethCommon.Address{ethCommon.HexToAddress(usdtAddress)}\r\n\t}\r\n\r\n\treceivedLogs := make(chan types.Log)\r\n\tsubscription, err := client.SubscribeFilterLogs(context.Background(), filter, receivedLogs)\r\n\tif err != nil {\r\n\t\tfmt.Printf(\"Unable to create subscription: %v\\n\", err)\r\n\t\treturn\r\n\t}\r\n\tdefer subscription.Unsubscribe()\r\n\tfmt.Println(\"Subscription successful\")\r\n\terrChan := subscription.Err()\r\n\r\n\tfor {\r\n\t\tselect {\r\n\t\tcase log := <-receivedLogs:\r\n\t\t\tfmt.Printf(\"Received log %d of block %d from address %s and topic0 %s\\n\",\r\n\t\t\t\tlog.Index,\r\n\t\t\t\tlog.BlockNumber,\r\n\t\t\t\tlog.Address.String(),\r\n\t\t\t\tlog.Topics[0].String(),\r\n\t\t\t)\r\n\t\tcase err := <-errChan:\r\n\t\t\tfmt.Printf(\"Subscription error encountered: %v\\n\", err)\r\n\t\t\treturn\r\n\t\t}\r\n\t}\r\n}\r\n\r\n// Parses command line flags, and returns whether or not to filter by the ERC20\r\n// transfer topic 0 hash, and whether or not to filter by USDT address\r\nfunc parseCliArgs() (bool, bool) {\r\n\terc20TransferFlag := flag.Bool(\"erc20\", false, \"Whether to filter logs by topic 0 hash \"+erc20TransferTopic0)\r\n\tusdtFlag := flag.Bool(\"usdt\", false, \"Whether to filter logs by address \"+usdtAddress)\r\n\tflag.Parse()\r\n\treturn *erc20TransferFlag, *usdtFlag\r\n}\r\n```\r\nWhen I run this program multiple time concurrently, I get the following behaviour:\r\n- Running one with no flags and one with the `-erc20` flag, neither receive any logs\r\n- Running one with no flags and one with the `-usdt` flag, neither receive any logs\r\n- Running one with no flags, one with the `-erc20` flag, and one with both flags, the former two erroneously only receive logs from the usdt address\r\n- Running one with no flags, one with the `-usdt` flag, and one with both flags, the former two erroneously only receive logs with the erc20 transfer topic 0 hash\r\n- Running one with no flags, one with the `-usdt` flag, one with the `-erc20` flag, and one with both flags, all four only receive logs with the erc20 transfer topic 0 hash from the usdt address\r\n- Running one with the `-usdt` flag, one with the `-erc20` flag, and one with both flags, all behave as expected\r\n- Running one with no flags, and one with both flags, both behave as expected",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1169555051/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1208196384",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/4030#issuecomment-1208196384",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/4030",
    "id": 1208196384,
    "node_id": "IC_kwDOC0FsAM5IA50g",
    "user": {
      "login": "samsondav",
      "id": 4147639,
      "node_id": "MDQ6VXNlcjQxNDc2Mzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4147639?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/samsondav",
      "html_url": "https://github.com/samsondav",
      "followers_url": "https://api.github.com/users/samsondav/followers",
      "following_url": "https://api.github.com/users/samsondav/following{/other_user}",
      "gists_url": "https://api.github.com/users/samsondav/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/samsondav/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/samsondav/subscriptions",
      "organizations_url": "https://api.github.com/users/samsondav/orgs",
      "repos_url": "https://api.github.com/users/samsondav/repos",
      "events_url": "https://api.github.com/users/samsondav/events{/privacy}",
      "received_events_url": "https://api.github.com/users/samsondav/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-08-08T14:21:56Z",
    "updated_at": "2022-08-08T14:22:06Z",
    "author_association": "NONE",
    "body": "This is a blocking bug for us to use Chainlink with Erigon. We require topic filtering on log streams.\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1208196384/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1249379190",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/4030#issuecomment-1249379190",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/4030",
    "id": 1249379190,
    "node_id": "IC_kwDOC0FsAM5KeAN2",
    "user": {
      "login": "revitteth",
      "id": 693995,
      "node_id": "MDQ6VXNlcjY5Mzk5NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/693995?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/revitteth",
      "html_url": "https://github.com/revitteth",
      "followers_url": "https://api.github.com/users/revitteth/followers",
      "following_url": "https://api.github.com/users/revitteth/following{/other_user}",
      "gists_url": "https://api.github.com/users/revitteth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/revitteth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/revitteth/subscriptions",
      "organizations_url": "https://api.github.com/users/revitteth/orgs",
      "repos_url": "https://api.github.com/users/revitteth/repos",
      "events_url": "https://api.github.com/users/revitteth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/revitteth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-09-16T13:39:57Z",
    "updated_at": "2022-09-16T13:39:57Z",
    "author_association": "CONTRIBUTOR",
    "body": "Closing issue as fix is merged.",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1249379190/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1259340452",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/4030#issuecomment-1259340452",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/4030",
    "id": 1259340452,
    "node_id": "IC_kwDOC0FsAM5LEAKk",
    "user": {
      "login": "rcastellaj",
      "id": 110826146,
      "node_id": "U_kgDOBpsSog",
      "avatar_url": "https://avatars.githubusercontent.com/u/110826146?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rcastellaj",
      "html_url": "https://github.com/rcastellaj",
      "followers_url": "https://api.github.com/users/rcastellaj/followers",
      "following_url": "https://api.github.com/users/rcastellaj/following{/other_user}",
      "gists_url": "https://api.github.com/users/rcastellaj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rcastellaj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rcastellaj/subscriptions",
      "organizations_url": "https://api.github.com/users/rcastellaj/orgs",
      "repos_url": "https://api.github.com/users/rcastellaj/repos",
      "events_url": "https://api.github.com/users/rcastellaj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rcastellaj/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-09-27T11:05:17Z",
    "updated_at": "2022-09-27T11:05:17Z",
    "author_association": "NONE",
    "body": "I'm not sure this is fixed, as we continue to see this issue. I cannot use eth_getLogs with any filters (address, topics). I can only get the full bloom from a log range. It's not the end of the world as I can filter in the client, but it adds a lot of latency and bandwidth requirements which in turn make it lose its advantage against geth.",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1259340452/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1260708599",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/4030#issuecomment-1260708599",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/4030",
    "id": 1260708599,
    "node_id": "IC_kwDOC0FsAM5LJOL3",
    "user": {
      "login": "hexoscott",
      "id": 70711990,
      "node_id": "MDQ6VXNlcjcwNzExOTkw",
      "avatar_url": "https://avatars.githubusercontent.com/u/70711990?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hexoscott",
      "html_url": "https://github.com/hexoscott",
      "followers_url": "https://api.github.com/users/hexoscott/followers",
      "following_url": "https://api.github.com/users/hexoscott/following{/other_user}",
      "gists_url": "https://api.github.com/users/hexoscott/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hexoscott/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hexoscott/subscriptions",
      "organizations_url": "https://api.github.com/users/hexoscott/orgs",
      "repos_url": "https://api.github.com/users/hexoscott/repos",
      "events_url": "https://api.github.com/users/hexoscott/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hexoscott/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-09-28T10:30:09Z",
    "updated_at": "2022-09-28T10:30:09Z",
    "author_association": "CONTRIBUTOR",
    "body": "Hi @rcastellaj, could you send some examples over of what you're running and I can take another look, thanks.\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1260708599/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1405400071",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/4030#issuecomment-1405400071",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/4030",
    "id": 1405400071,
    "node_id": "IC_kwDOC0FsAM5TxLQH",
    "user": {
      "login": "drcliche",
      "id": 88987979,
      "node_id": "MDQ6VXNlcjg4OTg3OTc5",
      "avatar_url": "https://avatars.githubusercontent.com/u/88987979?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/drcliche",
      "html_url": "https://github.com/drcliche",
      "followers_url": "https://api.github.com/users/drcliche/followers",
      "following_url": "https://api.github.com/users/drcliche/following{/other_user}",
      "gists_url": "https://api.github.com/users/drcliche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/drcliche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/drcliche/subscriptions",
      "organizations_url": "https://api.github.com/users/drcliche/orgs",
      "repos_url": "https://api.github.com/users/drcliche/repos",
      "events_url": "https://api.github.com/users/drcliche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/drcliche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-01-26T18:09:02Z",
    "updated_at": "2023-01-26T18:09:02Z",
    "author_association": "NONE",
    "body": "@hexoscott This looks related to a similar issue with examples of usage and intermittent/different responses being generated: https://github.com/ledgerwatch/erigon/issues/6598",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1405400071/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1419253179",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/4030#issuecomment-1419253179",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/4030",
    "id": 1419253179,
    "node_id": "IC_kwDOC0FsAM5UmBW7",
    "user": {
      "login": "danieloadebimpe",
      "id": 62970277,
      "node_id": "MDQ6VXNlcjYyOTcwMjc3",
      "avatar_url": "https://avatars.githubusercontent.com/u/62970277?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/danieloadebimpe",
      "html_url": "https://github.com/danieloadebimpe",
      "followers_url": "https://api.github.com/users/danieloadebimpe/followers",
      "following_url": "https://api.github.com/users/danieloadebimpe/following{/other_user}",
      "gists_url": "https://api.github.com/users/danieloadebimpe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/danieloadebimpe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/danieloadebimpe/subscriptions",
      "organizations_url": "https://api.github.com/users/danieloadebimpe/orgs",
      "repos_url": "https://api.github.com/users/danieloadebimpe/repos",
      "events_url": "https://api.github.com/users/danieloadebimpe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/danieloadebimpe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-02-06T15:19:27Z",
    "updated_at": "2023-02-06T15:20:17Z",
    "author_association": "NONE",
    "body": "I don't believe this was fixed. As @samsondav said, this is required for chainlink. \r\n\r\nI am running erigon v2.36.0 and I get the following error when trying to subscribe to a topic on goerli:\r\n```\r\nroot@ip<erigonIP> bin]# curl -H \"Content-Type: application/json\" -X POST --data '{\"jsonrpc\":\"2.0\",\"method\":\"eth_subscribe\",\"params\":[\"logs\", {\"address\": \"0x005B0d11379c4c04C0B726eE0BE55feb50b59f81\", \"topics\":[\"0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef\"]}], \"id\":1}' <Node address and port>\r\n{\"jsonrpc\":\"2.0\",\"id\":1,\"error\":{\"code\":-32000,\"message\":\"notifications not supported\"}}\r\n```\r\n\r\nMy system info:\r\nKernel -> Linux version 4.14.243-185.433.amzn2.x86_64  \r\nDistribution -> (gcc version 7.3.1 20180712 (Red Hat 7.3.1-13) (GCC))\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1419253179/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1419255311",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/4030#issuecomment-1419255311",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/4030",
    "id": 1419255311,
    "node_id": "IC_kwDOC0FsAM5UmB4P",
    "user": {
      "login": "hexoscott",
      "id": 70711990,
      "node_id": "MDQ6VXNlcjcwNzExOTkw",
      "avatar_url": "https://avatars.githubusercontent.com/u/70711990?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hexoscott",
      "html_url": "https://github.com/hexoscott",
      "followers_url": "https://api.github.com/users/hexoscott/followers",
      "following_url": "https://api.github.com/users/hexoscott/following{/other_user}",
      "gists_url": "https://api.github.com/users/hexoscott/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hexoscott/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hexoscott/subscriptions",
      "organizations_url": "https://api.github.com/users/hexoscott/orgs",
      "repos_url": "https://api.github.com/users/hexoscott/repos",
      "events_url": "https://api.github.com/users/hexoscott/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hexoscott/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-02-06T15:20:47Z",
    "updated_at": "2023-02-06T15:20:47Z",
    "author_association": "CONTRIBUTOR",
    "body": "I'm taking a look into this now, could you send me the flags you're using @danieloadebimpe please",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1419255311/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1419258078",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/4030#issuecomment-1419258078",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/4030",
    "id": 1419258078,
    "node_id": "IC_kwDOC0FsAM5UmCje",
    "user": {
      "login": "danieloadebimpe",
      "id": 62970277,
      "node_id": "MDQ6VXNlcjYyOTcwMjc3",
      "avatar_url": "https://avatars.githubusercontent.com/u/62970277?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/danieloadebimpe",
      "html_url": "https://github.com/danieloadebimpe",
      "followers_url": "https://api.github.com/users/danieloadebimpe/followers",
      "following_url": "https://api.github.com/users/danieloadebimpe/following{/other_user}",
      "gists_url": "https://api.github.com/users/danieloadebimpe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/danieloadebimpe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/danieloadebimpe/subscriptions",
      "organizations_url": "https://api.github.com/users/danieloadebimpe/orgs",
      "repos_url": "https://api.github.com/users/danieloadebimpe/repos",
      "events_url": "https://api.github.com/users/danieloadebimpe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/danieloadebimpe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-02-06T15:22:20Z",
    "updated_at": "2023-02-06T15:22:20Z",
    "author_association": "NONE",
    "body": "@hexoscott \r\n```\r\ncommand:\r\n      - erigon\r\n      - --datadir=/home/erigon/.local/share/erigon\r\n      - --authrpc.jwtsecret=/home/erigon/.local/share/erigon/jwt.hex\r\n      - --chain=goerli\r\n      - --externalcl\r\n      - --private.api.addr=0.0.0.0:9090\r\n      - --http\r\n      - --http.port=8546\r\n      - --http.api=eth,erigon,engine,net,web3\r\n      - --snapshots=false\r\n      - --rpc.accessList=/home/erigon/rules.json\r\n      - --http.addr=0.0.0.0\r\n      - --http.vhosts=*\r\n      - --ws\r\n      - --metrics\r\n      - --metrics.port=6060\r\n      - --authrpc.addr=0.0.0.0\r\n      - --authrpc.port=8551\r\n      - --authrpc.vhosts=*\r\n      ```",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1419258078/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1419283624",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/4030#issuecomment-1419283624",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/4030",
    "id": 1419283624,
    "node_id": "IC_kwDOC0FsAM5UmIyo",
    "user": {
      "login": "hexoscott",
      "id": 70711990,
      "node_id": "MDQ6VXNlcjcwNzExOTkw",
      "avatar_url": "https://avatars.githubusercontent.com/u/70711990?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hexoscott",
      "html_url": "https://github.com/hexoscott",
      "followers_url": "https://api.github.com/users/hexoscott/followers",
      "following_url": "https://api.github.com/users/hexoscott/following{/other_user}",
      "gists_url": "https://api.github.com/users/hexoscott/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hexoscott/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hexoscott/subscriptions",
      "organizations_url": "https://api.github.com/users/hexoscott/orgs",
      "repos_url": "https://api.github.com/users/hexoscott/repos",
      "events_url": "https://api.github.com/users/hexoscott/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hexoscott/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-02-06T15:36:10Z",
    "updated_at": "2023-02-06T15:36:10Z",
    "author_association": "CONTRIBUTOR",
    "body": "Just a quick check that eth_subscribe is in your rules.json?",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1419283624/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1419319105",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/4030#issuecomment-1419319105",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/4030",
    "id": 1419319105,
    "node_id": "IC_kwDOC0FsAM5UmRdB",
    "user": {
      "login": "danieloadebimpe",
      "id": 62970277,
      "node_id": "MDQ6VXNlcjYyOTcwMjc3",
      "avatar_url": "https://avatars.githubusercontent.com/u/62970277?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/danieloadebimpe",
      "html_url": "https://github.com/danieloadebimpe",
      "followers_url": "https://api.github.com/users/danieloadebimpe/followers",
      "following_url": "https://api.github.com/users/danieloadebimpe/following{/other_user}",
      "gists_url": "https://api.github.com/users/danieloadebimpe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/danieloadebimpe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/danieloadebimpe/subscriptions",
      "organizations_url": "https://api.github.com/users/danieloadebimpe/orgs",
      "repos_url": "https://api.github.com/users/danieloadebimpe/repos",
      "events_url": "https://api.github.com/users/danieloadebimpe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/danieloadebimpe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-02-06T15:58:48Z",
    "updated_at": "2023-02-06T15:59:32Z",
    "author_association": "NONE",
    "body": "Yes, heres the file:\r\n```~ $ cat rules.json\r\n{ \"allow\": [ \"web3_clientVersion\", \"web3_sha3\", \"net_listening\", \"net_peerCount\", \"net_version\", \"eth_blockNumber\", \"eth_chainID\", \"eth_chainId\", \"eth_protocolVersion\", \"eth_syncing\", \"eth_gasPrice\",\r\n    \"eth_maxPriorityFeePerGas\", \"eth_feeHistory\", \"eth_getBlockByHash\", \"eth_getBlockByNumber\", \"eth_getBlockTransactionCountByHash\", \"eth_getBlockTransactionCountByNumber\",\r\n    \"eth_getUncleByBlockHashAndIndex\", \"eth_getUncleByBlockNumberAndIndex\", \"eth_getUncleCountByBlockHash\", \"eth_getUncleCountByBlockNumber\", \"eth_getTransactionByHash\", \"eth_getRawTransactionByHash\",\r\n    \"eth_getTransactionByBlockHashAndIndex\", \"eth_retRawTransactionByBlockHashAndIndex\", \"eth_getTransactionByBlockNumberAndIndex\", \"eth_retRawTransactionByBlockNumberAndIndex\",\r\n    \"eth_getTransactionReceipt\", \"eth_getBlockReceipts\", \"eth_estimateGas\", \"eth_getBalance\", \"eth_getCode\", \"eth_getTransactionCount\", \"eth_getStorageAt\", \"eth_call\", \"eth_callBundle\",\r\n    \"eth_createAccessList\", \"eth_newFilter\", \"eth_newBlockFilter\", \"eth_newPendingTransactionFilter\", \"eth_getFilterChanges\", \"eth_getFilterLogs\", \"eth_uninstallFilter\",\r\n    \"eth_getLogs\", \"eth_getProof\", \"eth_sendRawTransaction\", \"eth_coinbase\", \"eth_hashrate\", \"eth_submitHashrate\", \"eth_getWork\", \"eth_submitWork\", \"**eth_subscribe**\", \"eth_unsubscribe\",\r\n    \"debug_accountRange\", \"debug_accountAt\", \"debug_getModifiedAccountsByNumber\", \"debug_getModifiedAccountsByHash\", \"debug_storageRangeAt\", \"debug_traceBlockByHash\", \"debug_traceBlockByNumber\",\r\n    \"debug_traceTransaction\", \"debug_traceCall\", \"trace_call\", \"trace_callMany\", \"trace_rawTransaction\", \"trace_replayBlockTransactions\", \"trace_replayTransaction\", \"trace_block\", \"trace_filter\",\r\n    \"trace_get\", \"trace_transaction\", \"txpool_content\", \"txpool_status\", \"erigon_getHeaderByHash\", \"erigon_getHeaderByNumber\", \"erigon_getLogsByHash\", \"erigon_forks\", \"erigon_issuance\",\r\n    \"erigon_GetBlockByTimestamp\"\r\n  ]\r\n}\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1419319105/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1419322263",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/4030#issuecomment-1419322263",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/4030",
    "id": 1419322263,
    "node_id": "IC_kwDOC0FsAM5UmSOX",
    "user": {
      "login": "hexoscott",
      "id": 70711990,
      "node_id": "MDQ6VXNlcjcwNzExOTkw",
      "avatar_url": "https://avatars.githubusercontent.com/u/70711990?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hexoscott",
      "html_url": "https://github.com/hexoscott",
      "followers_url": "https://api.github.com/users/hexoscott/followers",
      "following_url": "https://api.github.com/users/hexoscott/following{/other_user}",
      "gists_url": "https://api.github.com/users/hexoscott/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hexoscott/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hexoscott/subscriptions",
      "organizations_url": "https://api.github.com/users/hexoscott/orgs",
      "repos_url": "https://api.github.com/users/hexoscott/repos",
      "events_url": "https://api.github.com/users/hexoscott/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hexoscott/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-02-06T16:00:50Z",
    "updated_at": "2023-02-06T16:00:50Z",
    "author_association": "CONTRIBUTOR",
    "body": "Ah I see the issue here, you need to open a websocket connection to erigon first then send your request via that.  Subscriptions are only enabled via sockets.\n\nYou'll get back a subscription ID which you can then use to cancel the subscription in the future if you wish.\n\nAn example sent via postman:\n\n\n![Image](https://user-images.githubusercontent.com/70711990/217021340-5f8bf622-3b54-4609-a36a-a2557e21a166.png)\n\n",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1419322263/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1433753750",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/4030#issuecomment-1433753750",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/4030",
    "id": 1433753750,
    "node_id": "IC_kwDOC0FsAM5VdViW",
    "user": {
      "login": "ca42",
      "id": 41489329,
      "node_id": "MDQ6VXNlcjQxNDg5MzI5",
      "avatar_url": "https://avatars.githubusercontent.com/u/41489329?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ca42",
      "html_url": "https://github.com/ca42",
      "followers_url": "https://api.github.com/users/ca42/followers",
      "following_url": "https://api.github.com/users/ca42/following{/other_user}",
      "gists_url": "https://api.github.com/users/ca42/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ca42/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ca42/subscriptions",
      "organizations_url": "https://api.github.com/users/ca42/orgs",
      "repos_url": "https://api.github.com/users/ca42/repos",
      "events_url": "https://api.github.com/users/ca42/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ca42/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-02-16T21:45:38Z",
    "updated_at": "2023-02-16T21:45:38Z",
    "author_association": "NONE",
    "body": "@hexoscott is this issue being actively worked on?  we've been seeing this issue with eth_getLogs per #6598.  is there any additional info i could provide which would be helpful?",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1433753750/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1436606363",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/4030#issuecomment-1436606363",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/4030",
    "id": 1436606363,
    "node_id": "IC_kwDOC0FsAM5VoN-b",
    "user": {
      "login": "hexoscott",
      "id": 70711990,
      "node_id": "MDQ6VXNlcjcwNzExOTkw",
      "avatar_url": "https://avatars.githubusercontent.com/u/70711990?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hexoscott",
      "html_url": "https://github.com/hexoscott",
      "followers_url": "https://api.github.com/users/hexoscott/followers",
      "following_url": "https://api.github.com/users/hexoscott/following{/other_user}",
      "gists_url": "https://api.github.com/users/hexoscott/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hexoscott/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hexoscott/subscriptions",
      "organizations_url": "https://api.github.com/users/hexoscott/orgs",
      "repos_url": "https://api.github.com/users/hexoscott/repos",
      "events_url": "https://api.github.com/users/hexoscott/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hexoscott/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-02-20T09:18:59Z",
    "updated_at": "2023-02-20T09:18:59Z",
    "author_association": "CONTRIBUTOR",
    "body": "Hi @ca42, it is, but I'm juggling it with other issues.  I'll be taking another look into this today.",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1436606363/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1436912454",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/4030#issuecomment-1436912454",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/4030",
    "id": 1436912454,
    "node_id": "IC_kwDOC0FsAM5VpYtG",
    "user": {
      "login": "hexoscott",
      "id": 70711990,
      "node_id": "MDQ6VXNlcjcwNzExOTkw",
      "avatar_url": "https://avatars.githubusercontent.com/u/70711990?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hexoscott",
      "html_url": "https://github.com/hexoscott",
      "followers_url": "https://api.github.com/users/hexoscott/followers",
      "following_url": "https://api.github.com/users/hexoscott/following{/other_user}",
      "gists_url": "https://api.github.com/users/hexoscott/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hexoscott/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hexoscott/subscriptions",
      "organizations_url": "https://api.github.com/users/hexoscott/orgs",
      "repos_url": "https://api.github.com/users/hexoscott/repos",
      "events_url": "https://api.github.com/users/hexoscott/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hexoscott/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-02-20T12:20:01Z",
    "updated_at": "2023-02-20T12:20:01Z",
    "author_association": "CONTRIBUTOR",
    "body": "@ca42 - do you have any recent examples that are re-produceable?  Could you let me know the chain as well.",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1436912454/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1445866081",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/4030#issuecomment-1445866081",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/4030",
    "id": 1445866081,
    "node_id": "IC_kwDOC0FsAM5WLiph",
    "user": {
      "login": "hexoscott",
      "id": 70711990,
      "node_id": "MDQ6VXNlcjcwNzExOTkw",
      "avatar_url": "https://avatars.githubusercontent.com/u/70711990?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hexoscott",
      "html_url": "https://github.com/hexoscott",
      "followers_url": "https://api.github.com/users/hexoscott/followers",
      "following_url": "https://api.github.com/users/hexoscott/following{/other_user}",
      "gists_url": "https://api.github.com/users/hexoscott/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hexoscott/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hexoscott/subscriptions",
      "organizations_url": "https://api.github.com/users/hexoscott/orgs",
      "repos_url": "https://api.github.com/users/hexoscott/repos",
      "events_url": "https://api.github.com/users/hexoscott/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hexoscott/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-02-27T07:59:59Z",
    "updated_at": "2023-02-27T07:59:59Z",
    "author_association": "CONTRIBUTOR",
    "body": "I'm going to close this issue down, the problem mentioned above around eth_getLogs was initially an mdbx version issue from the looks of things which is now resolved, and a typo in a test file leading to inconsistent results.  Chances are the mdbx fix will have resolved this issue?  \r\n\r\nIf the issue still persists, please leave examples and information such as chain and anything else that would be helpful and I'll pick the thread back up.",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1445866081/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
