{
  "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/5192",
  "repository_url": "https://api.github.com/repos/ledgerwatch/erigon",
  "labels_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/5192/labels{/name}",
  "comments_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/5192/comments",
  "events_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/5192/events",
  "html_url": "https://github.com/ledgerwatch/erigon/issues/5192",
  "id": 1351926712,
  "node_id": "I_kwDOC0FsAM5QlMO4",
  "number": 5192,
  "title": "eth_getUncleByBlockHashAndIndex returns \"transactions\":[null]",
  "user": {
    "login": "vbaranov",
    "id": 4341812,
    "node_id": "MDQ6VXNlcjQzNDE4MTI=",
    "avatar_url": "https://avatars.githubusercontent.com/u/4341812?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/vbaranov",
    "html_url": "https://github.com/vbaranov",
    "followers_url": "https://api.github.com/users/vbaranov/followers",
    "following_url": "https://api.github.com/users/vbaranov/following{/other_user}",
    "gists_url": "https://api.github.com/users/vbaranov/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/vbaranov/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/vbaranov/subscriptions",
    "organizations_url": "https://api.github.com/users/vbaranov/orgs",
    "repos_url": "https://api.github.com/users/vbaranov/repos",
    "events_url": "https://api.github.com/users/vbaranov/events{/privacy}",
    "received_events_url": "https://api.github.com/users/vbaranov/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 1,
  "created_at": "2022-08-26T08:20:43Z",
  "updated_at": "2022-09-04T11:25:13Z",
  "closed_at": "2022-09-04T11:25:13Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "#### System information\r\n\r\nErigon version: `erigon/2022.08.2/linux-amd64/go1.18.3`\r\n\r\nOS & Version: Linux\r\n\r\nThis is the block https://etherscan.io/block/0xb13b6184be8e91aa1742e3af9f2a0b6eb40ef1d2d26ea23498e0726c713be449 for which I try to get uncle info from `eth_getUncleByBlockHashAndIndex` JSON RPC method. But it seems every block with uncle returns  `\"transactions\":[null]`. Nethermind's node and previous versions of Erigon return `\"transactions\":[]`.\r\n\r\n#### Expected behaviour\r\n\r\n```\r\n[{\"jsonrpc\":\"2.0\",\"result\":{\"author\":\"0x52bc44d5378309ee2abf1539bf71de1b7d7be3b5\",\"difficulty\":\"0x2b1efb8fa553fb\",\"extraData\":\"0x6e616e6f706f6f6c2e6f7267\",\"gasLimit\":\"0x1c9c380\",\"gasUsed\":\"0x1c99dd3\",\"hash\":\"0x5a221528d7f2c6e97d8e4b7e966d4142fcbf070b9e4ae9ad23ae58c9ebba4d16\",\"logsBloom\":\"0xb5e07113c3dcb91ed0d1bb17f3bd85f3293d39222e7f6f062fb390779d3889b42fddebd9dd8e2bf5ac50da1e114bb95f9303e26f5cdcbd9a7e3e355a747529deefc3d545dbb0d3eff92f6f1e5dc6f12e049e15a7e14ddee1266afcd5c8326d24d389c0d9af3bdf7f85441a9f5eed3fc5a60fe828085f86616e3cedf6ee0950e67f30f9d9edeebd67ec7fa3b77cb1d71acfbfb55d9de55daa3d2996f2487b78829ffda94bb947f4c37bd169f2dd2f0bbe13554ce647a4ca8f1ce72fbd56bdf1d55fd5e0ff2db7f1937aee89aade6ff5d7536d2f64b79f3f9e2c457da70378f63cb43f3bec7e0ce6c0c3d75235f9081a6cb66b42565facc5dda67fb852549f3e23\",\"miner\":\"0x52bc44d5378309ee2abf1539bf71de1b7d7be3b5\",\"mixHash\":\"0x95cbbd46cd0b5e256272899d4f0b33015b791dc831f3e4d0d2c7880c76b93f35\",\"nonce\":\"0xe8f20f150fe8e489\",\"number\":\"0xeb0b28\",\"parentHash\":\"0xcf2d130cbb6be4b190b4010baf4c4605259a3be7f2025c6c4072ee08aeb2fe3d\",\"receiptsRoot\":\"0xaf777bcad6591148e1340a39ab6c8f7117ce831320f34d9a7fadbcbad3aa10f7\",\"sha3Uncles\":\"0x1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347\",\"size\":\"0x21d\",\"stateRoot\":\"0xa209d119d2e604bd923f60ba40cea8a731bfd5c2cff51f0574b3263be000af55\",\"totalDifficulty\":\"0x0\",\"timestamp\":\"0x63064aaf\",\"baseFeePerGas\":\"0x26941c6e7\",\"transactions\":[],\"transactionsRoot\":\"0xbff1380a867b52809cb7ff2234a7b48aebdd4f7608244132f332f267119eb914\",\"uncles\":[]},\"id\":1}]\r\n```\r\n\r\n\r\n#### Actual behaviour\r\n\r\n```\r\n[{\"jsonrpc\":\"2.0\",\"id\":1,\"result\":{\"baseFeePerGas\":\"0x26941c6e7\",\"difficulty\":\"0x2b1efb8fa553fb\",\"extraData\":\"0x6e616e6f706f6f6c2e6f7267\",\"gasLimit\":\"0x1c9c380\",\"gasUsed\":\"0x1c99dd3\",\"hash\":\"0x5a221528d7f2c6e97d8e4b7e966d4142fcbf070b9e4ae9ad23ae58c9ebba4d16\",\"logsBloom\":\"0xb5e07113c3dcb91ed0d1bb17f3bd85f3293d39222e7f6f062fb390779d3889b42fddebd9dd8e2bf5ac50da1e114bb95f9303e26f5cdcbd9a7e3e355a747529deefc3d545dbb0d3eff92f6f1e5dc6f12e049e15a7e14ddee1266afcd5c8326d24d389c0d9af3bdf7f85441a9f5eed3fc5a60fe828085f86616e3cedf6ee0950e67f30f9d9edeebd67ec7fa3b77cb1d71acfbfb55d9de55daa3d2996f2487b78829ffda94bb947f4c37bd169f2dd2f0bbe13554ce647a4ca8f1ce72fbd56bdf1d55fd5e0ff2db7f1937aee89aade6ff5d7536d2f64b79f3f9e2c457da70378f63cb43f3bec7e0ce6c0c3d75235f9081a6cb66b42565facc5dda67fb852549f3e23\",\"miner\":\"0x52bc44d5378309ee2abf1539bf71de1b7d7be3b5\",\"mixHash\":\"0x95cbbd46cd0b5e256272899d4f0b33015b791dc831f3e4d0d2c7880c76b93f35\",\"nonce\":\"0xe8f20f150fe8e489\",\"number\":\"0xeb0b28\",\"parentHash\":\"0xcf2d130cbb6be4b190b4010baf4c4605259a3be7f2025c6c4072ee08aeb2fe3d\",\"receiptsRoot\":\"0xaf777bcad6591148e1340a39ab6c8f7117ce831320f34d9a7fadbcbad3aa10f7\",\"sha3Uncles\":\"0x1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347\",\"size\":\"0x21d\",\"stateRoot\":\"0xa209d119d2e604bd923f60ba40cea8a731bfd5c2cff51f0574b3263be000af55\",\"timestamp\":\"0x63064aaf\",\"totalDifficulty\":\"0xc17e07674231df6dda4\",\"transactions\":[null],\"transactionsRoot\":\"0xbff1380a867b52809cb7ff2234a7b48aebdd4f7608244132f332f267119eb914\",\"uncles\":[]}}]\r\n```\r\n\r\n\r\n#### Steps to reproduce the behaviour\r\n\r\nWith ETH Mainnet node:\r\n```\r\ncurl -H 'Content-Type: application/json' -X POST --data '[{\r\n  \"id\": 1,\r\n  \"jsonrpc\": \"2.0\",\r\n  \"method\": \"eth_getUncleByBlockHashAndIndex\",\r\n  \"params\": [\"0xb13b6184be8e91aa1742e3af9f2a0b6eb40ef1d2d26ea23498e0726c713be449\", \"0x0\"]\r\n}]'\r\n```\r\n",
  "closed_by": {
    "login": "enriavil1",
    "id": 19207637,
    "node_id": "MDQ6VXNlcjE5MjA3NjM3",
    "avatar_url": "https://avatars.githubusercontent.com/u/19207637?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/enriavil1",
    "html_url": "https://github.com/enriavil1",
    "followers_url": "https://api.github.com/users/enriavil1/followers",
    "following_url": "https://api.github.com/users/enriavil1/following{/other_user}",
    "gists_url": "https://api.github.com/users/enriavil1/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/enriavil1/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/enriavil1/subscriptions",
    "organizations_url": "https://api.github.com/users/enriavil1/orgs",
    "repos_url": "https://api.github.com/users/enriavil1/repos",
    "events_url": "https://api.github.com/users/enriavil1/events{/privacy}",
    "received_events_url": "https://api.github.com/users/enriavil1/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/5192/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/5192/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1231194057",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/5192#issuecomment-1231194057",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/5192",
    "id": 1231194057,
    "node_id": "IC_kwDOC0FsAM5JYofJ",
    "user": {
      "login": "enriavil1",
      "id": 19207637,
      "node_id": "MDQ6VXNlcjE5MjA3NjM3",
      "avatar_url": "https://avatars.githubusercontent.com/u/19207637?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/enriavil1",
      "html_url": "https://github.com/enriavil1",
      "followers_url": "https://api.github.com/users/enriavil1/followers",
      "following_url": "https://api.github.com/users/enriavil1/following{/other_user}",
      "gists_url": "https://api.github.com/users/enriavil1/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/enriavil1/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/enriavil1/subscriptions",
      "organizations_url": "https://api.github.com/users/enriavil1/orgs",
      "repos_url": "https://api.github.com/users/enriavil1/repos",
      "events_url": "https://api.github.com/users/enriavil1/events{/privacy}",
      "received_events_url": "https://api.github.com/users/enriavil1/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-08-30T06:16:52Z",
    "updated_at": "2022-08-30T06:16:52Z",
    "author_association": "CONTRIBUTOR",
    "body": "Should of been fixed by PR #5093",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1231194057/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
