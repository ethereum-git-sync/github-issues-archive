{
  "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/5494",
  "repository_url": "https://api.github.com/repos/ledgerwatch/erigon",
  "labels_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/5494/labels{/name}",
  "comments_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/5494/comments",
  "events_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/5494/events",
  "html_url": "https://github.com/ledgerwatch/erigon/issues/5494",
  "id": 1384437079,
  "node_id": "I_kwDOC0FsAM5ShNVX",
  "number": 5494,
  "title": "Erigon + Prysm combo just freezed",
  "user": {
    "login": "wmitsuda",
    "id": 28685,
    "node_id": "MDQ6VXNlcjI4Njg1",
    "avatar_url": "https://avatars.githubusercontent.com/u/28685?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/wmitsuda",
    "html_url": "https://github.com/wmitsuda",
    "followers_url": "https://api.github.com/users/wmitsuda/followers",
    "following_url": "https://api.github.com/users/wmitsuda/following{/other_user}",
    "gists_url": "https://api.github.com/users/wmitsuda/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/wmitsuda/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/wmitsuda/subscriptions",
    "organizations_url": "https://api.github.com/users/wmitsuda/orgs",
    "repos_url": "https://api.github.com/users/wmitsuda/repos",
    "events_url": "https://api.github.com/users/wmitsuda/events{/privacy}",
    "received_events_url": "https://api.github.com/users/wmitsuda/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 4566396003,
      "node_id": "LA_kwDOC0FsAM8AAAABEC2sYw",
      "url": "https://api.github.com/repos/ledgerwatch/erigon/labels/Stale",
      "name": "Stale",
      "color": "ededed",
      "default": false,
      "description": null
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2022-09-23T23:26:27Z",
  "updated_at": "2022-11-11T03:16:55Z",
  "closed_at": "2022-11-11T03:16:55Z",
  "author_association": "COLLABORATOR",
  "active_lock_reason": null,
  "body": "erigon v2022.09.03 + prysm 3.1.1, running on mac, docker compose setup.\r\n\r\nI left both running on my laptop, when I returned I observed that both logs had stopped.\r\n\r\nThe processes seems to still be running, CPU usage is high, but they are just stuck in some kind of loop (see the difference between timestamps from latest mainnet-prysm and otterscan nginx logs).\r\n\r\nI can say it is indeed frozen because even calling `eth_getBlockByNumber` using curl doesn't return, so even the server socket handler process is stuck.\r\n\r\n```\r\nrefix=p2p\r\nmainnet-erigon-1     | [INFO] [09-23|22:31:53.190] [] ETL [2/2] Loading                     into=PlainState current key=bba42059... alloc=5.8GB sys=9.0GB\r\nmainnet-prysm-1      | time=\"2022-09-23 22:31:58\" level=warning msg=\"Execution client is not syncing\" prefix=powchain\r\nmainnet-prysm-1      | time=\"2022-09-23 22:32:00\" level=info msg=\"Called new payload with optimistic block\" payloadBlockHash=0xa9dbe29310f2 prefix=blockchain slot=4762358\r\nmainnet-prysm-1      | time=\"2022-09-23 22:32:00\" level=info msg=\"Called fork choice updated with optimistic block\" finalizedPayloadBlockHash=0x71c35827de02 headPayloadBlockHash=0xa9dbe29310f2 headSlot=4762358 prefix=blockchain\r\nmainnet-prysm-1      | time=\"2022-09-23 22:32:00\" level=info msg=\"Synced new block\" block=0x9b13ef65... epoch=148823 finalizedEpoch=148821 finalizedRoot=0x8d50d0b1... prefix=blockchain slot=4762358\r\nmainnet-prysm-1      | time=\"2022-09-23 22:32:00\" level=info msg=\"Finished applying state transition\" attestations=128 payloadHash=0xa9dbe29310f2 prefix=blockchain slot=4762358 syncBitsCount=502 txCount=50\r\nmainnet-prysm-1      | time=\"2022-09-23 22:32:12\" level=warning msg=\"Execution client is not syncing\" prefix=powchain\r\nmainnet-prysm-1      | time=\"2022-09-23 22:32:13\" level=info msg=\"Called new payload with optimistic block\" payloadBlockHash=0xb944baa7bc4b prefix=blockchain slot=4762359\r\nmainnet-prysm-1      | time=\"2022-09-23 22:32:13\" level=info msg=\"Called fork choice updated with optimistic block\" finalizedPayloadBlockHash=0x71c35827de02 headPayloadBlockHash=0xb944baa7bc4b headSlot=4762359 prefix=blockchain\r\nmainnet-prysm-1      | time=\"2022-09-23 22:32:13\" level=info msg=\"Synced new block\" block=0xd8ea3ccc... epoch=148823 finalizedEpoch=148821 finalizedRoot=0x8d50d0b1... prefix=blockchain slot=4762359\r\nmainnet-prysm-1      | time=\"2022-09-23 22:32:13\" level=info msg=\"Finished applying state transition\" attestations=69 payloadHash=0xb944baa7bc4b prefix=blockchain slot=4762359 syncBitsCount=510 txCount=224\r\nmainnet-prysm-1      | time=\"2022-09-23 22:32:24\" level=info msg=\"Called new payload with optimistic block\" payloadBlockHash=0x5a22667fa91d prefix=blockchain slot=4762360\r\nmainnet-prysm-1      | time=\"2022-09-23 22:32:26\" level=warning msg=\"Execution client is not syncing\" prefix=powchain\r\nmainnet-otterscan-1  | 172.18.0.1 - - [23/Sep/2022:23:01:38 +0000] \"GET / HTTP/1.1\" 304 0 \"-\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/105.0.0.0 Safari/537.36\" \"-\"\r\nmainnet-otterscan-1  | 172.18.0.1 - - [23/Sep/2022:23:01:38 +0000] \"GET /assets/index.24471e5a.js HTTP/1.1\" 200 200625 \"http://localhost:3000/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/105.0.0.0 Safari/537.36\" \"-\"\r\n```\r\n",
  "closed_by": {
    "login": "github-actions[bot]",
    "id": 41898282,
    "node_id": "MDM6Qm90NDE4OTgyODI=",
    "avatar_url": "https://avatars.githubusercontent.com/in/15368?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/github-actions%5Bbot%5D",
    "html_url": "https://github.com/apps/github-actions",
    "followers_url": "https://api.github.com/users/github-actions%5Bbot%5D/followers",
    "following_url": "https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}",
    "gists_url": "https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/github-actions%5Bbot%5D/subscriptions",
    "organizations_url": "https://api.github.com/users/github-actions%5Bbot%5D/orgs",
    "repos_url": "https://api.github.com/users/github-actions%5Bbot%5D/repos",
    "events_url": "https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}",
    "received_events_url": "https://api.github.com/users/github-actions%5Bbot%5D/received_events",
    "type": "Bot",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/5494/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/5494/timeline",
  "performed_via_github_app": null,
  "state_reason": "not_planned"
}
[
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1301597846",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/5494#issuecomment-1301597846",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/5494",
    "id": 1301597846,
    "node_id": "IC_kwDOC0FsAM5NlM6W",
    "user": {
      "login": "github-actions[bot]",
      "id": 41898282,
      "node_id": "MDM6Qm90NDE4OTgyODI=",
      "avatar_url": "https://avatars.githubusercontent.com/in/15368?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/github-actions%5Bbot%5D",
      "html_url": "https://github.com/apps/github-actions",
      "followers_url": "https://api.github.com/users/github-actions%5Bbot%5D/followers",
      "following_url": "https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}",
      "gists_url": "https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/github-actions%5Bbot%5D/subscriptions",
      "organizations_url": "https://api.github.com/users/github-actions%5Bbot%5D/orgs",
      "repos_url": "https://api.github.com/users/github-actions%5Bbot%5D/repos",
      "events_url": "https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}",
      "received_events_url": "https://api.github.com/users/github-actions%5Bbot%5D/received_events",
      "type": "Bot",
      "site_admin": false
    },
    "created_at": "2022-11-03T03:18:39Z",
    "updated_at": "2022-11-03T03:18:39Z",
    "author_association": "NONE",
    "body": "This issue is stale because it has been open for 40 days with no activity. Remove stale label or comment, or this will be closed in 7 days.",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1301597846/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1311179488",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/5494#issuecomment-1311179488",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/5494",
    "id": 1311179488,
    "node_id": "IC_kwDOC0FsAM5OJwLg",
    "user": {
      "login": "github-actions[bot]",
      "id": 41898282,
      "node_id": "MDM6Qm90NDE4OTgyODI=",
      "avatar_url": "https://avatars.githubusercontent.com/in/15368?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/github-actions%5Bbot%5D",
      "html_url": "https://github.com/apps/github-actions",
      "followers_url": "https://api.github.com/users/github-actions%5Bbot%5D/followers",
      "following_url": "https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}",
      "gists_url": "https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/github-actions%5Bbot%5D/subscriptions",
      "organizations_url": "https://api.github.com/users/github-actions%5Bbot%5D/orgs",
      "repos_url": "https://api.github.com/users/github-actions%5Bbot%5D/repos",
      "events_url": "https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}",
      "received_events_url": "https://api.github.com/users/github-actions%5Bbot%5D/received_events",
      "type": "Bot",
      "site_admin": false
    },
    "created_at": "2022-11-11T03:16:55Z",
    "updated_at": "2022-11-11T03:16:55Z",
    "author_association": "NONE",
    "body": "This issue was closed because it has been stalled for 7 days with no activity.",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1311179488/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
