{
  "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/5415",
  "repository_url": "https://api.github.com/repos/ledgerwatch/erigon",
  "labels_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/5415/labels{/name}",
  "comments_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/5415/comments",
  "events_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/5415/events",
  "html_url": "https://github.com/ledgerwatch/erigon/issues/5415",
  "id": 1376974590,
  "node_id": "I_kwDOC0FsAM5SEvb-",
  "number": 5415,
  "title": "The sync problem of  eth mainnet（post-merge）",
  "user": {
    "login": "masayil",
    "id": 65291464,
    "node_id": "MDQ6VXNlcjY1MjkxNDY0",
    "avatar_url": "https://avatars.githubusercontent.com/u/65291464?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/masayil",
    "html_url": "https://github.com/masayil",
    "followers_url": "https://api.github.com/users/masayil/followers",
    "following_url": "https://api.github.com/users/masayil/following{/other_user}",
    "gists_url": "https://api.github.com/users/masayil/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/masayil/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/masayil/subscriptions",
    "organizations_url": "https://api.github.com/users/masayil/orgs",
    "repos_url": "https://api.github.com/users/masayil/repos",
    "events_url": "https://api.github.com/users/masayil/events{/privacy}",
    "received_events_url": "https://api.github.com/users/masayil/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 1,
  "created_at": "2022-09-18T07:43:23Z",
  "updated_at": "2022-09-19T12:43:21Z",
  "closed_at": "2022-09-19T12:43:21Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "version:2022.09.2-stable-38b35e09\r\nnetwork: eth mainnet\r\n\r\n<details><summary>log</summary>\r\n<p>\r\n\r\n\r\n\r\n```bash\r\n[INFO] [09-18|15:38:23.946] Commit cycle                             in=19.306µs\r\n[INFO] [09-18|15:38:23.947] RPC Daemon notified of new headers       from=15558707 to=15558992 header sending=477.298µs log sending=584ns\r\n[INFO] [09-18|15:38:24.200] PoS headers verified and saved           requestId=57 fork head=0x712fc127f8ddd513a0c0b4baf6d0281b49a9aca3b307dd38360696ea058d0b9f\r\n[INFO] [09-18|15:38:24.201] Timings (slower than 50ms)               Headers=253ms\r\n[INFO] [09-18|15:38:24.201] Tables                                   PlainState=74.7GB AccountChangeSet=118.3GB StorageChangeSet=203.6GB BlockTransaction=7.6GB TransactionLog=399.2GB FreeList=11.4MB ReclaimableSpace=183.0GB\r\n[INFO] [09-18|15:38:24.209] Commit cycle                             in=7.772978ms\r\n[INFO] [09-18|15:38:24.209] RPC Daemon notified of new headers       from=15558707 to=15558993 header sending=337.94µs log sending=934ns\r\n[INFO] [09-18|15:38:24.210] [2/16 Headers] Waiting for Consensus Layer... \r\n[INFO] [09-18|15:38:26.900] [p2p] GoodPeers                          eth66=10\r\n[INFO] [09-18|15:38:27.497] [txpool] stat                            block=15558707 pending=10000 baseFee=30000 queued=29996 alloc=2.7GB sys=3.6GB\r\n[INFO] [09-18|15:38:36.117] [2/16 Headers] New payload: need to download parent height=15558995 hash=0xa29f20ddcb6102962b3f32b6f23c7474444e1d8c8d2837f75aa566b289c582a2 parentHash=0x680c03f96a7e8aff6af2370842814bbf338175a17e4197b33f9ec0aab1d50e3f\r\n[INFO] [09-18|15:38:36.117] [2/16 Headers] Downloading PoS headers... height=15558994 hash=0x680c03f96a7e8aff6af2370842814bbf338175a17e4197b33f9ec0aab1d50e3f requestId=58\r\n[INFO] [09-18|15:38:36.118] Timings (slower than 50ms)               Headers=11.907s\r\n[INFO] [09-18|15:38:36.118] Tables                                   PlainState=74.7GB AccountChangeSet=118.3GB StorageChangeSet=203.6GB BlockTransaction=7.6GB TransactionLog=399.2GB FreeList=11.4MB ReclaimableSpace=183.0GB\r\n[INFO] [09-18|15:38:36.119] Commit cycle                             in=16.34µs\r\n[INFO] [09-18|15:38:36.119] RPC Daemon notified of new headers       from=15558707 to=15558993 header sending=494.538µs log sending=593ns\r\n[INFO] [09-18|15:38:36.375] PoS headers verified and saved           requestId=58 fork head=0xe7091fb77a923bad1e52007a96d3ccea7f6714801f49dbd6852e9539b4478aa6\r\n[INFO] [09-18|15:38:36.376] Timings (slower than 50ms)               Headers=256ms\r\n[INFO] [09-18|15:38:36.376] Tables                                   PlainState=74.7GB AccountChangeSet=118.3GB StorageChangeSet=203.6GB BlockTransaction=7.6GB TransactionLog=399.2GB FreeList=11.4MB ReclaimableSpace=183.0GB\r\n[INFO] [09-18|15:38:36.386] Commit cycle                             in=9.495337ms\r\n[INFO] [09-18|15:38:36.386] RPC Daemon notified of new headers       from=15558707 to=15558994 header sending=473.574µs log sending=513ns\r\n[INFO] [09-18|15:38:36.387] [2/16 Headers] Waiting for Consensus Layer... \r\n```\r\n\r\n</p>\r\n</details>\r\n\r\nThe node has been in a loop of downloading, validating, saving POS headers. The above process takes a long time. Then the node is going to execute blocks. It's hard for my nodes to sync to the latest block\r\n\r\n\r\n![image](https://user-images.githubusercontent.com/65291464/190901818-635bddad-6590-47a6-82d3-4191149f09ab.png)\r\n\r\n",
  "closed_by": {
    "login": "masayil",
    "id": 65291464,
    "node_id": "MDQ6VXNlcjY1MjkxNDY0",
    "avatar_url": "https://avatars.githubusercontent.com/u/65291464?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/masayil",
    "html_url": "https://github.com/masayil",
    "followers_url": "https://api.github.com/users/masayil/followers",
    "following_url": "https://api.github.com/users/masayil/following{/other_user}",
    "gists_url": "https://api.github.com/users/masayil/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/masayil/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/masayil/subscriptions",
    "organizations_url": "https://api.github.com/users/masayil/orgs",
    "repos_url": "https://api.github.com/users/masayil/repos",
    "events_url": "https://api.github.com/users/masayil/events{/privacy}",
    "received_events_url": "https://api.github.com/users/masayil/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/5415/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/5415/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1250336298",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/5415#issuecomment-1250336298",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/5415",
    "id": 1250336298,
    "node_id": "IC_kwDOC0FsAM5Khp4q",
    "user": {
      "login": "mb-gvidon",
      "id": 96392404,
      "node_id": "U_kgDOBb7U1A",
      "avatar_url": "https://avatars.githubusercontent.com/u/96392404?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mb-gvidon",
      "html_url": "https://github.com/mb-gvidon",
      "followers_url": "https://api.github.com/users/mb-gvidon/followers",
      "following_url": "https://api.github.com/users/mb-gvidon/following{/other_user}",
      "gists_url": "https://api.github.com/users/mb-gvidon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mb-gvidon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mb-gvidon/subscriptions",
      "organizations_url": "https://api.github.com/users/mb-gvidon/orgs",
      "repos_url": "https://api.github.com/users/mb-gvidon/repos",
      "events_url": "https://api.github.com/users/mb-gvidon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mb-gvidon/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-09-18T15:55:39Z",
    "updated_at": "2022-09-18T16:00:33Z",
    "author_association": "NONE",
    "body": "You need to run Consensus Layer separately from erigon\r\n\r\nSee #5373 and #5370\r\n\r\nThere is useful comment from the latest issue: https://github.com/ledgerwatch/erigon/issues/5370#issuecomment-1247829438 ",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1250336298/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
