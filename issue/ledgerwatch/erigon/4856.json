{
  "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/4856",
  "repository_url": "https://api.github.com/repos/ledgerwatch/erigon",
  "labels_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/4856/labels{/name}",
  "comments_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/4856/comments",
  "events_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/4856/events",
  "html_url": "https://github.com/ledgerwatch/erigon/issues/4856",
  "id": 1321346923,
  "node_id": "I_kwDOC0FsAM5Owidr",
  "number": 4856,
  "title": "sporadic failure to retrieve transactions by hash on historical blocks",
  "user": {
    "login": "bgelb",
    "id": 203273,
    "node_id": "MDQ6VXNlcjIwMzI3Mw==",
    "avatar_url": "https://avatars.githubusercontent.com/u/203273?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/bgelb",
    "html_url": "https://github.com/bgelb",
    "followers_url": "https://api.github.com/users/bgelb/followers",
    "following_url": "https://api.github.com/users/bgelb/following{/other_user}",
    "gists_url": "https://api.github.com/users/bgelb/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/bgelb/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/bgelb/subscriptions",
    "organizations_url": "https://api.github.com/users/bgelb/orgs",
    "repos_url": "https://api.github.com/users/bgelb/repos",
    "events_url": "https://api.github.com/users/bgelb/events{/privacy}",
    "received_events_url": "https://api.github.com/users/bgelb/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 4566396003,
      "node_id": "LA_kwDOC0FsAM8AAAABEC2sYw",
      "url": "https://api.github.com/repos/ledgerwatch/erigon/labels/Stale",
      "name": "Stale",
      "color": "ededed",
      "default": false,
      "description": null
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 15,
  "created_at": "2022-07-28T18:47:52Z",
  "updated_at": "2022-10-22T03:39:24Z",
  "closed_at": "2022-10-22T03:39:24Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "#### System information\r\n\r\nErigon version: `./erigon --version`\r\n\r\nFAILING VERSION: v2022.07.03\r\n(and I am pretty sure v2022.07.02. also)\r\n\r\nWORKING VERSION: v2022.04.05 (last 'beta')\r\n\r\n#### Expected behaviour\r\n\r\nPassing a historical txhash to eth_getTransactionByHash or eth_getTransactionReceipt RPC correctly returns the requested transaction.\r\n\r\n\r\n#### Actual behaviour\r\n\r\nIntermittently, a result of 'null' is returned in RPC respond instead of the transaction header. This persists for minutes to hours for some particular txhash, but eventually returns to the expected behavior again.\r\n\r\n#### Steps to reproduce the behaviour\r\n\r\nIt is easily reproduced with the below python script (and also does not reproduce on 2022.04.05). Notably, on failing txhashes, the transaction can still be retrieved by using eth_getTransactionByBlockNumberAndIndex. So there seems to be some issue pertaining to retrieval by hash.\r\n\r\nPython code:\r\n\r\n```\r\nfrom web3 import Web3\r\nfrom random import randint, choice\r\n\r\nw3 = Web3(Web3.HTTPProvider('http://localhost:8545'))\r\n\r\nnow = w3.eth.blockNumber\r\n\r\nwhile True:\r\n    old = now - randint(0, 1000000)\r\n    block = w3.eth.get_block(old)\r\n    txs =[t.hex() for t in block['transactions']]\r\n    if len(txs) > 0:\r\n        txhash = txs[0] # pick first tx in a random old block\r\n        resp = w3.provider.make_request('eth_getTransactionByHash', [txhash])\r\n        if resp['result'] is None: # if result == null, we hit the bug\r\n            print(old, now-old, txhash)\r\n            print(resp) # <--- this has a result of 'null' in JSONRPC response\r\n            resp = w3.provider.make_request('eth_getTransactionByBlockNumberAndIndex', [hex(old), hex(0)])\r\n            print(resp) # <--- this returns correct result!\r\n\r\n# commented out to reduce spam, but all txs in a give block seem to be affected\r\n#            print('whole block:')\r\n#            for i, txhash in enumerate(txs): # now check all txs in the offending block\r\n#                resp = w3.provider.make_request('eth_getTransactionByHash', [txhash])\r\n#                print(i, resp)\r\n#                resp = w3.provider.make_request('eth_getTransactionByBlockNumberAndIndex', [hex(old), hex(i)])\r\n#                print(i, resp)\r\n```",
  "closed_by": {
    "login": "github-actions[bot]",
    "id": 41898282,
    "node_id": "MDM6Qm90NDE4OTgyODI=",
    "avatar_url": "https://avatars.githubusercontent.com/in/15368?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/github-actions%5Bbot%5D",
    "html_url": "https://github.com/apps/github-actions",
    "followers_url": "https://api.github.com/users/github-actions%5Bbot%5D/followers",
    "following_url": "https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}",
    "gists_url": "https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/github-actions%5Bbot%5D/subscriptions",
    "organizations_url": "https://api.github.com/users/github-actions%5Bbot%5D/orgs",
    "repos_url": "https://api.github.com/users/github-actions%5Bbot%5D/repos",
    "events_url": "https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}",
    "received_events_url": "https://api.github.com/users/github-actions%5Bbot%5D/received_events",
    "type": "Bot",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/4856/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/4856/timeline",
  "performed_via_github_app": null,
  "state_reason": "not_planned"
}
[
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1198528300",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/4856#issuecomment-1198528300",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/4856",
    "id": 1198528300,
    "node_id": "IC_kwDOC0FsAM5HcBcs",
    "user": {
      "login": "bgelb",
      "id": 203273,
      "node_id": "MDQ6VXNlcjIwMzI3Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/203273?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bgelb",
      "html_url": "https://github.com/bgelb",
      "followers_url": "https://api.github.com/users/bgelb/followers",
      "following_url": "https://api.github.com/users/bgelb/following{/other_user}",
      "gists_url": "https://api.github.com/users/bgelb/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bgelb/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bgelb/subscriptions",
      "organizations_url": "https://api.github.com/users/bgelb/orgs",
      "repos_url": "https://api.github.com/users/bgelb/repos",
      "events_url": "https://api.github.com/users/bgelb/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bgelb/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-07-28T19:07:35Z",
    "updated_at": "2022-07-28T19:07:35Z",
    "author_association": "CONTRIBUTOR",
    "body": "I guess a fairly obvious question is whether there is some kind of corruption in my db. Would be good to see if this can reproduced on another erigon instance (I only have one to test).",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1198528300/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1198546145",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/4856#issuecomment-1198546145",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/4856",
    "id": 1198546145,
    "node_id": "IC_kwDOC0FsAM5HcFzh",
    "user": {
      "login": "AlexeyAkhunov",
      "id": 13686139,
      "node_id": "MDQ6VXNlcjEzNjg2MTM5",
      "avatar_url": "https://avatars.githubusercontent.com/u/13686139?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/AlexeyAkhunov",
      "html_url": "https://github.com/AlexeyAkhunov",
      "followers_url": "https://api.github.com/users/AlexeyAkhunov/followers",
      "following_url": "https://api.github.com/users/AlexeyAkhunov/following{/other_user}",
      "gists_url": "https://api.github.com/users/AlexeyAkhunov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/AlexeyAkhunov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/AlexeyAkhunov/subscriptions",
      "organizations_url": "https://api.github.com/users/AlexeyAkhunov/orgs",
      "repos_url": "https://api.github.com/users/AlexeyAkhunov/repos",
      "events_url": "https://api.github.com/users/AlexeyAkhunov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/AlexeyAkhunov/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-07-28T19:27:00Z",
    "updated_at": "2022-07-28T19:27:00Z",
    "author_association": "CONTRIBUTOR",
    "body": "I think it rather points to the index of txhash => tx number being unreliable",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1198546145/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1198551483",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/4856#issuecomment-1198551483",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/4856",
    "id": 1198551483,
    "node_id": "IC_kwDOC0FsAM5HcHG7",
    "user": {
      "login": "bgelb",
      "id": 203273,
      "node_id": "MDQ6VXNlcjIwMzI3Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/203273?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bgelb",
      "html_url": "https://github.com/bgelb",
      "followers_url": "https://api.github.com/users/bgelb/followers",
      "following_url": "https://api.github.com/users/bgelb/following{/other_user}",
      "gists_url": "https://api.github.com/users/bgelb/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bgelb/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bgelb/subscriptions",
      "organizations_url": "https://api.github.com/users/bgelb/orgs",
      "repos_url": "https://api.github.com/users/bgelb/repos",
      "events_url": "https://api.github.com/users/bgelb/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bgelb/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-07-28T19:33:19Z",
    "updated_at": "2022-07-28T19:33:19Z",
    "author_association": "CONTRIBUTOR",
    "body": "My random sampling seems to have converged to a contiguous hole from block 15140000 to 15141999... exactly 2000 blocks. Does this ring any bells w.r.t. the internal structures?\r\n\r\nI am wondering if it will move around at some point (since observation seems to be that the behavior should \"heal\" itself eventually).",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1198551483/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1198791467",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/4856#issuecomment-1198791467",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/4856",
    "id": 1198791467,
    "node_id": "IC_kwDOC0FsAM5HdBsr",
    "user": {
      "login": "AskAlexSharov",
      "id": 46885206,
      "node_id": "MDQ6VXNlcjQ2ODg1MjA2",
      "avatar_url": "https://avatars.githubusercontent.com/u/46885206?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/AskAlexSharov",
      "html_url": "https://github.com/AskAlexSharov",
      "followers_url": "https://api.github.com/users/AskAlexSharov/followers",
      "following_url": "https://api.github.com/users/AskAlexSharov/following{/other_user}",
      "gists_url": "https://api.github.com/users/AskAlexSharov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/AskAlexSharov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/AskAlexSharov/subscriptions",
      "organizations_url": "https://api.github.com/users/AskAlexSharov/orgs",
      "repos_url": "https://api.github.com/users/AskAlexSharov/repos",
      "events_url": "https://api.github.com/users/AskAlexSharov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/AskAlexSharov/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-07-29T01:29:30Z",
    "updated_at": "2022-07-29T01:29:30Z",
    "author_association": "COLLABORATOR",
    "body": "> My random sampling seems to have converged to a contiguous hole from block 15140000 to 15141999... exactly 2000 blocks. Does this ring any bells w.r.t. the internal structures?\r\n> \r\n> I am wondering if it will move around at some point (since observation seems to be that the behavior should \"heal\" itself eventually).\r\n\r\nThis looks related to snapshots. Something like: txs was moved to snapshot, but erigon can’t find them. Show us some Erigon startup logs, some erigon recent logs. Also check if erigon restart help or not.",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1198791467/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1198843204",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/4856#issuecomment-1198843204",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/4856",
    "id": 1198843204,
    "node_id": "IC_kwDOC0FsAM5HdOVE",
    "user": {
      "login": "bgelb",
      "id": 203273,
      "node_id": "MDQ6VXNlcjIwMzI3Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/203273?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bgelb",
      "html_url": "https://github.com/bgelb",
      "followers_url": "https://api.github.com/users/bgelb/followers",
      "following_url": "https://api.github.com/users/bgelb/following{/other_user}",
      "gists_url": "https://api.github.com/users/bgelb/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bgelb/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bgelb/subscriptions",
      "organizations_url": "https://api.github.com/users/bgelb/orgs",
      "repos_url": "https://api.github.com/users/bgelb/repos",
      "events_url": "https://api.github.com/users/bgelb/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bgelb/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-07-29T03:30:39Z",
    "updated_at": "2022-07-29T03:30:39Z",
    "author_association": "CONTRIBUTOR",
    "body": "Update, 8 hours later, the contiguous \"bad\" range spans now from block 15140000 to 15143999 (+2000 blocks added).\r\n\r\nNote this is still statistical sampling... so its possible the numbers above not exact. But seems like a strong signal.\r\n\r\nHere is log from most recent restart:\r\n```\r\nJul 25 21:10:11 slc04 ERIGON[606667]: [INFO] [07-25|21:10:11.421] Starting metrics server                  addr=http://0.0.0.0:6060/debug/metrics/prometheus\r\nJul 25 21:10:11 slc04 ERIGON[606667]: [INFO] [07-25|21:10:11.421] Build info                               git_branch=v2022.07.03-bgelb git_tag= git_commit=2f8f539daac12bad029963157d03495e81c58bb7\r\nJul 25 21:10:11 slc04 ERIGON[606667]: [INFO] [07-25|21:10:11.421] Starting Erigon on Ethereum mainnet...\r\nJul 25 21:10:11 slc04 ERIGON[606667]: [INFO] [07-25|21:10:11.422] Maximum peer count                       ETH=100 total=100\r\nJul 25 21:10:11 slc04 ERIGON[606667]: [INFO] [07-25|21:10:11.422] torrent verbosity                        level=2\r\nJul 25 21:10:13 slc04 ERIGON[606667]: [INFO] [07-25|21:10:13.525] Set global gas cap                       cap=50000000\r\nJul 25 21:10:13 slc04 ERIGON[606667]: [INFO] [07-25|21:10:13.577] Opening Database                         label=chaindata path=/eth/erigon/chaindata\r\nJul 25 21:10:13 slc04 ERIGON[606667]: [INFO] [07-25|21:10:13.581] Initialised chain configuration          config=\"{ChainID: 1, Homestead: 1150000, DAO: 1920000, DAO Support: true, Tangerine Whistle: 2463000, Spurious Dragon: 2675000, Byzantium: 4370000, Constantinople: 7280000, Petersburg: 7280000, Istanbul: 9069000, Muir Glacier: 9200000, Berlin: 12244000, London: 12965000, Arrow Glacier: 13773000, Gray Glacier: 15050000, Terminal Total Difficulty: <nil>, Merge Netsplit: <nil>, Engine: ethash}\" genesis=0xd4e56740f876aef8c010b86a40d5f56745a118d0906a34e69aec8c0db1cb8fa3\r\nJul 25 21:10:13 slc04 ERIGON[606667]: [INFO] [07-25|21:10:13.581] Initialising Ethereum protocol           network=1\r\nJul 25 21:10:13 slc04 ERIGON[606667]: [INFO] [07-25|21:10:13.581] Using snapshots                          on=true\r\nJul 25 21:10:13 slc04 ERIGON[606667]: [INFO] [07-25|21:10:13.581] Effective                                prune_flags= snapshot_flags=\"--snapshots=true\"\r\nJul 25 21:10:17 slc04 ERIGON[606667]: [INFO] [07-25|21:10:17.971] Disk storage enabled for ethash DAGs     dir=/eth/erigon/ethash-dags count=2\r\nJul 25 21:10:18 slc04 ERIGON[606667]: [INFO] [07-25|21:10:18.646] Starting private RPC server              on=127.0.0.1:9090\r\nJul 25 21:10:18 slc04 ERIGON[606667]: [INFO] [07-25|21:10:18.646] new subscription to logs established\r\nJul 25 21:10:18 slc04 ERIGON[606667]: [INFO] [07-25|21:10:18.650] Started P2P networking                   version=66 self=enode://f94c1e911fe1805cb637925710b5bcfc6b93653a087997a93f1ec3d90b629419fe0cc8f934ddf2d38d17010e4cf8d9bfda516c5db5ccc635149ef41630d7d36e@127.0.0.1:30303 name=erigon/v2022.07.3-alpha-2f8f539d/linux-amd64/go1.18\r\nJul 25 21:10:18 slc04 ERIGON[606667]: [INFO] [07-25|21:10:18.660] [Snapshots] Fetching torrent files metadata\r\nJul 25 21:10:18 slc04 ERIGON[606667]: [INFO] [07-25|21:10:18.701] New txs subscriber joined\r\nJul 25 21:10:18 slc04 ERIGON[606667]: [INFO] [07-25|21:10:18.701] new subscription to newHeaders established\r\nJul 25 21:10:20 slc04 ERIGON[606667]: [INFO] [07-25|21:10:20.096] [txpool] Started\r\nJul 25 21:10:21 slc04 ERIGON[606667]: [INFO] [07-25|21:10:21.730] [Snapshots] Stat                         blocks=15124999 segments=15124999 indices=15124999 alloc=2.6GB sys=4.6GB\r\nJul 25 21:10:21 slc04 ERIGON[606667]: [INFO] [07-25|21:10:21.730] [1/16 Headers] Waiting for headers...    from=15215887\r\nJul 25 21:10:24 slc04 ERIGON[606667]: [INFO] [07-25|21:10:24.736] Generating ethash verification cache     epoch=507 percentage=96 elapsed=3.000s\r\nJul 25 21:10:25 slc04 ERIGON[606667]: [INFO] [07-25|21:10:25.578] [1/16 Headers] Processed                 highest inserted=15215889 age=9s\r\nJul 25 21:10:26 slc04 ERIGON[606667]: [INFO] [07-25|21:10:26.286] [6/16 Execution] Completed on            block=15215889\r\nJul 25 21:10:27 slc04 ERIGON[606667]: [INFO] [07-25|21:10:27.167] [13/16 LogIndex] Running from blocks 15215888 to 15215889 endBlock=15215889\r\nJul 25 21:10:27 slc04 ERIGON[606667]: [INFO] [07-25|21:10:27.266] Timings (slower than 50ms)               Headers=6.92s Senders=63ms Execution=632ms HashState=180ms IntermediateHashes=337ms CallTraces=167ms AccountHistoryIndex=162ms TxLookup=63ms\r\nJul 25 21:10:27 slc04 ERIGON[606667]: [INFO] [07-25|21:10:27.266] RPC Daemon notified of new headers       from=15215887 to=15215889 header sending=19.14µs log sending=260ns\r\nJul 25 21:10:27 slc04 ERIGON[606667]: [INFO] [07-25|21:10:27.266] [1/16 Headers] Waiting for headers...    from=15215889\r\nJul 25 21:10:27 slc04 ERIGON[606667]: [INFO] [07-25|21:10:27.845] Generating ethash verification cache     epoch=508 percentage=80 elapsed=3.000s\r\nJul 25 21:10:32 slc04 ERIGON[606667]: [INFO] [07-25|21:10:32.915] [1/16 Headers] Processed                 highest inserted=15215890 age=7s\r\nJul 25 21:10:33 slc04 ERIGON[606667]: [INFO] [07-25|21:10:33.023] [6/16 Execution] Completed on            block=15215890\r\nJul 25 21:10:33 slc04 ERIGON[606667]: [INFO] [07-25|21:10:33.471] [13/16 LogIndex] Running from blocks 15215890 to 15215890 endBlock=15215890\r\nJul 25 21:10:33 slc04 ERIGON[606667]: [INFO] [07-25|21:10:33.495] Timings (slower than 50ms)               Headers=5.649s Execution=55ms HashState=75ms IntermediateHashes=162ms CallTraces=109ms AccountHistoryIndex=86ms\r\nJul 25 21:10:33 slc04 ERIGON[606667]: [INFO] [07-25|21:10:33.495] Tables                                   PlainState=70.3GB AccountChangeSet=157.5GB StorageChangeSet=230.9GB BlockTransaction=8.4GB TransactionLog=422.5GB FreeList=400.0KB ReclaimableSpace=400.0MB\r\nJul 25 21:10:33 slc04 ERIGON[606667]: [INFO] [07-25|21:10:33.841] Commit cycle                             in=346.599906ms\r\nJul 25 21:10:33 slc04 ERIGON[606667]: [INFO] [07-25|21:10:33.842] RPC Daemon notified of new headers       from=15215889 to=15215890 header sending=29.791µs log sending=310ns\r\nJul 25 21:10:33 slc04 ERIGON[606667]: [INFO] [07-25|21:10:33.842] [1/16 Headers] Waiting for headers...    from=15215890\r\nJul 25 21:10:33 slc04 ERIGON[606667]: [INFO] [07-25|21:10:33.854] [1/16 Headers] Processed                 highest inserted=15215891 age=0\r\nJul 25 21:10:33 slc04 ERIGON[606667]: [INFO] [07-25|21:10:33.860] [6/16 Execution] Completed on            block=15215891\r\nJul 25 21:10:33 slc04 ERIGON[606667]: [INFO] [07-25|21:10:33.862] [13/16 LogIndex] Running from blocks 15215891 to 15215891 endBlock=15215891\r\nJul 25 21:10:33 slc04 ERIGON[606667]: [INFO] [07-25|21:10:33.864] Commit cycle                             in=1.051021ms\r\nJul 25 21:10:33 slc04 ERIGON[606667]: [INFO] [07-25|21:10:33.864] RPC Daemon notified of new headers       from=15215890 to=15215891 header sending=8.96µs log sending=140ns\r\nJul 25 21:10:33 slc04 ERIGON[606667]: [INFO] [07-25|21:10:33.864] [1/16 Headers] Waiting for headers...    from=15215891\r\nJul 25 21:10:47 slc04 ERIGON[606667]: [INFO] [07-25|21:10:47.868] [1/16 Headers] Processed                 highest inserted=15215892 age=13s\r\nJul 25 21:10:47 slc04 ERIGON[606667]: [INFO] [07-25|21:10:47.956] [6/16 Execution] Completed on            block=15215892\r\nJul 25 21:10:48 slc04 ERIGON[606667]: [INFO] [07-25|21:10:48.383] [13/16 LogIndex] Running from blocks 15215892 to 15215892 endBlock=15215892\r\nJul 25 21:10:48 slc04 ERIGON[606667]: [INFO] [07-25|21:10:48.413] Timings (slower than 50ms)               Headers=14.004s HashState=69ms IntermediateHashes=156ms CallTraces=99ms AccountHistoryIndex=89ms\r\nJul 25 21:10:48 slc04 ERIGON[606667]: [INFO] [07-25|21:10:48.413] Tables                                   PlainState=70.3GB AccountChangeSet=157.5GB StorageChangeSet=230.9GB BlockTransaction=8.4GB TransactionLog=422.5GB FreeList=408.0KB ReclaimableSpace=408.0MB\r\n\r\nWill try restart next...\r\n```\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1198843204/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1198846525",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/4856#issuecomment-1198846525",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/4856",
    "id": 1198846525,
    "node_id": "IC_kwDOC0FsAM5HdPI9",
    "user": {
      "login": "bgelb",
      "id": 203273,
      "node_id": "MDQ6VXNlcjIwMzI3Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/203273?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bgelb",
      "html_url": "https://github.com/bgelb",
      "followers_url": "https://api.github.com/users/bgelb/followers",
      "following_url": "https://api.github.com/users/bgelb/following{/other_user}",
      "gists_url": "https://api.github.com/users/bgelb/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bgelb/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bgelb/subscriptions",
      "organizations_url": "https://api.github.com/users/bgelb/orgs",
      "repos_url": "https://api.github.com/users/bgelb/repos",
      "events_url": "https://api.github.com/users/bgelb/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bgelb/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-07-29T03:38:27Z",
    "updated_at": "2022-07-29T03:38:27Z",
    "author_association": "CONTRIBUTOR",
    "body": "Log after restart:\r\n\r\n```\r\nJul 28 20:31:43 slc04 ERIGON[383187]: [INFO] [07-28|20:31:43.137] Starting metrics server                  addr=http://0.0.0.0:6060/debug/metrics/prometheus\r\nJul 28 20:31:43 slc04 ERIGON[383187]: [INFO] [07-28|20:31:43.137] Build info                               git_branch=v2022.07.03-bgelb git_tag= git_commit=2f8f539daac12bad029963157d03495e81c58bb7\r\nJul 28 20:31:43 slc04 ERIGON[383187]: [INFO] [07-28|20:31:43.138] Starting Erigon on Ethereum mainnet...\r\nJul 28 20:31:43 slc04 ERIGON[383187]: [INFO] [07-28|20:31:43.140] Maximum peer count                       ETH=100 total=100\r\nJul 28 20:31:43 slc04 ERIGON[383187]: [INFO] [07-28|20:31:43.140] torrent verbosity                        level=2\r\nJul 28 20:31:45 slc04 ERIGON[383187]: [INFO] [07-28|20:31:45.244] Set global gas cap                       cap=50000000\r\nJul 28 20:31:45 slc04 ERIGON[383187]: [INFO] [07-28|20:31:45.313] Opening Database                         label=chaindata path=/eth/erigon/chaindata\r\nJul 28 20:31:45 slc04 ERIGON[383187]: [INFO] [07-28|20:31:45.316] Initialised chain configuration          config=\"{ChainID: 1, Homestead: 1150000, DAO: 1920000, DAO Support: true, Tangerine Whistle: 2463000, Spurious Dragon: 2675000, Byzantium: 4370000, Constantinople: 7280000, Petersburg: 7280000, Istanbul: 9069000, Muir Glacier: 9200000, Berlin: 12244000, London: 12965000, Arrow Glacier: 13773000, Gray Glacier: 15050000, Terminal Total Difficulty: <nil>, Merge Netsplit: <nil>, Engine: ethash}\" genesis=0xd4e56740f876aef8c010b86a40d5f56745a118d0906a34e69aec8c0db1cb8fa3\r\nJul 28 20:31:45 slc04 ERIGON[383187]: [INFO] [07-28|20:31:45.317] Initialising Ethereum protocol           network=1\r\nJul 28 20:31:45 slc04 ERIGON[383187]: [INFO] [07-28|20:31:45.317] Using snapshots                          on=true\r\nJul 28 20:31:45 slc04 ERIGON[383187]: [INFO] [07-28|20:31:45.317] Effective                                prune_flags= snapshot_flags=\"--snapshots=true\"\r\nJul 28 20:31:50 slc04 ERIGON[383187]: [INFO] [07-28|20:31:50.539] Disk storage enabled for ethash DAGs     dir=/eth/erigon/ethash-dags count=2\r\nJul 28 20:31:50 slc04 ERIGON[383187]: [INFO] [07-28|20:31:50.976] Starting private RPC server              on=127.0.0.1:9090\r\nJul 28 20:31:50 slc04 ERIGON[383187]: [INFO] [07-28|20:31:50.976] new subscription to logs established\r\nJul 28 20:31:50 slc04 ERIGON[383187]: [INFO] [07-28|20:31:50.980] Started P2P networking                   version=66 self=enode://f94c1e911fe1805cb637925710b5bcfc6b93653a087997a93f1ec3d90b629419fe0cc8f934ddf2d38d17010e4cf8d9bfda516c5db5ccc635149ef41630d7d36e@127.0.0.1:30303 name=erigon/v2022.07.3-alpha-2f8f539d/linux-amd64/go1.18\r\nJul 28 20:31:50 slc04 ERIGON[383187]: [INFO] [07-28|20:31:50.991] [Snapshots] Fetching torrent files metadata\r\nJul 28 20:31:51 slc04 ERIGON[383187]: [INFO] [07-28|20:31:51.473] New txs subscriber joined\r\nJul 28 20:31:51 slc04 ERIGON[383187]: [INFO] [07-28|20:31:51.474] new subscription to newHeaders established\r\nJul 28 20:31:53 slc04 ERIGON[383187]: [INFO] [07-28|20:31:53.931] [Snapshots] Stat                         blocks=15143999 segments=15143999 indices=15143999 alloc=2.6GB sys=3.4GB\r\nJul 28 20:31:53 slc04 ERIGON[383187]: [INFO] [07-28|20:31:53.931] [1/16 Headers] Waiting for headers...    from=15234988\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1198846525/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1198847163",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/4856#issuecomment-1198847163",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/4856",
    "id": 1198847163,
    "node_id": "IC_kwDOC0FsAM5HdPS7",
    "user": {
      "login": "bgelb",
      "id": 203273,
      "node_id": "MDQ6VXNlcjIwMzI3Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/203273?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bgelb",
      "html_url": "https://github.com/bgelb",
      "followers_url": "https://api.github.com/users/bgelb/followers",
      "following_url": "https://api.github.com/users/bgelb/following{/other_user}",
      "gists_url": "https://api.github.com/users/bgelb/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bgelb/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bgelb/subscriptions",
      "organizations_url": "https://api.github.com/users/bgelb/orgs",
      "repos_url": "https://api.github.com/users/bgelb/repos",
      "events_url": "https://api.github.com/users/bgelb/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bgelb/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-07-29T03:40:09Z",
    "updated_at": "2022-07-29T03:40:09Z",
    "author_association": "CONTRIBUTOR",
    "body": "Now seems to be 1000 blocks hole from 15144000 to 15145000...",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1198847163/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1198847530",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/4856#issuecomment-1198847530",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/4856",
    "id": 1198847530,
    "node_id": "IC_kwDOC0FsAM5HdPYq",
    "user": {
      "login": "bgelb",
      "id": 203273,
      "node_id": "MDQ6VXNlcjIwMzI3Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/203273?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bgelb",
      "html_url": "https://github.com/bgelb",
      "followers_url": "https://api.github.com/users/bgelb/followers",
      "following_url": "https://api.github.com/users/bgelb/following{/other_user}",
      "gists_url": "https://api.github.com/users/bgelb/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bgelb/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bgelb/subscriptions",
      "organizations_url": "https://api.github.com/users/bgelb/orgs",
      "repos_url": "https://api.github.com/users/bgelb/repos",
      "events_url": "https://api.github.com/users/bgelb/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bgelb/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-07-29T03:41:04Z",
    "updated_at": "2022-07-29T03:41:04Z",
    "author_association": "CONTRIBUTOR",
    "body": "Please advise what else you'd like to see in erigon log...",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1198847530/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1198848620",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/4856#issuecomment-1198848620",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/4856",
    "id": 1198848620,
    "node_id": "IC_kwDOC0FsAM5HdPps",
    "user": {
      "login": "bgelb",
      "id": 203273,
      "node_id": "MDQ6VXNlcjIwMzI3Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/203273?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bgelb",
      "html_url": "https://github.com/bgelb",
      "followers_url": "https://api.github.com/users/bgelb/followers",
      "following_url": "https://api.github.com/users/bgelb/following{/other_user}",
      "gists_url": "https://api.github.com/users/bgelb/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bgelb/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bgelb/subscriptions",
      "organizations_url": "https://api.github.com/users/bgelb/orgs",
      "repos_url": "https://api.github.com/users/bgelb/repos",
      "events_url": "https://api.github.com/users/bgelb/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bgelb/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-07-29T03:43:48Z",
    "updated_at": "2022-07-29T03:43:48Z",
    "author_association": "CONTRIBUTOR",
    "body": "Looking at log pasted above:\r\n\r\n```\r\nJul 28 20:31:53 slc04 ERIGON[383187]: [INFO] [07-28|20:31:53.931] [Snapshots] Stat                         blocks=15143999 segments=15143999 indices=15143999 alloc=2.6GB sys=3.4GB\r\n```\r\n\r\nIt seems highly suspicious that block 15143999 coincides exactly with where i found issue via my script. Though I'm not knowledgeable enough to speculate exactly what is going on.",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1198848620/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1198851229",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/4856#issuecomment-1198851229",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/4856",
    "id": 1198851229,
    "node_id": "IC_kwDOC0FsAM5HdQSd",
    "user": {
      "login": "bgelb",
      "id": 203273,
      "node_id": "MDQ6VXNlcjIwMzI3Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/203273?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bgelb",
      "html_url": "https://github.com/bgelb",
      "followers_url": "https://api.github.com/users/bgelb/followers",
      "following_url": "https://api.github.com/users/bgelb/following{/other_user}",
      "gists_url": "https://api.github.com/users/bgelb/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bgelb/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bgelb/subscriptions",
      "organizations_url": "https://api.github.com/users/bgelb/orgs",
      "repos_url": "https://api.github.com/users/bgelb/repos",
      "events_url": "https://api.github.com/users/bgelb/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bgelb/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-07-29T03:49:58Z",
    "updated_at": "2022-07-29T03:49:58Z",
    "author_association": "CONTRIBUTOR",
    "body": "grepping a bit:\r\n\r\n```\r\nJul 28 01:55:21 slc04 ERIGON[606667]: [INFO] [07-28|01:55:21.402] [snapshots] Merge done                   from=15130000\r\nJul 28 05:25:56 slc04 ERIGON[606667]: [INFO] [07-28|05:25:56.642] [snapshots] Retire Blocks                range=15140k-15141k\r\nJul 28 05:26:45 slc04 ERIGON[606667]: [INFO] [07-28|05:26:45.621] [Snapshots Txs] Replacement preprocessing processed=42.73% alloc=4.8GB sys=8.7GB\r\nJul 28 05:27:05 slc04 ERIGON[606667]: [INFO] [07-28|05:27:05.621] [Snapshots Txs] Replacement preprocessing processed=84.02% alloc=5.7GB sys=8.7GB\r\nJul 28 05:27:14 slc04 ERIGON[606667]: [INFO] [07-28|05:27:14.241] [snapshots] Compression                  ratio=2.14 file=v1-015140-015141-transactions\r\nJul 28 05:27:17 slc04 ERIGON[606667]: [INFO] [07-28|05:27:17.552] [snapshots] Build indices                from=15139999\r\nJul 28 09:12:12 slc04 ERIGON[606667]: [INFO] [07-28|09:12:12.953] [snapshots] Retire Blocks                range=15141k-15142k\r\nJul 28 09:12:37 slc04 ERIGON[606667]: [INFO] [07-28|09:12:37.237] [snapshots] Dumping txs                  block num=15141684 alloc=5.4GB sys=8.7GB\r\nJul 28 09:13:31 slc04 ERIGON[606667]: [INFO] [07-28|09:13:31.376] [Snapshots Txs] Replacement preprocessing processed=15.36% alloc=5.5GB sys=8.7GB\r\nJul 28 09:13:51 slc04 ERIGON[606667]: [INFO] [07-28|09:13:51.345] [Snapshots Txs] Replacement preprocessing processed=34.15% alloc=6.1GB sys=8.7GB\r\nJul 28 09:14:11 slc04 ERIGON[606667]: [INFO] [07-28|09:14:11.345] [Snapshots Txs] Replacement preprocessing processed=55.50% alloc=5.4GB sys=8.7GB\r\nJul 28 09:14:31 slc04 ERIGON[606667]: [INFO] [07-28|09:14:31.347] [Snapshots Txs] Replacement preprocessing processed=73.51% alloc=3.6GB sys=8.7GB\r\nJul 28 09:14:51 slc04 ERIGON[606667]: [INFO] [07-28|09:14:51.344] [Snapshots Txs] Replacement preprocessing processed=92.67% alloc=3.7GB sys=8.7GB\r\nJul 28 09:14:55 slc04 ERIGON[606667]: [INFO] [07-28|09:14:55.380] [snapshots] Compression                  ratio=2.23 file=v1-015141-015142-transactions\r\nJul 28 09:14:57 slc04 ERIGON[606667]: [INFO] [07-28|09:14:57.752] [snapshots] Build indices                from=15140999\r\n```\r\n\r\nI think my initial testing probably took place about here? Where I saw 15140000 to 15141999 goofed up...\r\n\r\n```\r\nJul 28 12:56:11 slc04 ERIGON[606667]: [INFO] [07-28|12:56:11.703] [snapshots] Retire Blocks                range=15142k-15143k\r\nJul 28 12:56:32 slc04 ERIGON[606667]: [INFO] [07-28|12:56:32.839] [snapshots] Dumping txs                  block num=15142900 alloc=5.4GB sys=8.7GB\r\nJul 28 12:57:01 slc04 ERIGON[606667]: [INFO] [07-28|12:57:01.818] [Snapshots Txs] Replacement preprocessing processed=66.25% alloc=3.3GB sys=8.7GB\r\nJul 28 12:57:11 slc04 ERIGON[606667]: [INFO] [07-28|12:57:11.789] [snapshots] Compression                  ratio=2.06 file=v1-015142-015143-transactions\r\nJul 28 12:57:13 slc04 ERIGON[606667]: [INFO] [07-28|12:57:13.734] [snapshots] Build indices                from=15141999\r\nJul 28 16:47:33 slc04 ERIGON[606667]: [INFO] [07-28|16:47:33.903] [snapshots] Retire Blocks                range=15143k-15144k\r\nJul 28 16:48:14 slc04 ERIGON[606667]: [INFO] [07-28|16:48:14.327] [Snapshots Txs] Replacement preprocessing processed=62.77% alloc=5.1GB sys=8.7GB\r\nJul 28 16:48:26 slc04 ERIGON[606667]: [INFO] [07-28|16:48:26.400] [snapshots] Compression                  ratio=2.12 file=v1-015143-015144-transactions\r\nJul 28 16:48:29 slc04 ERIGON[606667]: [INFO] [07-28|16:48:29.202] [snapshots] Build indices                from=15142999\r\n```\r\nlater re-check took place here, now goofed up from 15140000 to 15143999 (seems to line up with \"Retire Blocks\" ranges)\r\n\r\n```\r\nJul 28 20:31:45 slc04 ERIGON[383187]: [INFO] [07-28|20:31:45.317] Using snapshots                          on=true\r\nJul 28 20:31:45 slc04 ERIGON[383187]: [INFO] [07-28|20:31:45.317] Effective                                prune_flags= snapshot_flags=\"--snapshots=true\"\r\nJul 28 20:31:50 slc04 ERIGON[383187]: [INFO] [07-28|20:31:50.991] [Snapshots] Fetching torrent files metadata\r\nJul 28 20:31:53 slc04 ERIGON[383187]: [INFO] [07-28|20:31:53.931] [Snapshots] Stat                         blocks=15143999 segments=15143999 indices=15143999 alloc=2.6GB sys=3.4GB\r\nJul 28 20:33:51 slc04 ERIGON[383187]: [INFO] [07-28|20:33:51.833] [snapshots] Retire Blocks                range=15144k-15145k\r\n```\r\nAfter restart, looked here... now only see 15144k to 15145k messed up...\r\n\r\nSo seems something bad happens upon \"retire blocks\" that gets corrected by a reboot, or perhaps a \"merge\"?\r\n\r\n``\r\nJul 28 20:34:40 slc04 ERIGON[383187]: [INFO] [07-28|20:34:40.402] [Snapshots Txs] Replacement preprocessing processed=43.93% alloc=3.9GB sys=4.5GB\r\nJul 28 20:35:00 slc04 ERIGON[383187]: [INFO] [07-28|20:35:00.400] [Snapshots Txs] Replacement preprocessing processed=93.24% alloc=4.0GB sys=4.5GB\r\nJul 28 20:35:03 slc04 ERIGON[383187]: [INFO] [07-28|20:35:03.228] [snapshots] Compression                  ratio=2.25 file=v1-015144-015145-transactions\r\nJul 28 20:35:06 slc04 ERIGON[383187]: [INFO] [07-28|20:35:06.585] [snapshots] Build indices                from=15143999\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1198851229/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1199981693",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/4856#issuecomment-1199981693",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/4856",
    "id": 1199981693,
    "node_id": "IC_kwDOC0FsAM5HhkR9",
    "user": {
      "login": "bgelb",
      "id": 203273,
      "node_id": "MDQ6VXNlcjIwMzI3Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/203273?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bgelb",
      "html_url": "https://github.com/bgelb",
      "followers_url": "https://api.github.com/users/bgelb/followers",
      "following_url": "https://api.github.com/users/bgelb/following{/other_user}",
      "gists_url": "https://api.github.com/users/bgelb/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bgelb/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bgelb/subscriptions",
      "organizations_url": "https://api.github.com/users/bgelb/orgs",
      "repos_url": "https://api.github.com/users/bgelb/repos",
      "events_url": "https://api.github.com/users/bgelb/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bgelb/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-07-29T22:17:32Z",
    "updated_at": "2022-07-29T22:17:32Z",
    "author_association": "CONTRIBUTOR",
    "body": "Running with --snap.keepblocks did not prevent the issue from occuring",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1199981693/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1200072875",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/4856#issuecomment-1200072875",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/4856",
    "id": 1200072875,
    "node_id": "IC_kwDOC0FsAM5Hh6ir",
    "user": {
      "login": "bgelb",
      "id": 203273,
      "node_id": "MDQ6VXNlcjIwMzI3Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/203273?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bgelb",
      "html_url": "https://github.com/bgelb",
      "followers_url": "https://api.github.com/users/bgelb/followers",
      "following_url": "https://api.github.com/users/bgelb/following{/other_user}",
      "gists_url": "https://api.github.com/users/bgelb/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bgelb/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bgelb/subscriptions",
      "organizations_url": "https://api.github.com/users/bgelb/orgs",
      "repos_url": "https://api.github.com/users/bgelb/repos",
      "events_url": "https://api.github.com/users/bgelb/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bgelb/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-07-30T02:49:22Z",
    "updated_at": "2022-07-30T02:49:22Z",
    "author_association": "CONTRIBUTOR",
    "body": "--snap.stop seems to be a successful workaround",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1200072875/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1217479864",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/4856#issuecomment-1217479864",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/4856",
    "id": 1217479864,
    "node_id": "IC_kwDOC0FsAM5IkUS4",
    "user": {
      "login": "bgelb",
      "id": 203273,
      "node_id": "MDQ6VXNlcjIwMzI3Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/203273?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bgelb",
      "html_url": "https://github.com/bgelb",
      "followers_url": "https://api.github.com/users/bgelb/followers",
      "following_url": "https://api.github.com/users/bgelb/following{/other_user}",
      "gists_url": "https://api.github.com/users/bgelb/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bgelb/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bgelb/subscriptions",
      "organizations_url": "https://api.github.com/users/bgelb/orgs",
      "repos_url": "https://api.github.com/users/bgelb/repos",
      "events_url": "https://api.github.com/users/bgelb/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bgelb/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-08-17T05:31:54Z",
    "updated_at": "2022-08-17T05:31:54Z",
    "author_association": "CONTRIBUTOR",
    "body": "appears to be fixed in v2022.08.01. If this makes sense then perhaps this issue can be closed.",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1217479864/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1278456339",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/4856#issuecomment-1278456339",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/4856",
    "id": 1278456339,
    "node_id": "IC_kwDOC0FsAM5MM7IT",
    "user": {
      "login": "github-actions[bot]",
      "id": 41898282,
      "node_id": "MDM6Qm90NDE4OTgyODI=",
      "avatar_url": "https://avatars.githubusercontent.com/in/15368?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/github-actions%5Bbot%5D",
      "html_url": "https://github.com/apps/github-actions",
      "followers_url": "https://api.github.com/users/github-actions%5Bbot%5D/followers",
      "following_url": "https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}",
      "gists_url": "https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/github-actions%5Bbot%5D/subscriptions",
      "organizations_url": "https://api.github.com/users/github-actions%5Bbot%5D/orgs",
      "repos_url": "https://api.github.com/users/github-actions%5Bbot%5D/repos",
      "events_url": "https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}",
      "received_events_url": "https://api.github.com/users/github-actions%5Bbot%5D/received_events",
      "type": "Bot",
      "site_admin": false
    },
    "created_at": "2022-10-14T04:11:02Z",
    "updated_at": "2022-10-14T04:11:02Z",
    "author_association": "NONE",
    "body": "This issue is stale because it has been open for 40 days with no activity. Remove stale label or comment, or this will be closed in 7 days.",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1278456339/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1287600813",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/4856#issuecomment-1287600813",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/4856",
    "id": 1287600813,
    "node_id": "IC_kwDOC0FsAM5Mvzqt",
    "user": {
      "login": "github-actions[bot]",
      "id": 41898282,
      "node_id": "MDM6Qm90NDE4OTgyODI=",
      "avatar_url": "https://avatars.githubusercontent.com/in/15368?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/github-actions%5Bbot%5D",
      "html_url": "https://github.com/apps/github-actions",
      "followers_url": "https://api.github.com/users/github-actions%5Bbot%5D/followers",
      "following_url": "https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}",
      "gists_url": "https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/github-actions%5Bbot%5D/subscriptions",
      "organizations_url": "https://api.github.com/users/github-actions%5Bbot%5D/orgs",
      "repos_url": "https://api.github.com/users/github-actions%5Bbot%5D/repos",
      "events_url": "https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}",
      "received_events_url": "https://api.github.com/users/github-actions%5Bbot%5D/received_events",
      "type": "Bot",
      "site_admin": false
    },
    "created_at": "2022-10-22T03:39:23Z",
    "updated_at": "2022-10-22T03:39:23Z",
    "author_association": "NONE",
    "body": "This issue was closed because it has been stalled for 7 days with no activity.",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1287600813/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
