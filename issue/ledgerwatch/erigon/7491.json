{
  "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/7491",
  "repository_url": "https://api.github.com/repos/ledgerwatch/erigon",
  "labels_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/7491/labels{/name}",
  "comments_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/7491/comments",
  "events_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/7491/events",
  "html_url": "https://github.com/ledgerwatch/erigon/issues/7491",
  "id": 1705094011,
  "node_id": "I_kwDOC0FsAM5loat7",
  "number": 7491,
  "title": "fatal error: concurrent map iteration and map write",
  "user": {
    "login": "DaraDoyoung",
    "id": 95335707,
    "node_id": "U_kgDOBa61Gw",
    "avatar_url": "https://avatars.githubusercontent.com/u/95335707?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/DaraDoyoung",
    "html_url": "https://github.com/DaraDoyoung",
    "followers_url": "https://api.github.com/users/DaraDoyoung/followers",
    "following_url": "https://api.github.com/users/DaraDoyoung/following{/other_user}",
    "gists_url": "https://api.github.com/users/DaraDoyoung/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/DaraDoyoung/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/DaraDoyoung/subscriptions",
    "organizations_url": "https://api.github.com/users/DaraDoyoung/orgs",
    "repos_url": "https://api.github.com/users/DaraDoyoung/repos",
    "events_url": "https://api.github.com/users/DaraDoyoung/events{/privacy}",
    "received_events_url": "https://api.github.com/users/DaraDoyoung/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 0,
  "created_at": "2023-05-11T05:29:43Z",
  "updated_at": "2023-05-11T05:29:43Z",
  "closed_at": null,
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "#### System information\r\n\r\nErigon version: `erigon version 0.0.5-bor-9b3480d5`\r\n\r\nOS & Version: Linux\r\n\r\nErigon Command (with flags/config):\r\n```\r\nnohup /home/ubuntu/git/erigon/build/bin/erigon --datadir $DATA_DIR \\\r\n  --chain=mumbai \\\r\n  --bor.heimdall=http://localhost:1317 \\\r\n  --http \\\r\n  --http.addr 0.0.0.0 \\\r\n  --http.api 'eth,web3,net,debug,trace,txpool' \\\r\n  --http.vhosts '*' \\\r\n  --http.port 8545 \\\r\n  --ws \\\r\n  --torrent.upload.rate=\"512mb\" --torrent.download.rate=\"512mb\" \\\r\n  --private.api.addr=localhost:9091 \\\r\n  --txpool.globalslots 131072 \\\r\n  --txpool.globalbasefeeslots 60000 \\\r\n  --txpool.globalqueue 131072 \\\r\n  --metrics \\\r\n  >> ~/node/logs/bor.log \\\r\n  2>&1 &\r\n```\r\n\r\nChain/Network: Polygon / Mumbai\r\n\r\n\r\nBor has died giving `fatal error: concurrent map iteration and map write` error. I don't see what was the cause for the crash.\r\n\r\n#### Backtrace\r\n\r\n````\r\n[WARN] [05-11|03:28:08.204] [1/16 Snapshots Prune]                   err=\"retire blocks error: DumpBlocks: DumpHeaders: header missed in db: block_num=31000000,  hash=e5ac5cbd452fdf1a306e9af178242b4b33fe3837a8bf24591029faa036211a1a, fromBlock=31000000, toBlock=31500000\"\r\n[INFO] [05-11|03:28:08.205] [snapshots] Retire Blocks                range=31000k-31500k\r\n[INFO] [05-11|03:28:08.273] Commit cycle                             in=67.927425ms\r\n[INFO] [05-11|03:28:08.273] Timings (slower than 50ms)               Headers=1.959s\r\n[INFO] [05-11|03:28:08.273] Tables                                   PlainState=54.6GB AccountChangeSet=26.7GB StorageChangeSet=79.3GB BlockTransaction=25.6GB TransactionLog=251.5GB FreeList=16.0KB ReclaimableSpace=16.0MB\r\n[INFO] [05-11|03:28:08.273] RPC Daemon notified of new headers       from=35445090 to=35445091 hash=0xe2bb48612c4e7cec2baf8af473af1ab5a61873f66f57bd9cb67f53b4956c3a42 header sending=9.094µs log sending=287ns\r\n[INFO] [05-11|03:28:08.273] [2/16 Headers] Waiting for headers...    from=35445091\r\n[INFO] [05-11|03:28:10.119] [2/16 Headers] Processed                 highest inserted=35445092 age=0\r\n[INFO] [05-11|03:28:10.120] [5/16 Bodies] Writing block bodies       block_num=35445092 remaining=0 alloc=3.7GB sys=4.7GB\r\n[INFO] [05-11|03:28:10.123] [7/16 Execution] Completed on            block=35445092\r\n[WARN] [05-11|03:28:10.131] [1/16 Snapshots Prune]                   err=\"retire blocks error: DumpBlocks: DumpHeaders: header missed in db: block_num=31000000,  hash=e5ac5cbd452fdf1a306e9af178242b4b33fe3837a8bf24591029faa036211a1a, fromBlock=31000000, toBlock=31500000\"\r\n[INFO] [05-11|03:28:10.132] [snapshots] Retire Blocks                range=31000k-31500k\r\n[INFO] [05-11|03:28:10.150] Commit cycle                             in=18.17935ms\r\n[INFO] [05-11|03:28:10.150] Timings (slower than 50ms)               Headers=1.846s\r\n[INFO] [05-11|03:28:10.150] Tables                                   PlainState=54.6GB AccountChangeSet=26.7GB StorageChangeSet=79.3GB BlockTransaction=25.6GB TransactionLog=251.5GB FreeList=12.0KB ReclaimableSpace=12.0MB\r\n[INFO] [05-11|03:28:10.150] RPC Daemon notified of new headers       from=35445091 to=35445092 hash=0x704703b06e41ef6bad5fbacf78e47f06eeaf25163786507bac0834c00dc023fe header sending=9.883µs log sending=288ns\r\n[INFO] [05-11|03:28:10.150] [2/16 Headers] Waiting for headers...    from=35445092\r\n[INFO] [05-11|03:28:11.780] [p2p] GoodPeers                          eth66=38 eth67=21\r\n[INFO] [05-11|03:28:12.118] [2/16 Headers] Processed                 highest inserted=35445093 age=0\r\n[INFO] [05-11|03:28:12.119] [5/16 Bodies] Writing block bodies       block_num=35445093 remaining=0 alloc=3.7GB sys=4.7GB\r\n[INFO] [05-11|03:28:12.125] [7/16 Execution] Completed on            block=35445093\r\n[WARN] [05-11|03:28:12.128] [1/16 Snapshots Prune]                   err=\"retire blocks error: DumpBlocks: DumpHeaders: header missed in db: block_num=31000000,  hash=e5ac5cbd452fdf1a306e9af178242b4b33fe3837a8bf24591029faa036211a1a, fromBlock=31000000, toBlock=31500000\"\r\n[INFO] [05-11|03:28:12.128] [snapshots] Retire Blocks                range=31000k-31500k\r\n[INFO] [05-11|03:28:12.138] Commit cycle                             in=9.692757ms\r\n[INFO] [05-11|03:28:12.138] Timings (slower than 50ms)               Headers=1.968s\r\n[INFO] [05-11|03:28:12.138] Tables                                   PlainState=54.6GB AccountChangeSet=26.7GB StorageChangeSet=79.3GB BlockTransaction=25.6GB TransactionLog=251.5GB FreeList=12.0KB ReclaimableSpace=12.0MB\r\n[INFO] [05-11|03:28:12.138] RPC Daemon notified of new headers       from=35445092 to=35445093 hash=0xb1d462e5c3c41c8031d630bdab8056d64392a2d011021050b59abf107ed25564 header sending=9.157µs log sending=283ns\r\n[INFO] [05-11|03:28:12.138] [2/16 Headers] Waiting for headers...    from=35445093\r\nfatal error: concurrent map iteration and map write\r\n[ubuntu@prd-node-polygon-pos-testnet-erigon-archive-02:~/node/logs]$ cat bor.log | grep fatal -B100 -A100\r\n[INFO] [05-11|03:27:52.104] [5/16 Bodies] Writing block bodies       block_num=35445084 remaining=0 alloc=3.5GB sys=4.7GB\r\n[INFO] [05-11|03:27:52.109] [7/16 Execution] Completed on            block=35445084\r\n[WARN] [05-11|03:27:52.119] [1/16 Snapshots Prune]                   err=\"retire blocks error: DumpBlocks: DumpHeaders: header missed in db: block_num=31000000,  hash=e5ac5cbd452fdf1a306e9af178242b4b33fe3837a8bf24591029faa036211a1a, fromBlock=31000000, toBlock=31500000\"\r\n[INFO] [05-11|03:27:52.120] [snapshots] Retire Blocks                range=31000k-31500k\r\n[INFO] [05-11|03:27:52.153] Commit cycle                             in=33.436831ms\r\n[INFO] [05-11|03:27:52.153] Timings (slower than 50ms)               Headers=1.935s\r\n[INFO] [05-11|03:27:52.153] Tables                                   PlainState=54.6GB AccountChangeSet=26.7GB StorageChangeSet=79.3GB BlockTransaction=25.6GB TransactionLog=251.5GB FreeList=16.0KB ReclaimableSpace=16.0MB\r\n[INFO] [05-11|03:27:52.153] RPC Daemon notified of new headers       from=35445083 to=35445084 hash=0xd947c6749b529b7b3cee45e0821110c55223d1602bdb41c09a453a20ad646632 header sending=8.22µs log sending=289ns\r\n[INFO] [05-11|03:27:52.153] [2/16 Headers] Waiting for headers...    from=35445084\r\n[INFO] [05-11|03:27:54.107] [2/16 Headers] Processed                 highest inserted=35445085 age=0\r\n[INFO] [05-11|03:27:54.108] [5/16 Bodies] Writing block bodies       block_num=35445085 remaining=0 alloc=3.5GB sys=4.7GB\r\n[INFO] [05-11|03:27:54.111] [7/16 Execution] Completed on            block=35445085\r\n[WARN] [05-11|03:27:54.129] [1/16 Snapshots Prune]                   err=\"retire blocks error: DumpBlocks: DumpHeaders: header missed in db: block_num=31000000,  hash=e5ac5cbd452fdf1a306e9af178242b4b33fe3837a8bf24591029faa036211a1a, fromBlock=31000000, toBlock=31500000\"\r\n[INFO] [05-11|03:27:54.129] [snapshots] Retire Blocks                range=31000k-31500k\r\n[INFO] [05-11|03:27:54.158] Commit cycle                             in=28.640318ms\r\n[INFO] [05-11|03:27:54.158] Timings (slower than 50ms)               Headers=1.954s\r\n[INFO] [05-11|03:27:54.158] Tables                                   PlainState=54.6GB AccountChangeSet=26.7GB StorageChangeSet=79.3GB BlockTransaction=25.6GB TransactionLog=251.5GB FreeList=16.0KB ReclaimableSpace=16.0MB\r\n[INFO] [05-11|03:27:54.158] RPC Daemon notified of new headers       from=35445084 to=35445085 hash=0x90888d6bc13863dcd2ee36f51a7120b7fdb49e56a91370525192f30541020ea8 header sending=9.586µs log sending=303ns\r\n[INFO] [05-11|03:27:54.158] [2/16 Headers] Waiting for headers...    from=35445085\r\n[INFO] [05-11|03:27:56.107] [2/16 Headers] Processed                 highest inserted=35445086 age=0\r\n[INFO] [05-11|03:27:56.108] [5/16 Bodies] Writing block bodies       block_num=35445086 remaining=0 alloc=3.5GB sys=4.7GB\r\n[INFO] [05-11|03:27:56.112] [7/16 Execution] Completed on            block=35445086\r\n[WARN] [05-11|03:27:56.132] [1/16 Snapshots Prune]                   err=\"retire blocks error: DumpBlocks: DumpHeaders: header missed in db: block_num=31000000,  hash=e5ac5cbd452fdf1a306e9af178242b4b33fe3837a8bf24591029faa036211a1a, fromBlock=31000000, toBlock=31500000\"\r\n[INFO] [05-11|03:27:56.132] [snapshots] Retire Blocks                range=31000k-31500k\r\n[INFO] [05-11|03:27:56.155] Commit cycle                             in=22.38268ms\r\n[INFO] [05-11|03:27:56.155] Timings (slower than 50ms)               Headers=1.949s\r\n[INFO] [05-11|03:27:56.155] Tables                                   PlainState=54.6GB AccountChangeSet=26.7GB StorageChangeSet=79.3GB BlockTransaction=25.6GB TransactionLog=251.5GB FreeList=16.0KB ReclaimableSpace=16.0MB\r\n[INFO] [05-11|03:27:56.155] RPC Daemon notified of new headers       from=35445085 to=35445086 hash=0xcf285b28e2f63d656c3ead705b6d379ad3035e8c439f83ce79daf80bcccfb3b8 header sending=8.982µs log sending=288ns\r\n[INFO] [05-11|03:27:56.155] [2/16 Headers] Waiting for headers...    from=35445086\r\n[INFO] [05-11|03:27:58.174] [2/16 Headers] Processed                 highest inserted=35445087 age=0\r\n[INFO] [05-11|03:27:58.176] [5/16 Bodies] Writing block bodies       block_num=35445087 remaining=0 alloc=3.6GB sys=4.7GB\r\n[INFO] [05-11|03:27:58.178] [7/16 Execution] Completed on            block=35445087\r\n[WARN] [05-11|03:27:58.190] [1/16 Snapshots Prune]                   err=\"retire blocks error: DumpBlocks: DumpHeaders: header missed in db: block_num=31000000,  hash=e5ac5cbd452fdf1a306e9af178242b4b33fe3837a8bf24591029faa036211a1a, fromBlock=31000000, toBlock=31500000\"\r\n[INFO] [05-11|03:27:58.190] [snapshots] Retire Blocks                range=31000k-31500k\r\n[INFO] [05-11|03:27:58.212] Commit cycle                             in=22.141254ms\r\n[INFO] [05-11|03:27:58.212] Timings (slower than 50ms)               Headers=2.019s\r\n[INFO] [05-11|03:27:58.212] Tables                                   PlainState=54.6GB AccountChangeSet=26.7GB StorageChangeSet=79.3GB BlockTransaction=25.6GB TransactionLog=251.5GB FreeList=16.0KB ReclaimableSpace=16.0MB\r\n[INFO] [05-11|03:27:58.212] RPC Daemon notified of new headers       from=35445086 to=35445087 hash=0x6944498a2d4f9abc6d61b011c818b9422dc14e1a851e30cb11cf7b5c69a2d087 header sending=8.438µs log sending=264ns\r\n[INFO] [05-11|03:27:58.212] [2/16 Headers] Waiting for headers...    from=35445087\r\n[INFO] [05-11|03:28:02.111] [2/16 Headers] Processed                 highest inserted=35445088 age=0\r\n[INFO] [05-11|03:28:02.113] [5/16 Bodies] Writing block bodies       block_num=35445088 remaining=0 alloc=3.6GB sys=4.7GB\r\n[INFO] [05-11|03:28:02.123] [7/16 Execution] Completed on            block=35445088\r\n[WARN] [05-11|03:28:02.135] [1/16 Snapshots Prune]                   err=\"retire blocks error: DumpBlocks: DumpHeaders: header missed in db: block_num=31000000,  hash=e5ac5cbd452fdf1a306e9af178242b4b33fe3837a8bf24591029faa036211a1a, fromBlock=31000000, toBlock=31500000\"\r\n[INFO] [05-11|03:28:02.136] [snapshots] Retire Blocks                range=31000k-31500k\r\n[INFO] [05-11|03:28:02.163] Commit cycle                             in=27.254481ms\r\n[INFO] [05-11|03:28:02.163] Timings (slower than 50ms)               Headers=3.899s\r\n[INFO] [05-11|03:28:02.163] Tables                                   PlainState=54.6GB AccountChangeSet=26.7GB StorageChangeSet=79.3GB BlockTransaction=25.6GB TransactionLog=251.5GB FreeList=12.0KB ReclaimableSpace=12.0MB\r\n[INFO] [05-11|03:28:02.163] RPC Daemon notified of new headers       from=35445087 to=35445088 hash=0x8c2d333a2f7fa0a010acf2f89408e4b5599e3c257f4df4d82c663ccd8f59d515 header sending=8.678µs log sending=283ns\r\n[INFO] [05-11|03:28:02.163] [2/16 Headers] Waiting for headers...    from=35445088\r\n[INFO] [05-11|03:28:04.104] [2/16 Headers] Processed                 highest inserted=35445089 age=0\r\n[INFO] [05-11|03:28:04.105] [5/16 Bodies] Writing block bodies       block_num=35445089 remaining=0 alloc=3.6GB sys=4.7GB\r\n[INFO] [05-11|03:28:04.120] [7/16 Execution] Completed on            block=35445089\r\n[WARN] [05-11|03:28:04.160] [1/16 Snapshots Prune]                   err=\"retire blocks error: DumpBlocks: DumpHeaders: header missed in db: block_num=31000000,  hash=e5ac5cbd452fdf1a306e9af178242b4b33fe3837a8bf24591029faa036211a1a, fromBlock=31000000, toBlock=31500000\"\r\n[INFO] [05-11|03:28:04.160] [snapshots] Retire Blocks                range=31000k-31500k\r\n[INFO] [05-11|03:28:04.190] Commit cycle                             in=29.879576ms\r\n[INFO] [05-11|03:28:04.190] Timings (slower than 50ms)               Headers=1.941s\r\n[INFO] [05-11|03:28:04.190] Tables                                   PlainState=54.6GB AccountChangeSet=26.7GB StorageChangeSet=79.3GB BlockTransaction=25.6GB TransactionLog=251.5GB FreeList=12.0KB ReclaimableSpace=12.0MB\r\n[INFO] [05-11|03:28:04.190] RPC Daemon notified of new headers       from=35445088 to=35445089 hash=0xf2011f2c1f10ec3b3f1ea962429677eb2cf061a4570ef3b3d366385e10ea8545 header sending=10.964µs log sending=317ns\r\n[INFO] [05-11|03:28:04.190] [2/16 Headers] Waiting for headers...    from=35445089\r\n[INFO] [05-11|03:28:06.102] [2/16 Headers] Processed                 highest inserted=35445090 age=0\r\n[INFO] [05-11|03:28:06.103] [5/16 Bodies] Writing block bodies       block_num=35445090 remaining=0 alloc=3.7GB sys=4.7GB\r\n[INFO] [05-11|03:28:06.107] [7/16 Execution] Completed on            block=35445090\r\n[WARN] [05-11|03:28:06.147] [1/16 Snapshots Prune]                   err=\"retire blocks error: DumpBlocks: DumpHeaders: header missed in db: block_num=31000000,  hash=e5ac5cbd452fdf1a306e9af178242b4b33fe3837a8bf24591029faa036211a1a, fromBlock=31000000, toBlock=31500000\"\r\n[INFO] [05-11|03:28:06.148] [snapshots] Retire Blocks                range=31000k-31500k\r\n[INFO] [05-11|03:28:06.178] Commit cycle                             in=29.976898ms\r\n[INFO] [05-11|03:28:06.178] Timings (slower than 50ms)               Headers=1.911s\r\n[INFO] [05-11|03:28:06.178] Tables                                   PlainState=54.6GB AccountChangeSet=26.7GB StorageChangeSet=79.3GB BlockTransaction=25.6GB TransactionLog=251.5GB FreeList=12.0KB ReclaimableSpace=12.0MB\r\n[INFO] [05-11|03:28:06.178] RPC Daemon notified of new headers       from=35445089 to=35445090 hash=0x4aec4a82fa8000b829f2ac8285cf7bf71a339e86d13e7adc46c91bfde10730b6 header sending=10.155µs log sending=276ns\r\n[INFO] [05-11|03:28:06.178] [2/16 Headers] Waiting for headers...    from=35445090\r\n[INFO] [05-11|03:28:08.137] [2/16 Headers] Processed                 highest inserted=35445091 age=0\r\n[INFO] [05-11|03:28:08.139] [5/16 Bodies] Writing block bodies       block_num=35445091 remaining=0 alloc=3.7GB sys=4.7GB\r\n[INFO] [05-11|03:28:08.159] [7/16 Execution] Completed on            block=35445091\r\n[WARN] [05-11|03:28:08.204] [1/16 Snapshots Prune]                   err=\"retire blocks error: DumpBlocks: DumpHeaders: header missed in db: block_num=31000000,  hash=e5ac5cbd452fdf1a306e9af178242b4b33fe3837a8bf24591029faa036211a1a, fromBlock=31000000, toBlock=31500000\"\r\n[INFO] [05-11|03:28:08.205] [snapshots] Retire Blocks                range=31000k-31500k\r\n[INFO] [05-11|03:28:08.273] Commit cycle                             in=67.927425ms\r\n[INFO] [05-11|03:28:08.273] Timings (slower than 50ms)               Headers=1.959s\r\n[INFO] [05-11|03:28:08.273] Tables                                   PlainState=54.6GB AccountChangeSet=26.7GB StorageChangeSet=79.3GB BlockTransaction=25.6GB TransactionLog=251.5GB FreeList=16.0KB ReclaimableSpace=16.0MB\r\n[INFO] [05-11|03:28:08.273] RPC Daemon notified of new headers       from=35445090 to=35445091 hash=0xe2bb48612c4e7cec2baf8af473af1ab5a61873f66f57bd9cb67f53b4956c3a42 header sending=9.094µs log sending=287ns\r\n[INFO] [05-11|03:28:08.273] [2/16 Headers] Waiting for headers...    from=35445091\r\n[INFO] [05-11|03:28:10.119] [2/16 Headers] Processed                 highest inserted=35445092 age=0\r\n[INFO] [05-11|03:28:10.120] [5/16 Bodies] Writing block bodies       block_num=35445092 remaining=0 alloc=3.7GB sys=4.7GB\r\n[INFO] [05-11|03:28:10.123] [7/16 Execution] Completed on            block=35445092\r\n[WARN] [05-11|03:28:10.131] [1/16 Snapshots Prune]                   err=\"retire blocks error: DumpBlocks: DumpHeaders: header missed in db: block_num=31000000,  hash=e5ac5cbd452fdf1a306e9af178242b4b33fe3837a8bf24591029faa036211a1a, fromBlock=31000000, toBlock=31500000\"\r\n[INFO] [05-11|03:28:10.132] [snapshots] Retire Blocks                range=31000k-31500k\r\n[INFO] [05-11|03:28:10.150] Commit cycle                             in=18.17935ms\r\n[INFO] [05-11|03:28:10.150] Timings (slower than 50ms)               Headers=1.846s\r\n[INFO] [05-11|03:28:10.150] Tables                                   PlainState=54.6GB AccountChangeSet=26.7GB StorageChangeSet=79.3GB BlockTransaction=25.6GB TransactionLog=251.5GB FreeList=12.0KB ReclaimableSpace=12.0MB\r\n[INFO] [05-11|03:28:10.150] RPC Daemon notified of new headers       from=35445091 to=35445092 hash=0x704703b06e41ef6bad5fbacf78e47f06eeaf25163786507bac0834c00dc023fe header sending=9.883µs log sending=288ns\r\n[INFO] [05-11|03:28:10.150] [2/16 Headers] Waiting for headers...    from=35445092\r\n[INFO] [05-11|03:28:11.780] [p2p] GoodPeers                          eth66=38 eth67=21\r\n[INFO] [05-11|03:28:12.118] [2/16 Headers] Processed                 highest inserted=35445093 age=0\r\n[INFO] [05-11|03:28:12.119] [5/16 Bodies] Writing block bodies       block_num=35445093 remaining=0 alloc=3.7GB sys=4.7GB\r\n[INFO] [05-11|03:28:12.125] [7/16 Execution] Completed on            block=35445093\r\n[WARN] [05-11|03:28:12.128] [1/16 Snapshots Prune]                   err=\"retire blocks error: DumpBlocks: DumpHeaders: header missed in db: block_num=31000000,  hash=e5ac5cbd452fdf1a306e9af178242b4b33fe3837a8bf24591029faa036211a1a, fromBlock=31000000, toBlock=31500000\"\r\n[INFO] [05-11|03:28:12.128] [snapshots] Retire Blocks                range=31000k-31500k\r\n[INFO] [05-11|03:28:12.138] Commit cycle                             in=9.692757ms\r\n[INFO] [05-11|03:28:12.138] Timings (slower than 50ms)               Headers=1.968s\r\n[INFO] [05-11|03:28:12.138] Tables                                   PlainState=54.6GB AccountChangeSet=26.7GB StorageChangeSet=79.3GB BlockTransaction=25.6GB TransactionLog=251.5GB FreeList=12.0KB ReclaimableSpace=12.0MB\r\n[INFO] [05-11|03:28:12.138] RPC Daemon notified of new headers       from=35445092 to=35445093 hash=0xb1d462e5c3c41c8031d630bdab8056d64392a2d011021050b59abf107ed25564 header sending=9.157µs log sending=283ns\r\n[INFO] [05-11|03:28:12.138] [2/16 Headers] Waiting for headers...    from=35445093\r\nfatal error: concurrent map iteration and map write\r\n\r\ngoroutine 3943 [running]:\r\ngithub.com/ledgerwatch/erigon/turbo/engineapi.(*ForkValidator).clean(0xc06781d500)\r\n\tgithub.com/ledgerwatch/erigon/turbo/engineapi/fork_validator.go:321 +0x71\r\ngithub.com/ledgerwatch/erigon/turbo/engineapi.(*ForkValidator).TryAddingPoWBlock(0xc06781d500, 0xc0dfc1c0e0)\r\n\tgithub.com/ledgerwatch/erigon/turbo/engineapi/fork_validator.go:255 +0x189\r\ngithub.com/ledgerwatch/erigon/cmd/sentry/sentry.(*MultiClient).newBlock66(0xc06524b8c0, {0x2b545f8, 0xc003003100}, 0xc0c0ee7900, {0x2b72720, 0xc0652118c0})\r\n\tgithub.com/ledgerwatch/erigon/cmd/sentry/sentry/sentry_multi_client.go:492 +0x558\r\ngithub.com/ledgerwatch/erigon/cmd/sentry/sentry.(*MultiClient).handleInboundMessage(0x0?, {0x2b545f8?, 0xc003003100?}, 0xc0a1557e30?, {0x2b72720?, 0xc0652118c0?})\r\n\tgithub.com/ledgerwatch/erigon/cmd/sentry/sentry/sentry_multi_client.go:704 +0x5d\r\ngithub.com/ledgerwatch/erigon/cmd/sentry/sentry.(*MultiClient).HandleInboundMessage(0xc06fd87ee0?, {0x2b545f8, 0xc003003100}, 0xc0c0ee7900, {0x2b72720?, 0xc0652118c0?})\r\n\tgithub.com/ledgerwatch/erigon/cmd/sentry/sentry/sentry_multi_client.go:679 +0xb9\r\ngithub.com/ledgerwatch/erigon/cmd/sentry/sentry.pumpStreamLoop[...].func2()\r\n\tgithub.com/ledgerwatch/erigon/cmd/sentry/sentry/sentry_multi_client.go:214 +0xde\r\ncreated by github.com/ledgerwatch/erigon/cmd/sentry/sentry.pumpStreamLoop[...]\r\n\tgithub.com/ledgerwatch/erigon/cmd/sentry/sentry/sentry_multi_client.go:212 +0x2ce\r\n\r\ngoroutine 1 [chan receive, 696 minutes]:\r\ngithub.com/ledgerwatch/erigon/node.(*Node).Wait(...)\r\n\tgithub.com/ledgerwatch/erigon/node/node.go:266\r\ngithub.com/ledgerwatch/erigon/turbo/node.(*ErigonNode).Serve(0xc067837d50)\r\n\tgithub.com/ledgerwatch/erigon/turbo/node/node.go:32 +0x7c\r\nmain.runErigon(0xc0006a4500?)\r\n\tgithub.com/ledgerwatch/erigon/cmd/erigon/main.go:67 +0x350\r\ngithub.com/urfave/cli/v2.(*Command).Run(0xc0006a4500, 0xc0004d6b80, {0xc00012c000, 0x1b, 0x1c})\r\n\tgithub.com/urfave/cli/v2@v2.23.5/command.go:271 +0xaab\r\ngithub.com/urfave/cli/v2.(*App).RunContext(0xc00021c000, {0x2b54630?, 0xc000130020}, {0xc00012c000, 0x1b, 0x1c})\r\n\tgithub.com/urfave/cli/v2@v2.23.5/app.go:329 +0x665\r\ngithub.com/urfave/cli/v2.(*App).Run(...)\r\n\tgithub.com/urfave/cli/v2@v2.23.5/app.go:306\r\nmain.main()\r\n\tgithub.com/ledgerwatch/erigon/cmd/erigon/main.go:37 +0x85\r\n\r\ngoroutine 19 [sleep]:\r\ntime.Sleep(0x22ecb25c00)\r\n\truntime/time.go:195 +0x135\r\ngithub.com/VictoriaMetrics/metrics.summariesSwapCron(0x45d964b800)\r\n\tgithub.com/VictoriaMetrics/metrics@v1.23.0/summary.go:237 +0x36\r\ncreated by github.com/VictoriaMetrics/metrics.registerSummaryLocked\r\n\tgithub.com/VictoriaMetrics/metrics@v1.23.0/summary.go:211 +0x128\r\n\r\ngoroutine 6 [select, 696 minutes]:\r\ngithub.com/ipfs/go-log/writer.(*MirrorWriter).logRoutine(0xc0001d8480)\r\n\tgithub.com/ipfs/go-log@v1.0.5/writer/writer.go:71 +0x11f\r\ncreated by github.com/ipfs/go-log/writer.NewMirrorWriter\r\n\tgithub.com/ipfs/go-log@v1.0.5/writer/writer.go:36 +0xca\r\n\r\ngoroutine 351324 [chan receive, 688 minutes]:\r\ngithub.com/ledgerwatch/erigon-lib/compress.processSuperstring(0xc0635dbfa0?, 0xc08116b400, 0x400, 0xc0818228d0?)\r\n\tgithub.com/ledgerwatch/erigon-lib@v0.0.0-20221207100619-d17eca89a112/compress/parallel_compress.go:750 +0x13c\r\ncreated by github.com/ledgerwatch/erigon-lib/compress.NewCompressor\r\n\tgithub.com/ledgerwatch/erigon-lib@v0.0.0-20221207100619-d17eca89a112/compress/compress.go:101 +0x251\r\n\r\ngoroutine 486 [select, 696 minutes]:\r\ngithub.com/anacrolix/torrent.(*trackerScraper).Run.func1()\r\n\tgithub.com/anacrolix/torrent@v1.47.0/tracker_scraper.go:207 +0xca\r\ncreated by github.com/anacrolix/torrent.(*trackerScraper).Run\r\n\tgithub.com/anacrolix/torrent@v1.47.0/tracker_scraper.go:205 +0x12e\r\n\r\ngoroutine 28006 [chan receive, 696 minutes]:\r\ngithub.com/ledgerwatch/erigon-lib/compress.processSuperstring(0xc08cd2dfa0?, 0xc08d1e56d0, 0x400, 0xc08d0c85a0?)\r\n\tgithub.com/ledgerwatch/erigon-lib@v0.0.0-20221207100619-d17eca89a112/compress/parallel_compress.go:750 +0x13c\r\ncreated by github.com/ledgerwatch/erigon-lib/compress.NewCompressor\r\n\tgithub.com/ledgerwatch/erigon-lib@v0.0.0-20221207100619-d17eca89a112/compress/compress.go:101 +0x251\r\n\r\ngoroutine 196229 [chan receive, 692 minutes]:\r\ngithub.com/ledgerwatch/erigon-lib/compress.processSuperstring(0xc06fd4cb60?, 0xc083922910, 0x400, 0x0?)\r\n\tgithub.com/ledgerwatch/erigon-lib@v0.0.0-20221207100619-d17eca89a112/compress/parallel_compress.go:750 +0x13c\r\ncreated by github.com/ledgerwatch/erigon-lib/compress.NewCompressor\r\n\tgithub.com/ledgerwatch/erigon-lib@v0.0.0-20221207100619-d17eca89a112/compress/compress.go:101 +0x251\r\n\r\ngoroutine 19605 [chan receive, 696 minutes]:\r\ngithub.com/ledgerwatch/erigon-lib/compress.processSuperstring(0xf9c738bb?, 0xc077236370, 0x400, 0xc000118260?)\r\n\tgithub.com/ledgerwatch/erigon-lib@v0.0.0-20221207100619-d17eca89a112/compress/parallel_compress.go:750 +0x13c\r\ncreated by github.com/ledgerwatch/erigon-lib/compress.NewCompressor\r\n\tgithub.com/ledgerwatch/erigon-lib@v0.0.0-20221207100619-d17eca89a112/compress/compress.go:101 +0x251\r\n\r\ngoroutine 579484 [chan receive, 684 minutes]:\r\ngithub.com/ledgerwatch/erigon-lib/compress.processSuperstring(0xc08ea6e840?, 0xc09ff7fef0, 0x400, 0xc084050ca0?)\r\n\tgithub.com/ledgerwatch/erigon-lib@v0.0.0-20221207100619-d17eca89a112/compress/parallel_compress.go:750 +0x13c\r\ncreated by github.com/ledgerwatch/erigon-lib/compress.NewCompressor\r\n\tgithub.com/ledgerwatch/erigon-lib@v0.0.0-20221207100619-d17eca89a112/compress/compress.go:101 +0x251\r\n\r\ngoroutine 2137887 [chan receive, 647 minutes]:\r\ngithub.com/ledgerwatch/erigon-lib/compress.processSuperstring(0xc074cc3fa0?, 0xc0afb60b40, 0x400, 0xc074cc3f88?)\r\n\tgithub.com/ledgerwatch/erigon-lib@v0.0.0-20221207100619-d17eca89a112/compress/parallel_compress.go:750 +0x13c\r\ncreated by github.com/ledgerwatch/erigon-lib/compress.NewCompressor\r\n\tgithub.com/ledgerwatch/erigon-lib@v0.0.0-20221207100619-d17eca89a112/compress/compress.go:101 +0x251\r\n\r\ngoroutine 487 [select, 696 minutes]:\r\ngithub.com/anacrolix/torrent.(*trackerScraper).Run.func1()\r\n\tgithub.com/anacrolix/torrent@v1.47.0/tracker_scraper.go:207 +0xca\r\ncreated by github.com/anacrolix/torrent.(*trackerScraper).Run\r\n\tgithub.com/anacrolix/torrent@v1.47.0/tracker_scraper.go:205 +0x12e\r\n\r\ngoroutine 26 [select, 6 minutes]:\r\ngithub.com/anacrolix/torrent.(*Client).acceptLimitClearer(0xc063366000)\r\n\tgithub.com/anacrolix/torrent@v1.47.0/client.go:1652 +0xa5\r\ncreated by github.com/anacrolix/torrent.NewClient\r\n\tgithub.com/anacrolix/torrent@v1.47.0/client.go:222 +0x2f5\r\n````\r\n",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/7491/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/7491/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[

]
