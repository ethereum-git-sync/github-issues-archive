{
  "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/4794",
  "repository_url": "https://api.github.com/repos/ledgerwatch/erigon",
  "labels_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/4794/labels{/name}",
  "comments_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/4794/comments",
  "events_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/4794/events",
  "html_url": "https://github.com/ledgerwatch/erigon/issues/4794",
  "id": 1315123984,
  "node_id": "I_kwDOC0FsAM5OYzMQ",
  "number": 4794,
  "title": "method eth_getTransactionReceipt context canceled",
  "user": {
    "login": "FWangZil",
    "id": 20198261,
    "node_id": "MDQ6VXNlcjIwMTk4MjYx",
    "avatar_url": "https://avatars.githubusercontent.com/u/20198261?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/FWangZil",
    "html_url": "https://github.com/FWangZil",
    "followers_url": "https://api.github.com/users/FWangZil/followers",
    "following_url": "https://api.github.com/users/FWangZil/following{/other_user}",
    "gists_url": "https://api.github.com/users/FWangZil/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/FWangZil/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/FWangZil/subscriptions",
    "organizations_url": "https://api.github.com/users/FWangZil/orgs",
    "repos_url": "https://api.github.com/users/FWangZil/repos",
    "events_url": "https://api.github.com/users/FWangZil/events{/privacy}",
    "received_events_url": "https://api.github.com/users/FWangZil/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 4566396003,
      "node_id": "LA_kwDOC0FsAM8AAAABEC2sYw",
      "url": "https://api.github.com/repos/ledgerwatch/erigon/labels/Stale",
      "name": "Stale",
      "color": "ededed",
      "default": false,
      "description": null
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 6,
  "created_at": "2022-07-22T15:08:05Z",
  "updated_at": "2022-12-26T02:28:09Z",
  "closed_at": "2022-12-26T02:28:09Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "#### System information\r\n\r\nErigon version: git_branch=devel git_tag=v2021.10.03-1506-gd6001225e-dirty git_commit=d6001225e7c9e13eb5a9ab34d12d60403c861df6\r\n\r\nOS & Version: Linux Ubuntu 18.04.6 LTS (GNU/Linux 4.15.0-163-generic x86_64)\r\n\r\nCommit hash : d6001225e7c9e13eb5a9ab34d12d60403c861df6\r\n\r\n#### Expected behaviour\r\nGet the right response\r\n\r\n#### Actual behaviour\r\nRequest time out and the rpc client loses response for a long time and even needs to restart the service to restore the function\r\n\r\n#### Steps to reproduce the behaviour\r\nDense request eth_getTransactionReceipt (QPS>800 OR some normal requests may QPS close to 100)\r\nTry \"params\":[\"0xab059a62e22e230fe0f56d855534\":[\"0xab059a62e22e230fe0f56d8555340a29b2e9532360368f810595453f6fdd213b\"]\r\n\r\n#### Backtrace\r\n\r\n````\r\nerigon[21034]: [WARN] [07-22|16:52:11.080] Served conn=x.x.x.x.:x method=eth_getTransactionReceipt reqid=0 t=1.000778995s err=\"context canceled\"\r\nerigon[21034]: [INFO] [07-22|16:53:44.518] [p2p] GoodPeers eth66=29\r\n````\r\n",
  "closed_by": {
    "login": "github-actions[bot]",
    "id": 41898282,
    "node_id": "MDM6Qm90NDE4OTgyODI=",
    "avatar_url": "https://avatars.githubusercontent.com/in/15368?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/github-actions%5Bbot%5D",
    "html_url": "https://github.com/apps/github-actions",
    "followers_url": "https://api.github.com/users/github-actions%5Bbot%5D/followers",
    "following_url": "https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}",
    "gists_url": "https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/github-actions%5Bbot%5D/subscriptions",
    "organizations_url": "https://api.github.com/users/github-actions%5Bbot%5D/orgs",
    "repos_url": "https://api.github.com/users/github-actions%5Bbot%5D/repos",
    "events_url": "https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}",
    "received_events_url": "https://api.github.com/users/github-actions%5Bbot%5D/received_events",
    "type": "Bot",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/4794/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/4794/timeline",
  "performed_via_github_app": null,
  "state_reason": "not_planned"
}
[
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1193044401",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/4794#issuecomment-1193044401",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/4794",
    "id": 1193044401,
    "node_id": "IC_kwDOC0FsAM5HHGmx",
    "user": {
      "login": "FWangZil",
      "id": 20198261,
      "node_id": "MDQ6VXNlcjIwMTk4MjYx",
      "avatar_url": "https://avatars.githubusercontent.com/u/20198261?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/FWangZil",
      "html_url": "https://github.com/FWangZil",
      "followers_url": "https://api.github.com/users/FWangZil/followers",
      "following_url": "https://api.github.com/users/FWangZil/following{/other_user}",
      "gists_url": "https://api.github.com/users/FWangZil/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/FWangZil/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/FWangZil/subscriptions",
      "organizations_url": "https://api.github.com/users/FWangZil/orgs",
      "repos_url": "https://api.github.com/users/FWangZil/repos",
      "events_url": "https://api.github.com/users/FWangZil/events{/privacy}",
      "received_events_url": "https://api.github.com/users/FWangZil/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-07-23T02:50:29Z",
    "updated_at": "2022-07-23T02:53:37Z",
    "author_association": "NONE",
    "body": "The full command I executed was: \r\n``` shell\r\nerigon --snapshots true —-rpc.batch.concurrency 10 --private.api.ratelimit 63744 --http --ws --http.vhosts eth.rpc.local --snap.keepblocks=true --http.api=eth,erigon,web3,net,debug,trace,txpool  --http.addr xxx.xxx.xxx.xxx --pprof --pprof.port 6060\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1193044401/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1195338428",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/4794#issuecomment-1195338428",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/4794",
    "id": 1195338428,
    "node_id": "IC_kwDOC0FsAM5HP2q8",
    "user": {
      "login": "mandrigin",
      "id": 466427,
      "node_id": "MDQ6VXNlcjQ2NjQyNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/466427?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mandrigin",
      "html_url": "https://github.com/mandrigin",
      "followers_url": "https://api.github.com/users/mandrigin/followers",
      "following_url": "https://api.github.com/users/mandrigin/following{/other_user}",
      "gists_url": "https://api.github.com/users/mandrigin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mandrigin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mandrigin/subscriptions",
      "organizations_url": "https://api.github.com/users/mandrigin/orgs",
      "repos_url": "https://api.github.com/users/mandrigin/repos",
      "events_url": "https://api.github.com/users/mandrigin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mandrigin/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-07-26T11:05:07Z",
    "updated_at": "2022-07-26T11:05:07Z",
    "author_association": "COLLABORATOR",
    "body": "@FWangZil the log entry just shows that your request timeouted, nothing about the Erigon issues itself. Can you attach the full log?",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1195338428/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1196519518",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/4794#issuecomment-1196519518",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/4794",
    "id": 1196519518,
    "node_id": "IC_kwDOC0FsAM5HUXBe",
    "user": {
      "login": "FWangZil",
      "id": 20198261,
      "node_id": "MDQ6VXNlcjIwMTk4MjYx",
      "avatar_url": "https://avatars.githubusercontent.com/u/20198261?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/FWangZil",
      "html_url": "https://github.com/FWangZil",
      "followers_url": "https://api.github.com/users/FWangZil/followers",
      "following_url": "https://api.github.com/users/FWangZil/following{/other_user}",
      "gists_url": "https://api.github.com/users/FWangZil/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/FWangZil/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/FWangZil/subscriptions",
      "organizations_url": "https://api.github.com/users/FWangZil/orgs",
      "repos_url": "https://api.github.com/users/FWangZil/repos",
      "events_url": "https://api.github.com/users/FWangZil/events{/privacy}",
      "received_events_url": "https://api.github.com/users/FWangZil/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-07-27T09:57:15Z",
    "updated_at": "2022-07-27T10:03:58Z",
    "author_association": "NONE",
    "body": "> @FWangZil the log entry just shows that your request timeouted, nothing about the Erigon issues itself. Can you attach the full log?\r\n\r\nOk, I didn't attach the log before because I didn't find any logs of errors in the meantime, **erigon's full log** looks like this:\r\n\r\n``` bash\r\nVERSION:\r\n   2022.99.99-dev-101e181c\r\nerigon[27174]: [INFO] [07-27|11:24:47.322] [1/16 Headers] Waiting for headers...    from=15223695\r\nerigon[27174]: [INFO] [07-27|11:25:04.357] [1/16 Headers] Processed                 highest inserted=15223696 age=17s\r\nerigon[27174]: [INFO] [07-27|11:25:04.566] [6/16 Execution] Completed on            block=15223696\r\nerigon[27174]: [INFO] [07-27|11:25:04.756] [13/16 LogIndex] Running from blocks 15223696 to 15223696 endBlock=15223696\r\nerigon[27174]: [INFO] [07-27|11:25:04.779] Timings (slower than 50ms)               Headers=17.035s Bodies=109ms Execution=79ms IntermediateHashes=91ms\r\nerigon[27174]: [INFO] [07-27|11:25:04.779] Tables                                   PlainState=70.5GB AccountChangeSet=157.7GB StorageChangeSet=231.1GB BlockTransaction=9.4GB TransactionLog=423.0GB FreeList=98.0MB ReclaimableSpace=98.0GB\r\nerigon[27174]: [INFO] [07-27|11:25:04.892] Commit cycle                             in=113.542573ms\r\nerigon[27174]: [INFO] [07-27|11:25:04.892] RPC Daemon notified of new headers       from=15223695 to=15223696 header sending=8.877µs log sending=261ns\r\nerigon[27174]: [INFO] [07-27|11:25:04.893] [1/16 Headers] Waiting for headers...    from=15223696\r\nerigon[27174]: [INFO] [07-27|11:25:04.896] [1/16 Headers] Processed                 highest inserted=15223697 age=0\r\nerigon[27174]: [INFO] [07-27|11:25:04.897] [6/16 Execution] Completed on            block=15223697\r\nerigon[27174]: [INFO] [07-27|11:25:04.898] [13/16 LogIndex] Running from blocks 15223697 to 15223697 endBlock=15223697\r\nerigon[27174]: [INFO] [07-27|11:25:04.899] Commit cycle                             in=548.596µs\r\nerigon[27174]: [INFO] [07-27|11:25:04.899] RPC Daemon notified of new headers       from=15223696 to=15223697 header sending=6.693µs log sending=130ns\r\nerigon[27174]: [INFO] [07-27|11:25:04.899] [1/16 Headers] Waiting for headers...    from=15223697\r\nerigon[27174]: [INFO] [07-27|11:25:11.575] [1/16 Headers] Processed                 highest inserted=15223698 age=6s\r\nerigon[27174]: [INFO] [07-27|11:25:11.591] [6/16 Execution] Completed on            block=15223698\r\nerigon[27174]: [INFO] [07-27|11:25:11.618] [13/16 LogIndex] Running from blocks 15223698 to 15223698 endBlock=15223698\r\nerigon[27174]: [INFO] [07-27|11:25:11.622] Timings (slower than 50ms)               Headers=6.676s\r\nerigon[27174]: [INFO] [07-27|11:25:11.622] Tables                                   PlainState=70.5GB AccountChangeSet=157.7GB StorageChangeSet=231.1GB BlockTransaction=9.4GB TransactionLog=423.0GB FreeList=98.0MB ReclaimableSpace=98.0GB\r\nerigon[27174]: [INFO] [07-27|11:25:11.775] Commit cycle                             in=153.811776ms\r\nerigon[27174]: [INFO] [07-27|11:25:11.776] RPC Daemon notified of new headers       from=15223697 to=15223698 header sending=5.961µs log sending=200ns\r\nerigon[27174]: [INFO] [07-27|11:25:11.776] [1/16 Headers] Waiting for headers...    from=15223698\r\nerigon[27174]: [INFO] [07-27|11:25:21.381] [txpool] stat                            block=15223698 pending=3942 baseFee=30000 queued=29998 alloc=3.0GB sys=7.8GB\r\nerigon[27174]: [INFO] [07-27|11:25:25.457] [1/16 Headers] Processed                 highest inserted=15223699 age=14s\r\nerigon[27174]: [INFO] [07-27|11:25:25.746] [6/16 Execution] Completed on            block=15223699\r\nerigon[27174]: [INFO] [07-27|11:25:25.938] [13/16 LogIndex] Running from blocks 15223699 to 15223699 endBlock=15223699\r\nerigon[27174]: [INFO] [07-27|11:25:25.961] Timings (slower than 50ms)               Headers=13.681s Bodies=173ms Execution=95ms IntermediateHashes=88ms\r\nerigon[27174]: [INFO] [07-27|11:25:25.961] Tables                                   PlainState=70.5GB AccountChangeSet=157.7GB StorageChangeSet=231.1GB BlockTransaction=9.4GB TransactionLog=423.0GB FreeList=98.0MB ReclaimableSpace=98.0GB\r\nerigon[27174]: [INFO] [07-27|11:25:26.079] Commit cycle                             in=117.816296ms\r\nerigon[27174]: [INFO] [07-27|11:25:26.079] RPC Daemon notified of new headers       from=15223698 to=15223699 header sending=11.561µs log sending=281ns\r\nerigon[27174]: [INFO] [07-27|11:25:26.079] [1/16 Headers] Waiting for headers...    from=15223699\r\nerigon[27174]: [INFO] [07-27|11:25:41.748] [1/16 Headers] Processed                 highest inserted=15223700 age=16s\r\nerigon[27174]: [INFO] [07-27|11:25:41.826] [6/16 Execution] Completed on            block=15223700\r\nerigon[27174]: [INFO] [07-27|11:25:41.888] [13/16 LogIndex] Running from blocks 15223700 to 15223700 endBlock=15223700\r\nerigon[27174]: [INFO] [07-27|11:25:41.892] Timings (slower than 50ms)               Headers=15.669s\r\nerigon[27174]: [INFO] [07-27|11:25:41.892] Tables                                   PlainState=70.5GB AccountChangeSet=157.7GB StorageChangeSet=231.1GB BlockTransaction=9.4GB TransactionLog=423.0GB FreeList=98.0MB ReclaimableSpace=98.0GB\r\nerigon[27174]: [INFO] [07-27|11:25:41.995] Commit cycle                             in=102.761219ms\r\nerigon[27174]: [INFO] [07-27|11:25:41.995] RPC Daemon notified of new headers       from=15223699 to=15223700 header sending=7.815µs log sending=210ns\r\nerigon[27174]: [INFO] [07-27|11:25:41.995] [1/16 Headers] Waiting for headers...    from=15223700\r\nerigon[27174]: [INFO] [07-27|11:26:01.996] [1/16 Headers] Wrote block headers       number=15223700 blk/second=0.000 alloc=3.3GB sys=7.8GB\r\nerigon[27174]: [INFO] [07-27|11:26:20.271] [p2p] GoodPeers                          eth66=33\r\nerigon[27174]: [INFO] [07-27|11:26:20.629] [txpool] stat                            block=15223700 pending=4418 baseFee=30000 queued=29994 alloc=3.4GB sys=7.8GB\r\nerigon[27174]: [INFO] [07-27|11:26:21.996] [1/16 Headers] Wrote block headers       number=15223700 blk/second=0.000 alloc=3.4GB sys=7.8GB\r\nerigon[27174]: [INFO] [07-27|11:26:40.166] [1/16 Headers] Processed                 highest inserted=15223701 age=58s\r\nerigon[27174]: [INFO] [07-27|11:26:40.480] [6/16 Execution] Completed on            block=15223701\r\nerigon[27174]: [INFO] [07-27|11:26:40.809] [13/16 LogIndex] Running from blocks 15223701 to 15223701 endBlock=15223701\r\nerigon[27174]: [INFO] [07-27|11:26:40.843] Timings (slower than 50ms)               Headers=58.17s Bodies=52ms Senders=128ms Execution=132ms HashState=65ms IntermediateHashes=146ms\r\nerigon[27174]: [INFO] [07-27|11:26:40.843] Tables                                   PlainState=70.5GB AccountChangeSet=157.7GB StorageChangeSet=231.1GB BlockTransaction=9.4GB TransactionLog=423.0GB FreeList=98.0MB ReclaimableSpace=98.0GB\r\nerigon[27174]: [INFO] [07-27|11:26:40.984] Commit cycle                             in=140.443351ms\r\nerigon[27174]: [INFO] [07-27|11:26:47.373] RPC Daemon notified of new headers       from=15223700 to=15223701 header sending=33.904µs log sending=561ns\r\nerigon[27174]: [INFO] [07-27|11:26:57.336] [1/16 Headers] Waiting for headers...    from=15223701\r\nerigon[27174]: [INFO] [07-27|11:27:17.337] [1/16 Headers] Wrote block headers       number=15223701 blk/second=0.000 alloc=3.0GB sys=7.8GB\r\nerigon[27174]: [INFO] [07-27|11:27:18.554] [1/16 Headers] Processed                 highest inserted=15223702 age=38s\r\nerigon[27174]: [INFO] [07-27|11:27:18.769] [6/16 Execution] Completed on            block=15223702\r\nerigon[27174]: [INFO] [07-27|11:27:19.172] [13/16 LogIndex] Running from blocks 15223702 to 15223702 endBlock=15223702\r\nerigon[27174]: [INFO] [07-27|11:27:19.202] Timings (slower than 50ms)               Headers=21.217s Senders=78ms Execution=88ms HashState=68ms IntermediateHashes=178ms CallTraces=63ms AccountHistoryIndex=58ms\r\nerigon[27174]: [INFO] [07-27|11:27:19.203] Tables                                   PlainState=70.5GB AccountChangeSet=157.7GB StorageChangeSet=231.1GB BlockTransaction=9.4GB TransactionLog=423.0GB FreeList=98.0MB ReclaimableSpace=98.0GB\r\nerigon[27174]: [INFO] [07-27|11:27:19.329] Commit cycle                             in=126.411589ms\r\nerigon[27174]: [INFO] [07-27|11:27:27.378] RPC Daemon notified of new headers       from=15223701 to=15223702 header sending=12.023µs log sending=290ns\r\nerigon[27174]: [INFO] [07-27|11:27:27.382] [1/16 Headers] Waiting for headers...    from=15223702\r\nerigon[27174]: [INFO] [07-27|11:27:27.410] [txpool] stat                            block=15223701 pending=5158 baseFee=30000 queued=30000 alloc=3.2GB sys=7.8GB\r\nerigon[27174]: [INFO] [07-27|11:27:37.983] [1/16 Headers] Processed                 highest inserted=15223703 age=19s\r\nerigon[27174]: [INFO] [07-27|11:27:38.159] [6/16 Execution] Completed on            block=15223703\r\nerigon[27174]: [INFO] [07-27|11:27:38.383] [13/16 LogIndex] Running from blocks 15223703 to 15223703 endBlock=15223703\r\nerigon[27174]: [INFO] [07-27|11:27:38.404] Timings (slower than 50ms)               Headers=10.601s Bodies=84ms Execution=68ms IntermediateHashes=98ms\r\nerigon[27174]: [INFO] [07-27|11:27:38.404] Tables                                   PlainState=70.5GB AccountChangeSet=157.7GB StorageChangeSet=231.1GB BlockTransaction=9.4GB TransactionLog=423.0GB FreeList=98.0MB ReclaimableSpace=98.0GB\r\nerigon[27174]: [INFO] [07-27|11:27:38.500] Commit cycle                             in=96.045663ms\r\nerigon[27174]: [INFO] [07-27|11:27:38.500] RPC Daemon notified of new headers       from=15223702 to=15223703 header sending=5.37µs log sending=220ns\r\nerigon[27174]: [INFO] [07-27|11:27:38.500] [1/16 Headers] Waiting for headers...    from=15223703\r\nerigon[27174]: [INFO] [07-27|11:27:47.984] [1/16 Headers] Processed                 highest inserted=15223704 age=9s\r\nerigon[27174]: [INFO] [07-27|11:27:48.219] [6/16 Execution] Completed on            block=15223704\r\nerigon[27174]: [INFO] [07-27|11:27:48.488] [13/16 LogIndex] Running from blocks 15223704 to 15223704 endBlock=15223704\r\nerigon[27174]: [INFO] [07-27|11:27:48.518] Timings (slower than 50ms)               Headers=9.484s Bodies=101ms Execution=111ms IntermediateHashes=124ms\r\nerigon[27174]: [INFO] [07-27|11:27:48.518] Tables                                   PlainState=70.5GB AccountChangeSet=157.7GB StorageChangeSet=231.1GB BlockTransaction=9.4GB TransactionLog=423.0GB FreeList=98.0MB ReclaimableSpace=98.0GB\r\nerigon[27174]: [INFO] [07-27|11:27:48.647] Commit cycle                             in=129.01218ms\r\nerigon[27174]: [INFO] [07-27|11:27:48.647] RPC Daemon notified of new headers       from=15223703 to=15223704 header sending=5.43µs log sending=201ns\r\nerigon[27174]: [INFO] [07-27|11:27:48.647] [1/16 Headers] Waiting for headers...    from=15223704\r\nerigon[27174]: [INFO] [07-27|11:27:52.350] [1/16 Headers] Processed                 highest inserted=15223705 age=4s\r\nerigon[27174]: [INFO] [07-27|11:27:52.532] [6/16 Execution] Completed on            block=15223705\r\nerigon[27174]: [INFO] [07-27|11:27:52.686] [13/16 LogIndex] Running from blocks 15223705 to 15223705 endBlock=15223705\r\nerigon[27174]: [INFO] [07-27|11:27:52.706] Timings (slower than 50ms)               Headers=3.702s Bodies=90ms Execution=76ms IntermediateHashes=68ms\r\nerigon[27174]: [INFO] [07-27|11:27:52.706] Tables                                   PlainState=70.5GB AccountChangeSet=157.7GB StorageChangeSet=231.1GB BlockTransaction=9.4GB TransactionLog=423.0GB FreeList=98.0MB ReclaimableSpace=98.0GB\r\nerigon[27174]: [INFO] [07-27|11:27:52.790] Commit cycle                             in=83.867378ms\r\nerigon[27174]: [INFO] [07-27|11:27:52.790] RPC Daemon notified of new headers       from=15223704 to=15223705 header sending=6.362µs log sending=230ns\r\nerigon[27174]: [INFO] [07-27|11:27:52.790] [1/16 Headers] Waiting for headers...    from=15223705\r\nerigon[27174]: [INFO] [07-27|11:28:00.592] [1/16 Headers] Processed                 highest inserted=15223706 age=8s\r\nerigon[27174]: [INFO] [07-27|11:28:00.658] [6/16 Execution] Completed on            block=15223706\r\nerigon[27174]: [INFO] [07-27|11:28:00.718] [13/16 LogIndex] Running from blocks 15223706 to 15223706 endBlock=15223706\r\nerigon[27174]: [INFO] [07-27|11:28:00.726] Timings (slower than 50ms)               Headers=7.802s\r\nerigon[27174]: [INFO] [07-27|11:28:00.726] Tables                                   PlainState=70.5GB AccountChangeSet=157.7GB StorageChangeSet=231.1GB BlockTransaction=9.4GB TransactionLog=423.0GB FreeList=98.0MB ReclaimableSpace=98.0GB\r\nerigon[27174]: [INFO] [07-27|11:28:00.836] Commit cycle                             in=109.205864ms\r\n\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1196519518/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1196519716",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/4794#issuecomment-1196519716",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/4794",
    "id": 1196519716,
    "node_id": "IC_kwDOC0FsAM5HUXEk",
    "user": {
      "login": "FWangZil",
      "id": 20198261,
      "node_id": "MDQ6VXNlcjIwMTk4MjYx",
      "avatar_url": "https://avatars.githubusercontent.com/u/20198261?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/FWangZil",
      "html_url": "https://github.com/FWangZil",
      "followers_url": "https://api.github.com/users/FWangZil/followers",
      "following_url": "https://api.github.com/users/FWangZil/following{/other_user}",
      "gists_url": "https://api.github.com/users/FWangZil/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/FWangZil/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/FWangZil/subscriptions",
      "organizations_url": "https://api.github.com/users/FWangZil/orgs",
      "repos_url": "https://api.github.com/users/FWangZil/repos",
      "events_url": "https://api.github.com/users/FWangZil/events{/privacy}",
      "received_events_url": "https://api.github.com/users/FWangZil/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-07-27T09:57:25Z",
    "updated_at": "2022-07-27T10:03:40Z",
    "author_association": "NONE",
    "body": "> @FWangZil the log entry just shows that your request timeouted, nothing about the Erigon issues itself. Can you attach the full log?\r\n\r\nThe logs of **rpcdaemon** during the same period are:\r\nps. Ignored a lot of logs like this one: \r\n\r\n[INFO] [07-27|11:27:27.389] Served conn=142.132.231.35:50112 t=10.000506024s method=eth_getTransactionReceipt reqid=0 params=\"[\\\"0xab059a62e22e230fe0f56d8555340a29b2e9532360368f810595453f6fdd213b\\\"]\"\r\n\r\nThe client waits 10s when it cancel the request \r\n\r\n``` bash\r\n# grep \"error\"\r\nrpcdaemon[27222]: [WARN] [07-27|11:26:36.727] Served                                   conn=xx.xx.xx.xx:49490 method=eth_getTransactionReceipt reqid=0 t=10.002049054s err=\"rpc error: code = Canceled desc = context canceled\"\r\nrpcdaemon[27222]: [WARN] [07-27|11:26:36.727] Served                                   conn=xx.xx.xx.xx:49484 method=eth_getTransactionReceipt reqid=0 t=10.002225855s err=\"rpc error: code = Canceled desc = context canceled\"\r\nrpcdaemon[27222]: [WARN] [07-27|11:26:36.729] Served                                   conn=xx.xx.xx.xx:49468 method=eth_getTransactionReceipt reqid=0 t=10.005016346s err=\"failed ReadCanonicalHash: rpc error: code = Canceled desc = context canceled, number=4365627\"\r\nrpcdaemon[27222]: [WARN] [07-27|11:26:36.729] Served                                   conn=xx.xx.xx.xx:49422 method=eth_getTransactionReceipt reqid=0 t=10.00431317s err=\"failed ReadCanonicalHash: rpc error: code = Canceled desc = context canceled, number=4365627\"\r\nrpcdaemon[27222]: [WARN] [07-27|11:26:36.729] Served                                   conn=xx.xx.xx.xx:49426 method=eth_getTransactionReceipt reqid=0 t=10.004858741s err=\"failed ReadCanonicalHash: rpc error: code = Canceled desc = context canceled, number=4365627\"\r\nrpcdaemon[27222]: [WARN] [07-27|11:26:36.729] Served                                   conn=xx.xx.xx.xx:49470 method=eth_getTransactionReceipt reqid=0 t=10.005251716s err=\"failed ReadCanonicalHash: rpc error: code = Canceled desc = context canceled, number=4365627\"\r\nrpcdaemon[27222]: [WARN] [07-27|11:26:36.730] Served                                   conn=xx.xx.xx.xx:49446 method=eth_getTransactionReceipt reqid=0 t=10.005403559s err=\"failed ReadCanonicalHash: rpc error: code = Canceled desc = context canceled, number=4365627\"\r\nrpcdaemon[27222]: [WARN] [07-27|11:26:36.729] Served                                   conn=xx.xx.xx.xx:49436 method=eth_getTransactionReceipt reqid=0 t=10.004385816s err=\"failed ReadCanonicalHash: rpc error: code = Canceled desc = context canceled, number=4365627\"\r\nrpcdaemon[27222]: [EROR] [07-27|11:26:36.746] logs fetching failed                     err=\"rpc error: code = Canceled desc = context canceled\"\r\nrpcdaemon[27222]: [WARN] [07-27|11:26:36.746] Served                                   conn=xx.xx.xx.xx:49502 method=eth_getTransactionReceipt reqid=0 t=10.001075853s err=\"getReceipts error: context canceled\"\r\nrpcdaemon[27222]: [EROR] [07-27|11:26:36.752] logs fetching failed                     err=\"rpc error: code = Canceled desc = context canceled\"\r\nrpcdaemon[27222]: [WARN] [07-27|11:26:36.752] Served                                   conn=xx.xx.xx.xx:49508 method=eth_getTransactionReceipt reqid=0 t=10.000081252s err=\"getReceipts error: context canceled\"\r\nrpcdaemon[27222]: [EROR] [07-27|11:26:47.335] logs fetching failed                     err=\"rpc error: code = Canceled desc = context canceled\"\r\nrpcdaemon[27222]: [WARN] [07-27|11:26:47.335] Served                                   conn=xx.xx.xx.xx:49610 method=eth_getTransactionReceipt reqid=0 t=10.000670877s err=\"getReceipts error: context canceled\"\r\nrpcdaemon[27222]: [WARN] [07-27|11:26:47.335] Served                                   conn=xx.xx.xx.xx:49590 method=eth_getTransactionReceipt reqid=0 t=10.000866624s err=\"getReceipts error: context canceled\"\r\nrpcdaemon[27222]: [EROR] [07-27|11:27:27.381] logs fetching failed                     err=\"rpc error: code = Canceled desc = context canceled\"\r\nrpcdaemon[27222]: [EROR] [07-27|11:27:27.381] logs fetching failed                     err=\"rpc error: code = Canceled desc = context canceled\"\r\nrpcdaemon[27222]: [WARN] [07-27|11:27:27.381] Served                                   conn=xx.xx.xx.xx:50100 method=eth_getTransactionReceipt reqid=0 t=10.001244106s err=\"getReceipts error: context canceled\"\r\nrpcdaemon[27222]: [WARN] [07-27|11:27:27.381] Served                                   conn=xx.xx.xx.xx:50102 method=eth_getTransactionReceipt reqid=0 t=10.001021699s err=\"getReceipts error: context canceled\"\r\nrpcdaemon[27222]: [WARN] [07-27|11:27:27.382] Served                                   conn=xx.xx.xx.xx:50104 method=eth_getTransactionReceipt reqid=0 t=10.001263923s err=\"getReceipts error: context canceled\"\r\nrpcdaemon[27222]: [EROR] [07-27|11:27:27.388] logs fetching failed                     err=\"rpc error: code = Canceled desc = context canceled\"\r\nrpcdaemon[27222]: [WARN] [07-27|11:27:27.389] Served                                   conn=xx.xx.xx.xx:50106 method=eth_getTransactionReceipt reqid=0 t=10.000718402s err=\"getReceipts error: context canceled\"\r\nrpcdaemon[27222]: [EROR] [07-27|11:27:27.389] logs fetching failed                     err=\"rpc error: code = Canceled desc = context canceled\"\r\nrpcdaemon[27222]: [WARN] [07-27|11:27:27.389] Served                                   conn=xx.xx.xx.xx:50108 method=eth_getTransactionReceipt reqid=0 t=10.000584632s err=\"getReceipts error: context canceled\"\r\nrpcdaemon[27222]: [EROR] [07-27|11:27:27.389] logs fetching failed                     err=\"rpc error: code = Canceled desc = context canceled\"\r\nrpcdaemon[27222]: [WARN] [07-27|11:27:27.389] Served                                   conn=xx.xx.xx.xx:50110 method=eth_getTransactionReceipt reqid=0 t=10.000689387s err=\"getReceipts error: context canceled\"\r\nrpcdaemon[27222]: [WARN] [07-27|11:27:27.389] Served                                   conn=xx.xx.xx.xx:50114 method=eth_getTransactionReceipt reqid=0 t=10.000416667s err=\"getReceipts error: context canceled\"\r\nrpcdaemon[27222]: [EROR] [07-27|11:27:27.389] logs fetching failed                     err=\"rpc error: code = Canceled desc = context canceled\"\r\nrpcdaemon[27222]: [WARN] [07-27|11:27:27.389] Served                                   conn=xx.xx.xx.xx:50112 method=eth_getTransactionReceipt reqid=0 t=10.000489584s err=\"getReceipts error: context canceled\"\r\n```\r\n\r\n\r\n``` bash\r\n# grep \"EROR\"\r\nrpcdaemon[27222]: [WARN] [07-27|11:26:36.727] Served                                   conn=xx.xx.xx.xx:49490 method=eth_getTransactionReceipt reqid=0 t=10.002049054s err=\"rpc error: code = Canceled desc = context canceled\"\r\nrpcdaemon[27222]: [WARN] [07-27|11:26:36.727] Served                                   conn=xx.xx.xx.xx:49484 method=eth_getTransactionReceipt reqid=0 t=10.002225855s err=\"rpc error: code = Canceled desc = context canceled\"\r\nrpcdaemon[27222]: [WARN] [07-27|11:26:36.729] Served                                   conn=xx.xx.xx.xx:49468 method=eth_getTransactionReceipt reqid=0 t=10.005016346s err=\"failed ReadCanonicalHash: rpc error: code = Canceled desc = context canceled, number=4365627\"\r\nrpcdaemon[27222]: [WARN] [07-27|11:26:36.729] Served                                   conn=xx.xx.xx.xx:49422 method=eth_getTransactionReceipt reqid=0 t=10.00431317s err=\"failed ReadCanonicalHash: rpc error: code = Canceled desc = context canceled, number=4365627\"\r\nrpcdaemon[27222]: [WARN] [07-27|11:26:36.729] Served                                   conn=xx.xx.xx.xx:49426 method=eth_getTransactionReceipt reqid=0 t=10.004858741s err=\"failed ReadCanonicalHash: rpc error: code = Canceled desc = context canceled, number=4365627\"\r\nrpcdaemon[27222]: [WARN] [07-27|11:26:36.729] Served                                   conn=xx.xx.xx.xx:49470 method=eth_getTransactionReceipt reqid=0 t=10.005251716s err=\"failed ReadCanonicalHash: rpc error: code = Canceled desc = context canceled, number=4365627\"\r\nrpcdaemon[27222]: [WARN] [07-27|11:26:36.730] Served                                   conn=xx.xx.xx.xx:49446 method=eth_getTransactionReceipt reqid=0 t=10.005403559s err=\"failed ReadCanonicalHash: rpc error: code = Canceled desc = context canceled, number=4365627\"\r\nrpcdaemon[27222]: [WARN] [07-27|11:26:36.729] Served                                   conn=xx.xx.xx.xx:49436 method=eth_getTransactionReceipt reqid=0 t=10.004385816s err=\"failed ReadCanonicalHash: rpc error: code = Canceled desc = context canceled, number=4365627\"\r\nrpcdaemon[27222]: [EROR] [07-27|11:26:36.746] logs fetching failed                     err=\"rpc error: code = Canceled desc = context canceled\"\r\nrpcdaemon[27222]: [WARN] [07-27|11:26:36.746] Served                                   conn=xx.xx.xx.xx:49502 method=eth_getTransactionReceipt reqid=0 t=10.001075853s err=\"getReceipts error: context canceled\"\r\nrpcdaemon[27222]: [EROR] [07-27|11:26:36.752] logs fetching failed                     err=\"rpc error: code = Canceled desc = context canceled\"\r\nrpcdaemon[27222]: [WARN] [07-27|11:26:36.752] Served                                   conn=xx.xx.xx.xx:49508 method=eth_getTransactionReceipt reqid=0 t=10.000081252s err=\"getReceipts error: context canceled\"\r\nrpcdaemon[27222]: [EROR] [07-27|11:26:47.335] logs fetching failed                     err=\"rpc error: code = Canceled desc = context canceled\"\r\nrpcdaemon[27222]: [WARN] [07-27|11:26:47.335] Served                                   conn=xx.xx.xx.xx:49610 method=eth_getTransactionReceipt reqid=0 t=10.000670877s err=\"getReceipts error: context canceled\"\r\nrpcdaemon[27222]: [WARN] [07-27|11:26:47.335] Served                                   conn=xx.xx.xx.xx:49590 method=eth_getTransactionReceipt reqid=0 t=10.000866624s err=\"getReceipts error: context canceled\"\r\nrpcdaemon[27222]: [EROR] [07-27|11:27:27.381] logs fetching failed                     err=\"rpc error: code = Canceled desc = context canceled\"\r\nrpcdaemon[27222]: [EROR] [07-27|11:27:27.381] logs fetching failed                     err=\"rpc error: code = Canceled desc = context canceled\"\r\nrpcdaemon[27222]: [WARN] [07-27|11:27:27.381] Served                                   conn=xx.xx.xx.xx:50100 method=eth_getTransactionReceipt reqid=0 t=10.001244106s err=\"getReceipts error: context canceled\"\r\nrpcdaemon[27222]: [WARN] [07-27|11:27:27.381] Served                                   conn=xx.xx.xx.xx:50102 method=eth_getTransactionReceipt reqid=0 t=10.001021699s err=\"getReceipts error: context canceled\"\r\nrpcdaemon[27222]: [WARN] [07-27|11:27:27.382] Served                                   conn=xx.xx.xx.xx:50104 method=eth_getTransactionReceipt reqid=0 t=10.001263923s err=\"getReceipts error: context canceled\"\r\nrpcdaemon[27222]: [EROR] [07-27|11:27:27.388] logs fetching failed                     err=\"rpc error: code = Canceled desc = context canceled\"\r\nrpcdaemon[27222]: [WARN] [07-27|11:27:27.389] Served                                   conn=xx.xx.xx.xx:50106 method=eth_getTransactionReceipt reqid=0 t=10.000718402s err=\"getReceipts error: context canceled\"\r\nrpcdaemon[27222]: [EROR] [07-27|11:27:27.389] logs fetching failed                     err=\"rpc error: code = Canceled desc = context canceled\"\r\nrpcdaemon[27222]: [WARN] [07-27|11:27:27.389] Served                                   conn=xx.xx.xx.xx:50108 method=eth_getTransactionReceipt reqid=0 t=10.000584632s err=\"getReceipts error: context canceled\"\r\nrpcdaemon[27222]: [EROR] [07-27|11:27:27.389] logs fetching failed                     err=\"rpc error: code = Canceled desc = context canceled\"\r\nrpcdaemon[27222]: [WARN] [07-27|11:27:27.389] Served                                   conn=xx.xx.xx.xx:50110 method=eth_getTransactionReceipt reqid=0 t=10.000689387s err=\"getReceipts error: context canceled\"\r\nrpcdaemon[27222]: [WARN] [07-27|11:27:27.389] Served                                   conn=xx.xx.xx.xx:50114 method=eth_getTransactionReceipt reqid=0 t=10.000416667s err=\"getReceipts error: context canceled\"\r\nrpcdaemon[27222]: [EROR] [07-27|11:27:27.389] logs fetching failed                     err=\"rpc error: code = Canceled desc = context canceled\"\r\nrpcdaemon[27222]: [WARN] [07-27|11:27:27.389] Served                                   conn=xx.xx.xx.xx:50112 method=eth_getTransactionReceipt reqid=0 t=10.000489584s err=\"getReceipts error: context canceled\"\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1196519716/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1356998515",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/4794#issuecomment-1356998515",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/4794",
    "id": 1356998515,
    "node_id": "IC_kwDOC0FsAM5Q4idz",
    "user": {
      "login": "github-actions[bot]",
      "id": 41898282,
      "node_id": "MDM6Qm90NDE4OTgyODI=",
      "avatar_url": "https://avatars.githubusercontent.com/in/15368?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/github-actions%5Bbot%5D",
      "html_url": "https://github.com/apps/github-actions",
      "followers_url": "https://api.github.com/users/github-actions%5Bbot%5D/followers",
      "following_url": "https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}",
      "gists_url": "https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/github-actions%5Bbot%5D/subscriptions",
      "organizations_url": "https://api.github.com/users/github-actions%5Bbot%5D/orgs",
      "repos_url": "https://api.github.com/users/github-actions%5Bbot%5D/repos",
      "events_url": "https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}",
      "received_events_url": "https://api.github.com/users/github-actions%5Bbot%5D/received_events",
      "type": "Bot",
      "site_admin": false
    },
    "created_at": "2022-12-19T02:23:37Z",
    "updated_at": "2022-12-19T02:23:37Z",
    "author_association": "NONE",
    "body": "This issue is stale because it has been open for 40 days with no activity. Remove stale label or comment, or this will be closed in 7 days.",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1356998515/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1364822764",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/4794#issuecomment-1364822764",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/4794",
    "id": 1364822764,
    "node_id": "IC_kwDOC0FsAM5RWYrs",
    "user": {
      "login": "github-actions[bot]",
      "id": 41898282,
      "node_id": "MDM6Qm90NDE4OTgyODI=",
      "avatar_url": "https://avatars.githubusercontent.com/in/15368?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/github-actions%5Bbot%5D",
      "html_url": "https://github.com/apps/github-actions",
      "followers_url": "https://api.github.com/users/github-actions%5Bbot%5D/followers",
      "following_url": "https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}",
      "gists_url": "https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/github-actions%5Bbot%5D/subscriptions",
      "organizations_url": "https://api.github.com/users/github-actions%5Bbot%5D/orgs",
      "repos_url": "https://api.github.com/users/github-actions%5Bbot%5D/repos",
      "events_url": "https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}",
      "received_events_url": "https://api.github.com/users/github-actions%5Bbot%5D/received_events",
      "type": "Bot",
      "site_admin": false
    },
    "created_at": "2022-12-26T02:28:08Z",
    "updated_at": "2022-12-26T02:28:08Z",
    "author_association": "NONE",
    "body": "This issue was closed because it has been stalled for 7 days with no activity.",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1364822764/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
