{
  "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/7907",
  "repository_url": "https://api.github.com/repos/ledgerwatch/erigon",
  "labels_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/7907/labels{/name}",
  "comments_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/7907/comments",
  "events_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/7907/events",
  "html_url": "https://github.com/ledgerwatch/erigon/issues/7907",
  "id": 1810884797,
  "node_id": "I_kwDOC0FsAM5r7-i9",
  "number": 7907,
  "title": "Possibly misleading logs in \"downloading bodies\" stage",
  "user": {
    "login": "wmitsuda",
    "id": 28685,
    "node_id": "MDQ6VXNlcjI4Njg1",
    "avatar_url": "https://avatars.githubusercontent.com/u/28685?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/wmitsuda",
    "html_url": "https://github.com/wmitsuda",
    "followers_url": "https://api.github.com/users/wmitsuda/followers",
    "following_url": "https://api.github.com/users/wmitsuda/following{/other_user}",
    "gists_url": "https://api.github.com/users/wmitsuda/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/wmitsuda/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/wmitsuda/subscriptions",
    "organizations_url": "https://api.github.com/users/wmitsuda/orgs",
    "repos_url": "https://api.github.com/users/wmitsuda/repos",
    "events_url": "https://api.github.com/users/wmitsuda/events{/privacy}",
    "received_events_url": "https://api.github.com/users/wmitsuda/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 9,
  "created_at": "2023-07-18T23:56:55Z",
  "updated_at": "2023-08-18T02:55:59Z",
  "closed_at": null,
  "author_association": "COLLABORATOR",
  "active_lock_reason": null,
  "body": "erigon 2.48.1, but I've seen this since forever on my machine, but I always ignore it because I thought it was something related to my bad internet or slow disk.\r\n\r\nBut I'm seeing this in a cloud environment which doesn't have those limitations.\r\n\r\nSome log snippet (comments below):\r\n\r\n```\r\nNFO[07-18|23:41:13.850] [5/15 Bodies] Downloading block bodies   block_num=17708266 delivery/sec=7.0MB wasted/sec=0B\r\nremaining=15106 delivered=2588 cache=256.0MB alloc=4.5GB sys=9.1GB\r\nINFO[07-18|23:41:31.831] [Caplin] P2P                             peers=32\r\nINFO[07-18|23:41:33.851] [5/15 Bodies] Downloading block bodies   block_num=17708266 delivery/sec=5.9MB wasted/sec=0B\r\nremaining=15106 delivered=3524 cache=256.0MB alloc=5.2GB sys=9.1GB\r\nINFO[07-18|23:41:53.850] [5/15 Bodies] Downloading block bodies   block_num=17708266 delivery/sec=8.2MB wasted/sec=0B\r\nremaining=15106 delivered=4905 cache=256.0MB alloc=6.3GB sys=9.1GB\r\nINFO[07-18|23:42:10.533] [txpool] stat                            pending=10000 baseFee=30000 queued=30000 alloc=5.4GB\r\n sys=9.1GB\r\nINFO[07-18|23:42:13.850] [5/15 Bodies] Downloading block bodies   block_num=17708266 delivery/sec=13.1MB wasted/sec=0B\r\n remaining=15106 delivered=6882 cache=256.0MB alloc=5.8GB sys=9.1GB\r\nINFO[07-18|23:42:13.852] [5/15 Bodies] DONE                       in=1m40.002704419s\r\nINFO[07-18|23:42:13.853] Timings (slower than 50ms)               Bodies=1m40.002s\r\nINFO[07-18|23:42:14.694] [2/15 Headers] Waiting for Consensus Layer...\r\nINFO[07-18|23:42:14.694] [2/15 Headers] Downloading PoS headers... height=unknown hash=0xaf167545a53f7c071a191b7f3287e\r\n4710f9d48b07bf9f83c9835a617411b62dd requestId=272\r\nINFO[07-18|23:42:14.695] [5/15 Bodies] Processing bodies...       from=17708266 to=17723373\r\nINFO[07-18|23:42:31.830] [Caplin] P2P                             peers=32\r\nINFO[07-18|23:42:34.696] [5/15 Bodies] Downloading block bodies   block_num=17708266 delivery/sec=7.8MB wasted/sec=740\r\n.2KB remaining=15106 delivered=1311 cache=256.0MB alloc=4.7GB sys=9.1GB\r\nINFO[07-18|23:42:54.695] [5/15 Bodies] Downloading block bodies   block_num=17708266 delivery/sec=10.9MB wasted/sec=0B\r\n remaining=15106 delivered=2901 cache=256.0MB alloc=6.0GB sys=9.1GB\r\nINFO[07-18|23:42:55.318] [p2p] GoodPeers                          eth68=100 eth67=33\r\nINFO[07-18|23:43:10.531] [txpool] stat                            pending=10000 baseFee=30000 queued=30000 alloc=5.1GB\r\n sys=9.1GB\r\nINFO[07-18|23:43:14.695] [5/15 Bodies] Downloading block bodies   block_num=17708266 delivery/sec=11.3MB wasted/sec=0B\r\n remaining=15106 delivered=4761 cache=256.0MB alloc=5.4GB sys=9.1GB\r\n```\r\n\r\nI won't paste the full log, but stage 5 reports to be on block 17708266 for hours. The fact that I see stage 2 logs means to me that it should be cycling over the stages, but it feels like it is stuck.\r\n\r\nI'm pretty sure that if I don't do anything it'll eventually fix by itself and finish, but can't see what's actually happening by reading the logs.\r\n\r\nI'm not sure if this is a log/display issue, or it reflects some exotic bug in the stage management because I don't think it should be take so much time to finish downloading the block bodies (it is completing the remaining blocks post first sync).\r\n\r\nsome potentially misleading logs IMHO:\r\n\r\n1 - There are repeating logs for the same block number (17708266) which says that the stage is stuck at that block, but OTOH the delivery/sec value shows something, which indicates there is download activity occurring. What's the truth?\r\n\r\n2 - It cycles between stages 2 and 5, but it reads as \"something is progressing\" internally because the block number doesn't move, what is happening here? I'm not familiar to post-merge CL lifecycle, not sure if it is related, in that case I would appreciate some explanation to understand better what my node is doing :)\r\n",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/7907/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/7907/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1641397741",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/7907#issuecomment-1641397741",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/7907",
    "id": 1641397741,
    "node_id": "IC_kwDOC0FsAM5h1b3t",
    "user": {
      "login": "AskAlexSharov",
      "id": 46885206,
      "node_id": "MDQ6VXNlcjQ2ODg1MjA2",
      "avatar_url": "https://avatars.githubusercontent.com/u/46885206?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/AskAlexSharov",
      "html_url": "https://github.com/AskAlexSharov",
      "followers_url": "https://api.github.com/users/AskAlexSharov/followers",
      "following_url": "https://api.github.com/users/AskAlexSharov/following{/other_user}",
      "gists_url": "https://api.github.com/users/AskAlexSharov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/AskAlexSharov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/AskAlexSharov/subscriptions",
      "organizations_url": "https://api.github.com/users/AskAlexSharov/orgs",
      "repos_url": "https://api.github.com/users/AskAlexSharov/repos",
      "events_url": "https://api.github.com/users/AskAlexSharov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/AskAlexSharov/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-07-19T04:36:10Z",
    "updated_at": "2023-07-19T04:36:10Z",
    "author_association": "COLLABORATOR",
    "body": "maybe related to https://github.com/ledgerwatch/erigon/issues/7894",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1641397741/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1642884151",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/7907#issuecomment-1642884151",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/7907",
    "id": 1642884151,
    "node_id": "IC_kwDOC0FsAM5h7Gw3",
    "user": {
      "login": "wmitsuda",
      "id": 28685,
      "node_id": "MDQ6VXNlcjI4Njg1",
      "avatar_url": "https://avatars.githubusercontent.com/u/28685?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/wmitsuda",
      "html_url": "https://github.com/wmitsuda",
      "followers_url": "https://api.github.com/users/wmitsuda/followers",
      "following_url": "https://api.github.com/users/wmitsuda/following{/other_user}",
      "gists_url": "https://api.github.com/users/wmitsuda/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/wmitsuda/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/wmitsuda/subscriptions",
      "organizations_url": "https://api.github.com/users/wmitsuda/orgs",
      "repos_url": "https://api.github.com/users/wmitsuda/repos",
      "events_url": "https://api.github.com/users/wmitsuda/events{/privacy}",
      "received_events_url": "https://api.github.com/users/wmitsuda/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-07-19T23:16:22Z",
    "updated_at": "2023-07-19T23:16:22Z",
    "author_association": "COLLABORATOR",
    "body": "FYI, almost 1 day later, still stuck at the same block, delivery/sec apparently showing activity (?), but it keeps on bodies stage forever.\r\n\r\nI'll restart it.\r\n\r\n```\r\nINFO[07-19|23:13:09.852] [2/15 Headers] Waiting for Consensus Layer...\r\nINFO[07-19|23:13:09.852] [2/15 Headers] Handling new payload      height=17730418 hash=0xfd9e6ae3f5947ac3f9a79a47c53f6\r\nfe19d44ac836c5c039c4c5c71a21b885d16\r\nINFO[07-19|23:13:09.853] [5/15 Bodies] Processing bodies...       from=17708266 to=17730343\r\nINFO[07-19|23:13:10.563] [txpool] stat                            pending=10000 baseFee=30000 queued=30000 alloc=5.6GB\r\n sys=9.4GB\r\nINFO[07-19|23:13:29.855] [5/15 Bodies] Downloading block bodies   block_num=17708266 delivery/sec=8.2MB wasted/sec=1.1\r\nMB remaining=22076 delivered=1464 cache=256.0MB alloc=6.6GB sys=9.4GB\r\nINFO[07-19|23:13:31.831] [Caplin] P2P                             peers=33\r\nINFO[07-19|23:13:49.854] [5/15 Bodies] Downloading block bodies   block_num=17708266 delivery/sec=11.0MB wasted/sec=0B\r\n remaining=22076 delivered=3144 cache=256.0MB alloc=5.9GB sys=9.4GB\r\nINFO[07-19|23:14:09.854] [5/15 Bodies] Downloading block bodies   block_num=17708266 delivery/sec=11.4MB wasted/sec=0B\r\n remaining=22076 delivered=4869 cache=256.0MB alloc=5.1GB sys=9.4GB\r\nINFO[07-19|23:14:10.533] [txpool] stat                            pending=10000 baseFee=30000 queued=30000 alloc=5.2GB\r\n```\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1642884151/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1642909767",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/7907#issuecomment-1642909767",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/7907",
    "id": 1642909767,
    "node_id": "IC_kwDOC0FsAM5h7NBH",
    "user": {
      "login": "AskAlexSharov",
      "id": 46885206,
      "node_id": "MDQ6VXNlcjQ2ODg1MjA2",
      "avatar_url": "https://avatars.githubusercontent.com/u/46885206?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/AskAlexSharov",
      "html_url": "https://github.com/AskAlexSharov",
      "followers_url": "https://api.github.com/users/AskAlexSharov/followers",
      "following_url": "https://api.github.com/users/AskAlexSharov/following{/other_user}",
      "gists_url": "https://api.github.com/users/AskAlexSharov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/AskAlexSharov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/AskAlexSharov/subscriptions",
      "organizations_url": "https://api.github.com/users/AskAlexSharov/orgs",
      "repos_url": "https://api.github.com/users/AskAlexSharov/repos",
      "events_url": "https://api.github.com/users/AskAlexSharov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/AskAlexSharov/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-07-19T23:56:22Z",
    "updated_at": "2023-07-19T23:56:22Z",
    "author_association": "COLLABORATOR",
    "body": "@Giulio2002 have you seen something like this ^ ?",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1642909767/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1642910898",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/7907#issuecomment-1642910898",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/7907",
    "id": 1642910898,
    "node_id": "IC_kwDOC0FsAM5h7NSy",
    "user": {
      "login": "wmitsuda",
      "id": 28685,
      "node_id": "MDQ6VXNlcjI4Njg1",
      "avatar_url": "https://avatars.githubusercontent.com/u/28685?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/wmitsuda",
      "html_url": "https://github.com/wmitsuda",
      "followers_url": "https://api.github.com/users/wmitsuda/followers",
      "following_url": "https://api.github.com/users/wmitsuda/following{/other_user}",
      "gists_url": "https://api.github.com/users/wmitsuda/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/wmitsuda/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/wmitsuda/subscriptions",
      "organizations_url": "https://api.github.com/users/wmitsuda/orgs",
      "repos_url": "https://api.github.com/users/wmitsuda/repos",
      "events_url": "https://api.github.com/users/wmitsuda/events{/privacy}",
      "received_events_url": "https://api.github.com/users/wmitsuda/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-07-19T23:58:32Z",
    "updated_at": "2023-07-19T23:58:32Z",
    "author_association": "COLLABORATOR",
    "body": "after restart, the problem was gone and it completed the bodies stages in a few minutes:\r\n\r\n```\r\nremaining=3058 delivered=19824 cache=38.9MB alloc=4.7GB sys=5.4GB\r\nINFO[07-19|23:21:17.577] [Caplin] P2P                             peers=31\r\nINFO[07-19|23:21:20.132] [5/15 Bodies] Downloading block bodies   block_num=17728290 delivery/sec=8.4MB wasted/sec=0B\r\nremaining=2052 delivered=20997 cache=51.2MB alloc=4.2GB sys=5.4GB\r\nINFO[07-19|23:21:39.538] [5/15 Bodies] Processed                  highest=17730343\r\nINFO[07-19|23:21:39.538] [5/15 Bodies] DONE                       in=4m39.413964668s\r\nINFO[07-19|23:21:39.539] [6/15 Senders] Started                   from=17708266 to=17730343\r\n```\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1642910898/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1646495207",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/7907#issuecomment-1646495207",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/7907",
    "id": 1646495207,
    "node_id": "IC_kwDOC0FsAM5iI4Xn",
    "user": {
      "login": "wmitsuda",
      "id": 28685,
      "node_id": "MDQ6VXNlcjI4Njg1",
      "avatar_url": "https://avatars.githubusercontent.com/u/28685?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/wmitsuda",
      "html_url": "https://github.com/wmitsuda",
      "followers_url": "https://api.github.com/users/wmitsuda/followers",
      "following_url": "https://api.github.com/users/wmitsuda/following{/other_user}",
      "gists_url": "https://api.github.com/users/wmitsuda/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/wmitsuda/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/wmitsuda/subscriptions",
      "organizations_url": "https://api.github.com/users/wmitsuda/orgs",
      "repos_url": "https://api.github.com/users/wmitsuda/repos",
      "events_url": "https://api.github.com/users/wmitsuda/events{/privacy}",
      "received_events_url": "https://api.github.com/users/wmitsuda/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-07-22T05:31:04Z",
    "updated_at": "2023-07-22T05:31:04Z",
    "author_association": "COLLABORATOR",
    "body": "I left the node down for 1-2 days for some maintenance, when started it back, I got the same issue again:\r\n\r\n```\r\nINFO[07-22|05:17:50.068] [2/15 Headers] Waiting for Consensus Layer...\r\nINFO[07-22|05:17:50.069] [2/15 Headers] Downloading PoS headers... height=unknown hash=0x193b611240431b1fa81f2016bc5e5\r\n5c889a35958b088deb7fd57cc0ef97240a4 requestId=17\r\nINFO[07-22|05:17:50.069] [5/15 Bodies] Processing bodies...       from=17737283 to=17746405\r\nINFO[07-22|05:18:10.069] [5/15 Bodies] Downloading block bodies   block_num=17737283 delivery/sec=5.3MB wasted/sec=977\r\n.8KB remaining=9121 delivered=843 cache=256.0MB alloc=5.7GB sys=8.4GB\r\nINFO[07-22|05:18:21.342] [txpool] stat                            pending=4179 baseFee=18576 queued=30000 alloc=6.0GB\r\nsys=8.4GB\r\nINFO[07-22|05:18:30.069] [5/15 Bodies] Downloading block bodies   block_num=17737283 delivery/sec=4.7MB wasted/sec=0B\r\nremaining=9121 delivered=1670 cache=256.0MB alloc=6.5GB sys=8.4GB\r\nINFO[07-22|05:18:42.379] [Caplin] P2P                             peers=40\r\nINFO[07-22|05:18:50.070] [5/15 Bodies] Downloading block bodies   block_num=17737283 delivery/sec=6.0MB wasted/sec=0B\r\nremaining=9121 delivered=2657 cache=256.0MB alloc=7.3GB sys=8.4GB\r\nINFO[07-22|05:19:10.070] [5/15 Bodies] Downloading block bodies   block_num=17737283 delivery/sec=3.6MB wasted/sec=0B\r\nremaining=9121 delivered=3264 cache=256.0MB alloc=4.2GB sys=8.4GB\r\nINFO[07-22|05:19:10.416] [p2p] GoodPeers                          eth68=98 eth67=31 eth66=1\r\nINFO[07-22|05:19:21.361] [txpool] stat                            pending=4191 baseFee=18765 queued=30000 alloc=4.5GB\r\nsys=8.4GB\r\nINFO[07-22|05:19:30.069] [5/15 Bodies] Downloading block bodies   block_num=17737283 delivery/sec=2.3MB wasted/sec=0B\r\nremaining=9121 delivered=3770 cache=256.0MB alloc=4.7GB sys=8.4GB\r\nINFO[07-22|05:19:30.071] [5/15 Bodies] DONE                       in=1m40.002412517s\r\nINFO[07-22|05:19:30.072] Timings (slower than 50ms)               Bodies=1m40.002s\r\nINFO[07-22|05:19:30.465] PoS headers verified and saved           requestId=17 fork head=0xa40eb42cb47cfbc9a4e18cf20b9\r\n7c154596fc41f164a10f9d49ef6c066f33fbe\r\nINFO[07-22|05:19:30.466] [5/15 Bodies] Processing bodies...       from=17737283 to=17746405\r\n```\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1646495207/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1646495407",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/7907#issuecomment-1646495407",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/7907",
    "id": 1646495407,
    "node_id": "IC_kwDOC0FsAM5iI4av",
    "user": {
      "login": "wmitsuda",
      "id": 28685,
      "node_id": "MDQ6VXNlcjI4Njg1",
      "avatar_url": "https://avatars.githubusercontent.com/u/28685?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/wmitsuda",
      "html_url": "https://github.com/wmitsuda",
      "followers_url": "https://api.github.com/users/wmitsuda/followers",
      "following_url": "https://api.github.com/users/wmitsuda/following{/other_user}",
      "gists_url": "https://api.github.com/users/wmitsuda/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/wmitsuda/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/wmitsuda/subscriptions",
      "organizations_url": "https://api.github.com/users/wmitsuda/orgs",
      "repos_url": "https://api.github.com/users/wmitsuda/repos",
      "events_url": "https://api.github.com/users/wmitsuda/events{/privacy}",
      "received_events_url": "https://api.github.com/users/wmitsuda/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-07-22T05:32:47Z",
    "updated_at": "2023-07-22T05:32:47Z",
    "author_association": "COLLABORATOR",
    "body": "with 1 more restart, it got through:\r\n\r\n```\r\nINFO[07-22|05:30:53.942] Reading JWT secret                       path=/mnt/erigon/jwt.hex\r\nINFO[07-22|05:30:53.952] [txpool] Started\r\nINFO[07-22|05:30:53.955] [1/15 Snapshots] Fetching torrent files metadata\r\nINFO[07-22|05:30:53.967] HTTP endpoint opened for Engine API      url=[::]:8551 ws=true ws.compression=true\r\nINFO[07-22|05:30:53.968] HTTP endpoint opened                     url=[::]:8545 ws=true ws.compression=true grpc=false\r\nINFO[07-22|05:30:53.972] Started P2P networking                   version=67 self=enode://cd9e77415e687242d7b9edc79e74\r\n3c059a6dd4b4bf207e36e21aa34516b68d1fb542967ddafa887683b40a388dab1fa15f3d4152b29fb346f820cc78fd112211@127.0.0.1:0 name=\r\nerigon/v2.48.1-stable-674b77f0/linux-amd64/go1.20.5\r\nINFO[07-22|05:30:53.974] Started P2P networking                   version=68 self=enode://cd9e77415e687242d7b9edc79e74\r\n3c059a6dd4b4bf207e36e21aa34516b68d1fb542967ddafa887683b40a388dab1fa15f3d4152b29fb346f820cc78fd112211@127.0.0.1:0 name=\r\nerigon/v2.48.1-stable-674b77f0/linux-amd64/go1.20.5\r\nINFO[07-22|05:31:00.159] [snapshots] Blocks Stat                  blocks=17647k indices=17647k alloc=5.7GB sys=6.0GB\r\nINFO[07-22|05:31:00.160] [5/15 Bodies] Processing bodies...       from=17737283 to=17746557\r\nINFO[07-22|05:31:16.722] Started Ethereum 2.0 Gossip Service\r\nINFO[07-22|05:31:20.160] [5/15 Bodies] Downloading block bodies   block_num=17740002 delivery/sec=16.5MB wasted/sec=0B\r\n remaining=6554 delivered=2815 cache=15.4MB alloc=5.3GB sys=6.0GB\r\nINFO[07-22|05:31:40.160] [5/15 Bodies] Downloading block bodies   block_num=17742574 delivery/sec=18.2MB wasted/sec=0B\r\n remaining=3982 delivered=5338 cache=8.0MB alloc=5.4GB sys=6.1GB\r\nINFO[07-22|05:31:53.942] [txpool] stat                            pending=6 baseFee=116 queued=370 alloc=4.7GB sys=6.3\r\nGB\r\nINFO[07-22|05:31:59.387] [5/15 Bodies] Processed                  highest=17746557\r\nINFO[07-22|05:31:59.399] [6/15 Senders] Started                   from=17737283 to=17746557\r\n```\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1646495407/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1646630355",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/7907#issuecomment-1646630355",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/7907",
    "id": 1646630355,
    "node_id": "IC_kwDOC0FsAM5iJZXT",
    "user": {
      "login": "wmitsuda",
      "id": 28685,
      "node_id": "MDQ6VXNlcjI4Njg1",
      "avatar_url": "https://avatars.githubusercontent.com/u/28685?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/wmitsuda",
      "html_url": "https://github.com/wmitsuda",
      "followers_url": "https://api.github.com/users/wmitsuda/followers",
      "following_url": "https://api.github.com/users/wmitsuda/following{/other_user}",
      "gists_url": "https://api.github.com/users/wmitsuda/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/wmitsuda/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/wmitsuda/subscriptions",
      "organizations_url": "https://api.github.com/users/wmitsuda/orgs",
      "repos_url": "https://api.github.com/users/wmitsuda/repos",
      "events_url": "https://api.github.com/users/wmitsuda/events{/privacy}",
      "received_events_url": "https://api.github.com/users/wmitsuda/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-07-22T17:01:54Z",
    "updated_at": "2023-07-22T17:01:54Z",
    "author_association": "COLLABORATOR",
    "body": "a side note (maybe it could be another issue?): this is the third time in a row since I started setting up this brand new machine, and despite the issue describe here, eventually the erigon process gets killed and then after some time the machine gets totally irresponsible at the point I can't ssh into it anymore.\r\n\r\nluckily I could finish the backup, will try to restore it in a machine with more memory.",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1646630355/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1674273616",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/7907#issuecomment-1674273616",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/7907",
    "id": 1674273616,
    "node_id": "IC_kwDOC0FsAM5jy2NQ",
    "user": {
      "login": "mookim-eth",
      "id": 97934198,
      "node_id": "U_kgDOBdZbdg",
      "avatar_url": "https://avatars.githubusercontent.com/u/97934198?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mookim-eth",
      "html_url": "https://github.com/mookim-eth",
      "followers_url": "https://api.github.com/users/mookim-eth/followers",
      "following_url": "https://api.github.com/users/mookim-eth/following{/other_user}",
      "gists_url": "https://api.github.com/users/mookim-eth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mookim-eth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mookim-eth/subscriptions",
      "organizations_url": "https://api.github.com/users/mookim-eth/orgs",
      "repos_url": "https://api.github.com/users/mookim-eth/repos",
      "events_url": "https://api.github.com/users/mookim-eth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mookim-eth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-08-11T06:38:37Z",
    "updated_at": "2023-08-11T06:44:04Z",
    "author_association": "NONE",
    "body": "same problem, i guess the bodies download is done by simultaneously downloading different positions, and kept at **cache**, so the `delivered` stat constantly increases. But only those block bodies that can be used to extend the current chain (consecutive related to current known block head) are read from cache and used to increase `block_num` and decrease `remaining`.\r\n\r\nbut as the cache is limited to 256MB by default, so the downloaded part that cannot be applied to immediately extend the chain (close to current head) are dropped and need to be re-downloaded again and again\r\n\r\ni add a param `--bodies.cache 26843545600` to the start command, to set the cache as 25.6GB, and then it seems working fine",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1674273616/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1683264609",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/7907#issuecomment-1683264609",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/7907",
    "id": 1683264609,
    "node_id": "IC_kwDOC0FsAM5kVJRh",
    "user": {
      "login": "sealer3",
      "id": 125761775,
      "node_id": "U_kgDOB3747w",
      "avatar_url": "https://avatars.githubusercontent.com/u/125761775?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sealer3",
      "html_url": "https://github.com/sealer3",
      "followers_url": "https://api.github.com/users/sealer3/followers",
      "following_url": "https://api.github.com/users/sealer3/following{/other_user}",
      "gists_url": "https://api.github.com/users/sealer3/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sealer3/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sealer3/subscriptions",
      "organizations_url": "https://api.github.com/users/sealer3/orgs",
      "repos_url": "https://api.github.com/users/sealer3/repos",
      "events_url": "https://api.github.com/users/sealer3/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sealer3/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-08-18T02:55:59Z",
    "updated_at": "2023-08-18T02:55:59Z",
    "author_association": "NONE",
    "body": "I had a similar problem to this/#7555 for a while on the latest stable version, and the problem would persist after restarting erigon. The issue wasted so much of my bandwidth, almost 600 GB before I even noticed no progress was being made. The problem went away for me after I ran the `clear_bad_blocks` integration command from #7934.",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1683264609/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
