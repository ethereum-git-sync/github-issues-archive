{
  "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/7817",
  "repository_url": "https://api.github.com/repos/ledgerwatch/erigon",
  "labels_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/7817/labels{/name}",
  "comments_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/7817/comments",
  "events_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/7817/events",
  "html_url": "https://github.com/ledgerwatch/erigon/issues/7817",
  "id": 1779285358,
  "node_id": "I_kwDOC0FsAM5qDb1u",
  "number": 7817,
  "title": "No apparent activity after snapshots verification + crash",
  "user": {
    "login": "wmitsuda",
    "id": 28685,
    "node_id": "MDQ6VXNlcjI4Njg1",
    "avatar_url": "https://avatars.githubusercontent.com/u/28685?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/wmitsuda",
    "html_url": "https://github.com/wmitsuda",
    "followers_url": "https://api.github.com/users/wmitsuda/followers",
    "following_url": "https://api.github.com/users/wmitsuda/following{/other_user}",
    "gists_url": "https://api.github.com/users/wmitsuda/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/wmitsuda/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/wmitsuda/subscriptions",
    "organizations_url": "https://api.github.com/users/wmitsuda/orgs",
    "repos_url": "https://api.github.com/users/wmitsuda/repos",
    "events_url": "https://api.github.com/users/wmitsuda/events{/privacy}",
    "received_events_url": "https://api.github.com/users/wmitsuda/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 4566396003,
      "node_id": "LA_kwDOC0FsAM8AAAABEC2sYw",
      "url": "https://api.github.com/repos/ledgerwatch/erigon/labels/Stale",
      "name": "Stale",
      "color": "ededed",
      "default": false,
      "description": null
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 13,
  "created_at": "2023-06-28T16:19:55Z",
  "updated_at": "2023-08-18T02:01:24Z",
  "closed_at": null,
  "author_association": "COLLABORATOR",
  "active_lock_reason": null,
  "body": "v2.47.0, syncing a brand new mainnet node + caplin\r\n\r\nAfter finishing torrent download + verification, there was no more logs, only caplin idle logs, but IIRC at that time there should be torrent indexing.\r\n\r\nif that's the case, I think a possible improvement is to have a ticker log so we know what is happening:\r\n\r\n```\r\nINFO[06-28|02:28:21.362] [snapshots] Verify                       progress=91.85%\r\nINFO[06-28|02:28:41.364] [snapshots] Verify                       progress=95.21%\r\nINFO[06-28|02:28:41.844] [Caplin] P2P                             peers=33\r\nINFO[06-28|02:29:01.362] [snapshots] Verify                       progress=97.52%\r\nINFO[06-28|02:29:16.811] [snapshots] Verify done\r\nINFO[06-28|02:29:16.812] [1/15 Snapshots] download finished       time=6h6m55.450290656s\r\nINFO[06-28|02:29:21.344] [txpool] stat                            pending=0 baseFee=0 queued=2587 alloc=3.0GB sys=5.2G\r\nB\r\nINFO[06-28|02:29:26.896] [snapshots] Blocks Stat                  blocks=0k indices=0k alloc=4.8GB sys=5.3GB\r\nINFO[06-28|02:29:41.843] [Caplin] P2P                             peers=33\r\nINFO[06-28|02:30:19.682] [p2p] GoodPeers                          eth68=100 eth67=29 eth66=4\r\nINFO[06-28|02:30:21.345] [txpool] stat                            pending=0 baseFee=0 queued=2587 alloc=5.0GB sys=9.5G\r\nB\r\nINFO[06-28|02:30:41.843] [Caplin] P2P                             peers=33\r\nINFO[06-28|02:31:21.345] [txpool] stat                            pending=0 baseFee=0 queued=2587 alloc=7.1GB sys=10.3\r\nGB\r\nINFO[06-28|02:31:41.843] [Caplin] P2P                             peers=33\r\nINFO[06-28|02:32:19.683] [p2p] GoodPeers                          eth68=100 eth66=4 eth67=29\r\nINFO[06-28|02:32:21.348] [txpool] stat                            pending=0 baseFee=0 queued=2587 alloc=9.3GB sys=12.8\r\nGB\r\n```\r\n\r\nAfter a few minutes, the node crashed:\r\n\r\n```\r\nINFO[06-28|02:48:21.347] [txpool] stat                            pending=0 baseFee=0 queued=2587 alloc=7.2GB sys=13.8\r\nGB\r\nINFO[06-28|02:48:41.854] [Caplin] P2P                             peers=33\r\n./run-erigon2-gcloud.sh: line 14: 36362 Killed                  ~/erigon/build/bin/erigon --datadir /mnt/erigon --http\r\n --http.api \"eth,net,web3,erigon,debug,txpool,trace,ots\" --ws --http.corsdomain \"*\" --http.addr \"0.0.0.0\" --http.vhost\r\ns '*' --authrpc.addr \"0.0.0.0\" --authrpc.vhosts '*' --internalcl --rpc.batch.limit 500\r\n```\r\n\r\nnot sure why, but I guess out of memory maybe? Using a 16GB machine (c2-standard-4 on gcloud).\r\n\r\nI restarted the process and there are no logs again, but I can see on htop CPUs are all busy, so I guess the ticker log suggestion holds + should the 16GB memory requirement be revisited in docs maybe?",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/7817/reactions",
    "total_count": 1,
    "+1": 1,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/7817/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1612163267",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/7817#issuecomment-1612163267",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/7817",
    "id": 1612163267,
    "node_id": "IC_kwDOC0FsAM5gF6jD",
    "user": {
      "login": "wmitsuda",
      "id": 28685,
      "node_id": "MDQ6VXNlcjI4Njg1",
      "avatar_url": "https://avatars.githubusercontent.com/u/28685?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/wmitsuda",
      "html_url": "https://github.com/wmitsuda",
      "followers_url": "https://api.github.com/users/wmitsuda/followers",
      "following_url": "https://api.github.com/users/wmitsuda/following{/other_user}",
      "gists_url": "https://api.github.com/users/wmitsuda/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/wmitsuda/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/wmitsuda/subscriptions",
      "organizations_url": "https://api.github.com/users/wmitsuda/orgs",
      "repos_url": "https://api.github.com/users/wmitsuda/repos",
      "events_url": "https://api.github.com/users/wmitsuda/events{/privacy}",
      "received_events_url": "https://api.github.com/users/wmitsuda/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-06-28T22:01:45Z",
    "updated_at": "2023-06-28T22:01:45Z",
    "author_association": "COLLABORATOR",
    "body": "update: it took a few hours for the indexing to start, also in the meantime there was a period the machine got completely unresponsive, had to restart it.\r\n\r\n```\r\nINFO[06-28|21:45:18.290] [Caplin] P2P                             peers=33\r\nINFO[06-28|21:45:49.489] [p2p] GoodPeers                          eth68=44 eth67=28 eth66=4\r\nINFO[06-28|21:45:52.015] [txpool] stat                            pending=207 baseFee=0 queued=2589 alloc=5.8GB sys=15\r\n.6GB\r\nINFO[06-28|21:46:18.288] [Caplin] P2P                             peers=33\r\nINFO[06-28|21:46:47.270] [1/15 Snapshots] Indexing                progress=\"v1-015500-016000-transactions.seg=12%, v1-\r\n016000-016500-transactions.seg=7%, v1-016500-017000-transactions.seg=1%\" total-indexing-time=1h12m43s alloc=9.3GB sys=\r\n15.6GB\r\nINFO[06-28|21:46:52.013] [txpool] stat                            pending=207 baseFee=0 queued=2589 alloc=9.4GB sys=15\r\n.6GB\r\nINFO[06-28|21:47:07.270] [1/15 Snapshots] Indexing                progress=\"v1-015500-016000-transactions.seg=13%, v1-\r\n016000-016500-transactions.seg=8%, v1-016500-017000-transactions.seg=2%\" total-indexing-time=1h13m3s alloc=10.0GB sys=\r\n15.6GB\r\n```\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1612163267/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1612166658",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/7817#issuecomment-1612166658",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/7817",
    "id": 1612166658,
    "node_id": "IC_kwDOC0FsAM5gF7YC",
    "user": {
      "login": "wmitsuda",
      "id": 28685,
      "node_id": "MDQ6VXNlcjI4Njg1",
      "avatar_url": "https://avatars.githubusercontent.com/u/28685?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/wmitsuda",
      "html_url": "https://github.com/wmitsuda",
      "followers_url": "https://api.github.com/users/wmitsuda/followers",
      "following_url": "https://api.github.com/users/wmitsuda/following{/other_user}",
      "gists_url": "https://api.github.com/users/wmitsuda/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/wmitsuda/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/wmitsuda/subscriptions",
      "organizations_url": "https://api.github.com/users/wmitsuda/orgs",
      "repos_url": "https://api.github.com/users/wmitsuda/repos",
      "events_url": "https://api.github.com/users/wmitsuda/events{/privacy}",
      "received_events_url": "https://api.github.com/users/wmitsuda/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-06-28T22:03:19Z",
    "updated_at": "2023-06-28T22:03:19Z",
    "author_association": "COLLABORATOR",
    "body": "my suggestion is to have at least a ticker log inside such process between finish torrent download - torrent indexing start, otherwise users have no idea what the sync process is doing.",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1612166658/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1612249635",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/7817#issuecomment-1612249635",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/7817",
    "id": 1612249635,
    "node_id": "IC_kwDOC0FsAM5gGPoj",
    "user": {
      "login": "AskAlexSharov",
      "id": 46885206,
      "node_id": "MDQ6VXNlcjQ2ODg1MjA2",
      "avatar_url": "https://avatars.githubusercontent.com/u/46885206?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/AskAlexSharov",
      "html_url": "https://github.com/AskAlexSharov",
      "followers_url": "https://api.github.com/users/AskAlexSharov/followers",
      "following_url": "https://api.github.com/users/AskAlexSharov/following{/other_user}",
      "gists_url": "https://api.github.com/users/AskAlexSharov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/AskAlexSharov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/AskAlexSharov/subscriptions",
      "organizations_url": "https://api.github.com/users/AskAlexSharov/orgs",
      "repos_url": "https://api.github.com/users/AskAlexSharov/repos",
      "events_url": "https://api.github.com/users/AskAlexSharov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/AskAlexSharov/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-06-28T23:53:00Z",
    "updated_at": "2023-06-28T23:53:00Z",
    "author_association": "COLLABORATOR",
    "body": "Try reduce GOMAXPROCS",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1612249635/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1612308824",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/7817#issuecomment-1612308824",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/7817",
    "id": 1612308824,
    "node_id": "IC_kwDOC0FsAM5gGeFY",
    "user": {
      "login": "wmitsuda",
      "id": 28685,
      "node_id": "MDQ6VXNlcjI4Njg1",
      "avatar_url": "https://avatars.githubusercontent.com/u/28685?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/wmitsuda",
      "html_url": "https://github.com/wmitsuda",
      "followers_url": "https://api.github.com/users/wmitsuda/followers",
      "following_url": "https://api.github.com/users/wmitsuda/following{/other_user}",
      "gists_url": "https://api.github.com/users/wmitsuda/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/wmitsuda/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/wmitsuda/subscriptions",
      "organizations_url": "https://api.github.com/users/wmitsuda/orgs",
      "repos_url": "https://api.github.com/users/wmitsuda/repos",
      "events_url": "https://api.github.com/users/wmitsuda/events{/privacy}",
      "received_events_url": "https://api.github.com/users/wmitsuda/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-06-29T01:36:40Z",
    "updated_at": "2023-06-29T01:36:40Z",
    "author_association": "COLLABORATOR",
    "body": "it is now on execution stage, would reducing GOMAXPROCS recommendation help in the following stages too?",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1612308824/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1612309400",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/7817#issuecomment-1612309400",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/7817",
    "id": 1612309400,
    "node_id": "IC_kwDOC0FsAM5gGeOY",
    "user": {
      "login": "wmitsuda",
      "id": 28685,
      "node_id": "MDQ6VXNlcjI4Njg1",
      "avatar_url": "https://avatars.githubusercontent.com/u/28685?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/wmitsuda",
      "html_url": "https://github.com/wmitsuda",
      "followers_url": "https://api.github.com/users/wmitsuda/followers",
      "following_url": "https://api.github.com/users/wmitsuda/following{/other_user}",
      "gists_url": "https://api.github.com/users/wmitsuda/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/wmitsuda/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/wmitsuda/subscriptions",
      "organizations_url": "https://api.github.com/users/wmitsuda/orgs",
      "repos_url": "https://api.github.com/users/wmitsuda/repos",
      "events_url": "https://api.github.com/users/wmitsuda/events{/privacy}",
      "received_events_url": "https://api.github.com/users/wmitsuda/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-06-29T01:37:38Z",
    "updated_at": "2023-06-29T01:37:38Z",
    "author_association": "COLLABORATOR",
    "body": "otherwise will wait for all stages to complete first sync.",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1612309400/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1612404297",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/7817#issuecomment-1612404297",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/7817",
    "id": 1612404297,
    "node_id": "IC_kwDOC0FsAM5gG1ZJ",
    "user": {
      "login": "AskAlexSharov",
      "id": 46885206,
      "node_id": "MDQ6VXNlcjQ2ODg1MjA2",
      "avatar_url": "https://avatars.githubusercontent.com/u/46885206?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/AskAlexSharov",
      "html_url": "https://github.com/AskAlexSharov",
      "followers_url": "https://api.github.com/users/AskAlexSharov/followers",
      "following_url": "https://api.github.com/users/AskAlexSharov/following{/other_user}",
      "gists_url": "https://api.github.com/users/AskAlexSharov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/AskAlexSharov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/AskAlexSharov/subscriptions",
      "organizations_url": "https://api.github.com/users/AskAlexSharov/orgs",
      "repos_url": "https://api.github.com/users/AskAlexSharov/repos",
      "events_url": "https://api.github.com/users/AskAlexSharov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/AskAlexSharov/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-06-29T04:09:52Z",
    "updated_at": "2023-06-29T04:09:52Z",
    "author_association": "COLLABORATOR",
    "body": "are you in docker? \r\nif yes - probably it's known issue that we can't estimate RAM limits in docker: https://github.com/ledgerwatch/erigon/issues/6646#issuecomment-1425157327",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1612404297/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1612405675",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/7817#issuecomment-1612405675",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/7817",
    "id": 1612405675,
    "node_id": "IC_kwDOC0FsAM5gG1ur",
    "user": {
      "login": "wmitsuda",
      "id": 28685,
      "node_id": "MDQ6VXNlcjI4Njg1",
      "avatar_url": "https://avatars.githubusercontent.com/u/28685?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/wmitsuda",
      "html_url": "https://github.com/wmitsuda",
      "followers_url": "https://api.github.com/users/wmitsuda/followers",
      "following_url": "https://api.github.com/users/wmitsuda/following{/other_user}",
      "gists_url": "https://api.github.com/users/wmitsuda/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/wmitsuda/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/wmitsuda/subscriptions",
      "organizations_url": "https://api.github.com/users/wmitsuda/orgs",
      "repos_url": "https://api.github.com/users/wmitsuda/repos",
      "events_url": "https://api.github.com/users/wmitsuda/events{/privacy}",
      "received_events_url": "https://api.github.com/users/wmitsuda/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-06-29T04:12:44Z",
    "updated_at": "2023-06-29T04:12:44Z",
    "author_association": "COLLABORATOR",
    "body": "no docker, running directly inside gcloud vm",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1612405675/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1614911513",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/7817#issuecomment-1614911513",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/7817",
    "id": 1614911513,
    "node_id": "IC_kwDOC0FsAM5gQZgZ",
    "user": {
      "login": "wmitsuda",
      "id": 28685,
      "node_id": "MDQ6VXNlcjI4Njg1",
      "avatar_url": "https://avatars.githubusercontent.com/u/28685?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/wmitsuda",
      "html_url": "https://github.com/wmitsuda",
      "followers_url": "https://api.github.com/users/wmitsuda/followers",
      "following_url": "https://api.github.com/users/wmitsuda/following{/other_user}",
      "gists_url": "https://api.github.com/users/wmitsuda/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/wmitsuda/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/wmitsuda/subscriptions",
      "organizations_url": "https://api.github.com/users/wmitsuda/orgs",
      "repos_url": "https://api.github.com/users/wmitsuda/repos",
      "events_url": "https://api.github.com/users/wmitsuda/events{/privacy}",
      "received_events_url": "https://api.github.com/users/wmitsuda/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-06-30T16:44:21Z",
    "updated_at": "2023-06-30T16:44:21Z",
    "author_association": "COLLABORATOR",
    "body": "I suspect 16GB may not be enough for current Erigon, got it killed during execution phase last night:\r\n\r\n```\r\nINFO[06-30|16:21:44.974] [7/15 Execution] Executed blocks         number=10136143 blk/s=33.9 tx/s=4573.1 Mgas/s=324.4\r\ngasState=0.22 batch=235.5MB alloc=8.3GB sys=17.0GB\r\nINFO[06-30|16:21:49.487] [p2p] GoodPeers                          eth67=26 eth66=7 eth68=100\r\nINFO[06-30|16:21:52.026] [txpool] stat                            pending=204 baseFee=0 queued=30000 alloc=4.9GB sys=1\r\n7.0GB\r\nINFO[06-30|16:22:04.965] [7/15 Execution] Executed blocks         number=10136714 blk/s=28.6 tx/s=3412.6 Mgas/s=267.9\r\ngasState=0.23 batch=246.6MB alloc=6.4GB sys=17.0GB\r\nINFO[06-30|16:22:18.288] [Caplin] P2P                             peers=35\r\nINFO[06-30|16:22:21.120] Committed State                          gas reached=129367575882 gasTarget=549755813888\r\nINFO[06-30|16:22:52.020] [txpool] stat                            pending=204 baseFee=0 queued=30000 alloc=6.5GB sys=1\r\n7.0GB\r\nINFO[06-30|16:22:59.267] [] ETL [2/2] Loading                     into=PlainState current_prefix=2a0c0dbe\r\nINFO[06-30|16:23:18.289] [Caplin] P2P                             peers=34\r\nINFO[06-30|16:23:29.266] [] ETL [2/2] Loading                     into=PlainState current_prefix=52d41602\r\nINFO[06-30|16:23:49.487] [p2p] GoodPeers                          eth68=101 eth67=25 eth66=7\r\nINFO[06-30|16:23:52.033] [txpool] stat                            pending=204 baseFee=0 queued=30000 alloc=6.6GB sys=1\r\n7.0GB\r\nINFO[06-30|16:23:59.266] [] ETL [2/2] Loading                     into=PlainState current_prefix=79688f9b\r\nINFO[06-30|16:24:18.292] [Caplin] P2P                             peers=33\r\nINFO[06-30|16:24:29.267] [] ETL [2/2] Loading                     into=PlainState current_prefix=90e340e2\r\n./run-erigon2-gcloud.sh: line 14:  1141 Killed                  ~/erigon/build/bin/erigon --datadir /mnt/erigon --http\r\n --http.api \"eth,net,web3,erigon,debug,txpool,trace,ots\" --ws --http.corsdomain \"*\" --http.addr \"0.0.0.0\" --http.vhost\r\ns '*' --authrpc.addr \"0.0.0.0\" --authrpc.vhosts '*' --internalcl --rpc.batch.limit 500\r\n ``\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1614911513/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1615294391",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/7817#issuecomment-1615294391",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/7817",
    "id": 1615294391,
    "node_id": "IC_kwDOC0FsAM5gR2-3",
    "user": {
      "login": "AskAlexSharov",
      "id": 46885206,
      "node_id": "MDQ6VXNlcjQ2ODg1MjA2",
      "avatar_url": "https://avatars.githubusercontent.com/u/46885206?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/AskAlexSharov",
      "html_url": "https://github.com/AskAlexSharov",
      "followers_url": "https://api.github.com/users/AskAlexSharov/followers",
      "following_url": "https://api.github.com/users/AskAlexSharov/following{/other_user}",
      "gists_url": "https://api.github.com/users/AskAlexSharov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/AskAlexSharov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/AskAlexSharov/subscriptions",
      "organizations_url": "https://api.github.com/users/AskAlexSharov/orgs",
      "repos_url": "https://api.github.com/users/AskAlexSharov/repos",
      "events_url": "https://api.github.com/users/AskAlexSharov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/AskAlexSharov/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-07-01T00:11:35Z",
    "updated_at": "2023-07-01T00:13:36Z",
    "author_association": "COLLABORATOR",
    "body": "try add `GOGC=50`\r\nor reduce batchSize\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1615294391/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1615311812",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/7817#issuecomment-1615311812",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/7817",
    "id": 1615311812,
    "node_id": "IC_kwDOC0FsAM5gR7PE",
    "user": {
      "login": "wmitsuda",
      "id": 28685,
      "node_id": "MDQ6VXNlcjI4Njg1",
      "avatar_url": "https://avatars.githubusercontent.com/u/28685?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/wmitsuda",
      "html_url": "https://github.com/wmitsuda",
      "followers_url": "https://api.github.com/users/wmitsuda/followers",
      "following_url": "https://api.github.com/users/wmitsuda/following{/other_user}",
      "gists_url": "https://api.github.com/users/wmitsuda/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/wmitsuda/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/wmitsuda/subscriptions",
      "organizations_url": "https://api.github.com/users/wmitsuda/orgs",
      "repos_url": "https://api.github.com/users/wmitsuda/repos",
      "events_url": "https://api.github.com/users/wmitsuda/events{/privacy}",
      "received_events_url": "https://api.github.com/users/wmitsuda/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-07-01T00:42:53Z",
    "updated_at": "2023-07-01T00:42:53Z",
    "author_association": "COLLABORATOR",
    "body": "added `GOGC=50`, let's see if something happens tonight.",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1615311812/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1627559177",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/7817#issuecomment-1627559177",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/7817",
    "id": 1627559177,
    "node_id": "IC_kwDOC0FsAM5hApUJ",
    "user": {
      "login": "wmitsuda",
      "id": 28685,
      "node_id": "MDQ6VXNlcjI4Njg1",
      "avatar_url": "https://avatars.githubusercontent.com/u/28685?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/wmitsuda",
      "html_url": "https://github.com/wmitsuda",
      "followers_url": "https://api.github.com/users/wmitsuda/followers",
      "following_url": "https://api.github.com/users/wmitsuda/following{/other_user}",
      "gists_url": "https://api.github.com/users/wmitsuda/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/wmitsuda/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/wmitsuda/subscriptions",
      "organizations_url": "https://api.github.com/users/wmitsuda/orgs",
      "repos_url": "https://api.github.com/users/wmitsuda/repos",
      "events_url": "https://api.github.com/users/wmitsuda/events{/privacy}",
      "received_events_url": "https://api.github.com/users/wmitsuda/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-07-09T00:52:02Z",
    "updated_at": "2023-07-09T00:52:02Z",
    "author_association": "COLLABORATOR",
    "body": "interesting, it completed first sync sycle, then in the next it crashed again:\r\n\r\n```\r\nINFO[07-08|23:37:21.981] [Caplin] P2P                             peers=34\r\nINFO[07-08|23:37:28.782] [5/15 Bodies] Downloading block bodies   block_num=17314521 delivery/sec=11.8MB wasted/sec=0B\r\n remaining=337427 delivered=662262 cache=240.0MB alloc=5.8GB sys=10.2GB\r\nINFO[07-08|23:37:32.437] [p2p] GoodPeers                          eth66=1 eth67=32 eth68=100\r\nINFO[07-08|23:37:48.783] [5/15 Bodies] Downloading block bodies   block_num=17314819 delivery/sec=16.5MB wasted/sec=0B\r\n remaining=337129 delivered=665320 cache=256.0MB alloc=5.6GB sys=10.2GB\r\nINFO[07-08|23:38:00.053] [txpool] stat                            pending=0 baseFee=0 queued=30000 alloc=6.8GB sys=10.\r\n2GB\r\n./run-erigon2-gcloud.sh: line 15: 17848 Killed                  ~/erigon/build/bin/erigon --datadir /mnt/erigon --http\r\n --http.api \"eth,net,web3,erigon,debug,txpool,trace,ots\" --ws --http.corsdomain \"*\" --http.addr \"0.0.0.0\" --http.vhost\r\ns '*' --authrpc.addr \"0.0.0.0\" --authrpc.vhosts '*' --internalcl --rpc.batch.limit 500\r\n```\r\n\r\nstart params:\r\n\r\n```\r\n$ cat run-erigon2-gcloud.sh\r\n#!/usr/bin/env bash\r\nexport GOGC=50\r\n~/erigon/build/bin/erigon \\\r\n        --datadir /mnt/erigon \\\r\n        --http \\\r\n        --http.api \"eth,net,web3,erigon,debug,txpool,trace,ots\" \\\r\n        --ws \\\r\n        --http.corsdomain \"*\" \\\r\n        --http.addr \"0.0.0.0\" \\\r\n        --http.vhosts '*' \\\r\n        --authrpc.addr \"0.0.0.0\" \\\r\n        --authrpc.vhosts '*' \\\r\n        --internalcl \\\r\n        --rpc.batch.limit 500 \\\r\n```\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1627559177/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1627560193",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/7817#issuecomment-1627560193",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/7817",
    "id": 1627560193,
    "node_id": "IC_kwDOC0FsAM5hApkB",
    "user": {
      "login": "wmitsuda",
      "id": 28685,
      "node_id": "MDQ6VXNlcjI4Njg1",
      "avatar_url": "https://avatars.githubusercontent.com/u/28685?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/wmitsuda",
      "html_url": "https://github.com/wmitsuda",
      "followers_url": "https://api.github.com/users/wmitsuda/followers",
      "following_url": "https://api.github.com/users/wmitsuda/following{/other_user}",
      "gists_url": "https://api.github.com/users/wmitsuda/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/wmitsuda/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/wmitsuda/subscriptions",
      "organizations_url": "https://api.github.com/users/wmitsuda/orgs",
      "repos_url": "https://api.github.com/users/wmitsuda/repos",
      "events_url": "https://api.github.com/users/wmitsuda/events{/privacy}",
      "received_events_url": "https://api.github.com/users/wmitsuda/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-07-09T00:57:36Z",
    "updated_at": "2023-07-09T00:57:36Z",
    "author_association": "COLLABORATOR",
    "body": "will just restart and let it complete the sync for now",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1627560193/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1683224202",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/7817#issuecomment-1683224202",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/7817",
    "id": 1683224202,
    "node_id": "IC_kwDOC0FsAM5kU_aK",
    "user": {
      "login": "github-actions[bot]",
      "id": 41898282,
      "node_id": "MDM6Qm90NDE4OTgyODI=",
      "avatar_url": "https://avatars.githubusercontent.com/in/15368?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/github-actions%5Bbot%5D",
      "html_url": "https://github.com/apps/github-actions",
      "followers_url": "https://api.github.com/users/github-actions%5Bbot%5D/followers",
      "following_url": "https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}",
      "gists_url": "https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/github-actions%5Bbot%5D/subscriptions",
      "organizations_url": "https://api.github.com/users/github-actions%5Bbot%5D/orgs",
      "repos_url": "https://api.github.com/users/github-actions%5Bbot%5D/repos",
      "events_url": "https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}",
      "received_events_url": "https://api.github.com/users/github-actions%5Bbot%5D/received_events",
      "type": "Bot",
      "site_admin": false
    },
    "created_at": "2023-08-18T02:01:23Z",
    "updated_at": "2023-08-18T02:01:23Z",
    "author_association": "NONE",
    "body": "This issue is stale because it has been open for 40 days with no activity. Remove stale label or comment, or this will be closed in 7 days.",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1683224202/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
