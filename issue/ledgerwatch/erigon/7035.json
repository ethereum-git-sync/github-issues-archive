{
  "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/7035",
  "repository_url": "https://api.github.com/repos/ledgerwatch/erigon",
  "labels_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/7035/labels{/name}",
  "comments_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/7035/comments",
  "events_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/7035/events",
  "html_url": "https://github.com/ledgerwatch/erigon/issues/7035",
  "id": 1611728206,
  "node_id": "I_kwDOC0FsAM5gEQVO",
  "number": 7035,
  "title": "v2.40.0 Memory Leak",
  "user": {
    "login": "0x19dG87",
    "id": 75646722,
    "node_id": "MDQ6VXNlcjc1NjQ2NzIy",
    "avatar_url": "https://avatars.githubusercontent.com/u/75646722?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/0x19dG87",
    "html_url": "https://github.com/0x19dG87",
    "followers_url": "https://api.github.com/users/0x19dG87/followers",
    "following_url": "https://api.github.com/users/0x19dG87/following{/other_user}",
    "gists_url": "https://api.github.com/users/0x19dG87/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/0x19dG87/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/0x19dG87/subscriptions",
    "organizations_url": "https://api.github.com/users/0x19dG87/orgs",
    "repos_url": "https://api.github.com/users/0x19dG87/repos",
    "events_url": "https://api.github.com/users/0x19dG87/events{/privacy}",
    "received_events_url": "https://api.github.com/users/0x19dG87/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 4566396003,
      "node_id": "LA_kwDOC0FsAM8AAAABEC2sYw",
      "url": "https://api.github.com/repos/ledgerwatch/erigon/labels/Stale",
      "name": "Stale",
      "color": "ededed",
      "default": false,
      "description": null
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 7,
  "created_at": "2023-03-06T15:58:25Z",
  "updated_at": "2023-04-27T02:22:01Z",
  "closed_at": "2023-04-27T02:22:01Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "#### System information\r\n\r\nErigon version: erigon version 2.40.0-stable-cc2090e7\r\n\r\nOS & Version: Ubuntu 22.04\r\n\r\nErigon Command (with flags/config): \r\n./erigon \\\r\n--chain=bor-mainnet \\\r\n--datadir=/storage/erigon/datadir \\\r\n--ethash.dagdir=/storage/erigon/datadir/ethash \\\r\n--snapshots=true \\\r\n--bor.heimdall=http://localhost:1317 \\\r\n--http --http.addr=172.20.0.1 --http.port=8545 --http.compression --http.vhosts=* --http.corsdomain=* \\\r\n--http.api=eth,debug,net,trace,web3,erigon,bor,ots \\\r\n--ws --ws.compression \\\r\n--rpc.gascap=300000000 \\\r\n--metrics --metrics.addr=localhost --metrics.port=6960\r\n\r\nChain/Network: Polygon\r\n\r\n#### Expected behaviour\r\nSync process running without memory leak\r\n\r\n#### Actual behaviour\r\nMemory leak\r\n\r\n#### Steps to reproduce the behaviour\r\nStart erigon version 2.40.0\r\n\r\n#### Backtrace\r\n\r\n````\r\nMemory leak starts after updating to the new version. Before I was running version 2.37.0\r\n\r\nsystemctl status erigon.service\r\n\r\nActive: active (running) since Mon 2023-03-06 17:13:50 EET; 22min ago\r\n   Main PID: 3902651 (erigon)\r\n      Tasks: 56 (limit: 76997)\r\n     Memory: 46.3G\r\n        CPU: 36min 8.548s\r\n\r\nBelow is a part of the log, but it cannot move further after [2/15 Headers] No block headers to write in this log period block number=39821312\r\n\r\n\r\n`Mar 06 17:52:11 sm5504-352 systemd[1]: Started Erigon Polygon Service.\r\nMar 06 17:52:12 sm5504-352 erigon[3925470]: [WARN] [03-06|17:52:12.579] no log dir set, console logging only\r\nMar 06 17:52:12 sm5504-352 erigon[3925470]: [INFO] [03-06|17:52:12.579] Starting metrics server                  addr=http://localhost:6960/debug/metrics/prometheus\r\nMar 06 17:52:12 sm5504-352 erigon[3925470]: [WARN] [03-06|17:52:12.588] no log dir set, console logging only\r\nMar 06 17:52:12 sm5504-352 erigon[3925470]: [INFO] [03-06|17:52:12.588] Build info                               git_branch=HEAD git_tag=v2.40.0-dirty git_commit=cc2090e78324e732c6245980070465282093f239\r\nMar 06 17:52:12 sm5504-352 erigon[3925470]: [INFO] [03-06|17:52:12.588] Starting Erigon on Bor Mainnet...\r\nMar 06 17:52:12 sm5504-352 erigon[3925470]: [INFO] [03-06|17:52:12.589] Maximum peer count                       ETH=100 total=100\r\nMar 06 17:52:12 sm5504-352 erigon[3925470]: [INFO] [03-06|17:52:12.589] starting HTTP APIs                       APIs=eth,debug,net,trace,web3,erigon,bor,ots\r\nMar 06 17:52:12 sm5504-352 erigon[3925470]: [INFO] [03-06|17:52:12.589] torrent verbosity                        level=WRN\r\nMar 06 17:52:14 sm5504-352 erigon[3925470]: [INFO] [03-06|17:52:14.700] Set global gas cap                       cap=300000000\r\nMar 06 17:52:14 sm5504-352 erigon[3925470]: [INFO] [03-06|17:52:14.705] [Downloader] Runnning with               ipv6-enabled=true ipv4-enabled=true download.rate=16mb upload.rate=4mb\r\nMar 06 17:52:14 sm5504-352 erigon[3925470]: [INFO] [03-06|17:52:14.705] Opening Database                         label=chaindata path=/storage/erigon/datadir/chaindata\r\nMar 06 17:52:14 sm5504-352 erigon[3925470]: [INFO] [03-06|17:52:14.710] Initialised chain configuration          config=\"{ChainID: 137, Homestead: 0, DAO: <nil>, DAO Support: true, Tangerine Whistle: 0, Spurious Dragon: 0, Byzantium: 0, Constantinople: 0, Petersburg: 0, Istanbul: 3395000, Muir Glacier: 3395000, Berlin: 14750000, London: 23850000, Arrow Glacier: <nil>, Gray Glacier: <nil>, Terminal Total Difficulty: <nil>, Merge Netsplit: <nil>, Shanghai: <nil>, Cancun: <nil>, Sharding: <nil>, Prague: <nil>, Engine: bor}\" genesis=0xa9c28ce2141b56c474f1dc504bee9b01eb1bd7d1a507580d5519d4437a97de1b\r\nMar 06 17:52:14 sm5504-352 erigon[3925470]: [WARN] [03-06|17:52:14.711] Incorrect snapshot enablement            got=true change_to=false\r\nMar 06 17:52:14 sm5504-352 erigon[3925470]: [INFO] [03-06|17:52:14.711] Effective                                prune_flags= snapshot_flags= history.v3=false\r\nMar 06 17:52:14 sm5504-352 erigon[3925470]: [INFO] [03-06|17:52:14.726] Initialising Ethereum protocol           network=137\r\nMar 06 17:52:16 sm5504-352 erigon[3925470]: [INFO] [03-06|17:52:16.379] Starting private RPC server              on=127.0.0.1:9090\r\nMar 06 17:52:16 sm5504-352 erigon[3925470]: [INFO] [03-06|17:52:16.379] new subscription to logs established\r\nMar 06 17:52:16 sm5504-352 erigon[3925470]: [INFO] [03-06|17:52:16.380] rpc filters: subscribing to Erigon events\r\nMar 06 17:52:16 sm5504-352 erigon[3925470]: [INFO] [03-06|17:52:16.381] new subscription to newHeaders established\r\nMar 06 17:52:16 sm5504-352 erigon[3925470]: [INFO] [03-06|17:52:16.381] New txs subscriber joined\r\nMar 06 17:52:16 sm5504-352 erigon[3925470]: [INFO] [03-06|17:52:16.382] Reading JWT secret                       path=/storage/erigon/datadir/jwt.hex\r\nMar 06 17:52:16 sm5504-352 erigon[3925470]: [INFO] [03-06|17:52:16.383] HTTP endpoint opened for Engine API      url=127.0.0.1:8551 ws=true ws.compression=true\r\nMar 06 17:52:16 sm5504-352 erigon[3925470]: [INFO] [03-06|17:52:16.384] HTTP endpoint opened                     url=172.20.0.1:8545 ws=true ws.compression=true grpc=false\r\nMar 06 17:52:16 sm5504-352 erigon[3925470]: [INFO] [03-06|17:52:16.390] [txpool] Started\r\nMar 06 17:52:16 sm5504-352 erigon[3925470]: [INFO] [03-06|17:52:16.392] [2/15 Headers] Waiting for headers...    from=39820950\r\nMar 06 17:52:16 sm5504-352 erigon[3925470]: [INFO] [03-06|17:52:16.408] Started P2P networking                   version=68 self=enode://fe783c8f5d4ad894dc3504958a168348f2343061de2165a0a2c7ba158ad69602de8e8b50f574a4c9464d80d82fdcdbe373e3d206d96201c5f17d5e584e7afd98@127.0.0.1:30304 name=erigon/v2.40.0-stable-cc2090e7/linux-amd64/go1.18.1\r\nMar 06 17:52:16 sm5504-352 erigon[3925470]: [INFO] [03-06|17:52:16.419] Started P2P networking                   version=67 self=enode://fe783c8f5d4ad894dc3504958a168348f2343061de2165a0a2c7ba158ad69602de8e8b50f574a4c9464d80d82fdcdbe373e3d206d96201c5f17d5e584e7afd98@127.0.0.1:30303 name=erigon/v2.40.0-stable-cc2090e7/linux-amd64/go1.18.1\r\nMar 06 17:52:36 sm5504-352 erigon[3925470]: [INFO] [03-06|17:52:36.393] [2/15 Headers] Wrote block headers       number=39821312 blk/second=18.100 alloc=142.2MB sys=241.7MB\r\nMar 06 17:52:56 sm5504-352 erigon[3925470]: [INFO] [03-06|17:52:56.393] [2/15 Headers] No block headers to write in this log period block number=39821312\r\nMar 06 17:53:16 sm5504-352 erigon[3925470]: [INFO] [03-06|17:53:16.380] [txpool] stat                            block=39564607 pending=11 baseFee=0 queued=24 alloc=1.5GB sys=1.9GB\r\nMar 06 17:53:16 sm5504-352 erigon[3925470]: [INFO] [03-06|17:53:16.393] [2/15 Headers] No block headers to write in this log period block number=39821312\r\nMar 06 17:53:36 sm5504-352 erigon[3925470]: [INFO] [03-06|17:53:36.392] [2/15 Headers] No block headers to write in this log period block number=39821312\r\nMar 06 17:53:56 sm5504-352 erigon[3925470]: [INFO] [03-06|17:53:56.393] [2/15 Headers] No block headers to write in this log period block number=39821312\r\nMar 06 17:54:14 sm5504-352 erigon[3925470]: [INFO] [03-06|17:54:14.727] [p2p] GoodPeers                          eth66=82 eth67=1 eth68=1\r\nMar 06 17:54:16 sm5504-352 erigon[3925470]: [INFO] [03-06|17:54:16.389] [txpool] stat                            block=39564607 pending=49 baseFee=4 queued=9436 alloc=2.8GB sys=4.0GB\r\nMar 06 17:54:16 sm5504-352 erigon[3925470]: [INFO] [03-06|17:54:16.392] [2/15 Headers] No block headers to write in this log period block number=39821312\r\nMar 06 17:54:16 sm5504-352 erigon[3925470]: [INFO] [03-06|17:54:16.392] Req/resp stats                           req=967 reqMin=39821121 reqMax=40034207 skel=19 skelMin=39821311 skelMax=39858367 resp=2274 respMin=39821122 respMax=40037868 dups=241201\r\nMar 06 17:54:36 sm5504-352 erigon[3925470]: [INFO] [03-06|17:54:36.393] [2/15 Headers] No block headers to write in this log period block number=39821312\r\nMar 06 17:54:36 sm5504-352 erigon[3925470]: [INFO] [03-06|17:54:36.393] Req/resp stats                           req=1363 reqMin=39821121 reqMax=39987359 skel=19 skelMin=39821311 skelMax=39858367 resp=2848 respMin=39821122 respMax=40037877 dups=274266`\r\n````\r\n",
  "closed_by": {
    "login": "github-actions[bot]",
    "id": 41898282,
    "node_id": "MDM6Qm90NDE4OTgyODI=",
    "avatar_url": "https://avatars.githubusercontent.com/in/15368?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/github-actions%5Bbot%5D",
    "html_url": "https://github.com/apps/github-actions",
    "followers_url": "https://api.github.com/users/github-actions%5Bbot%5D/followers",
    "following_url": "https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}",
    "gists_url": "https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/github-actions%5Bbot%5D/subscriptions",
    "organizations_url": "https://api.github.com/users/github-actions%5Bbot%5D/orgs",
    "repos_url": "https://api.github.com/users/github-actions%5Bbot%5D/repos",
    "events_url": "https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}",
    "received_events_url": "https://api.github.com/users/github-actions%5Bbot%5D/received_events",
    "type": "Bot",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/7035/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/7035/timeline",
  "performed_via_github_app": null,
  "state_reason": "not_planned"
}
[
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1456781235",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/7035#issuecomment-1456781235",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/7035",
    "id": 1456781235,
    "node_id": "IC_kwDOC0FsAM5W1Lez",
    "user": {
      "login": "0x19dG87",
      "id": 75646722,
      "node_id": "MDQ6VXNlcjc1NjQ2NzIy",
      "avatar_url": "https://avatars.githubusercontent.com/u/75646722?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/0x19dG87",
      "html_url": "https://github.com/0x19dG87",
      "followers_url": "https://api.github.com/users/0x19dG87/followers",
      "following_url": "https://api.github.com/users/0x19dG87/following{/other_user}",
      "gists_url": "https://api.github.com/users/0x19dG87/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/0x19dG87/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/0x19dG87/subscriptions",
      "organizations_url": "https://api.github.com/users/0x19dG87/orgs",
      "repos_url": "https://api.github.com/users/0x19dG87/repos",
      "events_url": "https://api.github.com/users/0x19dG87/events{/privacy}",
      "received_events_url": "https://api.github.com/users/0x19dG87/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-03-06T19:02:57Z",
    "updated_at": "2023-03-06T19:04:22Z",
    "author_association": "NONE",
    "body": "Return back to 2.37.0 and it does not have this problem\r\n\r\n```\r\nMar 06 20:56:39 sm5504-352 erigon[4073503]: [INFO] [03-06|20:56:39.275] New txs subscriber joined\r\nMar 06 20:56:39 sm5504-352 erigon[4073503]: [INFO] [03-06|20:56:39.276] Reading JWT secret                       path=/storage/erigon/datadir/jwt.hex\r\nMar 06 20:56:39 sm5504-352 erigon[4073503]: [INFO] [03-06|20:56:39.277] HTTP endpoint opened for Engine API      url=localhost:8551 ws=true ws.compression=true\r\nMar 06 20:56:39 sm5504-352 erigon[4073503]: [INFO] [03-06|20:56:39.278] HTTP endpoint opened                     url=172.20.0.1:8545 ws=true ws.compression=true grpc=false\r\nMar 06 20:56:39 sm5504-352 erigon[4073503]: [INFO] [03-06|20:56:39.285] [2/15 Headers] Waiting for headers...    from=39820950\r\nMar 06 20:56:39 sm5504-352 erigon[4073503]: [INFO] [03-06|20:56:39.286] [txpool] Started\r\nMar 06 20:56:39 sm5504-352 erigon[4073503]: [INFO] [03-06|20:56:39.299] Started P2P networking                   version=67 self=enode://fe783c8f5d4ad894dc3504958a168348f2343061de2165a0a2c7ba158ad69602de8e8b50f574a4c9464d80d82fdcdbe373e3d206d96201c5f17d5e584e7afd98@127.0.0.1:30304 name=erigon/v2.37.0-stable-12419c75/linux-amd64/go1.18.1\r\nMar 06 20:56:39 sm5504-352 erigon[4073503]: [INFO] [03-06|20:56:39.319] Started P2P networking                   version=66 self=enode://fe783c8f5d4ad894dc3504958a168348f2343061de2165a0a2c7ba158ad69602de8e8b50f574a4c9464d80d82fdcdbe373e3d206d96201c5f17d5e584e7afd98@127.0.0.1:30303 name=erigon/v2.37.0-stable-12419c75/linux-amd64/go1.18.1\r\nMar 06 20:56:59 sm5504-352 erigon[4073503]: [INFO] [03-06|20:56:59.286] [2/15 Headers] No block headers to write in this log period block number=39820950\r\nMar 06 20:57:19 sm5504-352 erigon[4073503]: [INFO] [03-06|20:57:19.286] [2/15 Headers] No block headers to write in this log period block number=39820950\r\nMar 06 20:57:39 sm5504-352 erigon[4073503]: [INFO] [03-06|20:57:39.276] [txpool] stat                            block=39564607 pending=0 baseFee=0 queued=1 alloc=77.8MB sys=165.8MB\r\nMar 06 20:57:39 sm5504-352 erigon[4073503]: [INFO] [03-06|20:57:39.286] [2/15 Headers] No block headers to write in this log period block number=39820950\r\nMar 06 20:57:59 sm5504-352 erigon[4073503]: [INFO] [03-06|20:57:59.286] [2/15 Headers] No block headers to write in this log period block number=39820950\r\nMar 06 20:58:19 sm5504-352 erigon[4073503]: [INFO] [03-06|20:58:19.287] [2/15 Headers] No block headers to write in this log period block number=39820950\r\nMar 06 20:58:19 sm5504-352 erigon[4073503]: [INFO] [03-06|20:58:19.287] Req/resp stats                           req=1 reqMin=40042322 reqMax=40042514 skel=18 skelMin=39820950 skelMax=39857814 resp=2 respMin=0 respMax=0 dups=0\r\nMar 06 20:58:36 sm5504-352 erigon[4073503]: [INFO] [03-06|20:58:36.060] [p2p] GoodPeers                          eth66=66 eth67=0\r\nMar 06 20:58:39 sm5504-352 erigon[4073503]: [INFO] [03-06|20:58:39.276] [txpool] stat                            block=39564607 pending=1 baseFee=0 queued=1 alloc=94.3MB sys=173.9MB\r\nMar 06 20:58:39 sm5504-352 erigon[4073503]: [INFO] [03-06|20:58:39.286] [2/15 Headers] No block headers to write in this log period block number=39820950\r\nMar 06 20:58:39 sm5504-352 erigon[4073503]: [INFO] [03-06|20:58:39.286] Req/resp stats                           req=3 reqMin=40041963 reqMax=40042539 skel=20 skelMin=39820950 skelMax=39857814 resp=3 respMin=40042156 respMax=40042540 dups=0\r\nMar 06 20:58:59 sm5504-352 erigon[4073503]: [INFO] [03-06|20:58:59.287] [2/15 Headers] Wrote block headers       number=39826134 blk/second=259.200 alloc=115.9MB sys=221.7MB\r\nMar 06 20:59:19 sm5504-352 erigon[4073503]: [INFO] [03-06|20:59:19.285] [2/15 Headers] Inserting headers         progress=39877402 queue=1\r\nMar 06 20:59:39 sm5504-352 erigon[4073503]: [INFO] [03-06|20:59:39.276] [txpool] stat                            block=39564607 pending=112 baseFee=60 queued=3351 alloc=270.7MB sys=433.4MB\r\nMar 06 20:59:39 sm5504-352 erigon[4073503]: [INFO] [03-06|20:59:39.286] [2/15 Headers] Inserting headers         progress=39917164 queue=1\r\nMar 06 20:59:59 sm5504-352 erigon[4073503]: [INFO] [03-06|20:59:59.287] [2/15 Headers] Wrote block headers       number=39968790 blk/second=7132.800 alloc=250.0MB sys=433.6MB\r\nMar 06 21:00:16 sm5504-352 erigon[4073503]: [INFO] [03-06|21:00:16.348] [2/15 Headers] Processed                 highest inserted=40042570 age=3s\r\nMar 06 21:00:16 sm5504-352 erigon[4073503]: [INFO] [03-06|21:00:16.348] [2/15 Headers] DONE                      in=3m37.063151609s\r\nMar 06 21:00:36 sm5504-352 erigon[4073503]: [INFO] [03-06|21:00:36.061] [p2p] GoodPeers                          eth66=88 eth67=1\r\nMar 06 21:00:39 sm5504-352 erigon[4073503]: [INFO] [03-06|21:00:39.278] [txpool] stat                            block=39564607 pending=117 baseFee=108 queued=5658 alloc=102.0MB sys=544.6MB\r\nMar 06 21:00:49 sm5504-352 erigon[4073503]: [INFO] [03-06|21:00:49.779] [5/15 Bodies] Processing bodies...       from=39820950 to=40042570\r\nMar 06 21:01:09 sm5504-352 erigon[4073503]: [INFO] [03-06|21:01:09.779] [5/15 Bodies] Downloading block bodies   block_num=39831833 delivery/sec=76.1MB wasted/sec=0B remaining=210736 delivered=32813 cache=256.0MB alloc=465.9MB sys=1008.8MB\r\nMar 06 21:01:29 sm5504-352 erigon[4073503]: [INFO] [03-06|21:01:29.880] [5/15 Bodies] Writing block bodies       block_num=39838316 remaining=204254 alloc=482.1MB sys=1.1GB\r\nMar 06 21:01:39 sm5504-352 erigon[4073503]: [INFO] [03-06|21:01:39.829] [txpool] stat                            block=39564607 pending=117 baseFee=151 queued=7722 alloc=508.9MB sys=1.1GB\r\nMar 06 21:01:49 sm5504-352 erigon[4073503]: [INFO] [03-06|21:01:49.784] [5/15 Bodies] Writing block bodies       block_num=39865055 remaining=177515 alloc=342.0MB sys=1.1GB\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1456781235/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1457769344",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/7035#issuecomment-1457769344",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/7035",
    "id": 1457769344,
    "node_id": "IC_kwDOC0FsAM5W48uA",
    "user": {
      "login": "AskAlexSharov",
      "id": 46885206,
      "node_id": "MDQ6VXNlcjQ2ODg1MjA2",
      "avatar_url": "https://avatars.githubusercontent.com/u/46885206?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/AskAlexSharov",
      "html_url": "https://github.com/AskAlexSharov",
      "followers_url": "https://api.github.com/users/AskAlexSharov/followers",
      "following_url": "https://api.github.com/users/AskAlexSharov/following{/other_user}",
      "gists_url": "https://api.github.com/users/AskAlexSharov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/AskAlexSharov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/AskAlexSharov/subscriptions",
      "organizations_url": "https://api.github.com/users/AskAlexSharov/orgs",
      "repos_url": "https://api.github.com/users/AskAlexSharov/repos",
      "events_url": "https://api.github.com/users/AskAlexSharov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/AskAlexSharov/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-03-07T08:41:46Z",
    "updated_at": "2023-03-07T08:41:46Z",
    "author_association": "COLLABORATOR",
    "body": "`alloc=2.8GB` means Erigon using 3GB. \r\nmaybe related to: https://github.com/ledgerwatch/erigon#htop-shows-incorrect-memory-usage",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1457769344/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1457819629",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/7035#issuecomment-1457819629",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/7035",
    "id": 1457819629,
    "node_id": "IC_kwDOC0FsAM5W5I_t",
    "user": {
      "login": "0xKrishna",
      "id": 20155977,
      "node_id": "MDQ6VXNlcjIwMTU1OTc3",
      "avatar_url": "https://avatars.githubusercontent.com/u/20155977?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/0xKrishna",
      "html_url": "https://github.com/0xKrishna",
      "followers_url": "https://api.github.com/users/0xKrishna/followers",
      "following_url": "https://api.github.com/users/0xKrishna/following{/other_user}",
      "gists_url": "https://api.github.com/users/0xKrishna/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/0xKrishna/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/0xKrishna/subscriptions",
      "organizations_url": "https://api.github.com/users/0xKrishna/orgs",
      "repos_url": "https://api.github.com/users/0xKrishna/repos",
      "events_url": "https://api.github.com/users/0xKrishna/events{/privacy}",
      "received_events_url": "https://api.github.com/users/0xKrishna/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-03-07T09:16:09Z",
    "updated_at": "2023-03-07T09:16:09Z",
    "author_association": "COLLABORATOR",
    "body": "Regarding `no block header issue`\r\nTry https://github.com/ledgerwatch/erigon/pull/7046",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1457819629/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1457946815",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/7035#issuecomment-1457946815",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/7035",
    "id": 1457946815,
    "node_id": "IC_kwDOC0FsAM5W5oC_",
    "user": {
      "login": "0x19dG87",
      "id": 75646722,
      "node_id": "MDQ6VXNlcjc1NjQ2NzIy",
      "avatar_url": "https://avatars.githubusercontent.com/u/75646722?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/0x19dG87",
      "html_url": "https://github.com/0x19dG87",
      "followers_url": "https://api.github.com/users/0x19dG87/followers",
      "following_url": "https://api.github.com/users/0x19dG87/following{/other_user}",
      "gists_url": "https://api.github.com/users/0x19dG87/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/0x19dG87/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/0x19dG87/subscriptions",
      "organizations_url": "https://api.github.com/users/0x19dG87/orgs",
      "repos_url": "https://api.github.com/users/0x19dG87/repos",
      "events_url": "https://api.github.com/users/0x19dG87/events{/privacy}",
      "received_events_url": "https://api.github.com/users/0x19dG87/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-03-07T10:43:55Z",
    "updated_at": "2023-03-07T10:43:55Z",
    "author_association": "NONE",
    "body": "> `alloc=2.8GB` means Erigon using 3GB. maybe related to: https://github.com/ledgerwatch/erigon#htop-shows-incorrect-memory-usage\r\n\r\nBut in this case, my server would not have stopped responding. I had to reboot the server in order to run at least some commands. I am wondering if it is only me facing this issue",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1457946815/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1461229842",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/7035#issuecomment-1461229842",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/7035",
    "id": 1461229842,
    "node_id": "IC_kwDOC0FsAM5XGJkS",
    "user": {
      "login": "AskAlexSharov",
      "id": 46885206,
      "node_id": "MDQ6VXNlcjQ2ODg1MjA2",
      "avatar_url": "https://avatars.githubusercontent.com/u/46885206?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/AskAlexSharov",
      "html_url": "https://github.com/AskAlexSharov",
      "followers_url": "https://api.github.com/users/AskAlexSharov/followers",
      "following_url": "https://api.github.com/users/AskAlexSharov/following{/other_user}",
      "gists_url": "https://api.github.com/users/AskAlexSharov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/AskAlexSharov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/AskAlexSharov/subscriptions",
      "organizations_url": "https://api.github.com/users/AskAlexSharov/orgs",
      "repos_url": "https://api.github.com/users/AskAlexSharov/repos",
      "events_url": "https://api.github.com/users/AskAlexSharov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/AskAlexSharov/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-03-09T03:51:17Z",
    "updated_at": "2023-03-09T03:51:17Z",
    "author_association": "COLLABORATOR",
    "body": "when you see high `alloc` in logs or RAM in monitoring: \r\n```\r\nadd flag --pprof\r\ngo tool pprof -inuse_space -png http://127.0.0.1:6060/debug/pprof/heap > mem.png\r\n```\r\nshow this file\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1461229842/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1514041927",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/7035#issuecomment-1514041927",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/7035",
    "id": 1514041927,
    "node_id": "IC_kwDOC0FsAM5aPnJH",
    "user": {
      "login": "github-actions[bot]",
      "id": 41898282,
      "node_id": "MDM6Qm90NDE4OTgyODI=",
      "avatar_url": "https://avatars.githubusercontent.com/in/15368?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/github-actions%5Bbot%5D",
      "html_url": "https://github.com/apps/github-actions",
      "followers_url": "https://api.github.com/users/github-actions%5Bbot%5D/followers",
      "following_url": "https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}",
      "gists_url": "https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/github-actions%5Bbot%5D/subscriptions",
      "organizations_url": "https://api.github.com/users/github-actions%5Bbot%5D/orgs",
      "repos_url": "https://api.github.com/users/github-actions%5Bbot%5D/repos",
      "events_url": "https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}",
      "received_events_url": "https://api.github.com/users/github-actions%5Bbot%5D/received_events",
      "type": "Bot",
      "site_admin": false
    },
    "created_at": "2023-04-19T02:23:13Z",
    "updated_at": "2023-04-19T02:23:13Z",
    "author_association": "NONE",
    "body": "This issue is stale because it has been open for 40 days with no activity. Remove stale label or comment, or this will be closed in 7 days.",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1514041927/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1524483786",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/7035#issuecomment-1524483786",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/7035",
    "id": 1524483786,
    "node_id": "IC_kwDOC0FsAM5a3cbK",
    "user": {
      "login": "github-actions[bot]",
      "id": 41898282,
      "node_id": "MDM6Qm90NDE4OTgyODI=",
      "avatar_url": "https://avatars.githubusercontent.com/in/15368?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/github-actions%5Bbot%5D",
      "html_url": "https://github.com/apps/github-actions",
      "followers_url": "https://api.github.com/users/github-actions%5Bbot%5D/followers",
      "following_url": "https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}",
      "gists_url": "https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/github-actions%5Bbot%5D/subscriptions",
      "organizations_url": "https://api.github.com/users/github-actions%5Bbot%5D/orgs",
      "repos_url": "https://api.github.com/users/github-actions%5Bbot%5D/repos",
      "events_url": "https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}",
      "received_events_url": "https://api.github.com/users/github-actions%5Bbot%5D/received_events",
      "type": "Bot",
      "site_admin": false
    },
    "created_at": "2023-04-27T02:22:00Z",
    "updated_at": "2023-04-27T02:22:00Z",
    "author_association": "NONE",
    "body": "This issue was closed because it has been stalled for 7 days with no activity.",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1524483786/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
