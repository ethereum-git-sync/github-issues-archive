{
  "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/959",
  "repository_url": "https://api.github.com/repos/ledgerwatch/erigon",
  "labels_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/959/labels{/name}",
  "comments_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/959/comments",
  "events_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/959/events",
  "html_url": "https://github.com/ledgerwatch/erigon/issues/959",
  "id": 683607055,
  "node_id": "MDU6SXNzdWU2ODM2MDcwNTU=",
  "number": 959,
  "title": "subdir for temp files",
  "user": {
    "login": "koen84",
    "id": 8461454,
    "node_id": "MDQ6VXNlcjg0NjE0NTQ=",
    "avatar_url": "https://avatars.githubusercontent.com/u/8461454?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/koen84",
    "html_url": "https://github.com/koen84",
    "followers_url": "https://api.github.com/users/koen84/followers",
    "following_url": "https://api.github.com/users/koen84/following{/other_user}",
    "gists_url": "https://api.github.com/users/koen84/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/koen84/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/koen84/subscriptions",
    "organizations_url": "https://api.github.com/users/koen84/orgs",
    "repos_url": "https://api.github.com/users/koen84/repos",
    "events_url": "https://api.github.com/users/koen84/events{/privacy}",
    "received_events_url": "https://api.github.com/users/koen84/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": {
    "login": "mandrigin",
    "id": 466427,
    "node_id": "MDQ6VXNlcjQ2NjQyNw==",
    "avatar_url": "https://avatars.githubusercontent.com/u/466427?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/mandrigin",
    "html_url": "https://github.com/mandrigin",
    "followers_url": "https://api.github.com/users/mandrigin/followers",
    "following_url": "https://api.github.com/users/mandrigin/following{/other_user}",
    "gists_url": "https://api.github.com/users/mandrigin/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/mandrigin/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/mandrigin/subscriptions",
    "organizations_url": "https://api.github.com/users/mandrigin/orgs",
    "repos_url": "https://api.github.com/users/mandrigin/repos",
    "events_url": "https://api.github.com/users/mandrigin/events{/privacy}",
    "received_events_url": "https://api.github.com/users/mandrigin/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "mandrigin",
      "id": 466427,
      "node_id": "MDQ6VXNlcjQ2NjQyNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/466427?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mandrigin",
      "html_url": "https://github.com/mandrigin",
      "followers_url": "https://api.github.com/users/mandrigin/followers",
      "following_url": "https://api.github.com/users/mandrigin/following{/other_user}",
      "gists_url": "https://api.github.com/users/mandrigin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mandrigin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mandrigin/subscriptions",
      "organizations_url": "https://api.github.com/users/mandrigin/orgs",
      "repos_url": "https://api.github.com/users/mandrigin/repos",
      "events_url": "https://api.github.com/users/mandrigin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mandrigin/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 11,
  "created_at": "2020-08-21T14:35:57Z",
  "updated_at": "2020-08-24T01:20:44Z",
  "closed_at": "2020-08-23T09:53:02Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "I'm running turbogeth on a 1TB drive, with 197 GiB in tempfiles it got filled to the brim and got stuck.  It would be great if temp / disk usage would be taking into account available space.\r\n\r\nRegardless, it would be better if tempfiles would get their own subdir (within the datafolder), so it's easier to mount it on a different disk, considering the large size.",
  "closed_by": {
    "login": "AlexeyAkhunov",
    "id": 13686139,
    "node_id": "MDQ6VXNlcjEzNjg2MTM5",
    "avatar_url": "https://avatars.githubusercontent.com/u/13686139?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/AlexeyAkhunov",
    "html_url": "https://github.com/AlexeyAkhunov",
    "followers_url": "https://api.github.com/users/AlexeyAkhunov/followers",
    "following_url": "https://api.github.com/users/AlexeyAkhunov/following{/other_user}",
    "gists_url": "https://api.github.com/users/AlexeyAkhunov/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/AlexeyAkhunov/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/AlexeyAkhunov/subscriptions",
    "organizations_url": "https://api.github.com/users/AlexeyAkhunov/orgs",
    "repos_url": "https://api.github.com/users/AlexeyAkhunov/repos",
    "events_url": "https://api.github.com/users/AlexeyAkhunov/events{/privacy}",
    "received_events_url": "https://api.github.com/users/AlexeyAkhunov/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/959/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/959/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/678388705",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/959#issuecomment-678388705",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/959",
    "id": 678388705,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY3ODM4ODcwNQ==",
    "user": {
      "login": "mandrigin",
      "id": 466427,
      "node_id": "MDQ6VXNlcjQ2NjQyNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/466427?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mandrigin",
      "html_url": "https://github.com/mandrigin",
      "followers_url": "https://api.github.com/users/mandrigin/followers",
      "following_url": "https://api.github.com/users/mandrigin/following{/other_user}",
      "gists_url": "https://api.github.com/users/mandrigin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mandrigin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mandrigin/subscriptions",
      "organizations_url": "https://api.github.com/users/mandrigin/orgs",
      "repos_url": "https://api.github.com/users/mandrigin/repos",
      "events_url": "https://api.github.com/users/mandrigin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mandrigin/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-08-21T16:52:10Z",
    "updated_at": "2020-08-21T16:52:10Z",
    "author_association": "COLLABORATOR",
    "body": "That’s a bit weird, I’m running a node on 1TB drive too and have enough space left (about 200 GB).\r\n\r\nBut I agree with your point about temp files.",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/678388705/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/678567607",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/959#issuecomment-678567607",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/959",
    "id": 678567607,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY3ODU2NzYwNw==",
    "user": {
      "login": "koen84",
      "id": 8461454,
      "node_id": "MDQ6VXNlcjg0NjE0NTQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8461454?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/koen84",
      "html_url": "https://github.com/koen84",
      "followers_url": "https://api.github.com/users/koen84/followers",
      "following_url": "https://api.github.com/users/koen84/following{/other_user}",
      "gists_url": "https://api.github.com/users/koen84/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/koen84/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/koen84/subscriptions",
      "organizations_url": "https://api.github.com/users/koen84/orgs",
      "repos_url": "https://api.github.com/users/koen84/repos",
      "events_url": "https://api.github.com/users/koen84/events{/privacy}",
      "received_events_url": "https://api.github.com/users/koen84/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-08-22T00:37:12Z",
    "updated_at": "2020-08-22T00:37:12Z",
    "author_association": "NONE",
    "body": "My main server has 656GB data + 197GB temp files (+ OS / swap) = full drive.\r\nMy secondary only has 13 GB temp files.\r\n\r\nBoth managed to get to a full sync and maintain it.  Though for some reason the production server went disk full.  (The other one is less powerful yet has more diskspace.)\r\n\r\nBTW, any reason the data is 1 giant file rather than the typical arsenal of smaller files ?  This makes it incompatible with COW filesystems (BTRFS, ZFS, etc).",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/678567607/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/678570750",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/959#issuecomment-678570750",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/959",
    "id": 678570750,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY3ODU3MDc1MA==",
    "user": {
      "login": "AskAlexSharov",
      "id": 46885206,
      "node_id": "MDQ6VXNlcjQ2ODg1MjA2",
      "avatar_url": "https://avatars.githubusercontent.com/u/46885206?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/AskAlexSharov",
      "html_url": "https://github.com/AskAlexSharov",
      "followers_url": "https://api.github.com/users/AskAlexSharov/followers",
      "following_url": "https://api.github.com/users/AskAlexSharov/following{/other_user}",
      "gists_url": "https://api.github.com/users/AskAlexSharov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/AskAlexSharov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/AskAlexSharov/subscriptions",
      "organizations_url": "https://api.github.com/users/AskAlexSharov/orgs",
      "repos_url": "https://api.github.com/users/AskAlexSharov/repos",
      "events_url": "https://api.github.com/users/AskAlexSharov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/AskAlexSharov/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-08-22T00:59:47Z",
    "updated_at": "2020-08-22T01:00:08Z",
    "author_association": "COLLABORATOR",
    "body": "Reason for gigantic db file - transactions. But I believe we can split it at-least at 2: blockchain (blocks 120Gb) and everything else. For sure it will not happen in close future, need to be super careful with such change",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/678570750/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/678571355",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/959#issuecomment-678571355",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/959",
    "id": 678571355,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY3ODU3MTM1NQ==",
    "user": {
      "login": "AskAlexSharov",
      "id": 46885206,
      "node_id": "MDQ6VXNlcjQ2ODg1MjA2",
      "avatar_url": "https://avatars.githubusercontent.com/u/46885206?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/AskAlexSharov",
      "html_url": "https://github.com/AskAlexSharov",
      "followers_url": "https://api.github.com/users/AskAlexSharov/followers",
      "following_url": "https://api.github.com/users/AskAlexSharov/following{/other_user}",
      "gists_url": "https://api.github.com/users/AskAlexSharov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/AskAlexSharov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/AskAlexSharov/subscriptions",
      "organizations_url": "https://api.github.com/users/AskAlexSharov/orgs",
      "repos_url": "https://api.github.com/users/AskAlexSharov/repos",
      "events_url": "https://api.github.com/users/AskAlexSharov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/AskAlexSharov/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-08-22T01:03:47Z",
    "updated_at": "2020-08-22T01:03:47Z",
    "author_association": "COLLABORATOR",
    "body": "About btrfs, it’s interesting but hard question. LMDB - is B+ tree, BTRFS is B tree. Tree on tree must be or redundant or weird. But i don’t believe that BTRFS and ZFS don’t support 1Tb files. Or you mean their cool features become not cool? ",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/678571355/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/678571870",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/959#issuecomment-678571870",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/959",
    "id": 678571870,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY3ODU3MTg3MA==",
    "user": {
      "login": "AskAlexSharov",
      "id": 46885206,
      "node_id": "MDQ6VXNlcjQ2ODg1MjA2",
      "avatar_url": "https://avatars.githubusercontent.com/u/46885206?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/AskAlexSharov",
      "html_url": "https://github.com/AskAlexSharov",
      "followers_url": "https://api.github.com/users/AskAlexSharov/followers",
      "following_url": "https://api.github.com/users/AskAlexSharov/following{/other_user}",
      "gists_url": "https://api.github.com/users/AskAlexSharov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/AskAlexSharov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/AskAlexSharov/subscriptions",
      "organizations_url": "https://api.github.com/users/AskAlexSharov/orgs",
      "repos_url": "https://api.github.com/users/AskAlexSharov/repos",
      "events_url": "https://api.github.com/users/AskAlexSharov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/AskAlexSharov/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-08-22T01:07:28Z",
    "updated_at": "2020-08-22T01:07:28Z",
    "author_association": "COLLABORATOR",
    "body": "temporary files are 128mb ",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/678571870/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/678740861",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/959#issuecomment-678740861",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/959",
    "id": 678740861,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY3ODc0MDg2MQ==",
    "user": {
      "login": "mandrigin",
      "id": 466427,
      "node_id": "MDQ6VXNlcjQ2NjQyNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/466427?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mandrigin",
      "html_url": "https://github.com/mandrigin",
      "followers_url": "https://api.github.com/users/mandrigin/followers",
      "following_url": "https://api.github.com/users/mandrigin/following{/other_user}",
      "gists_url": "https://api.github.com/users/mandrigin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mandrigin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mandrigin/subscriptions",
      "organizations_url": "https://api.github.com/users/mandrigin/orgs",
      "repos_url": "https://api.github.com/users/mandrigin/repos",
      "events_url": "https://api.github.com/users/mandrigin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mandrigin/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-08-23T07:35:23Z",
    "updated_at": "2020-08-23T07:35:23Z",
    "author_association": "COLLABORATOR",
    "body": "Temp files aren't persisted though. They are created during some stages of sync (and their size depends on how much data you are syncing) and then they should be removed.\r\nSo if you sync form genesis to the current HEAD block number, during some phases, you might end up with a couple of hundreds of GB of temp files when we generate indexes. Mostly because we generate indexes for the whole chain at that point.\r\nAfter you catch up and the sync goes from, say block 10.001.000 to 10.002.000, we only need to generate indexes for 1000 blocks, so obviously the size of the temp files will be smaller.\r\n\r\nTemp files are used in a couple of stages and during db migrations, not only indexes, but the idea is the same.",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/678740861/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/678740937",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/959#issuecomment-678740937",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/959",
    "id": 678740937,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY3ODc0MDkzNw==",
    "user": {
      "login": "mandrigin",
      "id": 466427,
      "node_id": "MDQ6VXNlcjQ2NjQyNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/466427?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mandrigin",
      "html_url": "https://github.com/mandrigin",
      "followers_url": "https://api.github.com/users/mandrigin/followers",
      "following_url": "https://api.github.com/users/mandrigin/following{/other_user}",
      "gists_url": "https://api.github.com/users/mandrigin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mandrigin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mandrigin/subscriptions",
      "organizations_url": "https://api.github.com/users/mandrigin/orgs",
      "repos_url": "https://api.github.com/users/mandrigin/repos",
      "events_url": "https://api.github.com/users/mandrigin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mandrigin/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-08-23T07:36:20Z",
    "updated_at": "2020-08-23T07:36:20Z",
    "author_association": "COLLABORATOR",
    "body": "but sure, it definitely makes sense to make a subdir for temp files, I'll take a look at that",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/678740937/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/678794938",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/959#issuecomment-678794938",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/959",
    "id": 678794938,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY3ODc5NDkzOA==",
    "user": {
      "login": "koen84",
      "id": 8461454,
      "node_id": "MDQ6VXNlcjg0NjE0NTQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8461454?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/koen84",
      "html_url": "https://github.com/koen84",
      "followers_url": "https://api.github.com/users/koen84/followers",
      "following_url": "https://api.github.com/users/koen84/following{/other_user}",
      "gists_url": "https://api.github.com/users/koen84/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/koen84/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/koen84/subscriptions",
      "organizations_url": "https://api.github.com/users/koen84/orgs",
      "repos_url": "https://api.github.com/users/koen84/repos",
      "events_url": "https://api.github.com/users/koen84/events{/privacy}",
      "received_events_url": "https://api.github.com/users/koen84/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-08-23T16:27:20Z",
    "updated_at": "2020-08-23T16:27:20Z",
    "author_association": "NONE",
    "body": "@AskAlexSharov 1TB files on a COW filesystem like BTRFS would surely be brutal for perforamance, seeing they'd get many small writes ?  My main reason to want to explore this avenue is snapshotting and send+receive thereof, so that in case of issues i can easily revert back.\r\n\r\n@mandrigin currently the amount of temp files still growing.  I had successfully completed full sync before, so it's only doing catch up since.  (Till it got stuck by full disk, which i've since managed to resume.)\r\n\r\nMy chaindata is 657GiB.\r\nThe tg-sync-sortable-buf<9numbers> amount for 272 GiB.  These files are 283-285MiB in size.  And while i see the log mentioning it's removing some, the total amount is still growing.  It seems what's cleanup are newly created files, the old ones all remain.  Did it leave files it forgot ?  What's the effect of stopping turboget, removing all these files and starting turbogeth ?\r\nI've put this last part in #969 as it might be an issue, that's unrelated to subdir or not.",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/678794938/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/678795695",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/959#issuecomment-678795695",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/959",
    "id": 678795695,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY3ODc5NTY5NQ==",
    "user": {
      "login": "AlexeyAkhunov",
      "id": 13686139,
      "node_id": "MDQ6VXNlcjEzNjg2MTM5",
      "avatar_url": "https://avatars.githubusercontent.com/u/13686139?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/AlexeyAkhunov",
      "html_url": "https://github.com/AlexeyAkhunov",
      "followers_url": "https://api.github.com/users/AlexeyAkhunov/followers",
      "following_url": "https://api.github.com/users/AlexeyAkhunov/following{/other_user}",
      "gists_url": "https://api.github.com/users/AlexeyAkhunov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/AlexeyAkhunov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/AlexeyAkhunov/subscriptions",
      "organizations_url": "https://api.github.com/users/AlexeyAkhunov/orgs",
      "repos_url": "https://api.github.com/users/AlexeyAkhunov/repos",
      "events_url": "https://api.github.com/users/AlexeyAkhunov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/AlexeyAkhunov/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-08-23T16:34:08Z",
    "updated_at": "2020-08-23T16:34:08Z",
    "author_association": "CONTRIBUTOR",
    "body": "Thanks for your report! The old temp files files are not cleaned automatically, do at the moment they need to be removed manually. If you stop turbo-geth, and remove the files, it will not have any adverse effect",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/678795695/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/678856211",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/959#issuecomment-678856211",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/959",
    "id": 678856211,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY3ODg1NjIxMQ==",
    "user": {
      "login": "AskAlexSharov",
      "id": 46885206,
      "node_id": "MDQ6VXNlcjQ2ODg1MjA2",
      "avatar_url": "https://avatars.githubusercontent.com/u/46885206?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/AskAlexSharov",
      "html_url": "https://github.com/AskAlexSharov",
      "followers_url": "https://api.github.com/users/AskAlexSharov/followers",
      "following_url": "https://api.github.com/users/AskAlexSharov/following{/other_user}",
      "gists_url": "https://api.github.com/users/AskAlexSharov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/AskAlexSharov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/AskAlexSharov/subscriptions",
      "organizations_url": "https://api.github.com/users/AskAlexSharov/orgs",
      "repos_url": "https://api.github.com/users/AskAlexSharov/repos",
      "events_url": "https://api.github.com/users/AskAlexSharov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/AskAlexSharov/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-08-24T01:17:05Z",
    "updated_at": "2020-08-24T01:17:05Z",
    "author_association": "COLLABORATOR",
    "body": "I’m sure that 1Tb usual files and 1Tb of mmap files are not equal terabyte. Because only OS can read/write them, not App, and i’m sure that OS has integration with BTRFS for this case. But, yes, definitely we need explore that snapshotting works well.  ",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/678856211/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/678856948",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/959#issuecomment-678856948",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/959",
    "id": 678856948,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY3ODg1Njk0OA==",
    "user": {
      "login": "AskAlexSharov",
      "id": 46885206,
      "node_id": "MDQ6VXNlcjQ2ODg1MjA2",
      "avatar_url": "https://avatars.githubusercontent.com/u/46885206?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/AskAlexSharov",
      "html_url": "https://github.com/AskAlexSharov",
      "followers_url": "https://api.github.com/users/AskAlexSharov/followers",
      "following_url": "https://api.github.com/users/AskAlexSharov/following{/other_user}",
      "gists_url": "https://api.github.com/users/AskAlexSharov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/AskAlexSharov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/AskAlexSharov/subscriptions",
      "organizations_url": "https://api.github.com/users/AskAlexSharov/orgs",
      "repos_url": "https://api.github.com/users/AskAlexSharov/repos",
      "events_url": "https://api.github.com/users/AskAlexSharov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/AskAlexSharov/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-08-24T01:20:44Z",
    "updated_at": "2020-08-24T01:20:44Z",
    "author_association": "COLLABORATOR",
    "body": "What i really mean: BTRFS needs not just small files But knowledge “what changed” for incremental Snapshoting, and OS has information which pages are new in Mmap file and when was updated. ",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/678856948/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
