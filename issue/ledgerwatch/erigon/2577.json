{
  "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/2577",
  "repository_url": "https://api.github.com/repos/ledgerwatch/erigon",
  "labels_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/2577/labels{/name}",
  "comments_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/2577/comments",
  "events_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/2577/events",
  "html_url": "https://github.com/ledgerwatch/erigon/issues/2577",
  "id": 978042249,
  "node_id": "MDU6SXNzdWU5NzgwNDIyNDk=",
  "number": 2577,
  "title": "Syncing after stop takes too much time",
  "user": {
    "login": "paulmillr",
    "id": 574696,
    "node_id": "MDQ6VXNlcjU3NDY5Ng==",
    "avatar_url": "https://avatars.githubusercontent.com/u/574696?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/paulmillr",
    "html_url": "https://github.com/paulmillr",
    "followers_url": "https://api.github.com/users/paulmillr/followers",
    "following_url": "https://api.github.com/users/paulmillr/following{/other_user}",
    "gists_url": "https://api.github.com/users/paulmillr/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/paulmillr/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/paulmillr/subscriptions",
    "organizations_url": "https://api.github.com/users/paulmillr/orgs",
    "repos_url": "https://api.github.com/users/paulmillr/repos",
    "events_url": "https://api.github.com/users/paulmillr/events{/privacy}",
    "received_events_url": "https://api.github.com/users/paulmillr/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 10,
  "created_at": "2021-08-24T12:25:35Z",
  "updated_at": "2021-08-26T08:42:33Z",
  "closed_at": "2021-08-26T08:42:33Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "#### System information\r\n\r\nErigon version: 2021.08.04\r\nOS & Version: Ubuntu 20.04\r\n\r\n#### Steps\r\n\r\nI've stopped syncing for `from=13087827 to=13087883`, which is 60 blocks / 15 minutes. Then i've upgraded from `07.01` to `08.04` and started erigon again.\r\n\r\nIt took 25 minutes to sync 15 minutes worth of blocks. I've heard Erigon targets 100M gas limit in the future, but it clearly won't work with current state of things.\r\n\r\nLog is here: https://gist.github.com/paulmillr/31f79ffc6a25f5bcaf0031d5bf1d21c0\r\n",
  "closed_by": {
    "login": "mandrigin",
    "id": 466427,
    "node_id": "MDQ6VXNlcjQ2NjQyNw==",
    "avatar_url": "https://avatars.githubusercontent.com/u/466427?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/mandrigin",
    "html_url": "https://github.com/mandrigin",
    "followers_url": "https://api.github.com/users/mandrigin/followers",
    "following_url": "https://api.github.com/users/mandrigin/following{/other_user}",
    "gists_url": "https://api.github.com/users/mandrigin/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/mandrigin/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/mandrigin/subscriptions",
    "organizations_url": "https://api.github.com/users/mandrigin/orgs",
    "repos_url": "https://api.github.com/users/mandrigin/repos",
    "events_url": "https://api.github.com/users/mandrigin/events{/privacy}",
    "received_events_url": "https://api.github.com/users/mandrigin/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/2577/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/2577/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/904638956",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/2577#issuecomment-904638956",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/2577",
    "id": 904638956,
    "node_id": "IC_kwDOC0FsAM4167Hs",
    "user": {
      "login": "mandrigin",
      "id": 466427,
      "node_id": "MDQ6VXNlcjQ2NjQyNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/466427?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mandrigin",
      "html_url": "https://github.com/mandrigin",
      "followers_url": "https://api.github.com/users/mandrigin/followers",
      "following_url": "https://api.github.com/users/mandrigin/following{/other_user}",
      "gists_url": "https://api.github.com/users/mandrigin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mandrigin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mandrigin/subscriptions",
      "organizations_url": "https://api.github.com/users/mandrigin/orgs",
      "repos_url": "https://api.github.com/users/mandrigin/repos",
      "events_url": "https://api.github.com/users/mandrigin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mandrigin/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-08-24T13:23:22Z",
    "updated_at": "2021-08-24T13:23:22Z",
    "author_association": "COLLABORATOR",
    "body": "I see that some of the sync (starting from stage 11) was from the block 13087651 and not from 13087827, so 232 blocks and not 56, but sure stuff could be improved there of course. \r\n\r\nWhich disk are you using?",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/904638956/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/904656283",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/2577#issuecomment-904656283",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/2577",
    "id": 904656283,
    "node_id": "IC_kwDOC0FsAM416_Wb",
    "user": {
      "login": "AskAlexSharov",
      "id": 46885206,
      "node_id": "MDQ6VXNlcjQ2ODg1MjA2",
      "avatar_url": "https://avatars.githubusercontent.com/u/46885206?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/AskAlexSharov",
      "html_url": "https://github.com/AskAlexSharov",
      "followers_url": "https://api.github.com/users/AskAlexSharov/followers",
      "following_url": "https://api.github.com/users/AskAlexSharov/following{/other_user}",
      "gists_url": "https://api.github.com/users/AskAlexSharov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/AskAlexSharov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/AskAlexSharov/subscriptions",
      "organizations_url": "https://api.github.com/users/AskAlexSharov/orgs",
      "repos_url": "https://api.github.com/users/AskAlexSharov/repos",
      "events_url": "https://api.github.com/users/AskAlexSharov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/AskAlexSharov/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-08-24T13:45:08Z",
    "updated_at": "2021-08-24T13:45:08Z",
    "author_association": "COLLABORATOR",
    "body": "Erigon rely on OS’s PageCache. PageCache can survive Erigons reboot or kill -9. But can’t survive machine reboot, long downtime or if other process required much RAM (and evicted all PageCache as a result). \r\n\r\nIt takes 15min on average SSD to warmup (we don’t have any special warmup code yet, Erigon just getting faster with time). \r\n\r\nI believe your second cycle had better performance than first. Right?\r\n\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/904656283/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/904787234",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/2577#issuecomment-904787234",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/2577",
    "id": 904787234,
    "node_id": "IC_kwDOC0FsAM417fUi",
    "user": {
      "login": "paulmillr",
      "id": 574696,
      "node_id": "MDQ6VXNlcjU3NDY5Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/574696?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/paulmillr",
      "html_url": "https://github.com/paulmillr",
      "followers_url": "https://api.github.com/users/paulmillr/followers",
      "following_url": "https://api.github.com/users/paulmillr/following{/other_user}",
      "gists_url": "https://api.github.com/users/paulmillr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/paulmillr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/paulmillr/subscriptions",
      "organizations_url": "https://api.github.com/users/paulmillr/orgs",
      "repos_url": "https://api.github.com/users/paulmillr/repos",
      "events_url": "https://api.github.com/users/paulmillr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/paulmillr/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-08-24T16:21:00Z",
    "updated_at": "2021-08-24T16:21:00Z",
    "author_association": "NONE",
    "body": "@mandrigin nvme, speed is 0.5-1 gbyte/sec.\r\n\r\nactually something weird is happening. Take a look at this log from the last two hours https://gist.github.com/paulmillr/54687881de4e95266c2f81ed41e3e75b\r\n\r\nSeems like erigon is \"pausing\" execution for some time, then resumes it and processes many blocks at once, which takes a lot of time. And it is still pretty slow.\r\n\r\nThere have been no reboots since the initial post.",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/904787234/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/904789736",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/2577#issuecomment-904789736",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/2577",
    "id": 904789736,
    "node_id": "IC_kwDOC0FsAM417f7o",
    "user": {
      "login": "paulmillr",
      "id": 574696,
      "node_id": "MDQ6VXNlcjU3NDY5Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/574696?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/paulmillr",
      "html_url": "https://github.com/paulmillr",
      "followers_url": "https://api.github.com/users/paulmillr/followers",
      "following_url": "https://api.github.com/users/paulmillr/following{/other_user}",
      "gists_url": "https://api.github.com/users/paulmillr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/paulmillr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/paulmillr/subscriptions",
      "organizations_url": "https://api.github.com/users/paulmillr/orgs",
      "repos_url": "https://api.github.com/users/paulmillr/repos",
      "events_url": "https://api.github.com/users/paulmillr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/paulmillr/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-08-24T16:24:20Z",
    "updated_at": "2021-08-24T16:24:20Z",
    "author_association": "NONE",
    "body": "I'm seeing in disk stats that in this phase 11 erigon is reading the nvme disk at full capacity.",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/904789736/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/905100337",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/2577#issuecomment-905100337",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/2577",
    "id": 905100337,
    "node_id": "IC_kwDOC0FsAM418rwx",
    "user": {
      "login": "AskAlexSharov",
      "id": 46885206,
      "node_id": "MDQ6VXNlcjQ2ODg1MjA2",
      "avatar_url": "https://avatars.githubusercontent.com/u/46885206?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/AskAlexSharov",
      "html_url": "https://github.com/AskAlexSharov",
      "followers_url": "https://api.github.com/users/AskAlexSharov/followers",
      "following_url": "https://api.github.com/users/AskAlexSharov/following{/other_user}",
      "gists_url": "https://api.github.com/users/AskAlexSharov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/AskAlexSharov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/AskAlexSharov/subscriptions",
      "organizations_url": "https://api.github.com/users/AskAlexSharov/orgs",
      "repos_url": "https://api.github.com/users/AskAlexSharov/repos",
      "events_url": "https://api.github.com/users/AskAlexSharov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/AskAlexSharov/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-08-25T01:37:18Z",
    "updated_at": "2021-08-25T02:12:11Z",
    "author_association": "COLLABORATOR",
    "body": "@paulmillr \r\n1. do you run RPCDaemon? If yes - show CLI flags of erigon and RPCDaemon. Try remove --datadir option from RPCDaemon and see if it helped you. \r\n2. Another thing you can try: branch `mdbx_v0.10.1`  \r\n3. `\"pausing\" execution` - sorry, I can't find it in log can you point me? \r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/905100337/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/905480336",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/2577#issuecomment-905480336",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/2577",
    "id": 905480336,
    "node_id": "IC_kwDOC0FsAM41-IiQ",
    "user": {
      "login": "AskAlexSharov",
      "id": 46885206,
      "node_id": "MDQ6VXNlcjQ2ODg1MjA2",
      "avatar_url": "https://avatars.githubusercontent.com/u/46885206?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/AskAlexSharov",
      "html_url": "https://github.com/AskAlexSharov",
      "followers_url": "https://api.github.com/users/AskAlexSharov/followers",
      "following_url": "https://api.github.com/users/AskAlexSharov/following{/other_user}",
      "gists_url": "https://api.github.com/users/AskAlexSharov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/AskAlexSharov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/AskAlexSharov/subscriptions",
      "organizations_url": "https://api.github.com/users/AskAlexSharov/orgs",
      "repos_url": "https://api.github.com/users/AskAlexSharov/repos",
      "events_url": "https://api.github.com/users/AskAlexSharov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/AskAlexSharov/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-08-25T13:00:44Z",
    "updated_at": "2021-08-25T13:00:44Z",
    "author_association": "COLLABORATOR",
    "body": "@paulmillr I fixed on performance regression in latest devel. Feel free to try. ",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/905480336/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/905895339",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/2577#issuecomment-905895339",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/2577",
    "id": 905895339,
    "node_id": "IC_kwDOC0FsAM41_t2r",
    "user": {
      "login": "feld",
      "id": 40271278,
      "node_id": "MDQ6VXNlcjQwMjcxMjc4",
      "avatar_url": "https://avatars.githubusercontent.com/u/40271278?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/feld",
      "html_url": "https://github.com/feld",
      "followers_url": "https://api.github.com/users/feld/followers",
      "following_url": "https://api.github.com/users/feld/following{/other_user}",
      "gists_url": "https://api.github.com/users/feld/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/feld/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/feld/subscriptions",
      "organizations_url": "https://api.github.com/users/feld/orgs",
      "repos_url": "https://api.github.com/users/feld/repos",
      "events_url": "https://api.github.com/users/feld/events{/privacy}",
      "received_events_url": "https://api.github.com/users/feld/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-08-25T21:40:34Z",
    "updated_at": "2021-08-25T21:40:34Z",
    "author_association": "NONE",
    "body": "> @paulmillr I fixed on performance regression in latest devel. Feel free to try.\r\n\r\nThis fixed it for me.",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/905895339/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/906024648",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/2577#issuecomment-906024648",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/2577",
    "id": 906024648,
    "node_id": "IC_kwDOC0FsAM42ANbI",
    "user": {
      "login": "AskAlexSharov",
      "id": 46885206,
      "node_id": "MDQ6VXNlcjQ2ODg1MjA2",
      "avatar_url": "https://avatars.githubusercontent.com/u/46885206?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/AskAlexSharov",
      "html_url": "https://github.com/AskAlexSharov",
      "followers_url": "https://api.github.com/users/AskAlexSharov/followers",
      "following_url": "https://api.github.com/users/AskAlexSharov/following{/other_user}",
      "gists_url": "https://api.github.com/users/AskAlexSharov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/AskAlexSharov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/AskAlexSharov/subscriptions",
      "organizations_url": "https://api.github.com/users/AskAlexSharov/orgs",
      "repos_url": "https://api.github.com/users/AskAlexSharov/repos",
      "events_url": "https://api.github.com/users/AskAlexSharov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/AskAlexSharov/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-08-26T02:22:27Z",
    "updated_at": "2021-08-26T02:22:27Z",
    "author_association": "COLLABORATOR",
    "body": "on Evo960 after 12 hours of downtime, chain catch up took 20min:\r\n```\r\nINFO[08-26|08:58:38.303] Effective                                prune=\"--prune=hrtc\"\r\nINFO[08-26|08:58:38.303] Starting private RPC server              on=0.0.0.0:9090\r\nINFO[08-26|08:58:40.004] [1/18 Headers] Waiting for headers...    from=13095107\r\nINFO[08-26|08:58:40.209] event subscription channel established with the RPC daemon\r\n[INFO[08-26|08:59:10.005] [1/18 Headers] Wrote block headers       number=13095107 blk/second=0.000 alloc=\"81.51 MiB\" sys=\"134.72 MiB\"\r\nINFO[08-26|08:59:36.324] [1/18 Headers] Processed                 highest inserted=13098141 age=20s\r\nINFO[08-26|08:59:37.087] [4/18 Bodies] Processing bodies...       from=13095107 to=13098141\r\nINFO[08-26|09:00:07.087] [4/18 Bodies] Wrote block bodies         block number=13095159 delivery/sec=\"6.23 MiB\" wasted/sec=\"0.00 B\" alloc=\"612.41 MiB\" sys=\"686.80 MiB\"\r\nINFO[08-26|09:00:37.087] [4/18 Bodies] Wrote block bodies         block number=13095181 delivery/sec=\"870.22 KiB\" wasted/sec=\"0.00 B\" alloc=\"477.98 MiB\" sys=\"765.37 MiB\"\r\nINFO[08-26|09:01:07.087] [4/18 Bodies] Wrote block bodies         block number=13095181 delivery/sec=\"251.99 KiB\" wasted/sec=\"0.00 B\" alloc=\"504.93 MiB\" sys=\"765.37 MiB\"\r\nINFO[08-26|09:01:37.087] [4/18 Bodies] Wrote block bodies         block number=13095201 delivery/sec=\"71.02 KiB\" wasted/sec=\"0.00 B\" alloc=\"513.05 MiB\" sys=\"765.43 MiB\"\r\nINFO[08-26|09:02:07.088] [4/18 Bodies] Wrote block bodies         block number=13095201 delivery/sec=\"0.00 B\" wasted/sec=\"0.00 B\" alloc=\"513.46 MiB\" sys=\"765.43 MiB\"\r\nINFO[08-26|09:02:37.087] [4/18 Bodies] Wrote block bodies         block number=13095228 delivery/sec=\"70.19 KiB\" wasted/sec=\"0.00 B\" alloc=\"466.35 MiB\" sys=\"765.43 MiB\"\r\nINFO[08-26|09:03:07.087] [4/18 Bodies] Wrote block bodies         block number=13095276 delivery/sec=\"73.91 KiB\" wasted/sec=\"0.00 B\" alloc=\"500.44 MiB\" sys=\"765.43 MiB\"\r\nINFO[08-26|09:03:34.285] [4/18 Bodies] Processed                  highest=13098141\r\nINFO[08-26|09:03:34.285] [4/18 Bodies] DONE                       in=3m57.198420315s\r\nINFO[08-26|09:03:34.285] [6/18 Senders] Started                   from=13095107 to=13098141\r\nINFO[08-26|09:03:36.972] [7/18 Execution] Blocks execution        from=13095107 to=13098141\r\nINFO[08-26|09:04:07.042] [7/18 Execution] Executed blocks         number=13095387 blk/s=9.312 tx/s=1895.966 Mgas/s=144.105 batch=\"8.00 MiB\" alloc=\"359.88 MiB\" sys=\"998.33 MiB\"\r\nINFO[08-26|09:04:37.012] [7/18 Execution] Executed blocks         number=13095793 blk/s=13.547 tx/s=2446.389 Mgas/s=208.912 batch=\"17.64 MiB\" alloc=\"428.03 MiB\" sys=\"998.58 MiB\"\r\nINFO[08-26|09:05:06.996] [7/18 Execution] Executed blocks         number=13096287 blk/s=16.475 tx/s=2720.472 Mgas/s=255.502 batch=\"30.44 MiB\" alloc=\"331.88 MiB\" sys=\"998.58 MiB\"\r\nINFO[08-26|09:05:37.003] [7/18 Execution] Executed blocks         number=13096756 blk/s=15.630 tx/s=2691.978 Mgas/s=240.591 batch=\"41.67 MiB\" alloc=\"329.27 MiB\" sys=\"998.83 MiB\"\r\nINFO[08-26|09:06:06.985] [7/18 Execution] Executed blocks         number=13097269 blk/s=17.111 tx/s=2948.279 Mgas/s=264.195 batch=\"53.49 MiB\" alloc=\"355.07 MiB\" sys=\"999.33 MiB\"\r\nINFO[08-26|09:06:36.979] [7/18 Execution] Executed blocks         number=13097783 blk/s=17.136 tx/s=2777.198 Mgas/s=262.959 batch=\"65.02 MiB\" alloc=\"401.24 MiB\" sys=\"999.58 MiB\"\r\nINFO[08-26|09:07:26.137] [7/18 Execution] Completed on            block=13098141\r\nINFO[08-26|09:07:26.137] [7/18 Execution] DONE                    in=3m49.164647883s\r\nINFO[08-26|09:07:26.138] [10/18 HashState] Promoting plain state  from=13095107 to=13098141\r\nINFO[08-26|09:07:26.138] [10/18 HashState] Incremental promotion started from=13095107 to=13098141 codes=true csbucket=AccountChangeSet\r\nINFO[08-26|09:07:38.908] [10/18 HashState] Incremental promotion started from=13095107 to=13098141 codes=false csbucket=AccountChangeSet\r\nINFO[08-26|09:08:11.319] [10/18 HashState] ETL [2/2] Loading      into=HashedAccount current key=d011171a... alloc=\"415.62 MiB\" sys=\"999.96 MiB\"\r\nINFO[08-26|09:08:19.141] [10/18 HashState] Incremental promotion started from=13095107 to=13098141 codes=false csbucket=StorageChangeSet\r\nINFO[08-26|09:09:08.083] [10/18 HashState] ETL [2/2] Loading      into=HashedStorage current key=4e6f19bd... alloc=\"752.44 MiB\" sys=\"1.22 GiB\"\r\nINFO[08-26|09:09:38.084] [10/18 HashState] ETL [2/2] Loading      into=HashedStorage current key=a081e094... alloc=\"789.90 MiB\" sys=\"1.22 GiB\"\r\nINFO[08-26|09:10:08.084] [10/18 HashState] ETL [2/2] Loading      into=HashedStorage current key=e86bf899... alloc=\"822.59 MiB\" sys=\"1.22 GiB\"\r\nINFO[08-26|09:10:18.017] [10/18 HashState] DONE                   in=2m51.880211696s\r\nINFO[08-26|09:10:18.025] [11/18 IntermediateHashes] Generating intermediate hashes from=13095107 to=13098141\r\nINFO[08-26|09:11:00.553] [11/18 IntermediateHashes] Calculating Merkle root current key=3600cb18...\r\nINFO[08-26|09:11:30.842] [11/18 IntermediateHashes] Calculating Merkle root current key=6a51925d...\r\nINFO[08-26|09:12:00.807] [11/18 IntermediateHashes] Calculating Merkle root current key=92600011...\r\nINFO[08-26|09:12:30.553] [11/18 IntermediateHashes] Calculating Merkle root current key=aff9f1e4...\r\nINFO[08-26|09:13:00.552] [11/18 IntermediateHashes] Calculating Merkle root current key=dd2318cd...\r\nINFO[08-26|09:13:19.262] Flushed buffer file                      name=/evo/mainnet/etl-temp/tg-sync-sortable-buf3821893794 alloc=\"1.14 GiB\" sys=\"1.29 GiB\"\r\nINFO[08-26|09:13:42.684] Flushed buffer file                      name=/evo/mainnet/etl-temp/tg-sync-sortable-buf3273541390 alloc=\"1.29 GiB\" sys=\"1.41 GiB\"\r\nINFO[08-26|09:14:12.700] [11/18 IntermediateHashes] ETL [2/2] Loading into=TrieStorage current key=6328a6ef... alloc=\"1.54 GiB\" sys=\"1.68 GiB\"\r\nINFO[08-26|09:14:30.609] [11/18 IntermediateHashes] etl: temp files removed total size=\"271.0 MB\"\r\nINFO[08-26|09:14:33.504] [11/18 IntermediateHashes] DONE          in=4m15.481753663s\r\nINFO[08-26|09:16:20.893] [14/18 StorageHistoryIndex] ETL [2/2] Loading into=StorageHistory current key=a0246c90... alloc=\"1.21 GiB\" sys=\"1.79 GiB\"\r\nINFO[08-26|09:16:44.840] [14/18 StorageHistoryIndex] DONE         in=1m2.098107919s\r\nINFO[08-26|09:17:59.038] [16/18 TxLookup] ETL [2/2] Loading       into=BlockTransactionLookup current key=917a98be... alloc=\"393.26 MiB\" sys=\"1.79 GiB\"\r\nINFO[08-26|09:18:21.934] [16/18 TxLookup] DONE                    in=1m8.85098189s\r\nINFO[08-26|09:18:21.934] [17/18 TxPool] Starting tx pool after sync from=13095107 to=13098141\r\nINFO[08-26|09:18:21.943] Loaded local transaction journal         transactions=0 dropped=0\r\nINFO[08-26|09:18:21.943] Regenerated local transaction journal    transactions=0 accounts=0\r\nINFO[08-26|09:18:21.943] transaction pool started\r\nINFO[08-26|09:18:24.197] [17/18 TxPool] Transaction stats         pending=222 queued=140\r\nINFO[08-26|09:19:48.097] [12/18 CallTraces Prune]                 table=CallToIndex block=13006733\r\nINFO[08-26|09:19:55.174] Timings (slower than 10ms)               Prune LogIndex=22.693s Prune StorageHistoryIndex=5.802s Prune AccountHistoryIndex=25.367s Prune CallTraces=36.382s Prune Execution=714ms\r\nINFO[08-26|09:19:55.176] Update current block for the RPC API     from=13095108 to=13098141\r\nINFO[08-26|09:19:55.275] [1/18 Headers] Waiting for headers...    from=13098141\r\nINFO[08-26|09:19:55.291] [1/18 Headers] Processed                 highest inserted=13098143 age=20m3s\r\nINFO[08-26|09:19:59.459] [7/18 Execution] Completed on            block=13098143\r\nINFO[08-26|09:20:01.448] [17/18 TxPool] Transaction stats         pending=3955 queued=1024\r\nINFO[08-26|09:20:01.538] Timings (slower than 10ms)               Prune LogIndex=42ms Prune AccountHistoryIndex=26ms Prune CallTraces=16ms\r\nINFO[08-26|09:20:01.538] Tables                                   freelist=\"7.98 MiB\" PlainState=\"48.36 GiB\" AccountChangeSet=\"1.50 GiB\" StorageChangeSet=\"2.97 GiB\" BlockTransaction=\"293.36 GiB\" TransactionLog=\"5.27 GiB\"\r\nINFO[08-26|09:20:01.928] Commit cycle                             in=389.807406ms\r\nINFO[08-26|09:20:01.933] Update current block for the RPC API     from=13098142 to=13098143\r\nINFO[08-26|09:20:01.933] [1/18 Headers] Waiting for headers...    from=13098143\r\nINFO[08-26|09:20:02.268] [1/18 Headers] Processed                 highest inserted=13098157 age=16m33s\r\nINFO[08-26|09:20:09.968] [7/18 Execution] Completed on            block=13098157\r\nINFO[08-26|09:20:23.806] [17/18 TxPool] Transaction stats         pending=4094 queued=1024\r\nINFO[08-26|09:20:24.075] Timings (slower than 10ms)               Prune LogIndex=106ms Prune StorageHistoryIndex=24ms Prune AccountHistoryIndex=52ms Prune CallTraces=80ms\r\nINFO[08-26|09:20:24.075] Tables                                   freelist=\"7.99 MiB\" PlainState=\"48.36 GiB\" AccountChangeSet=\"1.50 GiB\" StorageChangeSet=\"2.97 GiB\" BlockTransaction=\"293.37 GiB\" TransactionLog=\"5.27 GiB\"\r\nINFO[08-26|09:20:24.684] Commit cycle                             in=609.458393ms\r\n``` \r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/906024648/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/906195026",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/2577#issuecomment-906195026",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/2577",
    "id": 906195026,
    "node_id": "IC_kwDOC0FsAM42A3BS",
    "user": {
      "login": "paulmillr",
      "id": 574696,
      "node_id": "MDQ6VXNlcjU3NDY5Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/574696?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/paulmillr",
      "html_url": "https://github.com/paulmillr",
      "followers_url": "https://api.github.com/users/paulmillr/followers",
      "following_url": "https://api.github.com/users/paulmillr/following{/other_user}",
      "gists_url": "https://api.github.com/users/paulmillr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/paulmillr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/paulmillr/subscriptions",
      "organizations_url": "https://api.github.com/users/paulmillr/orgs",
      "repos_url": "https://api.github.com/users/paulmillr/repos",
      "events_url": "https://api.github.com/users/paulmillr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/paulmillr/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-08-26T08:15:45Z",
    "updated_at": "2021-08-26T08:15:45Z",
    "author_association": "NONE",
    "body": "I've stopped Erigon for now, because it consumed 1.8tb of disk while it has been 1tb now so I won't be able to confirm the fix.\r\n\r\nAs for \r\n\r\n>\"pausing\" execution - sorry, I can't find it in log can you point me?\r\n\r\nI've meant that in July, every new block got through 18 stages of Erigon.\r\n\r\nNow, I don't see anything like that in logs. Instead, I see 200 blocks be processed in batch even though I did not pause anything. Perhaps that's because it took a lot of time to process the previous 200 (etc) blocks. You can see it here: https://gist.github.com/paulmillr/54687881de4e95266c2f81ed41e3e75b",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/906195026/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/906213194",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/2577#issuecomment-906213194",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/2577",
    "id": 906213194,
    "node_id": "IC_kwDOC0FsAM42A7dK",
    "user": {
      "login": "mandrigin",
      "id": 466427,
      "node_id": "MDQ6VXNlcjQ2NjQyNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/466427?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mandrigin",
      "html_url": "https://github.com/mandrigin",
      "followers_url": "https://api.github.com/users/mandrigin/followers",
      "following_url": "https://api.github.com/users/mandrigin/following{/other_user}",
      "gists_url": "https://api.github.com/users/mandrigin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mandrigin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mandrigin/subscriptions",
      "organizations_url": "https://api.github.com/users/mandrigin/orgs",
      "repos_url": "https://api.github.com/users/mandrigin/repos",
      "events_url": "https://api.github.com/users/mandrigin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mandrigin/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-08-26T08:42:33Z",
    "updated_at": "2021-08-26T08:42:33Z",
    "author_association": "COLLABORATOR",
    "body": "> so I won't be able to confirm the fix\r\n\r\nso we had a known regression about the disk I/O, that is fixed in the latest [2021.08.05](https://github.com/ledgerwatch/erigon/releases/tag/v2021.08.05) release.\r\n\r\nI will close this issue for now. \r\n@paulmillr if that problem persists after you try with the new release, feel free to reopen.",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/906213194/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
