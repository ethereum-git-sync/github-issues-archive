{
  "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/8265",
  "repository_url": "https://api.github.com/repos/ledgerwatch/erigon",
  "labels_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/8265/labels{/name}",
  "comments_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/8265/comments",
  "events_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/8265/events",
  "html_url": "https://github.com/ledgerwatch/erigon/issues/8265",
  "id": 1908082879,
  "node_id": "I_kwDOC0FsAM5xuwi_",
  "number": 8265,
  "title": "Thoughts on memory issues",
  "user": {
    "login": "rayn316",
    "id": 24621599,
    "node_id": "MDQ6VXNlcjI0NjIxNTk5",
    "avatar_url": "https://avatars.githubusercontent.com/u/24621599?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/rayn316",
    "html_url": "https://github.com/rayn316",
    "followers_url": "https://api.github.com/users/rayn316/followers",
    "following_url": "https://api.github.com/users/rayn316/following{/other_user}",
    "gists_url": "https://api.github.com/users/rayn316/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/rayn316/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/rayn316/subscriptions",
    "organizations_url": "https://api.github.com/users/rayn316/orgs",
    "repos_url": "https://api.github.com/users/rayn316/repos",
    "events_url": "https://api.github.com/users/rayn316/events{/privacy}",
    "received_events_url": "https://api.github.com/users/rayn316/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 0,
  "created_at": "2023-09-22T02:27:45Z",
  "updated_at": "2023-09-22T02:27:45Z",
  "closed_at": null,
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "The memory usage of erigon when it is provided as RPC has always been very high. Regardless of whether the server is 64G or above 200G, the memory will be full within a few days and cause OOM.\r\nWhen I used pprof to obtain memory a long time ago, I found that the filter uses a lot of memory, but sometimes it is not the filter that uses the most memory.\r\nAfter trying to add new detections to my software, which will automatically delete filters that have not been used for a long time, the memory usage is under stable control. Although erigon still takes up a lot of 60-80G of memory, it is already very good in terms of stability.\r\nSo I think the team can optimize the memory in this direction, such as optimizing the memory usage of filters, because in geth, filters have little impact on memory.\r\n\r\nFilter: json-rpc `eth_newFilter   eth_newPendingTransactionFilter ...`",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/8265/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/8265/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[

]
