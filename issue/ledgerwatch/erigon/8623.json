{
  "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/8623",
  "repository_url": "https://api.github.com/repos/ledgerwatch/erigon",
  "labels_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/8623/labels{/name}",
  "comments_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/8623/comments",
  "events_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/8623/events",
  "html_url": "https://github.com/ledgerwatch/erigon/issues/8623",
  "id": 1968565511,
  "node_id": "I_kwDOC0FsAM51Ve0H",
  "number": 8623,
  "title": "go-mdbx causing access violations on windows.",
  "user": {
    "login": "JABirchall",
    "id": 3427459,
    "node_id": "MDQ6VXNlcjM0Mjc0NTk=",
    "avatar_url": "https://avatars.githubusercontent.com/u/3427459?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/JABirchall",
    "html_url": "https://github.com/JABirchall",
    "followers_url": "https://api.github.com/users/JABirchall/followers",
    "following_url": "https://api.github.com/users/JABirchall/following{/other_user}",
    "gists_url": "https://api.github.com/users/JABirchall/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/JABirchall/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/JABirchall/subscriptions",
    "organizations_url": "https://api.github.com/users/JABirchall/orgs",
    "repos_url": "https://api.github.com/users/JABirchall/repos",
    "events_url": "https://api.github.com/users/JABirchall/events{/privacy}",
    "received_events_url": "https://api.github.com/users/JABirchall/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 1,
  "created_at": "2023-10-30T14:52:45Z",
  "updated_at": "2023-10-30T15:43:49Z",
  "closed_at": null,
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "#### System information\r\n\r\nErigon version: erigon version 2.53.2\r\n\r\nOS & Version: Windows\r\n\r\nCommit hash: N/A\r\n\r\nErigon Command (with flags/config): ./erigon\r\n\r\nConsensus Layer: default\r\n\r\nConsensus Layer Command (with flags/config): default\r\n\r\nChain/Network: default\r\n\r\n#### Expected behaviour\r\nErigon to launch the default network and start syncing\r\n\r\n#### Actual behaviour\r\nErigon instantly crashes due to an access violation caused by the go-mdbx package\r\n\r\n#### Steps to reproduce the behaviour\r\nLaunch erigon.\r\n\r\n#### Backtrace\r\n\r\n````\r\nINFO[10-30|14:52:30.929] logging to file system                   log dir=C:\\\\Users\\\\owner\\\\AppData\\\\Local\\\\Erigon\\\\logs file prefix=erigon log level=info json=false\r\nINFO[10-30|14:52:30.930] Build info                               git_branch= git_tag= git_commit=\r\nINFO[10-30|14:52:30.930] Starting Erigon on Ethereum mainnet...\r\nINFO[10-30|14:52:30.932] Maximum peer count                       ETH=100 total=100\r\nINFO[10-30|14:52:30.932] starting HTTP APIs                       APIs=eth,erigon,engine\r\nINFO[10-30|14:52:30.932] torrent verbosity                        level=WRN\r\nINFO[10-30|14:52:33.062] Set global gas cap                       cap=50000000\r\nINFO[10-30|14:52:33.108] [Downloader] Runnning with               ipv6-enabled=true ipv4-enabled=true download.rate=16mb upload.rate=4mb\r\nINFO[10-30|14:52:33.109] Opening Database                         label=chaindata path=C:\\\\Users\\\\owner\\\\AppData\\\\Local\\\\Erigon\\\\chaindata\r\nException 0xc0000005 0x8 0x0 0x0\r\nPC=0x0\r\nsignal arrived during external code execution\r\n\r\nruntime.cgocall(0x1e7f2b0, 0xc0005ba0c8)\r\n        /usr/local/go/src/runtime/cgocall.go:157 +0x4a fp=0xc0005ba0a0 sp=0xc0005ba068 pc=0x14544a\r\ngithub.com/erigontech/mdbx-go/mdbx._Cfunc_mdbx_env_create(0xc00090c180)\r\n        _cgo_gotypes.go:643 +0x52 fp=0xc0005ba0c8 sp=0xc0005ba0a0 pc=0x5dec12\r\ngithub.com/erigontech/mdbx-go/mdbx.NewEnv.func1(0xc00090c180)\r\n        /root/go/pkg/mod/github.com/erigontech/mdbx-go@v0.27.19/mdbx/env.go:137 +0x46 fp=0xc0005ba0f8 sp=0xc0005ba0c8 pc=0x5e3306\r\ngithub.com/erigontech/mdbx-go/mdbx.NewEnv()\r\n        /root/go/pkg/mod/github.com/erigontech/mdbx-go@v0.27.19/mdbx/env.go:137 +0x2f fp=0xc0005ba128 sp=0xc0005ba0f8 pc=0x5e31cf\r\ngithub.com/ledgerwatch/erigon-lib/kv/mdbx.MdbxOpts.Open({{0x3220d68, 0xc0000a66a0}, 0xc000bce000, 0x2ec3c08, {0xc000902d50, 0x2d}, 0x0, 0x30000000000, 0x1000000, 0xffffffffffffffff, ...}, ...)\r\n        /go/src/github.com/ledgerwatch/erigon/erigon-lib/kv/mdbx/kv_mdbx.go:264 +0x31b fp=0xc0005ba6f0 sp=0xc0005ba128 pc=0xdb69fb\r\ngithub.com/ledgerwatch/erigon/node.OpenDatabase.func1(0x0)\r\n        /go/src/github.com/ledgerwatch/erigon/node/node.go:365 +0x7a8 fp=0xc0005baee0 sp=0xc0005ba6f0 pc=0x1a9cd28\r\ngithub.com/ledgerwatch/erigon/node.OpenDatabase({0x320d998, 0xc00004a0b8}, 0xc000dab000, 0x0, {0x0?, 0x0?}, 0x0, {0x3220d68, 0xc0000a66a0})\r\n        /go/src/github.com/ledgerwatch/erigon/node/node.go:368 +0x350 fp=0xc0005bafd8 sp=0xc0005baee0 pc=0x1a9c270\r\ngithub.com/ledgerwatch/erigon/eth.New({0x320d998, 0xc00004a0b8}, 0xc000c82000, 0xc000956e00, {0x3220d68, 0xc0000a66a0})\r\n        /go/src/github.com/ledgerwatch/erigon/eth/backend.go:233 +0x4be fp=0xc0005bd7e0 sp=0xc0005bafd8 pc=0x1e5535e\r\ngithub.com/ledgerwatch/erigon/turbo/node.New({0x320d998, 0xc00004a0b8}, 0x3220d68?, 0xc0000a66a0?, {0x3220d68, 0xc0000a66a0})\r\n        /go/src/github.com/ledgerwatch/erigon/turbo/node/node.go:122 +0xb1 fp=0xc0005bd848 sp=0xc0005bd7e0 pc=0x1e66b31\r\nmain.runErigon(0xc000c1cb00)\r\n        /go/src/github.com/ledgerwatch/erigon/cmd/erigon/main.go:80 +0x445 fp=0xc0005bdae8 sp=0xc0005bd848 pc=0x1e7c3a5\r\ngithub.com/ledgerwatch/erigon/turbo/app.MakeApp.func1(0xc000c1cb00)\r\n        /go/src/github.com/ledgerwatch/erigon/turbo/app/make_app.go:43 +0xc2 fp=0xc0005bdbe8 sp=0xc0005bdae8 pc=0x1e70f82\r\ngithub.com/urfave/cli/v2.(*Command).Run(0xc00080e420, 0xc000c1cb00, {0xc0000a4240, 0x1, 0x1})\r\n        /root/go/pkg/mod/github.com/urfave/cli/v2@v2.25.7/command.go:274 +0x9eb fp=0xc0005bde88 sp=0xc0005bdbe8 pc=0x6854eb\r\ngithub.com/urfave/cli/v2.(*App).RunContext(0xc00030d0e0, {0x320d998?, 0xc00004a0b8}, {0xc0000a4240, 0x1, 0x1})\r\n        /root/go/pkg/mod/github.com/urfave/cli/v2@v2.25.7/app.go:332 +0x616 fp=0xc0005bdef8 sp=0xc0005bde88 pc=0x681e16\r\ngithub.com/urfave/cli/v2.(*App).Run(...)\r\n        /root/go/pkg/mod/github.com/urfave/cli/v2@v2.25.7/app.go:309\r\nmain.main()\r\n        /go/src/github.com/ledgerwatch/erigon/cmd/erigon/main.go:41 +0x8f fp=0xc0005bdf80 sp=0xc0005bdef8 pc=0x1e7be6f\r\nruntime.main()\r\n        /usr/local/go/src/runtime/proc.go:250 +0x1f7 fp=0xc0005bdfe0 sp=0xc0005bdf80 pc=0x17fab7\r\nruntime.goexit()\r\n        /usr/local/go/src/runtime/asm_amd64.s:1598 +0x1 fp=0xc0005bdfe8 sp=0xc0005bdfe0 pc=0x1b25a1\r\n````\r\n",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/8623/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/8623/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1785498118",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/8623#issuecomment-1785498118",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/8623",
    "id": 1785498118,
    "node_id": "IC_kwDOC0FsAM5qbIoG",
    "user": {
      "login": "JABirchall",
      "id": 3427459,
      "node_id": "MDQ6VXNlcjM0Mjc0NTk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3427459?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/JABirchall",
      "html_url": "https://github.com/JABirchall",
      "followers_url": "https://api.github.com/users/JABirchall/followers",
      "following_url": "https://api.github.com/users/JABirchall/following{/other_user}",
      "gists_url": "https://api.github.com/users/JABirchall/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/JABirchall/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/JABirchall/subscriptions",
      "organizations_url": "https://api.github.com/users/JABirchall/orgs",
      "repos_url": "https://api.github.com/users/JABirchall/repos",
      "events_url": "https://api.github.com/users/JABirchall/events{/privacy}",
      "received_events_url": "https://api.github.com/users/JABirchall/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-10-30T15:43:49Z",
    "updated_at": "2023-10-30T15:43:49Z",
    "author_association": "NONE",
    "body": "Related #8460",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1785498118/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
