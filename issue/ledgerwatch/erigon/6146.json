{
  "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/6146",
  "repository_url": "https://api.github.com/repos/ledgerwatch/erigon",
  "labels_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/6146/labels{/name}",
  "comments_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/6146/comments",
  "events_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/6146/events",
  "html_url": "https://github.com/ledgerwatch/erigon/issues/6146",
  "id": 1467375326,
  "node_id": "I_kwDOC0FsAM5Xdl7e",
  "number": 6146,
  "title": "runtime error: slice bounds out of range [297203082:2621440]",
  "user": {
    "login": "i11m20n",
    "id": 13911593,
    "node_id": "MDQ6VXNlcjEzOTExNTkz",
    "avatar_url": "https://avatars.githubusercontent.com/u/13911593?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/i11m20n",
    "html_url": "https://github.com/i11m20n",
    "followers_url": "https://api.github.com/users/i11m20n/followers",
    "following_url": "https://api.github.com/users/i11m20n/following{/other_user}",
    "gists_url": "https://api.github.com/users/i11m20n/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/i11m20n/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/i11m20n/subscriptions",
    "organizations_url": "https://api.github.com/users/i11m20n/orgs",
    "repos_url": "https://api.github.com/users/i11m20n/repos",
    "events_url": "https://api.github.com/users/i11m20n/events{/privacy}",
    "received_events_url": "https://api.github.com/users/i11m20n/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 4566396003,
      "node_id": "LA_kwDOC0FsAM8AAAABEC2sYw",
      "url": "https://api.github.com/repos/ledgerwatch/erigon/labels/Stale",
      "name": "Stale",
      "color": "ededed",
      "default": false,
      "description": null
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 14,
  "created_at": "2022-11-29T03:05:38Z",
  "updated_at": "2023-01-31T02:37:46Z",
  "closed_at": "2023-01-31T02:37:46Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "#### System information\r\n\r\nErigon version: `2.30.0-stable`\r\n\r\nOS & Version: `CentOS Linux release 7.9.2009 (Core)`\r\n\r\nCommit hash : 35f493c5d021965f994bee615d441b2b35811f8f\r\n\r\n#### Expected behaviour\r\nFollow the BSC chain synchronization\r\n\r\n#### Actual behaviour\r\nCrash and restart to continue crashing\r\n\r\n#### Steps to reproduce the behaviour\r\nstart command\r\n```shell\r\nnohup ./erigon --chain=bsc --datadir=/home/erigon/.bscnode --torrent.port=42096 --torrent.download.rate=64mb --db.pagesize=64kb --http=false --private.api.addr=127.0.0.1:19090 > node.log 2>&1 &\r\n```\r\n\r\nrestart command\r\n```shell\r\nnohup ./erigon --chain=bsc --datadir=/home/erigon/.bscnode --torrent.port=42096 --torrent.download.rate=64mb --db.pagesize=64kb --http=false --private.api.addr=127.0.0.1:19090 --snap.stop > node.log 2>&1 &\r\n```\r\n\r\n#### Backtrace\r\ninitial log（tail -n 100 node.log）\r\n\r\n````log\r\n[WARN] [11-14|07:08:36.871] Index file has timestamp before segment file, will be recreated segfile=/home/erigon/.bscnode/snapshots/v1-020500-021000-transactions.seg segtime=2022-10-12T03:27:00-0400 idxfile=v1-020500-021000-transactions-to-block.idx idxtime=2022-09-06T13:54:56-0400\r\n[INFO] [11-14|07:08:54.567] [1/16 Snapshots] Indexing                progress=\"v1-020500-021000-headers.seg=50%, v1-020000-020500-headers.seg=48%, v1-020500-021000-transactions.seg=0%, v1-020000-020500-transactions.seg=0%\" total-indexing-time=20s alloc=79.9GB sys=124.0GB\r\n[INFO] [11-14|07:09:00.627] [p2p] GoodPeers                          eth66=20\r\n[INFO] [11-14|07:09:03.254] [txpool] stat                            block=23036446 pending=10000 baseFee=351 queued=30000 alloc=79.9GB sys=124.0GB\r\n[EROR] [11-14|07:09:15.311] Staged Sync                              err=\"[1/16 Snapshots] BuildMissedIndices: HeadersIdx: at=v1-020500-021000-headers.seg, file: /home/erigon/.bscnode/snapshots/v1-020500-021000-headers.seg, runtime error: slice bounds out of range [915:610], [decompress.go:551 panic.go:838 panic.go:117 decompress.go:578 block_snapshots.go:1917 block_snapshots.go:1841 block_snapshots.go:866 block_snapshots.go:917 asm_amd64.s:1571], [block_snapshots.go:1825 panic.go:838 decompress.go:551 panic.go:838 panic.go:117 decompress.go:578 block_snapshots.go:1917 block_snapshots.go:1841 block_snapshots.go:866 block_snapshots.go:917 asm_amd64.s:1571]\"\r\n[INFO] [11-14|07:09:30.278] [1/16 Snapshots] Fetching torrent files metadata\r\n[INFO] [11-14|07:09:30.373] [Snapshots] Blocks Stat                  blocks=20000k indices=20000k alloc=79.1GB sys=124.0GB\r\n[WARN] [11-14|07:09:30.748] Index file has timestamp before segment file, will be recreated segfile=/home/erigon/.bscnode/snapshots/v1-020000-020500-headers.seg segtime=2022-10-12T03:30:03-0400 idxfile=v1-020000-020500-headers.idx idxtime=2022-08-30T11:08:03-0400\r\n[WARN] [11-14|07:09:30.749] Index file has timestamp before segment file, will be recreated segfile=/home/erigon/.bscnode/snapshots/v1-020500-021000-headers.seg segtime=2022-10-12T02:40:44-0400 idxfile=v1-020500-021000-headers.idx idxtime=2022-09-06T04:10:38-0400\r\n[WARN] [11-14|07:09:33.548] Index file has timestamp before segment file, will be recreated segfile=/home/erigon/.bscnode/snapshots/v1-020000-020500-transactions.seg segtime=2022-10-12T03:53:52-0400 idxfile=v1-020000-020500-transactions.idx idxtime=2022-08-30T21:53:14-0400\r\n[WARN] [11-14|07:09:33.548] Index file has timestamp before segment file, will be recreated segfile=/home/erigon/.bscnode/snapshots/v1-020000-020500-transactions.seg segtime=2022-10-12T03:53:52-0400 idxfile=v1-020000-020500-transactions-to-block.idx idxtime=2022-08-30T22:01:36-0400\r\n[WARN] [11-14|07:09:33.550] Index file has timestamp before segment file, will be recreated segfile=/home/erigon/.bscnode/snapshots/v1-020500-021000-transactions.seg segtime=2022-10-12T03:27:00-0400 idxfile=v1-020500-021000-transactions.idx idxtime=2022-09-06T13:47:21-0400\r\n[WARN] [11-14|07:09:33.552] Index file has timestamp before segment file, will be recreated segfile=/home/erigon/.bscnode/snapshots/v1-020500-021000-transactions.seg segtime=2022-10-12T03:27:00-0400 idxfile=v1-020500-021000-transactions-to-block.idx idxtime=2022-09-06T13:54:56-0400\r\n[INFO] [11-14|07:09:50.383] [1/16 Snapshots] Indexing                progress=\"v1-020500-021000-headers.seg=48%, v1-020000-020500-headers.seg=45%, v1-020500-021000-transactions.seg=0%, v1-020000-020500-transactions.seg=0%\" total-indexing-time=20s alloc=78.9GB sys=124.0GB\r\n[INFO] [11-14|07:10:03.058] [txpool] stat                            block=23036446 pending=10000 baseFee=351 queued=30000 alloc=78.8GB sys=124.0GB\r\n[INFO] [11-14|07:10:10.380] [1/16 Snapshots] Indexing                progress=\"v1-020500-021000-headers.seg=96%, v1-020000-020500-headers.seg=95%, v1-020500-021000-transactions.seg=0%, v1-020000-020500-transactions.seg=0%\" total-indexing-time=40s alloc=79.0GB sys=124.0GB\r\n[EROR] [11-14|07:10:11.882] Staged Sync                              err=\"[1/16 Snapshots] BuildMissedIndices: HeadersIdx: at=v1-020500-021000-headers.seg, file: /home/erigon/.bscnode/snapshots/v1-020500-021000-headers.seg, runtime error: slice bounds out of range [915:610], [decompress.go:551 panic.go:838 panic.go:117 decompress.go:578 block_snapshots.go:1917 block_snapshots.go:1841 block_snapshots.go:866 block_snapshots.go:917 asm_amd64.s:1571], [block_snapshots.go:1825 panic.go:838 decompress.go:551 panic.go:838 panic.go:117 decompress.go:578 block_snapshots.go:1917 block_snapshots.go:1841 block_snapshots.go:866 block_snapshots.go:917 asm_amd64.s:1571]\"\r\n[INFO] [11-14|07:10:24.348] [1/16 Snapshots] Fetching torrent files metadata\r\n[INFO] [11-14|07:10:24.577] [Snapshots] Blocks Stat                  blocks=20000k indices=20000k alloc=79.1GB sys=124.0GB\r\n[WARN] [11-14|07:10:25.070] Index file has timestamp before segment file, will be recreated segfile=/home/erigon/.bscnode/snapshots/v1-020000-020500-headers.seg segtime=2022-10-12T03:30:03-0400 idxfile=v1-020000-020500-headers.idx idxtime=2022-08-30T11:08:03-0400\r\n[WARN] [11-14|07:10:25.071] Index file has timestamp before segment file, will be recreated segfile=/home/erigon/.bscnode/snapshots/v1-020500-021000-headers.seg segtime=2022-10-12T02:40:44-0400 idxfile=v1-020500-021000-headers.idx idxtime=2022-09-06T04:10:38-0400\r\n[WARN] [11-14|07:10:26.935] Index file has timestamp before segment file, will be recreated segfile=/home/erigon/.bscnode/snapshots/v1-020000-020500-transactions.seg segtime=2022-10-12T03:53:52-0400 idxfile=v1-020000-020500-transactions.idx idxtime=2022-08-30T21:53:14-0400\r\n[WARN] [11-14|07:10:27.112] Index file has timestamp before segment file, will be recreated segfile=/home/erigon/.bscnode/snapshots/v1-020000-020500-transactions.seg segtime=2022-10-12T03:53:52-0400 idxfile=v1-020000-020500-transactions-to-block.idx idxtime=2022-08-30T22:01:36-0400\r\n[WARN] [11-14|07:10:27.113] Index file has timestamp before segment file, will be recreated segfile=/home/erigon/.bscnode/snapshots/v1-020500-021000-transactions.seg segtime=2022-10-12T03:27:00-0400 idxfile=v1-020500-021000-transactions.idx idxtime=2022-09-06T13:47:21-0400\r\n[WARN] [11-14|07:10:27.113] Index file has timestamp before segment file, will be recreated segfile=/home/erigon/.bscnode/snapshots/v1-020500-021000-transactions.seg segtime=2022-10-12T03:27:00-0400 idxfile=v1-020500-021000-transactions-to-block.idx idxtime=2022-09-06T13:54:56-0400\r\n[INFO] [11-14|07:10:44.584] [1/16 Snapshots] Indexing                progress=\"v1-020500-021000-headers.seg=43%, v1-020000-020500-headers.seg=41%, v1-020500-021000-transactions.seg=0%, v1-020000-020500-transactions.seg=0%\" total-indexing-time=20s alloc=79.1GB sys=124.0GB\r\n[INFO] [11-14|07:11:00.653] [p2p] GoodPeers                          eth66=20\r\n[INFO] [11-14|07:11:02.989] [txpool] stat                            block=23036446 pending=10000 baseFee=351 queued=30000 alloc=79.2GB sys=124.0GB\r\n[INFO] [11-14|07:11:04.589] [1/16 Snapshots] Indexing                progress=\"v1-020500-021000-headers.seg=98%, v1-020000-020500-headers.seg=92%, v1-020500-021000-transactions.seg=0%, v1-020000-020500-transactions.seg=0%\" total-indexing-time=40s alloc=79.5GB sys=124.0GB\r\n[EROR] [11-14|07:11:05.318] Staged Sync                              err=\"[1/16 Snapshots] BuildMissedIndices: HeadersIdx: at=v1-020500-021000-headers.seg, file: /home/erigon/.bscnode/snapshots/v1-020500-021000-headers.seg, runtime error: slice bounds out of range [915:610], [decompress.go:551 panic.go:838 panic.go:117 decompress.go:578 block_snapshots.go:1917 block_snapshots.go:1841 block_snapshots.go:866 block_snapshots.go:917 asm_amd64.s:1571], [block_snapshots.go:1825 panic.go:838 decompress.go:551 panic.go:838 panic.go:117 decompress.go:578 block_snapshots.go:1917 block_snapshots.go:1841 block_snapshots.go:866 block_snapshots.go:917 asm_amd64.s:1571]\"\r\n[INFO] [11-14|07:11:16.315] [1/16 Snapshots] Fetching torrent files metadata\r\n[INFO] [11-14|07:11:16.448] [Snapshots] Blocks Stat                  blocks=20000k indices=20000k alloc=80.3GB sys=124.0GB\r\n[WARN] [11-14|07:11:16.775] Index file has timestamp before segment file, will be recreated segfile=/home/erigon/.bscnode/snapshots/v1-020000-020500-headers.seg segtime=2022-10-12T03:30:03-0400 idxfile=v1-020000-020500-headers.idx idxtime=2022-08-30T11:08:03-0400\r\n[WARN] [11-14|07:11:16.776] Index file has timestamp before segment file, will be recreated segfile=/home/erigon/.bscnode/snapshots/v1-020500-021000-headers.seg segtime=2022-10-12T02:40:44-0400 idxfile=v1-020500-021000-headers.idx idxtime=2022-09-06T04:10:38-0400\r\n[WARN] [11-14|07:11:18.720] Index file has timestamp before segment file, will be recreated segfile=/home/erigon/.bscnode/snapshots/v1-020000-020500-transactions.seg segtime=2022-10-12T03:53:52-0400 idxfile=v1-020000-020500-transactions.idx idxtime=2022-08-30T21:53:14-0400\r\n[WARN] [11-14|07:11:18.851] Index file has timestamp before segment file, will be recreated segfile=/home/erigon/.bscnode/snapshots/v1-020000-020500-transactions.seg segtime=2022-10-12T03:53:52-0400 idxfile=v1-020000-020500-transactions-to-block.idx idxtime=2022-08-30T22:01:36-0400\r\n[WARN] [11-14|07:11:18.852] Index file has timestamp before segment file, will be recreated segfile=/home/erigon/.bscnode/snapshots/v1-020500-021000-transactions.seg segtime=2022-10-12T03:27:00-0400 idxfile=v1-020500-021000-transactions.idx idxtime=2022-09-06T13:47:21-0400\r\n[WARN] [11-14|07:11:18.853] Index file has timestamp before segment file, will be recreated segfile=/home/erigon/.bscnode/snapshots/v1-020500-021000-transactions.seg segtime=2022-10-12T03:27:00-0400 idxfile=v1-020500-021000-transactions-to-block.idx idxtime=2022-09-06T13:54:56-0400\r\n[INFO] [11-14|07:11:36.463] [1/16 Snapshots] Indexing                progress=\"v1-020500-021000-headers.seg=40%, v1-020000-020500-headers.seg=42%, v1-020500-021000-transactions.seg=0%, v1-020000-020500-transactions.seg=0%\" total-indexing-time=20s alloc=81.6GB sys=124.0GB\r\n[INFO] [11-14|07:11:56.457] [1/16 Snapshots] Indexing                progress=\"v1-020500-021000-headers.seg=88%, v1-020000-020500-headers.seg=89%, v1-020500-021000-transactions.seg=0%, v1-020000-020500-transactions.seg=0%\" total-indexing-time=40s alloc=81.5GB sys=124.0GB\r\n[EROR] [11-14|07:12:00.622] Staged Sync                              err=\"[1/16 Snapshots] BuildMissedIndices: HeadersIdx: at=v1-020000-020500-headers.seg, file: /home/erigon/.bscnode/snapshots/v1-020000-020500-headers.seg, runtime error: slice bounds out of range [610:36], [decompress.go:551 panic.go:838 panic.go:117 decompress.go:578 block_snapshots.go:1917 block_snapshots.go:1841 block_snapshots.go:866 block_snapshots.go:917 asm_amd64.s:1571], [block_snapshots.go:1825 panic.go:838 decompress.go:551 panic.go:838 panic.go:117 decompress.go:578 block_snapshots.go:1917 block_snapshots.go:1841 block_snapshots.go:866 block_snapshots.go:917 asm_amd64.s:1571]\"\r\n[INFO] [11-14|07:12:03.616] [txpool] stat                            block=23036446 pending=10000 baseFee=351 queued=30000 alloc=81.6GB sys=124.0GB\r\n[INFO] [11-14|07:12:11.646] [1/16 Snapshots] Fetching torrent files metadata\r\n[INFO] [11-14|07:12:11.943] [Snapshots] Blocks Stat                  blocks=20000k indices=20000k alloc=81.6GB sys=124.0GB\r\n[WARN] [11-14|07:12:12.592] Index file has timestamp before segment file, will be recreated segfile=/home/erigon/.bscnode/snapshots/v1-020000-020500-headers.seg segtime=2022-10-12T03:30:03-0400 idxfile=v1-020000-020500-headers.idx idxtime=2022-08-30T11:08:03-0400\r\n[WARN] [11-14|07:12:12.774] Index file has timestamp before segment file, will be recreated segfile=/home/erigon/.bscnode/snapshots/v1-020500-021000-headers.seg segtime=2022-10-12T02:40:44-0400 idxfile=v1-020500-021000-headers.idx idxtime=2022-09-06T04:10:38-0400\r\n[WARN] [11-14|07:12:14.923] Index file has timestamp before segment file, will be recreated segfile=/home/erigon/.bscnode/snapshots/v1-020000-020500-transactions.seg segtime=2022-10-12T03:53:52-0400 idxfile=v1-020000-020500-transactions.idx idxtime=2022-08-30T21:53:14-0400\r\n[WARN] [11-14|07:12:15.046] Index file has timestamp before segment file, will be recreated segfile=/home/erigon/.bscnode/snapshots/v1-020000-020500-transactions.seg segtime=2022-10-12T03:53:52-0400 idxfile=v1-020000-020500-transactions-to-block.idx idxtime=2022-08-30T22:01:36-0400\r\n[WARN] [11-14|07:12:15.047] Index file has timestamp before segment file, will be recreated segfile=/home/erigon/.bscnode/snapshots/v1-020500-021000-transactions.seg segtime=2022-10-12T03:27:00-0400 idxfile=v1-020500-021000-transactions.idx idxtime=2022-09-06T13:47:21-0400\r\n[WARN] [11-14|07:12:15.048] Index file has timestamp before segment file, will be recreated segfile=/home/erigon/.bscnode/snapshots/v1-020500-021000-transactions.seg segtime=2022-10-12T03:27:00-0400 idxfile=v1-020500-021000-transactions-to-block.idx idxtime=2022-09-06T13:54:56-0400\r\n[INFO] [11-14|07:12:31.975] [1/16 Snapshots] Indexing                progress=\"v1-020000-020500-headers.seg=40%, v1-020500-021000-headers.seg=36%, v1-020500-021000-transactions.seg=0%, v1-020000-020500-transactions.seg=0%\" total-indexing-time=20s alloc=81.6GB sys=124.0GB\r\n[INFO] [11-14|07:12:51.126] [index] calculating                      file=v1-021000-021500-transactions.idx\r\n[INFO] [11-14|07:12:51.957] [1/16 Snapshots] Indexing                progress=\"v1-020000-020500-headers.seg=84%, v1-020500-021000-headers.seg=84%, v1-020500-021000-transactions.seg=0%, v1-020000-020500-transactions.seg=0%\" total-indexing-time=40s alloc=81.6GB sys=124.0GB\r\n[EROR] [11-14|07:12:58.711] Staged Sync                              err=\"[1/16 Snapshots] BuildMissedIndices: HeadersIdx: at=v1-020000-020500-headers.seg, file: /home/erigon/.bscnode/snapshots/v1-020000-020500-headers.seg, runtime error: slice bounds out of range [610:36], [decompress.go:551 panic.go:838 panic.go:117 decompress.go:578 block_snapshots.go:1917 block_snapshots.go:1841 block_snapshots.go:866 block_snapshots.go:917 asm_amd64.s:1571], [block_snapshots.go:1825 panic.go:838 decompress.go:551 panic.go:838 panic.go:117 decompress.go:578 block_snapshots.go:1917 block_snapshots.go:1841 block_snapshots.go:866 block_snapshots.go:917 asm_amd64.s:1571]\"\r\n[INFO] [11-14|07:13:00.616] [p2p] GoodPeers                          eth66=20\r\n[INFO] [11-14|07:13:03.402] [txpool] stat                            block=23036446 pending=10000 baseFee=351 queued=30000 alloc=81.6GB sys=124.0GB\r\n[INFO] [11-14|07:13:08.800] [1/16 Snapshots] Fetching torrent files metadata\r\n[INFO] [11-14|07:13:08.941] [Snapshots] Blocks Stat                  blocks=20000k indices=20000k alloc=81.6GB sys=124.0GB\r\n[WARN] [11-14|07:13:09.441] Index file has timestamp before segment file, will be recreated segfile=/home/erigon/.bscnode/snapshots/v1-020000-020500-headers.seg segtime=2022-10-12T03:30:03-0400 idxfile=v1-020000-020500-headers.idx idxtime=2022-08-30T11:08:03-0400\r\n[WARN] [11-14|07:13:09.441] Index file has timestamp before segment file, will be recreated segfile=/home/erigon/.bscnode/snapshots/v1-020500-021000-headers.seg segtime=2022-10-12T02:40:44-0400 idxfile=v1-020500-021000-headers.idx idxtime=2022-09-06T04:10:38-0400\r\n[WARN] [11-14|07:13:11.515] Index file has timestamp before segment file, will be recreated segfile=/home/erigon/.bscnode/snapshots/v1-020000-020500-transactions.seg segtime=2022-10-12T03:53:52-0400 idxfile=v1-020000-020500-transactions.idx idxtime=2022-08-30T21:53:14-0400\r\n[WARN] [11-14|07:13:11.516] Index file has timestamp before segment file, will be recreated segfile=/home/erigon/.bscnode/snapshots/v1-020000-020500-transactions.seg segtime=2022-10-12T03:53:52-0400 idxfile=v1-020000-020500-transactions-to-block.idx idxtime=2022-08-30T22:01:36-0400\r\n[WARN] [11-14|07:13:11.518] Index file has timestamp before segment file, will be recreated segfile=/home/erigon/.bscnode/snapshots/v1-020500-021000-transactions.seg segtime=2022-10-12T03:27:00-0400 idxfile=v1-020500-021000-transactions.idx idxtime=2022-09-06T13:47:21-0400\r\n[WARN] [11-14|07:13:11.519] Index file has timestamp before segment file, will be recreated segfile=/home/erigon/.bscnode/snapshots/v1-020500-021000-transactions.seg segtime=2022-10-12T03:27:00-0400 idxfile=v1-020500-021000-transactions-to-block.idx idxtime=2022-09-06T13:54:56-0400\r\n[INFO] [11-14|07:13:28.960] [1/16 Snapshots] Indexing                progress=\"v1-020500-021000-headers.seg=40%, v1-020000-020500-headers.seg=43%, v1-021000-021500-transactions.seg=0%, v1-020000-020500-transactions.seg=0%, v1-020500-021000-transactions.seg=0%\" total-indexing-time=20s alloc=84.1GB sys=124.0GB\r\n[INFO] [11-14|07:13:48.955] [1/16 Snapshots] Indexing                progress=\"v1-020500-021000-headers.seg=80%, v1-020000-020500-headers.seg=81%, v1-021000-021500-transactions.seg=0%, v1-020000-020500-transactions.seg=0%, v1-020500-021000-transactions.seg=0%\" total-indexing-time=40s alloc=84.9GB sys=124.0GB\r\n[EROR] [11-14|07:13:57.387] Staged Sync                              err=\"[1/16 Snapshots] BuildMissedIndices: HeadersIdx: at=v1-020000-020500-headers.seg, file: /home/erigon/.bscnode/snapshots/v1-020000-020500-headers.seg, runtime error: slice bounds out of range [610:36], [decompress.go:551 panic.go:838 panic.go:117 decompress.go:578 block_snapshots.go:1917 block_snapshots.go:1841 block_snapshots.go:866 block_snapshots.go:917 asm_amd64.s:1571], [block_snapshots.go:1825 panic.go:838 decompress.go:551 panic.go:838 panic.go:117 decompress.go:578 block_snapshots.go:1917 block_snapshots.go:1841 block_snapshots.go:866 block_snapshots.go:917 asm_amd64.s:1571]\"\r\n[INFO] [11-14|07:14:03.238] [txpool] stat                            block=23036446 pending=10000 baseFee=351 queued=30000 alloc=84.4GB sys=124.0GB\r\n[INFO] [11-14|07:14:08.254] [1/16 Snapshots] Fetching torrent files metadata\r\n[INFO] [11-14|07:14:08.421] [Snapshots] Blocks Stat                  blocks=20000k indices=20000k alloc=84.2GB sys=124.0GB\r\n[WARN] [11-14|07:14:09.167] Index file has timestamp before segment file, will be recreated segfile=/home/erigon/.bscnode/snapshots/v1-020000-020500-headers.seg segtime=2022-10-12T03:30:03-0400 idxfile=v1-020000-020500-headers.idx idxtime=2022-08-30T11:08:03-0400\r\n[WARN] [11-14|07:14:09.168] Index file has timestamp before segment file, will be recreated segfile=/home/erigon/.bscnode/snapshots/v1-020500-021000-headers.seg segtime=2022-10-12T02:40:44-0400 idxfile=v1-020500-021000-headers.idx idxtime=2022-09-06T04:10:38-0400\r\n[WARN] [11-14|07:14:11.603] Index file has timestamp before segment file, will be recreated segfile=/home/erigon/.bscnode/snapshots/v1-020000-020500-transactions.seg segtime=2022-10-12T03:53:52-0400 idxfile=v1-020000-020500-transactions.idx idxtime=2022-08-30T21:53:14-0400\r\n[WARN] [11-14|07:14:11.605] Index file has timestamp before segment file, will be recreated segfile=/home/erigon/.bscnode/snapshots/v1-020000-020500-transactions.seg segtime=2022-10-12T03:53:52-0400 idxfile=v1-020000-020500-transactions-to-block.idx idxtime=2022-08-30T22:01:36-0400\r\n[WARN] [11-14|07:14:11.725] Index file has timestamp before segment file, will be recreated segfile=/home/erigon/.bscnode/snapshots/v1-020500-021000-transactions.seg segtime=2022-10-12T03:27:00-0400 idxfile=v1-020500-021000-transactions.idx idxtime=2022-09-06T13:47:21-0400\r\n[WARN] [11-14|07:14:11.726] Index file has timestamp before segment file, will be recreated segfile=/home/erigon/.bscnode/snapshots/v1-020500-021000-transactions.seg segtime=2022-10-12T03:27:00-0400 idxfile=v1-020500-021000-transactions-to-block.idx idxtime=2022-09-06T13:54:56-0400\r\n[INFO] [11-14|07:14:28.431] [1/16 Snapshots] Indexing                progress=\"v1-020500-021000-headers.seg=35%, v1-020000-020500-headers.seg=39%, v1-020000-020500-transactions.seg=0%, v1-021000-021500-transactions.seg=0%, v1-020500-021000-transactions.seg=0%\" total-indexing-time=20s alloc=84.8GB sys=124.0GB\r\n[INFO] [11-14|07:14:48.425] [1/16 Snapshots] Indexing                progress=\"v1-020500-021000-headers.seg=80%, v1-020000-020500-headers.seg=84%, v1-020000-020500-transactions.seg=0%, v1-021000-021500-transactions.seg=0%, v1-020500-021000-transactions.seg=0%\" total-indexing-time=40s alloc=84.9GB sys=124.0GB\r\n[EROR] [11-14|07:14:55.308] Staged Sync                              err=\"[1/16 Snapshots] BuildMissedIndices: HeadersIdx: at=v1-020000-020500-headers.seg, file: /home/erigon/.bscnode/snapshots/v1-020000-020500-headers.seg, runtime error: slice bounds out of range [610:36], [decompress.go:551 panic.go:838 panic.go:117 decompress.go:578 block_snapshots.go:1917 block_snapshots.go:1841 block_snapshots.go:866 block_snapshots.go:917 asm_amd64.s:1571], [block_snapshots.go:1825 panic.go:838 decompress.go:551 panic.go:838 panic.go:117 decompress.go:578 block_snapshots.go:1917 block_snapshots.go:1841 block_snapshots.go:866 block_snapshots.go:917 asm_amd64.s:1571]\"\r\n[INFO] [11-14|07:15:00.626] [p2p] GoodPeers                          eth66=21\r\n[INFO] [11-14|07:15:03.162] [txpool] stat                            block=23036446 pending=10000 baseFee=351 queued=30000 alloc=84.9GB sys=124.0GB\r\n[INFO] [11-14|07:15:06.911] [1/16 Snapshots] Fetching torrent files metadata\r\n[INFO] [11-14|07:15:07.274] [Snapshots] Blocks Stat                  blocks=20000k indices=20000k alloc=84.9GB sys=124.0GB\r\n[WARN] [11-14|07:15:07.815] Index file has timestamp before segment file, will be recreated segfile=/home/erigon/.bscnode/snapshots/v1-020000-020500-headers.seg segtime=2022-10-12T03:30:03-0400 idxfile=v1-020000-020500-headers.idx idxtime=2022-08-30T11:08:03-0400\r\n[WARN] [11-14|07:15:07.816] Index file has timestamp before segment file, will be recreated segfile=/home/erigon/.bscnode/snapshots/v1-020500-021000-headers.seg segtime=2022-10-12T02:40:44-0400 idxfile=v1-020500-021000-headers.idx idxtime=2022-09-06T04:10:38-0400\r\n[WARN] [11-14|07:15:09.759] Index file has timestamp before segment file, will be recreated segfile=/home/erigon/.bscnode/snapshots/v1-020000-020500-transactions.seg segtime=2022-10-12T03:53:52-0400 idxfile=v1-020000-020500-transactions.idx idxtime=2022-08-30T21:53:14-0400\r\n[WARN] [11-14|07:15:09.761] Index file has timestamp before segment file, will be recreated segfile=/home/erigon/.bscnode/snapshots/v1-020000-020500-transactions.seg segtime=2022-10-12T03:53:52-0400 idxfile=v1-020000-020500-transactions-to-block.idx idxtime=2022-08-30T22:01:36-0400\r\n[WARN] [11-14|07:15:09.762] Index file has timestamp before segment file, will be recreated segfile=/home/erigon/.bscnode/snapshots/v1-020500-021000-transactions.seg segtime=2022-10-12T03:27:00-0400 idxfile=v1-020500-021000-transactions.idx idxtime=2022-09-06T13:47:21-0400\r\n[WARN] [11-14|07:15:09.764] Index file has timestamp before segment file, will be recreated segfile=/home/erigon/.bscnode/snapshots/v1-020500-021000-transactions.seg segtime=2022-10-12T03:27:00-0400 idxfile=v1-020500-021000-transactions-to-block.idx idxtime=2022-09-06T13:54:56-0400\r\npanic: runtime error: slice bounds out of range [297203082:2621440]\r\n\r\ngoroutine 8641024 [running]:\r\ngithub.com/ledgerwatch/erigon-lib/recsplit.OpenIndex({0xcbbb765590, 0x41})\r\n        github.com/ledgerwatch/erigon-lib@v0.0.0-20221111035555-f9fe50d566fb/recsplit/index.go:101 +0x9ec\r\ngithub.com/ledgerwatch/erigon/turbo/snapshotsync.hasIdxFile(0xc1a75bbf50)\r\n        github.com/ledgerwatch/erigon/turbo/snapshotsync/block_snapshots.go:1300 +0x29e\r\ngithub.com/ledgerwatch/erigon/turbo/snapshotsync.BuildMissedIndices.func1()\r\n        github.com/ledgerwatch/erigon/turbo/snapshotsync/block_snapshots.go:902 +0x1bb\r\ncreated by github.com/ledgerwatch/erigon/turbo/snapshotsync.BuildMissedIndices\r\n        github.com/ledgerwatch/erigon/turbo/snapshotsync/block_snapshots.go:895 +0x413\r\n````\r\n\r\nrestart log\r\n```log\r\n[INFO] [11-28|03:28:43.546] Build info                               git_branch= git_tag= git_commit=\r\n[INFO] [11-28|03:28:43.546] Starting Erigon on BSC mainnet...\r\n[INFO] [11-28|03:28:43.552] Maximum peer count                       ETH=100 total=100\r\n[INFO] [11-28|03:28:43.553] starting HTTP APIs                       APIs=eth,erigon,engine\r\n[INFO] [11-28|03:28:43.553] torrent verbosity                        level=WRN\r\n[INFO] [11-28|03:28:45.655] Set global gas cap                       cap=50000000\r\n[INFO] [11-28|03:28:45.662] Opening Database                         label=chaindata path=/home/erigon/.bscnode/chaindata\r\n[INFO] [11-28|03:28:45.667] Initialised chain configuration          config=\"{ChainID: 56 Ramanujan: 0, Niels: 0, MirrorSync: 5184000, Bruno: 13082000, Euler: 18907621, Gibbs: <nil>, Nano: 21962149, Moran: 22107423, Engine: parlia}\" genesis=0x0d21840abff46b96c84b2ac9e10e4f5cdaeb5693cb665db62a2f3b02d2d57b5b\r\n[WARN] [11-28|03:28:45.668] Incorrect snapshot enablement            got=false change_to=true\r\n[INFO] [11-28|03:28:45.668] Effective                                prune_flags= snapshot_flags=\"--snapshots=true --snap.stop=true\" history.v3=false\r\n[EROR] [11-28|03:28:51.593] catch panic                              err=\"runtime error: slice bounds out of range [297203082:2621440]\" stack=\"[main.go:32 panic.go:838 panic.go:117 index.go:101 block_snapshots.go:249 block_snapshots.go:276 block_snapshots.go:675 block_snapshots.go:727 kv_mdbx.go:645 block_snapshots.go:722 block_snapshots.go:708 backend.go:870 backend.go:265 node.go:115 main.go:62 app.go:526 app.go:286 main.go:37 proc.go:250 asm_amd64.s:1571]\"\r\n```\r\n",
  "closed_by": {
    "login": "github-actions[bot]",
    "id": 41898282,
    "node_id": "MDM6Qm90NDE4OTgyODI=",
    "avatar_url": "https://avatars.githubusercontent.com/in/15368?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/github-actions%5Bbot%5D",
    "html_url": "https://github.com/apps/github-actions",
    "followers_url": "https://api.github.com/users/github-actions%5Bbot%5D/followers",
    "following_url": "https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}",
    "gists_url": "https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/github-actions%5Bbot%5D/subscriptions",
    "organizations_url": "https://api.github.com/users/github-actions%5Bbot%5D/orgs",
    "repos_url": "https://api.github.com/users/github-actions%5Bbot%5D/repos",
    "events_url": "https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}",
    "received_events_url": "https://api.github.com/users/github-actions%5Bbot%5D/received_events",
    "type": "Bot",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/6146/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/6146/timeline",
  "performed_via_github_app": null,
  "state_reason": "not_planned"
}
[
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1330021345",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/6146#issuecomment-1330021345",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/6146",
    "id": 1330021345,
    "node_id": "IC_kwDOC0FsAM5PRoPh",
    "user": {
      "login": "i11m20n",
      "id": 13911593,
      "node_id": "MDQ6VXNlcjEzOTExNTkz",
      "avatar_url": "https://avatars.githubusercontent.com/u/13911593?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/i11m20n",
      "html_url": "https://github.com/i11m20n",
      "followers_url": "https://api.github.com/users/i11m20n/followers",
      "following_url": "https://api.github.com/users/i11m20n/following{/other_user}",
      "gists_url": "https://api.github.com/users/i11m20n/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/i11m20n/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/i11m20n/subscriptions",
      "organizations_url": "https://api.github.com/users/i11m20n/orgs",
      "repos_url": "https://api.github.com/users/i11m20n/repos",
      "events_url": "https://api.github.com/users/i11m20n/events{/privacy}",
      "received_events_url": "https://api.github.com/users/i11m20n/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-11-29T03:16:25Z",
    "updated_at": "2022-11-29T03:16:25Z",
    "author_association": "NONE",
    "body": "Please help me, what should I do to restore sync?\r\nfull log: [node.log](https://github.com/ledgerwatch/erigon/files/10109412/node.log)\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1330021345/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1330069967",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/6146#issuecomment-1330069967",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/6146",
    "id": 1330069967,
    "node_id": "IC_kwDOC0FsAM5PR0HP",
    "user": {
      "login": "binhgo",
      "id": 10021934,
      "node_id": "MDQ6VXNlcjEwMDIxOTM0",
      "avatar_url": "https://avatars.githubusercontent.com/u/10021934?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/binhgo",
      "html_url": "https://github.com/binhgo",
      "followers_url": "https://api.github.com/users/binhgo/followers",
      "following_url": "https://api.github.com/users/binhgo/following{/other_user}",
      "gists_url": "https://api.github.com/users/binhgo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/binhgo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/binhgo/subscriptions",
      "organizations_url": "https://api.github.com/users/binhgo/orgs",
      "repos_url": "https://api.github.com/users/binhgo/repos",
      "events_url": "https://api.github.com/users/binhgo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/binhgo/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-11-29T04:42:22Z",
    "updated_at": "2022-11-29T04:42:22Z",
    "author_association": "NONE",
    "body": "@i11m20n are you facing this issue when upgrade Erigon client? I am also facing this when upgrade from 2.28.1 to 2.30.0",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1330069967/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1330244460",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/6146#issuecomment-1330244460",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/6146",
    "id": 1330244460,
    "node_id": "IC_kwDOC0FsAM5PSets",
    "user": {
      "login": "i11m20n",
      "id": 13911593,
      "node_id": "MDQ6VXNlcjEzOTExNTkz",
      "avatar_url": "https://avatars.githubusercontent.com/u/13911593?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/i11m20n",
      "html_url": "https://github.com/i11m20n",
      "followers_url": "https://api.github.com/users/i11m20n/followers",
      "following_url": "https://api.github.com/users/i11m20n/following{/other_user}",
      "gists_url": "https://api.github.com/users/i11m20n/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/i11m20n/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/i11m20n/subscriptions",
      "organizations_url": "https://api.github.com/users/i11m20n/orgs",
      "repos_url": "https://api.github.com/users/i11m20n/repos",
      "events_url": "https://api.github.com/users/i11m20n/events{/privacy}",
      "received_events_url": "https://api.github.com/users/i11m20n/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-11-29T08:13:42Z",
    "updated_at": "2022-11-29T08:13:42Z",
    "author_association": "NONE",
    "body": "> @i11m20n are you facing this issue when upgrade Erigon client? I am also facing this when upgrade from 2.28.1 to 2.30.0\r\n\r\nNo, my erigon upgrade process didn't crash.\r\nThe crash didn't happen until yesterday.",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1330244460/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1330246325",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/6146#issuecomment-1330246325",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/6146",
    "id": 1330246325,
    "node_id": "IC_kwDOC0FsAM5PSfK1",
    "user": {
      "login": "i11m20n",
      "id": 13911593,
      "node_id": "MDQ6VXNlcjEzOTExNTkz",
      "avatar_url": "https://avatars.githubusercontent.com/u/13911593?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/i11m20n",
      "html_url": "https://github.com/i11m20n",
      "followers_url": "https://api.github.com/users/i11m20n/followers",
      "following_url": "https://api.github.com/users/i11m20n/following{/other_user}",
      "gists_url": "https://api.github.com/users/i11m20n/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/i11m20n/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/i11m20n/subscriptions",
      "organizations_url": "https://api.github.com/users/i11m20n/orgs",
      "repos_url": "https://api.github.com/users/i11m20n/repos",
      "events_url": "https://api.github.com/users/i11m20n/events{/privacy}",
      "received_events_url": "https://api.github.com/users/i11m20n/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-11-29T08:15:15Z",
    "updated_at": "2022-11-29T08:15:15Z",
    "author_association": "NONE",
    "body": "@binhgo How did you solve it?",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1330246325/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1330247049",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/6146#issuecomment-1330247049",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/6146",
    "id": 1330247049,
    "node_id": "IC_kwDOC0FsAM5PSfWJ",
    "user": {
      "login": "AskAlexSharov",
      "id": 46885206,
      "node_id": "MDQ6VXNlcjQ2ODg1MjA2",
      "avatar_url": "https://avatars.githubusercontent.com/u/46885206?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/AskAlexSharov",
      "html_url": "https://github.com/AskAlexSharov",
      "followers_url": "https://api.github.com/users/AskAlexSharov/followers",
      "following_url": "https://api.github.com/users/AskAlexSharov/following{/other_user}",
      "gists_url": "https://api.github.com/users/AskAlexSharov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/AskAlexSharov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/AskAlexSharov/subscriptions",
      "organizations_url": "https://api.github.com/users/AskAlexSharov/orgs",
      "repos_url": "https://api.github.com/users/AskAlexSharov/repos",
      "events_url": "https://api.github.com/users/AskAlexSharov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/AskAlexSharov/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-11-29T08:15:48Z",
    "updated_at": "2022-11-29T08:15:48Z",
    "author_association": "COLLABORATOR",
    "body": "@i11m20n try start erigon with --downloader.verify flag once",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1330247049/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1330260272",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/6146#issuecomment-1330260272",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/6146",
    "id": 1330260272,
    "node_id": "IC_kwDOC0FsAM5PSikw",
    "user": {
      "login": "i11m20n",
      "id": 13911593,
      "node_id": "MDQ6VXNlcjEzOTExNTkz",
      "avatar_url": "https://avatars.githubusercontent.com/u/13911593?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/i11m20n",
      "html_url": "https://github.com/i11m20n",
      "followers_url": "https://api.github.com/users/i11m20n/followers",
      "following_url": "https://api.github.com/users/i11m20n/following{/other_user}",
      "gists_url": "https://api.github.com/users/i11m20n/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/i11m20n/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/i11m20n/subscriptions",
      "organizations_url": "https://api.github.com/users/i11m20n/orgs",
      "repos_url": "https://api.github.com/users/i11m20n/repos",
      "events_url": "https://api.github.com/users/i11m20n/events{/privacy}",
      "received_events_url": "https://api.github.com/users/i11m20n/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-11-29T08:27:18Z",
    "updated_at": "2022-11-29T08:27:18Z",
    "author_association": "NONE",
    "body": "> @i11m20n try start erigon with --downloader.verify flag once\r\n\r\nAs you suggested, it still crash.\r\n\r\ncommand: `nohup ./erigon --chain=bsc --datadir=/home/erigon/.bscnode --torrent.port=42096 --torrent.download.rate=64mb --db.pagesize=64kb --http=false --private.api.addr=127.0.0.1:19090 --downloader.verify --snap.stop > node.log 2>&1 &`\r\n\r\n```log\r\n[INFO] [11-29|03:22:28.519] Build info                               git_branch= git_tag= git_commit=\r\n[INFO] [11-29|03:22:28.520] Starting Erigon on BSC mainnet...\r\n[INFO] [11-29|03:22:28.526] Maximum peer count                       ETH=100 total=100\r\n[INFO] [11-29|03:22:28.527] starting HTTP APIs                       APIs=eth,erigon,engine\r\n[INFO] [11-29|03:22:28.527] torrent verbosity                        level=WRN\r\n[INFO] [11-29|03:22:30.631] Set global gas cap                       cap=50000000\r\n[INFO] [11-29|03:22:30.640] Opening Database                         label=chaindata path=/home/erigon/.bscnode/chaindata\r\n[INFO] [11-29|03:22:30.657] Initialised chain configuration          config=\"{ChainID: 56 Ramanujan: 0, Niels: 0, MirrorSync: 5184000, Bruno: 13082000, Euler: 18907621, Gibbs: <nil>, Nano: 21962149, Moran: 22107423, Engine: parlia}\" genesis=0x0d21840abff46b96c84b2ac9e10e4f5cdaeb5693cb665db62a2f3b02d2d57b5b\r\n[INFO] [11-29|03:22:30.658] Effective                                prune_flags= snapshot_flags=\"--snapshots=true --snap.stop=true\" history.v3=false\r\n[EROR] [11-29|03:22:42.507] catch panic                              err=\"runtime error: slice bounds out of range [297203082:2621440]\" stack=\"[main.go:32 panic.go:838 panic.go:117 index.go:101 block_snapshots.go:249 block_snapshots.go:276 block_snapshots.go:675 block_snapshots.go:727 kv_mdbx.go:645 block_snapshots.go:722 block_snapshots.go:708 backend.go:870 backend.go:265 node.go:115 main.go:62 app.go:526 app.go:286 main.go:37 proc.go:250 asm_amd64.s:1571]\"\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1330260272/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1330377129",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/6146#issuecomment-1330377129",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/6146",
    "id": 1330377129,
    "node_id": "IC_kwDOC0FsAM5PS_Gp",
    "user": {
      "login": "AskAlexSharov",
      "id": 46885206,
      "node_id": "MDQ6VXNlcjQ2ODg1MjA2",
      "avatar_url": "https://avatars.githubusercontent.com/u/46885206?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/AskAlexSharov",
      "html_url": "https://github.com/AskAlexSharov",
      "followers_url": "https://api.github.com/users/AskAlexSharov/followers",
      "following_url": "https://api.github.com/users/AskAlexSharov/following{/other_user}",
      "gists_url": "https://api.github.com/users/AskAlexSharov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/AskAlexSharov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/AskAlexSharov/subscriptions",
      "organizations_url": "https://api.github.com/users/AskAlexSharov/orgs",
      "repos_url": "https://api.github.com/users/AskAlexSharov/repos",
      "events_url": "https://api.github.com/users/AskAlexSharov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/AskAlexSharov/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-11-29T10:02:38Z",
    "updated_at": "2022-11-29T10:02:38Z",
    "author_association": "COLLABORATOR",
    "body": "@i11m20n remove .idx",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1330377129/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1336625890",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/6146#issuecomment-1336625890",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/6146",
    "id": 1336625890,
    "node_id": "IC_kwDOC0FsAM5Pq0ri",
    "user": {
      "login": "i11m20n",
      "id": 13911593,
      "node_id": "MDQ6VXNlcjEzOTExNTkz",
      "avatar_url": "https://avatars.githubusercontent.com/u/13911593?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/i11m20n",
      "html_url": "https://github.com/i11m20n",
      "followers_url": "https://api.github.com/users/i11m20n/followers",
      "following_url": "https://api.github.com/users/i11m20n/following{/other_user}",
      "gists_url": "https://api.github.com/users/i11m20n/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/i11m20n/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/i11m20n/subscriptions",
      "organizations_url": "https://api.github.com/users/i11m20n/orgs",
      "repos_url": "https://api.github.com/users/i11m20n/repos",
      "events_url": "https://api.github.com/users/i11m20n/events{/privacy}",
      "received_events_url": "https://api.github.com/users/i11m20n/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-12-05T02:01:22Z",
    "updated_at": "2022-12-05T02:01:22Z",
    "author_association": "NONE",
    "body": "> @i11m20n remove .idx\r\n\r\nThese `.idx` Do you want to delete all?\r\n\r\n![image](https://user-images.githubusercontent.com/13911593/205532614-f78b335a-de5d-40e8-b719-f0cfb5ac0124.png)\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1336625890/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1347732161",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/6146#issuecomment-1347732161",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/6146",
    "id": 1347732161,
    "node_id": "IC_kwDOC0FsAM5QVMLB",
    "user": {
      "login": "binhgo",
      "id": 10021934,
      "node_id": "MDQ6VXNlcjEwMDIxOTM0",
      "avatar_url": "https://avatars.githubusercontent.com/u/10021934?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/binhgo",
      "html_url": "https://github.com/binhgo",
      "followers_url": "https://api.github.com/users/binhgo/followers",
      "following_url": "https://api.github.com/users/binhgo/following{/other_user}",
      "gists_url": "https://api.github.com/users/binhgo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/binhgo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/binhgo/subscriptions",
      "organizations_url": "https://api.github.com/users/binhgo/orgs",
      "repos_url": "https://api.github.com/users/binhgo/repos",
      "events_url": "https://api.github.com/users/binhgo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/binhgo/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-12-13T04:26:35Z",
    "updated_at": "2022-12-13T04:26:35Z",
    "author_association": "NONE",
    "body": "@i11m20n : i added --snap.stop into the cmd. my full one: /home/erigon/build/bin/erigon --metrics --metrics.addr=0.0.0.0 --metrics.port=6060 --datadir /home/erigonchaindata --private.api.addr=0.0.0.0:9090 --chain=bsc --snap.stop",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1347732161/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1347809595",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/6146#issuecomment-1347809595",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/6146",
    "id": 1347809595,
    "node_id": "IC_kwDOC0FsAM5QVfE7",
    "user": {
      "login": "i11m20n",
      "id": 13911593,
      "node_id": "MDQ6VXNlcjEzOTExNTkz",
      "avatar_url": "https://avatars.githubusercontent.com/u/13911593?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/i11m20n",
      "html_url": "https://github.com/i11m20n",
      "followers_url": "https://api.github.com/users/i11m20n/followers",
      "following_url": "https://api.github.com/users/i11m20n/following{/other_user}",
      "gists_url": "https://api.github.com/users/i11m20n/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/i11m20n/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/i11m20n/subscriptions",
      "organizations_url": "https://api.github.com/users/i11m20n/orgs",
      "repos_url": "https://api.github.com/users/i11m20n/repos",
      "events_url": "https://api.github.com/users/i11m20n/events{/privacy}",
      "received_events_url": "https://api.github.com/users/i11m20n/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-12-13T06:27:56Z",
    "updated_at": "2022-12-13T06:27:56Z",
    "author_association": "NONE",
    "body": "> @i11m20n : i added --snap.stop into the cmd. my full one: /home/erigon/build/bin/erigon --metrics --metrics.addr=0.0.0.0 --metrics.port=6060 --datadir /home/erigonchaindata --private.api.addr=0.0.0.0:9090 --chain=bsc --snap.stop\r\n\r\nadd --snap.stop can't solve my problem",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1347809595/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1348628609",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/6146#issuecomment-1348628609",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/6146",
    "id": 1348628609,
    "node_id": "IC_kwDOC0FsAM5QYnCB",
    "user": {
      "login": "AndriyAntonenko",
      "id": 31802208,
      "node_id": "MDQ6VXNlcjMxODAyMjA4",
      "avatar_url": "https://avatars.githubusercontent.com/u/31802208?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/AndriyAntonenko",
      "html_url": "https://github.com/AndriyAntonenko",
      "followers_url": "https://api.github.com/users/AndriyAntonenko/followers",
      "following_url": "https://api.github.com/users/AndriyAntonenko/following{/other_user}",
      "gists_url": "https://api.github.com/users/AndriyAntonenko/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/AndriyAntonenko/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/AndriyAntonenko/subscriptions",
      "organizations_url": "https://api.github.com/users/AndriyAntonenko/orgs",
      "repos_url": "https://api.github.com/users/AndriyAntonenko/repos",
      "events_url": "https://api.github.com/users/AndriyAntonenko/events{/privacy}",
      "received_events_url": "https://api.github.com/users/AndriyAntonenko/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-12-13T14:01:02Z",
    "updated_at": "2022-12-13T14:01:02Z",
    "author_association": "NONE",
    "body": "Hi everyone! I've met the same issue. What is --snap.stop flag is actually doing?",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1348628609/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1350365500",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/6146#issuecomment-1350365500",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/6146",
    "id": 1350365500,
    "node_id": "IC_kwDOC0FsAM5QfPE8",
    "user": {
      "login": "AskAlexSharov",
      "id": 46885206,
      "node_id": "MDQ6VXNlcjQ2ODg1MjA2",
      "avatar_url": "https://avatars.githubusercontent.com/u/46885206?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/AskAlexSharov",
      "html_url": "https://github.com/AskAlexSharov",
      "followers_url": "https://api.github.com/users/AskAlexSharov/followers",
      "following_url": "https://api.github.com/users/AskAlexSharov/following{/other_user}",
      "gists_url": "https://api.github.com/users/AskAlexSharov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/AskAlexSharov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/AskAlexSharov/subscriptions",
      "organizations_url": "https://api.github.com/users/AskAlexSharov/orgs",
      "repos_url": "https://api.github.com/users/AskAlexSharov/repos",
      "events_url": "https://api.github.com/users/AskAlexSharov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/AskAlexSharov/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-12-14T04:03:19Z",
    "updated_at": "2022-12-14T04:07:29Z",
    "author_association": "COLLABORATOR",
    "body": "@AndriyAntonenko \r\n`Workaround to stop producing new snapshots, if you meet some snapshots-related critical bug. It will stop move historical data from DB to new immutable snapshots. DB will grow and may slightly slow-down - and removing this flag in future will not fix this effect (db size will not greatly reduce)`",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1350365500/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1401319676",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/6146#issuecomment-1401319676",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/6146",
    "id": 1401319676,
    "node_id": "IC_kwDOC0FsAM5ThnD8",
    "user": {
      "login": "github-actions[bot]",
      "id": 41898282,
      "node_id": "MDM6Qm90NDE4OTgyODI=",
      "avatar_url": "https://avatars.githubusercontent.com/in/15368?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/github-actions%5Bbot%5D",
      "html_url": "https://github.com/apps/github-actions",
      "followers_url": "https://api.github.com/users/github-actions%5Bbot%5D/followers",
      "following_url": "https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}",
      "gists_url": "https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/github-actions%5Bbot%5D/subscriptions",
      "organizations_url": "https://api.github.com/users/github-actions%5Bbot%5D/orgs",
      "repos_url": "https://api.github.com/users/github-actions%5Bbot%5D/repos",
      "events_url": "https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}",
      "received_events_url": "https://api.github.com/users/github-actions%5Bbot%5D/received_events",
      "type": "Bot",
      "site_admin": false
    },
    "created_at": "2023-01-24T02:29:59Z",
    "updated_at": "2023-01-24T02:29:59Z",
    "author_association": "NONE",
    "body": "This issue is stale because it has been open for 40 days with no activity. Remove stale label or comment, or this will be closed in 7 days.",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1401319676/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1409657355",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/6146#issuecomment-1409657355",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/6146",
    "id": 1409657355,
    "node_id": "IC_kwDOC0FsAM5UBaoL",
    "user": {
      "login": "github-actions[bot]",
      "id": 41898282,
      "node_id": "MDM6Qm90NDE4OTgyODI=",
      "avatar_url": "https://avatars.githubusercontent.com/in/15368?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/github-actions%5Bbot%5D",
      "html_url": "https://github.com/apps/github-actions",
      "followers_url": "https://api.github.com/users/github-actions%5Bbot%5D/followers",
      "following_url": "https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}",
      "gists_url": "https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/github-actions%5Bbot%5D/subscriptions",
      "organizations_url": "https://api.github.com/users/github-actions%5Bbot%5D/orgs",
      "repos_url": "https://api.github.com/users/github-actions%5Bbot%5D/repos",
      "events_url": "https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}",
      "received_events_url": "https://api.github.com/users/github-actions%5Bbot%5D/received_events",
      "type": "Bot",
      "site_admin": false
    },
    "created_at": "2023-01-31T02:37:46Z",
    "updated_at": "2023-01-31T02:37:46Z",
    "author_association": "NONE",
    "body": "This issue was closed because it has been stalled for 7 days with no activity.",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1409657355/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
