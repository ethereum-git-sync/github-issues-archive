{
  "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/2246",
  "repository_url": "https://api.github.com/repos/ledgerwatch/erigon",
  "labels_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/2246/labels{/name}",
  "comments_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/2246/comments",
  "events_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/2246/events",
  "html_url": "https://github.com/ledgerwatch/erigon/issues/2246",
  "id": 931040158,
  "node_id": "MDU6SXNzdWU5MzEwNDAxNTg=",
  "number": 2246,
  "title": "MDBX_BUSY: Another write transaction is running, or environment is already used while opening with MDBX_EXCLUSIVE ",
  "user": {
    "login": "suntzu93",
    "id": 5988002,
    "node_id": "MDQ6VXNlcjU5ODgwMDI=",
    "avatar_url": "https://avatars.githubusercontent.com/u/5988002?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/suntzu93",
    "html_url": "https://github.com/suntzu93",
    "followers_url": "https://api.github.com/users/suntzu93/followers",
    "following_url": "https://api.github.com/users/suntzu93/following{/other_user}",
    "gists_url": "https://api.github.com/users/suntzu93/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/suntzu93/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/suntzu93/subscriptions",
    "organizations_url": "https://api.github.com/users/suntzu93/orgs",
    "repos_url": "https://api.github.com/users/suntzu93/repos",
    "events_url": "https://api.github.com/users/suntzu93/events{/privacy}",
    "received_events_url": "https://api.github.com/users/suntzu93/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": {
    "login": "AskAlexSharov",
    "id": 46885206,
    "node_id": "MDQ6VXNlcjQ2ODg1MjA2",
    "avatar_url": "https://avatars.githubusercontent.com/u/46885206?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/AskAlexSharov",
    "html_url": "https://github.com/AskAlexSharov",
    "followers_url": "https://api.github.com/users/AskAlexSharov/followers",
    "following_url": "https://api.github.com/users/AskAlexSharov/following{/other_user}",
    "gists_url": "https://api.github.com/users/AskAlexSharov/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/AskAlexSharov/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/AskAlexSharov/subscriptions",
    "organizations_url": "https://api.github.com/users/AskAlexSharov/orgs",
    "repos_url": "https://api.github.com/users/AskAlexSharov/repos",
    "events_url": "https://api.github.com/users/AskAlexSharov/events{/privacy}",
    "received_events_url": "https://api.github.com/users/AskAlexSharov/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "AskAlexSharov",
      "id": 46885206,
      "node_id": "MDQ6VXNlcjQ2ODg1MjA2",
      "avatar_url": "https://avatars.githubusercontent.com/u/46885206?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/AskAlexSharov",
      "html_url": "https://github.com/AskAlexSharov",
      "followers_url": "https://api.github.com/users/AskAlexSharov/followers",
      "following_url": "https://api.github.com/users/AskAlexSharov/following{/other_user}",
      "gists_url": "https://api.github.com/users/AskAlexSharov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/AskAlexSharov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/AskAlexSharov/subscriptions",
      "organizations_url": "https://api.github.com/users/AskAlexSharov/orgs",
      "repos_url": "https://api.github.com/users/AskAlexSharov/repos",
      "events_url": "https://api.github.com/users/AskAlexSharov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/AskAlexSharov/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 6,
  "created_at": "2021-06-27T23:14:13Z",
  "updated_at": "2022-11-19T06:56:00Z",
  "closed_at": "2021-07-12T06:48:26Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "#### System information\r\n\r\nErigon version: erigon version 2021.06.5-alpha\r\n\r\nOS & Version: Linux\r\n\r\nCommit hash : cc360ec65854d724873bb5907d239adff1b10559\r\n\r\n#### Expected behaviour\r\n\r\nContinue sync network\r\n\r\n#### Actual behaviour\r\n\r\nCrash and stop sync network.\r\n\r\n#### Steps to reproduce the behaviour\r\n\r\nI'm syncing at version 2021.06.4-alpha and stuck at block 12681633 with log :\r\n\r\n> Jun 26 15:06:59 oenode erigon[1385281]: INFO [06-26|15:06:59.988] [1/18 Headers] Wrote block headers       number=12681633 blk/second=0.000     alloc=1.30GiB    sys=10.49GiB  numGC=57443\r\nJun 26 15:07:29 oenode erigon[1385281]: INFO [06-26|15:07:29.988] [1/18 Headers] Wrote block headers       number=12681633 blk/second=0.000     alloc=1.29GiB    sys=10.49GiB  numGC=57444\r\nJun 26 15:07:59 oenode erigon[1385281]: INFO [06-26|15:07:59.989] [1/18 Headers] Wrote block headers       number=12681633 blk/second=0.000     alloc=1.13GiB    sys=10.49GiB  numGC=57445\r\nJun 26 15:08:29 oenode erigon[1385281]: INFO [06-26|15:08:29.988] [1/18 Headers] Wrote block headers       number=12681633 blk/second=0.000     alloc=892.48MiB  sys=10.49GiB  numGC=57446\r\nJun 26 15:08:59 oenode erigon[1385281]: INFO [06-26|15:08:59.989] [1/18 Headers] Wrote block headers       number=12681633 blk/second=0.000     alloc=1.23GiB    sys=10.49GiB  numGC=57446\r\nJun 26 15:09:29 oenode erigon[1385281]: INFO [06-26|15:09:29.989] [1/18 Headers] Wrote block headers       number=12681633 blk/second=0.000     alloc=976.72MiB  sys=10.49GiB  numGC=57447\r\nJun 26 15:09:59 oenode erigon[1385281]: INFO [06-26|15:09:59.988] [1/18 Headers] Wrote block headers       number=12681633 blk/second=0.000     alloc=762.51MiB  sys=10.49GiB  numGC=57448\r\nJun 26 15:10:29 oenode erigon[1385281]: INFO [06-26|15:10:29.988] [1/18 Headers] Wrote block headers       number=12681633 blk/second=0.000     alloc=1.17GiB    sys=10.49GiB  numGC=57448\r\nJun 26 15:10:59 oenode erigon[1385281]: INFO [06-26|15:10:59.989] [1/18 Headers] Wrote block headers       number=12681633 blk/second=0.000     alloc=981.18MiB  sys=10.49GiB  numGC=57449\r\nJun 26 15:11:29 oenode erigon[1385281]: INFO [06-26|15:11:29.989] [1/18 Headers] Wrote block headers       number=12681633 blk/second=0.000     alloc=744.21MiB  sys=10.49GiB  numGC=57450\r\n\r\nSo I have stopped service erigon and upgrade to 2021.06.5-alpha. After upgrade and restart erigon service, it crashes and message: \r\n\r\n```\r\nerr=\"mdbx_env_open: MDBX_BUSY: Another write transaction is running, or environment is already used while opening with MDBX_EXCLUSIVE flag, path: /root/.local/share/erigon/erigon/chaindata\" stack=\"goroutine 1 [running]: \r\ngoroutine 1 [running]:\r\nruntime/debug.Stack(0xc0005fb8d0, 0x148bc20, 0xc000e40240)\r\n        runtime/debug/stack.go:24 +0x9f\r\ngithub.com/ledgerwatch/erigon/common/debug.LogPanic()\r\n        github.com/ledgerwatch/erigon/common/debug/log_panic.go:65 +0x6a\r\npanic(0x148bc20, 0xc000e40240)\r\n        runtime/panic.go:965 +0x1b9\r\ngithub.com/ledgerwatch/erigon/turbo/node.RegisterEthService(...)\r\n        github.com/ledgerwatch/erigon/turbo/node/node.go:86\r\ngithub.com/ledgerwatch/erigon/turbo/node.New(0xc000378b00, 0x0, 0xa)\r\n        github.com/ledgerwatch/erigon/turbo/node/node.go:77 +0x30d\r\nmain.runErigon(0xc000378b00)\r\n        github.com/ledgerwatch/erigon/cmd/erigon/main.go:33 +0x1c5\r\ngithub.com/urfave/cli.HandleAction(0x1412520, 0x1f07cf0, 0xc000378b00, 0xc000378b00, 0x0)\r\n        github.com/urfave/cli@v1.22.4/app.go:528 +0x59\r\ngithub.com/urfave/cli.(*App).Run(0xc00050e8c0, 0xc00003c070, 0x7, 0x7, 0x0, 0x0)\r\n        github.com/urfave/cli@v1.22.4/app.go:288 +0x675\r\nmain.main()\r\n        github.com/ledgerwatch/erigon/cmd/erigon/main.go:21 +0xa9\r\n```",
  "closed_by": {
    "login": "AskAlexSharov",
    "id": 46885206,
    "node_id": "MDQ6VXNlcjQ2ODg1MjA2",
    "avatar_url": "https://avatars.githubusercontent.com/u/46885206?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/AskAlexSharov",
    "html_url": "https://github.com/AskAlexSharov",
    "followers_url": "https://api.github.com/users/AskAlexSharov/followers",
    "following_url": "https://api.github.com/users/AskAlexSharov/following{/other_user}",
    "gists_url": "https://api.github.com/users/AskAlexSharov/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/AskAlexSharov/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/AskAlexSharov/subscriptions",
    "organizations_url": "https://api.github.com/users/AskAlexSharov/orgs",
    "repos_url": "https://api.github.com/users/AskAlexSharov/repos",
    "events_url": "https://api.github.com/users/AskAlexSharov/events{/privacy}",
    "received_events_url": "https://api.github.com/users/AskAlexSharov/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/2246/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/2246/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/874126742",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/2246#issuecomment-874126742",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/2246",
    "id": 874126742,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg3NDEyNjc0Mg==",
    "user": {
      "login": "perama-v",
      "id": 83961755,
      "node_id": "MDQ6VXNlcjgzOTYxNzU1",
      "avatar_url": "https://avatars.githubusercontent.com/u/83961755?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/perama-v",
      "html_url": "https://github.com/perama-v",
      "followers_url": "https://api.github.com/users/perama-v/followers",
      "following_url": "https://api.github.com/users/perama-v/following{/other_user}",
      "gists_url": "https://api.github.com/users/perama-v/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/perama-v/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/perama-v/subscriptions",
      "organizations_url": "https://api.github.com/users/perama-v/orgs",
      "repos_url": "https://api.github.com/users/perama-v/repos",
      "events_url": "https://api.github.com/users/perama-v/events{/privacy}",
      "received_events_url": "https://api.github.com/users/perama-v/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-05T13:46:17Z",
    "updated_at": "2021-07-05T13:46:17Z",
    "author_association": "NONE",
    "body": "I have experience an almost identical error with the same release version, and have included\r\nthe details below. Some additional context might illuminate the source of the error, which\r\nappears to be as follows:\r\n\r\n1. Power outage during sync stage \"committing block bodies\"\r\n2. The sync finishes.\r\n3. The node attempts to update the current block for the\r\nRPC API.\r\n4. The block header for that operation becomes stuck on the block\r\naround the time of the power outage.\r\n\r\n**System information**\r\nErigon version:\r\n- Initial: erigon version 2021.06.5-alpha (commit cc360ec)\r\n- Current: erigon version 2021.07.01-alpha (commit 3001a15)\r\n\r\nOS & Version: Linux\r\n\r\nHardware: 4 cores, 16GB RAM\r\n\r\n**Expected behaviour**\r\nContinue sync network\r\n\r\n**Actual behaviour**\r\nSync progress halts at \"Update current block for the RPC API\" after completing majority of sync.\r\n\r\n```\r\n[1/18 Headers] Wrote block headers       number=12715886 blk/second=0.000     alloc=673.77MiB  sys=10.88GiB  numGC=64925\r\n```\r\n\r\nAttempt to run `./build/bin/erigon` results in `MDBX_BUSY` error, and terminates:\r\n\r\n```\r\nOpening Database                         label=chaindata\r\nRe-Opening DB in exclusive mode to apply migrations\r\ndatabase closed (MDBX)                   mdbx=chaindata\r\npanic                                    err=\"mdbx_env_open: MDBX_BUSY: Another write transaction is running, or environment is already used while opening with MDBX_EXCLUSIVE fl>\r\n```\r\n\r\n**Steps to reproduce the behaviour**\r\n\r\n1. Begin sync.\r\n2. Successfull committing of ~4 million block bodies.\r\n3. Power loss after ~4.5 hours. (Time \"A\").\r\n4. Restart and re-commence sync.\r\n5. Progress through sync with normal-appearing behaviour for next 6 days.\r\n6. Sync stuck at \"Wrote block headers\", with block `12715886` corresponding to time \"A\".\r\n7. Stop service, update `git pull` and `make erigon` to latest release (3001a15).\r\n8. Start service, `MDBX_BUSY` error,\r\n\r\n**Logs**\r\n\r\nError when restarting service:\r\n\r\n```\r\nBuild info                               git_branch=devel git_tag= git_commit=9683b26483f5003afa4da41850c1097271bf6cdb\r\nStarting Erigon on Ethereum mainnet...\r\nMaximum peer count                       ETH=100 total=100\r\nSet global gas cap                       cap=25000000\r\nCrashes From Previous Boots Detected. Find the stack trace in /home/usr/.local/share/erigon/crashreports\r\nOpening Database                         label=chaindata\r\nRe-Opening DB in exclusive mode to apply migrations\r\ndatabase closed (MDBX)                   mdbx=chaindata\r\npanic                                    err=\"mdbx_env_open: MDBX_BUSY: Another write transaction is running, or environment is already used while opening with MDBX_EXCLUSIVE fl>\r\n```\r\n\r\nFollowing normal-appearing progression through the sync stages, the final logs before the halted\r\nprogress were:\r\n\r\n```\r\nUpdate current block for the RPC API     from=12715770        to=12715770\r\n[1/18 Headers] Waiting for headers...    from=12715770\r\n[1/18 Headers] Processed                 highest inserted=12715886 age=1w11h20m\r\n[4/18 Bodies] Processing bodies...       from=12715770        to=12715886\r\n[4/18 Bodies] Processed                  highest=12715886\r\n[6/18 Senders] Started                   from=12715770        to=12715886\r\n[7/18 Execution] Blocks execution        from=12715770        to=12715886\r\n[7/18 Execution] Completed on            block=12715886\r\n[7/18 Execution] DONE                    in=32.912434009s\r\n[10/18 HashState] Promoting plain state  from=12715770        to=12715886\r\n[10/18 HashState] Incremental promotion started from=12715770        to=12715886 codes=true csbucket=AccountChangeSet\r\n[10/18 HashState] Incremental promotion started from=12715770        to=12715886 codes=false csbucket=AccountChangeSet\r\n[10/18 HashState] Incremental promotion started from=12715770        to=12715886 codes=false csbucket=StorageChangeSet\r\n[11/18 IntermediateHashes] Generating intermediate hashes from=12715770        to=12715886\r\n[11/18 IntermediateHashes] Trie root      hash=0x2c7e324822f79a264f0803ec144e327e9b0b1b99073611729a0bccee43bf0bb4 in=25.250638823s\r\n[11/18 IntermediateHashes] DONE          in=30.119366901s\r\n[17/18 TxPool] Transaction stats         pending=3964 queued=1024\r\nMemory                                   alloc=691.83MiB  sys=10.88GiB\r\nTimings                                  Headers=983.537746ms   BlockHashes=58.347104ms Bodies=27.59953125s       Senders=640.185065ms       Execution=32.912484224s        HashState=21.280665004s      IntermediateHashes=30.119470628s   CallTraces=12.895833679s      AccountHistoryIndex=9.395248348s     StorageHistoryIndex=12.571185786s      LogIndex=8.161273831s      TxLookup=11.669963125s      TxPool=2.355719473s Finish=2.402564ms\r\nUpdate current block for the RPC API     from=12715771        to=12715886\r\n[1/18 Headers] Waiting for headers...    from=12715886\r\n[1/18 Headers] Wrote block headers       number=12715886 blk/second=0.000     alloc=580.35MiB  sys=10.88GiB  numGC=64923\r\n[1/18 Headers] Wrote block headers       number=12715886 blk/second=0.000     alloc=596.77MiB  sys=10.88GiB  numGC=64924\r\n[1/18 Headers] Wrote block headers       number=12715886 blk/second=0.000     alloc=673.77MiB  sys=10.88GiB  numGC=64925\r\n```\r\nThe error when executing `./build/bin/erigon`:\r\n```\r\nMDBX_EXCLUSIVE flag, path: /home/usr/.local/share/erigon/erigon/chaindata\"\r\nstack=\"goroutine 1 [running]: runtime/debug.Stack(0xc0001438d0, 0x14bc100, 0xc0004d20a0)\r\n    runtime/debug/stack.go:24 +0x9f\r\ngithub.com/ledgerwatch/erigon/common/debug.LogPanic()\r\n    github.com/ledgerwatch/erigon/common/debug/log_panic.go:65 +0x6a panic(0x14bc100, 0xc0004d20a0) runtime/panic.go:965 +0x1b9\r\ngithub.com/ledgerwatch/erigon/turbo/node.RegisterEthService(...)\r\n    github.com/ledgerwatch/erigon/turbo/node/node.go:105 github.com/ledgerwatch/erigon/turbo/node.New(0xc0000b6900, 0x28d0880, 0x7)\r\ngithub.com/ledgerwatch/erigon/turbo/node/node.go:97 +0xe5 main.runErigon(0xc0000e8f20)\r\n    github.com/ledgerwatch/erigon/cmd/erigon/main.go:54 +0x21e\r\ngithub.com/urfave/cli.HandleAction(0x14410c0, 0x1f492e0, 0xc0000e8f20, 0xc0000e8f20, 0x0)\r\n    github.com/urfave/cli@v1.22.4/app.go:528 +0x59\r\ngithub.com/urfave/cli.(*App).Run(0xc00047ea80, 0xc0001b4000, 0x2, 0x2, 0x0, 0x0)\r\n    github.com/urfave/cli@v1.22.4/app.go:288 +0x675 main.main()\r\ngithub.com/ledgerwatch/erigon/cmd/erigon/main.go:24 +0xa9 \"\r\nJul 05 19:29:11 usr systemd[1]: eth1.service: Succeeded.\r\n```\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/874126742/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/874139902",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/2246#issuecomment-874139902",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/2246",
    "id": 874139902,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg3NDEzOTkwMg==",
    "user": {
      "login": "perama-v",
      "id": 83961755,
      "node_id": "MDQ6VXNlcjgzOTYxNzU1",
      "avatar_url": "https://avatars.githubusercontent.com/u/83961755?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/perama-v",
      "html_url": "https://github.com/perama-v",
      "followers_url": "https://api.github.com/users/perama-v/followers",
      "following_url": "https://api.github.com/users/perama-v/following{/other_user}",
      "gists_url": "https://api.github.com/users/perama-v/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/perama-v/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/perama-v/subscriptions",
      "organizations_url": "https://api.github.com/users/perama-v/orgs",
      "repos_url": "https://api.github.com/users/perama-v/repos",
      "events_url": "https://api.github.com/users/perama-v/events{/privacy}",
      "received_events_url": "https://api.github.com/users/perama-v/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-05T14:05:19Z",
    "updated_at": "2021-07-05T14:05:19Z",
    "author_association": "NONE",
    "body": "Additionally, testing the RPC API:\r\n\r\nRPC block number:\r\n```\r\ncurl -X POST -H \"Content-Type: application/json\" --data '{\"jsonrpc\": \"2.0\", \"method\": \"eth_blockNumber\", \"params\": [], \"id\":1}' localhost:8545\r\n\r\n{\"jsonrpc\":\"2.0\",\"id\":1,\"result\":\"0xc2076e\"}\r\n\r\n```\r\n\r\nBlock `0xc2076e` is `12715886`, which matches the stuck block in the logs above.\r\n\r\nNode syncing status:\r\n\r\n```\r\ncurl -X POST -H \"Content-Type: application/json\" --data '{\"jsonrpc\": \"2.0\", \"method\": \"eth_syncing\", \"params\": [], \"id\":1}' localhost:8545\r\n\r\n{\"jsonrpc\":\"2.0\",\"id\":1,\"result\":false}\r\n```\r\n\r\nReturns false, indicating that the node is synced.\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/874139902/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/874146850",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/2246#issuecomment-874146850",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/2246",
    "id": 874146850,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg3NDE0Njg1MA==",
    "user": {
      "login": "AskAlexSharov",
      "id": 46885206,
      "node_id": "MDQ6VXNlcjQ2ODg1MjA2",
      "avatar_url": "https://avatars.githubusercontent.com/u/46885206?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/AskAlexSharov",
      "html_url": "https://github.com/AskAlexSharov",
      "followers_url": "https://api.github.com/users/AskAlexSharov/followers",
      "following_url": "https://api.github.com/users/AskAlexSharov/following{/other_user}",
      "gists_url": "https://api.github.com/users/AskAlexSharov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/AskAlexSharov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/AskAlexSharov/subscriptions",
      "organizations_url": "https://api.github.com/users/AskAlexSharov/orgs",
      "repos_url": "https://api.github.com/users/AskAlexSharov/repos",
      "events_url": "https://api.github.com/users/AskAlexSharov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/AskAlexSharov/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-05T14:14:28Z",
    "updated_at": "2021-07-05T14:14:28Z",
    "author_association": "COLLABORATOR",
    "body": "Here is 2 unrelated issues I think. \r\n\r\n1. About stuck: I have feeling that HeaderDownloading can't handle `kill -9` (power off in your case). \r\nThis what I saw in the past after set `--verbosity=4`:\r\n```\r\nDEBUG[06-29|13:17:49.108] NewAnchor failed                         error=\"new anchor too far in the past: 10529192, latest header in db: 10534925\"\r\n```\r\nProbably this is error which we don't see on default verbosity and it feels for us as \"stuck\".\r\nAlso save Stage 1 progress done somewhere deep inside `FeedHeader` instead of right before `tx.Commit()` it feels weird.\r\n\r\n2. About `BUSY` error - I added more information to this error - in branch `mdbx_err_with_stack`",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/874146850/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/874194821",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/2246#issuecomment-874194821",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/2246",
    "id": 874194821,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg3NDE5NDgyMQ==",
    "user": {
      "login": "perama-v",
      "id": 83961755,
      "node_id": "MDQ6VXNlcjgzOTYxNzU1",
      "avatar_url": "https://avatars.githubusercontent.com/u/83961755?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/perama-v",
      "html_url": "https://github.com/perama-v",
      "followers_url": "https://api.github.com/users/perama-v/followers",
      "following_url": "https://api.github.com/users/perama-v/following{/other_user}",
      "gists_url": "https://api.github.com/users/perama-v/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/perama-v/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/perama-v/subscriptions",
      "organizations_url": "https://api.github.com/users/perama-v/orgs",
      "repos_url": "https://api.github.com/users/perama-v/repos",
      "events_url": "https://api.github.com/users/perama-v/events{/privacy}",
      "received_events_url": "https://api.github.com/users/perama-v/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-05T15:29:31Z",
    "updated_at": "2021-07-05T15:29:47Z",
    "author_association": "NONE",
    "body": "Update on progress on my side: \r\n\r\nI made a pull to this [commit](https://github.com/ledgerwatch/erigon/commit/954304e43aefe6725a47d67144d19ea8527e43fc) from the `devel` branch. After restarting the service, the node continued past the block `12715886` without an error.\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/874194821/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1320819139",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/2246#issuecomment-1320819139",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/2246",
    "id": 1320819139,
    "node_id": "IC_kwDOC0FsAM5OuhnD",
    "user": {
      "login": "BNB666666666",
      "id": 117515691,
      "node_id": "U_kgDOBwElqw",
      "avatar_url": "https://avatars.githubusercontent.com/u/117515691?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/BNB666666666",
      "html_url": "https://github.com/BNB666666666",
      "followers_url": "https://api.github.com/users/BNB666666666/followers",
      "following_url": "https://api.github.com/users/BNB666666666/following{/other_user}",
      "gists_url": "https://api.github.com/users/BNB666666666/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/BNB666666666/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/BNB666666666/subscriptions",
      "organizations_url": "https://api.github.com/users/BNB666666666/orgs",
      "repos_url": "https://api.github.com/users/BNB666666666/repos",
      "events_url": "https://api.github.com/users/BNB666666666/events{/privacy}",
      "received_events_url": "https://api.github.com/users/BNB666666666/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-11-19T06:55:33Z",
    "updated_at": "2022-11-19T06:55:33Z",
    "author_association": "NONE",
    "body": "> 我这边的最新进展：\r\n> \r\n> 我从分支拉到这个[提交](https://github.com/ledgerwatch/erigon/commit/954304e43aefe6725a47d67144d19ea8527e43fc)。重新启动服务后，节点继续通过块而没有错误。`devel``12715886`\r\n\r\nI just got same problem,what did you do to fix it up?",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1320819139/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1320819205",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/2246#issuecomment-1320819205",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/2246",
    "id": 1320819205,
    "node_id": "IC_kwDOC0FsAM5OuhoF",
    "user": {
      "login": "BNB666666666",
      "id": 117515691,
      "node_id": "U_kgDOBwElqw",
      "avatar_url": "https://avatars.githubusercontent.com/u/117515691?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/BNB666666666",
      "html_url": "https://github.com/BNB666666666",
      "followers_url": "https://api.github.com/users/BNB666666666/followers",
      "following_url": "https://api.github.com/users/BNB666666666/following{/other_user}",
      "gists_url": "https://api.github.com/users/BNB666666666/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/BNB666666666/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/BNB666666666/subscriptions",
      "organizations_url": "https://api.github.com/users/BNB666666666/orgs",
      "repos_url": "https://api.github.com/users/BNB666666666/repos",
      "events_url": "https://api.github.com/users/BNB666666666/events{/privacy}",
      "received_events_url": "https://api.github.com/users/BNB666666666/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-11-19T06:56:00Z",
    "updated_at": "2022-11-19T06:56:00Z",
    "author_association": "NONE",
    "body": "WARN[11-19|14:38:32.500] Status error, sentry not ready yet       stream=PeerEvents err=\"could not start server: mdbx_env_open: MDBX_BUSY: Another write transaction is running, or environment is already used while opening with MDBX_EXCLUSIVE flag, label: sentry, trace: [kv_mdbx.go:221 nodedb.go:124 nodedb.go:90 server.go:532 server.go:504 sentry_grpc_server.go:875 sentry_client.go:213 sentry_multi_client.go:153 sentry_multi_client.go:126 asm_amd64.s:1594]\"\r\nWARN[11-19|14:38:32.506] Status error, sentry not ready yet       stream=RecvMessage err=\"could not start server: mdbx_env_open: MDBX_BUSY: Another write transaction is running, or environment is already used while opening with MDBX_EXCLUSIVE flag, label: sentry, trace: [kv_mdbx.go:221 nodedb.go:124 nodedb.go:90 server.go:532 server.go:504 sentry_grpc_server.go:875 sentry_client.go:213 sentry_multi_client.go:153 sentry_multi_client.go:111 asm_amd64.s:1594]\"\r\nWARN[11-19|14:38:33.497] Status error, sentry not ready yet       stream=RecvUploadHeadersMessage err=\"could not start server: mdbx_env_open: MDBX_BUSY: Another write transaction is running, or environment is already used while opening with MDBX_EXCLUSIVE flag, label: sentry, trace: [kv_mdbx.go:221 nodedb.go:124 nodedb.go:90 server.go:532 server.go:504 sentry_grpc_server.go:875 sentry_client.go:213 sentry_multi_client.go:153 sentry_multi_client.go:93 asm_amd64.s:1594]\"\r\nWARN[11-19|14:38:33.503] Status error, sentry not ready yet       stream=RecvUploadMessage err=\"could not start server: mdbx_env_open: MDBX_BUSY: Another write transaction is running, or environment is already used while opening with MDBX_EXCLUSIVE flag, label: sentry, trace: [kv_mdbx.go:221 nodedb.go:124 nodedb.go:90 server.go:532 server.go:504 sentry_grpc_server.go:875 sentry_client.go:213 sentry_multi_client.go:153 sentry_multi_client.go:78 asm_amd64.s:1594]\"\r\nWARN[11-19|14:38:33.508] Status error, sentry not ready yet       stream=PeerEvents err=\"could not start server: mdbx_env_open: MDBX_BUSY: Another write transaction is running, or environment is already used while opening with MDBX_EXCLUSIVE flag, label: sentry, trace: [kv_mdbx.go:221 nodedb.go:124 nodedb.go:90 server.go:532 server.go:504 sentry_grpc_server.go:875 sentry_client.go:213 sentry_multi_client.go:153 sentry_multi_client.go:126 asm_amd64.s:1594]\"\r\nWARN[11-19|14:38:33.517] Status error, sentry not ready yet       stream=RecvMessage err=\"could not start server: mdbx_env_open: MDBX_BUSY: Another write transaction is running, or environment is already used while opening with MDBX_EXCLUSIVE flag, label: sentry, trace: [kv_mdbx.go:221 nodedb.go:124 nodedb.go:90 server.go:532 server.go:504 sentry_grpc_server.go:875 sentry_client.go:213 sentry_multi_client.go:153 sentry_multi_client.go:111 asm_amd64.s:1594]\"\r\nWARN[11-19|14:38:34.509] Status error, sentry not ready yet       stream=RecvUploadHeadersMessage err=\"could not start server: mdbx_env_open: MDBX_BUSY: Another write transaction is running, or environment is already used while opening with MDBX_EXCLUSIVE flag, label: sentry, trace: [kv_mdbx.go:221 nodedb.go:124 nodedb.go:90 server.go:532 server.go:504 sentry_grpc_server.go:875 sentry_client.go:213 sentry_multi_client.go:153 sentry_multi_client.go:93 asm_amd64.s:1594]\"\r\nWARN[11-19|14:38:34.515] Status error, sentry not ready yet       stream=RecvUploadMessage err=\"could not start server: mdbx_env_open: MDBX_BUSY: Another write transaction is running, or environment is already used while opening with MDBX_EXCLUSIVE flag, label: sentry, trace: [kv_mdbx.go:221 nodedb.go:124 nodedb.go:90 server.go:532 server.go:504 sentry_grpc_server.go:875 sentry_client.go:213 sentry_multi_client.go:153 sentry_multi_client.go:78 asm_amd64.s:1594]\"\r\nWARN[11-19|14:38:34.522] Status error, sentry not ready yet       stream=PeerEvents err=\"could not start server: mdbx_env_open: MDBX_BUSY: Another write transaction is running, or environment is already used while opening with MDBX_EXCLUSIVE flag, label: sentry, trace: [kv_mdbx.go:221 nodedb.go:124 nodedb.go:90 server.go:532 server.go:504 sentry_grpc_server.go:875 sentry_client.go:213 sentry_multi_client.go:153 sentry_multi_client.go:126 asm_amd64.s:1594]\"\r\nWARN[11-19|14:38:34.531] Status error, sentry not ready yet       stream=RecvMessage err=\"could not start server: mdbx_env_open: MDBX_BUSY: Another write transaction is running, or environment is already used while opening with MDBX_EXCLUSIVE flag, label: sentry, trace: [kv_mdbx.go:221 nodedb.go:124 nodedb.go:90 server.go:532 server.go:504 sentry_grpc_server.go:875 sentry_client.go:213 sentry_multi_client.go:153 sentry_multi_client.go:111 asm_amd64.s:1594]\"\r\nWARN[11-19|14:38:35.521] Status error, sentry not ready yet       stream=RecvUploadHeadersMessage err=\"could not start server: mdbx_env_open: MDBX_BUSY: Another write transaction is running, or environment is already used while opening with MDBX_EXCLUSIVE flag, label: sentry, trace: [kv_mdbx.go:221 nodedb.go:124 nodedb.go:90 server.go:532 server.go:504 sentry_grpc_server.go:875 sentry_client.go:213 sentry_multi_client.go:153 sentry_multi_client.go:93 asm_amd64.s:1594]\"\r\nWARN[11-19|14:38:35.527] Status error, sentry not ready yet       stream=RecvUploadMessage err=\"could not start server: mdbx_env_open: MDBX_BUSY: Another write transaction is running, or environment is already used while opening with MDBX_EXCLUSIVE flag, label: sentry, trace: [kv_mdbx.go:221 nodedb.go:124 nodedb.go:90 server.go:532 server.go:504 sentry_grpc_server.go:875 sentry_client.go:213 sentry_multi_client.go:153 sentry_multi_client.go:78 asm_amd64.s:1594]\"\r\nWARN[11-19|14:38:35.533] Status error, sentry not ready yet       stream=PeerEvents err=\"could not start server: mdbx_env_open: MDBX_BUSY: Another write transaction is running, or environment is already used while opening with MDBX_EXCLUSIVE flag, label: sentry, trace: [kv_mdbx.go:221 nodedb.go:124 nodedb.go:90 server.go:532 server.go:504 sentry_grpc_server.go:875 sentry_client.go:213 sentry_multi_client.go:153 sentry_multi_client.go:126 asm_amd64.s:1594]\"\r\nWARN[11-19|14:38:35.539] Status error, sentry not ready yet       stream=RecvMessage err=\"could not start server: mdbx_env_open: MDBX_BUSY: Another write transaction is running, or environment is already used while opening with MDBX_EXCLUSIVE flag, label: sentry, trace: [kv_mdbx.go:221 nodedb.go:124 nodedb.go:90 server.go:532 server.go:504 sentry_grpc_server.go:875 sentry_client.go:213 sentry_multi_client.go:153 sentry_multi_client.go:111 asm_amd64.s:1594]\"\r\nWARN[11-19|14:38:36.534] Status error, sentry not ready yet       stream=RecvUploadHeadersMessage err=\"could not start server: mdbx_env_open: MDBX_BUSY: Another write transaction is running, or environment is already used while opening with MDBX_EXCLUSIVE flag, label: sentry, trace: [kv_mdbx.go:221 nodedb.go:124 nodedb.go:90 server.go:532 server.go:504 sentry_grpc_server.go:875 sentry_client.go:213 sentry_multi_client.go:153 sentry_multi_client.go:93 asm_amd64.s:1594]\"\r\nWARN[11-19|14:38:36.557] Status error, sentry not ready yet       stream=RecvUploadMessage err=\"could not start server: mdbx_env_open: MDBX_BUSY: Another write transaction is running, or environment is already used while opening with MDBX_EXCLUSIVE flag, label: sentry, trace: [kv_mdbx.go:221 nodedb.go:124 nodedb.go:90 server.go:532 server.go:504 sentry_grpc_server.go:875 sentry_client.go:213 sentry_multi_client.go:153 sentry_multi_client.go:78 asm_amd64.s:1594]\"\r\nWARN[11-19|14:38:36.563] Status error, sentry not ready yet       stream=PeerEvents err=\"could not start server: mdbx_env_open: MDBX_BUSY: Another write transaction is running, or environment is already used while opening with MDBX_EXCLUSIVE flag, label: sentry, trace: [kv_mdbx.go:221 nodedb.go:124 nodedb.go:90 server.go:532 server.go:504 sentry_grpc_server.go:875 sentry_client.go:213 sentry_multi_client.go:153 sentry_multi_client.go:126 asm_amd64.s:1594]\"\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1320819205/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
