{
  "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/6956",
  "repository_url": "https://api.github.com/repos/ledgerwatch/erigon",
  "labels_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/6956/labels{/name}",
  "comments_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/6956/comments",
  "events_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/6956/events",
  "html_url": "https://github.com/ledgerwatch/erigon/issues/6956",
  "id": 1599748294,
  "node_id": "I_kwDOC0FsAM5fWjjG",
  "number": 6956,
  "title": "Incorrect data returned from eth_getTransactionReceipt (simple, repeatable)",
  "user": {
    "login": "tjayrush",
    "id": 5417918,
    "node_id": "MDQ6VXNlcjU0MTc5MTg=",
    "avatar_url": "https://avatars.githubusercontent.com/u/5417918?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/tjayrush",
    "html_url": "https://github.com/tjayrush",
    "followers_url": "https://api.github.com/users/tjayrush/followers",
    "following_url": "https://api.github.com/users/tjayrush/following{/other_user}",
    "gists_url": "https://api.github.com/users/tjayrush/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/tjayrush/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/tjayrush/subscriptions",
    "organizations_url": "https://api.github.com/users/tjayrush/orgs",
    "repos_url": "https://api.github.com/users/tjayrush/repos",
    "events_url": "https://api.github.com/users/tjayrush/events{/privacy}",
    "received_events_url": "https://api.github.com/users/tjayrush/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 9,
  "created_at": "2023-02-25T15:51:22Z",
  "updated_at": "2023-03-28T12:13:44Z",
  "closed_at": "2023-03-28T12:13:44Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "This curl call when run against Nethermind:\r\n\r\n```\r\ncurl --data '{\"method\":\"eth_getTransactionReceipt\",\"params\":[\"0xb719b7c7f1c4f490ee8445ca3a8f47a983f86554ea27582bf269273cfb1ca5ae\"],\"id\":\"19\",\"jsonrpc\":\"2.0\"}' -H \"Content-Type: application/json\" -X POST <NETHERMIND_RPC_ENDPOINT> | jq\r\n```\r\n\r\nReturns this data:\r\n\r\n```\r\n{\r\n  \"jsonrpc\": \"2.0\",\r\n  \"result\": {\r\n    \"transactionHash\": \"0xb719b7c7f1c4f490ee8445ca3a8f47a983f86554ea27582bf269273cfb1ca5ae\",\r\n    \"transactionIndex\": \"0xf2\",\r\n    \"blockHash\": \"0x6be1532306ad8dbdb36b7d49ef519a532f36539546ffd6c8e65d27a0c5a43f27\",\r\n    \"blockNumber\": \"0xfd8e17\",\r\n    \"cumulativeGasUsed\": \"0x1a0e6c8\",\r\n    \"gasUsed\": \"0x31000\",\r\n    \"effectiveGasPrice\": \"0x308618af2\",\r\n    \"from\": \"0xf3008681b545d23ed9b83c34218ba4b21d4f0140\",\r\n    \"to\": null,\r\n    \"contractAddress\": \"0x6784d7583cf2528daa270b555a4cb5376648488f\",\r\n    \"logs\": [],\r\n    \"logsBloom\": \"0x00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000\",\r\n    \"status\": \"0x0\",\r\n    \"error\": \"BadInstruction\",\r\n    \"type\": \"0x0\"\r\n  },\r\n  \"id\": \"19\"\r\n}\r\n```\r\n\r\nWhile the same call, when run against Erigon, returns this data:\r\n\r\n```\r\n{\r\n  \"jsonrpc\": \"2.0\",\r\n  \"id\": \"19\",\r\n  \"result\": null\r\n}\r\n```\r\n\r\nErigon is incorrect.\r\n\r\nHere's the transaction on Etherscan: https://etherscan.io/tx/0xb719b7c7f1c4f490ee8445ca3a8f47a983f86554ea27582bf269273cfb1ca5ae\r\n",
  "closed_by": {
    "login": "tjayrush",
    "id": 5417918,
    "node_id": "MDQ6VXNlcjU0MTc5MTg=",
    "avatar_url": "https://avatars.githubusercontent.com/u/5417918?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/tjayrush",
    "html_url": "https://github.com/tjayrush",
    "followers_url": "https://api.github.com/users/tjayrush/followers",
    "following_url": "https://api.github.com/users/tjayrush/following{/other_user}",
    "gists_url": "https://api.github.com/users/tjayrush/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/tjayrush/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/tjayrush/subscriptions",
    "organizations_url": "https://api.github.com/users/tjayrush/orgs",
    "repos_url": "https://api.github.com/users/tjayrush/repos",
    "events_url": "https://api.github.com/users/tjayrush/events{/privacy}",
    "received_events_url": "https://api.github.com/users/tjayrush/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/6956/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/6956/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1445155935",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/6956#issuecomment-1445155935",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/6956",
    "id": 1445155935,
    "node_id": "IC_kwDOC0FsAM5WI1Rf",
    "user": {
      "login": "tjayrush",
      "id": 5417918,
      "node_id": "MDQ6VXNlcjU0MTc5MTg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5417918?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tjayrush",
      "html_url": "https://github.com/tjayrush",
      "followers_url": "https://api.github.com/users/tjayrush/followers",
      "following_url": "https://api.github.com/users/tjayrush/following{/other_user}",
      "gists_url": "https://api.github.com/users/tjayrush/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tjayrush/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tjayrush/subscriptions",
      "organizations_url": "https://api.github.com/users/tjayrush/orgs",
      "repos_url": "https://api.github.com/users/tjayrush/repos",
      "events_url": "https://api.github.com/users/tjayrush/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tjayrush/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-02-25T16:43:25Z",
    "updated_at": "2023-02-25T16:43:25Z",
    "author_association": "CONTRIBUTOR",
    "body": "Other examples of similar errors:\r\n\r\n```\r\n0x484894104febe494f4bd04ea0482fcdf6d8e9bfbbdc66c2817fe556ba7b45f4a\r\n0x249e49da0744ad323a8f8edd10ab8e9851021caa6dbde8878cd881523f9ab26b\r\n0xd0700d48835234a91bb2e4b545acc46911b1696110350f67f7d376af72a7d4c3\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1445155935/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1445156980",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/6956#issuecomment-1445156980",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/6956",
    "id": 1445156980,
    "node_id": "IC_kwDOC0FsAM5WI1h0",
    "user": {
      "login": "tjayrush",
      "id": 5417918,
      "node_id": "MDQ6VXNlcjU0MTc5MTg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5417918?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tjayrush",
      "html_url": "https://github.com/tjayrush",
      "followers_url": "https://api.github.com/users/tjayrush/followers",
      "following_url": "https://api.github.com/users/tjayrush/following{/other_user}",
      "gists_url": "https://api.github.com/users/tjayrush/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tjayrush/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tjayrush/subscriptions",
      "organizations_url": "https://api.github.com/users/tjayrush/orgs",
      "repos_url": "https://api.github.com/users/tjayrush/repos",
      "events_url": "https://api.github.com/users/tjayrush/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tjayrush/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-02-25T16:49:08Z",
    "updated_at": "2023-02-25T16:49:08Z",
    "author_association": "CONTRIBUTOR",
    "body": "Related:\r\n\r\nhttps://github.com/ledgerwatch/erigon/issues/3243\r\nhttps://github.com/ledgerwatch/erigon/issues/4530\r\nhttps://github.com/ledgerwatch/erigon/issues/6011\r\nhttps://github.com/ledgerwatch/erigon/issues/6574\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1445156980/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1445474296",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/6956#issuecomment-1445474296",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/6956",
    "id": 1445474296,
    "node_id": "IC_kwDOC0FsAM5WKC_4",
    "user": {
      "login": "keithchew",
      "id": 5557929,
      "node_id": "MDQ6VXNlcjU1NTc5Mjk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5557929?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/keithchew",
      "html_url": "https://github.com/keithchew",
      "followers_url": "https://api.github.com/users/keithchew/followers",
      "following_url": "https://api.github.com/users/keithchew/following{/other_user}",
      "gists_url": "https://api.github.com/users/keithchew/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/keithchew/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/keithchew/subscriptions",
      "organizations_url": "https://api.github.com/users/keithchew/orgs",
      "repos_url": "https://api.github.com/users/keithchew/repos",
      "events_url": "https://api.github.com/users/keithchew/events{/privacy}",
      "received_events_url": "https://api.github.com/users/keithchew/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-02-26T21:39:40Z",
    "updated_at": "2023-02-26T21:39:40Z",
    "author_association": "NONE",
    "body": "This is the respsonse from my erigon mainnet instance:\r\n```\r\n{\r\n  \"jsonrpc\": \"2.0\",\r\n  \"id\": \"19\",\r\n  \"result\": {\r\n    \"blockHash\": \"0x6be1532306ad8dbdb36b7d49ef519a532f36539546ffd6c8e65d27a0c5a43f27\",\r\n    \"blockNumber\": \"0xfd8e17\",\r\n    \"contractAddress\": \"0x6784d7583cf2528daa270b555a4cb5376648488f\",\r\n    \"cumulativeGasUsed\": \"0x1a0e6c8\",\r\n    \"effectiveGasPrice\": \"0x308618af2\",\r\n    \"from\": \"0xf3008681b545d23ed9b83c34218ba4b21d4f0140\",\r\n    \"gasUsed\": \"0x31000\",\r\n    \"logs\": [],\r\n    \"logsBloom\": \"0x00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000\",\r\n    \"status\": \"0x0\",\r\n    \"to\": null,\r\n    \"transactionHash\": \"0xb719b7c7f1c4f490ee8445ca3a8f47a983f86554ea27582bf269273cfb1ca5ae\",\r\n    \"transactionIndex\": \"0xf2\",\r\n    \"type\": \"0x0\"\r\n  }\r\n}\r\n```\r\n\r\nWhich version of erigon are you running, and is your data freshly synced, or perhaps you have done multiple upgrades in the past (ie could be old bugs fixed in later versions, but data corruption/error has already happened).",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1445474296/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1445558617",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/6956#issuecomment-1445558617",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/6956",
    "id": 1445558617,
    "node_id": "IC_kwDOC0FsAM5WKXlZ",
    "user": {
      "login": "tjayrush",
      "id": 5417918,
      "node_id": "MDQ6VXNlcjU0MTc5MTg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5417918?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tjayrush",
      "html_url": "https://github.com/tjayrush",
      "followers_url": "https://api.github.com/users/tjayrush/followers",
      "following_url": "https://api.github.com/users/tjayrush/following{/other_user}",
      "gists_url": "https://api.github.com/users/tjayrush/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tjayrush/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tjayrush/subscriptions",
      "organizations_url": "https://api.github.com/users/tjayrush/orgs",
      "repos_url": "https://api.github.com/users/tjayrush/repos",
      "events_url": "https://api.github.com/users/tjayrush/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tjayrush/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-02-27T02:00:01Z",
    "updated_at": "2023-02-27T02:00:01Z",
    "author_association": "CONTRIBUTOR",
    "body": "I pretty much update each time there's a release, so I think the node was in a bad state a couple of weeks/months ago. I saw a not on some of those referenced issues saying a full re-sync is necessary. Is that correct?\r\n\r\nCurrently running 2.39.0, but was running each successive version (with some skipping) as they become available.\r\n\r\nIf it's true that a re-sync is needed, perhaps we could create a test (such as to run curl on all the above-referenced transaction ids), and if they fail, then a person needs to re-sync.\r\n\r\nYou could then close all of the attached issues.\r\n\r\nBut -- if it's not necessary to re-sync, of course, most people would choose not to. \r\n\r\nSo -- upshot -- is there any way to determine with clarity that one must re-sync?",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1445558617/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1445638892",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/6956#issuecomment-1445638892",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/6956",
    "id": 1445638892,
    "node_id": "IC_kwDOC0FsAM5WKrLs",
    "user": {
      "login": "keithchew",
      "id": 5557929,
      "node_id": "MDQ6VXNlcjU1NTc5Mjk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5557929?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/keithchew",
      "html_url": "https://github.com/keithchew",
      "followers_url": "https://api.github.com/users/keithchew/followers",
      "following_url": "https://api.github.com/users/keithchew/following{/other_user}",
      "gists_url": "https://api.github.com/users/keithchew/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/keithchew/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/keithchew/subscriptions",
      "organizations_url": "https://api.github.com/users/keithchew/orgs",
      "repos_url": "https://api.github.com/users/keithchew/repos",
      "events_url": "https://api.github.com/users/keithchew/events{/privacy}",
      "received_events_url": "https://api.github.com/users/keithchew/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-02-27T03:28:23Z",
    "updated_at": "2023-02-27T03:29:10Z",
    "author_association": "NONE",
    "body": "Short of going through each version changelogs, only the developers will be able to tell if there were changes that improved on data corruption issues. Even so, if the above txns with missing data were caused by previous bad versions, then doing a check on those txns alone is not enough to conclude the full data is clean, as other users might have upgraded/rebooted/crashed at different times. If you have extra resources, one option is to build 2 nodes, which will act as a failover for each other. When you discover data corruption in one, you can flick to the other node, and re-sync/rebuild the bad node.",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1445638892/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1445646230",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/6956#issuecomment-1445646230",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/6956",
    "id": 1445646230,
    "node_id": "IC_kwDOC0FsAM5WKs-W",
    "user": {
      "login": "J-A-M-E-5",
      "id": 26421539,
      "node_id": "MDQ6VXNlcjI2NDIxNTM5",
      "avatar_url": "https://avatars.githubusercontent.com/u/26421539?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/J-A-M-E-5",
      "html_url": "https://github.com/J-A-M-E-5",
      "followers_url": "https://api.github.com/users/J-A-M-E-5/followers",
      "following_url": "https://api.github.com/users/J-A-M-E-5/following{/other_user}",
      "gists_url": "https://api.github.com/users/J-A-M-E-5/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/J-A-M-E-5/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/J-A-M-E-5/subscriptions",
      "organizations_url": "https://api.github.com/users/J-A-M-E-5/orgs",
      "repos_url": "https://api.github.com/users/J-A-M-E-5/repos",
      "events_url": "https://api.github.com/users/J-A-M-E-5/events{/privacy}",
      "received_events_url": "https://api.github.com/users/J-A-M-E-5/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-02-27T03:38:52Z",
    "updated_at": "2023-02-27T03:38:52Z",
    "author_association": "NONE",
    "body": "> When you discover data corruption in one, you can flick to the other node, and re-sync/rebuild the bad node.\r\n\r\nI imagine the best option would be to run two different versions, as if data corruption or error was caused by erigon programming error in same version you'd just have a copy of the error on the other machine wouldn't you?\r\n\r\nI'm happy to accept that any sort of crash which results in unclean shutdown, even if caused by a programming bug means that my node is potentially corrupt. I am already putting procedures in place to not restart node automatically, to check all log files for problematic starts and problematic closes, and the return code from erigon etc...  Are there any sort of guarantees that if my node never crashes and I am running a stable release that it will be fine? \r\n\r\nIs there any sort of thorough testing performed on release candidates, i.e. are they guaranteed if the node never crashed to produce good results? Are they tested for example with a full resync and then all ETH and token balances for example compared against a full archival geth node? I don't have the resources to run a full archival geth node, if I did I would do that.",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1445646230/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1445663878",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/6956#issuecomment-1445663878",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/6956",
    "id": 1445663878,
    "node_id": "IC_kwDOC0FsAM5WKxSG",
    "user": {
      "login": "keithchew",
      "id": 5557929,
      "node_id": "MDQ6VXNlcjU1NTc5Mjk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5557929?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/keithchew",
      "html_url": "https://github.com/keithchew",
      "followers_url": "https://api.github.com/users/keithchew/followers",
      "following_url": "https://api.github.com/users/keithchew/following{/other_user}",
      "gists_url": "https://api.github.com/users/keithchew/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/keithchew/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/keithchew/subscriptions",
      "organizations_url": "https://api.github.com/users/keithchew/orgs",
      "repos_url": "https://api.github.com/users/keithchew/repos",
      "events_url": "https://api.github.com/users/keithchew/events{/privacy}",
      "received_events_url": "https://api.github.com/users/keithchew/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-02-27T04:02:00Z",
    "updated_at": "2023-02-27T04:04:39Z",
    "author_association": "NONE",
    "body": "Depends on how the data corruption happened, but most likely it is caused by an unclean shutdown/restart. Having 2 nodes increases the resilience of the setup (ensure 2 nodes run on different machines), but no guarantees.\r\n\r\nAlso, there are no guarantees that if your node is running, all is good. Any bugs in a software can cause corruption, and in all possible cases, eg running instance, clean upgrade (graceful shutdown -> upgrade -> startup), etc.\r\n\r\nIdeally, what you want is a node agnostic comparator, ie a program which walks through the blockchain on one node (eg erigon), and for each transaction in every block, perform a check with a second node (eg geth)... this program can keep running in the background, and once a difference is detected, sends an alert. I wouldn't be surprised if larger web3 companies that provide web3 endpoints are doing this to ensure data integrity and uptime.",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1445663878/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1446423460",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/6956#issuecomment-1446423460",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/6956",
    "id": 1446423460,
    "node_id": "IC_kwDOC0FsAM5WNquk",
    "user": {
      "login": "J-A-M-E-5",
      "id": 26421539,
      "node_id": "MDQ6VXNlcjI2NDIxNTM5",
      "avatar_url": "https://avatars.githubusercontent.com/u/26421539?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/J-A-M-E-5",
      "html_url": "https://github.com/J-A-M-E-5",
      "followers_url": "https://api.github.com/users/J-A-M-E-5/followers",
      "following_url": "https://api.github.com/users/J-A-M-E-5/following{/other_user}",
      "gists_url": "https://api.github.com/users/J-A-M-E-5/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/J-A-M-E-5/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/J-A-M-E-5/subscriptions",
      "organizations_url": "https://api.github.com/users/J-A-M-E-5/orgs",
      "repos_url": "https://api.github.com/users/J-A-M-E-5/repos",
      "events_url": "https://api.github.com/users/J-A-M-E-5/events{/privacy}",
      "received_events_url": "https://api.github.com/users/J-A-M-E-5/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-02-27T14:28:56Z",
    "updated_at": "2023-02-27T14:29:09Z",
    "author_association": "NONE",
    "body": "> but most likely it is caused by an unclean shutdown/restart\r\n\r\nAs I said, I'm willing to take the \"loss\" and resync if ever I get an unclean shutdown or a messy (re)start. For these reasons I got a UPS, and I do backups. But yeah in case of buggy data I am backing up buggy data.\r\n\r\n> I wouldn't be surprised if larger web3 companies that provide web3 endpoints are doing this to ensure data integrity and uptime.\r\n\r\nIf we all sit and think that, maybe nobody is! 😆 \"Don't trust, verify!\"\r\n\r\nI'd love to have the funds to run and maintain geth full archival node which I don't - which is one of the reasons I am using erigon. It concerns me mostly for erigonv3 when eventually people will never sync from genesis again and what is state computed by somebody else could be found to be wrong at some point.\r\n\r\nCertainly running through TrueBlocks or similar a geth node, a nethermind node and a erigon node and getting exactly the same results (without code patches in Trueblocks) would be a confidence booster.",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1446423460/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1486770028",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/6956#issuecomment-1486770028",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/6956",
    "id": 1486770028,
    "node_id": "IC_kwDOC0FsAM5Ynk9s",
    "user": {
      "login": "tjayrush",
      "id": 5417918,
      "node_id": "MDQ6VXNlcjU0MTc5MTg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5417918?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tjayrush",
      "html_url": "https://github.com/tjayrush",
      "followers_url": "https://api.github.com/users/tjayrush/followers",
      "following_url": "https://api.github.com/users/tjayrush/following{/other_user}",
      "gists_url": "https://api.github.com/users/tjayrush/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tjayrush/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tjayrush/subscriptions",
      "organizations_url": "https://api.github.com/users/tjayrush/orgs",
      "repos_url": "https://api.github.com/users/tjayrush/repos",
      "events_url": "https://api.github.com/users/tjayrush/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tjayrush/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-03-28T12:13:44Z",
    "updated_at": "2023-03-28T12:13:44Z",
    "author_association": "CONTRIBUTOR",
    "body": "As the originator of this issue, I guess this issue can be closed. Sounds like I'm in for a re-sync. Please re-open if you wish.",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1486770028/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
