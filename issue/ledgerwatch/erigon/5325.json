{
  "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/5325",
  "repository_url": "https://api.github.com/repos/ledgerwatch/erigon",
  "labels_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/5325/labels{/name}",
  "comments_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/5325/comments",
  "events_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/5325/events",
  "html_url": "https://github.com/ledgerwatch/erigon/issues/5325",
  "id": 1368477647,
  "node_id": "I_kwDOC0FsAM5RkU_P",
  "number": 5325,
  "title": "No pending block found returning latest executed block",
  "user": {
    "login": "billyadelphia",
    "id": 20699349,
    "node_id": "MDQ6VXNlcjIwNjk5MzQ5",
    "avatar_url": "https://avatars.githubusercontent.com/u/20699349?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/billyadelphia",
    "html_url": "https://github.com/billyadelphia",
    "followers_url": "https://api.github.com/users/billyadelphia/followers",
    "following_url": "https://api.github.com/users/billyadelphia/following{/other_user}",
    "gists_url": "https://api.github.com/users/billyadelphia/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/billyadelphia/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/billyadelphia/subscriptions",
    "organizations_url": "https://api.github.com/users/billyadelphia/orgs",
    "repos_url": "https://api.github.com/users/billyadelphia/repos",
    "events_url": "https://api.github.com/users/billyadelphia/events{/privacy}",
    "received_events_url": "https://api.github.com/users/billyadelphia/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 4406003490,
      "node_id": "LA_kwDOC0FsAM8AAAABBp5HIg",
      "url": "https://api.github.com/repos/ledgerwatch/erigon/labels/gateway",
      "name": "gateway",
      "color": "62DB33",
      "default": false,
      "description": "Issue assigned to gateway team"
    },
    {
      "id": 4479226498,
      "node_id": "LA_kwDOC0FsAM8AAAABCvuSgg",
      "url": "https://api.github.com/repos/ledgerwatch/erigon/labels/status:in-progress",
      "name": "status:in-progress",
      "color": "1DDFDF",
      "default": false,
      "description": "Actively being worked on (picked up by developer)"
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": {
    "login": "hexoscott",
    "id": 70711990,
    "node_id": "MDQ6VXNlcjcwNzExOTkw",
    "avatar_url": "https://avatars.githubusercontent.com/u/70711990?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/hexoscott",
    "html_url": "https://github.com/hexoscott",
    "followers_url": "https://api.github.com/users/hexoscott/followers",
    "following_url": "https://api.github.com/users/hexoscott/following{/other_user}",
    "gists_url": "https://api.github.com/users/hexoscott/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/hexoscott/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/hexoscott/subscriptions",
    "organizations_url": "https://api.github.com/users/hexoscott/orgs",
    "repos_url": "https://api.github.com/users/hexoscott/repos",
    "events_url": "https://api.github.com/users/hexoscott/events{/privacy}",
    "received_events_url": "https://api.github.com/users/hexoscott/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "hexoscott",
      "id": 70711990,
      "node_id": "MDQ6VXNlcjcwNzExOTkw",
      "avatar_url": "https://avatars.githubusercontent.com/u/70711990?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hexoscott",
      "html_url": "https://github.com/hexoscott",
      "followers_url": "https://api.github.com/users/hexoscott/followers",
      "following_url": "https://api.github.com/users/hexoscott/following{/other_user}",
      "gists_url": "https://api.github.com/users/hexoscott/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hexoscott/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hexoscott/subscriptions",
      "organizations_url": "https://api.github.com/users/hexoscott/orgs",
      "repos_url": "https://api.github.com/users/hexoscott/repos",
      "events_url": "https://api.github.com/users/hexoscott/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hexoscott/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 11,
  "created_at": "2022-09-10T03:36:14Z",
  "updated_at": "2023-03-13T17:53:42Z",
  "closed_at": "2023-03-13T17:53:42Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "Why I can't access pending block on erigon ? is there any parameter to enable accessing the pending block ?\r\nit show these logs\r\nversion : erigon-2022.09.01\r\n```\r\nSep 10 03:31:23 bsc3 erigon[21030]: [WARN] [09-10|03:31:23.982] no pending block found returning latest executed block\r\nSep 10 03:31:23 bsc3 erigon[21030]: [WARN] [09-10|03:31:23.982] no pending block found returning latest executed block\r\nSep 10 03:31:24 bsc3 erigon[21030]: [INFO] [09-10|03:31:24.056] [1/15 Headers] Processed                 highest inserted=21199497 age=0\r\nSep 10 03:31:24 bsc3 erigon[21030]: [WARN] [09-10|03:31:24.083] no pending block found returning latest executed block\r\nSep 10 03:31:24 bsc3 erigon[21030]: [WARN] [09-10|03:31:24.083] no pending block found returning latest executed block\r\nSep 10 03:31:24 bsc3 erigon[21030]: [INFO] [09-10|03:31:24.100] [6/15 Execution] Completed on            block=21199497\r\nSep 10 03:31:24 bsc3 erigon[21030]: [WARN] [09-10|03:31:24.183] no pending block found returning latest executed block\r\nSep 10 03:31:24 bsc3 erigon[21030]: [WARN] [09-10|03:31:24.184] no pending block found returning latest executed block\r\nSep 10 03:31:24 bsc3 erigon[21030]: [WARN] [09-10|03:31:24.284] no pending block found returning latest executed block\r\nSep 10 03:31:24 bsc3 erigon[21030]: [WARN] [09-10|03:31:24.284] no pending block found returning latest executed block\r\n```\r\n\r\ncommand :\r\n```\r\n/root/erigon/erigon-2022.09.01/build/bin/erigon --datadir=/root/data/erigon --torrent.download.rate=100mb --chain=bsc --prune=hrtc --db.pagesize=16k --http --ws -http.api=eth,erigon,web3,net,debug,trace,txpool\r\n```\r\n\r\ncode\r\n```js\r\nimport Web3 from \"web3\";\r\nimport testPending from \"./testPending.js\";\r\n\r\nconst web3 = new Web3(\"ws://localhost:8545\");\r\n\r\nconst contract = new web3.eth.Contract(\r\n  testPending,\r\n  \"0x08f35Ee2D4A29b5D84780c5B1631A6aC73c8325d\"\r\n);\r\nconst batman = async () => {\r\n  const uu = await contract.methods.get().call({}, \"pending\");\r\n  console.log(\"uu\", uu);\r\n  await sleep(100);\r\n  batman().then().catch();\r\n};\r\nbatman().then().catch();\r\nfunction sleep(ms) {\r\n  return new Promise((resolve) => setTimeout(resolve, ms));\r\n}\r\n```",
  "closed_by": {
    "login": "hexoscott",
    "id": 70711990,
    "node_id": "MDQ6VXNlcjcwNzExOTkw",
    "avatar_url": "https://avatars.githubusercontent.com/u/70711990?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/hexoscott",
    "html_url": "https://github.com/hexoscott",
    "followers_url": "https://api.github.com/users/hexoscott/followers",
    "following_url": "https://api.github.com/users/hexoscott/following{/other_user}",
    "gists_url": "https://api.github.com/users/hexoscott/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/hexoscott/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/hexoscott/subscriptions",
    "organizations_url": "https://api.github.com/users/hexoscott/orgs",
    "repos_url": "https://api.github.com/users/hexoscott/repos",
    "events_url": "https://api.github.com/users/hexoscott/events{/privacy}",
    "received_events_url": "https://api.github.com/users/hexoscott/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/5325/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/5325/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1242612890",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/5325#issuecomment-1242612890",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/5325",
    "id": 1242612890,
    "node_id": "IC_kwDOC0FsAM5KEMSa",
    "user": {
      "login": "AskAlexSharov",
      "id": 46885206,
      "node_id": "MDQ6VXNlcjQ2ODg1MjA2",
      "avatar_url": "https://avatars.githubusercontent.com/u/46885206?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/AskAlexSharov",
      "html_url": "https://github.com/AskAlexSharov",
      "followers_url": "https://api.github.com/users/AskAlexSharov/followers",
      "following_url": "https://api.github.com/users/AskAlexSharov/following{/other_user}",
      "gists_url": "https://api.github.com/users/AskAlexSharov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/AskAlexSharov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/AskAlexSharov/subscriptions",
      "organizations_url": "https://api.github.com/users/AskAlexSharov/orgs",
      "repos_url": "https://api.github.com/users/AskAlexSharov/repos",
      "events_url": "https://api.github.com/users/AskAlexSharov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/AskAlexSharov/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-09-10T04:00:03Z",
    "updated_at": "2022-09-10T04:00:03Z",
    "author_association": "COLLABORATOR",
    "body": "probably need enable mining. something like --mine",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1242612890/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1242637605",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/5325#issuecomment-1242637605",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/5325",
    "id": 1242637605,
    "node_id": "IC_kwDOC0FsAM5KESUl",
    "user": {
      "login": "billyadelphia",
      "id": 20699349,
      "node_id": "MDQ6VXNlcjIwNjk5MzQ5",
      "avatar_url": "https://avatars.githubusercontent.com/u/20699349?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/billyadelphia",
      "html_url": "https://github.com/billyadelphia",
      "followers_url": "https://api.github.com/users/billyadelphia/followers",
      "following_url": "https://api.github.com/users/billyadelphia/following{/other_user}",
      "gists_url": "https://api.github.com/users/billyadelphia/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/billyadelphia/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/billyadelphia/subscriptions",
      "organizations_url": "https://api.github.com/users/billyadelphia/orgs",
      "repos_url": "https://api.github.com/users/billyadelphia/repos",
      "events_url": "https://api.github.com/users/billyadelphia/events{/privacy}",
      "received_events_url": "https://api.github.com/users/billyadelphia/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-09-10T05:41:17Z",
    "updated_at": "2022-09-10T05:41:17Z",
    "author_association": "NONE",
    "body": "Added the `--mine` flag and `--miner.sigfile`, call the pending block again, now I have this error\r\n```\r\nSep 10 05:38:00 bsc3 erigon[40456]: [WARN] [09-10|05:38:00.911] Served                                   method=eth_call reqid=1 t=72.596µs err=\"header not found for block 21201976, d9aa0ab4edec588ca1334442de36d5c2c21abd860f446d114635824de6ecdfb9\"\r\n```\r\n\r\ncommand :\r\n```\r\n/root/erigon/erigon-2022.09.01/build/bin/erigon --datadir=/root/data/erigon --torrent.download.rate=100mb --chain=bsc --prune=hrtc --db.pagesize=16k --http --ws -http.api=eth,erigon,web3,net,debug,trace,txpool --mine --miner.sigfile=/root/erigon/private.key\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1242637605/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1310337811",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/5325#issuecomment-1310337811",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/5325",
    "id": 1310337811,
    "node_id": "IC_kwDOC0FsAM5OGisT",
    "user": {
      "login": "hexoscott",
      "id": 70711990,
      "node_id": "MDQ6VXNlcjcwNzExOTkw",
      "avatar_url": "https://avatars.githubusercontent.com/u/70711990?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hexoscott",
      "html_url": "https://github.com/hexoscott",
      "followers_url": "https://api.github.com/users/hexoscott/followers",
      "following_url": "https://api.github.com/users/hexoscott/following{/other_user}",
      "gists_url": "https://api.github.com/users/hexoscott/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hexoscott/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hexoscott/subscriptions",
      "organizations_url": "https://api.github.com/users/hexoscott/orgs",
      "repos_url": "https://api.github.com/users/hexoscott/repos",
      "events_url": "https://api.github.com/users/hexoscott/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hexoscott/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-11-10T14:12:19Z",
    "updated_at": "2022-11-10T14:12:19Z",
    "author_association": "CONTRIBUTOR",
    "body": "This log line has been removed in the PRs for eth_estimateGas as it causes a serious performance issue.  @billyadelphia are you trying to mine/validate?  If not this issue will be resolved once the code for eth_estimateGas has been merged",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1310337811/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1311193089",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/5325#issuecomment-1311193089",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/5325",
    "id": 1311193089,
    "node_id": "IC_kwDOC0FsAM5OJzgB",
    "user": {
      "login": "billyadelphia",
      "id": 20699349,
      "node_id": "MDQ6VXNlcjIwNjk5MzQ5",
      "avatar_url": "https://avatars.githubusercontent.com/u/20699349?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/billyadelphia",
      "html_url": "https://github.com/billyadelphia",
      "followers_url": "https://api.github.com/users/billyadelphia/followers",
      "following_url": "https://api.github.com/users/billyadelphia/following{/other_user}",
      "gists_url": "https://api.github.com/users/billyadelphia/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/billyadelphia/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/billyadelphia/subscriptions",
      "organizations_url": "https://api.github.com/users/billyadelphia/orgs",
      "repos_url": "https://api.github.com/users/billyadelphia/repos",
      "events_url": "https://api.github.com/users/billyadelphia/events{/privacy}",
      "received_events_url": "https://api.github.com/users/billyadelphia/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-11-11T03:41:47Z",
    "updated_at": "2022-11-11T03:41:47Z",
    "author_association": "NONE",
    "body": "@hexoscott I'm not mining or validating the block. Just wanted to access pending block on BSC. Because the bnb-client/bsc client can't access pending block too, they said they remove that capability because of performance issue.\r\n\r\nDoes the PRs will enable me to access the pending block ?",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1311193089/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1328679061",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/5325#issuecomment-1328679061",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/5325",
    "id": 1328679061,
    "node_id": "IC_kwDOC0FsAM5PMgiV",
    "user": {
      "login": "hexoscott",
      "id": 70711990,
      "node_id": "MDQ6VXNlcjcwNzExOTkw",
      "avatar_url": "https://avatars.githubusercontent.com/u/70711990?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hexoscott",
      "html_url": "https://github.com/hexoscott",
      "followers_url": "https://api.github.com/users/hexoscott/followers",
      "following_url": "https://api.github.com/users/hexoscott/following{/other_user}",
      "gists_url": "https://api.github.com/users/hexoscott/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hexoscott/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hexoscott/subscriptions",
      "organizations_url": "https://api.github.com/users/hexoscott/orgs",
      "repos_url": "https://api.github.com/users/hexoscott/repos",
      "events_url": "https://api.github.com/users/hexoscott/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hexoscott/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-11-28T08:01:34Z",
    "updated_at": "2022-11-28T08:01:34Z",
    "author_association": "CONTRIBUTOR",
    "body": "Hi @billyadelphia, if you're not mining there won't be a pending block.  The PR will simply remove the log lines informing you that the pending block couldn't be found.",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1328679061/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1328683242",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/5325#issuecomment-1328683242",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/5325",
    "id": 1328683242,
    "node_id": "IC_kwDOC0FsAM5PMhjq",
    "user": {
      "login": "hexoscott",
      "id": 70711990,
      "node_id": "MDQ6VXNlcjcwNzExOTkw",
      "avatar_url": "https://avatars.githubusercontent.com/u/70711990?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hexoscott",
      "html_url": "https://github.com/hexoscott",
      "followers_url": "https://api.github.com/users/hexoscott/followers",
      "following_url": "https://api.github.com/users/hexoscott/following{/other_user}",
      "gists_url": "https://api.github.com/users/hexoscott/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hexoscott/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hexoscott/subscriptions",
      "organizations_url": "https://api.github.com/users/hexoscott/orgs",
      "repos_url": "https://api.github.com/users/hexoscott/repos",
      "events_url": "https://api.github.com/users/hexoscott/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hexoscott/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-11-28T08:04:43Z",
    "updated_at": "2022-11-28T08:04:43Z",
    "author_association": "CONTRIBUTOR",
    "body": "Or a better way to put it is that in certain paths in the code there is a request for the pending block, if there isn't one then the code falls back to returning the latest block and logs out that a pending block couldn't be found.  The PR doesn't change the behaviour, just removes the log message as it hampers performance",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1328683242/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1329825244",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/5325#issuecomment-1329825244",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/5325",
    "id": 1329825244,
    "node_id": "IC_kwDOC0FsAM5PQ4Xc",
    "user": {
      "login": "billyadelphia",
      "id": 20699349,
      "node_id": "MDQ6VXNlcjIwNjk5MzQ5",
      "avatar_url": "https://avatars.githubusercontent.com/u/20699349?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/billyadelphia",
      "html_url": "https://github.com/billyadelphia",
      "followers_url": "https://api.github.com/users/billyadelphia/followers",
      "following_url": "https://api.github.com/users/billyadelphia/following{/other_user}",
      "gists_url": "https://api.github.com/users/billyadelphia/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/billyadelphia/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/billyadelphia/subscriptions",
      "organizations_url": "https://api.github.com/users/billyadelphia/orgs",
      "repos_url": "https://api.github.com/users/billyadelphia/repos",
      "events_url": "https://api.github.com/users/billyadelphia/events{/privacy}",
      "received_events_url": "https://api.github.com/users/billyadelphia/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-11-28T22:15:00Z",
    "updated_at": "2022-11-28T22:15:33Z",
    "author_association": "NONE",
    "body": "@hexoscott just curious, why I can't get pending block unless do mining on BSC ? it is on purpose ? I'm able to access pending block on other network with other client without mine flag, like on ethereum with geth or on polygon on bor.\r\nI haven't tried running ethereum or polygon with erigon.\r\n\r\nAnd can I modify some code to be able to access the pending block on BSC ?",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1329825244/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1330277934",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/5325#issuecomment-1330277934",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/5325",
    "id": 1330277934,
    "node_id": "IC_kwDOC0FsAM5PSm4u",
    "user": {
      "login": "hexoscott",
      "id": 70711990,
      "node_id": "MDQ6VXNlcjcwNzExOTkw",
      "avatar_url": "https://avatars.githubusercontent.com/u/70711990?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hexoscott",
      "html_url": "https://github.com/hexoscott",
      "followers_url": "https://api.github.com/users/hexoscott/followers",
      "following_url": "https://api.github.com/users/hexoscott/following{/other_user}",
      "gists_url": "https://api.github.com/users/hexoscott/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hexoscott/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hexoscott/subscriptions",
      "organizations_url": "https://api.github.com/users/hexoscott/orgs",
      "repos_url": "https://api.github.com/users/hexoscott/repos",
      "events_url": "https://api.github.com/users/hexoscott/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hexoscott/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-11-29T08:42:24Z",
    "updated_at": "2022-11-29T08:42:24Z",
    "author_association": "CONTRIBUTOR",
    "body": "Ah ok, @billyadelphia, that might be my bad in that case then and some confusion around the pending block.  My understanding is that there isn't always a pending block available, at which point the code will fall back to the latest block instead.  You can see this in the function `_GetBlockNumber` in turbo/rpchelper//helper.go line 65.  There used to be a log line that let you know this had happened but it hampered performance for a lot of calls so was removed.",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1330277934/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1335944082",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/5325#issuecomment-1335944082",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/5325",
    "id": 1335944082,
    "node_id": "IC_kwDOC0FsAM5PoOOS",
    "user": {
      "login": "Sengoku11",
      "id": 33450576,
      "node_id": "MDQ6VXNlcjMzNDUwNTc2",
      "avatar_url": "https://avatars.githubusercontent.com/u/33450576?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sengoku11",
      "html_url": "https://github.com/Sengoku11",
      "followers_url": "https://api.github.com/users/Sengoku11/followers",
      "following_url": "https://api.github.com/users/Sengoku11/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sengoku11/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sengoku11/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sengoku11/subscriptions",
      "organizations_url": "https://api.github.com/users/Sengoku11/orgs",
      "repos_url": "https://api.github.com/users/Sengoku11/repos",
      "events_url": "https://api.github.com/users/Sengoku11/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sengoku11/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-12-02T23:03:45Z",
    "updated_at": "2022-12-07T14:42:40Z",
    "author_association": "NONE",
    "body": "@hexoscott Is there a way to enable pending block in BSC? Since I'm not on the list of 21 validators, I'm not sure if I can enable mining on my node properly.",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1335944082/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1441424986",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/5325#issuecomment-1441424986",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/5325",
    "id": 1441424986,
    "node_id": "IC_kwDOC0FsAM5V6mZa",
    "user": {
      "login": "hexoscott",
      "id": 70711990,
      "node_id": "MDQ6VXNlcjcwNzExOTkw",
      "avatar_url": "https://avatars.githubusercontent.com/u/70711990?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hexoscott",
      "html_url": "https://github.com/hexoscott",
      "followers_url": "https://api.github.com/users/hexoscott/followers",
      "following_url": "https://api.github.com/users/hexoscott/following{/other_user}",
      "gists_url": "https://api.github.com/users/hexoscott/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hexoscott/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hexoscott/subscriptions",
      "organizations_url": "https://api.github.com/users/hexoscott/orgs",
      "repos_url": "https://api.github.com/users/hexoscott/repos",
      "events_url": "https://api.github.com/users/hexoscott/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hexoscott/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-02-23T09:18:35Z",
    "updated_at": "2023-02-23T09:18:35Z",
    "author_association": "CONTRIBUTOR",
    "body": "Hi @billyadelphia, @Sengoku11.  I think I've possibly misunderstood your request here.  The \"pending\" block in erigon is always the block being mined, if you're not in a mining state there won't be one as they're not gossiped, in that case we return the latest executed block.  So we have 3 blocks that could be labelled as \"pending\":\r\n\r\n1. the block being actively mined\r\n2. the latest executed block\r\n3. the latest block confirmed by a fork choice update\r\n4. Blocks received via new payload that haven't yet been committed because we haven't received the fork choice update\r\n\r\nThe code path for eth_getBlock will return 2 if 1 isn't available in the list above.  I need to look into the code further to see if point 2 and 4 are the same or we hold some in memory for a short period.  Would it be number 4 that you're looking to see as the \"pending\" block?",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1441424986/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1466630347",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/5325#issuecomment-1466630347",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/5325",
    "id": 1466630347,
    "node_id": "IC_kwDOC0FsAM5XawDL",
    "user": {
      "login": "hexoscott",
      "id": 70711990,
      "node_id": "MDQ6VXNlcjcwNzExOTkw",
      "avatar_url": "https://avatars.githubusercontent.com/u/70711990?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hexoscott",
      "html_url": "https://github.com/hexoscott",
      "followers_url": "https://api.github.com/users/hexoscott/followers",
      "following_url": "https://api.github.com/users/hexoscott/following{/other_user}",
      "gists_url": "https://api.github.com/users/hexoscott/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hexoscott/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hexoscott/subscriptions",
      "organizations_url": "https://api.github.com/users/hexoscott/orgs",
      "repos_url": "https://api.github.com/users/hexoscott/repos",
      "events_url": "https://api.github.com/users/hexoscott/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hexoscott/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-03-13T17:53:42Z",
    "updated_at": "2023-03-13T17:53:42Z",
    "author_association": "CONTRIBUTOR",
    "body": "Going to close this thread down.  If the issue is still a problem please feel to re-open.",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1466630347/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
