{
  "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/7923",
  "repository_url": "https://api.github.com/repos/ledgerwatch/erigon",
  "labels_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/7923/labels{/name}",
  "comments_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/7923/comments",
  "events_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/7923/events",
  "html_url": "https://github.com/ledgerwatch/erigon/issues/7923",
  "id": 1817301336,
  "node_id": "I_kwDOC0FsAM5sUdFY",
  "number": 7923,
  "title": "stuck at Waiting for Consensus Layer when using internalcl",
  "user": {
    "login": "mike-code",
    "id": 2964642,
    "node_id": "MDQ6VXNlcjI5NjQ2NDI=",
    "avatar_url": "https://avatars.githubusercontent.com/u/2964642?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/mike-code",
    "html_url": "https://github.com/mike-code",
    "followers_url": "https://api.github.com/users/mike-code/followers",
    "following_url": "https://api.github.com/users/mike-code/following{/other_user}",
    "gists_url": "https://api.github.com/users/mike-code/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/mike-code/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/mike-code/subscriptions",
    "organizations_url": "https://api.github.com/users/mike-code/orgs",
    "repos_url": "https://api.github.com/users/mike-code/repos",
    "events_url": "https://api.github.com/users/mike-code/events{/privacy}",
    "received_events_url": "https://api.github.com/users/mike-code/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 4566396003,
      "node_id": "LA_kwDOC0FsAM8AAAABEC2sYw",
      "url": "https://api.github.com/repos/ledgerwatch/erigon/labels/Stale",
      "name": "Stale",
      "color": "ededed",
      "default": false,
      "description": null
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 10,
  "created_at": "2023-07-23T21:26:31Z",
  "updated_at": "2023-09-28T02:09:36Z",
  "closed_at": null,
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "### description of the problem\r\n\r\nI synced `sepolia` chain from scratch on one machine and it worked just fine. Then I moved the files (rsynced) to another machine (the same operating system/cpu arch), preserved access/modification time fot the `datadir`, but the chain won't sync any further. I've performed the rsync with erigon stopped. \r\n\r\nNow I tried to continue the sync on the new machine, but It's stuck at `2/15 Waiting for Consensus Layer` with peers changing, but progress moving no further. The `print_stages` output differs between old and new machines but it's mystery to me how to read it so I'll count on your help.\r\n\r\nThanks!\r\n\r\n#### System information\r\n\r\n```\r\n❯ erigon --version\r\nerigon version 2.48.0-stable\r\n\r\n❯ uname -a\r\nLinux _ 6.4.2-arch1-1 #1 SMP PREEMPT_DYNAMIC Thu, 06 Jul 2023 18:35:54 +0000 x86_64 GNU/Linux\r\n```\r\n\r\nConcensus Layer: internal\r\nChain/Network: sepolia\r\n\r\n#### start command\r\n```\r\n/usr/bin/erigon \\\r\n    --chain=sepolia \\\r\n    --datadir=/mnt/storage/ansible-managed/ethereum/data \\\r\n    --ethash.dagdir=/mnt/storage/ansible-managed/ethereum/data \\\r\n    --http=true \\\r\n    --healthcheck=true \\\r\n    --sentinel.addr=127.0.0.1 \\\r\n    --http.addr=127.0.0.1 \\\r\n    --http.port=8545 \\\r\n    --private.api.addr 127.0.0.1:8546 \\\r\n    --http.api=eth,erigon,engine,web3,net,txpool \\\r\n    --authrpc.addr=127.0.0.1 \\\r\n    --authrpc.jwtsecret=/mnt/storage/ansible-managed/ethereum/jwt.hex \\\r\n    --metrics=true \\\r\n    --internalcl \\\r\n    --snapshots=true \\\r\n    --torrent.download.slots=4 \\\r\n    --torrent.download.rate=128mb \\\r\n    --torrent.upload.rate=4mb \\\r\n    --verbosity info \\\r\n    --log.console.verbosity info\r\n```\r\n\r\n### print_stages OLD machine\r\n\r\n```\r\nINFO[07-23|23:24:13.183] [snapshots] Blocks Stat                  blocks=3855k indices=3855k alloc=100.9MB sys=127.0MB\r\nNote: prune_at doesn't mean 'all data before were deleted' - it just mean stage.Prune function were run to this block. Because 1 stage may prune multiple data types to different prune distance.\r\n\r\n \t\t\t\t stage_at \t prune_at\r\nSnapshots \t\t\t 3945832 \t 0\r\nHeaders \t\t\t 3945833 \t 0\r\nBlockHashes \t\t\t 3945833 \t 0\r\nBodies \t\t\t\t 3945833 \t 0\r\nSenders \t\t\t 3945833 \t 0\r\nExecution \t\t\t 3945833 \t 3945833\r\nTranslation \t\t\t 0 \t\t 0\r\nHashState \t\t\t 3945833 \t 0\r\nIntermediateHashes \t\t 3945833 \t 3945833\r\nAccountHistoryIndex \t\t 3945833 \t 0\r\nStorageHistoryIndex \t\t 3945833 \t 0\r\nLogIndex \t\t\t 3945833 \t 0\r\nCallTraces \t\t\t 3945833 \t 3945833\r\nTxLookup \t\t\t 3945833 \t 3559600\r\nFinish \t\t\t\t 3945833 \t 0\r\n--\r\nprune distance:\r\n\r\nblocks.v2: blocks=3854999, segments=3854999, indices=3854999\r\n\r\nhistory.v3: false,  idx steps: 0.00, lastMaxTxNum=0->1, lastBlockInSnap=0\r\n\r\nsequence: EthTx=48195739, NonCanonicalTx=0\r\n\r\nin db: first header 3855000, last header 3945833, first body 3855000, last body 3945833\r\n```\r\n\r\n### print_stages NEW machine\r\n\r\n```\r\nINFO[07-23|23:22:05.550] [snapshots] Blocks Stat                  blocks=3855k indices=3855k alloc=101.9MB sys=160.6MB\r\nNote: prune_at doesn't mean 'all data before were deleted' - it just mean stage.Prune function were run to this block. Because 1 stage may prune multiple data types to different prune distance.\r\n\r\n \t\t\t\t stage_at \t prune_at\r\nSnapshots \t\t\t 3854999 \t 0\r\nHeaders \t\t\t 3854999 \t 0\r\nBlockHashes \t\t\t 3945833 \t 0\r\nBodies \t\t\t\t 3854999 \t 0\r\nSenders \t\t\t 3854999 \t 0\r\nExecution \t\t\t 3945833 \t 3945833\r\nTranslation \t\t\t 0 \t\t 0\r\nHashState \t\t\t 3945833 \t 0\r\nIntermediateHashes \t\t 3945833 \t 3945833\r\nAccountHistoryIndex \t\t 3945833 \t 0\r\nStorageHistoryIndex \t\t 3945833 \t 0\r\nLogIndex \t\t\t 3945833 \t 0\r\nCallTraces \t\t\t 3945833 \t 3945833\r\nTxLookup \t\t\t 3945833 \t 3559600\r\nFinish \t\t\t\t 3945833 \t 0\r\n--\r\nprune distance:\r\n\r\nblocks.v2: blocks=3854999, segments=3854999, indices=3854999\r\n\r\nhistory.v3: false,  idx steps: 0.00, lastMaxTxNum=0->0, lastBlockInSnap=0\r\n\r\nsequence: EthTx=43472220, NonCanonicalTx=0\r\n\r\nin db: first header 0, last header 0, first body 0, last body 0\r\n--\r\n```\r\n\r\n#### Log\r\n\r\n```\r\nStarted Erigon execution client.\r\n[INFO] [07-23|23:09:17.026] logging to file system                   log dir=/mnt/storage/ansible-managed/ethereum/data/logs file prefix=erigon log level=info json=false\r\n[INFO] [07-23|23:09:17.027] Starting metrics server                  addr=http://127.0.0.1:6060/debug/metrics/prometheus\r\n[INFO] [07-23|23:09:17.027] Build info                               git_branch= git_tag=v2.48.0 git_commit=\r\n[INFO] [07-23|23:09:17.027] Starting Erigon on Sepolia testnet...\r\n[INFO] [07-23|23:09:17.028] Maximum peer count                       ETH=100 total=100\r\n[INFO] [07-23|23:09:17.028] starting HTTP APIs                       APIs=eth,erigon,engine,web3,net,txpool\r\n[INFO] [07-23|23:09:17.028] torrent verbosity                        level=WRN\r\n[INFO] [07-23|23:09:19.133] Set global gas cap                       cap=50000000\r\n[INFO] [07-23|23:09:19.134] [Downloader] Runnning with               ipv6-enabled=true ipv4-enabled=true download.rate=128mb upload.rate=4mb\r\n[INFO] [07-23|23:09:19.134] Opening Database                         label=chaindata path=/mnt/storage/ansible-managed/ethereum/data/chaindata\r\n[INFO] [07-23|23:09:19.319] Initialised chain configuration          config=\"{ChainID: 11155111, Homestead: 0, DAO: <nil>, Tangerine Whistle: 0, Spurious Dragon: 0, Byzantium: 0, Constantinople: 0, Petersburg: 0, Istanbul: 0, Muir Glacier: 0, Berlin: 0, London: 0, Arrow Glacier: <nil>, Gray Glacier: <nil>, Terminal Total Difficulty: 17000000000000000, Merge Netsplit: 1735371, Shanghai: 1677557088, Cancun: <nil>, Prague: <nil>, Engine: ethash}\" genesis=0x25a5cc106eea7138acab33231d7160d69cb777ee0c2c553fcddf5138993e6dd9\r\n[INFO] [07-23|23:09:19.380] Initialising Ethereum protocol           network=11155111\r\n[INFO] [07-23|23:09:19.380] Disk storage enabled for ethash DAGs     dir=/mnt/storage/ansible-managed/ethereum/data count=2\r\n[INFO] [07-23|23:09:19.382] Starting private RPC server              on=127.0.0.1:8546\r\n[INFO] [07-23|23:09:19.382] new subscription to logs established\r\n[INFO] [07-23|23:09:19.382] [Checkpoint Sync] Requesting beacon state uri=https://checkpoint-sync.sepolia.ethpandaops.io/eth/v2/debug/beacon/states/finalized\r\n[INFO] [07-23|23:09:21.268] Static peers                             len=0\r\n[INFO] [07-23|23:09:21.268] [Sentinel] Sentinel started              enr=enr:-Ly4QCIpZR6dAeg0596PkTyT0jjmutWreYIyBi1Ksv42K2tDAHdffByAYCN5278oqJQM4l4JEJKa6dtKE3pW2zE5jncBh2F0dG5ldHOIAAAAAAAAAACEZXRoMpBH63KzBAAAAP__________gmlkgnY0gmlwhH8AAAGJc2VjcDI1NmsxoQL0onynPEVVhRUtpMjN5SGezaF5KPr4j2k5UHAWVcm41YhzeW5jbmV0cwCDdGNwgg-hg3VkcIIPoA\r\n[INFO] [07-23|23:09:21.269] rpc filters: subscribing to Erigon events\r\n[INFO] [07-23|23:09:21.269] new subscription to newHeaders established\r\n[INFO] [07-23|23:09:21.269] New txs subscriber joined\r\n[INFO] [07-23|23:09:21.269] Reading JWT secret                       path=/mnt/storage/ansible-managed/ethereum/jwt.hex\r\n[INFO] [07-23|23:09:21.270] HTTP endpoint opened for Engine API      url=127.0.0.1:8551 ws=true ws.compression=true\r\n[INFO] [07-23|23:09:21.270] HTTP endpoint opened                     url=127.0.0.1:8545 ws=false ws.compression=true grpc=false\r\n[INFO] [07-23|23:09:21.275] Started P2P networking                   version=68 self=enode://8029b30e80b12b7c9a2255bcb30b23066232397ac191a146610c5c5ac4f03cbb4b670b98a89a52422a0eb54cac90aea39c9fe99fb066958c6cd084cd6da9c1b5@127.0.0.1:0 name=erigon/v2.48.0/linux-amd64/go1.20.5\r\n[INFO] [07-23|23:09:21.278] Started P2P networking                   version=67 self=enode://8029b30e80b12b7c9a2255bcb30b23066232397ac191a146610c5c5ac4f03cbb4b670b98a89a52422a0eb54cac90aea39c9fe99fb066958c6cd084cd6da9c1b5@127.0.0.1:0 name=erigon/v2.48.0/linux-amd64/go1.20.5\r\n[INFO] [07-23|23:09:21.279] [txpool] Started\r\n[INFO] [07-23|23:09:21.324] [1/15 Snapshots] Fetching torrent files metadata\r\n[INFO] [07-23|22:03:59.160] Started Ethereum 2.0 Gossip Service\r\n[INFO] [07-23|22:03:59.255] [snapshots] Blocks Stat                  blocks=3855k indices=3855k alloc=152.1MB sys=219.4MB\r\n[INFO] [07-23|22:03:59.256] [2/15 Headers] Waiting for Consensus Layer...\r\n[EROR] [07-23|22:04:56.859] [pubsubhandler] stream handler           name=/eth2/beacon_chain/req/status/1/ssz_snappy err=\"unable to read varint from message prefix: stream reset\"\r\n[INFO] [07-23|22:04:59.067] [txpool] stat                            pending=10 baseFee=0 queued=331 alloc=372.1MB sys=499.6MB\r\n[INFO] [07-23|22:04:59.160] [Caplin] P2P                             peers=3\r\n[INFO] [07-23|22:05:56.131] [p2p] GoodPeers                          eth67=5 eth68=1\r\n[INFO] [07-23|22:05:59.068] [txpool] stat                            pending=23 baseFee=0 queued=512 alloc=217.1MB sys=500.1MB\r\n[INFO] [07-23|22:05:59.161] [Caplin] P2P                             peers=4\r\n[INFO] [07-23|22:06:59.067] [txpool] stat                            pending=42 baseFee=0 queued=712 alloc=263.2MB sys=544.8MB\r\n[INFO] [07-23|22:06:59.160] [Caplin] P2P                             peers=5\r\n[INFO] [07-23|22:07:56.131] [p2p] GoodPeers                          eth68=1 eth67=5\r\n[INFO] [07-23|22:07:59.067] [txpool] stat                            pending=56 baseFee=0 queued=888 alloc=316.1MB sys=570.2MB\r\n[INFO] [07-23|22:07:59.160] [Caplin] P2P                             peers=6\r\n[INFO] [07-23|22:08:59.067] [txpool] stat                            pending=75 baseFee=0 queued=1076 alloc=240.6MB sys=676.0MB\r\n[INFO] [07-23|22:08:59.161] [Caplin] P2P                             peers=6\r\n[EROR] [07-23|22:09:16.573] [pubsubhandler] stream handler           name=/eth2/beacon_chain/req/status/1/ssz_snappy err=\"unable to read varint from message prefix: stream reset\"\r\n[INFO] [07-23|22:09:56.131] [p2p] GoodPeers                          eth68=2 eth67=5\r\n[INFO] [07-23|22:09:59.067] [txpool] stat                            pending=102 baseFee=0 queued=1254 alloc=230.3MB sys=676.3MB\r\n[INFO] [07-23|22:09:59.161] [Caplin] P2P                             peers=5\r\n[INFO] [07-23|22:10:59.068] [txpool] stat                            pending=131 baseFee=0 queued=1425 alloc=251.4MB sys=676.5MB\r\n[INFO] [07-23|22:10:59.161] [Caplin] P2P                             peers=6\r\n[INFO] [07-23|22:11:56.131] [p2p] GoodPeers                          eth68=3 eth67=6\r\n[INFO] [07-23|22:11:59.067] [txpool] stat                            pending=151 baseFee=0 queued=1589 alloc=285.6MB sys=676.5MB\r\n[INFO] [07-23|22:11:59.160] [Caplin] P2P                             peers=7\r\n[INFO] [07-23|22:12:59.067] [txpool] stat                            pending=173 baseFee=0 queued=1793 alloc=259.0MB sys=676.8MB\r\n[INFO] [07-23|22:12:59.160] [Caplin] P2P                             peers=8\r\n[INFO] [07-23|22:13:56.131] [p2p] GoodPeers                          eth68=3 eth67=6\r\n[INFO] [07-23|22:13:59.067] [txpool] stat                            pending=187 baseFee=0 queued=1985 alloc=364.8MB sys=676.8MB\r\n[INFO] [07-23|22:13:59.160] [Caplin] P2P                             peers=8\r\n[INFO] [07-23|22:14:59.069] [txpool] stat                            pending=205 baseFee=0 queued=2146 alloc=315.2MB sys=676.8MB\r\n[INFO] [07-23|22:14:59.160] [Caplin] P2P                             peers=11\r\n[EROR] [07-23|22:15:52.117] [pubsubhandler] stream handler           name=/eth2/beacon_chain/req/status/1/ssz_snappy err=\"unable to read varint from message prefix: stream reset\"\r\n[INFO] [07-23|22:15:56.131] [p2p] GoodPeers                          eth68=4 eth67=6\r\n[INFO] [07-23|22:15:59.067] [txpool] stat                            pending=223 baseFee=0 queued=2331 alloc=472.8MB sys=677.0MB\r\n[INFO] [07-23|22:15:59.161] [Caplin] P2P                             peers=9\r\n[INFO] [07-23|22:16:59.067] [txpool] stat                            pending=247 baseFee=0 queued=2536 alloc=379.9MB sys=677.3MB\r\n[INFO] [07-23|22:16:59.160] [Caplin] P2P                             peers=14\r\n[INFO] [07-23|22:17:56.131] [p2p] GoodPeers                          eth68=6 eth67=6 eth66=1\r\n[INFO] [07-23|22:17:59.068] [txpool] stat                            pending=269 baseFee=0 queued=2725 alloc=263.4MB sys=677.3MB\r\n[INFO] [07-23|22:17:59.161] [Caplin] P2P                             peers=16\r\n[INFO] [07-23|22:18:59.067] [txpool] stat                            pending=289 baseFee=0 queued=3014 alloc=423.3MB sys=677.3MB\r\n[INFO] [07-23|22:18:59.160] [Caplin] P2P                             peers=21\r\n[INFO] [07-23|22:19:56.131] [p2p] GoodPeers                          eth68=8 eth67=7 eth66=1\r\n[INFO] [07-23|22:19:59.068] [txpool] stat                            pending=310 baseFee=0 queued=3188 alloc=316.4MB sys=677.3MB\r\n[INFO] [07-23|22:19:59.161] [Caplin] P2P                             peers=18\r\n[INFO] [07-23|22:20:59.067] [txpool] stat                            pending=323 baseFee=0 queued=3360 alloc=369.3MB sys=677.3MB\r\n[INFO] [07-23|22:20:59.160] [Caplin] P2P                             peers=14\r\n[EROR] [07-23|22:21:46.335] [pubsubhandler] stream handler           name=/eth2/beacon_chain/req/status/1/ssz_snappy err=\"unable to read varint from message prefix: stream reset\"\r\n[INFO] [07-23|22:21:56.131] [p2p] GoodPeers                          eth68=8 eth67=7 eth66=1\r\n[INFO] [07-23|22:21:59.067] [txpool] stat                            pending=347 baseFee=0 queued=3532 alloc=354.2MB sys=677.3MB\r\n[INFO] [07-23|22:21:59.160] [Caplin] P2P                             peers=12\r\n[EROR] [07-23|22:21:59.920] [pubsubhandler] stream handler           name=/eth2/beacon_chain/req/status/1/ssz_snappy err=\"unable to read varint from message prefix: stream reset\"\r\n[INFO] [07-23|22:22:59.067] [txpool] stat                            pending=367 baseFee=0 queued=3718 alloc=274.9MB sys=677.3MB\r\n[INFO] [07-23|22:22:59.161] [Caplin] P2P                             peers=12\r\n[INFO] [07-23|22:23:56.131] [p2p] GoodPeers                          eth68=8 eth67=7 eth66=1\r\n[INFO] [07-23|22:23:59.067] [txpool] stat                            pending=395 baseFee=0 queued=3902 alloc=273.2MB sys=677.3MB\r\n[INFO] [07-23|22:23:59.160] [Caplin] P2P                             peers=13\r\n[INFO] [07-23|22:24:59.067] [txpool] stat                            pending=430 baseFee=0 queued=4068 alloc=318.3MB sys=686.4MB\r\n[INFO] [07-23|22:24:59.161] [Caplin] P2P                             peers=13\r\n[INFO] [07-23|22:25:56.131] [p2p] GoodPeers                          eth66=1 eth67=7 eth68=8\r\n[INFO] [07-23|22:25:59.068] [txpool] stat                            pending=451 baseFee=0 queued=4222 alloc=396.7MB sys=702.4MB\r\n[INFO] [07-23|22:25:59.160] [Caplin] P2P                             peers=15\r\n[INFO] [07-23|22:26:59.067] [txpool] stat                            pending=472 baseFee=0 queued=4337 alloc=316.3MB sys=702.4MB\r\n[INFO] [07-23|22:26:59.160] [Caplin] P2P                             peers=20\r\n[INFO] [07-23|22:27:56.131] [p2p] GoodPeers                          eth68=8 eth67=8 eth66=1\r\n[INFO] [07-23|22:27:59.067] [txpool] stat                            pending=503 baseFee=0 queued=4445 alloc=463.4MB sys=702.4MB\r\n[INFO] [07-23|22:27:59.160] [Caplin] P2P                             peers=16\r\n[EROR] [07-23|22:28:33.017] [pubsubhandler] stream handler           name=/eth2/beacon_chain/req/status/1/ssz_snappy err=\"unable to read varint from message prefix: stream reset\"\r\n[INFO] [07-23|22:28:59.068] [txpool] stat                            pending=516 baseFee=0 queued=4528 alloc=257.5MB sys=702.4MB\r\n[INFO] [07-23|22:28:59.161] [Caplin] P2P                             peers=14\r\n[INFO] [07-23|22:29:20.260] Got interrupt, shutting down...\r\nStopping Erigon execution client...\r\n```\r\n",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/7923/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/7923/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1647083785",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/7923#issuecomment-1647083785",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/7923",
    "id": 1647083785,
    "node_id": "IC_kwDOC0FsAM5iLIEJ",
    "user": {
      "login": "wmitsuda",
      "id": 28685,
      "node_id": "MDQ6VXNlcjI4Njg1",
      "avatar_url": "https://avatars.githubusercontent.com/u/28685?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/wmitsuda",
      "html_url": "https://github.com/wmitsuda",
      "followers_url": "https://api.github.com/users/wmitsuda/followers",
      "following_url": "https://api.github.com/users/wmitsuda/following{/other_user}",
      "gists_url": "https://api.github.com/users/wmitsuda/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/wmitsuda/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/wmitsuda/subscriptions",
      "organizations_url": "https://api.github.com/users/wmitsuda/orgs",
      "repos_url": "https://api.github.com/users/wmitsuda/repos",
      "events_url": "https://api.github.com/users/wmitsuda/events{/privacy}",
      "received_events_url": "https://api.github.com/users/wmitsuda/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-07-24T01:53:36Z",
    "updated_at": "2023-07-24T01:53:36Z",
    "author_association": "COLLABORATOR",
    "body": "I saw something similar, a couple of restarts fixed the issue by itself, I think for some reason caplin internal process is not starting sometimes, when it works you can see a ethereum 2.0 like log message.",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1647083785/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1647433776",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/7923#issuecomment-1647433776",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/7923",
    "id": 1647433776,
    "node_id": "IC_kwDOC0FsAM5iMdgw",
    "user": {
      "login": "mike-code",
      "id": 2964642,
      "node_id": "MDQ6VXNlcjI5NjQ2NDI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2964642?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mike-code",
      "html_url": "https://github.com/mike-code",
      "followers_url": "https://api.github.com/users/mike-code/followers",
      "following_url": "https://api.github.com/users/mike-code/following{/other_user}",
      "gists_url": "https://api.github.com/users/mike-code/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mike-code/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mike-code/subscriptions",
      "organizations_url": "https://api.github.com/users/mike-code/orgs",
      "repos_url": "https://api.github.com/users/mike-code/repos",
      "events_url": "https://api.github.com/users/mike-code/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mike-code/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-07-24T08:17:29Z",
    "updated_at": "2023-07-24T08:44:59Z",
    "author_association": "NONE",
    "body": "> I saw something similar, a couple of restarts fixed the issue by itself, I think for some reason caplin internal process is not starting sometimes, when it works you can see a ethereum 2.0 like log message.\r\n\r\nI've tried that a few times, but without luck. Is there some minimum number of peers needed for sync to start?\r\n\r\nI guess the \"fix\" now is to use external CL -- I've tried prysm and it pushed through",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1647433776/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1649984465",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/7923#issuecomment-1649984465",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/7923",
    "id": 1649984465,
    "node_id": "IC_kwDOC0FsAM5iWMPR",
    "user": {
      "login": "Giulio2002",
      "id": 29233688,
      "node_id": "MDQ6VXNlcjI5MjMzNjg4",
      "avatar_url": "https://avatars.githubusercontent.com/u/29233688?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Giulio2002",
      "html_url": "https://github.com/Giulio2002",
      "followers_url": "https://api.github.com/users/Giulio2002/followers",
      "following_url": "https://api.github.com/users/Giulio2002/following{/other_user}",
      "gists_url": "https://api.github.com/users/Giulio2002/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Giulio2002/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Giulio2002/subscriptions",
      "organizations_url": "https://api.github.com/users/Giulio2002/orgs",
      "repos_url": "https://api.github.com/users/Giulio2002/repos",
      "events_url": "https://api.github.com/users/Giulio2002/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Giulio2002/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-07-25T14:45:57Z",
    "updated_at": "2023-07-25T14:45:57Z",
    "author_association": "COLLABORATOR",
    "body": "so we have a bunch of pre used checkpoint sync URLs, I had problems with them on Sepolia. will take a look",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1649984465/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1650424709",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/7923#issuecomment-1650424709",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/7923",
    "id": 1650424709,
    "node_id": "IC_kwDOC0FsAM5iX3uF",
    "user": {
      "login": "wmitsuda",
      "id": 28685,
      "node_id": "MDQ6VXNlcjI4Njg1",
      "avatar_url": "https://avatars.githubusercontent.com/u/28685?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/wmitsuda",
      "html_url": "https://github.com/wmitsuda",
      "followers_url": "https://api.github.com/users/wmitsuda/followers",
      "following_url": "https://api.github.com/users/wmitsuda/following{/other_user}",
      "gists_url": "https://api.github.com/users/wmitsuda/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/wmitsuda/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/wmitsuda/subscriptions",
      "organizations_url": "https://api.github.com/users/wmitsuda/orgs",
      "repos_url": "https://api.github.com/users/wmitsuda/repos",
      "events_url": "https://api.github.com/users/wmitsuda/events{/privacy}",
      "received_events_url": "https://api.github.com/users/wmitsuda/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-07-25T19:38:30Z",
    "updated_at": "2023-07-25T19:38:30Z",
    "author_association": "COLLABORATOR",
    "body": "ah, just for the record, I've seen it on mainnet",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1650424709/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1650859429",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/7923#issuecomment-1650859429",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/7923",
    "id": 1650859429,
    "node_id": "IC_kwDOC0FsAM5iZh2l",
    "user": {
      "login": "Giulio2002",
      "id": 29233688,
      "node_id": "MDQ6VXNlcjI5MjMzNjg4",
      "avatar_url": "https://avatars.githubusercontent.com/u/29233688?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Giulio2002",
      "html_url": "https://github.com/Giulio2002",
      "followers_url": "https://api.github.com/users/Giulio2002/followers",
      "following_url": "https://api.github.com/users/Giulio2002/following{/other_user}",
      "gists_url": "https://api.github.com/users/Giulio2002/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Giulio2002/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Giulio2002/subscriptions",
      "organizations_url": "https://api.github.com/users/Giulio2002/orgs",
      "repos_url": "https://api.github.com/users/Giulio2002/repos",
      "events_url": "https://api.github.com/users/Giulio2002/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Giulio2002/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-07-26T02:01:12Z",
    "updated_at": "2023-07-26T02:01:12Z",
    "author_association": "COLLABORATOR",
    "body": "some things to add, i think the solution is better logging, the CL is doing something but if checkpoint is too far, it may go silent for a long time.",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1650859429/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1660806990",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/7923#issuecomment-1660806990",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/7923",
    "id": 1660806990,
    "node_id": "IC_kwDOC0FsAM5i_edO",
    "user": {
      "login": "clamcy",
      "id": 44613348,
      "node_id": "MDQ6VXNlcjQ0NjEzMzQ4",
      "avatar_url": "https://avatars.githubusercontent.com/u/44613348?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/clamcy",
      "html_url": "https://github.com/clamcy",
      "followers_url": "https://api.github.com/users/clamcy/followers",
      "following_url": "https://api.github.com/users/clamcy/following{/other_user}",
      "gists_url": "https://api.github.com/users/clamcy/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/clamcy/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/clamcy/subscriptions",
      "organizations_url": "https://api.github.com/users/clamcy/orgs",
      "repos_url": "https://api.github.com/users/clamcy/repos",
      "events_url": "https://api.github.com/users/clamcy/events{/privacy}",
      "received_events_url": "https://api.github.com/users/clamcy/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-08-01T17:45:09Z",
    "updated_at": "2023-08-02T01:59:05Z",
    "author_association": "NONE",
    "body": "Update\r\nNot stuck, just no progress during PoS header downloading.\r\nSee Giulio's comment https://github.com/ledgerwatch/erigon/issues/7923#issuecomment-1650859429\r\n\r\nMe too, encountering the similar problem on the sepolia testnet.\r\n\r\nIn the past 7 hours, the number of p2p peers keeps changing, no further progress.\r\nThe eth.blockNumber did not change, `eth.blockNumber == 3997098`, and `eth.syncing == false`\r\nAlso happend after\r\n```log\r\n[2/15 Headers] Waiting for Consensus Layer...\r\n```\r\n\r\nHere is the command line arguments passed to erigon, I have also tried using `--internalcl=true`, no difference.\r\n```bash\r\nerigon \\\r\n    --internalcl \\\r\n    --chain=sepolia \\\r\n    --prune=hrtc \\\r\n    --http.addr=0.0.0.0 \\\r\n    --snapshots=true \\\r\n    --verbosity=5\r\n```\r\n\r\nSome history logs below which might help:\r\n```log\r\nINFO[..] [Caplin] P2P  peers=24  \r\nEROR[..] [pubsubhandler] stream handler  name=/eth2/beacon_chain/req/status/1/ssz_snappy err=\"unable to read varint from message prefix: stream reset\" \r\nEROR[..] [pubsubhandler] stream handler  name=/eth2/beacon_chain/req/status/1/ssz_snappy err=\"unable to read varint from message prefix: stream reset\" \r\nINFO[..] [p2p] GoodPeers  eth68=9 eth67=9  \r\nINFO[..] [txpool] stat  pending=10000 baseFee=0 queued=30000 alloc=245.2MB sys=744.3MB  \r\nINFO[..] [Caplin] P2P  peers=18  \r\nINFO[..] [txpool] stat  pending=10000 baseFee=0 queued=30000 alloc=457.1MB sys=744.3MB  \r\nINFO[..] [Caplin] P2P  peers=20  \r\nEROR[..] [pubsubhandler] stream handler  name=/eth2/beacon_chain/req/status/1/ssz_snappy err=\"unable to read varint from message prefix: stream reset\" \r\nEROR[..] [pubsubhandler] stream handler  name=/eth2/beacon_chain/req/status/1/ssz_snappy err=\"unable to read varint from message prefix: stream reset\" \r\nEROR[..] [pubsubhandler] stream handler  name=/eth2/beacon_chain/req/status/1/ssz_snappy err=\"unable to read varint from message prefix: stream reset\" \r\nINFO[..] [p2p] GoodPeers  eth68=10 eth67=9  \r\nINFO[..] [txpool] stat  pending=10000 baseFee=0 queued=30000 alloc=428.1MB sys=744.3MB  \r\nINFO[..] [Caplin] P2P  peers=20  \r\nEROR[..] [pubsubhandler] stream handler  name=/eth2/beacon_chain/req/status/1/ssz_snappy err=\"unable to read varint from message prefix: stream reset\" \r\nEROR[..] [pubsubhandler] stream handler  name=/eth2/beacon_chain/req/status/1/ssz_snappy err=\"unable to read varint from message prefix: stream reset\" \r\nINFO[..] [txpool] stat  pending=10000 baseFee=0 queued=30000 alloc=420.8MB sys=744.3MB  \r\nINFO[..] [Caplin] P2P  peers=22  \r\nEROR[..] [pubsubhandler] stream handler  name=/eth2/beacon_chain/req/status/1/ssz_snappy err=\"unable to read varint from message prefix: stream reset\" \r\nINFO[..] [p2p] GoodPeers  eth68=10 eth67=9  \r\nINFO[..] [txpool] stat  pending=10000 baseFee=0 queued=30000 alloc=380.3MB sys=744.3MB  \r\nINFO[..] [Caplin] P2P  peers=20  \r\nINFO[..] [txpool] stat  pending=10000 baseFee=0 queued=30000 alloc=322.1MB sys=744.3MB\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1660806990/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1660877103",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/7923#issuecomment-1660877103",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/7923",
    "id": 1660877103,
    "node_id": "IC_kwDOC0FsAM5i_vkv",
    "user": {
      "login": "clamcy",
      "id": 44613348,
      "node_id": "MDQ6VXNlcjQ0NjEzMzQ4",
      "avatar_url": "https://avatars.githubusercontent.com/u/44613348?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/clamcy",
      "html_url": "https://github.com/clamcy",
      "followers_url": "https://api.github.com/users/clamcy/followers",
      "following_url": "https://api.github.com/users/clamcy/following{/other_user}",
      "gists_url": "https://api.github.com/users/clamcy/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/clamcy/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/clamcy/subscriptions",
      "organizations_url": "https://api.github.com/users/clamcy/orgs",
      "repos_url": "https://api.github.com/users/clamcy/repos",
      "events_url": "https://api.github.com/users/clamcy/events{/privacy}",
      "received_events_url": "https://api.github.com/users/clamcy/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-08-01T18:36:43Z",
    "updated_at": "2023-08-01T18:36:43Z",
    "author_association": "NONE",
    "body": "Tried the devel branch, and core dumped.\r\nMaybe the following logs could help locating the problem.\r\n\r\n```log\r\nINFO[..] [2/14 Headers] Waiting for Consensus Layer... \r\nINFO[..] Started P2P networking   version=67 self=enode://d4551...28e6@127.0.0.1:0 name=erigon/v2.49.0-dev-e4612fd6/linux-amd64/go1.20.3\r\nINFO[..] Started P2P networking   version=68 self=enode://d4551...28e6@127.0.0.1:0 name=erigon/v2.49.0-dev-e4612fd6/linux-amd64/go1.20.3\r\nINFO[..] [txpool] stat  pending=0 baseFee=0 queued=37 alloc=172.5MB sys=329.3MB\r\nINFO[..] [Caplin] P2P   peers=7\r\npanic: runtime error: invalid memory address or nil pointer dereference\r\n[signal SIGSEGV: segmentation violation code=0x1 addr=0x0 pc=0x185b255]\r\n\r\ngoroutine 2086 [running]:\r\ngithub.com/ledgerwatch/erigon/cl/phase1/execution_client.(*ExecutionClientDirect).NewPayload(0x0, 0xc000ecc900, 0x3afc82fb7a85a884?)\r\n  github.com/ledgerwatch/erigon/cl/phase1/execution_client/execution_client_direct.go:79 +0x6d5\r\ngithub.com/ledgerwatch/erigon/cl/phase1/forkchoice.(*ForkChoiceStore).OnBlock(0xc00a74ea80, 0xc00a69d960, 0x1, 0xf1?)\r\n  github.com/ledgerwatch/erigon/cl/phase1/forkchoice/on_block.go:50 +0x2cb\r\ngithub.com/ledgerwatch/erigon/cl/phase1/stages.startDownloadService.func1(0x545553?, {0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, ...}, ...)\r\n  github.com/ledgerwatch/erigon/cl/phase1/stages/stage_fork_choice.go:114 +0x149\r\ngithub.com/ledgerwatch/erigon/cl/phase1/network.(*ForwardBeaconDownloader).RequestMore(0xc00646e1e0, {0x2caa450?, 0xc00ab405d0?})\r\n  github.com/ledgerwatch/erigon/cl/phase1/network/beacon_downloader.go:83 +0x184\r\ngithub.com/ledgerwatch/erigon/cl/phase1/stages.startDownloadService(0x4376e8?, {{0x0, 0x0}, 0xc00646e1e0, 0xc005fe4ed0, 0xc003578000, 0x0, 0xc00b0c54a0, 0xc0076ba000, 0xc00a74ea80, ...})\r\n  github.com/ledgerwatch/erigon/cl/phase1/stages/stage_fork_choice.go:204 +0x512\r\ngithub.com/ledgerwatch/erigon/cl/phase1/stages.SpawnStageForkChoice({{0x0, 0x0}, 0xc00646e1e0, 0xc005fe4ed0, 0xc003578000, 0x0, 0xc00b0c54a0, 0xc0076ba000, 0xc00a74ea80, {0x0, ...}}, ...)\r\n  github.com/ledgerwatch/erigon/cl/phase1/stages/stage_fork_choice.go:94 +0x286\r\ngithub.com/ledgerwatch/erigon/cmd/caplin-phase1/caplin1.RunCaplinPhase1({0x2caa3e0?, 0xc0010eaf00}, {0x2cb1a50?, 0xc005e038e0}, 0xc003578000, 0xc005fe4ed0, {0x2c9e9c0, 0x0}, 0xc00b0c54a0, {0x0, ...})\r\n  github.com/ledgerwatch/erigon/cmd/caplin-phase1/caplin1/run.go:47 +0x54a\r\ncreated by github.com/ledgerwatch/erigon/eth.New\r\n  github.com/ledgerwatch/erigon/eth/backend.go:636 +0x3df8\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1660877103/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1661367251",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/7923#issuecomment-1661367251",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/7923",
    "id": 1661367251,
    "node_id": "IC_kwDOC0FsAM5jBnPT",
    "user": {
      "login": "clamcy",
      "id": 44613348,
      "node_id": "MDQ6VXNlcjQ0NjEzMzQ4",
      "avatar_url": "https://avatars.githubusercontent.com/u/44613348?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/clamcy",
      "html_url": "https://github.com/clamcy",
      "followers_url": "https://api.github.com/users/clamcy/followers",
      "following_url": "https://api.github.com/users/clamcy/following{/other_user}",
      "gists_url": "https://api.github.com/users/clamcy/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/clamcy/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/clamcy/subscriptions",
      "organizations_url": "https://api.github.com/users/clamcy/orgs",
      "repos_url": "https://api.github.com/users/clamcy/repos",
      "events_url": "https://api.github.com/users/clamcy/events{/privacy}",
      "received_events_url": "https://api.github.com/users/clamcy/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-08-02T01:53:33Z",
    "updated_at": "2023-08-02T01:53:33Z",
    "author_association": "NONE",
    "body": "> some things to add, i think the solution is better logging, the CL is doing something but if checkpoint is too far, it may go silent for a long time.\r\n\r\nYou are right, the CL was working.\r\nI left the erigon (stable branch) running, and now it is OK, the sync is now pushing forward.\r\nThe log shows that downloading the PoS header took 6 hours and 34 minutes.\r\nBefore the download was completed, there was no log output related to the progress, so it looks like the program was frozen.\r\n\r\n```log\r\nINFO[...] [Caplin] P2P   peers=13  \r\nEROR[...] [pubsubhandler] stream handler   name=/eth2/beacon_chain/req/status/1/ssz_snappy err=\"unable to read varint from message prefix: stream reset\"\r\nINFO[...] [2/15 Headers] Downloading PoS headers... height=unknown hash=0xb9c205d978a8d90cabea38e83260d79eac6c8ee813c58aad837b46a90627785b requestId=1  \r\nINFO[...] [2/15 Headers] DONE  in=6h34m19.308105345s  \r\nINFO[...] Timings (slower than 50ms)   Snapshots=81ms Headers=6h34m19.308s TxLookup=58ms  \r\nINFO[...] Tables   PlainState=5.1GB AccountChangeSet=432.1MB StorageChangeSet=965.4MB BlockTransaction=54.0GB TransactionLog=29.1GB FreeList=2\r\n.4MB ....9GB  \r\nINFO[...] [snapshots] Blocks Stat  blocks=3565k indices=3565k alloc=487.6MB sys=1.1GB   \r\nINFO[...] [txpool] stat  pending=3991 baseFee=0 queued=30000 alloc=498.4MB sys=1.1GB  \r\nINFO[...] [Caplin] P2P   peers=15  \r\nEROR[...] [pubsubhandler] stream handler   name=/eth2/beacon_chain/req/status/1/ssz_snappy err=\"unable to read varint from message prefix: stream reset\"\r\nINFO[...] [p2p] GoodPeers  eth68=11 eth67=14   \r\nINFO[...] [txpool] stat  pending=4002 baseFee=0 queued=30000 alloc=731.6MB sys=1.1GB  \r\nINFO[...] [Caplin] P2P   peers=24  \r\nINFO[...] [downloader] Downloaded PoS Headers  now=4008716 blk/sec=6.400  \r\nINFO[...] [downloader] Downloaded PoS Headers  now=4008524 blk/sec=6.400\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1661367251/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1683609738",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/7923#issuecomment-1683609738",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/7923",
    "id": 1683609738,
    "node_id": "IC_kwDOC0FsAM5kWdiK",
    "user": {
      "login": "Zorato",
      "id": 2941327,
      "node_id": "MDQ6VXNlcjI5NDEzMjc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2941327?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Zorato",
      "html_url": "https://github.com/Zorato",
      "followers_url": "https://api.github.com/users/Zorato/followers",
      "following_url": "https://api.github.com/users/Zorato/following{/other_user}",
      "gists_url": "https://api.github.com/users/Zorato/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Zorato/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Zorato/subscriptions",
      "organizations_url": "https://api.github.com/users/Zorato/orgs",
      "repos_url": "https://api.github.com/users/Zorato/repos",
      "events_url": "https://api.github.com/users/Zorato/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Zorato/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-08-18T09:12:12Z",
    "updated_at": "2023-08-18T09:12:12Z",
    "author_association": "NONE",
    "body": "Got the same issue on ETH mainnet when running Caplin\r\n```\r\n[INFO] [08-17|12:42:21.205] [p2p] GoodPeers                          eth68=100 eth67=33\r\n[INFO] [08-17|12:42:24.449] [txpool] stat                            pending=10000 baseFee=30000 queued=30000 alloc=5.8GB sys=14.6GB\r\n[INFO] [08-17|12:42:53.112] [Caplin] P2P                             peers=33\r\n[INFO] [08-17|12:43:24.453] [txpool] stat                            pending=10000 baseFee=30000 queued=30000 alloc=7.7GB sys=14.6GB\r\n[INFO] [08-17|12:43:53.113] [Caplin] P2P                             peers=33\r\n[INFO] [08-17|12:44:21.205] [p2p] GoodPeers                          eth68=100 eth67=33\r\n[INFO] [08-17|12:44:24.451] [txpool] stat                            pending=10000 baseFee=30000 queued=30000 alloc=5.7GB sys=14.6GB\r\n[INFO] [08-17|12:44:53.112] [Caplin] P2P                             peers=33\r\n[INFO] [08-17|12:45:24.453] [txpool] stat                            pending=10000 baseFee=30000 queued=30000 alloc=7.5GB sys=14.6GB\r\n[INFO] [08-17|12:45:53.113] [Caplin] P2P                             peers=33\r\n[INFO] [08-17|12:46:21.205] [p2p] GoodPeers                          eth68=100 eth67=33\r\n[INFO] [08-17|12:46:24.450] [txpool] stat                            pending=10000 baseFee=30000 queued=30000 alloc=5.7GB sys=14.6GB\r\n[INFO] [08-17|12:46:51.691] new subscription to newHeaders established \r\n[INFO] [08-17|12:46:51.691] New txs subscriber joined \r\n[INFO] [08-17|12:46:53.113] [Caplin] P2P                             peers=33\r\n[INFO] [08-17|12:47:24.453] [txpool] stat                            pending=10000 baseFee=30000 queued=30000 alloc=7.6GB sys=14.6GB\r\n[INFO] [08-17|12:47:53.113] [Caplin] P2P                             peers=33\r\n[INFO] [08-17|12:48:21.205] [p2p] GoodPeers                          eth68=100 eth67=33\r\n[INFO] [08-17|12:48:24.453] [txpool] stat                            pending=10000 baseFee=30000 queued=30000 alloc=5.7GB sys=14.6GB\r\n[INFO] [08-17|12:48:53.112] [Caplin] P2P                             peers=33\r\n[INFO] [08-17|12:49:24.452] [txpool] stat                            pending=10000 baseFee=30000 queued=30000 alloc=7.7GB sys=14.6GB\r\n[INFO] [08-17|12:49:53.113] [Caplin] P2P                             peers=33\r\n[INFO] [08-17|12:50:21.205] [p2p] GoodPeers                          eth68=100 eth67=33\r\n[INFO] [08-17|12:50:24.453] [txpool] stat                            pending=10000 baseFee=30000 queued=30000 alloc=5.6GB sys=14.6GB\r\n[INFO] [08-17|12:50:53.112] [Caplin] P2P                             peers=33\r\n[INFO] [08-17|12:51:24.453] [txpool] stat                            pending=10000 baseFee=30000 queued=30000 alloc=7.7GB sys=14.6GB\r\n[INFO] [08-17|12:51:53.113] [Caplin] P2P                             peers=33\r\n[INFO] [08-17|12:52:01.886] New txs subscriber joined \r\n[INFO] [08-17|12:52:01.886] new subscription to newHeaders established \r\n[INFO] [08-17|12:52:21.205] [p2p] GoodPeers                          eth68=100 eth67=33\r\n[INFO] [08-17|12:52:24.453] [txpool] stat                            pending=10000 baseFee=30000 queued=30000 alloc=5.6GB sys=14.6GB\r\n[INFO] [08-17|12:52:53.113] [Caplin] P2P                             peers=33\r\n[INFO] [08-17|12:53:24.460] [txpool] stat                            pending=10000 baseFee=30000 queued=30000 alloc=7.5GB sys=14.6GB\r\n[INFO] [08-17|12:53:53.112] [Caplin] P2P                             peers=33\r\n[INFO] [08-17|12:54:21.205] [p2p] GoodPeers                          eth68=100 eth67=33\r\n[INFO] [08-17|12:54:24.454] [txpool] stat                            pending=10000 baseFee=30000 queued=30000 alloc=5.6GB sys=14.6GB\r\n[INFO] [08-17|12:54:53.113] [Caplin] P2P                             peers=33\r\n[INFO] [08-17|12:55:24.453] [txpool] stat                            pending=10000 baseFee=30000 queued=30000 alloc=7.6GB sys=14.6GB\r\n[INFO] [08-17|12:55:53.112] [Caplin] P2P                             peers=33\r\n[INFO] [08-17|12:56:21.205] [p2p] GoodPeers                          eth68=100 eth67=33\r\n[INFO] [08-17|12:56:24.449] [txpool] stat                            pending=10000 baseFee=30000 queued=30000 alloc=5.6GB sys=14.6GB\r\n```\r\nJust suddenly stops importing new blocks, keeps stalling for a few hours, then gets back to business. Restarting erigon helps.",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1683609738/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1738338899",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/7923#issuecomment-1738338899",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/7923",
    "id": 1738338899,
    "node_id": "IC_kwDOC0FsAM5nnPJT",
    "user": {
      "login": "github-actions[bot]",
      "id": 41898282,
      "node_id": "MDM6Qm90NDE4OTgyODI=",
      "avatar_url": "https://avatars.githubusercontent.com/in/15368?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/github-actions%5Bbot%5D",
      "html_url": "https://github.com/apps/github-actions",
      "followers_url": "https://api.github.com/users/github-actions%5Bbot%5D/followers",
      "following_url": "https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}",
      "gists_url": "https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/github-actions%5Bbot%5D/subscriptions",
      "organizations_url": "https://api.github.com/users/github-actions%5Bbot%5D/orgs",
      "repos_url": "https://api.github.com/users/github-actions%5Bbot%5D/repos",
      "events_url": "https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}",
      "received_events_url": "https://api.github.com/users/github-actions%5Bbot%5D/received_events",
      "type": "Bot",
      "site_admin": false
    },
    "created_at": "2023-09-28T02:09:36Z",
    "updated_at": "2023-09-28T02:09:36Z",
    "author_association": "NONE",
    "body": "This issue is stale because it has been open for 40 days with no activity. Remove stale label or comment, or this will be closed in 7 days.",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1738338899/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
