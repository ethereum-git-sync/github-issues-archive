{
  "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/2569",
  "repository_url": "https://api.github.com/repos/ledgerwatch/erigon",
  "labels_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/2569/labels{/name}",
  "comments_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/2569/comments",
  "events_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/2569/events",
  "html_url": "https://github.com/ledgerwatch/erigon/issues/2569",
  "id": 976726303,
  "node_id": "MDU6SXNzdWU5NzY3MjYzMDM=",
  "number": 2569,
  "title": "Storage requirement 2.5x larger than geth? ",
  "user": {
    "login": "egorFiNE",
    "id": 251654,
    "node_id": "MDQ6VXNlcjI1MTY1NA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/251654?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/egorFiNE",
    "html_url": "https://github.com/egorFiNE",
    "followers_url": "https://api.github.com/users/egorFiNE/followers",
    "following_url": "https://api.github.com/users/egorFiNE/following{/other_user}",
    "gists_url": "https://api.github.com/users/egorFiNE/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/egorFiNE/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/egorFiNE/subscriptions",
    "organizations_url": "https://api.github.com/users/egorFiNE/orgs",
    "repos_url": "https://api.github.com/users/egorFiNE/repos",
    "events_url": "https://api.github.com/users/egorFiNE/events{/privacy}",
    "received_events_url": "https://api.github.com/users/egorFiNE/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 17,
  "created_at": "2021-08-23T07:36:58Z",
  "updated_at": "2023-02-08T05:11:34Z",
  "closed_at": "2021-08-23T09:55:43Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "Seems like erigon takes about 2.5 times more disk space than geth. \r\n\r\nThis is how I run erigon and geth: \r\n\r\n`./erigon/build/bin/erigon --datadir /mnt/erigon/ropsten --chain ropsten --prune=hrtc`\r\n\r\n`geth --datadir /mnt/geth/ropsten --ropsten --http --http.api <...>`\r\n\r\nAnd this is the disk space occupied: \r\n\r\n```\r\n291G\t/mnt/erigon/ropsten\r\n113G\t/mnt/geth/ropsten\r\n```\r\n\r\nThe same story goes about goerli:\r\n\r\n```\r\n78G\t/mnt/erigon/goerli/\r\n29G\t/mnt/geth/goerli/\r\n```\r\n\r\nAm I doing something wrong? ",
  "closed_by": {
    "login": "egorFiNE",
    "id": 251654,
    "node_id": "MDQ6VXNlcjI1MTY1NA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/251654?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/egorFiNE",
    "html_url": "https://github.com/egorFiNE",
    "followers_url": "https://api.github.com/users/egorFiNE/followers",
    "following_url": "https://api.github.com/users/egorFiNE/following{/other_user}",
    "gists_url": "https://api.github.com/users/egorFiNE/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/egorFiNE/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/egorFiNE/subscriptions",
    "organizations_url": "https://api.github.com/users/egorFiNE/orgs",
    "repos_url": "https://api.github.com/users/egorFiNE/repos",
    "events_url": "https://api.github.com/users/egorFiNE/events{/privacy}",
    "received_events_url": "https://api.github.com/users/egorFiNE/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/2569/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/2569/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/903545477",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/2569#issuecomment-903545477",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/2569",
    "id": 903545477,
    "node_id": "IC_kwDOC0FsAM412wKF",
    "user": {
      "login": "AskAlexSharov",
      "id": 46885206,
      "node_id": "MDQ6VXNlcjQ2ODg1MjA2",
      "avatar_url": "https://avatars.githubusercontent.com/u/46885206?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/AskAlexSharov",
      "html_url": "https://github.com/AskAlexSharov",
      "followers_url": "https://api.github.com/users/AskAlexSharov/followers",
      "following_url": "https://api.github.com/users/AskAlexSharov/following{/other_user}",
      "gists_url": "https://api.github.com/users/AskAlexSharov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/AskAlexSharov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/AskAlexSharov/subscriptions",
      "organizations_url": "https://api.github.com/users/AskAlexSharov/orgs",
      "repos_url": "https://api.github.com/users/AskAlexSharov/repos",
      "events_url": "https://api.github.com/users/AskAlexSharov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/AskAlexSharov/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-08-23T08:16:00Z",
    "updated_at": "2021-08-23T08:16:00Z",
    "author_association": "COLLABORATOR",
    "body": "You need add —gcmode=archive to geth https://geth.ethereum.org/docs/interface/command-line-options\r\nErigon is archive by default",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/903545477/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/903546665",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/2569#issuecomment-903546665",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/2569",
    "id": 903546665,
    "node_id": "IC_kwDOC0FsAM412wcp",
    "user": {
      "login": "egorFiNE",
      "id": 251654,
      "node_id": "MDQ6VXNlcjI1MTY1NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/251654?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/egorFiNE",
      "html_url": "https://github.com/egorFiNE",
      "followers_url": "https://api.github.com/users/egorFiNE/followers",
      "following_url": "https://api.github.com/users/egorFiNE/following{/other_user}",
      "gists_url": "https://api.github.com/users/egorFiNE/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/egorFiNE/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/egorFiNE/subscriptions",
      "organizations_url": "https://api.github.com/users/egorFiNE/orgs",
      "repos_url": "https://api.github.com/users/egorFiNE/repos",
      "events_url": "https://api.github.com/users/egorFiNE/events{/privacy}",
      "received_events_url": "https://api.github.com/users/egorFiNE/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-08-23T08:17:35Z",
    "updated_at": "2021-08-23T08:17:35Z",
    "author_association": "CONTRIBUTOR",
    "body": "@AskAlexSharov thank you.\r\n\r\nCan I switch an existing erigon node to non-archive? ",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/903546665/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/903549500",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/2569#issuecomment-903549500",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/2569",
    "id": 903549500,
    "node_id": "IC_kwDOC0FsAM412xI8",
    "user": {
      "login": "AskAlexSharov",
      "id": 46885206,
      "node_id": "MDQ6VXNlcjQ2ODg1MjA2",
      "avatar_url": "https://avatars.githubusercontent.com/u/46885206?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/AskAlexSharov",
      "html_url": "https://github.com/AskAlexSharov",
      "followers_url": "https://api.github.com/users/AskAlexSharov/followers",
      "following_url": "https://api.github.com/users/AskAlexSharov/following{/other_user}",
      "gists_url": "https://api.github.com/users/AskAlexSharov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/AskAlexSharov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/AskAlexSharov/subscriptions",
      "organizations_url": "https://api.github.com/users/AskAlexSharov/orgs",
      "repos_url": "https://api.github.com/users/AskAlexSharov/repos",
      "events_url": "https://api.github.com/users/AskAlexSharov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/AskAlexSharov/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-08-23T08:21:53Z",
    "updated_at": "2021-08-23T08:21:53Z",
    "author_association": "COLLABORATOR",
    "body": "See —prune flag docs ",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/903549500/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/903554276",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/2569#issuecomment-903554276",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/2569",
    "id": 903554276,
    "node_id": "IC_kwDOC0FsAM412yTk",
    "user": {
      "login": "egorFiNE",
      "id": 251654,
      "node_id": "MDQ6VXNlcjI1MTY1NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/251654?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/egorFiNE",
      "html_url": "https://github.com/egorFiNE",
      "followers_url": "https://api.github.com/users/egorFiNE/followers",
      "following_url": "https://api.github.com/users/egorFiNE/following{/other_user}",
      "gists_url": "https://api.github.com/users/egorFiNE/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/egorFiNE/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/egorFiNE/subscriptions",
      "organizations_url": "https://api.github.com/users/egorFiNE/orgs",
      "repos_url": "https://api.github.com/users/egorFiNE/repos",
      "events_url": "https://api.github.com/users/egorFiNE/events{/privacy}",
      "received_events_url": "https://api.github.com/users/egorFiNE/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-08-23T08:29:04Z",
    "updated_at": "2021-08-23T08:29:04Z",
    "author_association": "CONTRIBUTOR",
    "body": "@AskAlexSharov I am running with `--prune=hrtc`.  I have now added `--prune.h.older=10 --prune.r.older=10 --prune.t.older=10 --prune.c.older=10` but erigon says: \r\n\r\n```\r\nerr=\"not allowed change of --prune flag, last time you used: --prune=hrtc\"\r\n```\r\n\r\nIs it not possible to prune an existing node? ",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/903554276/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/903564181",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/2569#issuecomment-903564181",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/2569",
    "id": 903564181,
    "node_id": "IC_kwDOC0FsAM4120uV",
    "user": {
      "login": "AskAlexSharov",
      "id": 46885206,
      "node_id": "MDQ6VXNlcjQ2ODg1MjA2",
      "avatar_url": "https://avatars.githubusercontent.com/u/46885206?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/AskAlexSharov",
      "html_url": "https://github.com/AskAlexSharov",
      "followers_url": "https://api.github.com/users/AskAlexSharov/followers",
      "following_url": "https://api.github.com/users/AskAlexSharov/following{/other_user}",
      "gists_url": "https://api.github.com/users/AskAlexSharov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/AskAlexSharov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/AskAlexSharov/subscriptions",
      "organizations_url": "https://api.github.com/users/AskAlexSharov/orgs",
      "repos_url": "https://api.github.com/users/AskAlexSharov/repos",
      "events_url": "https://api.github.com/users/AskAlexSharov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/AskAlexSharov/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-08-23T08:42:51Z",
    "updated_at": "2021-08-23T08:42:51Z",
    "author_association": "COLLABORATOR",
    "body": "@egorFiNE , nope. we don't allow to change prune flag on the fly - to easy to delete half of db by human mistake. ",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/903564181/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/903573823",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/2569#issuecomment-903573823",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/2569",
    "id": 903573823,
    "node_id": "IC_kwDOC0FsAM4123E_",
    "user": {
      "login": "egorFiNE",
      "id": 251654,
      "node_id": "MDQ6VXNlcjI1MTY1NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/251654?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/egorFiNE",
      "html_url": "https://github.com/egorFiNE",
      "followers_url": "https://api.github.com/users/egorFiNE/followers",
      "following_url": "https://api.github.com/users/egorFiNE/following{/other_user}",
      "gists_url": "https://api.github.com/users/egorFiNE/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/egorFiNE/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/egorFiNE/subscriptions",
      "organizations_url": "https://api.github.com/users/egorFiNE/orgs",
      "repos_url": "https://api.github.com/users/egorFiNE/repos",
      "events_url": "https://api.github.com/users/egorFiNE/events{/privacy}",
      "received_events_url": "https://api.github.com/users/egorFiNE/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-08-23T08:57:07Z",
    "updated_at": "2021-08-23T08:57:07Z",
    "author_association": "CONTRIBUTOR",
    "body": "@AskAlexSharov fair enough. \r\n\r\nI see I can just comment out that verifying condition code. Do you by any change know if commenting out will make old blocks disappear? Judging by a quick test it doesn't seem to free up space.",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/903573823/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/903608260",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/2569#issuecomment-903608260",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/2569",
    "id": 903608260,
    "node_id": "IC_kwDOC0FsAM412_fE",
    "user": {
      "login": "AskAlexSharov",
      "id": 46885206,
      "node_id": "MDQ6VXNlcjQ2ODg1MjA2",
      "avatar_url": "https://avatars.githubusercontent.com/u/46885206?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/AskAlexSharov",
      "html_url": "https://github.com/AskAlexSharov",
      "followers_url": "https://api.github.com/users/AskAlexSharov/followers",
      "following_url": "https://api.github.com/users/AskAlexSharov/following{/other_user}",
      "gists_url": "https://api.github.com/users/AskAlexSharov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/AskAlexSharov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/AskAlexSharov/subscriptions",
      "organizations_url": "https://api.github.com/users/AskAlexSharov/orgs",
      "repos_url": "https://api.github.com/users/AskAlexSharov/repos",
      "events_url": "https://api.github.com/users/AskAlexSharov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/AskAlexSharov/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-08-23T09:41:49Z",
    "updated_at": "2021-08-23T09:41:49Z",
    "author_association": "COLLABORATOR",
    "body": "pruned node contains all blocks. \r\n\"it doesn't seem to free up space\" - yes, this is reason why it prohibited :-) re-sync pls",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/903608260/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/903618005",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/2569#issuecomment-903618005",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/2569",
    "id": 903618005,
    "node_id": "IC_kwDOC0FsAM413B3V",
    "user": {
      "login": "egorFiNE",
      "id": 251654,
      "node_id": "MDQ6VXNlcjI1MTY1NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/251654?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/egorFiNE",
      "html_url": "https://github.com/egorFiNE",
      "followers_url": "https://api.github.com/users/egorFiNE/followers",
      "following_url": "https://api.github.com/users/egorFiNE/following{/other_user}",
      "gists_url": "https://api.github.com/users/egorFiNE/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/egorFiNE/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/egorFiNE/subscriptions",
      "organizations_url": "https://api.github.com/users/egorFiNE/orgs",
      "repos_url": "https://api.github.com/users/egorFiNE/repos",
      "events_url": "https://api.github.com/users/egorFiNE/events{/privacy}",
      "received_events_url": "https://api.github.com/users/egorFiNE/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-08-23T09:55:43Z",
    "updated_at": "2021-08-23T09:55:43Z",
    "author_association": "CONTRIBUTOR",
    "body": "@AskAlexSharov thank you for your explanation! :-) Re-syncing now\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/903618005/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/971490033",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/2569#issuecomment-971490033",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/2569",
    "id": 971490033,
    "node_id": "IC_kwDOC0FsAM4558Lx",
    "user": {
      "login": "gituser",
      "id": 104405,
      "node_id": "MDQ6VXNlcjEwNDQwNQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/104405?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gituser",
      "html_url": "https://github.com/gituser",
      "followers_url": "https://api.github.com/users/gituser/followers",
      "following_url": "https://api.github.com/users/gituser/following{/other_user}",
      "gists_url": "https://api.github.com/users/gituser/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gituser/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gituser/subscriptions",
      "organizations_url": "https://api.github.com/users/gituser/orgs",
      "repos_url": "https://api.github.com/users/gituser/repos",
      "events_url": "https://api.github.com/users/gituser/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gituser/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-11-17T11:33:17Z",
    "updated_at": "2021-11-17T11:33:17Z",
    "author_association": "NONE",
    "body": "> @egorFiNE , nope. we don't allow to change prune flag on the fly - to easy to delete half of db by human mistake.\r\n\r\nWhy not? Re-syncing will take ages instead of deleting old blocks. Is there any other way to do that?\r\n\r\n\r\n\r\n> Seems like erigon takes about 2.5 times more disk space than geth.\r\n> \r\n> This is how I run erigon and geth:\r\n> \r\n> `./erigon/build/bin/erigon --datadir /mnt/erigon/ropsten --chain ropsten --prune=hrtc`\r\n\r\nIt should be pruned already as it says in documentation:\r\n\r\n```\r\n--prune value                      Choose which ancient data delete from DB: \r\n                                      h - prune history (ChangeSets, HistoryIndices - used by historical state access)\r\n                                      r - prune receipts (Receipts, Logs, LogTopicIndex, LogAddressIndex - used by eth_getLogs and similar RPC methods)\r\n                                      t - prune transaction by it's hash index\r\n                                      c - prune call traces (used by trace_* methods)\r\n                                      Does delete data older than 90K block (can set another value by '--prune.*.older' flags). \r\n                                      Example: --prune=hrtc (default: \"disabled\")\r\n   --prune.h.older value              Prune data after this amount of blocks (if --prune flag has 'h', then default is 90K) (default: 0)\r\n   --prune.r.older value              Prune data after this amount of blocks (if --prune flag has 'r', then default is 90K) (default: 0)\r\n   --prune.t.older value              Prune data after this amount of blocks (if --prune flag has 't', then default is 90K) (default: 0)\r\n   --prune.c.older value              Prune data after this amount of blocks (if --prune flag has 'c', then default is 90K) (default: 0)\r\n```\r\n\r\nPlease clarify @AskAlexSharov ",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/971490033/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/971496590",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/2569#issuecomment-971496590",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/2569",
    "id": 971496590,
    "node_id": "IC_kwDOC0FsAM4559yO",
    "user": {
      "login": "AskAlexSharov",
      "id": 46885206,
      "node_id": "MDQ6VXNlcjQ2ODg1MjA2",
      "avatar_url": "https://avatars.githubusercontent.com/u/46885206?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/AskAlexSharov",
      "html_url": "https://github.com/AskAlexSharov",
      "followers_url": "https://api.github.com/users/AskAlexSharov/followers",
      "following_url": "https://api.github.com/users/AskAlexSharov/following{/other_user}",
      "gists_url": "https://api.github.com/users/AskAlexSharov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/AskAlexSharov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/AskAlexSharov/subscriptions",
      "organizations_url": "https://api.github.com/users/AskAlexSharov/orgs",
      "repos_url": "https://api.github.com/users/AskAlexSharov/repos",
      "events_url": "https://api.github.com/users/AskAlexSharov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/AskAlexSharov/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-11-17T11:42:52Z",
    "updated_at": "2021-11-17T11:42:52Z",
    "author_association": "COLLABORATOR",
    "body": "@gituser  “to easy to delete half of db by human mistake”  - is already enough reason. Another reason - you really need to know what you are doing to change it - can’t expect this knowledge from all users. \r\n\r\n“It should be pruned already” - what should be pruned?",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/971496590/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/971507393",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/2569#issuecomment-971507393",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/2569",
    "id": 971507393,
    "node_id": "IC_kwDOC0FsAM456AbB",
    "user": {
      "login": "gituser",
      "id": 104405,
      "node_id": "MDQ6VXNlcjEwNDQwNQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/104405?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gituser",
      "html_url": "https://github.com/gituser",
      "followers_url": "https://api.github.com/users/gituser/followers",
      "following_url": "https://api.github.com/users/gituser/following{/other_user}",
      "gists_url": "https://api.github.com/users/gituser/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gituser/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gituser/subscriptions",
      "organizations_url": "https://api.github.com/users/gituser/orgs",
      "repos_url": "https://api.github.com/users/gituser/repos",
      "events_url": "https://api.github.com/users/gituser/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gituser/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-11-17T11:52:29Z",
    "updated_at": "2021-11-17T11:52:53Z",
    "author_association": "NONE",
    "body": "@AskAlexSharov I understand, but maybe provide a tool and/or a confirmation if someone wants to prune their node and knows what he/she is doing?\r\n\r\nJudging from flags @egorFiNE used, the node he was running should be pruned to 90K limit as he provided `--prune=hrtc` (according to the `erigon --help`), right?",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/971507393/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/971525901",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/2569#issuecomment-971525901",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/2569",
    "id": 971525901,
    "node_id": "IC_kwDOC0FsAM456E8N",
    "user": {
      "login": "AskAlexSharov",
      "id": 46885206,
      "node_id": "MDQ6VXNlcjQ2ODg1MjA2",
      "avatar_url": "https://avatars.githubusercontent.com/u/46885206?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/AskAlexSharov",
      "html_url": "https://github.com/AskAlexSharov",
      "followers_url": "https://api.github.com/users/AskAlexSharov/followers",
      "following_url": "https://api.github.com/users/AskAlexSharov/following{/other_user}",
      "gists_url": "https://api.github.com/users/AskAlexSharov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/AskAlexSharov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/AskAlexSharov/subscriptions",
      "organizations_url": "https://api.github.com/users/AskAlexSharov/orgs",
      "repos_url": "https://api.github.com/users/AskAlexSharov/repos",
      "events_url": "https://api.github.com/users/AskAlexSharov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/AskAlexSharov/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-11-17T12:17:40Z",
    "updated_at": "2021-11-17T12:17:40Z",
    "author_association": "COLLABORATOR",
    "body": "@gituser we have this tool. It’s in “./build/bin/integration”\r\n\r\n“ the node he was running should be pruned to 90K limit as he provided --prune=hrtc”, yes, right. He did try change 90k to other value. Such change will not reduce db size (as he expected). \r\n\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/971525901/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1421137548",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/2569#issuecomment-1421137548",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/2569",
    "id": 1421137548,
    "node_id": "IC_kwDOC0FsAM5UtNaM",
    "user": {
      "login": "dturner34",
      "id": 9026440,
      "node_id": "MDQ6VXNlcjkwMjY0NDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9026440?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dturner34",
      "html_url": "https://github.com/dturner34",
      "followers_url": "https://api.github.com/users/dturner34/followers",
      "following_url": "https://api.github.com/users/dturner34/following{/other_user}",
      "gists_url": "https://api.github.com/users/dturner34/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dturner34/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dturner34/subscriptions",
      "organizations_url": "https://api.github.com/users/dturner34/orgs",
      "repos_url": "https://api.github.com/users/dturner34/repos",
      "events_url": "https://api.github.com/users/dturner34/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dturner34/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-02-07T17:15:18Z",
    "updated_at": "2023-02-07T17:15:18Z",
    "author_association": "NONE",
    "body": "I know this is old and closed but maybe this is still an issue. More of a usability issue and not necessarily a technical one.  It's weird that erigon syncs an archive node by default and just from what I've seen in chatter, nobody new seems to expect this and are put off when they realize that they have to be down yet another another week to resync, which is then compounded by the fact that they can't tweak a prune setting and correct the issue.   It seems more likely in this situation that users will be forced to drop their entire databases than accidentally dropping half of the databases because they don't understand pruning.\r\nMaybe there just needs to be a simple force flag or confirmation requiring the user to acknowledge they understand the risks.\r\n\r\nErigon has been very stable/usable so far compared to other clients but this default combined with not having this functionality is frustrating.\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1421137548/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1421681487",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/2569#issuecomment-1421681487",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/2569",
    "id": 1421681487,
    "node_id": "IC_kwDOC0FsAM5UvSNP",
    "user": {
      "login": "AskAlexSharov",
      "id": 46885206,
      "node_id": "MDQ6VXNlcjQ2ODg1MjA2",
      "avatar_url": "https://avatars.githubusercontent.com/u/46885206?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/AskAlexSharov",
      "html_url": "https://github.com/AskAlexSharov",
      "followers_url": "https://api.github.com/users/AskAlexSharov/followers",
      "following_url": "https://api.github.com/users/AskAlexSharov/following{/other_user}",
      "gists_url": "https://api.github.com/users/AskAlexSharov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/AskAlexSharov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/AskAlexSharov/subscriptions",
      "organizations_url": "https://api.github.com/users/AskAlexSharov/orgs",
      "repos_url": "https://api.github.com/users/AskAlexSharov/repos",
      "events_url": "https://api.github.com/users/AskAlexSharov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/AskAlexSharov/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-02-08T00:12:45Z",
    "updated_at": "2023-02-08T00:12:45Z",
    "author_association": "COLLABORATOR",
    "body": "“weird that erigon syncs an archive node by default” - it’s weird only until you know that it’s primary use-case and primary focus of team. \r\n\r\n“nobody new seems to expect this and are put off when they realize that they have to be down yet another another week to resync” - 1. we need mention it in the beginning of readme. this is general beginner-unfrendlines of erigon. Been beginner-friendly is big work. 2. Resync is painful - but it only highlighting the problem which need to solve (instead of hiding) - we may ask to re-sync because of bugfix, or hardware failure, etc…\r\n\r\n\r\n“understand the risks” - but they don’t :-) (do you know what will happen if you enable pruning on archive node?) also we don’t have time to support bug-reports from nodes where prune flag was changed (many more flows to test). We already have force flag: “integration force_set_prune”\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1421681487/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1421939818",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/2569#issuecomment-1421939818",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/2569",
    "id": 1421939818,
    "node_id": "IC_kwDOC0FsAM5UwRRq",
    "user": {
      "login": "AskAlexSharov",
      "id": 46885206,
      "node_id": "MDQ6VXNlcjQ2ODg1MjA2",
      "avatar_url": "https://avatars.githubusercontent.com/u/46885206?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/AskAlexSharov",
      "html_url": "https://github.com/AskAlexSharov",
      "followers_url": "https://api.github.com/users/AskAlexSharov/followers",
      "following_url": "https://api.github.com/users/AskAlexSharov/following{/other_user}",
      "gists_url": "https://api.github.com/users/AskAlexSharov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/AskAlexSharov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/AskAlexSharov/subscriptions",
      "organizations_url": "https://api.github.com/users/AskAlexSharov/orgs",
      "repos_url": "https://api.github.com/users/AskAlexSharov/repos",
      "events_url": "https://api.github.com/users/AskAlexSharov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/AskAlexSharov/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-02-08T03:27:19Z",
    "updated_at": "2023-02-08T03:27:19Z",
    "author_association": "COLLABORATOR",
    "body": "Added some notice about it to readme: https://github.com/ledgerwatch/erigon/commit/e84c43f7dc90e09ed7302352a20acb02fd4a2bb6",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1421939818/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1422019263",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/2569#issuecomment-1422019263",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/2569",
    "id": 1422019263,
    "node_id": "IC_kwDOC0FsAM5Uwkq_",
    "user": {
      "login": "dturner34",
      "id": 9026440,
      "node_id": "MDQ6VXNlcjkwMjY0NDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9026440?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dturner34",
      "html_url": "https://github.com/dturner34",
      "followers_url": "https://api.github.com/users/dturner34/followers",
      "following_url": "https://api.github.com/users/dturner34/following{/other_user}",
      "gists_url": "https://api.github.com/users/dturner34/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dturner34/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dturner34/subscriptions",
      "organizations_url": "https://api.github.com/users/dturner34/orgs",
      "repos_url": "https://api.github.com/users/dturner34/repos",
      "events_url": "https://api.github.com/users/dturner34/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dturner34/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-02-08T05:03:59Z",
    "updated_at": "2023-02-08T05:03:59Z",
    "author_association": "NONE",
    "body": "Thanks, yeah more of a heads up would definitely help.  Still, users are going to blow right past the documentation and shoot their feet.  It might help to eventually remove the default value for prune so they have to explicitly configure a node for archive, light or full. That way everyone would know what they're getting and there wont be surprises.  Pruning probably also doesn't need as many fine grain options.  it could be determined based on the type of node the user wants and that would probably make the option a little more intuitive and cut down on test paths since you would only have 2-3 different configurations for pruning at that point.  For example, something like `prune.r.before` could be configured with a hard coded value based on the network which could eliminate some human error.  Just some thoughts as I work my way through the api. ",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1422019263/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1422025086",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/2569#issuecomment-1422025086",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/2569",
    "id": 1422025086,
    "node_id": "IC_kwDOC0FsAM5UwmF-",
    "user": {
      "login": "AskAlexSharov",
      "id": 46885206,
      "node_id": "MDQ6VXNlcjQ2ODg1MjA2",
      "avatar_url": "https://avatars.githubusercontent.com/u/46885206?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/AskAlexSharov",
      "html_url": "https://github.com/AskAlexSharov",
      "followers_url": "https://api.github.com/users/AskAlexSharov/followers",
      "following_url": "https://api.github.com/users/AskAlexSharov/following{/other_user}",
      "gists_url": "https://api.github.com/users/AskAlexSharov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/AskAlexSharov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/AskAlexSharov/subscriptions",
      "organizations_url": "https://api.github.com/users/AskAlexSharov/orgs",
      "repos_url": "https://api.github.com/users/AskAlexSharov/repos",
      "events_url": "https://api.github.com/users/AskAlexSharov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/AskAlexSharov/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-02-08T05:11:34Z",
    "updated_at": "2023-02-08T05:11:34Z",
    "author_association": "COLLABORATOR",
    "body": "`something like prune.r.before could be configured with a hard coded value based on the network which could eliminate some human error. ` it's already done this way: --prune=hrtc will set hardcoded value based on network name. \r\n\r\n`eventually remove the default value for prune so they have to explicitly configure a node for archive, light or full.` - this is good idea.\r\n\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1422025086/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
