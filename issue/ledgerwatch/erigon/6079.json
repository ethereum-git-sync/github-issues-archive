{
  "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/6079",
  "repository_url": "https://api.github.com/repos/ledgerwatch/erigon",
  "labels_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/6079/labels{/name}",
  "comments_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/6079/comments",
  "events_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/6079/events",
  "html_url": "https://github.com/ledgerwatch/erigon/issues/6079",
  "id": 1455092902,
  "node_id": "I_kwDOC0FsAM5WuvSm",
  "number": 6079,
  "title": "Embedded light client should ignore private IPs during discovery",
  "user": {
    "login": "0xStrobe",
    "id": 107649472,
    "node_id": "U_kgDOBmqZwA",
    "avatar_url": "https://avatars.githubusercontent.com/u/107649472?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/0xStrobe",
    "html_url": "https://github.com/0xStrobe",
    "followers_url": "https://api.github.com/users/0xStrobe/followers",
    "following_url": "https://api.github.com/users/0xStrobe/following{/other_user}",
    "gists_url": "https://api.github.com/users/0xStrobe/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/0xStrobe/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/0xStrobe/subscriptions",
    "organizations_url": "https://api.github.com/users/0xStrobe/orgs",
    "repos_url": "https://api.github.com/users/0xStrobe/repos",
    "events_url": "https://api.github.com/users/0xStrobe/events{/privacy}",
    "received_events_url": "https://api.github.com/users/0xStrobe/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 1,
  "created_at": "2022-11-18T13:08:11Z",
  "updated_at": "2022-11-20T21:41:45Z",
  "closed_at": "2022-11-20T21:41:45Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "v2.30.0 made it default to use the embedded consensus client.\r\n\r\nHowever, the light client will be naively trying to connect with any IPs shared by peers during the discovery process. This may included non-global and unreachable IPs like `10.10.1.1`, and some hosting providers identify these connection attempts as netscan activities which are against their TOS.\r\n\r\nThis has caused issues as seen in issues like: https://github.com/ledgerwatch/erigon/issues/6067, https://github.com/ledgerwatch/erigon/issues/6034\r\n\r\nWe should make it default to ignore non-global IPs during discovery. This can be a rather serious issue since some hosting providers will ban users due to this.\r\n\r\nLighthouse has encountered similar issues in https://github.com/sigp/lighthouse/issues/3006#issuecomment-1039691245 and the fix was implemented in https://github.com/sigp/lighthouse/pull/3023/.\r\n",
  "closed_by": {
    "login": "Giulio2002",
    "id": 29233688,
    "node_id": "MDQ6VXNlcjI5MjMzNjg4",
    "avatar_url": "https://avatars.githubusercontent.com/u/29233688?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/Giulio2002",
    "html_url": "https://github.com/Giulio2002",
    "followers_url": "https://api.github.com/users/Giulio2002/followers",
    "following_url": "https://api.github.com/users/Giulio2002/following{/other_user}",
    "gists_url": "https://api.github.com/users/Giulio2002/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/Giulio2002/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/Giulio2002/subscriptions",
    "organizations_url": "https://api.github.com/users/Giulio2002/orgs",
    "repos_url": "https://api.github.com/users/Giulio2002/repos",
    "events_url": "https://api.github.com/users/Giulio2002/events{/privacy}",
    "received_events_url": "https://api.github.com/users/Giulio2002/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/6079/reactions",
    "total_count": 3,
    "+1": 2,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 1
  },
  "timeline_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/6079/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1321250066",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/6079#issuecomment-1321250066",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/6079",
    "id": 1321250066,
    "node_id": "IC_kwDOC0FsAM5OwK0S",
    "user": {
      "login": "Giulio2002",
      "id": 29233688,
      "node_id": "MDQ6VXNlcjI5MjMzNjg4",
      "avatar_url": "https://avatars.githubusercontent.com/u/29233688?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Giulio2002",
      "html_url": "https://github.com/Giulio2002",
      "followers_url": "https://api.github.com/users/Giulio2002/followers",
      "following_url": "https://api.github.com/users/Giulio2002/following{/other_user}",
      "gists_url": "https://api.github.com/users/Giulio2002/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Giulio2002/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Giulio2002/subscriptions",
      "organizations_url": "https://api.github.com/users/Giulio2002/orgs",
      "repos_url": "https://api.github.com/users/Giulio2002/repos",
      "events_url": "https://api.github.com/users/Giulio2002/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Giulio2002/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-11-20T21:41:38Z",
    "updated_at": "2022-11-20T21:41:38Z",
    "author_association": "COLLABORATOR",
    "body": "I think it is now good, if it is not good pls open again and lets make this good :)",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1321250066/reactions",
      "total_count": 3,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 2,
      "eyes": 1
    },
    "performed_via_github_app": null
  }
]
