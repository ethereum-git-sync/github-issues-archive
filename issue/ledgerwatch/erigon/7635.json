{
  "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/7635",
  "repository_url": "https://api.github.com/repos/ledgerwatch/erigon",
  "labels_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/7635/labels{/name}",
  "comments_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/7635/comments",
  "events_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/7635/events",
  "html_url": "https://github.com/ledgerwatch/erigon/issues/7635",
  "id": 1737567855,
  "node_id": "I_kwDOC0FsAM5nkS5v",
  "number": 7635,
  "title": "Invalid formatted json for debug_traceCallMany",
  "user": {
    "login": "0x366",
    "id": 4774606,
    "node_id": "MDQ6VXNlcjQ3NzQ2MDY=",
    "avatar_url": "https://avatars.githubusercontent.com/u/4774606?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/0x366",
    "html_url": "https://github.com/0x366",
    "followers_url": "https://api.github.com/users/0x366/followers",
    "following_url": "https://api.github.com/users/0x366/following{/other_user}",
    "gists_url": "https://api.github.com/users/0x366/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/0x366/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/0x366/subscriptions",
    "organizations_url": "https://api.github.com/users/0x366/orgs",
    "repos_url": "https://api.github.com/users/0x366/repos",
    "events_url": "https://api.github.com/users/0x366/events{/privacy}",
    "received_events_url": "https://api.github.com/users/0x366/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 0,
  "created_at": "2023-06-02T06:48:31Z",
  "updated_at": "2023-06-02T06:49:40Z",
  "closed_at": null,
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "#### Steps to reproduce the behaviour\r\n```\r\ncurl --request POST \\\r\n  --url http://localhost:18545/ \\\r\n  --header 'Content-Type: application/json' \\\r\n  --data '{\r\n        \"jsonrpc\": \"2.0\",\r\n        \"id\": 1,\r\n        \"method\": \"debug_traceCallMany\",\r\n        \"params\": [\r\n                [\r\n                        {\r\n                                \"transactions\": [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\"value\": \"0x8ac7230489e80000\",\r\n\t\t\"gasPrice\": \"0x10b3fc5d4c\",\r\n\t\t\"from\": \"0x0000000000000000000000000000000000000000\",\r\n\t\t\"to\": \"0x000000000000000000000000000000000000dead\"\r\n\t},\r\n\t{\r\n\t\t\"data\": \"0x472b43f3000000000000000000000000000000000000000000000000006a94d74f43000000000000000000000000000000000000000000003f64e96f82a2d3216c5eaf7d000000000000000000000000000000000000000000000000000000000000008000000000000000000000000017be101b95d535b3727bb1720fe2644498b5e83b0000000000000000000000000000000000000000000000000000000000000002000000000000000000000000c02aaa39b223fe8d0a0e5c4f27ead9083c756cc2000000000000000000000000ee772cec929d8430b4fa7a01cd7fbd159a68aa83\",\r\n\t\t\"value\": \"0x6a94d74f430000\",\r\n\t\t\"gasPrice\": \"0x10b3fc5d4c\",\r\n\t\t\"from\": \"0x17be101b95d535b3727bb1720fe2644498b5e83b\",\r\n\t\t\"to\": \"0x68b3465833fb72a70ecdf485e0e4c7bd8665fc45\"\r\n\t}\r\n                                ]\r\n                        }\r\n                ],\r\n\t\t\t\t\t\r\n                {\r\n                        \"blockNumber\": \"0x1094fd3\",\r\n                        \"transactionIndex\": 0\r\n                },\r\n                {\r\n                        \"disableStorage\": true,\r\n                        \"disableMemory\": true,\r\n                        \"disableStack\": true\r\n                }\r\n        ]\r\n}'\r\n```\r\n\r\n#### Result\r\n```\r\n{\r\n\t\"jsonrpc\": \"2.0\",\r\n\t\"id\": 1,\r\n\t\"result\": [\r\n\t\t[\r\n\t\t\t{\r\n\t\t\t\t\"structLogs\": [],\r\n\t\t\t\t\"gas\": 21000,\r\n\t\t\t\t\"failed\": false,\r\n\t\t\t\t\"returnValue\": \"\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"structLogs\": []\r\n\t\t\t},\r\n\t\t\t\"resultHack\": null,\r\n\t\t\t\"error\": {\r\n\t\t\t\t\"code\": -32000,\r\n\t\t\t\t\"message\": \"tracing failed: insufficient funds for gas * price + value: address 0x17BE101b95D535B3727bB1720Fe2644498b5e83B have 60129608439880166 want 3616956867800000000\"\r\n\t\t\t}\r\n\t\t}\r\n```\r\n\r\nIf one of transaction reverts json returned is invalid. Instead of dead there can be any address. They error will disappear if first tx will send a lot of funds to the caller of second tx (0x17be101b95d535b3727bb1720fe2644498b5e83b) (https://github.com/ledgerwatch/erigon/issues/7634)",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/7635/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/7635/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[

]
