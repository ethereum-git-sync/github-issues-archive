{
  "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/6487",
  "repository_url": "https://api.github.com/repos/ledgerwatch/erigon",
  "labels_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/6487/labels{/name}",
  "comments_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/6487/comments",
  "events_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/6487/events",
  "html_url": "https://github.com/ledgerwatch/erigon/issues/6487",
  "id": 1516176036,
  "node_id": "I_kwDOC0FsAM5aXwKk",
  "number": 6487,
  "title": "Syncing intermittently stopped on mumbai testnet",
  "user": {
    "login": "sjlee1125",
    "id": 47561537,
    "node_id": "MDQ6VXNlcjQ3NTYxNTM3",
    "avatar_url": "https://avatars.githubusercontent.com/u/47561537?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/sjlee1125",
    "html_url": "https://github.com/sjlee1125",
    "followers_url": "https://api.github.com/users/sjlee1125/followers",
    "following_url": "https://api.github.com/users/sjlee1125/following{/other_user}",
    "gists_url": "https://api.github.com/users/sjlee1125/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/sjlee1125/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/sjlee1125/subscriptions",
    "organizations_url": "https://api.github.com/users/sjlee1125/orgs",
    "repos_url": "https://api.github.com/users/sjlee1125/repos",
    "events_url": "https://api.github.com/users/sjlee1125/events{/privacy}",
    "received_events_url": "https://api.github.com/users/sjlee1125/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 4566396003,
      "node_id": "LA_kwDOC0FsAM8AAAABEC2sYw",
      "url": "https://api.github.com/repos/ledgerwatch/erigon/labels/Stale",
      "name": "Stale",
      "color": "ededed",
      "default": false,
      "description": null
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2023-01-02T09:09:57Z",
  "updated_at": "2023-02-19T02:40:04Z",
  "closed_at": "2023-02-19T02:40:04Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "erigon version: 2.32.0-stable\r\nscript:\r\n```\r\n./bin/erigon \\\r\n        --datadir=./data \\\r\n        --chain=mumbai \\\r\n        --http.addr=0.0.0.0 \\\r\n        --http.port=8545 \\\r\n        --http.corsdomain=* \\\r\n        --ws \\\r\n        --http.vhosts=* \\\r\n        --http.api=eth,net,trace,web3,erigon \\\r\n        --torrent.download.rate 512mb \\\r\n        --torrent.upload.rate 512mb \\\r\n        --bor.heimdall http://localhost:1317\r\n```\r\n\r\nlogs:\r\n```\r\n[INFO] [01-02|02:47:40.341] RPC Daemon notified of new headers       from=30437936 to=30437937 hash=0x58a0950ebd7428826352ffc5ee190beefc69b45f08942b6e59499e56a7c70460 header sending=12.497µs log sending=214ns\r\n[INFO] [01-02|02:47:40.341] [2/16 Headers] Waiting for headers...    from=30437937\r\n[INFO] [01-02|02:47:42.167] [2/16 Headers] Processed                 highest inserted=30437938 age=0\r\n[INFO] [01-02|02:47:42.242] [5/16 Bodies] Writing block bodies       block_num=30437938 remaining=0 alloc=2.1GB sys=4.0GB\r\n[INFO] [01-02|02:47:42.243] [7/16 Execution] Completed on            block=30437938\r\n[INFO] [01-02|02:47:42.283] Commit cycle                             in=35.867357ms\r\n[INFO] [01-02|02:47:42.283] Timings (slower than 50ms)               Headers=1.825s Bodies=73ms\r\n[INFO] [01-02|02:47:42.284] Tables                                   PlainState=44.1GB AccountChangeSet=22.9GB StorageChangeSet=63.8GB BlockTransaction=194.6MB TransactionLog=208.0GB FreeList=40.2MB ReclaimableSpace=40.2GB\r\n[INFO] [01-02|02:47:42.284] RPC Daemon notified of new headers       from=30437937 to=30437938 hash=0x4e92e81959d6a073e6dece1b482d14ae6f4be53245e7c9372265229c73c9c10d header sending=11.257µs log sending=205ns\r\n[INFO] [01-02|02:47:42.284] [2/16 Headers] Waiting for headers...    from=30437938\r\n[INFO] [01-02|02:47:44.239] [2/16 Headers] Processed                 highest inserted=30437939 age=0\r\n[INFO] [01-02|02:47:44.240] [5/16 Bodies] Writing block bodies       block_num=30437939 remaining=0 alloc=2.1GB sys=4.0GB\r\n[INFO] [01-02|02:47:44.348] [7/16 Execution] Completed on            block=30437939\r\n[INFO] [01-02|02:47:45.206] Commit cycle                             in=572.739548ms\r\n[INFO] [01-02|02:47:45.206] Timings (slower than 50ms)               Headers=1.955s Execution=107ms HashState=83ms IntermediateHashes=80ms StorageHistoryIndex=119ms\r\n[INFO] [01-02|02:47:45.206] Tables                                   PlainState=44.1GB AccountChangeSet=22.9GB StorageChangeSet=63.8GB BlockTransaction=194.7MB TransactionLog=208.0GB FreeList=40.2MB ReclaimableSpace=40.2GB\r\n[INFO] [01-02|02:47:45.206] RPC Daemon notified of new headers       from=30437938 to=30437939 hash=0x2a60ea32590128eb58513f02b0c09eb17e59b0062fed1d2051bae60b87732091 header sending=15.418µs log sending=205ns\r\n[INFO] [01-02|02:47:45.207] [2/16 Headers] Waiting for headers...    from=30437939\r\nfatal error: concurrent map iteration and map write\r\n\r\ngoroutine 4467 [running]:\r\nruntime.throw({0x21e8acc?, 0x40000f61d8?})\r\n        /usr/local/go/src/runtime/panic.go:992 +0x50 fp=0x4072bf98d0 sp=0x4072bf98a0 pc=0x451590\r\nruntime.mapiternext(0x4072bf99a8?)\r\n        /usr/local/go/src/runtime/map.go:871 +0x53c fp=0x4072bf9940 sp=0x4072bf98d0 pc=0x4287bc\r\ngithub.com/ledgerwatch/erigon/turbo/engineapi.(*ForkValidator).clean(0x406e0abda0)\r\n        /go/src/github.com/maticnetwork/erigon/turbo/engineapi/fork_validator.go:321 +0x58 fp=0x4072bf9a10 sp=0x4072bf9940 pc=0x11c1168\r\ngithub.com/ledgerwatch/erigon/turbo/engineapi.(*ForkValidator).TryAddingPoWBlock.func1()\r\n        /go/src/github.com/maticnetwork/erigon/turbo/engineapi/fork_validator.go:251 +0x2c fp=0x4072bf9a30 sp=0x4072bf9a10 pc=0x11c052c\r\ngithub.com/ledgerwatch/erigon/turbo/engineapi.(*ForkValidator).TryAddingPoWBlock(0x406e0abda0, 0x40733ad8f0)\r\n        /go/src/github.com/maticnetwork/erigon/turbo/engineapi/fork_validator.go:255 +0x1a8 fp=0x4072bf9ae0 sp=0x4072bf9a30 pc=0x11c0468\r\ngithub.com/ledgerwatch/erigon/cmd/sentry/sentry.(*MultiClient).newBlock66(0x406aba5680, {0x2a9dbb0, 0x400167e540}, 0x407af4fd10, {0x2ab7298, 0x406de2d9c8})\r\n        /go/src/github.com/maticnetwork/erigon/cmd/sentry/sentry/sentry_multi_client.go:492 +0x430 fp=0x4072bf9d70 sp=0x4072bf9ae0 pc=0x192e390\r\ngithub.com/ledgerwatch/erigon/cmd/sentry/sentry.(*MultiClient).handleInboundMessage(0x4072bf9e18?, {0x2a9dbb0?, 0x400167e540?}, 0x41fd58?, {0x2ab7298?, 0x406de2d9c8?})\r\n        /go/src/github.com/maticnetwork/erigon/cmd/sentry/sentry/sentry_multi_client.go:704 +0x54 fp=0x4072bf9dc0 sp=0x4072bf9d70 pc=0x19300c4\r\ngithub.com/ledgerwatch/erigon/cmd/sentry/sentry.(*MultiClient).HandleInboundMessage(0x407684aed8?, {0x2a9dbb0, 0x400167e540}, 0x407af4fd10, {0x2ab7298?, 0x406de2d9c8?})\r\n        /go/src/github.com/maticnetwork/erigon/cmd/sentry/sentry/sentry_multi_client.go:679 +0x78 fp=0x4072bf9ea0 sp=0x4072bf9dc0 pc=0x192fd08\r\ngithub.com/ledgerwatch/erigon/cmd/sentry/sentry.(*MultiClient).HandleInboundMessage-fm({0x2a9dbb0?, 0x400167e540?}, 0x4078f93e50?, {0x2ab7298?, 0x406de2d9c8?})\r\n        <autogenerated>:1 +0x54 fp=0x4072bf9ee0 sp=0x4072bf9ea0 pc=0x1932434\r\ngithub.com/ledgerwatch/erigon/cmd/sentry/sentry.pumpStreamLoop[...].func2()\r\n        /go/src/github.com/maticnetwork/erigon/cmd/sentry/sentry/sentry_multi_client.go:214 +0xa0 fp=0x4072bf9fd0 sp=0x4072bf9ee0 pc=0x19312d0\r\nruntime.goexit()\r\n        /usr/local/go/src/runtime/asm_arm64.s:1259 +0x4 fp=0x4072bf9fd0 sp=0x4072bf9fd0 pc=0x484e54\r\ncreated by github.com/ledgerwatch/erigon/cmd/sentry/sentry.pumpStreamLoop[...]\r\n        /go/src/github.com/maticnetwork/erigon/cmd/sentry/sentry/sentry_multi_client.go:212 +0x274\r\n\r\ngoroutine 1 [chan receive, 919 minutes]:\r\ngithub.com/ledgerwatch/erigon/node.(*Node).Wait(...)\r\n        /go/src/github.com/maticnetwork/erigon/node/node.go:266\r\ngithub.com/ledgerwatch/erigon/turbo/node.(*ErigonNode).Serve(0x407530da50)\r\n        /go/src/github.com/maticnetwork/erigon/turbo/node/node.go:32 +0x78\r\nmain.runErigon(0x400080e640?)\r\n        /go/src/github.com/maticnetwork/erigon/cmd/erigon/main.go:67 +0x358\r\ngithub.com/urfave/cli/v2.(*Command).Run(0x400080e640, 0x4000831900, {0x40000da000, 0xf, 0xf})\r\n        /go/pkg/mod/github.com/urfave/cli/v2@v2.23.5/command.go:271 +0x82c\r\ngithub.com/urfave/cli/v2.(*App).RunContext(0x400084c000, {0x2a9dbe8?, 0x40000de020}, {0x40000da000, 0xf, 0xf})\r\n        /go/pkg/mod/github.com/urfave/cli/v2@v2.23.5/app.go:329 +0x5a4\r\ngithub.com/urfave/cli/v2.(*App).Run(...)\r\n        /go/pkg/mod/github.com/urfave/cli/v2@v2.23.5/app.go:306\r\nmain.main()\r\n        /go/src/github.com/maticnetwork/erigon/cmd/erigon/main.go:37 +0xa4\r\n\r\ngoroutine 19 [sleep, 3 minutes]:\r\ntime.Sleep(0x22ecb25c00)\r\n        /usr/local/go/src/runtime/time.go:194 +0x124\r\ngithub.com/VictoriaMetrics/metrics.summariesSwapCron(0x45d964b800)\r\n        /go/pkg/mod/github.com/!victoria!metrics/metrics@v1.23.0/summary.go:237 +0x38\r\ncreated by github.com/VictoriaMetrics/metrics.registerSummaryLocked\r\n        /go/pkg/mod/github.com/!victoria!metrics/metrics@v1.23.0/summary.go:211 +0x198\r\n\r\ngoroutine 19448240 [sync.Cond.Wait]:\r\nsync.runtime_notifyListWait(0x408143ab20, 0x2)\r\n        /usr/local/go/src/runtime/sema.go:513 +0x164\r\nsync.(*Cond).Wait(0x408143ab10)\r\n        /usr/local/go/src/sync/cond.go:56 +0xd8\r\ngithub.com/anacrolix/go-libutp.(*Conn).waitForConnect(0x408143ab00, {0x2a9dbb0?, 0x4072f6d500?})\r\n        /go/pkg/mod/github.com/anacrolix/go-libutp@v1.2.0/conn.go:86 +0xd4\r\ngithub.com/anacrolix/go-libutp.(*Socket).DialContext(0x400076eea0, {0x2a9dbb0, 0x4072f6d500}, {0x40022d30bc?, 0x40721c1ea8?}, {0x409970d950?, 0x40721c1e48?})\r\n...\r\n```\r\n\r\nIt stops with this error once a day.",
  "closed_by": {
    "login": "github-actions[bot]",
    "id": 41898282,
    "node_id": "MDM6Qm90NDE4OTgyODI=",
    "avatar_url": "https://avatars.githubusercontent.com/in/15368?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/github-actions%5Bbot%5D",
    "html_url": "https://github.com/apps/github-actions",
    "followers_url": "https://api.github.com/users/github-actions%5Bbot%5D/followers",
    "following_url": "https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}",
    "gists_url": "https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/github-actions%5Bbot%5D/subscriptions",
    "organizations_url": "https://api.github.com/users/github-actions%5Bbot%5D/orgs",
    "repos_url": "https://api.github.com/users/github-actions%5Bbot%5D/repos",
    "events_url": "https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}",
    "received_events_url": "https://api.github.com/users/github-actions%5Bbot%5D/received_events",
    "type": "Bot",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/6487/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/6487/timeline",
  "performed_via_github_app": null,
  "state_reason": "not_planned"
}
[
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1426926426",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/6487#issuecomment-1426926426",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/6487",
    "id": 1426926426,
    "node_id": "IC_kwDOC0FsAM5VDSta",
    "user": {
      "login": "github-actions[bot]",
      "id": 41898282,
      "node_id": "MDM6Qm90NDE4OTgyODI=",
      "avatar_url": "https://avatars.githubusercontent.com/in/15368?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/github-actions%5Bbot%5D",
      "html_url": "https://github.com/apps/github-actions",
      "followers_url": "https://api.github.com/users/github-actions%5Bbot%5D/followers",
      "following_url": "https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}",
      "gists_url": "https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/github-actions%5Bbot%5D/subscriptions",
      "organizations_url": "https://api.github.com/users/github-actions%5Bbot%5D/orgs",
      "repos_url": "https://api.github.com/users/github-actions%5Bbot%5D/repos",
      "events_url": "https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}",
      "received_events_url": "https://api.github.com/users/github-actions%5Bbot%5D/received_events",
      "type": "Bot",
      "site_admin": false
    },
    "created_at": "2023-02-12T02:38:29Z",
    "updated_at": "2023-02-12T02:38:29Z",
    "author_association": "NONE",
    "body": "This issue is stale because it has been open for 40 days with no activity. Remove stale label or comment, or this will be closed in 7 days.",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1426926426/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1435824778",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/6487#issuecomment-1435824778",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/6487",
    "id": 1435824778,
    "node_id": "IC_kwDOC0FsAM5VlPKK",
    "user": {
      "login": "github-actions[bot]",
      "id": 41898282,
      "node_id": "MDM6Qm90NDE4OTgyODI=",
      "avatar_url": "https://avatars.githubusercontent.com/in/15368?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/github-actions%5Bbot%5D",
      "html_url": "https://github.com/apps/github-actions",
      "followers_url": "https://api.github.com/users/github-actions%5Bbot%5D/followers",
      "following_url": "https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}",
      "gists_url": "https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/github-actions%5Bbot%5D/subscriptions",
      "organizations_url": "https://api.github.com/users/github-actions%5Bbot%5D/orgs",
      "repos_url": "https://api.github.com/users/github-actions%5Bbot%5D/repos",
      "events_url": "https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}",
      "received_events_url": "https://api.github.com/users/github-actions%5Bbot%5D/received_events",
      "type": "Bot",
      "site_admin": false
    },
    "created_at": "2023-02-19T02:40:03Z",
    "updated_at": "2023-02-19T02:40:03Z",
    "author_association": "NONE",
    "body": "This issue was closed because it has been stalled for 7 days with no activity.",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1435824778/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
