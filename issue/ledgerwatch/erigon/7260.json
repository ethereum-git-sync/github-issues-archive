{
  "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/7260",
  "repository_url": "https://api.github.com/repos/ledgerwatch/erigon",
  "labels_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/7260/labels{/name}",
  "comments_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/7260/comments",
  "events_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/7260/events",
  "html_url": "https://github.com/ledgerwatch/erigon/issues/7260",
  "id": 1654675082,
  "node_id": "I_kwDOC0FsAM5ioFaK",
  "number": 7260,
  "title": "Snapshot Sync -- Infinite Loop",
  "user": {
    "login": "keithchew",
    "id": 5557929,
    "node_id": "MDQ6VXNlcjU1NTc5Mjk=",
    "avatar_url": "https://avatars.githubusercontent.com/u/5557929?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/keithchew",
    "html_url": "https://github.com/keithchew",
    "followers_url": "https://api.github.com/users/keithchew/followers",
    "following_url": "https://api.github.com/users/keithchew/following{/other_user}",
    "gists_url": "https://api.github.com/users/keithchew/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/keithchew/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/keithchew/subscriptions",
    "organizations_url": "https://api.github.com/users/keithchew/orgs",
    "repos_url": "https://api.github.com/users/keithchew/repos",
    "events_url": "https://api.github.com/users/keithchew/events{/privacy}",
    "received_events_url": "https://api.github.com/users/keithchew/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 4566396003,
      "node_id": "LA_kwDOC0FsAM8AAAABEC2sYw",
      "url": "https://api.github.com/repos/ledgerwatch/erigon/labels/Stale",
      "name": "Stale",
      "color": "ededed",
      "default": false,
      "description": null
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 9,
  "created_at": "2023-04-04T22:48:42Z",
  "updated_at": "2023-05-28T02:33:56Z",
  "closed_at": null,
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "Erigon version: v2.42.0\r\n\r\nChain/Network: mainnet\r\n\r\nWhen Erigon hasn't synced for a while, it downloads the  snapshots to catch up to the latest block. However, while doing so, it gets interrupted/notified when new blocks arrive. It appears to run into an infinite loop, can cannot progress with the snapshots. \r\n\r\nIs there a way to instruct Erigon to just download the snapshots and sync up that way, without getting interrupted when new blocks arrive?\r\n\r\nFrom the logs below, you can observe that it is trying to progress from block 16500099, but a new block keeps interrupting the process and Erigon has to restart the process again:\r\n```\r\nINFO[04-04|22:30:08.261] [2/15 Headers] Waiting for Consensus Layer...\r\nINFO[04-04|22:30:08.261] [LightClient] P2P                        peers=9\r\nINFO[04-04|22:30:14.397] [txpool] stat                            block=16500099 pending=2 baseFee=24 queued=11121 alloc=2.5GB sys=5.7GB\r\nINFO[04-04|22:30:14.398] [LightClient] P2P                        peers=11\r\nINFO[04-04|22:30:37.063] [2/15 Headers] Handling new payload      height=16978473 hash=0xc7360d84338dee52539046971b38652df4d5ef1b75255aeab81f9fc5bfe0e674\r\nINFO[04-04|22:30:37.064] [2/15 Headers] Downloading PoS headers... height=16978472 hash=0x3990840a9d3fd576e93f56b54752c16e5bb861049d88c6834b73b303600f1fd5 requestId=7\r\nINFO[04-04|22:30:37.064] [5/15 Bodies] Processing bodies...       from=16500099 to=16978435\r\nINFO[04-04|22:30:57.065] [5/15 Bodies] Downloading block bodies   block_num=16500099 delivery/sec=17.0MB wasted/sec=1.9MB remaining=478335 delivered=4407 cache=256.0MB alloc=4.7GB sys=6.0GB\r\nINFO[04-04|22:31:14.409] [txpool] stat                            block=16500099 pending=24 baseFee=2118 queued=15644 alloc=4.1GB sys=6.1GB\r\nINFO[04-04|22:31:14.524] [LightClient] P2P                        peers=8\r\nINFO[04-04|22:31:15.744] [p2p] GoodPeers                          eth66=1 eth68=6 eth67=9\r\nINFO[04-04|22:31:17.088] [5/15 Bodies] Downloading block bodies   block_num=16500099 delivery/sec=18.5MB wasted/sec=0B remaining=478335 delivered=9059 cache=256.0MB alloc=4.4GB sys=6.1GB\r\nINFO[04-04|22:31:37.087] [5/15 Bodies] Downloading block bodies   block_num=16500099 delivery/sec=18.7MB wasted/sec=0B remaining=478335 delivered=13690 cache=256.0MB alloc=2.7GB sys=6.1GB\r\nINFO[04-04|22:31:57.065] [5/15 Bodies] Downloading block bodies   block_num=16500099 delivery/sec=19.5MB wasted/sec=0B remaining=478335 delivered=18643 cache=256.0MB alloc=2.7GB sys=6.2GB\r\nINFO[04-04|22:32:14.398] [txpool] stat                            block=16500099 pending=47 baseFee=2139 queued=15999 alloc=4.4GB sys=6.2GB\r\nINFO[04-04|22:32:14.398] [LightClient] P2P                        peers=3\r\nINFO[04-04|22:32:17.070] [5/15 Bodies] Downloading block bodies   block_num=16500099 delivery/sec=19.6MB wasted/sec=0B remaining=478335 delivered=23571 cache=256.0MB alloc=4.8GB sys=6.2GB\r\nINFO[04-04|22:32:17.074] [5/15 Bodies] DONE                       in=1m40.010619094s\r\nINFO[04-04|22:32:17.079] Commit cycle                             in=3.873285ms\r\nINFO[04-04|22:32:17.080] Timings (slower than 50ms)               Headers=28.803s Bodies=1m40.01s\r\nINFO[04-04|22:32:17.080] Tables                                   PlainState=86.1GB AccountChangeSet=178.3GB StorageChangeSet=270.1GB BlockTransaction=10.0MB TransactionLog=516.3GB FreeList=1.7MB ReclaimableSpace=1.7GB\r\nINFO[04-04|22:32:17.083] RPC Daemon notified of new headers       from=16977411 to=16978435 hash=0x9ad1192dd3c0be2b53cf0f108573764e139a7b2b12b10970ca84e284ba8f5e80 header sending=1.806155ms log sending=224ns\r\nINFO[04-04|22:32:17.085] PoS headers verified and saved           requestId=7 fork head=0x0229ed562a6a53ce46471d1be89bc4214787da390447861e621e23950b8eba63\r\nINFO[04-04|22:32:17.108] [5/15 Bodies] Processing bodies...       from=16500099 to=16978435\r\nINFO[04-04|22:32:37.109] [5/15 Bodies] Downloading block bodies   block_num=16500099 delivery/sec=16.2MB wasted/sec=3.5MB remaining=478335 delivered=4156 cache=256.0MB alloc=2.6GB sys=6.2GB\r\nINFO[04-04|22:32:57.122] [5/15 Bodies] Downloading block bodies   block_num=16500099 delivery/sec=19.7MB wasted/sec=63.3KB remaining=478335 delivered=9110 cache=256.0MB alloc=2.8GB sys=6.2GB\r\nINFO[04-04|22:33:14.399] [LightClient] P2P                        peers=6\r\nINFO[04-04|22:33:14.407] [txpool] stat                            block=16500099 pending=67 baseFee=2157 queued=16419 alloc=4.5GB sys=6.2GB\r\nINFO[04-04|22:33:15.742] [p2p] GoodPeers                          eth67=11 eth66=1 eth68=6\r\nINFO[04-04|22:33:17.112] [5/15 Bodies] Downloading block bodies   block_num=16500099 delivery/sec=18.6MB wasted/sec=105.0KB remaining=478335 delivered=13810 cache=256.0MB alloc=2.7GB sys=6.2GB\r\nINFO[04-04|22:33:37.110] [5/15 Bodies] Downloading block bodies   block_num=16500099 delivery/sec=16.6MB wasted/sec=0B remaining=478335 delivered=18069 cache=256.0MB alloc=4.5GB sys=6.2GB\r\nINFO[04-04|22:33:57.109] [5/15 Bodies] Downloading block bodies   block_num=16500099 delivery/sec=19.3MB wasted/sec=0B remaining=478335 delivered=22933 cache=256.0MB alloc=4.6GB sys=6.2GB\r\nINFO[04-04|22:33:57.113] [5/15 Bodies] DONE                       in=1m40.026866208s\r\nINFO[04-04|22:33:57.117] Commit cycle                             in=4.139875ms\r\nINFO[04-04|22:33:57.117] Timings (slower than 50ms)               Bodies=1m40.026s\r\nINFO[04-04|22:33:57.118] Tables                                   PlainState=86.1GB AccountChangeSet=178.3GB StorageChangeSet=270.1GB BlockTransaction=10.0MB TransactionLog=516.3GB FreeList=1.7MB ReclaimableSpace=1.7GB\r\nINFO[04-04|22:33:57.119] RPC Daemon notified of new headers       from=16977411 to=16978472 hash=0x0000000000000000000000000000000000000000000000000000000000000000 header sending=1.619326ms log sending=288ns\r\nINFO[04-04|22:33:57.119] [2/15 Headers] Waiting for Consensus Layer...\r\nINFO[04-04|22:33:57.120] [2/15 Headers] Handling new payload      height=16978473 hash=0xc7360d84338dee52539046971b38652df4d5ef1b75255aeab81f9fc5bfe0e674\r\nINFO[04-04|22:33:57.137] [5/15 Bodies] Processing bodies...       from=16500099 to=16978435\r\nINFO[04-04|22:34:14.397] [txpool] stat                            block=16500099 pending=82 baseFee=2294 queued=16814 alloc=4.4GB sys=6.2GB\r\nINFO[04-04|22:34:14.397] [LightClient] P2P                        peers=15\r\nINFO[04-04|22:34:17.137] [5/15 Bodies] Downloading block bodies   block_num=16500099 delivery/sec=15.2MB wasted/sec=4.3MB remaining=478335 delivered=3870 cache=256.0MB alloc=4.7GB sys=6.2GB\r\nINFO[04-04|22:34:37.139] [5/15 Bodies] Downloading block bodies   block_num=16500099 delivery/sec=18.9MB wasted/sec=0B remaining=478335 delivered=8645 cache=256.0MB alloc=4.5GB sys=6.2GB\r\nINFO[04-04|22:34:57.146] [5/15 Bodies] Downloading block bodies   block_num=16500099 delivery/sec=19.7MB wasted/sec=0B remaining=478335 delivered=13584 cache=256.0MB alloc=4.5GB sys=6.2GB\r\nINFO[04-04|22:35:14.407] [txpool] stat                            block=16500099 pending=103 baseFee=14247 queued=19761 alloc=4.2GB sys=6.2GB\r\nINFO[04-04|22:35:15.427] [LightClient] P2P                        peers=16\r\nINFO[04-04|22:35:15.742] [p2p] GoodPeers                          eth66=3 eth67=13 eth68=6\r\nINFO[04-04|22:35:17.137] [5/15 Bodies] Downloading block bodies   block_num=16500099 delivery/sec=18.6MB wasted/sec=261.7KB remaining=478335 delivered=18201 cache=256.0MB alloc=4.5GB sys=6.2GB\r\nINFO[04-04|22:35:37.138] [5/15 Bodies] Downloading block bodies   block_num=16500099 delivery/sec=19.7MB wasted/sec=0B remaining=478335 delivered=23179 cache=256.0MB alloc=4.5GB sys=6.2GB\r\nINFO[04-04|22:35:37.146] [5/15 Bodies] DONE                       in=1m40.025085926s\r\nINFO[04-04|22:35:37.147] Commit cycle                             in=810.815µs\r\nINFO[04-04|22:35:37.147] Timings (slower than 50ms)               Bodies=1m40.025s\r\nINFO[04-04|22:35:37.147] Tables                                   PlainState=86.1GB AccountChangeSet=178.3GB StorageChangeSet=270.1GB BlockTransaction=10.0MB TransactionLog=516.3GB FreeList=1.7MB ReclaimableSpace=1.7GB\r\nINFO[04-04|22:35:37.149] RPC Daemon notified of new headers       from=16977411 to=16978473 hash=0x0000000000000000000000000000000000000000000000000000000000000000 header sending=1.662723ms log sending=284ns\r\nINFO[04-04|22:35:37.149] [2/15 Headers] Waiting for Consensus Layer...\r\nINFO[04-04|22:36:14.398] [txpool] stat                            block=16500099 pending=119 baseFee=25760 queued=21707 alloc=3.2GB sys=6.3GB\r\nINFO[04-04|22:36:14.398] [LightClient] P2P                        peers=14\r\nINFO[04-04|22:37:14.398] [LightClient] P2P                        peers=13\r\nINFO[04-04|22:37:14.423] [txpool] stat                            block=16500099 pending=141 baseFee=27501 queued=22296 alloc=4.0GB sys=6.3GB\r\nINFO[04-04|22:37:15.742] [p2p] GoodPeers                          eth67=13 eth66=4 eth68=8\r\nINFO[04-04|22:38:14.398] [txpool] stat                            block=16500099 pending=146 baseFee=27859 queued=22762 alloc=2.9GB sys=6.3GB\r\nINFO[04-04|22:38:14.399] [LightClient] P2P                        peers=6\r\nINFO[04-04|22:38:15.640] [2/15 Headers] Handling new payload      height=16978508 hash=0x5e82467270c66aac590213aba8da608260fc4ad4c4d103b70cb7b641e5f0975d\r\nINFO[04-04|22:38:15.640] [2/15 Headers] Downloading PoS headers... height=16978507 hash=0xc41e90bd1df570727f61545f6edeee2300e3a4b2bf26f89ddbf90c14b523dd64 requestId=8\r\nINFO[04-04|22:38:15.640] [2/15 Headers] DONE                      in=2m38.491094228s\r\nINFO[04-04|22:38:15.641] [5/15 Bodies] Processing bodies...       from=16500099 to=16978435\r\nINFO[04-04|22:38:35.641] [5/15 Bodies] Downloading block bodies   block_num=16500099 delivery/sec=16.0MB wasted/sec=9.5MB remaining=478335 delivered=4222 cache=256.0MB alloc=4.8GB sys=6.3GB\r\nINFO[04-04|22:38:55.652] [5/15 Bodies] Downloading block bodies   block_num=16500099 delivery/sec=18.9MB wasted/sec=0B remaining=478335 delivered=8940 cache=256.0MB alloc=4.2GB sys=6.3GB\r\nINFO[04-04|22:39:14.397] [LightClient] P2P                        peers=7\r\nINFO[04-04|22:39:14.411] [txpool] stat                            block=16500099 pending=163 baseFee=28710 queued=23158 alloc=4.3GB sys=6.3GB\r\nINFO[04-04|22:39:15.677] [5/15 Bodies] Downloading block bodies   block_num=16500099 delivery/sec=19.8MB wasted/sec=0B remaining=478335 delivered=13887 cache=256.0MB alloc=4.5GB sys=6.3GB\r\nINFO[04-04|22:39:15.742] [p2p] GoodPeers                          eth66=4 eth67=14 eth68=7\r\nINFO[04-04|22:39:35.676] [5/15 Bodies] Downloading block bodies   block_num=16500099 delivery/sec=18.7MB wasted/sec=120.8KB remaining=478335 delivered=18632 cache=256.0MB alloc=4.5GB sys=6.3GB\r\nINFO[04-04|22:39:55.642] [5/15 Bodies] Downloading block bodies   block_num=16500099 delivery/sec=19.5MB wasted/sec=0B remaining=478335 delivered=23483 cache=256.0MB alloc=4.5GB sys=6.3GB\r\nINFO[04-04|22:39:55.672] [5/15 Bodies] DONE                       in=1m40.031501617s\r\nINFO[04-04|22:39:55.672] Commit cycle                             in=10.042µs\r\nINFO[04-04|22:39:55.672] Timings (slower than 50ms)               Headers=2m38.491s Bodies=1m40.031s\r\nINFO[04-04|22:39:55.672] Tables                                   PlainState=86.1GB AccountChangeSet=178.3GB StorageChangeSet=270.1GB BlockTransaction=10.0MB TransactionLog=516.3GB FreeList=1.7MB ReclaINFO[04-04|22:40:15.691] [5/15 Bodies] Downloading block bodies   block_num=16500099 delivery/sec=14.1MB wasted/sec=5.1MB remaining=478335 delivered=3799 cache=256.0MB alloc=4.4GB sys=6.3GB\r\nINFO[04-04|22:40:35.684] [5/15 Bodies] Downloading block bodies   block_num=16500099 delivery/sec=18.8MB wasted/sec=349.8KB remaining=478335 delivered=8475 cache=256.0MB alloc=4.5GB sys=6.3GBINFO[04-04|22:40:55.677] [5/15 Bodies] Downloading block bodies   block_num=16500099 delivery/sec=19.7MB wasted/sec=186.8KB remaining=478335 delivered=13575 cache=256.0MB alloc=4.3GB sys=6.3GB\r\nINFO[04-04|22:41:14.399] [LightClient] P2P                        peers=2\r\nINFO[04-04|22:41:14.411] [txpool] stat                            block=16500099 pending=308 baseFee=29201 queued=24120 alloc=4.1GB sys=6.3GB\r\nINFO[04-04|22:41:15.677] [5/15 Bodies] Downloading block bodies   block_num=16500099 delivery/sec=19.3MB wasted/sec=0B remaining=478335 delivered=18568 cache=256.0MB alloc=4.3GB sys=6.3GB\r\nINFO[04-04|22:41:15.742] [p2p] GoodPeers                          eth66=4 eth67=15 eth68=7\r\nINFO[04-04|22:41:35.684] [5/15 Bodies] Downloading block bodies   block_num=16500099 delivery/sec=18.9MB wasted/sec=0B remaining=478335 delivered=23327 cache=256.0MB alloc=4.2GB sys=6.3GB\r\nINFO[04-04|22:41:35.695] [5/15 Bodies] DONE                       in=1m40.018786721s\r\nINFO[04-04|22:41:35.699] Commit cycle                             in=4.344867ms\r\nINFO[04-04|22:41:35.699] Timings (slower than 50ms)               Bodies=1m40.018s\r\nINFO[04-04|22:41:35.699] Tables                                   PlainState=86.1GB AccountChangeSet=178.3GB StorageChangeSet=270.1GB BlockTransaction=10.0MB TransactionLog=516.3GB FreeList=1.7MB ReclaimableSpace=1.7GB\r\nINFO[04-04|22:41:35.701] RPC Daemon notified of new headers       from=16977411 to=16978507 hash=0x0000000000000000000000000000000000000000000000000000000000000000 header sending=1.61769ms log sending=228ns\r\nINFO[04-04|22:41:35.701] [2/15 Headers] Waiting for Consensus Layer...\r\nINFO[04-04|22:41:35.701] [2/15 Headers] Handling new payload      height=16978508 hash=0x5e82467270c66aac590213aba8da608260fc4ad4c4d103b70cb7b641e5f0975d\r\nINFO[04-04|22:41:35.703] [5/15 Bodies] Processing bodies...       from=16500099 to=16978435\r\nINFO[04-04|22:41:55.703] [5/15 Bodies] Downloading block bodies   block_num=16500099 delivery/sec=14.5MB wasted/sec=5.1MB remaining=478335 delivered=3731 cache=256.0MB alloc=4.1GB sys=6.3GBINFO[04-04|22:42:14.397] [LightClient] P2P                        peers=4\r\nINFO[04-04|22:42:14.400] [txpool] stat                            block=16500099 pending=317 baseFee=29446 queued=24512 alloc=4.1GB sys=6.3GBINFO[04-04|22:42:15.703] [5/15 Bodies] Downloading block bodies   block_num=16500099 delivery/sec=19.3MB wasted/sec=0B remaining=478335 delivered=8563 cache=256.0MB alloc=4.2GB sys=6.3GB\r\nINFO[04-04|22:42:35.749] [5/15 Bodies] Downloading block bodies   block_num=16500099 delivery/sec=19.0MB wasted/sec=0B remaining=478335 delivered=13410 cache=256.0MB alloc=4.2GB sys=6.3GB\r\nINFO[04-04|22:42:55.703] [5/15 Bodies] Downloading block bodies   block_num=16500099 delivery/sec=19.5MB wasted/sec=175.1KB remaining=478335 delivered=18358 cache=256.0MB alloc=4.2GB sys=6.3GB\r\nINFO[04-04|22:43:14.399] [LightClient] P2P                        peers=7\r\nINFO[04-04|22:43:14.413] [txpool] stat                            block=16500099 pending=323 baseFee=30000 queued=25134 alloc=3.9GB sys=6.3GB\r\nINFO[04-04|22:43:15.703] [5/15 Bodies] Downloading block bodies   block_num=16500099 delivery/sec=18.6MB wasted/sec=82.5KB remaining=478335 delivered=22999 cache=256.0MB alloc=4.0GB sys=6.3GB\r\nINFO[04-04|22:43:15.720] [5/15 Bodies] DONE                       in=1m40.017827932s\r\nINFO[04-04|22:43:15.721] Commit cycle                             in=834.117µs\r\nINFO[04-04|22:43:15.721] Timings (slower than 50ms)               Bodies=1m40.017s\r\nINFO[04-04|22:43:15.721] Tables                                   PlainState=86.1GB AccountChangeSet=178.3GB StorageChangeSet=270.1GB BlockTransaction=10.0MB TransactionLog=516.3GB FreeList=1.7MB ReclaimableSpace=1.7GB\r\nINFO[04-04|22:43:15.723] RPC Daemon notified of new headers       from=16977411 to=16978508 hash=0x0000000000000000000000000000000000000000000000000000000000000000 header sending=1.617664ms log sending=259ns\r\nINFO[04-04|22:43:15.723] [2/15 Headers] Waiting for Consensus Layer... \r\nINFO[04-04|22:43:15.723] [2/15 Headers] Handling new payload      height=16978533 hash=0x34934057252817d505683836c9442e9b4c2cb3db4f8a76f5121ad59176a1ed19\r\nINFO[04-04|22:43:15.724] [2/15 Headers] Downloading PoS headers... height=16978532 hash=0xac88a878534ffdde8b294896263443b7fee93c3464ad767e0871d7fecd6138cd requestId=9\r\nINFO[04-04|22:43:15.724] [5/15 Bodies] Processing bodies...       from=16500099 to=16978435\r\nINFO[04-04|22:43:15.742] [p2p] GoodPeers                          eth68=7 eth66=5 eth67=17\r\nINFO[04-04|22:43:35.736] [5/15 Bodies] Downloading block bodies   block_num=16500099 delivery/sec=14.1MB wasted/sec=5.9MB remaining=478335 delivered=3552 cache=256.0MB alloc=4.0GB sys=6.3GB\r\n```\r\n",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/7260/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/7260/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1497243607",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/7260#issuecomment-1497243607",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/7260",
    "id": 1497243607,
    "node_id": "IC_kwDOC0FsAM5ZPh_X",
    "user": {
      "login": "AskAlexSharov",
      "id": 46885206,
      "node_id": "MDQ6VXNlcjQ2ODg1MjA2",
      "avatar_url": "https://avatars.githubusercontent.com/u/46885206?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/AskAlexSharov",
      "html_url": "https://github.com/AskAlexSharov",
      "followers_url": "https://api.github.com/users/AskAlexSharov/followers",
      "following_url": "https://api.github.com/users/AskAlexSharov/following{/other_user}",
      "gists_url": "https://api.github.com/users/AskAlexSharov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/AskAlexSharov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/AskAlexSharov/subscriptions",
      "organizations_url": "https://api.github.com/users/AskAlexSharov/orgs",
      "repos_url": "https://api.github.com/users/AskAlexSharov/repos",
      "events_url": "https://api.github.com/users/AskAlexSharov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/AskAlexSharov/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-04-05T10:11:20Z",
    "updated_at": "2023-04-05T10:11:20Z",
    "author_association": "COLLABORATOR",
    "body": "i think it's fixed in `devel` branch",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1497243607/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 1
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1500766457",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/7260#issuecomment-1500766457",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/7260",
    "id": 1500766457,
    "node_id": "IC_kwDOC0FsAM5Zc-D5",
    "user": {
      "login": "marshalys",
      "id": 344530,
      "node_id": "MDQ6VXNlcjM0NDUzMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/344530?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/marshalys",
      "html_url": "https://github.com/marshalys",
      "followers_url": "https://api.github.com/users/marshalys/followers",
      "following_url": "https://api.github.com/users/marshalys/following{/other_user}",
      "gists_url": "https://api.github.com/users/marshalys/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/marshalys/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/marshalys/subscriptions",
      "organizations_url": "https://api.github.com/users/marshalys/orgs",
      "repos_url": "https://api.github.com/users/marshalys/repos",
      "events_url": "https://api.github.com/users/marshalys/events{/privacy}",
      "received_events_url": "https://api.github.com/users/marshalys/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-04-08T02:25:57Z",
    "updated_at": "2023-04-08T02:25:57Z",
    "author_association": "CONTRIBUTOR",
    "body": "When this fix will merge to release?\r\n\r\n\r\n> i think it's fixed in `devel` branch\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1500766457/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1508436501",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/7260#issuecomment-1508436501",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/7260",
    "id": 1508436501,
    "node_id": "IC_kwDOC0FsAM5Z6OoV",
    "user": {
      "login": "etelpmoc",
      "id": 45206975,
      "node_id": "MDQ6VXNlcjQ1MjA2OTc1",
      "avatar_url": "https://avatars.githubusercontent.com/u/45206975?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/etelpmoc",
      "html_url": "https://github.com/etelpmoc",
      "followers_url": "https://api.github.com/users/etelpmoc/followers",
      "following_url": "https://api.github.com/users/etelpmoc/following{/other_user}",
      "gists_url": "https://api.github.com/users/etelpmoc/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/etelpmoc/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/etelpmoc/subscriptions",
      "organizations_url": "https://api.github.com/users/etelpmoc/orgs",
      "repos_url": "https://api.github.com/users/etelpmoc/repos",
      "events_url": "https://api.github.com/users/etelpmoc/events{/privacy}",
      "received_events_url": "https://api.github.com/users/etelpmoc/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-04-14T12:31:20Z",
    "updated_at": "2023-04-14T12:32:12Z",
    "author_association": "NONE",
    "body": "I am also getting same error. Do we have any updates on this issue? \r\nI also get stucked at devel branch.",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1508436501/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1510925910",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/7260#issuecomment-1510925910",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/7260",
    "id": 1510925910,
    "node_id": "IC_kwDOC0FsAM5aDuZW",
    "user": {
      "login": "AskAlexSharov",
      "id": 46885206,
      "node_id": "MDQ6VXNlcjQ2ODg1MjA2",
      "avatar_url": "https://avatars.githubusercontent.com/u/46885206?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/AskAlexSharov",
      "html_url": "https://github.com/AskAlexSharov",
      "followers_url": "https://api.github.com/users/AskAlexSharov/followers",
      "following_url": "https://api.github.com/users/AskAlexSharov/following{/other_user}",
      "gists_url": "https://api.github.com/users/AskAlexSharov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/AskAlexSharov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/AskAlexSharov/subscriptions",
      "organizations_url": "https://api.github.com/users/AskAlexSharov/orgs",
      "repos_url": "https://api.github.com/users/AskAlexSharov/repos",
      "events_url": "https://api.github.com/users/AskAlexSharov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/AskAlexSharov/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-04-17T08:31:31Z",
    "updated_at": "2023-04-17T08:31:31Z",
    "author_association": "COLLABORATOR",
    "body": "@etelpmoc hi. can you check if `devel` git branch fixed this issue?",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1510925910/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1510955577",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/7260#issuecomment-1510955577",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/7260",
    "id": 1510955577,
    "node_id": "IC_kwDOC0FsAM5aD1o5",
    "user": {
      "login": "etelpmoc",
      "id": 45206975,
      "node_id": "MDQ6VXNlcjQ1MjA2OTc1",
      "avatar_url": "https://avatars.githubusercontent.com/u/45206975?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/etelpmoc",
      "html_url": "https://github.com/etelpmoc",
      "followers_url": "https://api.github.com/users/etelpmoc/followers",
      "following_url": "https://api.github.com/users/etelpmoc/following{/other_user}",
      "gists_url": "https://api.github.com/users/etelpmoc/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/etelpmoc/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/etelpmoc/subscriptions",
      "organizations_url": "https://api.github.com/users/etelpmoc/orgs",
      "repos_url": "https://api.github.com/users/etelpmoc/repos",
      "events_url": "https://api.github.com/users/etelpmoc/events{/privacy}",
      "received_events_url": "https://api.github.com/users/etelpmoc/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-04-17T08:53:57Z",
    "updated_at": "2023-04-17T08:53:57Z",
    "author_association": "NONE",
    "body": "I fixed this infinite loop issue by running without --externalcl option.\r\n\r\nFor now I cannot check the status of devel branch ",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1510955577/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1510969261",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/7260#issuecomment-1510969261",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/7260",
    "id": 1510969261,
    "node_id": "IC_kwDOC0FsAM5aD4-t",
    "user": {
      "login": "AskAlexSharov",
      "id": 46885206,
      "node_id": "MDQ6VXNlcjQ2ODg1MjA2",
      "avatar_url": "https://avatars.githubusercontent.com/u/46885206?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/AskAlexSharov",
      "html_url": "https://github.com/AskAlexSharov",
      "followers_url": "https://api.github.com/users/AskAlexSharov/followers",
      "following_url": "https://api.github.com/users/AskAlexSharov/following{/other_user}",
      "gists_url": "https://api.github.com/users/AskAlexSharov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/AskAlexSharov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/AskAlexSharov/subscriptions",
      "organizations_url": "https://api.github.com/users/AskAlexSharov/orgs",
      "repos_url": "https://api.github.com/users/AskAlexSharov/repos",
      "events_url": "https://api.github.com/users/AskAlexSharov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/AskAlexSharov/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-04-17T09:03:08Z",
    "updated_at": "2023-04-17T09:03:08Z",
    "author_association": "COLLABORATOR",
    "body": "@keithchew @etelpmoc - what external CL did you use?",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1510969261/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1510974784",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/7260#issuecomment-1510974784",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/7260",
    "id": 1510974784,
    "node_id": "IC_kwDOC0FsAM5aD6VA",
    "user": {
      "login": "etelpmoc",
      "id": 45206975,
      "node_id": "MDQ6VXNlcjQ1MjA2OTc1",
      "avatar_url": "https://avatars.githubusercontent.com/u/45206975?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/etelpmoc",
      "html_url": "https://github.com/etelpmoc",
      "followers_url": "https://api.github.com/users/etelpmoc/followers",
      "following_url": "https://api.github.com/users/etelpmoc/following{/other_user}",
      "gists_url": "https://api.github.com/users/etelpmoc/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/etelpmoc/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/etelpmoc/subscriptions",
      "organizations_url": "https://api.github.com/users/etelpmoc/orgs",
      "repos_url": "https://api.github.com/users/etelpmoc/repos",
      "events_url": "https://api.github.com/users/etelpmoc/events{/privacy}",
      "received_events_url": "https://api.github.com/users/etelpmoc/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-04-17T09:06:16Z",
    "updated_at": "2023-04-17T09:06:16Z",
    "author_association": "NONE",
    "body": "@AskAlexSharov Mine was the most recent version of Lighthouse",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1510974784/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1510986221",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/7260#issuecomment-1510986221",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/7260",
    "id": 1510986221,
    "node_id": "IC_kwDOC0FsAM5aD9Ht",
    "user": {
      "login": "keithchew",
      "id": 5557929,
      "node_id": "MDQ6VXNlcjU1NTc5Mjk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5557929?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/keithchew",
      "html_url": "https://github.com/keithchew",
      "followers_url": "https://api.github.com/users/keithchew/followers",
      "following_url": "https://api.github.com/users/keithchew/following{/other_user}",
      "gists_url": "https://api.github.com/users/keithchew/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/keithchew/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/keithchew/subscriptions",
      "organizations_url": "https://api.github.com/users/keithchew/orgs",
      "repos_url": "https://api.github.com/users/keithchew/repos",
      "events_url": "https://api.github.com/users/keithchew/events{/privacy}",
      "received_events_url": "https://api.github.com/users/keithchew/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-04-17T09:13:16Z",
    "updated_at": "2023-04-17T09:22:17Z",
    "author_association": "NONE",
    "body": "hi @AskAlexSharov \r\n\r\nI have encountered this issue with both Prysm and internal LightClient. For LightClient, workaround is to keep restarting and eventually it will recover. For Prysm, I also have a workaround process to recover from this scenario (ie disconnect external CL, restart Erigon with internal CL until sycned, reconnect external CL).\r\n\r\nNote that for my external CL Prysm case, I believe it happened because I did not sync CL and Erigon properly (From the logs, you can see the infinite loops only occurs when Erigon is quite far behind, and CL keeps interrupting it with new headers). When both are synced up correctly, I have not seen this issue and the the system works beautifully. Both my goerli and mainnet cluster setup have been on the latest node without lag for the past month, 24/7. Super happy with Erigon.\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1510986221/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1565812669",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/7260#issuecomment-1565812669",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/7260",
    "id": 1565812669,
    "node_id": "IC_kwDOC0FsAM5dVGe9",
    "user": {
      "login": "github-actions[bot]",
      "id": 41898282,
      "node_id": "MDM6Qm90NDE4OTgyODI=",
      "avatar_url": "https://avatars.githubusercontent.com/in/15368?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/github-actions%5Bbot%5D",
      "html_url": "https://github.com/apps/github-actions",
      "followers_url": "https://api.github.com/users/github-actions%5Bbot%5D/followers",
      "following_url": "https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}",
      "gists_url": "https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/github-actions%5Bbot%5D/subscriptions",
      "organizations_url": "https://api.github.com/users/github-actions%5Bbot%5D/orgs",
      "repos_url": "https://api.github.com/users/github-actions%5Bbot%5D/repos",
      "events_url": "https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}",
      "received_events_url": "https://api.github.com/users/github-actions%5Bbot%5D/received_events",
      "type": "Bot",
      "site_admin": false
    },
    "created_at": "2023-05-28T02:33:55Z",
    "updated_at": "2023-05-28T02:33:55Z",
    "author_association": "NONE",
    "body": "This issue is stale because it has been open for 40 days with no activity. Remove stale label or comment, or this will be closed in 7 days.",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1565812669/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
