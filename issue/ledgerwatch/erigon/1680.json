{
  "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/1680",
  "repository_url": "https://api.github.com/repos/ledgerwatch/erigon",
  "labels_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/1680/labels{/name}",
  "comments_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/1680/comments",
  "events_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/1680/events",
  "html_url": "https://github.com/ledgerwatch/erigon/issues/1680",
  "id": 850913807,
  "node_id": "MDU6SXNzdWU4NTA5MTM4MDc=",
  "number": 1680,
  "title": "git error during rpc compile (but succeeds)",
  "user": {
    "login": "koen84",
    "id": 8461454,
    "node_id": "MDQ6VXNlcjg0NjE0NTQ=",
    "avatar_url": "https://avatars.githubusercontent.com/u/8461454?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/koen84",
    "html_url": "https://github.com/koen84",
    "followers_url": "https://api.github.com/users/koen84/followers",
    "following_url": "https://api.github.com/users/koen84/following{/other_user}",
    "gists_url": "https://api.github.com/users/koen84/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/koen84/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/koen84/subscriptions",
    "organizations_url": "https://api.github.com/users/koen84/orgs",
    "repos_url": "https://api.github.com/users/koen84/repos",
    "events_url": "https://api.github.com/users/koen84/events{/privacy}",
    "received_events_url": "https://api.github.com/users/koen84/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 5,
  "created_at": "2021-04-06T03:14:53Z",
  "updated_at": "2021-04-11T03:19:00Z",
  "closed_at": "2021-04-11T03:18:59Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "#### System information\r\n\r\nGeth version: `v2021-04-01`\r\nOS & Version: Ubuntu 18.04 LTS\r\nCommit hash : e47ed7c\r\n\r\n#### Expected behaviour\r\nrpcdaemon compiles without error\r\n\r\n#### Actual behaviour\r\n`make rpcdaemon`\r\n\r\n```\r\nerror: unknown option `show-current'\r\nusage: git branch [<options>] [-r | -a] [--merged | --no-merged]\r\n   or: git branch [<options>] [-l] [-f] <branch-name> [<start-point>]\r\n   or: git branch [<options>] [-r] (-d | -D) <branch-name>...\r\n   or: git branch [<options>] (-m | -M) [<old-branch>] <new-branch>\r\n   or: git branch [<options>] (-c | -C) [<old-branch>] <new-branch>\r\n   or: git branch [<options>] [-r | -a] [--points-at]\r\n   or: git branch [<options>] [-r | -a] [--format]\r\n\r\nGeneric options\r\n    -v, --verbose         show hash and subject, give twice for upstream branch\r\n    -q, --quiet           suppress informational messages\r\n    -t, --track           set up tracking mode (see git-pull(1))\r\n    -u, --set-upstream-to <upstream>\r\n                          change the upstream info\r\n    --unset-upstream      Unset the upstream info\r\n    --color[=<when>]      use colored output\r\n    -r, --remotes         act on remote-tracking branches\r\n    --contains <commit>   print only branches that contain the commit\r\n    --no-contains <commit>\r\n                          print only branches that don't contain the commit\r\n    --abbrev[=<n>]        use <n> digits to display SHA-1s\r\n\r\nSpecific git-branch actions:\r\n    -a, --all             list both remote-tracking and local branches\r\n    -d, --delete          delete fully merged branch\r\n    -D                    delete branch (even if not merged)\r\n    -m, --move            move/rename a branch and its reflog\r\n    -M                    move/rename a branch, even if target exists\r\n    -c, --copy            copy a branch and its reflog\r\n    -C                    copy a branch, even if target exists\r\n    --list                list branch names\r\n    -l, --create-reflog   create the branch's reflog\r\n    --edit-description    edit the description for the branch\r\n    -f, --force           force creation, move/rename, deletion\r\n    --merged <commit>     print only branches that are merged\r\n    --no-merged <commit>  print only branches that are not merged\r\n    --column[=<style>]    list branches in columns\r\n    --sort <key>          field name to sort on\r\n    --points-at <object>  print only branches of the object\r\n    -i, --ignore-case     sorting and filtering are case insensitive\r\n    --format <format>     format to use for the output\r\n\r\nenv GO111MODULE=on go build -trimpath -tags \"mdbx\" -ldflags \"-X main.gitCommit=e47ed7ce159eda93cf765f163889c02ae19f4e2c -X main.gitBranch=\" -o /home/turbogeth/turbo-geth/build/bin/rpcdaemon ./cmd/rpcdaemon\r\nDone building.\r\nRun \"/home/turbogeth/turbo-geth/build/bin/rpcdaemon\" to launch rpcdaemon.\r\n\r\n```\r\n\r\n#### Steps to reproduce the behaviour\r\ngit pull\r\ngit checkout v2021.04.01\r\nmake rpcdaemon\r\n",
  "closed_by": {
    "login": "AskAlexSharov",
    "id": 46885206,
    "node_id": "MDQ6VXNlcjQ2ODg1MjA2",
    "avatar_url": "https://avatars.githubusercontent.com/u/46885206?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/AskAlexSharov",
    "html_url": "https://github.com/AskAlexSharov",
    "followers_url": "https://api.github.com/users/AskAlexSharov/followers",
    "following_url": "https://api.github.com/users/AskAlexSharov/following{/other_user}",
    "gists_url": "https://api.github.com/users/AskAlexSharov/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/AskAlexSharov/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/AskAlexSharov/subscriptions",
    "organizations_url": "https://api.github.com/users/AskAlexSharov/orgs",
    "repos_url": "https://api.github.com/users/AskAlexSharov/repos",
    "events_url": "https://api.github.com/users/AskAlexSharov/events{/privacy}",
    "received_events_url": "https://api.github.com/users/AskAlexSharov/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/1680/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/1680/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/813883386",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/1680#issuecomment-813883386",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/1680",
    "id": 813883386,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgxMzg4MzM4Ng==",
    "user": {
      "login": "AskAlexSharov",
      "id": 46885206,
      "node_id": "MDQ6VXNlcjQ2ODg1MjA2",
      "avatar_url": "https://avatars.githubusercontent.com/u/46885206?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/AskAlexSharov",
      "html_url": "https://github.com/AskAlexSharov",
      "followers_url": "https://api.github.com/users/AskAlexSharov/followers",
      "following_url": "https://api.github.com/users/AskAlexSharov/following{/other_user}",
      "gists_url": "https://api.github.com/users/AskAlexSharov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/AskAlexSharov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/AskAlexSharov/subscriptions",
      "organizations_url": "https://api.github.com/users/AskAlexSharov/orgs",
      "repos_url": "https://api.github.com/users/AskAlexSharov/repos",
      "events_url": "https://api.github.com/users/AskAlexSharov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/AskAlexSharov/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-04-06T07:10:29Z",
    "updated_at": "2021-04-06T07:10:29Z",
    "author_association": "COLLABORATOR",
    "body": "Your git version is too old. What maximum git version available for Ubuntu 18.04? ",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/813883386/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/817193709",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/1680#issuecomment-817193709",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/1680",
    "id": 817193709,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgxNzE5MzcwOQ==",
    "user": {
      "login": "koen84",
      "id": 8461454,
      "node_id": "MDQ6VXNlcjg0NjE0NTQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8461454?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/koen84",
      "html_url": "https://github.com/koen84",
      "followers_url": "https://api.github.com/users/koen84/followers",
      "following_url": "https://api.github.com/users/koen84/following{/other_user}",
      "gists_url": "https://api.github.com/users/koen84/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/koen84/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/koen84/subscriptions",
      "organizations_url": "https://api.github.com/users/koen84/orgs",
      "repos_url": "https://api.github.com/users/koen84/repos",
      "events_url": "https://api.github.com/users/koen84/events{/privacy}",
      "received_events_url": "https://api.github.com/users/koen84/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-04-10T19:50:12Z",
    "updated_at": "2021-04-10T19:50:12Z",
    "author_association": "NONE",
    "body": "I'm updated to latest packages and git version is 2.17.1",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/817193709/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/817236215",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/1680#issuecomment-817236215",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/1680",
    "id": 817236215,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgxNzIzNjIxNQ==",
    "user": {
      "login": "AskAlexSharov",
      "id": 46885206,
      "node_id": "MDQ6VXNlcjQ2ODg1MjA2",
      "avatar_url": "https://avatars.githubusercontent.com/u/46885206?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/AskAlexSharov",
      "html_url": "https://github.com/AskAlexSharov",
      "followers_url": "https://api.github.com/users/AskAlexSharov/followers",
      "following_url": "https://api.github.com/users/AskAlexSharov/following{/other_user}",
      "gists_url": "https://api.github.com/users/AskAlexSharov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/AskAlexSharov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/AskAlexSharov/subscriptions",
      "organizations_url": "https://api.github.com/users/AskAlexSharov/orgs",
      "repos_url": "https://api.github.com/users/AskAlexSharov/repos",
      "events_url": "https://api.github.com/users/AskAlexSharov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/AskAlexSharov/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-04-11T02:24:47Z",
    "updated_at": "2021-04-11T02:24:47Z",
    "author_association": "COLLABORATOR",
    "body": "Yep, it appeared only at 2.31 \r\nI will switch to use:  git rev-parse --abbrev-ref HEAD",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/817236215/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/817236541",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/1680#issuecomment-817236541",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/1680",
    "id": 817236541,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgxNzIzNjU0MQ==",
    "user": {
      "login": "AskAlexSharov",
      "id": 46885206,
      "node_id": "MDQ6VXNlcjQ2ODg1MjA2",
      "avatar_url": "https://avatars.githubusercontent.com/u/46885206?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/AskAlexSharov",
      "html_url": "https://github.com/AskAlexSharov",
      "followers_url": "https://api.github.com/users/AskAlexSharov/followers",
      "following_url": "https://api.github.com/users/AskAlexSharov/following{/other_user}",
      "gists_url": "https://api.github.com/users/AskAlexSharov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/AskAlexSharov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/AskAlexSharov/subscriptions",
      "organizations_url": "https://api.github.com/users/AskAlexSharov/orgs",
      "repos_url": "https://api.github.com/users/AskAlexSharov/repos",
      "events_url": "https://api.github.com/users/AskAlexSharov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/AskAlexSharov/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-04-11T02:28:48Z",
    "updated_at": "2021-04-11T02:28:48Z",
    "author_association": "COLLABORATOR",
    "body": "Or in 2.22 :-) don’t understand github’s ui: https://github.com/git/git/commit/0ecb1fc7269e15be890870937b8b639c987abd08",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/817236541/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/817240277",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/1680#issuecomment-817240277",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/1680",
    "id": 817240277,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgxNzI0MDI3Nw==",
    "user": {
      "login": "AskAlexSharov",
      "id": 46885206,
      "node_id": "MDQ6VXNlcjQ2ODg1MjA2",
      "avatar_url": "https://avatars.githubusercontent.com/u/46885206?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/AskAlexSharov",
      "html_url": "https://github.com/AskAlexSharov",
      "followers_url": "https://api.github.com/users/AskAlexSharov/followers",
      "following_url": "https://api.github.com/users/AskAlexSharov/following{/other_user}",
      "gists_url": "https://api.github.com/users/AskAlexSharov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/AskAlexSharov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/AskAlexSharov/subscriptions",
      "organizations_url": "https://api.github.com/users/AskAlexSharov/orgs",
      "repos_url": "https://api.github.com/users/AskAlexSharov/repos",
      "events_url": "https://api.github.com/users/AskAlexSharov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/AskAlexSharov/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-04-11T03:18:59Z",
    "updated_at": "2021-04-11T03:18:59Z",
    "author_association": "COLLABORATOR",
    "body": "fixed by https://github.com/ledgerwatch/turbo-geth/pull/1710",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/817240277/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
