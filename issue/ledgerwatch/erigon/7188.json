{
  "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/7188",
  "repository_url": "https://api.github.com/repos/ledgerwatch/erigon",
  "labels_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/7188/labels{/name}",
  "comments_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/7188/comments",
  "events_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/7188/events",
  "html_url": "https://github.com/ledgerwatch/erigon/issues/7188",
  "id": 1641765842,
  "node_id": "I_kwDOC0FsAM5h21vS",
  "number": 7188,
  "title": "transaction traces,  `gasUsed` return to 0x0",
  "user": {
    "login": "zzir",
    "id": 8017428,
    "node_id": "MDQ6VXNlcjgwMTc0Mjg=",
    "avatar_url": "https://avatars.githubusercontent.com/u/8017428?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/zzir",
    "html_url": "https://github.com/zzir",
    "followers_url": "https://api.github.com/users/zzir/followers",
    "following_url": "https://api.github.com/users/zzir/following{/other_user}",
    "gists_url": "https://api.github.com/users/zzir/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/zzir/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/zzir/subscriptions",
    "organizations_url": "https://api.github.com/users/zzir/orgs",
    "repos_url": "https://api.github.com/users/zzir/repos",
    "events_url": "https://api.github.com/users/zzir/events{/privacy}",
    "received_events_url": "https://api.github.com/users/zzir/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 4566396003,
      "node_id": "LA_kwDOC0FsAM8AAAABEC2sYw",
      "url": "https://api.github.com/repos/ledgerwatch/erigon/labels/Stale",
      "name": "Stale",
      "color": "ededed",
      "default": false,
      "description": null
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2023-03-27T09:43:58Z",
  "updated_at": "2023-05-15T02:25:14Z",
  "closed_at": "2023-05-15T02:25:14Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "Hi guys, I have a question about trace `gasUsed`, use JSON-RPC to access between `trace_transaction` and `debug_traceTransaction`, there seems to be some difference in the result of `gasUsed`. I don't know which result to trust.\r\n\r\nnode version:\r\n```json\r\n{\r\n  \"jsonrpc\": \"2.0\",\r\n  \"id\": \"1\",\r\n  \"result\": \"erigon/2.41.0/linux-amd64/go1.20.2\"\r\n}\r\n```\r\n\r\nan example tx: [0x517343c8d3a54d111edd2a4426946e5ed11a49d102fed0eb5622d718ae347199](https://etherscan.io/tx/0x517343c8d3a54d111edd2a4426946e5ed11a49d102fed0eb5622d718ae347199)\r\n\r\n`debug_traceTransaction` result :\r\n```bash\r\n## debug_traceTransaction\r\ncurl -X \"POST\" \"http://127.0.0.1:8545/\" \\\r\n     -H 'Content-Type: application/json; charset=utf-8' \\\r\n     -d $'{\r\n  \"jsonrpc\": \"2.0\",\r\n  \"id\": 0,\r\n  \"method\": \"debug_traceTransaction\",\r\n  \"params\": [\r\n    \"0x517343c8d3a54d111edd2a4426946e5ed11a49d102fed0eb5622d718ae347199\",\r\n    {\r\n      \"tracer\": \"callTracer\"\r\n    }\r\n  ]\r\n}'\r\n\r\n## result\r\n{\r\n  \"id\": 0,\r\n  \"jsonrpc\": \"2.0\",\r\n  \"result\": {\r\n    \"from\": \"0x151255dd9e38e44db38ea06ec66d0d113d6cbe37\",\r\n    \"gas\": \"0x10d88\",\r\n    \"gasUsed\": \"0x5208\", # <--- here\r\n    \"input\": \"0x\",\r\n    \"to\": \"0x66c64c746f3d45e302482ced857c8d810fce567c\",\r\n    \"type\": \"CALL\",\r\n    \"value\": \"0xe7a4695208eec00\"\r\n  }\r\n}\r\n```\r\n\r\n`trace_transaction` result: \r\n```bash\r\n## trace_transaction\r\ncurl -X \"POST\" \"http://127.0.0.1:8545/\" \\\r\n     -H 'Content-Type: application/json; charset=utf-8' \\\r\n     -d $'{\r\n  \"jsonrpc\": \"2.0\",\r\n  \"id\": 0,\r\n  \"method\": \"trace_transaction\",\r\n  \"params\": [\r\n    \"0x517343c8d3a54d111edd2a4426946e5ed11a49d102fed0eb5622d718ae347199\"\r\n  ]\r\n}'\r\n\r\n## result\r\n{\r\n  \"jsonrpc\": \"2.0\",\r\n  \"id\": 0,\r\n  \"result\": [\r\n    {\r\n      \"action\": {\r\n        \"from\": \"0x151255dd9e38e44db38ea06ec66d0d113d6cbe37\",\r\n        \"callType\": \"call\",\r\n        \"gas\": \"0x10d88\",\r\n        \"input\": \"0x\",\r\n        \"to\": \"0x66c64c746f3d45e302482ced857c8d810fce567c\",\r\n        \"value\": \"0xe7a4695208eec00\"\r\n      },\r\n      \"blockHash\": \"0x6a36d7708947311324f5debf77eb1331fd8200d7301bf8764a200a4a524cca55\",\r\n      \"blockNumber\": 1118154,\r\n      \"result\": {\r\n        \"gasUsed\": \"0x0\", # <--- problem?\r\n        \"output\": \"0x\"\r\n      },\r\n      \"subtraces\": 0,\r\n      \"traceAddress\": [],\r\n      \"transactionHash\": \"0x517343c8d3a54d111edd2a4426946e5ed11a49d102fed0eb5622d718ae347199\",\r\n      \"transactionPosition\": 0,\r\n      \"type\": \"call\"\r\n    }\r\n  ]\r\n}\r\n```\r\n\r\n",
  "closed_by": {
    "login": "github-actions[bot]",
    "id": 41898282,
    "node_id": "MDM6Qm90NDE4OTgyODI=",
    "avatar_url": "https://avatars.githubusercontent.com/in/15368?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/github-actions%5Bbot%5D",
    "html_url": "https://github.com/apps/github-actions",
    "followers_url": "https://api.github.com/users/github-actions%5Bbot%5D/followers",
    "following_url": "https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}",
    "gists_url": "https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/github-actions%5Bbot%5D/subscriptions",
    "organizations_url": "https://api.github.com/users/github-actions%5Bbot%5D/orgs",
    "repos_url": "https://api.github.com/users/github-actions%5Bbot%5D/repos",
    "events_url": "https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}",
    "received_events_url": "https://api.github.com/users/github-actions%5Bbot%5D/received_events",
    "type": "Bot",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/7188/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/7188/timeline",
  "performed_via_github_app": null,
  "state_reason": "not_planned"
}
[
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1537272172",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/7188#issuecomment-1537272172",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/7188",
    "id": 1537272172,
    "node_id": "IC_kwDOC0FsAM5boOls",
    "user": {
      "login": "github-actions[bot]",
      "id": 41898282,
      "node_id": "MDM6Qm90NDE4OTgyODI=",
      "avatar_url": "https://avatars.githubusercontent.com/in/15368?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/github-actions%5Bbot%5D",
      "html_url": "https://github.com/apps/github-actions",
      "followers_url": "https://api.github.com/users/github-actions%5Bbot%5D/followers",
      "following_url": "https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}",
      "gists_url": "https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/github-actions%5Bbot%5D/subscriptions",
      "organizations_url": "https://api.github.com/users/github-actions%5Bbot%5D/orgs",
      "repos_url": "https://api.github.com/users/github-actions%5Bbot%5D/repos",
      "events_url": "https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}",
      "received_events_url": "https://api.github.com/users/github-actions%5Bbot%5D/received_events",
      "type": "Bot",
      "site_admin": false
    },
    "created_at": "2023-05-07T02:27:21Z",
    "updated_at": "2023-05-07T02:27:21Z",
    "author_association": "NONE",
    "body": "This issue is stale because it has been open for 40 days with no activity. Remove stale label or comment, or this will be closed in 7 days.",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1537272172/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1547105475",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/7188#issuecomment-1547105475",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/7188",
    "id": 1547105475,
    "node_id": "IC_kwDOC0FsAM5cNvTD",
    "user": {
      "login": "github-actions[bot]",
      "id": 41898282,
      "node_id": "MDM6Qm90NDE4OTgyODI=",
      "avatar_url": "https://avatars.githubusercontent.com/in/15368?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/github-actions%5Bbot%5D",
      "html_url": "https://github.com/apps/github-actions",
      "followers_url": "https://api.github.com/users/github-actions%5Bbot%5D/followers",
      "following_url": "https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}",
      "gists_url": "https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/github-actions%5Bbot%5D/subscriptions",
      "organizations_url": "https://api.github.com/users/github-actions%5Bbot%5D/orgs",
      "repos_url": "https://api.github.com/users/github-actions%5Bbot%5D/repos",
      "events_url": "https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}",
      "received_events_url": "https://api.github.com/users/github-actions%5Bbot%5D/received_events",
      "type": "Bot",
      "site_admin": false
    },
    "created_at": "2023-05-15T02:25:14Z",
    "updated_at": "2023-05-15T02:25:14Z",
    "author_association": "NONE",
    "body": "This issue was closed because it has been stalled for 7 days with no activity.",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1547105475/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
