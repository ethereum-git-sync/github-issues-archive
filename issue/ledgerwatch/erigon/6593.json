{
  "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/6593",
  "repository_url": "https://api.github.com/repos/ledgerwatch/erigon",
  "labels_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/6593/labels{/name}",
  "comments_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/6593/comments",
  "events_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/6593/events",
  "html_url": "https://github.com/ledgerwatch/erigon/issues/6593",
  "id": 1535717391,
  "node_id": "I_kwDOC0FsAM5biTAP",
  "number": 6593,
  "title": "panic: fail to open mdbx: mdbx_env_create: MDBX_INCOMPATIBLE: Environment or database is not compatible with the requested operation or the specified flags",
  "user": {
    "login": "Liamlu28",
    "id": 3294496,
    "node_id": "MDQ6VXNlcjMyOTQ0OTY=",
    "avatar_url": "https://avatars.githubusercontent.com/u/3294496?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/Liamlu28",
    "html_url": "https://github.com/Liamlu28",
    "followers_url": "https://api.github.com/users/Liamlu28/followers",
    "following_url": "https://api.github.com/users/Liamlu28/following{/other_user}",
    "gists_url": "https://api.github.com/users/Liamlu28/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/Liamlu28/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/Liamlu28/subscriptions",
    "organizations_url": "https://api.github.com/users/Liamlu28/orgs",
    "repos_url": "https://api.github.com/users/Liamlu28/repos",
    "events_url": "https://api.github.com/users/Liamlu28/events{/privacy}",
    "received_events_url": "https://api.github.com/users/Liamlu28/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 9,
  "created_at": "2023-01-17T03:16:00Z",
  "updated_at": "2023-01-25T02:08:23Z",
  "closed_at": "2023-01-25T02:08:23Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "When I updated   to version 2.33.1 -> 2.34.0 that  got  a panic error\r\n#### System information\r\n\r\nErigon version: v2.34.0\r\n\r\nOS & Version: Linux\r\n\r\nCommit hash : \r\n\r\n#### Expected behaviour\r\nv2.34.0 can be upgraded properly\r\n\r\n#### Actual behaviour\r\n```\r\n│ panic: fail to open mdbx: mdbx_env_create: MDBX_INCOMPATIBLE: Environment or database is not compatible with the requested operation or the specified flags                                                                                            │\r\n│                                                                                                                                                                                                                                                        │\r\n│ goroutine 1 [running]:                                                                                                                                                                                                                                 │\r\n│ github.com/ledgerwatch/erigon-lib/kv/mdbx.MdbxOpts.MustOpen({{0x2bac300, 0xc0006a7200}, 0x0, 0x288d508, {0xc00011a520, 0x1b}, 0x0, 0x80000000, 0x80000000, 0x5150000, ...})                                                                            │\r\n│     github.com/ledgerwatch/erigon-lib@v0.0.0-20230113043530-7c475cb52ecc/kv/mdbx/kv_mdbx.go:376 +0xb3                                                                                                                                                  │\r\n│ github.com/ledgerwatch/erigon/core.init.0()                                                                                                                                                                                                            │\r\n│     github.com/ledgerwatch/erigon/core/genesis.go:98 +0x185\r\n```\r\n\r\n#### Steps to reproduce the behaviour\r\nupdate v2.33.1 to v2.34.0\r\n\r\n\r\n\r\n````\r\n[backtrace]\r\n````\r\n",
  "closed_by": {
    "login": "Liamlu28",
    "id": 3294496,
    "node_id": "MDQ6VXNlcjMyOTQ0OTY=",
    "avatar_url": "https://avatars.githubusercontent.com/u/3294496?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/Liamlu28",
    "html_url": "https://github.com/Liamlu28",
    "followers_url": "https://api.github.com/users/Liamlu28/followers",
    "following_url": "https://api.github.com/users/Liamlu28/following{/other_user}",
    "gists_url": "https://api.github.com/users/Liamlu28/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/Liamlu28/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/Liamlu28/subscriptions",
    "organizations_url": "https://api.github.com/users/Liamlu28/orgs",
    "repos_url": "https://api.github.com/users/Liamlu28/repos",
    "events_url": "https://api.github.com/users/Liamlu28/events{/privacy}",
    "received_events_url": "https://api.github.com/users/Liamlu28/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/6593/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/6593/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1384782744",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/6593#issuecomment-1384782744",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/6593",
    "id": 1384782744,
    "node_id": "IC_kwDOC0FsAM5SihuY",
    "user": {
      "login": "Liamlu28",
      "id": 3294496,
      "node_id": "MDQ6VXNlcjMyOTQ0OTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3294496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Liamlu28",
      "html_url": "https://github.com/Liamlu28",
      "followers_url": "https://api.github.com/users/Liamlu28/followers",
      "following_url": "https://api.github.com/users/Liamlu28/following{/other_user}",
      "gists_url": "https://api.github.com/users/Liamlu28/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Liamlu28/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Liamlu28/subscriptions",
      "organizations_url": "https://api.github.com/users/Liamlu28/orgs",
      "repos_url": "https://api.github.com/users/Liamlu28/repos",
      "events_url": "https://api.github.com/users/Liamlu28/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Liamlu28/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-01-17T03:16:46Z",
    "updated_at": "2023-01-17T03:16:46Z",
    "author_association": "NONE",
    "body": "Works when using version 2.33.1\r\n![image](https://user-images.githubusercontent.com/3294496/212802116-9047f1e7-2b58-4a18-816b-ff5a0c1d711e.png)\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1384782744/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1384792314",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/6593#issuecomment-1384792314",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/6593",
    "id": 1384792314,
    "node_id": "IC_kwDOC0FsAM5SikD6",
    "user": {
      "login": "AskAlexSharov",
      "id": 46885206,
      "node_id": "MDQ6VXNlcjQ2ODg1MjA2",
      "avatar_url": "https://avatars.githubusercontent.com/u/46885206?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/AskAlexSharov",
      "html_url": "https://github.com/AskAlexSharov",
      "followers_url": "https://api.github.com/users/AskAlexSharov/followers",
      "following_url": "https://api.github.com/users/AskAlexSharov/following{/other_user}",
      "gists_url": "https://api.github.com/users/AskAlexSharov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/AskAlexSharov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/AskAlexSharov/subscriptions",
      "organizations_url": "https://api.github.com/users/AskAlexSharov/orgs",
      "repos_url": "https://api.github.com/users/AskAlexSharov/repos",
      "events_url": "https://api.github.com/users/AskAlexSharov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/AskAlexSharov/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-01-17T03:36:46Z",
    "updated_at": "2023-01-17T03:36:46Z",
    "author_association": "COLLABORATOR",
    "body": "fixed by https://github.com/ledgerwatch/erigon/pull/6594 ( branch: `mdbx_genesis_revert` )",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1384792314/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1386323456",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/6593#issuecomment-1386323456",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/6593",
    "id": 1386323456,
    "node_id": "IC_kwDOC0FsAM5SoZ4A",
    "user": {
      "login": "Liamlu28",
      "id": 3294496,
      "node_id": "MDQ6VXNlcjMyOTQ0OTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3294496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Liamlu28",
      "html_url": "https://github.com/Liamlu28",
      "followers_url": "https://api.github.com/users/Liamlu28/followers",
      "following_url": "https://api.github.com/users/Liamlu28/following{/other_user}",
      "gists_url": "https://api.github.com/users/Liamlu28/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Liamlu28/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Liamlu28/subscriptions",
      "organizations_url": "https://api.github.com/users/Liamlu28/orgs",
      "repos_url": "https://api.github.com/users/Liamlu28/repos",
      "events_url": "https://api.github.com/users/Liamlu28/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Liamlu28/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-01-18T01:15:24Z",
    "updated_at": "2023-01-18T01:20:07Z",
    "author_association": "NONE",
    "body": "The node doesn't start when I update v2.35.0.It seems like the same error.\r\n```\r\n[INFO] [01-18|01:12:48.368] Build info                               git_branch=HEAD git_tag=v2.35.0 git_commit=8931f36886d27bb96bb617d4e8a4738fca56bc5b  \r\n```\r\n> fixed by #6594 ( branch: `mdbx_genesis_revert` )\r\n```\r\n [WARN] [01-18|01:12:48.361] no log dir set, console logging only                                                                                                                                                                                       │\r\n│ [INFO] [01-18|01:12:48.362] Starting metrics server                  addr=http://127.0.0.1:6060/debug/metrics/prometheus                                                                                                                               │\r\n│ [WARN] [01-18|01:12:48.368] no log dir set, console logging only                                                                                                                                                                                       │\r\n│ [INFO] [01-18|01:12:48.368] Build info                               git_branch=HEAD git_tag=v2.35.0 git_commit=8931f36886d27bb96bb617d4e8a4738fca56bc5b                                                                                               │\r\n│ [INFO] [01-18|01:12:48.368] Starting Erigon on Görli testnet...                                                                                                                                                                                        │\r\n│ [INFO] [01-18|01:12:48.369] Maximum peer count                       ETH=100 total=100                                                                                                                                                                 │\r\n│ [INFO] [01-18|01:12:48.369] starting HTTP APIs                       APIs=web3,net,eth                                                                                                                                                                 │\r\n│ [INFO] [01-18|01:12:48.369] torrent verbosity                        level=WRN                                                                                                                                                                         │\r\n│ [INFO] [01-18|01:12:50.473] Set global gas cap                       cap=50000000                                                                                                                                                                      │\r\n│ [INFO] [01-18|01:12:50.474] [Downloader] Runnning with               ipv6-enabled=true ipv4-enabled=true download.rate=16mb upload.rate=4mb                                                                                                            │\r\n│ [INFO] [01-18|01:12:50.475] Opening Database                         label=chaindata path=/chain-data/erigon/chaindata                                                                                                                                 │\r\n│ [EROR] [01-18|01:12:50.475] Erigon startup                           err=\"mdbx_env_create: MDBX_INCOMPATIBLE: Environment or database is not compatible with the requested operation or the specified flags\"                                           │\r\n│ mdbx_env_create: MDBX_INCOMPATIBLE: Environment or database is not compatible with the requested operation or the specified flags\r\n```\r\n\r\n![image](https://user-images.githubusercontent.com/3294496/213057385-17821d8b-62ee-42c5-9e35-78c86a07f92b.png)\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1386323456/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1386411872",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/6593#issuecomment-1386411872",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/6593",
    "id": 1386411872,
    "node_id": "IC_kwDOC0FsAM5Sovdg",
    "user": {
      "login": "AskAlexSharov",
      "id": 46885206,
      "node_id": "MDQ6VXNlcjQ2ODg1MjA2",
      "avatar_url": "https://avatars.githubusercontent.com/u/46885206?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/AskAlexSharov",
      "html_url": "https://github.com/AskAlexSharov",
      "followers_url": "https://api.github.com/users/AskAlexSharov/followers",
      "following_url": "https://api.github.com/users/AskAlexSharov/following{/other_user}",
      "gists_url": "https://api.github.com/users/AskAlexSharov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/AskAlexSharov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/AskAlexSharov/subscriptions",
      "organizations_url": "https://api.github.com/users/AskAlexSharov/orgs",
      "repos_url": "https://api.github.com/users/AskAlexSharov/repos",
      "events_url": "https://api.github.com/users/AskAlexSharov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/AskAlexSharov/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-01-18T03:05:50Z",
    "updated_at": "2023-01-18T03:05:50Z",
    "author_association": "COLLABORATOR",
    "body": "I can't reproduce... Can you switch to branch `mdbx_dbg` and start erigon again. It mush show more detailed error. ",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1386411872/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1386835676",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/6593#issuecomment-1386835676",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/6593",
    "id": 1386835676,
    "node_id": "IC_kwDOC0FsAM5SqW7c",
    "user": {
      "login": "Liamlu28",
      "id": 3294496,
      "node_id": "MDQ6VXNlcjMyOTQ0OTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3294496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Liamlu28",
      "html_url": "https://github.com/Liamlu28",
      "followers_url": "https://api.github.com/users/Liamlu28/followers",
      "following_url": "https://api.github.com/users/Liamlu28/following{/other_user}",
      "gists_url": "https://api.github.com/users/Liamlu28/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Liamlu28/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Liamlu28/subscriptions",
      "organizations_url": "https://api.github.com/users/Liamlu28/orgs",
      "repos_url": "https://api.github.com/users/Liamlu28/repos",
      "events_url": "https://api.github.com/users/Liamlu28/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Liamlu28/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-01-18T10:36:04Z",
    "updated_at": "2023-01-18T10:36:04Z",
    "author_association": "NONE",
    "body": "![image](https://user-images.githubusercontent.com/3294496/213149676-04db6136-bf93-4163-834f-fc0a7fc49f91.png)\r\nBuild info                               git_branch=mdbx_dbg git_tag=v2.31.0-rc.4-308-g866be606e git_commit=866be606ec2b3868f97578030787311b309d593d",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1386835676/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1387009931",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/6593#issuecomment-1387009931",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/6593",
    "id": 1387009931,
    "node_id": "IC_kwDOC0FsAM5SrBeL",
    "user": {
      "login": "AskAlexSharov",
      "id": 46885206,
      "node_id": "MDQ6VXNlcjQ2ODg1MjA2",
      "avatar_url": "https://avatars.githubusercontent.com/u/46885206?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/AskAlexSharov",
      "html_url": "https://github.com/AskAlexSharov",
      "followers_url": "https://api.github.com/users/AskAlexSharov/followers",
      "following_url": "https://api.github.com/users/AskAlexSharov/following{/other_user}",
      "gists_url": "https://api.github.com/users/AskAlexSharov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/AskAlexSharov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/AskAlexSharov/subscriptions",
      "organizations_url": "https://api.github.com/users/AskAlexSharov/orgs",
      "repos_url": "https://api.github.com/users/AskAlexSharov/repos",
      "events_url": "https://api.github.com/users/AskAlexSharov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/AskAlexSharov/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-01-18T12:47:24Z",
    "updated_at": "2023-01-18T12:49:21Z",
    "author_association": "COLLABORATOR",
    "body": "At this place mdbx even doesn't know path to your database. \r\nSo, it's not DB file compatibility - it's something in your OS/FS compatibility. \r\nDo you have some rare setup? 32-bit OS? NFS? Rare CPU? Too old linux kernel?\r\n\r\nConditions:\r\n```\r\n#ifdef MDBX_HAVE_C11ATOMICS\r\n  if (unlikely(!atomic_is_lock_free((const volatile uint32_t *)penv))) {\r\n    ERROR(\"lock-free atomic ops for %u-bit types is required\", 32);\r\n    return MDBX_INCOMPATIBLE;\r\n  }\r\n#if MDBX_64BIT_ATOMIC\r\n  if (unlikely(!atomic_is_lock_free((const volatile uint64_t *)penv))) {\r\n    ERROR(\"lock-free atomic ops for %u-bit types is required\", 64);\r\n    return MDBX_INCOMPATIBLE;\r\n  }\r\n#endif /* MDBX_64BIT_ATOMIC */\r\n#endif /* MDBX_HAVE_C11ATOMICS */\r\n\r\n  const size_t os_psize = osal_syspagesize();\r\n  if (unlikely(!is_powerof2(os_psize) || os_psize < MIN_PAGESIZE)) {\r\n    ERROR(\"unsuitable system pagesize %\" PRIuPTR, os_psize);\r\n    return MDBX_INCOMPATIBLE;\r\n  }\r\n\r\n#if defined(__linux__) || defined(__gnu_linux__)\r\n  if (unlikely(linux_kernel_version < 0x04000000)) {\r\n    /* 2022-09-01: Прошло уже больше двух после окончания какой-либо поддержки\r\n     * самого \"долгоиграющего\" ядра 3.16.85 ветки 3.x */\r\n    ERROR(\"too old linux kernel %u.%u.%u.%u, the >= 4.0.0 is required\",\r\n          linux_kernel_version >> 24, (linux_kernel_version >> 16) & 255,\r\n          (linux_kernel_version >> 8) & 255, linux_kernel_version & 255);\r\n    return MDBX_INCOMPATIBLE;\r\n  }\r\n#endif /* Linux */\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1387009931/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1396387777",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/6593#issuecomment-1396387777",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/6593",
    "id": 1396387777,
    "node_id": "IC_kwDOC0FsAM5TOy_B",
    "user": {
      "login": "Liamlu28",
      "id": 3294496,
      "node_id": "MDQ6VXNlcjMyOTQ0OTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3294496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Liamlu28",
      "html_url": "https://github.com/Liamlu28",
      "followers_url": "https://api.github.com/users/Liamlu28/followers",
      "following_url": "https://api.github.com/users/Liamlu28/following{/other_user}",
      "gists_url": "https://api.github.com/users/Liamlu28/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Liamlu28/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Liamlu28/subscriptions",
      "organizations_url": "https://api.github.com/users/Liamlu28/orgs",
      "repos_url": "https://api.github.com/users/Liamlu28/repos",
      "events_url": "https://api.github.com/users/Liamlu28/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Liamlu28/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-01-19T03:15:46Z",
    "updated_at": "2023-01-19T03:15:46Z",
    "author_association": "NONE",
    "body": "> At this place mdbx even doesn't know path to your database. So, it's not DB file compatibility - it's something in your OS/FS compatibility. Do you have some rare setup? 32-bit OS? NFS? Rare CPU? Too old linux kernel?\r\n> \r\n> Conditions:\r\n> \r\n> ```\r\n> #ifdef MDBX_HAVE_C11ATOMICS\r\n>   if (unlikely(!atomic_is_lock_free((const volatile uint32_t *)penv))) {\r\n>     ERROR(\"lock-free atomic ops for %u-bit types is required\", 32);\r\n>     return MDBX_INCOMPATIBLE;\r\n>   }\r\n> #if MDBX_64BIT_ATOMIC\r\n>   if (unlikely(!atomic_is_lock_free((const volatile uint64_t *)penv))) {\r\n>     ERROR(\"lock-free atomic ops for %u-bit types is required\", 64);\r\n>     return MDBX_INCOMPATIBLE;\r\n>   }\r\n> #endif /* MDBX_64BIT_ATOMIC */\r\n> #endif /* MDBX_HAVE_C11ATOMICS */\r\n> \r\n>   const size_t os_psize = osal_syspagesize();\r\n>   if (unlikely(!is_powerof2(os_psize) || os_psize < MIN_PAGESIZE)) {\r\n>     ERROR(\"unsuitable system pagesize %\" PRIuPTR, os_psize);\r\n>     return MDBX_INCOMPATIBLE;\r\n>   }\r\n> \r\n> #if defined(__linux__) || defined(__gnu_linux__)\r\n>   if (unlikely(linux_kernel_version < 0x04000000)) {\r\n>     /* 2022-09-01: Прошло уже больше двух после окончания какой-либо поддержки\r\n>      * самого \"долгоиграющего\" ядра 3.16.85 ветки 3.x */\r\n>     ERROR(\"too old linux kernel %u.%u.%u.%u, the >= 4.0.0 is required\",\r\n>           linux_kernel_version >> 24, (linux_kernel_version >> 16) & 255,\r\n>           (linux_kernel_version >> 8) & 255, linux_kernel_version & 255);\r\n>     return MDBX_INCOMPATIBLE;\r\n>   }\r\n> #endif /* Linux */\r\n> ```\r\n\r\n> At this place mdbx even doesn't know path to your database. So, it's not DB file compatibility - it's something in your OS/FS compatibility. Do you have some rare setup? 32-bit OS? NFS? Rare CPU? Too old linux kernel?\r\n> \r\n> Conditions:\r\n> \r\n> ```\r\n> #ifdef MDBX_HAVE_C11ATOMICS\r\n>   if (unlikely(!atomic_is_lock_free((const volatile uint32_t *)penv))) {\r\n>     ERROR(\"lock-free atomic ops for %u-bit types is required\", 32);\r\n>     return MDBX_INCOMPATIBLE;\r\n>   }\r\n> #if MDBX_64BIT_ATOMIC\r\n>   if (unlikely(!atomic_is_lock_free((const volatile uint64_t *)penv))) {\r\n>     ERROR(\"lock-free atomic ops for %u-bit types is required\", 64);\r\n>     return MDBX_INCOMPATIBLE;\r\n>   }\r\n> #endif /* MDBX_64BIT_ATOMIC */\r\n> #endif /* MDBX_HAVE_C11ATOMICS */\r\n> \r\n>   const size_t os_psize = osal_syspagesize();\r\n>   if (unlikely(!is_powerof2(os_psize) || os_psize < MIN_PAGESIZE)) {\r\n>     ERROR(\"unsuitable system pagesize %\" PRIuPTR, os_psize);\r\n>     return MDBX_INCOMPATIBLE;\r\n>   }\r\n> \r\n> #if defined(__linux__) || defined(__gnu_linux__)\r\n>   if (unlikely(linux_kernel_version < 0x04000000)) {\r\n>     /* 2022-09-01: Прошло уже больше двух после окончания какой-либо поддержки\r\n>      * самого \"долгоиграющего\" ядра 3.16.85 ветки 3.x */\r\n>     ERROR(\"too old linux kernel %u.%u.%u.%u, the >= 4.0.0 is required\",\r\n>           linux_kernel_version >> 24, (linux_kernel_version >> 16) & 255,\r\n>           (linux_kernel_version >> 8) & 255, linux_kernel_version & 255);\r\n>     return MDBX_INCOMPATIBLE;\r\n>   }\r\n> #endif /* Linux */\r\n> ```\r\n\r\nThank you, @AskAlexSharov; I have confirmed that the kernel is an old version.",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1396387777/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1396399759",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/6593#issuecomment-1396399759",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/6593",
    "id": 1396399759,
    "node_id": "IC_kwDOC0FsAM5TO16P",
    "user": {
      "login": "AskAlexSharov",
      "id": 46885206,
      "node_id": "MDQ6VXNlcjQ2ODg1MjA2",
      "avatar_url": "https://avatars.githubusercontent.com/u/46885206?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/AskAlexSharov",
      "html_url": "https://github.com/AskAlexSharov",
      "followers_url": "https://api.github.com/users/AskAlexSharov/followers",
      "following_url": "https://api.github.com/users/AskAlexSharov/following{/other_user}",
      "gists_url": "https://api.github.com/users/AskAlexSharov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/AskAlexSharov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/AskAlexSharov/subscriptions",
      "organizations_url": "https://api.github.com/users/AskAlexSharov/orgs",
      "repos_url": "https://api.github.com/users/AskAlexSharov/repos",
      "events_url": "https://api.github.com/users/AskAlexSharov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/AskAlexSharov/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-01-19T03:40:22Z",
    "updated_at": "2023-01-19T03:40:22Z",
    "author_association": "COLLABORATOR",
    "body": "@Liamlu28 can upgrade?",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1396399759/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1396412775",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/6593#issuecomment-1396412775",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/6593",
    "id": 1396412775,
    "node_id": "IC_kwDOC0FsAM5TO5Fn",
    "user": {
      "login": "Liamlu28",
      "id": 3294496,
      "node_id": "MDQ6VXNlcjMyOTQ0OTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3294496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Liamlu28",
      "html_url": "https://github.com/Liamlu28",
      "followers_url": "https://api.github.com/users/Liamlu28/followers",
      "following_url": "https://api.github.com/users/Liamlu28/following{/other_user}",
      "gists_url": "https://api.github.com/users/Liamlu28/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Liamlu28/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Liamlu28/subscriptions",
      "organizations_url": "https://api.github.com/users/Liamlu28/orgs",
      "repos_url": "https://api.github.com/users/Liamlu28/repos",
      "events_url": "https://api.github.com/users/Liamlu28/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Liamlu28/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-01-19T04:06:40Z",
    "updated_at": "2023-01-19T04:06:40Z",
    "author_association": "NONE",
    "body": "@AskAlexSharov, I need to update the kernel version before I can update Erigon v2.34.0.This is due to the fact that I am now running the 3.10 kernel. \r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1396412775/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
