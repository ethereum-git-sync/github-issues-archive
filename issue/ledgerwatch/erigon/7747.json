{
  "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/7747",
  "repository_url": "https://api.github.com/repos/ledgerwatch/erigon",
  "labels_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/7747/labels{/name}",
  "comments_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/7747/comments",
  "events_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/7747/events",
  "html_url": "https://github.com/ledgerwatch/erigon/issues/7747",
  "id": 1760840154,
  "node_id": "I_kwDOC0FsAM5o9Ena",
  "number": 7747,
  "title": "Unable to trace a specific transaction",
  "user": {
    "login": "itgav",
    "id": 94311667,
    "node_id": "U_kgDOBZ8U8w",
    "avatar_url": "https://avatars.githubusercontent.com/u/94311667?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/itgav",
    "html_url": "https://github.com/itgav",
    "followers_url": "https://api.github.com/users/itgav/followers",
    "following_url": "https://api.github.com/users/itgav/following{/other_user}",
    "gists_url": "https://api.github.com/users/itgav/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/itgav/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/itgav/subscriptions",
    "organizations_url": "https://api.github.com/users/itgav/orgs",
    "repos_url": "https://api.github.com/users/itgav/repos",
    "events_url": "https://api.github.com/users/itgav/events{/privacy}",
    "received_events_url": "https://api.github.com/users/itgav/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 4566396003,
      "node_id": "LA_kwDOC0FsAM8AAAABEC2sYw",
      "url": "https://api.github.com/repos/ledgerwatch/erigon/labels/Stale",
      "name": "Stale",
      "color": "ededed",
      "default": false,
      "description": null
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 1,
  "created_at": "2023-06-16T15:17:02Z",
  "updated_at": "2023-07-29T02:10:50Z",
  "closed_at": null,
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "#### System information\r\n\r\nErigon version: 2.44.0-dev-cc114628\r\n\r\nOS & Version: Windows 11\r\n\r\nErigon Command (with flags/config): `{\"id\": 1, \"jsonrpc\": \"2.0\", \"method\": \"trace_replayTransaction\", \"params\": [\"0x98928306fa7c7f2264b99f630fb38f5dcb534dececa65beabb100a511a2b0b57\",[\"stateDiff\"]]}`\r\n\r\nChain/Network: Ethereum\r\n\r\n#### Situation/Issue\r\nFor other transactions I'm able to use `trace_replayTransaction` with no issue. When attempting to trace tx_hash `0x98928306fa7c7f2264b99f630fb38f5dcb534dececa65beabb100a511a2b0b57`, I receive an error saying the sender, `0x88370D5032D6ABD014340a553C1c66e753E97E3C`, had insufficient funds for the transaction (shown in attached picture). \r\n![tx trace error_23 06 16](https://github.com/ledgerwatch/erigon/assets/94311667/193d7fe6-c5ec-4712-a3b7-a9cb6f826d15)\r\n\r\n_edit: have seen the same behavior for other transactions. It's infrequent, but is this expected?_\r\n\r\n#### Expected Behaviour\r\nCorrect me if I'm wrong, but I don't believe this is the expected behavior if a sender has insufficient funds for the entire transaction. My understanding is that gas would still be spent. Additionally, Etherscan is showing the transaction as completed meaning the sender had enough funds to complete the transaction.\r\n\r\n\r\n",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/7747/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/7747/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1656519120",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/7747#issuecomment-1656519120",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/7747",
    "id": 1656519120,
    "node_id": "IC_kwDOC0FsAM5ivHnQ",
    "user": {
      "login": "github-actions[bot]",
      "id": 41898282,
      "node_id": "MDM6Qm90NDE4OTgyODI=",
      "avatar_url": "https://avatars.githubusercontent.com/in/15368?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/github-actions%5Bbot%5D",
      "html_url": "https://github.com/apps/github-actions",
      "followers_url": "https://api.github.com/users/github-actions%5Bbot%5D/followers",
      "following_url": "https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}",
      "gists_url": "https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/github-actions%5Bbot%5D/subscriptions",
      "organizations_url": "https://api.github.com/users/github-actions%5Bbot%5D/orgs",
      "repos_url": "https://api.github.com/users/github-actions%5Bbot%5D/repos",
      "events_url": "https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}",
      "received_events_url": "https://api.github.com/users/github-actions%5Bbot%5D/received_events",
      "type": "Bot",
      "site_admin": false
    },
    "created_at": "2023-07-29T02:10:49Z",
    "updated_at": "2023-07-29T02:10:49Z",
    "author_association": "NONE",
    "body": "This issue is stale because it has been open for 40 days with no activity. Remove stale label or comment, or this will be closed in 7 days.",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1656519120/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
