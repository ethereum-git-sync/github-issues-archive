{
  "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/2730",
  "repository_url": "https://api.github.com/repos/ledgerwatch/erigon",
  "labels_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/2730/labels{/name}",
  "comments_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/2730/comments",
  "events_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/2730/events",
  "html_url": "https://github.com/ledgerwatch/erigon/issues/2730",
  "id": 1007162448,
  "node_id": "I_kwDOC0FsAM48CBRQ",
  "number": 2730,
  "title": "MDBX_PAGE_NOTFOUND error prevents sync finishing",
  "user": {
    "login": "Tronic",
    "id": 98187,
    "node_id": "MDQ6VXNlcjk4MTg3",
    "avatar_url": "https://avatars.githubusercontent.com/u/98187?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/Tronic",
    "html_url": "https://github.com/Tronic",
    "followers_url": "https://api.github.com/users/Tronic/followers",
    "following_url": "https://api.github.com/users/Tronic/following{/other_user}",
    "gists_url": "https://api.github.com/users/Tronic/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/Tronic/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/Tronic/subscriptions",
    "organizations_url": "https://api.github.com/users/Tronic/orgs",
    "repos_url": "https://api.github.com/users/Tronic/repos",
    "events_url": "https://api.github.com/users/Tronic/events{/privacy}",
    "received_events_url": "https://api.github.com/users/Tronic/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 9,
  "created_at": "2021-09-25T18:21:22Z",
  "updated_at": "2021-09-30T20:13:41Z",
  "closed_at": "2021-09-27T11:35:32Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "Syncing hangs at stage 13 with a repeating error. After the error stage 13 restarts and this repeats after about 90 minutes once it again reaches number 12316795.\r\n\r\n```\r\n[INFO] [09-25|16:08:18.677] [13/18 AccountHistoryIndex] Progress     number=12304037 alloc=\"1.4 GiB\" sys=\"10.7 GiB\"\r\n[INFO] [09-25|16:08:38.482] Flushed buffer file                      name=/srv/erigon/etl-temp/tg-sync-sortable-buf911676053 alloc=\"3.4 GiB\" sys=\"10.7 GiB\"\r\n[INFO] [09-25|16:08:48.707] [13/18 AccountHistoryIndex] Progress     number=12316795 alloc=\"3.6 GiB\" sys=\"10.7 GiB\"\r\n[INFO] [09-25|16:08:58.612] [13/18 AccountHistoryIndex] etl: temp files removed total size=\"19.5 GB\"\r\n[EROR] [09-25|16:08:58.612] Staged Sync                              error=\"[13/18 AccountHistoryIndex] failed MdbxKV cursor.Next(): mdbx_cursor_get: MDBX_PAGE_NOTFOUND: Requested page not\r\n found\"\r\n[INFO] [09-25|16:09:33.494] Flushed buffer file                      name=/srv/erigon/etl-temp/tg-sync-sortable-buf3614158811 alloc=\"4.8 GiB\" sys=\"10.7 GiB\"\r\n[INFO] [09-25|16:09:36.082] [13/18 AccountHistoryIndex] Progress     number=2426971 alloc=\"5.8 GiB\" sys=\"10.7 GiB\"\r\n[INFO] [09-25|16:09:50.830] Flushed buffer file                      name=/srv/erigon/etl-temp/tg-sync-sortable-buf2006043711 alloc=\"4.0 GiB\" sys=\"10.7 GiB\"\r\n[INFO] [09-25|16:10:00.628] [13/18 AccountHistoryIndex] Progress     number=2458437 alloc=\"2.6 GiB\" sys=\"10.7 GiB\"\r\n[INFO] [09-25|16:10:02.172] [p2p] GoodPeers                          eth66=31 eth65=33\r\n[INFO] [09-25|16:10:12.141] Flushed buffer file                      name=/srv/erigon/etl-temp/tg-sync-sortable-buf2867541441 alloc=\"3.5 GiB\" sys=\"10.7 GiB\"\r\n```\r\n\r\nRunning erigon version 2021.09.4-alpha with initial sync but the service has been restarted a few times while it was running. Possibly systemd has killed it if it took more than 30 seconds to exit. Perhaps this corrupted the database?\r\n",
  "closed_by": {
    "login": "Tronic",
    "id": 98187,
    "node_id": "MDQ6VXNlcjk4MTg3",
    "avatar_url": "https://avatars.githubusercontent.com/u/98187?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/Tronic",
    "html_url": "https://github.com/Tronic",
    "followers_url": "https://api.github.com/users/Tronic/followers",
    "following_url": "https://api.github.com/users/Tronic/following{/other_user}",
    "gists_url": "https://api.github.com/users/Tronic/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/Tronic/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/Tronic/subscriptions",
    "organizations_url": "https://api.github.com/users/Tronic/orgs",
    "repos_url": "https://api.github.com/users/Tronic/repos",
    "events_url": "https://api.github.com/users/Tronic/events{/privacy}",
    "received_events_url": "https://api.github.com/users/Tronic/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/2730/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/2730/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/927188018",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/2730#issuecomment-927188018",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/2730",
    "id": 927188018,
    "node_id": "IC_kwDOC0FsAM43Q8Qy",
    "user": {
      "login": "Tronic",
      "id": 98187,
      "node_id": "MDQ6VXNlcjk4MTg3",
      "avatar_url": "https://avatars.githubusercontent.com/u/98187?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Tronic",
      "html_url": "https://github.com/Tronic",
      "followers_url": "https://api.github.com/users/Tronic/followers",
      "following_url": "https://api.github.com/users/Tronic/following{/other_user}",
      "gists_url": "https://api.github.com/users/Tronic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Tronic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Tronic/subscriptions",
      "organizations_url": "https://api.github.com/users/Tronic/orgs",
      "repos_url": "https://api.github.com/users/Tronic/repos",
      "events_url": "https://api.github.com/users/Tronic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Tronic/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-09-25T21:58:31Z",
    "updated_at": "2021-09-25T21:58:31Z",
    "author_association": "NONE",
    "body": "Tried stopping the daemon and deleting etl-temp. After restarting it did the prior stages again or for new blocks, and then got stuck again:\r\n\r\n```\r\n[INFO] [09-25|22:52:22.736] [13/18 AccountHistoryIndex] Progress     number=12320705 alloc=\"2.5 GiB\" sys=\"9.8 GiB\"\r\n[INFO] [09-25|22:52:30.601] [13/18 AccountHistoryIndex] etl: temp files removed total size=\"19.2 GB\"\r\n[EROR] [09-25|22:52:30.611] Staged Sync                              error=\"[13/18 AccountHistoryIndex] failed MdbxKV cursor.Next(): mdbx_cursor_get: MDBX_PAGE_NOTFOUND: Requested page not found\"\r\n```\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/927188018/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/927308139",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/2730#issuecomment-927308139",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/2730",
    "id": 927308139,
    "node_id": "IC_kwDOC0FsAM43RZlr",
    "user": {
      "login": "AskAlexSharov",
      "id": 46885206,
      "node_id": "MDQ6VXNlcjQ2ODg1MjA2",
      "avatar_url": "https://avatars.githubusercontent.com/u/46885206?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/AskAlexSharov",
      "html_url": "https://github.com/AskAlexSharov",
      "followers_url": "https://api.github.com/users/AskAlexSharov/followers",
      "following_url": "https://api.github.com/users/AskAlexSharov/following{/other_user}",
      "gists_url": "https://api.github.com/users/AskAlexSharov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/AskAlexSharov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/AskAlexSharov/subscriptions",
      "organizations_url": "https://api.github.com/users/AskAlexSharov/orgs",
      "repos_url": "https://api.github.com/users/AskAlexSharov/repos",
      "events_url": "https://api.github.com/users/AskAlexSharov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/AskAlexSharov/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-09-26T13:37:14Z",
    "updated_at": "2021-09-26T13:37:14Z",
    "author_association": "COLLABORATOR",
    "body": "hi\r\n- what is your FS \r\n- do you use any manual FS tuning\r\n\r\ntry run: \r\n```\r\nmake db-tools\r\n./build/bin/mdbx_chk -v -d <datadir>/chaindata\r\n```\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/927308139/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/927308843",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/2730#issuecomment-927308843",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/2730",
    "id": 927308843,
    "node_id": "IC_kwDOC0FsAM43RZwr",
    "user": {
      "login": "AskAlexSharov",
      "id": 46885206,
      "node_id": "MDQ6VXNlcjQ2ODg1MjA2",
      "avatar_url": "https://avatars.githubusercontent.com/u/46885206?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/AskAlexSharov",
      "html_url": "https://github.com/AskAlexSharov",
      "followers_url": "https://api.github.com/users/AskAlexSharov/followers",
      "following_url": "https://api.github.com/users/AskAlexSharov/following{/other_user}",
      "gists_url": "https://api.github.com/users/AskAlexSharov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/AskAlexSharov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/AskAlexSharov/subscriptions",
      "organizations_url": "https://api.github.com/users/AskAlexSharov/orgs",
      "repos_url": "https://api.github.com/users/AskAlexSharov/repos",
      "events_url": "https://api.github.com/users/AskAlexSharov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/AskAlexSharov/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-09-26T13:42:15Z",
    "updated_at": "2021-09-26T13:42:44Z",
    "author_association": "COLLABORATOR",
    "body": "please also try Erigon's version `v2021.09.03` - to see if it's related to https://github.com/ledgerwatch/erigon/pull/2716 or not (last change related to AccountHistoryIndex)",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/927308843/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/927327131",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/2730#issuecomment-927327131",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/2730",
    "id": 927327131,
    "node_id": "IC_kwDOC0FsAM43ReOb",
    "user": {
      "login": "Tronic",
      "id": 98187,
      "node_id": "MDQ6VXNlcjk4MTg3",
      "avatar_url": "https://avatars.githubusercontent.com/u/98187?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Tronic",
      "html_url": "https://github.com/Tronic",
      "followers_url": "https://api.github.com/users/Tronic/followers",
      "following_url": "https://api.github.com/users/Tronic/following{/other_user}",
      "gists_url": "https://api.github.com/users/Tronic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Tronic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Tronic/subscriptions",
      "organizations_url": "https://api.github.com/users/Tronic/orgs",
      "repos_url": "https://api.github.com/users/Tronic/repos",
      "events_url": "https://api.github.com/users/Tronic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Tronic/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-09-26T15:48:46Z",
    "updated_at": "2021-09-26T15:49:35Z",
    "author_association": "NONE",
    "body": "The filesystem setup is... complicated. RAID of HDDs with bcache SSD caching, and btrfs on top of that with compression and autodefrag enabled. Still, I never had data corruption and there were no reboots or re-mount of the filesystem at any point.\r\n\r\nDidn't try with the earlier Erigon build yet, since corruption was found:\r\n```\r\nmdbx_chk v0.10.3-0-gbf603bd (2021-08-27T22:47:12+03:00, T-89059f5e31a893b0739257a1df03e3d9fcc6d74d)\r\nRunning for /srv/erigon/chaindata in 'read-only' mode...\r\n - monopolistic mode\r\n - current boot-id 86d770b47f3377cb-b7f9d02ab0ff4f1b\r\n - pagesize 4096 (4096 system), max keysize 1980..2022, max readers 118\r\n - mapsize 2199023255552 (2.00 Tb)\r\n - dynamic datafile: 12288 (12.00 Kb) .. 2199023255552 (2.00 Tb), +2147483648 (2.00 Gb), -4096 (4.00 Kb)\r\n - current datafile: 1346472247296 (1.22 Tb), 328728576 pages\r\n - meta-0: steady txn#223, head\r\n - meta-1: steady txn#221, tail\r\n - meta-2: steady txn#222, stay\r\n - transactions: recent 223, latter reader 223, lag 0\r\nSkipping b-tree walk...\r\nProcessing '@MAIN'...\r\n - key-value kind: usual-key => single-value\r\n - summary: 44 records, 0 dups, 526 key's bytes, 2112 data's bytes, 0 problems\r\nProcessing '@GC'...\r\n - key-value kind: ordinal-key => single-value\r\n - last modification txn#223\r\n - fixed key-size 8\r\n - summary: 222 records, 0 dups, 1776 key's bytes, 11952284 data's bytes, 0 problems\r\n - space: 536870912 total pages, backed 328728576 (61.2%), allocated 328418513 (61.2%), available 210790666 (39.3%)\r\n - skip check used and gc pages (btree-traversal with monopolistic or read-write mode only)\r\nProcessing 'AccountChangeSet'...\r\n - key-value kind: usual-key => multi-value\r\n - last modification txn#220\r\n ! corrupted broken-page #0, mod-txnid 0\r\n ! mismatch actual pgno (0) != expected (261584464)\r\n ! mdbx_cursor_get() failed, error -30797 MDBX_PAGE_NOTFOUND: Requested page not found\r\n - problems: different number of entries (1)\r\n - summary: 1763358549 records, 1751028607 dups, 14106868392 key's bytes, 52483395769 data's bytes, 1 problems\r\n ! mdbx_cursor_get() failed, error -30782 MDBX_BAD_TXN: Transaction is not valid for requested operation, e.g. had errored and be must aborted, has a child, or is invalid\r\n - problems: different number of entries (1)\r\nTotal 6 errors are detected, elapsed 2086.278 seconds.\r\n```\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/927327131/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/927329949",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/2730#issuecomment-927329949",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/2730",
    "id": 927329949,
    "node_id": "IC_kwDOC0FsAM43Re6d",
    "user": {
      "login": "AskAlexSharov",
      "id": 46885206,
      "node_id": "MDQ6VXNlcjQ2ODg1MjA2",
      "avatar_url": "https://avatars.githubusercontent.com/u/46885206?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/AskAlexSharov",
      "html_url": "https://github.com/AskAlexSharov",
      "followers_url": "https://api.github.com/users/AskAlexSharov/followers",
      "following_url": "https://api.github.com/users/AskAlexSharov/following{/other_user}",
      "gists_url": "https://api.github.com/users/AskAlexSharov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/AskAlexSharov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/AskAlexSharov/subscriptions",
      "organizations_url": "https://api.github.com/users/AskAlexSharov/orgs",
      "repos_url": "https://api.github.com/users/AskAlexSharov/repos",
      "events_url": "https://api.github.com/users/AskAlexSharov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/AskAlexSharov/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-09-26T16:07:55Z",
    "updated_at": "2021-09-26T16:07:55Z",
    "author_association": "COLLABORATOR",
    "body": "Yes, your db corrupted because of some FS reason. Actually it’s first time I see db corruption  (after we switched to mdbx - 6 months ago). I think it’s because you have some “write buffer”.\r\n\r\n1. I advise disable btrfs autodefrag - with erigon db it eating too much disk. \r\n2. Usually “read cache of FS” does not lead to corruption. \r\n3. But “write cache” does. I advise disable write buffers - Erigon doesn’t write much - and see if you still fine with performance. \r\n\r\nAlso, check - maybe you have some disk degradation. \r\n\r\nFor more information about our db consistency see: https://github.com/erthink/libmdbx/blob/master/mdbx.h#L1150 (we using MDBX_SYNC_DURABLE option by default - as you can see it rely on fact that 2 fsync syscalls happening in right order and “FS’s write buffer” can break this order). \r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/927329949/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/927330841",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/2730#issuecomment-927330841",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/2730",
    "id": 927330841,
    "node_id": "IC_kwDOC0FsAM43RfIZ",
    "user": {
      "login": "Tronic",
      "id": 98187,
      "node_id": "MDQ6VXNlcjk4MTg3",
      "avatar_url": "https://avatars.githubusercontent.com/u/98187?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Tronic",
      "html_url": "https://github.com/Tronic",
      "followers_url": "https://api.github.com/users/Tronic/followers",
      "following_url": "https://api.github.com/users/Tronic/following{/other_user}",
      "gists_url": "https://api.github.com/users/Tronic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Tronic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Tronic/subscriptions",
      "organizations_url": "https://api.github.com/users/Tronic/orgs",
      "repos_url": "https://api.github.com/users/Tronic/repos",
      "events_url": "https://api.github.com/users/Tronic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Tronic/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-09-26T16:14:19Z",
    "updated_at": "2021-09-26T16:14:19Z",
    "author_association": "NONE",
    "body": "Is there any way to backtrack from here without restarting the whole sync? Took me about a week on this setup and I cannot spare that much SSD space.",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/927330841/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/927332594",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/2730#issuecomment-927332594",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/2730",
    "id": 927332594,
    "node_id": "IC_kwDOC0FsAM43Rfjy",
    "user": {
      "login": "AskAlexSharov",
      "id": 46885206,
      "node_id": "MDQ6VXNlcjQ2ODg1MjA2",
      "avatar_url": "https://avatars.githubusercontent.com/u/46885206?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/AskAlexSharov",
      "html_url": "https://github.com/AskAlexSharov",
      "followers_url": "https://api.github.com/users/AskAlexSharov/followers",
      "following_url": "https://api.github.com/users/AskAlexSharov/following{/other_user}",
      "gists_url": "https://api.github.com/users/AskAlexSharov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/AskAlexSharov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/AskAlexSharov/subscriptions",
      "organizations_url": "https://api.github.com/users/AskAlexSharov/orgs",
      "repos_url": "https://api.github.com/users/AskAlexSharov/repos",
      "events_url": "https://api.github.com/users/AskAlexSharov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/AskAlexSharov/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-09-26T16:27:05Z",
    "updated_at": "2021-09-27T03:34:38Z",
    "author_association": "COLLABORATOR",
    "body": "If some of this will show no error, then maybe have chance to recover (otherwise nope):\r\n```\r\n./build/bin/mdbx_chk -v -d -2 <datadir>/chaindata\r\n./build/bin/mdbx_chk -v -d -1 <datadir>/chaindata\r\n./build/bin/mdbx_chk -v -d -0 <datadir>/chaindata\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/927332594/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/927787666",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/2730#issuecomment-927787666",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/2730",
    "id": 927787666,
    "node_id": "IC_kwDOC0FsAM43TOqS",
    "user": {
      "login": "Tronic",
      "id": 98187,
      "node_id": "MDQ6VXNlcjk4MTg3",
      "avatar_url": "https://avatars.githubusercontent.com/u/98187?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Tronic",
      "html_url": "https://github.com/Tronic",
      "followers_url": "https://api.github.com/users/Tronic/followers",
      "following_url": "https://api.github.com/users/Tronic/following{/other_user}",
      "gists_url": "https://api.github.com/users/Tronic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Tronic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Tronic/subscriptions",
      "organizations_url": "https://api.github.com/users/Tronic/orgs",
      "repos_url": "https://api.github.com/users/Tronic/repos",
      "events_url": "https://api.github.com/users/Tronic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Tronic/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-09-27T11:35:32Z",
    "updated_at": "2021-09-27T11:35:32Z",
    "author_association": "NONE",
    "body": "Checking with `-2` finished with the same six errors and I decided to start from scratch. Using a RAID-0 built of two NVME partitions totaling just enough to fit the uncompressed chaindata. After 18 hours I am in 7-Execution, num 7M progressing at about 500 Mgas/s: roughly five times faster than on the SSD-cached HDD array. Perhaps a bit more parallelism could be implemented to speed up the initial sync (not that I know how exactly it works or how possible it is to do things concurrently).\r\n\r\nI will report back if the sync now goes correctly, still using the same version of Erigon, and trying to avoid any daemon restarts this time. Closing for now.",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/927787666/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/931631581",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/2730#issuecomment-931631581",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/2730",
    "id": 931631581,
    "node_id": "IC_kwDOC0FsAM43h5Hd",
    "user": {
      "login": "Tronic",
      "id": 98187,
      "node_id": "MDQ6VXNlcjk4MTg3",
      "avatar_url": "https://avatars.githubusercontent.com/u/98187?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Tronic",
      "html_url": "https://github.com/Tronic",
      "followers_url": "https://api.github.com/users/Tronic/followers",
      "following_url": "https://api.github.com/users/Tronic/following{/other_user}",
      "gists_url": "https://api.github.com/users/Tronic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Tronic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Tronic/subscriptions",
      "organizations_url": "https://api.github.com/users/Tronic/orgs",
      "repos_url": "https://api.github.com/users/Tronic/repos",
      "events_url": "https://api.github.com/users/Tronic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Tronic/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-09-30T20:13:41Z",
    "updated_at": "2021-09-30T20:13:41Z",
    "author_association": "NONE",
    "body": "Finished and running OK now, despite two nasty interruptions. First a hard crash of erigon due to running out of disk space (mmapped I/O caused SIGBUS and a 3800-line traceback followed). Then much later a General Protection Fault and the entire machine crashed (a faulty kernel module, unrelated to this). Even with both of these, the database now stayed intact. The whole process took four days, and Execution, which took about three days, was CPU-bottlenecked the whole time (running on i5-11600k).\r\n\r\nNote: One should either disable btrfs CoW or enable compression. Otherwise a lot more disk space is consumed than the actual file size of 1.6 TB (as of today, once everything was finished). Some 700 GB space lost to btrfs was the cause why I ran out of space pretty early in Execution.",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/931631581/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 1,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
