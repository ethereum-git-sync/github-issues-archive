{
  "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/1519",
  "repository_url": "https://api.github.com/repos/ledgerwatch/erigon",
  "labels_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/1519/labels{/name}",
  "comments_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/1519/comments",
  "events_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/1519/events",
  "html_url": "https://github.com/ledgerwatch/erigon/issues/1519",
  "id": 817511391,
  "node_id": "MDU6SXNzdWU4MTc1MTEzOTE=",
  "number": 1519,
  "title": "Stuck on [7/14 Calculating Merkle Root] stage",
  "user": {
    "login": "pipermerriam",
    "id": 824194,
    "node_id": "MDQ6VXNlcjgyNDE5NA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/824194?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/pipermerriam",
    "html_url": "https://github.com/pipermerriam",
    "followers_url": "https://api.github.com/users/pipermerriam/followers",
    "following_url": "https://api.github.com/users/pipermerriam/following{/other_user}",
    "gists_url": "https://api.github.com/users/pipermerriam/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/pipermerriam/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/pipermerriam/subscriptions",
    "organizations_url": "https://api.github.com/users/pipermerriam/orgs",
    "repos_url": "https://api.github.com/users/pipermerriam/repos",
    "events_url": "https://api.github.com/users/pipermerriam/events{/privacy}",
    "received_events_url": "https://api.github.com/users/pipermerriam/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2021-02-26T16:53:38Z",
  "updated_at": "2021-02-26T17:13:00Z",
  "closed_at": "2021-02-26T17:13:00Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "\r\n\r\n#### System information\r\n\r\nOS & Version: Linux\r\nCommit hash : f20c08d18b477f10fbbaf49ac6dea52722f7ec4a\r\n\r\n#### Expected behaviour\r\n\r\nThe client continues to sync blocks...\r\n\r\n#### Actual behaviour\r\n\r\nClient got stuck and stopped successfully processing blocks.\r\n\r\n\r\n#### Steps to reproduce the behaviour\r\n\r\n:shrug: \r\n\r\n\r\n#### Backtrace\r\n\r\n```\r\nFeb 26 08:06:22 mully launch-tg.sh[4386]: INFO [02-26|08:06:22.113] Flushed buffer file                      name=/mnt/storage/turbogeth/etl-temp/tg-sync-sortable-buf968689378 alloc=2.48GiB>\r\nFeb 26 08:06:24 mully launch-tg.sh[4386]: INFO [02-26|08:06:24.536] [7/14 IntermediateHashes] Calculating Merkle root current key=0703050a...\r\nFeb 26 08:06:47 mully launch-tg.sh[4386]: INFO [02-26|08:06:47.822] Flushed buffer file                      name=/mnt/storage/turbogeth/etl-temp/tg-sync-sortable-buf668489945 alloc=2.38GiB>\r\nFeb 26 08:06:52 mully launch-tg.sh[4386]: INFO [02-26|08:06:52.992] [7/14 IntermediateHashes] Calculating Merkle root current key=0703050a...\r\nFeb 26 08:07:14 mully launch-tg.sh[4386]: INFO [02-26|08:07:14.147] Flushed buffer file                      name=/mnt/storage/turbogeth/etl-temp/tg-sync-sortable-buf587394148 alloc=2.47GiB>\r\nFeb 26 08:07:22 mully launch-tg.sh[4386]: INFO [02-26|08:07:22.991] [7/14 IntermediateHashes] Calculating Merkle root current key=0703050a...\r\nFeb 26 08:07:39 mully launch-tg.sh[4386]: INFO [02-26|08:07:39.321] Flushed buffer file                      name=/mnt/storage/turbogeth/etl-temp/tg-sync-sortable-buf133038707 alloc=2.32GiB>\r\nFeb 26 08:07:52 mully launch-tg.sh[4386]: INFO [02-26|08:07:52.992] [7/14 IntermediateHashes] Calculating Merkle root current key=0703050a...\r\nFeb 26 08:08:04 mully launch-tg.sh[4386]: INFO [02-26|08:08:04.549] Flushed buffer file                      name=/mnt/storage/turbogeth/etl-temp/tg-sync-sortable-buf588392246 alloc=2.00GiB>\r\nFeb 26 08:08:29 mully launch-tg.sh[4386]: INFO [02-26|08:08:29.459] Flushed buffer file                      name=/mnt/storage/turbogeth/etl-temp/tg-sync-sortable-buf339768605 alloc=3.29GiB>\r\nFeb 26 08:08:32 mully launch-tg.sh[4386]: INFO [02-26|08:08:32.709] [7/14 IntermediateHashes] Calculating Merkle root current key=0703050a...\r\nFeb 26 08:08:55 mully launch-tg.sh[4386]: INFO [02-26|08:08:55.169] Flushed buffer file                      name=/mnt/storage/turbogeth/etl-temp/tg-sync-sortable-buf647539160 alloc=3.25GiB>\r\nFeb 26 08:08:58 mully launch-tg.sh[4386]: INFO [02-26|08:08:58.037] [7/14 IntermediateHashes] Calculating Merkle root current key=0703050a...\r\nFeb 26 08:09:20 mully launch-tg.sh[4386]: INFO [02-26|08:09:20.585] Flushed buffer file                      name=/mnt/storage/turbogeth/etl-temp/tg-sync-sortable-buf155968855 alloc=3.23GiB>\r\nFeb 26 08:09:23 mully launch-tg.sh[4386]: INFO [02-26|08:09:23.387] [7/14 IntermediateHashes] Calculating Merkle root current key=0703050a...\r\nFeb 26 08:09:46 mully launch-tg.sh[4386]: INFO [02-26|08:09:46.404] Flushed buffer file                      name=/mnt/storage/turbogeth/etl-temp/tg-sync-sortable-buf479099082 alloc=3.34GiB>\r\nFeb 26 08:09:52 mully launch-tg.sh[4386]: INFO [02-26|08:09:52.991] [7/14 IntermediateHashes] Calculating Merkle root current key=0703050a...\r\nFeb 26 08:10:12 mully launch-tg.sh[4386]: INFO [02-26|08:10:12.127] Flushed buffer file                      name=/mnt/storage/turbogeth/etl-temp/tg-sync-sortable-buf900218785 alloc=3.41GiB>\r\nFeb 26 08:10:22 mully launch-tg.sh[4386]: INFO [02-26|08:10:22.991] [7/14 IntermediateHashes] Calculating Merkle root current key=0703050a...\r\nFeb 26 08:10:37 mully launch-tg.sh[4386]: INFO [02-26|08:10:37.721] Flushed buffer file                      name=/mnt/storage/turbogeth/etl-temp/tg-sync-sortable-buf280877196 alloc=3.51GiB>\r\nFeb 26 08:10:52 mully launch-tg.sh[4386]: INFO [02-26|08:10:52.992] [7/14 IntermediateHashes] Calculating Merkle root current key=0703050a...\r\nFeb 26 08:11:02 mully launch-tg.sh[4386]: INFO [02-26|08:11:02.822] Flushed buffer file                      name=/mnt/storage/turbogeth/etl-temp/tg-sync-sortable-buf758537339 alloc=3.10GiB>\r\nFeb 26 08:11:28 mully launch-tg.sh[4386]: INFO [02-26|08:11:28.562] Flushed buffer file                      name=/mnt/storage/turbogeth/etl-temp/tg-sync-sortable-buf165730718 alloc=3.11GiB>\r\nFeb 26 08:11:31 mully launch-tg.sh[4386]: INFO [02-26|08:11:31.879] [7/14 IntermediateHashes] Calculating Merkle root current key=0703050a...\r\nFeb 26 08:11:54 mully launch-tg.sh[4386]: INFO [02-26|08:11:54.552] Flushed buffer file                      name=/mnt/storage/turbogeth/etl-temp/tg-sync-sortable-buf856862309 alloc=2.92GiB>\r\nFeb 26 08:11:56 mully launch-tg.sh[4386]: INFO [02-26|08:11:56.960] [7/14 IntermediateHashes] Calculating Merkle root current key=0703050a...\r\nFeb 26 08:12:19 mully launch-tg.sh[4386]: INFO [02-26|08:12:19.874] Flushed buffer file                      name=/mnt/storage/turbogeth/etl-temp/tg-sync-sortable-buf138604672 alloc=2.66GiB>\r\nFeb 26 08:12:22 mully launch-tg.sh[4386]: INFO [02-26|08:12:22.992] [7/14 IntermediateHashes] Calculating Merkle root current key=0703050a...\r\nFeb 26 08:12:45 mully launch-tg.sh[4386]: INFO [02-26|08:12:45.551] Flushed buffer file                      name=/mnt/storage/turbogeth/etl-temp/tg-sync-sortable-buf405860319 alloc=2.25GiB>\r\nFeb 26 08:12:52 mully launch-tg.sh[4386]: INFO [02-26|08:12:52.991] [7/14 IntermediateHashes] Calculating Merkle root current key=0703050a...\r\nFeb 26 08:13:11 mully launch-tg.sh[4386]: INFO [02-26|08:13:11.008] Flushed buffer file                      name=/mnt/storage/turbogeth/etl-temp/tg-sync-sortable-buf665465266 alloc=1.97GiB>\r\nFeb 26 08:13:22 mully launch-tg.sh[4386]: INFO [02-26|08:13:22.991] [7/14 IntermediateHashes] Calculating Merkle root current key=0703050a...\r\nFeb 26 08:13:36 mully launch-tg.sh[4386]: INFO [02-26|08:13:36.461] Flushed buffer file                      name=/mnt/storage/turbogeth/etl-temp/tg-sync-sortable-buf469753193 alloc=3.15GiB>\r\nFeb 26 08:13:52 mully launch-tg.sh[4386]: INFO [02-26|08:13:52.992] [7/14 IntermediateHashes] Calculating Merkle root current key=0703050a...\r\nFeb 26 08:14:01 mully launch-tg.sh[4386]: INFO [02-26|08:14:01.916] Flushed buffer file                      name=/mnt/storage/turbogeth/etl-temp/tg-sync-sortable-buf805877172 alloc=2.91GiB>\r\nFeb 26 08:14:27 mully launch-tg.sh[4386]: INFO [02-26|08:14:27.442] Flushed buffer file                      name=/mnt/storage/turbogeth/etl-temp/tg-sync-sortable-buf196742019 alloc=2.64GiB>\r\nFeb 26 08:14:30 mully launch-tg.sh[4386]: INFO [02-26|08:14:30.147] [7/14 IntermediateHashes] Calculating Merkle root current key=0703050a...\r\nFeb 26 08:14:52 mully launch-tg.sh[4386]: INFO [02-26|08:14:52.916] Flushed buffer file                      name=/mnt/storage/turbogeth/etl-temp/tg-sync-sortable-buf565229318 alloc=2.23GiB>\r\nFeb 26 08:14:56 mully launch-tg.sh[4386]: INFO [02-26|08:14:56.308] [7/14 IntermediateHashes] Calculating Merkle root current key=0703050a...\r\nFeb 26 08:15:19 mully launch-tg.sh[4386]: INFO [02-26|08:15:19.057] Flushed buffer file                      name=/mnt/storage/turbogeth/etl-temp/tg-sync-sortable-buf822956205 alloc=3.39GiB>\r\nFeb 26 08:15:22 mully launch-tg.sh[4386]: INFO [02-26|08:15:22.991] [7/14 IntermediateHashes] Calculating Merkle root current key=0703050a...\r\nFeb 26 08:15:44 mully launch-tg.sh[4386]: INFO [02-26|08:15:44.338] Flushed buffer file                      name=/mnt/storage/turbogeth/etl-temp/tg-sync-sortable-buf285614120 alloc=3.19GiB>\r\nFeb 26 08:15:52 mully launch-tg.sh[4386]: INFO [02-26|08:15:52.992] [7/14 IntermediateHashes] Calculating Merkle root current key=0703050a...\r\nFeb 26 08:16:09 mully launch-tg.sh[4386]: INFO [02-26|08:16:09.948] Flushed buffer file                      name=/mnt/storage/turbogeth/etl-temp/tg-sync-sortable-buf135537511 alloc=2.91GiB>\r\nFeb 26 08:16:22 mully launch-tg.sh[4386]: INFO [02-26|08:16:22.991] [7/14 IntermediateHashes] Calculating Merkle root current key=0703050a...\r\nFeb 26 08:16:33 mully launch-tg.sh[4386]: INFO [02-26|08:16:33.817] Flushed buffer file                      name=/mnt/storage/turbogeth/etl-temp/tg-sync-sortable-buf590312346 alloc=2.29GiB>\r\n```\r\n\r\nHere are the logs from just before it got stuck:\r\n\r\n```\r\nFeb 26 08:04:25 mully launch-tg.sh[4386]: INFO [02-26|08:04:25.647] [6/14 HashState] Promoting plain state   from=11933270 to=11933532\r\nFeb 26 08:04:25 mully launch-tg.sh[4386]: INFO [02-26|08:04:25.647] [6/14 HashState] Incremental promotion started from=11933270 to=11933532 codes=true  csbucket=PLAIN-ACS\r\nFeb 26 08:04:25 mully launch-tg.sh[4386]: INFO [02-26|08:04:25.891] [6/14 HashState] Incremental promotion started from=11933270 to=11933532 codes=false csbucket=PLAIN-ACS\r\nFeb 26 08:04:26 mully launch-tg.sh[4386]: INFO [02-26|08:04:26.484] [6/14 HashState] Incremental promotion started from=11933270 to=11933532 codes=false csbucket=PLAIN-SCS\r\nFeb 26 08:04:27 mully launch-tg.sh[4386]: INFO [02-26|08:04:27.439] [7/14 IntermediateHashes] Generating intermediate hashes from=11932242 to=11933532\r\nFeb 26 08:04:46 mully launch-tg.sh[4386]: WARN [02-26|08:04:46.725] Synchronisation failed, retrying         err=\"7/14 IntermediateHashes: wrong trie root: 6daa2489d566f5f29140ed7593dd8e9e8>\r\nFeb 26 08:04:55 mully launch-tg.sh[4386]: INFO [02-26|08:04:55.419] [1/14 Headers] Imported new block headers count=4  elapsed=7.203s      number=11933536 hash=\"010d31…3fd8e1\"\r\nFeb 26 08:04:55 mully launch-tg.sh[4386]: INFO [02-26|08:04:55.463] [3/14 Bodies] Imported new chain segment blocks=1  txs=268   elapsed=\"805.348µs\" number=11933533 hash=\"2af2f4…cca342\"\r\nFeb 26 08:04:55 mully launch-tg.sh[4386]: INFO [02-26|08:04:55.506] [3/14 Bodies] Imported new chain segment blocks=1  txs=222   elapsed=\"576.884µs\" number=11933534 hash=\"280cb9…500ceb\"\r\nFeb 26 08:04:55 mully launch-tg.sh[4386]: INFO [02-26|08:04:55.517] [3/14 Bodies] Imported new chain segment blocks=1  txs=216   elapsed=\"450.825µs\" number=11933535 hash=\"97c621…2f8f34\"\r\nFeb 26 08:04:55 mully launch-tg.sh[4386]: INFO [02-26|08:04:55.528] [3/14 Bodies] Imported new chain segment blocks=1  txs=155   elapsed=\"479.369µs\" number=11933536 hash=\"010d31…3fd8e1\"\r\nFeb 26 08:04:55 mully launch-tg.sh[4386]: INFO [02-26|08:04:55.543] [4/14 Senders] Started                   from=11933270 to=11933536\r\nFeb 26 08:04:55 mully launch-tg.sh[4386]: INFO [02-26|08:04:55.543] [4/14 Senders] Read canonical hashes     amount=266\r\nFeb 26 08:04:55 mully launch-tg.sh[4386]: INFO [02-26|08:04:55.837] [5/14 Execution] Blocks execution        from=11933270 to=11933536\r\nFeb 26 08:05:05 mully launch-tg.sh[4386]: INFO [02-26|08:05:05.059] [5/14 Execution] Completed on            block=11933536\r\nFeb 26 08:05:05 mully launch-tg.sh[4386]: INFO [02-26|08:05:05.059] [6/14 HashState] Promoting plain state   from=11933270 to=11933536\r\nFeb 26 08:05:05 mully launch-tg.sh[4386]: INFO [02-26|08:05:05.059] [6/14 HashState] Incremental promotion started from=11933270 to=11933536 codes=true  csbucket=PLAIN-ACS\r\nFeb 26 08:05:05 mully launch-tg.sh[4386]: INFO [02-26|08:05:05.308] [6/14 HashState] Incremental promotion started from=11933270 to=11933536 codes=false csbucket=PLAIN-ACS\r\nFeb 26 08:05:06 mully launch-tg.sh[4386]: INFO [02-26|08:05:06.078] [6/14 HashState] Incremental promotion started from=11933270 to=11933536 codes=false csbucket=PLAIN-SCS\r\nFeb 26 08:05:06 mully launch-tg.sh[4386]: INFO [02-26|08:05:06.995] [7/14 IntermediateHashes] Generating intermediate hashes from=11932242 to=11933536\r\nFeb 26 08:05:28 mully launch-tg.sh[4386]: WARN [02-26|08:05:28.709] Synchronisation failed, retrying         err=\"7/14 IntermediateHashes: wrong trie root: 4cc398b5097de7e9512cda1402c0bac15>\r\nFeb 26 08:05:37 mully launch-tg.sh[4386]: INFO [02-26|08:05:37.492] [1/14 Headers] Imported new block headers count=6  elapsed=8.238s      number=11933542 hash=\"67a2e6…0edcee\"\r\nFeb 26 08:05:37 mully launch-tg.sh[4386]: INFO [02-26|08:05:37.540] [3/14 Bodies] Imported new chain segment blocks=1  txs=247   elapsed=\"534.243µs\" number=11933537 hash=\"c4d783…aeb263\"\r\nFeb 26 08:05:37 mully launch-tg.sh[4386]: INFO [02-26|08:05:37.564] [3/14 Bodies] Imported new chain segment blocks=1  txs=213   elapsed=\"531.628µs\" number=11933538 hash=\"b129fa…380f05\"\r\nFeb 26 08:05:37 mully launch-tg.sh[4386]: INFO [02-26|08:05:37.570] [3/14 Bodies] Imported new chain segment blocks=1  txs=118   elapsed=\"325.477µs\" number=11933539 hash=\"4b4102…4730cb\"\r\nFeb 26 08:05:37 mully launch-tg.sh[4386]: INFO [02-26|08:05:37.578] [3/14 Bodies] Imported new chain segment blocks=1  txs=196   elapsed=\"402.112µs\" number=11933540 hash=\"7fc3eb…0d9b2e\"\r\nFeb 26 08:05:37 mully launch-tg.sh[4386]: INFO [02-26|08:05:37.592] [3/14 Bodies] Imported new chain segment blocks=1  txs=217   elapsed=\"549.02µs\"  number=11933541 hash=\"5ab99e…19489d\"\r\nFeb 26 08:05:37 mully launch-tg.sh[4386]: INFO [02-26|08:05:37.615] [3/14 Bodies] Imported new chain segment blocks=1  txs=0     elapsed=\"35.477µs\"  number=11933542 hash=\"67a2e6…0edcee\"\r\nFeb 26 08:05:37 mully launch-tg.sh[4386]: INFO [02-26|08:05:37.627] [4/14 Senders] Started                   from=11933270 to=11933542\r\nFeb 26 08:05:37 mully launch-tg.sh[4386]: INFO [02-26|08:05:37.628] [4/14 Senders] Read canonical hashes     amount=272\r\nFeb 26 08:05:37 mully launch-tg.sh[4386]: INFO [02-26|08:05:37.931] [5/14 Execution] Blocks execution        from=11933270 to=11933542\r\nFeb 26 08:05:47 mully launch-tg.sh[4386]: INFO [02-26|08:05:47.819] [5/14 Execution] Completed on            block=11933542\r\nFeb 26 08:05:47 mully launch-tg.sh[4386]: INFO [02-26|08:05:47.819] [6/14 HashState] Promoting plain state   from=11933270 to=11933542\r\nFeb 26 08:05:47 mully launch-tg.sh[4386]: INFO [02-26|08:05:47.819] [6/14 HashState] Incremental promotion started from=11933270 to=11933542 codes=true  csbucket=PLAIN-ACS\r\nFeb 26 08:05:48 mully launch-tg.sh[4386]: INFO [02-26|08:05:48.089] [6/14 HashState] Incremental promotion started from=11933270 to=11933542 codes=false csbucket=PLAIN-ACS\r\nFeb 26 08:05:49 mully launch-tg.sh[4386]: INFO [02-26|08:05:49.326] [6/14 HashState] Incremental promotion started from=11933270 to=11933542 codes=false csbucket=PLAIN-SCS\r\nFeb 26 08:05:50 mully launch-tg.sh[4386]: INFO [02-26|08:05:50.640] [7/14 IntermediateHashes] Generating intermediate hashes from=11932242 to=11933542\r\nFeb 26 08:06:22 mully launch-tg.sh[4386]: INFO [02-26|08:06:22.113] Flushed buffer file                      name=/mnt/storage/turbogeth/etl-temp/tg-sync-sortable-buf968689378 alloc=2.48GiB>\r\nFeb 26 08:06:24 mully launch-tg.sh[4386]: INFO [02-26|08:06:24.536] [7/14 IntermediateHashes] Calculating Merkle root current key=0703050a...\r\n```\r\n\r\nAnd the logs from when the failure first started\r\n\r\n```\r\nFeb 26 03:18:08 mully launch-tg.sh[4386]: INFO [02-26|03:18:08.046] [1/14 Headers] Imported new block headers count=1  elapsed=7.096ms     number=11932242 hash=\"cf65e2…da8978\"\r\nFeb 26 03:18:08 mully launch-tg.sh[4386]: INFO [02-26|03:18:08.137] [3/14 Bodies] Imported new chain segment blocks=1  txs=183   elapsed=\"468.056µs\" number=11932242 hash=\"cf65e2…da8978\"\r\nFeb 26 03:18:08 mully launch-tg.sh[4386]: INFO [02-26|03:18:08.161] [4/14 Senders] Started                   from=11932241 to=11932242\r\nFeb 26 03:18:08 mully launch-tg.sh[4386]: INFO [02-26|03:18:08.161] [4/14 Senders] Read canonical hashes     amount=1\r\nFeb 26 03:18:08 mully launch-tg.sh[4386]: INFO [02-26|03:18:08.175] [5/14 Execution] Blocks execution        from=11932241 to=11932242\r\nFeb 26 03:18:08 mully launch-tg.sh[4386]: INFO [02-26|03:18:08.289] [5/14 Execution] Completed on            block=11932242\r\nFeb 26 03:18:08 mully launch-tg.sh[4386]: INFO [02-26|03:18:08.289] [6/14 HashState] Promoting plain state   from=11932241 to=11932242\r\nFeb 26 03:18:08 mully launch-tg.sh[4386]: INFO [02-26|03:18:08.289] [6/14 HashState] Incremental promotion started from=11932241 to=11932242 codes=true  csbucket=PLAIN-ACS\r\nFeb 26 03:18:08 mully launch-tg.sh[4386]: INFO [02-26|03:18:08.294] [6/14 HashState] Incremental promotion started from=11932241 to=11932242 codes=false csbucket=PLAIN-ACS\r\nFeb 26 03:18:08 mully launch-tg.sh[4386]: INFO [02-26|03:18:08.340] [6/14 HashState] Incremental promotion started from=11932241 to=11932242 codes=false csbucket=PLAIN-SCS\r\nFeb 26 03:18:08 mully launch-tg.sh[4386]: INFO [02-26|03:18:08.430] [7/14 IntermediateHashes] Generating intermediate hashes from=11932241 to=11932242\r\nFeb 26 03:18:08 mully launch-tg.sh[4386]: INFO [02-26|03:18:08.882] [7/14 IntermediateHashes] Collection finished root hash=0xc103dbf877b2743c9f23ea0be054f1f030a42a77493302278364f11892ae919>\r\nFeb 26 03:18:09 mully launch-tg.sh[4386]: INFO [02-26|03:18:09.069] [11/14 CallTraces] disabled. Work In Progress\r\nFeb 26 03:18:09 mully launch-tg.sh[4386]: INFO [02-26|03:18:09.194] [13/14 TxPool] Read canonical hashes     hashes=1\r\nFeb 26 03:18:09 mully launch-tg.sh[4386]: INFO [02-26|03:18:09.200] [13/14 TxPool] Transaction stats         pending=3923 queued=1025\r\nFeb 26 03:18:09 mully launch-tg.sh[4386]: INFO [02-26|03:18:09.200] [14/14 Finish] Update current block for the RPC API to=11932242\r\nFeb 26 03:18:09 mully launch-tg.sh[4386]: INFO [02-26|03:18:09.200] Memory                                   alloc=1.34GiB    sys=2.93GiB\r\nFeb 26 03:18:09 mully launch-tg.sh[4386]: INFO [02-26|03:18:09.200] Timings                                  Headers=164.0949ms      BlockHashes=43.857716ms  Bodies=24.509593ms     Bodies=\">\r\nFeb 26 03:18:09 mully launch-tg.sh[4386]: INFO [02-26|03:18:09.547] Commit cycle                             in=346.400221ms\r\nFeb 26 03:18:11 mully launch-tg.sh[4386]: INFO [02-26|03:18:11.470] [1/14 Headers] Imported new block headers count=1  elapsed=4.407ms     number=11932243 hash=\"843c21…bc5c91\"\r\nFeb 26 03:18:11 mully launch-tg.sh[4386]: INFO [02-26|03:18:11.648] [3/14 Bodies] Imported new chain segment blocks=1  txs=98    elapsed=\"243.842µs\" number=11932243 hash=\"843c21…bc5c91\"\r\nFeb 26 03:18:11 mully launch-tg.sh[4386]: INFO [02-26|03:18:11.664] [4/14 Senders] Started                   from=11932242 to=11932243\r\nFeb 26 03:18:11 mully launch-tg.sh[4386]: INFO [02-26|03:18:11.664] [4/14 Senders] Read canonical hashes     amount=1\r\nFeb 26 03:18:11 mully launch-tg.sh[4386]: INFO [02-26|03:18:11.674] [5/14 Execution] Blocks execution        from=11932242 to=11932243\r\nFeb 26 03:18:11 mully launch-tg.sh[4386]: INFO [02-26|03:18:11.917] [5/14 Execution] Completed on            block=11932243\r\nFeb 26 03:18:11 mully launch-tg.sh[4386]: INFO [02-26|03:18:11.917] [6/14 HashState] Promoting plain state   from=11932242 to=11932243\r\nFeb 26 03:18:11 mully launch-tg.sh[4386]: INFO [02-26|03:18:11.918] [6/14 HashState] Incremental promotion started from=11932242 to=11932243 codes=true  csbucket=PLAIN-ACS\r\nFeb 26 03:18:11 mully launch-tg.sh[4386]: INFO [02-26|03:18:11.926] [6/14 HashState] Incremental promotion started from=11932242 to=11932243 codes=false csbucket=PLAIN-ACS\r\nFeb 26 03:18:11 mully launch-tg.sh[4386]: INFO [02-26|03:18:11.946] [6/14 HashState] Incremental promotion started from=11932242 to=11932243 codes=false csbucket=PLAIN-SCS\r\nFeb 26 03:18:12 mully launch-tg.sh[4386]: INFO [02-26|03:18:12.036] [7/14 IntermediateHashes] Generating intermediate hashes from=11932242 to=11932243\r\nFeb 26 03:18:12 mully launch-tg.sh[4386]: WARN [02-26|03:18:12.430] Synchronisation failed, retrying         err=\"7/14 IntermediateHashes: wrong trie root: 84b7cfbb64d9a8c14fe5704f8e2b1b4af>\r\nFeb 26 03:18:12 mully launch-tg.sh[4386]: INFO [02-26|03:18:12.665] [4/14 Senders] Started                   from=11932242 to=11932243\r\nFeb 26 03:18:12 mully launch-tg.sh[4386]: INFO [02-26|03:18:12.665] [4/14 Senders] Read canonical hashes     amount=1\r\nFeb 26 03:18:12 mully launch-tg.sh[4386]: INFO [02-26|03:18:12.676] [5/14 Execution] Blocks execution        from=11932242 to=11932243\r\nFeb 26 03:18:12 mully launch-tg.sh[4386]: INFO [02-26|03:18:12.707] [5/14 Execution] Completed on            block=11932243\r\nFeb 26 03:18:12 mully launch-tg.sh[4386]: INFO [02-26|03:18:12.707] [6/14 HashState] Promoting plain state   from=11932242 to=11932243\r\nFeb 26 03:18:12 mully launch-tg.sh[4386]: INFO [02-26|03:18:12.707] [6/14 HashState] Incremental promotion started from=11932242 to=11932243 codes=true  csbucket=PLAIN-ACS\r\nFeb 26 03:18:12 mully launch-tg.sh[4386]: INFO [02-26|03:18:12.708] [6/14 HashState] Incremental promotion started from=11932242 to=11932243 codes=false csbucket=PLAIN-ACS\r\nFeb 26 03:18:12 mully launch-tg.sh[4386]: INFO [02-26|03:18:12.709] [6/14 HashState] Incremental promotion started from=11932242 to=11932243 codes=false csbucket=PLAIN-SCS\r\nFeb 26 03:18:12 mully launch-tg.sh[4386]: INFO [02-26|03:18:12.714] [7/14 IntermediateHashes] Generating intermediate hashes from=11932242 to=11932243\r\nFeb 26 03:18:12 mully launch-tg.sh[4386]: WARN [02-26|03:18:12.767] Synchronisation failed, retrying         err=\"7/14 IntermediateHashes: wrong trie root: 84b7cfbb64d9a8c14fe5704f8e2b1b4af>\r\n```\r\n",
  "closed_by": {
    "login": "pipermerriam",
    "id": 824194,
    "node_id": "MDQ6VXNlcjgyNDE5NA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/824194?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/pipermerriam",
    "html_url": "https://github.com/pipermerriam",
    "followers_url": "https://api.github.com/users/pipermerriam/followers",
    "following_url": "https://api.github.com/users/pipermerriam/following{/other_user}",
    "gists_url": "https://api.github.com/users/pipermerriam/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/pipermerriam/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/pipermerriam/subscriptions",
    "organizations_url": "https://api.github.com/users/pipermerriam/orgs",
    "repos_url": "https://api.github.com/users/pipermerriam/repos",
    "events_url": "https://api.github.com/users/pipermerriam/events{/privacy}",
    "received_events_url": "https://api.github.com/users/pipermerriam/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/1519/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/1519/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/786771356",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/1519#issuecomment-786771356",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/1519",
    "id": 786771356,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc4Njc3MTM1Ng==",
    "user": {
      "login": "AlexeyAkhunov",
      "id": 13686139,
      "node_id": "MDQ6VXNlcjEzNjg2MTM5",
      "avatar_url": "https://avatars.githubusercontent.com/u/13686139?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/AlexeyAkhunov",
      "html_url": "https://github.com/AlexeyAkhunov",
      "followers_url": "https://api.github.com/users/AlexeyAkhunov/followers",
      "following_url": "https://api.github.com/users/AlexeyAkhunov/following{/other_user}",
      "gists_url": "https://api.github.com/users/AlexeyAkhunov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/AlexeyAkhunov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/AlexeyAkhunov/subscriptions",
      "organizations_url": "https://api.github.com/users/AlexeyAkhunov/orgs",
      "repos_url": "https://api.github.com/users/AlexeyAkhunov/repos",
      "events_url": "https://api.github.com/users/AlexeyAkhunov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/AlexeyAkhunov/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-02-26T17:03:23Z",
    "updated_at": "2021-02-26T17:03:23Z",
    "author_association": "CONTRIBUTOR",
    "body": "Thanks for reporting! We have changed the layout of the Intermediate Hashes since the version you are running. So the calculation of the root is happening in a different way now, so it may or may not cleared this bug. If you update to the latest release, you should recover from this (you will need to wait for the data migration to finish, takes about 3 hours)",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/786771356/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/786776784",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/1519#issuecomment-786776784",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/1519",
    "id": 786776784,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc4Njc3Njc4NA==",
    "user": {
      "login": "pipermerriam",
      "id": 824194,
      "node_id": "MDQ6VXNlcjgyNDE5NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/824194?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pipermerriam",
      "html_url": "https://github.com/pipermerriam",
      "followers_url": "https://api.github.com/users/pipermerriam/followers",
      "following_url": "https://api.github.com/users/pipermerriam/following{/other_user}",
      "gists_url": "https://api.github.com/users/pipermerriam/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pipermerriam/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pipermerriam/subscriptions",
      "organizations_url": "https://api.github.com/users/pipermerriam/orgs",
      "repos_url": "https://api.github.com/users/pipermerriam/repos",
      "events_url": "https://api.github.com/users/pipermerriam/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pipermerriam/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-02-26T17:13:00Z",
    "updated_at": "2021-02-26T17:13:00Z",
    "author_association": "NONE",
    "body": "updated, running migration, I'll report back if it isn't fixed.",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/786776784/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
