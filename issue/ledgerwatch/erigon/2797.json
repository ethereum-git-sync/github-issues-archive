{
  "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/2797",
  "repository_url": "https://api.github.com/repos/ledgerwatch/erigon",
  "labels_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/2797/labels{/name}",
  "comments_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/2797/comments",
  "events_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/2797/events",
  "html_url": "https://github.com/ledgerwatch/erigon/issues/2797",
  "id": 1020327267,
  "node_id": "I_kwDOC0FsAM480PVj",
  "number": 2797,
  "title": "erigon 2021.10.02 crashing / restart loop ",
  "user": {
    "login": "briancolecoinmetrics",
    "id": 70967635,
    "node_id": "MDQ6VXNlcjcwOTY3NjM1",
    "avatar_url": "https://avatars.githubusercontent.com/u/70967635?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/briancolecoinmetrics",
    "html_url": "https://github.com/briancolecoinmetrics",
    "followers_url": "https://api.github.com/users/briancolecoinmetrics/followers",
    "following_url": "https://api.github.com/users/briancolecoinmetrics/following{/other_user}",
    "gists_url": "https://api.github.com/users/briancolecoinmetrics/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/briancolecoinmetrics/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/briancolecoinmetrics/subscriptions",
    "organizations_url": "https://api.github.com/users/briancolecoinmetrics/orgs",
    "repos_url": "https://api.github.com/users/briancolecoinmetrics/repos",
    "events_url": "https://api.github.com/users/briancolecoinmetrics/events{/privacy}",
    "received_events_url": "https://api.github.com/users/briancolecoinmetrics/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 15,
  "created_at": "2021-10-07T18:15:50Z",
  "updated_at": "2021-12-08T18:46:23Z",
  "closed_at": "2021-12-08T18:46:23Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "#### System information\r\n\r\nErigon version: 2021.10.02\r\n\r\nOS & Version: Linux (Alpine 3.14 based Docker image; https://gitlab.com/coinmetrics/fullnodes/erigon/-/blob/main/Dockerfile)\r\n\r\nCommit hash : 8b4d31f6617a051285e62ef065d4a9de2a439fb2\r\n\r\nThis is the startup message:\r\n```\r\n[INFO] [10-07|17:12:53.186] Build info                               git_branch=HEAD git_tag=v2021.10.02 git_commit=8b4d31f6617a051285e62ef065d4a9de2a439fb2\r\n```\r\n\r\n#### Expected behaviour\r\n\r\nErigon fullnode should continue running once started until manually stopped or something external breaks it (running out of disk space, hard fork, whatever), and even then the node should stay up and recover once the situation is resolved.\r\n\r\n#### Actual behaviour\r\nNode runs for ~21 minutes and then it dies and gets restarted by docker.\r\n\r\n#### Steps to reproduce the behaviour\r\n\r\nRun erigon for a bit? Sorry, I don't think we're doing anything unusual; it's a somewhat long-lived instance (data directory is over a month old now) that we periodically update with the newest version of the software. I'm quite happy to provide any additional info needed, although sharing the whole data directory is probably impractical (there's no nice way to transfer 1.5T around).\r\n\r\n#### Backtrace\r\n```\r\n[INFO] [10-07|17:12:41.011] [10/18 HashState] ETL [1/2] Extracting   from=StorageChangeSet current key=0000000000cb984f08650bb9dc722c9c8c62e79c2bafa2d3fc5b32930000000000000001 alloc=\"816.3 MiB\" sys=\"1.8 GiB\"\r\npanic: runtime error: slice bounds out of range [:32] with capacity 20\r\n\r\ngoroutine 76 [running]:\r\ngithub.com/ledgerwatch/erigon/common/changeset.DecodeStorage(0x7ec5899dbfac, 0x24, 0x24, 0x7ec5899e2fe2, 0x14, 0x14, 0x0, 0x0, 0x0, 0x0, ...)\r\n        github.com/ledgerwatch/erigon/common/changeset/storage_changeset.go:51 +0x1f5\r\ngithub.com/ledgerwatch/erigon/eth/stagedsync.getExtractFunc.func1(0x7ec5899dbfac, 0x24, 0x24, 0x7ec5899e2fe2, 0x14, 0x14, 0xc03f420040, 0x0, 0x0)\r\n        github.com/ledgerwatch/erigon/eth/stagedsync/stage_hashstate.go:281 +0x9d\r\ngithub.com/ledgerwatch/erigon-lib/etl.extractBucketIntoFiles(0xc004de8fc0, 0xf, 0x20efcb8, 0xc0078252c0, 0x164c891, 0x10, 0xc014f240f8, 0x8, 0x8, 0x0, ...)\r\n        github.com/ledgerwatch/erigon-lib@v0.0.0-20211006142856-240f7f121273/etl/etl.go:164 +0x2f7\r\ngithub.com/ledgerwatch/erigon-lib/etl.Transform(0xc004de8fc0, 0xf, 0x20f7178, 0xc0078252c0, 0x164c891, 0x10, 0x1648b7f, 0xd, 0xc0001ae060, 0x12, ...)\r\n        github.com/ledgerwatch/erigon-lib@v0.0.0-20211006142856-240f7f121273/etl/etl.go:109 +0x225\r\ngithub.com/ledgerwatch/erigon/eth/stagedsync.(*Promoter).Promote(0xc007825380, 0xc004de8fc0, 0xf, 0xc007a5eb60, 0xcb799e, 0xcc0e68, 0x1, 0x0, 0x0)\r\n        github.com/ledgerwatch/erigon/eth/stagedsync/stage_hashstate.go:437 +0x238\r\ngithub.com/ledgerwatch/erigon/eth/stagedsync.promoteHashedStateIncrementally(0xc004de8fc0, 0xf, 0xc007a5eb60, 0xcb799e, 0xcc0e68, 0x20f7178, 0xc0078252c0, 0x20e7498, 0xc00021c180, 0xc0001ae060, ...)\r\n        github.com/ledgerwatch/erigon/eth/stagedsync/stage_hashstate.go:520 +0x185\r\ngithub.com/ledgerwatch/erigon/eth/stagedsync.SpawnHashStateStage(0xc007a5eb60, 0x0, 0xc0078252c0, 0x20e7498, 0xc00021c180, 0xc0001ae060, 0x12, 0x20de998, 0xc0000e11c0, 0x0, ...)\r\n        github.com/ledgerwatch/erigon/eth/stagedsync/stage_hashstate.go:65 +0x52b\r\ngithub.com/ledgerwatch/erigon/eth/stagedsync.DefaultStages.func28(0xc0002a0001, 0xc007a5eb60, 0x20bfaa0, 0xc0002a31e0, 0x0, 0x0, 0xc00021c180, 0xc007a5eb60)\r\n        github.com/ledgerwatch/erigon/eth/stagedsync/default_stages.go:165 +0x7f\r\ngithub.com/ledgerwatch/erigon/eth/stagedsync.(*Sync).runStage(0xc0002a31e0, 0xc00018f4a0, 0x20e7498, 0xc00021c180, 0x0, 0x0, 0x1, 0x0, 0x0)\r\n        github.com/ledgerwatch/erigon/eth/stagedsync/sync.go:316 +0x1b0\r\ngithub.com/ledgerwatch/erigon/eth/stagedsync.(*Sync).Run(0xc0002a31e0, 0x20e7498, 0xc00021c180, 0x0, 0x0, 0x1, 0x0, 0x0)\r\n        github.com/ledgerwatch/erigon/eth/stagedsync/sync.go:233 +0x428\r\ngithub.com/ledgerwatch/erigon/turbo/stages.StageLoopStep(0x20de998, 0xc0000e11c0, 0x20e7498, 0xc00021c180, 0xc0002a31e0, 0x0, 0xc000ce8760, 0x1, 0xc0002d8770, 0x0, ...)\r\n        github.com/ledgerwatch/erigon/turbo/stages/stageloop.go:129 +0x285\r\ngithub.com/ledgerwatch/erigon/turbo/stages.StageLoop(0x20de998, 0xc0000e11c0, 0x20e7498, 0xc00021c180, 0xc0002a31e0, 0xc000030ff0, 0xc000ce8760, 0xc0002d8770, 0xc000190240, 0x0)\r\n        github.com/ledgerwatch/erigon/turbo/stages/stageloop.go:56 +0x15c\r\ncreated by github.com/ledgerwatch/erigon/eth.(*Ethereum).Start\r\n        github.com/ledgerwatch/erigon/eth/backend.go:781 +0x1b4\r\n```",
  "closed_by": {
    "login": "mandrigin",
    "id": 466427,
    "node_id": "MDQ6VXNlcjQ2NjQyNw==",
    "avatar_url": "https://avatars.githubusercontent.com/u/466427?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/mandrigin",
    "html_url": "https://github.com/mandrigin",
    "followers_url": "https://api.github.com/users/mandrigin/followers",
    "following_url": "https://api.github.com/users/mandrigin/following{/other_user}",
    "gists_url": "https://api.github.com/users/mandrigin/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/mandrigin/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/mandrigin/subscriptions",
    "organizations_url": "https://api.github.com/users/mandrigin/orgs",
    "repos_url": "https://api.github.com/users/mandrigin/repos",
    "events_url": "https://api.github.com/users/mandrigin/events{/privacy}",
    "received_events_url": "https://api.github.com/users/mandrigin/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/2797/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/2797/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/938043341",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/2797#issuecomment-938043341",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/2797",
    "id": 938043341,
    "node_id": "IC_kwDOC0FsAM436WfN",
    "user": {
      "login": "briancolecoinmetrics",
      "id": 70967635,
      "node_id": "MDQ6VXNlcjcwOTY3NjM1",
      "avatar_url": "https://avatars.githubusercontent.com/u/70967635?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/briancolecoinmetrics",
      "html_url": "https://github.com/briancolecoinmetrics",
      "followers_url": "https://api.github.com/users/briancolecoinmetrics/followers",
      "following_url": "https://api.github.com/users/briancolecoinmetrics/following{/other_user}",
      "gists_url": "https://api.github.com/users/briancolecoinmetrics/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/briancolecoinmetrics/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/briancolecoinmetrics/subscriptions",
      "organizations_url": "https://api.github.com/users/briancolecoinmetrics/orgs",
      "repos_url": "https://api.github.com/users/briancolecoinmetrics/repos",
      "events_url": "https://api.github.com/users/briancolecoinmetrics/events{/privacy}",
      "received_events_url": "https://api.github.com/users/briancolecoinmetrics/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-10-07T18:21:15Z",
    "updated_at": "2021-10-07T18:21:15Z",
    "author_association": "NONE",
    "body": "Hm, that restart only lived for 10-11 minutes, I may have misread it before.",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/938043341/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/938282245",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/2797#issuecomment-938282245",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/2797",
    "id": 938282245,
    "node_id": "IC_kwDOC0FsAM437Q0F",
    "user": {
      "login": "AskAlexSharov",
      "id": 46885206,
      "node_id": "MDQ6VXNlcjQ2ODg1MjA2",
      "avatar_url": "https://avatars.githubusercontent.com/u/46885206?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/AskAlexSharov",
      "html_url": "https://github.com/AskAlexSharov",
      "followers_url": "https://api.github.com/users/AskAlexSharov/followers",
      "following_url": "https://api.github.com/users/AskAlexSharov/following{/other_user}",
      "gists_url": "https://api.github.com/users/AskAlexSharov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/AskAlexSharov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/AskAlexSharov/subscriptions",
      "organizations_url": "https://api.github.com/users/AskAlexSharov/orgs",
      "repos_url": "https://api.github.com/users/AskAlexSharov/repos",
      "events_url": "https://api.github.com/users/AskAlexSharov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/AskAlexSharov/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-10-08T02:10:55Z",
    "updated_at": "2021-10-08T02:10:55Z",
    "author_association": "COLLABORATOR",
    "body": "Hi. Please try: \r\n```\r\n./build/bin/integration state_stages --datadir=<your_datadir> --unwind=1000\r\n./build/bin/integration state_hash_state --datadir=<your_datadir> \r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/938282245/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/938941878",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/2797#issuecomment-938941878",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/2797",
    "id": 938941878,
    "node_id": "IC_kwDOC0FsAM439x22",
    "user": {
      "login": "briancolecoinmetrics",
      "id": 70967635,
      "node_id": "MDQ6VXNlcjcwOTY3NjM1",
      "avatar_url": "https://avatars.githubusercontent.com/u/70967635?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/briancolecoinmetrics",
      "html_url": "https://github.com/briancolecoinmetrics",
      "followers_url": "https://api.github.com/users/briancolecoinmetrics/followers",
      "following_url": "https://api.github.com/users/briancolecoinmetrics/following{/other_user}",
      "gists_url": "https://api.github.com/users/briancolecoinmetrics/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/briancolecoinmetrics/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/briancolecoinmetrics/subscriptions",
      "organizations_url": "https://api.github.com/users/briancolecoinmetrics/orgs",
      "repos_url": "https://api.github.com/users/briancolecoinmetrics/repos",
      "events_url": "https://api.github.com/users/briancolecoinmetrics/events{/privacy}",
      "received_events_url": "https://api.github.com/users/briancolecoinmetrics/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-10-08T17:37:06Z",
    "updated_at": "2021-10-08T17:37:06Z",
    "author_association": "NONE",
    "body": "I executed both of those commands, and they appear to have both errored out:\r\n```\r\nhost$ docker exec -ti erigoncontainer ash\r\n~ $ integration state_stages --datadir=/opt/data --unwind=1000\r\nINFO[10-08|17:20:52.950] Initialised chain configuration          config=\"{ChainID: 1 Homestead: 1150000 DAO: 1920000 DAOSupport: true EIP150: 2463000 EIP155: 2675000 EIP158: 2675000 Byzantium: 4370000 Constantinople: 7280000 Petersburg: 7280000 Istanbul: 906900\r\n0, Muir Glacier: 9200000, Berlin: 12244000, London: 12965000, Engine: ethash}\"\r\nINFO[10-08|17:20:53.913] [10/18 HashState] Promoting plain state  from=13334942 to=13379451\r\nINFO[10-08|17:20:53.913] [10/18 HashState] Incremental promotion started from=13334942 to=13379451 codes=true csbucket=AccountChangeSet\r\nhost$ echo $?  # what?\r\n137\r\nhost$ docker exec -ti erigoncontainer ash\r\n~ $ integration state_hash_state --datadir=/opt/data\r\nError: unknown command \"state_hash_state\" for \"integration\"\r\n\r\nDid you mean this?\r\n        stage_hash_state\r\n\r\nRun 'integration --help' for usage.\r\nunknown command \"state_hash_state\" for \"integration\"\r\n\r\nDid you mean this?\r\n        stage_hash_state\r\n\r\n~ $ integration stage_hash_state --datadir=/opt/data\r\nINFO[10-08|17:21:49.652] Initialised chain configuration          config=\"{ChainID: 1 Homestead: 1150000 DAO: 1920000 DAOSupport: true EIP150: 2463000 EIP155: 2675000 EIP158: 2675000 Byzantium: 4370000 Constantinople: 7280000 Petersburg: 7280000 Istanbul: 9069000, Muir Glacier: 9200000, Berlin: 12244000, London: 12965000, Engine: ethash}\"\r\nINFO[10-08|17:22:10.277] Stage                                    name=HashState progress=13334942\r\nINFO[10-08|17:22:10.277] [10/18 HashState] Promoting plain state  from=13334942 to=13379487\r\nINFO[10-08|17:22:10.278] [10/18 HashState] Incremental promotion started from=13334942 to=13379487 codes=true csbucket=AccountChangeSet\r\nINFO[10-08|17:22:40.278] [10/18 HashState] ETL [1/2] Extracting   from=AccountChangeSet current key=0000000000cbc98a alloc=\"111.2 MiB\" sys=\"279.2 MiB\"\r\nINFO[10-08|17:23:10.278] [10/18 HashState] ETL [1/2] Extracting   from=AccountChangeSet current key=0000000000cc1e73 alloc=\"125.9 MiB\" sys=\"279.7 MiB\"\r\nINFO[10-08|17:23:14.834] [10/18 HashState] Incremental promotion started from=13334942 to=13379487 codes=false csbucket=AccountChangeSet\r\nINFO[10-08|17:23:44.835] [10/18 HashState] ETL [1/2] Extracting   from=AccountChangeSet current key=0000000000cbc617 alloc=\"258.7 MiB\" sys=\"615.8 MiB\"\r\nINFO[10-08|17:24:14.836] [10/18 HashState] ETL [1/2] Extracting   from=AccountChangeSet current key=0000000000cc07d6 alloc=\"750.1 MiB\" sys=\"883.5 MiB\"\r\nINFO[10-08|17:25:19.042] [10/18 HashState] ETL [2/2] Loading      into=HashedAccount current key=d4dd2e61... alloc=\"1.0 GiB\" sys=\"1.5 GiB\"\r\nINFO[10-08|17:25:49.043] [10/18 HashState] ETL [2/2] Loading      into=HashedAccount current key=dbb2b052... alloc=\"1.0 GiB\" sys=\"1.5 GiB\"\r\nINFO[10-08|17:26:19.048] [10/18 HashState] ETL [2/2] Loading      into=HashedAccount current key=e247bd2c... alloc=\"568.2 MiB\" sys=\"1.5 GiB\"\r\nINFO[10-08|17:26:49.042] [10/18 HashState] ETL [2/2] Loading      into=HashedAccount current key=e897f272... alloc=\"576.0 MiB\" sys=\"1.5 GiB\"\r\nINFO[10-08|17:27:19.038] [10/18 HashState] ETL [2/2] Loading      into=HashedAccount current key=ef2a2f2c... alloc=\"584.2 MiB\" sys=\"1.5 GiB\"\r\nINFO[10-08|17:27:49.052] [10/18 HashState] ETL [2/2] Loading      into=HashedAccount current key=f541e8ad... alloc=\"591.7 MiB\" sys=\"1.5 GiB\"\r\nINFO[10-08|17:28:19.042] [10/18 HashState] ETL [2/2] Loading      into=HashedAccount current key=fb959673... alloc=\"567.8 MiB\" sys=\"1.5 GiB\"\r\nINFO[10-08|17:28:40.405] [10/18 HashState] Incremental promotion started from=13334942 to=13379487 codes=false csbucket=StorageChangeSet\r\nINFO[10-08|17:29:18.023] database closed                          label=chaindata\r\npanic: runtime error: slice bounds out of range [:32] with capacity 20\r\n\r\ngoroutine 1 [running]:\r\ngithub.com/ledgerwatch/erigon/common/changeset.DecodeStorage(0x7f134af5efac, 0x24, 0x24, 0x7f134af65fe2, 0x14, 0x14, 0x0, 0x0, 0x0, 0x0, ...)\r\n        github.com/ledgerwatch/erigon/common/changeset/storage_changeset.go:51 +0x1f5\r\ngithub.com/ledgerwatch/erigon/eth/stagedsync.getExtractFunc.func1(0x7f134af5efac, 0x24, 0x24, 0x7f134af65fe2, 0x14, 0x14, 0xc0010ba0c0, 0x0, 0x0)\r\n        github.com/ledgerwatch/erigon/eth/stagedsync/stage_hashstate.go:281 +0x9d\r\ngithub.com/ledgerwatch/erigon-lib/etl.extractBucketIntoFiles(0xc00601fa20, 0xf, 0x203b638, 0xc00600fa70, 0x159f31d, 0x10, 0xc0207c6080, 0x8, 0x8, 0x0, ...)\r\n        github.com/ledgerwatch/erigon-lib@v0.0.0-20211006142856-240f7f121273/etl/etl.go:164 +0x2f7\r\ngithub.com/ledgerwatch/erigon-lib/etl.Transform(0xc00601fa20, 0xf, 0x2042a18, 0xc00600fa70, 0x159f31d, 0x10, 0x159b791, 0xd, 0xc000040af8, 0x12, ...)\r\n        github.com/ledgerwatch/erigon-lib@v0.0.0-20211006142856-240f7f121273/etl/etl.go:109 +0x225\r\ngithub.com/ledgerwatch/erigon/eth/stagedsync.(*Promoter).Promote(0xc00600fb60, 0xc00601fa20, 0xf, 0xc006033e20, 0xcb799e, 0xcc279f, 0x1, 0x0, 0x0)\r\n        github.com/ledgerwatch/erigon/eth/stagedsync/stage_hashstate.go:437 +0x238\r\ngithub.com/ledgerwatch/erigon/eth/stagedsync.promoteHashedStateIncrementally(0xc00601fa20, 0xf, 0xc006033e20, 0xcb799e, 0xcc279f, 0x2042a18, 0xc00600fa70, 0x2033ad8, 0xc0002a8c00, 0xc000040af8, ...)\r\n        github.com/ledgerwatch/erigon/eth/stagedsync/stage_hashstate.go:520 +0x185\r\ngithub.com/ledgerwatch/erigon/eth/stagedsync.SpawnHashStateStage(0xc006033e20, 0x2042a18, 0xc00600fa70, 0x2033ad8, 0xc0002a8c00, 0xc000040af8, 0x12, 0x202b878, 0xc0003179c0, 0x0, ...)\r\n        github.com/ledgerwatch/erigon/eth/stagedsync/stage_hashstate.go:65 +0x52b\r\ngithub.com/ledgerwatch/erigon/cmd/integration/commands.stageHashState(0x2033ad8, 0xc0002a8c00, 0x202b878, 0xc0003179c0, 0x0, 0x0)\r\n        github.com/ledgerwatch/erigon/cmd/integration/commands/stages.go:715 +0x76b\r\ngithub.com/ledgerwatch/erigon/cmd/integration/commands.glob..func14(0x27bb0c0, 0xc000118e80, 0x0, 0x1, 0x0, 0x0)\r\n        github.com/ledgerwatch/erigon/cmd/integration/commands/stages.go:136 +0x119\r\ngithub.com/spf13/cobra.(*Command).execute(0x27bb0c0, 0xc000118e70, 0x1, 0x1, 0x27bb0c0, 0xc000118e70)\r\n        github.com/spf13/cobra@v1.2.1/command.go:856 +0x472\r\ngithub.com/spf13/cobra.(*Command).ExecuteC(0x27be040, 0xc000317880, 0xc000118d80, 0x18)\r\n        github.com/spf13/cobra@v1.2.1/command.go:974 +0x375\r\ngithub.com/spf13/cobra.(*Command).Execute(...)\r\n        github.com/spf13/cobra@v1.2.1/command.go:902\r\ngithub.com/spf13/cobra.(*Command).ExecuteContext(...)\r\n        github.com/spf13/cobra@v1.2.1/command.go:895\r\nmain.main()\r\n        github.com/ledgerwatch/erigon/cmd/integration/main.go:15 +0x129\r\n```\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/938941878/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/939201921",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/2797#issuecomment-939201921",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/2797",
    "id": 939201921,
    "node_id": "IC_kwDOC0FsAM43-xWB",
    "user": {
      "login": "AskAlexSharov",
      "id": 46885206,
      "node_id": "MDQ6VXNlcjQ2ODg1MjA2",
      "avatar_url": "https://avatars.githubusercontent.com/u/46885206?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/AskAlexSharov",
      "html_url": "https://github.com/AskAlexSharov",
      "followers_url": "https://api.github.com/users/AskAlexSharov/followers",
      "following_url": "https://api.github.com/users/AskAlexSharov/following{/other_user}",
      "gists_url": "https://api.github.com/users/AskAlexSharov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/AskAlexSharov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/AskAlexSharov/subscriptions",
      "organizations_url": "https://api.github.com/users/AskAlexSharov/orgs",
      "repos_url": "https://api.github.com/users/AskAlexSharov/repos",
      "events_url": "https://api.github.com/users/AskAlexSharov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/AskAlexSharov/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-10-09T01:44:05Z",
    "updated_at": "2021-10-09T01:44:05Z",
    "author_association": "COLLABORATOR",
    "body": "@briancolecoinmetrics because commands didn't run: `unknown command \"state_hash_state\" for \"integration\"`\r\nshow me `integration --help`\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/939201921/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/939201966",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/2797#issuecomment-939201966",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/2797",
    "id": 939201966,
    "node_id": "IC_kwDOC0FsAM43-xWu",
    "user": {
      "login": "AskAlexSharov",
      "id": 46885206,
      "node_id": "MDQ6VXNlcjQ2ODg1MjA2",
      "avatar_url": "https://avatars.githubusercontent.com/u/46885206?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/AskAlexSharov",
      "html_url": "https://github.com/AskAlexSharov",
      "followers_url": "https://api.github.com/users/AskAlexSharov/followers",
      "following_url": "https://api.github.com/users/AskAlexSharov/following{/other_user}",
      "gists_url": "https://api.github.com/users/AskAlexSharov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/AskAlexSharov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/AskAlexSharov/subscriptions",
      "organizations_url": "https://api.github.com/users/AskAlexSharov/orgs",
      "repos_url": "https://api.github.com/users/AskAlexSharov/repos",
      "events_url": "https://api.github.com/users/AskAlexSharov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/AskAlexSharov/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-10-09T01:44:30Z",
    "updated_at": "2021-10-09T01:44:30Z",
    "author_association": "COLLABORATOR",
    "body": "It even advising you \r\n```\r\nDid you mean this?\r\n        stage_hash_state\r\n```\r\n\r\n:-)\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/939201966/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/939232149",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/2797#issuecomment-939232149",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/2797",
    "id": 939232149,
    "node_id": "IC_kwDOC0FsAM43-4uV",
    "user": {
      "login": "briancolecoinmetrics",
      "id": 70967635,
      "node_id": "MDQ6VXNlcjcwOTY3NjM1",
      "avatar_url": "https://avatars.githubusercontent.com/u/70967635?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/briancolecoinmetrics",
      "html_url": "https://github.com/briancolecoinmetrics",
      "followers_url": "https://api.github.com/users/briancolecoinmetrics/followers",
      "following_url": "https://api.github.com/users/briancolecoinmetrics/following{/other_user}",
      "gists_url": "https://api.github.com/users/briancolecoinmetrics/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/briancolecoinmetrics/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/briancolecoinmetrics/subscriptions",
      "organizations_url": "https://api.github.com/users/briancolecoinmetrics/orgs",
      "repos_url": "https://api.github.com/users/briancolecoinmetrics/repos",
      "events_url": "https://api.github.com/users/briancolecoinmetrics/events{/privacy}",
      "received_events_url": "https://api.github.com/users/briancolecoinmetrics/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-10-09T05:39:05Z",
    "updated_at": "2021-10-09T05:39:05Z",
    "author_association": "NONE",
    "body": "Just this?\r\n```\r\nhost$ docker exec -ti erigoncontainer ash\r\n~ $ integration --help\r\nlong and heavy integration tests for Erigon\r\n\r\nUsage:\r\n  integration [command]\r\n\r\nAvailable Commands:\r\n  compare_bucket    compare bucket to the same bucket in '--chaindata.reference'\r\n  compare_states    compare state buckets to buckets in '--chaindata.reference'\r\n  completion        generate the autocompletion script for the specified shell\r\n  f_to_mdbx         copy data from '--chaindata' to '--chaindata.to'\r\n  help              Help about any command\r\n  loop_exec         \r\n  loop_ih           \r\n  mdbx_to_mdbx      copy data from '--chaindata' to '--chaindata.to'\r\n  print_migrations  \r\n  print_stages      \r\n  remove_migration  \r\n  reset_state       Reset StateStages (5,6,7,8,9,10) and buckets\r\n  run_migrations    \r\n  set_prune         Override existing --prune flag value (if you know what you are doing)\r\n  stage_bodies      \r\n  stage_call_traces \r\n  stage_exec        \r\n  stage_hash_state  \r\n  stage_headers     \r\n  stage_history     \r\n  stage_log_index   \r\n  stage_senders     \r\n  stage_trie        \r\n  stage_tx_lookup   \r\n  state_stages      Run all StateStages (which happen after senders) in loop.\r\nExamples: \r\n--unwind=1 --unwind.every=10  # 10 blocks forward, 1 block back, 10 blocks forward, ...\r\n--unwind=10 --unwind.every=1  # 1 block forward, 10 blocks back, 1 blocks forward, ...\r\n--unwind=10  # 10 blocks back, then stop\r\n--integrity.fast=false --integrity.slow=false # Performs DB integrity checks each step. You can disable slow or fast checks.\r\n--block # Stop at exact blocks\r\n--chaindata.reference # When finish all cycles, does comparison to this db file.\r\n\r\n  test_cons         Integration test for consensus engine\r\n  test_core         Test server for testing core of Erigon or equivalent component\r\n\r\nFlags:\r\n      --backtrace string             Request a stack trace at a specific logging statement (e.g. \"block.go:271\")\r\n      --debug                        Prepends log messages with call-site location (file and line number)\r\n  -h, --help                         help for integration\r\n      --log.json                     Format logs with JSON\r\n      --metrics                      Enable metrics collection and reporting\r\n      --metrics.addr string          Enable stand-alone metrics HTTP server listening interface (default \"127.0.0.1\")\r\n      --metrics.expensive            Enable expensive metrics collection and reporting\r\n      --metrics.port int             Metrics HTTP server listening port (default 6060)\r\n      --pprof                        Enable the pprof HTTP server\r\n      --pprof.addr string            pprof HTTP server listening interface (default \"127.0.0.1\")\r\n      --pprof.blockprofilerate int   Turn on block profiling with the given rate\r\n      --pprof.cpuprofile string      Write CPU profile to the given file\r\n      --pprof.memprofilerate int     Turn on memory profiling with the given rate (default 524288)\r\n      --pprof.port int               pprof HTTP server listening port (default 6060)\r\n      --trace string                 Write execution trace to the given file\r\n      --verbosity int                Logging verbosity: 0=silent, 1=error, 2=warn, 3=info, 4=debug, 5=detail (default 3)\r\n      --vmodule string               Per-module verbosity: comma-separated list of <pattern>=<level> (e.g. eth/*=5,p2p=4)\r\n\r\nUse \"integration [command] --help\" for more information about a command.\r\n```\r\n\r\nAnd yes, I copy-pasted the command you provided, saw the error, and replaced the command as it suggested (it's the very next command in the typescript); given that it ran that without complaining about the command I assumed I'd substituted correctly?",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/939232149/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/939636096",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/2797#issuecomment-939636096",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/2797",
    "id": 939636096,
    "node_id": "IC_kwDOC0FsAM44AbWA",
    "user": {
      "login": "AskAlexSharov",
      "id": 46885206,
      "node_id": "MDQ6VXNlcjQ2ODg1MjA2",
      "avatar_url": "https://avatars.githubusercontent.com/u/46885206?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/AskAlexSharov",
      "html_url": "https://github.com/AskAlexSharov",
      "followers_url": "https://api.github.com/users/AskAlexSharov/followers",
      "following_url": "https://api.github.com/users/AskAlexSharov/following{/other_user}",
      "gists_url": "https://api.github.com/users/AskAlexSharov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/AskAlexSharov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/AskAlexSharov/subscriptions",
      "organizations_url": "https://api.github.com/users/AskAlexSharov/orgs",
      "repos_url": "https://api.github.com/users/AskAlexSharov/repos",
      "events_url": "https://api.github.com/users/AskAlexSharov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/AskAlexSharov/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-10-11T02:56:39Z",
    "updated_at": "2021-10-11T02:56:39Z",
    "author_association": "COLLABORATOR",
    "body": "you did correct. but by some reason command was killed.\r\nplease try smaller command:\r\n```\r\nintegration state_stages --datadir=/opt/data --unwind=100\r\nintegration stage_hash_state --datadir=/opt/data\r\n```\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/939636096/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/941540482",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/2797#issuecomment-941540482",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/2797",
    "id": 941540482,
    "node_id": "IC_kwDOC0FsAM44HsSC",
    "user": {
      "login": "briancolecoinmetrics",
      "id": 70967635,
      "node_id": "MDQ6VXNlcjcwOTY3NjM1",
      "avatar_url": "https://avatars.githubusercontent.com/u/70967635?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/briancolecoinmetrics",
      "html_url": "https://github.com/briancolecoinmetrics",
      "followers_url": "https://api.github.com/users/briancolecoinmetrics/followers",
      "following_url": "https://api.github.com/users/briancolecoinmetrics/following{/other_user}",
      "gists_url": "https://api.github.com/users/briancolecoinmetrics/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/briancolecoinmetrics/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/briancolecoinmetrics/subscriptions",
      "organizations_url": "https://api.github.com/users/briancolecoinmetrics/orgs",
      "repos_url": "https://api.github.com/users/briancolecoinmetrics/repos",
      "events_url": "https://api.github.com/users/briancolecoinmetrics/events{/privacy}",
      "received_events_url": "https://api.github.com/users/briancolecoinmetrics/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-10-12T20:57:04Z",
    "updated_at": "2021-10-12T20:57:04Z",
    "author_association": "NONE",
    "body": "So I tried that, and then I tried cutting it down even further, and I'm honestly not clear on whether this worked or not:\r\n```\r\nhost$ docker exec -ti erigoncontainer ash\r\n~ $ integration state_stages --datadir=/opt/data --unwind=100\r\nINFO[10-12|20:06:12.131] Initialised chain configuration          config=\"{ChainID: 1 Homestead: 1150000 DAO: 1920000 DAOSupport: true EIP150: 2463000 EIP155: 2675000 EIP158: 2675000 Byzantium: 4370000 Constantinople: 7280000 Petersburg: 7280000 Istanbul: 9069000, Muir Glacier: 9200000, Berlin: 12244000, London: 12965000, Engine: ethash}\"\r\nINFO[10-12|20:09:04.485] [10/18 HashState] Promoting plain state  from=13334942 to=13404329\r\nINFO[10-12|20:09:04.485] [10/18 HashState] Incremental promotion started from=13334942 to=13404329 codes=true csbucket=AccountChangeSet\r\nINFO[10-12|20:09:34.486] [10/18 HashState] ETL [1/2] Extracting   from=AccountChangeSet current key=0000000000cbd1f6 alloc=\"112.3 MiB\" sys=\"279.7 MiB\"\r\nINFO[10-12|20:10:04.486] [10/18 HashState] ETL [1/2] Extracting   from=AccountChangeSet current key=0000000000cc2ea4 alloc=\"118.3 MiB\" sys=\"280.2 MiB\"\r\nINFO[10-12|20:10:34.082] [10/18 HashState] Incremental promotion started from=13334942 to=13404329 codes=false csbucket=AccountChangeSet\r\nINFO[10-12|20:11:04.086] [10/18 HashState] ETL [1/2] Extracting   from=AccountChangeSet current key=0000000000cbcff3 alloc=\"379.1 MiB\" sys=\"616.5 MiB\"\r\nINFO[10-12|20:11:34.082] [10/18 HashState] ETL [1/2] Extracting   from=AccountChangeSet current key=0000000000cc1c2f alloc=\"535.7 MiB\" sys=\"954.0 MiB\"\r\nINFO[10-12|20:12:04.086] [10/18 HashState] ETL [1/2] Extracting   from=AccountChangeSet current key=0000000000cc6e32 alloc=\"585.0 MiB\" sys=\"954.9 MiB\"\r\nINFO[10-12|20:12:46.541] [10/18 HashState] Incremental promotion started from=13334942 to=13404329 codes=false csbucket=StorageChangeSet\r\nINFO[10-12|20:13:20.388] database closed                          label=chaindata\r\npanic: runtime error: slice bounds out of range [:32] with capacity 20\r\n\r\ngoroutine 1 [running]:\r\ngithub.com/ledgerwatch/erigon/common/changeset.DecodeStorage(0x7e6c5ff53fac, 0x24, 0x24, 0x7e6c5ff5afe2, 0x14, 0x14, 0x0, 0x0, 0x0, 0x0, ...)\r\n        github.com/ledgerwatch/erigon/common/changeset/storage_changeset.go:51 +0x1f5\r\ngithub.com/ledgerwatch/erigon/eth/stagedsync.getExtractFunc.func1(0x7e6c5ff53fac, 0x24, 0x24, 0x7e6c5ff5afe2, 0x14, 0x14, 0xc041782f80, 0x0, 0x0)\r\n        github.com/ledgerwatch/erigon/eth/stagedsync/stage_hashstate.go:281 +0x9d\r\ngithub.com/ledgerwatch/erigon-lib/etl.extractBucketIntoFiles(0xc005d412c0, 0xf, 0x203b638, 0xc006f6e000, 0x159f31d, 0x10, 0xc014f5a090, 0x8, 0x8, 0x0, ...)\r\n        github.com/ledgerwatch/erigon-lib@v0.0.0-20211006142856-240f7f121273/etl/etl.go:164 +0x2f7\r\ngithub.com/ledgerwatch/erigon-lib/etl.Transform(0xc005d412c0, 0xf, 0x2042a18, 0xc006f6e000, 0x159f31d, 0x10, 0x159b791, 0xd, 0xc00011aea0, 0x29, ...)\r\n        github.com/ledgerwatch/erigon-lib@v0.0.0-20211006142856-240f7f121273/etl/etl.go:109 +0x225\r\ngithub.com/ledgerwatch/erigon/eth/stagedsync.(*Promoter).Promote(0xc006f6e540, 0xc005d412c0, 0xf, 0xc005d35c20, 0xcb799e, 0xcc88a9, 0x1, 0x0, 0x0)\r\n        github.com/ledgerwatch/erigon/eth/stagedsync/stage_hashstate.go:437 +0x238\r\ngithub.com/ledgerwatch/erigon/eth/stagedsync.promoteHashedStateIncrementally(0xc005d412c0, 0xf, 0xc005d35c20, 0xcb799e, 0xcc88a9, 0x2042a18, 0xc006f6e000, 0x2033ad8, 0xc00019ef00, 0xc00011aea0, ...)\r\n        github.com/ledgerwatch/erigon/eth/stagedsync/stage_hashstate.go:520 +0x185\r\ngithub.com/ledgerwatch/erigon/eth/stagedsync.SpawnHashStateStage(0xc005d35c20, 0x2042a18, 0xc006f6e000, 0x2033ad8, 0xc00019ef00, 0xc00011aea0, 0x29, 0x202b8b0, 0xc000042060, 0x0, ...)\r\n        github.com/ledgerwatch/erigon/eth/stagedsync/stage_hashstate.go:65 +0x52b\r\ngithub.com/ledgerwatch/erigon/eth/stagedsync.DefaultStages.func28(0xc0001e0000, 0xc005d35c20, 0x200e160, 0xc0001e2630, 0x2042a18, 0xc006f6e000, 0xc00019ef00, 0xc005d35c20)\r\n        github.com/ledgerwatch/erigon/eth/stagedsync/default_stages.go:165 +0x7f\r\ngithub.com/ledgerwatch/erigon/eth/stagedsync.(*Sync).runStage(0xc0001e2630, 0xc00010e500, 0x2033ad8, 0xc00019ef00, 0x2042a18, 0xc006f6e000, 0x0, 0x0, 0x0)\r\n        github.com/ledgerwatch/erigon/eth/stagedsync/sync.go:316 +0x1b0\r\ngithub.com/ledgerwatch/erigon/eth/stagedsync.(*Sync).Run(0xc0001e2630, 0x2033ad8, 0xc00019ef00, 0x2042a18, 0xc006f6e000, 0x0, 0x0, 0xc00011f880)\r\n        github.com/ledgerwatch/erigon/eth/stagedsync/sync.go:233 +0x428\r\ngithub.com/ledgerwatch/erigon/cmd/integration/commands.syncBySmallSteps(0x2033ad8, 0xc00019ef00, 0x0, 0x0, 0x0, 0x0, 0x2a698c0, 0x0, 0x0, 0x2a698c0, ...)\r\n        github.com/ledgerwatch/erigon/cmd/integration/commands/state_stages.go:278 +0xc39\r\ngithub.com/ledgerwatch/erigon/cmd/integration/commands.glob..func24(0x27bcc40, 0xc00011d220, 0x0, 0x2, 0x0, 0x0)\r\n        github.com/ledgerwatch/erigon/cmd/integration/commands/state_stages.go:63 +0x258\r\ngithub.com/spf13/cobra.(*Command).execute(0x27bcc40, 0xc00011d200, 0x2, 0x2, 0x27bcc40, 0xc00011d200)\r\n        github.com/spf13/cobra@v1.2.1/command.go:856 +0x472\r\ngithub.com/spf13/cobra.(*Command).ExecuteC(0x27be040, 0xc000297e80, 0xc000314e50, 0x18)\r\n        github.com/spf13/cobra@v1.2.1/command.go:974 +0x375\r\ngithub.com/spf13/cobra.(*Command).Execute(...)\r\n        github.com/spf13/cobra@v1.2.1/command.go:902\r\ngithub.com/spf13/cobra.(*Command).ExecuteContext(...)\r\n        github.com/spf13/cobra@v1.2.1/command.go:895\r\nmain.main()\r\n        github.com/ledgerwatch/erigon/cmd/integration/main.go:15 +0x129\r\n~ $ host$ docker exec -ti erigoncontainer ash\r\n~ $ integration state_stages --datadir=/opt/data --unwind=10\r\nhost echo $?\r\n137\r\nhost docker exec -ti erigoncontainer ash\r\n~ $ integration stage_hash_state --datadir=/opt/data\r\nhost echo $?\r\n137\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/941540482/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/941894127",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/2797#issuecomment-941894127",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/2797",
    "id": 941894127,
    "node_id": "IC_kwDOC0FsAM44JCnv",
    "user": {
      "login": "AskAlexSharov",
      "id": 46885206,
      "node_id": "MDQ6VXNlcjQ2ODg1MjA2",
      "avatar_url": "https://avatars.githubusercontent.com/u/46885206?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/AskAlexSharov",
      "html_url": "https://github.com/AskAlexSharov",
      "followers_url": "https://api.github.com/users/AskAlexSharov/followers",
      "following_url": "https://api.github.com/users/AskAlexSharov/following{/other_user}",
      "gists_url": "https://api.github.com/users/AskAlexSharov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/AskAlexSharov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/AskAlexSharov/subscriptions",
      "organizations_url": "https://api.github.com/users/AskAlexSharov/orgs",
      "repos_url": "https://api.github.com/users/AskAlexSharov/repos",
      "events_url": "https://api.github.com/users/AskAlexSharov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/AskAlexSharov/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-10-13T03:56:09Z",
    "updated_at": "2021-10-13T03:56:09Z",
    "author_association": "COLLABORATOR",
    "body": "- What version of Erigon (did you re-build `integration` binary?) you using?\r\n\r\n- Can you try later version:\r\n```\r\n./build/bin/integration state_stages --datadir=/opt/data --unwind=100 --integrity.fast=false\r\n```\r\n\r\nI  have next output on current `v2021.10.02`: \r\n```\r\n./build/bin/integration state_stages --datadir=<mydatadir> --chain goerli --unwind=20 --integrity.fast=false\r\nINFO[10-13|10:53:47.138] Initialised chain configuration          config=\"{ChainID: 5 Homestead: 0 DAO: <nil> DAOSupport: true EIP150: 0 EIP155: 0 EIP158: 0 Byzantium: 0 Constantinople: 0 Petersburg: 0 Istanbul: 1561651, Muir Glacier: <nil>, Berlin: 4460644, London: 5062605, Engine: clique}\"\r\nWARN[10-13|10:53:47.581] Preverified hashes not found for         chain=goerli\r\nINFO[10-13|10:53:47.583] UnwindTo                                 block=5650944 bad_block_hash=0x0000000000000000000000000000000000000000000000000000000000000000\r\nINFO[10-13|10:53:47.732] [12/18 CallTraces] Unwind                from=5650964 to=5650944\r\nINFO[10-13|10:53:47.772] [10/18 HashState] Unwinding started      from=5650964 to=5650944 storage=false codes=true\r\nINFO[10-13|10:53:47.776] [10/18 HashState] Unwinding started      from=5650964 to=5650944 storage=false codes=false\r\nINFO[10-13|10:53:47.792] [10/18 HashState] Unwinding started      from=5650964 to=5650944 storage=true codes=false\r\nINFO[10-13|10:53:47.833] [11/18 IntermediateHashes] Unwinding of trie hashes from=5650964 to=5650944 csbucket=AccountChangeSet\r\nINFO[10-13|10:53:47.845] [11/18 IntermediateHashes] Unwinding of trie hashes from=5650964 to=5650944 csbucket=StorageChangeSet\r\nINFO[10-13|10:53:47.913] [11/18 IntermediateHashes] Trie root     hash=0x01ca2a2267574899a43d97a4f90b3a74a5bfe2e44c9bc5c3d2c4a7766423047f\r\nINFO[10-13|10:53:47.917] [7/18 Execution] Unwind Execution        from=5650964 to=5650944\r\nINFO[10-13|10:53:47.932] Timings (slower than 10ms)               Unwind TxLookup=62ms Unwind LogIndex=18ms Unwind StorageHistoryIndex=48ms Unwind AccountHistoryIndex=20ms Unwind CallTraces=40ms Unwind HashState=60ms Unwind IntermediateHashes=84ms Unwind Execution=14ms\r\nINFO[10-13|10:53:47.932] Tables                                   freelist=\"7.52 MiB\" PlainState=\"6.18 GiB\" AccountChangeSet=\"33.57 MiB\" StorageChangeSet=\"131.99 MiB\" BlockTransaction=\"21.21 GiB\" TransactionLog=\"200.81 MiB\"\r\nINFO[10-13|10:53:48.136] database closed                          label=chaindata\r\n```\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/941894127/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/941935652",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/2797#issuecomment-941935652",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/2797",
    "id": 941935652,
    "node_id": "IC_kwDOC0FsAM44JMwk",
    "user": {
      "login": "briancolecoinmetrics",
      "id": 70967635,
      "node_id": "MDQ6VXNlcjcwOTY3NjM1",
      "avatar_url": "https://avatars.githubusercontent.com/u/70967635?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/briancolecoinmetrics",
      "html_url": "https://github.com/briancolecoinmetrics",
      "followers_url": "https://api.github.com/users/briancolecoinmetrics/followers",
      "following_url": "https://api.github.com/users/briancolecoinmetrics/following{/other_user}",
      "gists_url": "https://api.github.com/users/briancolecoinmetrics/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/briancolecoinmetrics/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/briancolecoinmetrics/subscriptions",
      "organizations_url": "https://api.github.com/users/briancolecoinmetrics/orgs",
      "repos_url": "https://api.github.com/users/briancolecoinmetrics/repos",
      "events_url": "https://api.github.com/users/briancolecoinmetrics/events{/privacy}",
      "received_events_url": "https://api.github.com/users/briancolecoinmetrics/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-10-13T05:28:48Z",
    "updated_at": "2021-10-13T05:28:48Z",
    "author_association": "NONE",
    "body": "We are running erigon 2021.10.02 built from `git clone --depth 1 -b v2021.10.02 https://github.com/ledgerwatch/erigon` (using https://gitlab.com/coinmetrics/fullnodes/erigon/-/blob/main/Dockerfile in https://gitlab.com/coinmetrics/fullnodes/erigon/-/jobs/1658975756). We're composing the final image with `COPY --from=build /opt/erigon/build/bin/* /usr/local/bin/` so that exact path doesn't make it but the `integration` command ends up in the shell's PATH (so I just run it directly).\r\n\r\nRunning with that flag appears to reproduce the error:\r\n```\r\n~ $ integration state_stages --datadir=/opt/data --unwind=100 --integrity.fast=false\r\nINFO[10-13|05:13:50.008] Initialised chain configuration          config=\"{ChainID: 1 Homestead: 1150000 DAO: 1920000 DAOSupport: true EIP150: 2463000 EIP155: 2675000 EIP158: 2675000 Byzantium: 4370000 Constantinople: 7280000 Petersburg: 7280000 Istanbul: 9069000, Muir Glacier: 9200000, Berlin: 12244000, London: 12965000, Engine: ethash}\"\r\nINFO[10-13|05:13:54.384] [10/18 HashState] Promoting plain state  from=13334942 to=13408117\r\nINFO[10-13|05:13:54.384] [10/18 HashState] Incremental promotion started from=13334942 to=13408117 codes=true csbucket=AccountChangeSet\r\nINFO[10-13|05:14:24.389] [10/18 HashState] ETL [1/2] Extracting   from=AccountChangeSet current key=0000000000cbd1ed alloc=\"167.4 MiB\" sys=\"279.8 MiB\"\r\nINFO[10-13|05:14:54.386] [10/18 HashState] ETL [1/2] Extracting   from=AccountChangeSet current key=0000000000cc32e1 alloc=\"116.9 MiB\" sys=\"280.2 MiB\"\r\nINFO[10-13|05:15:24.386] [10/18 HashState] ETL [1/2] Extracting   from=AccountChangeSet current key=0000000000cc96c1 alloc=\"130.4 MiB\" sys=\"280.6 MiB\"\r\nINFO[10-13|05:15:27.469] [10/18 HashState] Incremental promotion started from=13334942 to=13408117 codes=false csbucket=AccountChangeSet\r\nINFO[10-13|05:15:57.471] [10/18 HashState] ETL [1/2] Extracting   from=AccountChangeSet current key=0000000000cbce05 alloc=\"344.2 MiB\" sys=\"616.0 MiB\"\r\nINFO[10-13|05:16:27.470] [10/18 HashState] ETL [1/2] Extracting   from=AccountChangeSet current key=0000000000cc1a73 alloc=\"512.6 MiB\" sys=\"953.7 MiB\"\r\nINFO[10-13|05:16:57.470] [10/18 HashState] ETL [1/2] Extracting   from=AccountChangeSet current key=0000000000cc6c7a alloc=\"563.5 MiB\" sys=\"954.9 MiB\"\r\nINFO[10-13|05:17:53.455] [10/18 HashState] ETL [2/2] Loading      into=HashedAccount current key=e3e07055... alloc=\"1.8 GiB\" sys=\"2.2 GiB\"\r\nINFO[10-13|05:17:55.623] [10/18 HashState] Incremental promotion started from=13334942 to=13408117 codes=false csbucket=StorageChangeSet\r\nINFO[10-13|05:18:28.313] database closed                          label=chaindata\r\npanic: runtime error: slice bounds out of range [:32] with capacity 20\r\n\r\ngoroutine 1 [running]:\r\ngithub.com/ledgerwatch/erigon/common/changeset.DecodeStorage(0x7f56cd087fac, 0x24, 0x24, 0x7f56cd08efe2, 0x14, 0x14, 0x0, 0x0, 0x0, 0x0, ...)\r\n        github.com/ledgerwatch/erigon/common/changeset/storage_changeset.go:51 +0x1f5\r\ngithub.com/ledgerwatch/erigon/eth/stagedsync.getExtractFunc.func1(0x7f56cd087fac, 0x24, 0x24, 0x7f56cd08efe2, 0x14, 0x14, 0xc084e90540, 0x0, 0x0)\r\n        github.com/ledgerwatch/erigon/eth/stagedsync/stage_hashstate.go:281 +0x9d\r\ngithub.com/ledgerwatch/erigon-lib/etl.extractBucketIntoFiles(0xc005edb8c0, 0xf, 0x203b638, 0xc005ecf770, 0x159f31d, 0x10, 0xc02d11c0b8, 0x8, 0x8, 0x0, ...)\r\n        github.com/ledgerwatch/erigon-lib@v0.0.0-20211006142856-240f7f121273/etl/etl.go:164 +0x2f7\r\ngithub.com/ledgerwatch/erigon-lib/etl.Transform(0xc005edb8c0, 0xf, 0x2042a18, 0xc005ecf770, 0x159f31d, 0x10, 0x159b791, 0xd, 0xc00011ee40, 0x29, ...)\r\n        github.com/ledgerwatch/erigon-lib@v0.0.0-20211006142856-240f7f121273/etl/etl.go:109 +0x225\r\ngithub.com/ledgerwatch/erigon/eth/stagedsync.(*Promoter).Promote(0xc005ecf860, 0xc005edb8c0, 0xf, 0xc005ee5e60, 0xcb799e, 0xcc9775, 0x1, 0x0, 0x0)\r\n        github.com/ledgerwatch/erigon/eth/stagedsync/stage_hashstate.go:437 +0x238\r\ngithub.com/ledgerwatch/erigon/eth/stagedsync.promoteHashedStateIncrementally(0xc005edb8c0, 0xf, 0xc005ee5e60, 0xcb799e, 0xcc9775, 0x2042a18, 0xc005ecf770, 0x2033ad8, 0xc000126d00, 0xc00011ee40, ...)\r\n        github.com/ledgerwatch/erigon/eth/stagedsync/stage_hashstate.go:520 +0x185\r\ngithub.com/ledgerwatch/erigon/eth/stagedsync.SpawnHashStateStage(0xc005ee5e60, 0x2042a18, 0xc005ecf770, 0x2033ad8, 0xc000126d00, 0xc00011ee40, 0x29, 0x202b8b0, 0xc000042060, 0x0, ...)\r\n        github.com/ledgerwatch/erigon/eth/stagedsync/stage_hashstate.go:65 +0x52b\r\ngithub.com/ledgerwatch/erigon/eth/stagedsync.DefaultStages.func28(0xc0001e0000, 0xc005ee5e60, 0x200e160, 0xc0001e24d0, 0x2042a18, 0xc005ecf770, 0xc000126d00, 0xc005ee5e60)\r\n        github.com/ledgerwatch/erigon/eth/stagedsync/default_stages.go:165 +0x7f\r\ngithub.com/ledgerwatch/erigon/eth/stagedsync.(*Sync).runStage(0xc0001e24d0, 0xc00003c690, 0x2033ad8, 0xc000126d00, 0x2042a18, 0xc005ecf770, 0x0, 0x0, 0x0)\r\n        github.com/ledgerwatch/erigon/eth/stagedsync/sync.go:316 +0x1b0\r\ngithub.com/ledgerwatch/erigon/eth/stagedsync.(*Sync).Run(0xc0001e24d0, 0x2033ad8, 0xc000126d00, 0x2042a18, 0xc005ecf770, 0x0, 0x0, 0xc00011def0)\r\n        github.com/ledgerwatch/erigon/eth/stagedsync/sync.go:233 +0x428\r\ngithub.com/ledgerwatch/erigon/cmd/integration/commands.syncBySmallSteps(0x2033ad8, 0xc000126d00, 0x0, 0x0, 0x0, 0x0, 0x2a698c0, 0x0, 0x0, 0x2a698c0, ...)\r\n        github.com/ledgerwatch/erigon/cmd/integration/commands/state_stages.go:278 +0xc39\r\ngithub.com/ledgerwatch/erigon/cmd/integration/commands.glob..func24(0x27bcc40, 0xc000283170, 0x0, 0x3, 0x0, 0x0)\r\n        github.com/ledgerwatch/erigon/cmd/integration/commands/state_stages.go:63 +0x258\r\ngithub.com/spf13/cobra.(*Command).execute(0x27bcc40, 0xc000283110, 0x3, 0x3, 0x27bcc40, 0xc000283110)\r\n        github.com/spf13/cobra@v1.2.1/command.go:856 +0x472\r\ngithub.com/spf13/cobra.(*Command).ExecuteC(0x27be040, 0xc000119340, 0xc00029bcd0, 0x18)\r\n        github.com/spf13/cobra@v1.2.1/command.go:974 +0x375\r\ngithub.com/spf13/cobra.(*Command).Execute(...)\r\n        github.com/spf13/cobra@v1.2.1/command.go:902\r\ngithub.com/spf13/cobra.(*Command).ExecuteContext(...)\r\n        github.com/spf13/cobra@v1.2.1/command.go:895\r\nmain.main()\r\n        github.com/ledgerwatch/erigon/cmd/integration/main.go:15 +0x129\r\n~ $\r\n```\r\n\r\nUnless you're suggesting that I try from a newer version than is released? It'd take a little work, but I should be able to try master or an arbitrary commit if you think it'd help. We are on v2021.10.02, though.",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/941935652/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/941948929",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/2797#issuecomment-941948929",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/2797",
    "id": 941948929,
    "node_id": "IC_kwDOC0FsAM44JQAB",
    "user": {
      "login": "AskAlexSharov",
      "id": 46885206,
      "node_id": "MDQ6VXNlcjQ2ODg1MjA2",
      "avatar_url": "https://avatars.githubusercontent.com/u/46885206?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/AskAlexSharov",
      "html_url": "https://github.com/AskAlexSharov",
      "followers_url": "https://api.github.com/users/AskAlexSharov/followers",
      "following_url": "https://api.github.com/users/AskAlexSharov/following{/other_user}",
      "gists_url": "https://api.github.com/users/AskAlexSharov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/AskAlexSharov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/AskAlexSharov/subscriptions",
      "organizations_url": "https://api.github.com/users/AskAlexSharov/orgs",
      "repos_url": "https://api.github.com/users/AskAlexSharov/repos",
      "events_url": "https://api.github.com/users/AskAlexSharov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/AskAlexSharov/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-10-13T06:00:07Z",
    "updated_at": "2021-10-13T06:00:07Z",
    "author_association": "COLLABORATOR",
    "body": "Show plz: integration print_stages",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/941948929/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/942512771",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/2797#issuecomment-942512771",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/2797",
    "id": 942512771,
    "node_id": "IC_kwDOC0FsAM44LZqD",
    "user": {
      "login": "briancolecoinmetrics",
      "id": 70967635,
      "node_id": "MDQ6VXNlcjcwOTY3NjM1",
      "avatar_url": "https://avatars.githubusercontent.com/u/70967635?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/briancolecoinmetrics",
      "html_url": "https://github.com/briancolecoinmetrics",
      "followers_url": "https://api.github.com/users/briancolecoinmetrics/followers",
      "following_url": "https://api.github.com/users/briancolecoinmetrics/following{/other_user}",
      "gists_url": "https://api.github.com/users/briancolecoinmetrics/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/briancolecoinmetrics/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/briancolecoinmetrics/subscriptions",
      "organizations_url": "https://api.github.com/users/briancolecoinmetrics/orgs",
      "repos_url": "https://api.github.com/users/briancolecoinmetrics/repos",
      "events_url": "https://api.github.com/users/briancolecoinmetrics/events{/privacy}",
      "received_events_url": "https://api.github.com/users/briancolecoinmetrics/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-10-13T17:01:18Z",
    "updated_at": "2021-10-13T17:01:18Z",
    "author_association": "NONE",
    "body": "```\r\n~ $ integration print_stages\r\nmdbx_read_header:13730 read meta: empty file (61, No data available)\r\nNote: prune_at doesn't mean 'all data before were deleted' - it just mean stage.Prune function were run to this block. Because 1 stage may prune multiple data types to different prune distance.\r\n\r\n                         stage_at        prune_at\r\nHeaders                  0               0\r\nBlockHashes              0               0\r\nBodies                   0               0\r\nSenders                  0               0\r\nExecution                0               0\r\nTranslation              0               0\r\nHashState                0               0\r\nIntermediateHashes       0               0\r\nAccountHistoryIndex      0               0\r\nStorageHistoryIndex      0               0\r\nLogIndex                 0               0\r\nCallTraces               0               0\r\nTxLookup                 0               0\r\nTxPool                   0               0\r\nFinish                   0               0\r\n--\r\nprune distance: --prune=\r\n\r\nINFO[10-13|17:00:52.346] database closed                          label=chaindata\r\n~ $ echo $?\r\n0\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/942512771/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/945307121",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/2797#issuecomment-945307121",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/2797",
    "id": 945307121,
    "node_id": "IC_kwDOC0FsAM44WD3x",
    "user": {
      "login": "AskAlexSharov",
      "id": 46885206,
      "node_id": "MDQ6VXNlcjQ2ODg1MjA2",
      "avatar_url": "https://avatars.githubusercontent.com/u/46885206?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/AskAlexSharov",
      "html_url": "https://github.com/AskAlexSharov",
      "followers_url": "https://api.github.com/users/AskAlexSharov/followers",
      "following_url": "https://api.github.com/users/AskAlexSharov/following{/other_user}",
      "gists_url": "https://api.github.com/users/AskAlexSharov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/AskAlexSharov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/AskAlexSharov/subscriptions",
      "organizations_url": "https://api.github.com/users/AskAlexSharov/orgs",
      "repos_url": "https://api.github.com/users/AskAlexSharov/repos",
      "events_url": "https://api.github.com/users/AskAlexSharov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/AskAlexSharov/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-10-18T02:16:47Z",
    "updated_at": "2021-10-18T02:16:47Z",
    "author_association": "COLLABORATOR",
    "body": "@briancolecoinmetrics and if add `--datadir=/opt/data`?",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/945307121/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/953525965",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/2797#issuecomment-953525965",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/2797",
    "id": 953525965,
    "node_id": "IC_kwDOC0FsAM441abN",
    "user": {
      "login": "AskAlexSharov",
      "id": 46885206,
      "node_id": "MDQ6VXNlcjQ2ODg1MjA2",
      "avatar_url": "https://avatars.githubusercontent.com/u/46885206?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/AskAlexSharov",
      "html_url": "https://github.com/AskAlexSharov",
      "followers_url": "https://api.github.com/users/AskAlexSharov/followers",
      "following_url": "https://api.github.com/users/AskAlexSharov/following{/other_user}",
      "gists_url": "https://api.github.com/users/AskAlexSharov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/AskAlexSharov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/AskAlexSharov/subscriptions",
      "organizations_url": "https://api.github.com/users/AskAlexSharov/orgs",
      "repos_url": "https://api.github.com/users/AskAlexSharov/repos",
      "events_url": "https://api.github.com/users/AskAlexSharov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/AskAlexSharov/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-10-28T05:57:32Z",
    "updated_at": "2021-10-28T05:57:32Z",
    "author_association": "COLLABORATOR",
    "body": "@briancolecoinmetrics , ping",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/953525965/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/989087547",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/2797#issuecomment-989087547",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/2797",
    "id": 989087547,
    "node_id": "IC_kwDOC0FsAM469Ec7",
    "user": {
      "login": "mandrigin",
      "id": 466427,
      "node_id": "MDQ6VXNlcjQ2NjQyNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/466427?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mandrigin",
      "html_url": "https://github.com/mandrigin",
      "followers_url": "https://api.github.com/users/mandrigin/followers",
      "following_url": "https://api.github.com/users/mandrigin/following{/other_user}",
      "gists_url": "https://api.github.com/users/mandrigin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mandrigin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mandrigin/subscriptions",
      "organizations_url": "https://api.github.com/users/mandrigin/orgs",
      "repos_url": "https://api.github.com/users/mandrigin/repos",
      "events_url": "https://api.github.com/users/mandrigin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mandrigin/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-12-08T18:46:23Z",
    "updated_at": "2021-12-08T18:46:23Z",
    "author_association": "COLLABORATOR",
    "body": "please reopen is still relevant @briancolecoinmetrics ",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/989087547/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
