{
  "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/211",
  "repository_url": "https://api.github.com/repos/ledgerwatch/erigon",
  "labels_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/211/labels{/name}",
  "comments_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/211/comments",
  "events_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/211/events",
  "html_url": "https://github.com/ledgerwatch/erigon/issues/211",
  "id": 530620968,
  "node_id": "MDU6SXNzdWU1MzA2MjA5Njg=",
  "number": 211,
  "title": "StateGrowth stats to work via remote DB",
  "user": {
    "login": "AlexeyAkhunov",
    "id": 13686139,
    "node_id": "MDQ6VXNlcjEzNjg2MTM5",
    "avatar_url": "https://avatars.githubusercontent.com/u/13686139?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/AlexeyAkhunov",
    "html_url": "https://github.com/AlexeyAkhunov",
    "followers_url": "https://api.github.com/users/AlexeyAkhunov/followers",
    "following_url": "https://api.github.com/users/AlexeyAkhunov/following{/other_user}",
    "gists_url": "https://api.github.com/users/AlexeyAkhunov/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/AlexeyAkhunov/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/AlexeyAkhunov/subscriptions",
    "organizations_url": "https://api.github.com/users/AlexeyAkhunov/orgs",
    "repos_url": "https://api.github.com/users/AlexeyAkhunov/repos",
    "events_url": "https://api.github.com/users/AlexeyAkhunov/events{/privacy}",
    "received_events_url": "https://api.github.com/users/AlexeyAkhunov/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 0,
  "created_at": "2019-11-30T19:34:05Z",
  "updated_at": "2019-12-14T23:32:13Z",
  "closed_at": "2019-12-14T23:32:13Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "In order to produce stats and charts for this article: https://medium.com/@akhounov/ethereum-block-gas-limit-increase-and-state-growth-b95353153179\r\n\r\nI used these commands:\r\n````\r\nmake state\r\n./build/bin/state stateGrowth --chaindata <chaindata_file>\r\n./build/bin/state gasLimits --chaindata <chaindata_file>\r\n./build/bin/state stateGrowthChart1\r\n/build/bin/state stateGrowthChart2\r\n````\r\n<chaindata_file> should come from the full-synced or partially synced archive node. Code the \"gasLimits\", needs to be fixed, there is this hard-coding here:\r\nhttps://github.com/ledgerwatch/turbo-geth/blob/ce1c14809b997051de73699e9d5139913deb46c1/cmd/state/stateless/state.go#L332\r\n\r\nIn order to be able to collect these stats and produce the chart, one must stop the turbo-geth node, to have the access to the database.\r\n\r\nThis task to attempt to move these operations (`stateGrowth` and `gasLimit`) to working via RemoteDB interface instead, so they can be performed on a live node. For that, the remote Db interface needs to be extended to support cursors (`CmdCursor`), with `First`, `Seek` and `Next` operations. Moreover, the `Next` operation needs to be implemented such that it does not fetch just one record, but multiple (for example, 256), and then \"feeds\" them to the client side via cursor's Next() function.\r\n\r\nThis change should enable the automation that would re-generate these data regularly and we can potentially put them on a static Web-site for everyone to check whenever they like.\r\n",
  "closed_by": {
    "login": "AlexeyAkhunov",
    "id": 13686139,
    "node_id": "MDQ6VXNlcjEzNjg2MTM5",
    "avatar_url": "https://avatars.githubusercontent.com/u/13686139?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/AlexeyAkhunov",
    "html_url": "https://github.com/AlexeyAkhunov",
    "followers_url": "https://api.github.com/users/AlexeyAkhunov/followers",
    "following_url": "https://api.github.com/users/AlexeyAkhunov/following{/other_user}",
    "gists_url": "https://api.github.com/users/AlexeyAkhunov/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/AlexeyAkhunov/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/AlexeyAkhunov/subscriptions",
    "organizations_url": "https://api.github.com/users/AlexeyAkhunov/orgs",
    "repos_url": "https://api.github.com/users/AlexeyAkhunov/repos",
    "events_url": "https://api.github.com/users/AlexeyAkhunov/events{/privacy}",
    "received_events_url": "https://api.github.com/users/AlexeyAkhunov/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/211/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/211/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[

]
