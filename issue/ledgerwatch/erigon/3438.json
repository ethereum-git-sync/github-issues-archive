{
  "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/3438",
  "repository_url": "https://api.github.com/repos/ledgerwatch/erigon",
  "labels_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/3438/labels{/name}",
  "comments_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/3438/comments",
  "events_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/3438/events",
  "html_url": "https://github.com/ledgerwatch/erigon/issues/3438",
  "id": 1125354808,
  "node_id": "I_kwDOC0FsAM5DE404",
  "number": 3438,
  "title": "huge of \"transaction and receipt count mismatch\" error. ",
  "user": {
    "login": "temuera",
    "id": 45910169,
    "node_id": "MDQ6VXNlcjQ1OTEwMTY5",
    "avatar_url": "https://avatars.githubusercontent.com/u/45910169?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/temuera",
    "html_url": "https://github.com/temuera",
    "followers_url": "https://api.github.com/users/temuera/followers",
    "following_url": "https://api.github.com/users/temuera/following{/other_user}",
    "gists_url": "https://api.github.com/users/temuera/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/temuera/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/temuera/subscriptions",
    "organizations_url": "https://api.github.com/users/temuera/orgs",
    "repos_url": "https://api.github.com/users/temuera/repos",
    "events_url": "https://api.github.com/users/temuera/events{/privacy}",
    "received_events_url": "https://api.github.com/users/temuera/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 8,
  "created_at": "2022-02-06T23:47:34Z",
  "updated_at": "2022-02-25T01:50:21Z",
  "closed_at": "2022-02-09T07:28:18Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "#### System information\r\nIntel 5218 32C64T,128G RAM, 7.68T NVME*2 RAID0\r\nBSC-MainNet\r\nErigon 2022.99.99-dev, rpcdaemon with data-dir\r\nDebian 10, XFS\r\n \r\n```\r\nFeb 07 07:27:45[EROR] [02-07|07:27:44.985] Failed to derive block receipts fields   hash=0x9ca465bb753ff1513b06d833569be055f423c0e09972b1c52bd1c9fdbeaa0d31 number=6742432 err=\"transaction and receipt count mismatch\"\r\nFeb 07 07:27:45[EROR] [02-07|07:27:44.998] Failed to derive block receipts fields   hash=0x9ca465bb753ff1513b06d833569be055f423c0e09972b1c52bd1c9fdbeaa0d31 number=6742432 err=\"transaction and receipt count mismatch\"\r\nFeb 07 07:27:45[EROR] [02-07|07:27:45.006] Failed to derive block receipts fields   hash=0x9ca465bb753ff1513b06d833569be055f423c0e09972b1c52bd1c9fdbeaa0d31 number=6742432 err=\"transaction and receipt count mismatch\"\r\nFeb 07 07:27:45[EROR] [02-07|07:27:45.008] Failed to derive block receipts fields   hash=0x9ca465bb753ff1513b06d833569be055f423c0e09972b1c52bd1c9fdbeaa0d31 number=6742432 err=\"transaction and receipt count mismatch\"\r\nFeb 07 07:27:45[EROR] [02-07|07:27:45.008] Failed to derive block receipts fields   hash=0x9ca465bb753ff1513b06d833569be055f423c0e09972b1c52bd1c9fdbeaa0d31 number=6742432 err=\"transaction and receipt count mismatch\"\r\nFeb 07 07:27:45[EROR] [02-07|07:27:45.029] Failed to derive block receipts fields   hash=0x9ca465bb753ff1513b06d833569be055f423c0e09972b1c52bd1c9fdbeaa0d31 number=6742432 err=\"transaction and receipt count mismatch\"\r\nFeb 07 07:27:45[EROR] [02-07|07:27:45.054] Failed to derive block receipts fields   hash=0x9ca465bb753ff1513b06d833569be055f423c0e09972b1c52bd1c9fdbeaa0d31 number=6742432 err=\"transaction and receipt count mismatch\"\r\nFeb 07 07:27:45[EROR] [02-07|07:27:45.189] Failed to derive block receipts fields   hash=0x9ca465bb753ff1513b06d833569be055f423c0e09972b1c52bd1c9fdbeaa0d31 number=6742432 err=\"transaction and receipt count mismatch\"\r\nFeb 07 07:27:45[EROR] [02-07|07:27:45.197] Failed to derive block receipts fields   hash=0x9ca465bb753ff1513b06d833569be055f423c0e09972b1c52bd1c9fdbeaa0d31 number=6742432 err=\"transaction and receipt count mismatch\"\r\nFeb 07 07:27:45[EROR] [02-07|07:27:45.502] Failed to derive block receipts fields   hash=0xf5c41920349d680d272c2535382fdccb970d32dd210a8fc5be012c4cfb2439a7 number=6742456 err=\"transaction and receipt count mismatch\"\r\nFeb 07 07:27:45[EROR] [02-07|07:27:45.619] Failed to derive block receipts fields   hash=0xf5c41920349d680d272c2535382fdccb970d32dd210a8fc5be012c4cfb2439a7 number=6742456 err=\"transaction and receipt count mismatch\"\r\nFeb 07 07:27:45[EROR] [02-07|07:27:45.502] Failed to derive block receipts fields   hash=0xf5c41920349d680d272c2535382fdccb970d32dd210a8fc5be012c4cfb2439a7 number=6742456 err=\"transaction and receipt count mismatch\"\r\nFeb 07 07:27:45[EROR] [02-07|07:27:45.621] Failed to derive block receipts fields   hash=0xf5c41920349d680d272c2535382fdccb970d32dd210a8fc5be012c4cfb2439a7 number=6742456 err=\"transaction and receipt count mismatch\"\r\nFeb 07 07:27:45[EROR] [02-07|07:27:45.623] Failed to derive block receipts fields   hash=0xf5c41920349d680d272c2535382fdccb970d32dd210a8fc5be012c4cfb2439a7 number=6742456 err=\"transaction and receipt count mismatch\"\r\nFeb 07 07:27:45[EROR] [02-07|07:27:45.113] Failed to derive block receipts fields   hash=0x9ca465bb753ff1513b06d833569be055f423c0e09972b1c52bd1c9fdbeaa0d31 number=6742432 err=\"transaction and receipt count mismatch\"\r\nFeb 07 07:27:45[EROR] [02-07|07:27:45.114] Failed to derive block receipts fields   hash=0x9ca465bb753ff1513b06d833569be055f423c0e09972b1c52bd1c9fdbeaa0d31 number=6742432 err=\"transaction and receipt count mismatch\"\r\nFeb 07 07:27:45[EROR] [02-07|07:27:45.116] Failed to derive block receipts fields   hash=0x9ca465bb753ff1513b06d833569be055f423c0e09972b1c52bd1c9fdbeaa0d31 number=6742432 err=\"transaction and receipt count mismatch\"\r\nFeb 07 07:27:45[EROR] [02-07|07:27:45.117] Failed to derive block receipts fields   hash=0x9ca465bb753ff1513b06d833569be055f423c0e09972b1c52bd1c9fdbeaa0d31 number=6742432 err=\"transaction and receipt count mismatch\"\r\nFeb 07 07:27:45[EROR] [02-07|07:27:45.123] Failed to derive block receipts fields   hash=0x9ca465bb753ff1513b06d833569be055f423c0e09972b1c52bd1c9fdbeaa0d31 number=6742432 err=\"transaction and receipt count mismatch\"\r\nFeb 07 07:27:45[EROR] [02-07|07:27:45.675] Failed to derive block receipts fields   hash=0xf5c41920349d680d272c2535382fdccb970d32dd210a8fc5be012c4cfb2439a7 number=6742456 err=\"transaction and receipt count mismatch\"\r\nFeb 07 07:27:45[EROR] [02-07|07:27:45.126] Failed to derive block receipts fields   hash=0x9ca465bb753ff1513b06d833569be055f423c0e09972b1c52bd1c9fdbeaa0d31 number=6742432 err=\"transaction and receipt count mismatch\"\r\nFeb 07 07:27:45[EROR] [02-07|07:27:45.128] Failed to derive block receipts fields   hash=0x9ca465bb753ff1513b06d833569be055f423c0e09972b1c52bd1c9fdbeaa0d31 number=6742432 err=\"transaction and receipt count mismatch\"\r\nFeb 07 07:27:45[EROR] [02-07|07:27:45.130] Failed to derive block receipts fields   hash=0x9ca465bb753ff1513b06d833569be055f423c0e09972b1c52bd1c9fdbeaa0d31 number=6742432 err=\"transaction and receipt count mismatch\"\r\nFeb 07 07:27:45[EROR] [02-07|07:27:45.131] Failed to derive block receipts fields   hash=0x9ca465bb753ff1513b06d833569be055f423c0e09972b1c52bd1c9fdbeaa0d31 number=6742432 err=\"transaction and receipt count mismatch\"\r\nFeb 07 07:27:45[EROR] [02-07|07:27:45.132] Failed to derive block receipts fields   hash=0x9ca465bb753ff1513b06d833569be055f423c0e09972b1c52bd1c9fdbeaa0d31 number=6742432 err=\"transaction and receipt count mismatch\"\r\nFeb 07 07:27:45[EROR] [02-07|07:27:45.147] Failed to derive block receipts fields   hash=0x9ca465bb753ff1513b06d833569be055f423c0e09972b1c52bd1c9fdbeaa0d31 number=6742432 err=\"transaction and receipt count mismatch\"\r\n```\r\n\r\nRequest the same block will succeed after multiple retries.\r\n\r\n",
  "closed_by": {
    "login": "AlexeyAkhunov",
    "id": 13686139,
    "node_id": "MDQ6VXNlcjEzNjg2MTM5",
    "avatar_url": "https://avatars.githubusercontent.com/u/13686139?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/AlexeyAkhunov",
    "html_url": "https://github.com/AlexeyAkhunov",
    "followers_url": "https://api.github.com/users/AlexeyAkhunov/followers",
    "following_url": "https://api.github.com/users/AlexeyAkhunov/following{/other_user}",
    "gists_url": "https://api.github.com/users/AlexeyAkhunov/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/AlexeyAkhunov/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/AlexeyAkhunov/subscriptions",
    "organizations_url": "https://api.github.com/users/AlexeyAkhunov/orgs",
    "repos_url": "https://api.github.com/users/AlexeyAkhunov/repos",
    "events_url": "https://api.github.com/users/AlexeyAkhunov/events{/privacy}",
    "received_events_url": "https://api.github.com/users/AlexeyAkhunov/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/3438/reactions",
    "total_count": 1,
    "+1": 1,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/3438/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1030944339",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/3438#issuecomment-1030944339",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/3438",
    "id": 1030944339,
    "node_id": "IC_kwDOC0FsAM49cvZT",
    "user": {
      "login": "temuera",
      "id": 45910169,
      "node_id": "MDQ6VXNlcjQ1OTEwMTY5",
      "avatar_url": "https://avatars.githubusercontent.com/u/45910169?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/temuera",
      "html_url": "https://github.com/temuera",
      "followers_url": "https://api.github.com/users/temuera/followers",
      "following_url": "https://api.github.com/users/temuera/following{/other_user}",
      "gists_url": "https://api.github.com/users/temuera/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/temuera/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/temuera/subscriptions",
      "organizations_url": "https://api.github.com/users/temuera/orgs",
      "repos_url": "https://api.github.com/users/temuera/repos",
      "events_url": "https://api.github.com/users/temuera/events{/privacy}",
      "received_events_url": "https://api.github.com/users/temuera/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-02-06T23:55:06Z",
    "updated_at": "2022-02-06T23:55:06Z",
    "author_association": "NONE",
    "body": "console output from rpcdaemon:\r\n\r\n\r\n```\r\nEROR[02-07|07:53:45.733] Failed to derive block receipts fields   hash=0x4c9b8627dab7b1a44a73e74052dc5fd4111a1d488ee262592e2462c1f52f9893 number=6743383 err=\"transaction and receipt count mismatch, tx count = 236, receipts count = 234\"\r\nEROR[02-07|07:53:45.734] Failed to derive block receipts fields   hash=0x4c9b8627dab7b1a44a73e74052dc5fd4111a1d488ee262592e2462c1f52f9893 number=6743383 err=\"transaction and receipt count mismatch, tx count = 236, receipts count = 234\"\r\nEROR[02-07|07:53:45.738] Failed to derive block receipts fields   hash=0x4c9b8627dab7b1a44a73e74052dc5fd4111a1d488ee262592e2462c1f52f9893 number=6743383 err=\"transaction and receipt count mismatch, tx count = 236, receipts count = 234\"\r\nEROR[02-07|07:53:45.738] Failed to derive block receipts fields   hash=0x4c9b8627dab7b1a44a73e74052dc5fd4111a1d488ee262592e2462c1f52f9893 number=6743383 err=\"transaction and receipt count mismatch, tx count = 236, receipts count = 234\"\r\nEROR[02-07|07:53:46.163] Failed to derive block receipts fields   hash=0x49df2696a90986d1fb57f0587717e89639417ad3b908c20cf148dc9ec81bb868 number=6743380 err=\"transaction and receipt count mismatch, tx count = 294, receipts count = 292\"\r\nEROR[02-07|07:53:46.164] Failed to derive block receipts fields   hash=0x49df2696a90986d1fb57f0587717e89639417ad3b908c20cf148dc9ec81bb868 number=6743380 err=\"transaction and receipt count mismatch, tx count = 294, receipts count = 292\"\r\nEROR[02-07|07:53:46.170] Failed to derive block receipts fields   hash=0x49df2696a90986d1fb57f0587717e89639417ad3b908c20cf148dc9ec81bb868 number=6743380 err=\"transaction and receipt count mismatch, tx count = 294, receipts count = 292\"\r\nEROR[02-07|07:53:46.186] Failed to derive block receipts fields   hash=0x49df2696a90986d1fb57f0587717e89639417ad3b908c20cf148dc9ec81bb868 number=6743380 err=\"transaction and receipt count mismatch, tx count = 294, receipts count = 292\"\r\nEROR[02-07|07:53:46.197] Failed to derive block receipts fields   hash=0x49df2696a90986d1fb57f0587717e89639417ad3b908c20cf148dc9ec81bb868 number=6743380 err=\"transaction and receipt count mismatch, tx count = 294, receipts count = 292\"\r\nEROR[02-07|07:53:46.209] Failed to derive block receipts fields   hash=0x49df2696a90986d1fb57f0587717e89639417ad3b908c20cf148dc9ec81bb868 number=6743380 err=\"transaction and receipt count mismatch, tx count = 294, receipts count = 292\"\r\nEROR[02-07|07:53:46.214] Failed to derive block receipts fields   hash=0x49df2696a90986d1fb57f0587717e89639417ad3b908c20cf148dc9ec81bb868 number=6743380 err=\"transaction and receipt count mismatch, tx count = 294, receipts count = 292\"\r\nEROR[02-07|07:53:46.215] Failed to derive block receipts fields   hash=0x49df2696a90986d1fb57f0587717e89639417ad3b908c20cf148dc9ec81bb868 number=6743380 err=\"transaction and receipt count mismatch, tx count = 294, receipts count = 292\"\r\nEROR[02-07|07:53:46.218] Failed to derive block receipts fields   hash=0x49df2696a90986d1fb57f0587717e89639417ad3b908c20cf148dc9ec81bb868 number=6743380 err=\"transaction and receipt count mismatch, tx count = 294, receipts count = 292\"\r\nEROR[02-07|07:53:46.218] Failed to derive block receipts fields   hash=0x49df2696a90986d1fb57f0587717e89639417ad3b908c20cf148dc9ec81bb868 number=6743380 err=\"transaction and receipt count mismatch, tx count = 294, receipts count = 292\"\r\nEROR[02-07|07:53:46.229] Failed to derive block receipts fields   hash=0x49df2696a90986d1fb57f0587717e89639417ad3b908c20cf148dc9ec81bb868 number=6743380 err=\"transaction and receipt count mismatch, tx count = 294, receipts count = 292\"\r\nEROR[02-07|07:53:46.229] Failed to derive block receipts fields   hash=0x49df2696a90986d1fb57f0587717e89639417ad3b908c20cf148dc9ec81bb868 number=6743380 err=\"transaction and receipt count mismatch, tx count = 294, receipts count = 292\"\r\nEROR[02-07|07:53:46.230] Failed to derive block receipts fields   hash=0x49df2696a90986d1fb57f0587717e89639417ad3b908c20cf148dc9ec81bb868 number=6743380 err=\"transaction and receipt count mismatch, tx count = 294, receipts count = 292\"\r\nEROR[02-07|07:53:46.236] Failed to derive block receipts fields   hash=0x49df2696a90986d1fb57f0587717e89639417ad3b908c20cf148dc9ec81bb868 number=6743380 err=\"transaction and receipt count mismatch, tx count = 294, receipts count = 292\"\r\nEROR[02-07|07:53:46.239] Failed to derive block receipts fields   hash=0x49df2696a90986d1fb57f0587717e89639417ad3b908c20cf148dc9ec81bb868 number=6743380 err=\"transaction and receipt count mismatch, tx count = 294, receipts count = 292\"\r\nEROR[02-07|07:53:46.257] Failed to derive block receipts fields   hash=0x49df2696a90986d1fb57f0587717e89639417ad3b908c20cf148dc9ec81bb868 number=6743380 err=\"transaction and receipt count mismatch, tx count = 294, receipts count = 292\"\r\nEROR[02-07|07:53:46.266] Failed to derive block receipts fields   hash=0x49df2696a90986d1fb57f0587717e89639417ad3b908c20cf148dc9ec81bb868 number=6743380 err=\"transaction and receipt count mismatch, tx count = 294, receipts count = 292\"\r\nEROR[02-07|07:53:46.312] Failed to derive block receipts fields   hash=0x49df2696a90986d1fb57f0587717e89639417ad3b908c20cf148dc9ec81bb868 number=6743380 err=\"transaction and receipt count mismatch, tx count = 294, receipts count = 292\"\r\nEROR[02-07|07:53:46.367] Failed to derive block receipts fields   hash=0x49df2696a90986d1fb57f0587717e89639417ad3b908c20cf148dc9ec81bb868 number=6743380 err=\"transaction and receipt count mismatch, tx count = 294, receipts count = 292\"\r\nEROR[02-07|07:53:46.778] Failed to derive block receipts fields   hash=0x49df2696a90986d1fb57f0587717e89639417ad3b908c20cf148dc9ec81bb868 number=6743380 err=\"transaction and receipt count mismatch, tx count = 294, receipts count = 292\"\r\nEROR[02-07|07:53:46.860] Failed to derive block receipts fields   hash=0x49df2696a90986d1fb57f0587717e89639417ad3b908c20cf148dc9ec81bb868 number=6743380 err=\"transaction and receipt count mismatch, tx count = 294, receipts count = 292\"\r\nEROR[02-07|07:53:46.871] Failed to derive block receipts fields   hash=0x49df2696a90986d1fb57f0587717e89639417ad3b908c20cf148dc9ec81bb868 number=6743380 err=\"transaction and receipt count mismatch, tx count = 294, receipts count = 292\"\r\nEROR[02-07|07:53:46.894] Failed to derive block receipts fields   hash=0x49df2696a90986d1fb57f0587717e89639417ad3b908c20cf148dc9ec81bb868 number=6743380 err=\"transaction and receipt count mismatch, tx count = 294, receipts count = 292\"\r\nEROR[02-07|07:53:46.911] Failed to derive block receipts fields   hash=0x49df2696a90986d1fb57f0587717e89639417ad3b908c20cf148dc9ec81bb868 number=6743380 err=\"transaction and receipt count mismatch, tx count = 294, receipts count = 292\"\r\nEROR[02-07|07:53:46.923] Failed to derive block receipts fields   hash=0x49df2696a90986d1fb57f0587717e89639417ad3b908c20cf148dc9ec81bb868 number=6743380 err=\"transaction and receipt count mismatch, tx count = 294, receipts count = 292\"\r\nEROR[02-07|07:53:46.967] Failed to derive block receipts fields   hash=0x49df2696a90986d1fb57f0587717e89639417ad3b908c20cf148dc9ec81bb868 number=6743380 err=\"transaction and receipt count mismatch, tx count = 294, receipts count = 292\"\r\nEROR[02-07|07:53:48.665] Failed to derive block receipts fields   hash=0x49df2696a90986d1fb57f0587717e89639417ad3b908c20cf148dc9ec81bb868 number=6743380 err=\"transaction and receipt count mismatch, tx count = 294, receipts count = 292\"\r\nEROR[02-07|07:53:52.394] Failed to derive block receipts fields   hash=0x49df2696a90986d1fb57f0587717e89639417ad3b908c20cf148dc9ec81bb868 number=6743380 err=\"transaction and receipt count mismatch, tx count = 294, receipts count = 292\"\r\nEROR[02-07|07:53:52.458] Failed to derive block receipts fields   hash=0x49df2696a90986d1fb57f0587717e89639417ad3b908c20cf148dc9ec81bb868 number=6743380 err=\"transaction and receipt count mismatch, tx count = 294, receipts count = 292\"\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1030944339/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1031069733",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/3438#issuecomment-1031069733",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/3438",
    "id": 1031069733,
    "node_id": "IC_kwDOC0FsAM49dOAl",
    "user": {
      "login": "temuera",
      "id": 45910169,
      "node_id": "MDQ6VXNlcjQ1OTEwMTY5",
      "avatar_url": "https://avatars.githubusercontent.com/u/45910169?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/temuera",
      "html_url": "https://github.com/temuera",
      "followers_url": "https://api.github.com/users/temuera/followers",
      "following_url": "https://api.github.com/users/temuera/following{/other_user}",
      "gists_url": "https://api.github.com/users/temuera/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/temuera/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/temuera/subscriptions",
      "organizations_url": "https://api.github.com/users/temuera/orgs",
      "repos_url": "https://api.github.com/users/temuera/repos",
      "events_url": "https://api.github.com/users/temuera/events{/privacy}",
      "received_events_url": "https://api.github.com/users/temuera/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-02-07T04:44:38Z",
    "updated_at": "2022-02-07T04:46:56Z",
    "author_association": "NONE",
    "body": "additional trace:\r\n1,Stand go-eth library Client.TransactionReceipt ()\r\n2,RPCDaemon(eth_receipts.go line 244) `GetTransactionReceipt`\r\n3,RPCDaemon(eth_receipts.go line 33) `getReceipts`\r\n4,Core/RawDB(accessors_chain.go line) `ReadReceipts`\r\n5,Core/Types(receipt.go line 432) `DeriveFields`\r\n\r\n```\r\nif len(txs) != len(r) {\r\n\t\treturn fmt.Errorf(\"transaction and receipt count mismatch, tx count = %d, receipts count = %d, senders count = %d\", len(txs), len(r), len(senders))\r\n\t}\r\n\tif len(senders) != len(txs) {\r\n\t\treturn fmt.Errorf(\"transaction and senders count mismatch, tx count = %d, receipts count = %d, senders count = %d\", len(txs), len(r), len(senders))\r\n\t}\r\n```\r\n**I don't understand why \"tx count = 122, receipts count = 121, senders count = 122\"**\r\n**what happened?**\r\n\r\n\r\nlogs:\r\n```\r\nEROR[02-07|11:12:01.277] Failed to derive block receipts fields   hash=0x04791426f4b6e4183df7ef2963e4682b96818b3cfc9a3d6087948fb7f83dab37 number=8000000 err=\"transaction and receipt count mismatch, tx count = 122, receipts count = 121, senders count = 122\"\r\nEROR[02-07|11:12:01.393] Failed to derive block receipts fields   hash=0x04791426f4b6e4183df7ef2963e4682b96818b3cfc9a3d6087948fb7f83dab37 number=8000000 err=\"transaction and receipt count mismatch, tx count = 122, receipts count = 121, senders count = 122\"\r\nEROR[02-07|11:12:01.507] Failed to derive block receipts fields   hash=0x04791426f4b6e4183df7ef2963e4682b96818b3cfc9a3d6087948fb7f83dab37 number=8000000 err=\"transaction and receipt count mismatch, tx count = 122, receipts count = 121, senders count = 122\"\r\nEROR[02-07|11:12:01.623] Failed to derive block receipts fields   hash=0x04791426f4b6e4183df7ef2963e4682b96818b3cfc9a3d6087948fb7f83dab37 number=8000000 err=\"transaction and receipt count mismatch, tx count = 122, receipts count = 121, senders count = 122\"\r\nEROR[02-07|11:12:01.735] Failed to derive block receipts fields   hash=0x04791426f4b6e4183df7ef2963e4682b96818b3cfc9a3d6087948fb7f83dab37 number=8000000 err=\"transaction and receipt count mismatch, tx count = 122, receipts count = 121, senders count = 122\"\r\nEROR[02-07|11:12:01.848] Failed to derive block receipts fields   hash=0x04791426f4b6e4183df7ef2963e4682b96818b3cfc9a3d6087948fb7f83dab37 number=8000000 err=\"transaction and receipt count mismatch, tx count = 122, receipts count = 121, senders count = 122\"\r\nEROR[02-07|11:12:01.962] Failed to derive block receipts fields   hash=0x04791426f4b6e4183df7ef2963e4682b96818b3cfc9a3d6087948fb7f83dab37 number=8000000 err=\"transaction and receipt count mismatch, tx count = 122, receipts count = 121, senders count = 122\"\r\nEROR[02-07|11:12:02.079] Failed to derive block receipts fields   hash=0x04791426f4b6e4183df7ef2963e4682b96818b3cfc9a3d6087948fb7f83dab37 number=8000000 err=\"transaction and receipt count mismatch, tx count = 122, receipts count = 121, senders count = 122\"\r\nEROR[02-07|11:12:02.191] Failed to derive block receipts fields   hash=0x04791426f4b6e4183df7ef2963e4682b96818b3cfc9a3d6087948fb7f83dab37 number=8000000 err=\"transaction and receipt count mismatch, tx count = 122, receipts count = 121, senders count = 122\"\r\n```\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1031069733/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1031219314",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/3438#issuecomment-1031219314",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/3438",
    "id": 1031219314,
    "node_id": "IC_kwDOC0FsAM49dyhy",
    "user": {
      "login": "temuera",
      "id": 45910169,
      "node_id": "MDQ6VXNlcjQ1OTEwMTY5",
      "avatar_url": "https://avatars.githubusercontent.com/u/45910169?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/temuera",
      "html_url": "https://github.com/temuera",
      "followers_url": "https://api.github.com/users/temuera/followers",
      "following_url": "https://api.github.com/users/temuera/following{/other_user}",
      "gists_url": "https://api.github.com/users/temuera/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/temuera/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/temuera/subscriptions",
      "organizations_url": "https://api.github.com/users/temuera/orgs",
      "repos_url": "https://api.github.com/users/temuera/repos",
      "events_url": "https://api.github.com/users/temuera/events{/privacy}",
      "received_events_url": "https://api.github.com/users/temuera/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-02-07T08:56:39Z",
    "updated_at": "2022-02-07T08:56:39Z",
    "author_association": "NONE",
    "body": "more details:\r\n\r\n`request txhash`:  0x5011712ea72b93c758aeb061828dd059433989ee56a6c86ed3be1364277f0b13\r\n`read txn`:  0x5011712ea72b93c758aeb061828dd059433989ee56a6c86ed3be1364277f0b13\r\n`get block by txn`  block:  0x7f09459555877f943256ceb33ca805fd757d3c1120cbb904a4c27a9862d503af\r\n`read block receipts cache`: _Failed to derive block receipts fields: tx count = 549, receipts count = 547, senders count = 549_\r\n`cache not hitted for block`  6744126\r\n`recreate block receipts`  210.638611ms\r\n`new receipts`:  549\r\n\r\nIt looks like there is wrong data in the database.\r\nSo every request needs to recalculate.\r\n\r\nI took about 15 days to complete the full BSC sync.\r\nHow to fix it:(",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1031219314/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1031416045",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/3438#issuecomment-1031416045",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/3438",
    "id": 1031416045,
    "node_id": "IC_kwDOC0FsAM49eijt",
    "user": {
      "login": "AskAlexSharov",
      "id": 46885206,
      "node_id": "MDQ6VXNlcjQ2ODg1MjA2",
      "avatar_url": "https://avatars.githubusercontent.com/u/46885206?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/AskAlexSharov",
      "html_url": "https://github.com/AskAlexSharov",
      "followers_url": "https://api.github.com/users/AskAlexSharov/followers",
      "following_url": "https://api.github.com/users/AskAlexSharov/following{/other_user}",
      "gists_url": "https://api.github.com/users/AskAlexSharov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/AskAlexSharov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/AskAlexSharov/subscriptions",
      "organizations_url": "https://api.github.com/users/AskAlexSharov/orgs",
      "repos_url": "https://api.github.com/users/AskAlexSharov/repos",
      "events_url": "https://api.github.com/users/AskAlexSharov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/AskAlexSharov/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-02-07T12:30:03Z",
    "updated_at": "2022-02-07T12:33:52Z",
    "author_association": "COLLABORATOR",
    "body": "I think it related to \"system\" transactions of bsc - because always 2 numbers differnce",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1031416045/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1031930726",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/3438#issuecomment-1031930726",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/3438",
    "id": 1031930726,
    "node_id": "IC_kwDOC0FsAM49ggNm",
    "user": {
      "login": "temuera",
      "id": 45910169,
      "node_id": "MDQ6VXNlcjQ1OTEwMTY5",
      "avatar_url": "https://avatars.githubusercontent.com/u/45910169?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/temuera",
      "html_url": "https://github.com/temuera",
      "followers_url": "https://api.github.com/users/temuera/followers",
      "following_url": "https://api.github.com/users/temuera/following{/other_user}",
      "gists_url": "https://api.github.com/users/temuera/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/temuera/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/temuera/subscriptions",
      "organizations_url": "https://api.github.com/users/temuera/orgs",
      "repos_url": "https://api.github.com/users/temuera/repos",
      "events_url": "https://api.github.com/users/temuera/events{/privacy}",
      "received_events_url": "https://api.github.com/users/temuera/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-02-07T21:13:20Z",
    "updated_at": "2022-02-07T21:13:20Z",
    "author_association": "NONE",
    "body": "> I think it related to \"system\" transactions of bsc - because always 2 numbers differnce\r\n\r\nthx buddy. \r\nAs you said, it's the \"system tx\" problem.\r\n\"System TX\" was skipped while the engine was processing the \"execute body\" phase.\r\n(core/blockchain.go line 128)\r\nI added a trace and verified the results.\r\nIn this case, when read the receipts, the TX count  and the Receipt count can never be aligned.\r\n\r\nI can't think of an elegant solution to fix it :(",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1031930726/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1032070642",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/3438#issuecomment-1032070642",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/3438",
    "id": 1032070642,
    "node_id": "IC_kwDOC0FsAM49hCXy",
    "user": {
      "login": "temuera",
      "id": 45910169,
      "node_id": "MDQ6VXNlcjQ1OTEwMTY5",
      "avatar_url": "https://avatars.githubusercontent.com/u/45910169?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/temuera",
      "html_url": "https://github.com/temuera",
      "followers_url": "https://api.github.com/users/temuera/followers",
      "following_url": "https://api.github.com/users/temuera/following{/other_user}",
      "gists_url": "https://api.github.com/users/temuera/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/temuera/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/temuera/subscriptions",
      "organizations_url": "https://api.github.com/users/temuera/orgs",
      "repos_url": "https://api.github.com/users/temuera/repos",
      "events_url": "https://api.github.com/users/temuera/events{/privacy}",
      "received_events_url": "https://api.github.com/users/temuera/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-02-08T00:06:43Z",
    "updated_at": "2022-02-08T00:06:43Z",
    "author_association": "NONE",
    "body": "@dmitry123 ,check it plz.",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1032070642/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1033429668",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/3438#issuecomment-1033429668",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/3438",
    "id": 1033429668,
    "node_id": "IC_kwDOC0FsAM49mOKk",
    "user": {
      "login": "AlexeyAkhunov",
      "id": 13686139,
      "node_id": "MDQ6VXNlcjEzNjg2MTM5",
      "avatar_url": "https://avatars.githubusercontent.com/u/13686139?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/AlexeyAkhunov",
      "html_url": "https://github.com/AlexeyAkhunov",
      "followers_url": "https://api.github.com/users/AlexeyAkhunov/followers",
      "following_url": "https://api.github.com/users/AlexeyAkhunov/following{/other_user}",
      "gists_url": "https://api.github.com/users/AlexeyAkhunov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/AlexeyAkhunov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/AlexeyAkhunov/subscriptions",
      "organizations_url": "https://api.github.com/users/AlexeyAkhunov/orgs",
      "repos_url": "https://api.github.com/users/AlexeyAkhunov/repos",
      "events_url": "https://api.github.com/users/AlexeyAkhunov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/AlexeyAkhunov/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-02-09T07:26:52Z",
    "updated_at": "2022-02-09T07:27:24Z",
    "author_association": "CONTRIBUTOR",
    "body": "This should be fixed in `devel` but you need to resync to regenerate historic receipts correctly",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1033429668/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1050436032",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/3438#issuecomment-1050436032",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/3438",
    "id": 1050436032,
    "node_id": "IC_kwDOC0FsAM4-nGHA",
    "user": {
      "login": "fomoli535",
      "id": 8173607,
      "node_id": "MDQ6VXNlcjgxNzM2MDc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8173607?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fomoli535",
      "html_url": "https://github.com/fomoli535",
      "followers_url": "https://api.github.com/users/fomoli535/followers",
      "following_url": "https://api.github.com/users/fomoli535/following{/other_user}",
      "gists_url": "https://api.github.com/users/fomoli535/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fomoli535/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fomoli535/subscriptions",
      "organizations_url": "https://api.github.com/users/fomoli535/orgs",
      "repos_url": "https://api.github.com/users/fomoli535/repos",
      "events_url": "https://api.github.com/users/fomoli535/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fomoli535/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-02-25T01:50:20Z",
    "updated_at": "2022-02-25T01:50:20Z",
    "author_association": "NONE",
    "body": "I've been running into this issue too. Is there a way to resync starting a certain block # only?",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1050436032/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
