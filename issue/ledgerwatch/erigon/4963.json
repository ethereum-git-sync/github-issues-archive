{
  "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/4963",
  "repository_url": "https://api.github.com/repos/ledgerwatch/erigon",
  "labels_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/4963/labels{/name}",
  "comments_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/4963/comments",
  "events_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/4963/events",
  "html_url": "https://github.com/ledgerwatch/erigon/issues/4963",
  "id": 1332625205,
  "node_id": "I_kwDOC0FsAM5Pbj81",
  "number": 4963,
  "title": "polygon: trace_block: insufficient funds for gas * price + value",
  "user": {
    "login": "joucksHua",
    "id": 24910959,
    "node_id": "MDQ6VXNlcjI0OTEwOTU5",
    "avatar_url": "https://avatars.githubusercontent.com/u/24910959?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/joucksHua",
    "html_url": "https://github.com/joucksHua",
    "followers_url": "https://api.github.com/users/joucksHua/followers",
    "following_url": "https://api.github.com/users/joucksHua/following{/other_user}",
    "gists_url": "https://api.github.com/users/joucksHua/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/joucksHua/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/joucksHua/subscriptions",
    "organizations_url": "https://api.github.com/users/joucksHua/orgs",
    "repos_url": "https://api.github.com/users/joucksHua/repos",
    "events_url": "https://api.github.com/users/joucksHua/events{/privacy}",
    "received_events_url": "https://api.github.com/users/joucksHua/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 4406003490,
      "node_id": "LA_kwDOC0FsAM8AAAABBp5HIg",
      "url": "https://api.github.com/repos/ledgerwatch/erigon/labels/gateway",
      "name": "gateway",
      "color": "62DB33",
      "default": false,
      "description": "Issue assigned to gateway team"
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": {
    "login": "revitteth",
    "id": 693995,
    "node_id": "MDQ6VXNlcjY5Mzk5NQ==",
    "avatar_url": "https://avatars.githubusercontent.com/u/693995?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/revitteth",
    "html_url": "https://github.com/revitteth",
    "followers_url": "https://api.github.com/users/revitteth/followers",
    "following_url": "https://api.github.com/users/revitteth/following{/other_user}",
    "gists_url": "https://api.github.com/users/revitteth/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/revitteth/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/revitteth/subscriptions",
    "organizations_url": "https://api.github.com/users/revitteth/orgs",
    "repos_url": "https://api.github.com/users/revitteth/repos",
    "events_url": "https://api.github.com/users/revitteth/events{/privacy}",
    "received_events_url": "https://api.github.com/users/revitteth/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "revitteth",
      "id": 693995,
      "node_id": "MDQ6VXNlcjY5Mzk5NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/693995?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/revitteth",
      "html_url": "https://github.com/revitteth",
      "followers_url": "https://api.github.com/users/revitteth/followers",
      "following_url": "https://api.github.com/users/revitteth/following{/other_user}",
      "gists_url": "https://api.github.com/users/revitteth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/revitteth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/revitteth/subscriptions",
      "organizations_url": "https://api.github.com/users/revitteth/orgs",
      "repos_url": "https://api.github.com/users/revitteth/repos",
      "events_url": "https://api.github.com/users/revitteth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/revitteth/received_events",
      "type": "User",
      "site_admin": false
    },
    {
      "login": "enriavil1",
      "id": 19207637,
      "node_id": "MDQ6VXNlcjE5MjA3NjM3",
      "avatar_url": "https://avatars.githubusercontent.com/u/19207637?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/enriavil1",
      "html_url": "https://github.com/enriavil1",
      "followers_url": "https://api.github.com/users/enriavil1/followers",
      "following_url": "https://api.github.com/users/enriavil1/following{/other_user}",
      "gists_url": "https://api.github.com/users/enriavil1/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/enriavil1/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/enriavil1/subscriptions",
      "organizations_url": "https://api.github.com/users/enriavil1/orgs",
      "repos_url": "https://api.github.com/users/enriavil1/repos",
      "events_url": "https://api.github.com/users/enriavil1/events{/privacy}",
      "received_events_url": "https://api.github.com/users/enriavil1/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 3,
  "created_at": "2022-08-09T02:33:18Z",
  "updated_at": "2023-02-04T04:45:08Z",
  "closed_at": "2022-10-17T11:23:05Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "#### System information\r\n\r\nErigon version: `./erigon --version`\r\nlatest version\r\nOS & Version: Windows/Linux/OSX\r\n```\r\nDistributor ID: Ubuntu\r\nDescription:    Ubuntu 18.04.5 LTS\r\nRelease:        18.04\r\nCodename:       bionic\r\n```\r\n\r\nerigon cli:\r\n```\r\n./bin/erigon\r\n--chain=bor-mainnet\r\n--bor.heimdall=http://10.10.17.2:2327/\r\n--torrent.download.rate=512mb\r\n--torrent.upload.rate=6mb\r\n--datadir=/opt/erigon-bor/data\r\n--torrent.port=42069\r\n--port=40306\r\n--private.api.addr=localhost:9092\r\n--http\r\n--http.port=9547\r\n--http.addr=10.10.17.4\r\n--http.api=eth,erigon,web3,net,debug,trace,txpool\r\n```\r\nCommit hash : \r\n```\r\ngit_branch=devel git_tag=v2021.10.03-1617-g6d86b3a40-dirty git_commit=6d86b3a4031d9be007501eabb80ea38b844af72c\r\n```\r\n#### Expected behaviour\r\nMake an HTTP request to the node, I want 13 transaction information\r\nThis is the request parameter\r\n```\r\n{\r\n\"jsonrpc\": \"2.0\",\r\n\"method\": \"trace_block\",\r\n\"params\": [\"0xa596e9\"],\r\n\"id\": 1\r\n}\r\n```\r\n\r\nBut an error is returned:\r\n```\r\n{\r\n\"jsonrpc\": \"2.0\",\r\n\"id\": 1,\r\n\"error\": {\r\n\"code\": -32000,\r\n\"message\": \"first run for txIndex 2 error: insufficient funds for gas * price + value: address 0x1CA971963bdb4BA2BF337c90660674AcFf5Beb3f have 1340837000000000 want 2808193000000000\"\r\n}\r\n}\r\n```\r\nI hope the gods can work it out. Thank youÔºÅ",
  "closed_by": {
    "login": "revitteth",
    "id": 693995,
    "node_id": "MDQ6VXNlcjY5Mzk5NQ==",
    "avatar_url": "https://avatars.githubusercontent.com/u/693995?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/revitteth",
    "html_url": "https://github.com/revitteth",
    "followers_url": "https://api.github.com/users/revitteth/followers",
    "following_url": "https://api.github.com/users/revitteth/following{/other_user}",
    "gists_url": "https://api.github.com/users/revitteth/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/revitteth/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/revitteth/subscriptions",
    "organizations_url": "https://api.github.com/users/revitteth/orgs",
    "repos_url": "https://api.github.com/users/revitteth/repos",
    "events_url": "https://api.github.com/users/revitteth/events{/privacy}",
    "received_events_url": "https://api.github.com/users/revitteth/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/4963/reactions",
    "total_count": 15,
    "+1": 11,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 4
  },
  "timeline_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/4963/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1248368915",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/4963#issuecomment-1248368915",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/4963",
    "id": 1248368915,
    "node_id": "IC_kwDOC0FsAM5KaJkT",
    "user": {
      "login": "alangshur",
      "id": 27105004,
      "node_id": "MDQ6VXNlcjI3MTA1MDA0",
      "avatar_url": "https://avatars.githubusercontent.com/u/27105004?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alangshur",
      "html_url": "https://github.com/alangshur",
      "followers_url": "https://api.github.com/users/alangshur/followers",
      "following_url": "https://api.github.com/users/alangshur/following{/other_user}",
      "gists_url": "https://api.github.com/users/alangshur/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alangshur/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alangshur/subscriptions",
      "organizations_url": "https://api.github.com/users/alangshur/orgs",
      "repos_url": "https://api.github.com/users/alangshur/repos",
      "events_url": "https://api.github.com/users/alangshur/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alangshur/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-09-15T16:58:06Z",
    "updated_at": "2022-09-15T17:50:05Z",
    "author_association": "NONE",
    "body": "Noticing a similar error on post-merge Ethereum as well. If you do `trace_block` on block 15539509 or `trace_transaction` on `0x2fdf04a1d70c3cfa1f9d89baf080377ca110c5dbc28def63b01e18b270e85f6f`, you get the following error:\r\n\r\n```\r\nfirst run for txIndex 323 error: insufficient funds for gas * price + value: address 0xb64a30399f7F6b0C154c2E7Af0a3ec7B0A5b131a have 79011297267895730 want 79314366712002216\r\n```\r\n\r\nRunning dedicated archive Erigon through Chainstack so wish I had more technical input to contribute but found this thread from the exact same Polygon trace issue referenced above and then just ran into it again on PoS Ethereum. Looks like a transaction was included that doesn't have enough eth?",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1248368915/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1251158145",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/4963#issuecomment-1251158145",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/4963",
    "id": 1251158145,
    "node_id": "IC_kwDOC0FsAM5KkyiB",
    "user": {
      "login": "fabwa",
      "id": 7439206,
      "node_id": "MDQ6VXNlcjc0MzkyMDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7439206?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fabwa",
      "html_url": "https://github.com/fabwa",
      "followers_url": "https://api.github.com/users/fabwa/followers",
      "following_url": "https://api.github.com/users/fabwa/following{/other_user}",
      "gists_url": "https://api.github.com/users/fabwa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fabwa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fabwa/subscriptions",
      "organizations_url": "https://api.github.com/users/fabwa/orgs",
      "repos_url": "https://api.github.com/users/fabwa/repos",
      "events_url": "https://api.github.com/users/fabwa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fabwa/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-09-19T15:10:33Z",
    "updated_at": "2022-09-19T15:10:33Z",
    "author_association": "NONE",
    "body": "Fixed in v2022.09.02 it seems",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1251158145/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1416660080",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/4963#issuecomment-1416660080",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/4963",
    "id": 1416660080,
    "node_id": "IC_kwDOC0FsAM5UcIRw",
    "user": {
      "login": "zimbabao",
      "id": 171239,
      "node_id": "MDQ6VXNlcjE3MTIzOQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/171239?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/zimbabao",
      "html_url": "https://github.com/zimbabao",
      "followers_url": "https://api.github.com/users/zimbabao/followers",
      "following_url": "https://api.github.com/users/zimbabao/following{/other_user}",
      "gists_url": "https://api.github.com/users/zimbabao/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/zimbabao/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/zimbabao/subscriptions",
      "organizations_url": "https://api.github.com/users/zimbabao/orgs",
      "repos_url": "https://api.github.com/users/zimbabao/repos",
      "events_url": "https://api.github.com/users/zimbabao/events{/privacy}",
      "received_events_url": "https://api.github.com/users/zimbabao/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-02-04T04:45:07Z",
    "updated_at": "2023-02-04T04:45:07Z",
    "author_association": "CONTRIBUTOR",
    "body": "I can still see this error for gnosis chain. \r\nI am running https://hub.docker.com/layers/thorax/erigon/stable/images/sha256-f03a8a4626f2afe95c38b6d2c900fa3d5e99bbc321a34840a7549c583c7a4b06?context=explore . \r\n\r\n```\r\nErr: first run for txIndex 9 error: insufficient funds for gas * price + value: address 0xF4317f378c7879DfB75907Ee3e99260E40A20b14 have 509993134191999906922 want 1000006193840000000000\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1416660080/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
