{
  "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/5786",
  "repository_url": "https://api.github.com/repos/ledgerwatch/erigon",
  "labels_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/5786/labels{/name}",
  "comments_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/5786/comments",
  "events_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/5786/events",
  "html_url": "https://github.com/ledgerwatch/erigon/issues/5786",
  "id": 1413498960,
  "node_id": "I_kwDOC0FsAM5UQEhQ",
  "number": 5786,
  "title": "\"v1-020500-021000-transactions.seg\": would have banned 206.246.93.162 for touching piece 3719 after failed piece check",
  "user": {
    "login": "masayil",
    "id": 65291464,
    "node_id": "MDQ6VXNlcjY1MjkxNDY0",
    "avatar_url": "https://avatars.githubusercontent.com/u/65291464?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/masayil",
    "html_url": "https://github.com/masayil",
    "followers_url": "https://api.github.com/users/masayil/followers",
    "following_url": "https://api.github.com/users/masayil/following{/other_user}",
    "gists_url": "https://api.github.com/users/masayil/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/masayil/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/masayil/subscriptions",
    "organizations_url": "https://api.github.com/users/masayil/orgs",
    "repos_url": "https://api.github.com/users/masayil/repos",
    "events_url": "https://api.github.com/users/masayil/events{/privacy}",
    "received_events_url": "https://api.github.com/users/masayil/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2022-10-18T16:15:18Z",
  "updated_at": "2023-02-03T05:15:41Z",
  "closed_at": "2022-10-20T01:21:09Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "happen on bsc mainnet\r\ncommand:`erigon --chain bsc --datadir /root/svc/node --torrent.port 42096  --torrent.download.rate 64mb --db.pagesize 64kb --http=false --private.api.addr 127.0.0.1:19090 --downloader.verify`\r\n```\r\n[INFO] [10-19|01:13:31.403] [9/16 IntermediateHashes] Generating intermediate hashes from=22297297 to=22297556\r\n[WARN] [10-19|01:13:31.597] \"v1-021000-021500-headers.seg\": would have banned 176.9.93.79 for touching piece 106 after failed piece check \r\n[WARN] [10-19|01:13:33.092] \"v1-021000-021500-headers.seg\": would have banned 176.9.93.79 for touching piece 106 after failed piece check \r\n[WARN] [10-19|01:13:34.971] \"v1-021000-021500-headers.seg\": would have banned 176.9.93.79 for touching piece 106 after failed piece check \r\n[WARN] [10-19|01:13:36.721] \"v1-021000-021500-headers.seg\": would have banned 176.9.93.79 for touching piece 106 after failed piece check \r\n[WARN] [10-19|01:13:38.846] \"v1-021000-021500-headers.seg\": would have banned 176.9.93.79 for touching piece 106 after failed piece check \r\n[WARN] [10-19|01:13:40.448] \"v1-021000-021500-headers.seg\": would have banned 176.9.93.79 for touching piece 106 after failed piece check \r\n[WARN] [10-19|01:13:42.180] \"v1-021000-021500-headers.seg\": would have banned 176.9.93.79 for touching piece 106 after failed piece check \r\n[WARN] [10-19|01:13:44.030] \"v1-021000-021500-headers.seg\": would have banned 176.9.93.79 for touching piece 106 after failed piece check \r\n[WARN] [10-19|01:13:45.814] \"v1-021000-021500-headers.seg\": would have banned 13.115.110.39 for touching piece 106 after failed piece check \r\n[WARN] [10-19|01:13:47.321] \"v1-021000-021500-headers.seg\": would have banned 13.115.110.39 for touching piece 106 after failed piece check \r\n[WARN] [10-19|01:13:47.837] \"v1-020500-021000-transactions.seg\": would have banned 176.9.93.79 for touching piece 47 after failed piece check \r\n[WARN] [10-19|01:13:49.193] \"v1-021000-021500-headers.seg\": would have banned 13.115.110.39 for touching piece 106 after failed piece check \r\n[WARN] [10-19|01:13:50.749] \"v1-021000-021500-headers.seg\": would have banned 13.115.110.39 for touching piece 106 after failed piece check \r\n[WARN] [10-19|01:13:52.207] \"v1-021000-021500-headers.seg\": would have banned 13.115.110.39 for touching piece 106 after failed piece check \r\n[WARN] [10-19|01:13:54.045] \"v1-021000-021500-headers.seg\": would have banned 13.115.110.39 for touching piece 106 after failed piece check \r\n[WARN] [10-19|01:13:55.525] \"v1-021000-021500-headers.seg\": would have banned 13.115.110.39 for touching piece 106 after failed piece check \r\n[INFO] [10-19|01:13:56.618] [txpool] stat                            block=22297297 pending=10000 baseFee=80 queued=15909 alloc=3.2GB sys=5.6GB\r\n[WARN] [10-19|01:13:57.351] \"v1-021000-021500-headers.seg\": would have banned 13.115.110.39 for touching piece 106 after failed piece check \r\n[WARN] [10-19|01:13:59.013] \"v1-021000-021500-headers.seg\": would have banned 13.115.110.39 for touching piece 106 after failed piece check \r\n[WARN] [10-19|01:14:00.660] \"v1-021000-021500-headers.seg\": would have banned 13.115.110.39 for touching piece 106 after failed piece check \r\n[WARN] [10-19|01:14:03.007] \"v1-021000-021500-headers.seg\": would have banned 13.115.110.39 for touching piece 106 after failed piece check \r\n[WARN] [10-19|01:14:05.115] \"v1-021000-021500-headers.seg\": would have banned 13.115.110.39 for touching piece 106 after failed piece check \r\n[INFO] [10-19|01:14:06.570] [9/16 IntermediateHashes] Calculating Merkle root current key=1c31e219...\r\n[WARN] [10-19|01:14:06.787] \"v1-021000-021500-headers.seg\": would have banned 13.115.110.39 for touching piece 106 after failed piece check \r\n[WARN] [10-19|01:14:08.523] \"v1-021000-021500-headers.seg\": would have banned 13.115.110.39 for touching piece 106 after failed piece check \r\n[WARN] [10-19|01:14:09.547] \"v1-020500-021000-transactions.seg\": would have banned 176.9.93.79 for touching piece 83 after failed piece check \r\n[WARN] [10-19|01:14:10.452] \"v1-021000-021500-headers.seg\": would have banned 13.115.110.39 for touching piece 106 after failed piece check \r\n[WARN] [10-19|01:14:12.402] \"v1-021000-021500-headers.seg\": would have banned 13.115.110.39 for touching piece 106 after failed piece check \r\n[WARN] [10-19|01:14:14.245] \"v1-021000-021500-headers.seg\": would have banned 13.115.110.39 for touching piece 106 after failed piece check \r\n[WARN] [10-19|01:14:15.755] \"v1-021000-021500-headers.seg\": would have banned 13.115.110.39 for touching piece 106 after failed piece check \r\n[WARN] [10-19|01:14:17.468] \"v1-021000-021500-headers.seg\": would have banned 13.115.110.39 for touching piece 106 after failed piece check \r\n[WARN] [10-19|01:14:19.045] \"v1-021000-021500-headers.seg\": would have banned 13.115.110.39 for touching piece 106 after failed piece check \r\n[WARN] [10-19|01:14:20.726] \"v1-021000-021500-headers.seg\": would have banned 13.115.110.39 for touching piece 106 after failed piece check \r\n[WARN] [10-19|01:14:22.344] \"v1-021000-021500-headers.seg\": would have banned 13.115.110.39 for touching piece 106 after failed piece check \r\n[WARN] [10-19|01:14:24.150] \"v1-021000-021500-headers.seg\": would have banned 13.115.110.39 for touching piece 106 after failed piece check \r\n[WARN] [10-19|01:14:25.741] \"v1-021000-021500-headers.seg\": would have banned 13.115.110.39 for touching piece 106 after failed piece check \r\n[WARN] [10-19|01:14:27.523] \"v1-021000-021500-headers.seg\": would have banned 13.115.110.39 for touching piece 106 after failed piece check \r\n[WARN] [10-19|01:14:29.472] \"v1-021000-021500-headers.seg\": would have banned 13.115.110.39 for touching piece 106 after failed piece check \r\n[WARN] [10-19|01:14:31.217] \"v1-021000-021500-headers.seg\": would have banned 13.115.110.39 for touching piece 106 after failed piece check \r\n[WARN] [10-19|01:14:33.195] \"v1-021000-021500-headers.seg\": would have banned 13.115.110.39 for touching piece 106 after failed piece check \r\n[WARN] [10-19|01:14:34.833] \"v1-021000-021500-headers.seg\": would have banned 13.115.110.39 for touching piece 106 after failed piece check \r\n[INFO] [10-19|01:14:36.570] [9/16 IntermediateHashes] Calculating Merkle root current key=3a12bba6...\r\n[WARN] [10-19|01:14:36.705] \"v1-021000-021500-headers.seg\": would have banned 13.115.110.39 for touching piece 106 after failed piece check \r\n[WARN] [10-19|01:14:38.443] \"v1-021000-021500-headers.seg\": would have banned 13.115.110.39 for touching piece 106 after failed piece check \r\n[WARN] [10-19|01:14:40.012] \"v1-021000-021500-headers.seg\": would have banned 13.115.110.39 for touching piece 106 after failed piece check \r\n[WARN] [10-19|01:14:41.721] \"v1-021000-021500-headers.seg\": would have banned 13.115.110.39 for touching piece 106 after failed piece check \r\n[WARN] [10-19|01:14:43.338] \"v1-021000-021500-headers.seg\": would have banned 13.115.110.39 for touching piece 106 after failed piece check \r\n[INFO] [10-19|01:14:44.611] [p2p] GoodPeers                          eth66=23\r\n[WARN] [10-19|01:14:45.000] \"v1-021000-021500-headers.seg\": would have banned 13.115.110.39 for touching piece 106 after failed piece check \r\n[WARN] [10-19|01:14:46.818] \"v1-021000-021500-headers.seg\": would have banned 13.115.110.39 for touching piece 106 after failed piece check \r\n[WARN] [10-19|01:14:48.654] \"v1-021000-021500-headers.seg\": would have banned 13.115.110.39 for touching piece 106 after failed piece check \r\n[WARN] [10-19|01:14:50.794] \"v1-021000-021500-headers.seg\": would have banned 13.115.110.39 for touching piece 106 after failed piece check \r\n[WARN] [10-19|01:14:52.783] \"v1-021000-021500-headers.seg\": would have banned 13.115.110.39 for touching piece 106 after failed piece check \r\n[WARN] [10-19|01:14:54.600] \"v1-021000-021500-headers.seg\": would have banned 13.115.110.39 for touching piece 106 after failed piece check \r\n[WARN] [10-19|01:14:56.462] \"v1-021000-021500-headers.seg\": would have banned 13.115.110.39 for touching piece 106 after failed piece check \r\n[INFO] [10-19|01:14:56.625] [txpool] stat                            block=22297297 pending=10000 baseFee=80 queued=16770 alloc=2.8GB sys=5.6GB\r\n[WARN] [10-19|01:14:58.418] \"v1-021000-021500-headers.seg\": would have banned 13.115.110.39 for touching piece 106 after failed piece check \r\n[WARN] [10-19|01:15:00.032] \"v1-021000-021500-headers.seg\": would have banned 13.115.110.39 for touching piece 106 after failed piece check \r\n[WARN] [10-19|01:15:01.828] \"v1-021000-021500-headers.seg\": would have banned 13.115.110.39 for touching piece 106 after failed piece check \r\n[WARN] [10-19|01:15:03.474] \"v1-021000-021500-headers.seg\": would have banned 13.115.110.39 for touching piece 106 after failed piece check \r\n```\r\nI have deleted snapshots folder and restarted node . still has it \r\n```\r\n[WARN] [10-19|10:01:43.111] \"v1-021000-021500-transactions.seg\": would have banned 15.235.165.1 for touching piece 24 after failed piece check \r\n[WARN] [10-19|10:01:43.903] \"v1-021000-021500-transactions.seg\": would have banned 209.135.208.182 for touching piece 8 after failed piece check \r\n[INFO] [10-19|10:01:55.126] [txpool] stat                            block=22297948 pending=10000 baseFee=80 queued=16533 alloc=915.8MB sys=1.1GB\r\n[INFO] [10-19|10:01:55.140] [1/16 Snapshots] download                progress=\"0.02% 94.3MB/533.4GB\" download-time-left=277hrs:0m total-download-time=4m0s download=560.8KB/s upload=0B/s\r\n[INFO] [10-19|10:01:55.140] [1/16 Snapshots] download                peers=162 connections=1123 files=129 alloc=916.2MB sys=1.1GB\r\n[INFO] [10-19|10:02:15.139] [1/16 Snapshots] download                progress=\"0.02% 102.3MB/533.4GB\" download-time-left=252hrs:50m total-download-time=4m20s download=614.4KB/s upload=0B/s\r\n[INFO] [10-19|10:02:15.139] [1/16 Snapshots] download                peers=162 connections=1120 files=129 alloc=788.7MB sys=1.1GB\r\n[WARN] [10-19|10:02:17.686] \"v1-021000-021500-transactions.seg\": would have banned 15.235.165.1 for touching piece 4 after failed piece check \r\n[WARN] [10-19|10:02:18.832] \"v1-021000-021500-transactions.seg\": would have banned 15.235.165.1 for touching piece 28 after failed piece check \r\n[WARN] [10-19|10:02:19.565] \"v1-021000-021500-transactions.seg\": would have banned 5.9.108.201 for touching piece 14 after failed piece check \r\n```\r\n",
  "closed_by": {
    "login": "masayil",
    "id": 65291464,
    "node_id": "MDQ6VXNlcjY1MjkxNDY0",
    "avatar_url": "https://avatars.githubusercontent.com/u/65291464?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/masayil",
    "html_url": "https://github.com/masayil",
    "followers_url": "https://api.github.com/users/masayil/followers",
    "following_url": "https://api.github.com/users/masayil/following{/other_user}",
    "gists_url": "https://api.github.com/users/masayil/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/masayil/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/masayil/subscriptions",
    "organizations_url": "https://api.github.com/users/masayil/orgs",
    "repos_url": "https://api.github.com/users/masayil/repos",
    "events_url": "https://api.github.com/users/masayil/events{/privacy}",
    "received_events_url": "https://api.github.com/users/masayil/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/5786/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/5786/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1282707218",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/5786#issuecomment-1282707218",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/5786",
    "id": 1282707218,
    "node_id": "IC_kwDOC0FsAM5MdI8S",
    "user": {
      "login": "masayil",
      "id": 65291464,
      "node_id": "MDQ6VXNlcjY1MjkxNDY0",
      "avatar_url": "https://avatars.githubusercontent.com/u/65291464?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/masayil",
      "html_url": "https://github.com/masayil",
      "followers_url": "https://api.github.com/users/masayil/followers",
      "following_url": "https://api.github.com/users/masayil/following{/other_user}",
      "gists_url": "https://api.github.com/users/masayil/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/masayil/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/masayil/subscriptions",
      "organizations_url": "https://api.github.com/users/masayil/orgs",
      "repos_url": "https://api.github.com/users/masayil/repos",
      "events_url": "https://api.github.com/users/masayil/events{/privacy}",
      "received_events_url": "https://api.github.com/users/masayil/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-10-18T16:57:39Z",
    "updated_at": "2022-10-18T16:58:28Z",
    "author_association": "NONE",
    "body": "```\r\nroot@erigon-bsc-0:~# curl -X POST -H \"Content-Type: application/json\" -d '{\"jsonrpc\": \"2.0\", \"method\":\"eth_getBlockByNumber\", \"params\": [\"0x1312940\",true], \"id\": 1}' http://0.0.0.0:8545 \r\n{\"jsonrpc\":\"2.0\",\"id\":1,\"error\":{\"code\":-32000,\"message\":\"segment /root/svc/node/snapshots/v1-019500-020000-transactions.seg has too short record: len(buf)=0 \\u003c 21\"}}\r\n```\r\nerigon version 2.28.1-stable-9711af6d\r\nIs this error fixed on devel branch?",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1282707218/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1414988754",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/5786#issuecomment-1414988754",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/5786",
    "id": 1414988754,
    "node_id": "IC_kwDOC0FsAM5UVwPS",
    "user": {
      "login": "let4be",
      "id": 4147061,
      "node_id": "MDQ6VXNlcjQxNDcwNjE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4147061?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/let4be",
      "html_url": "https://github.com/let4be",
      "followers_url": "https://api.github.com/users/let4be/followers",
      "following_url": "https://api.github.com/users/let4be/following{/other_user}",
      "gists_url": "https://api.github.com/users/let4be/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/let4be/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/let4be/subscriptions",
      "organizations_url": "https://api.github.com/users/let4be/orgs",
      "repos_url": "https://api.github.com/users/let4be/repos",
      "events_url": "https://api.github.com/users/let4be/events{/privacy}",
      "received_events_url": "https://api.github.com/users/let4be/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-02-03T05:14:26Z",
    "updated_at": "2023-02-03T05:15:41Z",
    "author_association": "NONE",
    "body": "Having same issue v2.37.0\r\nBSC mainnet, not synced yet though...",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1414988754/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
