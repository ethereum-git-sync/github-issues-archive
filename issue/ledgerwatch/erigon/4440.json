{
  "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/4440",
  "repository_url": "https://api.github.com/repos/ledgerwatch/erigon",
  "labels_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/4440/labels{/name}",
  "comments_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/4440/comments",
  "events_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/4440/events",
  "html_url": "https://github.com/ledgerwatch/erigon/issues/4440",
  "id": 1269848350,
  "node_id": "I_kwDOC0FsAM5LsFke",
  "number": 4440,
  "title": "No more indexing after GoodPeers-message",
  "user": {
    "login": "0xgeert",
    "id": 393259,
    "node_id": "MDQ6VXNlcjM5MzI1OQ==",
    "avatar_url": "https://avatars.githubusercontent.com/u/393259?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/0xgeert",
    "html_url": "https://github.com/0xgeert",
    "followers_url": "https://api.github.com/users/0xgeert/followers",
    "following_url": "https://api.github.com/users/0xgeert/following{/other_user}",
    "gists_url": "https://api.github.com/users/0xgeert/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/0xgeert/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/0xgeert/subscriptions",
    "organizations_url": "https://api.github.com/users/0xgeert/orgs",
    "repos_url": "https://api.github.com/users/0xgeert/repos",
    "events_url": "https://api.github.com/users/0xgeert/events{/privacy}",
    "received_events_url": "https://api.github.com/users/0xgeert/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 0,
  "created_at": "2022-06-13T19:15:44Z",
  "updated_at": "2022-06-14T08:20:01Z",
  "closed_at": "2022-06-14T08:20:01Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "#### System information\r\n\r\nErigon version: version 2021.11.3-alpha\r\n\r\nOS & Version: MacOs 11.1\r\n\r\n#### Expected behaviour\r\nIndexing should proceed normally\r\n\r\n#### Actual behaviour\r\n\r\nAfter a couple of normal index-cycles, the process gets in state 'GoodPeers', and seems to stall there. \r\nExample log from a fresh restart: \r\n```\r\n\r\n[INFO] [06-13|21:07:33.435] Build info                               git_branch=devel git_tag=v2021.10.03-1284-g3f1e9948f git_commit=3f1e9948fac43e165989b390cf04eed37bfd9a29\r\n[INFO] [06-13|21:07:33.435] Starting Erigon on Ethereum mainnet... \r\n[INFO] [06-13|21:07:33.436] Maximum peer count                       ETH=100 total=100\r\n[INFO] [06-13|21:07:35.539] Set global gas cap                       cap=50000000\r\n[INFO] [06-13|21:07:35.576] Opening Database                         label=chaindata path=/data/chains/ethereum/chaindata\r\n[INFO] [06-13|21:07:35.578] Initialised chain configuration          config=\"{ChainID: 1, Homestead: 1150000, DAO: 1920000, DAO Support: true, Tangerine Whistle: 2463000, Spurious Dragon: 2675000, Byzantium: 4370000, Constantinople: 7280000, Petersburg: 7280000, Istanbul: 9069000, Muir Glacier: 9200000, Berlin: 12244000, London: 12965000, Arrow Glacier: 13773000, Terminal Total Difficulty: <nil>, Engine: ethash}\" genesis=0xd4e56740f876aef8c010b86a40d5f56745a118d0906a34e69aec8c0db1cb8fa3\r\n[INFO] [06-13|21:07:35.578] Initialising Ethereum protocol           network=1\r\n[INFO] [06-13|21:07:35.578] Using snapshots                          on=true\r\n[INFO] [06-13|21:07:35.578] Effective                                prune_flags= snapshot_flags=\"--snapshots=true\"\r\n[INFO] [06-13|21:07:37.860] Disk storage enabled for ethash DAGs     dir=/data/chains/ethereum/ethash-dags count=2\r\n[INFO] [06-13|21:07:38.089] Starting private RPC server              on=localhost:9090\r\n[INFO] [06-13|21:07:38.089] new subscription to logs established \r\n[INFO] [06-13|21:07:38.092] Started P2P networking                   version=66 self=enode://c94488421a95559fd29db3b1dc3443d7a716d3ebaa73eaff47f84142f75d9e6ab12930fbe0f652a6880c84159f6250aa43a671d270023a199afcb8198069504f@127.0.0.1:30303 name=erigon/v2022.99.99-dev-3f1e9948/linux-amd64/go1.18beta1\r\n[INFO] [06-13|21:07:38.099] [Snapshots] Fetching torrent files metadata \r\n[INFO] [06-13|21:07:40.044] [Snapshots] Stat                         blocks=14866999 segments=14866999 indices=14866999 alloc=2.3GB sys=3.3GB\r\n[INFO] [06-13|21:07:40.044] [1/16 Headers] Waiting for headers...    from=14957608\r\n[INFO] [06-13|21:07:45.640] New txs subscriber joined \r\n[INFO] [06-13|21:07:45.640] new subscription to newHeaders established \r\n[INFO] [06-13|21:08:00.045] [1/16 Headers] Wrote block headers       number=14957611 blk/second=0.150 alloc=2.6GB sys=3.5GB\r\n[INFO] [06-13|21:08:20.045] [1/16 Headers] Wrote block headers       number=14957611 blk/second=0.000 alloc=2.7GB sys=3.5GB\r\n[INFO] [06-13|21:08:21.955] [1/16 Headers] Processed                 highest inserted=14957612 age=46s\r\n[INFO] [06-13|21:08:22.199] [6/16 Execution] Blocks execution        from=14957445 to=14957612\r\n[INFO] [06-13|21:09:35.579] [p2p] GoodPeers                          eth66=31\r\n[INFO] [06-13|21:09:43.705] [6/16 Execution] Completed on            block=14957612\r\n[INFO] [06-13|21:09:43.705] [6/16 Execution] DONE                    in=1m21.505744626s\r\n[INFO] [06-13|21:11:35.578] [p2p] GoodPeers                          eth66=27\r\n\r\n\r\n```\r\n\r\nWhat might be causing this? \r\n",
  "closed_by": {
    "login": "0xgeert",
    "id": 393259,
    "node_id": "MDQ6VXNlcjM5MzI1OQ==",
    "avatar_url": "https://avatars.githubusercontent.com/u/393259?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/0xgeert",
    "html_url": "https://github.com/0xgeert",
    "followers_url": "https://api.github.com/users/0xgeert/followers",
    "following_url": "https://api.github.com/users/0xgeert/following{/other_user}",
    "gists_url": "https://api.github.com/users/0xgeert/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/0xgeert/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/0xgeert/subscriptions",
    "organizations_url": "https://api.github.com/users/0xgeert/orgs",
    "repos_url": "https://api.github.com/users/0xgeert/repos",
    "events_url": "https://api.github.com/users/0xgeert/events{/privacy}",
    "received_events_url": "https://api.github.com/users/0xgeert/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/4440/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/4440/timeline",
  "performed_via_github_app": null,
  "state_reason": "not_planned"
}
[

]
