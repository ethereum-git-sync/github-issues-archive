{
  "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/6038",
  "repository_url": "https://api.github.com/repos/ledgerwatch/erigon",
  "labels_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/6038/labels{/name}",
  "comments_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/6038/comments",
  "events_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/6038/events",
  "html_url": "https://github.com/ledgerwatch/erigon/issues/6038",
  "id": 1446910488,
  "node_id": "I_kwDOC0FsAM5WPhoY",
  "number": 6038,
  "title": "Port conflict using internal CL when running multiple erigon processes on the same machine, bound to the same IP address",
  "user": {
    "login": "PeaStew",
    "id": 34198053,
    "node_id": "MDQ6VXNlcjM0MTk4MDUz",
    "avatar_url": "https://avatars.githubusercontent.com/u/34198053?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/PeaStew",
    "html_url": "https://github.com/PeaStew",
    "followers_url": "https://api.github.com/users/PeaStew/followers",
    "following_url": "https://api.github.com/users/PeaStew/following{/other_user}",
    "gists_url": "https://api.github.com/users/PeaStew/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/PeaStew/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/PeaStew/subscriptions",
    "organizations_url": "https://api.github.com/users/PeaStew/orgs",
    "repos_url": "https://api.github.com/users/PeaStew/repos",
    "events_url": "https://api.github.com/users/PeaStew/events{/privacy}",
    "received_events_url": "https://api.github.com/users/PeaStew/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2022-11-13T12:42:07Z",
  "updated_at": "2022-12-24T04:36:30Z",
  "closed_at": "2022-11-13T13:32:44Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "#### System information\r\n\r\nv2.30.0\r\n\r\nRunning two Ethereum (Goerli in this case) nodes on the same server\r\n\r\nIssue with Ethereum (Goerli) when running two nodes on the same server, there is no reference to port 4000 in the help, also it is not running an external sentinel, believe this is coming from using the internal CL client \r\n\r\n`Erigon startup                           err=\"failed creating sentinel listener err=listen udp4 0.0.0.0:4000: bind: address already in use\"`\r\n\r\nit appears that in order to run two nodes on the same machine you either need two different external IP addresses (and bind each erigon to one) or run an external sentry process(?) to get around the inability to set the port of the internal CL\r\n\r\nreverting to `--externalcl` solves the issue but then requires running a separate CL process.\r\n\r\nPossible solution: allow setting the port of the internal CL",
  "closed_by": {
    "login": "PeaStew",
    "id": 34198053,
    "node_id": "MDQ6VXNlcjM0MTk4MDUz",
    "avatar_url": "https://avatars.githubusercontent.com/u/34198053?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/PeaStew",
    "html_url": "https://github.com/PeaStew",
    "followers_url": "https://api.github.com/users/PeaStew/followers",
    "following_url": "https://api.github.com/users/PeaStew/following{/other_user}",
    "gists_url": "https://api.github.com/users/PeaStew/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/PeaStew/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/PeaStew/subscriptions",
    "organizations_url": "https://api.github.com/users/PeaStew/orgs",
    "repos_url": "https://api.github.com/users/PeaStew/repos",
    "events_url": "https://api.github.com/users/PeaStew/events{/privacy}",
    "received_events_url": "https://api.github.com/users/PeaStew/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/6038/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/6038/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1312731711",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/6038#issuecomment-1312731711",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/6038",
    "id": 1312731711,
    "node_id": "IC_kwDOC0FsAM5OPrI_",
    "user": {
      "login": "PeaStew",
      "id": 34198053,
      "node_id": "MDQ6VXNlcjM0MTk4MDUz",
      "avatar_url": "https://avatars.githubusercontent.com/u/34198053?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/PeaStew",
      "html_url": "https://github.com/PeaStew",
      "followers_url": "https://api.github.com/users/PeaStew/followers",
      "following_url": "https://api.github.com/users/PeaStew/following{/other_user}",
      "gists_url": "https://api.github.com/users/PeaStew/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/PeaStew/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/PeaStew/subscriptions",
      "organizations_url": "https://api.github.com/users/PeaStew/orgs",
      "repos_url": "https://api.github.com/users/PeaStew/repos",
      "events_url": "https://api.github.com/users/PeaStew/events{/privacy}",
      "received_events_url": "https://api.github.com/users/PeaStew/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-11-13T13:32:44Z",
    "updated_at": "2022-11-13T13:32:44Z",
    "author_association": "NONE",
    "body": "resolved by https://github.com/ledgerwatch/erigon/commit/ae01026ca9bcdb3c16e8d6b5def34aba8e8a97db, 2.30.0 cannot be used in multinode setup (except in docker) and then port can be set using lightclient switches",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1312731711/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1364459347",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/6038#issuecomment-1364459347",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/6038",
    "id": 1364459347,
    "node_id": "IC_kwDOC0FsAM5RU_9T",
    "user": {
      "login": "TangMonk",
      "id": 3498786,
      "node_id": "MDQ6VXNlcjM0OTg3ODY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3498786?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TangMonk",
      "html_url": "https://github.com/TangMonk",
      "followers_url": "https://api.github.com/users/TangMonk/followers",
      "following_url": "https://api.github.com/users/TangMonk/following{/other_user}",
      "gists_url": "https://api.github.com/users/TangMonk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TangMonk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TangMonk/subscriptions",
      "organizations_url": "https://api.github.com/users/TangMonk/orgs",
      "repos_url": "https://api.github.com/users/TangMonk/repos",
      "events_url": "https://api.github.com/users/TangMonk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TangMonk/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-12-24T04:36:30Z",
    "updated_at": "2022-12-24T04:36:30Z",
    "author_association": "NONE",
    "body": "Still problem, How to fix?",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1364459347/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
