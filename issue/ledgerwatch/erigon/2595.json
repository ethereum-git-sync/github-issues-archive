{
  "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/2595",
  "repository_url": "https://api.github.com/repos/ledgerwatch/erigon",
  "labels_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/2595/labels{/name}",
  "comments_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/2595/comments",
  "events_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/2595/events",
  "html_url": "https://github.com/ledgerwatch/erigon/issues/2595",
  "id": 982296596,
  "node_id": "MDU6SXNzdWU5ODIyOTY1OTY=",
  "number": 2595,
  "title": "Failed to sync new blocks, hangs on `Wrote block headers`",
  "user": {
    "login": "jsvisa",
    "id": 3627395,
    "node_id": "MDQ6VXNlcjM2MjczOTU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/3627395?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/jsvisa",
    "html_url": "https://github.com/jsvisa",
    "followers_url": "https://api.github.com/users/jsvisa/followers",
    "following_url": "https://api.github.com/users/jsvisa/following{/other_user}",
    "gists_url": "https://api.github.com/users/jsvisa/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/jsvisa/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/jsvisa/subscriptions",
    "organizations_url": "https://api.github.com/users/jsvisa/orgs",
    "repos_url": "https://api.github.com/users/jsvisa/repos",
    "events_url": "https://api.github.com/users/jsvisa/events{/privacy}",
    "received_events_url": "https://api.github.com/users/jsvisa/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 5,
  "created_at": "2021-08-30T02:00:44Z",
  "updated_at": "2021-10-05T05:21:45Z",
  "closed_at": "2021-10-05T05:21:45Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "#### System information\r\n\r\nErigon version: `./erigon --version`\r\n\r\n```bash\r\n$ ./bin/erigon -v\r\nerigon version 2021.08.3-alpha\r\n```\r\n\r\nOS & Version: Windows/Linux/OSX\r\n\r\n```bash\r\n$ uname -a\r\nLinux 4.14.225-169.362.amzn2.x86_64 #1 SMP Mon Mar 22 20:14:50 UTC 2021 x86_64 x86_64 x86_64 GNU/Linux\r\n```\r\n\r\nCommit hash : \r\n\r\n#### Expected behaviour\r\n\r\nContinuous synchronization\r\n\r\n\r\n#### Actual behaviour\r\n\r\nHangs on `Wrote block headers`:\r\n\r\n```bash\r\nINFO[08-30|01:51:26.811] [1/18 Headers] Wrote block headers       number=13111586 blk/second=0.000 alloc=\"648.63 MiB\" sys=\"7.64 GiB\"\r\nINFO[08-30|01:51:56.811] [1/18 Headers] Wrote block headers       number=13111586 blk/second=0.000 alloc=\"680.48 MiB\" sys=\"7.64 GiB\"\r\nINFO[08-30|01:52:26.811] [1/18 Headers] Wrote block headers       number=13111586 blk/second=0.000 alloc=\"598.33 MiB\" sys=\"7.64 GiB\"\r\nINFO[08-30|01:52:56.811] [1/18 Headers] Wrote block headers       number=13111586 blk/second=0.000 alloc=\"618.80 MiB\" sys=\"7.64 GiB\"\r\nINFO[08-30|01:53:20.159] [p2p] GoodPeers                          eth66=31 eth65=33\r\nINFO[08-30|01:53:26.811] [1/18 Headers] Wrote block headers       number=13111586 blk/second=0.000 alloc=\"648.97 MiB\" sys=\"7.64 GiB\"\r\n```\r\n\r\nAfter restart the erigon process, the syncing resumed.\r\n\r\n\r\n#### Steps to reproduce the behaviour\r\n\r\n\r\n#### Backtrace\r\n\r\n````\r\n[backtrace]\r\n````\r\n",
  "closed_by": {
    "login": "AskAlexSharov",
    "id": 46885206,
    "node_id": "MDQ6VXNlcjQ2ODg1MjA2",
    "avatar_url": "https://avatars.githubusercontent.com/u/46885206?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/AskAlexSharov",
    "html_url": "https://github.com/AskAlexSharov",
    "followers_url": "https://api.github.com/users/AskAlexSharov/followers",
    "following_url": "https://api.github.com/users/AskAlexSharov/following{/other_user}",
    "gists_url": "https://api.github.com/users/AskAlexSharov/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/AskAlexSharov/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/AskAlexSharov/subscriptions",
    "organizations_url": "https://api.github.com/users/AskAlexSharov/orgs",
    "repos_url": "https://api.github.com/users/AskAlexSharov/repos",
    "events_url": "https://api.github.com/users/AskAlexSharov/events{/privacy}",
    "received_events_url": "https://api.github.com/users/AskAlexSharov/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/2595/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/2595/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/908071830",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/2595#issuecomment-908071830",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/2595",
    "id": 908071830,
    "node_id": "IC_kwDOC0FsAM42IBOW",
    "user": {
      "login": "AskAlexSharov",
      "id": 46885206,
      "node_id": "MDQ6VXNlcjQ2ODg1MjA2",
      "avatar_url": "https://avatars.githubusercontent.com/u/46885206?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/AskAlexSharov",
      "html_url": "https://github.com/AskAlexSharov",
      "followers_url": "https://api.github.com/users/AskAlexSharov/followers",
      "following_url": "https://api.github.com/users/AskAlexSharov/following{/other_user}",
      "gists_url": "https://api.github.com/users/AskAlexSharov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/AskAlexSharov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/AskAlexSharov/subscriptions",
      "organizations_url": "https://api.github.com/users/AskAlexSharov/orgs",
      "repos_url": "https://api.github.com/users/AskAlexSharov/repos",
      "events_url": "https://api.github.com/users/AskAlexSharov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/AskAlexSharov/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-08-30T06:36:52Z",
    "updated_at": "2021-08-30T06:36:52Z",
    "author_association": "COLLABORATOR",
    "body": "https://twitter.com/erigoneth/status/1431275948352098313?s=21",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/908071830/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/909033333",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/2595#issuecomment-909033333",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/2595",
    "id": 909033333,
    "node_id": "IC_kwDOC0FsAM42Lr91",
    "user": {
      "login": "jsvisa",
      "id": 3627395,
      "node_id": "MDQ6VXNlcjM2MjczOTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3627395?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jsvisa",
      "html_url": "https://github.com/jsvisa",
      "followers_url": "https://api.github.com/users/jsvisa/followers",
      "following_url": "https://api.github.com/users/jsvisa/following{/other_user}",
      "gists_url": "https://api.github.com/users/jsvisa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jsvisa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jsvisa/subscriptions",
      "organizations_url": "https://api.github.com/users/jsvisa/orgs",
      "repos_url": "https://api.github.com/users/jsvisa/repos",
      "events_url": "https://api.github.com/users/jsvisa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jsvisa/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-08-31T08:47:55Z",
    "updated_at": "2021-08-31T08:47:55Z",
    "author_association": "CONTRIBUTOR",
    "body": "@AskAlexSharov Thanks for your advice, this issue still exist after the upgrade to 20210805.\r\n\r\n\r\n```bash\r\nerigon-v20210805 version 2021.08.5-alpha\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/909033333/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/910233872",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/2595#issuecomment-910233872",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/2595",
    "id": 910233872,
    "node_id": "IC_kwDOC0FsAM42QREQ",
    "user": {
      "login": "YordanPavlov",
      "id": 3602846,
      "node_id": "MDQ6VXNlcjM2MDI4NDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3602846?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/YordanPavlov",
      "html_url": "https://github.com/YordanPavlov",
      "followers_url": "https://api.github.com/users/YordanPavlov/followers",
      "following_url": "https://api.github.com/users/YordanPavlov/following{/other_user}",
      "gists_url": "https://api.github.com/users/YordanPavlov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/YordanPavlov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/YordanPavlov/subscriptions",
      "organizations_url": "https://api.github.com/users/YordanPavlov/orgs",
      "repos_url": "https://api.github.com/users/YordanPavlov/repos",
      "events_url": "https://api.github.com/users/YordanPavlov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/YordanPavlov/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-09-01T12:24:44Z",
    "updated_at": "2021-09-01T12:24:44Z",
    "author_association": "NONE",
    "body": "I seem to be facing a similar issue, I also upgraded to:\r\n`image: thorax/erigon:v2021.08.05`\r\nThe log consists mostly of the following WARNs:\r\n```\r\n[WARN] [09-01|12:22:26.113] Served                                   conn=10.42.193.226:58048 method=eth_call reqid=0 t=3.096503ms err=\"block 13139760(0000000000000000000000000000000000000000000000000000000000000000) not found\"\r\n[WARN] [09-01|12:22:26.214] Served                                   conn=10.42.193.226:58048 method=eth_call reqid=0 t=3.513501ms err=\"block 13139760(0000000000000000000000000000000000000000000000000000000000000000) not found\"\r\n[WARN] [09-01|12:22:26.310] Served                                   conn=10.42.193.226:58048 method=eth_call reqid=0 t=24.086139ms err=\"block 13139760(0000000000000000000000000000000000000000000000000000000000000000) not found\"\r\n[WARN] [09-01|12:22:26.391] Served                                   conn=10.42.193.226:58048 method=eth_call reqid=0 t=1.62394ms err=\"block 13139761(0000000000000000000000000000000000000000000000000000000000000000) not found\"\r\n[WARN] [09-01|12:22:26.466] Served                                   conn=10.42.193.226:58048 method=eth_call reqid=0 t=1.577251ms err=\"block 13139761(0000000000000000000000000000000000000000000000000000000000000000) not found\"\r\n[WARN] [09-01|12:22:26.545] Served                                   conn=10.42.193.226:58048 method=eth_call reqid=0 t=1.677892ms err=\"block 13139761(0000000000000000000000000000000000000000000000000000000000000000) not found\"\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/910233872/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/910419542",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/2595#issuecomment-910419542",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/2595",
    "id": 910419542,
    "node_id": "IC_kwDOC0FsAM42Q-ZW",
    "user": {
      "login": "AskAlexSharov",
      "id": 46885206,
      "node_id": "MDQ6VXNlcjQ2ODg1MjA2",
      "avatar_url": "https://avatars.githubusercontent.com/u/46885206?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/AskAlexSharov",
      "html_url": "https://github.com/AskAlexSharov",
      "followers_url": "https://api.github.com/users/AskAlexSharov/followers",
      "following_url": "https://api.github.com/users/AskAlexSharov/following{/other_user}",
      "gists_url": "https://api.github.com/users/AskAlexSharov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/AskAlexSharov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/AskAlexSharov/subscriptions",
      "organizations_url": "https://api.github.com/users/AskAlexSharov/orgs",
      "repos_url": "https://api.github.com/users/AskAlexSharov/repos",
      "events_url": "https://api.github.com/users/AskAlexSharov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/AskAlexSharov/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-09-01T15:55:03Z",
    "updated_at": "2021-09-01T15:55:03Z",
    "author_association": "COLLABORATOR",
    "body": "@YordanPavlov what are Erigon's logs now?",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/910419542/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/910565884",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/2595#issuecomment-910565884",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/2595",
    "id": 910565884,
    "node_id": "IC_kwDOC0FsAM42RiH8",
    "user": {
      "login": "YordanPavlov",
      "id": 3602846,
      "node_id": "MDQ6VXNlcjM2MDI4NDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3602846?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/YordanPavlov",
      "html_url": "https://github.com/YordanPavlov",
      "followers_url": "https://api.github.com/users/YordanPavlov/followers",
      "following_url": "https://api.github.com/users/YordanPavlov/following{/other_user}",
      "gists_url": "https://api.github.com/users/YordanPavlov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/YordanPavlov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/YordanPavlov/subscriptions",
      "organizations_url": "https://api.github.com/users/YordanPavlov/orgs",
      "repos_url": "https://api.github.com/users/YordanPavlov/repos",
      "events_url": "https://api.github.com/users/YordanPavlov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/YordanPavlov/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-09-01T18:44:55Z",
    "updated_at": "2021-09-01T18:44:55Z",
    "author_association": "NONE",
    "body": "> @YordanPavlov what are Erigon's logs now?\r\n\r\nJust checked. It seems my Node has recovered and is up to date now. Logs look like so:\r\n```\r\n[INFO] [09-01|18:43:02.325] Commit cycle                             in=2.465849699s\r\n[INFO] [09-01|18:43:02.325] Update current block for the RPC API     from=13141436 to=13141437\r\n[INFO] [09-01|18:43:02.325] [1/18 Headers] Waiting for headers...    from=13141437\r\n[INFO] [09-01|18:43:32.326] [1/18 Headers] Wrote block headers       number=13141437 blk/second=0.000 alloc=\"599.01 MiB\" sys=\"5.63 GiB\"\r\n[INFO] [09-01|18:43:35.721] [1/18 Headers] Processed                 highest inserted=13141438 age=38s\r\n[INFO] [09-01|18:43:35.887] [7/18 Execution] Completed on            block=13141438\r\n[INFO] [09-01|18:43:36.209] [p2p] GoodPeers                          eth66=31 eth65=31\r\n[INFO] [09-01|18:43:36.359] [17/18 TxPool] Transaction stats         pending=3908 queued=1020\r\n[INFO] [09-01|18:43:40.185] Commit cycle                             in=3.825598661s\r\n[INFO] [09-01|18:43:40.185] Update current block for the RPC API     from=13141438 to=13141438\r\n[INFO] [09-01|18:43:40.185] [1/18 Headers] Waiting for headers...    from=13141438\r\n\r\n```\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/910565884/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
