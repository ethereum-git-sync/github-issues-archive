{
  "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/5888",
  "repository_url": "https://api.github.com/repos/ledgerwatch/erigon",
  "labels_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/5888/labels{/name}",
  "comments_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/5888/comments",
  "events_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/5888/events",
  "html_url": "https://github.com/ledgerwatch/erigon/issues/5888",
  "id": 1426985821,
  "node_id": "I_kwDOC0FsAM5VDhNd",
  "number": 5888,
  "title": "Experimental consensus client stopped syncing",
  "user": {
    "login": "yabirgb",
    "id": 5068010,
    "node_id": "MDQ6VXNlcjUwNjgwMTA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/5068010?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/yabirgb",
    "html_url": "https://github.com/yabirgb",
    "followers_url": "https://api.github.com/users/yabirgb/followers",
    "following_url": "https://api.github.com/users/yabirgb/following{/other_user}",
    "gists_url": "https://api.github.com/users/yabirgb/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/yabirgb/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/yabirgb/subscriptions",
    "organizations_url": "https://api.github.com/users/yabirgb/orgs",
    "repos_url": "https://api.github.com/users/yabirgb/repos",
    "events_url": "https://api.github.com/users/yabirgb/events{/privacy}",
    "received_events_url": "https://api.github.com/users/yabirgb/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 4,
  "created_at": "2022-10-28T09:37:46Z",
  "updated_at": "2022-11-07T11:47:15Z",
  "closed_at": "2022-11-07T11:47:15Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "#### System information\r\n\r\nErigon version: 2.28.1-stable-9711af6d\r\n\r\nOS & Version: EndeavourOS Linux x86_64 (Arch derivate)\r\n\r\nCommit hash : 9711af6dd\r\n\r\n#### Expected behaviour\r\n\r\nThe node should keep in sync with mainnet\r\n\r\n#### Actual behaviour\r\n\r\nThe node lost the connection to the CL client\r\n\r\n#### Steps to reproduce the behaviour\r\n\r\nI found that over the night the node stopped syncing. Restarted it and when the node start it waits all the time to the CL client\r\n\r\n```\r\noct 28 11:00:33 qatar erigon[1406720]: [INFO] [10-28|11:00:33.664] Build info                               git_branch=HEAD git_tag=v2.28.1 git_commit=9711af6ddf01f1eb96c9dfb7bf33c5d69e6f648a\r\noct 28 11:00:33 qatar erigon[1406720]: [INFO] [10-28|11:00:33.664] Starting Erigon on Ethereum mainnet...\r\noct 28 11:00:33 qatar erigon[1406720]: [INFO] [10-28|11:00:33.665] Maximum peer count                       ETH=100 total=100\r\noct 28 11:00:33 qatar erigon[1406720]: [INFO] [10-28|11:00:33.665] starting HTTP APIs                       APIs=eth,erigon,web3,net,debug,trace,txpool\r\noct 28 11:00:33 qatar erigon[1406720]: [INFO] [10-28|11:00:33.665] torrent verbosity                        level=WRN\r\noct 28 11:00:35 qatar erigon[1406720]: [INFO] [10-28|11:00:35.767] Set global gas cap                       cap=50000000\r\noct 28 11:00:35 qatar erigon[1406720]: [INFO] [10-28|11:00:35.800] Opening Database                         label=chaindata path=/media/ethereum/erigon/chaindata\r\noct 28 11:00:35 qatar erigon[1406720]: [INFO] [10-28|11:00:35.809] Initialised chain configuration          config=\"{ChainID: 1, Homestead: 1150000, DAO: 1920000, DAO Support: true, Tangerine Whistle: 2463000, Spurious Dragon: 2675000, Byzantium: 4370000, Constantinople: 7280000, Petersburg: 7280000, Istanbul: 9069000, Muir Glacier: 9200000, Berlin: 12244000, London: 12965000, Arrow Glacier: 13773000, Gray Glacier: 15050000, Terminal Total Difficulty: 58750000000000000000000, Merge Netsplit: <nil>, Shanghai: <nil>, Cancun: <nil>, Engine: ethash}\" genesis=0xd4e56740f876aef8c010b86a40d5f56745a118d0906a34e69aec8c0db1cb8fa3\r\noct 28 11:00:35 qatar erigon[1406720]: [INFO] [10-28|11:00:35.809] Effective                                prune_flags= snapshot_flags=\"--snapshots=true\" history.v3=false\r\noct 28 11:00:36 qatar erigon[1406720]: [INFO] [10-28|11:00:36.364] Initialising Ethereum protocol           network=1\r\noct 28 11:00:36 qatar erigon[1406720]: [INFO] [10-28|11:00:36.364] Disk storage enabled for ethash DAGs     dir=/media/ethereum/erigon/ethash-dags count=2\r\noct 28 11:00:36 qatar erigon[1406720]: {0x4b363db94e286120d76eb905340fdd4e54bfe9f06bf33ff6cf5ad27f511bfe95 1606824023}\r\noct 28 11:00:36 qatar erigon[1406720]: [INFO] [10-28|11:00:36.761] new subscription to logs established\r\noct 28 11:00:36 qatar erigon[1406720]: [INFO] [10-28|11:00:36.775] Sentinel started                         enr=enr:-Ly4QNnQ81GWIKQGOsGNEec0NRU1PJLpGC0tIJS1KJpT75viJK5KSTN3OEWnxP-(redacted)\r\noct 28 11:00:41 qatar erigon[1406720]: [INFO] [10-28|11:00:41.776] Starting private RPC server              on=127.0.0.1:9095\r\noct 28 11:00:41 qatar erigon[1406720]: [INFO] [10-28|11:00:41.776] rpc filters: subscribing to Erigon events\r\noct 28 11:00:41 qatar erigon[1406720]: [EROR] [10-28|11:00:41.776] No trusted setup\r\noct 28 11:00:41 qatar erigon[1406720]: [INFO] [10-28|11:00:41.776] New txs subscriber joined\r\noct 28 11:00:41 qatar erigon[1406720]: [INFO] [10-28|11:00:41.776] new subscription to newHeaders established\r\noct 28 11:00:41 qatar erigon[1406720]: [INFO] [10-28|11:00:41.777] Reading JWT secret                       path=/media/ethereum/erigon/jwt.hex\r\noct 28 11:00:41 qatar erigon[1406720]: [INFO] [10-28|11:00:41.777] HTTP endpoint opened for Engine API      url=localhost:8555 ws=true ws.compression=true\r\noct 28 11:00:41 qatar erigon[1406720]: [INFO] [10-28|11:00:41.777] HTTP endpoint opened                     url=localhost:8080 ws=false ws.compression=true grpc=false\r\noct 28 11:00:41 qatar erigon[1406720]: [INFO] [10-28|11:00:41.787] Started P2P networking                   version=66 self=enode://d7c2503f220a245c9c3e663fd406ec099a5a101503ef4b313dcc4758720edad081e32265d1c628a418c1ebcc6ebf585950b993801ad40c71b689ae2c23c4bd42@127.0.0.1:30330 name=erigon/v2.28.1-stable-9711af6d/linux-amd64/go1.19.2\r\noct 28 11:00:41 qatar erigon[1406720]: [INFO] [10-28|11:00:41.789] [1/16 Snapshots] Fetching torrent files metadata\r\noct 28 11:00:44 qatar erigon[1406720]: [INFO] [10-28|11:00:44.379] [txpool] Started\r\noct 28 11:00:44 qatar erigon[1406720]: [INFO] [10-28|11:00:44.442] [Snapshots] Blocks Stat                  blocks=15748k indices=15748k alloc=2.5GB sys=2.7GB\r\noct 28 11:00:44 qatar erigon[1406720]: [INFO] [10-28|11:00:44.442] [2/16 Headers] Waiting for Consensus Layer...\r\noct 28 11:01:41 qatar erigon[1406720]: [INFO] [10-28|11:01:41.777] [txpool] stat                            block=15838591 pending=9742 baseFee=30000 queued=29130 alloc=2.8GB sys=3.0GB\r\noct 28 11:02:36 qatar erigon[1406720]: [INFO] [10-28|11:02:36.364] [p2p] GoodPeers                          eth66=6\r\noct 28 11:02:41 qatar erigon[1406720]: [INFO] [10-28|11:02:41.793] [txpool] stat                            block=15838591 pending=9767 baseFee=30000 queued=29835 alloc=3.1GB sys=3.3GB\r\n```\r\n",
  "closed_by": {
    "login": "yabirgb",
    "id": 5068010,
    "node_id": "MDQ6VXNlcjUwNjgwMTA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/5068010?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/yabirgb",
    "html_url": "https://github.com/yabirgb",
    "followers_url": "https://api.github.com/users/yabirgb/followers",
    "following_url": "https://api.github.com/users/yabirgb/following{/other_user}",
    "gists_url": "https://api.github.com/users/yabirgb/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/yabirgb/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/yabirgb/subscriptions",
    "organizations_url": "https://api.github.com/users/yabirgb/orgs",
    "repos_url": "https://api.github.com/users/yabirgb/repos",
    "events_url": "https://api.github.com/users/yabirgb/events{/privacy}",
    "received_events_url": "https://api.github.com/users/yabirgb/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/5888/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/5888/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1295834016",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/5888#issuecomment-1295834016",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/5888",
    "id": 1295834016,
    "node_id": "IC_kwDOC0FsAM5NPNug",
    "user": {
      "login": "enriavil1",
      "id": 19207637,
      "node_id": "MDQ6VXNlcjE5MjA3NjM3",
      "avatar_url": "https://avatars.githubusercontent.com/u/19207637?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/enriavil1",
      "html_url": "https://github.com/enriavil1",
      "followers_url": "https://api.github.com/users/enriavil1/followers",
      "following_url": "https://api.github.com/users/enriavil1/following{/other_user}",
      "gists_url": "https://api.github.com/users/enriavil1/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/enriavil1/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/enriavil1/subscriptions",
      "organizations_url": "https://api.github.com/users/enriavil1/orgs",
      "repos_url": "https://api.github.com/users/enriavil1/repos",
      "events_url": "https://api.github.com/users/enriavil1/events{/privacy}",
      "received_events_url": "https://api.github.com/users/enriavil1/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-10-29T13:16:09Z",
    "updated_at": "2022-10-29T13:16:09Z",
    "author_association": "CONTRIBUTOR",
    "body": "Are there any messages?\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1295834016/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1295859032",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/5888#issuecomment-1295859032",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/5888",
    "id": 1295859032,
    "node_id": "IC_kwDOC0FsAM5NPT1Y",
    "user": {
      "login": "yabirgb",
      "id": 5068010,
      "node_id": "MDQ6VXNlcjUwNjgwMTA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5068010?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/yabirgb",
      "html_url": "https://github.com/yabirgb",
      "followers_url": "https://api.github.com/users/yabirgb/followers",
      "following_url": "https://api.github.com/users/yabirgb/following{/other_user}",
      "gists_url": "https://api.github.com/users/yabirgb/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/yabirgb/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/yabirgb/subscriptions",
      "organizations_url": "https://api.github.com/users/yabirgb/orgs",
      "repos_url": "https://api.github.com/users/yabirgb/repos",
      "events_url": "https://api.github.com/users/yabirgb/events{/privacy}",
      "received_events_url": "https://api.github.com/users/yabirgb/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-10-29T14:48:49Z",
    "updated_at": "2022-10-29T14:48:49Z",
    "author_association": "NONE",
    "body": "@enriavil1 only that is what I can see. Forgot to mention the arguments I use to start erigon\r\n\r\n```\r\n/home/yabirgb/software/erigon/build/bin/erigon --snapshots --datadir=/media/ethereum/erigon/ --experimental.lightclient --port=30330 --http.port=8080 --authrpc.port=8555 --torrent.port=42070 --private.api.addr=127.0.0.1:9095 --http.api=eth,erigon,web3,net,debug,trace,txpool\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1295859032/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1304865935",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/5888#issuecomment-1304865935",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/5888",
    "id": 1304865935,
    "node_id": "IC_kwDOC0FsAM5NxqyP",
    "user": {
      "login": "enriavil1",
      "id": 19207637,
      "node_id": "MDQ6VXNlcjE5MjA3NjM3",
      "avatar_url": "https://avatars.githubusercontent.com/u/19207637?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/enriavil1",
      "html_url": "https://github.com/enriavil1",
      "followers_url": "https://api.github.com/users/enriavil1/followers",
      "following_url": "https://api.github.com/users/enriavil1/following{/other_user}",
      "gists_url": "https://api.github.com/users/enriavil1/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/enriavil1/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/enriavil1/subscriptions",
      "organizations_url": "https://api.github.com/users/enriavil1/orgs",
      "repos_url": "https://api.github.com/users/enriavil1/repos",
      "events_url": "https://api.github.com/users/enriavil1/events{/privacy}",
      "received_events_url": "https://api.github.com/users/enriavil1/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-11-06T18:39:13Z",
    "updated_at": "2022-11-06T18:39:13Z",
    "author_association": "CONTRIBUTOR",
    "body": "have you tried latest devel I believe it already got fixed\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1304865935/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1305487933",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/5888#issuecomment-1305487933",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/5888",
    "id": 1305487933,
    "node_id": "IC_kwDOC0FsAM5N0Co9",
    "user": {
      "login": "yabirgb",
      "id": 5068010,
      "node_id": "MDQ6VXNlcjUwNjgwMTA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5068010?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/yabirgb",
      "html_url": "https://github.com/yabirgb",
      "followers_url": "https://api.github.com/users/yabirgb/followers",
      "following_url": "https://api.github.com/users/yabirgb/following{/other_user}",
      "gists_url": "https://api.github.com/users/yabirgb/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/yabirgb/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/yabirgb/subscriptions",
      "organizations_url": "https://api.github.com/users/yabirgb/orgs",
      "repos_url": "https://api.github.com/users/yabirgb/repos",
      "events_url": "https://api.github.com/users/yabirgb/events{/privacy}",
      "received_events_url": "https://api.github.com/users/yabirgb/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-11-07T11:47:15Z",
    "updated_at": "2022-11-07T11:47:15Z",
    "author_association": "NONE",
    "body": "Yes thanks! Seems to be fixed with the latest changes. Will close the issue :)",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1305487933/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
