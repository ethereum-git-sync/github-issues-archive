{
  "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/2633",
  "repository_url": "https://api.github.com/repos/ledgerwatch/erigon",
  "labels_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/2633/labels{/name}",
  "comments_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/2633/comments",
  "events_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/2633/events",
  "html_url": "https://github.com/ledgerwatch/erigon/issues/2633",
  "id": 989193997,
  "node_id": "MDU6SXNzdWU5ODkxOTM5OTc=",
  "number": 2633,
  "title": "eth_getTransactionReceipt returns null",
  "user": {
    "login": "vladmolkov",
    "id": 47661999,
    "node_id": "MDQ6VXNlcjQ3NjYxOTk5",
    "avatar_url": "https://avatars.githubusercontent.com/u/47661999?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/vladmolkov",
    "html_url": "https://github.com/vladmolkov",
    "followers_url": "https://api.github.com/users/vladmolkov/followers",
    "following_url": "https://api.github.com/users/vladmolkov/following{/other_user}",
    "gists_url": "https://api.github.com/users/vladmolkov/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/vladmolkov/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/vladmolkov/subscriptions",
    "organizations_url": "https://api.github.com/users/vladmolkov/orgs",
    "repos_url": "https://api.github.com/users/vladmolkov/repos",
    "events_url": "https://api.github.com/users/vladmolkov/events{/privacy}",
    "received_events_url": "https://api.github.com/users/vladmolkov/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 14,
  "created_at": "2021-09-06T13:48:10Z",
  "updated_at": "2021-12-15T11:56:41Z",
  "closed_at": "2021-10-05T05:19:37Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "#### System information\r\n\r\nErigon version: `erigon version 2021.08.5-alpha`\r\n\r\nOS & Version: `Ubuntu 20.04.3 LTS`\r\n\r\nCommit hash : \r\n\r\n#### Expected behaviour\r\neth_getTransactionReceipt method returns the receipt of [certain transaction](https://goerli.etherscan.io/tx/0x8a6a190f828d65a1b713bdc51b6a4511c943f048522005c947711c7b6de3148f) how OE does it\r\n\r\n#### Actual behaviour\r\neth_getTransactionReceipt method returns null\r\n\r\n#### Steps to reproduce the behaviour\r\n```\r\n# run erigon and rpcdaemon\r\nerigon --chain=goerli --maxpeers=30 --datadir=/data --private.api.addr=127.0.0.1:9090\r\nrpcdaemon --datadir=/data --private.api.addr=127.0.0.1:9090 --http.addr=0.0.0.0 --http.port=8080 --http.api=eth,erigon,web3,net,debug,trace,txpool,shh,db --http.vhosts=*\r\n\r\n# make request\r\ncurl --data '{\"jsonrpc\":\"2.0\",\"id\":370925,\"method\":\"eth_getTransactionReceipt\",\"params\":[\"0x8a6a190f828d65a1b713bdc51b6a4511c943f048522005c947711c7b6de3148f\"]}' -H \"Content-Type: application/json\" -X POST localhost:8080\r\n{\"jsonrpc\":\"2.0\",\"id\":370925,\"result\":null}\r\n\r\n# meanwhile OE  returns receipt\r\ncurl --data '{\"jsonrpc\":\"2.0\",\"id\":370925,\"method\":\"eth_getTransactionReceipt\",\"params\":[\"0x8a6a190f828d65a1b713bdc51b6a4511c943f048522005c947711c7b6de3148f\"]}' -H \"Content-Type: application/json\" -X POST localhost:8080\r\n{\"jsonrpc\":\"2.0\",\"result\":{\"blockHash\":\"0xdedd0238eee2ad017bfb6b617ed126a6c08467d2859fd360bbc665174846da67\",\"blockNumber\":\"0x5320a6\",\"contractAddress\":null,\"cumulativeGasUsed\":\"0x21bee\",\"effectiveGasPrice\":\"0x12a05f200\",\"from\":\"0x65b4a0f6d44dc63848def955493a10d0aaf9ffad\",\"gasUsed\":\"0x15259\",\"logs\":[{\"address\":\"0x5e6229f2d4d977d20a50219e521de6dd694d45cc\",\"blockHash\":\"0xdedd0238eee2ad017bfb6b617ed126a6c08467d2859fd360bbc665174846da67\",\"blockNumber\":\"0x5320a6\",\"data\":\"0x4b1cc56c4a5aeabf4f6d1d81bfc7b90502f844a24693d5d11f53e24cebf21d66\",\"logIndex\":\"0x1\",\"removed\":false,\"topics\":[\"0x9866f8ddfe70bb512b2f2b28b49d4017c43f7ba775f1a20c61c13eea8cdac111\"],\"transactionHash\":\"0x8a6a190f828d65a1b713bdc51b6a4511c943f048522005c947711c7b6de3148f\",\"transactionIndex\":\"0x1\",\"transactionLogIndex\":\"0x0\",\"type\":\"mined\"},{\"address\":\"0x5e6229f2d4d977d20a50219e521de6dd694d45cc\",\"blockHash\":\"0xdedd0238eee2ad017bfb6b617ed126a6c08467d2859fd360bbc665174846da67\",\"blockNumber\":\"0x5320a6\",\"data\":\"0x00000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000c0000000000000000000000000000000000000000000000000000000000000022\",\"logIndex\":\"0x2\",\"removed\":false,\"topics\":[\"0x4264ac208b5fde633ccdd42e0f12c3d6d443a4f3779bbf886925b94665b63a22\",\"0x047291e251fbe8bbd4e0384552ec6bda047df3212e6166c7302e2f980ed0281c\",\"0x0000000000000000000000004d6aa5fee627539a0eeaacae945bdd54c9bf959c\"],\"transactionHash\":\"0x8a6a190f828d65a1b713bdc51b6a4511c943f048522005c947711c7b6de3148f\",\"transactionIndex\":\"0x1\",\"transactionLogIndex\":\"0x1\",\"type\":\"mined\"},{\"address\":\"0x5e6229f2d4d977d20a50219e521de6dd694d45cc\",\"blockHash\":\"0xdedd0238eee2ad017bfb6b617ed126a6c08467d2859fd360bbc665174846da67\",\"blockNumber\":\"0x5320a6\",\"data\":\"0x0078cda79a692abf5bdc015381b58190be3579d87a9eaf7fb6d23f4138dd75380000000000000000000000000000000000000000000000000000000000001723\",\"logIndex\":\"0x3\",\"removed\":false,\"topics\":[\"0xe8012213bb931d3efa0a954cfb0d7b75f2a5e2358ba5f7d3edfb0154f6e7a568\"],\"transactionHash\":\"0x8a6a190f828d65a1b713bdc51b6a4511c943f048522005c947711c7b6de3148f\",\"transactionIndex\":\"0x1\",\"transactionLogIndex\":\"0x2\",\"type\":\"mined\"}],\"logsBloom\":\"0x00000000010000000000000000000000000010000000000000000000000000004000000000000000000000000000000800000000000000000080000000000040000000000000000000000000004000000000000000000000000010000000000000000010000000000000400000000000000000000000000000000000000000000000000000420000000000000000000000400000000000000000000000000000000000000000000008000000000000000000000000000000000000000000400000000000000000000000000000000000000000000000000000200000000000000800000000000000020000000000000000000000000000000000000000000000\",\"status\":\"0x1\",\"to\":\"0x5e6229f2d4d977d20a50219e521de6dd694d45cc\",\"transactionHash\":\"0x8a6a190f828d65a1b713bdc51b6a4511c943f048522005c947711c7b6de3148f\",\"transactionIndex\":\"0x1\"},\"id\":370925}\r\n```\r\n\r\n#### Backtrace\r\n\r\n````\r\n[backtrace]\r\n````\r\n",
  "closed_by": {
    "login": "AskAlexSharov",
    "id": 46885206,
    "node_id": "MDQ6VXNlcjQ2ODg1MjA2",
    "avatar_url": "https://avatars.githubusercontent.com/u/46885206?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/AskAlexSharov",
    "html_url": "https://github.com/AskAlexSharov",
    "followers_url": "https://api.github.com/users/AskAlexSharov/followers",
    "following_url": "https://api.github.com/users/AskAlexSharov/following{/other_user}",
    "gists_url": "https://api.github.com/users/AskAlexSharov/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/AskAlexSharov/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/AskAlexSharov/subscriptions",
    "organizations_url": "https://api.github.com/users/AskAlexSharov/orgs",
    "repos_url": "https://api.github.com/users/AskAlexSharov/repos",
    "events_url": "https://api.github.com/users/AskAlexSharov/events{/privacy}",
    "received_events_url": "https://api.github.com/users/AskAlexSharov/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/2633/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/2633/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/914510054",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/2633#issuecomment-914510054",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/2633",
    "id": 914510054,
    "node_id": "IC_kwDOC0FsAM42glDm",
    "user": {
      "login": "mmgen",
      "id": 6071028,
      "node_id": "MDQ6VXNlcjYwNzEwMjg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6071028?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mmgen",
      "html_url": "https://github.com/mmgen",
      "followers_url": "https://api.github.com/users/mmgen/followers",
      "following_url": "https://api.github.com/users/mmgen/following{/other_user}",
      "gists_url": "https://api.github.com/users/mmgen/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mmgen/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mmgen/subscriptions",
      "organizations_url": "https://api.github.com/users/mmgen/orgs",
      "repos_url": "https://api.github.com/users/mmgen/repos",
      "events_url": "https://api.github.com/users/mmgen/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mmgen/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-09-07T18:00:42Z",
    "updated_at": "2021-09-07T18:00:42Z",
    "author_association": "NONE",
    "body": "Are you certain the transaction was already mined when you made the first call?\r\n\r\neth_getTransactionReceipt returns null or zero if transaction is still pending, that's it's normal behavior.",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/914510054/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/915027498",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/2633#issuecomment-915027498",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/2633",
    "id": 915027498,
    "node_id": "IC_kwDOC0FsAM42ijYq",
    "user": {
      "login": "vladmolkov",
      "id": 47661999,
      "node_id": "MDQ6VXNlcjQ3NjYxOTk5",
      "avatar_url": "https://avatars.githubusercontent.com/u/47661999?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vladmolkov",
      "html_url": "https://github.com/vladmolkov",
      "followers_url": "https://api.github.com/users/vladmolkov/followers",
      "following_url": "https://api.github.com/users/vladmolkov/following{/other_user}",
      "gists_url": "https://api.github.com/users/vladmolkov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vladmolkov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vladmolkov/subscriptions",
      "organizations_url": "https://api.github.com/users/vladmolkov/orgs",
      "repos_url": "https://api.github.com/users/vladmolkov/repos",
      "events_url": "https://api.github.com/users/vladmolkov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vladmolkov/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-09-08T08:24:44Z",
    "updated_at": "2021-09-08T08:24:44Z",
    "author_association": "NONE",
    "body": "Yes, transaction was mined in block 5447846 (0xdedd0238eee2ad017bfb6b617ed126a6c08467d2859fd360bbc665174846da67), currently latest block on my node is 5461190.\r\nI can see txid in result of eth_getBlockByHash, but eth_getTransactionReceipt still returns null\r\n```\r\n# curl -s -X POST --data '{\"jsonrpc\":\"2.0\",\"method\":\"eth_blockNumber\",\"params\":[],\"id\":83}' -H \"Content-Type: application/json\" -X POST localhost:8080 | jq -r '.result' | xargs printf \"%d\\n\"\r\n5461190\r\n# curl -s -H 'content-type: application/json' --data-binary '{\"jsonrpc\":\"2.0\",\"method\":\"eth_getBlockByHash\",\"params\":[\"0xdedd0238eee2ad017bfb6b617ed126a6c08467d2859fd360bbc665174846da67\", false],\"id\":1}' localhost:8080 | jq '.result | .transactions | .[] | select(. == \"0x8a6a190f828d65a1b713bdc51b6a4511c943f048522005c947711c7b6de3148f\")'\r\n\"0x8a6a190f828d65a1b713bdc51b6a4511c943f048522005c947711c7b6de3148f\"\r\n# curl --data '{\"jsonrpc\":\"2.0\",\"id\":370925,\"method\":\"eth_getTransactionReceipt\",\"params\":[\"0x8a6a190f828d65a1b713bdc51b6a4511c943f048522005c947711c7b6de3148f\"]}' -H \"Content-Type: application/json\" -X POST localhost:8080\r\n{\"jsonrpc\":\"2.0\",\"id\":370925,\"result\":null}\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/915027498/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/918480166",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/2633#issuecomment-918480166",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/2633",
    "id": 918480166,
    "node_id": "IC_kwDOC0FsAM42vuUm",
    "user": {
      "login": "gelfand",
      "id": 45895290,
      "node_id": "MDQ6VXNlcjQ1ODk1Mjkw",
      "avatar_url": "https://avatars.githubusercontent.com/u/45895290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gelfand",
      "html_url": "https://github.com/gelfand",
      "followers_url": "https://api.github.com/users/gelfand/followers",
      "following_url": "https://api.github.com/users/gelfand/following{/other_user}",
      "gists_url": "https://api.github.com/users/gelfand/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gelfand/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gelfand/subscriptions",
      "organizations_url": "https://api.github.com/users/gelfand/orgs",
      "repos_url": "https://api.github.com/users/gelfand/repos",
      "events_url": "https://api.github.com/users/gelfand/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gelfand/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-09-13T18:51:21Z",
    "updated_at": "2021-09-13T18:51:21Z",
    "author_association": "CONTRIBUTOR",
    "body": "> Erigon version: `erigon version 2021.08.5-alpha`\r\n\r\nPlease update to the version from the devel branch.\r\n\r\n```\r\n◆ erigon ❯❯❯ curl --data '{\"jsonrpc\":\"2.0\",\"id\":370925,\"method\":\"eth_getTransactionReceipt\",\"params\":[\"0x8a6a190f828d65a1b713bdc51b6a4511c943f048522005c947711c7b6de3148f\"]}' -H \"Content-Type: application/json\" -X POST localhost:8545\r\n{\"jsonrpc\":\"2.0\",\"id\":370925,\"result\":{\"blockHash\":\"0xdedd0238eee2ad017bfb6b617ed126a6c08467d2859fd360bbc665174846da67\",\"blockNumber\":\"0x5320a6\",\"contractAddress\":null,\"cumulativeGasUsed\":\"0x21bee\",\"effectiveGasPrice\":\"0x12a05f200\",\"from\":\"0x65b4a0f6d44dc63848def955493a10d0aaf9ffad\",\"gasUsed\":\"0x15259\",\"logs\":[{\"address\":\"0x5e6229f2d4d977d20a50219e521de6dd694d45cc\",\"topics\":[\"0x9866f8ddfe70bb512b2f2b28b49d4017c43f7ba775f1a20c61c13eea8cdac111\"],\"data\":\"0x4b1cc56c4a5aeabf4f6d1d81bfc7b90502f844a24693d5d11f53e24cebf21d66\",\"blockNumber\":\"0x5320a6\",\"transactionHash\":\"0x8a6a190f828d65a1b713bdc51b6a4511c943f048522005c947711c7b6de3148f\",\"transactionIndex\":\"0x1\",\"blockHash\":\"0xdedd0238eee2ad017bfb6b617ed126a6c08467d2859fd360bbc665174846da67\",\"logIndex\":\"0x1\",\"removed\":false},{\"address\":\"0x5e6229f2d4d977d20a50219e521de6dd694d45cc\",\"topics\":[\"0x4264ac208b5fde633ccdd42e0f12c3d6d443a4f3779bbf886925b94665b63a22\",\"0x047291e251fbe8bbd4e0384552ec6bda047df3212e6166c7302e2f980ed0281c\",\"0x0000000000000000000000004d6aa5fee627539a0eeaacae945bdd54c9bf959c\"],\"data\":\"0x00000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000c0000000000000000000000000000000000000000000000000000000000000022\",\"blockNumber\":\"0x5320a6\",\"transactionHash\":\"0x8a6a190f828d65a1b713bdc51b6a4511c943f048522005c947711c7b6de3148f\",\"transactionIndex\":\"0x1\",\"blockHash\":\"0xdedd0238eee2ad017bfb6b617ed126a6c08467d2859fd360bbc665174846da67\",\"logIndex\":\"0x2\",\"removed\":false},{\"address\":\"0x5e6229f2d4d977d20a50219e521de6dd694d45cc\",\"topics\":[\"0xe8012213bb931d3efa0a954cfb0d7b75f2a5e2358ba5f7d3edfb0154f6e7a568\"],\"data\":\"0x0078cda79a692abf5bdc015381b58190be3579d87a9eaf7fb6d23f4138dd75380000000000000000000000000000000000000000000000000000000000001723\",\"blockNumber\":\"0x5320a6\",\"transactionHash\":\"0x8a6a190f828d65a1b713bdc51b6a4511c943f048522005c947711c7b6de3148f\",\"transactionIndex\":\"0x1\",\"blockHash\":\"0xdedd0238eee2ad017bfb6b617ed126a6c08467d2859fd360bbc665174846da67\",\"logIndex\":\"0x3\",\"removed\":false}],\"logsBloom\":\"0x00000000010000000000000000000000000010000000000000000000000000004000000000000000000000000000000800000000000000000080000000000040000000000000000000000000004000000000000000000000000010000000000000000010000000000000400000000000000000000000000000000000000000000000000000420000000000000000000000400000000000000000000000000000000000000000000008000000000000000000000000000000000000000000400000000000000000000000000000000000000000000000000000200000000000000800000000000000020000000000000000000000000000000000000000000000\",\"status\":\"0x1\",\"to\":\"0x5e6229f2d4d977d20a50219e521de6dd694d45cc\",\"transactionHash\":\"0x8a6a190f828d65a1b713bdc51b6a4511c943f048522005c947711c7b6de3148f\",\"transactionIndex\":\"0x1\",\"type\":\"0x0\"}}```",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/918480166/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/918984693",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/2633#issuecomment-918984693",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/2633",
    "id": 918984693,
    "node_id": "IC_kwDOC0FsAM42xpf1",
    "user": {
      "login": "vladmolkov",
      "id": 47661999,
      "node_id": "MDQ6VXNlcjQ3NjYxOTk5",
      "avatar_url": "https://avatars.githubusercontent.com/u/47661999?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vladmolkov",
      "html_url": "https://github.com/vladmolkov",
      "followers_url": "https://api.github.com/users/vladmolkov/followers",
      "following_url": "https://api.github.com/users/vladmolkov/following{/other_user}",
      "gists_url": "https://api.github.com/users/vladmolkov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vladmolkov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vladmolkov/subscriptions",
      "organizations_url": "https://api.github.com/users/vladmolkov/orgs",
      "repos_url": "https://api.github.com/users/vladmolkov/repos",
      "events_url": "https://api.github.com/users/vladmolkov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vladmolkov/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-09-14T09:35:49Z",
    "updated_at": "2021-09-14T09:35:49Z",
    "author_association": "NONE",
    "body": "Still returns null using: `Build info                               git_branch=devel git_tag=v2021.09.02 git_commit=ced5965ef798e1975064123377289b7004f89567`\r\nMaybe I should deploy new erigon instance and make it fully synced with \"fresh\" erigon version",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/918984693/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/919083658",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/2633#issuecomment-919083658",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/2633",
    "id": 919083658,
    "node_id": "IC_kwDOC0FsAM42yBqK",
    "user": {
      "login": "AskAlexSharov",
      "id": 46885206,
      "node_id": "MDQ6VXNlcjQ2ODg1MjA2",
      "avatar_url": "https://avatars.githubusercontent.com/u/46885206?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/AskAlexSharov",
      "html_url": "https://github.com/AskAlexSharov",
      "followers_url": "https://api.github.com/users/AskAlexSharov/followers",
      "following_url": "https://api.github.com/users/AskAlexSharov/following{/other_user}",
      "gists_url": "https://api.github.com/users/AskAlexSharov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/AskAlexSharov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/AskAlexSharov/subscriptions",
      "organizations_url": "https://api.github.com/users/AskAlexSharov/orgs",
      "repos_url": "https://api.github.com/users/AskAlexSharov/repos",
      "events_url": "https://api.github.com/users/AskAlexSharov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/AskAlexSharov/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-09-14T12:02:06Z",
    "updated_at": "2021-09-14T12:02:06Z",
    "author_association": "COLLABORATOR",
    "body": "@vladmolkov if it’s easy for you",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/919083658/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/919147320",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/2633#issuecomment-919147320",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/2633",
    "id": 919147320,
    "node_id": "IC_kwDOC0FsAM42yRM4",
    "user": {
      "login": "vladmolkov",
      "id": 47661999,
      "node_id": "MDQ6VXNlcjQ3NjYxOTk5",
      "avatar_url": "https://avatars.githubusercontent.com/u/47661999?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vladmolkov",
      "html_url": "https://github.com/vladmolkov",
      "followers_url": "https://api.github.com/users/vladmolkov/followers",
      "following_url": "https://api.github.com/users/vladmolkov/following{/other_user}",
      "gists_url": "https://api.github.com/users/vladmolkov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vladmolkov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vladmolkov/subscriptions",
      "organizations_url": "https://api.github.com/users/vladmolkov/orgs",
      "repos_url": "https://api.github.com/users/vladmolkov/repos",
      "events_url": "https://api.github.com/users/vladmolkov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vladmolkov/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-09-14T13:23:12Z",
    "updated_at": "2021-09-14T13:23:12Z",
    "author_association": "NONE",
    "body": "I've started syncing new goerli instance builded from devel branch (ced5965e), soon i'll see how it works on new instance, but i'm worried about situation on my current instance, could it be data inconsistency or something like that?",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/919147320/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/919161518",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/2633#issuecomment-919161518",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/2633",
    "id": 919161518,
    "node_id": "IC_kwDOC0FsAM42yUqu",
    "user": {
      "login": "AskAlexSharov",
      "id": 46885206,
      "node_id": "MDQ6VXNlcjQ2ODg1MjA2",
      "avatar_url": "https://avatars.githubusercontent.com/u/46885206?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/AskAlexSharov",
      "html_url": "https://github.com/AskAlexSharov",
      "followers_url": "https://api.github.com/users/AskAlexSharov/followers",
      "following_url": "https://api.github.com/users/AskAlexSharov/following{/other_user}",
      "gists_url": "https://api.github.com/users/AskAlexSharov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/AskAlexSharov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/AskAlexSharov/subscriptions",
      "organizations_url": "https://api.github.com/users/AskAlexSharov/orgs",
      "repos_url": "https://api.github.com/users/AskAlexSharov/repos",
      "events_url": "https://api.github.com/users/AskAlexSharov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/AskAlexSharov/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-09-14T13:40:07Z",
    "updated_at": "2021-09-14T13:40:07Z",
    "author_association": "COLLABORATOR",
    "body": "hard to say without reproduce. it can return null in many cases - for example if block header missed, etc... ",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/919161518/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/920716394",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/2633#issuecomment-920716394",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/2633",
    "id": 920716394,
    "node_id": "IC_kwDOC0FsAM424QRq",
    "user": {
      "login": "vladmolkov",
      "id": 47661999,
      "node_id": "MDQ6VXNlcjQ3NjYxOTk5",
      "avatar_url": "https://avatars.githubusercontent.com/u/47661999?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vladmolkov",
      "html_url": "https://github.com/vladmolkov",
      "followers_url": "https://api.github.com/users/vladmolkov/followers",
      "following_url": "https://api.github.com/users/vladmolkov/following{/other_user}",
      "gists_url": "https://api.github.com/users/vladmolkov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vladmolkov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vladmolkov/subscriptions",
      "organizations_url": "https://api.github.com/users/vladmolkov/orgs",
      "repos_url": "https://api.github.com/users/vladmolkov/repos",
      "events_url": "https://api.github.com/users/vladmolkov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vladmolkov/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-09-16T08:55:05Z",
    "updated_at": "2021-09-16T08:55:05Z",
    "author_association": "NONE",
    "body": "Ok, it works fine on new goerli instance, but my original issue look like serious problem related to data inconsistency, i mean it's definitely not expected behavior when erigon node keeps working with inconsistent database.",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/920716394/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/920741202",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/2633#issuecomment-920741202",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/2633",
    "id": 920741202,
    "node_id": "IC_kwDOC0FsAM424WVS",
    "user": {
      "login": "AskAlexSharov",
      "id": 46885206,
      "node_id": "MDQ6VXNlcjQ2ODg1MjA2",
      "avatar_url": "https://avatars.githubusercontent.com/u/46885206?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/AskAlexSharov",
      "html_url": "https://github.com/AskAlexSharov",
      "followers_url": "https://api.github.com/users/AskAlexSharov/followers",
      "following_url": "https://api.github.com/users/AskAlexSharov/following{/other_user}",
      "gists_url": "https://api.github.com/users/AskAlexSharov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/AskAlexSharov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/AskAlexSharov/subscriptions",
      "organizations_url": "https://api.github.com/users/AskAlexSharov/orgs",
      "repos_url": "https://api.github.com/users/AskAlexSharov/repos",
      "events_url": "https://api.github.com/users/AskAlexSharov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/AskAlexSharov/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-09-16T09:30:37Z",
    "updated_at": "2021-09-16T09:30:37Z",
    "author_association": "COLLABORATOR",
    "body": "maybe some already fixed bug. \r\n\r\nyou can investigate it if you like: collect list of all versions of erigon you used with that db, go `cmd/rpcdaemon/commands/eth_receipts.go:GetTransactionReceipt` and check what exactly piece of data missed - there are ReadTxLookupEntry and ReadBlockByNumberWithSenders which can return nil, also ReadBlockByNumberWithSenders internally has couple reasons why nil can be returned. \r\n\r\nWe can't return exact reason by API, because we must maintain compatibility with Geth - and it does return nil if something missed, many existing software already rely on this behavior. For exampe: https://github.com/ledgerwatch/erigon/issues/1645 \r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/920741202/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/921656329",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/2633#issuecomment-921656329",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/2633",
    "id": 921656329,
    "node_id": "IC_kwDOC0FsAM4271wJ",
    "user": {
      "login": "vladmolkov",
      "id": 47661999,
      "node_id": "MDQ6VXNlcjQ3NjYxOTk5",
      "avatar_url": "https://avatars.githubusercontent.com/u/47661999?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vladmolkov",
      "html_url": "https://github.com/vladmolkov",
      "followers_url": "https://api.github.com/users/vladmolkov/followers",
      "following_url": "https://api.github.com/users/vladmolkov/following{/other_user}",
      "gists_url": "https://api.github.com/users/vladmolkov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vladmolkov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vladmolkov/subscriptions",
      "organizations_url": "https://api.github.com/users/vladmolkov/orgs",
      "repos_url": "https://api.github.com/users/vladmolkov/repos",
      "events_url": "https://api.github.com/users/vladmolkov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vladmolkov/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-09-17T09:37:11Z",
    "updated_at": "2021-09-17T09:37:11Z",
    "author_association": "NONE",
    "body": "It looks like ReadTxLookupEntry returns nil instead of block number (also no errors returned).\r\nI used `2021.08.01-alpha` and `2021.08.5-alpha` on that db before problem occurred, block number 5447846 was synced using `2021.08.5-alpha`.",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/921656329/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/922199157",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/2633#issuecomment-922199157",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/2633",
    "id": 922199157,
    "node_id": "IC_kwDOC0FsAM4296R1",
    "user": {
      "login": "AskAlexSharov",
      "id": 46885206,
      "node_id": "MDQ6VXNlcjQ2ODg1MjA2",
      "avatar_url": "https://avatars.githubusercontent.com/u/46885206?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/AskAlexSharov",
      "html_url": "https://github.com/AskAlexSharov",
      "followers_url": "https://api.github.com/users/AskAlexSharov/followers",
      "following_url": "https://api.github.com/users/AskAlexSharov/following{/other_user}",
      "gists_url": "https://api.github.com/users/AskAlexSharov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/AskAlexSharov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/AskAlexSharov/subscriptions",
      "organizations_url": "https://api.github.com/users/AskAlexSharov/orgs",
      "repos_url": "https://api.github.com/users/AskAlexSharov/repos",
      "events_url": "https://api.github.com/users/AskAlexSharov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/AskAlexSharov/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-09-18T05:40:01Z",
    "updated_at": "2021-09-18T05:40:01Z",
    "author_association": "COLLABORATOR",
    "body": "If you get transactions from blocks around this block  - can you get receipt of them? ",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/922199157/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/922744510",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/2633#issuecomment-922744510",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/2633",
    "id": 922744510,
    "node_id": "IC_kwDOC0FsAM42__a-",
    "user": {
      "login": "vladmolkov",
      "id": 47661999,
      "node_id": "MDQ6VXNlcjQ3NjYxOTk5",
      "avatar_url": "https://avatars.githubusercontent.com/u/47661999?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vladmolkov",
      "html_url": "https://github.com/vladmolkov",
      "followers_url": "https://api.github.com/users/vladmolkov/followers",
      "following_url": "https://api.github.com/users/vladmolkov/following{/other_user}",
      "gists_url": "https://api.github.com/users/vladmolkov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vladmolkov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vladmolkov/subscriptions",
      "organizations_url": "https://api.github.com/users/vladmolkov/orgs",
      "repos_url": "https://api.github.com/users/vladmolkov/repos",
      "events_url": "https://api.github.com/users/vladmolkov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vladmolkov/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-09-20T08:58:48Z",
    "updated_at": "2021-09-20T08:58:48Z",
    "author_association": "NONE",
    "body": "I've got something like this:\r\n5447845 - all receipts received\r\n5447846 - only one of five receipts received (0xd8f2836c015bec6dfd2cbe0f09601ffb54c752fced217adfa21ae08d9d6a47fb)\r\n5447847 - all receipts received\r\n5447848 - all receipts received",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/922744510/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/934074385",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/2633#issuecomment-934074385",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/2633",
    "id": 934074385,
    "node_id": "IC_kwDOC0FsAM43rNgR",
    "user": {
      "login": "AskAlexSharov",
      "id": 46885206,
      "node_id": "MDQ6VXNlcjQ2ODg1MjA2",
      "avatar_url": "https://avatars.githubusercontent.com/u/46885206?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/AskAlexSharov",
      "html_url": "https://github.com/AskAlexSharov",
      "followers_url": "https://api.github.com/users/AskAlexSharov/followers",
      "following_url": "https://api.github.com/users/AskAlexSharov/following{/other_user}",
      "gists_url": "https://api.github.com/users/AskAlexSharov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/AskAlexSharov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/AskAlexSharov/subscriptions",
      "organizations_url": "https://api.github.com/users/AskAlexSharov/orgs",
      "repos_url": "https://api.github.com/users/AskAlexSharov/repos",
      "events_url": "https://api.github.com/users/AskAlexSharov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/AskAlexSharov/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-10-05T05:19:37Z",
    "updated_at": "2021-10-05T05:19:37Z",
    "author_association": "COLLABORATOR",
    "body": "closing for now - because probably we will not debug further - easier to re-sync than figure out what combination of which versions and evens bring us to this point. If you will have more info or will have new cases after re-sync - feel free to reopen this issue or create new one. ",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/934074385/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/994718906",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/2633#issuecomment-994718906",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/2633",
    "id": 994718906,
    "node_id": "IC_kwDOC0FsAM47SjS6",
    "user": {
      "login": "tholcman",
      "id": 791679,
      "node_id": "MDQ6VXNlcjc5MTY3OQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/791679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tholcman",
      "html_url": "https://github.com/tholcman",
      "followers_url": "https://api.github.com/users/tholcman/followers",
      "following_url": "https://api.github.com/users/tholcman/following{/other_user}",
      "gists_url": "https://api.github.com/users/tholcman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tholcman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tholcman/subscriptions",
      "organizations_url": "https://api.github.com/users/tholcman/orgs",
      "repos_url": "https://api.github.com/users/tholcman/repos",
      "events_url": "https://api.github.com/users/tholcman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tholcman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-12-15T11:54:52Z",
    "updated_at": "2021-12-15T11:56:41Z",
    "author_association": "NONE",
    "body": "Hi,\r\n\r\nwe are also getting `\"result\": null` on ethereum mainnet, on block number 13790465, which is now 2 days 22 hrs old. The block has 434 transactions, our geth nodes, as well as Infura and other public providers, returns proper receipt for all transactions while all our Erigon nodes return receipt only for 128 transactions (out of 434). `eth_getBlockByNumber` contains all transactions, block hash, everything else seems ok. but:\r\n\r\n```\r\n$ curl -X POST -H 'content-type:application/json' --data '{\"jsonrpc\":\"2.0\",\"method\":\"eth_getTransactionReceipt\",\"params\":[\"0x7a3340105f9eeade204ef41e0933ecf7486f87ef1227fc17312f015543f5206c\"],\"id\":1}' http://127.0.0.1:8545\r\n{\"jsonrpc\":\"2.0\",\"id\":1,\"result\":null}\r\n```\r\n\r\nWe have 3 erigon nodes with this weird behavior.\r\nWe are running\r\n```\r\n$ erigon --version\r\nerigon version 2021.12.1-beta\r\n```\r\nin docker `thorax/erigon:v2021.12.01`\r\n\r\nand as we need  archive mode, sync from scratch would be painful.",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/994718906/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
