{
  "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/3299",
  "repository_url": "https://api.github.com/repos/ledgerwatch/erigon",
  "labels_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/3299/labels{/name}",
  "comments_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/3299/comments",
  "events_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/3299/events",
  "html_url": "https://github.com/ledgerwatch/erigon/issues/3299",
  "id": 1108065393,
  "node_id": "I_kwDOC0FsAM5CC7xx",
  "number": 3299,
  "title": "3.3TB disk usage?",
  "user": {
    "login": "tbocek",
    "id": 1283564,
    "node_id": "MDQ6VXNlcjEyODM1NjQ=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1283564?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/tbocek",
    "html_url": "https://github.com/tbocek",
    "followers_url": "https://api.github.com/users/tbocek/followers",
    "following_url": "https://api.github.com/users/tbocek/following{/other_user}",
    "gists_url": "https://api.github.com/users/tbocek/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/tbocek/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/tbocek/subscriptions",
    "organizations_url": "https://api.github.com/users/tbocek/orgs",
    "repos_url": "https://api.github.com/users/tbocek/repos",
    "events_url": "https://api.github.com/users/tbocek/events{/privacy}",
    "received_events_url": "https://api.github.com/users/tbocek/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 16,
  "created_at": "2022-01-19T12:52:43Z",
  "updated_at": "2022-03-09T02:03:07Z",
  "closed_at": "2022-03-08T10:39:11Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "I'm running a node and the disk usage is currently at 3.3TB. The numbers on the github site are lower, so either they should be updated, or my node is not working correctly:\r\n\r\n```\r\n-rw-r--r-- 1 user user 3298534883328 Jan 19 12:44 mdbx.dat\r\n-rw-r--r-- 1 user user       1028096 Jan 19 12:46 mdbx.lck\r\n```\r\n",
  "closed_by": {
    "login": "tbocek",
    "id": 1283564,
    "node_id": "MDQ6VXNlcjEyODM1NjQ=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1283564?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/tbocek",
    "html_url": "https://github.com/tbocek",
    "followers_url": "https://api.github.com/users/tbocek/followers",
    "following_url": "https://api.github.com/users/tbocek/following{/other_user}",
    "gists_url": "https://api.github.com/users/tbocek/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/tbocek/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/tbocek/subscriptions",
    "organizations_url": "https://api.github.com/users/tbocek/orgs",
    "repos_url": "https://api.github.com/users/tbocek/repos",
    "events_url": "https://api.github.com/users/tbocek/events{/privacy}",
    "received_events_url": "https://api.github.com/users/tbocek/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/3299/reactions",
    "total_count": 1,
    "+1": 1,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/3299/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1016444368",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/3299#issuecomment-1016444368",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/3299",
    "id": 1016444368,
    "node_id": "IC_kwDOC0FsAM48lbXQ",
    "user": {
      "login": "AskAlexSharov",
      "id": 46885206,
      "node_id": "MDQ6VXNlcjQ2ODg1MjA2",
      "avatar_url": "https://avatars.githubusercontent.com/u/46885206?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/AskAlexSharov",
      "html_url": "https://github.com/AskAlexSharov",
      "followers_url": "https://api.github.com/users/AskAlexSharov/followers",
      "following_url": "https://api.github.com/users/AskAlexSharov/following{/other_user}",
      "gists_url": "https://api.github.com/users/AskAlexSharov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/AskAlexSharov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/AskAlexSharov/subscriptions",
      "organizations_url": "https://api.github.com/users/AskAlexSharov/orgs",
      "repos_url": "https://api.github.com/users/AskAlexSharov/repos",
      "events_url": "https://api.github.com/users/AskAlexSharov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/AskAlexSharov/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-01-19T13:02:30Z",
    "updated_at": "2022-01-19T13:02:30Z",
    "author_association": "COLLABORATOR",
    "body": "erigon version? is it mainnet? \r\nshow:\r\n```\r\nmake db-tools \r\n./build/bin/mdbx_stat -ef <your_datadir>/chaindata\r\n./build/bin/mdbx_stat -a <your_datadir>/chaindata\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1016444368/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1016463763",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/3299#issuecomment-1016463763",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/3299",
    "id": 1016463763,
    "node_id": "IC_kwDOC0FsAM48lgGT",
    "user": {
      "login": "tbocek",
      "id": 1283564,
      "node_id": "MDQ6VXNlcjEyODM1NjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1283564?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tbocek",
      "html_url": "https://github.com/tbocek",
      "followers_url": "https://api.github.com/users/tbocek/followers",
      "following_url": "https://api.github.com/users/tbocek/following{/other_user}",
      "gists_url": "https://api.github.com/users/tbocek/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tbocek/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tbocek/subscriptions",
      "organizations_url": "https://api.github.com/users/tbocek/orgs",
      "repos_url": "https://api.github.com/users/tbocek/repos",
      "events_url": "https://api.github.com/users/tbocek/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tbocek/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-01-19T13:25:31Z",
    "updated_at": "2022-01-19T13:25:31Z",
    "author_association": "CONTRIBUTOR",
    "body": "I'm running mainnet with an image from docker hub (thorax/erigon:stable)\r\nBuild info, git_branch=stable, git_tag=v2022.01.01, git_commit=765d46cab6ae2adb3d4967465746390f30ea85b7\r\n\r\n./build/bin/mdbx_stat -ef <your_datadir>/chaindata\r\n```\r\nRunning for /scratch/erigon/chaindata/...\r\nEnvironment Info\r\n  Pagesize: 4096\r\n  Dynamic datafile: 12288..3298534883328 bytes (+2147483648/-4294967296), 3..805306368 pages (+524288/-1048576)\r\n  Current mapsize: 3298534883328 bytes, 805306368 pages \r\n  Current datafile: 3298534883328 bytes, 805306368 pages\r\n  Last transaction ID: 472863\r\n  Latter reader transaction ID: 472863 (0)\r\n  Max readers: 118\r\n  Number of reader slots uses: 1\r\nGarbage Collection\r\n  Pagesize: 4096\r\n  Tree depth: 2\r\n  Branch pages: 1\r\n  Leaf pages: 2\r\n  Overflow pages: 344083\r\n  Entries: 271\r\nPage Usage\r\n  Total: 805306368 100%\r\n  Backed: 805306368 100.0%\r\n  Allocated: 805303731 100.0%\r\n  Remained: 2637 0.0%\r\n  Used: 452965443 56.2%\r\n  GC: 352338288 43.8%\r\n  Retained: 345910 0.0%\r\n  Reclaimable: 351992378 43.7%\r\n  Available: 351995015 43.7%\r\nStatus of Main DB\r\n  Pagesize: 4096\r\n  Tree depth: 1\r\n  Branch pages: 0\r\n  Leaf pages: 1\r\n  Overflow pages: 0\r\n  Entries: 44\r\n```\r\n./build/bin/mdbx_stat -a <your_datadir>/chaindata\r\n```\r\nRunning for /scratch/erigon/chaindata/...\r\nStatus of Main DB\r\n  Pagesize: 4096\r\n  Tree depth: 1\r\n  Branch pages: 0\r\n  Leaf pages: 1\r\n  Overflow pages: 0\r\n  Entries: 44\r\nStatus of AccountChangeSet\r\n  Pagesize: 4096\r\n  Tree depth: 4\r\n  Branch pages: 8016630\r\n  Leaf pages: 27737489\r\n  Overflow pages: 0\r\n  Entries: 2294628582\r\nStatus of AccountHistory\r\n  Pagesize: 4096\r\n  Tree depth: 5\r\n  Branch pages: 97113\r\n  Leaf pages: 8507787\r\n  Overflow pages: 0\r\n  Entries: 206942054\r\nStatus of BittorrentInfo\r\n  Pagesize: 4096\r\n  Tree depth: 0\r\n  Branch pages: 0\r\n  Leaf pages: 0\r\n  Overflow pages: 0\r\n  Entries: 0\r\nStatus of BlockBody\r\n  Pagesize: 4096\r\n  Tree depth: 4\r\n  Branch pages: 4751\r\n  Leaf pages: 379962\r\n  Overflow pages: 0\r\n  Entries: 14044985\r\nStatus of BlockTransaction\r\n  Pagesize: 4096\r\n  Tree depth: 5\r\n  Branch pages: 342030\r\n  Leaf pages: 76614154\r\n  Overflow pages: 24300540\r\n  Entries: 1455957654\r\nStatus of BlockTransactionLookup\r\n  Pagesize: 4096\r\n  Tree depth: 6\r\n  Branch pages: 456152\r\n  Leaf pages: 28781856\r\n  Overflow pages: 0\r\n  Entries: 1426282908\r\nStatus of CallFromIndex\r\n  Pagesize: 4096\r\n  Tree depth: 5\r\n  Branch pages: 76698\r\n  Leaf pages: 6598170\r\n  Overflow pages: 0\r\n  Entries: 166707355\r\nStatus of CallToIndex\r\n  Pagesize: 4096\r\n  Tree depth: 5\r\n  Branch pages: 92375\r\n  Leaf pages: 7884887\r\n  Overflow pages: 0\r\n  Entries: 207073576\r\nStatus of CallTraceSet\r\n  Pagesize: 4096\r\n  Tree depth: 4\r\n  Branch pages: 7799101\r\n  Leaf pages: 26603276\r\n  Overflow pages: 0\r\n  Entries: 2756331256\r\nStatus of CanonicalHeader\r\n  Pagesize: 4096\r\n  Tree depth: 4\r\n  Branch pages: 1553\r\n  Leaf pages: 337389\r\n  Overflow pages: 0\r\n  Entries: 14036061\r\nStatus of CliqueLastSnapshot\r\n  Pagesize: 4096\r\n  Tree depth: 0\r\n  Branch pages: 0\r\n  Leaf pages: 0\r\n  Overflow pages: 0\r\n  Entries: 0\r\nStatus of CliqueSeparate\r\n  Pagesize: 4096\r\n  Tree depth: 0\r\n  Branch pages: 0\r\n  Leaf pages: 0\r\n  Overflow pages: 0\r\n  Entries: 0\r\nStatus of CliqueSnapshot\r\n  Pagesize: 4096\r\n  Tree depth: 0\r\n  Branch pages: 0\r\n  Leaf pages: 0\r\n  Overflow pages: 0\r\n  Entries: 0\r\nStatus of Code\r\n  Pagesize: 4096\r\n  Tree depth: 4\r\n  Branch pages: 756\r\n  Leaf pages: 49491\r\n  Overflow pages: 875852\r\n  Entries: 512450\r\nStatus of Config\r\n  Pagesize: 4096\r\n  Tree depth: 1\r\n  Branch pages: 0\r\n  Leaf pages: 1\r\n  Overflow pages: 0\r\n  Entries: 1\r\nStatus of DbInfo\r\n  Pagesize: 4096\r\n  Tree depth: 1\r\n  Branch pages: 0\r\n  Leaf pages: 1\r\n  Overflow pages: 0\r\n  Entries: 12\r\nStatus of DevEpoch\r\n  Pagesize: 4096\r\n  Tree depth: 0\r\n  Branch pages: 0\r\n  Leaf pages: 0\r\n  Overflow pages: 0\r\n  Entries: 0\r\nStatus of DevPendingEpoch\r\n  Pagesize: 4096\r\n  Tree depth: 0\r\n  Branch pages: 0\r\n  Leaf pages: 0\r\n  Overflow pages: 0\r\n  Entries: 0\r\nStatus of HashedAccount\r\n  Pagesize: 4096\r\n  Tree depth: 5\r\n  Branch pages: 59553\r\n  Leaf pages: 3826050\r\n  Overflow pages: 0\r\n  Entries: 160234202\r\nStatus of HashedCodeHash\r\n  Pagesize: 4096\r\n  Tree depth: 5\r\n  Branch pages: 21998\r\n  Leaf pages: 1601353\r\n  Overflow pages: 0\r\n  Entries: 43728094\r\nStatus of HashedStorage\r\n  Pagesize: 4096\r\n  Tree depth: 5\r\n  Branch pages: 263830\r\n  Leaf pages: 10517506\r\n  Overflow pages: 0\r\n  Entries: 608771385\r\nStatus of Header\r\n  Pagesize: 4096\r\n  Tree depth: 5\r\n  Branch pages: 27598\r\n  Leaf pages: 2204893\r\n  Overflow pages: 0\r\n  Entries: 14060869\r\nStatus of HeaderNumber\r\n  Pagesize: 4096\r\n  Tree depth: 4\r\n  Branch pages: 3639\r\n  Leaf pages: 319951\r\n  Overflow pages: 0\r\n  Entries: 14060171\r\nStatus of HeadersTotalDifficulty\r\n  Pagesize: 4096\r\n  Tree depth: 4\r\n  Branch pages: 2681\r\n  Leaf pages: 214122\r\n  Overflow pages: 0\r\n  Entries: 14060869\r\nStatus of IncarnationMap\r\n  Pagesize: 4096\r\n  Tree depth: 4\r\n  Branch pages: 3238\r\n  Leaf pages: 301709\r\n  Overflow pages: 0\r\n  Entries: 22139400\r\nStatus of Issuance\r\n  Pagesize: 4096\r\n  Tree depth: 0\r\n  Branch pages: 0\r\n  Leaf pages: 0\r\n  Overflow pages: 0\r\n  Entries: 0\r\nStatus of LastBlock\r\n  Pagesize: 4096\r\n  Tree depth: 1\r\n  Branch pages: 0\r\n  Leaf pages: 1\r\n  Overflow pages: 0\r\n  Entries: 1\r\nStatus of LastHeader\r\n  Pagesize: 4096\r\n  Tree depth: 1\r\n  Branch pages: 0\r\n  Leaf pages: 1\r\n  Overflow pages: 0\r\n  Entries: 1\r\nStatus of LogAddressIndex\r\n  Pagesize: 4096\r\n  Tree depth: 4\r\n  Branch pages: 5596\r\n  Leaf pages: 451685\r\n  Overflow pages: 0\r\n  Entries: 5525793\r\nStatus of LogTopicIndex\r\n  Pagesize: 4096\r\n  Tree depth: 5\r\n  Branch pages: 82822\r\n  Leaf pages: 5976833\r\n  Overflow pages: 0\r\n  Entries: 157257245\r\nStatus of Migration\r\n  Pagesize: 4096\r\n  Tree depth: 1\r\n  Branch pages: 0\r\n  Leaf pages: 1\r\n  Overflow pages: 0\r\n  Entries: 6\r\nStatus of PlainCodeHash\r\n  Pagesize: 4096\r\n  Tree depth: 5\r\n  Branch pages: 15234\r\n  Leaf pages: 1099923\r\n  Overflow pages: 0\r\n  Entries: 43728619\r\nStatus of PlainState\r\n  Pagesize: 4096\r\n  Tree depth: 5\r\n  Branch pages: 341420\r\n  Leaf pages: 14681574\r\n  Overflow pages: 0\r\n  Entries: 769005587\r\nStatus of Receipt\r\n  Pagesize: 4096\r\n  Tree depth: 4\r\n  Branch pages: 12292\r\n  Leaf pages: 2752861\r\n  Overflow pages: 1438808\r\n  Entries: 13959366\r\nStatus of Sequence\r\n  Pagesize: 4096\r\n  Tree depth: 1\r\n  Branch pages: 0\r\n  Leaf pages: 1\r\n  Overflow pages: 0\r\n  Entries: 1\r\nStatus of SnapshotInfo\r\n  Pagesize: 4096\r\n  Tree depth: 0\r\n  Branch pages: 0\r\n  Leaf pages: 0\r\n  Overflow pages: 0\r\n  Entries: 0\r\nStatus of StorageChangeSet\r\n  Pagesize: 4096\r\n  Tree depth: 5\r\n  Branch pages: 2576628\r\n  Leaf pages: 48426223\r\n  Overflow pages: 0\r\n  Entries: 2775894941\r\nStatus of StorageHistory\r\n  Pagesize: 4096\r\n  Tree depth: 6\r\n  Branch pages: 609670\r\n  Leaf pages: 26186974\r\n  Overflow pages: 0\r\n  Entries: 771934521\r\nStatus of SyncStage\r\n  Pagesize: 4096\r\n  Tree depth: 1\r\n  Branch pages: 0\r\n  Leaf pages: 1\r\n  Overflow pages: 0\r\n  Entries: 17\r\nStatus of TEVMCode\r\n  Pagesize: 4096\r\n  Tree depth: 0\r\n  Branch pages: 0\r\n  Leaf pages: 0\r\n  Overflow pages: 0\r\n  Entries: 0\r\nStatus of TransactionLog\r\n  Pagesize: 4096\r\n  Tree depth: 5\r\n  Branch pages: 362544\r\n  Leaf pages: 66273174\r\n  Overflow pages: 22920262\r\n  Entries: 749033469\r\nStatus of TrieAccount\r\n  Pagesize: 4096\r\n  Tree depth: 4\r\n  Branch pages: 3744\r\n  Leaf pages: 663193\r\n  Overflow pages: 0\r\n  Entries: 16670806\r\nStatus of TrieStorage\r\n  Pagesize: 4096\r\n  Tree depth: 5\r\n  Branch pages: 49685\r\n  Leaf pages: 2716482\r\n  Overflow pages: 0\r\n  Entries: 53585888\r\nStatus of TxSender\r\n  Pagesize: 4096\r\n  Tree depth: 5\r\n  Branch pages: 16744\r\n  Leaf pages: 1339120\r\n  Overflow pages: 8691722\r\n  Entries: 12381128\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1016463763/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1016541052",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/3299#issuecomment-1016541052",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/3299",
    "id": 1016541052,
    "node_id": "IC_kwDOC0FsAM48ly98",
    "user": {
      "login": "AskAlexSharov",
      "id": 46885206,
      "node_id": "MDQ6VXNlcjQ2ODg1MjA2",
      "avatar_url": "https://avatars.githubusercontent.com/u/46885206?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/AskAlexSharov",
      "html_url": "https://github.com/AskAlexSharov",
      "followers_url": "https://api.github.com/users/AskAlexSharov/followers",
      "following_url": "https://api.github.com/users/AskAlexSharov/following{/other_user}",
      "gists_url": "https://api.github.com/users/AskAlexSharov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/AskAlexSharov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/AskAlexSharov/subscriptions",
      "organizations_url": "https://api.github.com/users/AskAlexSharov/orgs",
      "repos_url": "https://api.github.com/users/AskAlexSharov/repos",
      "events_url": "https://api.github.com/users/AskAlexSharov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/AskAlexSharov/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-01-19T14:51:02Z",
    "updated_at": "2022-01-19T14:51:02Z",
    "author_association": "COLLABORATOR",
    "body": "what do you see in logs?",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1016541052/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1016733758",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/3299#issuecomment-1016733758",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/3299",
    "id": 1016733758,
    "node_id": "IC_kwDOC0FsAM48miA-",
    "user": {
      "login": "tbocek",
      "id": 1283564,
      "node_id": "MDQ6VXNlcjEyODM1NjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1283564?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tbocek",
      "html_url": "https://github.com/tbocek",
      "followers_url": "https://api.github.com/users/tbocek/followers",
      "following_url": "https://api.github.com/users/tbocek/following{/other_user}",
      "gists_url": "https://api.github.com/users/tbocek/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tbocek/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tbocek/subscriptions",
      "organizations_url": "https://api.github.com/users/tbocek/orgs",
      "repos_url": "https://api.github.com/users/tbocek/repos",
      "events_url": "https://api.github.com/users/tbocek/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tbocek/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-01-19T18:10:50Z",
    "updated_at": "2022-01-19T18:12:43Z",
    "author_association": "CONTRIBUTOR",
    "body": "With respect to the db storage, I see the following: \r\n```\r\n[INFO] [01-19|13:30:28.495] [3/15 Bodies] Wrote block bodies         block_num=14036115 delivery/sec=\"295.39 KiB\" wasted/sec=\"0.00 B\" alloc=\"277.10 MiB\" sys=\"341.29 MiB\"\r\n[INFO] [01-19|13:30:58.496] [3/15 Bodies] Wrote block bodies         block_num=14036115 delivery/sec=\"0.00 B\" wasted/sec=\"0.00 B\" alloc=\"286.43 MiB\" sys=\"341.54 MiB\"\r\n[INFO] [01-19|13:31:28.496] [3/15 Bodies] Wrote block bodies         block_num=14036144 delivery/sec=\"70.04 KiB\" wasted/sec=\"0.00 B\" alloc=\"254.52 MiB\" sys=\"341.54 MiB\"\r\n[INFO] [01-19|13:31:42.770] [p2p] GoodPeers                          eth66=7\r\n[INFO] [01-19|13:31:58.495] [3/15 Bodies] Wrote block bodies         block_num=14036167 delivery/sec=\"69.36 KiB\" wasted/sec=\"0.00 B\" alloc=\"278.90 MiB\" sys=\"341.61 MiB\"\r\n[INFO] [01-19|13:32:45.093] [3/15 Bodies] Processed                  highest=14036247\r\n[INFO] [01-19|13:32:45.093] [3/15 Bodies] DONE                       in=2m46.598377001s\r\n[INFO] [01-19|13:32:45.093] [4/15 Senders] Started                   from=13959365 to=14036247\r\n[INFO] [01-19|13:33:15.094] [4/15 Senders] Recovery                  block_number=13963900\r\n[INFO] [01-19|13:33:42.770] [p2p] GoodPeers                          eth66=12\r\n[INFO] [01-19|13:33:45.093] [4/15 Senders] Recovery                  block_number=13969121\r\n[INFO] [01-19|13:34:15.093] [4/15 Senders] Recovery                  block_number=13974734\r\n[INFO] [01-19|13:34:45.094] [4/15 Senders] Recovery                  block_number=13980984\r\n[INFO] [01-19|13:35:15.095] [4/15 Senders] Recovery                  block_number=13989121\r\n[INFO] [01-19|13:35:42.770] [p2p] GoodPeers                          eth66=15\r\n[INFO] [01-19|13:35:45.093] [4/15 Senders] Recovery                  block_number=14004699\r\n[INFO] [01-19|13:36:15.096] [4/15 Senders] Recovery                  block_number=14021595\r\n[INFO] [01-19|13:36:31.596] Flushed buffer file                      name=/home/erigon/.local/share/erigon/etl-temp/tg-sync-sortable-buf2449639135 alloc=\"1.5 GiB\" sys=\"4.2 GiB\"\r\n[INFO] [01-19|13:36:41.073] Flushed buffer file                      name=/home/erigon/.local/share/erigon/etl-temp/tg-sync-sortable-buf841122673 alloc=\"2.5 GiB\" sys=\"4.2 GiB\"\r\n[INFO] [01-19|13:37:17.353] [4/15 Senders] ETL [2/2] Loading         into=TxSender block=13962345 alloc=\"2.6 GiB\" sys=\"4.2 GiB\"\r\n[INFO] [01-19|13:37:20.158] [4/15 Senders] etl: temp files removed   total size=\"276.6 MB\"\r\n\r\n...\r\n[INFO] [01-19|14:26:13.156] [5/15 Execution] Executed blocks         number=13985817 blk/s=7.976 tx/s=1594.086 Mgas/s=121.664 batch=\"511.12 MiB\" alloc=\"1.80 GiB\" sys=\"4.17 GiB\"\r\n[INFO] [01-19|14:26:50.707] Write to db                              progress=0.1M/7.7M current table=PlainState\r\n[INFO] [01-19|14:27:20.707] Write to db                              progress=0.3M/7.7M current table=PlainState\r\n[INFO] [01-19|14:27:42.770] [p2p] GoodPeers                          eth66=33\r\n[INFO] [01-19|14:27:50.708] Write to db                              progress=0.5M/7.7M current table=PlainState\r\n[INFO] [01-19|14:28:20.707] Write to db                              progress=0.8M/7.7M current table=PlainState\r\n[INFO] [01-19|14:28:50.707] Write to db                              progress=1.0M/7.7M current table=PlainState\r\n[INFO] [01-19|14:29:20.706] Write to db                              progress=1.1M/7.7M current table=PlainState\r\n[INFO] [01-19|14:29:42.771] [p2p] GoodPeers                          eth66=33\r\n[INFO] [01-19|14:29:50.714] Write to db                              progress=1.3M/7.7M current table=PlainState\r\n[INFO] [01-19|14:30:20.706] Write to db                              progress=1.4M/7.7M current table=PlainState\r\n[INFO] [01-19|14:30:50.716] Write to db                              progress=1.6M/7.7M current table=PlainState\r\n[INFO] [01-19|14:31:20.721] Write to db                              progress=1.7M/7.7M current table=PlainState\r\n...\r\n```\r\nSo, the 3.3TB is too large?",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1016733758/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1017070520",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/3299#issuecomment-1017070520",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/3299",
    "id": 1017070520,
    "node_id": "IC_kwDOC0FsAM48n0O4",
    "user": {
      "login": "AskAlexSharov",
      "id": 46885206,
      "node_id": "MDQ6VXNlcjQ2ODg1MjA2",
      "avatar_url": "https://avatars.githubusercontent.com/u/46885206?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/AskAlexSharov",
      "html_url": "https://github.com/AskAlexSharov",
      "followers_url": "https://api.github.com/users/AskAlexSharov/followers",
      "following_url": "https://api.github.com/users/AskAlexSharov/following{/other_user}",
      "gists_url": "https://api.github.com/users/AskAlexSharov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/AskAlexSharov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/AskAlexSharov/subscriptions",
      "organizations_url": "https://api.github.com/users/AskAlexSharov/orgs",
      "repos_url": "https://api.github.com/users/AskAlexSharov/repos",
      "events_url": "https://api.github.com/users/AskAlexSharov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/AskAlexSharov/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-01-20T02:57:08Z",
    "updated_at": "2022-01-20T02:57:08Z",
    "author_association": "COLLABORATOR",
    "body": "Yes. Your “GC %” is high, I don’t know why. \r\n- send me also “Commit” log line?\r\n\r\nLet’s wait 1 day, then see “mdbx_stat -ef” one more time. ",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1017070520/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1017236561",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/3299#issuecomment-1017236561",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/3299",
    "id": 1017236561,
    "node_id": "IC_kwDOC0FsAM48ocxR",
    "user": {
      "login": "AskAlexSharov",
      "id": 46885206,
      "node_id": "MDQ6VXNlcjQ2ODg1MjA2",
      "avatar_url": "https://avatars.githubusercontent.com/u/46885206?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/AskAlexSharov",
      "html_url": "https://github.com/AskAlexSharov",
      "followers_url": "https://api.github.com/users/AskAlexSharov/followers",
      "following_url": "https://api.github.com/users/AskAlexSharov/following{/other_user}",
      "gists_url": "https://api.github.com/users/AskAlexSharov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/AskAlexSharov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/AskAlexSharov/subscriptions",
      "organizations_url": "https://api.github.com/users/AskAlexSharov/orgs",
      "repos_url": "https://api.github.com/users/AskAlexSharov/repos",
      "events_url": "https://api.github.com/users/AskAlexSharov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/AskAlexSharov/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-01-20T08:38:49Z",
    "updated_at": "2022-01-20T08:38:49Z",
    "author_association": "COLLABORATOR",
    "body": "@tbocek what cli flags do you use to run Erigon?",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1017236561/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1017285963",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/3299#issuecomment-1017285963",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/3299",
    "id": 1017285963,
    "node_id": "IC_kwDOC0FsAM48oo1L",
    "user": {
      "login": "tbocek",
      "id": 1283564,
      "node_id": "MDQ6VXNlcjEyODM1NjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1283564?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tbocek",
      "html_url": "https://github.com/tbocek",
      "followers_url": "https://api.github.com/users/tbocek/followers",
      "following_url": "https://api.github.com/users/tbocek/following{/other_user}",
      "gists_url": "https://api.github.com/users/tbocek/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tbocek/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tbocek/subscriptions",
      "organizations_url": "https://api.github.com/users/tbocek/orgs",
      "repos_url": "https://api.github.com/users/tbocek/repos",
      "events_url": "https://api.github.com/users/tbocek/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tbocek/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-01-20T09:38:30Z",
    "updated_at": "2022-01-20T09:38:30Z",
    "author_association": "CONTRIBUTOR",
    "body": "I'm running it from a docker-compose file:\r\n\r\n```\r\nversion: '3.9'\r\n\r\nservices:\r\n  erigon:\r\n    image: thorax/erigon:stable\r\n    command: erigon --private.api.addr=0.0.0.0:9090\r\n    volumes:\r\n      - /var/lib/erigon:/home/erigon/.local/share/erigon\r\n    ports:\r\n      - \"30303:30303/tcp\"\r\n      - \"30303:30303/udp\"\r\n      - \"30304:30304/tcp\"\r\n      - \"30304:30304/udp\"\r\n```\r\nAnd here is the latest logs with the Commit cycle:\r\n```\r\n[INFO] [01-20|09:29:34.985] Commit cycle                             in=21.963396541s\r\n[INFO] [01-20|09:29:34.985] RPC Daemon notified of new headers       from=14041591 to=14041592\r\n[INFO] [01-20|09:29:34.985] [1/15 Headers] Waiting for headers...    from=14041592\r\n[INFO] [01-20|09:29:35.000] [1/15 Headers] Processed                 highest inserted=14041595 age=13s\r\n[INFO] [01-20|09:29:36.605] [5/15 Execution] Completed on            block=14041595\r\n[INFO] [01-20|09:29:42.771] [p2p] GoodPeers                          eth66=11\r\n[INFO] [01-20|09:29:45.736] [txpool] stat                            block=14041592 pending=6491 baseFee=30003 queued=30000 alloc_mb=729 sys_mb=5946\r\n[INFO] [01-20|09:30:03.253] Commit cycle                             in=20.360165591s\r\n[INFO] [01-20|09:30:03.253] RPC Daemon notified of new headers       from=14041592 to=14041595\r\n[INFO] [01-20|09:30:03.253] [1/15 Headers] Waiting for headers...    from=14041595\r\n[INFO] [01-20|09:30:03.270] [1/15 Headers] Processed                 highest inserted=14041598 age=12s\r\n[INFO] [01-20|09:30:06.262] [5/15 Execution] Completed on            block=14041598\r\n[INFO] [01-20|09:30:37.828] Commit cycle                             in=22.109649552s\r\n[INFO] [01-20|09:30:37.828] RPC Daemon notified of new headers       from=14041595 to=14041598\r\n[INFO] [01-20|09:30:37.828] [1/15 Headers] Waiting for headers...    from=14041598\r\n[INFO] [01-20|09:30:37.852] [1/15 Headers] Processed                 highest inserted=14041603 age=3s\r\n[INFO] [01-20|09:30:42.383] [5/15 Execution] Completed on            block=14041603\r\n[INFO] [01-20|09:30:44.562] [txpool] stat                            block=14041598 pending=6365 baseFee=30000 queued=30000 alloc_mb=991 sys_mb=5946\r\n```\r\nand here is the newest “mdbx_stat -ef”\r\n```\r\nmdbx_stat v0.11.1-26-ge93d53ed (2021-11-21T02:38:14+03:00, T-c00e8455b6b4cd30522cf1a7a08d87625d7f8561)\r\nRunning for /scratch/erigon/chaindata/...\r\nEnvironment Info\r\n  Pagesize: 4096\r\n  Dynamic datafile: 12288..3298534883328 bytes (+2147483648/-4294967296), 3..805306368 pages (+524288/-1048576)\r\n  Current mapsize: 3298534883328 bytes, 805306368 pages \r\n  Current datafile: 3298534883328 bytes, 805306368 pages\r\n  Last transaction ID: 473890\r\n  Latter reader transaction ID: 473890 (0)\r\n  Max readers: 118\r\n  Number of reader slots uses: 1\r\nGarbage Collection\r\n  Pagesize: 4096\r\n  Tree depth: 2\r\n  Branch pages: 1\r\n  Leaf pages: 2\r\n  Overflow pages: 339835\r\n  Entries: 259\r\nPage Usage\r\n  Total: 805306368 100%\r\n  Backed: 805306368 100.0%\r\n  Allocated: 805142583 100.0%\r\n  Remained: 163785 0.0%\r\n  Used: 457154887 56.8%\r\n  GC: 347987696 43.2%\r\n  Retained: 368652 0.0%\r\n  Reclaimable: 347619044 43.2%\r\n  Available: 347782829 43.2%\r\nStatus of Main DB\r\n  Pagesize: 4096\r\n  Tree depth: 1\r\n  Branch pages: 0\r\n  Leaf pages: 1\r\n  Overflow pages: 0\r\n  Entries: 44\r\n\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1017285963/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1030594612",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/3299#issuecomment-1030594612",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/3299",
    "id": 1030594612,
    "node_id": "IC_kwDOC0FsAM49baA0",
    "user": {
      "login": "valo",
      "id": 47639,
      "node_id": "MDQ6VXNlcjQ3NjM5",
      "avatar_url": "https://avatars.githubusercontent.com/u/47639?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/valo",
      "html_url": "https://github.com/valo",
      "followers_url": "https://api.github.com/users/valo/followers",
      "following_url": "https://api.github.com/users/valo/following{/other_user}",
      "gists_url": "https://api.github.com/users/valo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/valo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/valo/subscriptions",
      "organizations_url": "https://api.github.com/users/valo/orgs",
      "repos_url": "https://api.github.com/users/valo/repos",
      "events_url": "https://api.github.com/users/valo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/valo/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-02-05T10:15:39Z",
    "updated_at": "2022-02-05T10:15:39Z",
    "author_association": "NONE",
    "body": "I've been trying to sync on a 2TB NVMe and the storage was not enough. Probably the same issue. Is it possible to keep these GC pages in check? If 43% are in GC, does that mean almost half of the storage can be reclaimed?",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1030594612/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1030639175",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/3299#issuecomment-1030639175",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/3299",
    "id": 1030639175,
    "node_id": "IC_kwDOC0FsAM49bk5H",
    "user": {
      "login": "AskAlexSharov",
      "id": 46885206,
      "node_id": "MDQ6VXNlcjQ2ODg1MjA2",
      "avatar_url": "https://avatars.githubusercontent.com/u/46885206?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/AskAlexSharov",
      "html_url": "https://github.com/AskAlexSharov",
      "followers_url": "https://api.github.com/users/AskAlexSharov/followers",
      "following_url": "https://api.github.com/users/AskAlexSharov/following{/other_user}",
      "gists_url": "https://api.github.com/users/AskAlexSharov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/AskAlexSharov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/AskAlexSharov/subscriptions",
      "organizations_url": "https://api.github.com/users/AskAlexSharov/orgs",
      "repos_url": "https://api.github.com/users/AskAlexSharov/repos",
      "events_url": "https://api.github.com/users/AskAlexSharov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/AskAlexSharov/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-02-05T14:57:14Z",
    "updated_at": "2022-02-05T14:57:14Z",
    "author_association": "COLLABORATOR",
    "body": "This pages can be re-used, but not reclaimed. But main question - why do you have them. ",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1030639175/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1034269399",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/3299#issuecomment-1034269399",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/3299",
    "id": 1034269399,
    "node_id": "IC_kwDOC0FsAM49pbLX",
    "user": {
      "login": "AlexeyAkhunov",
      "id": 13686139,
      "node_id": "MDQ6VXNlcjEzNjg2MTM5",
      "avatar_url": "https://avatars.githubusercontent.com/u/13686139?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/AlexeyAkhunov",
      "html_url": "https://github.com/AlexeyAkhunov",
      "followers_url": "https://api.github.com/users/AlexeyAkhunov/followers",
      "following_url": "https://api.github.com/users/AlexeyAkhunov/following{/other_user}",
      "gists_url": "https://api.github.com/users/AlexeyAkhunov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/AlexeyAkhunov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/AlexeyAkhunov/subscriptions",
      "organizations_url": "https://api.github.com/users/AlexeyAkhunov/orgs",
      "repos_url": "https://api.github.com/users/AlexeyAkhunov/repos",
      "events_url": "https://api.github.com/users/AlexeyAkhunov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/AlexeyAkhunov/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-02-09T22:36:49Z",
    "updated_at": "2022-02-09T22:36:49Z",
    "author_association": "CONTRIBUTOR",
    "body": "My suspicion would be having a long running (perhaps stuck) reader",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1034269399/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1040095522",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/3299#issuecomment-1040095522",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/3299",
    "id": 1040095522,
    "node_id": "IC_kwDOC0FsAM49_pki",
    "user": {
      "login": "niksche",
      "id": 86954938,
      "node_id": "MDQ6VXNlcjg2OTU0OTM4",
      "avatar_url": "https://avatars.githubusercontent.com/u/86954938?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/niksche",
      "html_url": "https://github.com/niksche",
      "followers_url": "https://api.github.com/users/niksche/followers",
      "following_url": "https://api.github.com/users/niksche/following{/other_user}",
      "gists_url": "https://api.github.com/users/niksche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/niksche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/niksche/subscriptions",
      "organizations_url": "https://api.github.com/users/niksche/orgs",
      "repos_url": "https://api.github.com/users/niksche/repos",
      "events_url": "https://api.github.com/users/niksche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/niksche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-02-15T10:17:52Z",
    "updated_at": "2022-02-15T10:17:52Z",
    "author_association": "NONE",
    "body": "my erigon node also reached the limit of 2TB and stopped syncing because of a lack of memory.  So, does the actual size of a fully synced erigon archive node go beyond 2TB?",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1040095522/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1040244070",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/3299#issuecomment-1040244070",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/3299",
    "id": 1040244070,
    "node_id": "IC_kwDOC0FsAM4-AN1m",
    "user": {
      "login": "erthink",
      "id": 6241554,
      "node_id": "MDQ6VXNlcjYyNDE1NTQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6241554?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/erthink",
      "html_url": "https://github.com/erthink",
      "followers_url": "https://api.github.com/users/erthink/followers",
      "following_url": "https://api.github.com/users/erthink/following{/other_user}",
      "gists_url": "https://api.github.com/users/erthink/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/erthink/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/erthink/subscriptions",
      "organizations_url": "https://api.github.com/users/erthink/orgs",
      "repos_url": "https://api.github.com/users/erthink/repos",
      "events_url": "https://api.github.com/users/erthink/events{/privacy}",
      "received_events_url": "https://api.github.com/users/erthink/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-02-15T13:00:27Z",
    "updated_at": "2022-02-15T13:00:27Z",
    "author_association": "CONTRIBUTOR",
    "body": "> My suspicion would be having a long running (perhaps stuck) reader\r\n\r\nToo small the `MDBX_opt_rp_augment_limit` and/or https://github.com/erthink/libmdbx/commit/024900ee9cfdc0ed6c0ff976c8f57c431e4b84c1 is enough for that.\r\nSo upgrade to the latest beta should solve this.\r\n\r\nP.S.\r\nThe DB with large GC could be shrinked by the explicit copy-with-compactification via `mdbx_copy -c SRC DEST`. \r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1040244070/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1040249712",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/3299#issuecomment-1040249712",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/3299",
    "id": 1040249712,
    "node_id": "IC_kwDOC0FsAM4-APNw",
    "user": {
      "login": "erthink",
      "id": 6241554,
      "node_id": "MDQ6VXNlcjYyNDE1NTQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6241554?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/erthink",
      "html_url": "https://github.com/erthink",
      "followers_url": "https://api.github.com/users/erthink/followers",
      "following_url": "https://api.github.com/users/erthink/following{/other_user}",
      "gists_url": "https://api.github.com/users/erthink/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/erthink/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/erthink/subscriptions",
      "organizations_url": "https://api.github.com/users/erthink/orgs",
      "repos_url": "https://api.github.com/users/erthink/repos",
      "events_url": "https://api.github.com/users/erthink/events{/privacy}",
      "received_events_url": "https://api.github.com/users/erthink/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-02-15T13:06:23Z",
    "updated_at": "2022-02-15T13:06:23Z",
    "author_association": "CONTRIBUTOR",
    "body": "> my erigon node also reached the limit of 2TB and stopped syncing because of a lack of memory. So, does the actual size of a fully synced erigon archive node go beyond 2TB?\r\n\r\n```\r\n$ mdbx_stat -ef PATH_TO_DB\r\nmdbx_stat v0.11.1-26-ge93d53ed (2021-11-21T02:38:14+03:00, T-c00e8455b6b4cd30522cf1a7a08d87625d7f8561)\r\nRunning for /scratch/erigon/chaindata/...\r\n...\r\nUsed: 457154887 56.8%\r\n...\r\n```\r\n\r\nSo the actual data size is 457154887 of 4K pages => less than 1.8 Tb.\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1040249712/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1040272387",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/3299#issuecomment-1040272387",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/3299",
    "id": 1040272387,
    "node_id": "IC_kwDOC0FsAM4-AUwD",
    "user": {
      "login": "tbocek",
      "id": 1283564,
      "node_id": "MDQ6VXNlcjEyODM1NjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1283564?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tbocek",
      "html_url": "https://github.com/tbocek",
      "followers_url": "https://api.github.com/users/tbocek/followers",
      "following_url": "https://api.github.com/users/tbocek/following{/other_user}",
      "gists_url": "https://api.github.com/users/tbocek/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tbocek/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tbocek/subscriptions",
      "organizations_url": "https://api.github.com/users/tbocek/orgs",
      "repos_url": "https://api.github.com/users/tbocek/repos",
      "events_url": "https://api.github.com/users/tbocek/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tbocek/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-02-15T13:27:09Z",
    "updated_at": "2022-02-15T13:27:09Z",
    "author_association": "CONTRIBUTOR",
    "body": "Running with the [latest version](https://hub.docker.com/layers/thorax/erigon/latest/images/sha256-b05447466d1920a25545a9140b7dc18ce5be9882aa15f823b84ed5b36d63dbe6?context=explore) now. Lets see if it runs better. This was the output before running the latest version\r\n\r\n```\r\nmdbx_stat v0.11.1-26-ge93d53ed (2021-11-21T02:38:14+03:00, T-c00e8455b6b4cd30522cf1a7a08d87625d7f8561)\r\nRunning for /var/lib/erigon/chaindata/mdbx.dat...\r\nEnvironment Info\r\n  Pagesize: 4096\r\n  Dynamic datafile: 12288..3298534883328 bytes (+2147483648/-4294967296), 3..805306368 pages (+524288/-1048576)\r\n  Current mapsize: 3298534883328 bytes, 805306368 pages \r\n  Current datafile: 3298534883328 bytes, 805306368 pages\r\n  Last transaction ID: 533104\r\n  Latter reader transaction ID: 533104 (0)\r\n  Max readers: 118\r\n  Number of reader slots uses: 1\r\nGarbage Collection\r\n  Pagesize: 4096\r\n  Tree depth: 2\r\n  Branch pages: 1\r\n  Leaf pages: 2\r\n  Overflow pages: 327297\r\n  Entries: 259\r\nPage Usage\r\n  Total: 805306368 100%\r\n  Backed: 805306368 100.0%\r\n  Allocated: 805142583 100.0%\r\n  Remained: 163785 0.0%\r\n  Used: 469994452 58.4%\r\n  GC: 335148131 41.6%\r\n  Retained: 336984 0.0%\r\n  Reclaimable: 334811147 41.6%\r\n  Available: 334974932 41.6%\r\nStatus of Main DB\r\n  Pagesize: 4096\r\n  Tree depth: 1\r\n  Branch pages: 0\r\n  Leaf pages: 1\r\n  Overflow pages: 0\r\n  Entries: 44\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1040272387/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1061638292",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/3299#issuecomment-1061638292",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/3299",
    "id": 1061638292,
    "node_id": "IC_kwDOC0FsAM4_R1CU",
    "user": {
      "login": "tbocek",
      "id": 1283564,
      "node_id": "MDQ6VXNlcjEyODM1NjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1283564?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tbocek",
      "html_url": "https://github.com/tbocek",
      "followers_url": "https://api.github.com/users/tbocek/followers",
      "following_url": "https://api.github.com/users/tbocek/following{/other_user}",
      "gists_url": "https://api.github.com/users/tbocek/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tbocek/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tbocek/subscriptions",
      "organizations_url": "https://api.github.com/users/tbocek/orgs",
      "repos_url": "https://api.github.com/users/tbocek/repos",
      "events_url": "https://api.github.com/users/tbocek/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tbocek/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-03-08T10:39:11Z",
    "updated_at": "2022-03-08T10:39:11Z",
    "author_association": "CONTRIBUTOR",
    "body": "I resynced with latest version and its using 1.8TB, so this issue can be closed.",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1061638292/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1062478778",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/3299#issuecomment-1062478778",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/3299",
    "id": 1062478778,
    "node_id": "IC_kwDOC0FsAM4_VCO6",
    "user": {
      "login": "AskAlexSharov",
      "id": 46885206,
      "node_id": "MDQ6VXNlcjQ2ODg1MjA2",
      "avatar_url": "https://avatars.githubusercontent.com/u/46885206?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/AskAlexSharov",
      "html_url": "https://github.com/AskAlexSharov",
      "followers_url": "https://api.github.com/users/AskAlexSharov/followers",
      "following_url": "https://api.github.com/users/AskAlexSharov/following{/other_user}",
      "gists_url": "https://api.github.com/users/AskAlexSharov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/AskAlexSharov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/AskAlexSharov/subscriptions",
      "organizations_url": "https://api.github.com/users/AskAlexSharov/orgs",
      "repos_url": "https://api.github.com/users/AskAlexSharov/repos",
      "events_url": "https://api.github.com/users/AskAlexSharov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/AskAlexSharov/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-03-09T02:03:07Z",
    "updated_at": "2022-03-09T02:03:07Z",
    "author_association": "COLLABORATOR",
    "body": "@tbocek happy to hear. ",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1062478778/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
