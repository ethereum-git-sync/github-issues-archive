{
  "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/8685",
  "repository_url": "https://api.github.com/repos/ledgerwatch/erigon",
  "labels_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/8685/labels{/name}",
  "comments_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/8685/comments",
  "events_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/8685/events",
  "html_url": "https://github.com/ledgerwatch/erigon/issues/8685",
  "id": 1985520965,
  "node_id": "I_kwDOC0FsAM52WKVF",
  "number": 8685,
  "title": "Beacon API for InternalCL",
  "user": {
    "login": "PeaStew",
    "id": 34198053,
    "node_id": "MDQ6VXNlcjM0MTk4MDUz",
    "avatar_url": "https://avatars.githubusercontent.com/u/34198053?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/PeaStew",
    "html_url": "https://github.com/PeaStew",
    "followers_url": "https://api.github.com/users/PeaStew/followers",
    "following_url": "https://api.github.com/users/PeaStew/following{/other_user}",
    "gists_url": "https://api.github.com/users/PeaStew/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/PeaStew/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/PeaStew/subscriptions",
    "organizations_url": "https://api.github.com/users/PeaStew/orgs",
    "repos_url": "https://api.github.com/users/PeaStew/repos",
    "events_url": "https://api.github.com/users/PeaStew/events{/privacy}",
    "received_events_url": "https://api.github.com/users/PeaStew/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 0,
  "created_at": "2023-11-09T12:28:25Z",
  "updated_at": "2023-11-09T12:28:25Z",
  "closed_at": null,
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "# Rationale\r\n\r\nWhy should this feature exist?\r\n\r\nInternalCL for Erigon is an amazing feature as it allows us to avoid running a separate client for beacon node for EL synchronisation and have a dependency on two software teams for reliability, however to support Beacon API endpoints for use in staking for example we still need to run a separate CL client and having the Beacon API endpoint also provided with Erigon would make this the complete package.\r\n\r\nWhat are the use-cases? \r\n\r\nStaking in particular requires information about the validator set.\r\n\r\n# Implementation\r\n\r\nDo you have ideas regarding the implementation of this feature?\r\n\r\nExpose the following API endpoints from the Internal CL:\r\n\r\n/eth/v1/validator/duties/proposer/<point>\r\n/eth/v1/beacon/states/<point>/finality_checkpoints\r\n/lighthouse/validator_inclusion/<epoch>/global\r\n/eth/v1/beacon/states/<point>/sync_committees\r\n/eth/v1/beacon/states/<point>/committees\r\n/eth/v1/beacon/states/<point>/finality_checkpoints\r\n/eth/v1/beacon/states/<slot>/validator_balances\r\n/eth/v1/beacon/rewards/attestations/<point>\r\n/eth/v1/beacon/states/<point>/validators/<key>\r\n/eth/v1/beacon/headers/<point>\r\n/eth/v1/beacon/headers\r\n/eth/v1/beacon/blocks/<point>\r\n/eth/v1/beacon/rewards/blocks/<point>\r\n/eth/v2/debug/beacon/states/<point>\r\n/eth/v1/validator/duties/proposer/<point>\r\n/eth/v1/beacon/rewards/sync_committee/<point>\r\n/eth/v1/node/syncing\r\n/eth/v1/beacon/genesis\r\n/eth/v1/beacon/states/%s/validators\r\n/eth/v2/beacon/blocks/%s\r\n/eth/v1/beacon/states/%s/fork\r\n/eth/v1/beacon/pool/voluntary_exits\r\n\r\nAre you willing to implement this feature?\r\n\r\nThe specifics of the implementation of InternalCL are in many cases unique to Erigon, I believe the Erigon team are in the best position to implement this, however we would be available for testing and verification and can put some development resources towards it if requested.\r\n\r\n@Giulio2002",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/8685/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/8685/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[

]
