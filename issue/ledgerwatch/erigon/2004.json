{
  "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/2004",
  "repository_url": "https://api.github.com/repos/ledgerwatch/erigon",
  "labels_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/2004/labels{/name}",
  "comments_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/2004/comments",
  "events_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/2004/events",
  "html_url": "https://github.com/ledgerwatch/erigon/issues/2004",
  "id": 899671633,
  "node_id": "MDU6SXNzdWU4OTk2NzE2MzM=",
  "number": 2004,
  "title": "ethstats broken",
  "user": {
    "login": "MysticRyuujin",
    "id": 8877131,
    "node_id": "MDQ6VXNlcjg4NzcxMzE=",
    "avatar_url": "https://avatars.githubusercontent.com/u/8877131?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/MysticRyuujin",
    "html_url": "https://github.com/MysticRyuujin",
    "followers_url": "https://api.github.com/users/MysticRyuujin/followers",
    "following_url": "https://api.github.com/users/MysticRyuujin/following{/other_user}",
    "gists_url": "https://api.github.com/users/MysticRyuujin/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/MysticRyuujin/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/MysticRyuujin/subscriptions",
    "organizations_url": "https://api.github.com/users/MysticRyuujin/orgs",
    "repos_url": "https://api.github.com/users/MysticRyuujin/repos",
    "events_url": "https://api.github.com/users/MysticRyuujin/events{/privacy}",
    "received_events_url": "https://api.github.com/users/MysticRyuujin/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 3,
  "created_at": "2021-05-24T13:42:43Z",
  "updated_at": "2022-07-07T09:58:15Z",
  "closed_at": "2022-07-07T09:58:14Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "I don't know what commit caused this but as of the latest (or previous?) relase, ethstats client is no longer working with tg/rpcdaemon.\r\n\r\nI don't know why, there are no errors, ethstats just never gets updated?\r\n![image](https://user-images.githubusercontent.com/8877131/119355893-6790d680-bc6b-11eb-9e4d-004c6ca5bc8f.png)\r\n\r\nIn the screenshot above:\r\nArchive01 is on commit `1770beaf9b43dec46ac59a094ec63bc3db93b244` and that's the \"oldest\" node I have, so it broke somewhere before there, I guess?\r\n\r\n```\r\nroot@archive01:~# pm2 logs 0\r\n[TAILING] Tailing last 15 lines for [0] process (change the value with --lines option)\r\n/root/.pm2/logs/ethstats-error-0.log last 15 lines:\r\n0|ethstats | 2021-05-17 15:58 +00:00: [eth] ==> Got same block: 12452859\r\n0|ethstats | 2021-05-18 08:22 +00:00: [wsc] =âœ˜= Network connection is offline\r\n0|ethstats | 2021-05-18 08:22 +00:00: [wsc] =âœ˜= Socket connection has been closed\r\n0|ethstats | 2021-05-18 08:22 +00:00: [wsc] =!= Reconnecting in 500 ms\r\n0|ethstats | 2021-05-18 08:22 +00:00: [wsc] =!= This is attempt 1 out of 10\r\n0|ethstats | 2021-05-18 08:22 +00:00: [eth] ==> Got same block: 12457267\r\n0|ethstats | 2021-05-19 19:07 +00:00: [wsc] =âœ˜= Network connection is offline\r\n0|ethstats | 2021-05-19 19:07 +00:00: [wsc] =âœ˜= Socket connection has been closed\r\n0|ethstats | 2021-05-19 19:07 +00:00: [wsc] =!= Reconnecting in 500 ms\r\n0|ethstats | 2021-05-19 19:07 +00:00: [wsc] =!= This is attempt 1 out of 10\r\n0|ethstats | 2021-05-19 19:07 +00:00: [eth] ==> Got same block: 12466595\r\n0|ethstats | 2021-05-24 01:37 +00:00: [sys] xxx Received kill signal, shutting down gracefully.\r\n0|ethstats | 2021-05-24 01:37 +00:00: [wsc] =âœ˜= Socket connection has been closed\r\n0|ethstats | 2021-05-24 01:37 +00:00: [wsc] =âœ˜= Socket connection end received\r\n0|ethstats | 2021-05-24 01:37 +00:00: [eth] ==> Got same block: 12494132\r\n\r\n/root/.pm2/logs/ethstats-out-0.log last 15 lines:\r\n0|ethstats | 2021-05-24 13:42 +00:00:     uptime: 100\r\n0|ethstats | 2021-05-24 13:42 +00:00:   }\r\n0|ethstats | 2021-05-24 13:42 +00:00: }\r\n0|ethstats | 2021-05-24 13:42 +00:00: [eth] =i= {\r\n0|ethstats | 2021-05-24 13:42 +00:00:   id: 'archivenodeIoNode01ðŸ‡¨ðŸ‡¦',\r\n0|ethstats | 2021-05-24 13:42 +00:00:   stats: {\r\n0|ethstats | 2021-05-24 13:42 +00:00:     active: true,\r\n0|ethstats | 2021-05-24 13:42 +00:00:     syncing: false,\r\n0|ethstats | 2021-05-24 13:42 +00:00:     mining: false,\r\n0|ethstats | 2021-05-24 13:42 +00:00:     hashrate: 0,\r\n0|ethstats | 2021-05-24 13:42 +00:00:     peers: 25,\r\n0|ethstats | 2021-05-24 13:42 +00:00:     gasPrice: '66000000000',\r\n0|ethstats | 2021-05-24 13:42 +00:00:     uptime: 100\r\n0|ethstats | 2021-05-24 13:42 +00:00:   }\r\n0|ethstats | 2021-05-24 13:42 +00:00: }root@archive01:~# pm2 logs 0\r\n[TAILING] Tailing last 15 lines for [0] process (change the value with --lines option)\r\n/root/.pm2/logs/ethstats-error-0.log last 15 lines:\r\n0|ethstats | 2021-05-17 15:58 +00:00: [eth] ==> Got same block: 12452859\r\n0|ethstats | 2021-05-18 08:22 +00:00: [wsc] =âœ˜= Network connection is offline\r\n0|ethstats | 2021-05-18 08:22 +00:00: [wsc] =âœ˜= Socket connection has been closed\r\n0|ethstats | 2021-05-18 08:22 +00:00: [wsc] =!= Reconnecting in 500 ms\r\n0|ethstats | 2021-05-18 08:22 +00:00: [wsc] =!= This is attempt 1 out of 10\r\n0|ethstats | 2021-05-18 08:22 +00:00: [eth] ==> Got same block: 12457267\r\n0|ethstats | 2021-05-19 19:07 +00:00: [wsc] =âœ˜= Network connection is offline\r\n0|ethstats | 2021-05-19 19:07 +00:00: [wsc] =âœ˜= Socket connection has been closed\r\n0|ethstats | 2021-05-19 19:07 +00:00: [wsc] =!= Reconnecting in 500 ms\r\n0|ethstats | 2021-05-19 19:07 +00:00: [wsc] =!= This is attempt 1 out of 10\r\n0|ethstats | 2021-05-19 19:07 +00:00: [eth] ==> Got same block: 12466595\r\n0|ethstats | 2021-05-24 01:37 +00:00: [sys] xxx Received kill signal, shutting down gracefully.\r\n0|ethstats | 2021-05-24 01:37 +00:00: [wsc] =âœ˜= Socket connection has been closed\r\n0|ethstats | 2021-05-24 01:37 +00:00: [wsc] =âœ˜= Socket connection end received\r\n0|ethstats | 2021-05-24 01:37 +00:00: [eth] ==> Got same block: 12494132\r\n\r\n/root/.pm2/logs/ethstats-out-0.log last 15 lines:\r\n0|ethstats | 2021-05-24 13:42 +00:00:     uptime: 100\r\n0|ethstats | 2021-05-24 13:42 +00:00:   }\r\n0|ethstats | 2021-05-24 13:42 +00:00: }\r\n0|ethstats | 2021-05-24 13:42 +00:00: [eth] =i= {\r\n0|ethstats | 2021-05-24 13:42 +00:00:   id: 'archivenodeIoNode01ðŸ‡¨ðŸ‡¦',\r\n0|ethstats | 2021-05-24 13:42 +00:00:   stats: {\r\n0|ethstats | 2021-05-24 13:42 +00:00:     active: true,\r\n0|ethstats | 2021-05-24 13:42 +00:00:     syncing: false,\r\n0|ethstats | 2021-05-24 13:42 +00:00:     mining: false,\r\n0|ethstats | 2021-05-24 13:42 +00:00:     hashrate: 0,\r\n0|ethstats | 2021-05-24 13:42 +00:00:     peers: 25,\r\n0|ethstats | 2021-05-24 13:42 +00:00:     gasPrice: '66000000000',\r\n0|ethstats | 2021-05-24 13:42 +00:00:     uptime: 100\r\n0|ethstats | 2021-05-24 13:42 +00:00:   }\r\n0|ethstats | 2021-05-24 13:42 +00:00: }\r\n```",
  "closed_by": {
    "login": "mandrigin",
    "id": 466427,
    "node_id": "MDQ6VXNlcjQ2NjQyNw==",
    "avatar_url": "https://avatars.githubusercontent.com/u/466427?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/mandrigin",
    "html_url": "https://github.com/mandrigin",
    "followers_url": "https://api.github.com/users/mandrigin/followers",
    "following_url": "https://api.github.com/users/mandrigin/following{/other_user}",
    "gists_url": "https://api.github.com/users/mandrigin/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/mandrigin/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/mandrigin/subscriptions",
    "organizations_url": "https://api.github.com/users/mandrigin/orgs",
    "repos_url": "https://api.github.com/users/mandrigin/repos",
    "events_url": "https://api.github.com/users/mandrigin/events{/privacy}",
    "received_events_url": "https://api.github.com/users/mandrigin/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/2004/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/2004/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1100466191",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/2004#issuecomment-1100466191",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/2004",
    "id": 1100466191,
    "node_id": "IC_kwDOC0FsAM5Bl8gP",
    "user": {
      "login": "MysticRyuujin",
      "id": 8877131,
      "node_id": "MDQ6VXNlcjg4NzcxMzE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8877131?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MysticRyuujin",
      "html_url": "https://github.com/MysticRyuujin",
      "followers_url": "https://api.github.com/users/MysticRyuujin/followers",
      "following_url": "https://api.github.com/users/MysticRyuujin/following{/other_user}",
      "gists_url": "https://api.github.com/users/MysticRyuujin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MysticRyuujin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MysticRyuujin/subscriptions",
      "organizations_url": "https://api.github.com/users/MysticRyuujin/orgs",
      "repos_url": "https://api.github.com/users/MysticRyuujin/repos",
      "events_url": "https://api.github.com/users/MysticRyuujin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MysticRyuujin/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-04-15T23:15:56Z",
    "updated_at": "2022-04-15T23:15:56Z",
    "author_association": "CONTRIBUTOR",
    "body": "For what it's worth this still doesn't work. The behavior reported is still the same for the most part.\r\n\r\nI tried off latest stable and the goerli ethstats-client repo, still busted.\r\n![image](https://user-images.githubusercontent.com/8877131/163651700-edba6ca1-116b-4228-9a18-4b0b122f9d08.png)\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1100466191/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1100724298",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/2004#issuecomment-1100724298",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/2004",
    "id": 1100724298,
    "node_id": "IC_kwDOC0FsAM5Bm7hK",
    "user": {
      "login": "MysticRyuujin",
      "id": 8877131,
      "node_id": "MDQ6VXNlcjg4NzcxMzE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8877131?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MysticRyuujin",
      "html_url": "https://github.com/MysticRyuujin",
      "followers_url": "https://api.github.com/users/MysticRyuujin/followers",
      "following_url": "https://api.github.com/users/MysticRyuujin/following{/other_user}",
      "gists_url": "https://api.github.com/users/MysticRyuujin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MysticRyuujin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MysticRyuujin/subscriptions",
      "organizations_url": "https://api.github.com/users/MysticRyuujin/orgs",
      "repos_url": "https://api.github.com/users/MysticRyuujin/repos",
      "events_url": "https://api.github.com/users/MysticRyuujin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MysticRyuujin/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-04-16T18:13:35Z",
    "updated_at": "2022-04-16T18:13:35Z",
    "author_association": "CONTRIBUTOR",
    "body": "Here's `pm2 logs` during startup:\r\n\r\n```\r\n0|rpcdaemon  | 2022-04-16 13:10 -05:00: [eth]     \r\n0|rpcdaemon  | 2022-04-16 13:10 -05:00: [eth]     NET STATS CLIENT\r\n0|rpcdaemon  | 2022-04-16 13:10 -05:00: [eth]     v0.1.1\r\n0|rpcdaemon  | 2022-04-16 13:10 -05:00: [eth]     \r\n0|rpcdaemon  | 2022-04-16 13:10 -05:00: [eth]     \r\n0|rpcdaemon  | 2022-04-16 13:10 -05:00: [eth] =i= Starting web3 connection\r\n0|rpcdaemon  | 2022-04-16 13:10 -05:00: [eth] =âœ“= Web3 connection established\r\n0|rpcdaemon  | 2022-04-16 13:10 -05:00: [eth] ==> Getting info\r\n0|rpcdaemon  | 2022-04-16 13:10 -05:00: [eth] =i= {\r\n0|rpcdaemon  | 2022-04-16 13:10 -05:00:   name: 'archivenode.io - node04',\r\n0|rpcdaemon  | 2022-04-16 13:10 -05:00:   contact: '@MysticRyuujin',\r\n0|rpcdaemon  | 2022-04-16 13:10 -05:00:   coinbase: null,\r\n0|rpcdaemon  | 2022-04-16 13:10 -05:00:   node: 'erigon/2022.04.2/linux-amd64/go1.17.9',\r\n0|rpcdaemon  | 2022-04-16 13:10 -05:00:   net: '1',\r\n0|rpcdaemon  | 2022-04-16 13:10 -05:00:   protocol: 66,\r\n0|rpcdaemon  | 2022-04-16 13:10 -05:00:   api: '0.15.3',\r\n0|rpcdaemon  | 2022-04-16 13:10 -05:00:   port: '30304',\r\n0|rpcdaemon  | 2022-04-16 13:10 -05:00:   os: 'linux',\r\n0|rpcdaemon  | 2022-04-16 13:10 -05:00:   os_v: '5.4.0-107-generic',\r\n0|rpcdaemon  | 2022-04-16 13:10 -05:00:   client: '0.1.1',\r\n0|rpcdaemon  | 2022-04-16 13:10 -05:00:   canUpdateHistory: true\r\n0|rpcdaemon  | 2022-04-16 13:10 -05:00: }\r\n0|rpcdaemon  | 2022-04-16 13:10 -05:00: [wsc] =i= Starting socket connection\r\n0|rpcdaemon  | 2022-04-16 13:10 -05:00: [eth] =âœ“= Installed chain filter\r\n0|rpcdaemon  | 2022-04-16 13:10 -05:00: [eth] =âœ“= Installed pending filter\r\n0|rpcdaemon  | 2022-04-16 13:10 -05:00: [wsc] =i= The socket connection has been opened.\r\n0|rpcdaemon  | 2022-04-16 13:10 -05:00: [eth]     Trying to login\r\n0|rpcdaemon  | 2022-04-16 13:10 -05:00: [wsc] =âœ“= The socket connection has been established.\r\n0|rpcdaemon  | 2022-04-16 13:10 -05:00: [eth] ==> Got same block: 14597910\r\n0|rpcdaemon  | 2022-04-16 13:10 -05:00: [eth] =i= {\r\n0|rpcdaemon  | 2022-04-16 13:10 -05:00:   id: 'archivenodeIoNode04',\r\n0|rpcdaemon  | 2022-04-16 13:10 -05:00:   stats: {\r\n0|rpcdaemon  | 2022-04-16 13:10 -05:00:     active: true,\r\n0|rpcdaemon  | 2022-04-16 13:10 -05:00:     syncing: false,\r\n0|rpcdaemon  | 2022-04-16 13:10 -05:00:     mining: false,\r\n0|rpcdaemon  | 2022-04-16 13:10 -05:00:     hashrate: 0,\r\n0|rpcdaemon  | 2022-04-16 13:10 -05:00:     peers: 39,\r\n0|rpcdaemon  | 2022-04-16 13:10 -05:00:     gasPrice: '31591802788',\r\n0|rpcdaemon  | 2022-04-16 13:10 -05:00:     uptime: 100\r\n0|rpcdaemon  | 2022-04-16 13:10 -05:00:   }\r\n0|rpcdaemon  | 2022-04-16 13:10 -05:00: }\r\n0|rpcdaemon  | 2022-04-16 13:12 -05:00: [eth] =i= {\r\n0|rpcdaemon  | 2022-04-16 13:12 -05:00:   id: 'archivenodeIoNode04',\r\n0|rpcdaemon  | 2022-04-16 13:12 -05:00:   stats: {\r\n0|rpcdaemon  | 2022-04-16 13:12 -05:00:     active: true,\r\n0|rpcdaemon  | 2022-04-16 13:12 -05:00:     syncing: false,\r\n0|rpcdaemon  | 2022-04-16 13:12 -05:00:     mining: false,\r\n0|rpcdaemon  | 2022-04-16 13:12 -05:00:     hashrate: 0,\r\n0|rpcdaemon  | 2022-04-16 13:12 -05:00:     peers: 38,\r\n0|rpcdaemon  | 2022-04-16 13:12 -05:00:     gasPrice: '34696560828',\r\n0|rpcdaemon  | 2022-04-16 13:12 -05:00:     uptime: 100\r\n0|rpcdaemon  | 2022-04-16 13:12 -05:00:   }\r\n0|rpcdaemon  | 2022-04-16 13:12 -05:00: }\r\n0|rpcdaemon  | 2022-04-16 13:12 -05:00: [eth] =i= {\r\n0|rpcdaemon  | 2022-04-16 13:12 -05:00:   id: 'archivenodeIoNode04',\r\n0|rpcdaemon  | 2022-04-16 13:12 -05:00:   stats: {\r\n0|rpcdaemon  | 2022-04-16 13:12 -05:00:     active: true,\r\n0|rpcdaemon  | 2022-04-16 13:12 -05:00:     syncing: false,\r\n0|rpcdaemon  | 2022-04-16 13:12 -05:00:     mining: false,\r\n0|rpcdaemon  | 2022-04-16 13:12 -05:00:     hashrate: 0,\r\n0|rpcdaemon  | 2022-04-16 13:12 -05:00:     peers: 38,\r\n0|rpcdaemon  | 2022-04-16 13:12 -05:00:     gasPrice: '38905616641',\r\n0|rpcdaemon  | 2022-04-16 13:12 -05:00:     uptime: 100\r\n0|rpcdaemon  | 2022-04-16 13:12 -05:00:   }\r\n0|rpcdaemon  | 2022-04-16 13:12 -05:00: }\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1100724298/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1177340464",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/2004#issuecomment-1177340464",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/2004",
    "id": 1177340464,
    "node_id": "IC_kwDOC0FsAM5GLMow",
    "user": {
      "login": "mandrigin",
      "id": 466427,
      "node_id": "MDQ6VXNlcjQ2NjQyNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/466427?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mandrigin",
      "html_url": "https://github.com/mandrigin",
      "followers_url": "https://api.github.com/users/mandrigin/followers",
      "following_url": "https://api.github.com/users/mandrigin/following{/other_user}",
      "gists_url": "https://api.github.com/users/mandrigin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mandrigin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mandrigin/subscriptions",
      "organizations_url": "https://api.github.com/users/mandrigin/orgs",
      "repos_url": "https://api.github.com/users/mandrigin/repos",
      "events_url": "https://api.github.com/users/mandrigin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mandrigin/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-07-07T09:58:14Z",
    "updated_at": "2022-07-07T09:58:14Z",
    "author_association": "COLLABORATOR",
    "body": "@MysticRyuujin is it still broken? If so, please reopen",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1177340464/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
