{
  "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/1764",
  "repository_url": "https://api.github.com/repos/ledgerwatch/erigon",
  "labels_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/1764/labels{/name}",
  "comments_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/1764/comments",
  "events_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/1764/events",
  "html_url": "https://github.com/ledgerwatch/erigon/issues/1764",
  "id": 862636549,
  "node_id": "MDU6SXNzdWU4NjI2MzY1NDk=",
  "number": 1764,
  "title": "Aleut sync restart issue",
  "user": {
    "login": "AlexeyAkhunov",
    "id": 13686139,
    "node_id": "MDQ6VXNlcjEzNjg2MTM5",
    "avatar_url": "https://avatars.githubusercontent.com/u/13686139?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/AlexeyAkhunov",
    "html_url": "https://github.com/AlexeyAkhunov",
    "followers_url": "https://api.github.com/users/AlexeyAkhunov/followers",
    "following_url": "https://api.github.com/users/AlexeyAkhunov/following{/other_user}",
    "gists_url": "https://api.github.com/users/AlexeyAkhunov/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/AlexeyAkhunov/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/AlexeyAkhunov/subscriptions",
    "organizations_url": "https://api.github.com/users/AlexeyAkhunov/orgs",
    "repos_url": "https://api.github.com/users/AlexeyAkhunov/repos",
    "events_url": "https://api.github.com/users/AlexeyAkhunov/events{/privacy}",
    "received_events_url": "https://api.github.com/users/AlexeyAkhunov/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": {
    "login": "JekaMas",
    "id": 3192700,
    "node_id": "MDQ6VXNlcjMxOTI3MDA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/3192700?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/JekaMas",
    "html_url": "https://github.com/JekaMas",
    "followers_url": "https://api.github.com/users/JekaMas/followers",
    "following_url": "https://api.github.com/users/JekaMas/following{/other_user}",
    "gists_url": "https://api.github.com/users/JekaMas/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/JekaMas/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/JekaMas/subscriptions",
    "organizations_url": "https://api.github.com/users/JekaMas/orgs",
    "repos_url": "https://api.github.com/users/JekaMas/repos",
    "events_url": "https://api.github.com/users/JekaMas/events{/privacy}",
    "received_events_url": "https://api.github.com/users/JekaMas/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "JekaMas",
      "id": 3192700,
      "node_id": "MDQ6VXNlcjMxOTI3MDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3192700?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/JekaMas",
      "html_url": "https://github.com/JekaMas",
      "followers_url": "https://api.github.com/users/JekaMas/followers",
      "following_url": "https://api.github.com/users/JekaMas/following{/other_user}",
      "gists_url": "https://api.github.com/users/JekaMas/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/JekaMas/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/JekaMas/subscriptions",
      "organizations_url": "https://api.github.com/users/JekaMas/orgs",
      "repos_url": "https://api.github.com/users/JekaMas/repos",
      "events_url": "https://api.github.com/users/JekaMas/events{/privacy}",
      "received_events_url": "https://api.github.com/users/JekaMas/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 1,
  "created_at": "2021-04-20T09:52:00Z",
  "updated_at": "2021-04-23T17:47:06Z",
  "closed_at": "2021-04-23T17:47:06Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "\r\n````\r\nalexsharp@Alexs-MacBook-Pro turbo-geth % ./build/bin/tg --datadir ~/aleut --chain aleut --staticpeers enode://0c72e2b7873e4342d725b5990c17adb2b159aad2ff5853de7e4910b25522a1f9e78f9cd802a8a3225b8fae4e994e522b50d6bd5a163eb3a7b49a0a73ca9a1c7e@3.12.166.199:30303,enode://aec88fd902744bf67705c098bf532b01017ccc3a156395508e2d9c4e7c22699ecccae1e7316614f8a2d4c5698a9be3fe6151ee25b9ed4aa052f88e112c65387a@164.90.171.157:31559,enode://d4937b184f79b21845c290902e3667b9e8e96af3cf7b4917e85c7d3aa12d6ed22720d3c3f6ef7d6f93311f5c4ddc0c1e2a166ea4a765220212e49dfd54eec456@quilt.link:30308\r\nINFO [04-20|10:50:12.876] Build info                               git_branch=aleut git_commit=1355ff23733e42cd0cf1de698aa7384d8a9db66d\r\nINFO [04-20|10:50:12.876] Starting Turbo-Geth on                   devnet=aleut\r\nINFO [04-20|10:50:12.879] Maximum peer count                       ETH=50 total=50\r\nINFO [04-20|10:50:12.879] Enabling recording of key preimages since archive mode is used\r\nINFO [04-20|10:50:12.879] Set global gas cap                       cap=25000000\r\nINFO [04-20|10:50:12.879] Opening Database (LMDB)                  mapSize=\"2.0 TB\"\r\nINFO [04-20|10:50:12.882] database closed (LMDB)                   lmdb=inMem\r\nINFO [04-20|10:50:12.883] Initialised chain configuration          config=\"{ChainID: 7822 Homestead: 0 DAO: <nil> DAOSupport: true EIP150: 0 EIP155: 0 EIP158: 0 Byzantium: 0 Constantinople: 0 Petersburg: 0 Istanbul: 0, Muir Glacier: <nil>, Berlin: 0, YOLO v3: 0, Aleut: 10, Engine: clique}\"\r\nINFO [04-20|10:50:12.883] Disk storage enabled for ethash DAGs     dir=/Users/alexsharp/Library/tg-ethash count=2\r\nINFO [04-20|10:50:12.885] Initialising Ethereum protocol           network=7822\r\nINFO [04-20|10:50:12.887] Most recent local header                 number=63670 hash=\"a91d63…239cff\" td=128364 age=14s\r\nINFO [04-20|10:50:12.887] Most recent local block                  number=44663 hash=\"a4a00d…0bcd6b\" td=90350  age=3d7h11m\r\nINFO [04-20|10:50:12.887] Starting peer-to-peer node               instance=turbo-geth/v2021.04.4-alpha-1355ff23/darwin-amd64/go1.16.3\r\nINFO [04-20|10:50:12.889] New local node record                    seq=7 id=c159f9a2d09623b6 ip=127.0.0.1 udp=30303 tcp=30303\r\nINFO [04-20|10:50:12.890] Started P2P networking                   self=enode://222c9ac064a8ceea5571c44367731d32952374fc598287e53251dd247957a34bc65f84e9ce9eb2fc1ae302c8d8b295234029741748d18416e9ddf97bb39c86c8@127.0.0.1:30303\r\nINFO [04-20|10:50:15.430] New local node record                    seq=8 id=c159f9a2d09623b6 ip=86.148.180.254 udp=30303 tcp=30303\r\nINFO [04-20|10:50:23.445] Looking for peers                        peercount=2 tried=3 static=3\r\nINFO [04-20|10:50:28.023] Block synchronisation started\r\nWARN [04-20|10:50:28.330] Invalid header encountered               number=63670 hash=\"a91d63…239cff\" parent=\"09b7a9…3a7a1d\" err=\"a nil snap for 63669 block: unknown ancestor\"\r\nWARN [04-20|10:50:28.331] Synchronisation failed, dropping peer    peer=b947ee601f194c7ec27dd52636267c845cc42b57ccb869d655e5d5fb620cc69a err=\"retrieved hash chain is invalid: a nil snap for 63669 block: unknown ancestor\"\r\nERROR[04-20|10:50:28.331] Ethereum peer removal failed             peer=b947ee60 err=\"peer not registered\"\r\nINFO [04-20|10:50:33.647] Looking for peers                        peercount=1 tried=0 static=3\r\nINFO [04-20|10:50:43.920] Looking for peers                        peercount=0 tried=0 static=3\r\nINFO [04-20|10:50:54.193] Looking for peers                        peercount=2 tried=3 static=3\r\nWARN [04-20|10:50:58.324] Invalid header encountered               number=63670 hash=\"a91d63…239cff\" parent=\"09b7a9…3a7a1d\" err=\"a nil snap for 63669 block: unknown ancestor\"\r\nWARN [04-20|10:50:58.324] Synchronisation failed, dropping peer    peer=b947ee601f194c7ec27dd52636267c845cc42b57ccb869d655e5d5fb620cc69a err=\"retrieved hash chain is invalid: a nil snap for 63669 block: unknown ancestor\"\r\n````\r\n",
  "closed_by": {
    "login": "JekaMas",
    "id": 3192700,
    "node_id": "MDQ6VXNlcjMxOTI3MDA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/3192700?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/JekaMas",
    "html_url": "https://github.com/JekaMas",
    "followers_url": "https://api.github.com/users/JekaMas/followers",
    "following_url": "https://api.github.com/users/JekaMas/following{/other_user}",
    "gists_url": "https://api.github.com/users/JekaMas/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/JekaMas/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/JekaMas/subscriptions",
    "organizations_url": "https://api.github.com/users/JekaMas/orgs",
    "repos_url": "https://api.github.com/users/JekaMas/repos",
    "events_url": "https://api.github.com/users/JekaMas/events{/privacy}",
    "received_events_url": "https://api.github.com/users/JekaMas/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/1764/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/1764/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/824998902",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/1764#issuecomment-824998902",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/1764",
    "id": 824998902,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgyNDk5ODkwMg==",
    "user": {
      "login": "JekaMas",
      "id": 3192700,
      "node_id": "MDQ6VXNlcjMxOTI3MDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3192700?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/JekaMas",
      "html_url": "https://github.com/JekaMas",
      "followers_url": "https://api.github.com/users/JekaMas/followers",
      "following_url": "https://api.github.com/users/JekaMas/following{/other_user}",
      "gists_url": "https://api.github.com/users/JekaMas/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/JekaMas/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/JekaMas/subscriptions",
      "organizations_url": "https://api.github.com/users/JekaMas/orgs",
      "repos_url": "https://api.github.com/users/JekaMas/repos",
      "events_url": "https://api.github.com/users/JekaMas/events{/privacy}",
      "received_events_url": "https://api.github.com/users/JekaMas/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-04-22T16:35:38Z",
    "updated_at": "2021-04-22T16:35:38Z",
    "author_association": "CONTRIBUTOR",
    "body": "It looks like the scenario is\r\n\r\n1. header as high as possible. stage 1 done\r\n2. stage 3 in the middle\r\n3. stop the node\r\n4. start the node\r\n\r\nkeep digging",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/824998902/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
