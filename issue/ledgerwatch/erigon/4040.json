{
  "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/4040",
  "repository_url": "https://api.github.com/repos/ledgerwatch/erigon",
  "labels_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/4040/labels{/name}",
  "comments_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/4040/comments",
  "events_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/4040/events",
  "html_url": "https://github.com/ledgerwatch/erigon/issues/4040",
  "id": 1221920921,
  "node_id": "I_kwDOC0FsAM5I1QiZ",
  "number": 4040,
  "title": "tracing returns 'parent header not found' before block #14500003",
  "user": {
    "login": "geomad",
    "id": 7707517,
    "node_id": "MDQ6VXNlcjc3MDc1MTc=",
    "avatar_url": "https://avatars.githubusercontent.com/u/7707517?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/geomad",
    "html_url": "https://github.com/geomad",
    "followers_url": "https://api.github.com/users/geomad/followers",
    "following_url": "https://api.github.com/users/geomad/following{/other_user}",
    "gists_url": "https://api.github.com/users/geomad/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/geomad/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/geomad/subscriptions",
    "organizations_url": "https://api.github.com/users/geomad/orgs",
    "repos_url": "https://api.github.com/users/geomad/repos",
    "events_url": "https://api.github.com/users/geomad/events{/privacy}",
    "received_events_url": "https://api.github.com/users/geomad/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 1,
  "created_at": "2022-04-30T21:04:13Z",
  "updated_at": "2022-05-01T03:35:11Z",
  "closed_at": "2022-05-01T03:35:11Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "#### System information\r\n\r\nErigon version: v2022.04.04 (devel)\r\nCommit hash : 47f492663ee48fd15aa5bc52ff82211b658e44be\r\nMachine specs: 64 GB ram, AMD 3900x, 4TB Nvme gen4 ssd\r\nOS & Version: Linux Debian\r\n\r\n#### Expected behavior\r\n `trace_filter` and `trace_replayTransaction` return expected results in old blocks (before #14500003)\r\n\r\n#### Actual behavior\r\nrpc returns `Returned error: parent header 13603717(b855ab229a1ea2fe3aa94cbbd6c7eaa7227c3f22381d24cdd46736a402d96664) not found`\r\n\r\nThe node is an archive node without any pruning flags set up.\r\n` Effective                                prune_flags=\"--prune=\" snapshot_flags=\"--syncmode=snap\"`\r\n `eth_getBlock` returns expected results.\r\n \r\nNot sure if this is related: When the node finished the initial fresh sync, and started syncing the rest of the remaining blocks to find the tip of the chain, it was stuck on receiving headers for the same block (not sure which one since I restarted the server and lost the logs), and I had to restart it. After that it finished syncing normally.",
  "closed_by": {
    "login": "AskAlexSharov",
    "id": 46885206,
    "node_id": "MDQ6VXNlcjQ2ODg1MjA2",
    "avatar_url": "https://avatars.githubusercontent.com/u/46885206?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/AskAlexSharov",
    "html_url": "https://github.com/AskAlexSharov",
    "followers_url": "https://api.github.com/users/AskAlexSharov/followers",
    "following_url": "https://api.github.com/users/AskAlexSharov/following{/other_user}",
    "gists_url": "https://api.github.com/users/AskAlexSharov/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/AskAlexSharov/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/AskAlexSharov/subscriptions",
    "organizations_url": "https://api.github.com/users/AskAlexSharov/orgs",
    "repos_url": "https://api.github.com/users/AskAlexSharov/repos",
    "events_url": "https://api.github.com/users/AskAlexSharov/events{/privacy}",
    "received_events_url": "https://api.github.com/users/AskAlexSharov/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/4040/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/4040/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1114119239",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/4040#issuecomment-1114119239",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/4040",
    "id": 1114119239,
    "node_id": "IC_kwDOC0FsAM5CaBxH",
    "user": {
      "login": "AskAlexSharov",
      "id": 46885206,
      "node_id": "MDQ6VXNlcjQ2ODg1MjA2",
      "avatar_url": "https://avatars.githubusercontent.com/u/46885206?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/AskAlexSharov",
      "html_url": "https://github.com/AskAlexSharov",
      "followers_url": "https://api.github.com/users/AskAlexSharov/followers",
      "following_url": "https://api.github.com/users/AskAlexSharov/following{/other_user}",
      "gists_url": "https://api.github.com/users/AskAlexSharov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/AskAlexSharov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/AskAlexSharov/subscriptions",
      "organizations_url": "https://api.github.com/users/AskAlexSharov/orgs",
      "repos_url": "https://api.github.com/users/AskAlexSharov/repos",
      "events_url": "https://api.github.com/users/AskAlexSharov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/AskAlexSharov/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-05-01T03:35:11Z",
    "updated_at": "2022-05-01T03:35:11Z",
    "author_association": "COLLABORATOR",
    "body": "here is the fix https://github.com/ledgerwatch/erigon/pull/4042",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1114119239/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 1,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
