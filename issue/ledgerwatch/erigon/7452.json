{
  "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/7452",
  "repository_url": "https://api.github.com/repos/ledgerwatch/erigon",
  "labels_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/7452/labels{/name}",
  "comments_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/7452/comments",
  "events_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/7452/events",
  "html_url": "https://github.com/ledgerwatch/erigon/issues/7452",
  "id": 1698514620,
  "node_id": "I_kwDOC0FsAM5lPUa8",
  "number": 7452,
  "title": "Is there any detail about the problems of lmdb-go?",
  "user": {
    "login": "lurais",
    "id": 107600021,
    "node_id": "U_kgDOBmnYlQ",
    "avatar_url": "https://avatars.githubusercontent.com/u/107600021?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/lurais",
    "html_url": "https://github.com/lurais",
    "followers_url": "https://api.github.com/users/lurais/followers",
    "following_url": "https://api.github.com/users/lurais/following{/other_user}",
    "gists_url": "https://api.github.com/users/lurais/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/lurais/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/lurais/subscriptions",
    "organizations_url": "https://api.github.com/users/lurais/orgs",
    "repos_url": "https://api.github.com/users/lurais/repos",
    "events_url": "https://api.github.com/users/lurais/events{/privacy}",
    "received_events_url": "https://api.github.com/users/lurais/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 21,
  "created_at": "2023-05-06T07:25:03Z",
  "updated_at": "2023-05-16T09:20:08Z",
  "closed_at": "2023-05-15T08:10:55Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "Hello , I am very interested in the problems you discribed before, and I want to know how I can find it appear again. for I want to confirm that these problems is still exists in other versions of lmdb.",
  "closed_by": {
    "login": "AskAlexSharov",
    "id": 46885206,
    "node_id": "MDQ6VXNlcjQ2ODg1MjA2",
    "avatar_url": "https://avatars.githubusercontent.com/u/46885206?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/AskAlexSharov",
    "html_url": "https://github.com/AskAlexSharov",
    "followers_url": "https://api.github.com/users/AskAlexSharov/followers",
    "following_url": "https://api.github.com/users/AskAlexSharov/following{/other_user}",
    "gists_url": "https://api.github.com/users/AskAlexSharov/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/AskAlexSharov/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/AskAlexSharov/subscriptions",
    "organizations_url": "https://api.github.com/users/AskAlexSharov/orgs",
    "repos_url": "https://api.github.com/users/AskAlexSharov/repos",
    "events_url": "https://api.github.com/users/AskAlexSharov/events{/privacy}",
    "received_events_url": "https://api.github.com/users/AskAlexSharov/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/7452/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/7452/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1537094720",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/7452#issuecomment-1537094720",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/7452",
    "id": 1537094720,
    "node_id": "IC_kwDOC0FsAM5bnjRA",
    "user": {
      "login": "AskAlexSharov",
      "id": 46885206,
      "node_id": "MDQ6VXNlcjQ2ODg1MjA2",
      "avatar_url": "https://avatars.githubusercontent.com/u/46885206?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/AskAlexSharov",
      "html_url": "https://github.com/AskAlexSharov",
      "followers_url": "https://api.github.com/users/AskAlexSharov/followers",
      "following_url": "https://api.github.com/users/AskAlexSharov/following{/other_user}",
      "gists_url": "https://api.github.com/users/AskAlexSharov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/AskAlexSharov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/AskAlexSharov/subscriptions",
      "organizations_url": "https://api.github.com/users/AskAlexSharov/orgs",
      "repos_url": "https://api.github.com/users/AskAlexSharov/repos",
      "events_url": "https://api.github.com/users/AskAlexSharov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/AskAlexSharov/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-05-06T08:59:08Z",
    "updated_at": "2023-05-06T08:59:08Z",
    "author_association": "COLLABORATOR",
    "body": "I have no context. Don't know what you are talking about. \r\nAbout known problem of lmdb may read a bit here: https://github.com/erthink/libmdbx/blob/bb8f43181783686879219846d64379a04c1430e3/mdbx.h#L1197",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1537094720/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1537097516",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/7452#issuecomment-1537097516",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/7452",
    "id": 1537097516,
    "node_id": "IC_kwDOC0FsAM5bnj8s",
    "user": {
      "login": "lurais",
      "id": 107600021,
      "node_id": "U_kgDOBmnYlQ",
      "avatar_url": "https://avatars.githubusercontent.com/u/107600021?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lurais",
      "html_url": "https://github.com/lurais",
      "followers_url": "https://api.github.com/users/lurais/followers",
      "following_url": "https://api.github.com/users/lurais/following{/other_user}",
      "gists_url": "https://api.github.com/users/lurais/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lurais/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lurais/subscriptions",
      "organizations_url": "https://api.github.com/users/lurais/orgs",
      "repos_url": "https://api.github.com/users/lurais/repos",
      "events_url": "https://api.github.com/users/lurais/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lurais/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-05-06T09:11:58Z",
    "updated_at": "2023-05-06T09:11:58Z",
    "author_association": "NONE",
    "body": "> \r\nThis is the detail:https://github.com/ledgerwatch/erigon/wiki/LMDB-freelist-illustrated-guide, is this solved in go but not in c code? I am not sure how to make it appear again , is there any detail about how to make it appear again as I want to make sure that other versions of lmdb does not have this problem?",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1537097516/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1537101763",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/7452#issuecomment-1537101763",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/7452",
    "id": 1537101763,
    "node_id": "IC_kwDOC0FsAM5bnk_D",
    "user": {
      "login": "AskAlexSharov",
      "id": 46885206,
      "node_id": "MDQ6VXNlcjQ2ODg1MjA2",
      "avatar_url": "https://avatars.githubusercontent.com/u/46885206?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/AskAlexSharov",
      "html_url": "https://github.com/AskAlexSharov",
      "followers_url": "https://api.github.com/users/AskAlexSharov/followers",
      "following_url": "https://api.github.com/users/AskAlexSharov/following{/other_user}",
      "gists_url": "https://api.github.com/users/AskAlexSharov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/AskAlexSharov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/AskAlexSharov/subscriptions",
      "organizations_url": "https://api.github.com/users/AskAlexSharov/orgs",
      "repos_url": "https://api.github.com/users/AskAlexSharov/repos",
      "events_url": "https://api.github.com/users/AskAlexSharov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/AskAlexSharov/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-05-06T09:35:11Z",
    "updated_at": "2023-05-06T09:35:11Z",
    "author_association": "COLLABORATOR",
    "body": "It needs to be solved in C code (and lmdb-go probably does have our patch). But it's not 100% solved - many corner-cases can cause freelist to grow or slowdown. so, it's not really solved in lmdb (in mdbx is a bit better, but still up to some dbsize/deletes_amount/use-case/etc...). better solution - increase pageSize - less pages less maintenance cost of freelist. ",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1537101763/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1537102871",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/7452#issuecomment-1537102871",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/7452",
    "id": 1537102871,
    "node_id": "IC_kwDOC0FsAM5bnlQX",
    "user": {
      "login": "lurais",
      "id": 107600021,
      "node_id": "U_kgDOBmnYlQ",
      "avatar_url": "https://avatars.githubusercontent.com/u/107600021?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lurais",
      "html_url": "https://github.com/lurais",
      "followers_url": "https://api.github.com/users/lurais/followers",
      "following_url": "https://api.github.com/users/lurais/following{/other_user}",
      "gists_url": "https://api.github.com/users/lurais/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lurais/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lurais/subscriptions",
      "organizations_url": "https://api.github.com/users/lurais/orgs",
      "repos_url": "https://api.github.com/users/lurais/repos",
      "events_url": "https://api.github.com/users/lurais/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lurais/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-05-06T09:40:53Z",
    "updated_at": "2023-05-06T09:40:53Z",
    "author_association": "NONE",
    "body": "So, why don't you figure out it and push lmdb to solve it in C code? Is this problem can not be solved completely in any cases? I wonder how can I make it appear again, Is that just talked here :https://www.mail-archive.com/openldap-bugs@openldap.org/msg03806.html",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1537102871/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1537169578",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/7452#issuecomment-1537169578",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/7452",
    "id": 1537169578,
    "node_id": "IC_kwDOC0FsAM5bn1iq",
    "user": {
      "login": "AskAlexSharov",
      "id": 46885206,
      "node_id": "MDQ6VXNlcjQ2ODg1MjA2",
      "avatar_url": "https://avatars.githubusercontent.com/u/46885206?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/AskAlexSharov",
      "html_url": "https://github.com/AskAlexSharov",
      "followers_url": "https://api.github.com/users/AskAlexSharov/followers",
      "following_url": "https://api.github.com/users/AskAlexSharov/following{/other_user}",
      "gists_url": "https://api.github.com/users/AskAlexSharov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/AskAlexSharov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/AskAlexSharov/subscriptions",
      "organizations_url": "https://api.github.com/users/AskAlexSharov/orgs",
      "repos_url": "https://api.github.com/users/AskAlexSharov/repos",
      "events_url": "https://api.github.com/users/AskAlexSharov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/AskAlexSharov/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-05-06T15:51:07Z",
    "updated_at": "2023-05-06T15:51:07Z",
    "author_association": "COLLABORATOR",
    "body": "1. We did patch C code. But for our use-case. \r\n2. It’s not really solvable for all use-cases, especially without breaking freelist format.\r\n3. Main problem is: 3.1. recursive dependency o self - to update freelist need update freelist 3.2. Freelist itself is big and may be evicted from pagecache. 3.3. Hard to deal with pages fragmentation. \r\n4. https://www.mail-archive.com/openldap-bugs@openldap.org/msg03806.html yes it’s related ",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1537169578/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1537845117",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/7452#issuecomment-1537845117",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/7452",
    "id": 1537845117,
    "node_id": "IC_kwDOC0FsAM5bqad9",
    "user": {
      "login": "lurais",
      "id": 107600021,
      "node_id": "U_kgDOBmnYlQ",
      "avatar_url": "https://avatars.githubusercontent.com/u/107600021?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lurais",
      "html_url": "https://github.com/lurais",
      "followers_url": "https://api.github.com/users/lurais/followers",
      "following_url": "https://api.github.com/users/lurais/following{/other_user}",
      "gists_url": "https://api.github.com/users/lurais/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lurais/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lurais/subscriptions",
      "organizations_url": "https://api.github.com/users/lurais/orgs",
      "repos_url": "https://api.github.com/users/lurais/repos",
      "events_url": "https://api.github.com/users/lurais/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lurais/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-05-08T06:52:52Z",
    "updated_at": "2023-05-08T06:52:52Z",
    "author_association": "NONE",
    "body": "> 1. We did patch C code. But for our use-case.\r\n> 2. It’s not really solvable for all use-cases, especially without breaking freelist format.\r\n> 3. Main problem is: 3.1. recursive dependency o self - to update freelist need update freelist 3.2. Freelist itself is big and may be evicted from pagecache. 3.3. Hard to deal with pages fragmentation.\r\n> 4. https://www.mail-archive.com/openldap-bugs@openldap.org/msg03806.html yes it’s related\r\n\r\nHello, how is the C code pr now? does it merged? And does lmdb intend to solve it in all use-cases or they think it is not a problem for it will appear in very little use cases? ",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1537845117/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1537882779",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/7452#issuecomment-1537882779",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/7452",
    "id": 1537882779,
    "node_id": "IC_kwDOC0FsAM5bqjqb",
    "user": {
      "login": "AskAlexSharov",
      "id": 46885206,
      "node_id": "MDQ6VXNlcjQ2ODg1MjA2",
      "avatar_url": "https://avatars.githubusercontent.com/u/46885206?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/AskAlexSharov",
      "html_url": "https://github.com/AskAlexSharov",
      "followers_url": "https://api.github.com/users/AskAlexSharov/followers",
      "following_url": "https://api.github.com/users/AskAlexSharov/following{/other_user}",
      "gists_url": "https://api.github.com/users/AskAlexSharov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/AskAlexSharov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/AskAlexSharov/subscriptions",
      "organizations_url": "https://api.github.com/users/AskAlexSharov/orgs",
      "repos_url": "https://api.github.com/users/AskAlexSharov/repos",
      "events_url": "https://api.github.com/users/AskAlexSharov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/AskAlexSharov/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-05-08T07:23:48Z",
    "updated_at": "2023-05-08T07:24:43Z",
    "author_association": "COLLABORATOR",
    "body": "We didn't create PR to upstream, because it's not easy. You can find patch in `Commits on Nov 10, 2020`: https://github.com/ledgerwatch/lmdb-go/commits/master/lmdb/mdb.c \r\n\r\nIt’s not really solvable for all use-cases, especially without breaking freelist format.\r\nOur use-case is DB >> RAM which is rare and we using crypto-hashed keys sometime which is also rare (updating much randomly-distributed pages). \r\nAlso issue can be partially-mitigated by avoiding OverfolwPages creation: by using values < 2Kb.\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1537882779/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1538054759",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/7452#issuecomment-1538054759",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/7452",
    "id": 1538054759,
    "node_id": "IC_kwDOC0FsAM5brNpn",
    "user": {
      "login": "lurais",
      "id": 107600021,
      "node_id": "U_kgDOBmnYlQ",
      "avatar_url": "https://avatars.githubusercontent.com/u/107600021?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lurais",
      "html_url": "https://github.com/lurais",
      "followers_url": "https://api.github.com/users/lurais/followers",
      "following_url": "https://api.github.com/users/lurais/following{/other_user}",
      "gists_url": "https://api.github.com/users/lurais/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lurais/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lurais/subscriptions",
      "organizations_url": "https://api.github.com/users/lurais/orgs",
      "repos_url": "https://api.github.com/users/lurais/repos",
      "events_url": "https://api.github.com/users/lurais/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lurais/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-05-08T09:30:29Z",
    "updated_at": "2023-05-08T09:30:29Z",
    "author_association": "NONE",
    "body": "> \r\n\r\nYou mean that the DB size is much more bigger than RAM so that the pages can not hold all the data, so the data access will need to read or write the hard disk more times?",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1538054759/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1538146941",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/7452#issuecomment-1538146941",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/7452",
    "id": 1538146941,
    "node_id": "IC_kwDOC0FsAM5brkJ9",
    "user": {
      "login": "AskAlexSharov",
      "id": 46885206,
      "node_id": "MDQ6VXNlcjQ2ODg1MjA2",
      "avatar_url": "https://avatars.githubusercontent.com/u/46885206?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/AskAlexSharov",
      "html_url": "https://github.com/AskAlexSharov",
      "followers_url": "https://api.github.com/users/AskAlexSharov/followers",
      "following_url": "https://api.github.com/users/AskAlexSharov/following{/other_user}",
      "gists_url": "https://api.github.com/users/AskAlexSharov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/AskAlexSharov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/AskAlexSharov/subscriptions",
      "organizations_url": "https://api.github.com/users/AskAlexSharov/orgs",
      "repos_url": "https://api.github.com/users/AskAlexSharov/repos",
      "events_url": "https://api.github.com/users/AskAlexSharov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/AskAlexSharov/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-05-08T10:33:16Z",
    "updated_at": "2023-05-08T10:33:16Z",
    "author_association": "COLLABORATOR",
    "body": "there are many-many different problems:\r\n- there is self-recursion: to update freelist need find free pages in freelist and update freelist. \r\n- if freelist is big - it's pages may evict from page cache. also it stored in not very compact way - lists of 8bytes_uint64 \r\n- if need find \"consequent N pages\" to reduce fragmentation (to insert/update values with OverfowPages) - you need full-scan of freelist in worst case - because current freelist implementation doesn't store any metadata about sequences of pages. And it's quite easy to \"use all available sequences in freelist\" - then will always do full-scan without result. \r\n- limit full-scan by M iterations - is not good idea in-general. you may fall into situation when DB has free-pages but can't use it (because of iterations limit) and always allocate new (growing).\r\n- even if you did full-scan of free-list - you can't defragment freelist or split it on chunks (to make updates cheaper by reducing amount of OverflowPages in freelist) - because freelist table key is ID of transaction and there is no gap between such ID's - means can't split record N to 2 records just because can't create 2 keys for new records. \r\n- even if you add such gap - need also start this ID not from 0 (otherwise can't split on chunks first record in freelist)\r\n\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1538146941/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1545291636",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/7452#issuecomment-1545291636",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/7452",
    "id": 1545291636,
    "node_id": "IC_kwDOC0FsAM5cG0d0",
    "user": {
      "login": "lurais",
      "id": 107600021,
      "node_id": "U_kgDOBmnYlQ",
      "avatar_url": "https://avatars.githubusercontent.com/u/107600021?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lurais",
      "html_url": "https://github.com/lurais",
      "followers_url": "https://api.github.com/users/lurais/followers",
      "following_url": "https://api.github.com/users/lurais/following{/other_user}",
      "gists_url": "https://api.github.com/users/lurais/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lurais/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lurais/subscriptions",
      "organizations_url": "https://api.github.com/users/lurais/orgs",
      "repos_url": "https://api.github.com/users/lurais/repos",
      "events_url": "https://api.github.com/users/lurais/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lurais/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-05-12T07:19:09Z",
    "updated_at": "2023-05-12T07:20:37Z",
    "author_association": "NONE",
    "body": "Thanks for your attention but I test that when use a lmdb to test the performance, it cost much more time to read some keys when the size of mdb is bigger than the phisical memory size ,have you meet this problem? for example ,when the physical memory size is 2G and it cost much more time to read some keys when the storage in mdb is more than 2G.",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1545291636/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1545313722",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/7452#issuecomment-1545313722",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/7452",
    "id": 1545313722,
    "node_id": "IC_kwDOC0FsAM5cG526",
    "user": {
      "login": "AskAlexSharov",
      "id": 46885206,
      "node_id": "MDQ6VXNlcjQ2ODg1MjA2",
      "avatar_url": "https://avatars.githubusercontent.com/u/46885206?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/AskAlexSharov",
      "html_url": "https://github.com/AskAlexSharov",
      "followers_url": "https://api.github.com/users/AskAlexSharov/followers",
      "following_url": "https://api.github.com/users/AskAlexSharov/following{/other_user}",
      "gists_url": "https://api.github.com/users/AskAlexSharov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/AskAlexSharov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/AskAlexSharov/subscriptions",
      "organizations_url": "https://api.github.com/users/AskAlexSharov/orgs",
      "repos_url": "https://api.github.com/users/AskAlexSharov/repos",
      "events_url": "https://api.github.com/users/AskAlexSharov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/AskAlexSharov/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-05-12T07:38:49Z",
    "updated_at": "2023-05-12T07:38:49Z",
    "author_association": "COLLABORATOR",
    "body": "lmdb - it's mmap file. \r\ncan read any article about \"what is page fault in mmap\": https://biriukov.dev/docs/page-cache/5-more-about-mmap-file-access/#what-is-a-page-fault",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1545313722/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1545342323",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/7452#issuecomment-1545342323",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/7452",
    "id": 1545342323,
    "node_id": "IC_kwDOC0FsAM5cHA1z",
    "user": {
      "login": "lurais",
      "id": 107600021,
      "node_id": "U_kgDOBmnYlQ",
      "avatar_url": "https://avatars.githubusercontent.com/u/107600021?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lurais",
      "html_url": "https://github.com/lurais",
      "followers_url": "https://api.github.com/users/lurais/followers",
      "following_url": "https://api.github.com/users/lurais/following{/other_user}",
      "gists_url": "https://api.github.com/users/lurais/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lurais/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lurais/subscriptions",
      "organizations_url": "https://api.github.com/users/lurais/orgs",
      "repos_url": "https://api.github.com/users/lurais/repos",
      "events_url": "https://api.github.com/users/lurais/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lurais/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-05-12T08:02:45Z",
    "updated_at": "2023-05-12T08:02:45Z",
    "author_association": "NONE",
    "body": "> lmdb - it's mmap file. can read any article about \"what is page fault in mmap\": https://biriukov.dev/docs/page-cache/5-more-about-mmap-file-access/#what-is-a-page-fault\r\n\r\nas I know , mdb is a branch of lmdb, so ,how do you avoid this problem? ",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1545342323/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1545512632",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/7452#issuecomment-1545512632",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/7452",
    "id": 1545512632,
    "node_id": "IC_kwDOC0FsAM5cHqa4",
    "user": {
      "login": "AskAlexSharov",
      "id": 46885206,
      "node_id": "MDQ6VXNlcjQ2ODg1MjA2",
      "avatar_url": "https://avatars.githubusercontent.com/u/46885206?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/AskAlexSharov",
      "html_url": "https://github.com/AskAlexSharov",
      "followers_url": "https://api.github.com/users/AskAlexSharov/followers",
      "following_url": "https://api.github.com/users/AskAlexSharov/following{/other_user}",
      "gists_url": "https://api.github.com/users/AskAlexSharov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/AskAlexSharov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/AskAlexSharov/subscriptions",
      "organizations_url": "https://api.github.com/users/AskAlexSharov/orgs",
      "repos_url": "https://api.github.com/users/AskAlexSharov/repos",
      "events_url": "https://api.github.com/users/AskAlexSharov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/AskAlexSharov/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-05-12T10:14:36Z",
    "updated_at": "2023-05-12T10:14:36Z",
    "author_association": "COLLABORATOR",
    "body": "no silver bulet",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1545512632/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1545521527",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/7452#issuecomment-1545521527",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/7452",
    "id": 1545521527,
    "node_id": "IC_kwDOC0FsAM5cHsl3",
    "user": {
      "login": "lurais",
      "id": 107600021,
      "node_id": "U_kgDOBmnYlQ",
      "avatar_url": "https://avatars.githubusercontent.com/u/107600021?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lurais",
      "html_url": "https://github.com/lurais",
      "followers_url": "https://api.github.com/users/lurais/followers",
      "following_url": "https://api.github.com/users/lurais/following{/other_user}",
      "gists_url": "https://api.github.com/users/lurais/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lurais/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lurais/subscriptions",
      "organizations_url": "https://api.github.com/users/lurais/orgs",
      "repos_url": "https://api.github.com/users/lurais/repos",
      "events_url": "https://api.github.com/users/lurais/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lurais/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-05-12T10:22:18Z",
    "updated_at": "2023-05-12T10:22:18Z",
    "author_association": "NONE",
    "body": "> no silver bulet\r\n\r\nAs I see, if there is no too much data store in lmdb ,the query performance is better than leveldb, so you just use little storage space or just think it not matter?",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1545521527/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1546783677",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/7452#issuecomment-1546783677",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/7452",
    "id": 1546783677,
    "node_id": "IC_kwDOC0FsAM5cMgu9",
    "user": {
      "login": "AskAlexSharov",
      "id": 46885206,
      "node_id": "MDQ6VXNlcjQ2ODg1MjA2",
      "avatar_url": "https://avatars.githubusercontent.com/u/46885206?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/AskAlexSharov",
      "html_url": "https://github.com/AskAlexSharov",
      "followers_url": "https://api.github.com/users/AskAlexSharov/followers",
      "following_url": "https://api.github.com/users/AskAlexSharov/following{/other_user}",
      "gists_url": "https://api.github.com/users/AskAlexSharov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/AskAlexSharov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/AskAlexSharov/subscriptions",
      "organizations_url": "https://api.github.com/users/AskAlexSharov/orgs",
      "repos_url": "https://api.github.com/users/AskAlexSharov/repos",
      "events_url": "https://api.github.com/users/AskAlexSharov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/AskAlexSharov/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-05-14T01:26:59Z",
    "updated_at": "2023-05-14T01:26:59Z",
    "author_association": "COLLABORATOR",
    "body": "if in your use-case Data << RAM - then probably everything will be \"fast enough\". Most of edge-case problems will not happen in this use-case. Main problem is - you don't know much about use-case (is it OLAP or OLTP or HighlyParallel-writes or TimeSeries or ... ?).\r\n\r\nFYI: LevelDB doesn't support ACID transactions. Geth switched from LevelDB to PebbleDB - it also doesn't support transactions.\r\n\r\nLet me quote mdbx maintainer:\r\n```\r\nlibmdbx is [B-tree](https://en.wikipedia.org/wiki/B-tree) based, with [ACID](https://en.wikipedia.org/wiki/ACID) via [MVCC](https://en.wikipedia.org/wiki/Multiversion_concurrency_control)+[COW](https://en.wikipedia.org/wiki/Copy-on-write)+[Shadow paging](https://en.wikipedia.org/wiki/Shadow_paging), without [WAL](https://en.wikipedia.org/wiki/Write-ahead_logging), but mostly [non-blocking](https://en.wikipedia.org/wiki/Non-blocking_algorithm) for readers etc.\r\nRockDB is [LSM](https://en.wikipedia.org/wiki/Log-structured_merge-tree) based, with set of features, including compression...\r\nSo, ones are both storage engines, but explaining all the differences is only a little easier than explaining how the universe works.\r\n```\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1546783677/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1547141038",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/7452#issuecomment-1547141038",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/7452",
    "id": 1547141038,
    "node_id": "IC_kwDOC0FsAM5cN3-u",
    "user": {
      "login": "lurais",
      "id": 107600021,
      "node_id": "U_kgDOBmnYlQ",
      "avatar_url": "https://avatars.githubusercontent.com/u/107600021?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lurais",
      "html_url": "https://github.com/lurais",
      "followers_url": "https://api.github.com/users/lurais/followers",
      "following_url": "https://api.github.com/users/lurais/following{/other_user}",
      "gists_url": "https://api.github.com/users/lurais/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lurais/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lurais/subscriptions",
      "organizations_url": "https://api.github.com/users/lurais/orgs",
      "repos_url": "https://api.github.com/users/lurais/repos",
      "events_url": "https://api.github.com/users/lurais/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lurais/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-05-15T03:28:41Z",
    "updated_at": "2023-05-15T03:28:41Z",
    "author_association": "NONE",
    "body": "> \r\n\r\nIn fact, if we don’t know the type of use case, can we determine it by event tracking, such as recording all read and write frequencies, as far as I know, the eth use case should be relatively certain, right? In addition, the main reason to consider using mdbx is to support ACID? So compared to geth, where is the necessity of ACID for erigon?\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1547141038/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1547163300",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/7452#issuecomment-1547163300",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/7452",
    "id": 1547163300,
    "node_id": "IC_kwDOC0FsAM5cN9ak",
    "user": {
      "login": "AskAlexSharov",
      "id": 46885206,
      "node_id": "MDQ6VXNlcjQ2ODg1MjA2",
      "avatar_url": "https://avatars.githubusercontent.com/u/46885206?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/AskAlexSharov",
      "html_url": "https://github.com/AskAlexSharov",
      "followers_url": "https://api.github.com/users/AskAlexSharov/followers",
      "following_url": "https://api.github.com/users/AskAlexSharov/following{/other_user}",
      "gists_url": "https://api.github.com/users/AskAlexSharov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/AskAlexSharov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/AskAlexSharov/subscriptions",
      "organizations_url": "https://api.github.com/users/AskAlexSharov/orgs",
      "repos_url": "https://api.github.com/users/AskAlexSharov/repos",
      "events_url": "https://api.github.com/users/AskAlexSharov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/AskAlexSharov/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-05-15T04:07:05Z",
    "updated_at": "2023-05-15T04:07:05Z",
    "author_association": "COLLABORATOR",
    "body": "\"the eth use case should be relatively certain, right? \" - nope. save 1 new block every 5 seconds is not a problem at all. but then you need exec it, need store MerkleTrie, need store inverted index for tx-hashes, save history of state changes and inverted index about it, etc... erigon also has dedicated indices for eth_getLogs and trace_* methods. And also it need serve ~100 different RPC methods. \r\n\r\nHumanity using transactions - to save itself from \"database is in broken state\" issues - it's \"data integrity\". Erigon has > 50 tables in db. Also it has > 5 databases. Just read some articles/books about databases theory: transactions, isolation levels, durability, etc...\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1547163300/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1547253571",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/7452#issuecomment-1547253571",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/7452",
    "id": 1547253571,
    "node_id": "IC_kwDOC0FsAM5cOTdD",
    "user": {
      "login": "lurais",
      "id": 107600021,
      "node_id": "U_kgDOBmnYlQ",
      "avatar_url": "https://avatars.githubusercontent.com/u/107600021?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lurais",
      "html_url": "https://github.com/lurais",
      "followers_url": "https://api.github.com/users/lurais/followers",
      "following_url": "https://api.github.com/users/lurais/following{/other_user}",
      "gists_url": "https://api.github.com/users/lurais/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lurais/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lurais/subscriptions",
      "organizations_url": "https://api.github.com/users/lurais/orgs",
      "repos_url": "https://api.github.com/users/lurais/repos",
      "events_url": "https://api.github.com/users/lurais/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lurais/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-05-15T06:20:41Z",
    "updated_at": "2023-05-15T06:20:41Z",
    "author_association": "NONE",
    "body": "So, compared with geth, is it more important for erigon to guarantee acid? As far as I know, geth does not support this kind of acid , but there are not many cases of database corruption. If data corruption occurs, the data can also be recovered through fast synchronization, so is it worth spending these costs to support acid?",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1547253571/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1547390948",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/7452#issuecomment-1547390948",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/7452",
    "id": 1547390948,
    "node_id": "IC_kwDOC0FsAM5cO0_k",
    "user": {
      "login": "AskAlexSharov",
      "id": 46885206,
      "node_id": "MDQ6VXNlcjQ2ODg1MjA2",
      "avatar_url": "https://avatars.githubusercontent.com/u/46885206?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/AskAlexSharov",
      "html_url": "https://github.com/AskAlexSharov",
      "followers_url": "https://api.github.com/users/AskAlexSharov/followers",
      "following_url": "https://api.github.com/users/AskAlexSharov/following{/other_user}",
      "gists_url": "https://api.github.com/users/AskAlexSharov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/AskAlexSharov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/AskAlexSharov/subscriptions",
      "organizations_url": "https://api.github.com/users/AskAlexSharov/orgs",
      "repos_url": "https://api.github.com/users/AskAlexSharov/repos",
      "events_url": "https://api.github.com/users/AskAlexSharov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/AskAlexSharov/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-05-15T08:10:55Z",
    "updated_at": "2023-05-15T08:10:55Z",
    "author_association": "COLLABORATOR",
    "body": "in erigon we decided - yes. ",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1547390948/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1548957705",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/7452#issuecomment-1548957705",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/7452",
    "id": 1548957705,
    "node_id": "IC_kwDOC0FsAM5cUzgJ",
    "user": {
      "login": "lurais",
      "id": 107600021,
      "node_id": "U_kgDOBmnYlQ",
      "avatar_url": "https://avatars.githubusercontent.com/u/107600021?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lurais",
      "html_url": "https://github.com/lurais",
      "followers_url": "https://api.github.com/users/lurais/followers",
      "following_url": "https://api.github.com/users/lurais/following{/other_user}",
      "gists_url": "https://api.github.com/users/lurais/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lurais/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lurais/subscriptions",
      "organizations_url": "https://api.github.com/users/lurais/orgs",
      "repos_url": "https://api.github.com/users/lurais/repos",
      "events_url": "https://api.github.com/users/lurais/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lurais/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-05-16T04:13:12Z",
    "updated_at": "2023-05-16T04:13:12Z",
    "author_association": "NONE",
    "body": "> in erigon we decided - yes.\r\n\r\nfor the data organization is different from geth?",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1548957705/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1549296184",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/7452#issuecomment-1549296184",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/7452",
    "id": 1549296184,
    "node_id": "IC_kwDOC0FsAM5cWGI4",
    "user": {
      "login": "AskAlexSharov",
      "id": 46885206,
      "node_id": "MDQ6VXNlcjQ2ODg1MjA2",
      "avatar_url": "https://avatars.githubusercontent.com/u/46885206?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/AskAlexSharov",
      "html_url": "https://github.com/AskAlexSharov",
      "followers_url": "https://api.github.com/users/AskAlexSharov/followers",
      "following_url": "https://api.github.com/users/AskAlexSharov/following{/other_user}",
      "gists_url": "https://api.github.com/users/AskAlexSharov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/AskAlexSharov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/AskAlexSharov/subscriptions",
      "organizations_url": "https://api.github.com/users/AskAlexSharov/orgs",
      "repos_url": "https://api.github.com/users/AskAlexSharov/repos",
      "events_url": "https://api.github.com/users/AskAlexSharov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/AskAlexSharov/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-05-16T09:14:28Z",
    "updated_at": "2023-05-16T09:20:08Z",
    "author_association": "COLLABORATOR",
    "body": "> > in erigon we decided - yes.\r\n> \r\n> for the data organization is different from geth?\r\n\r\nBecause I don't wan't to spend my time on debugging all this classical \"transfer 1 eth from account A to account B. After deduction from account A - app crushed. In result 1 eth lost - nobody have it - and nobody know that something is wrong - app just continue working without any warnings/errors/etc...\" issues. \r\n\r\n`If data corruption occurs, the data can also be recovered through fast synchronization` - it's false:\r\n- you will never know \"did corruption or data-loss happen or not\". Ok - state can validate by MerkleTrie re-build (expensive). But not all data covered by merkle trie. For example: in mapping of tx-hash to block number - if you loose 1 record - likely you will never know about it - but users will complain. \r\n- after several months you will start tell to your users  \"please resync\" to all kind of issues: issues related to partial-commit or to your app bugs, or users mistake, or ... and problems snowball will grow. \r\n\r\n\r\nThis question is very old and has tons of articles in internet - please google. In this comment I described only \"Atomicity /Consistency\" topics. But there is also \"Durability\". And there is also \"Isolation\" - users of RPC will see partial-commit results (invalid data) - and it will gone on the next RPC call (fist RPC call will show lost 1 eth, next will show 1 eth on account B) - and they will give all this unreproducible bugs to you. Enjoy. \r\n\r\nYou don't need transactions when your app has insert-only 1 table work-load. But ETH client need handle re-orgs, and for 1 new block write: blocks, receipts, state, various indices/mappings, codes of smart-contracts, merkle trie, etc...  \r\n\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1549296184/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
