{
  "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/7048",
  "repository_url": "https://api.github.com/repos/ledgerwatch/erigon",
  "labels_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/7048/labels{/name}",
  "comments_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/7048/comments",
  "events_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/7048/events",
  "html_url": "https://github.com/ledgerwatch/erigon/issues/7048",
  "id": 1613488985,
  "node_id": "I_kwDOC0FsAM5gK-NZ",
  "number": 7048,
  "title": "how to execute blocks faster as soon as possible",
  "user": {
    "login": "SuperEdison",
    "id": 84554944,
    "node_id": "MDQ6VXNlcjg0NTU0OTQ0",
    "avatar_url": "https://avatars.githubusercontent.com/u/84554944?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/SuperEdison",
    "html_url": "https://github.com/SuperEdison",
    "followers_url": "https://api.github.com/users/SuperEdison/followers",
    "following_url": "https://api.github.com/users/SuperEdison/following{/other_user}",
    "gists_url": "https://api.github.com/users/SuperEdison/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/SuperEdison/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/SuperEdison/subscriptions",
    "organizations_url": "https://api.github.com/users/SuperEdison/orgs",
    "repos_url": "https://api.github.com/users/SuperEdison/repos",
    "events_url": "https://api.github.com/users/SuperEdison/events{/privacy}",
    "received_events_url": "https://api.github.com/users/SuperEdison/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 3,
  "created_at": "2023-03-07T13:44:31Z",
  "updated_at": "2023-03-09T03:44:31Z",
  "closed_at": "2023-03-09T03:44:31Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "This should only be used in very rare cases e.g. if you are not 100% sure if something is a bug or asking a question that leads to improving the documentation. For general questions please use [Erigon's discord](https://discord.gg/hQ2dxbNZ).\r\n<img width=\"1048\" alt=\"image\" src=\"https://user-images.githubusercontent.com/84554944/223439529-01222a7d-2482-43a1-b150-ce079aae62da.png\">\r\nhow to execute blocks faster as soon as possible by some param?   the node have had achieve data, and I had deleted chaindata dir file, snapshot dir had downloaded.",
  "closed_by": {
    "login": "AskAlexSharov",
    "id": 46885206,
    "node_id": "MDQ6VXNlcjQ2ODg1MjA2",
    "avatar_url": "https://avatars.githubusercontent.com/u/46885206?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/AskAlexSharov",
    "html_url": "https://github.com/AskAlexSharov",
    "followers_url": "https://api.github.com/users/AskAlexSharov/followers",
    "following_url": "https://api.github.com/users/AskAlexSharov/following{/other_user}",
    "gists_url": "https://api.github.com/users/AskAlexSharov/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/AskAlexSharov/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/AskAlexSharov/subscriptions",
    "organizations_url": "https://api.github.com/users/AskAlexSharov/orgs",
    "repos_url": "https://api.github.com/users/AskAlexSharov/repos",
    "events_url": "https://api.github.com/users/AskAlexSharov/events{/privacy}",
    "received_events_url": "https://api.github.com/users/AskAlexSharov/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/7048/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/7048/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1459086905",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/7048#issuecomment-1459086905",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/7048",
    "id": 1459086905,
    "node_id": "IC_kwDOC0FsAM5W9-Y5",
    "user": {
      "login": "J-A-M-E-5",
      "id": 26421539,
      "node_id": "MDQ6VXNlcjI2NDIxNTM5",
      "avatar_url": "https://avatars.githubusercontent.com/u/26421539?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/J-A-M-E-5",
      "html_url": "https://github.com/J-A-M-E-5",
      "followers_url": "https://api.github.com/users/J-A-M-E-5/followers",
      "following_url": "https://api.github.com/users/J-A-M-E-5/following{/other_user}",
      "gists_url": "https://api.github.com/users/J-A-M-E-5/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/J-A-M-E-5/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/J-A-M-E-5/subscriptions",
      "organizations_url": "https://api.github.com/users/J-A-M-E-5/orgs",
      "repos_url": "https://api.github.com/users/J-A-M-E-5/repos",
      "events_url": "https://api.github.com/users/J-A-M-E-5/events{/privacy}",
      "received_events_url": "https://api.github.com/users/J-A-M-E-5/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-03-08T00:38:50Z",
    "updated_at": "2023-03-08T00:39:19Z",
    "author_association": "NONE",
    "body": "Memory, CPU (max GHz is important, not core count. Ensure CPU running in max performance mode and not power saving), Storage - NVMe SSD is better than SATA3 SSD. If you only have SATA SSD then two in a RAID0 array is faster. More advanced (and dangerous) stuff like turning off CPU Mitigations, or changing write caching parameters of drive which is only sensible if you have UPS.\r\n\r\nHaving snapshots will only speed up downloading (as it doesn't need to download them) which is just a small part of the sync process.",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1459086905/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1459472077",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/7048#issuecomment-1459472077",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/7048",
    "id": 1459472077,
    "node_id": "IC_kwDOC0FsAM5W_cbN",
    "user": {
      "login": "SuperEdison",
      "id": 84554944,
      "node_id": "MDQ6VXNlcjg0NTU0OTQ0",
      "avatar_url": "https://avatars.githubusercontent.com/u/84554944?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/SuperEdison",
      "html_url": "https://github.com/SuperEdison",
      "followers_url": "https://api.github.com/users/SuperEdison/followers",
      "following_url": "https://api.github.com/users/SuperEdison/following{/other_user}",
      "gists_url": "https://api.github.com/users/SuperEdison/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/SuperEdison/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SuperEdison/subscriptions",
      "organizations_url": "https://api.github.com/users/SuperEdison/orgs",
      "repos_url": "https://api.github.com/users/SuperEdison/repos",
      "events_url": "https://api.github.com/users/SuperEdison/events{/privacy}",
      "received_events_url": "https://api.github.com/users/SuperEdison/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-03-08T04:51:41Z",
    "updated_at": "2023-03-08T07:43:30Z",
    "author_association": "NONE",
    "body": "> Memory, CPU (max GHz is important, not core count. Ensure CPU running in max performance mode and not power saving), Storage - NVMe SSD is better than SATA3 SSD. If you only have SATA SSD then two in a RAID0 array is faster. More advanced (and dangerous) stuff like turning off CPU Mitigations, or changing write caching parameters of drive which is only sensible if you have UPS.\r\n> \r\n> Having snapshots will only speed up downloading (as it doesn't need to download them) which is just a small part of the sync process.\r\n\r\n4c 16g nvme SSD, execute blocks too slowly\r\n<img width=\"1453\" alt=\"image\" src=\"https://user-images.githubusercontent.com/84554944/223622802-1f72716b-18d8-4cc0-b5b5-bc11dfc33f3f.png\">\r\n<img width=\"245\" alt=\"image\" src=\"https://user-images.githubusercontent.com/84554944/223651798-1dc4844d-eaff-44ff-b929-d347de68af85.png\">\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1459472077/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1461224211",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/7048#issuecomment-1461224211",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/7048",
    "id": 1461224211,
    "node_id": "IC_kwDOC0FsAM5XGIMT",
    "user": {
      "login": "AskAlexSharov",
      "id": 46885206,
      "node_id": "MDQ6VXNlcjQ2ODg1MjA2",
      "avatar_url": "https://avatars.githubusercontent.com/u/46885206?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/AskAlexSharov",
      "html_url": "https://github.com/AskAlexSharov",
      "followers_url": "https://api.github.com/users/AskAlexSharov/followers",
      "following_url": "https://api.github.com/users/AskAlexSharov/following{/other_user}",
      "gists_url": "https://api.github.com/users/AskAlexSharov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/AskAlexSharov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/AskAlexSharov/subscriptions",
      "organizations_url": "https://api.github.com/users/AskAlexSharov/orgs",
      "repos_url": "https://api.github.com/users/AskAlexSharov/repos",
      "events_url": "https://api.github.com/users/AskAlexSharov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/AskAlexSharov/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-03-09T03:44:31Z",
    "updated_at": "2023-03-09T03:44:31Z",
    "author_association": "COLLABORATOR",
    "body": "Usual bottlenecks are:\r\n- raid miss-configuration (try tune for random read latency, not throughput)\r\n- small ram \r\n- FileSystem does add significant overhead: like BtrFs-AutoDefrag or ZFS-compression. Can fix by switch to Ext4\r\n- blocks are not equal: ddos attacks to netwrok, etc...\r\n- can try `integration warmup --bucket=PlainState\r\n- bigger --batchSize will help when: slow disk and big ram\r\n\r\nI will close this issue - because it has no detailed information about machine, etc... No info about disk/filesystem/os/go version/cc version/erigon version/raid/ram/...",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1461224211/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
