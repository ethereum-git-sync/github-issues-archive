{
  "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/4244",
  "repository_url": "https://api.github.com/repos/ledgerwatch/erigon",
  "labels_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/4244/labels{/name}",
  "comments_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/4244/comments",
  "events_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/4244/events",
  "html_url": "https://github.com/ledgerwatch/erigon/issues/4244",
  "id": 1245940318,
  "node_id": "I_kwDOC0FsAM5KQ4pe",
  "number": 4244,
  "title": "This parameter does not support '--rpc.allow-unprotected-txs'",
  "user": {
    "login": "wetezos",
    "id": 40154568,
    "node_id": "MDQ6VXNlcjQwMTU0NTY4",
    "avatar_url": "https://avatars.githubusercontent.com/u/40154568?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/wetezos",
    "html_url": "https://github.com/wetezos",
    "followers_url": "https://api.github.com/users/wetezos/followers",
    "following_url": "https://api.github.com/users/wetezos/following{/other_user}",
    "gists_url": "https://api.github.com/users/wetezos/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/wetezos/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/wetezos/subscriptions",
    "organizations_url": "https://api.github.com/users/wetezos/orgs",
    "repos_url": "https://api.github.com/users/wetezos/repos",
    "events_url": "https://api.github.com/users/wetezos/events{/privacy}",
    "received_events_url": "https://api.github.com/users/wetezos/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 7,
  "created_at": "2022-05-24T03:46:12Z",
  "updated_at": "2023-05-16T07:50:04Z",
  "closed_at": "2022-05-31T02:35:54Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "#### System information\r\n\r\nErigon version: `./erigon --version`\r\nerigon version 2022.05.6-alpha-327e7d96\r\nOS & Version: Windows/Linux/OSX\r\nLinux\r\nCommit hash : \r\n (HEAD detached at v2022.05.07)\r\n#### Expected behaviour\r\n\r\n\r\n#### Actual behaviour\r\nCan config `--rpc.allow-unprotected-txs`\r\n\r\n#### Steps to reproduce the behaviour\r\nWhen I send a tx through my eth rpc, I have this error:\r\n`only replay-protected (EIP-155) transactions allowed over RPC `\r\nso I want to add parameter `allow-unprotected-txs`, but I find this parameter is no longer supported.\r\n<img width=\"545\" alt=\"image\" src=\"https://user-images.githubusercontent.com/40154568/169944522-10702c38-532b-45ae-aa7d-75717eb1afe1.png\">\r\n\r\n#### Backtrace\r\n\r\n````\r\n[backtrace]\r\n````\r\n",
  "closed_by": {
    "login": "wetezos",
    "id": 40154568,
    "node_id": "MDQ6VXNlcjQwMTU0NTY4",
    "avatar_url": "https://avatars.githubusercontent.com/u/40154568?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/wetezos",
    "html_url": "https://github.com/wetezos",
    "followers_url": "https://api.github.com/users/wetezos/followers",
    "following_url": "https://api.github.com/users/wetezos/following{/other_user}",
    "gists_url": "https://api.github.com/users/wetezos/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/wetezos/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/wetezos/subscriptions",
    "organizations_url": "https://api.github.com/users/wetezos/orgs",
    "repos_url": "https://api.github.com/users/wetezos/repos",
    "events_url": "https://api.github.com/users/wetezos/events{/privacy}",
    "received_events_url": "https://api.github.com/users/wetezos/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/4244/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/4244/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1135371600",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/4244#issuecomment-1135371600",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/4244",
    "id": 1135371600,
    "node_id": "IC_kwDOC0FsAM5DrGVQ",
    "user": {
      "login": "AskAlexSharov",
      "id": 46885206,
      "node_id": "MDQ6VXNlcjQ2ODg1MjA2",
      "avatar_url": "https://avatars.githubusercontent.com/u/46885206?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/AskAlexSharov",
      "html_url": "https://github.com/AskAlexSharov",
      "followers_url": "https://api.github.com/users/AskAlexSharov/followers",
      "following_url": "https://api.github.com/users/AskAlexSharov/following{/other_user}",
      "gists_url": "https://api.github.com/users/AskAlexSharov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/AskAlexSharov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/AskAlexSharov/subscriptions",
      "organizations_url": "https://api.github.com/users/AskAlexSharov/orgs",
      "repos_url": "https://api.github.com/users/AskAlexSharov/repos",
      "events_url": "https://api.github.com/users/AskAlexSharov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/AskAlexSharov/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-05-24T03:49:29Z",
    "updated_at": "2022-05-24T03:49:29Z",
    "author_association": "COLLABORATOR",
    "body": "What is your use-case?",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1135371600/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1135883470",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/4244#issuecomment-1135883470",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/4244",
    "id": 1135883470,
    "node_id": "IC_kwDOC0FsAM5DtDTO",
    "user": {
      "login": "wetezos",
      "id": 40154568,
      "node_id": "MDQ6VXNlcjQwMTU0NTY4",
      "avatar_url": "https://avatars.githubusercontent.com/u/40154568?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/wetezos",
      "html_url": "https://github.com/wetezos",
      "followers_url": "https://api.github.com/users/wetezos/followers",
      "following_url": "https://api.github.com/users/wetezos/following{/other_user}",
      "gists_url": "https://api.github.com/users/wetezos/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/wetezos/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/wetezos/subscriptions",
      "organizations_url": "https://api.github.com/users/wetezos/orgs",
      "repos_url": "https://api.github.com/users/wetezos/repos",
      "events_url": "https://api.github.com/users/wetezos/events{/privacy}",
      "received_events_url": "https://api.github.com/users/wetezos/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-05-24T12:52:24Z",
    "updated_at": "2022-05-24T12:52:24Z",
    "author_association": "NONE",
    "body": "> What is your use-case?\r\n\r\nSent a transaction to interact with the eth contract. When I use infura's eth node, everything is fine. But when I replaced it with my own node, which is running by erigon, I encounterd this error: only replay-protected (EIP-155) transactions allowed over RPC. I believe we need add --rpc.allow-unprotected-txs, right?",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1135883470/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1135922018",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/4244#issuecomment-1135922018",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/4244",
    "id": 1135922018,
    "node_id": "IC_kwDOC0FsAM5DtMti",
    "user": {
      "login": "AskAlexSharov",
      "id": 46885206,
      "node_id": "MDQ6VXNlcjQ2ODg1MjA2",
      "avatar_url": "https://avatars.githubusercontent.com/u/46885206?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/AskAlexSharov",
      "html_url": "https://github.com/AskAlexSharov",
      "followers_url": "https://api.github.com/users/AskAlexSharov/followers",
      "following_url": "https://api.github.com/users/AskAlexSharov/following{/other_user}",
      "gists_url": "https://api.github.com/users/AskAlexSharov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/AskAlexSharov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/AskAlexSharov/subscriptions",
      "organizations_url": "https://api.github.com/users/AskAlexSharov/orgs",
      "repos_url": "https://api.github.com/users/AskAlexSharov/repos",
      "events_url": "https://api.github.com/users/AskAlexSharov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/AskAlexSharov/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-05-24T13:25:37Z",
    "updated_at": "2022-05-24T13:25:37Z",
    "author_association": "COLLABORATOR",
    "body": "I mean “EIP-155” is very old, why do you need send pre-eip-155 transactions to node? Is it for some history-analisys? Or for what? ",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1135922018/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1136548164",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/4244#issuecomment-1136548164",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/4244",
    "id": 1136548164,
    "node_id": "IC_kwDOC0FsAM5DvllE",
    "user": {
      "login": "wetezos",
      "id": 40154568,
      "node_id": "MDQ6VXNlcjQwMTU0NTY4",
      "avatar_url": "https://avatars.githubusercontent.com/u/40154568?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/wetezos",
      "html_url": "https://github.com/wetezos",
      "followers_url": "https://api.github.com/users/wetezos/followers",
      "following_url": "https://api.github.com/users/wetezos/following{/other_user}",
      "gists_url": "https://api.github.com/users/wetezos/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/wetezos/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/wetezos/subscriptions",
      "organizations_url": "https://api.github.com/users/wetezos/orgs",
      "repos_url": "https://api.github.com/users/wetezos/repos",
      "events_url": "https://api.github.com/users/wetezos/events{/privacy}",
      "received_events_url": "https://api.github.com/users/wetezos/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-05-25T00:06:05Z",
    "updated_at": "2022-05-25T00:06:05Z",
    "author_association": "NONE",
    "body": "> I mean “EIP-155” is very old, why do you need send pre-eip-155 transactions to node? Is it for some history-analisys? Or for what?\r\n\r\nYes, it is indeed very old, and our service was developed a long time ago, so it is still the old way of sending transactions, and there has been no problem using infura node until using our own node. Does erigon client not support this feature? If not, we will consider upgrading our code to send the transaction using the new way.\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1136548164/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1136602075",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/4244#issuecomment-1136602075",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/4244",
    "id": 1136602075,
    "node_id": "IC_kwDOC0FsAM5Dvyvb",
    "user": {
      "login": "AskAlexSharov",
      "id": 46885206,
      "node_id": "MDQ6VXNlcjQ2ODg1MjA2",
      "avatar_url": "https://avatars.githubusercontent.com/u/46885206?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/AskAlexSharov",
      "html_url": "https://github.com/AskAlexSharov",
      "followers_url": "https://api.github.com/users/AskAlexSharov/followers",
      "following_url": "https://api.github.com/users/AskAlexSharov/following{/other_user}",
      "gists_url": "https://api.github.com/users/AskAlexSharov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/AskAlexSharov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/AskAlexSharov/subscriptions",
      "organizations_url": "https://api.github.com/users/AskAlexSharov/orgs",
      "repos_url": "https://api.github.com/users/AskAlexSharov/repos",
      "events_url": "https://api.github.com/users/AskAlexSharov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/AskAlexSharov/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-05-25T01:24:12Z",
    "updated_at": "2022-05-25T01:24:53Z",
    "author_association": "COLLABORATOR",
    "body": "Do you send it to TransactionPool?\r\n\r\n“Sending unprotected transactions to TransactionsPool” - sounds for me as an Security Issue. Better address it on your side. \r\n\r\nPlease discuss it with your team. If it’s totally not doable, come back here, we will take a look again. Thank you. \r\n\r\nIt’s edge case - you are the first who asked about it. ",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1136602075/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1136643186",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/4244#issuecomment-1136643186",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/4244",
    "id": 1136643186,
    "node_id": "IC_kwDOC0FsAM5Dv8xy",
    "user": {
      "login": "wetezos",
      "id": 40154568,
      "node_id": "MDQ6VXNlcjQwMTU0NTY4",
      "avatar_url": "https://avatars.githubusercontent.com/u/40154568?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/wetezos",
      "html_url": "https://github.com/wetezos",
      "followers_url": "https://api.github.com/users/wetezos/followers",
      "following_url": "https://api.github.com/users/wetezos/following{/other_user}",
      "gists_url": "https://api.github.com/users/wetezos/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/wetezos/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/wetezos/subscriptions",
      "organizations_url": "https://api.github.com/users/wetezos/orgs",
      "repos_url": "https://api.github.com/users/wetezos/repos",
      "events_url": "https://api.github.com/users/wetezos/events{/privacy}",
      "received_events_url": "https://api.github.com/users/wetezos/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-05-25T02:19:32Z",
    "updated_at": "2022-05-25T02:19:32Z",
    "author_association": "NONE",
    "body": "> Do you send it to TransactionPool?\r\n> \r\n> “Sending unprotected transactions to TransactionsPool” - sounds for me as an Security Issue. Better address it on your side.\r\n> \r\n> Please discuss it with your team. If it’s totally not doable, come back here, we will take a look again. Thank you.\r\n> \r\n> It’s edge case - you are the first who asked about it.\r\n\r\nSure, we will discuss it first, thanks.",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1136643186/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1549170677",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/4244#issuecomment-1549170677",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/4244",
    "id": 1549170677,
    "node_id": "IC_kwDOC0FsAM5cVnf1",
    "user": {
      "login": "blazejkrzak",
      "id": 26545969,
      "node_id": "MDQ6VXNlcjI2NTQ1OTY5",
      "avatar_url": "https://avatars.githubusercontent.com/u/26545969?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/blazejkrzak",
      "html_url": "https://github.com/blazejkrzak",
      "followers_url": "https://api.github.com/users/blazejkrzak/followers",
      "following_url": "https://api.github.com/users/blazejkrzak/following{/other_user}",
      "gists_url": "https://api.github.com/users/blazejkrzak/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/blazejkrzak/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/blazejkrzak/subscriptions",
      "organizations_url": "https://api.github.com/users/blazejkrzak/orgs",
      "repos_url": "https://api.github.com/users/blazejkrzak/repos",
      "events_url": "https://api.github.com/users/blazejkrzak/events{/privacy}",
      "received_events_url": "https://api.github.com/users/blazejkrzak/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-05-16T07:50:04Z",
    "updated_at": "2023-05-16T07:50:04Z",
    "author_association": "NONE",
    "body": "Its not an edge case neither a security issue. Unprotected txes are accepted by the ledger and other clients. There are various potential use cases. One of the use case is to deploy contract on multi-network on the same address with just one signature.\r\nThere are many bridges or multi network implementations, especially in registry-type, routing-type or storage-type contracts.\r\nSince INFURA and other providers allow unprotected txes still I suggest to reopen the issue and implement a flag.\r\nIt seems very fast to do since it was already there in the Geth core and in matter of fact it still is.\r\n\r\nIf user uses his own private key to sign the unprotected tx -> yeah its his choice, isn't it?",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1549170677/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
