{
  "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/5422",
  "repository_url": "https://api.github.com/repos/ledgerwatch/erigon",
  "labels_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/5422/labels{/name}",
  "comments_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/5422/comments",
  "events_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/5422/events",
  "html_url": "https://github.com/ledgerwatch/erigon/issues/5422",
  "id": 1377100060,
  "node_id": "I_kwDOC0FsAM5SFOEc",
  "number": 5422,
  "title": "Refused connection to downloader in docker-compose",
  "user": {
    "login": "mb-gvidon",
    "id": 96392404,
    "node_id": "U_kgDOBb7U1A",
    "avatar_url": "https://avatars.githubusercontent.com/u/96392404?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/mb-gvidon",
    "html_url": "https://github.com/mb-gvidon",
    "followers_url": "https://api.github.com/users/mb-gvidon/followers",
    "following_url": "https://api.github.com/users/mb-gvidon/following{/other_user}",
    "gists_url": "https://api.github.com/users/mb-gvidon/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/mb-gvidon/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/mb-gvidon/subscriptions",
    "organizations_url": "https://api.github.com/users/mb-gvidon/orgs",
    "repos_url": "https://api.github.com/users/mb-gvidon/repos",
    "events_url": "https://api.github.com/users/mb-gvidon/events{/privacy}",
    "received_events_url": "https://api.github.com/users/mb-gvidon/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 4406003490,
      "node_id": "LA_kwDOC0FsAM8AAAABBp5HIg",
      "url": "https://api.github.com/repos/ledgerwatch/erigon/labels/gateway",
      "name": "gateway",
      "color": "62DB33",
      "default": false,
      "description": "Issue assigned to gateway team"
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": {
    "login": "revitteth",
    "id": 693995,
    "node_id": "MDQ6VXNlcjY5Mzk5NQ==",
    "avatar_url": "https://avatars.githubusercontent.com/u/693995?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/revitteth",
    "html_url": "https://github.com/revitteth",
    "followers_url": "https://api.github.com/users/revitteth/followers",
    "following_url": "https://api.github.com/users/revitteth/following{/other_user}",
    "gists_url": "https://api.github.com/users/revitteth/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/revitteth/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/revitteth/subscriptions",
    "organizations_url": "https://api.github.com/users/revitteth/orgs",
    "repos_url": "https://api.github.com/users/revitteth/repos",
    "events_url": "https://api.github.com/users/revitteth/events{/privacy}",
    "received_events_url": "https://api.github.com/users/revitteth/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "revitteth",
      "id": 693995,
      "node_id": "MDQ6VXNlcjY5Mzk5NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/693995?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/revitteth",
      "html_url": "https://github.com/revitteth",
      "followers_url": "https://api.github.com/users/revitteth/followers",
      "following_url": "https://api.github.com/users/revitteth/following{/other_user}",
      "gists_url": "https://api.github.com/users/revitteth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/revitteth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/revitteth/subscriptions",
      "organizations_url": "https://api.github.com/users/revitteth/orgs",
      "repos_url": "https://api.github.com/users/revitteth/repos",
      "events_url": "https://api.github.com/users/revitteth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/revitteth/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 5,
  "created_at": "2022-09-18T15:47:33Z",
  "updated_at": "2023-02-26T13:04:22Z",
  "closed_at": null,
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "#### System information\r\n\r\nOS & Version: Ubuntu\r\n\r\nCommit hash : 9fb8a190bc4bb436afd3dcf52b3b94baef462743\r\nLatest at the moment of writing the issue\r\n\r\n#### Issue\r\nI found out that containers are working with errors. What is this? Can the errors slow erigon node?\r\n\r\n#### Actual behaviour\r\n```\r\nerigon_1      | [INFO] [09-18|15:02:53.096] Starting metrics server                  addr=http://0.0.0.0:6060/debug/metrics/prometheus\r\nerigon_1      | [INFO] [09-18|15:02:53.096] Starting pprof server                    cpu=\"go tool pprof -lines -http=: http://0.0.0.0:6061/debug/pprof/profile?seconds=20\" heap=\"go tool pprof -lines -http=: http://0.0.0.0:6061/debug/pprof/heap\"\r\nerigon_1      | [INFO] [09-18|15:02:53.096] Build info                               git_branch=devel git_tag=v2021.10.03-1874-g9fb8a190b-dirty git_commit=9fb8a190bc4bb436afd3dcf52b3b94baef462743\r\nerigon_1      | [INFO] [09-18|15:02:53.096] Starting Erigon on Ethereum mainnet... \r\nerigon_1      | [INFO] [09-18|15:02:53.102] Maximum peer count                       ETH=20 total=20\r\nerigon_1      | [INFO] [09-18|15:02:53.102] starting HTTP APIs                       APIs=eth,debug,net,trace,web3,erigon,engine\r\nerigon_1      | [INFO] [09-18|15:02:53.102] Set global gas cap                       cap=50000000\r\nerigon_1      | [INFO] [09-18|15:02:53.142] Opening Database                         label=chaindata path=/home/erigon/.local/share/erigon/chaindata\r\nerigon_1      | [INFO] [09-18|15:02:53.164] Initialised chain configuration          config=\"{ChainID: 1, Homestead: 1150000, DAO: 1920000, DAO Support: true, Tangerine Whistle: 2463000, Spurious Dragon: 2675000, Byzantium: 4370000, Constantinople: 7280000, Petersburg: 7280000, Istanbul: 9069000, Muir Glacier: 9200000, Berlin: 12244000, London: 12965000, Arrow Glacier: 13773000, Gray Glacier: 15050000, Terminal Total Difficulty: 58750000000000000000000, Merge Netsplit: <nil>, Shanghai: <nil>, Cancun: <nil>, Engine: ethash}\" genesis=0xd4e56740f876aef8c010b86a40d5f56745a118d0906a34e69aec8c0db1cb8fa3\r\nerigon_1      | [INFO] [09-18|15:02:53.164] Effective                                prune_flags= snapshot_flags=\"--snapshots=true\" history.v2=false\r\nerigon_1      | [INFO] [09-18|15:02:53.164] Initialising Ethereum protocol           network=1\r\nerigon_1      | [INFO] [09-18|15:02:53.165] Disk storage enabled for ethash DAGs     dir=/home/erigon/.local/share/erigon/ethash-dags count=2\r\nerigon_1      | [INFO] [09-18|15:02:53.502] Starting private RPC server              on=0.0.0.0:9090\r\nerigon_1      | [INFO] [09-18|15:02:53.502] new subscription to logs established \r\nerigon_1      | [INFO] [09-18|15:02:53.503] rpc filters: subscribing to Erigon events \r\nerigon_1      | [INFO] [09-18|15:02:53.503] new subscription to newHeaders established \r\nerigon_1      | [INFO] [09-18|15:02:53.503] Reading JWT secret                       path=/home/erigon/.local/share/erigon/jwt.hex\r\nerigon_1      | [INFO] [09-18|15:02:53.503] HTTP endpoint opened for Engine API      url=0.0.0.0:8551 ws=true ws.compression=true\r\nerigon_1      | [INFO] [09-18|15:02:53.504] HTTP endpoint opened                     url=localhost:8545 ws=false ws.compression=true grpc=false\r\nerigon_1      | [INFO] [09-18|15:02:53.527] [1/16 Snapshots] Fetching torrent files metadata \r\nerigon_1      | [EROR] [09-18|15:02:53.527] [1/16 Snapshots] call downloader         err=\"rpc error: code = Unavailable desc = connection error: desc = \\\"transport: Error while dialing dial tcp 172.24.0.5:9093: connect: connection refused\\\"\"\r\nerigon_1      | [WARN] [09-18|15:02:56.575] Served                                   conn=172.24.0.1:33394 method=eth_getLogs reqid=4 t=773.402µs err=\"block not found 12913913\"\r\nerigon_1      | [INFO] [09-18|15:02:57.473] new subscription to newHeaders established \r\nerigon_1      | [INFO] [09-18|15:03:06.123] [Snapshots] Stat                         blocks=15000k indices=15000k alloc=2.2GB sys=2.4GB\r\nerigon_1      | [INFO] [09-18|15:03:06.124] Timings (slower than 50ms)               Snapshots=12.609s\r\nerigon_1      | [INFO] [09-18|15:03:06.125] RPC Daemon notified of new headers       from=15537393 to=15537394 header sending=6.783µs log sending=330ns\r\nerigon_1      | [INFO] [09-18|15:03:06.125] [2/16 Headers] Waiting for Consensus Layer...\r\n```\r\nThere are some warnings from rpcdaemon too\r\n```\r\nrpcdaemon_1   | [INFO] [09-18|15:02:54.268] DB schemas compatible                    reader=6.0.0 database=6.0.0\r\nrpcdaemon_1   | [INFO] [09-18|15:02:57.472] [Snapshots] Stat                         blocks=15000k indices=15000k alloc=2.1GB sys=2.3GB\r\nrpcdaemon_1   | [INFO] [09-18|15:02:57.472] rpc filters: subscribing to Erigon events \r\nrpcdaemon_1   | [WARN] [09-18|15:02:57.472] [Snapshots] reopen                       err=\"rpc error: code = Internal desc = runtime error: invalid memory address or nil pointer dereference\"\r\nrpcdaemon_1   | [INFO] [09-18|15:02:57.473] HTTP endpoint opened                     url=0.0.0.0:8545 ws=true ws.compression=false grpc=false\r\nrpcdaemon_1   | [INFO] [09-18|15:02:57.473] interfaces compatible                    remote_db= client=6.0.0 server=6.0.0\r\nrpcdaemon_1   | [INFO] [09-18|15:02:57.473] interfaces compatible                    remote_service=eth_backend client=3.1.0 server=3.1.0\r\nrpcdaemon_1   | [WARN] [09-18|15:02:57.473] [Snapshots] reopen                       err=\"rpc error: code = Internal desc = runtime error: invalid memory address or nil pointer dereference\"\r\nrpcdaemon_1   | [INFO] [09-18|15:02:57.473] interfaces compatible                    remote_service=mining client=1.0.0 server=1.0.0\r\nrpcdaemon_1   | [INFO] [09-18|15:02:57.474] interfaces compatible                    remote_service=tx_pool client=1.0.0 server=1.0.0\r\nrpcdaemon_1   | [INFO] [09-18|15:03:06.124] [Snapshots] Stat                         blocks=15000k indices=15000k alloc=2.1GB sys=2.3GB\r\n```\r\n\r\n#### Steps to reproduce the behaviour\r\nThere is my docker-compose file\r\n```\r\nversion: '2.2'\r\n\r\n# Basic erigon's service\r\nx-erigon-service: &default-erigon-service\r\n  image: thorax/erigon:${TAG:-latest}\r\n  pid: service:erigon # Use erigon's PID namespace. It's required to open Erigon's DB from another process (RPCDaemon local-mode)\r\n  volumes_from: [ erigon ]\r\n  restart: unless-stopped\r\n  mem_swappiness: 0\r\n  user: ${DOCKER_UID:-1000}:${DOCKER_GID:-1000}\r\n\r\nservices:\r\n  erigon:\r\n    image: thorax/erigon:${TAG:-latest}\r\n    build:\r\n      args:\r\n        UID: ${DOCKER_UID:-1000}\r\n        GID: ${DOCKER_GID:-1000}\r\n      context: .\r\n    command: |\r\n      erigon ${ERIGON_FLAGS-} --private.api.addr=0.0.0.0:9090 --http.api=eth,debug,net,trace,web3,erigon,engine\r\n      --sentry.api.addr=sentry:9091 --downloader.api.addr=downloader:9093 --txpool.disable\r\n      --metrics --metrics.addr=0.0.0.0 --metrics.port=6060 --pprof --pprof.addr=0.0.0.0 --pprof.port=6061\r\n      --datadir=/home/erigon/.local/share/erigon --authrpc.jwtsecret=/home/erigon/.local/share/erigon/jwt.hex --authrpc.addr 0.0.0.0\r\n    ports: [ \"8551:8551\" ]\r\n    volumes:\r\n      # It's ok to mount sub-dirs of \"datadir\" to different drives\r\n      - ${XDG_DATA_HOME:-~/.local/share}/erigon:/home/erigon/.local/share/erigon\r\n    restart: unless-stopped\r\n    mem_swappiness: 0\r\n\r\n  sentry:\r\n    <<: *default-erigon-service\r\n    command: sentry ${SENTRY_FLAGS-} --sentry.api.addr=0.0.0.0:9091 --datadir=/home/erigon/.local/share/erigon\r\n    ports: [ \"30303:30303/tcp\", \"30303:30303/udp\" ]\r\n\r\n  downloader:\r\n    <<: *default-erigon-service\r\n    command: downloader ${DOWNLOADER_FLAGS-} --downloader.api.addr=0.0.0.0:9093 --datadir=/home/erigon/.local/share/erigon\r\n    ports: [ \"42069:42069/tcp\", \"42069:42069/udp\" ]\r\n\r\n  txpool:\r\n    <<: *default-erigon-service\r\n    command: txpool ${TXPOOL_FLAGS-} --private.api.addr=erigon:9090 --txpool.api.addr=0.0.0.0:9094 --sentry.api.addr=sentry:9091 --datadir=/home/erigon/.local/share/erigon\r\n\r\n  rpcdaemon:\r\n    <<: *default-erigon-service\r\n    command: |\r\n      rpcdaemon ${RPCDAEMON_FLAGS-} --http.addr=0.0.0.0 --http.vhosts=* --http.corsdomain=* --ws\r\n      --private.api.addr=erigon:9090 --txpool.api.addr=txpool:9094 --datadir=/home/erigon/.local/share/erigon\r\n    ports: [ \"8545:8545\" ]\r\n\r\n\r\n\r\n\r\n  prometheus:\r\n    image: prom/prometheus:v2.37.0\r\n    user: ${DOCKER_UID:-1000}:${DOCKER_GID:-1000} # Uses erigon user from Dockerfile\r\n    command: --log.level=warn --config.file=/etc/prometheus/prometheus.yml --storage.tsdb.path=/prometheus --storage.tsdb.retention.time=150d --web.console.libraries=/usr/share/prometheus/console_libraries --web.console.templates=/usr/share/prometheus/consoles\r\n    ports: [ \"9090:9090\" ]\r\n    volumes:\r\n      - ${ERIGON_PROMETHEUS_CONFIG:-./cmd/prometheus/prometheus.yml}:/etc/prometheus/prometheus.yml\r\n      - ${XDG_DATA_HOME:-~/.local/share}/erigon-prometheus:/prometheus\r\n    restart: unless-stopped\r\n\r\n  grafana:\r\n    image: grafana/grafana:9.0.3\r\n    user: \"472:0\" # required for grafana version >= 7.3\r\n    ports: [ \"3000:3000\" ]\r\n    volumes:\r\n      - ${ERIGON_GRAFANA_CONFIG:-./cmd/prometheus/grafana.ini}:/etc/grafana/grafana.ini\r\n      - ./cmd/prometheus/datasources:/etc/grafana/provisioning/datasources\r\n      - ./cmd/prometheus/dashboards:/etc/grafana/provisioning/dashboards\r\n      - ${XDG_DATA_HOME:-~/.local/share}/erigon-grafana:/var/lib/grafana\r\n    restart: unless-stopped\r\n```\r\n",
  "closed_by": {
    "login": "revitteth",
    "id": 693995,
    "node_id": "MDQ6VXNlcjY5Mzk5NQ==",
    "avatar_url": "https://avatars.githubusercontent.com/u/693995?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/revitteth",
    "html_url": "https://github.com/revitteth",
    "followers_url": "https://api.github.com/users/revitteth/followers",
    "following_url": "https://api.github.com/users/revitteth/following{/other_user}",
    "gists_url": "https://api.github.com/users/revitteth/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/revitteth/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/revitteth/subscriptions",
    "organizations_url": "https://api.github.com/users/revitteth/orgs",
    "repos_url": "https://api.github.com/users/revitteth/repos",
    "events_url": "https://api.github.com/users/revitteth/events{/privacy}",
    "received_events_url": "https://api.github.com/users/revitteth/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/5422/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/5422/timeline",
  "performed_via_github_app": null,
  "state_reason": "reopened"
}
[
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1250357405",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/5422#issuecomment-1250357405",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/5422",
    "id": 1250357405,
    "node_id": "IC_kwDOC0FsAM5KhvCd",
    "user": {
      "login": "mb-gvidon",
      "id": 96392404,
      "node_id": "U_kgDOBb7U1A",
      "avatar_url": "https://avatars.githubusercontent.com/u/96392404?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mb-gvidon",
      "html_url": "https://github.com/mb-gvidon",
      "followers_url": "https://api.github.com/users/mb-gvidon/followers",
      "following_url": "https://api.github.com/users/mb-gvidon/following{/other_user}",
      "gists_url": "https://api.github.com/users/mb-gvidon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mb-gvidon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mb-gvidon/subscriptions",
      "organizations_url": "https://api.github.com/users/mb-gvidon/orgs",
      "repos_url": "https://api.github.com/users/mb-gvidon/repos",
      "events_url": "https://api.github.com/users/mb-gvidon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mb-gvidon/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-09-18T17:58:52Z",
    "updated_at": "2022-09-18T18:02:30Z",
    "author_association": "NONE",
    "body": "Seems like node started executing PoS blocks \r\n\r\n```\r\nerigon_1      | [INFO] [09-18|18:00:58.502] [7/16 Execution] Executed blocks         number=15548996 blk/s=4.2 tx/s=818.4 Mgas/s=63.8 gasState=0.32 estimated duration=2h25m34.696s batch=355.2MB alloc=7.4GB sys=9.3GB\r\n```\r\n\r\nThis comment helped\r\nhttps://github.com/ledgerwatch/erigon/issues/5370#issuecomment-1247829438\r\n\r\nBut the process is quite slow (63.8 Mgas/s). Is it okay? \r\n\r\nHowever, the downloader still throws the error",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1250357405/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1250832672",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/5422#issuecomment-1250832672",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/5422",
    "id": 1250832672,
    "node_id": "IC_kwDOC0FsAM5KjjEg",
    "user": {
      "login": "victorelec14",
      "id": 543450,
      "node_id": "MDQ6VXNlcjU0MzQ1MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/543450?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/victorelec14",
      "html_url": "https://github.com/victorelec14",
      "followers_url": "https://api.github.com/users/victorelec14/followers",
      "following_url": "https://api.github.com/users/victorelec14/following{/other_user}",
      "gists_url": "https://api.github.com/users/victorelec14/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/victorelec14/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/victorelec14/subscriptions",
      "organizations_url": "https://api.github.com/users/victorelec14/orgs",
      "repos_url": "https://api.github.com/users/victorelec14/repos",
      "events_url": "https://api.github.com/users/victorelec14/events{/privacy}",
      "received_events_url": "https://api.github.com/users/victorelec14/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-09-19T10:19:18Z",
    "updated_at": "2022-09-19T10:19:39Z",
    "author_association": "NONE",
    "body": "I have the same problem, it is as if erigon does not take the parameter correctly.\r\n\r\n\r\nDocker compose commands:\r\n```yml\r\ncommand:\r\n      - erigon\r\n      - --chain=mainnet\r\n      #- --datadir=/erigon\r\n      - --http\r\n      - --http.addr=0.0.0.0\r\n      - --http.port=8545\r\n      - --http.vhosts=*\r\n      - --http.corsdomain=*\r\n      - --http.api=eth,net,web3,engine,admin,erigon,debug,trace,txpool\r\n      - --private.api.addr=0.0.0.0:9090\r\n      - --authrpc.jwtsecret=/jwt.hex\r\n      - --authrpc.addr=0.0.0.0\r\n      - --authrpc.port=8551\r\n      - --authrpc.vhosts=*\r\n      - --metrics\r\n      - --metrics.addr=0.0.0.0\r\n      - --metrics.port=6060   \r\n      - --ws\r\n      - --nat=any\r\n      \r\n```\r\n\r\nresponse in VM:\r\n```\r\n\r\nroot@erigon:~# curl -X POST http://localhost:8551/  -H \"Content-Type: application/json\"  --data '{\"jsonrpc\":\"2.0\",\"method\":\"eth_syncing\",\"params\":[],\"id\":1}'\r\ncurl: (56) Recv failure: Connection reset by peer\r\nroot@erigon:~# curl -X POST http://localhost:8545/  -H \"Content-Type: application/json\"  --data \r\n'{\"jsonrpc\":\"2.0\",\"method\":\"eth_syncing\",\"params\":[],\"id\":1}'\r\ncurl: (56) Recv failure: Connection reset by peer\r\n```\r\n\r\nthanks!",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1250832672/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1251037150",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/5422#issuecomment-1251037150",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/5422",
    "id": 1251037150,
    "node_id": "IC_kwDOC0FsAM5KkU_e",
    "user": {
      "login": "revitteth",
      "id": 693995,
      "node_id": "MDQ6VXNlcjY5Mzk5NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/693995?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/revitteth",
      "html_url": "https://github.com/revitteth",
      "followers_url": "https://api.github.com/users/revitteth/followers",
      "following_url": "https://api.github.com/users/revitteth/following{/other_user}",
      "gists_url": "https://api.github.com/users/revitteth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/revitteth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/revitteth/subscriptions",
      "organizations_url": "https://api.github.com/users/revitteth/orgs",
      "repos_url": "https://api.github.com/users/revitteth/repos",
      "events_url": "https://api.github.com/users/revitteth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/revitteth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-09-19T13:40:41Z",
    "updated_at": "2022-09-19T13:40:41Z",
    "author_association": "CONTRIBUTOR",
    "body": "Looking quickly this looks like a port mapping issue - `--downloader.api.addr=0.0.0.0:9093` this address is used for the downloader, however the ports specified on the downloader container do not include 9093, therefore my idea is that 0.0.0.0:9093 is closed, hence seeing the connection reset by peer.",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1251037150/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1439421717",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/5422#issuecomment-1439421717",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/5422",
    "id": 1439421717,
    "node_id": "IC_kwDOC0FsAM5Vy9UV",
    "user": {
      "login": "dreadedhamish",
      "id": 5133413,
      "node_id": "MDQ6VXNlcjUxMzM0MTM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5133413?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dreadedhamish",
      "html_url": "https://github.com/dreadedhamish",
      "followers_url": "https://api.github.com/users/dreadedhamish/followers",
      "following_url": "https://api.github.com/users/dreadedhamish/following{/other_user}",
      "gists_url": "https://api.github.com/users/dreadedhamish/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dreadedhamish/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dreadedhamish/subscriptions",
      "organizations_url": "https://api.github.com/users/dreadedhamish/orgs",
      "repos_url": "https://api.github.com/users/dreadedhamish/repos",
      "events_url": "https://api.github.com/users/dreadedhamish/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dreadedhamish/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-02-22T04:26:48Z",
    "updated_at": "2023-02-22T04:27:19Z",
    "author_association": "NONE",
    "body": "@revitteth  What was the resolution?\r\nAs of yesterday the erigon-downloader still doesn't have 9093 open.",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1439421717/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1445356856",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/5422#issuecomment-1445356856",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/5422",
    "id": 1445356856,
    "node_id": "IC_kwDOC0FsAM5WJmU4",
    "user": {
      "login": "dreadedhamish",
      "id": 5133413,
      "node_id": "MDQ6VXNlcjUxMzM0MTM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5133413?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dreadedhamish",
      "html_url": "https://github.com/dreadedhamish",
      "followers_url": "https://api.github.com/users/dreadedhamish/followers",
      "following_url": "https://api.github.com/users/dreadedhamish/following{/other_user}",
      "gists_url": "https://api.github.com/users/dreadedhamish/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dreadedhamish/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dreadedhamish/subscriptions",
      "organizations_url": "https://api.github.com/users/dreadedhamish/orgs",
      "repos_url": "https://api.github.com/users/dreadedhamish/repos",
      "events_url": "https://api.github.com/users/dreadedhamish/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dreadedhamish/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-02-26T13:04:21Z",
    "updated_at": "2023-02-26T13:04:21Z",
    "author_association": "NONE",
    "body": "Actually even though the port isn't explicitly opened, or appear open from within docker-exec - after I resolved other issues the downloader worked just fine.",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1445356856/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
