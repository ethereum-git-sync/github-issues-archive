{
  "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/1021",
  "repository_url": "https://api.github.com/repos/ledgerwatch/erigon",
  "labels_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/1021/labels{/name}",
  "comments_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/1021/comments",
  "events_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/1021/events",
  "html_url": "https://github.com/ledgerwatch/erigon/issues/1021",
  "id": 689209221,
  "node_id": "MDU6SXNzdWU2ODkyMDkyMjE=",
  "number": 1021,
  "title": "Split Database Files Where Possible",
  "user": {
    "login": "MysticRyuujin",
    "id": 8877131,
    "node_id": "MDQ6VXNlcjg4NzcxMzE=",
    "avatar_url": "https://avatars.githubusercontent.com/u/8877131?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/MysticRyuujin",
    "html_url": "https://github.com/MysticRyuujin",
    "followers_url": "https://api.github.com/users/MysticRyuujin/followers",
    "following_url": "https://api.github.com/users/MysticRyuujin/following{/other_user}",
    "gists_url": "https://api.github.com/users/MysticRyuujin/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/MysticRyuujin/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/MysticRyuujin/subscriptions",
    "organizations_url": "https://api.github.com/users/MysticRyuujin/orgs",
    "repos_url": "https://api.github.com/users/MysticRyuujin/repos",
    "events_url": "https://api.github.com/users/MysticRyuujin/events{/privacy}",
    "received_events_url": "https://api.github.com/users/MysticRyuujin/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 6,
  "created_at": "2020-08-31T13:29:46Z",
  "updated_at": "2022-05-27T05:11:54Z",
  "closed_at": "2022-05-27T05:11:54Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "Adding this as an issue for tracking.\r\n\r\nHas any thought been given to splitting the data.mdb file into separate database files/buckets?\r\n\r\nIt would make managing storage easier if we could split it up somehow. Right now it's a single 685GB file for me. I could see scenarios where it would be nice to split it across disks.\r\n\r\nFor instance my Intel NUCs have 2 SSDs, both 500GB. I couldn't store that single file on either disk.\r\n\r\nFor Nethermind and geth, because they put files in different folders, I can mount storage at those locations or use symlinks in order to spread the load across disks without resorting to RAID setups.",
  "closed_by": {
    "login": "AskAlexSharov",
    "id": 46885206,
    "node_id": "MDQ6VXNlcjQ2ODg1MjA2",
    "avatar_url": "https://avatars.githubusercontent.com/u/46885206?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/AskAlexSharov",
    "html_url": "https://github.com/AskAlexSharov",
    "followers_url": "https://api.github.com/users/AskAlexSharov/followers",
    "following_url": "https://api.github.com/users/AskAlexSharov/following{/other_user}",
    "gists_url": "https://api.github.com/users/AskAlexSharov/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/AskAlexSharov/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/AskAlexSharov/subscriptions",
    "organizations_url": "https://api.github.com/users/AskAlexSharov/orgs",
    "repos_url": "https://api.github.com/users/AskAlexSharov/repos",
    "events_url": "https://api.github.com/users/AskAlexSharov/events{/privacy}",
    "received_events_url": "https://api.github.com/users/AskAlexSharov/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/1021/reactions",
    "total_count": 2,
    "+1": 2,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/1021/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/831463840",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/1021#issuecomment-831463840",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/1021",
    "id": 831463840,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgzMTQ2Mzg0MA==",
    "user": {
      "login": "metala",
      "id": 120106,
      "node_id": "MDQ6VXNlcjEyMDEwNg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/120106?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/metala",
      "html_url": "https://github.com/metala",
      "followers_url": "https://api.github.com/users/metala/followers",
      "following_url": "https://api.github.com/users/metala/following{/other_user}",
      "gists_url": "https://api.github.com/users/metala/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/metala/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/metala/subscriptions",
      "organizations_url": "https://api.github.com/users/metala/orgs",
      "repos_url": "https://api.github.com/users/metala/repos",
      "events_url": "https://api.github.com/users/metala/events{/privacy}",
      "received_events_url": "https://api.github.com/users/metala/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-05-03T18:57:44Z",
    "updated_at": "2021-05-03T18:57:44Z",
    "author_association": "CONTRIBUTOR",
    "body": "I think an LVM would solve your issue.",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/831463840/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/831473337",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/1021#issuecomment-831473337",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/1021",
    "id": 831473337,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgzMTQ3MzMzNw==",
    "user": {
      "login": "MysticRyuujin",
      "id": 8877131,
      "node_id": "MDQ6VXNlcjg4NzcxMzE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8877131?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MysticRyuujin",
      "html_url": "https://github.com/MysticRyuujin",
      "followers_url": "https://api.github.com/users/MysticRyuujin/followers",
      "following_url": "https://api.github.com/users/MysticRyuujin/following{/other_user}",
      "gists_url": "https://api.github.com/users/MysticRyuujin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MysticRyuujin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MysticRyuujin/subscriptions",
      "organizations_url": "https://api.github.com/users/MysticRyuujin/orgs",
      "repos_url": "https://api.github.com/users/MysticRyuujin/repos",
      "events_url": "https://api.github.com/users/MysticRyuujin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MysticRyuujin/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-05-03T19:14:22Z",
    "updated_at": "2021-05-03T19:18:16Z",
    "author_association": "CONTRIBUTOR",
    "body": "If I had a host dedicated to the singular purpose of running TG and set it up that way, sure. This isn't a constructive reply. LVM volumes come with their own sets of problems wrt to expansion, write load balancing, etc.\r\n\r\nIt also doesn't solve many of the other uses cases and benefits of splitting your database into different \"files\" allowing you to mix and match differing performance disks.",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/831473337/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/831631376",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/1021#issuecomment-831631376",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/1021",
    "id": 831631376,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgzMTYzMTM3Ng==",
    "user": {
      "login": "AskAlexSharov",
      "id": 46885206,
      "node_id": "MDQ6VXNlcjQ2ODg1MjA2",
      "avatar_url": "https://avatars.githubusercontent.com/u/46885206?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/AskAlexSharov",
      "html_url": "https://github.com/AskAlexSharov",
      "followers_url": "https://api.github.com/users/AskAlexSharov/followers",
      "following_url": "https://api.github.com/users/AskAlexSharov/following{/other_user}",
      "gists_url": "https://api.github.com/users/AskAlexSharov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/AskAlexSharov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/AskAlexSharov/subscriptions",
      "organizations_url": "https://api.github.com/users/AskAlexSharov/orgs",
      "repos_url": "https://api.github.com/users/AskAlexSharov/repos",
      "events_url": "https://api.github.com/users/AskAlexSharov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/AskAlexSharov/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-05-04T01:16:18Z",
    "updated_at": "2021-05-04T01:16:18Z",
    "author_association": "COLLABORATOR",
    "body": "We working on it by moving headers and blocks to to historical snapshot: https://github.com/ledgerwatch/turbo-geth/pull/1836\r\n\r\nBut only headers+blocks it’s 150gb, not much. I think other historical data also may go out, but not in plans yet.  ",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/831631376/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/831718403",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/1021#issuecomment-831718403",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/1021",
    "id": 831718403,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgzMTcxODQwMw==",
    "user": {
      "login": "metala",
      "id": 120106,
      "node_id": "MDQ6VXNlcjEyMDEwNg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/120106?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/metala",
      "html_url": "https://github.com/metala",
      "followers_url": "https://api.github.com/users/metala/followers",
      "following_url": "https://api.github.com/users/metala/following{/other_user}",
      "gists_url": "https://api.github.com/users/metala/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/metala/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/metala/subscriptions",
      "organizations_url": "https://api.github.com/users/metala/orgs",
      "repos_url": "https://api.github.com/users/metala/repos",
      "events_url": "https://api.github.com/users/metala/events{/privacy}",
      "received_events_url": "https://api.github.com/users/metala/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-05-04T06:46:09Z",
    "updated_at": "2021-05-04T06:46:09Z",
    "author_association": "CONTRIBUTOR",
    "body": "> If I had a host dedicated to the singular purpose of running TG and set it up that way, sure. This isn't a constructive reply. LVM volumes come with their own sets of problems wrt to expansion, write load balancing, etc.\r\n> \r\n> It also doesn't solve many of the other uses cases and benefits of splitting your database into different \"files\" allowing you to mix and match differing performance disks.\r\n\r\nI am sorry. I though your issue was just storage, which I am currently trying to solve with btrfs+zstd. Also, sorry for the necro.",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/831718403/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/831721084",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/1021#issuecomment-831721084",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/1021",
    "id": 831721084,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgzMTcyMTA4NA==",
    "user": {
      "login": "AskAlexSharov",
      "id": 46885206,
      "node_id": "MDQ6VXNlcjQ2ODg1MjA2",
      "avatar_url": "https://avatars.githubusercontent.com/u/46885206?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/AskAlexSharov",
      "html_url": "https://github.com/AskAlexSharov",
      "followers_url": "https://api.github.com/users/AskAlexSharov/followers",
      "following_url": "https://api.github.com/users/AskAlexSharov/following{/other_user}",
      "gists_url": "https://api.github.com/users/AskAlexSharov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/AskAlexSharov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/AskAlexSharov/subscriptions",
      "organizations_url": "https://api.github.com/users/AskAlexSharov/orgs",
      "repos_url": "https://api.github.com/users/AskAlexSharov/repos",
      "events_url": "https://api.github.com/users/AskAlexSharov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/AskAlexSharov/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-05-04T06:52:03Z",
    "updated_at": "2021-05-04T06:52:03Z",
    "author_association": "COLLABORATOR",
    "body": "@metala if btrfs+zstd will not work well enough, you can try zfs+It’s default compression. When using compression speed is mostly depends on amount of RAM in TG case. ",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/831721084/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1139282455",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/1021#issuecomment-1139282455",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/1021",
    "id": 1139282455,
    "node_id": "IC_kwDOC0FsAM5D6BIX",
    "user": {
      "login": "AskAlexSharov",
      "id": 46885206,
      "node_id": "MDQ6VXNlcjQ2ODg1MjA2",
      "avatar_url": "https://avatars.githubusercontent.com/u/46885206?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/AskAlexSharov",
      "html_url": "https://github.com/AskAlexSharov",
      "followers_url": "https://api.github.com/users/AskAlexSharov/followers",
      "following_url": "https://api.github.com/users/AskAlexSharov/following{/other_user}",
      "gists_url": "https://api.github.com/users/AskAlexSharov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/AskAlexSharov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/AskAlexSharov/subscriptions",
      "organizations_url": "https://api.github.com/users/AskAlexSharov/orgs",
      "repos_url": "https://api.github.com/users/AskAlexSharov/repos",
      "events_url": "https://api.github.com/users/AskAlexSharov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/AskAlexSharov/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-05-27T05:11:54Z",
    "updated_at": "2022-05-27T05:11:54Z",
    "author_association": "COLLABORATOR",
    "body": "--syncmode=snap released. now block are in datadir/snapshots",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1139282455/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
