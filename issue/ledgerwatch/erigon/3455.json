{
  "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/3455",
  "repository_url": "https://api.github.com/repos/ledgerwatch/erigon",
  "labels_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/3455/labels{/name}",
  "comments_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/3455/comments",
  "events_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/3455/events",
  "html_url": "https://github.com/ledgerwatch/erigon/issues/3455",
  "id": 1128437898,
  "node_id": "I_kwDOC0FsAM5DQpiK",
  "number": 3455,
  "title": "unexpected end of payload after txType, rlp: 02",
  "user": {
    "login": "DanielFontes",
    "id": 3082083,
    "node_id": "MDQ6VXNlcjMwODIwODM=",
    "avatar_url": "https://avatars.githubusercontent.com/u/3082083?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/DanielFontes",
    "html_url": "https://github.com/DanielFontes",
    "followers_url": "https://api.github.com/users/DanielFontes/followers",
    "following_url": "https://api.github.com/users/DanielFontes/following{/other_user}",
    "gists_url": "https://api.github.com/users/DanielFontes/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/DanielFontes/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/DanielFontes/subscriptions",
    "organizations_url": "https://api.github.com/users/DanielFontes/orgs",
    "repos_url": "https://api.github.com/users/DanielFontes/repos",
    "events_url": "https://api.github.com/users/DanielFontes/events{/privacy}",
    "received_events_url": "https://api.github.com/users/DanielFontes/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 1,
  "created_at": "2022-02-09T11:48:15Z",
  "updated_at": "2022-02-09T22:33:28Z",
  "closed_at": "2022-02-09T22:33:28Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "#### System information\r\n\r\nErigon version: `erigon version 2022.02.1-beta`\r\n\r\nOS & Version: DAppNode Linux\r\n\r\nCommit hash : 9a46788de0d565c6ff7eabde14c64d386ec98998\r\n\r\n\r\n#### Actual behaviour\r\n\r\nEvery few seconds I get the following error:\r\n\r\n` onNewBlock                              err=\"loading txs from DB: err: rlp parse transaction: unexpected end of payload after txType, rlp: 02\"`\r\n\r\nHere is a more detailed log:\r\n\r\n```\r\n[INFO] [02-09|11:38:18.367] [1/16 Headers] Processed                 highest inserted=14171683 age=10s\r\n[INFO] [02-09|11:38:18.726] [5/16 Execution] Completed on            block=14171683\r\n[INFO] [02-09|11:38:19.366] Commit cycle                             in=324.274708ms\r\n[INFO] [02-09|11:38:19.367] RPC Daemon notified of new headers       from=14171682 to=14171683\r\n[INFO] [02-09|11:38:19.367] [1/16 Headers] Waiting for headers...    from=14171683\r\n[WARN] [02-09|11:38:19.566] onNewBlock                               err=\"loading txs from DB: err: rlp parse transaction: unexpected end of payload after txType, rlp: 02\"\r\n[INFO] [02-09|11:38:23.789] [1/16 Headers] Processed                 highest inserted=14171684 age=5s\r\n[INFO] [02-09|11:38:23.831] [5/16 Execution] Completed on            block=14171684\r\n[INFO] [02-09|11:38:24.007] Commit cycle                             in=126.146867ms\r\n[INFO] [02-09|11:38:24.008] RPC Daemon notified of new headers       from=14171683 to=14171684\r\n[INFO] [02-09|11:38:24.008] [1/16 Headers] Waiting for headers...    from=14171684\r\n[WARN] [02-09|11:38:24.171] onNewBlock                               err=\"loading txs from DB: err: rlp parse transaction: unexpected end of payload after txType, rlp: 02\"\r\n[INFO] [02-09|11:38:47.221] [1/16 Headers] Processed                 highest inserted=14171685 age=24s\r\n[INFO] [02-09|11:38:47.699] [5/16 Execution] Completed on            block=14171685\r\n[INFO] [02-09|11:38:48.404] Timings (slower than 10ms)               Prune AccountHistoryIndex=13ms Prune CallTraces=24ms\r\n[INFO] [02-09|11:38:48.405] Tables                                   freelist=\"16.20 MiB\" PlainState=\"59.80 GiB\" AccountChangeSet=\"1.51 GiB\" StorageChangeSet=\"2.61 GiB\" BlockTransaction=\"392.80 GiB\" TransactionLog=\"177.10 GiB\"\r\n[INFO] [02-09|11:38:48.919] Commit cycle                             in=513.962276ms\r\n[INFO] [02-09|11:38:48.920] RPC Daemon notified of new headers       from=14171684 to=14171685\r\n[INFO] [02-09|11:38:48.920] [1/16 Headers] Waiting for headers...    from=14171685\r\n[WARN] [02-09|11:38:49.118] onNewBlock                               err=\"loading txs from DB: err: rlp parse transaction: unexpected end of payload after txType, rlp: 02\"\r\n[INFO] [02-09|11:39:18.920] [1/16 Headers] Wrote block headers       number=14171685 blk/second=0.000 alloc=\"273.96 MiB\" sys=\"522.73 MiB\"\r\n[INFO] [02-09|11:39:25.206] [1/16 Headers] Processed                 highest inserted=14171686 age=38s\r\n[INFO] [02-09|11:39:25.510] [5/16 Execution] Completed on            block=14171686\r\n[INFO] [02-09|11:39:26.635] Commit cycle                             in=491.107654ms\r\n[INFO] [02-09|11:39:26.638] RPC Daemon notified of new headers       from=14171685 to=14171686\r\n[INFO] [02-09|11:39:26.638] [1/16 Headers] Waiting for headers...    from=14171686\r\n[WARN] [02-09|11:39:26.876] onNewBlock                               err=\"loading txs from DB: err: rlp parse transaction: unexpected end of payload after txType, rlp: 02\"\r\n[INFO] [02-09|11:39:43.575] [1/16 Headers] Processed                 highest inserted=14171687 age=15s\r\n[INFO] [02-09|11:39:44.877] [5/16 Execution] Completed on            block=14171687\r\n[INFO] [02-09|11:39:45.328] Timings (slower than 10ms)               Prune CallTraces=10ms\r\n[INFO] [02-09|11:39:45.328] Tables                                   freelist=\"16.20 MiB\" PlainState=\"59.80 GiB\" AccountChangeSet=\"1.51 GiB\" StorageChangeSet=\"2.61 GiB\" BlockTransaction=\"392.80 GiB\" TransactionLog=\"177.10 GiB\"\r\n[INFO] [02-09|11:39:45.645] Commit cycle                             in=316.302969ms\r\n[INFO] [02-09|11:39:45.645] RPC Daemon notified of new headers       from=14171686 to=14171687\r\n[INFO] [02-09|11:39:45.645] [1/16 Headers] Waiting for headers...    from=14171687\r\n[WARN] [02-09|11:39:45.835] onNewBlock                               err=\"loading txs from DB: err: rlp parse transaction: unexpected end of payload after txType, rlp: 02\"\r\n```\r\n\r\n`erigon` parameters: `--prune htc --prune.r.before=11184524`\r\n`rpcdaemon ` parameters: `--http.api=eth,debug,net,web3`\r\n\r\nI got the same error with v2022.01.02.\r\n",
  "closed_by": {
    "login": "AlexeyAkhunov",
    "id": 13686139,
    "node_id": "MDQ6VXNlcjEzNjg2MTM5",
    "avatar_url": "https://avatars.githubusercontent.com/u/13686139?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/AlexeyAkhunov",
    "html_url": "https://github.com/AlexeyAkhunov",
    "followers_url": "https://api.github.com/users/AlexeyAkhunov/followers",
    "following_url": "https://api.github.com/users/AlexeyAkhunov/following{/other_user}",
    "gists_url": "https://api.github.com/users/AlexeyAkhunov/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/AlexeyAkhunov/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/AlexeyAkhunov/subscriptions",
    "organizations_url": "https://api.github.com/users/AlexeyAkhunov/orgs",
    "repos_url": "https://api.github.com/users/AlexeyAkhunov/repos",
    "events_url": "https://api.github.com/users/AlexeyAkhunov/events{/privacy}",
    "received_events_url": "https://api.github.com/users/AlexeyAkhunov/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/3455/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/3455/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1033726318",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/3455#issuecomment-1033726318",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/3455",
    "id": 1033726318,
    "node_id": "IC_kwDOC0FsAM49nWlu",
    "user": {
      "login": "AlexeyAkhunov",
      "id": 13686139,
      "node_id": "MDQ6VXNlcjEzNjg2MTM5",
      "avatar_url": "https://avatars.githubusercontent.com/u/13686139?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/AlexeyAkhunov",
      "html_url": "https://github.com/AlexeyAkhunov",
      "followers_url": "https://api.github.com/users/AlexeyAkhunov/followers",
      "following_url": "https://api.github.com/users/AlexeyAkhunov/following{/other_user}",
      "gists_url": "https://api.github.com/users/AlexeyAkhunov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/AlexeyAkhunov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/AlexeyAkhunov/subscriptions",
      "organizations_url": "https://api.github.com/users/AlexeyAkhunov/orgs",
      "repos_url": "https://api.github.com/users/AlexeyAkhunov/repos",
      "events_url": "https://api.github.com/users/AlexeyAkhunov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/AlexeyAkhunov/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-02-09T12:49:09Z",
    "updated_at": "2022-02-09T12:49:09Z",
    "author_association": "CONTRIBUTOR",
    "body": "This is due to a bug in the previous version of Erigon. To solve this, please stop Erigon, manually remove the tx pool database under `<datadir>/txpool` and restart. The error should go away and you should start seeing tx pool stats in the log",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1033726318/reactions",
      "total_count": 2,
      "+1": 2,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
