{
  "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/1634",
  "repository_url": "https://api.github.com/repos/ledgerwatch/erigon",
  "labels_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/1634/labels{/name}",
  "comments_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/1634/comments",
  "events_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/1634/events",
  "html_url": "https://github.com/ledgerwatch/erigon/issues/1634",
  "id": 844854638,
  "node_id": "MDU6SXNzdWU4NDQ4NTQ2Mzg=",
  "number": 1634,
  "title": "Panic during block execution",
  "user": {
    "login": "pipermerriam",
    "id": 824194,
    "node_id": "MDQ6VXNlcjgyNDE5NA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/824194?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/pipermerriam",
    "html_url": "https://github.com/pipermerriam",
    "followers_url": "https://api.github.com/users/pipermerriam/followers",
    "following_url": "https://api.github.com/users/pipermerriam/following{/other_user}",
    "gists_url": "https://api.github.com/users/pipermerriam/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/pipermerriam/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/pipermerriam/subscriptions",
    "organizations_url": "https://api.github.com/users/pipermerriam/orgs",
    "repos_url": "https://api.github.com/users/pipermerriam/repos",
    "events_url": "https://api.github.com/users/pipermerriam/events{/privacy}",
    "received_events_url": "https://api.github.com/users/pipermerriam/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 3,
  "created_at": "2021-03-30T16:38:55Z",
  "updated_at": "2021-03-31T05:44:01Z",
  "closed_at": "2021-03-31T05:44:01Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "#### System information\r\n\r\nGeth version: 3da261ba9b3ecc7fd446a8b5d2c0abce0cbecbf2\r\nOS & Version: Linux\r\nCommit hash : 3da261ba9b3ecc7fd446a8b5d2c0abce0cbecbf2\r\n\r\n#### Expected behaviour\r\n\r\nExecution to.... execute\r\n\r\n#### Actual behaviour\r\n\r\nClient crashed\r\n\r\n#### Steps to reproduce the behaviour\r\n\r\nThis was a fresh sync from an empty datadir.\r\n\r\n#### Backtrace\r\n\r\n````\r\npanic: runtime error: invalid memory address or nil pointer dereference\r\n[signal SIGSEGV: segmentation violation code=0x1 addr=0x8 pc=0xd33c86]\r\ngoroutine 204971 [running]:\r\ngithub.com/ledgerwatch/turbo-geth/core.(*accountSet).containsTx(0x0, 0xc65ea8e000, 0xf09f74412efb90e7)\r\n        github.com/ledgerwatch/turbo-geth/core/tx_pool.go:1508 +0x26\r\ngithub.com/ledgerwatch/turbo-geth/core.(*TxPool).add(0xc000140900, 0xc65ea8e000, 0x0, 0xc6c0dee160, 0x0, 0xc6c0dee140)\r\n        github.com/ledgerwatch/turbo-geth/core/tx_pool.go:612 +0x15f3\r\ngithub.com/ledgerwatch/turbo-geth/core.(*TxPool).addTxsLocked(0xc000140900, 0xc10aeaa020, 0x2, 0x2, 0xaddfd8399870e200, 0x62253002, 0x0, 0x0, 0x0)\r\n        github.com/ledgerwatch/turbo-geth/core/tx_pool.go:883 +0xd2\r\ngithub.com/ledgerwatch/turbo-geth/core.(*TxPool).addTxs(0xc000140900, 0xc6c0dee020, 0x2, 0x4, 0x3db9ddc7d9950000, 0xc000700400, 0x0, 0x29553ed0135ea34b)\r\n        github.com/ledgerwatch/turbo-geth/core/tx_pool.go:858 +0x370\r\ngithub.com/ledgerwatch/turbo-geth/core.(*TxPool).AddRemotes(0xc000140900, 0xc6c0dee020, 0x2, 0x4, 0x1392e00, 0xc45397aa71f7b01, 0xc5f0902040)\r\n        github.com/ledgerwatch/turbo-geth/core/tx_pool.go:803 +0x50\r\ngithub.com/ledgerwatch/turbo-geth/eth/fetcher.(*TxFetcher).Enqueue(0xc000034420, 0xc002749040, 0x40, 0xc6c0dee020, 0x2, 0x4, 0xc00cad3700, 0xc002ddac48, 0x1392e00)\r\n        github.com/ledgerwatch/turbo-geth/eth/fetcher/tx_fetcher.go:278 +0xd7\r\ngithub.com/ledgerwatch/turbo-geth/eth.(*ethHandler).Handle(0xc000390140, 0xc003634340, 0x161dac0, 0xc6c089e060, 0x96f09b583d87a7ed, 0x7d2390c0bb20)\r\n        github.com/ledgerwatch/turbo-geth/eth/handler_eth.go:92 +0xe5\r\ngithub.com/ledgerwatch/turbo-geth/eth/protocols/eth.handleTransactions(0x16360e0, 0xc000390140, 0x1620d00, 0xc64f29c000, 0xc003634340, 0xc010f2ae1da76e1c, 0x25246a1b2200)\r\n        github.com/ledgerwatch/turbo-geth/eth/protocols/eth/handlers.go:443 +0x232\r\ngithub.com/ledgerwatch/turbo-geth/eth/protocols/eth.handleMessage(0x16360e0, 0xc000390140, 0xc003634340, 0x0, 0x0)\r\n        github.com/ledgerwatch/turbo-geth/eth/protocols/eth/handler.go:238 +0x423\r\ngithub.com/ledgerwatch/turbo-geth/eth/protocols/eth.Handle(0x16360e0, 0xc000390140, 0xc003634340, 0x0, 0x0)\r\n        github.com/ledgerwatch/turbo-geth/eth/protocols/eth/handler.go:152 +0x45\r\ngithub.com/ledgerwatch/turbo-geth/eth/protocols/eth.MakeProtocols.func1.1(0xc003634340, 0x0, 0xc008a55de8)\r\n        github.com/ledgerwatch/turbo-geth/eth/protocols/eth/handler.go:109 +0x3d\r\ngithub.com/ledgerwatch/turbo-geth/eth.(*handler).runEthPeer(0xc000390140, 0xc003634340, 0xc002ddacc0, 0x0, 0x0)\r\n        github.com/ledgerwatch/turbo-geth/eth/handler.go:311 +0xcf7\r\ngithub.com/ledgerwatch/turbo-geth/eth.(*ethHandler).RunPeer(0xc000390140, 0xc003634340, 0xc002ddacc0, 0xc000274000, 0x7f24de10f0a0)\r\n        github.com/ledgerwatch/turbo-geth/eth/handler_eth.go:43 +0x3f\r\ngithub.com/ledgerwatch/turbo-geth/eth/protocols/eth.MakeProtocols.func1(0xc003b110e0, 0x161dcc0, 0xc000274000, 0x0, 0x0)\r\n        github.com/ledgerwatch/turbo-geth/eth/protocols/eth/handler.go:108 +0x11a\r\ngithub.com/ledgerwatch/turbo-geth/p2p.(*Peer).startProtocols.func1(0xc003b110e0, 0xc000274000, 0x161dcc0, 0xc000274000)\r\n        github.com/ledgerwatch/turbo-geth/p2p/peer.go:394 +0x98\r\ncreated by github.com/ledgerwatch/turbo-geth/p2p.(*Peer).startProtocols\r\n        github.com/ledgerwatch/turbo-geth/p2p/peer.go:392 +0x205\r\n````\r\n",
  "closed_by": {
    "login": "AskAlexSharov",
    "id": 46885206,
    "node_id": "MDQ6VXNlcjQ2ODg1MjA2",
    "avatar_url": "https://avatars.githubusercontent.com/u/46885206?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/AskAlexSharov",
    "html_url": "https://github.com/AskAlexSharov",
    "followers_url": "https://api.github.com/users/AskAlexSharov/followers",
    "following_url": "https://api.github.com/users/AskAlexSharov/following{/other_user}",
    "gists_url": "https://api.github.com/users/AskAlexSharov/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/AskAlexSharov/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/AskAlexSharov/subscriptions",
    "organizations_url": "https://api.github.com/users/AskAlexSharov/orgs",
    "repos_url": "https://api.github.com/users/AskAlexSharov/repos",
    "events_url": "https://api.github.com/users/AskAlexSharov/events{/privacy}",
    "received_events_url": "https://api.github.com/users/AskAlexSharov/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/1634/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/1634/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/810427702",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/1634#issuecomment-810427702",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/1634",
    "id": 810427702,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgxMDQyNzcwMg==",
    "user": {
      "login": "AlexeyAkhunov",
      "id": 13686139,
      "node_id": "MDQ6VXNlcjEzNjg2MTM5",
      "avatar_url": "https://avatars.githubusercontent.com/u/13686139?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/AlexeyAkhunov",
      "html_url": "https://github.com/AlexeyAkhunov",
      "followers_url": "https://api.github.com/users/AlexeyAkhunov/followers",
      "following_url": "https://api.github.com/users/AlexeyAkhunov/following{/other_user}",
      "gists_url": "https://api.github.com/users/AlexeyAkhunov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/AlexeyAkhunov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/AlexeyAkhunov/subscriptions",
      "organizations_url": "https://api.github.com/users/AlexeyAkhunov/orgs",
      "repos_url": "https://api.github.com/users/AlexeyAkhunov/repos",
      "events_url": "https://api.github.com/users/AlexeyAkhunov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/AlexeyAkhunov/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-03-30T17:05:16Z",
    "updated_at": "2021-03-30T17:05:16Z",
    "author_association": "CONTRIBUTOR",
    "body": "Thanks for the report! It looks like another thing that got lost during rebase to Geth 1.10.1. Will look at it",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/810427702/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/810705910",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/1634#issuecomment-810705910",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/1634",
    "id": 810705910,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgxMDcwNTkxMA==",
    "user": {
      "login": "AskAlexSharov",
      "id": 46885206,
      "node_id": "MDQ6VXNlcjQ2ODg1MjA2",
      "avatar_url": "https://avatars.githubusercontent.com/u/46885206?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/AskAlexSharov",
      "html_url": "https://github.com/AskAlexSharov",
      "followers_url": "https://api.github.com/users/AskAlexSharov/followers",
      "following_url": "https://api.github.com/users/AskAlexSharov/following{/other_user}",
      "gists_url": "https://api.github.com/users/AskAlexSharov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/AskAlexSharov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/AskAlexSharov/subscriptions",
      "organizations_url": "https://api.github.com/users/AskAlexSharov/orgs",
      "repos_url": "https://api.github.com/users/AskAlexSharov/repos",
      "events_url": "https://api.github.com/users/AskAlexSharov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/AskAlexSharov/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-03-31T02:17:07Z",
    "updated_at": "2021-03-31T02:17:07Z",
    "author_association": "COLLABORATOR",
    "body": "Fixed in https://github.com/ledgerwatch/turbo-geth/pull/1637",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/810705910/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/810782716",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/1634#issuecomment-810782716",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/1634",
    "id": 810782716,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgxMDc4MjcxNg==",
    "user": {
      "login": "AskAlexSharov",
      "id": 46885206,
      "node_id": "MDQ6VXNlcjQ2ODg1MjA2",
      "avatar_url": "https://avatars.githubusercontent.com/u/46885206?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/AskAlexSharov",
      "html_url": "https://github.com/AskAlexSharov",
      "followers_url": "https://api.github.com/users/AskAlexSharov/followers",
      "following_url": "https://api.github.com/users/AskAlexSharov/following{/other_user}",
      "gists_url": "https://api.github.com/users/AskAlexSharov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/AskAlexSharov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/AskAlexSharov/subscriptions",
      "organizations_url": "https://api.github.com/users/AskAlexSharov/orgs",
      "repos_url": "https://api.github.com/users/AskAlexSharov/repos",
      "events_url": "https://api.github.com/users/AskAlexSharov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/AskAlexSharov/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-03-31T05:44:01Z",
    "updated_at": "2021-03-31T05:44:01Z",
    "author_association": "COLLABORATOR",
    "body": "Mergrd. Feel free to test",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/810782716/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
