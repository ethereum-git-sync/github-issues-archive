{
  "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/7780",
  "repository_url": "https://api.github.com/repos/ledgerwatch/erigon",
  "labels_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/7780/labels{/name}",
  "comments_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/7780/comments",
  "events_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/7780/events",
  "html_url": "https://github.com/ledgerwatch/erigon/issues/7780",
  "id": 1768855606,
  "node_id": "I_kwDOC0FsAM5pbpg2",
  "number": 7780,
  "title": "Staged Sync err=\"runtime error: index out of range [0] with length 0",
  "user": {
    "login": "SuperEdison",
    "id": 84554944,
    "node_id": "MDQ6VXNlcjg0NTU0OTQ0",
    "avatar_url": "https://avatars.githubusercontent.com/u/84554944?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/SuperEdison",
    "html_url": "https://github.com/SuperEdison",
    "followers_url": "https://api.github.com/users/SuperEdison/followers",
    "following_url": "https://api.github.com/users/SuperEdison/following{/other_user}",
    "gists_url": "https://api.github.com/users/SuperEdison/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/SuperEdison/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/SuperEdison/subscriptions",
    "organizations_url": "https://api.github.com/users/SuperEdison/orgs",
    "repos_url": "https://api.github.com/users/SuperEdison/repos",
    "events_url": "https://api.github.com/users/SuperEdison/events{/privacy}",
    "received_events_url": "https://api.github.com/users/SuperEdison/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2023-06-22T03:15:36Z",
  "updated_at": "2023-11-03T03:31:56Z",
  "closed_at": "2023-07-31T02:28:19Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "#### System information\r\n\r\nErigon version: 2.46.0\r\n\r\nOS & Version:linux amd64\r\n\r\nCommit hash: 6755f7e1fdb0aaa59ff02f5a871492d6c906b06c\r\n\r\nErigon Command (with flags/config):\r\n\r\nConcensus Layer: heidall\r\n\r\nConcensus Layer Command (with flags/config):\r\n\r\nChain/Network: \r\npolygon\r\n#### Error behaviour\r\n```shell\r\n[INFO] [06-22|11:04:00.064] Starting private RPC server              on=127.0.0.1:9090\r\n[INFO] [06-22|11:04:00.064] new subscription to logs established \r\n[INFO] [06-22|11:04:00.064] rpc filters: subscribing to Erigon events \r\n[INFO] [06-22|11:04:00.064] New txs subscriber joined \r\n[INFO] [06-22|11:04:00.064] new subscription to newHeaders established \r\n[INFO] [06-22|11:04:00.065] Reading JWT secret                       path=/mnt/polygon/polygondata/jwt.hex\r\n[INFO] [06-22|11:04:00.065] HTTP endpoint opened for Engine API      url=127.0.0.1:8551 ws=true ws.compression=true\r\n[INFO] [06-22|11:04:00.065] HTTP endpoint opened                     url=[::]:80 ws=false ws.compression=true grpc=false\r\n[INFO] [06-22|11:04:00.073] Started P2P networking                   version=67 self=enode://b7141d7c0ec4a1132fa094355663f8a758edd91fd253538a712933f93e2b4e650e8c38db69fccd2aef41c4204c92018c5bc6a220bec0e4248337e60a070e11eb@127.0.0.1:0 name=erigon/v2.46.0-dev-6755f7e1/linux-amd64/go1.20.4\r\n[INFO] [06-22|11:04:00.074] Started P2P networking                   version=68 self=enode://b7141d7c0ec4a1132fa094355663f8a758edd91fd253538a712933f93e2b4e650e8c38db69fccd2aef41c4204c92018c5bc6a220bec0e4248337e60a070e11eb@127.0.0.1:0 name=erigon/v2.46.0-dev-6755f7e1/linux-amd64/go1.20.4\r\n[INFO] [06-22|11:04:00.099] [txpool] Started \r\n[INFO] [06-22|11:04:00.104] [1/15 Snapshots] Fetching torrent files metadata \r\n[INFO] [06-22|11:04:00.111] [snapshots] Blocks Stat                  blocks=43926k indices=43926k alloc=3.9GB sys=4.1GB\r\n[INFO] [06-22|11:04:00.111] [2/15 Headers] Waiting for headers...    from=44018615\r\n[INFO] [06-22|11:04:20.112] [2/15 Headers] No block headers to write in this log period block number=44018615\r\n[INFO] [06-22|11:04:40.112] [2/15 Headers] No block headers to write in this log period block number=44018615\r\n[INFO] [06-22|11:04:57.544] Span with given block number is not loaded fetching span=6878\r\n[INFO] [06-22|11:05:00.065] [txpool] stat                            pending=0 baseFee=0 queued=32 alloc=4.1GB sys=4.4GB\r\n[INFO] [06-22|11:05:00.112] [2/15 Headers] Wrote block headers       number=44018807 blk/second=9.600 alloc=4.1GB sys=4.4GB\r\n[INFO] [06-22|11:05:20.112] [2/15 Headers] Wrote block headers       number=44019386 blk/second=28.950 alloc=4.3GB sys=4.5GB\r\n[INFO] [06-22|11:05:40.112] [2/15 Headers] No block headers to write in this log period block number=44019386\r\n[INFO] [06-22|11:05:59.200] [p2p] GoodPeers                          eth66=5\r\n[INFO] [06-22|11:06:00.065] [txpool] stat                            pending=1077 baseFee=1 queued=1391 alloc=3.0GB sys=4.6GB\r\n[INFO] [06-22|11:06:00.111] [2/15 Headers] No block headers to write in this log period block number=44019386\r\n[INFO] [06-22|11:06:20.112] [2/15 Headers] No block headers to write in this log period block number=44019386\r\n[INFO] [06-22|11:06:40.111] [2/15 Headers] No block headers to write in this log period block number=44019386\r\n[INFO] [06-22|11:06:47.846] Span with given block number is not loaded fetching span=6879\r\n[INFO] [06-22|11:07:00.066] [txpool] stat                            pending=1123 baseFee=2 queued=2209 alloc=3.4GB sys=4.6GB\r\n[INFO] [06-22|11:07:00.112] [2/15 Headers] Wrote block headers       number=44022473 blk/second=154.350 alloc=3.4GB sys=4.6GB\r\n[INFO] [06-22|11:07:15.649] Span with given block number is not loaded fetching span=6880\r\n[INFO] [06-22|11:07:16.545] Span with given block number is not loaded fetching span=6881\r\n[INFO] [06-22|11:07:20.112] [2/15 Headers] Wrote block headers       number=44037141 blk/second=733.400 alloc=3.9GB sys=4.6GB\r\n[INFO] [06-22|11:07:24.030] Span with given block number is not loaded fetching span=6882\r\n[INFO] [06-22|11:07:25.327] Span with given block number is not loaded fetching span=6883\r\n[INFO] [06-22|11:07:31.697] Span with given block number is not loaded fetching span=6884\r\n[INFO] [06-22|11:07:38.451] Span with given block number is not loaded fetching span=6885\r\n[INFO] [06-22|11:07:40.113] [2/15 Headers] Wrote block headers       number=44061845 blk/second=1235.200 alloc=4.7GB sys=5.0GB\r\n[INFO] [06-22|11:07:43.033] Span with given block number is not loaded fetching span=6886\r\n[INFO] [06-22|11:07:48.409] Span with given block number is not loaded fetching span=6887\r\n[INFO] [06-22|11:07:49.989] Span with given block number is not loaded fetching span=6888\r\n[INFO] [06-22|11:07:51.699] Span with given block number is not loaded fetching span=6889\r\n[INFO] [06-22|11:07:54.584] Span with given block number is not loaded fetching span=6890\r\n[INFO] [06-22|11:07:55.817] Span with given block number is not loaded fetching span=6891\r\n[INFO] [06-22|11:07:56.583] Span with given block number is not loaded fetching span=6892\r\n[INFO] [06-22|11:07:59.200] [p2p] GoodPeers                          eth68=1 eth66=9\r\n[INFO] [06-22|11:08:00.068] [txpool] stat                            pending=1187 baseFee=2 queued=3610 alloc=3.5GB sys=6.0GB\r\n[INFO] [06-22|11:08:00.112] [2/15 Headers] Wrote block headers       number=44103725 blk/second=2094.000 alloc=3.5GB sys=6.0GB\r\n[INFO] [06-22|11:08:00.771] Span with given block number is not loaded fetching span=6893\r\n[INFO] [06-22|11:08:13.264] Span with given block number is not loaded fetching span=6894\r\n[INFO] [06-22|11:08:14.013] Span with given block number is not loaded fetching span=6895\r\n[INFO] [06-22|11:08:15.002] Span with given block number is not loaded fetching span=6896\r\n[INFO] [06-22|11:08:15.770] Span with given block number is not loaded fetching span=6897\r\n[INFO] [06-22|11:08:20.112] [2/15 Headers] Wrote block headers       number=44136341 blk/second=1630.800 alloc=4.5GB sys=6.0GB\r\n[INFO] [06-22|11:08:33.117] Span with given block number is not loaded fetching span=6898\r\n[INFO] [06-22|11:08:33.875] Span with given block number is not loaded fetching span=6899\r\n[INFO] [06-22|11:08:40.112] [2/15 Headers] Wrote block headers       number=44149850 blk/second=675.450 alloc=5.0GB sys=6.0GB\r\n[INFO] [06-22|11:09:00.066] [txpool] stat                            pending=1288 baseFee=3 queued=5089 alloc=5.2GB sys=6.0GB\r\n[INFO] [06-22|11:09:00.112] [2/15 Headers] Wrote block headers       number=44152938 blk/second=154.400 alloc=5.2GB sys=6.0GB\r\n[INFO] [06-22|11:09:13.264] Span with given block number is not loaded fetching span=6900\r\n[INFO] [06-22|11:09:14.023] Span with given block number is not loaded fetching span=6901\r\n[INFO] [06-22|11:09:20.112] [2/15 Headers] Wrote block headers       number=44166255 blk/second=665.850 alloc=5.9GB sys=6.3GB\r\n[INFO] [06-22|11:09:26.059] Span with given block number is not loaded fetching span=6902\r\n[INFO] [06-22|11:09:40.112] [2/15 Headers] Wrote block headers       number=44169535 blk/second=164.000 alloc=3.1GB sys=6.4GB\r\n[INFO] [06-22|11:09:59.201] [p2p] GoodPeers                          eth66=10\r\n[INFO] [06-22|11:10:00.067] [txpool] stat                            pending=1416 baseFee=3 queued=6297 alloc=3.2GB sys=6.4GB\r\n[INFO] [06-22|11:10:00.112] [2/15 Headers] No block headers to write in this log period block number=44169535\r\n[INFO] [06-22|11:10:20.112] [2/15 Headers] No block headers to write in this log period block number=44169535\r\n[EROR] [06-22|11:10:26.373] Staged Sync                              err=\"runtime error: index out of range [0] with length 0, trace: [stageloop.go:130 panic.go:890 panic.go:113 btree_generic.go:522 btree_generic.go:779 header_algos.go:392 stage_headers.go:840 stage_headers.go:145 default_stages.go:37 sync.go:360 sync.go:262 stageloop.go:168 stageloop.go:92 asm_amd64.s:1598]\"\r\n[INFO] [06-22|11:10:27.493] [2/15 Headers] Waiting for headers...    from=44018615\r\n[INFO] [06-22|11:10:47.493] [2/15 Headers] No block headers to write in this log period block number=44018615\r\n[INFO] [06-22|11:11:00.065] [txpool] stat                            pending=1512 baseFee=4 queued=7585 alloc=3.7GB sys=6.4GB\r\n[INFO] [06-22|11:11:07.494] [2/15 Headers] No block headers to write in this log period block number=44018615\r\n[INFO] [06-22|11:11:27.493] [2/15 Headers] No block headers to write in this log period block number=44018615\r\n[INFO] [06-22|11:11:47.494] [2/15 Headers] Wrote block headers       number=44020930 blk/second=115.750 alloc=3.2GB sys=6.4GB\r\n[INFO] [06-22|11:11:59.200] [p2p] GoodPeers                          eth66=10\r\n[INFO] [06-22|11:12:00.068] [txpool] stat                            pending=1598 baseFee=4 queued=9149 alloc=3.3GB sys=6.4GB\r\n[INFO] [06-22|11:12:07.493] [2/15 Headers] Wrote block headers       number=44022667 blk/second=86.850 alloc=3.3GB sys=6.4GB\r\n[INFO] [06-22|11:12:27.493] [2/15 Headers] Wrote block headers       number=44027106 blk/second=221.950 alloc=3.5GB sys=6.4GB\r\n[INFO] [06-22|11:12:47.494] [2/15 Headers] No block headers to write in this log period block number=44027106\r\n[INFO] [06-22|11:13:00.066] [txpool] stat                            pending=1641 baseFee=4 queued=9639 alloc=3.7GB sys=6.4GB\r\n[INFO] [06-22|11:13:07.494] [2/15 Headers] Wrote block headers       number=44031544 blk/second=221.900 alloc=3.8GB sys=6.4GB\r\n[INFO] [06-22|11:13:27.493] [2/15 Headers] Wrote block headers       number=44036369 blk/second=241.250 alloc=4.1GB sys=6.4GB\r\n[INFO] [06-22|11:13:47.493] [2/15 Headers] Wrote block headers       number=44042159 blk/second=289.500 alloc=3.3GB sys=6.4GB\r\n[INFO] [06-22|11:13:59.200] [p2p] GoodPeers                          eth68=1 eth67=1 eth66=15\r\n[INFO] [06-22|11:14:00.068] [txpool] stat                            pending=1734 baseFee=4 queued=10857 alloc=4.2GB sys=6.4GB\r\n[INFO] [06-22|11:14:07.493] [2/15 Headers] Wrote block headers       number=44079213 blk/second=1852.700 alloc=4.4GB sys=6.4GB\r\n[INFO] [06-22|11:14:27.494] [2/15 Headers] Wrote block headers       number=44091179 blk/second=598.300 alloc=4.9GB sys=6.4GB\r\n[INFO] [06-22|11:14:47.493] [2/15 Headers] Inserting headers         progress=44101618 queue=1\r\n[INFO] [06-22|11:15:00.065] [txpool] stat                            pending=2242 baseFee=7 queued=16224 alloc=3.3GB sys=6.5GB\r\n```\r\n\r\n\r\n\r\n\r\n",
  "closed_by": {
    "login": "SuperEdison",
    "id": 84554944,
    "node_id": "MDQ6VXNlcjg0NTU0OTQ0",
    "avatar_url": "https://avatars.githubusercontent.com/u/84554944?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/SuperEdison",
    "html_url": "https://github.com/SuperEdison",
    "followers_url": "https://api.github.com/users/SuperEdison/followers",
    "following_url": "https://api.github.com/users/SuperEdison/following{/other_user}",
    "gists_url": "https://api.github.com/users/SuperEdison/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/SuperEdison/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/SuperEdison/subscriptions",
    "organizations_url": "https://api.github.com/users/SuperEdison/orgs",
    "repos_url": "https://api.github.com/users/SuperEdison/repos",
    "events_url": "https://api.github.com/users/SuperEdison/events{/privacy}",
    "received_events_url": "https://api.github.com/users/SuperEdison/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/7780/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/7780/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1657073986",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/7780#issuecomment-1657073986",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/7780",
    "id": 1657073986,
    "node_id": "IC_kwDOC0FsAM5ixPFC",
    "user": {
      "login": "chetanbothra",
      "id": 13346364,
      "node_id": "MDQ6VXNlcjEzMzQ2MzY0",
      "avatar_url": "https://avatars.githubusercontent.com/u/13346364?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chetanbothra",
      "html_url": "https://github.com/chetanbothra",
      "followers_url": "https://api.github.com/users/chetanbothra/followers",
      "following_url": "https://api.github.com/users/chetanbothra/following{/other_user}",
      "gists_url": "https://api.github.com/users/chetanbothra/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chetanbothra/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chetanbothra/subscriptions",
      "organizations_url": "https://api.github.com/users/chetanbothra/orgs",
      "repos_url": "https://api.github.com/users/chetanbothra/repos",
      "events_url": "https://api.github.com/users/chetanbothra/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chetanbothra/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-07-30T08:08:58Z",
    "updated_at": "2023-07-30T08:08:58Z",
    "author_association": "NONE",
    "body": "@AskAlexSharov , i am getting this error on latest erigon version for bor. any idea how we can resolve this ? \r\n\r\n`Span with given block number is not loaded fetching span=7100`",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1657073986/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1791853186",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/7780#issuecomment-1791853186",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/7780",
    "id": 1791853186,
    "node_id": "IC_kwDOC0FsAM5qzYKC",
    "user": {
      "login": "blxdyx",
      "id": 125243069,
      "node_id": "U_kgDOB3cOvQ",
      "avatar_url": "https://avatars.githubusercontent.com/u/125243069?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/blxdyx",
      "html_url": "https://github.com/blxdyx",
      "followers_url": "https://api.github.com/users/blxdyx/followers",
      "following_url": "https://api.github.com/users/blxdyx/following{/other_user}",
      "gists_url": "https://api.github.com/users/blxdyx/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/blxdyx/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/blxdyx/subscriptions",
      "organizations_url": "https://api.github.com/users/blxdyx/orgs",
      "repos_url": "https://api.github.com/users/blxdyx/repos",
      "events_url": "https://api.github.com/users/blxdyx/events{/privacy}",
      "received_events_url": "https://api.github.com/users/blxdyx/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-11-03T03:31:56Z",
    "updated_at": "2023-11-03T03:31:56Z",
    "author_association": "NONE",
    "body": "@SuperEdison How did you fix that? Some one meet the same error.",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1791853186/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
