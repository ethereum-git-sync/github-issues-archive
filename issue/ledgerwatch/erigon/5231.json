{
  "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/5231",
  "repository_url": "https://api.github.com/repos/ledgerwatch/erigon",
  "labels_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/5231/labels{/name}",
  "comments_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/5231/comments",
  "events_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/5231/events",
  "html_url": "https://github.com/ledgerwatch/erigon/issues/5231",
  "id": 1355405378,
  "node_id": "I_kwDOC0FsAM5QydhC",
  "number": 5231,
  "title": "eth_blockNumber not increasing after storage change",
  "user": {
    "login": "DaraDoyoung",
    "id": 95335707,
    "node_id": "U_kgDOBa61Gw",
    "avatar_url": "https://avatars.githubusercontent.com/u/95335707?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/DaraDoyoung",
    "html_url": "https://github.com/DaraDoyoung",
    "followers_url": "https://api.github.com/users/DaraDoyoung/followers",
    "following_url": "https://api.github.com/users/DaraDoyoung/following{/other_user}",
    "gists_url": "https://api.github.com/users/DaraDoyoung/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/DaraDoyoung/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/DaraDoyoung/subscriptions",
    "organizations_url": "https://api.github.com/users/DaraDoyoung/orgs",
    "repos_url": "https://api.github.com/users/DaraDoyoung/repos",
    "events_url": "https://api.github.com/users/DaraDoyoung/events{/privacy}",
    "received_events_url": "https://api.github.com/users/DaraDoyoung/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2022-08-30T08:48:31Z",
  "updated_at": "2022-08-31T01:30:17Z",
  "closed_at": "2022-08-31T01:30:17Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "git_branch=devel git_tag=v2021.10.03-1623-g832d9fd3e git_commit=832d9fd3ec9a0412cd3321a99745a19113142982\r\n\r\nI was running erigon with HDD storage, but then syncing time took too long so I changed my volume to SSD.\r\nI stopped my AWS ec2 and took snapshot of HDD storage then created SSD volume with this snapshot and attached to the ec2.\r\nIt seemed to work fine but eth_blockNumber does not increase after this change.\r\n\r\n```\r\n$ curl -X POST -H \"Content-Type: application/json\" --data '{\"jsonrpc\": \"2.0\", \"method\":\"eth_blockNumber\", \"params\": [], \"id\":1}' localhost:8545\r\n{\"jsonrpc\":\"2.0\",\"id\":1,\"result\":\"0x95f578\"}\r\n```\r\n```\r\n[INFO] [08-30|08:32:00.959] Build info                               git_branch=devel git_tag=v2021.10.03-1623-g832d9fd3e git_commit=832d9fd3ec9a0412cd3321a99745a19113142982\r\n[INFO] [08-30|08:32:00.959] Starting Erigon on Ethereum mainnet...\r\n[INFO] [08-30|08:32:00.960] Maximum peer count                       ETH=100 total=100\r\n[INFO] [08-30|08:32:00.960] starting HTTP APIs                       APIs=eth,web3,net,trace\r\n[INFO] [08-30|08:32:00.960] torrent verbosity                        level=WRN\r\n[INFO] [08-30|08:32:03.061] Set global gas cap                       cap=50000000\r\n[INFO] [08-30|08:32:03.105] Opening Database                         label=chaindata path=/home/ubuntu/data/chaindata\r\n[INFO] [08-30|08:43:51.961] Build info                               git_branch=devel git_tag=v2021.10.03-1623-g832d9fd3e git_commit=832d9fd3ec9a0412cd3321a99745a19113142982\r\n[INFO] [08-30|08:43:51.962] Starting Erigon on Ethereum mainnet...\r\n[INFO] [08-30|08:43:51.962] Maximum peer count                       ETH=100 total=100\r\n[INFO] [08-30|08:43:51.962] starting HTTP APIs                       APIs=eth,web3,net,trace\r\n[INFO] [08-30|08:43:51.962] torrent verbosity                        level=WRN\r\n[INFO] [08-30|08:43:54.063] Set global gas cap                       cap=50000000\r\n[INFO] [08-30|08:43:54.107] Opening Database                         label=chaindata path=/home/ubuntu/data/chaindata\r\n[INFO] [08-30|08:43:54.109] Initialised chain configuration          config=\"{ChainID: 1, Homestead: 1150000, DAO: 1920000, DAO Support: true, Tangerine Whistle: 2463000, Spurious Dragon: 2675000, Byzantium: 4370000, Constantinople: 7280000, Petersburg: 7280000, Istanbul: 9069000, Muir Glacier: 9200000, Berlin: 12244000, London: 12965000, Arrow Glacier: 13773000, Gray Glacier: 15050000, Terminal Total Difficulty: <nil>, Merge Netsplit: <nil>, Engine: ethash}\" genesis=0xd4e56740f876aef8c010b86a40d5f56745a118d0906a34e69aec8c0db1cb8fa3\r\n[INFO] [08-30|08:43:54.109] Effective                                prune_flags= snapshot_flags=\"--snapshots=true\"\r\n[INFO] [08-30|08:43:59.116] Initialising Ethereum protocol           network=1\r\n[INFO] [08-30|08:43:59.116] Disk storage enabled for ethash DAGs     dir=/home/ubuntu/data/ethash-dags count=2\r\n[INFO] [08-30|08:43:59.660] Starting private RPC server              on=localhost:9090\r\n[INFO] [08-30|08:43:59.660] new subscription to logs established\r\n[INFO] [08-30|08:43:59.660] rpc filters: subscribing to Erigon events\r\n[INFO] [08-30|08:43:59.660] new subscription to newHeaders established\r\n[INFO] [08-30|08:43:59.660] New txs subscriber joined\r\n[INFO] [08-30|08:43:59.661] Reading JWT secret                       path=/home/ubuntu/data/jwt.hex\r\n[INFO] [08-30|08:43:59.661] HTTP endpoint opened for Engine API      url=localhost:8551 ws=true ws.compression=true\r\n[INFO] [08-30|08:43:59.661] HTTP endpoint opened                     url=0.0.0.0:8545 ws=true ws.compression=true grpc=false\r\n[INFO] [08-30|08:43:59.668] Started P2P networking                   version=66 self=enode://cc326e388762c3a00f4f73eeb6f70dcc273181321ad16ab22a067f822e6dd3e10f90030305ddca56d908ff1b8e60dc4df1109e684347098572ad5562979c96f4@127.0.0.1:30303 name=erigon/v2022.99.99-dev-832d9fd3/linux-amd64/go1.19\r\n[INFO] [08-30|08:43:59.673] [Snapshots] Fetching torrent files metadata\r\n[INFO] [08-30|08:43:59.677] [Snapshots] Stat                         blocks=15000k indices=15000k alloc=2.4GB sys=2.6GB\r\n[INFO] [08-30|08:43:59.677] [1/16 Headers] Waiting for headers...    from=15439098\r\n[INFO] [08-30|08:44:00.075] [txpool] Started\r\n[WARN] [08-30|08:44:01.774] Served                                   conn=151.115.40.252:46492 method=eth_accounts reqid=73 t=64.824µs err=\"the method has been deprecated: eth_accounts\"\r\n[WARN] [08-30|08:44:02.107] Served                                   conn=195.123.222.16:56414 method=eth_coinbase reqid=1 t=83.872µs err=\"etherbase must be explicitly specified\"\r\n[WARN] [08-30|08:44:07.547] Served                                   conn=217.12.201.45:53710 method=eth_accounts reqid=1 t=28.358µs err=\"the method has been deprecated: eth_accounts\"\r\n[WARN] [08-30|08:44:17.434] Served                                   conn=195.123.222.16:35228 method=eth_hashrate reqid=1 t=54.254µs err=\"method HashRate not implemented\"\r\n[WARN] [08-30|08:44:18.517] Served                                   conn=195.123.222.16:34544 method=miner_getHashrate reqid=1 t=11.056µs err=\"the method miner_getHashrate does not exist/is not available\"\r\n[INFO] [08-30|08:44:19.678] [1/16 Headers] Wrote block headers       number=15439098 blk/second=0.000 alloc=2.6GB sys=2.7GB\r\n[WARN] [08-30|08:44:23.543] Served                                   conn=151.115.40.252:46538 method=eth_accounts reqid=21 t=32.779µs err=\"the method has been deprecated: eth_accounts\"\r\n\r\n\r\n\r\n.\r\n.\r\n.\r\n\r\n[WARN] [08-30|09:11:32.935] Served                                   conn=195.123.222.16:45924 method=miner_start reqid=1 t=14.559µs err=\"the method miner_start does not exist/is not available\"\r\n[INFO] [08-30|09:11:36.864] [6/16 Execution] Executed blocks         number=9829186 blk/s=3.3 tx/s=476.8 Mgas/s=30.7 gasState=0.02 batch=22.5MB alloc=2.9GB sys=10.0GB\r\n[WARN] [08-30|09:11:37.610] Served                                   conn=195.123.222.16:33648 method=miner_start reqid=1 t=15.751µs err=\"the method miner_start does not exist/is not available\"\r\n[WARN] [08-30|09:11:38.415] Served                                   conn=195.123.222.16:51348 method=miner_start reqid=1 t=15.378µs err=\"the method miner_start does not exist/is not available\"\r\n[WARN] [08-30|09:11:39.212] Served                                   conn=151.115.40.252:50070 method=eth_accounts reqid=55 t=35.253µs err=\"the method has been deprecated: eth_accounts\"\r\n[WARN] [08-30|09:11:40.188] Served                                   conn=151.115.40.252:50074 method=eth_accounts reqid=96 t=36.342µs err=\"the method has been deprecated: eth_accounts\"\r\n[WARN] [08-30|09:11:42.426] Served                                   conn=195.123.222.16:45578 method=miner_start reqid=1 t=12.652µs err=\"the method miner_start does not exist/is not available\"\r\n[WARN] [08-30|09:11:43.119] Served                                   conn=195.123.222.16:37434 method=miner_start reqid=1 t=20.524µs err=\"the method miner_start does not exist/is not available\"\r\n[WARN] [08-30|09:11:43.982] Served                                   conn=195.123.222.16:60910 method=miner_start reqid=1 t=11.531µs err=\"the method miner_start does not exist/is not available\"\r\n[WARN] [08-30|09:11:44.384] Served                                   conn=151.115.40.252:25802 method=eth_accounts reqid=79 t=38.152µs err=\"the method has been deprecated: eth_accounts\"\r\n[WARN] [08-30|09:11:48.948] Served                                   conn=195.123.222.16:32788 method=miner_start reqid=1 t=12.511µs err=\"the method miner_start does not exist/is not available\"\r\n[WARN] [08-30|09:11:49.976] Served                                   conn=195.123.222.16:52870 method=miner_start reqid=1 t=13.619µs err=\"the method miner_start does not exist/is not available\"\r\n[WARN] [08-30|09:11:50.177] Served                                   conn=151.115.40.252:25808 method=eth_accounts reqid=23 t=36.613µs err=\"the method has been deprecated: eth_accounts\"\r\n[WARN] [08-30|09:11:51.062] Served                                   conn=195.123.222.16:50738 method=miner_start reqid=1 t=11.632µs err=\"the method miner_start does not exist/is not available\"\r\n[WARN] [08-30|09:11:51.835] Served                                   conn=195.123.222.16:51462 method=miner_start reqid=1 t=11.839µs err=\"the method miner_start does not exist/is not available\"\r\n[WARN] [08-30|09:11:52.534] Served                                   conn=217.12.201.45:53860 method=eth_accounts reqid=1 t=31.071µs err=\"the method has been deprecated: eth_accounts\"\r\n[WARN] [08-30|09:11:52.770] Served                                   conn=151.115.40.252:50096 method=eth_accounts reqid=85 t=39.843µs err=\"the method has been deprecated: eth_accounts\"\r\n[WARN] [08-30|09:11:53.693] Served                                   conn=195.123.222.16:43242 method=miner_start reqid=1 t=12.979µs err=\"the method miner_start does not exist/is not available\"\r\n[WARN] [08-30|09:11:54.719] Served                                   conn=195.123.222.16:37144 method=miner_start reqid=1 t=11.825µs err=\"the method miner_start does not exist/is not available\"\r\n[WARN] [08-30|09:11:55.668] Served                                   conn=195.123.222.16:36744 method=miner_start reqid=1 t=11.476µs err=\"the method miner_start does not exist/is not available\"\r\n[INFO] [08-30|09:11:56.411] [6/16 Execution] Executed blocks         number=9829268 blk/s=4.2 tx/s=575.5 Mgas/s=37.6 gasState=0.03 batch=24.0MB alloc=3.4GB sys=10.0GB\r\n[WARN] [08-30|09:11:56.941] Served                                   conn=151.115.40.252:25822 method=eth_accounts reqid=60 t=37.004µs err=\"the method has been deprecated: eth_accounts\"\r\n[INFO] [08-30|09:11:59.117] [p2p] GoodPeers                          eth66=60\r\n[INFO] [08-30|09:11:59.686] [txpool] stat                            block=15439098 pending=9998 baseFee=0 queued=30000 alloc=3.5GB sys=10.0GB\r\n[WARN] [08-30|09:12:01.025] Served                                   conn=151.115.40.252:50122 method=eth_accounts reqid=46 t=37.531µs err=\"the method has been deprecated: eth_accounts\"\r\n[WARN] [08-30|09:12:05.366] Served                                   conn=151.115.40.252:50126 method=eth_accounts reqid=15 t=39.934µs err=\"the method has been deprecated: eth_accounts\"\r\n```\r\nI looked up the log that erigon keeps giving, and my returned value of `eth_blockNumber` is stuck at 0x95f578(9827704) block. \r\n\r\nIs this happening because the node is slow? Or is there any problem in the changes that I have made?",
  "closed_by": {
    "login": "DaraDoyoung",
    "id": 95335707,
    "node_id": "U_kgDOBa61Gw",
    "avatar_url": "https://avatars.githubusercontent.com/u/95335707?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/DaraDoyoung",
    "html_url": "https://github.com/DaraDoyoung",
    "followers_url": "https://api.github.com/users/DaraDoyoung/followers",
    "following_url": "https://api.github.com/users/DaraDoyoung/following{/other_user}",
    "gists_url": "https://api.github.com/users/DaraDoyoung/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/DaraDoyoung/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/DaraDoyoung/subscriptions",
    "organizations_url": "https://api.github.com/users/DaraDoyoung/orgs",
    "repos_url": "https://api.github.com/users/DaraDoyoung/repos",
    "events_url": "https://api.github.com/users/DaraDoyoung/events{/privacy}",
    "received_events_url": "https://api.github.com/users/DaraDoyoung/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/5231/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/5231/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1232159657",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/5231#issuecomment-1232159657",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/5231",
    "id": 1232159657,
    "node_id": "IC_kwDOC0FsAM5JcUOp",
    "user": {
      "login": "iFA88",
      "id": 18205395,
      "node_id": "MDQ6VXNlcjE4MjA1Mzk1",
      "avatar_url": "https://avatars.githubusercontent.com/u/18205395?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/iFA88",
      "html_url": "https://github.com/iFA88",
      "followers_url": "https://api.github.com/users/iFA88/followers",
      "following_url": "https://api.github.com/users/iFA88/following{/other_user}",
      "gists_url": "https://api.github.com/users/iFA88/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/iFA88/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/iFA88/subscriptions",
      "organizations_url": "https://api.github.com/users/iFA88/orgs",
      "repos_url": "https://api.github.com/users/iFA88/repos",
      "events_url": "https://api.github.com/users/iFA88/events{/privacy}",
      "received_events_url": "https://api.github.com/users/iFA88/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-08-30T20:56:49Z",
    "updated_at": "2022-08-30T20:57:03Z",
    "author_association": "CONTRIBUTOR",
    "body": "Syncing blocks has phases. When all phases are done then will be committed to the database and after that you will get the latest block.",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1232159657/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1232344967",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/5231#issuecomment-1232344967",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/5231",
    "id": 1232344967,
    "node_id": "IC_kwDOC0FsAM5JdBeH",
    "user": {
      "login": "DaraDoyoung",
      "id": 95335707,
      "node_id": "U_kgDOBa61Gw",
      "avatar_url": "https://avatars.githubusercontent.com/u/95335707?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/DaraDoyoung",
      "html_url": "https://github.com/DaraDoyoung",
      "followers_url": "https://api.github.com/users/DaraDoyoung/followers",
      "following_url": "https://api.github.com/users/DaraDoyoung/following{/other_user}",
      "gists_url": "https://api.github.com/users/DaraDoyoung/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/DaraDoyoung/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/DaraDoyoung/subscriptions",
      "organizations_url": "https://api.github.com/users/DaraDoyoung/orgs",
      "repos_url": "https://api.github.com/users/DaraDoyoung/repos",
      "events_url": "https://api.github.com/users/DaraDoyoung/events{/privacy}",
      "received_events_url": "https://api.github.com/users/DaraDoyoung/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-08-31T01:30:13Z",
    "updated_at": "2022-08-31T01:30:13Z",
    "author_association": "NONE",
    "body": "Yes, I think the node was just slow and the syncing block number did not increase straight away. It is working fine now. Thank s for the answer.",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1232344967/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
