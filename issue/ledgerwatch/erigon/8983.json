{
  "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/8983",
  "repository_url": "https://api.github.com/repos/ledgerwatch/erigon",
  "labels_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/8983/labels{/name}",
  "comments_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/8983/comments",
  "events_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/8983/events",
  "html_url": "https://github.com/ledgerwatch/erigon/issues/8983",
  "id": 2041563480,
  "node_id": "I_kwDOC0FsAM55r8lY",
  "number": 8983,
  "title": "Can't sync - no peers ",
  "user": {
    "login": "karol-murawski",
    "id": 94377122,
    "node_id": "U_kgDOBaAUog",
    "avatar_url": "https://avatars.githubusercontent.com/u/94377122?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/karol-murawski",
    "html_url": "https://github.com/karol-murawski",
    "followers_url": "https://api.github.com/users/karol-murawski/followers",
    "following_url": "https://api.github.com/users/karol-murawski/following{/other_user}",
    "gists_url": "https://api.github.com/users/karol-murawski/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/karol-murawski/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/karol-murawski/subscriptions",
    "organizations_url": "https://api.github.com/users/karol-murawski/orgs",
    "repos_url": "https://api.github.com/users/karol-murawski/repos",
    "events_url": "https://api.github.com/users/karol-murawski/events{/privacy}",
    "received_events_url": "https://api.github.com/users/karol-murawski/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 4,
  "created_at": "2023-12-14T12:06:49Z",
  "updated_at": "2023-12-28T02:28:58Z",
  "closed_at": null,
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "Hi, we are trying to sync from last erigon snapshot on v2.55.1. Looks like there is almost no peers (max 2 sometimes). \r\n\r\n```\r\n[INFO] [12-14|12:02:55.458] [2/15 Headers] No block headers to write in this log period number=50592894 blk/second=0.000 alloc=85.7MB sys=141.1MB invalidHeaders=0 rejectedBadHeaders=0\r\n[INFO] [12-14|12:02:55.458] Req/resp stats                           req=0 reqMin=0 reqMax=0 skel=15 skelMin=50592893 skelMax=50629949 resp=0 respMin=0 respMax=0 dups=0\r\n[INFO] [12-14|12:03:24.730] [p2p] GoodPeers                          eth66=2\r\n```\r\n\r\nCan I set any static peers list? Where I can find it? ",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/8983/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/8983/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1865514384",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/8983#issuecomment-1865514384",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/8983",
    "id": 1865514384,
    "node_id": "IC_kwDOC0FsAM5vMX2Q",
    "user": {
      "login": "0x1un",
      "id": 25842884,
      "node_id": "MDQ6VXNlcjI1ODQyODg0",
      "avatar_url": "https://avatars.githubusercontent.com/u/25842884?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/0x1un",
      "html_url": "https://github.com/0x1un",
      "followers_url": "https://api.github.com/users/0x1un/followers",
      "following_url": "https://api.github.com/users/0x1un/following{/other_user}",
      "gists_url": "https://api.github.com/users/0x1un/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/0x1un/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/0x1un/subscriptions",
      "organizations_url": "https://api.github.com/users/0x1un/orgs",
      "repos_url": "https://api.github.com/users/0x1un/repos",
      "events_url": "https://api.github.com/users/0x1un/events{/privacy}",
      "received_events_url": "https://api.github.com/users/0x1un/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-12-21T05:45:50Z",
    "updated_at": "2023-12-21T05:45:50Z",
    "author_association": "NONE",
    "body": "same issue.",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1865514384/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1870751524",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/8983#issuecomment-1870751524",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/8983",
    "id": 1870751524,
    "node_id": "IC_kwDOC0FsAM5vgWck",
    "user": {
      "login": "sokiaoba",
      "id": 1026591,
      "node_id": "MDQ6VXNlcjEwMjY1OTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1026591?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sokiaoba",
      "html_url": "https://github.com/sokiaoba",
      "followers_url": "https://api.github.com/users/sokiaoba/followers",
      "following_url": "https://api.github.com/users/sokiaoba/following{/other_user}",
      "gists_url": "https://api.github.com/users/sokiaoba/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sokiaoba/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sokiaoba/subscriptions",
      "organizations_url": "https://api.github.com/users/sokiaoba/orgs",
      "repos_url": "https://api.github.com/users/sokiaoba/repos",
      "events_url": "https://api.github.com/users/sokiaoba/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sokiaoba/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-12-28T02:03:40Z",
    "updated_at": "2023-12-28T02:13:34Z",
    "author_association": "NONE",
    "body": "Same here. Has anyone resolved the issue?\r\n\r\nI tried unwinding & restarted the node but it's still stuck with the same log.\r\n\r\n```\r\n/ # integration state_stages --unwind=100 --datadir /erigon/data --chain bor-mainnet\r\nINFO[12-28|01:48:29.017] logging to file system                   log dir=/erigon/data/logs file prefix=integration log level=info json=false\r\nINFO[12-28|01:48:29.035] [db] chaindata                           sizeLimit=2TB pageSize=16384\r\nINFO[12-28|01:48:29.074] Opening Database                         label=bor path=/erigon/data/bor\r\nINFO[12-28|01:49:04.473] [14/15 TxLookup] ETL [2/2] Loading       into=BlockTransactionLookup current_prefix=6285c14d\r\nINFO[12-28|01:49:34.473] [14/15 TxLookup] ETL [2/2] Loading       into=BlockTransactionLookup current_prefix=c3e27603\r\nINFO[12-28|01:49:54.165] [14/15 TxLookup] Unwind done             in=1m20.803826164s\r\nINFO[12-28|01:50:50.686] [10/15 CallTraces] Unwind                from=50592894 to=50592794\r\nINFO[12-28|01:51:07.685] [8/15 HashState] Unwinding started       from=50592894 to=50592794 storage=false codes=true\r\nINFO[12-28|01:51:10.831] [8/15 HashState] Unwinding started       from=50592894 to=50592794 storage=false codes=false\r\nINFO[12-28|01:51:18.420] [8/15 HashState] Unwinding started       from=50592894 to=50592794 storage=true codes=false\r\nINFO[12-28|01:51:37.672] [9/15 IntermediateHashes] Unwinding      from=50592894 to=50592794 csbucket=AccountChangeSet\r\nINFO[12-28|01:51:45.328] [9/15 IntermediateHashes] Unwinding      from=50592894 to=50592794 csbucket=StorageChangeSet\r\nINFO[12-28|01:52:27.288] [9/15 IntermediateHashes] Calculating Merkle root current key=69ab7af4\r\nINFO[12-28|01:52:57.297] [9/15 IntermediateHashes] Calculating Merkle root current key=d6106b04\r\nINFO[12-28|01:53:07.703] [9/15 IntermediateHashes] Trie root      hash=0xda5ec12a1bb67e2f394d0078b654782283278464e510d2c51d526a32f52f054e\r\nINFO[12-28|01:53:09.761] [9/15 IntermediateHashes] Unwind done    in=1m32.088568631s\r\nINFO[12-28|01:53:09.761] [7/15 Execution] Unwind Execution        from=50592894 to=50592794\r\nINFO[12-28|01:53:13.267] [3/15 BorHeimdall] Processing spans...   from=7907 to=7907\r\nINFO[12-28|01:53:13.284] [3/15 BorHeimdall] Processing sync events... from=50592795 to=50592894\r\nINFO[12-28|01:53:13.326] [3/15 BorHeimdall] Sync events processed progress=50592894 lastSpanId=7907 lastEventId=2816325 total records=2 fetch time=18.125836ms process time=58.744873ms\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1870751524/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1870763753",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/8983#issuecomment-1870763753",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/8983",
    "id": 1870763753,
    "node_id": "IC_kwDOC0FsAM5vgZbp",
    "user": {
      "login": "0x1un",
      "id": 25842884,
      "node_id": "MDQ6VXNlcjI1ODQyODg0",
      "avatar_url": "https://avatars.githubusercontent.com/u/25842884?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/0x1un",
      "html_url": "https://github.com/0x1un",
      "followers_url": "https://api.github.com/users/0x1un/followers",
      "following_url": "https://api.github.com/users/0x1un/following{/other_user}",
      "gists_url": "https://api.github.com/users/0x1un/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/0x1un/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/0x1un/subscriptions",
      "organizations_url": "https://api.github.com/users/0x1un/orgs",
      "repos_url": "https://api.github.com/users/0x1un/repos",
      "events_url": "https://api.github.com/users/0x1un/events{/privacy}",
      "received_events_url": "https://api.github.com/users/0x1un/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-12-28T02:24:58Z",
    "updated_at": "2023-12-28T02:24:58Z",
    "author_association": "NONE",
    "body": "@sokiaoba After running my node for a while, the peers get progressively less until they are out of sync. This problem only occurs on bor-mainnet. And the way I solved it, was to reboot",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1870763753/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1870765513",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/8983#issuecomment-1870765513",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/8983",
    "id": 1870765513,
    "node_id": "IC_kwDOC0FsAM5vgZ3J",
    "user": {
      "login": "sokiaoba",
      "id": 1026591,
      "node_id": "MDQ6VXNlcjEwMjY1OTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1026591?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sokiaoba",
      "html_url": "https://github.com/sokiaoba",
      "followers_url": "https://api.github.com/users/sokiaoba/followers",
      "following_url": "https://api.github.com/users/sokiaoba/following{/other_user}",
      "gists_url": "https://api.github.com/users/sokiaoba/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sokiaoba/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sokiaoba/subscriptions",
      "organizations_url": "https://api.github.com/users/sokiaoba/orgs",
      "repos_url": "https://api.github.com/users/sokiaoba/repos",
      "events_url": "https://api.github.com/users/sokiaoba/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sokiaoba/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-12-28T02:28:56Z",
    "updated_at": "2023-12-28T02:28:56Z",
    "author_association": "NONE",
    "body": "@0x1un \r\n\r\nThank you for your reply. I asked it in Erigon community & could resolved it by setting bootnodes.\r\nhttps://discord.com/channels/687972960811745322/983710221308416010/1189754555802591293\r\n\r\n```\r\n--bootnodes='enode://b8f1cc9c5d4403703fbf377116469667d2b1823c0daf16b7250aa576bacf399e42c3930ccfcb02c5df6879565a2b8931335565f0e8d3f8e72385ecf4a4bf160a@3.36.224.80:30303,enode://8729e0c825f3d9cad382555f3e46dcff21af323e89025a0e6312df541f4a9e73abfa562d64906f5e59c51fe6f0501b3e61b07979606c56329c020ed739910759@54.194.245.5:30303'\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1870765513/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
