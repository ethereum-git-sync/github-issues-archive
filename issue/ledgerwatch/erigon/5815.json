{
  "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/5815",
  "repository_url": "https://api.github.com/repos/ledgerwatch/erigon",
  "labels_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/5815/labels{/name}",
  "comments_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/5815/comments",
  "events_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/5815/events",
  "html_url": "https://github.com/ledgerwatch/erigon/issues/5815",
  "id": 1417078450,
  "node_id": "I_kwDOC0FsAM5Uduay",
  "number": 5815,
  "title": "runtime error: slice bounds out of range [:-1]",
  "user": {
    "login": "beejiujitsu",
    "id": 4237425,
    "node_id": "MDQ6VXNlcjQyMzc0MjU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/4237425?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/beejiujitsu",
    "html_url": "https://github.com/beejiujitsu",
    "followers_url": "https://api.github.com/users/beejiujitsu/followers",
    "following_url": "https://api.github.com/users/beejiujitsu/following{/other_user}",
    "gists_url": "https://api.github.com/users/beejiujitsu/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/beejiujitsu/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/beejiujitsu/subscriptions",
    "organizations_url": "https://api.github.com/users/beejiujitsu/orgs",
    "repos_url": "https://api.github.com/users/beejiujitsu/repos",
    "events_url": "https://api.github.com/users/beejiujitsu/events{/privacy}",
    "received_events_url": "https://api.github.com/users/beejiujitsu/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 20,
  "created_at": "2022-10-20T18:31:28Z",
  "updated_at": "2023-02-24T01:48:59Z",
  "closed_at": "2022-10-27T16:18:02Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "#### System information\r\n\r\nErigon version: `./erigon --version` \r\n\r\n```\r\n<<K9s-Shell>> Pod: int/erigon-1 | Container: erigon\r\n/ $ erigon --version\r\nerigon version 2.28.1-stable-9711af6d\r\n/ $\r\n```\r\n\r\nOS & Version: Windows/Linux/OSX\r\n\r\nLinux\r\n\r\nCommit hash : \r\n\r\n#### Expected behaviour\r\n\r\nErigon proceeds past stage 2/16.\r\n\r\n#### Actual behaviour\r\n\r\n```\r\nerigon {\"err\":\"runtime error: slice bounds out of range [:-1], snapshot: 15000000-15500000, trace: [block_reader.go:509 panic.go:884 panic.go:139 decompress.go:535 block_reader.go:524 block_reader.go:281 block_snapshots\r\n│ .go:268 block_reader.go:275 stage_headers.go:481 stage_headers.go:207 stage_headers.go:140 default_stages.go:36 sync.go:345 sync.go:255 stageloop.go:173 stageloop.go:93 asm_amd64.s:1594], trace: [stageloop.go:139 panic.\r\n│ go:890 block_reader.go:509 panic.go:884 panic.go:139 decompress.go:535 block_reader.go:524 block_reader.go:281 block_snapshots.go:268 block_reader.go:275 stage_headers.go:481 stage_headers.go:207 stage_headers.go:140 de\r\n│ fault_stages.go:36 sync.go:345 sync.go:255 stageloop.go:173 stageloop.go:93 asm_amd64.s:1594]\",\"lvl\":\"eror\",\"msg\":\"Staged Sync\",\"t\":\"2022-10-20T18:29:46.7628831Z\"}\r\n```\r\n\r\n#### Steps to reproduce the behaviour\r\n\r\nNot reproducible; only happening on one of five erigon archive nodes.\r\n\r\nAll five archive nodes are configured with the same flags, env vars, etc.\r\n\r\n#### Backtrace\r\n\r\n````\r\ntrace: [block_reader.go:509 panic.go:884 panic.go:139 decompress.go:535 block_reader.go:524 block_reader.go:281 block_snapshots\r\n│ .go:268 block_reader.go:275 stage_headers.go:481 stage_headers.go:207 stage_headers.go:140 default_stages.go:36 sync.go:345 sync.go:255 stageloop.go:173 stageloop.go:93 asm_amd64.s:1594], trace: [stageloop.go:139 panic.\r\n│ go:890 block_reader.go:509 panic.go:884 panic.go:139 decompress.go:535 block_reader.go:524 block_reader.go:281 block_snapshots.go:268 block_reader.go:275 stage_headers.go:481 stage_headers.go:207 stage_headers.go:140 de\r\n│ fault_stages.go:36 sync.go:345 sync.go:255 stageloop.go:173 stageloop.go:93 asm_amd64.s:1594]\"\r\n````\r\n",
  "closed_by": {
    "login": "beejiujitsu",
    "id": 4237425,
    "node_id": "MDQ6VXNlcjQyMzc0MjU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/4237425?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/beejiujitsu",
    "html_url": "https://github.com/beejiujitsu",
    "followers_url": "https://api.github.com/users/beejiujitsu/followers",
    "following_url": "https://api.github.com/users/beejiujitsu/following{/other_user}",
    "gists_url": "https://api.github.com/users/beejiujitsu/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/beejiujitsu/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/beejiujitsu/subscriptions",
    "organizations_url": "https://api.github.com/users/beejiujitsu/orgs",
    "repos_url": "https://api.github.com/users/beejiujitsu/repos",
    "events_url": "https://api.github.com/users/beejiujitsu/events{/privacy}",
    "received_events_url": "https://api.github.com/users/beejiujitsu/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/5815/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/5815/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1285976436",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/5815#issuecomment-1285976436",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/5815",
    "id": 1285976436,
    "node_id": "IC_kwDOC0FsAM5MpnF0",
    "user": {
      "login": "beejiujitsu",
      "id": 4237425,
      "node_id": "MDQ6VXNlcjQyMzc0MjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4237425?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/beejiujitsu",
      "html_url": "https://github.com/beejiujitsu",
      "followers_url": "https://api.github.com/users/beejiujitsu/followers",
      "following_url": "https://api.github.com/users/beejiujitsu/following{/other_user}",
      "gists_url": "https://api.github.com/users/beejiujitsu/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/beejiujitsu/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/beejiujitsu/subscriptions",
      "organizations_url": "https://api.github.com/users/beejiujitsu/orgs",
      "repos_url": "https://api.github.com/users/beejiujitsu/repos",
      "events_url": "https://api.github.com/users/beejiujitsu/events{/privacy}",
      "received_events_url": "https://api.github.com/users/beejiujitsu/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-10-20T18:33:00Z",
    "updated_at": "2022-10-20T18:33:00Z",
    "author_association": "CONTRIBUTOR",
    "body": "Related troubleshooting thread: https://discord.com/channels/687972960811745322/738982866670714901/1031568427086774385",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1285976436/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1285977625",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/5815#issuecomment-1285977625",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/5815",
    "id": 1285977625,
    "node_id": "IC_kwDOC0FsAM5MpnYZ",
    "user": {
      "login": "beejiujitsu",
      "id": 4237425,
      "node_id": "MDQ6VXNlcjQyMzc0MjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4237425?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/beejiujitsu",
      "html_url": "https://github.com/beejiujitsu",
      "followers_url": "https://api.github.com/users/beejiujitsu/followers",
      "following_url": "https://api.github.com/users/beejiujitsu/following{/other_user}",
      "gists_url": "https://api.github.com/users/beejiujitsu/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/beejiujitsu/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/beejiujitsu/subscriptions",
      "organizations_url": "https://api.github.com/users/beejiujitsu/orgs",
      "repos_url": "https://api.github.com/users/beejiujitsu/repos",
      "events_url": "https://api.github.com/users/beejiujitsu/events{/privacy}",
      "received_events_url": "https://api.github.com/users/beejiujitsu/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-10-20T18:34:13Z",
    "updated_at": "2022-10-20T18:34:13Z",
    "author_association": "CONTRIBUTOR",
    "body": "Error with context:\r\n\r\n```\r\n│ erigon {\"lvl\":\"info\",\"msg\":\"[2/16 Headers] Waiting for Consensus Layer...\",\"t\":\"2022-10-20T18:34:07.481058324Z\"}\r\n│ erigon {\"hash\":\"0xe88882dec4c9293a72181d99ecfd8e2807298e438ec1475c0d7a12b4bba1a0a4\",\"height\":15770646,\"lvl\":\"info\",\"msg\":\"[2/16 Headers] Handling new payload\",\"t\":\"2022-10-20T18:34:07.481154925Z\"}\r\n│ erigon {\"err\":\"runtime error: slice bounds out of range [:-1], snapshot: 15000000-15500000, trace: [block_reader.go:509 panic.go:884 panic.go:139 decompress.go:535 block_reader.go:524 block_reader.go:281 block_snapshots\r\n│ .go:268 block_reader.go:275 stage_headers.go:481 stage_headers.go:207 stage_headers.go:140 default_stages.go:36 sync.go:345 sync.go:255 stageloop.go:173 stageloop.go:93 asm_amd64.s:1594], trace: [stageloop.go:139 panic.\r\n│ go:890 block_reader.go:509 panic.go:884 panic.go:139 decompress.go:535 block_reader.go:524 block_reader.go:281 block_snapshots.go:268 block_reader.go:275 stage_headers.go:481 stage_headers.go:207 stage_headers.go:140 de\r\n│ fault_stages.go:36 sync.go:345 sync.go:255 stageloop.go:173 stageloop.go:93 asm_amd64.s:1594]\",\"lvl\":\"eror\",\"msg\":\"Staged Sync\",\"t\":\"2022-10-20T18:34:07.481428022Z\"}\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1285977625/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1286058450",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/5815#issuecomment-1286058450",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/5815",
    "id": 1286058450,
    "node_id": "IC_kwDOC0FsAM5Mp7HS",
    "user": {
      "login": "beejiujitsu",
      "id": 4237425,
      "node_id": "MDQ6VXNlcjQyMzc0MjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4237425?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/beejiujitsu",
      "html_url": "https://github.com/beejiujitsu",
      "followers_url": "https://api.github.com/users/beejiujitsu/followers",
      "following_url": "https://api.github.com/users/beejiujitsu/following{/other_user}",
      "gists_url": "https://api.github.com/users/beejiujitsu/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/beejiujitsu/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/beejiujitsu/subscriptions",
      "organizations_url": "https://api.github.com/users/beejiujitsu/orgs",
      "repos_url": "https://api.github.com/users/beejiujitsu/repos",
      "events_url": "https://api.github.com/users/beejiujitsu/events{/privacy}",
      "received_events_url": "https://api.github.com/users/beejiujitsu/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-10-20T19:49:34Z",
    "updated_at": "2022-10-20T19:53:31Z",
    "author_association": "CONTRIBUTOR",
    "body": "Now I'm seeing the error on another erigon instance, erigon-1, after restarting it.\r\n\r\nError with context:\r\n\r\n```\r\nerigon-1 erigon {\"lvl\":\"info\",\"msg\":\"[2/16 Headers] Waiting for Consensus Layer...\",\"t\":\"2022-10-20T19:47:09.820258462Z\"}\r\nerigon-1 erigon {\"hash\":\"0x92b07cb513b4b35af79052761162ad2d230935185a23b1e997853ad6b86b7899\",\"height\":15771349,\"lvl\":\"info\",\"msg\":\"[2/16 Headers] Handling new payload\",\"t\":\"2022-10-20T19:47:09.820354342Z\"}\r\nerigon-1 erigon {\"err\":\"runtime error: slice bounds out of range [641:401], snapshot: 15000000-15500000, trace: [block_reader.go:509 panic.go:884 panic.go:153 decompress.go:541 block_reader.go:524 block_reader.go:281 block_snapshots.go:268 block_reader.go:275 stage_headers.go:481 stage_headers.go:207 stage_headers.go:140 default_stages.go:36 sync.go:345 sync.go:255 stageloop.go:173 stageloop.go:93 asm_amd64.s:1594], trace: [stageloop.go:139 panic.go:890 block_reader.go:509 panic.go:884 panic.go:153 decompress.go:541 block_reader.go:524 block_reader.go:281 block_snapshots.go:268 block_reader.go:275 stage_headers.go:481 stage_headers.go:207 stage_headers.go:140 default_stages.go:36 sync.go:345 sync.go:255 stageloop.go:173 stageloop.go:93 asm_amd64.s:1594]\",\"lvl\":\"eror\",\"msg\":\"Staged Sync\",\"t\":\"2022-10-20T19:47:09.820589335Z\"}\r\nerigon-1 erigon {\"lvl\":\"info\",\"msg\":\"[2/16 Headers] Waiting for Consensus Layer...\",\"t\":\"2022-10-20T19:47:10.809075216Z\"}\r\n```\r\n\r\nThe original, erigon-2, persists.",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1286058450/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1286340485",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/5815#issuecomment-1286340485",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/5815",
    "id": 1286340485,
    "node_id": "IC_kwDOC0FsAM5Mq_-F",
    "user": {
      "login": "AskAlexSharov",
      "id": 46885206,
      "node_id": "MDQ6VXNlcjQ2ODg1MjA2",
      "avatar_url": "https://avatars.githubusercontent.com/u/46885206?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/AskAlexSharov",
      "html_url": "https://github.com/AskAlexSharov",
      "followers_url": "https://api.github.com/users/AskAlexSharov/followers",
      "following_url": "https://api.github.com/users/AskAlexSharov/following{/other_user}",
      "gists_url": "https://api.github.com/users/AskAlexSharov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/AskAlexSharov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/AskAlexSharov/subscriptions",
      "organizations_url": "https://api.github.com/users/AskAlexSharov/orgs",
      "repos_url": "https://api.github.com/users/AskAlexSharov/repos",
      "events_url": "https://api.github.com/users/AskAlexSharov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/AskAlexSharov/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-10-21T01:25:31Z",
    "updated_at": "2022-10-21T01:25:31Z",
    "author_association": "COLLABORATOR",
    "body": "Try: \r\n- stop erigon \r\n- remove `v1-015000-015500-*` files from <your_datadir>/snapshots folder\r\n- Remove <datadir>/snapshots/db \r\n- do `./build/bin/integration stage_headers --reset`\r\n- start erigon as usually with --snap.stop flag \r\n- in future, when you update erigon verison - can remove --snap.stop flag",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1286340485/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1286987583",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/5815#issuecomment-1286987583",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/5815",
    "id": 1286987583,
    "node_id": "IC_kwDOC0FsAM5Mtd8_",
    "user": {
      "login": "beejiujitsu",
      "id": 4237425,
      "node_id": "MDQ6VXNlcjQyMzc0MjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4237425?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/beejiujitsu",
      "html_url": "https://github.com/beejiujitsu",
      "followers_url": "https://api.github.com/users/beejiujitsu/followers",
      "following_url": "https://api.github.com/users/beejiujitsu/following{/other_user}",
      "gists_url": "https://api.github.com/users/beejiujitsu/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/beejiujitsu/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/beejiujitsu/subscriptions",
      "organizations_url": "https://api.github.com/users/beejiujitsu/orgs",
      "repos_url": "https://api.github.com/users/beejiujitsu/repos",
      "events_url": "https://api.github.com/users/beejiujitsu/events{/privacy}",
      "received_events_url": "https://api.github.com/users/beejiujitsu/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-10-21T13:46:57Z",
    "updated_at": "2022-10-21T13:46:57Z",
    "author_association": "CONTRIBUTOR",
    "body": "Thanks @AskAlexSharov, I'll give that a try.",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1286987583/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1287182703",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/5815#issuecomment-1287182703",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/5815",
    "id": 1287182703,
    "node_id": "IC_kwDOC0FsAM5MuNlv",
    "user": {
      "login": "beejiujitsu",
      "id": 4237425,
      "node_id": "MDQ6VXNlcjQyMzc0MjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4237425?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/beejiujitsu",
      "html_url": "https://github.com/beejiujitsu",
      "followers_url": "https://api.github.com/users/beejiujitsu/followers",
      "following_url": "https://api.github.com/users/beejiujitsu/following{/other_user}",
      "gists_url": "https://api.github.com/users/beejiujitsu/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/beejiujitsu/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/beejiujitsu/subscriptions",
      "organizations_url": "https://api.github.com/users/beejiujitsu/orgs",
      "repos_url": "https://api.github.com/users/beejiujitsu/repos",
      "events_url": "https://api.github.com/users/beejiujitsu/events{/privacy}",
      "received_events_url": "https://api.github.com/users/beejiujitsu/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-10-21T16:24:23Z",
    "updated_at": "2022-10-21T16:24:23Z",
    "author_association": "CONTRIBUTOR",
    "body": "I ran your steps on the broken archive node, erigon-1.\r\n\r\nThe `stage_headers --reset` step ended with:\r\n\r\n```\r\nerigon-1 sre-25-stage-headers-reset [INFO] [10-21|16:18:10.498] [fillind_db_from_snapshots] Total difficulty index: 15261k/15635k\r\nerigon-3 erigon {\"alloc\":\"2.6GB\",\"baseFee\":26406,\"block\":15698999,\"lvl\":\"info\",\"msg\":\"[txpool] stat\",\"pending\":9188,\"queued\":30000,\"sys\":\"5.0GB\",\"t\":\"2022-10-21T16:18:14.829325729Z\"}\r\nerigon-2 erigon {\"alloc\":\"2.5GB\",\"block_num\":15692514,\"lvl\":\"info\",\"msg\":\"[5/16 Bodies] Writing block bodies\",\"remaining\":90516,\"sys\":\"5.8GB\",\"t\":\"2022-10-21T16:18:16.598487924Z\"}\r\nerigon-1 sre-25-stage-headers-reset panic: runtime error: slice bounds out of range [36:11]\r\nerigon-1 sre-25-stage-headers-reset\r\nerigon-1 sre-25-stage-headers-reset goroutine 1 [running]:\r\nerigon-1 sre-25-stage-headers-reset github.com/ledgerwatch/erigon-lib/compress.(*Getter).Next(0xc0adcf9368, {0xc06dd36000, 0x0, 0x2000})\r\nerigon-1 sre-25-stage-headers-reset     github.com/ledgerwatch/erigon-lib@v0.0.0-20221015011442-b896e9470d90/compress/decompress.go:541 +0x4b0\r\nerigon-1 sre-25-stage-headers-reset github.com/ledgerwatch/erigon/turbo/snapshotsync.ForEachHeader.func1.1()\r\nerigon-1 sre-25-stage-headers-reset     github.com/ledgerwatch/erigon/turbo/snapshotsync/block_snapshots.go:1882 +0x11e\r\nerigon-1 sre-25-stage-headers-reset github.com/ledgerwatch/erigon-lib/compress.(*Decompressor).WithReadAhead(0xc00446f380, 0xc0adcf9468)\r\nerigon-1 sre-25-stage-headers-reset     github.com/ledgerwatch/erigon-lib@v0.0.0-20221015011442-b896e9470d90/compress/decompress.go:366 +0xa2\r\nerigon-1 sre-25-stage-headers-reset github.com/ledgerwatch/erigon/turbo/snapshotsync.ForEachHeader.func1({0xc004a71e00, 0x29, 0x0?})\r\nerigon-1 sre-25-stage-headers-reset     github.com/ledgerwatch/erigon/turbo/snapshotsync/block_snapshots.go:1879 +0xc5\r\nerigon-1 sre-25-stage-headers-reset github.com/ledgerwatch/erigon/turbo/snapshotsync.(*headerSegments).View(0x7fef83a1f108?, 0x20?)\r\nerigon-1 sre-25-stage-headers-reset     github.com/ledgerwatch/erigon/turbo/snapshotsync/block_snapshots.go:268 +0xa3\r\nerigon-1 sre-25-stage-headers-reset github.com/ledgerwatch/erigon/turbo/snapshotsync.ForEachHeader({0xc03ad0d780?, 0x0?}, 0xc000407440, 0xc077da97f8)\r\nerigon-1 sre-25-stage-headers-reset     github.com/ledgerwatch/erigon/turbo/snapshotsync/block_snapshots.go:1877 +0xc8\r\nerigon-1 sre-25-stage-headers-reset github.com/ledgerwatch/erigon/eth/stagedsync.FillDBFromSnapshots({0x15eb73e, 0x19}, {0x1c1fda0, 0xc00012e000}, {0x1c36ef0?, 0xc03acec720?}, {0xc0006d2510, 0x25}, 0xc000407440, {0x77ac22719a98, ...})\r\nerigon-1 sre-25-stage-headers-reset     github.com/ledgerwatch/erigon/eth/stagedsync/stage_snapshots.go:203 +0x70d\r\nerigon-1 sre-25-stage-headers-reset github.com/ledgerwatch/erigon/core/rawdb/rawdbreset.ResetBlocks({0x1c36ef0?, 0xc03acec720}, {0x7fef5acdeb78?, 0xc000277290}, 0xc000407440, {0x77ac22719a98, 0xc000128038}, {0xc0006d2510, 0x25})\r\nerigon-1 sre-25-stage-headers-reset     github.com/ledgerwatch/erigon/core/rawdb/rawdbreset/reset_stages.go:115 +0x5e5\r\nerigon-1 sre-25-stage-headers-reset github.com/ledgerwatch/erigon/cmd/integration/commands.stageHeaders.func1({0x1c36ef0?, 0xc03acec720})\r\nerigon-1 sre-25-stage-headers-reset     github.com/ledgerwatch/erigon/cmd/integration/commands/stages.go:493 +0x1cf\r\nerigon-1 sre-25-stage-headers-reset github.com/ledgerwatch/erigon-lib/kv/mdbx.(*MdbxKV).Update(0x7fef5acdeb78?, {0x1c1fd68?, 0xc00070e640?}, 0xc03a70db40)\r\nerigon-1 sre-25-stage-headers-reset     github.com/ledgerwatch/erigon-lib@v0.0.0-20221015011442-b896e9470d90/kv/mdbx/kv_mdbx.go:659 +0xbd\r\nerigon-1 sre-25-stage-headers-reset github.com/ledgerwatch/erigon/cmd/integration/commands.stageHeaders({0x1c27bc0?, 0xc000277290}, {0x1c1fd68?, 0xc00070e640})\r\nerigon-1 sre-25-stage-headers-reset     github.com/ledgerwatch/erigon/cmd/integration/commands/stages.go:486 +0x13a\r\nerigon-1 sre-25-stage-headers-reset github.com/ledgerwatch/erigon/cmd/integration/commands.glob..func9(0x25632c0?, {0x15c83a6?, 0x5?, 0x5?})\r\nerigon-1 sre-25-stage-headers-reset     github.com/ledgerwatch/erigon/cmd/integration/commands/stages.go:73 +0x14c\r\nerigon-1 sre-25-stage-headers-reset github.com/spf13/cobra.(*Command).execute(0x25632c0, {0xc00013e4b0, 0x5, 0x5})\r\nerigon-1 sre-25-stage-headers-reset     github.com/spf13/cobra@v1.5.0/command.go:872 +0x694\r\nerigon-1 sre-25-stage-headers-reset github.com/spf13/cobra.(*Command).ExecuteC(0x2565ac0)\r\nerigon-1 sre-25-stage-headers-reset     github.com/spf13/cobra@v1.5.0/command.go:990 +0x3bd\r\nerigon-1 sre-25-stage-headers-reset github.com/spf13/cobra.(*Command).Execute(...)\r\nerigon-1 sre-25-stage-headers-reset     github.com/spf13/cobra@v1.5.0/command.go:918\r\nerigon-1 sre-25-stage-headers-reset github.com/spf13/cobra.(*Command).ExecuteContext(...)\r\nerigon-1 sre-25-stage-headers-reset     github.com/spf13/cobra@v1.5.0/command.go:911\r\nerigon-1 sre-25-stage-headers-reset main.main()\r\nerigon-1 sre-25-stage-headers-reset     github.com/ledgerwatch/erigon/cmd/integration/main.go:15 +0x11b\r\n```\r\n\r\nDue to the nature the system I'm using (kubernetes), the process terminated and restarted:\r\n\r\n```\r\nk logs erigon-1 -c sre-25-stage-headers-reset\r\n[INFO] [10-21|16:18:26.240] [Snapshots] Blocks Stat                  blocks=15636k indices=15636k alloc=2.3GB sys=2.4GB\r\n[INFO] [10-21|16:18:46.242] TruncateBlocks                           block=15667379\r\n[INFO] [10-21|16:19:06.241] TruncateBlocks                           block=15605533\r\n[INFO] [10-21|16:19:26.242] TruncateBlocks                           block=15543809\r\n[INFO] [10-21|16:19:46.242] TruncateBlocks                           block=15486050\r\n[INFO] [10-21|16:20:06.241] TruncateBlocks                           block=15427388\r\n[INFO] [10-21|16:20:26.241] TruncateBlocks                           block=15370376\r\n[INFO] [10-21|16:20:46.242] TruncateBlocks                           block=15312051\r\n```\r\n\r\n\r\nHere are the initContainer commands used prior to starting erigon pulled from `k get pod erigon-1 -o jsonpath='{.spec.initContainers}' | jq -C '.[].command[]' -r | grep -ve '^sh$' -e '^-c$' | grep -v chown`:\r\n\r\n```\r\nfind /home/erigon/.local/share/erigon/snapshots -type f -name 'snapshots/v1-015000-015500-*' -delete\r\nrm -rf /home/erigon/.local/share/erigon/snapshots/db\r\nintegration stage_headers --reset --datadir /home/erigon/.local/share/erigon --chain mainnet\r\n```\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1287182703/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1287184789",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/5815#issuecomment-1287184789",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/5815",
    "id": 1287184789,
    "node_id": "IC_kwDOC0FsAM5MuOGV",
    "user": {
      "login": "beejiujitsu",
      "id": 4237425,
      "node_id": "MDQ6VXNlcjQyMzc0MjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4237425?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/beejiujitsu",
      "html_url": "https://github.com/beejiujitsu",
      "followers_url": "https://api.github.com/users/beejiujitsu/followers",
      "following_url": "https://api.github.com/users/beejiujitsu/following{/other_user}",
      "gists_url": "https://api.github.com/users/beejiujitsu/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/beejiujitsu/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/beejiujitsu/subscriptions",
      "organizations_url": "https://api.github.com/users/beejiujitsu/orgs",
      "repos_url": "https://api.github.com/users/beejiujitsu/repos",
      "events_url": "https://api.github.com/users/beejiujitsu/events{/privacy}",
      "received_events_url": "https://api.github.com/users/beejiujitsu/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-10-21T16:26:33Z",
    "updated_at": "2022-10-21T16:26:33Z",
    "author_association": "CONTRIBUTOR",
    "body": "It appears https://github.com/ledgerwatch/erigon/commit/af46c3c069f4b7213f34f6599be75431bdd2717e , which pulls in https://github.com/ledgerwatch/erigon-lib/pull/690 ,  would fix this bug. Is that correct? If so, do I need to wait for a newer version to be released before trying that to fix this bug?",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1287184789/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1287186191",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/5815#issuecomment-1287186191",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/5815",
    "id": 1287186191,
    "node_id": "IC_kwDOC0FsAM5MuOcP",
    "user": {
      "login": "beejiujitsu",
      "id": 4237425,
      "node_id": "MDQ6VXNlcjQyMzc0MjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4237425?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/beejiujitsu",
      "html_url": "https://github.com/beejiujitsu",
      "followers_url": "https://api.github.com/users/beejiujitsu/followers",
      "following_url": "https://api.github.com/users/beejiujitsu/following{/other_user}",
      "gists_url": "https://api.github.com/users/beejiujitsu/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/beejiujitsu/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/beejiujitsu/subscriptions",
      "organizations_url": "https://api.github.com/users/beejiujitsu/orgs",
      "repos_url": "https://api.github.com/users/beejiujitsu/repos",
      "events_url": "https://api.github.com/users/beejiujitsu/events{/privacy}",
      "received_events_url": "https://api.github.com/users/beejiujitsu/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-10-21T16:28:09Z",
    "updated_at": "2022-10-21T16:28:09Z",
    "author_association": "CONTRIBUTOR",
    "body": "I just realized my find command has a bad name; I included the `snapshots` path.\r\n\r\nWill fix and try again.",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1287186191/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1287286193",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/5815#issuecomment-1287286193",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/5815",
    "id": 1287286193,
    "node_id": "IC_kwDOC0FsAM5Mum2x",
    "user": {
      "login": "beejiujitsu",
      "id": 4237425,
      "node_id": "MDQ6VXNlcjQyMzc0MjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4237425?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/beejiujitsu",
      "html_url": "https://github.com/beejiujitsu",
      "followers_url": "https://api.github.com/users/beejiujitsu/followers",
      "following_url": "https://api.github.com/users/beejiujitsu/following{/other_user}",
      "gists_url": "https://api.github.com/users/beejiujitsu/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/beejiujitsu/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/beejiujitsu/subscriptions",
      "organizations_url": "https://api.github.com/users/beejiujitsu/orgs",
      "repos_url": "https://api.github.com/users/beejiujitsu/repos",
      "events_url": "https://api.github.com/users/beejiujitsu/events{/privacy}",
      "received_events_url": "https://api.github.com/users/beejiujitsu/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-10-21T18:10:05Z",
    "updated_at": "2022-10-21T18:11:00Z",
    "author_association": "CONTRIBUTOR",
    "body": "One node has finished the repair:\r\n\r\n```\r\n│ erigon {\"lvl\":\"info\",\"msg\":\"[snapshots] seeding a new snapshot\",\"t\":\"2022-10-21T18:09:03.956124491Z\"}\r\n│ erigon {\"err\":\"createTorrentFileFromSegment: lstat /home/erigon/.local/share/erigon/snapshots/v1-015000-015500-headers.seg: no such file or directory\",\"lvl\":\"eror\",\"msg\":\"[1/16 Snapshots] call downloader\",\"t\":\"2022-10-21T18:09:03.9562\r\n│ erigon {\"eth66\":\"20\",\"lvl\":\"info\",\"msg\":\"[p2p] GoodPeers\",\"t\":\"2022-10-21T18:09:07.591916314Z\"}\r\n│ erigon {\"alloc\":\"414.6MB\",\"baseFee\":29342,\"block\":14999999,\"lvl\":\"info\",\"msg\":\"[txpool] stat\",\"pending\":9913,\"queued\":30000,\"sys\":\"624.4MB\",\"t\":\"2022-10-21T18:09:07.714083328Z\"}\r\n│ erigon {\"lvl\":\"info\",\"msg\":\"[snapshots] seeding a new snapshot\",\"t\":\"2022-10-21T18:09:13.956433932Z\"}\r\n│ erigon {\"err\":\"createTorrentFileFromSegment: lstat /home/erigon/.local/share/erigon/snapshots/v1-015000-015500-headers.seg: no such file or directory\",\"lvl\":\"eror\",\"msg\":\"[1/16 Snapshots] call downloader\",\"t\":\"2022-10-21T18:09:13.9565\r\n```\r\n\r\nIt appears to be progressing despite the `createTorrentFileFromSegment: lstat /home/erigon/.local/share/erigon/snapshots/v1-015000-015500-headers.seg: no such file or directory\"` error; the alloc pending line count is decreasing:\r\n\r\n```\r\n│ erigon {\"alloc\":\"443.0MB\",\"baseFee\":29293,\"block\":14999999,\"lvl\":\"info\",\"msg\":\"[txpool] stat\",\"pending\":9909,\"queued\":30000,\"sys\":\"624.9MB\",\"t\":\"2022-10-21T18:10:07.647116887Z\"}\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1287286193/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1287609230",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/5815#issuecomment-1287609230",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/5815",
    "id": 1287609230,
    "node_id": "IC_kwDOC0FsAM5Mv1uO",
    "user": {
      "login": "AskAlexSharov",
      "id": 46885206,
      "node_id": "MDQ6VXNlcjQ2ODg1MjA2",
      "avatar_url": "https://avatars.githubusercontent.com/u/46885206?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/AskAlexSharov",
      "html_url": "https://github.com/AskAlexSharov",
      "followers_url": "https://api.github.com/users/AskAlexSharov/followers",
      "following_url": "https://api.github.com/users/AskAlexSharov/following{/other_user}",
      "gists_url": "https://api.github.com/users/AskAlexSharov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/AskAlexSharov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/AskAlexSharov/subscriptions",
      "organizations_url": "https://api.github.com/users/AskAlexSharov/orgs",
      "repos_url": "https://api.github.com/users/AskAlexSharov/repos",
      "events_url": "https://api.github.com/users/AskAlexSharov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/AskAlexSharov/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-10-22T04:25:44Z",
    "updated_at": "2022-10-22T04:25:44Z",
    "author_association": "COLLABORATOR",
    "body": "`ls snapshots | grep v1-015`",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1287609230/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1287786383",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/5815#issuecomment-1287786383",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/5815",
    "id": 1287786383,
    "node_id": "IC_kwDOC0FsAM5Mwg-P",
    "user": {
      "login": "beejiujitsu",
      "id": 4237425,
      "node_id": "MDQ6VXNlcjQyMzc0MjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4237425?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/beejiujitsu",
      "html_url": "https://github.com/beejiujitsu",
      "followers_url": "https://api.github.com/users/beejiujitsu/followers",
      "following_url": "https://api.github.com/users/beejiujitsu/following{/other_user}",
      "gists_url": "https://api.github.com/users/beejiujitsu/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/beejiujitsu/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/beejiujitsu/subscriptions",
      "organizations_url": "https://api.github.com/users/beejiujitsu/orgs",
      "repos_url": "https://api.github.com/users/beejiujitsu/repos",
      "events_url": "https://api.github.com/users/beejiujitsu/events{/privacy}",
      "received_events_url": "https://api.github.com/users/beejiujitsu/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-10-22T13:09:07Z",
    "updated_at": "2022-10-22T13:09:07Z",
    "author_association": "CONTRIBUTOR",
    "body": "There are a lot:\r\n\r\n\r\n```\r\nv1-015633-015634-transactions.idx\r\nv1-015633-015634-transactions.seg\r\nv1-015634-015635-bodies.idx\r\nv1-015634-015635-bodies.seg\r\nv1-015634-015635-headers.idx\r\nv1-015634-015635-headers.seg\r\nv1-015634-015635-transactions-to-block.idx\r\nv1-015634-015635-transactions.idx\r\nv1-015634-015635-transactions.seg\r\nv1-015635-015636-bodies.idx\r\nv1-015635-015636-bodies.seg\r\nv1-015635-015636-headers.idx\r\nv1-015635-015636-headers.seg\r\nv1-015635-015636-transactions-to-block.idx\r\nv1-015635-015636-transactions.idx\r\nv1-015635-015636-transactions.seg\r\n~/.local/share/erigon $ ls snapshots | grep v1-015 -c\r\n70\r\n~/.local/share/erigon $\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1287786383/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1287788228",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/5815#issuecomment-1287788228",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/5815",
    "id": 1287788228,
    "node_id": "IC_kwDOC0FsAM5MwhbE",
    "user": {
      "login": "beejiujitsu",
      "id": 4237425,
      "node_id": "MDQ6VXNlcjQyMzc0MjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4237425?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/beejiujitsu",
      "html_url": "https://github.com/beejiujitsu",
      "followers_url": "https://api.github.com/users/beejiujitsu/followers",
      "following_url": "https://api.github.com/users/beejiujitsu/following{/other_user}",
      "gists_url": "https://api.github.com/users/beejiujitsu/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/beejiujitsu/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/beejiujitsu/subscriptions",
      "organizations_url": "https://api.github.com/users/beejiujitsu/orgs",
      "repos_url": "https://api.github.com/users/beejiujitsu/repos",
      "events_url": "https://api.github.com/users/beejiujitsu/events{/privacy}",
      "received_events_url": "https://api.github.com/users/beejiujitsu/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-10-22T13:14:20Z",
    "updated_at": "2022-10-22T13:14:20Z",
    "author_association": "CONTRIBUTOR",
    "body": "re: https://discord.com/channels/687972960811745322/1030873853783719946/1033225974009057361\r\n\r\nPer your Discord reply, I am removing all torrent files and all db files under snapshots.\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1287788228/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1288288864",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/5815#issuecomment-1288288864",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/5815",
    "id": 1288288864,
    "node_id": "IC_kwDOC0FsAM5Mybpg",
    "user": {
      "login": "AskAlexSharov",
      "id": 46885206,
      "node_id": "MDQ6VXNlcjQ2ODg1MjA2",
      "avatar_url": "https://avatars.githubusercontent.com/u/46885206?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/AskAlexSharov",
      "html_url": "https://github.com/AskAlexSharov",
      "followers_url": "https://api.github.com/users/AskAlexSharov/followers",
      "following_url": "https://api.github.com/users/AskAlexSharov/following{/other_user}",
      "gists_url": "https://api.github.com/users/AskAlexSharov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/AskAlexSharov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/AskAlexSharov/subscriptions",
      "organizations_url": "https://api.github.com/users/AskAlexSharov/orgs",
      "repos_url": "https://api.github.com/users/AskAlexSharov/repos",
      "events_url": "https://api.github.com/users/AskAlexSharov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/AskAlexSharov/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-10-24T01:34:28Z",
    "updated_at": "2022-10-24T01:34:28Z",
    "author_association": "COLLABORATOR",
    "body": "We understand better the problem now, and seems right solution is to remove `v1-015000-015500-*.idx` files only",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1288288864/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1289177807",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/5815#issuecomment-1289177807",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/5815",
    "id": 1289177807,
    "node_id": "IC_kwDOC0FsAM5M10rP",
    "user": {
      "login": "beejiujitsu",
      "id": 4237425,
      "node_id": "MDQ6VXNlcjQyMzc0MjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4237425?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/beejiujitsu",
      "html_url": "https://github.com/beejiujitsu",
      "followers_url": "https://api.github.com/users/beejiujitsu/followers",
      "following_url": "https://api.github.com/users/beejiujitsu/following{/other_user}",
      "gists_url": "https://api.github.com/users/beejiujitsu/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/beejiujitsu/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/beejiujitsu/subscriptions",
      "organizations_url": "https://api.github.com/users/beejiujitsu/orgs",
      "repos_url": "https://api.github.com/users/beejiujitsu/repos",
      "events_url": "https://api.github.com/users/beejiujitsu/events{/privacy}",
      "received_events_url": "https://api.github.com/users/beejiujitsu/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-10-24T15:04:42Z",
    "updated_at": "2022-10-24T15:04:42Z",
    "author_association": "CONTRIBUTOR",
    "body": "Thanks @AskAlexSharov. \r\n\r\nDoes that seem like something that should be codified into erigon's snapshot process?\r\n\r\nThat is, does it seem reasonable to ignore the index on error and refetch/generate it? That seems like a good self-healing property to have.",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1289177807/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1289178362",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/5815#issuecomment-1289178362",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/5815",
    "id": 1289178362,
    "node_id": "IC_kwDOC0FsAM5M10z6",
    "user": {
      "login": "beejiujitsu",
      "id": 4237425,
      "node_id": "MDQ6VXNlcjQyMzc0MjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4237425?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/beejiujitsu",
      "html_url": "https://github.com/beejiujitsu",
      "followers_url": "https://api.github.com/users/beejiujitsu/followers",
      "following_url": "https://api.github.com/users/beejiujitsu/following{/other_user}",
      "gists_url": "https://api.github.com/users/beejiujitsu/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/beejiujitsu/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/beejiujitsu/subscriptions",
      "organizations_url": "https://api.github.com/users/beejiujitsu/orgs",
      "repos_url": "https://api.github.com/users/beejiujitsu/repos",
      "events_url": "https://api.github.com/users/beejiujitsu/events{/privacy}",
      "received_events_url": "https://api.github.com/users/beejiujitsu/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-10-24T15:05:05Z",
    "updated_at": "2022-10-24T15:05:05Z",
    "author_association": "CONTRIBUTOR",
    "body": "On the broken node, it appears to be syncing without issue now:\r\n\r\n```\r\n│ Stream closed EOF for int/erigon-1 (chown-beacon-node)\r\n│ erigon {\"conn\":\"10.0.0.53:47330\",\"err\":\"the method miner_start does not exist/is not available\",\"lvl\":\"warn\",\"method\":\"miner_start\",\"msg\":\"Served\",\"reqid\":\"1\",\"t\"\r\n│ erigon {\"conn\":\"10.0.0.57:34374\",\"err\":\"the method miner_start does not exist/is not available\",\"lvl\":\"warn\",\"method\":\"miner_start\",\"msg\":\"Served\",\"reqid\":\"1\",\"t\"\r\n│ erigon {\"conn\":\"10.0.0.38:50606\",\"err\":\"the method miner_start does not exist/is not available\",\"lvl\":\"warn\",\"method\":\"miner_start\",\"msg\":\"Served\",\"reqid\":\"1\",\"t\"\r\n│ erigon {\"hash\":\"0x0e961b7d799f9a102c40f16404b4413b395989f7cdb9731679e04ebbfd3b2dca\",\"height\":15789775,\"lvl\":\"info\",\"msg\":\"[2/16 Headers] Handling new payload\",\"t\"\r\n│ erigon {\"hash\":\"0x83024ecd7d9d9ec4af6d47c13d828880b0dccc904d8c68be868b8222f1db1d43\",\"height\":15789774,\"lvl\":\"info\",\"msg\":\"[2/16 Headers] Downloading PoS headers..\r\n│ erigon {\"in\":\"19m31.706058406s\",\"lvl\":\"info\",\"msg\":\"[2/16 Headers] DONE\",\"t\":\"2022-10-24T15:02:26.778186955Z\"}\r\n│ erigon {\"alloc\":\"3.0GB\",\"baseFee\":30000,\"block\":15783444,\"lvl\":\"info\",\"msg\":\"[txpool] stat\",\"pending\":10000,\"queued\":30000,\"sys\":\"3.2GB\",\"t\":\"2022-10-24T15:02:27.\r\n│ erigon {\"fork head\":\"0xb09b44314d33122c15dc79cbc822806bd95eddd21c602bea767bf08173fb6e3b\",\"lvl\":\"info\",\"msg\":\"PoS headers verified and saved\",\"requestId\":4,\"t\":\"20\r\n│ erigon {\"lvl\":\"info\",\"msg\":\"[2/16 Headers] Waiting for Consensus Layer...\",\"t\":\"2022-10-24T15:02:29.586436054Z\"}\r\n│ erigon {\"hash\":\"0x0e961b7d799f9a102c40f16404b4413b395989f7cdb9731679e04ebbfd3b2dca\",\"height\":15789775,\"lvl\":\"info\",\"msg\":\"[2/16 Headers] Handling new payload\",\"t\"\r\n│ erigon {\"lvl\":\"info\",\"msg\":\"[2/16 Headers] Waiting for Consensus Layer...\",\"t\":\"2022-10-24T15:02:30.586428461Z\"}\r\n│ erigon {\"hash\":\"0x239a5ebe0b3957941978ae7216a9111e173d6ad633de9df3429e373e218e48e0\",\"height\":15789806,\"lvl\":\"info\",\"msg\":\"[2/16 Headers] Handling new payload\",\"t\"\r\n│ erigon {\"hash\":\"0xe48fbd5fc0d456348f44f3caa90f0a5d9c2a516d7387479cd6261a3e571b1157\",\"height\":15789805,\"lvl\":\"info\",\"msg\":\"[2/16 Headers] Downloading PoS headers..\r\n│ erigon {\"fork head\":\"0xdda1efb7df7a9a00a0f6151f1d6e06cc22f0e0a162ddaf25d95b0d8a5b61f71e\",\"lvl\":\"info\",\"msg\":\"PoS headers verified and saved\",\"requestId\":5,\"t\":\"20\r\n│ erigon {\"lvl\":\"info\",\"msg\":\"[2/16 Headers] Waiting for Consensus Layer...\",\"t\":\"2022-10-24T15:02:56.439546703Z\"}\r\n│ erigon {\"hash\":\"0x239a5ebe0b3957941978ae7216a9111e173d6ad633de9df3429e373e218e48e0\",\"height\":15789806,\"lvl\":\"info\",\"msg\":\"[2/16 Headers] Handling new payload\",\"t\"\r\n│ erigon {\"lvl\":\"info\",\"msg\":\"[2/16 Headers] Waiting for Consensus Layer...\",\"t\":\"2022-10-24T15:02:57.482768096Z\"}\r\n│ Stream closed EOF for int/erigon-1 (chown-datadir)\r\n│ erigon {\"conn\":\"10.0.0.64:59766\",\"err\":\"etherbase must be explicitly specified\",\"lvl\":\"warn\",\"method\":\"eth_coinbase\",\"msg\":\"Served\",\"reqid\":\"1\",\"t\":\"77.215µs\"}\r\n│ erigon {\"eth66\":\"33\",\"lvl\":\"info\",\"msg\":\"[p2p] GoodPeers\",\"t\":\"2022-10-24T15:03:19.253718901Z\"}\r\n│ erigon {\"conn\":\"10.0.0.57:33616\",\"err\":\"etherbase must be explicitly specified\",\"lvl\":\"warn\",\"method\":\"eth_coinbase\",\"msg\":\"Served\",\"reqid\":\"1\",\"t\":\"63.34µs\"}\r\n│ erigon {\"conn\":\"10.0.0.57:44586\",\"err\":\"etherbase must be explicitly specified\",\"lvl\":\"warn\",\"method\":\"eth_coinbase\",\"msg\":\"Served\",\"reqid\":\"1\",\"t\":\"85.547µs\"}\r\n│ erigon {\"alloc\":\"2.6GB\",\"baseFee\":30000,\"block\":15783444,\"lvl\":\"info\",\"msg\":\"[txpool] stat\",\"pending\":10000,\"queued\":30000,\"sys\":\"3.3GB\",\"t\":\"2022-10-24T15:03:27.\r\n│ prysm-beacon {\"error\":\"Could not process deposit log: received incorrect merkle index: wanted 409932 but got 451652\",\"level\":\"error\",\"msg\":\"Unable to process past\r\n│ erigon {\"conn\":\"10.0.0.64:59006\",\"err\":\"etherbase must be explicitly specified\",\"lvl\":\"warn\",\"method\":\"eth_coinbase\",\"msg\":\"Served\",\"reqid\":\"1\",\"t\":\"112.11µs\"}\r\n│ erigon {\"conn\":\"10.0.0.38:49626\",\"err\":\"method HashRate not implemented\",\"lvl\":\"warn\",\"method\":\"eth_hashrate\",\"msg\":\"Served\",\"reqid\":\"1\",\"t\":\"215.497µs\"}\r\n│ erigon {\"alloc\":\"2.9GB\",\"baseFee\":30000,\"block\":15783444,\"lvl\":\"info\",\"msg\":\"[txpool] stat\",\"pending\":10000,\"queued\":30000,\"sys\":\"3.3GB\",\"t\":\"2022-10-24T15:04:31.\r\n│ erigon {\"conn\":\"10.0.0.57:36282\",\"err\":\"the method has been deprecated: eth_accounts\",\"lvl\":\"warn\",\"method\":\"eth_accounts\",\"msg\":\"Served\",\"reqid\":\"1\",\"t\":\"60.928µ\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1289178362/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1289826963",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/5815#issuecomment-1289826963",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/5815",
    "id": 1289826963,
    "node_id": "IC_kwDOC0FsAM5M4TKT",
    "user": {
      "login": "AskAlexSharov",
      "id": 46885206,
      "node_id": "MDQ6VXNlcjQ2ODg1MjA2",
      "avatar_url": "https://avatars.githubusercontent.com/u/46885206?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/AskAlexSharov",
      "html_url": "https://github.com/AskAlexSharov",
      "followers_url": "https://api.github.com/users/AskAlexSharov/followers",
      "following_url": "https://api.github.com/users/AskAlexSharov/following{/other_user}",
      "gists_url": "https://api.github.com/users/AskAlexSharov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/AskAlexSharov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/AskAlexSharov/subscriptions",
      "organizations_url": "https://api.github.com/users/AskAlexSharov/orgs",
      "repos_url": "https://api.github.com/users/AskAlexSharov/repos",
      "events_url": "https://api.github.com/users/AskAlexSharov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/AskAlexSharov/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-10-25T00:43:09Z",
    "updated_at": "2022-10-25T00:43:09Z",
    "author_association": "COLLABORATOR",
    "body": "> Thanks @AskAlexSharov.\r\n> \r\n> Does that seem like something that should be codified into erigon's snapshot process?\r\n> \r\n> That is, does it seem reasonable to ignore the index on error and refetch/generate it? That seems like a good self-healing property to have.\r\n\r\nNo magic: to generate snapshot you need old data, erigon db doesn’t have it - because it storing such data in snapshot. So, need download it, store it, and maybe even re-execute that old blocks. All this is expensive, slow and hiding real error - if you got this error once, you can get it again after snapshot re-creation. Also Erigon can’t distinguish “broken index” vs “broken snapshot” errors. \r\n\r\nAlso It’s broken not because it’s “somehow broken” - but because Erigon has a bug which need to fix.",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1289826963/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1290616794",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/5815#issuecomment-1290616794",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/5815",
    "id": 1290616794,
    "node_id": "IC_kwDOC0FsAM5M7T_a",
    "user": {
      "login": "beejiujitsu",
      "id": 4237425,
      "node_id": "MDQ6VXNlcjQyMzc0MjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4237425?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/beejiujitsu",
      "html_url": "https://github.com/beejiujitsu",
      "followers_url": "https://api.github.com/users/beejiujitsu/followers",
      "following_url": "https://api.github.com/users/beejiujitsu/following{/other_user}",
      "gists_url": "https://api.github.com/users/beejiujitsu/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/beejiujitsu/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/beejiujitsu/subscriptions",
      "organizations_url": "https://api.github.com/users/beejiujitsu/orgs",
      "repos_url": "https://api.github.com/users/beejiujitsu/repos",
      "events_url": "https://api.github.com/users/beejiujitsu/events{/privacy}",
      "received_events_url": "https://api.github.com/users/beejiujitsu/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-10-25T14:06:07Z",
    "updated_at": "2022-10-25T14:06:07Z",
    "author_association": "CONTRIBUTOR",
    "body": "got it, thanks\n\n\nOn Mon, Oct 24, 2022 at 8:43 PM, Alex Sharov ***@***.***>\nwrote:\n\n> Thanks @AskAlexSharov <https://github.com/AskAlexSharov>.\n>\n> Does that seem like something that should be codified into erigon's\n> snapshot process?\n>\n> That is, does it seem reasonable to ignore the index on error and\n> refetch/generate it? That seems like a good self-healing property to have.\n>\n> No magic: to generate snapshot you need old data, erigon db doesn’t have\n> it - because it storing such data in snapshot. So, need download it, store\n> it, and maybe even re-execute that old blocks. All this is expensive, slow\n> and hiding real error - if you got this error once, you can get it again\n> after snapshot re-creation. Also Erigon can’t distinguish “broken index” vs\n> “broken snapshot” errors.\n>\n> Also It’s broken not because it’s “somehow broken” - but because Erigon\n> has a bug which need to fix.\n>\n> —\n> Reply to this email directly, view it on GitHub\n> <https://github.com/ledgerwatch/erigon/issues/5815#issuecomment-1289826963>,\n> or unsubscribe\n> <https://github.com/notifications/unsubscribe-auth/ABAKQ4LYLO5YGRLXEKWEMI3WE4UKPANCNFSM6AAAAAARKNPKWU>\n> .\n> You are receiving this because you authored the thread.Message ID:\n> ***@***.***>\n>\n",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1290616794/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1293770223",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/5815#issuecomment-1293770223",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/5815",
    "id": 1293770223,
    "node_id": "IC_kwDOC0FsAM5NHV3v",
    "user": {
      "login": "beejiujitsu",
      "id": 4237425,
      "node_id": "MDQ6VXNlcjQyMzc0MjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4237425?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/beejiujitsu",
      "html_url": "https://github.com/beejiujitsu",
      "followers_url": "https://api.github.com/users/beejiujitsu/followers",
      "following_url": "https://api.github.com/users/beejiujitsu/following{/other_user}",
      "gists_url": "https://api.github.com/users/beejiujitsu/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/beejiujitsu/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/beejiujitsu/subscriptions",
      "organizations_url": "https://api.github.com/users/beejiujitsu/orgs",
      "repos_url": "https://api.github.com/users/beejiujitsu/repos",
      "events_url": "https://api.github.com/users/beejiujitsu/events{/privacy}",
      "received_events_url": "https://api.github.com/users/beejiujitsu/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-10-27T16:18:02Z",
    "updated_at": "2022-10-27T16:18:02Z",
    "author_association": "CONTRIBUTOR",
    "body": "Error is gone and has not resurfaced, so closing issue.\r\n\r\nThank you for your help, @AskAlexSharov.",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1293770223/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1441858838",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/5815#issuecomment-1441858838",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/5815",
    "id": 1441858838,
    "node_id": "IC_kwDOC0FsAM5V8QUW",
    "user": {
      "login": "savhappy",
      "id": 63322482,
      "node_id": "MDQ6VXNlcjYzMzIyNDgy",
      "avatar_url": "https://avatars.githubusercontent.com/u/63322482?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/savhappy",
      "html_url": "https://github.com/savhappy",
      "followers_url": "https://api.github.com/users/savhappy/followers",
      "following_url": "https://api.github.com/users/savhappy/following{/other_user}",
      "gists_url": "https://api.github.com/users/savhappy/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/savhappy/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/savhappy/subscriptions",
      "organizations_url": "https://api.github.com/users/savhappy/orgs",
      "repos_url": "https://api.github.com/users/savhappy/repos",
      "events_url": "https://api.github.com/users/savhappy/events{/privacy}",
      "received_events_url": "https://api.github.com/users/savhappy/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-02-23T14:04:56Z",
    "updated_at": "2023-02-23T14:05:18Z",
    "author_association": "NONE",
    "body": "Running on M1 Max. Similar error. Got up to block 5/15 and then system ran out of memory application and forced Erigon to stop. Tried to rerun it this morning and now getting this error..\r\n\r\n\r\n EROR[02-23|09:01:49.336] Staged Sync                              err=\"[1/15 Snapshots] BuildMissedIndices: HeadersIdx: at=v1-007500-008000-headers.seg, file: v1-007500-008000-headers.seg, runtime error: slice bounds out of range [72:36], [decompress.go:532 panic.go:884 panic.go:153 decompress.go:559 block_snapshots.go:1899 block_snapshots.go:1823 block_snapshots.go:869 block_snapshots.go:913 errgroup.go:75 asm_arm64.s:1172], [block_snapshots.go:1806 panic.go:884 decompress.go:532 panic.go:884 panic.go:153 decompress.go:559 block_snapshots.go:1899 block_snapshots.go:1823 block_snapshots.go:869 block_snapshots.go:913 errgroup.go:75 asm_arm64.s:1172]\"",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1441858838/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1442679565",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/5815#issuecomment-1442679565",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/5815",
    "id": 1442679565,
    "node_id": "IC_kwDOC0FsAM5V_YsN",
    "user": {
      "login": "AskAlexSharov",
      "id": 46885206,
      "node_id": "MDQ6VXNlcjQ2ODg1MjA2",
      "avatar_url": "https://avatars.githubusercontent.com/u/46885206?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/AskAlexSharov",
      "html_url": "https://github.com/AskAlexSharov",
      "followers_url": "https://api.github.com/users/AskAlexSharov/followers",
      "following_url": "https://api.github.com/users/AskAlexSharov/following{/other_user}",
      "gists_url": "https://api.github.com/users/AskAlexSharov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/AskAlexSharov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/AskAlexSharov/subscriptions",
      "organizations_url": "https://api.github.com/users/AskAlexSharov/orgs",
      "repos_url": "https://api.github.com/users/AskAlexSharov/repos",
      "events_url": "https://api.github.com/users/AskAlexSharov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/AskAlexSharov/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-02-24T01:47:58Z",
    "updated_at": "2023-02-24T01:48:59Z",
    "author_association": "COLLABORATOR",
    "body": "@savhappy as a workaround reduce GOMAXPROCS, reduce —batchSize and set GOGC=50",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1442679565/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
