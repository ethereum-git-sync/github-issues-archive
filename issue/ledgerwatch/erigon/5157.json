{
  "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/5157",
  "repository_url": "https://api.github.com/repos/ledgerwatch/erigon",
  "labels_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/5157/labels{/name}",
  "comments_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/5157/comments",
  "events_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/5157/events",
  "html_url": "https://github.com/ledgerwatch/erigon/issues/5157",
  "id": 1348517651,
  "node_id": "I_kwDOC0FsAM5QYL8T",
  "number": 5157,
  "title": "rlp: input string too short for common.Hash",
  "user": {
    "login": "dylancaponi",
    "id": 7399067,
    "node_id": "MDQ6VXNlcjczOTkwNjc=",
    "avatar_url": "https://avatars.githubusercontent.com/u/7399067?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/dylancaponi",
    "html_url": "https://github.com/dylancaponi",
    "followers_url": "https://api.github.com/users/dylancaponi/followers",
    "following_url": "https://api.github.com/users/dylancaponi/following{/other_user}",
    "gists_url": "https://api.github.com/users/dylancaponi/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/dylancaponi/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/dylancaponi/subscriptions",
    "organizations_url": "https://api.github.com/users/dylancaponi/orgs",
    "repos_url": "https://api.github.com/users/dylancaponi/repos",
    "events_url": "https://api.github.com/users/dylancaponi/events{/privacy}",
    "received_events_url": "https://api.github.com/users/dylancaponi/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 4406003490,
      "node_id": "LA_kwDOC0FsAM8AAAABBp5HIg",
      "url": "https://api.github.com/repos/ledgerwatch/erigon/labels/gateway",
      "name": "gateway",
      "color": "62DB33",
      "default": false,
      "description": "Issue assigned to gateway team"
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": {
    "login": "revitteth",
    "id": 693995,
    "node_id": "MDQ6VXNlcjY5Mzk5NQ==",
    "avatar_url": "https://avatars.githubusercontent.com/u/693995?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/revitteth",
    "html_url": "https://github.com/revitteth",
    "followers_url": "https://api.github.com/users/revitteth/followers",
    "following_url": "https://api.github.com/users/revitteth/following{/other_user}",
    "gists_url": "https://api.github.com/users/revitteth/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/revitteth/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/revitteth/subscriptions",
    "organizations_url": "https://api.github.com/users/revitteth/orgs",
    "repos_url": "https://api.github.com/users/revitteth/repos",
    "events_url": "https://api.github.com/users/revitteth/events{/privacy}",
    "received_events_url": "https://api.github.com/users/revitteth/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "revitteth",
      "id": 693995,
      "node_id": "MDQ6VXNlcjY5Mzk5NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/693995?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/revitteth",
      "html_url": "https://github.com/revitteth",
      "followers_url": "https://api.github.com/users/revitteth/followers",
      "following_url": "https://api.github.com/users/revitteth/following{/other_user}",
      "gists_url": "https://api.github.com/users/revitteth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/revitteth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/revitteth/subscriptions",
      "organizations_url": "https://api.github.com/users/revitteth/orgs",
      "repos_url": "https://api.github.com/users/revitteth/repos",
      "events_url": "https://api.github.com/users/revitteth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/revitteth/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 3,
  "created_at": "2022-08-23T20:37:42Z",
  "updated_at": "2022-08-29T11:12:03Z",
  "closed_at": "2022-08-29T11:12:03Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "#### System information\r\n\r\nerigon version 2022.99.99-dev-18f9313c\r\n\r\nOS & Version: Ubuntu 20.04.4 LTS\r\n\r\nCommit hash : \r\n\r\n#### Expected behaviour\r\n\r\nNot throw this error during normal syncing operation?\r\n\r\n#### Actual behaviour\r\n\r\n```\r\nAug 23 06:50:30 ethnuc1 erigon[894]: [WARN] [08-23|06:50:30.373] Handling incoming message                stream=RecvUploadMessage err=\"decoding getReceipts66: rlp: input string too short for common.Hash, decoding into (eth.GetReceiptsPacket66).GetReceiptsPacket[0], data: f902be819cf902b923f902b5a033ba27b8a51fcf680b185a6f011ae7bdaf301d18ad74c574590e128bad7f8f2ba047c5b72e4546aa265ff5f18951b83b3b7ebc2835e76c96ec0142e6b0be20f7c8a0cd92bce569e01ee58b8401cd12e5cea9b0e9c97d78c45c23559a5c435ce05586a09068166a357aa4185c7f8292e565df32ec85573bde6ca8bf4d23234109bff2e4a0944fec7ae377279f22937e1936a88ec2fc93fbc9d3b9bd772f427e6166a7613aa065149ae24fca5e608e399dc76f6bef42adaccf9300fba07ccfb5390ba4260229a03b5b6e27ecff6db603d0e171e533cb2639012cf4fad6a414c459177a4dc4c612a06ce5d94b9222a0966d1b82592d22d8b384cc551cd82182d1f672b3ffdaa042a0a078c6ea48d1661ef3afa0d5d28b1419ff6c8af1ee36b32e89db78eba8d8f52049a03f4a20f05ff8ac5d1d662251a4cb9c8f64b6ed3efb4a4193f9b73a965006fb56a042aaa30fdcc4189cec1f3361617959844e86d28ab3d7f8f403fb04c15bb017c6a079c942fb53bb40a6627acdb38c16c610ccd6f2c3495fedb4f07032b60d945c44a0ffd1f1d6e614cbee28cc7e8aae15c89b664f710f5ab1d7290b9f6ad24b429c74a0d9609289a77adff75a41caac321b7e4defc0a783b613aa74c5c897ca8432f412a08f79be7955944c31eed62a661b5adaef3dea8b7d8ab47fb88c87ae7374faf1c1a03c7dc84892d16639d8c9e15171fc023082dd1d72571bd26f35f2df66e2a0f842a0d45b2a44532f834d40653bca55cbbb922119682dde26b0545a76e73ad85ac5b1a0746ad3155635d89665a258e97653de5ed2c0f85e8f7d5d45042ec487fab9d362a0996bc35bf70a86711a90b12faf896bea8557cf100dddae0da2f275f5d7611184a0d6eacf71be82027bf679810015cf8f8dbe65129574ceb3c767a3d6e370cdee82a00a1690a5a90158644055ecc6b47e945e776856dd7fd5256c2a1288f3cc7d0a41\"\r\nAug 23 06:50:30 ethnuc1 erigon[894]: [WARN] [08-23|06:50:30.396] Handling incoming message                stream=RecvUploadMessage err=\"decoding getReceipts66: rlp: input string too short for common.Hash, decoding into (eth.GetReceiptsPacket66).GetReceiptsPacket[0], data: f902be819df902b95af902b5a06e2f2f22fe08f65adbb7c9a2a30a5dc12394f54c448932129fa64b2a04c49493a07e35103d54f990a538860e5dcecf2dc5d748ca92ca1c56158197f8091cbfe3a5a0a6f8d457c5b883dc610b8eb03b07d1b1514811b1b722663030c000400a87860ea014634531978d51a902abb343943bbe1174dd2586d2328331b301699d8fb4a04ea000465b0bd7cca764fd33d8fe223ca1889e5d385d923e50452e60f31f9f2392b4a0f209a91bc1c4c3d4e538133b8eb14f0255cacf1b4ee117a8913ed13554b6fd8ca02a05c356e46c62325905ce281e1d1df5f3c1a4941956efbe986d762383543c5ba0bddc0553b9bcb328ac897d0202c156876081dd8928829119e4f5f3cd09b84520a0ab7effbdec9b0d04a19a55624b99326ad770f9c868fa216c3dea2c7b5489e6ada0df96579d353dd77eaa6060f99025447dcbdbf93a0ff724208b55e1e97d6658f0a02f2edbfede5e0bea1bfb31a143513a2eb2b8b4e92024769194af0973c66d2272a02ec8c46b5632eb8cd9644dacf78de9311aad4ffdef1ce338a5ed18d23f931caba07a633ba02dd128d387a4fed0f9f97014118f75246958fca6778e530f545974c8a05b924c1b785d13be7cbacd4a9c4a26d429397b9eb162fede263e41cdae367e18a0c9523461f3dfd9af7cecdf7ba76513ed5068e095933c7a4e471eb56dafc25ec6a0566e3550a19858e2b872d358d15c5459d5ab7e696556395acec07fb327383c54a00dd3e1cfe51dba7625b57a33b5cd784ffb983ee2d256630d3c628efa167992dfa07c673280be3c3d672633796f8c733b947686cda0be53becf49167af1ad24b798a030f1f60cd1ef67a23c3d9163369494bc74bf15ca889770f65bc7e21664fcc270a02e5323ca6b11f72375aa1ef3a6f985963a8e8faf2270fea77dc4731f867941cca0b9ec6125f2fe82e1072a468f13feffc943f740dbf7f5c83120f7cb48cf4eaf09\"\r\nAug 23 06:50:30 ethnuc1 erigon[894]: [WARN] [08-23|06:50:30.413] Handling incoming message                stream=RecvUploadMessage err=\"decoding getReceipts66: rlp: input string too short for common.Hash, decoding into (eth.GetReceiptsPacket66).GetReceiptsPacket[0], data: f902be819ef902b91df902b5a0e98f61e4fd79aa5e1384d450d3ed33ba69192e8c49917326f4714f8cd3520b09a097ea283fb93f68fa43daf1f0055b26017a2f621fe49e677496142edaef5bb012a06ee8505d3c892a364982ceae1772d7179141622192d5f1767b2db9aa6e2d282ea08c0c506f7a7ac93506e897ae75d4ae5e1285387b9dd729260ff15f03530b4540a000706d744e6fcb8d572b4ae39f762b67c07d671b767a049b915d18e5eca52ed5a03b0670349a5141a3eb427e49fa256e304426479e33220651249cc52dc2587472a082c5a6aa436ac8f6f6757d343965e9f0efd1a2df26fda18447ab677bcb52cd8aa0a58c9728da3ff162b27d08d6162bf2bac25d30f1ea83b0ba73b0057377cb9a2aa0265d92f6072b240c8122844738ad6b066facf56862ec81a2da2fce686fed9084a0a482053dd0a5a1b43861e6211cefdca10fe695a40d3597855ad70faafa10cecca0a13ed3611dbfa020acfdcd682e296d8b222aa225e6329999914764b3ac0c34aaa0db638c0388f39fe6a92c9980b3ee34b4ad173f0e4f97b88aeb533ccfd27f318fa0ce5a3f94c0596c04c3b6cc4cc26c53fed9c5af629f335a13f1782a0f7aec1315a0e3e664dc0db157a480c28232899692df10572cd19219e950a98b3aa7e085ed57a05781f5ec1555029e1d188492e160c4c78c4254d33212378342723b02ee89f448a099843dca56e0d41b497590c3ff336d2e4d111c1750726f51059be07151763650a09b5675394ccd532162400367c19d16818b531ebd77663f34d83d07588f7af354a0c2a20019b5fe6dc62df3c9b87dab0465de5487e725d43c5534bc52084144e4fda0dd26477b71a2a0b7a6683005b0eea8f74108d5444f2efd124657508d2798a501a0ea028067be94091634dc77286bec4333ce6cc8f3a8cf342553b7be6c42ec9ae4a085dd0b752d1fc3da4162031f019b805cde42655081fb0f7b50bb218dd8e67aa8\"\r\nAug 23 06:50:30 ethnuc1 erigon[894]: [WARN] [08-23|06:50:30.448] Handling incoming message                stream=RecvUploadMessage err=\"decoding getReceipts66: rlp: input string too short for common.Hash, decoding into (eth.GetReceiptsPacket66).GetReceiptsPacket[0], data: f902be819ff902b901f902b5a0b5b95f4b2236fe71cd4e722b90ba81a17e6610c1f16ad4a2d97eec3035930608a0e84e3aaa5fdb0b74d934f6fd65cf49b2401816f64e4e4ce9de2c3d1a2cb8c7d2a031ef20e2108c5d697e7a7524bc98dafb411f9ddc476b16ef60d8eed722db0d45a03e0296fd84d73543a665fb2f1998b226589c2d2d26df5d88dbbfcea2bbdf6f13a089b467d7982e13fe16ade48ac8015febe380a784c8f09051ffa4fa882140d6b1a0ec1be37932df00f94d1d01fc600cc53055c2ad9bc09cfcbca7c57bf8c0d7802ba0b65c808f0862840754beff358e92543c1222f89f318b6566d5b0904a9898cdc0a0d846c52ac890ff424295fe16f95117293fb78d5d8cf5b0743fbcd4253f95dddaa050a02e686e93d7c826f8c5bfe0aa22f5d74df7cbfee6f798b31c3daf189ecd13a0d6668675eda8fe76d7b4a9571785b748ea22116d22b5c32714ef7cc945d0e2eda06a7e296533cd08211a3107d3ad214409e056c5f463ebed07e426ab42db9d2d6ea087dfaba973668ec3ec55584a2a375223688c148eec3148bcd301a96e65000496a078fc7c966d04a0a1a96699163a8a1a2bd771a6c85b1960ae618aabfe79c33ce5a017d307151b37a101a1633436ac31319779408b4373f468f1776e63dab4c19578a0c423513daf64e53a34c4e4364f88a9c1895f885fd2e4bcfad749a8b72f438aa0a055dfa2e545434f1e2cccc1c61003dea5947a3a8b64c9c37b2af835dd6a21fc46a08bdd7180773629d08ced6429e5f4a2037df58fc96a03f10fb9aa3eb36da3cd22a0449963ac1503536ef10639fc1ac64c2bae07c6ddb3b71a832e53a2a0ec31290fa0473385c7835b1933ccdb769fca2024f96b2ccc4e74925122175fbdf2280273d7a0d8436c6c35faa21abb97a4dd275272daaa0b7ae45f92604d614be6ced0494b53a0f7f040883f71f8b4653456f121424dab2fc436bc45866c2625f98246bde76b7f\"\r\n```\r\n\r\n#### Steps to reproduce the behaviour\r\n\r\nNot sure, this was happening intermittently and self-resolved but it occurred for over 20minutes.\r\n\r\n#### Backtrace\r\n\r\n````\r\n[backtrace]\r\n````\r\n",
  "closed_by": {
    "login": "revitteth",
    "id": 693995,
    "node_id": "MDQ6VXNlcjY5Mzk5NQ==",
    "avatar_url": "https://avatars.githubusercontent.com/u/693995?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/revitteth",
    "html_url": "https://github.com/revitteth",
    "followers_url": "https://api.github.com/users/revitteth/followers",
    "following_url": "https://api.github.com/users/revitteth/following{/other_user}",
    "gists_url": "https://api.github.com/users/revitteth/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/revitteth/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/revitteth/subscriptions",
    "organizations_url": "https://api.github.com/users/revitteth/orgs",
    "repos_url": "https://api.github.com/users/revitteth/repos",
    "events_url": "https://api.github.com/users/revitteth/events{/privacy}",
    "received_events_url": "https://api.github.com/users/revitteth/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/5157/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/5157/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1230092707",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/5157#issuecomment-1230092707",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/5157",
    "id": 1230092707,
    "node_id": "IC_kwDOC0FsAM5JUbmj",
    "user": {
      "login": "revitteth",
      "id": 693995,
      "node_id": "MDQ6VXNlcjY5Mzk5NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/693995?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/revitteth",
      "html_url": "https://github.com/revitteth",
      "followers_url": "https://api.github.com/users/revitteth/followers",
      "following_url": "https://api.github.com/users/revitteth/following{/other_user}",
      "gists_url": "https://api.github.com/users/revitteth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/revitteth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/revitteth/subscriptions",
      "organizations_url": "https://api.github.com/users/revitteth/orgs",
      "repos_url": "https://api.github.com/users/revitteth/repos",
      "events_url": "https://api.github.com/users/revitteth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/revitteth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-08-29T10:22:33Z",
    "updated_at": "2022-08-29T10:22:49Z",
    "author_association": "CONTRIBUTOR",
    "body": "@dylancaponi this happens when a bad peer sends invalid RLP - the peer gets penalised - if that fails we'll get an error, but usually the peer is kicked at this point. \r\n\r\nI wonder @AskAlexSharov if I could downgrade the warn to an info? https://github.com/ledgerwatch/erigon/blob/01f2965d8ed492c41422b5251e8988c8b4d1d3bf/cmd/sentry/sentry/sentry_multi_client.go#L215\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1230092707/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1230111402",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/5157#issuecomment-1230111402",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/5157",
    "id": 1230111402,
    "node_id": "IC_kwDOC0FsAM5JUgKq",
    "user": {
      "login": "AskAlexSharov",
      "id": 46885206,
      "node_id": "MDQ6VXNlcjQ2ODg1MjA2",
      "avatar_url": "https://avatars.githubusercontent.com/u/46885206?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/AskAlexSharov",
      "html_url": "https://github.com/AskAlexSharov",
      "followers_url": "https://api.github.com/users/AskAlexSharov/followers",
      "following_url": "https://api.github.com/users/AskAlexSharov/following{/other_user}",
      "gists_url": "https://api.github.com/users/AskAlexSharov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/AskAlexSharov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/AskAlexSharov/subscriptions",
      "organizations_url": "https://api.github.com/users/AskAlexSharov/orgs",
      "repos_url": "https://api.github.com/users/AskAlexSharov/repos",
      "events_url": "https://api.github.com/users/AskAlexSharov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/AskAlexSharov/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-08-29T10:41:59Z",
    "updated_at": "2022-08-29T10:41:59Z",
    "author_association": "COLLABORATOR",
    "body": "It turned to warn from debug just for test/debugging",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1230111402/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1230139674",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/5157#issuecomment-1230139674",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/5157",
    "id": 1230139674,
    "node_id": "IC_kwDOC0FsAM5JUnEa",
    "user": {
      "login": "revitteth",
      "id": 693995,
      "node_id": "MDQ6VXNlcjY5Mzk5NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/693995?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/revitteth",
      "html_url": "https://github.com/revitteth",
      "followers_url": "https://api.github.com/users/revitteth/followers",
      "following_url": "https://api.github.com/users/revitteth/following{/other_user}",
      "gists_url": "https://api.github.com/users/revitteth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/revitteth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/revitteth/subscriptions",
      "organizations_url": "https://api.github.com/users/revitteth/orgs",
      "repos_url": "https://api.github.com/users/revitteth/repos",
      "events_url": "https://api.github.com/users/revitteth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/revitteth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-08-29T11:12:03Z",
    "updated_at": "2022-08-29T11:12:03Z",
    "author_association": "CONTRIBUTOR",
    "body": "OK sure - let's close this one off then :) thanks @AskAlexSharov!",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1230139674/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
