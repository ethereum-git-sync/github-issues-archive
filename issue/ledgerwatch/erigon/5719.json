{
  "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/5719",
  "repository_url": "https://api.github.com/repos/ledgerwatch/erigon",
  "labels_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/5719/labels{/name}",
  "comments_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/5719/comments",
  "events_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/5719/events",
  "html_url": "https://github.com/ledgerwatch/erigon/issues/5719",
  "id": 1406601972,
  "node_id": "I_kwDOC0FsAM5T1wr0",
  "number": 5719,
  "title": "Performance degradation on AMD EPYC in compare to M1 Max",
  "user": {
    "login": "academe-01",
    "id": 95714796,
    "node_id": "U_kgDOBbR97A",
    "avatar_url": "https://avatars.githubusercontent.com/u/95714796?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/academe-01",
    "html_url": "https://github.com/academe-01",
    "followers_url": "https://api.github.com/users/academe-01/followers",
    "following_url": "https://api.github.com/users/academe-01/following{/other_user}",
    "gists_url": "https://api.github.com/users/academe-01/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/academe-01/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/academe-01/subscriptions",
    "organizations_url": "https://api.github.com/users/academe-01/orgs",
    "repos_url": "https://api.github.com/users/academe-01/repos",
    "events_url": "https://api.github.com/users/academe-01/events{/privacy}",
    "received_events_url": "https://api.github.com/users/academe-01/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 4566396003,
      "node_id": "LA_kwDOC0FsAM8AAAABEC2sYw",
      "url": "https://api.github.com/repos/ledgerwatch/erigon/labels/Stale",
      "name": "Stale",
      "color": "ededed",
      "default": false,
      "description": null
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 9,
  "created_at": "2022-10-12T18:02:57Z",
  "updated_at": "2022-12-08T02:35:44Z",
  "closed_at": "2022-12-08T02:35:44Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "Hello!\r\nAny ideas why I'm getting performance degradation on AMD (stats based on blocks > 10000000): \r\n1. Macbook M1 Max (64GB, 1xNVME, no RAID)  - **98 blk/s, and 13000 tx/s**\r\n2. AMD EPYC 7543 (1024GB, 4xNVME RAID10) - **42 blk/s, and 7000 tx/s**\r\n\r\nOn both machines nodes getting data from local geth full node.\r\nI'm wondering if erigon should be recompiled with special AMD optimization flags or M1 MAX just too good to be true ?",
  "closed_by": {
    "login": "github-actions[bot]",
    "id": 41898282,
    "node_id": "MDM6Qm90NDE4OTgyODI=",
    "avatar_url": "https://avatars.githubusercontent.com/in/15368?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/github-actions%5Bbot%5D",
    "html_url": "https://github.com/apps/github-actions",
    "followers_url": "https://api.github.com/users/github-actions%5Bbot%5D/followers",
    "following_url": "https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}",
    "gists_url": "https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/github-actions%5Bbot%5D/subscriptions",
    "organizations_url": "https://api.github.com/users/github-actions%5Bbot%5D/orgs",
    "repos_url": "https://api.github.com/users/github-actions%5Bbot%5D/repos",
    "events_url": "https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}",
    "received_events_url": "https://api.github.com/users/github-actions%5Bbot%5D/received_events",
    "type": "Bot",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/5719/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/5719/timeline",
  "performed_via_github_app": null,
  "state_reason": "not_planned"
}
[
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1277076684",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/5719#issuecomment-1277076684",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/5719",
    "id": 1277076684,
    "node_id": "IC_kwDOC0FsAM5MHqTM",
    "user": {
      "login": "AskAlexSharov",
      "id": 46885206,
      "node_id": "MDQ6VXNlcjQ2ODg1MjA2",
      "avatar_url": "https://avatars.githubusercontent.com/u/46885206?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/AskAlexSharov",
      "html_url": "https://github.com/AskAlexSharov",
      "followers_url": "https://api.github.com/users/AskAlexSharov/followers",
      "following_url": "https://api.github.com/users/AskAlexSharov/following{/other_user}",
      "gists_url": "https://api.github.com/users/AskAlexSharov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/AskAlexSharov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/AskAlexSharov/subscriptions",
      "organizations_url": "https://api.github.com/users/AskAlexSharov/orgs",
      "repos_url": "https://api.github.com/users/AskAlexSharov/repos",
      "events_url": "https://api.github.com/users/AskAlexSharov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/AskAlexSharov/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-10-13T06:09:26Z",
    "updated_at": "2022-10-13T06:09:26Z",
    "author_association": "COLLABORATOR",
    "body": "1. Show logs\r\n2. Likely it depends on disk read latency more than cpu\r\n3. Also may see OS pageCache misses, something like “vmstat -S m 1” (bi - column). Or “iostat -sh 1”",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1277076684/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1285336194",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/5719#issuecomment-1285336194",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/5719",
    "id": 1285336194,
    "node_id": "IC_kwDOC0FsAM5MnKyC",
    "user": {
      "login": "academe-01",
      "id": 95714796,
      "node_id": "U_kgDOBbR97A",
      "avatar_url": "https://avatars.githubusercontent.com/u/95714796?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/academe-01",
      "html_url": "https://github.com/academe-01",
      "followers_url": "https://api.github.com/users/academe-01/followers",
      "following_url": "https://api.github.com/users/academe-01/following{/other_user}",
      "gists_url": "https://api.github.com/users/academe-01/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/academe-01/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/academe-01/subscriptions",
      "organizations_url": "https://api.github.com/users/academe-01/orgs",
      "repos_url": "https://api.github.com/users/academe-01/repos",
      "events_url": "https://api.github.com/users/academe-01/events{/privacy}",
      "received_events_url": "https://api.github.com/users/academe-01/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-10-20T11:03:31Z",
    "updated_at": "2022-10-20T11:26:03Z",
    "author_association": "NONE",
    "body": "@AskAlexSharov \r\n\r\nLet's better discuss just pure MDBX operations.\r\nUsing *intergration mdbx_to_mdbx* (which is broken btw https://github.com/ledgerwatch/erigon/issues/5708#issuecomment-1284562455 as it's simply completely overwrites dst db because of *os.RemoveAll(to)*)\r\n\r\nConsidering it's just a seq read/writes I'm getting avg performance ~1000-3000 kv/second. I can't call it fast at all.\r\nThere is 1TB RAM available.\r\nDrives are directly attached to server and DC grade.\r\nBoth src/dst drives are identical and their specifications are impressive:\r\nSequential Read 6200 MB/s\r\nSequential Write 2900 MB/s\r\nRandom Read 980K IOPS\r\nRandom Write 180K IOPS\r\n\r\nhttps://semiconductor.samsung.com/ssd/enterprise-ssd/pm1725b/mzpll3t2hajq-00005/\r\n\r\n\r\nSRC drive (md7) - RAID0\r\nDST drive (nvme2c1n1) - no RAID, both ext4\r\n\r\nBased on IOSTAT on SRC DB drive rKB/s is 20000-50523 and r/s is ~2000-12340 and these values are extremely low.\r\nWhile DST DB drive almost never has any write load.\r\n\r\nBoth drives in use only by integration tool.\r\n\r\nWhat catch my attention is CPU load. Integration spawn multiple threads. 2x of them always 100%, rest are free.\r\n\r\nI believe if I find answers on simply DB read/writes slow performance I'll understand better the nature of why MacBook gives better performance to DELL R7525 monster.\r\n\r\n\r\n\r\n```\r\nroot@b:~# cat /proc/meminfo \r\nMemTotal:       1056420564 kB\r\nMemFree:        602260524 kB\r\nMemAvailable:   1034738876 kB\r\nBuffers:           79156 kB\r\nCached:         425737572 kB\r\nSwapCached:            0 kB\r\nActive:          4629636 kB\r\nInactive:       427804776 kB\r\nActive(anon):       1420 kB\r\nInactive(anon):  6621160 kB\r\nActive(file):    4628216 kB\r\nInactive(file): 421183616 kB\r\nUnevictable:        3072 kB\r\nMlocked:               0 kB\r\nSwapTotal:             0 kB\r\nSwapFree:              0 kB\r\nDirty:            234152 kB\r\nWriteback:             0 kB\r\nAnonPages:       6622776 kB\r\nMapped:         412580696 kB\r\nShmem:              8216 kB\r\nKReclaimable:   11804956 kB\r\nSlab:           13598232 kB\r\nSReclaimable:   11804956 kB\r\nSUnreclaim:      1793276 kB\r\nKernelStack:       47264 kB\r\nPageTables:      4863256 kB\r\nNFS_Unstable:          0 kB\r\nBounce:                0 kB\r\nWritebackTmp:          0 kB\r\nCommitLimit:    528210280 kB\r\nCommitted_AS:   51385252 kB\r\nVmallocTotal:   34359738367 kB\r\nVmallocUsed:     1722996 kB\r\nVmallocChunk:          0 kB\r\nPercpu:           186880 kB\r\nHardwareCorrupted:     0 kB\r\nAnonHugePages:         0 kB\r\nShmemHugePages:        0 kB\r\nShmemPmdMapped:        0 kB\r\nFileHugePages:         0 kB\r\nFilePmdMapped:         0 kB\r\nHugePages_Total:       0\r\nHugePages_Free:        0\r\nHugePages_Rsvd:        0\r\nHugePages_Surp:        0\r\nHugepagesize:       2048 kB\r\nHugetlb:               0 kB\r\nDirectMap4k:     3657252 kB\r\nDirectMap2M:    344064000 kB\r\nDirectMap1G:    725614592 kB\r\n```\r\n\r\n```\r\nroot@b:~# iostat -x 30\r\n\r\navg-cpu:  %user   %nice %system %iowait  %steal   %idle\r\n           1.11    0.00    0.32    0.86    0.00   97.71\r\n\r\nDevice            r/s     rkB/s   rrqm/s  %rrqm r_await rareq-sz     w/s     wkB/s   wrqm/s  %wrqm w_await wareq-sz     d/s     dkB/s   drqm/s  %drqm d_await dareq-sz     f/s f_await  aqu-sz  %util\r\ndm-0             7.50    174.00     0.00   0.00    0.00    23.20    0.00      0.00     0.00   0.00    0.00     0.00    0.00      0.00     0.00   0.00    0.00     0.00    0.00    0.00    0.00   0.20\r\ndm-1             0.00      0.00     0.00   0.00    0.00     0.00    0.00      0.00     0.00   0.00    0.00     0.00    0.00      0.00     0.00   0.00    0.00     0.00    0.00    0.00    0.00   0.00\r\nloop0            0.00      0.00     0.00   0.00    0.00     0.00    0.00      0.00     0.00   0.00    0.00     0.00    0.00      0.00     0.00   0.00    0.00     0.00    0.00    0.00    0.00   0.00\r\nloop1            0.00      0.00     0.00   0.00    0.00     0.00    0.00      0.00     0.00   0.00    0.00     0.00    0.00      0.00     0.00   0.00    0.00     0.00    0.00    0.00    0.00   0.00\r\nloop10           0.00      0.00     0.00   0.00    0.00     0.00    0.00      0.00     0.00   0.00    0.00     0.00    0.00      0.00     0.00   0.00    0.00     0.00    0.00    0.00    0.00   0.00\r\nloop11           0.00      0.00     0.00   0.00    0.00     0.00    0.00      0.00     0.00   0.00    0.00     0.00    0.00      0.00     0.00   0.00    0.00     0.00    0.00    0.00    0.00   0.00\r\nloop2            0.00      0.00     0.00   0.00    0.00     0.00    0.00      0.00     0.00   0.00    0.00     0.00    0.00      0.00     0.00   0.00    0.00     0.00    0.00    0.00    0.00   0.00\r\nloop3            0.00      0.00     0.00   0.00    0.00     0.00    0.00      0.00     0.00   0.00    0.00     0.00    0.00      0.00     0.00   0.00    0.00     0.00    0.00    0.00    0.00   0.00\r\nloop4            0.00      0.00     0.00   0.00    0.00     0.00    0.00      0.00     0.00   0.00    0.00     0.00    0.00      0.00     0.00   0.00    0.00     0.00    0.00    0.00    0.00   0.00\r\nloop5            0.00      0.00     0.00   0.00    0.00     0.00    0.00      0.00     0.00   0.00    0.00     0.00    0.00      0.00     0.00   0.00    0.00     0.00    0.00    0.00    0.00   0.00\r\nloop6            0.00      0.00     0.00   0.00    0.00     0.00    0.00      0.00     0.00   0.00    0.00     0.00    0.00      0.00     0.00   0.00    0.00     0.00    0.00    0.00    0.00   0.00\r\nloop7            0.00      0.00     0.00   0.00    0.00     0.00    0.00      0.00     0.00   0.00    0.00     0.00    0.00      0.00     0.00   0.00    0.00     0.00    0.00    0.00    0.00   0.00\r\nloop8            0.00      0.00     0.00   0.00    0.00     0.00    0.00      0.00     0.00   0.00    0.00     0.00    0.00      0.00     0.00   0.00    0.00     0.00    0.00    0.00    0.00   0.00\r\nloop9            0.00      0.00     0.00   0.00    0.00     0.00    0.00      0.00     0.00   0.00    0.00     0.00    0.00      0.00     0.00   0.00    0.00     0.00    0.00    0.00    0.00   0.00\r\nmd7           12476.00  58542.00     0.00   0.00    0.07     4.69    0.00      0.00     0.00   0.00    0.00     0.00    0.00      0.00     0.00   0.00    0.00     0.00    0.00    0.00    0.85 100.20\r\nnvme0c0n1     6312.00  29928.00     1.00   0.02    0.07     4.74    0.00      0.00     0.00   0.00    0.00     0.00    0.00      0.00     0.00   0.00    0.00     0.00    0.00    0.00    0.45  98.00\r\nnvme1c1n1     6172.50  28878.00     0.50   0.01    0.07     4.68    0.00      0.00     0.00   0.00    0.00     0.00    0.00      0.00     0.00   0.00    0.00     0.00    0.00    0.00    0.43  98.40\r\nnvme2c1n1        0.00      0.00     0.00   0.00    0.00     0.00    3.00     40.00     7.00  70.00    0.00    13.33    0.00      0.00     0.00   0.00    0.00     0.00    0.00    0.00    0.00   0.40\r\n```\r\n\r\n[intergration.log](https://github.com/ledgerwatch/erigon/files/9829110/intergration.log)\r\n\r\n\r\nAny ideas?\r\n\r\n\r\nTurning on/off mdbx.UtterlyNoSync/mdbx.NoReadahead on dbs didn't show any visible improvement. ",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1285336194/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1285461988",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/5719#issuecomment-1285461988",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/5719",
    "id": 1285461988,
    "node_id": "IC_kwDOC0FsAM5Mnpfk",
    "user": {
      "login": "AskAlexSharov",
      "id": 46885206,
      "node_id": "MDQ6VXNlcjQ2ODg1MjA2",
      "avatar_url": "https://avatars.githubusercontent.com/u/46885206?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/AskAlexSharov",
      "html_url": "https://github.com/AskAlexSharov",
      "followers_url": "https://api.github.com/users/AskAlexSharov/followers",
      "following_url": "https://api.github.com/users/AskAlexSharov/following{/other_user}",
      "gists_url": "https://api.github.com/users/AskAlexSharov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/AskAlexSharov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/AskAlexSharov/subscriptions",
      "organizations_url": "https://api.github.com/users/AskAlexSharov/orgs",
      "repos_url": "https://api.github.com/users/AskAlexSharov/repos",
      "events_url": "https://api.github.com/users/AskAlexSharov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/AskAlexSharov/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-10-20T12:29:48Z",
    "updated_at": "2022-10-20T12:29:48Z",
    "author_association": "COLLABORATOR",
    "body": "1. fixed by https://github.com/ledgerwatch/erigon/pull/5810\r\n2. try enable Readahead on src db (it's disabled by default, because usually DB >> RAM)\r\n3. if you have tons of RAM, likely you can do in shell `cat mdbx.dat > /dev/null` it will fast sequentially load db to RAM \r\n4. it must not use CPU, I don't know why you see it. you can add --pprof flag - it will print in logs command for cpu profiling: something like `go tool pprof -png http://127.0.0.1:6060/debug/pprof/profile\\?seconds\\=20 > cpu.png`\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1285461988/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1285468542",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/5719#issuecomment-1285468542",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/5719",
    "id": 1285468542,
    "node_id": "IC_kwDOC0FsAM5MnrF-",
    "user": {
      "login": "academe-01",
      "id": 95714796,
      "node_id": "U_kgDOBbR97A",
      "avatar_url": "https://avatars.githubusercontent.com/u/95714796?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/academe-01",
      "html_url": "https://github.com/academe-01",
      "followers_url": "https://api.github.com/users/academe-01/followers",
      "following_url": "https://api.github.com/users/academe-01/following{/other_user}",
      "gists_url": "https://api.github.com/users/academe-01/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/academe-01/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/academe-01/subscriptions",
      "organizations_url": "https://api.github.com/users/academe-01/orgs",
      "repos_url": "https://api.github.com/users/academe-01/repos",
      "events_url": "https://api.github.com/users/academe-01/events{/privacy}",
      "received_events_url": "https://api.github.com/users/academe-01/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-10-20T12:34:49Z",
    "updated_at": "2022-10-20T12:34:49Z",
    "author_association": "NONE",
    "body": "@AskAlexSharov \r\n\r\n1. thanks\r\n2. already tried, didn't help much\r\n3. it's not an option, i have that much free ram only in test env, in production i have only ~256 gb free which still should give millions of KV reads/sec and not just ~1000-3000/sec.\r\n4. will do and update you soon ",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1285468542/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1285475133",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/5719#issuecomment-1285475133",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/5719",
    "id": 1285475133,
    "node_id": "IC_kwDOC0FsAM5Mnss9",
    "user": {
      "login": "AskAlexSharov",
      "id": 46885206,
      "node_id": "MDQ6VXNlcjQ2ODg1MjA2",
      "avatar_url": "https://avatars.githubusercontent.com/u/46885206?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/AskAlexSharov",
      "html_url": "https://github.com/AskAlexSharov",
      "followers_url": "https://api.github.com/users/AskAlexSharov/followers",
      "following_url": "https://api.github.com/users/AskAlexSharov/following{/other_user}",
      "gists_url": "https://api.github.com/users/AskAlexSharov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/AskAlexSharov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/AskAlexSharov/subscriptions",
      "organizations_url": "https://api.github.com/users/AskAlexSharov/orgs",
      "repos_url": "https://api.github.com/users/AskAlexSharov/repos",
      "events_url": "https://api.github.com/users/AskAlexSharov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/AskAlexSharov/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-10-20T12:40:03Z",
    "updated_at": "2022-10-20T12:40:03Z",
    "author_association": "COLLABORATOR",
    "body": "5. as an alternative of mdbx_to_mdbx - see also: \r\n```\r\nmake db-tools\r\n./build/bin/mdbx_dump\r\n./build/bin/mdbx_load\r\n./build/bin/mdbx_stat -a \r\n```\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1285475133/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1285479620",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/5719#issuecomment-1285479620",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/5719",
    "id": 1285479620,
    "node_id": "IC_kwDOC0FsAM5MntzE",
    "user": {
      "login": "academe-01",
      "id": 95714796,
      "node_id": "U_kgDOBbR97A",
      "avatar_url": "https://avatars.githubusercontent.com/u/95714796?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/academe-01",
      "html_url": "https://github.com/academe-01",
      "followers_url": "https://api.github.com/users/academe-01/followers",
      "following_url": "https://api.github.com/users/academe-01/following{/other_user}",
      "gists_url": "https://api.github.com/users/academe-01/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/academe-01/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/academe-01/subscriptions",
      "organizations_url": "https://api.github.com/users/academe-01/orgs",
      "repos_url": "https://api.github.com/users/academe-01/repos",
      "events_url": "https://api.github.com/users/academe-01/events{/privacy}",
      "received_events_url": "https://api.github.com/users/academe-01/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-10-20T12:43:26Z",
    "updated_at": "2022-10-20T12:44:26Z",
    "author_association": "NONE",
    "body": "@AskAlexSharov \r\n\r\nAlex, out of curiosity,\r\nCan you run mdbx_to_mdbx on your dataset and share at least some output strings?\r\nI would like to see a performance in real life, maybe I am fighting with a ghost?\r\nSo I can compare time for any specific bucket and make conclusions.",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1285479620/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1285495842",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/5719#issuecomment-1285495842",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/5719",
    "id": 1285495842,
    "node_id": "IC_kwDOC0FsAM5Mnxwi",
    "user": {
      "login": "academe-01",
      "id": 95714796,
      "node_id": "U_kgDOBbR97A",
      "avatar_url": "https://avatars.githubusercontent.com/u/95714796?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/academe-01",
      "html_url": "https://github.com/academe-01",
      "followers_url": "https://api.github.com/users/academe-01/followers",
      "following_url": "https://api.github.com/users/academe-01/following{/other_user}",
      "gists_url": "https://api.github.com/users/academe-01/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/academe-01/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/academe-01/subscriptions",
      "organizations_url": "https://api.github.com/users/academe-01/orgs",
      "repos_url": "https://api.github.com/users/academe-01/repos",
      "events_url": "https://api.github.com/users/academe-01/events{/privacy}",
      "received_events_url": "https://api.github.com/users/academe-01/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-10-20T12:56:27Z",
    "updated_at": "2022-10-20T12:58:24Z",
    "author_association": "NONE",
    "body": "> 4\\. it must not use CPU, I don't know why you see it. you can add --pprof flag - it will print in logs command for cpu profiling: something like `go tool pprof -png http://127.0.0.1:6060/debug/pprof/profile\\?seconds\\=20 > cpu.png`\r\n\r\n@AskAlexSharov \r\n\r\ndid it for 60 sec.\r\nDoes mdbx.Cursor look slow for you ?\r\n\r\n\r\n![cpu](https://user-images.githubusercontent.com/95714796/196954599-e32f7fa7-1df1-4251-8025-2693cc457913.png)\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1285495842/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1331573345",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/5719#issuecomment-1331573345",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/5719",
    "id": 1331573345,
    "node_id": "IC_kwDOC0FsAM5PXjJh",
    "user": {
      "login": "github-actions[bot]",
      "id": 41898282,
      "node_id": "MDM6Qm90NDE4OTgyODI=",
      "avatar_url": "https://avatars.githubusercontent.com/in/15368?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/github-actions%5Bbot%5D",
      "html_url": "https://github.com/apps/github-actions",
      "followers_url": "https://api.github.com/users/github-actions%5Bbot%5D/followers",
      "following_url": "https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}",
      "gists_url": "https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/github-actions%5Bbot%5D/subscriptions",
      "organizations_url": "https://api.github.com/users/github-actions%5Bbot%5D/orgs",
      "repos_url": "https://api.github.com/users/github-actions%5Bbot%5D/repos",
      "events_url": "https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}",
      "received_events_url": "https://api.github.com/users/github-actions%5Bbot%5D/received_events",
      "type": "Bot",
      "site_admin": false
    },
    "created_at": "2022-11-30T02:41:28Z",
    "updated_at": "2022-11-30T02:41:28Z",
    "author_association": "NONE",
    "body": "This issue is stale because it has been open for 40 days with no activity. Remove stale label or comment, or this will be closed in 7 days.",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1331573345/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1341897919",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/5719#issuecomment-1341897919",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/5719",
    "id": 1341897919,
    "node_id": "IC_kwDOC0FsAM5P-7y_",
    "user": {
      "login": "github-actions[bot]",
      "id": 41898282,
      "node_id": "MDM6Qm90NDE4OTgyODI=",
      "avatar_url": "https://avatars.githubusercontent.com/in/15368?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/github-actions%5Bbot%5D",
      "html_url": "https://github.com/apps/github-actions",
      "followers_url": "https://api.github.com/users/github-actions%5Bbot%5D/followers",
      "following_url": "https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}",
      "gists_url": "https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/github-actions%5Bbot%5D/subscriptions",
      "organizations_url": "https://api.github.com/users/github-actions%5Bbot%5D/orgs",
      "repos_url": "https://api.github.com/users/github-actions%5Bbot%5D/repos",
      "events_url": "https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}",
      "received_events_url": "https://api.github.com/users/github-actions%5Bbot%5D/received_events",
      "type": "Bot",
      "site_admin": false
    },
    "created_at": "2022-12-08T02:35:43Z",
    "updated_at": "2022-12-08T02:35:43Z",
    "author_association": "NONE",
    "body": "This issue was closed because it has been stalled for 7 days with no activity.",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1341897919/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
