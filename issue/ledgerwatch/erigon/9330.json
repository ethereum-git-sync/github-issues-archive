{
  "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/9330",
  "repository_url": "https://api.github.com/repos/ledgerwatch/erigon",
  "labels_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/9330/labels{/name}",
  "comments_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/9330/comments",
  "events_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/9330/events",
  "html_url": "https://github.com/ledgerwatch/erigon/issues/9330",
  "id": 2103791523,
  "node_id": "I_kwDOC0FsAM59ZU-j",
  "number": 9330,
  "title": "Erigon is making a lot of DNS queries",
  "user": {
    "login": "victorelec14",
    "id": 543450,
    "node_id": "MDQ6VXNlcjU0MzQ1MA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/543450?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/victorelec14",
    "html_url": "https://github.com/victorelec14",
    "followers_url": "https://api.github.com/users/victorelec14/followers",
    "following_url": "https://api.github.com/users/victorelec14/following{/other_user}",
    "gists_url": "https://api.github.com/users/victorelec14/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/victorelec14/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/victorelec14/subscriptions",
    "organizations_url": "https://api.github.com/users/victorelec14/orgs",
    "repos_url": "https://api.github.com/users/victorelec14/repos",
    "events_url": "https://api.github.com/users/victorelec14/events{/privacy}",
    "received_events_url": "https://api.github.com/users/victorelec14/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 1,
  "created_at": "2024-01-27T20:26:02Z",
  "updated_at": "2024-01-29T02:55:00Z",
  "closed_at": null,
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "#### System information\r\n\r\nErigon version: v2.57.1 git_tag=v2.57.1-dirty \r\n\r\nOS & Version:  Docker\r\n\r\nCommit hash: 9f1cd651f0b1b443b4bd96eaed84502c149fdca2\r\n\r\nErigon Command (with flags/config):\r\n\r\nConsensus Layer:\r\n\r\nConsensus Layer Command (with flags/config):\r\n```\r\ncommand:\r\n      - --chain=mainnet\r\n      - --http\r\n      - --http.api=eth,net,web3,engine,admin,erigon,debug,trace,txpool #engine,eth,debug,net  # eth,erigon,web3,net,debug,trace,txpool\r\n      - --private.api.addr=0.0.0.0:9090\r\n      - --authrpc.jwtsecret=/jwt.hex\r\n      - --authrpc.addr=0.0.0.0\r\n      - --authrpc.port=8551\r\n      - --authrpc.vhosts=*\r\n      - --metrics\r\n      - --metrics.addr=0.0.0.0\r\n      - --metrics.port=6060\r\n      - --snapshots\r\n      - --torrent.download.rate=512mb\r\n      - --torrent.upload.rate=500kb\r\n      - --torrent.port=42068 # Public BitTorrent protocol listen\r\n      - --http.addr=0.0.0.0\r\n      - --http.port=8545\r\n      - --http.vhosts=*\r\n      - --http.corsdomain=*\r\n      - --ws\r\n      - --nat=any\r\n      - --prune=htcr \r\n      - --verbosity=4\r\n```\r\n\r\n\r\n\r\nChain/Network: Mainnet\r\n\r\n#### Expected behaviour\r\n\r\n\r\n#### Actual behaviour\r\nHi, i have been synchronizing the chain on Mainnet for a few days, now i started having problems with my DNS server, and I see that the requests Erigon is making are too many, even to Trackers domains that don't exist anymore.\r\n\r\nEvery day that Erigon is active, it generates around 460,000 DNS Queries. At the moment, it is making an average of 20 DNS Queries per second.\r\n\r\n![image](https://github.com/ledgerwatch/erigon/assets/543450/35e705bb-6740-472e-8500-329dd0b00bcd)\r\n\r\n![image](https://github.com/ledgerwatch/erigon/assets/543450/77277e9b-fc00-40fc-af63-9015742558fc)\r\n\r\n\r\n9.rarbg.com  is a parked domain\r\n\r\n![image](https://github.com/ledgerwatch/erigon/assets/543450/c64f8fef-5e51-4b9d-9712-a9434061a815)\r\n\r\n\r\nThanks !\r\n",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/9330/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/9330/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1913874493",
    "html_url": "https://github.com/ledgerwatch/erigon/issues/9330#issuecomment-1913874493",
    "issue_url": "https://api.github.com/repos/ledgerwatch/erigon/issues/9330",
    "id": 1913874493,
    "node_id": "IC_kwDOC0FsAM5yE2g9",
    "user": {
      "login": "elee1766",
      "id": 2260857,
      "node_id": "MDQ6VXNlcjIyNjA4NTc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2260857?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/elee1766",
      "html_url": "https://github.com/elee1766",
      "followers_url": "https://api.github.com/users/elee1766/followers",
      "following_url": "https://api.github.com/users/elee1766/following{/other_user}",
      "gists_url": "https://api.github.com/users/elee1766/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/elee1766/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/elee1766/subscriptions",
      "organizations_url": "https://api.github.com/users/elee1766/orgs",
      "repos_url": "https://api.github.com/users/elee1766/repos",
      "events_url": "https://api.github.com/users/elee1766/events{/privacy}",
      "received_events_url": "https://api.github.com/users/elee1766/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2024-01-29T02:54:59Z",
    "updated_at": "2024-01-29T02:54:59Z",
    "author_association": "COLLABORATOR",
    "body": "it's an issue with the upstream torrent library, not erigon itself\r\n\r\nhttps://github.com/anacrolix/torrent/issues/817",
    "reactions": {
      "url": "https://api.github.com/repos/ledgerwatch/erigon/issues/comments/1913874493/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
