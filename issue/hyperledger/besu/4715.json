{
  "url": "https://api.github.com/repos/hyperledger/besu/issues/4715",
  "repository_url": "https://api.github.com/repos/hyperledger/besu",
  "labels_url": "https://api.github.com/repos/hyperledger/besu/issues/4715/labels{/name}",
  "comments_url": "https://api.github.com/repos/hyperledger/besu/issues/4715/comments",
  "events_url": "https://api.github.com/repos/hyperledger/besu/issues/4715/events",
  "html_url": "https://github.com/hyperledger/besu/issues/4715",
  "id": 1458728587,
  "node_id": "I_kwDODE2jmc5W8m6L",
  "number": 4715,
  "title": "Implement eth/68 (EIP-5793) - Add tx type and size to tx announcement",
  "user": {
    "login": "Gabriel-Trintinalia",
    "id": 14837672,
    "node_id": "MDQ6VXNlcjE0ODM3Njcy",
    "avatar_url": "https://avatars.githubusercontent.com/u/14837672?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/Gabriel-Trintinalia",
    "html_url": "https://github.com/Gabriel-Trintinalia",
    "followers_url": "https://api.github.com/users/Gabriel-Trintinalia/followers",
    "following_url": "https://api.github.com/users/Gabriel-Trintinalia/following{/other_user}",
    "gists_url": "https://api.github.com/users/Gabriel-Trintinalia/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/Gabriel-Trintinalia/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/Gabriel-Trintinalia/subscriptions",
    "organizations_url": "https://api.github.com/users/Gabriel-Trintinalia/orgs",
    "repos_url": "https://api.github.com/users/Gabriel-Trintinalia/repos",
    "events_url": "https://api.github.com/users/Gabriel-Trintinalia/events{/privacy}",
    "received_events_url": "https://api.github.com/users/Gabriel-Trintinalia/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 2152224197,
      "node_id": "MDU6TGFiZWwyMTUyMjI0MTk3",
      "url": "https://api.github.com/repos/hyperledger/besu/labels/TeamRevenant",
      "name": "TeamRevenant",
      "color": "78e298",
      "default": false,
      "description": "GH issues worked on by Revenant Team"
    },
    {
      "id": 3013559202,
      "node_id": "MDU6TGFiZWwzMDEzNTU5MjAy",
      "url": "https://api.github.com/repos/hyperledger/besu/labels/mainnet",
      "name": "mainnet",
      "color": "9D578C",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": {
    "login": "Gabriel-Trintinalia",
    "id": 14837672,
    "node_id": "MDQ6VXNlcjE0ODM3Njcy",
    "avatar_url": "https://avatars.githubusercontent.com/u/14837672?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/Gabriel-Trintinalia",
    "html_url": "https://github.com/Gabriel-Trintinalia",
    "followers_url": "https://api.github.com/users/Gabriel-Trintinalia/followers",
    "following_url": "https://api.github.com/users/Gabriel-Trintinalia/following{/other_user}",
    "gists_url": "https://api.github.com/users/Gabriel-Trintinalia/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/Gabriel-Trintinalia/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/Gabriel-Trintinalia/subscriptions",
    "organizations_url": "https://api.github.com/users/Gabriel-Trintinalia/orgs",
    "repos_url": "https://api.github.com/users/Gabriel-Trintinalia/repos",
    "events_url": "https://api.github.com/users/Gabriel-Trintinalia/events{/privacy}",
    "received_events_url": "https://api.github.com/users/Gabriel-Trintinalia/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "Gabriel-Trintinalia",
      "id": 14837672,
      "node_id": "MDQ6VXNlcjE0ODM3Njcy",
      "avatar_url": "https://avatars.githubusercontent.com/u/14837672?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Gabriel-Trintinalia",
      "html_url": "https://github.com/Gabriel-Trintinalia",
      "followers_url": "https://api.github.com/users/Gabriel-Trintinalia/followers",
      "following_url": "https://api.github.com/users/Gabriel-Trintinalia/following{/other_user}",
      "gists_url": "https://api.github.com/users/Gabriel-Trintinalia/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Gabriel-Trintinalia/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Gabriel-Trintinalia/subscriptions",
      "organizations_url": "https://api.github.com/users/Gabriel-Trintinalia/orgs",
      "repos_url": "https://api.github.com/users/Gabriel-Trintinalia/repos",
      "events_url": "https://api.github.com/users/Gabriel-Trintinalia/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Gabriel-Trintinalia/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 1,
  "created_at": "2022-11-21T23:08:57Z",
  "updated_at": "2023-01-09T10:47:48Z",
  "closed_at": "2022-12-06T08:43:29Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "Implement eth/68\n\n- https://eips.ethereum.org/EIPS/eip-5793\n\n> The NewPooledTransactionHashes message announces transaction hashes, allowing the peer to selectively fetch transactions it does not yet have.\n> \n> EIP-4844 introduces a new transaction type for blob transactions. Since these blob transactions are large, naively broadcasting them to sqrt(peers) could significantly increase bandwidth requirements. Adding the transaction type and the size to the announcement message will allow nodes to select which transactions they want to fetch and also allow them to load balance or throttle peers based on past behavior.\n> \n> The added metadata fields will also enable future - upgradeless - protocol tweaks to prevent certain transaction type (e.g. blob transactions) or certain transaction sizes (e.g. 128KB+) from being blindly broadcast to many peers. Enforcing announcements only and retrieval on demand would ensure a much more predictable networking behavior, limiting the amplification effect of transaction propagation DoS attack.",
  "closed_by": {
    "login": "Gabriel-Trintinalia",
    "id": 14837672,
    "node_id": "MDQ6VXNlcjE0ODM3Njcy",
    "avatar_url": "https://avatars.githubusercontent.com/u/14837672?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/Gabriel-Trintinalia",
    "html_url": "https://github.com/Gabriel-Trintinalia",
    "followers_url": "https://api.github.com/users/Gabriel-Trintinalia/followers",
    "following_url": "https://api.github.com/users/Gabriel-Trintinalia/following{/other_user}",
    "gists_url": "https://api.github.com/users/Gabriel-Trintinalia/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/Gabriel-Trintinalia/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/Gabriel-Trintinalia/subscriptions",
    "organizations_url": "https://api.github.com/users/Gabriel-Trintinalia/orgs",
    "repos_url": "https://api.github.com/users/Gabriel-Trintinalia/repos",
    "events_url": "https://api.github.com/users/Gabriel-Trintinalia/events{/privacy}",
    "received_events_url": "https://api.github.com/users/Gabriel-Trintinalia/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/4715/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/hyperledger/besu/issues/4715/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1375420874",
    "html_url": "https://github.com/hyperledger/besu/issues/4715#issuecomment-1375420874",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/4715",
    "id": 1375420874,
    "node_id": "IC_kwDODE2jmc5R-0HK",
    "user": {
      "login": "fab-10",
      "id": 91944855,
      "node_id": "U_kgDOBXr3lw",
      "avatar_url": "https://avatars.githubusercontent.com/u/91944855?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fab-10",
      "html_url": "https://github.com/fab-10",
      "followers_url": "https://api.github.com/users/fab-10/followers",
      "following_url": "https://api.github.com/users/fab-10/following{/other_user}",
      "gists_url": "https://api.github.com/users/fab-10/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fab-10/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fab-10/subscriptions",
      "organizations_url": "https://api.github.com/users/fab-10/orgs",
      "repos_url": "https://api.github.com/users/fab-10/repos",
      "events_url": "https://api.github.com/users/fab-10/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fab-10/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-01-09T10:47:48Z",
    "updated_at": "2023-01-09T10:47:48Z",
    "author_association": "CONTRIBUTOR",
    "body": "Reporting this exception, still to verify if it is Besu or Nethermind related\r\n\r\n```\r\n{\"@timestamp\":\"2023-01-09T10:36:53,750\",\r\n\"level\":\"DEBUG\",\r\n\"thread\":\"EthScheduler-Transactions-0\",\r\n\"class\":\"NewPooledTransactionHashesMessageProcessor\",\r\n\"message\":\"Malformed pooled transaction hashes message received (BREACH_OF_PROTOCOL), disconnecting: PeerId 0xa739b362b2b7047ecac89f1a562addccf8270ea57dec76aba6b48ce9130072d38ccd4c0205d20afaed83f16daf79d3aaeadf7a7fd1e644f18c5675818eab0cf7, reputation PeerReputation 100, validated? true, disconnected? false, client: Nethermind/v1.15.0+ef5ebfc3/linux-x64/dotnet7.0.1, connection 395687254, enode enode://a739b362b2b7047ecac89f1a562addccf8270ea57dec76aba6b48ce9130072d38ccd4c0205d20afaed83f16daf79d3aaeadf7a7fd1e644f18c5675818eab0cf7@191.96.185.162:13492?discport=0\",\r\n\"throwable\":\" \r\norg.hyperledger.besu.ethereum.rlp.RLPException: Expected current item to be a list, but it is: LONG_ELEMENT (at bytes 3-1030: f9914d[b9040002...02020202]f9094481...)\r\n\\tat org.hyperledger.besu.ethereum.rlp.AbstractRLPInput.error(AbstractRLPInput.java:202)\r\n\\tat org.hyperledger.besu.ethereum.rlp.AbstractRLPInput.enterList(AbstractRLPInput.java:448)\r\n\\tat org.hyperledger.besu.ethereum.rlp.BytesValueRLPInput.enterList(BytesValueRLPInput.java:23)\r\n\\tat org.hyperledger.besu.ethereum.rlp.AbstractRLPInput.enterList(AbstractRLPInput.java:432)\r\n\\tat org.hyperledger.besu.ethereum.rlp.BytesValueRLPInput.enterList(BytesValueRLPInput.java:23)\r\n\\tat org.hyperledger.besu.ethereum.rlp.RLPInput.readList(RLPInput.java:341)\r\n\\tat org.hyperledger.besu.ethereum.eth.encoding.TransactionAnnouncementDecoder.decodeForEth68(TransactionAnnouncementDecoder.java:73)\r\n\\tat org.hyperledger.besu.ethereum.eth.messages.NewPooledTransactionHashesMessage.pendingTransactions(NewPooledTransactionHashesMessage.java:73)\r\n\\tat org.hyperledger.besu.ethereum.eth.messages.NewPooledTransactionHashesMessage.pendingTransactionHashes(NewPooledTransactionHashesMessage.java:79)\r\n\\tat org.hyperledger.besu.ethereum.eth.transactions.NewPooledTransactionHashesMessageProcessor.processNewPooledTransactionHashesMessage(NewPooledTransactionHashesMessageProcessor.java:100)\r\n\\tat org.hyperledger.besu.ethereum.eth.transactions.NewPooledTransactionHashesMessageProcessor.processNewPooledTransactionHashesMessage(NewPooledTransactionHashesMessageProcessor.java:90)\r\n\\tat org.hyperledger.besu.ethereum.eth.transactions.NewPooledTransactionHashesMessageHandler.lambda$exec$0(NewPooledTransactionHashesMessageHandler.java:52)\r\n\\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n\\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n\\tat java.base/java.lang.Thread.run(Thread.java:829)\r\n\"}\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1375420874/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
