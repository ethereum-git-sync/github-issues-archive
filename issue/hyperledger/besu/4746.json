{
  "url": "https://api.github.com/repos/hyperledger/besu/issues/4746",
  "repository_url": "https://api.github.com/repos/hyperledger/besu",
  "labels_url": "https://api.github.com/repos/hyperledger/besu/issues/4746/labels{/name}",
  "comments_url": "https://api.github.com/repos/hyperledger/besu/issues/4746/comments",
  "events_url": "https://api.github.com/repos/hyperledger/besu/issues/4746/events",
  "html_url": "https://github.com/hyperledger/besu/issues/4746",
  "id": 1467326208,
  "node_id": "I_kwDODE2jmc5XdZ8A",
  "number": 4746,
  "title": "Shanghai / Withdrawals Epic",
  "user": {
    "login": "siladu",
    "id": 2893793,
    "node_id": "MDQ6VXNlcjI4OTM3OTM=",
    "avatar_url": "https://avatars.githubusercontent.com/u/2893793?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/siladu",
    "html_url": "https://github.com/siladu",
    "followers_url": "https://api.github.com/users/siladu/followers",
    "following_url": "https://api.github.com/users/siladu/following{/other_user}",
    "gists_url": "https://api.github.com/users/siladu/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/siladu/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/siladu/subscriptions",
    "organizations_url": "https://api.github.com/users/siladu/orgs",
    "repos_url": "https://api.github.com/users/siladu/repos",
    "events_url": "https://api.github.com/users/siladu/events{/privacy}",
    "received_events_url": "https://api.github.com/users/siladu/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 1913956965,
      "node_id": "MDU6TGFiZWwxOTEzOTU2OTY1",
      "url": "https://api.github.com/repos/hyperledger/besu/labels/epic",
      "name": "epic",
      "color": "3E4B9E",
      "default": false,
      "description": ""
    },
    {
      "id": 1921587647,
      "node_id": "MDU6TGFiZWwxOTIxNTg3NjQ3",
      "url": "https://api.github.com/repos/hyperledger/besu/labels/TeamGroot",
      "name": "TeamGroot",
      "color": "1d76db",
      "default": false,
      "description": "GH issues worked on by Groot Team"
    },
    {
      "id": 3372108177,
      "node_id": "MDU6TGFiZWwzMzcyMTA4MTc3",
      "url": "https://api.github.com/repos/hyperledger/besu/labels/EIP",
      "name": "EIP",
      "color": "006b75",
      "default": false,
      "description": "Ethereum Improvement Proposal"
    },
    {
      "id": 4328706977,
      "node_id": "LA_kwDODE2jmc8AAAABAgLToQ",
      "url": "https://api.github.com/repos/hyperledger/besu/labels/TeamChupa",
      "name": "TeamChupa",
      "color": "fbca04",
      "default": false,
      "description": "GH issues worked on by Chupacabara Team"
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 0,
  "created_at": "2022-11-29T01:53:16Z",
  "updated_at": "2023-04-19T22:27:55Z",
  "closed_at": "2023-04-17T21:50:51Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "Implement https://eips.ethereum.org/EIPS/eip-4895 and engine API changes: https://github.com/ethereum/execution-apis/blob/main/src/engine/shanghai.md\n\n- [x] [DONE] shanghaiTimestamp https://github.com/hyperledger/besu/pull/4743\n- [x] [DONE] Add shanghaiTimestamp to ForkId #4793\n- [x] [Withdrawals Hive Tests Passing] Run Against Hive Tests https://github.com/hyperledger/besu/issues/4747\n- [x] [DONE] Calculate blockValue for engine_getPayloadV2 https://github.com/hyperledger/besu/issues/4861\n- [x] [DONE] Withdrawals EVM and Block changes https://github.com/hyperledger/besu/issues/4878\n- [x] [DONE] Withdrawals Engine API https://github.com/hyperledger/besu/issues/4776\n- [x] [DONE] Implementing wei -> gwei spec changes: https://github.com/hyperledger/besu/issues/4920\n- [x] [DONE] Add withdrawals details to eth_getBlock methods - https://github.com/hyperledger/besu/issues/4808\n- [x] [DONE] Shanghai Engine API Updates - https://github.com/hyperledger/besu/issues/4916\n- [x] [DONE] Add getPayloadBodies and getPayloadBodiesByRangeV1 https://github.com/hyperledger/besu/issues/4787\n- [x] [DONE] Withdrawal account balance overflow - https://github.com/hyperledger/besu/issues/5079\n- [x] [DONE] Block value calculation may be incorrect in getPayloadV2 https://github.com/hyperledger/besu/issues/5040\n- [x] [DONE] Don't Record Bad Block When Proposing - https://github.com/hyperledger/besu/issues/5058\n- [x] [DONE] Withdrawals execution-spec-tests https://github.com/hyperledger/besu/issues/4934\n- [x] [DONE] Withdrawals acceptance tests #5078\n- [x] [DONE] Integration tests for eth_getBlock methods https://github.com/hyperledger/besu/issues/4808\n- [x] [DONE] CompleteBlocksTask https://github.com/hyperledger/besu/issues/4976\n- [ ] [IN PROGRESS] Clean up: Change getByBlockNumber to be getByBlockHeader #4789\n- [ ] [TODO] Discuss with @daniellehrner - BadBlockManager in ProtocolSpec https://github.com/hyperledger/besu/issues/5153\n- [ ] [BLOCKED?] Clean up: Remove applyMergeSpecificModifications #4788\n- [ ] Remove Engine API V1s once Shanghai fork has passed?\n- [ ] [TODO] Schedule Shanghai Retro!\n\n\nDevnet Issues:\n- [x] [INVESTIGATE] lighthouse-besu withdrawals-testnet-1 issues - https://discord.com/channels/595666850260713488/892088344438255616/1055785287885783040 (maybe fixed backwards sync bug found in hive tests)\n- [ ] [INVESTIGATE] prysm-besu withdrawals-testnet-1 slow syncing issue (probably no withdrawals related): prysm sends newPayload batches and only 1 FCU per batch which I suspect thrashes bonsai: https://discord.com/channels/595666850260713488/892088344438255616/1055808000864034846\n\nNot strictly Withdrawals, but for Shanghai:\n- [x] ~[TODO] Placeholder: Support Shanghai in Retesteth - https://github.com/hyperledger/besu/issues/4885~ resolved by https://github.com/hyperledger/besu/pull/4900 ?\n- [x] Once Withdrawals code is merged, revisit commented code from https://github.com/hyperledger/besu/pull/4900\n- [x] Reftest cleanup related to https://github.com/hyperledger/besu/pull/4913/commits/a080bffcbab3d4cd9f9a264285f6b0c39b53a54b - discussion here https://discord.com/channels/905194001349627914/1050442708587647006/1064694693461504051\n\n~Notes~\n~- Withdrawals Prototype (and other Shanghai features) https://github.com/hyperledger/besu/pull/4818~",
  "closed_by": {
    "login": "non-fungible-nelson",
    "id": 85905982,
    "node_id": "MDQ6VXNlcjg1OTA1OTgy",
    "avatar_url": "https://avatars.githubusercontent.com/u/85905982?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/non-fungible-nelson",
    "html_url": "https://github.com/non-fungible-nelson",
    "followers_url": "https://api.github.com/users/non-fungible-nelson/followers",
    "following_url": "https://api.github.com/users/non-fungible-nelson/following{/other_user}",
    "gists_url": "https://api.github.com/users/non-fungible-nelson/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/non-fungible-nelson/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/non-fungible-nelson/subscriptions",
    "organizations_url": "https://api.github.com/users/non-fungible-nelson/orgs",
    "repos_url": "https://api.github.com/users/non-fungible-nelson/repos",
    "events_url": "https://api.github.com/users/non-fungible-nelson/events{/privacy}",
    "received_events_url": "https://api.github.com/users/non-fungible-nelson/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/4746/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/hyperledger/besu/issues/4746/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[

]
