{
  "url": "https://api.github.com/repos/hyperledger/besu/issues/2551",
  "repository_url": "https://api.github.com/repos/hyperledger/besu",
  "labels_url": "https://api.github.com/repos/hyperledger/besu/issues/2551/labels{/name}",
  "comments_url": "https://api.github.com/repos/hyperledger/besu/issues/2551/comments",
  "events_url": "https://api.github.com/repos/hyperledger/besu/issues/2551/events",
  "html_url": "https://github.com/hyperledger/besu/issues/2551",
  "id": 949064417,
  "node_id": "MDU6SXNzdWU5NDkwNjQ0MTc=",
  "number": 2551,
  "title": "Configure TransactionPool via ProtocolSchedule",
  "user": {
    "login": "garyschulte",
    "id": 1238512,
    "node_id": "MDQ6VXNlcjEyMzg1MTI=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1238512?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/garyschulte",
    "html_url": "https://github.com/garyschulte",
    "followers_url": "https://api.github.com/users/garyschulte/followers",
    "following_url": "https://api.github.com/users/garyschulte/following{/other_user}",
    "gists_url": "https://api.github.com/users/garyschulte/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/garyschulte/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/garyschulte/subscriptions",
    "organizations_url": "https://api.github.com/users/garyschulte/orgs",
    "repos_url": "https://api.github.com/users/garyschulte/repos",
    "events_url": "https://api.github.com/users/garyschulte/events{/privacy}",
    "received_events_url": "https://api.github.com/users/garyschulte/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 2129007612,
      "node_id": "MDU6TGFiZWwyMTI5MDA3NjEy",
      "url": "https://api.github.com/repos/hyperledger/besu/labels/dev%20experience",
      "name": "dev experience",
      "color": "2a0b89",
      "default": false,
      "description": "The build system, things that enable easier development etc."
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 5,
  "created_at": "2021-07-20T20:37:12Z",
  "updated_at": "2023-01-27T10:48:15Z",
  "closed_at": null,
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "We want to configure the transaction pool and applicable handlers (e.g. TransactionPoolReplacementHandler) via ProtocolSchedule.  \n\n",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/2551/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/hyperledger/besu/issues/2551/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/883698608",
    "html_url": "https://github.com/hyperledger/besu/issues/2551#issuecomment-883698608",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/2551",
    "id": 883698608,
    "node_id": "IC_kwDODE2jmc40rCuw",
    "user": {
      "login": "garyschulte",
      "id": 1238512,
      "node_id": "MDQ6VXNlcjEyMzg1MTI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1238512?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/garyschulte",
      "html_url": "https://github.com/garyschulte",
      "followers_url": "https://api.github.com/users/garyschulte/followers",
      "following_url": "https://api.github.com/users/garyschulte/following{/other_user}",
      "gists_url": "https://api.github.com/users/garyschulte/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/garyschulte/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/garyschulte/subscriptions",
      "organizations_url": "https://api.github.com/users/garyschulte/orgs",
      "repos_url": "https://api.github.com/users/garyschulte/repos",
      "events_url": "https://api.github.com/users/garyschulte/events{/privacy}",
      "received_events_url": "https://api.github.com/users/garyschulte/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-20T20:48:48Z",
    "updated_at": "2021-07-20T20:48:48Z",
    "author_association": "CONTRIBUTOR",
    "body": "The challenge is that TransactionPool and related classes are in ethereum.eth, and ProtocolSchedule is in ethereum.core.  Ethereum.eth has a dependency on core, and we need to avoid circular dependencies amongst submodules.\n\nOne way to solve this is to move TransactionPool related code into the core gradle subproject.  \n\nAnother option is to move ProtocolSchedule into a separate config submodule so we can have dependencies on other submodules.\n\nIMO having ProtocolSchedule in core is going to require that anything we want to instance or directly configure to be in core, since nearly every submodule has an upstream dependency on core. \n\n",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/883698608/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/883709131",
    "html_url": "https://github.com/hyperledger/besu/issues/2551#issuecomment-883709131",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/2551",
    "id": 883709131,
    "node_id": "IC_kwDODE2jmc40rFTL",
    "user": {
      "login": "jflo",
      "id": 345937,
      "node_id": "MDQ6VXNlcjM0NTkzNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/345937?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jflo",
      "html_url": "https://github.com/jflo",
      "followers_url": "https://api.github.com/users/jflo/followers",
      "following_url": "https://api.github.com/users/jflo/following{/other_user}",
      "gists_url": "https://api.github.com/users/jflo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jflo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jflo/subscriptions",
      "organizations_url": "https://api.github.com/users/jflo/orgs",
      "repos_url": "https://api.github.com/users/jflo/repos",
      "events_url": "https://api.github.com/users/jflo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jflo/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-20T21:07:37Z",
    "updated_at": "2021-07-20T21:07:37Z",
    "author_association": "CONTRIBUTOR",
    "body": "The difference between ethereum.core and ethereum.eth is unclear to me. Does anything other than ethereum.eth depend on core? I assume it does, and those things do not want to also depend on ethereum.eth. I think the real question to be answered is \"are these submodules useful on their own\"? Or phrased differently \"is it useful to track different versions of a given submodule\"?\n\nWrinkle: The transaction pool itself could house transactions that are in different protocol schedules. It is possible that the pool has no protocol version specific behaviors, but the operation of replacing transactions might in fact be version specific.\n\nOne of the common conditionals I saw a lot of while in there was differences in behavior for local vs. remote transactions. I guess we need to add transport mechanism to the list of factors that adjust our behavior.",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/883709131/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1404833043",
    "html_url": "https://github.com/hyperledger/besu/issues/2551#issuecomment-1404833043",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/2551",
    "id": 1404833043,
    "node_id": "IC_kwDODE2jmc5TvA0T",
    "user": {
      "login": "non-fungible-nelson",
      "id": 85905982,
      "node_id": "MDQ6VXNlcjg1OTA1OTgy",
      "avatar_url": "https://avatars.githubusercontent.com/u/85905982?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/non-fungible-nelson",
      "html_url": "https://github.com/non-fungible-nelson",
      "followers_url": "https://api.github.com/users/non-fungible-nelson/followers",
      "following_url": "https://api.github.com/users/non-fungible-nelson/following{/other_user}",
      "gists_url": "https://api.github.com/users/non-fungible-nelson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/non-fungible-nelson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/non-fungible-nelson/subscriptions",
      "organizations_url": "https://api.github.com/users/non-fungible-nelson/orgs",
      "repos_url": "https://api.github.com/users/non-fungible-nelson/repos",
      "events_url": "https://api.github.com/users/non-fungible-nelson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/non-fungible-nelson/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-01-26T10:48:12Z",
    "updated_at": "2023-01-26T10:48:12Z",
    "author_association": "CONTRIBUTOR",
    "body": "@fab-10 - any input here with new generation tx pool? Ok to close or a small refactor that would improve behavior? ",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1404833043/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1406173797",
    "html_url": "https://github.com/hyperledger/besu/issues/2551#issuecomment-1406173797",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/2551",
    "id": 1406173797,
    "node_id": "IC_kwDODE2jmc5T0IJl",
    "user": {
      "login": "fab-10",
      "id": 91944855,
      "node_id": "U_kgDOBXr3lw",
      "avatar_url": "https://avatars.githubusercontent.com/u/91944855?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fab-10",
      "html_url": "https://github.com/fab-10",
      "followers_url": "https://api.github.com/users/fab-10/followers",
      "following_url": "https://api.github.com/users/fab-10/following{/other_user}",
      "gists_url": "https://api.github.com/users/fab-10/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fab-10/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fab-10/subscriptions",
      "organizations_url": "https://api.github.com/users/fab-10/orgs",
      "repos_url": "https://api.github.com/users/fab-10/repos",
      "events_url": "https://api.github.com/users/fab-10/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fab-10/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-01-27T08:29:20Z",
    "updated_at": "2023-01-27T08:29:20Z",
    "author_association": "CONTRIBUTOR",
    "body": "Was not aware of this one, and the new tx pool does not change the behavior, but I need to know which is the need to have this.\r\n\r\n@garyschulte is the need for this described in this comment?\r\n```\r\n  // There's a small edge case here we could encounter.\r\n  // When we pass an upgrade block that has a new transaction type, we start allowing transactions\r\n  // of that new type into our pool.\r\n  // If we then reorg to a block lower than the upgrade block height _and_ we create a block, that\r\n  // block could end up with transactions of the new type.\r\n  // This seems like it would be very rare but worth it to document that we don't handle that case\r\n  // right now.\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1406173797/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1406329207",
    "html_url": "https://github.com/hyperledger/besu/issues/2551#issuecomment-1406329207",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/2551",
    "id": 1406329207,
    "node_id": "IC_kwDODE2jmc5T0uF3",
    "user": {
      "login": "garyschulte",
      "id": 1238512,
      "node_id": "MDQ6VXNlcjEyMzg1MTI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1238512?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/garyschulte",
      "html_url": "https://github.com/garyschulte",
      "followers_url": "https://api.github.com/users/garyschulte/followers",
      "following_url": "https://api.github.com/users/garyschulte/following{/other_user}",
      "gists_url": "https://api.github.com/users/garyschulte/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/garyschulte/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/garyschulte/subscriptions",
      "organizations_url": "https://api.github.com/users/garyschulte/orgs",
      "repos_url": "https://api.github.com/users/garyschulte/repos",
      "events_url": "https://api.github.com/users/garyschulte/events{/privacy}",
      "received_events_url": "https://api.github.com/users/garyschulte/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-01-27T10:48:15Z",
    "updated_at": "2023-01-27T10:48:15Z",
    "author_association": "CONTRIBUTOR",
    "body": "> Was not aware of this one, and the new tx pool does not change the behavior, but I need to know which is the need to have this.\n> \n> @garyschulte is the need for this described in this comment?\n> ```\n>   // There's a small edge case here we could encounter.\n>   // When we pass an upgrade block ... \n> ```\n\nYes.  IIRC the intent was to modularize/configure the transaction pool rather than having a monolithic implementation.  \n\nA txpool that changes with protocol schedule is a bigger ask however.  We could more easily have configurable transaction pools which are monolithic across protocol schedulesl changes, but configured per chain rather than per protocolspec.\n\nIMO this issue is of dubious value presently",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1406329207/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
