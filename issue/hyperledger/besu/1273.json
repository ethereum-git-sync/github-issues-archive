{
  "url": "https://api.github.com/repos/hyperledger/besu/issues/1273",
  "repository_url": "https://api.github.com/repos/hyperledger/besu",
  "labels_url": "https://api.github.com/repos/hyperledger/besu/issues/1273/labels{/name}",
  "comments_url": "https://api.github.com/repos/hyperledger/besu/issues/1273/comments",
  "events_url": "https://api.github.com/repos/hyperledger/besu/issues/1273/events",
  "html_url": "https://github.com/hyperledger/besu/issues/1273",
  "id": 671550961,
  "node_id": "MDU6SXNzdWU2NzE1NTA5NjE=",
  "number": 1273,
  "title": "Expose the revert reason in the GraphQL receipt",
  "user": {
    "login": "roderik",
    "id": 16780,
    "node_id": "MDQ6VXNlcjE2Nzgw",
    "avatar_url": "https://avatars.githubusercontent.com/u/16780?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/roderik",
    "html_url": "https://github.com/roderik",
    "followers_url": "https://api.github.com/users/roderik/followers",
    "following_url": "https://api.github.com/users/roderik/following{/other_user}",
    "gists_url": "https://api.github.com/users/roderik/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/roderik/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/roderik/subscriptions",
    "organizations_url": "https://api.github.com/users/roderik/orgs",
    "repos_url": "https://api.github.com/users/roderik/repos",
    "events_url": "https://api.github.com/users/roderik/events{/privacy}",
    "received_events_url": "https://api.github.com/users/roderik/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 1537362498,
      "node_id": "MDU6TGFiZWwxNTM3MzYyNDk4",
      "url": "https://api.github.com/repos/hyperledger/besu/labels/help%20wanted",
      "name": "help wanted",
      "color": "008672",
      "default": true,
      "description": "Extra attention is needed"
    },
    {
      "id": 1537362500,
      "node_id": "MDU6TGFiZWwxNTM3MzYyNTAw",
      "url": "https://api.github.com/repos/hyperledger/besu/labels/good%20first%20issue",
      "name": "good first issue",
      "color": "7057ff",
      "default": true,
      "description": "Good for newcomers"
    },
    {
      "id": 2129007612,
      "node_id": "MDU6TGFiZWwyMTI5MDA3NjEy",
      "url": "https://api.github.com/repos/hyperledger/besu/labels/dev%20experience",
      "name": "dev experience",
      "color": "2a0b89",
      "default": false,
      "description": "The build system, things that enable easier development etc."
    },
    {
      "id": 4164098293,
      "node_id": "LA_kwDODE2jmc74Mxj1",
      "url": "https://api.github.com/repos/hyperledger/besu/labels/icebox",
      "name": "icebox",
      "color": "1D76DB",
      "default": false,
      "description": "items that need more consideration, time, or can wait"
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 4,
  "created_at": "2020-08-02T05:56:29Z",
  "updated_at": "2022-05-24T16:57:50Z",
  "closed_at": null,
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "### Description\r\n\r\nRevert reasons can be exposed via the JSON RPC interface according to https://besu.hyperledger.org/en/stable/HowTo/Send-Transactions/Revert-Reason/\r\n\r\nBut they are not exposed int he GraphQL interface\r\n\r\n### Acceptance Criteria\r\n* Expose the revert reason in the schema when Besu is started with the parameter.\r\n",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/1273/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/hyperledger/besu/issues/1273/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/932550112",
    "html_url": "https://github.com/hyperledger/besu/issues/1273#issuecomment-932550112",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/1273",
    "id": 932550112,
    "node_id": "IC_kwDODE2jmc43lZXg",
    "user": {
      "login": "catcs",
      "id": 39583555,
      "node_id": "MDQ6VXNlcjM5NTgzNTU1",
      "avatar_url": "https://avatars.githubusercontent.com/u/39583555?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/catcs",
      "html_url": "https://github.com/catcs",
      "followers_url": "https://api.github.com/users/catcs/followers",
      "following_url": "https://api.github.com/users/catcs/following{/other_user}",
      "gists_url": "https://api.github.com/users/catcs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/catcs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/catcs/subscriptions",
      "organizations_url": "https://api.github.com/users/catcs/orgs",
      "repos_url": "https://api.github.com/users/catcs/repos",
      "events_url": "https://api.github.com/users/catcs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/catcs/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-10-01T20:57:50Z",
    "updated_at": "2021-10-01T20:57:50Z",
    "author_association": "CONTRIBUTOR",
    "body": "Taking a look! ðŸ‘€ ",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/932550112/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/932597196",
    "html_url": "https://github.com/hyperledger/besu/issues/1273#issuecomment-932597196",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/1273",
    "id": 932597196,
    "node_id": "IC_kwDODE2jmc43lk3M",
    "user": {
      "login": "catcs",
      "id": 39583555,
      "node_id": "MDQ6VXNlcjM5NTgzNTU1",
      "avatar_url": "https://avatars.githubusercontent.com/u/39583555?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/catcs",
      "html_url": "https://github.com/catcs",
      "followers_url": "https://api.github.com/users/catcs/followers",
      "following_url": "https://api.github.com/users/catcs/following{/other_user}",
      "gists_url": "https://api.github.com/users/catcs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/catcs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/catcs/subscriptions",
      "organizations_url": "https://api.github.com/users/catcs/orgs",
      "repos_url": "https://api.github.com/users/catcs/repos",
      "events_url": "https://api.github.com/users/catcs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/catcs/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-10-01T21:50:56Z",
    "updated_at": "2021-10-01T21:50:56Z",
    "author_association": "CONTRIBUTOR",
    "body": "The jsonrpc API flow makes the revert reason very clear in the response definition (for example, see `org.hyperledger.besu.ethereum.api.jsonrpc.internal.results.TransactionReceiptResult` for the `eth_getTransactionReceipt` API function). The GraphQL API is fundamentally structured differently since GraphQL is more like a query language specification for APIs. It doesn't return a transaction receipt as such, but the GraphQL schema does define a `Transaction` (see `ethereum.api.src.main.resources.schema.graphqls`). The `Transaction` type includes a field for `status`, which will return `0` if a transaction failed (for example if it was reverted). That might be the best place to return the revert reason (more specifically, `org.hyperledger.besu.ethereum.api.graphql.internal.pojoadapter.TransactionAdapter.getStatus`). But since the revert reason is supposed to be an optional return value, I'm not sure the best way to configure that to be optional in the GraphQL API.\r\n\r\nIf someone with some more GraphQL experience has any ideas here let me know! Unassigning this issue from me for now in case someone else knows a solution.",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/932597196/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/932597813",
    "html_url": "https://github.com/hyperledger/besu/issues/1273#issuecomment-932597813",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/1273",
    "id": 932597813,
    "node_id": "IC_kwDODE2jmc43llA1",
    "user": {
      "login": "catcs",
      "id": 39583555,
      "node_id": "MDQ6VXNlcjM5NTgzNTU1",
      "avatar_url": "https://avatars.githubusercontent.com/u/39583555?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/catcs",
      "html_url": "https://github.com/catcs",
      "followers_url": "https://api.github.com/users/catcs/followers",
      "following_url": "https://api.github.com/users/catcs/following{/other_user}",
      "gists_url": "https://api.github.com/users/catcs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/catcs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/catcs/subscriptions",
      "organizations_url": "https://api.github.com/users/catcs/orgs",
      "repos_url": "https://api.github.com/users/catcs/repos",
      "events_url": "https://api.github.com/users/catcs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/catcs/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-10-01T21:52:18Z",
    "updated_at": "2021-10-01T21:52:18Z",
    "author_association": "CONTRIBUTOR",
    "body": "This merged PR might also be helpful: https://github.com/hyperledger/besu/pull/2490/files",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/932597813/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/973647021",
    "html_url": "https://github.com/hyperledger/besu/issues/1273#issuecomment-973647021",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/1273",
    "id": 973647021,
    "node_id": "IC_kwDODE2jmc46CKyt",
    "user": {
      "login": "macfarla",
      "id": 2627919,
      "node_id": "MDQ6VXNlcjI2Mjc5MTk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2627919?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/macfarla",
      "html_url": "https://github.com/macfarla",
      "followers_url": "https://api.github.com/users/macfarla/followers",
      "following_url": "https://api.github.com/users/macfarla/following{/other_user}",
      "gists_url": "https://api.github.com/users/macfarla/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/macfarla/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/macfarla/subscriptions",
      "organizations_url": "https://api.github.com/users/macfarla/orgs",
      "repos_url": "https://api.github.com/users/macfarla/repos",
      "events_url": "https://api.github.com/users/macfarla/events{/privacy}",
      "received_events_url": "https://api.github.com/users/macfarla/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-11-19T01:34:12Z",
    "updated_at": "2021-11-19T01:34:12Z",
    "author_association": "CONTRIBUTOR",
    "body": "@irenejoeunpark how about this one to start with? ",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/973647021/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
