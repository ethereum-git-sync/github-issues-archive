{
  "url": "https://api.github.com/repos/hyperledger/besu/issues/3971",
  "repository_url": "https://api.github.com/repos/hyperledger/besu",
  "labels_url": "https://api.github.com/repos/hyperledger/besu/issues/3971/labels{/name}",
  "comments_url": "https://api.github.com/repos/hyperledger/besu/issues/3971/comments",
  "events_url": "https://api.github.com/repos/hyperledger/besu/issues/3971/events",
  "html_url": "https://github.com/hyperledger/besu/issues/3971",
  "id": 1273033831,
  "node_id": "I_kwDODE2jmc5L4PRn",
  "number": 3971,
  "title": "How does a Besu validator exactly select transactions from txpool to generate a block?",
  "user": {
    "login": "CaixiangFan",
    "id": 26910280,
    "node_id": "MDQ6VXNlcjI2OTEwMjgw",
    "avatar_url": "https://avatars.githubusercontent.com/u/26910280?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/CaixiangFan",
    "html_url": "https://github.com/CaixiangFan",
    "followers_url": "https://api.github.com/users/CaixiangFan/followers",
    "following_url": "https://api.github.com/users/CaixiangFan/following{/other_user}",
    "gists_url": "https://api.github.com/users/CaixiangFan/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/CaixiangFan/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/CaixiangFan/subscriptions",
    "organizations_url": "https://api.github.com/users/CaixiangFan/orgs",
    "repos_url": "https://api.github.com/users/CaixiangFan/repos",
    "events_url": "https://api.github.com/users/CaixiangFan/events{/privacy}",
    "received_events_url": "https://api.github.com/users/CaixiangFan/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 1537362490,
      "node_id": "MDU6TGFiZWwxNTM3MzYyNDkw",
      "url": "https://api.github.com/repos/hyperledger/besu/labels/bug",
      "name": "bug",
      "color": "d73a4a",
      "default": true,
      "description": "Something isn't working"
    },
    {
      "id": 1537362491,
      "node_id": "MDU6TGFiZWwxNTM3MzYyNDkx",
      "url": "https://api.github.com/repos/hyperledger/besu/labels/documentation",
      "name": "documentation",
      "color": "0075ca",
      "default": true,
      "description": "Improvements or additions to documentation"
    },
    {
      "id": 1740324632,
      "node_id": "MDU6TGFiZWwxNzQwMzI0NjMy",
      "url": "https://api.github.com/repos/hyperledger/besu/labels/privacy",
      "name": "privacy",
      "color": "d7f99a",
      "default": false,
      "description": "private transactions"
    },
    {
      "id": 1921587647,
      "node_id": "MDU6TGFiZWwxOTIxNTg3NjQ3",
      "url": "https://api.github.com/repos/hyperledger/besu/labels/TeamGroot",
      "name": "TeamGroot",
      "color": "1d76db",
      "default": false,
      "description": "GH issues worked on by Groot Team"
    },
    {
      "id": 3805580086,
      "node_id": "LA_kwDODE2jmc7i1Is2",
      "url": "https://api.github.com/repos/hyperledger/besu/labels/question",
      "name": "question",
      "color": "bfd4f2",
      "default": true,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": {
    "login": "gfukushima",
    "id": 25556862,
    "node_id": "MDQ6VXNlcjI1NTU2ODYy",
    "avatar_url": "https://avatars.githubusercontent.com/u/25556862?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/gfukushima",
    "html_url": "https://github.com/gfukushima",
    "followers_url": "https://api.github.com/users/gfukushima/followers",
    "following_url": "https://api.github.com/users/gfukushima/following{/other_user}",
    "gists_url": "https://api.github.com/users/gfukushima/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/gfukushima/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/gfukushima/subscriptions",
    "organizations_url": "https://api.github.com/users/gfukushima/orgs",
    "repos_url": "https://api.github.com/users/gfukushima/repos",
    "events_url": "https://api.github.com/users/gfukushima/events{/privacy}",
    "received_events_url": "https://api.github.com/users/gfukushima/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "gfukushima",
      "id": 25556862,
      "node_id": "MDQ6VXNlcjI1NTU2ODYy",
      "avatar_url": "https://avatars.githubusercontent.com/u/25556862?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gfukushima",
      "html_url": "https://github.com/gfukushima",
      "followers_url": "https://api.github.com/users/gfukushima/followers",
      "following_url": "https://api.github.com/users/gfukushima/following{/other_user}",
      "gists_url": "https://api.github.com/users/gfukushima/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gfukushima/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gfukushima/subscriptions",
      "organizations_url": "https://api.github.com/users/gfukushima/orgs",
      "repos_url": "https://api.github.com/users/gfukushima/repos",
      "events_url": "https://api.github.com/users/gfukushima/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gfukushima/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 8,
  "created_at": "2022-06-16T04:27:32Z",
  "updated_at": "2023-05-25T03:38:23Z",
  "closed_at": "2023-01-05T02:26:05Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "<!-- Have you done the following? -->\r\n<!--   * read the Code of Conduct? By filing an Issue, you are expected to -->  \r\n<!--     comply with it, including treating everyone with respect: -->\r\n<!--     https://github.com/hyperledger/besu/blob/main/CODE_OF_CONDUCT.md -->\r\n<!--   * Reproduced the issue in the latest version of the software -->\r\n<!--   * Read the debugging docs: https://besu.hyperledger.org/en/stable/HowTo/Monitor/Logging/ -->\r\n<!--   * Duplicate Issue check:  https://github.com/search?q=+is%3Aissue+repo%3Ahyperledger/Besu -->\r\n<!-- Note:  Not all sections will apply to all issue types. -->\r\n\r\n### Description\r\nI am researching the performance of Besu with PoA consensus. I created a free gas private network and set the block gas limit to the max. Expected all submitted txs to be selected and wrapped into a block under a moderate tx load. But, from the logs, I found that Besu proposer didn't selected as many txs as expected. \r\n\r\n### Acceptance Criteria\r\n* Under low tx rate (tx/s), all txs in the pool should be selected.\r\n* Under high tx rate (tx/s), Besu should include as many txs as possible into the next block.\r\n\r\n### Steps to Reproduce (Bug)\r\n1. Create a 4-node (validator) private QBFT Besu network on cloud with min-gas-price=0 and block gas limit to \"0x1fffffffffffff\".\r\n2. Use Nginx to connect to 4 validators for load balancing.\r\n3. Use Caliper to benchmark Besu with varying TPS (100 to 1000).\r\n4. Collect DEBUG logs for all benchmarks.\r\n\r\n**Expected behavior:** [What you expect to happen]\r\nUnder low workload, e.g., 100TPS, Besu validator includes all txs in pool into the next block.\r\n\r\n**Actual behavior:** [What actually happens]\r\nThere are many transactions left pending and the number of txs in a block is not always the same as the number of txs submitted.\r\n\r\n**Frequency:** [What percentage of the time does it occur?]\r\nAlways\r\n\r\n### Versions (Add all that apply)\r\n* Software version: [`besu --version`] v22.4\r\n* OS Name & Version: [`cat /etc/*release`] Ubuntu 20.04\r\n* Kernel Version: [`uname -a`] Linux cc 5.4.0-107-generic \r\n* Docker Version: [`docker version`] 20.10.14\r\n* Cloud VM, type, size: [Amazon Web Services I3-large] Openstack, 2vCPU, 7.5GB RAM, 36GB HDD\r\n* Benchamrking senario: Simple contract (Open, Query, Transfer)\r\n* Have you reproduced the issue on other eth clients: NO\r\n\r\n### Additional Information (Add any of the following or anything else that may be relevant)\r\n* Besu setup info - genesis file, config options\r\nibftConfigFile-template.json file:\r\n\r\n```\r\n{\r\n    \"genesis\": {\r\n      \"config\": {\r\n         \"chainId\": 1337,\r\n         \"muirglacierblock\": 0,\r\n         \"qbft\": {\r\n           \"blockperiodseconds\": 1,\r\n           \"epochlength\": 30000,\r\n           \"requesttimeoutseconds\": 2\r\n         }\r\n       },\r\n       \"nonce\": \"0x0\",\r\n       \"timestamp\": \"0x58ee40ba\",\r\n       \"gasLimit\": \"0x1fffffffffffff\",\r\n       \"contractSizeLimit\": 2147483647,\r\n       \"difficulty\": \"0x1\",\r\n       \"mixHash\": \"0x63746963616c2062797a616e74696e65206661756c7420746f6c6572616e6365\",\r\n       \"coinbase\": \"0x0000000000000000000000000000000000000000\",\r\n       \"alloc\": {\r\n          \"fe3b557e8fb62b89f4916b721be55ceb828dbd73\": {\r\n             \"privateKey\": \"8f2a55949038a9610f50fb23b5883af3b4ecb3c3bb792cbcefbd1542c692be63\",\r\n             \"comment\": \"private key and this comment are ignored.  In a real chain, the private key should NOT be stored\",\r\n             \"balance\": \"10000000000000000000000\"\r\n          },\r\n          \"627306090abaB3A6e1400e9345bC60c78a8BEf57\": {\r\n            \"privateKey\": \"c87509a1c067bbde78beb793e6fa76530b6382a4c0241e5e4a9ec0a0f44dc0d3\",\r\n            \"comment\": \"private key and this comment are ignored.  In a real chain, the private key should NOT be stored\",\r\n            \"balance\": \"20000000000000000000000\"\r\n         }\r\n    },\r\n    \"blockchain\": {\r\n      \"nodes\": {\r\n        \"generate\": true,\r\n          \"count\": 4\r\n      }\r\n    }\r\n   }\r\n   ```\r\n\r\n* logs\r\n```\r\n2022-04-13 03:40:11.365+00:00 | EthScheduler-Workers-3 | INFO  | PersistBlockTask | Imported #9,843 / 100 tx / 0 om / 4,179,560 (0.0%) gas / (0xb899ac56726babf18cd4609139391eae405f4cd44fbc03dbb06c645beb6a28f9) in 0.051s. Peers: 3\r\n2022-04-13 03:40:11.367+00:00 | BftProcessorExecutor-QBFT-0 | INFO  | QbftBesuControllerBuilder | Imported #9,843 / 100 tx / 35 pending / 4,179,560 (0.0%) gas / (0xb899ac56726babf18cd4609139391eae405f4cd44fbc03dbb06c645beb6a28f9)\r\n2022-04-13 03:40:11.367+00:00 | vert.x-worker-thread-7 | DEBUG | WebSocketRequestHandler | WS-RPC request -> eth_getTransactionReceipt\r\n....\r\n2022-04-13 03:40:15.215+00:00 | BftProcessorExecutor-QBFT-0 | INFO  | QbftBesuControllerBuilder | Imported #9,847 / 97 tx / 21 pending / 4,052,747 (0.0%) gas / (0xfd5d424df386fe1e800d86c2db005ea00eda4b56b2703d1ae6f64ea754050d76)\r\n...\r\n2022-04-13 03:40:57.224+00:00 | BftProcessorExecutor-QBFT-0 | INFO  | QbftBesuControllerBuilder | Produced #9,889 / 100 tx / 20 pending / 3,516,520 (0.0%) gas / (0x9570fc0548d2bb85ef2fc4077213a88d590bddd1e34cbb64bf21f1b021649ad0)\r\n2022-04-13 03:40:57.224+00:00 | EthScheduler-Workers-1 | INFO  | PersistBlockTask | Imported #9,889 / 100 tx / 0 om / 3,516,520 (0.0%) gas / (0x9570fc0548d2bb85ef2fc4077213a88d590bddd1e34cbb64bf21f1b021649ad0) in 0.020s. Peers: 3\r\n```\r\n\r\nAny docs or codebase references on how exactly a validator selects txs from local txpool are appreciated.\r\nThank you.",
  "closed_by": {
    "login": "gfukushima",
    "id": 25556862,
    "node_id": "MDQ6VXNlcjI1NTU2ODYy",
    "avatar_url": "https://avatars.githubusercontent.com/u/25556862?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/gfukushima",
    "html_url": "https://github.com/gfukushima",
    "followers_url": "https://api.github.com/users/gfukushima/followers",
    "following_url": "https://api.github.com/users/gfukushima/following{/other_user}",
    "gists_url": "https://api.github.com/users/gfukushima/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/gfukushima/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/gfukushima/subscriptions",
    "organizations_url": "https://api.github.com/users/gfukushima/orgs",
    "repos_url": "https://api.github.com/users/gfukushima/repos",
    "events_url": "https://api.github.com/users/gfukushima/events{/privacy}",
    "received_events_url": "https://api.github.com/users/gfukushima/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/3971/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/hyperledger/besu/issues/3971/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1175293098",
    "html_url": "https://github.com/hyperledger/besu/issues/3971#issuecomment-1175293098",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/3971",
    "id": 1175293098,
    "node_id": "IC_kwDODE2jmc5GDYyq",
    "user": {
      "login": "matkt",
      "id": 26581503,
      "node_id": "MDQ6VXNlcjI2NTgxNTAz",
      "avatar_url": "https://avatars.githubusercontent.com/u/26581503?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/matkt",
      "html_url": "https://github.com/matkt",
      "followers_url": "https://api.github.com/users/matkt/followers",
      "following_url": "https://api.github.com/users/matkt/following{/other_user}",
      "gists_url": "https://api.github.com/users/matkt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/matkt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/matkt/subscriptions",
      "organizations_url": "https://api.github.com/users/matkt/orgs",
      "repos_url": "https://api.github.com/users/matkt/repos",
      "events_url": "https://api.github.com/users/matkt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/matkt/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-07-05T16:58:23Z",
    "updated_at": "2022-07-05T16:58:23Z",
    "author_association": "CONTRIBUTOR",
    "body": "@NicolasMassart ",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1175293098/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1176083316",
    "html_url": "https://github.com/hyperledger/besu/issues/3971#issuecomment-1176083316",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/3971",
    "id": 1176083316,
    "node_id": "IC_kwDODE2jmc5GGZt0",
    "user": {
      "login": "NicolasMassart",
      "id": 4677568,
      "node_id": "MDQ6VXNlcjQ2Nzc1Njg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4677568?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/NicolasMassart",
      "html_url": "https://github.com/NicolasMassart",
      "followers_url": "https://api.github.com/users/NicolasMassart/followers",
      "following_url": "https://api.github.com/users/NicolasMassart/following{/other_user}",
      "gists_url": "https://api.github.com/users/NicolasMassart/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/NicolasMassart/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/NicolasMassart/subscriptions",
      "organizations_url": "https://api.github.com/users/NicolasMassart/orgs",
      "repos_url": "https://api.github.com/users/NicolasMassart/repos",
      "events_url": "https://api.github.com/users/NicolasMassart/events{/privacy}",
      "received_events_url": "https://api.github.com/users/NicolasMassart/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-07-06T10:59:09Z",
    "updated_at": "2022-07-06T10:59:09Z",
    "author_association": "CONTRIBUTOR",
    "body": "Validator selects tx that have a fees over the minimum. So as you set zero, all tx should match that.\r\nThen it fills the block up to the max block size, here 0x1fffffffffffff, so it probably depends on the amount of transactions.\r\nCan you tell us more about the cumulated fees for all the txs in the pool?",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1176083316/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1176381138",
    "html_url": "https://github.com/hyperledger/besu/issues/3971#issuecomment-1176381138",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/3971",
    "id": 1176381138,
    "node_id": "IC_kwDODE2jmc5GHibS",
    "user": {
      "login": "CaixiangFan",
      "id": 26910280,
      "node_id": "MDQ6VXNlcjI2OTEwMjgw",
      "avatar_url": "https://avatars.githubusercontent.com/u/26910280?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/CaixiangFan",
      "html_url": "https://github.com/CaixiangFan",
      "followers_url": "https://api.github.com/users/CaixiangFan/followers",
      "following_url": "https://api.github.com/users/CaixiangFan/following{/other_user}",
      "gists_url": "https://api.github.com/users/CaixiangFan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/CaixiangFan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/CaixiangFan/subscriptions",
      "organizations_url": "https://api.github.com/users/CaixiangFan/orgs",
      "repos_url": "https://api.github.com/users/CaixiangFan/repos",
      "events_url": "https://api.github.com/users/CaixiangFan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/CaixiangFan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-07-06T15:44:17Z",
    "updated_at": "2022-07-06T15:44:17Z",
    "author_association": "NONE",
    "body": "@NicolasMassart Hi, I set up a free gas network, so there should be no gas fees in the pool. As you mentioned, validator should select all txs in the pool until the number reaches the max gas limit (0x1fffffffffffff). I kept the transaction pool queue size to the default 4096, which was big enough to prevent any tx discarding. So, I expect all txs in the pool to be included in the next block. But, logs tell a different story. Validator left some txs pending in both low (100tx/s) and high (1,000tx/s)  tx load, as shown below.\r\n```\r\n2022-04-13 03:36:28.970+00:00 | EthScheduler-Workers-1 | INFO  | PersistBlockTask | Imported #9,635 / 702 tx / 0 om / 24,728,094 (0.0%) gas / (0xfa8624f7017ea99454936348a8b72e5bda968ac0d2dce7a9a525039c5658caa3) in 0.122s. Peers: 3\r\n2022-04-13 03:36:28.971+00:00 | BftProcessorExecutor-QBFT-0 | INFO  | QbftBesuControllerBuilder | Imported #9,635 / 702 tx / 298 pending / 24,728,094 (0.0%) gas / (0xfa8624f7017ea99454936348a8b72e5bda968ac0d2dce7a9a525039c5658caa3)\r\n```\r\nAny suggestions on how to explain this phenomenon?",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1176381138/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1336637110",
    "html_url": "https://github.com/hyperledger/besu/issues/3971#issuecomment-1336637110",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/3971",
    "id": 1336637110,
    "node_id": "IC_kwDODE2jmc5Pq3a2",
    "user": {
      "login": "gfukushima",
      "id": 25556862,
      "node_id": "MDQ6VXNlcjI1NTU2ODYy",
      "avatar_url": "https://avatars.githubusercontent.com/u/25556862?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gfukushima",
      "html_url": "https://github.com/gfukushima",
      "followers_url": "https://api.github.com/users/gfukushima/followers",
      "following_url": "https://api.github.com/users/gfukushima/following{/other_user}",
      "gists_url": "https://api.github.com/users/gfukushima/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gfukushima/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gfukushima/subscriptions",
      "organizations_url": "https://api.github.com/users/gfukushima/orgs",
      "repos_url": "https://api.github.com/users/gfukushima/repos",
      "events_url": "https://api.github.com/users/gfukushima/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gfukushima/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-12-05T02:14:03Z",
    "updated_at": "2022-12-05T02:14:03Z",
    "author_association": "CONTRIBUTOR",
    "body": "Hi @CaixiangFan, it's been a while since the last interaction in this issue.\r\nHave you been able to test this scenario with a more recent version of Besu? We've had some improvements on the transaction pool.\r\nWould you please let us know if this still requires further investigation?",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1336637110/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1371690672",
    "html_url": "https://github.com/hyperledger/besu/issues/3971#issuecomment-1371690672",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/3971",
    "id": 1371690672,
    "node_id": "IC_kwDODE2jmc5Rwlaw",
    "user": {
      "login": "gfukushima",
      "id": 25556862,
      "node_id": "MDQ6VXNlcjI1NTU2ODYy",
      "avatar_url": "https://avatars.githubusercontent.com/u/25556862?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gfukushima",
      "html_url": "https://github.com/gfukushima",
      "followers_url": "https://api.github.com/users/gfukushima/followers",
      "following_url": "https://api.github.com/users/gfukushima/following{/other_user}",
      "gists_url": "https://api.github.com/users/gfukushima/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gfukushima/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gfukushima/subscriptions",
      "organizations_url": "https://api.github.com/users/gfukushima/orgs",
      "repos_url": "https://api.github.com/users/gfukushima/repos",
      "events_url": "https://api.github.com/users/gfukushima/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gfukushima/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-01-05T02:26:05Z",
    "updated_at": "2023-01-05T02:26:05Z",
    "author_association": "CONTRIBUTOR",
    "body": "Closing due to inactivity. Feel free to reopen the issue if necessary.\n\n",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1371690672/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1562188164",
    "html_url": "https://github.com/hyperledger/besu/issues/3971#issuecomment-1562188164",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/3971",
    "id": 1562188164,
    "node_id": "IC_kwDODE2jmc5dHRmE",
    "user": {
      "login": "chenqping",
      "id": 5651810,
      "node_id": "MDQ6VXNlcjU2NTE4MTA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5651810?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chenqping",
      "html_url": "https://github.com/chenqping",
      "followers_url": "https://api.github.com/users/chenqping/followers",
      "following_url": "https://api.github.com/users/chenqping/following{/other_user}",
      "gists_url": "https://api.github.com/users/chenqping/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chenqping/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chenqping/subscriptions",
      "organizations_url": "https://api.github.com/users/chenqping/orgs",
      "repos_url": "https://api.github.com/users/chenqping/repos",
      "events_url": "https://api.github.com/users/chenqping/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chenqping/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-05-25T02:59:18Z",
    "updated_at": "2023-05-25T03:03:00Z",
    "author_association": "NONE",
    "body": "I seem to run into the same issue in 23.1.3 version\r\n```\r\n| INFO  | QbftBesuControllerBuilder | Produced #89 / 0 tx / 2 pending / 0 (0.0%) gas / (0x67119faf511857e1010a5c5f40ece171886b231094dda0890fcceb89ee10fc48)\r\n```\r\n```\r\n| INFO  | QbftBesuControllerBuilder | Produced #90 / 0 tx / 2 pending / 0 (0.0%) gas / (0x3a91f84316c2573472e421b7ae04f744827c7b8f40990389101d40e018e68bf6)\r\n```\r\n```\r\n| INFO  | QbftBesuControllerBuilder | Produced #91 / 0 tx / 2 pending / 0 (0.0%) gas / (0x89776779789ad736c05852355a6b714c9c4b9f2aae9ebcd38cd117751ea366a3)\r\n```\r\nthe two pending transafer transactions from the same account as following\r\n```\r\n    \"result\": {\r\n        \"blockHash\": null,\r\n        \"blockNumber\": null,\r\n        \"from\": \"0xfe3b557e8fb62b89f4916b721be55ceb828dbd73\",\r\n        \"gas\": \"0x5208\",\r\n        \"gasPrice\": \"0x44c\",\r\n        \"hash\": \"0x09f7b2ccbe8d8ce64f4a06c6d3db7fb26cc647f4c8466d98600dc815376671f2\",\r\n        \"input\": \"0x\",\r\n        \"nonce\": \"0x1\",\r\n        \"to\": \"0xfe3b557e8fb62b89f4916b721be55ceb828dbd73\",\r\n        \"transactionIndex\": null,\r\n        \"value\": \"0x0\",\r\n        \"v\": \"0xa95\",\r\n        \"r\": \"0x8eabd5e6b7cbb26e96234426e4d0f8162dbdac5c6332fa8a3189bbcf205ca24a\",\r\n        \"s\": \"0x701d8e759c78d6114328ca937b026c7743ecaec823c0e21f02b665e520b75423\",\r\n        \"chainId\": \"0x539\",\r\n        \"publicKey\": \"0x09b02f8a5fddd222ade4ea4528faefc399623af3f736be3c44f03e2df22fb792f3931a4d9573d333ca74343305762a753388c3422a86d98b713fc91c1ea04842\",\r\n        \"raw\": \"0xf8630182044c82520894fe3b557e8fb62b89f4916b721be55ceb828dbd738080820a95a08eabd5e6b7cbb26e96234426e4d0f8162dbdac5c6332fa8a3189bbcf205ca24aa0701d8e759c78d6114328ca937b026c7743ecaec823c0e21f02b665e520b75423\",\r\n        \"type\": \"0x0\"\r\n    }\r\n```\r\n```\r\n        \"blockHash\": null,\r\n        \"blockNumber\": null,\r\n        \"from\": \"0xfe3b557e8fb62b89f4916b721be55ceb828dbd73\",\r\n        \"gas\": \"0x5208\",\r\n        \"gasPrice\": \"0x3e8\",\r\n        \"hash\": \"0x3d5bd158372f80a48252b22847f34f74fbc8c586b42d5b846ef371217a140bf8\",\r\n        \"input\": \"0x\",\r\n        \"nonce\": \"0x2\",\r\n        \"to\": \"0x7028fca215e4970933fd64f066462f7498c14014\",\r\n        \"transactionIndex\": null,\r\n        \"value\": \"0x8ac7230489e80000\",\r\n        \"v\": \"0xa95\",\r\n        \"r\": \"0xcb6c78bf1c2246ee8c844b98347f84edbea3151361b77125dbfc88dba213b930\",\r\n        \"s\": \"0x1622e21862d8e2382bb2cccfbbe4e27b1872551c872cebd3bce437d2d54768d0\",\r\n        \"chainId\": \"0x539\",\r\n        \"publicKey\": \"0x09b02f8a5fddd222ade4ea4528faefc399623af3f736be3c44f03e2df22fb792f3931a4d9573d333ca74343305762a753388c3422a86d98b713fc91c1ea04842\",\r\n        \"raw\": \"0xf86b028203e8825208947028fca215e4970933fd64f066462f7498c14014888ac7230489e8000080820a95a0cb6c78bf1c2246ee8c844b98347f84edbea3151361b77125dbfc88dba213b930a01622e21862d8e2382bb2cccfbbe4e27b1872551c872cebd3bce437d2d54768d0\",\r\n        \"type\": \"0x0\"\r\n```\r\nanyone can explain this?",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1562188164/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1562194908",
    "html_url": "https://github.com/hyperledger/besu/issues/3971#issuecomment-1562194908",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/3971",
    "id": 1562194908,
    "node_id": "IC_kwDODE2jmc5dHTPc",
    "user": {
      "login": "chenqping",
      "id": 5651810,
      "node_id": "MDQ6VXNlcjU2NTE4MTA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5651810?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chenqping",
      "html_url": "https://github.com/chenqping",
      "followers_url": "https://api.github.com/users/chenqping/followers",
      "following_url": "https://api.github.com/users/chenqping/following{/other_user}",
      "gists_url": "https://api.github.com/users/chenqping/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chenqping/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chenqping/subscriptions",
      "organizations_url": "https://api.github.com/users/chenqping/orgs",
      "repos_url": "https://api.github.com/users/chenqping/repos",
      "events_url": "https://api.github.com/users/chenqping/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chenqping/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-05-25T03:08:43Z",
    "updated_at": "2023-05-25T03:08:59Z",
    "author_association": "NONE",
    "body": "@CaixiangFan hi you met any issues benchmarking with caliper? I always ran into nonce too high problem even sending not too high tps",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1562194908/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1562210157",
    "html_url": "https://github.com/hyperledger/besu/issues/3971#issuecomment-1562210157",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/3971",
    "id": 1562210157,
    "node_id": "IC_kwDODE2jmc5dHW9t",
    "user": {
      "login": "CaixiangFan",
      "id": 26910280,
      "node_id": "MDQ6VXNlcjI2OTEwMjgw",
      "avatar_url": "https://avatars.githubusercontent.com/u/26910280?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/CaixiangFan",
      "html_url": "https://github.com/CaixiangFan",
      "followers_url": "https://api.github.com/users/CaixiangFan/followers",
      "following_url": "https://api.github.com/users/CaixiangFan/following{/other_user}",
      "gists_url": "https://api.github.com/users/CaixiangFan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/CaixiangFan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/CaixiangFan/subscriptions",
      "organizations_url": "https://api.github.com/users/CaixiangFan/orgs",
      "repos_url": "https://api.github.com/users/CaixiangFan/repos",
      "events_url": "https://api.github.com/users/CaixiangFan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/CaixiangFan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-05-25T03:38:22Z",
    "updated_at": "2023-05-25T03:38:22Z",
    "author_association": "NONE",
    "body": "> \r\n\r\nHi no I didn't have this problem. Nonce too high might be caused by the previous txs not being processed. You can refer to my benchmarking setup from [our paper](https://ieeexplore.ieee.org/abstract/document/9899854) and its associated GitHub repo. Hope this helps.",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1562210157/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
