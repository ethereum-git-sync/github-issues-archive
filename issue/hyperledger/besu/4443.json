{
  "url": "https://api.github.com/repos/hyperledger/besu/issues/4443",
  "repository_url": "https://api.github.com/repos/hyperledger/besu",
  "labels_url": "https://api.github.com/repos/hyperledger/besu/issues/4443/labels{/name}",
  "comments_url": "https://api.github.com/repos/hyperledger/besu/issues/4443/comments",
  "events_url": "https://api.github.com/repos/hyperledger/besu/issues/4443/events",
  "html_url": "https://github.com/hyperledger/besu/issues/4443",
  "id": 1386432523,
  "node_id": "I_kwDODE2jmc5So0gL",
  "number": 4443,
  "title": "Rocks DB: io.vertx.core.VertxException: Thread blocked (--Xplugin-rocksdb-high-spec-enabled)",
  "user": {
    "login": "risasoft",
    "id": 98934812,
    "node_id": "U_kgDOBeWgHA",
    "avatar_url": "https://avatars.githubusercontent.com/u/98934812?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/risasoft",
    "html_url": "https://github.com/risasoft",
    "followers_url": "https://api.github.com/users/risasoft/followers",
    "following_url": "https://api.github.com/users/risasoft/following{/other_user}",
    "gists_url": "https://api.github.com/users/risasoft/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/risasoft/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/risasoft/subscriptions",
    "organizations_url": "https://api.github.com/users/risasoft/orgs",
    "repos_url": "https://api.github.com/users/risasoft/repos",
    "events_url": "https://api.github.com/users/risasoft/events{/privacy}",
    "received_events_url": "https://api.github.com/users/risasoft/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 22,
  "created_at": "2022-09-26T17:07:14Z",
  "updated_at": "2023-01-26T08:53:13Z",
  "closed_at": null,
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "My node failed to attest and needed a restart to recover using the new high spec enabled flag on v22.7.3 with bonsai trees.\r\n\r\n```\r\n=ETH,NET,WEB3,ADMIN --static-nodes-file=/secrets/static-nodes.json --Xplugin-rocksdb-high-spec-enabled\r\n```\r\n\r\n**Frequency:**  \r\nHappened once, stopped attesting completely. Had to restart service to recover.\r\n\r\n### Versions (Add all that apply)\r\n```\r\nbesu/v22.7.3/linux-x86_64/openjdk-java-17\r\n2022-09-26 16:59:13.153+00:00 | main | INFO  | Besu | Using jemalloc\r\nopenjdk 17.0.4 2022-07-19\r\nOpenJDK Runtime Environment (build 17.0.4+8-Ubuntu-120.04)\r\nOpenJDK 64-Bit Server VM (build 17.0.4+8-Ubuntu-120.04, mixed mode, sharing)\r\nDISTRIB_DESCRIPTION=\"Ubuntu 20.04.5 LTS\"\r\nNAME=\"Ubuntu\"\r\nVERSION=\"20.04.5 LTS (Focal Fossa)\"\r\nLinux b1666277e36c 5.15.0-48-generic #54-Ubuntu SMP Fri Aug 26 13:26:29 UTC 2022 x86_64 x86_64 x86_64 GNU/Linux\r\n```\r\n\r\n### Additional Information (Add any of the following or anything else that may be relevant)\r\nServer: 26 GB RAM, 18 cores, AMD\r\n\r\n###LOGS\r\n```\r\n\r\neth1_1           | 2022-09-26 16:52:45.661+00:00 | vert.x-eventloop-thread-3 | ERROR | RoutingContext | Unhandled exception in router\r\neth1_1           | 2022-09-26 16:52:45.662+00:00 | vert.x-eventloop-thread-3 | ERROR | RoutingContext | Unhandled exception in router\r\neth1_1           | 2022-09-26 16:52:56.409+00:00 | vertx-blocked-thread-checker | WARN  | BlockedThreadChecker | Thread Thread[vert.x-worker-thread-0,5,main] has been blocked for 1640884 ms, time limit is 60000 ms\r\neth1_1           | io.vertx.core.VertxException: Thread blocked\r\neth1_1           |      at app//org.rocksdb.RocksDB.get(Native Method)\r\neth1_1           |      at app//org.rocksdb.RocksDB.get(RocksDB.java:2084)\r\neth1_1           |      at app//org.hyperledger.besu.plugin.services.storage.rocksdb.segmented.RocksDBColumnarKeyValueStorage.get(RocksDBColumnarKeyValueStorage.java:209)\r\neth1_1           |      at app//org.hyperledger.besu.plugin.services.storage.rocksdb.segmented.RocksDBColumnarKeyValueStorage.get(RocksDBColumnarKeyValueStorage.java:64)\r\neth1_1           |      at app//org.hyperledger.besu.services.kvstore.SegmentedKeyValueStorageAdapter.get(SegmentedKeyValueStorageAdapter.java:50)\r\neth1_1           |      at app//org.hyperledger.besu.ethereum.bonsai.BonsaiWorldStateKeyValueStorage.getAccountStateTrieNode(BonsaiWorldStateKeyValueStorage.java:128)\r\neth1_1           |      at app//org.hyperledger.besu.ethereum.bonsai.BonsaiPersistedWorldState.getAccountStateTrieNode(BonsaiPersistedWorldState.java:346)\r\neth1_1           |      at app//org.hyperledger.besu.ethereum.bonsai.BonsaiPersistedWorldState$$Lambda$1563/0x000000080126c548.getNode(Unknown Source)\r\neth1_1           |      at app//org.hyperledger.besu.ethereum.trie.StoredNodeFactory.retrieve(StoredNodeFactory.java:96)\r\neth1_1           |      at app//org.hyperledger.besu.ethereum.trie.StoredNode.load(StoredNode.java:130)\r\neth1_1           |      at app//org.hyperledger.besu.ethereum.trie.StoredNode.accept(StoredNode.java:63)\r\neth1_1           |      at app//org.hyperledger.besu.ethereum.trie.PutVisitor.visit(PutVisitor.java:68)\r\neth1_1           |      at app//org.hyperledger.besu.ethereum.trie.BranchNode.accept(BranchNode.java:80)\r\neth1_1           |      at app//org.hyperledger.besu.ethereum.trie.StoredNode.accept(StoredNode.java:64)\r\neth1_1           |      at app//org.hyperledger.besu.ethereum.trie.PutVisitor.visit(PutVisitor.java:68)\r\neth1_1           |      at app//org.hyperledger.besu.ethereum.trie.BranchNode.accept(BranchNode.java:80)\r\neth1_1           |      at app//org.hyperledger.besu.ethereum.trie.StoredNode.accept(StoredNode.java:64)\r\neth1_1           |      at app//org.hyperledger.besu.ethereum.trie.PutVisitor.visit(PutVisitor.java:68)\r\neth1_1           |      at app//org.hyperledger.besu.ethereum.trie.BranchNode.accept(BranchNode.java:80)\r\neth1_1           |      at app//org.hyperledger.besu.ethereum.trie.StoredNode.accept(StoredNode.java:64)\r\neth1_1           |      at app//org.hyperledger.besu.ethereum.trie.PutVisitor.visit(PutVisitor.java:68)\r\neth1_1           |      at app//org.hyperledger.besu.ethereum.trie.BranchNode.accept(BranchNode.java:80)\r\neth1_1           |      at app//org.hyperledger.besu.ethereum.trie.PutVisitor.visit(PutVisitor.java:68)\r\neth1_1           |      at app//org.hyperledger.besu.ethereum.trie.BranchNode.accept(BranchNode.java:80)\r\neth1_1           |      at app//org.hyperledger.besu.ethereum.trie.PutVisitor.visit(PutVisitor.java:68)\r\neth1_1           |      at app//org.hyperledger.besu.ethereum.trie.BranchNode.accept(BranchNode.java:80)\r\neth1_1           |      at app//org.hyperledger.besu.ethereum.trie.StoredMerklePatriciaTrie.put(StoredMerklePatriciaTrie.java:142)\r\neth1_1           |      at app//org.hyperledger.besu.ethereum.bonsai.BonsaiPersistedWorldState.calculateRootHash(BonsaiPersistedWorldState.java:224)\r\neth1_1           |      at app//org.hyperledger.besu.ethereum.bonsai.BonsaiInMemoryWorldState.rootHash(BonsaiInMemoryWorldState.java:43)\r\neth1_1           |      at app//org.hyperledger.besu.ethereum.bonsai.BonsaiInMemoryWorldState.persist(BonsaiInMemoryWorldState.java:53)\r\neth1_1           |      at app//org.hyperledger.besu.ethereum.mainnet.AbstractBlockProcessor.processBlock(AbstractBlockProcessor.java:220)\r\neth1_1           |      at app//org.hyperledger.besu.ethereum.mainnet.AbstractBlockProcessor.processBlock(AbstractBlockProcessor.java:43)\r\neth1_1           |      at app//org.hyperledger.besu.ethereum.mainnet.BlockProcessor.processBlock(BlockProcessor.java:80)\r\neth1_1           |      at app//org.hyperledger.besu.ethereum.MainnetBlockValidator.processBlock(MainnetBlockValidator.java:175)\r\neth1_1           |      at app//org.hyperledger.besu.ethereum.MainnetBlockValidator.validateAnd\r\n```\r\n",
  "closed_by": {
    "login": "non-fungible-nelson",
    "id": 85905982,
    "node_id": "MDQ6VXNlcjg1OTA1OTgy",
    "avatar_url": "https://avatars.githubusercontent.com/u/85905982?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/non-fungible-nelson",
    "html_url": "https://github.com/non-fungible-nelson",
    "followers_url": "https://api.github.com/users/non-fungible-nelson/followers",
    "following_url": "https://api.github.com/users/non-fungible-nelson/following{/other_user}",
    "gists_url": "https://api.github.com/users/non-fungible-nelson/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/non-fungible-nelson/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/non-fungible-nelson/subscriptions",
    "organizations_url": "https://api.github.com/users/non-fungible-nelson/orgs",
    "repos_url": "https://api.github.com/users/non-fungible-nelson/repos",
    "events_url": "https://api.github.com/users/non-fungible-nelson/events{/privacy}",
    "received_events_url": "https://api.github.com/users/non-fungible-nelson/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/4443/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/hyperledger/besu/issues/4443/timeline",
  "performed_via_github_app": null,
  "state_reason": "reopened"
}
[
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1258370879",
    "html_url": "https://github.com/hyperledger/besu/issues/4443#issuecomment-1258370879",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/4443",
    "id": 1258370879,
    "node_id": "IC_kwDODE2jmc5LATc_",
    "user": {
      "login": "risasoft",
      "id": 98934812,
      "node_id": "U_kgDOBeWgHA",
      "avatar_url": "https://avatars.githubusercontent.com/u/98934812?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/risasoft",
      "html_url": "https://github.com/risasoft",
      "followers_url": "https://api.github.com/users/risasoft/followers",
      "following_url": "https://api.github.com/users/risasoft/following{/other_user}",
      "gists_url": "https://api.github.com/users/risasoft/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/risasoft/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/risasoft/subscriptions",
      "organizations_url": "https://api.github.com/users/risasoft/orgs",
      "repos_url": "https://api.github.com/users/risasoft/repos",
      "events_url": "https://api.github.com/users/risasoft/events{/privacy}",
      "received_events_url": "https://api.github.com/users/risasoft/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-09-26T17:21:16Z",
    "updated_at": "2022-09-26T17:21:16Z",
    "author_association": "NONE",
    "body": "It may be unrelated, but also seeing this error in logs after restarting:\r\n\r\n```\r\n\r\neth1_1           | 2022-09-26 17:16:15.942+00:00 | vert.x-worker-thread-9 | ERROR | MainnetTransactionProcessor | Critical Exception Processing Transaction\r\neth1_1           | org.hyperledger.besu.ethereum.trie.MerkleTrieException: Unable to load trie node value for hash 0x83e8c020d72ea2f47cac91c1948a380e8ca2d937b744af66e523e01911f2ea9e location 0x\r\neth1_1           |      at org.hyperledger.besu.ethereum.trie.StoredNode.lambda$load$0(StoredNode.java:133)\r\neth1_1           |      at java.base/java.util.Optional.orElseThrow(Optional.java:403)\r\neth1_1           |      at org.hyperledger.besu.ethereum.trie.StoredNode.load(StoredNode.java:131)\r\neth1_1           |      at org.hyperledger.besu.ethereum.trie.StoredNode.accept(StoredNode.java:63)\r\neth1_1           |      at org.hyperledger.besu.ethereum.trie.StoredMerklePatriciaTrie.get(StoredMerklePatriciaTrie.java:119)\r\neth1_1           |      at org.hyperledger.besu.ethereum.bonsai.BonsaiWorldStateKeyValueStorage.getStorageValueBySlotHash(BonsaiWorldStateKeyValueStorage.java:200)\r\neth1_1           |      at org.hyperledger.besu.ethereum.bonsai.BonsaiPersistedWorldState.getStorageValueBySlotHash(BonsaiPersistedWorldState.java:381)\r\neth1_1           |      at org.hyperledger.besu.ethereum.bonsai.BonsaiLayeredWorldState.getStorageValueBySlotHash(BonsaiLayeredWorldState.java:154)\r\neth1_1           |      at org.hyperledger.besu.ethereum.bonsai.BonsaiWorldStateUpdater.getStorageValueBySlotHash(BonsaiWorldStateUpdater.java:320)\r\neth1_1           |      at org.hyperledger.besu.ethereum.bonsai.BonsaiWorldStateUpdater.getStorageValue(BonsaiWorldStateUpdater.java:307)\r\neth1_1           |      at org.hyperledger.besu.ethereum.bonsai.BonsaiAccount.getStorageValue(BonsaiAccount.java:208)\r\neth1_1           |      at org.hyperledger.besu.evm.worldstate.UpdateTrackingAccount.getStorageValue(UpdateTrackingAccount.java:213)\r\neth1_1           |      at org.hyperledger.besu.evm.worldstate.UpdateTrackingAccount.getStorageValue(UpdateTrackingAccount.java:213)\r\neth1_1           |      at org.hyperledger.besu.evm.worldstate.UpdateTrackingAccount.getStorageValue(UpdateTrackingAccount.java:213)\r\neth1_1           |      at org.hyperledger.besu.evm.worldstate.UpdateTrackingAccount.getStorageValue(UpdateTrackingAccount.java:213)\r\neth1_1           |      at org.hyperledger.besu.evm.worldstate.UpdateTrackingAccount.getStorageValue(UpdateTrackingAccount.java:213)\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1258370879/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1258517092",
    "html_url": "https://github.com/hyperledger/besu/issues/4443#issuecomment-1258517092",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/4443",
    "id": 1258517092,
    "node_id": "IC_kwDODE2jmc5LA3Jk",
    "user": {
      "login": "ahamlat",
      "id": 5099602,
      "node_id": "MDQ6VXNlcjUwOTk2MDI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5099602?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ahamlat",
      "html_url": "https://github.com/ahamlat",
      "followers_url": "https://api.github.com/users/ahamlat/followers",
      "following_url": "https://api.github.com/users/ahamlat/following{/other_user}",
      "gists_url": "https://api.github.com/users/ahamlat/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ahamlat/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ahamlat/subscriptions",
      "organizations_url": "https://api.github.com/users/ahamlat/orgs",
      "repos_url": "https://api.github.com/users/ahamlat/repos",
      "events_url": "https://api.github.com/users/ahamlat/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ahamlat/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-09-26T19:28:48Z",
    "updated_at": "2022-09-26T19:28:48Z",
    "author_association": "CONTRIBUTOR",
    "body": "It seems to be related to the memory leak issue fixed in version 22.7.4 released today. Some threads may be blocked for some time by GC threads trying to free up memory.\r\nCould you update your Besu to 22.7.4 version and let us know if you still have these issues.",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1258517092/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1258550988",
    "html_url": "https://github.com/hyperledger/besu/issues/4443#issuecomment-1258550988",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/4443",
    "id": 1258550988,
    "node_id": "IC_kwDODE2jmc5LA_bM",
    "user": {
      "login": "risasoft",
      "id": 98934812,
      "node_id": "U_kgDOBeWgHA",
      "avatar_url": "https://avatars.githubusercontent.com/u/98934812?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/risasoft",
      "html_url": "https://github.com/risasoft",
      "followers_url": "https://api.github.com/users/risasoft/followers",
      "following_url": "https://api.github.com/users/risasoft/following{/other_user}",
      "gists_url": "https://api.github.com/users/risasoft/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/risasoft/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/risasoft/subscriptions",
      "organizations_url": "https://api.github.com/users/risasoft/orgs",
      "repos_url": "https://api.github.com/users/risasoft/repos",
      "events_url": "https://api.github.com/users/risasoft/events{/privacy}",
      "received_events_url": "https://api.github.com/users/risasoft/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-09-26T20:00:53Z",
    "updated_at": "2022-09-26T20:00:53Z",
    "author_association": "NONE",
    "body": "Thanks! I just noticed the new version and have updated. It seems fixed and\nwill continue to monitor.\n\nOn Mon, Sep 26, 2022 at 2:28 PM ahamlat ***@***.***> wrote:\n\n> It seems to be related to the memory leak issue fixed in version 22.7.4\n> released today. Some threads may be blocked for some time by GC threads\n> trying to free up memory.\n> Could you update your Besu to 22.7.4 version and let us know if you still\n> have these issues.\n>\n> —\n> Reply to this email directly, view it on GitHub\n> <https://github.com/hyperledger/besu/issues/4443#issuecomment-1258517092>,\n> or unsubscribe\n> <https://github.com/notifications/unsubscribe-auth/AXS2AHGMYNS5WND5JB5HXSDWAH2PXANCNFSM6AAAAAAQV7ZN4I>\n> .\n> You are receiving this because you authored the thread.Message ID:\n> ***@***.***>\n>\n",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1258550988/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1276406399",
    "html_url": "https://github.com/hyperledger/besu/issues/4443#issuecomment-1276406399",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/4443",
    "id": 1276406399,
    "node_id": "IC_kwDODE2jmc5MFGp_",
    "user": {
      "login": "non-fungible-nelson",
      "id": 85905982,
      "node_id": "MDQ6VXNlcjg1OTA1OTgy",
      "avatar_url": "https://avatars.githubusercontent.com/u/85905982?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/non-fungible-nelson",
      "html_url": "https://github.com/non-fungible-nelson",
      "followers_url": "https://api.github.com/users/non-fungible-nelson/followers",
      "following_url": "https://api.github.com/users/non-fungible-nelson/following{/other_user}",
      "gists_url": "https://api.github.com/users/non-fungible-nelson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/non-fungible-nelson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/non-fungible-nelson/subscriptions",
      "organizations_url": "https://api.github.com/users/non-fungible-nelson/orgs",
      "repos_url": "https://api.github.com/users/non-fungible-nelson/repos",
      "events_url": "https://api.github.com/users/non-fungible-nelson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/non-fungible-nelson/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-10-12T15:58:13Z",
    "updated_at": "2022-10-12T15:58:13Z",
    "author_association": "CONTRIBUTOR",
    "body": "Closing for now - please re-open if we see this behavior later on. ",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1276406399/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1279841312",
    "html_url": "https://github.com/hyperledger/besu/issues/4443#issuecomment-1279841312",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/4443",
    "id": 1279841312,
    "node_id": "IC_kwDODE2jmc5MSNQg",
    "user": {
      "login": "Ayo91",
      "id": 2479896,
      "node_id": "MDQ6VXNlcjI0Nzk4OTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2479896?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Ayo91",
      "html_url": "https://github.com/Ayo91",
      "followers_url": "https://api.github.com/users/Ayo91/followers",
      "following_url": "https://api.github.com/users/Ayo91/following{/other_user}",
      "gists_url": "https://api.github.com/users/Ayo91/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Ayo91/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Ayo91/subscriptions",
      "organizations_url": "https://api.github.com/users/Ayo91/orgs",
      "repos_url": "https://api.github.com/users/Ayo91/repos",
      "events_url": "https://api.github.com/users/Ayo91/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Ayo91/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-10-15T22:11:19Z",
    "updated_at": "2022-10-15T22:11:51Z",
    "author_association": "NONE",
    "body": "I have the issue with the version 22.7.4:\r\n\r\n\r\n```\r\neth1_1           | 2022-10-15 22:06:24.965+00:00 | vertx-blocked-thread-checker | WARN  | BlockedThreadChecker | Thread Thread[vert.x-worker-thread-0,5,main] has been blocked for 64058 ms, time limit is 60000 ms\r\neth1_1           | io.vertx.core.VertxException: Thread blocked\r\neth1_1           | \tat java.base@17.0.4/sun.nio.cs.StreamEncoder.write(StreamEncoder.java:118)\r\neth1_1           | \tat java.base@17.0.4/java.io.OutputStreamWriter.write(OutputStreamWriter.java:187)\r\neth1_1           | \tat java.base@17.0.4/java.io.Writer.append(Writer.java:389)\r\neth1_1           | \tat app//io.prometheus.client.exporter.common.TextFormat.writeEscapedLabelValue(TextFormat.java:88)\r\neth1_1           | \tat app//io.prometheus.client.exporter.common.TextFormat.write004(TextFormat.java:42)\r\neth1_1           | \tat app//org.hyperledger.besu.metrics.prometheus.MetricsHttpService.lambda$metricsRequest$4(MetricsHttpService.java:205)\r\neth1_1           | \tat app//org.hyperledger.besu.metrics.prometheus.MetricsHttpService$$Lambda$1353/0x0000000801216c40.handle(Unknown Source)\r\neth1_1           | \tat app//io.vertx.core.impl.ContextImpl.lambda$null$0(ContextImpl.java:159)\r\neth1_1           | \tat app//io.vertx.core.impl.ContextImpl$$Lambda$1006/0x000000080114df10.handle(Unknown Source)\r\neth1_1           | \tat app//io.vertx.core.impl.AbstractContext.dispatch(AbstractContext.java:100)\r\neth1_1           | \tat app//io.vertx.core.impl.ContextImpl.lambda$executeBlocking$1(ContextImpl.java:157)\r\neth1_1           | \tat app//io.vertx.core.impl.ContextImpl$$Lambda$1005/0x000000080114dce8.run(Unknown Source)\r\neth1_1           | \tat java.base@17.0.4/java.util.concurrent.Thread\r\n```\r\n\r\nAny idea?",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1279841312/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1290940979",
    "html_url": "https://github.com/hyperledger/besu/issues/4443#issuecomment-1290940979",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/4443",
    "id": 1290940979,
    "node_id": "IC_kwDODE2jmc5M8jIz",
    "user": {
      "login": "non-fungible-nelson",
      "id": 85905982,
      "node_id": "MDQ6VXNlcjg1OTA1OTgy",
      "avatar_url": "https://avatars.githubusercontent.com/u/85905982?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/non-fungible-nelson",
      "html_url": "https://github.com/non-fungible-nelson",
      "followers_url": "https://api.github.com/users/non-fungible-nelson/followers",
      "following_url": "https://api.github.com/users/non-fungible-nelson/following{/other_user}",
      "gists_url": "https://api.github.com/users/non-fungible-nelson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/non-fungible-nelson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/non-fungible-nelson/subscriptions",
      "organizations_url": "https://api.github.com/users/non-fungible-nelson/orgs",
      "repos_url": "https://api.github.com/users/non-fungible-nelson/repos",
      "events_url": "https://api.github.com/users/non-fungible-nelson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/non-fungible-nelson/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-10-25T17:55:13Z",
    "updated_at": "2022-10-25T17:55:13Z",
    "author_association": "CONTRIBUTOR",
    "body": "Reports in 22.7.7… reopening for now ",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1290940979/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1290950870",
    "html_url": "https://github.com/hyperledger/besu/issues/4443#issuecomment-1290950870",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/4443",
    "id": 1290950870,
    "node_id": "IC_kwDODE2jmc5M8ljW",
    "user": {
      "login": "non-fungible-nelson",
      "id": 85905982,
      "node_id": "MDQ6VXNlcjg1OTA1OTgy",
      "avatar_url": "https://avatars.githubusercontent.com/u/85905982?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/non-fungible-nelson",
      "html_url": "https://github.com/non-fungible-nelson",
      "followers_url": "https://api.github.com/users/non-fungible-nelson/followers",
      "following_url": "https://api.github.com/users/non-fungible-nelson/following{/other_user}",
      "gists_url": "https://api.github.com/users/non-fungible-nelson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/non-fungible-nelson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/non-fungible-nelson/subscriptions",
      "organizations_url": "https://api.github.com/users/non-fungible-nelson/orgs",
      "repos_url": "https://api.github.com/users/non-fungible-nelson/repos",
      "events_url": "https://api.github.com/users/non-fungible-nelson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/non-fungible-nelson/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-10-25T18:04:32Z",
    "updated_at": "2022-10-25T18:04:32Z",
    "author_association": "CONTRIBUTOR",
    "body": "Observed on 22.7.6 and .7 without high spec mode enabled. Potentially different underlying cause? ",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1290950870/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1290968817",
    "html_url": "https://github.com/hyperledger/besu/issues/4443#issuecomment-1290968817",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/4443",
    "id": 1290968817,
    "node_id": "IC_kwDODE2jmc5M8p7x",
    "user": {
      "login": "ahamlat",
      "id": 5099602,
      "node_id": "MDQ6VXNlcjUwOTk2MDI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5099602?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ahamlat",
      "html_url": "https://github.com/ahamlat",
      "followers_url": "https://api.github.com/users/ahamlat/followers",
      "following_url": "https://api.github.com/users/ahamlat/following{/other_user}",
      "gists_url": "https://api.github.com/users/ahamlat/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ahamlat/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ahamlat/subscriptions",
      "organizations_url": "https://api.github.com/users/ahamlat/orgs",
      "repos_url": "https://api.github.com/users/ahamlat/repos",
      "events_url": "https://api.github.com/users/ahamlat/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ahamlat/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-10-25T18:21:34Z",
    "updated_at": "2022-10-25T18:21:34Z",
    "author_association": "CONTRIBUTOR",
    "body": "We need to investigate, do you have any feedback from the users regarding these two versions ?\r\nIdeally, share a heap dump to troubleshoot the root cause",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1290968817/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1290974273",
    "html_url": "https://github.com/hyperledger/besu/issues/4443#issuecomment-1290974273",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/4443",
    "id": 1290974273,
    "node_id": "IC_kwDODE2jmc5M8rRB",
    "user": {
      "login": "non-fungible-nelson",
      "id": 85905982,
      "node_id": "MDQ6VXNlcjg1OTA1OTgy",
      "avatar_url": "https://avatars.githubusercontent.com/u/85905982?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/non-fungible-nelson",
      "html_url": "https://github.com/non-fungible-nelson",
      "followers_url": "https://api.github.com/users/non-fungible-nelson/followers",
      "following_url": "https://api.github.com/users/non-fungible-nelson/following{/other_user}",
      "gists_url": "https://api.github.com/users/non-fungible-nelson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/non-fungible-nelson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/non-fungible-nelson/subscriptions",
      "organizations_url": "https://api.github.com/users/non-fungible-nelson/orgs",
      "repos_url": "https://api.github.com/users/non-fungible-nelson/repos",
      "events_url": "https://api.github.com/users/non-fungible-nelson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/non-fungible-nelson/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-10-25T18:26:57Z",
    "updated_at": "2022-10-25T18:26:57Z",
    "author_association": "CONTRIBUTOR",
    "body": "Asked @benjaminion for a thread dump. ",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1290974273/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1291002966",
    "html_url": "https://github.com/hyperledger/besu/issues/4443#issuecomment-1291002966",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/4443",
    "id": 1291002966,
    "node_id": "IC_kwDODE2jmc5M8yRW",
    "user": {
      "login": "ahamlat",
      "id": 5099602,
      "node_id": "MDQ6VXNlcjUwOTk2MDI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5099602?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ahamlat",
      "html_url": "https://github.com/ahamlat",
      "followers_url": "https://api.github.com/users/ahamlat/followers",
      "following_url": "https://api.github.com/users/ahamlat/following{/other_user}",
      "gists_url": "https://api.github.com/users/ahamlat/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ahamlat/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ahamlat/subscriptions",
      "organizations_url": "https://api.github.com/users/ahamlat/orgs",
      "repos_url": "https://api.github.com/users/ahamlat/repos",
      "events_url": "https://api.github.com/users/ahamlat/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ahamlat/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-10-25T18:54:24Z",
    "updated_at": "2022-10-25T18:54:24Z",
    "author_association": "CONTRIBUTOR",
    "body": "I was looking for a heap dump or at least a histogram\r\n\r\n- Create a heap dump (The heap dump size may reach the size of the heap) :\r\n\r\n`jcmd [PID] GC.heap_dump /[path-to-heapdump]/heapdump.hprof\r\n`\r\n- Create a histogram\r\n\r\n`jcmd [PID] GC.class_histogram > histogram.txt`",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1291002966/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1291040572",
    "html_url": "https://github.com/hyperledger/besu/issues/4443#issuecomment-1291040572",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/4443",
    "id": 1291040572,
    "node_id": "IC_kwDODE2jmc5M87c8",
    "user": {
      "login": "benjaminion",
      "id": 20796281,
      "node_id": "MDQ6VXNlcjIwNzk2Mjgx",
      "avatar_url": "https://avatars.githubusercontent.com/u/20796281?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/benjaminion",
      "html_url": "https://github.com/benjaminion",
      "followers_url": "https://api.github.com/users/benjaminion/followers",
      "following_url": "https://api.github.com/users/benjaminion/following{/other_user}",
      "gists_url": "https://api.github.com/users/benjaminion/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/benjaminion/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/benjaminion/subscriptions",
      "organizations_url": "https://api.github.com/users/benjaminion/orgs",
      "repos_url": "https://api.github.com/users/benjaminion/repos",
      "events_url": "https://api.github.com/users/benjaminion/events{/privacy}",
      "received_events_url": "https://api.github.com/users/benjaminion/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-10-25T19:32:55Z",
    "updated_at": "2022-10-25T19:32:55Z",
    "author_association": "NONE",
    "body": "This is occurring again, right after I tried to connect a dApp to Besu via Metamask. I've taken dumps as requested and will figure out a way to get them to @ahamlat.",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1291040572/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1291223332",
    "html_url": "https://github.com/hyperledger/besu/issues/4443#issuecomment-1291223332",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/4443",
    "id": 1291223332,
    "node_id": "IC_kwDODE2jmc5M9oEk",
    "user": {
      "login": "ahamlat",
      "id": 5099602,
      "node_id": "MDQ6VXNlcjUwOTk2MDI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5099602?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ahamlat",
      "html_url": "https://github.com/ahamlat",
      "followers_url": "https://api.github.com/users/ahamlat/followers",
      "following_url": "https://api.github.com/users/ahamlat/following{/other_user}",
      "gists_url": "https://api.github.com/users/ahamlat/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ahamlat/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ahamlat/subscriptions",
      "organizations_url": "https://api.github.com/users/ahamlat/orgs",
      "repos_url": "https://api.github.com/users/ahamlat/repos",
      "events_url": "https://api.github.com/users/ahamlat/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ahamlat/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-10-25T22:53:12Z",
    "updated_at": "2022-10-25T22:56:30Z",
    "author_association": "CONTRIBUTOR",
    "body": "Interesting, it seems to be related to eth_getLog Json RPC call. I can see 7 executing eth_getLog calls, and 5 of them are executing RocksDB.get method. Do you have more information on these eth_getLog calls ? we can proxy them if there is no personal addresses. The purpose of this is to try to reproduce and understand why these calls are blocking on RocksDB.get method.\r\nAnd in your case, regarding the shared heap dump, there is no memory issue.",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1291223332/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1291637753",
    "html_url": "https://github.com/hyperledger/besu/issues/4443#issuecomment-1291637753",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/4443",
    "id": 1291637753,
    "node_id": "IC_kwDODE2jmc5M_NP5",
    "user": {
      "login": "benjaminion",
      "id": 20796281,
      "node_id": "MDQ6VXNlcjIwNzk2Mjgx",
      "avatar_url": "https://avatars.githubusercontent.com/u/20796281?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/benjaminion",
      "html_url": "https://github.com/benjaminion",
      "followers_url": "https://api.github.com/users/benjaminion/followers",
      "following_url": "https://api.github.com/users/benjaminion/following{/other_user}",
      "gists_url": "https://api.github.com/users/benjaminion/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/benjaminion/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/benjaminion/subscriptions",
      "organizations_url": "https://api.github.com/users/benjaminion/orgs",
      "repos_url": "https://api.github.com/users/benjaminion/repos",
      "events_url": "https://api.github.com/users/benjaminion/events{/privacy}",
      "received_events_url": "https://api.github.com/users/benjaminion/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-10-26T07:51:59Z",
    "updated_at": "2022-10-26T07:51:59Z",
    "author_association": "NONE",
    "body": "My best guess is that connecting metamask to [this dApp](https://app.gearbox.fi/pools) with my local Besu set as the network provider is the trigger for this. It seems to be repeatable, but I am reluctant to experiment as this is my production staking node. I haven't previously noticed any issues using this Besu instance as my network provider in metamask. For now I have pointed metamask back to Infura 😞",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1291637753/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1291787643",
    "html_url": "https://github.com/hyperledger/besu/issues/4443#issuecomment-1291787643",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/4443",
    "id": 1291787643,
    "node_id": "IC_kwDODE2jmc5M_x17",
    "user": {
      "login": "ahamlat",
      "id": 5099602,
      "node_id": "MDQ6VXNlcjUwOTk2MDI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5099602?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ahamlat",
      "html_url": "https://github.com/ahamlat",
      "followers_url": "https://api.github.com/users/ahamlat/followers",
      "following_url": "https://api.github.com/users/ahamlat/following{/other_user}",
      "gists_url": "https://api.github.com/users/ahamlat/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ahamlat/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ahamlat/subscriptions",
      "organizations_url": "https://api.github.com/users/ahamlat/orgs",
      "repos_url": "https://api.github.com/users/ahamlat/repos",
      "events_url": "https://api.github.com/users/ahamlat/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ahamlat/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-10-26T09:55:31Z",
    "updated_at": "2022-10-26T09:55:31Z",
    "author_association": "CONTRIBUTOR",
    "body": "Thanks Ben, I found [this part of the code](https://github.com/Gearbox-protocol/sdk-go/blob/8333cb021f1ecd8288fab2864cb77a2b413dfe8c/core/constant.go) in their Github, so I guess they are getting logs for large ranges of blocks, and it seems that in Besu, there is no limit to this range.\r\n\r\n@non-fungible-nelson I think it is important to investigate the performance and reliability of the eth_getLog Json RPC call. We already have some folks working on other Json RPC calls, I don't know if they are also looking into  eth_getLog, maybe try to reproduce with a testnet with the same dApp and proxy the calls to get the ranges.\r\n\r\nI also found this [old issue](https://github.com/hyperledger/besu/issues/1111) on eth_getLog ",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1291787643/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1291983608",
    "html_url": "https://github.com/hyperledger/besu/issues/4443#issuecomment-1291983608",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/4443",
    "id": 1291983608,
    "node_id": "IC_kwDODE2jmc5NAhr4",
    "user": {
      "login": "ahamlat",
      "id": 5099602,
      "node_id": "MDQ6VXNlcjUwOTk2MDI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5099602?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ahamlat",
      "html_url": "https://github.com/ahamlat",
      "followers_url": "https://api.github.com/users/ahamlat/followers",
      "following_url": "https://api.github.com/users/ahamlat/following{/other_user}",
      "gists_url": "https://api.github.com/users/ahamlat/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ahamlat/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ahamlat/subscriptions",
      "organizations_url": "https://api.github.com/users/ahamlat/orgs",
      "repos_url": "https://api.github.com/users/ahamlat/repos",
      "events_url": "https://api.github.com/users/ahamlat/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ahamlat/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-10-26T12:48:59Z",
    "updated_at": "2022-10-26T12:48:59Z",
    "author_association": "CONTRIBUTOR",
    "body": "I just found in the heapdump fromBlock and toBlock parameters of the eth_getLog call, it is from 0x0 (0 in decimal) to 0xf180de (15827166 in decimal) which represents the whole blocks from genesis to yesterday. There is also a parameter to filter on, but I guess is less efficient with such a number of blocks to filter.\r\n\r\n<img width=\"1188\" alt=\"Screenshot 2022-10-26 at 14 14 22\" src=\"https://user-images.githubusercontent.com/5099602/198023705-299a8e57-9c8d-4657-b32c-95dae9bffa62.png\">\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1291983608/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 1,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1292073663",
    "html_url": "https://github.com/hyperledger/besu/issues/4443#issuecomment-1292073663",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/4443",
    "id": 1292073663,
    "node_id": "IC_kwDODE2jmc5NA3q_",
    "user": {
      "login": "non-fungible-nelson",
      "id": 85905982,
      "node_id": "MDQ6VXNlcjg1OTA1OTgy",
      "avatar_url": "https://avatars.githubusercontent.com/u/85905982?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/non-fungible-nelson",
      "html_url": "https://github.com/non-fungible-nelson",
      "followers_url": "https://api.github.com/users/non-fungible-nelson/followers",
      "following_url": "https://api.github.com/users/non-fungible-nelson/following{/other_user}",
      "gists_url": "https://api.github.com/users/non-fungible-nelson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/non-fungible-nelson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/non-fungible-nelson/subscriptions",
      "organizations_url": "https://api.github.com/users/non-fungible-nelson/orgs",
      "repos_url": "https://api.github.com/users/non-fungible-nelson/repos",
      "events_url": "https://api.github.com/users/non-fungible-nelson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/non-fungible-nelson/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-10-26T13:44:33Z",
    "updated_at": "2022-10-26T13:44:43Z",
    "author_association": "CONTRIBUTOR",
    "body": "Hmm interesting @ahamlat - should we limit by default? Or another behavior. Tagging @mark-terry to look at for his RPC investigation. ",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1292073663/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1292764588",
    "html_url": "https://github.com/hyperledger/besu/issues/4443#issuecomment-1292764588",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/4443",
    "id": 1292764588,
    "node_id": "IC_kwDODE2jmc5NDgWs",
    "user": {
      "login": "mark-terry",
      "id": 36909937,
      "node_id": "MDQ6VXNlcjM2OTA5OTM3",
      "avatar_url": "https://avatars.githubusercontent.com/u/36909937?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mark-terry",
      "html_url": "https://github.com/mark-terry",
      "followers_url": "https://api.github.com/users/mark-terry/followers",
      "following_url": "https://api.github.com/users/mark-terry/following{/other_user}",
      "gists_url": "https://api.github.com/users/mark-terry/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mark-terry/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mark-terry/subscriptions",
      "organizations_url": "https://api.github.com/users/mark-terry/orgs",
      "repos_url": "https://api.github.com/users/mark-terry/repos",
      "events_url": "https://api.github.com/users/mark-terry/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mark-terry/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-10-26T23:16:38Z",
    "updated_at": "2022-10-26T23:16:38Z",
    "author_association": "CONTRIBUTOR",
    "body": "The default when `fromBlock` isn't specified is to search from genesis, to `toBlock`, which defaults to `latest`. #4513 doesn't change that.\r\n\r\n#4123 suggested adding a configurable maximum search range. This should address what @ahamlat has noted if the call was executed without a `fromBlock` value.\r\n\r\nIt'd be interesting to know whether the Metamask issue is caused by `eth_getLogs` and, if yes, what parameters they're sending.",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1292764588/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1292786034",
    "html_url": "https://github.com/hyperledger/besu/issues/4443#issuecomment-1292786034",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/4443",
    "id": 1292786034,
    "node_id": "IC_kwDODE2jmc5NDlly",
    "user": {
      "login": "mark-terry",
      "id": 36909937,
      "node_id": "MDQ6VXNlcjM2OTA5OTM3",
      "avatar_url": "https://avatars.githubusercontent.com/u/36909937?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mark-terry",
      "html_url": "https://github.com/mark-terry",
      "followers_url": "https://api.github.com/users/mark-terry/followers",
      "following_url": "https://api.github.com/users/mark-terry/following{/other_user}",
      "gists_url": "https://api.github.com/users/mark-terry/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mark-terry/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mark-terry/subscriptions",
      "organizations_url": "https://api.github.com/users/mark-terry/orgs",
      "repos_url": "https://api.github.com/users/mark-terry/repos",
      "events_url": "https://api.github.com/users/mark-terry/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mark-terry/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-10-26T23:54:41Z",
    "updated_at": "2022-10-26T23:54:57Z",
    "author_association": "CONTRIBUTOR",
    "body": "Added a ticket for a configurable range: #4563 ",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1292786034/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1360537645",
    "html_url": "https://github.com/hyperledger/besu/issues/4443#issuecomment-1360537645",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/4443",
    "id": 1360537645,
    "node_id": "IC_kwDODE2jmc5RGCgt",
    "user": {
      "login": "xrchz",
      "id": 181254,
      "node_id": "MDQ6VXNlcjE4MTI1NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/181254?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/xrchz",
      "html_url": "https://github.com/xrchz",
      "followers_url": "https://api.github.com/users/xrchz/followers",
      "following_url": "https://api.github.com/users/xrchz/following{/other_user}",
      "gists_url": "https://api.github.com/users/xrchz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/xrchz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/xrchz/subscriptions",
      "organizations_url": "https://api.github.com/users/xrchz/orgs",
      "repos_url": "https://api.github.com/users/xrchz/repos",
      "events_url": "https://api.github.com/users/xrchz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/xrchz/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-12-21T00:11:37Z",
    "updated_at": "2022-12-21T00:11:37Z",
    "author_association": "NONE",
    "body": "Now that #4563 is merged can this be closed?",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1360537645/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1360961425",
    "html_url": "https://github.com/hyperledger/besu/issues/4443#issuecomment-1360961425",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/4443",
    "id": 1360961425,
    "node_id": "IC_kwDODE2jmc5RHp-R",
    "user": {
      "login": "benjaminion",
      "id": 20796281,
      "node_id": "MDQ6VXNlcjIwNzk2Mjgx",
      "avatar_url": "https://avatars.githubusercontent.com/u/20796281?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/benjaminion",
      "html_url": "https://github.com/benjaminion",
      "followers_url": "https://api.github.com/users/benjaminion/followers",
      "following_url": "https://api.github.com/users/benjaminion/following{/other_user}",
      "gists_url": "https://api.github.com/users/benjaminion/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/benjaminion/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/benjaminion/subscriptions",
      "organizations_url": "https://api.github.com/users/benjaminion/orgs",
      "repos_url": "https://api.github.com/users/benjaminion/repos",
      "events_url": "https://api.github.com/users/benjaminion/events{/privacy}",
      "received_events_url": "https://api.github.com/users/benjaminion/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-12-21T07:43:33Z",
    "updated_at": "2022-12-21T07:44:01Z",
    "author_association": "NONE",
    "body": "I can confirm that this no longer occurs with 22.10.4 when I visit the dApp that used to reliably trigger it. (Besu is now so slow with that site that it's unusable, but that's a separate issue to this one.) I can't say for sure the underlying issue is resolved but it looks promising.",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1360961425/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1404483174",
    "html_url": "https://github.com/hyperledger/besu/issues/4443#issuecomment-1404483174",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/4443",
    "id": 1404483174,
    "node_id": "IC_kwDODE2jmc5TtrZm",
    "user": {
      "login": "gooooer",
      "id": 1442372,
      "node_id": "MDQ6VXNlcjE0NDIzNzI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1442372?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gooooer",
      "html_url": "https://github.com/gooooer",
      "followers_url": "https://api.github.com/users/gooooer/followers",
      "following_url": "https://api.github.com/users/gooooer/following{/other_user}",
      "gists_url": "https://api.github.com/users/gooooer/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gooooer/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gooooer/subscriptions",
      "organizations_url": "https://api.github.com/users/gooooer/orgs",
      "repos_url": "https://api.github.com/users/gooooer/repos",
      "events_url": "https://api.github.com/users/gooooer/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gooooer/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-01-26T02:14:12Z",
    "updated_at": "2023-01-26T02:14:12Z",
    "author_association": "NONE",
    "body": "The issue still happens for me on 22.10.4. If anything, it became even worse - more spam in the logs due to this error.",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1404483174/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1404706362",
    "html_url": "https://github.com/hyperledger/besu/issues/4443#issuecomment-1404706362",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/4443",
    "id": 1404706362,
    "node_id": "IC_kwDODE2jmc5Tuh46",
    "user": {
      "login": "non-fungible-nelson",
      "id": 85905982,
      "node_id": "MDQ6VXNlcjg1OTA1OTgy",
      "avatar_url": "https://avatars.githubusercontent.com/u/85905982?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/non-fungible-nelson",
      "html_url": "https://github.com/non-fungible-nelson",
      "followers_url": "https://api.github.com/users/non-fungible-nelson/followers",
      "following_url": "https://api.github.com/users/non-fungible-nelson/following{/other_user}",
      "gists_url": "https://api.github.com/users/non-fungible-nelson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/non-fungible-nelson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/non-fungible-nelson/subscriptions",
      "organizations_url": "https://api.github.com/users/non-fungible-nelson/orgs",
      "repos_url": "https://api.github.com/users/non-fungible-nelson/repos",
      "events_url": "https://api.github.com/users/non-fungible-nelson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/non-fungible-nelson/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-01-26T08:52:58Z",
    "updated_at": "2023-01-26T08:53:13Z",
    "author_association": "CONTRIBUTOR",
    "body": "@ahamlat - i think this warrants more investigation. Users are seeing tons of threads blocked on 22.10.3/4 without using the RPC. ",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1404706362/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
