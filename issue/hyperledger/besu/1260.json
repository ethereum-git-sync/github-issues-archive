{
  "url": "https://api.github.com/repos/hyperledger/besu/issues/1260",
  "repository_url": "https://api.github.com/repos/hyperledger/besu",
  "labels_url": "https://api.github.com/repos/hyperledger/besu/issues/1260/labels{/name}",
  "comments_url": "https://api.github.com/repos/hyperledger/besu/issues/1260/comments",
  "events_url": "https://api.github.com/repos/hyperledger/besu/issues/1260/events",
  "html_url": "https://github.com/hyperledger/besu/issues/1260",
  "id": 665609147,
  "node_id": "MDU6SXNzdWU2NjU2MDkxNDc=",
  "number": 1260,
  "title": "How to stop besu correctly via cmd?",
  "user": {
    "login": "winsvega",
    "id": 4492341,
    "node_id": "MDQ6VXNlcjQ0OTIzNDE=",
    "avatar_url": "https://avatars.githubusercontent.com/u/4492341?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/winsvega",
    "html_url": "https://github.com/winsvega",
    "followers_url": "https://api.github.com/users/winsvega/followers",
    "following_url": "https://api.github.com/users/winsvega/following{/other_user}",
    "gists_url": "https://api.github.com/users/winsvega/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/winsvega/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/winsvega/subscriptions",
    "organizations_url": "https://api.github.com/users/winsvega/orgs",
    "repos_url": "https://api.github.com/users/winsvega/repos",
    "events_url": "https://api.github.com/users/winsvega/events{/privacy}",
    "received_events_url": "https://api.github.com/users/winsvega/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 1537362500,
      "node_id": "MDU6TGFiZWwxNTM3MzYyNTAw",
      "url": "https://api.github.com/repos/hyperledger/besu/labels/good%20first%20issue",
      "name": "good first issue",
      "color": "7057ff",
      "default": true,
      "description": "Good for newcomers"
    },
    {
      "id": 2129007612,
      "node_id": "MDU6TGFiZWwyMTI5MDA3NjEy",
      "url": "https://api.github.com/repos/hyperledger/besu/labels/dev%20experience",
      "name": "dev experience",
      "color": "2a0b89",
      "default": false,
      "description": "The build system, things that enable easier development etc."
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 7,
  "created_at": "2020-07-25T15:57:15Z",
  "updated_at": "2022-01-04T05:06:03Z",
  "closed_at": "2022-01-04T05:06:03Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "to start I use\r\n```\r\ni=0\r\nwhile [ \"$i\" -lt $threads ]; do\r\n    tmpdir=$(mktemp -d -t ci-XXXXXXXXXX)\r\n    besu --Xberlin-enabled true retesteth --rpc-http-port $((47710+$i)) --data-path=$tmpdir &\r\n    i=$(( i + 1 ))\r\ndone\r\nsleep 16\r\n```\r\n\r\nto stop\r\n\r\n```\r\nkillall -9 java\r\nsleep 6\r\n```\r\n\r\nHowever after the restart, besu seems to have issues serving first rpc request.\r\nIs there a better way to shutdown besu from cmd correctly?\r\n",
  "closed_by": {
    "login": "macfarla",
    "id": 2627919,
    "node_id": "MDQ6VXNlcjI2Mjc5MTk=",
    "avatar_url": "https://avatars.githubusercontent.com/u/2627919?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/macfarla",
    "html_url": "https://github.com/macfarla",
    "followers_url": "https://api.github.com/users/macfarla/followers",
    "following_url": "https://api.github.com/users/macfarla/following{/other_user}",
    "gists_url": "https://api.github.com/users/macfarla/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/macfarla/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/macfarla/subscriptions",
    "organizations_url": "https://api.github.com/users/macfarla/orgs",
    "repos_url": "https://api.github.com/users/macfarla/repos",
    "events_url": "https://api.github.com/users/macfarla/events{/privacy}",
    "received_events_url": "https://api.github.com/users/macfarla/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/1260/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/hyperledger/besu/issues/1260/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/664941902",
    "html_url": "https://github.com/hyperledger/besu/issues/1260#issuecomment-664941902",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/1260",
    "id": 664941902,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY2NDk0MTkwMg==",
    "user": {
      "login": "sambacha",
      "id": 32783916,
      "node_id": "MDQ6VXNlcjMyNzgzOTE2",
      "avatar_url": "https://avatars.githubusercontent.com/u/32783916?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sambacha",
      "html_url": "https://github.com/sambacha",
      "followers_url": "https://api.github.com/users/sambacha/followers",
      "following_url": "https://api.github.com/users/sambacha/following{/other_user}",
      "gists_url": "https://api.github.com/users/sambacha/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sambacha/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sambacha/subscriptions",
      "organizations_url": "https://api.github.com/users/sambacha/orgs",
      "repos_url": "https://api.github.com/users/sambacha/repos",
      "events_url": "https://api.github.com/users/sambacha/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sambacha/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-07-28T09:49:37Z",
    "updated_at": "2020-07-28T09:49:37Z",
    "author_association": "NONE",
    "body": "are you running a container or on the actual instance itself? ",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/664941902/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/664947914",
    "html_url": "https://github.com/hyperledger/besu/issues/1260#issuecomment-664947914",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/1260",
    "id": 664947914,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY2NDk0NzkxNA==",
    "user": {
      "login": "winsvega",
      "id": 4492341,
      "node_id": "MDQ6VXNlcjQ0OTIzNDE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4492341?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/winsvega",
      "html_url": "https://github.com/winsvega",
      "followers_url": "https://api.github.com/users/winsvega/followers",
      "following_url": "https://api.github.com/users/winsvega/following{/other_user}",
      "gists_url": "https://api.github.com/users/winsvega/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/winsvega/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/winsvega/subscriptions",
      "organizations_url": "https://api.github.com/users/winsvega/orgs",
      "repos_url": "https://api.github.com/users/winsvega/repos",
      "events_url": "https://api.github.com/users/winsvega/events{/privacy}",
      "received_events_url": "https://api.github.com/users/winsvega/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-07-28T10:01:02Z",
    "updated_at": "2020-07-28T10:01:02Z",
    "author_association": "NONE",
    "body": "The instance compiled locally. ",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/664947914/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/665047754",
    "html_url": "https://github.com/hyperledger/besu/issues/1260#issuecomment-665047754",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/1260",
    "id": 665047754,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY2NTA0Nzc1NA==",
    "user": {
      "login": "sambacha",
      "id": 32783916,
      "node_id": "MDQ6VXNlcjMyNzgzOTE2",
      "avatar_url": "https://avatars.githubusercontent.com/u/32783916?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sambacha",
      "html_url": "https://github.com/sambacha",
      "followers_url": "https://api.github.com/users/sambacha/followers",
      "following_url": "https://api.github.com/users/sambacha/following{/other_user}",
      "gists_url": "https://api.github.com/users/sambacha/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sambacha/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sambacha/subscriptions",
      "organizations_url": "https://api.github.com/users/sambacha/orgs",
      "repos_url": "https://api.github.com/users/sambacha/repos",
      "events_url": "https://api.github.com/users/sambacha/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sambacha/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-07-28T13:42:05Z",
    "updated_at": "2020-07-28T13:42:05Z",
    "author_association": "NONE",
    "body": "```\r\n     No    Name         Default Action       Description\r\n     1     SIGHUP       terminate process    terminal line hangup\r\n *   2     SIGINT       terminate process    interrupt program\r\n     3     SIGQUIT      create core image    quit program\r\n     4     SIGILL       create core image    illegal instruction\r\n     5     SIGTRAP      create core image    trace trap\r\n     6     SIGABRT      create core image    abort program (formerly SIGIOT)\r\n     7     SIGEMT       create core image    emulate instruction executed\r\n     8     SIGFPE       create core image    floating-point exception\r\n *   9     SIGKILL      terminate process    kill program\r\n     10    SIGBUS       create core image    bus error\r\n     11    SIGSEGV      create core image    segmentation violation\r\n     12    SIGSYS       create core image    non-existent system call invoked\r\n     13    SIGPIPE      terminate process    write on a pipe with no reader\r\n     14    SIGALRM      terminate process    real-time timer expired\r\n *   15    SIGTERM      terminate process    software termination signal\r\n     16    SIGURG       discard signal       urgent condition present on socket\r\n     17    SIGSTOP      stop process         stop (cannot be caught or ignored)\r\n     18    SIGTSTP      stop process         stop signal generated from keyboard\r\n     19    SIGCONT      discard signal       continue after stop\r\n     20    SIGCHLD      discard signal       child status has changed\r\n     21    SIGTTIN      stop process         background read attempted from control terminal\r\n     22    SIGTTOU      stop process         background write attempted to control terminal\r\n     23    SIGIO        discard signal       I/O is possible on a descriptor (see fcntl(2))\r\n     24    SIGXCPU      terminate process    cpu time limit exceeded (see setrlimit(2))\r\n     25    SIGXFSZ      terminate process    file size limit exceeded (see setrlimit(2))\r\n     26    SIGVTALRM    terminate process    virtual time alarm (see setitimer(2))\r\n     27    SIGPROF      terminate process    profiling timer alarm (see setitimer(2))\r\n     28    SIGWINCH     discard signal       Window size change\r\n     29    SIGINFO      discard signal       status request from keyboard\r\n     30    SIGUSR1      terminate process    User defined signal 1\r\n     31    SIGUSR2      terminate process    User defined signal 2\r\n```\r\nI wouldn't `SIGTERM` a node that was a consensus reaching node (signer/authority), vs. just an RPC node. Generally speaking though, you would want your node to actually fail fast rather than persist in a sub optimal state as you are describing. Process termination is dependent ultimately on what distro/terminal/jvm implementation you are using, as they all have varying degrees of influence on how processes have (obviously).\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/665047754/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/728958659",
    "html_url": "https://github.com/hyperledger/besu/issues/1260#issuecomment-728958659",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/1260",
    "id": 728958659,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcyODk1ODY1OQ==",
    "user": {
      "login": "winsvega",
      "id": 4492341,
      "node_id": "MDQ6VXNlcjQ0OTIzNDE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4492341?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/winsvega",
      "html_url": "https://github.com/winsvega",
      "followers_url": "https://api.github.com/users/winsvega/followers",
      "following_url": "https://api.github.com/users/winsvega/following{/other_user}",
      "gists_url": "https://api.github.com/users/winsvega/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/winsvega/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/winsvega/subscriptions",
      "organizations_url": "https://api.github.com/users/winsvega/orgs",
      "repos_url": "https://api.github.com/users/winsvega/repos",
      "events_url": "https://api.github.com/users/winsvega/events{/privacy}",
      "received_events_url": "https://api.github.com/users/winsvega/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-11-17T14:19:43Z",
    "updated_at": "2020-11-17T14:19:43Z",
    "author_association": "NONE",
    "body": "I think the issue might be that a VM I work with is unstable through out the time of execution as it is a shared vm. This can be the cause of instability and execution interruptions",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/728958659/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/773054536",
    "html_url": "https://github.com/hyperledger/besu/issues/1260#issuecomment-773054536",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/1260",
    "id": 773054536,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc3MzA1NDUzNg==",
    "user": {
      "login": "azizazlan",
      "id": 732071,
      "node_id": "MDQ6VXNlcjczMjA3MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/732071?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/azizazlan",
      "html_url": "https://github.com/azizazlan",
      "followers_url": "https://api.github.com/users/azizazlan/followers",
      "following_url": "https://api.github.com/users/azizazlan/following{/other_user}",
      "gists_url": "https://api.github.com/users/azizazlan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/azizazlan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/azizazlan/subscriptions",
      "organizations_url": "https://api.github.com/users/azizazlan/orgs",
      "repos_url": "https://api.github.com/users/azizazlan/repos",
      "events_url": "https://api.github.com/users/azizazlan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/azizazlan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-02-04T06:03:13Z",
    "updated_at": "2021-02-04T06:03:47Z",
    "author_association": "NONE",
    "body": "The besu with 3 nodes works on a VPS for the first time. However, when I restarted/rebooted the machine(VPS), the first Node-1 just stuck on the following line.\r\n\r\n![Screenshot 2021-02-04 at 2 02 50 PM](https://user-images.githubusercontent.com/732071/106851695-b08b4200-66f1-11eb-8451-c9a7044fe3ab.png)\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/773054536/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/775386977",
    "html_url": "https://github.com/hyperledger/besu/issues/1260#issuecomment-775386977",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/1260",
    "id": 775386977,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc3NTM4Njk3Nw==",
    "user": {
      "login": "shemnon",
      "id": 38109,
      "node_id": "MDQ6VXNlcjM4MTA5",
      "avatar_url": "https://avatars.githubusercontent.com/u/38109?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/shemnon",
      "html_url": "https://github.com/shemnon",
      "followers_url": "https://api.github.com/users/shemnon/followers",
      "following_url": "https://api.github.com/users/shemnon/following{/other_user}",
      "gists_url": "https://api.github.com/users/shemnon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/shemnon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/shemnon/subscriptions",
      "organizations_url": "https://api.github.com/users/shemnon/orgs",
      "repos_url": "https://api.github.com/users/shemnon/repos",
      "events_url": "https://api.github.com/users/shemnon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/shemnon/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-02-08T19:28:49Z",
    "updated_at": "2021-02-08T19:30:02Z",
    "author_association": "MEMBER",
    "body": "Are there a lot of VMs on that machine that require entropy?  i.e. are all 3 nodes on the same physical box?  I think the random number entrpoy is being drained.\r\n\r\nAdd BESU_OPTS=-Dsecp256k1.randomize=false as an environmental argument to your startup script.  This flag reduces the use of entropy in that library. (see https://github.com/hyperledger/besu/issues/1464#issuecomment-710062915).  The randomization is enabled by default to prevent side channel attacks against node keys.  If strong entropy is not available then it may as well be turned off.",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/775386977/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1004531671",
    "html_url": "https://github.com/hyperledger/besu/issues/1260#issuecomment-1004531671",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/1260",
    "id": 1004531671,
    "node_id": "IC_kwDODE2jmc473-_X",
    "user": {
      "login": "macfarla",
      "id": 2627919,
      "node_id": "MDQ6VXNlcjI2Mjc5MTk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2627919?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/macfarla",
      "html_url": "https://github.com/macfarla",
      "followers_url": "https://api.github.com/users/macfarla/followers",
      "following_url": "https://api.github.com/users/macfarla/following{/other_user}",
      "gists_url": "https://api.github.com/users/macfarla/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/macfarla/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/macfarla/subscriptions",
      "organizations_url": "https://api.github.com/users/macfarla/orgs",
      "repos_url": "https://api.github.com/users/macfarla/repos",
      "events_url": "https://api.github.com/users/macfarla/events{/privacy}",
      "received_events_url": "https://api.github.com/users/macfarla/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-01-04T05:06:03Z",
    "updated_at": "2022-01-04T05:06:03Z",
    "author_association": "CONTRIBUTOR",
    "body": "Closing this one - @winsvega reach out if you're still having issues!",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1004531671/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
