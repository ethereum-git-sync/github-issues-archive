{
  "url": "https://api.github.com/repos/hyperledger/besu/issues/5461",
  "repository_url": "https://api.github.com/repos/hyperledger/besu",
  "labels_url": "https://api.github.com/repos/hyperledger/besu/issues/5461/labels{/name}",
  "comments_url": "https://api.github.com/repos/hyperledger/besu/issues/5461/comments",
  "events_url": "https://api.github.com/repos/hyperledger/besu/issues/5461/events",
  "html_url": "https://github.com/hyperledger/besu/issues/5461",
  "id": 1711219653,
  "node_id": "I_kwDODE2jmc5l_yPF",
  "number": 5461,
  "title": "Use `ubuntu:latest` in each Dockerfile instead of locking a version",
  "user": {
    "login": "siladu",
    "id": 2893793,
    "node_id": "MDQ6VXNlcjI4OTM3OTM=",
    "avatar_url": "https://avatars.githubusercontent.com/u/2893793?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/siladu",
    "html_url": "https://github.com/siladu",
    "followers_url": "https://api.github.com/users/siladu/followers",
    "following_url": "https://api.github.com/users/siladu/following{/other_user}",
    "gists_url": "https://api.github.com/users/siladu/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/siladu/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/siladu/subscriptions",
    "organizations_url": "https://api.github.com/users/siladu/orgs",
    "repos_url": "https://api.github.com/users/siladu/repos",
    "events_url": "https://api.github.com/users/siladu/events{/privacy}",
    "received_events_url": "https://api.github.com/users/siladu/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 1,
  "created_at": "2023-05-16T04:35:05Z",
  "updated_at": "2023-05-25T22:26:09Z",
  "closed_at": "2023-05-25T22:26:09Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "When releasing `23.4.0`, the combination of the snappy upgrade https://github.com/hyperledger/besu/commit/557c568c18d5d3b7604d84581748529428c27d16#diff-ccf0742627eacc56b79b1664cc9b996a4d916268aa4d429ab286ffe5e0df86f9R227\r\nwhile still using `ubuntu:20.04` in certain Dockerfiles e.g. https://github.com/hyperledger/besu/blob/c85841d308f9d4bc37b6d3a0f61737a3f4b18c35/docker/openjdk-17/Dockerfile#L2\r\n\r\ncaused this issue https://github.com/xerial/snappy-java/issues/417\r\n\r\nWe are hotfixing by upgrading to `ubuntu:22.04` which is in line with more decent Dockerfiles such as https://github.com/hyperledger/besu/blob/c85841d308f9d4bc37b6d3a0f61737a3f4b18c35/docker/openj9-jdk-17/Dockerfile#L1\r\n\r\nWe could have picked this issue up with post-release testing, however, I think it would make our lives easier if we just uses the \"latest LTS\" ubuntu in our Dockerfiles, i.e. `ubuntu:latest` (https://hub.docker.com/_/ubuntu)",
  "closed_by": {
    "login": "non-fungible-nelson",
    "id": 85905982,
    "node_id": "MDQ6VXNlcjg1OTA1OTgy",
    "avatar_url": "https://avatars.githubusercontent.com/u/85905982?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/non-fungible-nelson",
    "html_url": "https://github.com/non-fungible-nelson",
    "followers_url": "https://api.github.com/users/non-fungible-nelson/followers",
    "following_url": "https://api.github.com/users/non-fungible-nelson/following{/other_user}",
    "gists_url": "https://api.github.com/users/non-fungible-nelson/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/non-fungible-nelson/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/non-fungible-nelson/subscriptions",
    "organizations_url": "https://api.github.com/users/non-fungible-nelson/orgs",
    "repos_url": "https://api.github.com/users/non-fungible-nelson/repos",
    "events_url": "https://api.github.com/users/non-fungible-nelson/events{/privacy}",
    "received_events_url": "https://api.github.com/users/non-fungible-nelson/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/5461/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/hyperledger/besu/issues/5461/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1550596174",
    "html_url": "https://github.com/hyperledger/besu/issues/5461#issuecomment-1550596174",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/5461",
    "id": 1550596174,
    "node_id": "IC_kwDODE2jmc5cbDhO",
    "user": {
      "login": "siladu",
      "id": 2893793,
      "node_id": "MDQ6VXNlcjI4OTM3OTM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2893793?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/siladu",
      "html_url": "https://github.com/siladu",
      "followers_url": "https://api.github.com/users/siladu/followers",
      "following_url": "https://api.github.com/users/siladu/following{/other_user}",
      "gists_url": "https://api.github.com/users/siladu/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/siladu/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/siladu/subscriptions",
      "organizations_url": "https://api.github.com/users/siladu/orgs",
      "repos_url": "https://api.github.com/users/siladu/repos",
      "events_url": "https://api.github.com/users/siladu/events{/privacy}",
      "received_events_url": "https://api.github.com/users/siladu/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-05-17T02:27:16Z",
    "updated_at": "2023-05-17T02:27:16Z",
    "author_association": "CONTRIBUTOR",
    "body": "Discussion on Hyperledger besu-contributors https://discord.com/channels/905194001349627914/905205502940696607/1108163566521028759\r\n\r\nLatest summary: \r\n> Locking the LTS version feels like the safest default position to take, considering everyone's points. Likely leads to less compat issues overall (based on this being the first time it's happened to my knowledge).\r\n\r\n> I think then we are missing some post-burn-in (pre-\"release announcement\") docker image testing which would have picked this up.\r\n\r\n> Also, we should consider upgrading ubuntu LTS version as a matter of course, maybe whenever we update besu deps, e.g. as part of a quarterly release \r\n\r\nWill leave this open for a while to give others a chance to comment",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1550596174/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
