{
  "url": "https://api.github.com/repos/hyperledger/besu/issues/6290",
  "repository_url": "https://api.github.com/repos/hyperledger/besu",
  "labels_url": "https://api.github.com/repos/hyperledger/besu/issues/6290/labels{/name}",
  "comments_url": "https://api.github.com/repos/hyperledger/besu/issues/6290/comments",
  "events_url": "https://api.github.com/repos/hyperledger/besu/issues/6290/events",
  "html_url": "https://github.com/hyperledger/besu/issues/6290",
  "id": 2039274367,
  "node_id": "I_kwDODE2jmc55jNt_",
  "number": 6290,
  "title": "Clique createemptyblock set to false, should allow to sync even if there are empty blocks",
  "user": {
    "login": "fab-10",
    "id": 91944855,
    "node_id": "U_kgDOBXr3lw",
    "avatar_url": "https://avatars.githubusercontent.com/u/91944855?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/fab-10",
    "html_url": "https://github.com/fab-10",
    "followers_url": "https://api.github.com/users/fab-10/followers",
    "following_url": "https://api.github.com/users/fab-10/following{/other_user}",
    "gists_url": "https://api.github.com/users/fab-10/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/fab-10/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/fab-10/subscriptions",
    "organizations_url": "https://api.github.com/users/fab-10/orgs",
    "repos_url": "https://api.github.com/users/fab-10/repos",
    "events_url": "https://api.github.com/users/fab-10/events{/privacy}",
    "received_events_url": "https://api.github.com/users/fab-10/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 1921587647,
      "node_id": "MDU6TGFiZWwxOTIxNTg3NjQ3",
      "url": "https://api.github.com/repos/hyperledger/besu/labels/TeamGroot",
      "name": "TeamGroot",
      "color": "1d76db",
      "default": false,
      "description": "GH issues worked on by Groot Team"
    },
    {
      "id": 3372112640,
      "node_id": "MDU6TGFiZWwzMzcyMTEyNjQw",
      "url": "https://api.github.com/repos/hyperledger/besu/labels/consensus",
      "name": "consensus",
      "color": "7A9730",
      "default": false,
      "description": ""
    },
    {
      "id": 3932728358,
      "node_id": "LA_kwDODE2jmc7qaKwm",
      "url": "https://api.github.com/repos/hyperledger/besu/labels/syncing",
      "name": "syncing",
      "color": "ECC431",
      "default": false,
      "description": ""
    },
    {
      "id": 4328706977,
      "node_id": "LA_kwDODE2jmc8AAAABAgLToQ",
      "url": "https://api.github.com/repos/hyperledger/besu/labels/TeamChupa",
      "name": "TeamChupa",
      "color": "fbca04",
      "default": false,
      "description": "GH issues worked on by Chupacabara Team"
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 1,
  "created_at": "2023-12-13T09:13:46Z",
  "updated_at": "2024-01-23T06:09:09Z",
  "closed_at": null,
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "Found that the `createemptyblocks` option, introduced in https://github.com/hyperledger/besu/pull/6082, prevents syncing a network that had some empty blocks at the beginning, that scenario could happen if a network was created without this option (or with it set to true) and then changed to false.\r\n\r\nThe validation should only apply when the node is creating a block, but not when the node is syncing/importing existing blocks.",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/6290/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/hyperledger/besu/issues/6290/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1855014172",
    "html_url": "https://github.com/hyperledger/besu/issues/6290#issuecomment-1855014172",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/6290",
    "id": 1855014172,
    "node_id": "IC_kwDODE2jmc5ukUUc",
    "user": {
      "login": "jframe",
      "id": 909467,
      "node_id": "MDQ6VXNlcjkwOTQ2Nw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/909467?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jframe",
      "html_url": "https://github.com/jframe",
      "followers_url": "https://api.github.com/users/jframe/followers",
      "following_url": "https://api.github.com/users/jframe/following{/other_user}",
      "gists_url": "https://api.github.com/users/jframe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jframe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jframe/subscriptions",
      "organizations_url": "https://api.github.com/users/jframe/orgs",
      "repos_url": "https://api.github.com/users/jframe/repos",
      "events_url": "https://api.github.com/users/jframe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jframe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-12-14T02:32:30Z",
    "updated_at": "2023-12-14T02:32:30Z",
    "author_association": "CONTRIBUTOR",
    "body": "That is the expected behaviour, the value for `createemptyblocks` must be the same and was documented with that warning https://besu.hyperledger.org/development/private-networks/how-to/configure/consensus/clique#skip-empty-blocks.\r\n\r\nIf we don't validate existing blocks then it would be possible for nodes to have a different value for `createemptyblocks` and we could have a network split. I guess could just validate newly imported blocks though including those that are created and imported that might be ok.\r\n\r\nIs it necessary to change from having no empty blocks to having empty blocks? A nicer approach rather than removing the header validation would be add a transition for this.",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1855014172/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
