{
  "url": "https://api.github.com/repos/hyperledger/besu/issues/5697",
  "repository_url": "https://api.github.com/repos/hyperledger/besu",
  "labels_url": "https://api.github.com/repos/hyperledger/besu/issues/5697/labels{/name}",
  "comments_url": "https://api.github.com/repos/hyperledger/besu/issues/5697/comments",
  "events_url": "https://api.github.com/repos/hyperledger/besu/issues/5697/events",
  "html_url": "https://github.com/hyperledger/besu/issues/5697",
  "id": 1800819029,
  "node_id": "I_kwDODE2jmc5rVlFV",
  "number": 5697,
  "title": "Thread blocked due to allocateInstance on Windows",
  "user": {
    "login": "LeoHLee",
    "id": 48520136,
    "node_id": "MDQ6VXNlcjQ4NTIwMTM2",
    "avatar_url": "https://avatars.githubusercontent.com/u/48520136?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/LeoHLee",
    "html_url": "https://github.com/LeoHLee",
    "followers_url": "https://api.github.com/users/LeoHLee/followers",
    "following_url": "https://api.github.com/users/LeoHLee/following{/other_user}",
    "gists_url": "https://api.github.com/users/LeoHLee/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/LeoHLee/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/LeoHLee/subscriptions",
    "organizations_url": "https://api.github.com/users/LeoHLee/orgs",
    "repos_url": "https://api.github.com/users/LeoHLee/repos",
    "events_url": "https://api.github.com/users/LeoHLee/events{/privacy}",
    "received_events_url": "https://api.github.com/users/LeoHLee/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 1537362490,
      "node_id": "MDU6TGFiZWwxNTM3MzYyNDkw",
      "url": "https://api.github.com/repos/hyperledger/besu/labels/bug",
      "name": "bug",
      "color": "d73a4a",
      "default": true,
      "description": "Something isn't working"
    },
    {
      "id": 1921587647,
      "node_id": "MDU6TGFiZWwxOTIxNTg3NjQ3",
      "url": "https://api.github.com/repos/hyperledger/besu/labels/TeamGroot",
      "name": "TeamGroot",
      "color": "1d76db",
      "default": false,
      "description": "GH issues worked on by Groot Team"
    },
    {
      "id": 2051683248,
      "node_id": "MDU6TGFiZWwyMDUxNjgzMjQ4",
      "url": "https://api.github.com/repos/hyperledger/besu/labels/P2",
      "name": "P2",
      "color": "ff9900",
      "default": false,
      "description": "High (ex: Degrading performance issues, unexpected behavior of core features (DevP2P, syncing, etc))"
    },
    {
      "id": 2152224197,
      "node_id": "MDU6TGFiZWwyMTUyMjI0MTk3",
      "url": "https://api.github.com/repos/hyperledger/besu/labels/TeamRevenant",
      "name": "TeamRevenant",
      "color": "78e298",
      "default": false,
      "description": "GH issues worked on by Revenant Team"
    },
    {
      "id": 3013559202,
      "node_id": "MDU6TGFiZWwzMDEzNTU5MjAy",
      "url": "https://api.github.com/repos/hyperledger/besu/labels/mainnet",
      "name": "mainnet",
      "color": "9D578C",
      "default": false,
      "description": ""
    },
    {
      "id": 4328706977,
      "node_id": "LA_kwDODE2jmc8AAAABAgLToQ",
      "url": "https://api.github.com/repos/hyperledger/besu/labels/TeamChupa",
      "name": "TeamChupa",
      "color": "fbca04",
      "default": false,
      "description": "GH issues worked on by Chupacabara Team"
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 10,
  "created_at": "2023-07-12T11:56:01Z",
  "updated_at": "2023-07-28T05:02:53Z",
  "closed_at": "2023-07-28T05:02:53Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "### Description\r\nI ran `besu.bat --data-path=besu-eth --sync-mode=X_SNAP --data-storage-format=BONSAI --engine-rpc-enabled --engine-jwt-secret=jwtsecret.hex --Xdns-enabled=true --rpc-http-enabled=true --rpc-http-api=ADMIN,ETH,WEB3,NET`, which starts an execution client for Ethereum Mainnet on Windows. After about 5.5 hours of syncing, the following warnings are output.\r\n\r\n```\r\n2023-07-10 23:00:34.109+08:00 | EthScheduler-Services-26 (batchPersistTrieNodeData) | INFO  | SnapsyncMetricsManager | Healed 4589584 world state trie nodes, Peer count: 4\r\n2023-07-10 23:00:54.160+08:00 | EthScheduler-Services-42 (importBlock) | INFO  | FastImportBlocksStep | Block import progress: 3789645 of 17656454 (21%)\r\n2023-07-10 23:00:59.587+08:00 | vertx-blocked-thread-checker | WARN  | BlockedThreadChecker | Thread Thread[#35,vert.x-eventloop-thread-1,5,main] has been blocked for 3602 ms, time limit is 2000 ms\r\n2023-07-10 23:01:26.646+08:00 | EthScheduler-Services-42 (importBlock) | INFO  | FastImportBlocksStep | Block import progress: 3790445 of 17656454 (21%)\r\n2023-07-10 23:01:35.295+08:00 | EthScheduler-Services-26 (batchPersistTrieNodeData) | INFO  | SnapsyncMetricsManager | Healed 4603975 world state trie nodes, Peer count: 3\r\n2023-07-10 23:02:06.691+08:00 | EthScheduler-Services-42 (importBlock) | INFO  | FastImportBlocksStep | Block import progress: 3791245 of 17656454 (21%)\r\n2023-07-10 23:02:35.758+08:00 | EthScheduler-Services-26 (batchPersistTrieNodeData) | INFO  | SnapsyncMetricsManager | Healed 4616236 world state trie nodes, Peer count: 3\r\n2023-07-10 23:02:48.532+08:00 | EthScheduler-Services-42 (importBlock) | INFO  | FastImportBlocksStep | Block import progress: 3792045 of 17656454 (21%)\r\n2023-07-10 23:03:31.292+08:00 | EthScheduler-Services-42 (importBlock) | INFO  | FastImportBlocksStep | Block import progress: 3792645 of 17656454 (21%)\r\n2023-07-10 23:03:35.811+08:00 | EthScheduler-Services-26 (batchPersistTrieNodeData) | INFO  | SnapsyncMetricsManager | Healed 4624273 world state trie nodes, Peer count: 3\r\n2023-07-10 23:03:52.409+08:00 | vertx-blocked-thread-checker | WARN  | BlockedThreadChecker | Thread Thread[#35,vert.x-eventloop-thread-1,5,main] has been blocked for 3702 ms, time limit is 2000 ms\r\n2023-07-10 23:03:56.197+08:00 | vertx-blocked-thread-checker | WARN  | BlockedThreadChecker | Thread Thread[#35,vert.x-eventloop-thread-1,5,main] has been blocked for 7450 ms, time limit is 2000 ms\r\nio.vertx.core.VertxException: Thread blocked\r\n        at java.base/java.lang.invoke.DirectMethodHandle.allocateInstance(DirectMethodHandle.java:501)\r\n        at org.hyperledger.besu.ethereum.p2p.discovery.internal.PeerDiscoveryController.lambda$bond$10(PeerDiscoveryController.java:538)\r\n        at java.base/java.util.concurrent.CompletableFuture$UniAccept.tryFire(CompletableFuture.java:718)\r\n        at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:510)\r\n        at java.base/java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:2179)\r\n        at org.hyperledger.besu.ethereum.p2p.discovery.VertxPeerDiscoveryAgent$VertxAsyncExecutor.lambda$execute$1(VertxPeerDiscoveryAgent.java:327)\r\n        at io.vertx.core.impl.future.FutureImpl$3.onSuccess(FutureImpl.java:141)\r\n        at io.vertx.core.impl.future.FutureBase.lambda$emitSuccess$0(FutureBase.java:54)\r\n        at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:174)\r\n        at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:167)\r\n        at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:470)\r\n        at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569)\r\n        at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\r\n        at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n        at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n        at java.base/java.lang.Thread.run(Thread.java:1623)\r\n2023-07-10 23:03:59.968+08:00 | vertx-blocked-thread-checker | WARN  | BlockedThreadChecker | Thread Thread[#35,vert.x-eventloop-thread-1,5,main] has been blocked for 11262 ms, time limit is 2000 ms\r\nio.vertx.core.VertxException: Thread blocked\r\n        at java.base/java.lang.invoke.DirectMethodHandle.allocateInstance(DirectMethodHandle.java:501)\r\n        at org.hyperledger.besu.ethereum.p2p.discovery.internal.PeerDiscoveryController.lambda$bond$10(PeerDiscoveryController.java:538)\r\n        at java.base/java.util.concurrent.CompletableFuture$UniAccept.tryFire(CompletableFuture.java:718)\r\n        at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:510)\r\n        at java.base/java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:2179)\r\n        at org.hyperledger.besu.ethereum.p2p.discovery.VertxPeerDiscoveryAgent$VertxAsyncExecutor.lambda$execute$1(VertxPeerDiscoveryAgent.java:327)\r\n        at io.vertx.core.impl.future.FutureImpl$3.onSuccess(FutureImpl.java:141)\r\n        at io.vertx.core.impl.future.FutureBase.lambda$emitSuccess$0(FutureBase.java:54)\r\n        at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:174)\r\n        at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:167)\r\n        at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:470)\r\n        at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569)\r\n        at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\r\n        at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n        at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n        at java.base/java.lang.Thread.run(Thread.java:1623)\r\n2023-07-10 23:04:11.378+08:00 | vertx-blocked-thread-checker | WARN  | BlockedThreadChecker | Thread Thread[#35,vert.x-eventloop-thread-1,5,main] has been blocked for 3828 ms, time limit is 2000 ms\r\n2023-07-10 23:04:15.515+08:00 | vertx-blocked-thread-checker | WARN  | BlockedThreadChecker | Thread Thread[#35,vert.x-eventloop-thread-1,5,main] has been blocked for 7964 ms, time limit is 2000 ms\r\nio.vertx.core.VertxException: Thread blocked\r\n        at java.base/java.lang.invoke.DirectMethodHandle.allocateInstance(DirectMethodHandle.java:501)\r\n        at org.hyperledger.besu.ethereum.p2p.discovery.VertxPeerDiscoveryAgent.handlePacket(VertxPeerDiscoveryAgent.java:283)\r\n        at io.vertx.core.impl.EventLoopContext.emit(EventLoopContext.java:55)\r\n        at io.vertx.core.impl.ContextBase.emit(ContextBase.java:239)\r\n        at io.vertx.core.datagram.impl.DatagramSocketImpl$Connection.handlePacket(DatagramSocketImpl.java:551)\r\n        at io.vertx.core.datagram.impl.DatagramSocketImpl$Connection.handleMessage(DatagramSocketImpl.java:531)\r\n        at io.vertx.core.net.impl.ConnectionBase.read(ConnectionBase.java:157)\r\n        at io.vertx.core.net.impl.VertxHandler.channelRead(VertxHandler.java:153)\r\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442)\r\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\r\n        at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)\r\n        at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)\r\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)\r\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\r\n        at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)\r\n        at io.netty.channel.nio.AbstractNioMessageChannel$NioMessageUnsafe.read(AbstractNioMessageChannel.java:97)\r\n        at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)\r\n        at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)\r\n        at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)\r\n        at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)\r\n        at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\r\n        at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n        at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n        at java.base/java.lang.Thread.run(Thread.java:1623)\r\n2023-07-10 23:04:19.305+08:00 | vertx-blocked-thread-checker | WARN  | BlockedThreadChecker | Thread Thread[#35,vert.x-eventloop-thread-1,5,main] has been blocked for 3753 ms, time limit is 2000 ms\r\n2023-07-10 23:04:35.739+08:00 | vertx-blocked-thread-checker | WARN  | BlockedThreadChecker | Thread Thread[#34,vert.x-eventloop-thread-0,5,main] has been blocked for 7568 ms, time limit is 2000 ms\r\nio.vertx.core.VertxException: Thread blocked\r\n        at java.base/jdk.internal.misc.Unsafe.allocateInstance(Native Method)\r\n        at java.base/java.lang.invoke.DirectMethodHandle.allocateInstance(DirectMethodHandle.java:501)\r\n        at org.hyperledger.besu.ethereum.api.jsonrpc.internal.filter.FilterManager.lambda$startFilterTimeoutTimer$2(FilterManager.java:82)\r\n        at io.vertx.core.impl.VertxImpl$InternalTimerHandler.handle(VertxImpl.java:927)\r\n        at io.vertx.core.impl.VertxImpl$InternalTimerHandler.handle(VertxImpl.java:903)\r\n        at io.vertx.core.impl.EventLoopContext.emit(EventLoopContext.java:55)\r\n        at io.vertx.core.impl.ContextBase.emit(ContextBase.java:239)\r\n        at io.vertx.core.impl.ContextInternal.emit(ContextInternal.java:194)\r\n        at io.vertx.core.impl.VertxImpl$InternalTimerHandler.run(VertxImpl.java:921)\r\n        at io.netty.util.concurrent.PromiseTask.runTask(PromiseTask.java:98)\r\n        at io.netty.util.concurrent.ScheduledFutureTask.run(ScheduledFutureTask.java:159)\r\n        at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:174)\r\n        at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:167)\r\n        at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:470)\r\n        at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569)\r\n        at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\r\n        at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n        at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n        at java.base/java.lang.Thread.run(Thread.java:1623)\r\n2023-07-10 23:04:35.755+08:00 | vertx-blocked-thread-checker | WARN  | BlockedThreadChecker | Thread Thread[#34,vert.x-eventloop-thread-0,5,main] has been blocked for 7585 ms, time limit is 2000 ms\r\nio.vertx.core.VertxException: Thread blocked\r\n        at java.base/jdk.internal.misc.Unsafe.allocateInstance(Native Method)\r\n        at java.base/java.lang.invoke.DirectMethodHandle.allocateInstance(DirectMethodHandle.java:501)\r\n        at org.hyperledger.besu.ethereum.api.jsonrpc.internal.filter.FilterManager.lambda$startFilterTimeoutTimer$2(FilterManager.java:82)\r\n        at io.vertx.core.impl.VertxImpl$InternalTimerHandler.handle(VertxImpl.java:927)\r\n        at io.vertx.core.impl.VertxImpl$InternalTimerHandler.handle(VertxImpl.java:903)\r\n        at io.vertx.core.impl.EventLoopContext.emit(EventLoopContext.java:55)\r\n        at io.vertx.core.impl.ContextBase.emit(ContextBase.java:239)\r\n        at io.vertx.core.impl.ContextInternal.emit(ContextInternal.java:194)\r\n        at io.vertx.core.impl.VertxImpl$InternalTimerHandler.run(VertxImpl.java:921)\r\n        at io.netty.util.concurrent.PromiseTask.runTask(PromiseTask.java:98)\r\n        at io.netty.util.concurrent.ScheduledFutureTask.run(ScheduledFutureTask.java:159)\r\n        at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:174)\r\n        at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:167)\r\n        at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:470)\r\n        at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569)\r\n        at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\r\n        at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n        at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n        at java.base/java.lang.Thread.run(Thread.java:1623)\r\n```\r\n\r\nMeanwhile, Teku losed connection with Besu.\r\n\r\nI tried `java 17.0.7 2023-04-18 LTS` from Oracle, and there were still thread blocked warnings after serveral hours of syncing.\r\n\r\n### Versions (Add all that apply)\r\n* Software version: v23.4.4\r\n* Java version: openjdk 20.0.1 2023-04-18\r\n* OS Name & Version: Windows 10 22H2 19045.3155\r\n* Consensus Client & Version if using Proof of Stake: Teku 23.6.1\r\n\r\n### Hardware Info\r\n* CPU: 4-core Ryzen 3 4100\r\n* RAM: 32GB\r\n",
  "closed_by": {
    "login": "siladu",
    "id": 2893793,
    "node_id": "MDQ6VXNlcjI4OTM3OTM=",
    "avatar_url": "https://avatars.githubusercontent.com/u/2893793?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/siladu",
    "html_url": "https://github.com/siladu",
    "followers_url": "https://api.github.com/users/siladu/followers",
    "following_url": "https://api.github.com/users/siladu/following{/other_user}",
    "gists_url": "https://api.github.com/users/siladu/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/siladu/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/siladu/subscriptions",
    "organizations_url": "https://api.github.com/users/siladu/orgs",
    "repos_url": "https://api.github.com/users/siladu/repos",
    "events_url": "https://api.github.com/users/siladu/events{/privacy}",
    "received_events_url": "https://api.github.com/users/siladu/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/5697/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/hyperledger/besu/issues/5697/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1632732830",
    "html_url": "https://github.com/hyperledger/besu/issues/5697#issuecomment-1632732830",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/5697",
    "id": 1632732830,
    "node_id": "IC_kwDODE2jmc5hUYae",
    "user": {
      "login": "non-fungible-nelson",
      "id": 85905982,
      "node_id": "MDQ6VXNlcjg1OTA1OTgy",
      "avatar_url": "https://avatars.githubusercontent.com/u/85905982?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/non-fungible-nelson",
      "html_url": "https://github.com/non-fungible-nelson",
      "followers_url": "https://api.github.com/users/non-fungible-nelson/followers",
      "following_url": "https://api.github.com/users/non-fungible-nelson/following{/other_user}",
      "gists_url": "https://api.github.com/users/non-fungible-nelson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/non-fungible-nelson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/non-fungible-nelson/subscriptions",
      "organizations_url": "https://api.github.com/users/non-fungible-nelson/orgs",
      "repos_url": "https://api.github.com/users/non-fungible-nelson/repos",
      "events_url": "https://api.github.com/users/non-fungible-nelson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/non-fungible-nelson/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-07-12T15:15:40Z",
    "updated_at": "2023-07-12T15:15:40Z",
    "author_association": "CONTRIBUTOR",
    "body": "Hi there - thanks for the report. To confirm, the node is unable to continue its sync at this point? \r\n\r\n@pinges - the blocked threads look related to peering at first glance. I am trying to recall if this was the error that is safe top ignore on a peer-by-peer basis or if this is something else. Can you take a look? ",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1632732830/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1632778912",
    "html_url": "https://github.com/hyperledger/besu/issues/5697#issuecomment-1632778912",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/5697",
    "id": 1632778912,
    "node_id": "IC_kwDODE2jmc5hUjqg",
    "user": {
      "login": "LeoHLee",
      "id": 48520136,
      "node_id": "MDQ6VXNlcjQ4NTIwMTM2",
      "avatar_url": "https://avatars.githubusercontent.com/u/48520136?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/LeoHLee",
      "html_url": "https://github.com/LeoHLee",
      "followers_url": "https://api.github.com/users/LeoHLee/followers",
      "following_url": "https://api.github.com/users/LeoHLee/following{/other_user}",
      "gists_url": "https://api.github.com/users/LeoHLee/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/LeoHLee/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/LeoHLee/subscriptions",
      "organizations_url": "https://api.github.com/users/LeoHLee/orgs",
      "repos_url": "https://api.github.com/users/LeoHLee/repos",
      "events_url": "https://api.github.com/users/LeoHLee/events{/privacy}",
      "received_events_url": "https://api.github.com/users/LeoHLee/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-07-12T15:42:38Z",
    "updated_at": "2023-07-12T15:42:38Z",
    "author_association": "NONE",
    "body": "> Hi there - thanks for the report. To confirm, the node is unable to continue its sync at this point?\r\n\r\nThere was no more logs about syncing progress in the next 10 minutes, and Teku's `Remaining Slots` keeps increasing, so I think sync did fail to continue.\r\n\r\nHere is Teku's log around this point of time.\r\n```\r\n2023-07-10 23:03:23.308+08:00 | TimeTick-1 | INFO  | teku-event-log | \u001B[37mSyncing     *** Target slot: 6848115, Head slot: 6848114, Waiting for execution layer sync, Connected peers: 17\u001B[0m\r\n2023-07-10 23:03:35.215+08:00 | TimeTick-1 | INFO  | teku-event-log | \u001B[37mSyncing     *** Target slot: 6848116, Head slot: 6848115, Waiting for execution layer sync, Connected peers: 20\u001B[0m\r\n2023-07-10 23:03:47.109+08:00 | TimeTick-1 | INFO  | teku-event-log | \u001B[37mSyncing     *** Target slot: 6848117, Head slot: 6848116, Waiting for execution layer sync, Connected peers: 19\u001B[0m\r\n2023-07-10 23:03:52.613+08:00 | pool-4-thread-579 | ERROR | TimeBasedEth1HeadTracker | Failed to update eth1 chain head\r\njava.net.SocketTimeoutException: Read timed out\r\nat sun.nio.ch.NioSocketImpl.timedRead(NioSocketImpl.java:273) ~[?:?]\r\nat ...\r\n2023-07-10 23:03:55.128+08:00 | CompletableFutureDelayScheduler | WARN  | teku-event-log | \u001B[33mExecution Client request timed out. Make sure the Execution Client is online and can respond to requests.\u001B[0m\r\n2023-07-10 23:03:55.131+08:00 | forkchoice-async-0 | ERROR | BlockManager | Unable to import block: Execution Client returned an error: tech.pegasys.teku.ethereum.executionclient.response.InvalidRemoteResponseException: Invalid remote response from the execution client: TimeoutException\r\n2023-07-10 23:03:57.132+08:00 | beaconchain-async-19 | INFO  | FailedExecutionPool | Retrying execution of block 709e9c251edd1721804a0f779db6f2df253ece84ebd1952e36ad304206ef104c (6848117)\r\n2023-07-10 23:03:59.091+08:00 | TimeTick-1 | INFO  | teku-event-log | \u001B[37mSyncing     *** Target slot: 6848118, Head slot: 6848116, Remaining slots: 2, Connected peers: 23\u001B[0m\r\n2023-07-10 23:04:02.631+08:00 | pool-4-thread-579 | ERROR | TimeBasedEth1HeadTracker | Failed to update eth1 chain head\r\njava.net.SocketTimeoutException: Read timed out\r\nat sun.nio.ch.NioSocketImpl.timedRead(NioSocketImpl.java:273) ~[?:?]\r\nat ...\r\n2023-07-10 23:04:02.944+08:00 | beaconchain-async-12 | ERROR | MergeTransitionConfigCheck | An error occurred while querying remote transition configuration\r\njava.util.concurrent.CompletionException: tech.pegasys.teku.ethereum.executionclient.response.InvalidRemoteResponseException: Invalid remote response from the execution client: TimeoutException\r\nat java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]\r\nat ...\r\n2023-07-10 23:04:05.140+08:00 | forkchoice-async-0 | ERROR | BlockManager | Unable to import block: Execution Client returned an error: tech.pegasys.teku.ethereum.executionclient.response.InvalidRemoteResponseException: Invalid remote response from the execution client: TimeoutException\r\n2023-07-10 23:04:06.853+08:00 | forkchoice-async-0 | ERROR | BlockManager | Unable to import block: Execution Client returned an error: tech.pegasys.teku.ethereum.executionclient.response.InvalidRemoteResponseException: Invalid remote response from the execution client: Read timed out\r\n2023-07-10 23:04:09.141+08:00 | beaconchain-async-12 | INFO  | FailedExecutionPool | Retrying execution of block 709e9c251edd1721804a0f779db6f2df253ece84ebd1952e36ad304206ef104c (6848117)\r\n2023-07-10 23:04:11.512+08:00 | TimeTick-1 | INFO  | teku-event-log | \u001B[37mSyncing     *** Target slot: 6848119, Head slot: 6848116, Remaining slots: 3, Connected peers: 23\u001B[0m\r\n2023-07-10 23:04:15.423+08:00 | pool-4-thread-580 | ERROR | TimeBasedEth1HeadTracker | Failed to update eth1 chain head\r\njava.net.SocketTimeoutException: Read timed out\r\n```\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1632778912/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1633022203",
    "html_url": "https://github.com/hyperledger/besu/issues/5697#issuecomment-1633022203",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/5697",
    "id": 1633022203,
    "node_id": "IC_kwDODE2jmc5hVfD7",
    "user": {
      "login": "LeoHLee",
      "id": 48520136,
      "node_id": "MDQ6VXNlcjQ4NTIwMTM2",
      "avatar_url": "https://avatars.githubusercontent.com/u/48520136?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/LeoHLee",
      "html_url": "https://github.com/LeoHLee",
      "followers_url": "https://api.github.com/users/LeoHLee/followers",
      "following_url": "https://api.github.com/users/LeoHLee/following{/other_user}",
      "gists_url": "https://api.github.com/users/LeoHLee/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/LeoHLee/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/LeoHLee/subscriptions",
      "organizations_url": "https://api.github.com/users/LeoHLee/orgs",
      "repos_url": "https://api.github.com/users/LeoHLee/repos",
      "events_url": "https://api.github.com/users/LeoHLee/events{/privacy}",
      "received_events_url": "https://api.github.com/users/LeoHLee/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-07-12T18:32:48Z",
    "updated_at": "2023-07-12T18:38:12Z",
    "author_association": "NONE",
    "body": "I run besu again without `--Xdns-enabled=true` option, this time it starts outputting `Thread Thread[vert.x-eventloop-thread-1,5,main] has been blocked for 3373 ms, time limit is 2000 ms` after about 6h, and does not response to consensus client any more after 7h. Here are the logs after it stops syncing.\r\n\r\n## Teku Logs\r\n```\r\n02:09:41.220 ERROR - Execution Client request failed. Make sure the Execution Client is online and can respond to requests. java.net.SocketTimeoutException: Read timed out (See log file for full stack trace)\r\n02:09:47.123 INFO  - Syncing     *** Target slot: 6863447, Head slot: 6863432, Remaining slots: 15, Connected peers: 26\r\n02:09:59.080 INFO  - Syncing     *** Target slot: 6863448, Head slot: 6863432, Remaining slots: 16, Connected peers: 24\r\n02:10:11.061 INFO  - Syncing     *** Target slot: 6863449, Head slot: 6863432, Remaining slots: 17, Connected peers: 22\r\n02:10:19.062 WARN  - Execution Client request timed out. Make sure the Execution Client is online and can respond to requests.\r\n02:10:19.236 WARN  - Eth1 service down or still syncing for 30s, retrying\r\n02:10:23.080 INFO  - Syncing     *** Target slot: 6863450, Head slot: 6863432, Remaining slots: 18, Connected peers: 26\r\n02:10:35.077 INFO  - Syncing     *** Target slot: 6863451, Head slot: 6863432, Remaining slots: 19, Connected peers: 21\r\n02:10:47.060 INFO  - Syncing     *** Target slot: 6863452, Head slot: 6863432, Remaining slots: 20, Connected peers: 19\r\n02:10:49.237 WARN  - Eth1 service down or still syncing for 60s, retrying\r\n02:10:55.061 WARN  - Execution Client request timed out. Make sure the Execution Client is online and can respond to requests.\r\n02:10:59.054 INFO  - Syncing     *** Target slot: 6863453, Head slot: 6863432, Remaining slots: 21, Connected peers: 17\r\n02:11:11.080 INFO  - Syncing     *** Target slot: 6863454, Head slot: 6863432, Remaining slots: 22, Connected peers: 14\r\n02:11:19.335 WARN  - Eth1 service down or still syncing for 90s, retrying\r\n02:11:23.092 INFO  - Syncing     *** Target slot: 6863455, Head slot: 6863432, Remaining slots: 23, Connected peers: 23\r\n02:11:23.500 INFO  - Epoch Event *** Epoch: 214483, Justified checkpoint: 214481, Finalized checkpoint: 214480, Finalized root: 6098bf56f0ed766adf09402594203c9ddc1deb38090d3c85265537d2499540eb\r\n02:11:31.092 WARN  - Execution Client request timed out. Make sure the Execution Client is online and can respond to requests.\r\n02:11:35.072 INFO  - Syncing     *** Target slot: 6863456, Head slot: 6863432, Remaining slots: 24, Connected peers: 21\r\n02:11:47.113 INFO  - Syncing     *** Target slot: 6863457, Head slot: 6863432, Remaining slots: 25, Connected peers: 14\r\n02:11:48.402 INFO  - Execution Client is responding to requests again after a previous failure\r\n02:11:59.146 INFO  - Syncing     *** Target slot: 6863458, Head slot: 6863436, Waiting for execution layer sync, Connected peers: 17\r\n02:12:01.747 WARN  - Execution Client request timed out. Make sure the Execution Client is online and can respond to requests.\r\n02:12:11.048 INFO  - Syncing     *** Target slot: 6863459, Head slot: 6863436, Remaining slots: 23, Connected peers: 15\r\n02:12:23.169 INFO  - Syncing     *** Target slot: 6863460, Head slot: 6863436, Remaining slots: 24, Connected peers: 12\r\n02:12:35.068 INFO  - Syncing     *** Target slot: 6863461, Head slot: 6863436, Remaining slots: 25, Connected peers: 17\r\n02:12:40.189 WARN  - Eth1 service down or still syncing for 30s, retrying\r\n02:12:40.548 ERROR - Execution Client request failed. Make sure the Execution Client is online and can respond to requests. java.net.SocketTimeoutException: Read timed out (See log file for full stack trace)\r\n02:12:47.105 INFO  - Syncing     *** Target slot: 6863462, Head slot: 6863436, Remaining slots: 26, Connected peers: 15\r\n02:12:59.068 INFO  - Syncing     *** Target slot: 6863463, Head slot: 6863436, Remaining slots: 27, Connected peers: 13\r\n02:13:10.190 WARN  - Eth1 service down or still syncing for 60s, retrying\r\n02:13:11.086 INFO  - Syncing     *** Target slot: 6863464, Head slot: 6863436, Remaining slots: 28, Connected peers: 13\r\n02:13:19.088 WARN  - Execution Client request timed out. Make sure the Execution Client is online and can respond to requests.\r\n02:13:23.079 INFO  - Syncing     *** Target slot: 6863465, Head slot: 6863436, Remaining slots: 29, Connected peers: 12\r\n02:13:35.068 INFO  - Syncing     *** Target slot: 6863466, Head slot: 6863436, Remaining slots: 30, Connected peers: 14\r\n02:13:40.191 WARN  - Eth1 service down or still syncing for 90s, retrying\r\n02:13:42.115 INFO  - Execution Client is responding to requests again after a previous failure\r\n02:13:45.748 ERROR - Execution Client request failed. Make sure the Execution Client is online and can respond to requests. java.net.SocketTimeoutException: Read timed out (See log file for full stack trace)\r\n02:13:47.121 INFO  - Syncing     *** Target slot: 6863467, Head slot: 6863437, Remaining slots: 30, Connected peers: 15\r\n02:13:49.843 INFO  - Execution Client is responding to requests again after a previous failure\r\n02:13:59.845 INFO  - Syncing     *** Target slot: 6863468, Head slot: 6863442, Waiting for execution layer sync, Connected peers: 22\r\n02:14:07.200 WARN  - Execution Client request timed out. Make sure the Execution Client is online and can respond to requests.\r\n02:14:11.123 INFO  - Syncing     *** Target slot: 6863469, Head slot: 6863442, Remaining slots: 27, Connected peers: 22\r\n02:14:23.046 INFO  - Syncing     *** Target slot: 6863470, Head slot: 6863442, Remaining slots: 28, Connected peers: 21\r\n02:14:35.059 INFO  - Syncing     *** Target slot: 6863471, Head slot: 6863442, Remaining slots: 29, Connected peers: 16\r\n02:14:43.060 WARN  - Execution Client request timed out. Make sure the Execution Client is online and can respond to requests.\r\n02:14:46.087 WARN  - Eth1 service down or still syncing for 30s, retrying\r\n02:14:47.307 INFO  - Syncing     *** Target slot: 6863472, Head slot: 6863442, Remaining slots: 30, Connected peers: 12\r\n02:14:56.326 INFO  - Execution Client is responding to requests again after a previous failure\r\n02:14:59.160 INFO  - Syncing     *** Target slot: 6863473, Head slot: 6863443, Waiting for execution layer sync, Connected peers: 16\r\n02:15:04.373 ERROR - Execution Client request failed. Make sure the Execution Client is online and can respond to requests. java.net.SocketTimeoutException: Read timed out (See log file for full stack trace)\r\n02:15:11.093 INFO  - Syncing     *** Target slot: 6863474, Head slot: 6863443, Remaining slots: 31, Connected peers: 16\r\n02:15:16.088 WARN  - Eth1 service down or still syncing for 60s, retrying\r\n02:15:21.640 INFO  - Execution Client is responding to requests again after a previous failure\r\n02:15:23.138 INFO  - Syncing     *** Target slot: 6863475, Head slot: 6863445, Waiting for execution layer sync, Connected peers: 18\r\n02:15:29.944 ERROR - Execution Client request failed. Make sure the Execution Client is online and can respond to requests. java.net.SocketTimeoutException: Read timed out (See log file for full stack trace)\r\n02:15:35.058 INFO  - Syncing     *** Target slot: 6863476, Head slot: 6863445, Remaining slots: 31, Connected peers: 12\r\n02:15:37.088 INFO  - Execution Client is responding to requests again after a previous failure\r\n02:15:49.699 ERROR - Execution Client request failed. Make sure the Execution Client is online and can respond to requests. java.net.SocketTimeoutException: Read timed out (See log file for full stack trace)\r\n02:15:50.794 INFO  - Syncing     *** Target slot: 6863477, Head slot: 6863447, Waiting for execution layer sync, Connected peers: 9\r\n02:15:54.415 INFO  - Execution Client is responding to requests again after a previous failure\r\n02:15:59.332 INFO  - Syncing     *** Target slot: 6863478, Head slot: 6863450, Waiting for execution layer sync, Connected peers: 9\r\n02:16:06.468 WARN  - Execution Client request timed out. Make sure the Execution Client is online and can respond to requests.\r\n02:16:11.128 INFO  - Syncing     *** Target slot: 6863479, Head slot: 6863450, Remaining slots: 29, Connected peers: 18\r\n02:16:23.077 INFO  - Syncing     *** Target slot: 6863480, Head slot: 6863450, Remaining slots: 30, Connected peers: 19\r\n02:16:35.053 INFO  - Syncing     *** Target slot: 6863481, Head slot: 6863450, Remaining slots: 31, Connected peers: 14\r\n02:16:43.054 WARN  - Execution Client request timed out. Make sure the Execution Client is online and can respond to requests.\r\n02:16:47.057 INFO  - Syncing     *** Target slot: 6863482, Head slot: 6863450, Remaining slots: 32, Connected peers: 18\r\n02:16:50.452 WARN  - Eth1 service down or still syncing for 30s, retrying\r\n02:16:59.506 INFO  - Syncing     *** Target slot: 6863483, Head slot: 6863450, Remaining slots: 33, Connected peers: 13\r\n02:17:11.056 INFO  - Syncing     *** Target slot: 6863484, Head slot: 6863450, Remaining slots: 34, Connected peers: 11\r\n02:17:16.011 INFO  - Syncing started\r\n02:17:19.056 WARN  - Execution Client request timed out. Make sure the Execution Client is online and can respond to requests.\r\n02:17:20.453 WARN  - Eth1 service down or still syncing for 60s, retrying\r\n02:17:23.055 INFO  - Syncing     *** Target slot: 6863485, Head slot: 6863450, Remaining slots: 35, Connected peers: 20\r\n02:17:35.046 INFO  - Syncing     *** Target slot: 6863486, Head slot: 6863450, Remaining slots: 36, Connected peers: 19\r\n02:17:47.383 INFO  - Syncing     *** Target slot: 6863487, Head slot: 6863450, Remaining slots: 37, Connected peers: 14\r\n02:17:47.500 INFO  - Epoch Event *** Epoch: 214484, Justified checkpoint: 214482, Finalized checkpoint: 214481, Finalized root: 8e88a62050bb94449276c67c44342e9173761ab55c54b367d31e94cc8188cf94\r\n02:17:50.467 WARN  - Eth1 service down or still syncing for 90s, retrying\r\n02:17:55.389 ERROR - Execution Client request failed. Make sure the Execution Client is online and can respond to requests. java.io.InterruptedIOException: timeout (See log file for full stack trace)\r\n02:17:59.065 INFO  - Syncing     *** Target slot: 6863488, Head slot: 6863450, Remaining slots: 38, Connected peers: 13\r\n02:18:11.058 INFO  - Syncing     *** Target slot: 6863489, Head slot: 6863450, Remaining slots: 39, Connected peers: 18\r\n02:18:20.467 WARN  - Eth1 service down or still syncing for 120s, retrying\r\n02:18:23.047 INFO  - Syncing     *** Target slot: 6863490, Head slot: 6863450, Remaining slots: 40, Connected peers: 17\r\n02:18:31.003 WARN  - Execution Client request timed out. Make sure the Execution Client is online and can respond to requests.\r\n02:18:35.057 INFO  - Syncing     *** Target slot: 6863491, Head slot: 6863450, Remaining slots: 41, Connected peers: 25\r\n02:18:47.059 INFO  - Syncing     *** Target slot: 6863492, Head slot: 6863450, Remaining slots: 42, Connected peers: 24\r\n02:18:50.469 WARN  - Eth1 service down or still syncing for 150s, retrying\r\n02:18:59.064 INFO  - Syncing     *** Target slot: 6863493, Head slot: 6863450, Remaining slots: 43, Connected peers: 26\r\n02:19:02.474 WARN  - Execution Client request timed out. Make sure the Execution Client is online and can respond to requests.\r\n02:19:11.064 INFO  - Syncing     *** Target slot: 6863494, Head slot: 6863450, Remaining slots: 44, Connected peers: 24\r\n02:19:20.470 WARN  - Eth1 service down or still syncing for 180s, retrying\r\n02:19:23.162 INFO  - Syncing     *** Target slot: 6863495, Head slot: 6863450, Remaining slots: 45, Connected peers: 22\r\n02:19:35.044 INFO  - Syncing     *** Target slot: 6863496, Head slot: 6863450, Remaining slots: 46, Connected peers: 20\r\n02:19:40.885 WARN  - Execution Client request timed out. Make sure the Execution Client is online and can respond to requests.\r\n02:19:47.057 INFO  - Syncing     *** Target slot: 6863497, Head slot: 6863450, Remaining slots: 47, Connected peers: 18\r\n02:19:50.470 WARN  - Eth1 service down or still syncing for 210s, retrying\r\n02:19:59.211 INFO  - Syncing     *** Target slot: 6863498, Head slot: 6863450, Remaining slots: 48, Connected peers: 22\r\n02:20:11.099 INFO  - Syncing     *** Target slot: 6863499, Head slot: 6863450, Remaining slots: 49, Connected peers: 22\r\n02:20:18.311 WARN  - Execution Client request timed out. Make sure the Execution Client is online and can respond to requests.\r\n02:20:20.481 WARN  - Eth1 service down or still syncing for 240s, retrying\r\n02:20:23.056 INFO  - Syncing     *** Target slot: 6863500, Head slot: 6863450, Remaining slots: 50, Connected peers: 21\r\n02:20:35.051 INFO  - Syncing     *** Target slot: 6863501, Head slot: 6863450, Remaining slots: 51, Connected peers: 17\r\n02:20:47.093 INFO  - Syncing     *** Target slot: 6863502, Head slot: 6863450, Remaining slots: 52, Connected peers: 17\r\n02:20:50.483 WARN  - Eth1 service down or still syncing for 270s, retrying\r\n02:20:55.094 WARN  - Execution Client request timed out. Make sure the Execution Client is online and can respond to requests.\r\n02:20:59.044 INFO  - Syncing     *** Target slot: 6863503, Head slot: 6863450, Remaining slots: 53, Connected peers: 21\r\n02:21:11.050 INFO  - Syncing     *** Target slot: 6863504, Head slot: 6863450, Remaining slots: 54, Connected peers: 21\r\n02:21:20.485 WARN  - Eth1 service down or still syncing for 300s, retrying\r\n02:21:23.052 INFO  - Syncing     *** Target slot: 6863505, Head slot: 6863450, Remaining slots: 55, Connected peers: 21\r\n02:21:26.763 ERROR - Execution Client request failed. Make sure the Execution Client is online and can respond to requests. java.net.SocketTimeoutException: Read timed out (See log file for full stack trace)\r\n02:21:35.047 INFO  - Syncing     *** Target slot: 6863506, Head slot: 6863450, Remaining slots: 56, Connected peers: 18\r\n02:21:47.056 INFO  - Syncing     *** Target slot: 6863507, Head slot: 6863450, Remaining slots: 57, Connected peers: 13\r\n02:21:50.485 WARN  - Eth1 service down or still syncing for 330s, retrying\r\n02:21:59.413 INFO  - Syncing     *** Target slot: 6863508, Head slot: 6863450, Remaining slots: 58, Connected peers: 16\r\n02:22:07.416 ERROR - Execution Client request failed. Make sure the Execution Client is online and can respond to requests. java.io.InterruptedIOException: timeout (See log file for full stack trace)\r\n02:22:11.035 INFO  - Syncing     *** Target slot: 6863509, Head slot: 6863450, Remaining slots: 59, Connected peers: 14\r\n02:22:20.492 WARN  - Eth1 service down or still syncing for 360s, retrying\r\n02:22:23.112 INFO  - Syncing     *** Target slot: 6863510, Head slot: 6863450, Remaining slots: 60, Connected peers: 9\r\n02:22:35.046 INFO  - Syncing     *** Target slot: 6863511, Head slot: 6863450, Remaining slots: 61, Connected peers: 18\r\n02:22:43.072 ERROR - Execution Client request failed. Make sure the Execution Client is online and can respond to requests. java.net.SocketTimeoutException: Read timed out (See log file for full stack trace)\r\n02:22:47.054 INFO  - Syncing     *** Target slot: 6863512, Head slot: 6863450, Remaining slots: 62, Connected peers: 18\r\n02:22:50.493 WARN  - Eth1 service down or still syncing for 390s, retrying\r\n02:22:59.038 INFO  - Syncing     *** Target slot: 6863513, Head slot: 6863450, Remaining slots: 63, Connected peers: 17\r\n02:23:11.044 INFO  - Syncing     *** Target slot: 6863514, Head slot: 6863450, Remaining slots: 64, Connected peers: 17\r\n02:23:15.430 WARN  - Execution Client request timed out. Make sure the Execution Client is online and can respond to requests.\r\n02:23:20.494 WARN  - Eth1 service down or still syncing for 420s, retrying\r\n02:23:23.051 INFO  - Syncing     *** Target slot: 6863515, Head slot: 6863450, Remaining slots: 65, Connected peers: 15\r\n02:23:35.048 INFO  - Syncing     *** Target slot: 6863516, Head slot: 6863450, Remaining slots: 66, Connected peers: 17\r\n02:23:47.059 INFO  - Syncing     *** Target slot: 6863517, Head slot: 6863450, Remaining slots: 67, Connected peers: 22\r\n02:23:50.499 WARN  - Eth1 service down or still syncing for 450s, retrying\r\n02:23:54.460 WARN  - Execution Client request timed out. Make sure the Execution Client is online and can respond to requests.\r\n02:23:59.060 INFO  - Syncing     *** Target slot: 6863518, Head slot: 6863450, Remaining slots: 68, Connected peers: 27\r\n02:24:11.065 INFO  - Syncing     *** Target slot: 6863519, Head slot: 6863450, Remaining slots: 69, Connected peers: 22\r\n02:24:11.528 INFO  - Epoch Event *** Epoch: 214485, Justified checkpoint: 214482, Finalized checkpoint: 214481, Finalized root: 8e88a62050bb94449276c67c44342e9173761ab55c54b367d31e94cc8188cf94\r\n02:24:20.500 WARN  - Eth1 service down or still syncing for 480s, retrying\r\n02:24:23.047 INFO  - Syncing     *** Target slot: 6863520, Head slot: 6863450, Remaining slots: 70, Connected peers: 20\r\n02:24:31.049 ERROR - Execution Client request failed. Make sure the Execution Client is online and can respond to requests. java.net.SocketTimeoutException: Read timed out (See log file for full stack trace)\r\n02:24:35.044 INFO  - Syncing     *** Target slot: 6863521, Head slot: 6863450, Remaining slots: 71, Connected peers: 21\r\n02:24:47.298 INFO  - Syncing     *** Target slot: 6863522, Head slot: 6863450, Remaining slots: 72, Connected peers: 20\r\n02:24:50.501 WARN  - Eth1 service down or still syncing for 510s, retrying\r\n02:24:59.049 INFO  - Syncing     *** Target slot: 6863523, Head slot: 6863450, Remaining slots: 73, Connected peers: 14\r\n02:25:05.759 ERROR - Execution Client request failed. Make sure the Execution Client is online and can respond to requests. java.net.SocketTimeoutException: Read timed out (See log file for full stack trace)\r\n02:25:11.055 INFO  - Syncing     *** Target slot: 6863524, Head slot: 6863450, Remaining slots: 74, Connected peers: 20\r\n02:25:20.502 WARN  - Eth1 service down or still syncing for 540s, retrying\r\n02:25:23.046 INFO  - Syncing     *** Target slot: 6863525, Head slot: 6863450, Remaining slots: 75, Connected peers: 23\r\n02:25:35.336 INFO  - Syncing     *** Target slot: 6863526, Head slot: 6863450, Remaining slots: 76, Connected peers: 18\r\n02:25:43.338 WARN  - Execution Client request timed out. Make sure the Execution Client is online and can respond to requests.\r\n02:25:47.065 INFO  - Syncing     *** Target slot: 6863527, Head slot: 6863450, Remaining slots: 77, Connected peers: 15\r\n02:25:50.502 WARN  - Eth1 service down or still syncing for 570s, retrying\r\n02:25:59.057 INFO  - Syncing     *** Target slot: 6863528, Head slot: 6863450, Remaining slots: 78, Connected peers: 17\r\n02:26:11.055 INFO  - Syncing     *** Target slot: 6863529, Head slot: 6863450, Remaining slots: 79, Connected peers: 20\r\n02:26:19.056 WARN  - Execution Client request timed out. Make sure the Execution Client is online and can respond to requests.\r\n02:26:20.503 WARN  - Eth1 service down or still syncing for 600s, retrying\r\n02:26:23.044 INFO  - Syncing     *** Target slot: 6863530, Head slot: 6863450, Remaining slots: 80, Connected peers: 17\r\n02:26:35.417 INFO  - Syncing     *** Target slot: 6863531, Head slot: 6863450, Remaining slots: 81, Connected peers: 16\r\n02:26:47.060 INFO  - Syncing     *** Target slot: 6863532, Head slot: 6863450, Remaining slots: 82, Connected peers: 16\r\n```\r\n## Besu Logs\r\nIt's too long so I put it [here](https://pastebin.ubuntu.com/p/n7K6N3sJZH/)",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1633022203/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1636150165",
    "html_url": "https://github.com/hyperledger/besu/issues/5697#issuecomment-1636150165",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/5697",
    "id": 1636150165,
    "node_id": "IC_kwDODE2jmc5hhauV",
    "user": {
      "login": "non-fungible-nelson",
      "id": 85905982,
      "node_id": "MDQ6VXNlcjg1OTA1OTgy",
      "avatar_url": "https://avatars.githubusercontent.com/u/85905982?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/non-fungible-nelson",
      "html_url": "https://github.com/non-fungible-nelson",
      "followers_url": "https://api.github.com/users/non-fungible-nelson/followers",
      "following_url": "https://api.github.com/users/non-fungible-nelson/following{/other_user}",
      "gists_url": "https://api.github.com/users/non-fungible-nelson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/non-fungible-nelson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/non-fungible-nelson/subscriptions",
      "organizations_url": "https://api.github.com/users/non-fungible-nelson/orgs",
      "repos_url": "https://api.github.com/users/non-fungible-nelson/repos",
      "events_url": "https://api.github.com/users/non-fungible-nelson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/non-fungible-nelson/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-07-14T17:14:38Z",
    "updated_at": "2023-07-14T17:14:38Z",
    "author_association": "CONTRIBUTOR",
    "body": "It seems your node is timing out on the DNS requests (there might be an issue with your network). Can you check out [this page in our docs](https://besu.hyperledger.org/stable/public-networks/how-to/troubleshoot/peering) and look for the relevant sections on DNS? You might have to fiddle with your network settings on your machine or your router. ",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1636150165/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1636778887",
    "html_url": "https://github.com/hyperledger/besu/issues/5697#issuecomment-1636778887",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/5697",
    "id": 1636778887,
    "node_id": "IC_kwDODE2jmc5hj0OH",
    "user": {
      "login": "LeoHLee",
      "id": 48520136,
      "node_id": "MDQ6VXNlcjQ4NTIwMTM2",
      "avatar_url": "https://avatars.githubusercontent.com/u/48520136?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/LeoHLee",
      "html_url": "https://github.com/LeoHLee",
      "followers_url": "https://api.github.com/users/LeoHLee/followers",
      "following_url": "https://api.github.com/users/LeoHLee/following{/other_user}",
      "gists_url": "https://api.github.com/users/LeoHLee/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/LeoHLee/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/LeoHLee/subscriptions",
      "organizations_url": "https://api.github.com/users/LeoHLee/orgs",
      "repos_url": "https://api.github.com/users/LeoHLee/repos",
      "events_url": "https://api.github.com/users/LeoHLee/events{/privacy}",
      "received_events_url": "https://api.github.com/users/LeoHLee/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-07-15T14:08:25Z",
    "updated_at": "2023-07-15T14:08:25Z",
    "author_association": "NONE",
    "body": "> It seems your node is timing out on the DNS requests (there might be an issue with your network). Can you check out [this page in our docs](https://besu.hyperledger.org/stable/public-networks/how-to/troubleshoot/peering) and look for the relevant sections on DNS? You might have to fiddle with your network settings on your machine or your router.\r\n\r\nThanks for your suggestion. DNS requests did fail a few times, but it used to succeed when the sync began. Besides, it is not reasonable for peer lacking to cause disconnection with consensus client. When I pressed Ctrl-C there were thousands of lines of logs about aborted P2P requests, so I guess (without looking into corresponding codes) that those requests were taking too much of the thread pool.",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1636778887/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1638997994",
    "html_url": "https://github.com/hyperledger/besu/issues/5697#issuecomment-1638997994",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/5697",
    "id": 1638997994,
    "node_id": "IC_kwDODE2jmc5hsR_q",
    "user": {
      "login": "siladu",
      "id": 2893793,
      "node_id": "MDQ6VXNlcjI4OTM3OTM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2893793?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/siladu",
      "html_url": "https://github.com/siladu",
      "followers_url": "https://api.github.com/users/siladu/followers",
      "following_url": "https://api.github.com/users/siladu/following{/other_user}",
      "gists_url": "https://api.github.com/users/siladu/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/siladu/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/siladu/subscriptions",
      "organizations_url": "https://api.github.com/users/siladu/orgs",
      "repos_url": "https://api.github.com/users/siladu/repos",
      "events_url": "https://api.github.com/users/siladu/events{/privacy}",
      "received_events_url": "https://api.github.com/users/siladu/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-07-17T22:55:11Z",
    "updated_at": "2023-07-17T22:55:11Z",
    "author_association": "CONTRIBUTOR",
    "body": "This might be another instance of https://github.com/hyperledger/besu/issues/5212\r\n\r\nIt's hard to know if the stacktraces in the warnings/errors are cause or effect. \r\n\r\n@LeoHLee If this is still a problem for you, I think a good next step it to enable metrics if you haven't already: https://besu.hyperledger.org/stable/public-networks/how-to/monitor/metrics",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1638997994/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1641921620",
    "html_url": "https://github.com/hyperledger/besu/issues/5697#issuecomment-1641921620",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/5697",
    "id": 1641921620,
    "node_id": "IC_kwDODE2jmc5h3bxU",
    "user": {
      "login": "LeoHLee",
      "id": 48520136,
      "node_id": "MDQ6VXNlcjQ4NTIwMTM2",
      "avatar_url": "https://avatars.githubusercontent.com/u/48520136?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/LeoHLee",
      "html_url": "https://github.com/LeoHLee",
      "followers_url": "https://api.github.com/users/LeoHLee/followers",
      "following_url": "https://api.github.com/users/LeoHLee/following{/other_user}",
      "gists_url": "https://api.github.com/users/LeoHLee/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/LeoHLee/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/LeoHLee/subscriptions",
      "organizations_url": "https://api.github.com/users/LeoHLee/orgs",
      "repos_url": "https://api.github.com/users/LeoHLee/repos",
      "events_url": "https://api.github.com/users/LeoHLee/events{/privacy}",
      "received_events_url": "https://api.github.com/users/LeoHLee/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-07-19T11:36:43Z",
    "updated_at": "2023-07-19T13:18:14Z",
    "author_association": "NONE",
    "body": "> This might be another instance of #5212\r\n> \r\n> It's hard to know if the stacktraces in the warnings/errors are cause or effect.\r\n> \r\n> @LeoHLee If this is still a problem for you, I think a good next step it to enable metrics if you haven't already: https://besu.hyperledger.org/stable/public-networks/how-to/monitor/metrics\r\n\r\nI enabled metrics this time and meet the problem again. Which metrics in prometheus should I look at? The explanations listed in https://besu.hyperledger.org/stable/public-networks/how-to/monitor/metrics are simple, so I am not sure about their meanings. \r\n\r\nI randomly pick some metrics below. Syncing starts to fail since 13:40. Because Besu is taking too much off my poor 4-core CPU, I will stop it at 22:00(GMT+8) if no further metrics suggestions are received.\r\n![besu_executors_ethscheduler_timer_pool_size_current](https://github.com/hyperledger/besu/assets/48520136/246664cb-8a15-4e1e-97d0-f2cefbce87bd)\r\n![besu_synchronizer_task_count](https://github.com/hyperledger/besu/assets/48520136/6eb57b3c-47f1-45d3-add2-f510d2e3f85c)\r\n![network_pending_tasks](https://github.com/hyperledger/besu/assets/48520136/16319ef2-76eb-4a40-bea5-3259b985d7c4)\r\n![peers_connected_total](https://github.com/hyperledger/besu/assets/48520136/af1a602d-0ad1-4797-82fd-a867d7720108)\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1641921620/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1642790574",
    "html_url": "https://github.com/hyperledger/besu/issues/5697#issuecomment-1642790574",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/5697",
    "id": 1642790574,
    "node_id": "IC_kwDODE2jmc5h6v6u",
    "user": {
      "login": "siladu",
      "id": 2893793,
      "node_id": "MDQ6VXNlcjI4OTM3OTM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2893793?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/siladu",
      "html_url": "https://github.com/siladu",
      "followers_url": "https://api.github.com/users/siladu/followers",
      "following_url": "https://api.github.com/users/siladu/following{/other_user}",
      "gists_url": "https://api.github.com/users/siladu/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/siladu/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/siladu/subscriptions",
      "organizations_url": "https://api.github.com/users/siladu/orgs",
      "repos_url": "https://api.github.com/users/siladu/repos",
      "events_url": "https://api.github.com/users/siladu/events{/privacy}",
      "received_events_url": "https://api.github.com/users/siladu/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-07-19T21:37:46Z",
    "updated_at": "2023-07-19T21:37:46Z",
    "author_association": "CONTRIBUTOR",
    "body": "@LeoHLee It's best to set up Grafana with this dashboard: https://grafana.com/grafana/dashboards/16455-besu-full/\r\n\r\nFor analysis of the dashboard, I'd be looking for any spikes/troughs that tally with the start of the issues. I can't see anything to explain it in the metrics you've shared so far.\r\n\r\nCan you share your database spec as well? That's usually the bottleneck. See this handy list of good/bad recommendations from Yorick from EthStaker...https://gist.github.com/yorickdowne/f3a3e79a573bf35767cd002cc977b038\r\n\r\nIf you want to chat more synchronously, feel free to start a thread in the #besu channel of our Discord https://discord.gg/hyperledger",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1642790574/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1643250106",
    "html_url": "https://github.com/hyperledger/besu/issues/5697#issuecomment-1643250106",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/5697",
    "id": 1643250106,
    "node_id": "IC_kwDODE2jmc5h8gG6",
    "user": {
      "login": "LeoHLee",
      "id": 48520136,
      "node_id": "MDQ6VXNlcjQ4NTIwMTM2",
      "avatar_url": "https://avatars.githubusercontent.com/u/48520136?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/LeoHLee",
      "html_url": "https://github.com/LeoHLee",
      "followers_url": "https://api.github.com/users/LeoHLee/followers",
      "following_url": "https://api.github.com/users/LeoHLee/following{/other_user}",
      "gists_url": "https://api.github.com/users/LeoHLee/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/LeoHLee/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/LeoHLee/subscriptions",
      "organizations_url": "https://api.github.com/users/LeoHLee/orgs",
      "repos_url": "https://api.github.com/users/LeoHLee/repos",
      "events_url": "https://api.github.com/users/LeoHLee/events{/privacy}",
      "received_events_url": "https://api.github.com/users/LeoHLee/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-07-20T05:35:13Z",
    "updated_at": "2023-07-20T08:33:18Z",
    "author_association": "NONE",
    "body": "@siladu Besu database is on a 2TB  [predator GM3500](https://www.predatorstorage.com/products/predator-gm3500-m2-pcie-gen3x4-nvme13.html) SSD with independent DRAM cache.\r\nI have tried grafana dashboard. From my observation, all services started to slow down since 12:48 and finally got stuck at about 13:30. The response to Prometheus also stuck so the metrics graph became inconsecutive.\r\n![grafana1](https://github.com/hyperledger/besu/assets/48520136/e9c58088-dd91-4a3d-bf63-9c0b76302718)\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1643250106/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1655017390",
    "html_url": "https://github.com/hyperledger/besu/issues/5697#issuecomment-1655017390",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/5697",
    "id": 1655017390,
    "node_id": "IC_kwDODE2jmc5ipY-u",
    "user": {
      "login": "siladu",
      "id": 2893793,
      "node_id": "MDQ6VXNlcjI4OTM3OTM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2893793?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/siladu",
      "html_url": "https://github.com/siladu",
      "followers_url": "https://api.github.com/users/siladu/followers",
      "following_url": "https://api.github.com/users/siladu/following{/other_user}",
      "gists_url": "https://api.github.com/users/siladu/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/siladu/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/siladu/subscriptions",
      "organizations_url": "https://api.github.com/users/siladu/orgs",
      "repos_url": "https://api.github.com/users/siladu/repos",
      "events_url": "https://api.github.com/users/siladu/events{/privacy}",
      "received_events_url": "https://api.github.com/users/siladu/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-07-28T05:02:51Z",
    "updated_at": "2023-07-28T05:02:51Z",
    "author_association": "CONTRIBUTOR",
    "body": "Closing due to inactivity. @LeoHLee feel free to reopen or continue the conversation on Discord if you're still having an issue.",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1655017390/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
