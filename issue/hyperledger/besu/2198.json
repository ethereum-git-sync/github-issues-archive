{
  "url": "https://api.github.com/repos/hyperledger/besu/issues/2198",
  "repository_url": "https://api.github.com/repos/hyperledger/besu",
  "labels_url": "https://api.github.com/repos/hyperledger/besu/issues/2198/labels{/name}",
  "comments_url": "https://api.github.com/repos/hyperledger/besu/issues/2198/comments",
  "events_url": "https://api.github.com/repos/hyperledger/besu/issues/2198/events",
  "html_url": "https://github.com/hyperledger/besu/issues/2198",
  "id": 869498741,
  "node_id": "MDU6SXNzdWU4Njk0OTg3NDE=",
  "number": 2198,
  "title": "private state bug: invalid block",
  "user": {
    "login": "macfarla",
    "id": 2627919,
    "node_id": "MDQ6VXNlcjI2Mjc5MTk=",
    "avatar_url": "https://avatars.githubusercontent.com/u/2627919?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/macfarla",
    "html_url": "https://github.com/macfarla",
    "followers_url": "https://api.github.com/users/macfarla/followers",
    "following_url": "https://api.github.com/users/macfarla/following{/other_user}",
    "gists_url": "https://api.github.com/users/macfarla/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/macfarla/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/macfarla/subscriptions",
    "organizations_url": "https://api.github.com/users/macfarla/orgs",
    "repos_url": "https://api.github.com/users/macfarla/repos",
    "events_url": "https://api.github.com/users/macfarla/events{/privacy}",
    "received_events_url": "https://api.github.com/users/macfarla/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 1740324632,
      "node_id": "MDU6TGFiZWwxNzQwMzI0NjMy",
      "url": "https://api.github.com/repos/hyperledger/besu/labels/privacy",
      "name": "privacy",
      "color": "d7f99a",
      "default": false,
      "description": "private transactions"
    },
    {
      "id": 2152224197,
      "node_id": "MDU6TGFiZWwyMTUyMjI0MTk3",
      "url": "https://api.github.com/repos/hyperledger/besu/labels/TeamRevenant",
      "name": "TeamRevenant",
      "color": "78e298",
      "default": false,
      "description": "GH issues worked on by Revenant Team"
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": {
    "login": "pinges",
    "id": 16143240,
    "node_id": "MDQ6VXNlcjE2MTQzMjQw",
    "avatar_url": "https://avatars.githubusercontent.com/u/16143240?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/pinges",
    "html_url": "https://github.com/pinges",
    "followers_url": "https://api.github.com/users/pinges/followers",
    "following_url": "https://api.github.com/users/pinges/following{/other_user}",
    "gists_url": "https://api.github.com/users/pinges/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/pinges/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/pinges/subscriptions",
    "organizations_url": "https://api.github.com/users/pinges/orgs",
    "repos_url": "https://api.github.com/users/pinges/repos",
    "events_url": "https://api.github.com/users/pinges/events{/privacy}",
    "received_events_url": "https://api.github.com/users/pinges/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "pinges",
      "id": 16143240,
      "node_id": "MDQ6VXNlcjE2MTQzMjQw",
      "avatar_url": "https://avatars.githubusercontent.com/u/16143240?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pinges",
      "html_url": "https://github.com/pinges",
      "followers_url": "https://api.github.com/users/pinges/followers",
      "following_url": "https://api.github.com/users/pinges/following{/other_user}",
      "gists_url": "https://api.github.com/users/pinges/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pinges/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pinges/subscriptions",
      "organizations_url": "https://api.github.com/users/pinges/orgs",
      "repos_url": "https://api.github.com/users/pinges/repos",
      "events_url": "https://api.github.com/users/pinges/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pinges/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 0,
  "created_at": "2021-04-28T05:07:07Z",
  "updated_at": "2021-05-05T02:46:48Z",
  "closed_at": "2021-05-05T02:46:48Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "297 and 309 (ATs using single contracts) succeed\n298/307/308 (ATs using multiple contracts) end up with invalid block (state mismatch)\n```\n2021-04-28 14:51:29.884+10:00 | vert.x-worker-thread-2 | DEBUG | JsonRpcHttpService | JSON-RPC request -> eth_getTransactionReceipt\n2021-04-28 14:51:30.011+10:00 | pool-8-thread-1 | DEBUG | IbftRound | Received a proposal message. round=ConsensusRoundIdentifier{Sequence=214, Round=0}\n2021-04-28 14:51:30.029+10:00 | pool-8-thread-1 | WARN  | MainnetBlockBodyValidator | Invalid block: state root mismatch (expected=0x36059c0c152ecd69a19d92c9d8986c1306a63307e4befa9ceb32fcef38224271, actual=0xd6bf6eb0fa4ef33b07a691396dd60533eeadc714b4030ec0970a9497b3855b37\n)\n2021-04-28 14:51:30.030+10:00 | pool-8-thread-1 | WARN  | MainnetBlockBodyValidator | Invalid block RLP : 0xf90320f90277a07b79a5f4d6cb42658ecb843f1b90a2f159e67afe7f63cec697fdd1bb454f8e25a01dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d4934794545bbfad3764a1ca38\ne095fbc76bcbfb02bb70e3a036059c0c152ecd69a19d92c9d8986c1306a63307e4befa9ceb32fcef38224271a0c6e4bfbeed9c706f34239d63a939ba5af20c2a962f53c7e88fa140bd37724ae0a0b64408da6b8fe39ab764af88ece1e8cca1c35fd988db57806e99138c629365a0b901000000000000000000000000000000000000000000000000\n00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000\n000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000181d684ffffff0080846088e9d2b880f87ea00000000000000000000000000000000000000000\n000000000000000000000000f85494068b5905cc03cba91efb5289fced160d98e75108940f8b0ab1c6e605d3e4558bca571e3b3f4e7e5ae794545bbfad3764a1ca38e095fbc76bcbfb02bb70e394e5f20844e7071ca28198a48de5375583e07e3d33808400000000c0a063746963616c2062797a616e74696e65206661756c7420746f6c6572616e\n6365880000000000000000f8a3f8a10a808347b7609480bd481146703bb1ddb67a8184c34c84ee91f9df80b840c71fc33f39d19cf50c85f08246808c7b08a580313fb48567066fc6541855e3147401a4a618a6aa25835e62c30eb93ab6fd8cd7343b1207c4374c784b6f6f4b1725a0b5474018126a3705e24023ca494f9f505fe96dca743bb524a1\n849d61741b1893a00606c50afc6a8570416c207afde4e778c898d5f49566e1e0cf641b21c7fa9bc4c0\n2021-04-28 14:51:30.034+10:00 | pool-8-thread-1 | WARN  | MainnetBlockBodyValidator | Transaction receipt found in the invalid block TransactionReceipt{stateRoot=null, cumulativeGasUsed=0, logs=[], bloomFilter=0x00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000, status=1, transactionReceiptType=STATUS}\n2021-04-28 14:51:30.034+10:00 | pool-8-thread-1 | INFO  | MessageValidator | Invalid Proposal message, block did not pass validation.\n```",
  "closed_by": {
    "login": "macfarla",
    "id": 2627919,
    "node_id": "MDQ6VXNlcjI2Mjc5MTk=",
    "avatar_url": "https://avatars.githubusercontent.com/u/2627919?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/macfarla",
    "html_url": "https://github.com/macfarla",
    "followers_url": "https://api.github.com/users/macfarla/followers",
    "following_url": "https://api.github.com/users/macfarla/following{/other_user}",
    "gists_url": "https://api.github.com/users/macfarla/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/macfarla/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/macfarla/subscriptions",
    "organizations_url": "https://api.github.com/users/macfarla/orgs",
    "repos_url": "https://api.github.com/users/macfarla/repos",
    "events_url": "https://api.github.com/users/macfarla/events{/privacy}",
    "received_events_url": "https://api.github.com/users/macfarla/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/2198/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/hyperledger/besu/issues/2198/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[

]
