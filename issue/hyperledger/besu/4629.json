{
  "url": "https://api.github.com/repos/hyperledger/besu/issues/4629",
  "repository_url": "https://api.github.com/repos/hyperledger/besu",
  "labels_url": "https://api.github.com/repos/hyperledger/besu/issues/4629/labels{/name}",
  "comments_url": "https://api.github.com/repos/hyperledger/besu/issues/4629/comments",
  "events_url": "https://api.github.com/repos/hyperledger/besu/issues/4629/events",
  "html_url": "https://github.com/hyperledger/besu/issues/4629",
  "id": 1438868580,
  "node_id": "I_kwDODE2jmc5Vw2Rk",
  "number": 4629,
  "title": "Users don't know when syncing is done ",
  "user": {
    "login": "non-fungible-nelson",
    "id": 85905982,
    "node_id": "MDQ6VXNlcjg1OTA1OTgy",
    "avatar_url": "https://avatars.githubusercontent.com/u/85905982?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/non-fungible-nelson",
    "html_url": "https://github.com/non-fungible-nelson",
    "followers_url": "https://api.github.com/users/non-fungible-nelson/followers",
    "following_url": "https://api.github.com/users/non-fungible-nelson/following{/other_user}",
    "gists_url": "https://api.github.com/users/non-fungible-nelson/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/non-fungible-nelson/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/non-fungible-nelson/subscriptions",
    "organizations_url": "https://api.github.com/users/non-fungible-nelson/orgs",
    "repos_url": "https://api.github.com/users/non-fungible-nelson/repos",
    "events_url": "https://api.github.com/users/non-fungible-nelson/events{/privacy}",
    "received_events_url": "https://api.github.com/users/non-fungible-nelson/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2022-11-07T19:33:12Z",
  "updated_at": "2023-01-26T13:46:30Z",
  "closed_at": "2023-01-26T13:46:30Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "### Description\nAs a user, I do not have sufficient logging to tell me when my sync is fully completed. The world state sync is relatively clear in its progress with percentages and clear logs, but the block import step is much more unclear. We do not show how far from head we are and do not tell the user what percentage of blocks are imported. \n\n### Acceptance Criteria\n* Progress bar or percentage complete for block import step that is similar to world state download step \n* Clear logging when world state is complete that the block import is not yet completed \n* Clearer logging around Fork Choice Update WHILE syncing to not confuse the user. Could move to TRACE or DEBUG until sync is complete. Remove FCU calls for users while syncing or make them very clear in what they are saying for Engine-API calls. \n\n\n\n",
  "closed_by": {
    "login": "non-fungible-nelson",
    "id": 85905982,
    "node_id": "MDQ6VXNlcjg1OTA1OTgy",
    "avatar_url": "https://avatars.githubusercontent.com/u/85905982?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/non-fungible-nelson",
    "html_url": "https://github.com/non-fungible-nelson",
    "followers_url": "https://api.github.com/users/non-fungible-nelson/followers",
    "following_url": "https://api.github.com/users/non-fungible-nelson/following{/other_user}",
    "gists_url": "https://api.github.com/users/non-fungible-nelson/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/non-fungible-nelson/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/non-fungible-nelson/subscriptions",
    "organizations_url": "https://api.github.com/users/non-fungible-nelson/orgs",
    "repos_url": "https://api.github.com/users/non-fungible-nelson/repos",
    "events_url": "https://api.github.com/users/non-fungible-nelson/events{/privacy}",
    "received_events_url": "https://api.github.com/users/non-fungible-nelson/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/4629/reactions",
    "total_count": 3,
    "+1": 3,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/hyperledger/besu/issues/4629/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1306292164",
    "html_url": "https://github.com/hyperledger/besu/issues/4629#issuecomment-1306292164",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/4629",
    "id": 1306292164,
    "node_id": "IC_kwDODE2jmc5N3G_E",
    "user": {
      "login": "non-fungible-nelson",
      "id": 85905982,
      "node_id": "MDQ6VXNlcjg1OTA1OTgy",
      "avatar_url": "https://avatars.githubusercontent.com/u/85905982?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/non-fungible-nelson",
      "html_url": "https://github.com/non-fungible-nelson",
      "followers_url": "https://api.github.com/users/non-fungible-nelson/followers",
      "following_url": "https://api.github.com/users/non-fungible-nelson/following{/other_user}",
      "gists_url": "https://api.github.com/users/non-fungible-nelson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/non-fungible-nelson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/non-fungible-nelson/subscriptions",
      "organizations_url": "https://api.github.com/users/non-fungible-nelson/orgs",
      "repos_url": "https://api.github.com/users/non-fungible-nelson/repos",
      "events_url": "https://api.github.com/users/non-fungible-nelson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/non-fungible-nelson/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-11-07T22:10:57Z",
    "updated_at": "2022-11-07T22:11:28Z",
    "author_association": "CONTRIBUTOR",
    "body": "Provided are some logs \n\n2022-11-07 17:05:36.277-05:00 | EthScheduler-Services-43 (importBlock) | INFO  | FastImportBlocksStep | Completed importing chain segment 6364401 to 6367600 (3200 blocks in 10187ms), Peers: 21\n2022-11-07 17:05:38.376-05:00 | EthScheduler-Services-3 (batchPersistAccountData) | INFO  | SnapsyncMetricsManager | Worldstate download in progress synced=99.74%, accounts=15440824, slots=215959150, codes=5240820, nodes=267968473\n2022-11-07 17:05:44.342-05:00 | EthScheduler-Services-28 (requestCompleteTask) | INFO  | SnapWorldDownloadState | Running world state heal process from peers with pivot block 7911686\n2022-11-07 17:06:02.958-05:00 | EthScheduler-Services-43 (importBlock) | INFO  | FastImportBlocksStep | Completed importing chain segment 6367601 to 6370800 (3200 blocks in 10362ms), Peers: 21\n2022-11-07 17:06:35.194-05:00 | EthScheduler-Services-43 (importBlock) | INFO  | FastImportBlocksStep | Completed importing chain segment 6370801 to 6378200 (7400 blocks in 10144ms), Peers: 21\n2022-11-07 17:06:38.441-05:00 | EthScheduler-Services-26 (batchPersistTrieNodeData) | INFO  | SnapsyncMetricsManager | Healed 108189 world state nodes\n2022-11-07 17:07:00.413-05:00 | EthScheduler-Services-28 (requestCompleteTask) | INFO  | SnapWorldDownloadState | Pausing world state download while waiting for sync to complete\n2022-11-07 17:07:10.632-05:00 | EthScheduler-Services-43 (importBlock) | INFO  | FastImportBlocksStep | Completed importing chain segment 6378201 to 6384600 (6400 blocks in 10127ms), Peers: 22\n\nThese logs are the end of a world state sync and continuing block import. It is not clear here that SnapSync is complete and waiting for Backwards sync when block import is completed. ",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1306292164/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1405028919",
    "html_url": "https://github.com/hyperledger/besu/issues/4629#issuecomment-1405028919",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/4629",
    "id": 1405028919,
    "node_id": "IC_kwDODE2jmc5Tvwo3",
    "user": {
      "login": "non-fungible-nelson",
      "id": 85905982,
      "node_id": "MDQ6VXNlcjg1OTA1OTgy",
      "avatar_url": "https://avatars.githubusercontent.com/u/85905982?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/non-fungible-nelson",
      "html_url": "https://github.com/non-fungible-nelson",
      "followers_url": "https://api.github.com/users/non-fungible-nelson/followers",
      "following_url": "https://api.github.com/users/non-fungible-nelson/following{/other_user}",
      "gists_url": "https://api.github.com/users/non-fungible-nelson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/non-fungible-nelson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/non-fungible-nelson/subscriptions",
      "organizations_url": "https://api.github.com/users/non-fungible-nelson/orgs",
      "repos_url": "https://api.github.com/users/non-fungible-nelson/repos",
      "events_url": "https://api.github.com/users/non-fungible-nelson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/non-fungible-nelson/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-01-26T13:46:30Z",
    "updated_at": "2023-01-26T13:46:30Z",
    "author_association": "CONTRIBUTOR",
    "body": "closing for changes to sync logging in 22.10.x",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1405028919/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
