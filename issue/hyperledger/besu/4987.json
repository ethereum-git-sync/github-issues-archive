{
  "url": "https://api.github.com/repos/hyperledger/besu/issues/4987",
  "repository_url": "https://api.github.com/repos/hyperledger/besu",
  "labels_url": "https://api.github.com/repos/hyperledger/besu/issues/4987/labels{/name}",
  "comments_url": "https://api.github.com/repos/hyperledger/besu/issues/4987/comments",
  "events_url": "https://api.github.com/repos/hyperledger/besu/issues/4987/events",
  "html_url": "https://github.com/hyperledger/besu/issues/4987",
  "id": 1554052749,
  "node_id": "I_kwDODE2jmc5coPaN",
  "number": 4987,
  "title": "getUncle - geth returns null, besu returns a value",
  "user": {
    "login": "macfarla",
    "id": 2627919,
    "node_id": "MDQ6VXNlcjI2Mjc5MTk=",
    "avatar_url": "https://avatars.githubusercontent.com/u/2627919?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/macfarla",
    "html_url": "https://github.com/macfarla",
    "followers_url": "https://api.github.com/users/macfarla/followers",
    "following_url": "https://api.github.com/users/macfarla/following{/other_user}",
    "gists_url": "https://api.github.com/users/macfarla/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/macfarla/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/macfarla/subscriptions",
    "organizations_url": "https://api.github.com/users/macfarla/orgs",
    "repos_url": "https://api.github.com/users/macfarla/repos",
    "events_url": "https://api.github.com/users/macfarla/events{/privacy}",
    "received_events_url": "https://api.github.com/users/macfarla/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 1537362500,
      "node_id": "MDU6TGFiZWwxNTM3MzYyNTAw",
      "url": "https://api.github.com/repos/hyperledger/besu/labels/good%20first%20issue",
      "name": "good first issue",
      "color": "7057ff",
      "default": true,
      "description": "Good for newcomers"
    },
    {
      "id": 2152224197,
      "node_id": "MDU6TGFiZWwyMTUyMjI0MTk3",
      "url": "https://api.github.com/repos/hyperledger/besu/labels/TeamRevenant",
      "name": "TeamRevenant",
      "color": "78e298",
      "default": false,
      "description": "GH issues worked on by Revenant Team"
    },
    {
      "id": 4609582991,
      "node_id": "LA_kwDODE2jmc8AAAABEsCnjw",
      "url": "https://api.github.com/repos/hyperledger/besu/labels/RPC",
      "name": "RPC",
      "color": "1d76db",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": {
    "login": "gtebrean",
    "id": 99179176,
    "node_id": "U_kgDOBelaqA",
    "avatar_url": "https://avatars.githubusercontent.com/u/99179176?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/gtebrean",
    "html_url": "https://github.com/gtebrean",
    "followers_url": "https://api.github.com/users/gtebrean/followers",
    "following_url": "https://api.github.com/users/gtebrean/following{/other_user}",
    "gists_url": "https://api.github.com/users/gtebrean/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/gtebrean/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/gtebrean/subscriptions",
    "organizations_url": "https://api.github.com/users/gtebrean/orgs",
    "repos_url": "https://api.github.com/users/gtebrean/repos",
    "events_url": "https://api.github.com/users/gtebrean/events{/privacy}",
    "received_events_url": "https://api.github.com/users/gtebrean/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "gtebrean",
      "id": 99179176,
      "node_id": "U_kgDOBelaqA",
      "avatar_url": "https://avatars.githubusercontent.com/u/99179176?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gtebrean",
      "html_url": "https://github.com/gtebrean",
      "followers_url": "https://api.github.com/users/gtebrean/followers",
      "following_url": "https://api.github.com/users/gtebrean/following{/other_user}",
      "gists_url": "https://api.github.com/users/gtebrean/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gtebrean/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gtebrean/subscriptions",
      "organizations_url": "https://api.github.com/users/gtebrean/orgs",
      "repos_url": "https://api.github.com/users/gtebrean/repos",
      "events_url": "https://api.github.com/users/gtebrean/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gtebrean/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 6,
  "created_at": "2023-01-24T00:30:38Z",
  "updated_at": "2023-03-31T07:24:57Z",
  "closed_at": "2023-03-31T07:24:57Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "See ~#4243~ #4233 for reproduction instructions, test case etc. \r\n\r\nFor a specific test case, \r\nnode TC_1659708317.js\r\n\r\ngeth returns null for getUncle RPC and besu returns a value. \r\n\r\nNeeds investigating\r\n\r\n\r\n",
  "closed_by": {
    "login": "macfarla",
    "id": 2627919,
    "node_id": "MDQ6VXNlcjI2Mjc5MTk=",
    "avatar_url": "https://avatars.githubusercontent.com/u/2627919?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/macfarla",
    "html_url": "https://github.com/macfarla",
    "followers_url": "https://api.github.com/users/macfarla/followers",
    "following_url": "https://api.github.com/users/macfarla/following{/other_user}",
    "gists_url": "https://api.github.com/users/macfarla/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/macfarla/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/macfarla/subscriptions",
    "organizations_url": "https://api.github.com/users/macfarla/orgs",
    "repos_url": "https://api.github.com/users/macfarla/repos",
    "events_url": "https://api.github.com/users/macfarla/events{/privacy}",
    "received_events_url": "https://api.github.com/users/macfarla/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/4987/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/hyperledger/besu/issues/4987/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1448665925",
    "html_url": "https://github.com/hyperledger/besu/issues/4987#issuecomment-1448665925",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/4987",
    "id": 1448665925,
    "node_id": "IC_kwDODE2jmc5WWONF",
    "user": {
      "login": "gtebrean",
      "id": 99179176,
      "node_id": "U_kgDOBelaqA",
      "avatar_url": "https://avatars.githubusercontent.com/u/99179176?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gtebrean",
      "html_url": "https://github.com/gtebrean",
      "followers_url": "https://api.github.com/users/gtebrean/followers",
      "following_url": "https://api.github.com/users/gtebrean/following{/other_user}",
      "gists_url": "https://api.github.com/users/gtebrean/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gtebrean/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gtebrean/subscriptions",
      "organizations_url": "https://api.github.com/users/gtebrean/orgs",
      "repos_url": "https://api.github.com/users/gtebrean/repos",
      "events_url": "https://api.github.com/users/gtebrean/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gtebrean/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-02-28T18:29:07Z",
    "updated_at": "2023-02-28T18:29:07Z",
    "author_association": "CONTRIBUTOR",
    "body": "@macfarla I tested all the getUncle API methods:\r\neth_getUncleCountByBlockNumber\r\neth_getUncleByBlockHashAndIndex\r\neth_getUncleByBlockNumberAndIndex\r\neth_getUncleCountByBlockHash\r\n\r\nOn both Besu and Geth in dev mode they are returning the same result to API call, according to documentation.\r\nWhen there are no uncles to latest block the results are the following:\r\n\r\nMethod                                                               Besu                                        Geth\r\neth_getUncleCountByBlockNumber                0x0                                          0x0\r\neth_getUncleByBlockHashAndIndex                 null                                         null\r\neth_getUncleByBlockNumberAndIndex            null                                         null\r\neth_getUncleCountByBlockHash                     0x0                                          0x0\r\n\r\nPlease tell me if you have any thoughts on this or what other tests I should do.\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1448665925/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1458752953",
    "html_url": "https://github.com/hyperledger/besu/issues/4987#issuecomment-1458752953",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/4987",
    "id": 1458752953,
    "node_id": "IC_kwDODE2jmc5W8s25",
    "user": {
      "login": "macfarla",
      "id": 2627919,
      "node_id": "MDQ6VXNlcjI2Mjc5MTk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2627919?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/macfarla",
      "html_url": "https://github.com/macfarla",
      "followers_url": "https://api.github.com/users/macfarla/followers",
      "following_url": "https://api.github.com/users/macfarla/following{/other_user}",
      "gists_url": "https://api.github.com/users/macfarla/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/macfarla/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/macfarla/subscriptions",
      "organizations_url": "https://api.github.com/users/macfarla/orgs",
      "repos_url": "https://api.github.com/users/macfarla/repos",
      "events_url": "https://api.github.com/users/macfarla/events{/privacy}",
      "received_events_url": "https://api.github.com/users/macfarla/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-03-07T19:55:34Z",
    "updated_at": "2023-03-07T19:55:34Z",
    "author_association": "CONTRIBUTOR",
    "body": "@gtebrean apologies, I had linked the wrong ticket number for the setup instructions. Can you test the specific test case TC_1659708317 from #4233 - the test files are in https://github.com/hyperledger/besu/files/9286365/test_cases.tar.gz and instructions in #4233 ",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1458752953/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1481375903",
    "html_url": "https://github.com/hyperledger/besu/issues/4987#issuecomment-1481375903",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/4987",
    "id": 1481375903,
    "node_id": "IC_kwDODE2jmc5YTACf",
    "user": {
      "login": "gtebrean",
      "id": 99179176,
      "node_id": "U_kgDOBelaqA",
      "avatar_url": "https://avatars.githubusercontent.com/u/99179176?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gtebrean",
      "html_url": "https://github.com/gtebrean",
      "followers_url": "https://api.github.com/users/gtebrean/followers",
      "following_url": "https://api.github.com/users/gtebrean/following{/other_user}",
      "gists_url": "https://api.github.com/users/gtebrean/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gtebrean/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gtebrean/subscriptions",
      "organizations_url": "https://api.github.com/users/gtebrean/orgs",
      "repos_url": "https://api.github.com/users/gtebrean/repos",
      "events_url": "https://api.github.com/users/gtebrean/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gtebrean/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-03-23T15:13:02Z",
    "updated_at": "2023-03-24T09:29:13Z",
    "author_association": "CONTRIBUTOR",
    "body": "Hi @macfarla  first apologies for taking that long to come back to this.\r\n\r\nRESULT: behaviour is correct. The chain results are different because the queried blocks are different in terms of uncles data.\r\n\r\n\r\nEXPLANATION:\r\nFor CHAIN_1:\r\n1. Execute `TC_1659708317.js` on the last released binaries, `besu-23.1.3-SNAPSHOT` and geth (test `Gorli network`):\r\n- test is returning first uncle: index(0) of the block represented by number `258`;\r\nresults:\r\n`On Geth` = `null` (no uncles or found)\r\n\r\n`On Besu` = found uncle:\r\n\r\n> {\r\n  number: 252,\r\n  hash: '0xfb268fc077b70766ab30c22af214f4e88de74e290dc5abb3cbb98c0231c26e17',\r\n  mixHash: '0x9f67070db3f0ec1bd4ff2757c107d9536dacfbd75dacb33b7e9643a4a7207eb6',\r\n  parentHash: '0x3eaa16a69d5a4a56405e2a9eb4fc656f303ead886010912521f2eb5200c38b64',\r\n  nonce: '0x4ddaf1d07d8b1473',\r\n  sha3Uncles: '0x1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347',\r\n  logsBloom: '0x00000040000000000000000000000000000000200400000000000000000400004000000000200000000040000000000008004000040000000020a401402000000108000000000400000000080000000000108040000000400000000008000010020000040200000004000000422008000080000080000000000000100000000000000000000000000100000010000000080100000000084000200000000000000200040000000000000000000000000000000000008000000000000000002000000010020000000000000000000000000000020000100000800000000480200080102008000000000000000000200000004080084000000000000040300000a0',\r\n  transactionsRoot: '0xc433e9516a92b1d30c0f9c75222a6c22199ddd5d535439fbb1b7ccb0cec5c061',\r\n  stateRoot: '0x581c64f7961011b8d802e5550f4af8429a4e7c67fca44559dd69b5be3fc36ae1',\r\n  receiptsRoot: '0x225a943f50c1a8ee71eb5ad92b2c52de5d8895d4485acfdd610e5ca6588c8845',\r\n  miner: '0x0123456789012345678901234567890123456789',\r\n  difficulty: '160197',\r\n  totalDifficulty: '0',\r\n  extraData: '0xd883010a15846765746888676f312e31382e34856c696e7578',\r\n  baseFeePerGas: 7,\r\n  size: 542,\r\n  gasLimit: 20461425,\r\n  gasUsed: 432835,\r\n  timestamp: 1659702508,\r\n  uncles: [],\r\n  transactions: []\r\n}`\r\n\r\n\r\nBlocks `258` on which getUncle() was called have the following representations:\r\n\r\nOn GETH(Gorli):\r\n\r\n> {\r\n  difficulty: '2',\r\n  extraData: '0x506172697479205465636820417574686f726974790000000000000000000000b259facb6bea8192c64c5ec7162637f0cee756048b81ebcb15f697158b91471c2f9f546526ccd7ca3d138730a6c91f7a9a33824e7c0d1223bddde8a52a2922aa00',\r\n  gasLimit: 8149725,\r\n  gasUsed: 0,\r\n  hash: '0xddd55ff42bcce7107c48c196caad7fc3799429b0ae98cbdb3d1938ac55456ef7',\r\n  logsBloom: '0x00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000',\r\n  miner: '0x0000000000000000000000000000000000000000',\r\n  mixHash: '0x0000000000000000000000000000000000000000000000000000000000000000',\r\n  nonce: '0x0000000000000000',\r\n  number: 258,\r\n  parentHash: '0x80ed202fcee4a4afb1ef2074c9ea1d07c687c187b3f0fc9ce4d87a5993b44ae8',\r\n  receiptsRoot: '0x56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421',\r\n  sha3Uncles: '0x1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347',\r\n  size: 608,\r\n  stateRoot: '0x5d6cded585e73c4e322c30c2f782a336316f17dd85a4863b9d838d2d4b8b3008',\r\n  timestamp: 1548951308,\r\n  totalDifficulty: '517',\r\n  transactions: [],\r\n  transactionsRoot: '0x56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421',\r\n  `uncles`: []\r\n}\r\n\r\nOn Besu CHAIN_1:\r\n\r\n> {\r\n  number: 258,\r\n  hash: '0xeba9e204f0d944749bbe9b75278efa224bc6dfd9d7fa5d48b5ff391da6001dfe',\r\n  mixHash: '0x8caabeb1a10a035564105e076f6869a2170b0d0fbc0aac6dccdca4a01c4f2d46',\r\n  parentHash: '0x20c76096e163397d3b3421f7443cbf1cdacfd2f419fd2eb4f0459dd282fbe1ff',\r\n  nonce: '0x06ebabf864acddc9',\r\n  sha3Uncles: '0x76eb253e03b27cb2f49897b75d71270c22c6752bca2a006e0e4d645b6b489199',\r\n  logsBloom: '0x00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000',\r\n  transactionsRoot: '0x0fe9986f081b00102199c2f4bc827e08af11fc58962edc600ca19da3ba050c62',\r\n  stateRoot: '0xcdd7051b1f764eb9fb6263e9660258e2760c6d722cf327552a758ec5ce6b083e',\r\n  receiptsRoot: '0x88f346009ec2dfd1be9f6807e7fba47bd2f2e53923a14249616a7747df8ec3ef',\r\n  miner: '0x0123456789012345678901234567890123456789',\r\n  difficulty: '160821',\r\n  totalDifficulty: '37512972',\r\n  extraData: '0xd883010a15846765746888676f312e31382e34856c696e7578',\r\n  baseFeePerGas: 7,\r\n  size: 2479,\r\n  gasLimit: 20581600,\r\n  gasUsed: 135091,\r\n  timestamp: 1659702540,\r\n  `uncles`: [\r\n    '0xfb268fc077b70766ab30c22af214f4e88de74e290dc5abb3cbb98c0231c26e17',\r\n    '0xd3dd978e5e8f3cdf197a7b9c7b02ffdea09ac230d1ddbdf4f2d9b70ae8e147e5'\r\n  ],\r\n  transactions: [\r\n    '0xdcc3bd2f51256f219a6f7535f534849432b64cfbd7a20af8d00276870927fff1',\r\n    '0xad7b7fb5295570606a060b0c2c10831a26fd26d11060721f6ad5c6bb5f7a5e02',\r\n    '0x751eba9396c7971086626bf0093027684d8c65231afb04dc84347536576baece',\r\n    '0x96ebd4242fcf23b03d0cd0d78d0a1ed8516907dd2a676f8d6e936001357f837f'\r\n  ]\r\n}\r\n\r\n\r\nBlock `258` on Besu has 2 uncles and that's why getUncle() doesn't return null.\r\nFor example calling getUncle() on Besu CHAIN_1 on a block that does't contains uncles (e.g. `252`) this will return expected `null`.\r\n\r\nBased on this this issue can be closed, only if I'm not missing something. \r\n",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1481375903/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1489518296",
    "html_url": "https://github.com/hyperledger/besu/issues/4987#issuecomment-1489518296",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/4987",
    "id": 1489518296,
    "node_id": "IC_kwDODE2jmc5YyD7Y",
    "user": {
      "login": "macfarla",
      "id": 2627919,
      "node_id": "MDQ6VXNlcjI2Mjc5MTk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2627919?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/macfarla",
      "html_url": "https://github.com/macfarla",
      "followers_url": "https://api.github.com/users/macfarla/followers",
      "following_url": "https://api.github.com/users/macfarla/following{/other_user}",
      "gists_url": "https://api.github.com/users/macfarla/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/macfarla/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/macfarla/subscriptions",
      "organizations_url": "https://api.github.com/users/macfarla/orgs",
      "repos_url": "https://api.github.com/users/macfarla/repos",
      "events_url": "https://api.github.com/users/macfarla/events{/privacy}",
      "received_events_url": "https://api.github.com/users/macfarla/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-03-30T00:28:42Z",
    "updated_at": "2023-03-30T00:28:42Z",
    "author_association": "CONTRIBUTOR",
    "body": "what if you run geth on the CHAIN_1 setup - does it report the same uncles as Besu on CHAIN_1 ?",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1489518296/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1490109673",
    "html_url": "https://github.com/hyperledger/besu/issues/4987#issuecomment-1490109673",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/4987",
    "id": 1490109673,
    "node_id": "IC_kwDODE2jmc5Y0UTp",
    "user": {
      "login": "gtebrean",
      "id": 99179176,
      "node_id": "U_kgDOBelaqA",
      "avatar_url": "https://avatars.githubusercontent.com/u/99179176?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gtebrean",
      "html_url": "https://github.com/gtebrean",
      "followers_url": "https://api.github.com/users/gtebrean/followers",
      "following_url": "https://api.github.com/users/gtebrean/following{/other_user}",
      "gists_url": "https://api.github.com/users/gtebrean/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gtebrean/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gtebrean/subscriptions",
      "organizations_url": "https://api.github.com/users/gtebrean/orgs",
      "repos_url": "https://api.github.com/users/gtebrean/repos",
      "events_url": "https://api.github.com/users/gtebrean/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gtebrean/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-03-30T11:05:25Z",
    "updated_at": "2023-03-31T07:03:19Z",
    "author_association": "CONTRIBUTOR",
    "body": "> what if you run geth on the CHAIN_1 setup - does it report the same uncles as Besu on CHAIN_1 ?\r\n\r\n@macfarla I ran geth on CHAIN_1 setup. After I full synced geth network with chain_1 data via enode results are:\r\nBlock with number 258 is correctly find:\r\n\r\n> {\r\n>   baseFeePerGas: 7,\r\n>   difficulty: '160821',\r\n>   extraData: '0xd883010a15846765746888676f312e31382e34856c696e7578',\r\n>   gasLimit: 20581600,\r\n>   gasUsed: 135091,\r\n>   hash: '0xeba9e204f0d944749bbe9b75278efa224bc6dfd9d7fa5d48b5ff391da6001dfe',\r\n>   logsBloom: '0x00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000',\r\n>   miner: '0x0123456789012345678901234567890123456789',\r\n>   mixHash: '0x8caabeb1a10a035564105e076f6869a2170b0d0fbc0aac6dccdca4a01c4f2d46',\r\n>   nonce: '0x06ebabf864acddc9',\r\n>   number: 258,\r\n>   parentHash: '0x20c76096e163397d3b3421f7443cbf1cdacfd2f419fd2eb4f0459dd282fbe1ff',\r\n>   receiptsRoot: '0x88f346009ec2dfd1be9f6807e7fba47bd2f2e53923a14249616a7747df8ec3ef',\r\n>   sha3Uncles: '0x76eb253e03b27cb2f49897b75d71270c22c6752bca2a006e0e4d645b6b489199',\r\n>   size: 2479,\r\n>   stateRoot: '0xcdd7051b1f764eb9fb6263e9660258e2760c6d722cf327552a758ec5ce6b083e',\r\n>   timestamp: 1659702540,\r\n>   totalDifficulty: '37512972',\r\n>   transactions: [\r\n>     '0xdcc3bd2f51256f219a6f7535f534849432b64cfbd7a20af8d00276870927fff1',\r\n>     '0xad7b7fb5295570606a060b0c2c10831a26fd26d11060721f6ad5c6bb5f7a5e02',\r\n>     '0x751eba9396c7971086626bf0093027684d8c65231afb04dc84347536576baece',\r\n>     '0x96ebd4242fcf23b03d0cd0d78d0a1ed8516907dd2a676f8d6e936001357f837f'\r\n>   ],\r\n>   transactionsRoot: '0x0fe9986f081b00102199c2f4bc827e08af11fc58962edc600ca19da3ba050c62',\r\n>   `uncles`\r\n> : [\r\n>     '0xfb268fc077b70766ab30c22af214f4e88de74e290dc5abb3cbb98c0231c26e17',\r\n>     '0xd3dd978e5e8f3cdf197a7b9c7b02ffdea09ac230d1ddbdf4f2d9b70ae8e147e5'\r\n>   ]\r\n> }\r\n> \r\n\r\ngetUncle correctly returns the first uncle:\r\n\r\n> {\r\n>   baseFeePerGas: 7,\r\n>   difficulty: '160197',\r\n>   extraData: '0xd883010a15846765746888676f312e31382e34856c696e7578',\r\n>   gasLimit: 20461425,\r\n>   gasUsed: 432835,\r\n>   hash: '0xfb268fc077b70766ab30c22af214f4e88de74e290dc5abb3cbb98c0231c26e17',\r\n>   logsBloom: '0x00000040000000000000000000000000000000200400000000000000000400004000000000200000000040000000000008004000040000000020a401402000000108000000000400000000080000000000108040000000400000000008000010020000040200000004000000422008000080000080000000000000100000000000000000000000000100000010000000080100000000084000200000000000000200040000000000000000000000000000000000008000000000000000002000000010020000000000000000000000000000020000100000800000000480200080102008000000000000000000200000004080084000000000000040300000a0',\r\n>   miner: '0x0123456789012345678901234567890123456789',\r\n>   mixHash: '0x9f67070db3f0ec1bd4ff2757c107d9536dacfbd75dacb33b7e9643a4a7207eb6',\r\n>   nonce: '0x4ddaf1d07d8b1473',\r\n>   number: 252,\r\n>   parentHash: '0x3eaa16a69d5a4a56405e2a9eb4fc656f303ead886010912521f2eb5200c38b64',\r\n>   receiptsRoot: '0x225a943f50c1a8ee71eb5ad92b2c52de5d8895d4485acfdd610e5ca6588c8845',\r\n>   sha3Uncles: '0x1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347',\r\n>   size: 542,\r\n>   stateRoot: '0x581c64f7961011b8d802e5550f4af8429a4e7c67fca44559dd69b5be3fc36ae1',\r\n>   timestamp: 1659702508,\r\n>   transactionsRoot: '0xc433e9516a92b1d30c0f9c75222a6c22199ddd5d535439fbb1b7ccb0cec5c061',\r\n>   `uncles`: []\r\n> }\r\n\r\nBoth besu and geth are returning the same thing.\r\n\r\nI think the issue appeared because when testing on geth data wasn't synced correctly from CHAIN_1, as node 258 couldn't be find the getUncles returned `null` ",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1490109673/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1491437206",
    "html_url": "https://github.com/hyperledger/besu/issues/4987#issuecomment-1491437206",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/4987",
    "id": 1491437206,
    "node_id": "IC_kwDODE2jmc5Y5YaW",
    "user": {
      "login": "macfarla",
      "id": 2627919,
      "node_id": "MDQ6VXNlcjI2Mjc5MTk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2627919?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/macfarla",
      "html_url": "https://github.com/macfarla",
      "followers_url": "https://api.github.com/users/macfarla/followers",
      "following_url": "https://api.github.com/users/macfarla/following{/other_user}",
      "gists_url": "https://api.github.com/users/macfarla/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/macfarla/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/macfarla/subscriptions",
      "organizations_url": "https://api.github.com/users/macfarla/orgs",
      "repos_url": "https://api.github.com/users/macfarla/repos",
      "events_url": "https://api.github.com/users/macfarla/events{/privacy}",
      "received_events_url": "https://api.github.com/users/macfarla/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-03-31T07:24:57Z",
    "updated_at": "2023-03-31T07:24:57Z",
    "author_association": "CONTRIBUTOR",
    "body": "ok fair enough, that makes sense. thanks for investigating and confirming behaviour - I think we can close it!",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1491437206/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
