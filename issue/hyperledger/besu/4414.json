{
  "url": "https://api.github.com/repos/hyperledger/besu/issues/4414",
  "repository_url": "https://api.github.com/repos/hyperledger/besu",
  "labels_url": "https://api.github.com/repos/hyperledger/besu/issues/4414/labels{/name}",
  "comments_url": "https://api.github.com/repos/hyperledger/besu/issues/4414/comments",
  "events_url": "https://api.github.com/repos/hyperledger/besu/issues/4414/events",
  "html_url": "https://github.com/hyperledger/besu/issues/4414",
  "id": 1379412016,
  "node_id": "I_kwDODE2jmc5SOCgw",
  "number": 4414,
  "title": "Besu warning",
  "user": {
    "login": "1scrooge",
    "id": 32951007,
    "node_id": "MDQ6VXNlcjMyOTUxMDA3",
    "avatar_url": "https://avatars.githubusercontent.com/u/32951007?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/1scrooge",
    "html_url": "https://github.com/1scrooge",
    "followers_url": "https://api.github.com/users/1scrooge/followers",
    "following_url": "https://api.github.com/users/1scrooge/following{/other_user}",
    "gists_url": "https://api.github.com/users/1scrooge/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/1scrooge/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/1scrooge/subscriptions",
    "organizations_url": "https://api.github.com/users/1scrooge/orgs",
    "repos_url": "https://api.github.com/users/1scrooge/repos",
    "events_url": "https://api.github.com/users/1scrooge/events{/privacy}",
    "received_events_url": "https://api.github.com/users/1scrooge/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 6,
  "created_at": "2022-09-20T13:19:29Z",
  "updated_at": "2023-01-26T12:59:03Z",
  "closed_at": "2023-01-26T12:59:03Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "I'm running the besu node. \r\nCould you clarify me what does it mean in the log?\r\n```\r\nethereum_1  | 2022-09-20 13:12:40.506+00:00 | vert.x-worker-thread-5 | WARN  | BonsaiWorldStateArchive | Exceeded the limit of back layers that can be loaded (512)\r\nethereum_1  | 2022-09-20 13:12:40.508+00:00 | vert.x-worker-thread-5 | WARN  | BonsaiWorldStateArchive | Exceeded the limit of back layers that can be loaded (512)\r\nethereum_1  | 2022-09-20 13:12:40.509+00:00 | vert.x-worker-thread-5 | WARN  | BonsaiWorldStateArchive | Exceeded the limit of back layers that can be loaded (512)\r\nethereum_1  | 2022-09-20 13:12:40.511+00:00 | vert.x-worker-thread-5 | WARN  | BonsaiWorldStateArchive | Exceeded the limit of back layers that can be loaded (512)\r\nethereum_1  | 2022-09-20 13:12:40.512+00:00 | vert.x-worker-thread-5 | WARN  | BonsaiWorldStateArchive | Exceeded the limit of back layers that can be loaded (512)\r\nethereum_1  | 2022-09-20 13:12:40.513+00:00 | vert.x-worker-thread-5 | WARN  | BonsaiWorldStateArchive | Exceeded the limit of back layers that can be loaded (512)\r\nethereum_1  | 2022-09-20 13:12:40.515+00:00 | vert.x-worker-thread-5 | WARN  | BonsaiWorldStateArchive | Exceeded the limit of back layers that can be loaded (512)\r\nethereum_1  | 2022-09-20 13:12:40.516+00:00 | vert.x-worker-thread-5 | WARN  | BonsaiWorldStateArchive | Exceeded the limit of back layers that can be loaded (512)\r\nethereum_1  | 2022-09-20 13:12:40.518+00:00 | vert.x-worker-thread-5 | WARN  | BonsaiWorldStateArchive | Exceeded the limit of back layers that can be loaded (512)\r\nethereum_1  | 2022-09-20 13:12:40.519+00:00 | vert.x-worker-thread-5 | WARN  | BonsaiWorldStateArchive | Exceeded the limit of back layers that can be loaded (512)\r\nethereum_1  | 2022-09-20 13:12:40.521+00:00 | vert.x-worker-thread-5 | WARN  | BonsaiWorldStateArchive | Exceeded the limit of back layers that can be loaded (512)\r\n```\r\ndocker-compose:\r\n```\r\nversion: \"3.5\"\r\nservices:\r\n  ethereum:\r\n    image: hyperledger/besu:22.7.2\r\n    network_mode: host\r\n    volumes:\r\n      - ./data:/opt/besu/database/\r\n      - ./jwtsecret:/opt/besu/jwtsecret\r\n    command:\r\n      --network=mainnet\r\n      --sync-mode=X_SNAP\r\n      --data-storage-format=BONSAI\r\n      --data-path=\"/opt/besu/database/\"\r\n      --rpc-http-max-active-connections=200\r\n      --host-allowlist=*\r\n      --rpc-http-enabled=true\r\n      --rpc-http-host=\"0.0.0.0\"\r\n      --rpc-http-cors-origins=\"*\"\r\n      --rpc-ws-enabled=true\r\n      --rpc-ws-host=\"0.0.0.0\"\r\n      --engine-host-allowlist=\"*\"\r\n      --nat-method=upnp\r\n      --engine-rpc-port=8550\r\n      --tx-pool-max-size=5000000\r\n      --Xdns-enabled=true\r\n      --Xmerge-support=true\r\n      --engine-jwt-enabled=true\r\n      --engine-jwt-secret=/opt/besu/jwtsecret\r\n      --rpc-http-api=ETH,NET,CLIQUE,DEBUG,MINER,NET,PERM,ADMIN,EEA,TXPOOL,PRIV,WEB3,TRACE\r\n```\r\n",
  "closed_by": {
    "login": "non-fungible-nelson",
    "id": 85905982,
    "node_id": "MDQ6VXNlcjg1OTA1OTgy",
    "avatar_url": "https://avatars.githubusercontent.com/u/85905982?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/non-fungible-nelson",
    "html_url": "https://github.com/non-fungible-nelson",
    "followers_url": "https://api.github.com/users/non-fungible-nelson/followers",
    "following_url": "https://api.github.com/users/non-fungible-nelson/following{/other_user}",
    "gists_url": "https://api.github.com/users/non-fungible-nelson/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/non-fungible-nelson/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/non-fungible-nelson/subscriptions",
    "organizations_url": "https://api.github.com/users/non-fungible-nelson/orgs",
    "repos_url": "https://api.github.com/users/non-fungible-nelson/repos",
    "events_url": "https://api.github.com/users/non-fungible-nelson/events{/privacy}",
    "received_events_url": "https://api.github.com/users/non-fungible-nelson/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/4414/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/hyperledger/besu/issues/4414/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1252363448",
    "html_url": "https://github.com/hyperledger/besu/issues/4414#issuecomment-1252363448",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/4414",
    "id": 1252363448,
    "node_id": "IC_kwDODE2jmc5KpYy4",
    "user": {
      "login": "1scrooge",
      "id": 32951007,
      "node_id": "MDQ6VXNlcjMyOTUxMDA3",
      "avatar_url": "https://avatars.githubusercontent.com/u/32951007?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/1scrooge",
      "html_url": "https://github.com/1scrooge",
      "followers_url": "https://api.github.com/users/1scrooge/followers",
      "following_url": "https://api.github.com/users/1scrooge/following{/other_user}",
      "gists_url": "https://api.github.com/users/1scrooge/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/1scrooge/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/1scrooge/subscriptions",
      "organizations_url": "https://api.github.com/users/1scrooge/orgs",
      "repos_url": "https://api.github.com/users/1scrooge/repos",
      "events_url": "https://api.github.com/users/1scrooge/events{/privacy}",
      "received_events_url": "https://api.github.com/users/1scrooge/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-09-20T13:34:36Z",
    "updated_at": "2022-09-20T13:35:01Z",
    "author_association": "NONE",
    "body": "Not sure if a separate issue should be created for this, but we also see dramatical performance degradation after the Merge. Previously a block reading time (header, transactions, traces) took about 0.01-0.1 sec on a single node, now it takes about 5-15 sec on 3 nodes via a round-robin load balancer. Could you take a look on this as well or advice what can we do to improve performance back?",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1252363448/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1256927667",
    "html_url": "https://github.com/hyperledger/besu/issues/4414#issuecomment-1256927667",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/4414",
    "id": 1256927667,
    "node_id": "IC_kwDODE2jmc5K6zGz",
    "user": {
      "login": "daniellehrner",
      "id": 6727189,
      "node_id": "MDQ6VXNlcjY3MjcxODk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6727189?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/daniellehrner",
      "html_url": "https://github.com/daniellehrner",
      "followers_url": "https://api.github.com/users/daniellehrner/followers",
      "following_url": "https://api.github.com/users/daniellehrner/following{/other_user}",
      "gists_url": "https://api.github.com/users/daniellehrner/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/daniellehrner/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/daniellehrner/subscriptions",
      "organizations_url": "https://api.github.com/users/daniellehrner/orgs",
      "repos_url": "https://api.github.com/users/daniellehrner/repos",
      "events_url": "https://api.github.com/users/daniellehrner/events{/privacy}",
      "received_events_url": "https://api.github.com/users/daniellehrner/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-09-24T09:53:38Z",
    "updated_at": "2022-09-24T09:53:38Z",
    "author_association": "CONTRIBUTOR",
    "body": "> ethereum_1  | 2022-09-20 13:12:40.506+00:00 | vert.x-worker-thread-5 | WARN  | BonsaiWorldStateArchive | Exceeded the limit of back layers that can be loaded (512)\r\n\r\nThe warning is explained here: https://besu.hyperledger.org/en/stable/public-networks/concepts/data-storage-formats/#accessing-data\r\nPer default you can make requests only 512 blocks back.",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1256927667/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1256927990",
    "html_url": "https://github.com/hyperledger/besu/issues/4414#issuecomment-1256927990",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/4414",
    "id": 1256927990,
    "node_id": "IC_kwDODE2jmc5K6zL2",
    "user": {
      "login": "daniellehrner",
      "id": 6727189,
      "node_id": "MDQ6VXNlcjY3MjcxODk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6727189?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/daniellehrner",
      "html_url": "https://github.com/daniellehrner",
      "followers_url": "https://api.github.com/users/daniellehrner/followers",
      "following_url": "https://api.github.com/users/daniellehrner/following{/other_user}",
      "gists_url": "https://api.github.com/users/daniellehrner/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/daniellehrner/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/daniellehrner/subscriptions",
      "organizations_url": "https://api.github.com/users/daniellehrner/orgs",
      "repos_url": "https://api.github.com/users/daniellehrner/repos",
      "events_url": "https://api.github.com/users/daniellehrner/events{/privacy}",
      "received_events_url": "https://api.github.com/users/daniellehrner/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-09-24T09:54:24Z",
    "updated_at": "2022-09-24T09:54:24Z",
    "author_association": "CONTRIBUTOR",
    "body": "> Not sure if a separate issue should be created for this, but we also see dramatical performance degradation after the Merge. Previously a block reading time (header, transactions, traces) took about 0.01-0.1 sec on a single node, now it takes about 5-15 sec on 3 nodes via a round-robin load balancer. Could you take a look on this as well or advice what can we do to improve performance back?\r\n\r\nDo you have any examples for the requests? We did not notice any performance degradation.",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1256927990/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1266582995",
    "html_url": "https://github.com/hyperledger/besu/issues/4414#issuecomment-1266582995",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/4414",
    "id": 1266582995,
    "node_id": "IC_kwDODE2jmc5LfoXT",
    "user": {
      "login": "1scrooge",
      "id": 32951007,
      "node_id": "MDQ6VXNlcjMyOTUxMDA3",
      "avatar_url": "https://avatars.githubusercontent.com/u/32951007?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/1scrooge",
      "html_url": "https://github.com/1scrooge",
      "followers_url": "https://api.github.com/users/1scrooge/followers",
      "following_url": "https://api.github.com/users/1scrooge/following{/other_user}",
      "gists_url": "https://api.github.com/users/1scrooge/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/1scrooge/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/1scrooge/subscriptions",
      "organizations_url": "https://api.github.com/users/1scrooge/orgs",
      "repos_url": "https://api.github.com/users/1scrooge/repos",
      "events_url": "https://api.github.com/users/1scrooge/events{/privacy}",
      "received_events_url": "https://api.github.com/users/1scrooge/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-10-04T08:28:42Z",
    "updated_at": "2022-10-06T08:42:45Z",
    "author_association": "NONE",
    "body": "@daniellehrner Hi. we use  these methods:\r\neth_getBlockByNumber\r\neth_getTransactionReceipt\r\neth_getLogs\r\neth_getTransactionByHash\r\ntrace_transaction\r\n\r\nAlso I've changed the configuration\r\n--bonsai-maximum-back-layers-to-load=0\r\nBut we are still 512 blocks behind the network",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1266582995/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1269818222",
    "html_url": "https://github.com/hyperledger/besu/issues/4414#issuecomment-1269818222",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/4414",
    "id": 1269818222,
    "node_id": "IC_kwDODE2jmc5Lr-Nu",
    "user": {
      "login": "1scrooge",
      "id": 32951007,
      "node_id": "MDQ6VXNlcjMyOTUxMDA3",
      "avatar_url": "https://avatars.githubusercontent.com/u/32951007?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/1scrooge",
      "html_url": "https://github.com/1scrooge",
      "followers_url": "https://api.github.com/users/1scrooge/followers",
      "following_url": "https://api.github.com/users/1scrooge/following{/other_user}",
      "gists_url": "https://api.github.com/users/1scrooge/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/1scrooge/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/1scrooge/subscriptions",
      "organizations_url": "https://api.github.com/users/1scrooge/orgs",
      "repos_url": "https://api.github.com/users/1scrooge/repos",
      "events_url": "https://api.github.com/users/1scrooge/events{/privacy}",
      "received_events_url": "https://api.github.com/users/1scrooge/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-10-06T11:03:15Z",
    "updated_at": "2022-10-06T11:03:15Z",
    "author_association": "NONE",
    "body": "@daniellehrner Hello. I will explain a little bit what we are doing:\r\nWe've tried to set ```--bonsai-maximum-back-layers-to-load``` to 64 and 16. The node starts work well after restart and return history up to 64 and 16 blocks old for a while. Then in several minutes of reading ongoing blocks from the node errors like \r\n```\r\nethereum_1  | 2022-10-06 10:56:57.220+00:00 | vertx-blocked-thread-checker | WARN  | BlockedThreadChecker | Thread Thread[vert.x-worker-thread-15,5,main] has been blocked for 298951 ms, time limit is 60000 ms\r\nethereum_1  | io.vertx.core.VertxException: Thread blocked\r\nethereum_1  | \tat app//org.hyperledger.besu.ethereum.vm.DebugOperationTracer.traceExecution(DebugOperationTracer.java:55)\r\nethereum_1  | \tat app//org.hyperledger.besu.evm.EVM.executeNextOperation(EVM.java:81)\r\nethereum_1  | \tat app//org.hyperledger.besu.evm.EVM.runToHalt(EVM.java:74)\r\nethereum_1  | \tat app//org.hyperledger.besu.evm.processor.AbstractMessageProcessor.codeExecute(AbstractMessageProcessor.java:161)\r\nethereum_1  | \tat app//org.hyperledger.besu.evm.processor.AbstractMessageProcessor.process(AbstractMessageProcessor.java:173)\r\nethereum_1  | \tat app//org.hyperledger.besu.ethereum.mainnet.MainnetTransactionProcessor.process(MainnetTransactionProcessor.java:485)\r\nethereum_1  | \tat app//org.hyperledger.besu.ethereum.mainnet.MainnetTransactionProcessor.processTransaction(MainnetTransactionProcessor.java:397)\r\nethereum_1  | \tat app//org.hyperledger.besu.ethereum.mainnet.MainnetTransactionProcessor.processTransaction(MainnetTransactionProcessor.java:181)\r\nethereum_1  | \tat app//org.hyperledger.besu.ethereum.api.jsonrpc.internal.processor.BlockTracer.lambda$prepareReplayAction$0(BlockTracer.java:60)\r\nethereum_1  | \tat app//org.hyperledger.besu.ethereum.api.jsonrpc.internal.processor.BlockTracer$$Lambda$1231/0x00007fcbb55628b0.performAction(Unknown Source)\r\nethereum_1  | \tat app//org.hyperledger.besu.ethereum.api.jsonrpc.internal.processor.BlockReplay.lambda$block$0(BlockReplay.java:60)\r\nethereum_1  | \tat app//org.hyperledger.besu.ethereum.api.jsonrpc.internal.processor.BlockReplay$$Lambda$1243/0x00007fcbb5569568.apply(Unknown Source)\r\nethereum_1  | \tat java.base@11.0.16/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)\r\nethereum_1  | \tat java.base@11.0.16/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1655)\r\nethereum_1  | \tat java.base@11.0.16/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)\r\nethereum_1  | \tat java.base@11.0.16/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)\r\nethereum_1  | \tat java.base@11.0.16/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:913)\r\nethereum_1  | \tat java.base@11.0.16/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\r\nethereum_1  | \tat java.base@11.0.16/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:578)\r\nethereum_1  | \tat app//org.hyperledger.besu.ethereum.api.jsonrpc.internal.processor.BlockReplay.lambda$block$1(BlockReplay.java:66)\r\nethereum_1  | \tat app//org.hyperledger.besu.ethereum.api.jsonrpc.internal.processor.BlockReplay$$Lambda$1232/0x00007fcbb556f458.perform(Unknown Source)\r\nethereum_1  | \tat app//org.hyperledger.besu.ethereum.api.jsonrpc.internal.processor.BlockReplay.performActionWithBlock(BlockReplay.java:155)\r\nethereum_1  | \tat app//org.hyperledger.besu.ethereum.api.jsonrpc.internal.processor.BlockReplay.block(BlockReplay.java:52)\r\nethereum_1  | \tat app//org.hyperledger.besu.ethereum.api.jsonrpc.internal.processor.BlockTracer.trace(BlockTracer.java:45)\r\nethereum_1  | \tat app//org.hyperledger.besu.ethereum.api.jsonrpc.internal.methods.AbstractTraceByHash.getTransactionTrace(AbstractTraceByHash.java:72)\r\nethereum_1  | \tat app//org.hyperledger.besu.ethereum.api.jsonrpc.internal.methods.AbstractTraceByHash.getTraceBlock(AbstractTraceByHash.java:65)\r\nethereum_1  | \tat app//org.hyperledger.besu.ethereum.api.jsonrpc.internal.methods.AbstractTraceByHash.lambda$resultByTransactionHash$1(AbstractTraceByHash.java:57)\r\nethereum_1  | \tat app//org.hyperledger.besu.ethereum.api.jsonrpc.internal.methods.AbstractTraceByHash$$Lambda$1228/0x00007fcbb55610b0.apply(Unknown Source)\r\nethereum_1  | \tat java.base@11.0.16/java.util.Optional.map(Optional.java:265)\r\nethereum_1  | \tat app//org.hyperledger.besu.ethereum.api.jsonrpc.internal.methods.AbstractTraceByHash.resultByTransactionHash(AbstractTraceByHash.java:57)\r\nethereum_1  | \tat app//org.hyperledger.besu.ethereum.api.jsonrpc.internal.methods.TraceTransaction.response(TraceTransaction.java:53)\r\nethereum_1  | \tat app//org.hyperledger.besu.ethereum.api.jsonrpc.execution.BaseJsonRpcProcessor.process(BaseJsonRpcProcessor.java:42)\r\nethereum_1  | \tat app//org.hyperledger.besu.ethereum.api.jsonrpc.execution.TracedJsonRpcProcessor.process(TracedJsonRpcProcessor.java:41)\r\nethereum_1  | \tat app//org.hyperledger.besu.ethereum.api.jsonrpc.execution.TimedJsonRpcProcessor.process(TimedJsonRpcProcessor.java:45)\r\nethereum_1  | \tat app//org.hyperledger.besu.ethereum.api.jsonrpc.execution.JsonRpcExecutor.execute(JsonRpcExecutor.java:91)\r\nethereum_1  | \tat app//org.hyperledger.besu.ethereum.api.handlers.JsonRpcExecutorHandler.lambda$handler$8(JsonRpcExecutorHandler.java:111)\r\nethereum_1  | \tat app//org.hyperledger.besu.ethereum.api.handlers.JsonRpcExecutorHandler$$Lambda$760/0x00007fcbcc9ea0b0.handle(Unknown Source)\r\nethereum_1  | \tat app//io.vertx.ext.web.impl.BlockingHandlerDecorator.lambda$handle$0(BlockingHandlerDecorator.java:48)\r\nethereum_1  | \tat app//io.vertx.ext.web.impl.BlockingHandlerDecorator$$Lambda$954/0x00007fcbc78f2908.handle(Unknown Source)\r\nethereum_1  | \tat app//io.vertx.core.impl.ContextImpl.lambda$null$0(ContextImpl.java:159)\r\nethereum_1  | \tat app//io.vertx.core.impl.ContextImpl$$Lambda$915/0x00007fcbc7efbcb0.handle(Unknown Source)\r\nethereum_1  | \tat app//io.vertx.core.impl.AbstractContext.dispatch(AbstractContext.java:100)\r\nethereum_1  | \tat app//io.vertx.core.impl.ContextImpl.lambda$executeBlocking$1(ContextImpl.java:157)\r\nethereum_1  | \tat app//io.vertx.core.impl.ContextImpl$$Lambda$914/0x00007fcbc7efd568.run(Unknown Source)\r\nethereum_1  | \tat java.base@11.0.16/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\nethereum_1  | \tat java.base@11.0.16/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\nethereum_1  | \tat app//io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\nethereum_1  | \tat java.base@11.0.16/java.lang.Thread.run(Thread.java:829)\r\nethereum_1  | 2022-10-06 10:56:57.222+00:00 | vertx-blocked-thread-checker | WARN  | BlockedThreadChecker | Thread Thread[vert.x-worker-thread-18,5,main] has been blocked for 298924 ms, time limit is 60000 ms\r\nethereum_1  | io.vertx.core.VertxException: Thread blocked\r\n```\r\nappear in the node and then eventually the node returns only up to 512 blocks old history.\r\nWe do eth_getBlockByNumber first. If it returns a block, then we also execute eth_getTransactionReceipt, eth_getLogs, eth_getTransactionByHash, trace_transaction for the transactions of the block. If eth_getBlockByNumber don't return a block, then we call it one more time after a delay until it returns a block.\r\n\r\nWe do eth_getTransactionReceipt, eth_getLogs, eth_getTransactionByHash, trace_transaction invocations as batch by 4 parallel threads. Batch size is 100 methods",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1269818222/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1404970123",
    "html_url": "https://github.com/hyperledger/besu/issues/4414#issuecomment-1404970123",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/4414",
    "id": 1404970123,
    "node_id": "IC_kwDODE2jmc5TviSL",
    "user": {
      "login": "non-fungible-nelson",
      "id": 85905982,
      "node_id": "MDQ6VXNlcjg1OTA1OTgy",
      "avatar_url": "https://avatars.githubusercontent.com/u/85905982?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/non-fungible-nelson",
      "html_url": "https://github.com/non-fungible-nelson",
      "followers_url": "https://api.github.com/users/non-fungible-nelson/followers",
      "following_url": "https://api.github.com/users/non-fungible-nelson/following{/other_user}",
      "gists_url": "https://api.github.com/users/non-fungible-nelson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/non-fungible-nelson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/non-fungible-nelson/subscriptions",
      "organizations_url": "https://api.github.com/users/non-fungible-nelson/orgs",
      "repos_url": "https://api.github.com/users/non-fungible-nelson/repos",
      "events_url": "https://api.github.com/users/non-fungible-nelson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/non-fungible-nelson/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-01-26T12:59:03Z",
    "updated_at": "2023-01-26T12:59:03Z",
    "author_association": "CONTRIBUTOR",
    "body": "Closing as we are tracking non-blocking RPC in #4807 ",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1404970123/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
