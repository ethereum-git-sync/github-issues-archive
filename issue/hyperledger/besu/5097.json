{
  "url": "https://api.github.com/repos/hyperledger/besu/issues/5097",
  "repository_url": "https://api.github.com/repos/hyperledger/besu",
  "labels_url": "https://api.github.com/repos/hyperledger/besu/issues/5097/labels{/name}",
  "comments_url": "https://api.github.com/repos/hyperledger/besu/issues/5097/comments",
  "events_url": "https://api.github.com/repos/hyperledger/besu/issues/5097/events",
  "html_url": "https://github.com/hyperledger/besu/issues/5097",
  "id": 1586707892,
  "node_id": "I_kwDODE2jmc5ekz20",
  "number": 5097,
  "title": "Investigate why zhejiang-testnet-lighthouse-besu-2 is stuck",
  "user": {
    "login": "siladu",
    "id": 2893793,
    "node_id": "MDQ6VXNlcjI4OTM3OTM=",
    "avatar_url": "https://avatars.githubusercontent.com/u/2893793?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/siladu",
    "html_url": "https://github.com/siladu",
    "followers_url": "https://api.github.com/users/siladu/followers",
    "following_url": "https://api.github.com/users/siladu/following{/other_user}",
    "gists_url": "https://api.github.com/users/siladu/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/siladu/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/siladu/subscriptions",
    "organizations_url": "https://api.github.com/users/siladu/orgs",
    "repos_url": "https://api.github.com/users/siladu/repos",
    "events_url": "https://api.github.com/users/siladu/events{/privacy}",
    "received_events_url": "https://api.github.com/users/siladu/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 1921587647,
      "node_id": "MDU6TGFiZWwxOTIxNTg3NjQ3",
      "url": "https://api.github.com/repos/hyperledger/besu/labels/TeamGroot",
      "name": "TeamGroot",
      "color": "1d76db",
      "default": false,
      "description": "GH issues worked on by Groot Team"
    },
    {
      "id": 3013559202,
      "node_id": "MDU6TGFiZWwzMDEzNTU5MjAy",
      "url": "https://api.github.com/repos/hyperledger/besu/labels/mainnet",
      "name": "mainnet",
      "color": "9D578C",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": {
    "login": "siladu",
    "id": 2893793,
    "node_id": "MDQ6VXNlcjI4OTM3OTM=",
    "avatar_url": "https://avatars.githubusercontent.com/u/2893793?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/siladu",
    "html_url": "https://github.com/siladu",
    "followers_url": "https://api.github.com/users/siladu/followers",
    "following_url": "https://api.github.com/users/siladu/following{/other_user}",
    "gists_url": "https://api.github.com/users/siladu/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/siladu/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/siladu/subscriptions",
    "organizations_url": "https://api.github.com/users/siladu/orgs",
    "repos_url": "https://api.github.com/users/siladu/repos",
    "events_url": "https://api.github.com/users/siladu/events{/privacy}",
    "received_events_url": "https://api.github.com/users/siladu/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "siladu",
      "id": 2893793,
      "node_id": "MDQ6VXNlcjI4OTM3OTM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2893793?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/siladu",
      "html_url": "https://github.com/siladu",
      "followers_url": "https://api.github.com/users/siladu/followers",
      "following_url": "https://api.github.com/users/siladu/following{/other_user}",
      "gists_url": "https://api.github.com/users/siladu/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/siladu/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/siladu/subscriptions",
      "organizations_url": "https://api.github.com/users/siladu/orgs",
      "repos_url": "https://api.github.com/users/siladu/repos",
      "events_url": "https://api.github.com/users/siladu/events{/privacy}",
      "received_events_url": "https://api.github.com/users/siladu/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 8,
  "created_at": "2023-02-15T22:58:34Z",
  "updated_at": "2023-02-22T08:31:42Z",
  "closed_at": "2023-02-22T08:31:41Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "Currently stuck on \r\n`2023-02-16 03:58:00.164+00:00 | vert.x-worker-thread-0 | WARN  | MergeCoordinator | Internal error, backward sync completed but failed to import finalized block 0x2d12e9b3dcd822ce8d34c54c6a53f1deddf72589d7c8c3937bcd3008551b21aa`\r\n\r\n..every 12 seconds, so probably once per newPayload.\r\n\r\nThe finalized block changes every few minutes, probably every epoch.\r\n\r\nCurrent block in database is 58561\r\n\r\n---\r\n\r\n## Summary of analysis\r\n\r\nMy diagnosis is this is a bonsai concurrency issue that started with this log coming out of nowhere:\r\n`2023-02-10 12:32:55.186+00:00 | ForkJoinPool.commonPool-worker-3 | INFO  | MainnetBlockValidator | Invalid block 58562 (0xfe520970f676a81b61bbe6a8c8d8ee85b05c5f2488a96bf63ee26acd7e82721e): Optional[Unable to process block because parent world state 0xf53fa9c30bb0276a709cc06a0667661dbcc60beb813483022098b72d128f2853 is not available]`\r\n\r\nThere was some chat on #interop about an EthereumJS bad block which caused an issue with geth, and an assumption this was the same issue, however it appears unrelated.\r\n",
  "closed_by": {
    "login": "siladu",
    "id": 2893793,
    "node_id": "MDQ6VXNlcjI4OTM3OTM=",
    "avatar_url": "https://avatars.githubusercontent.com/u/2893793?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/siladu",
    "html_url": "https://github.com/siladu",
    "followers_url": "https://api.github.com/users/siladu/followers",
    "following_url": "https://api.github.com/users/siladu/following{/other_user}",
    "gists_url": "https://api.github.com/users/siladu/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/siladu/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/siladu/subscriptions",
    "organizations_url": "https://api.github.com/users/siladu/orgs",
    "repos_url": "https://api.github.com/users/siladu/repos",
    "events_url": "https://api.github.com/users/siladu/events{/privacy}",
    "received_events_url": "https://api.github.com/users/siladu/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/5097/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/hyperledger/besu/issues/5097/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1432488144",
    "html_url": "https://github.com/hyperledger/besu/issues/5097#issuecomment-1432488144",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/5097",
    "id": 1432488144,
    "node_id": "IC_kwDODE2jmc5VYgjQ",
    "user": {
      "login": "siladu",
      "id": 2893793,
      "node_id": "MDQ6VXNlcjI4OTM3OTM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2893793?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/siladu",
      "html_url": "https://github.com/siladu",
      "followers_url": "https://api.github.com/users/siladu/followers",
      "following_url": "https://api.github.com/users/siladu/following{/other_user}",
      "gists_url": "https://api.github.com/users/siladu/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/siladu/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/siladu/subscriptions",
      "organizations_url": "https://api.github.com/users/siladu/orgs",
      "repos_url": "https://api.github.com/users/siladu/repos",
      "events_url": "https://api.github.com/users/siladu/events{/privacy}",
      "received_events_url": "https://api.github.com/users/siladu/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-02-16T04:12:47Z",
    "updated_at": "2023-02-16T04:25:21Z",
    "author_association": "CONTRIBUTOR",
    "body": "Not sure if besu was redeployed or this was the first attempt at syncing, but right away we ran into some invalid FCUs before starting to sync:\r\n\r\n```\r\n2023-02-10 12:08:47.926+00:00 | vert.x-worker-thread-0 | INFO  | AbstractEngineForkchoiceUpdated | INVALID for fork-choice-update: head: 0xfb93a91c7af6c7838e2ac156a3df05b6779d395327a9ab55257f24919bd15bcc, finalized: 0x945c1c85eba23282c8bd\r\n50ca4b3f07610f0d86e40362c2753376642f3b7a60a8, safeBlockHash: 0x4a9f5e7818db50d0240bbc86480a64e565f101a193da12d739c6a801bda2db5b\r\n2023-02-10 12:09:48.449+00:00 | vert.x-worker-thread-0 | INFO  | AbstractEngineForkchoiceUpdated | INVALID for fork-choice-update: head: 0xf08bfbce62c5a5cc23c924cc7402f6ea4b7f6b450ce0434170d2d6202cb1a6f6, finalized: 0xaf5a296330b6291e6671\r\n...\r\n...\r\n2023-02-10 12:32:10.912+00:00 | vert.x-worker-thread-0 | INFO  | AbstractEngineForkchoiceUpdated | INVALID for fork-choice-update: head: 0x26e46054edd8772aa1a5d60c505c93e21dd48a6dc6c2c66b56ca9d15b93c0268, finalized: 0xe4648fa8a4367953befb\r\n25ed409e1bcba307f31ac806323c0973dde71e0664be, safeBlockHash: 0x370fb1b9af3d6bb5091e32d061c89032b7c1d072852b2b44e5754e75e47311ff\r\n2023-02-10 12:32:55.149+00:00 | vert.x-worker-thread-0 | INFO  | BackwardSyncContext | Starting a new backward sync session\r\n```\r\n\r\nThe first one:\r\nhttps://zhejiang.beaconcha.in/block/0xfb93a91c7af6c7838e2ac156a3df05b6779d395327a9ab55257f24919bd15bcc\r\n\r\nweirdly, this was proposed by this very node: lighthouse-besu-2 🤔  This is from Feb 2nd, but the logs only start at Feb 10th, so maybe don't have all the information here, but seems like a redeployment or log wipe did occur on Feb 10th (confirmed it wasn't a resync via the snooper log response to getBlockByNumber[latest]).",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1432488144/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1432500514",
    "html_url": "https://github.com/hyperledger/besu/issues/5097#issuecomment-1432500514",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/5097",
    "id": 1432500514,
    "node_id": "IC_kwDODE2jmc5VYjki",
    "user": {
      "login": "siladu",
      "id": 2893793,
      "node_id": "MDQ6VXNlcjI4OTM3OTM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2893793?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/siladu",
      "html_url": "https://github.com/siladu",
      "followers_url": "https://api.github.com/users/siladu/followers",
      "following_url": "https://api.github.com/users/siladu/following{/other_user}",
      "gists_url": "https://api.github.com/users/siladu/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/siladu/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/siladu/subscriptions",
      "organizations_url": "https://api.github.com/users/siladu/orgs",
      "repos_url": "https://api.github.com/users/siladu/repos",
      "events_url": "https://api.github.com/users/siladu/events{/privacy}",
      "received_events_url": "https://api.github.com/users/siladu/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-02-16T04:36:05Z",
    "updated_at": "2023-02-16T04:38:04Z",
    "author_association": "CONTRIBUTOR",
    "body": "Following this redeployment, starting at Feb 10 12:08:01.062 2023, LH sends us a succession of FCUV2s and the occasional eth_getBlockByNumber[latest]. \r\nAt this point we are currently on block 58561, but the FCU head hashes start from near genesis and work their way up.\r\n\r\nThen we get this one and respond with VALID:\r\n\r\n```\r\nFeb 10 12:08:47.927 2023 REQUEST\r\n^[[38;5;6m{^[[39m\r\n^[[38;5;6m  \"jsonrpc\": \"2.0\",^[[39m\r\n^[[38;5;6m  \"method\": \"engine_forkchoiceUpdatedV2\",^[[39m\r\n^[[38;5;6m  \"params\": [^[[39m\r\n^[[38;5;6m    {^[[39m\r\n^[[38;5;6m      \"finalizedBlockHash\": \"0x945c1c85eba23282c8bd50ca4b3f07610f0d86e40362c2753376642f3b7a60a8\",^[[39m\r\n^[[38;5;6m      \"headBlockHash\": \"0xfb93a91c7af6c7838e2ac156a3df05b6779d395327a9ab55257f24919bd15bcc\",^[[39m\r\n^[[38;5;6m      \"safeBlockHash\": \"0x4a9f5e7818db50d0240bbc86480a64e565f101a193da12d739c6a801bda2db5b\"^[[39m\r\n^[[38;5;6m    },^[[39m\r\n^[[38;5;6m    null^[[39m\r\n^[[38;5;6m  ],^[[39m\r\n^[[38;5;6m  \"id\": 1^[[39m\r\n^[[38;5;6m}^[[39m\r\n\r\nFeb 10 12:08:47.927 2023 RESPONSE\r\n^[[38;5;2m{^[[39m\r\n^[[38;5;2m  \"jsonrpc\": \"2.0\",^[[39m\r\n^[[38;5;2m  \"id\": 1,^[[39m\r\n^[[38;5;2m  \"result\": {^[[39m\r\n^[[38;5;2m    \"payloadStatus\": {^[[39m\r\n^[[38;5;2m      \"status\": \"VALID\",^[[39m\r\n^[[38;5;2m      \"latestValidHash\": \"0xfb93a91c7af6c7838e2ac156a3df05b6779d395327a9ab55257f24919bd15bcc\",^[[39m\r\n^[[38;5;2m      \"validationError\": null^[[39m\r\n^[[38;5;2m    },^[[39m\r\n^[[38;5;2m    \"payloadId\": null^[[39m\r\n^[[38;5;2m  }^[[39m\r\n^[[38;5;2m}^[[39m\r\n```\r\n\r\nbut our logs say invalid...\r\n```\r\n2023-02-10 12:08:47.926+00:00 | vert.x-worker-thread-0 | INFO  | AbstractEngineForkchoiceUpdated | INVALID for fork-choice-update: head: 0xfb93a91c7af6c7838e2ac156a3df05b6779d395327a9ab55257f24919bd15bcc, finalized: 0x945c1c85eba23282c8bd50ca4b3f07610f0d86e40362c2753376642f3b7a60a8, safeBlockHash: 0x4a9f5e7818db50d0240bbc86480a64e565f101a193da12d739c6a801bda2db5b\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1432500514/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1432503193",
    "html_url": "https://github.com/hyperledger/besu/issues/5097#issuecomment-1432503193",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/5097",
    "id": 1432503193,
    "node_id": "IC_kwDODE2jmc5VYkOZ",
    "user": {
      "login": "siladu",
      "id": 2893793,
      "node_id": "MDQ6VXNlcjI4OTM3OTM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2893793?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/siladu",
      "html_url": "https://github.com/siladu",
      "followers_url": "https://api.github.com/users/siladu/followers",
      "following_url": "https://api.github.com/users/siladu/following{/other_user}",
      "gists_url": "https://api.github.com/users/siladu/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/siladu/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/siladu/subscriptions",
      "organizations_url": "https://api.github.com/users/siladu/orgs",
      "repos_url": "https://api.github.com/users/siladu/repos",
      "events_url": "https://api.github.com/users/siladu/events{/privacy}",
      "received_events_url": "https://api.github.com/users/siladu/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-02-16T04:41:21Z",
    "updated_at": "2023-02-16T04:46:49Z",
    "author_association": "CONTRIBUTOR",
    "body": "This can happen when we are ignoring an update to an old head...\r\n\r\nhttps://github.com/hyperledger/besu/blob/main/consensus/merge/src/main/java/org/hyperledger/besu/consensus/merge/blockcreation/MergeCoordinator.java#L516-L520\r\n\r\n(^ I think logging INVALID here is a bug, or at least misleading and should be changed)\r\n\r\n...This all makes sense since LH are sending us old heads in the FCUs...and I think the reason we aren't displaying a log per FCUV2 is because we throttle FCU logs.\r\n\r\nSo I think we can disregard these logs as a quirk of besu's logging + LH's behaviour to send old FCUs.",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1432503193/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1432511717",
    "html_url": "https://github.com/hyperledger/besu/issues/5097#issuecomment-1432511717",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/5097",
    "id": 1432511717,
    "node_id": "IC_kwDODE2jmc5VYmTl",
    "user": {
      "login": "siladu",
      "id": 2893793,
      "node_id": "MDQ6VXNlcjI4OTM3OTM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2893793?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/siladu",
      "html_url": "https://github.com/siladu",
      "followers_url": "https://api.github.com/users/siladu/followers",
      "following_url": "https://api.github.com/users/siladu/following{/other_user}",
      "gists_url": "https://api.github.com/users/siladu/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/siladu/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/siladu/subscriptions",
      "organizations_url": "https://api.github.com/users/siladu/orgs",
      "repos_url": "https://api.github.com/users/siladu/repos",
      "events_url": "https://api.github.com/users/siladu/events{/privacy}",
      "received_events_url": "https://api.github.com/users/siladu/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-02-16T04:57:26Z",
    "updated_at": "2023-02-16T04:57:26Z",
    "author_association": "CONTRIBUTOR",
    "body": "Then we get into the backwards sync which complains about block 58562 ([proposed by teku-besu-1](https://zhejiang.beaconcha.in/block/0xfe520970f676a81b61bbe6a8c8d8ee85b05c5f2488a96bf63ee26acd7e82721e)) but possibly only because of a world state (bonsai?) issue.\r\n\r\n```\r\n2023-02-10 12:32:55.149+00:00 | vert.x-worker-thread-0 | INFO  | BackwardSyncContext | Starting a new backward sync session\r\n2023-02-10 12:32:55.173+00:00 | nioEventLoopGroup-3-6 | INFO  | BackwardsSyncAlgorithm | Backward sync target block is 58589 (0x9bafc5444933dcbb8d66d9855e35bba6d79125ac90ee409b893dac0dd05f1159)\r\n2023-02-10 12:32:55.181+00:00 | nioEventLoopGroup-3-6 | INFO  | BackwardSyncStep | Backward sync phase 1 of 2 completed, downloaded a total of 28 headers. Peers: 23\r\n2023-02-10 12:32:55.186+00:00 | ForkJoinPool.commonPool-worker-3 | INFO  | MainnetBlockValidator | Invalid block 58562 (0xfe520970f676a81b61bbe6a8c8d8ee85b05c5f2488a96bf63ee26acd7e82721e): Optional[Unable to process block because parent world state 0xf53fa9c30bb0276a709cc06a0667661dbcc60beb813483022098b72d128f2853 is not available]\r\n2023-02-10 12:32:55.192+00:00 | ForkJoinPool.commonPool-worker-3 | INFO  | BackwardSyncContext | Current backward sync session failed, it will be restarted\r\n```\r\n\r\nwhich we contained to get errors for until:\r\n`2023-02-14 05:47:40.968+00:00 | nioEventLoopGroup-3-6 | INFO  | MainnetBlockValidator | Invalid block 58562 (0xfe520970f676a81b61bbe6a8c8d8ee85b05c5f2488a96bf63ee26acd7e82721e): Optional[Unable to process block because parent world state 0xf53fa9c30bb0276a709cc06a0667661dbcc60beb813483022098b72d128f2853 is not available]`\r\n\r\nat which point I intervened with a couple of restarts and added some debug logging",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1432511717/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1432512602",
    "html_url": "https://github.com/hyperledger/besu/issues/5097#issuecomment-1432512602",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/5097",
    "id": 1432512602,
    "node_id": "IC_kwDODE2jmc5VYmha",
    "user": {
      "login": "siladu",
      "id": 2893793,
      "node_id": "MDQ6VXNlcjI4OTM3OTM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2893793?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/siladu",
      "html_url": "https://github.com/siladu",
      "followers_url": "https://api.github.com/users/siladu/followers",
      "following_url": "https://api.github.com/users/siladu/following{/other_user}",
      "gists_url": "https://api.github.com/users/siladu/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/siladu/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/siladu/subscriptions",
      "organizations_url": "https://api.github.com/users/siladu/orgs",
      "repos_url": "https://api.github.com/users/siladu/repos",
      "events_url": "https://api.github.com/users/siladu/events{/privacy}",
      "received_events_url": "https://api.github.com/users/siladu/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-02-16T04:58:33Z",
    "updated_at": "2023-02-16T04:58:33Z",
    "author_association": "CONTRIBUTOR",
    "body": "The error had now transformed into the \"failed to import finalized block\" one.\r\n\r\nHere's a snippet of the debug following a restart:\r\n```\r\n2023-02-14 05:54:12.251+00:00 | vert.x-worker-thread-0 | DEBUG | MergeCoordinator | Appending new head block hash 0x6b52f79d2f94e815e59cfd95d278b093052db84ccbf5edba6b498873b027bc5e to backward sync\r\n2023-02-14 05:54:12.251+00:00 | vert.x-worker-thread-0 | WARN  | MergeCoordinator | Internal error, backward sync completed but failed to import finalized block 0xb2a6fa790ed3d2eb1511a1a62211ee0b50ed16b36c66cc9cd1144514b06a24aa\r\n2023-02-14 05:54:12.252+00:00 | vert.x-worker-thread-0 | DEBUG | MergeCoordinator | Appending new head block hash 0x6b52f79d2f94e815e59cfd95d278b093052db84ccbf5edba6b498873b027bc5e to backward sync\r\n2023-02-14 05:54:12.252+00:00 | vert.x-worker-thread-0 | WARN  | MergeCoordinator | Internal error, backward sync completed but failed to import finalized block 0xb2a6fa790ed3d2eb1511a1a62211ee0b50ed16b36c66cc9cd1144514b06a24aa\r\n2023-02-14 05:54:13.133+00:00 | vert.x-worker-thread-0 | DEBUG | MergeCoordinator | Appending new head block hash 0x53a43127261df09ea950fbca963065c2dddf73ffe52c6b81b20e36d25388c377 to backward sync\r\n2023-02-14 05:54:13.134+00:00 | vert.x-worker-thread-0 | WARN  | MergeCoordinator | Internal error, backward sync completed but failed to import finalized block 0x79cc065a6792ce46ca89a52bef416989ba6a97660cab0f84f99f6f86c8affd6e\r\n2023-02-14 05:54:14.206+00:00 | vert.x-worker-thread-0 | DEBUG | MergeCoordinator | Appending new head block hash 0x1c128992403fde7881ef3b98c84ad082ef8142ce3d616e603648b87f62510a71 to backward sync\r\n2023-02-14 05:54:14.206+00:00 | vert.x-worker-thread-0 | WARN  | MergeCoordinator | Internal error, backward sync completed but failed to import finalized block 0x53a43127261df09ea950fbca963065c2dddf73ffe52c6b81b20e36d25388c377\r\n2023-02-14 05:54:15.197+00:00 | vert.x-worker-thread-0 | DEBUG | MergeCoordinator | Appending new head block hash 0xcf9eddfd7d02569a9e96b8f95f448059a2dd53a949dc6283d8d403b70c8e6dbd to backward sync\r\n2023-02-14 05:54:15.198+00:00 | vert.x-worker-thread-0 | WARN  | MergeCoordinator | Internal error, backward sync completed but failed to import finalized block 0x1c128992403fde7881ef3b98c84ad082ef8142ce3d616e603648b87f62510a71\r\n2023-02-14 05:54:16.226+00:00 | vert.x-worker-thread-0 | DEBUG | MergeCoordinator | Appending new head block hash 0x8fa451e27317b49a58148668eb6e17e232841f59d4dc2034c4131017dd99eb1d to backward sync\r\n2023-02-14 05:54:16.226+00:00 | vert.x-worker-thread-0 | WARN  | MergeCoordinator | Internal error, backward sync completed but failed to import finalized block 0xcf9eddfd7d02569a9e96b8f95f448059a2dd53a949dc6283d8d403b70c8e6dbd\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1432512602/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1432515362",
    "html_url": "https://github.com/hyperledger/besu/issues/5097#issuecomment-1432515362",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/5097",
    "id": 1432515362,
    "node_id": "IC_kwDODE2jmc5VYnMi",
    "user": {
      "login": "siladu",
      "id": 2893793,
      "node_id": "MDQ6VXNlcjI4OTM3OTM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2893793?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/siladu",
      "html_url": "https://github.com/siladu",
      "followers_url": "https://api.github.com/users/siladu/followers",
      "following_url": "https://api.github.com/users/siladu/following{/other_user}",
      "gists_url": "https://api.github.com/users/siladu/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/siladu/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/siladu/subscriptions",
      "organizations_url": "https://api.github.com/users/siladu/orgs",
      "repos_url": "https://api.github.com/users/siladu/repos",
      "events_url": "https://api.github.com/users/siladu/events{/privacy}",
      "received_events_url": "https://api.github.com/users/siladu/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-02-16T05:02:02Z",
    "updated_at": "2023-02-16T05:02:02Z",
    "author_association": "CONTRIBUTOR",
    "body": "Another restart (maybe of LH too) bring us back to the \r\n`2023-02-14 05:56:53.774+00:00 | ForkJoinPool.commonPool-worker-3 | INFO  | MainnetBlockValidator | Invalid block 58562 (0xfe520970f676a81b61bbe6a8c8d8ee85b05c5f2488a96bf63ee26acd7e82721e): Optional[Unable to process block because parent world state 0xf53fa9c30bb0276a709cc06a0667661dbcc60beb813483022098b72d128f2853 is not available]` instead for a bit while trying to backwards sync.\r\n\r\nBackwards sync weirdness for a while and then eventually the terminal state of Invalid block spam:\r\n```\r\n2023-02-14 06:01:24.531+00:00 | nioEventLoopGroup-3-5 | INFO  | BackwardSyncStep | Backward sync phase 1 of 2, 0.71% completed, downloaded 200 headers of at least 28205. Peers: 14\r\n2023-02-14 06:01:26.151+00:00 | ForkJoinPool.commonPool-worker-1 | INFO  | BackwardSyncStep | Backward sync phase 1 of 2 completed, downloaded a total of 28336 headers. Peers: 14\r\n2023-02-14 06:01:26.154+00:00 | nioEventLoopGroup-3-5 | INFO  | BackwardsSyncAlgorithm | Backward sync target block is 86824 (0xa969256f9b6024551cb81a055c31e200d7b474bf9722d7829f4759b7d6e74791)\r\n2023-02-14 06:01:26.157+00:00 | nioEventLoopGroup-3-5 | INFO  | BackwardsSyncAlgorithm | Backward sync target block is 86883 (0xc477170a34ac415ff0ce35f1f4c63e7c0ab6b3177f121c7531098792237a62bb)\r\n2023-02-14 06:01:27.658+00:00 | ForkJoinPool.commonPool-worker-1 | INFO  | BackwardSyncStep | Backward sync phase 1 of 2 completed, downloaded a total of 28454 headers. Peers: 14\r\n2023-02-14 06:01:27.661+00:00 | nioEventLoopGroup-3-5 | INFO  | BackwardsSyncAlgorithm | Backward sync target block is 86939 (0x3a0f32c2716ae443eb0641f96aff9ebbee749a819453c1b80b4532f7b3edc301)\r\n2023-02-14 06:01:29.247+00:00 | ForkJoinPool.commonPool-worker-1 | INFO  | BackwardSyncStep | Backward sync phase 1 of 2 completed, downloaded a total of 28511 headers. Peers: 15\r\n2023-02-14 06:01:29.250+00:00 | nioEventLoopGroup-3-5 | INFO  | BackwardsSyncAlgorithm | Backward sync target block is 86998 (0x0d8544a635cfdf11a90b1f52fa700374cbaf3b9d0ce0b837de21932116ed47ca)\r\n2023-02-14 06:01:29.253+00:00 | nioEventLoopGroup-3-5 | INFO  | BackwardsSyncAlgorithm | Backward sync target block is 87058 (0x2cedc23692a958a2d97a6b41459dae7964658b711a21f15afc523942242a4d57)\r\n2023-02-14 06:01:30.948+00:00 | ForkJoinPool.commonPool-worker-1 | INFO  | BackwardSyncStep | Backward sync phase 1 of 2 completed, downloaded a total of 28703 headers. Peers: 16\r\n2023-02-14 06:01:30.951+00:00 | nioEventLoopGroup-3-5 | INFO  | BackwardsSyncAlgorithm | Backward sync target block is 87118 (0x1833282871a9eabd3e6349121eb8544c0d4b5466066f0744844c4398bbd44f62)\r\n2023-02-14 06:01:32.634+00:00 | ForkJoinPool.commonPool-worker-1 | INFO  | BackwardSyncStep | Backward sync phase 1 of 2 completed, downloaded a total of 28748 headers. Peers: 14\r\n2023-02-14 06:01:32.649+00:00 | ForkJoinPool.commonPool-worker-1 | INFO  | MainnetBlockValidator | Invalid block 58562 (0xfe520970f676a81b61bbe6a8c8d8ee85b05c5f2488a96bf63ee26acd7e82721e): Optional[Unable to process block because parent world state 0xf53fa9c30bb0276a709cc06a0667661dbcc60beb813483022098b72d128f2853 is not available]\r\n2023-02-14 06:01:33.226+00:00 | ForkJoinPool.commonPool-worker-1 | INFO  | BackwardSyncContext | Current backward sync session failed, it will be restarted\r\n2023-02-14 06:01:36.183+00:00 | vert.x-worker-thread-0 | INFO  | BackwardSyncContext | Starting a new backward sync session\r\n2023-02-14 06:01:36.228+00:00 | nioEventLoopGroup-3-5 | INFO  | MainnetBlockValidator | Invalid block 58562 (0xfe520970f676a81b61bbe6a8c8d8ee85b05c5f2488a96bf63ee26acd7e82721e): Optional[Unable to process block because parent world state 0xf53fa9c30bb0276a709cc06a0667661dbcc60beb813483022098b72d128f2853 is not available]\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1432515362/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1432526292",
    "html_url": "https://github.com/hyperledger/besu/issues/5097#issuecomment-1432526292",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/5097",
    "id": 1432526292,
    "node_id": "IC_kwDODE2jmc5VYp3U",
    "user": {
      "login": "siladu",
      "id": 2893793,
      "node_id": "MDQ6VXNlcjI4OTM3OTM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2893793?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/siladu",
      "html_url": "https://github.com/siladu",
      "followers_url": "https://api.github.com/users/siladu/followers",
      "following_url": "https://api.github.com/users/siladu/following{/other_user}",
      "gists_url": "https://api.github.com/users/siladu/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/siladu/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/siladu/subscriptions",
      "organizations_url": "https://api.github.com/users/siladu/orgs",
      "repos_url": "https://api.github.com/users/siladu/repos",
      "events_url": "https://api.github.com/users/siladu/events{/privacy}",
      "received_events_url": "https://api.github.com/users/siladu/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-02-16T05:16:57Z",
    "updated_at": "2023-02-16T05:16:57Z",
    "author_association": "CONTRIBUTOR",
    "body": "One more restart and then back to \r\n\r\n```\r\n2023-02-14 06:03:13.270+00:00 | vert.x-worker-thread-0 | INFO  | BackwardSyncContext | Starting a new backward sync session\r\n2023-02-14 06:03:13.272+00:00 | vert.x-worker-thread-0 | INFO  | BackwardsSyncAlgorithm | Current backward sync session is done\r\n2023-02-14 06:03:13.346+00:00 | vert.x-worker-thread-0 | WARN  | MergeCoordinator | Internal error, backward sync completed but failed to import finalized block 0x0d0909dd6c89a94fcf51970c4213f97791bfa131b1309ba4caf7a52927a8ef64\r\n2023-02-14 06:03:25.000+00:00 | vert.x-worker-thread-0 | WARN  | MergeCoordinator | Internal error, backward sync completed but failed to import finalized block 0x0d0909dd6c89a94fcf51970c4213f97791bfa131b1309ba4caf7a52927a8ef64\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1432526292/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1439618596",
    "html_url": "https://github.com/hyperledger/besu/issues/5097#issuecomment-1439618596",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/5097",
    "id": 1439618596,
    "node_id": "IC_kwDODE2jmc5VztYk",
    "user": {
      "login": "siladu",
      "id": 2893793,
      "node_id": "MDQ6VXNlcjI4OTM3OTM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2893793?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/siladu",
      "html_url": "https://github.com/siladu",
      "followers_url": "https://api.github.com/users/siladu/followers",
      "following_url": "https://api.github.com/users/siladu/following{/other_user}",
      "gists_url": "https://api.github.com/users/siladu/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/siladu/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/siladu/subscriptions",
      "organizations_url": "https://api.github.com/users/siladu/orgs",
      "repos_url": "https://api.github.com/users/siladu/repos",
      "events_url": "https://api.github.com/users/siladu/events{/privacy}",
      "received_events_url": "https://api.github.com/users/siladu/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-02-22T08:31:41Z",
    "updated_at": "2023-02-22T08:31:41Z",
    "author_association": "CONTRIBUTOR",
    "body": "This issue has split out into two new issues: #5101 and #5121 ",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1439618596/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
