{
  "url": "https://api.github.com/repos/hyperledger/besu/issues/4541",
  "repository_url": "https://api.github.com/repos/hyperledger/besu",
  "labels_url": "https://api.github.com/repos/hyperledger/besu/issues/4541/labels{/name}",
  "comments_url": "https://api.github.com/repos/hyperledger/besu/issues/4541/comments",
  "events_url": "https://api.github.com/repos/hyperledger/besu/issues/4541/events",
  "html_url": "https://github.com/hyperledger/besu/issues/4541",
  "id": 1413488771,
  "node_id": "I_kwDODE2jmc5UQCCD",
  "number": 4541,
  "title": "Private network crash when upgrading London",
  "user": {
    "login": "jorgesjv",
    "id": 81416738,
    "node_id": "MDQ6VXNlcjgxNDE2NzM4",
    "avatar_url": "https://avatars.githubusercontent.com/u/81416738?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/jorgesjv",
    "html_url": "https://github.com/jorgesjv",
    "followers_url": "https://api.github.com/users/jorgesjv/followers",
    "following_url": "https://api.github.com/users/jorgesjv/following{/other_user}",
    "gists_url": "https://api.github.com/users/jorgesjv/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/jorgesjv/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/jorgesjv/subscriptions",
    "organizations_url": "https://api.github.com/users/jorgesjv/orgs",
    "repos_url": "https://api.github.com/users/jorgesjv/repos",
    "events_url": "https://api.github.com/users/jorgesjv/events{/privacy}",
    "received_events_url": "https://api.github.com/users/jorgesjv/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 1921587647,
      "node_id": "MDU6TGFiZWwxOTIxNTg3NjQ3",
      "url": "https://api.github.com/repos/hyperledger/besu/labels/TeamGroot",
      "name": "TeamGroot",
      "color": "1d76db",
      "default": false,
      "description": "GH issues worked on by Groot Team"
    },
    {
      "id": 3805580086,
      "node_id": "LA_kwDODE2jmc7i1Is2",
      "url": "https://api.github.com/repos/hyperledger/besu/labels/question",
      "name": "question",
      "color": "bfd4f2",
      "default": true,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2022-10-18T16:07:33Z",
  "updated_at": "2022-12-05T01:38:44Z",
  "closed_at": "2022-12-05T01:38:43Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "### Description\r\nAs an Besu private network user, the network crashes after reachs specific londonBlock in order to upgrade protocol.\r\nThis happened after upgrade to permissioning contracts version 2 and upgrade network to v22.7.6.\r\n\r\n\r\n### Steps to Reproduce (Bug)\r\n1. Private network running v21.10.6\r\n2. Upgrade to permissining contracts version 2.1.6\r\n3. Upgrade network to v22.7.6\r\n4. Set londonBlock in genesis.json of all nodes.\r\n5. Reach specific block and crash.\r\n6. Stop the network and remove londonBlock in genesis.json\r\n7. Keep crashed.\r\n\r\n**Expected behavior:** \r\nNetwork running with London protocol\r\n\r\n**Actual behavior:** \r\nThe network is not running\r\n\r\n### Versions (Add all that apply)\r\n* Software version: 21.10.6 and 22.7.6\r\n* Java version: 11.0.16\r\n\r\n**Logs of the validators when the network reached the specific block to upgrade**\r\n```\r\n2022-10-18 16:35:08.018+02:00 | BftProcessorExecutor-IBFT-0 | INFO  | IbftBesuControllerBuilder | Imported #11,354,493 / 0 tx / 0 pending / 0 (0.0%) gas / (0xb9a2139808b0487e46671405d86f325c6752a9f0296d661752afcfde00f08a04) \r\n2022-10-18 16:35:13.017+02:00 | BftProcessorExecutor-IBFT-0 | INFO  | IbftBesuControllerBuilder | Imported #11,354,494 / 0 tx / 0 pending / 0 (0.0%) gas / (0xa957621a8bd45eaf37916d0ea1ac142b91ecb07def9ba9e3559e766dca4d1500) \r\n2022-10-18 16:35:18.024+02:00 | BftProcessorExecutor-IBFT-0 | INFO  | IbftBesuControllerBuilder | Produced #11,354,495 / 0 tx / 0 pending / 0 (0.0%) gas / (0x9666acee8dfba0b6051a81a2cf016a35d57a776c62252e6d63487f7c853dfd3d) \r\n2022-10-18 16:35:23.022+02:00 | BftProcessorExecutor-IBFT-0 | INFO  | IbftBesuControllerBuilder | Imported #11,354,496 / 0 tx / 0 pending / 0 (0.0%) gas / (0x47bfd97f04fdaebf69fbfc71f1ccc60f0bd864476ecf184ac6be0a8ebdef746c) \r\n2022-10-18 16:35:28.019+02:00 | BftProcessorExecutor-IBFT-0 | INFO  | IbftBesuControllerBuilder | Imported #11,354,497 / 0 tx / 0 pending / 0 (0.0%) gas / (0x3eb7e4e4640b9eec1d02cfcbad1d532fcde9f0e09b065f642f9e5047945787ec) \r\n2022-10-18 16:35:33.023+02:00 | BftProcessorExecutor-IBFT-0 | INFO  | IbftBesuControllerBuilder | Imported #11,354,498 / 0 tx / 0 pending / 0 (0.0%) gas / (0x39caec73314bcdc09ad9ec03dcbbe739b86940f159eb5878d8e3d5b39f915984) \r\n2022-10-18 16:35:38.025+02:00 | BftProcessorExecutor-IBFT-0 | INFO  | IbftBesuControllerBuilder | Produced #11,354,499 / 0 tx / 0 pending / 0 (0.0%) gas / (0xc4314a20e9e0240413d54ba24610d0a55042da95ed00f692c0fc667af3099f29) \r\n2022-10-18 16:35:43.027+02:00 | BftProcessorExecutor-IBFT-0 | ERROR | EventMultiplexer | State machine threw exception while processing event \\{org.hyperledger.besu.consensus.common.bft.events.BftReceivedMessageEvent@661e39b6\\} Unable to check permissions for enode://095cac4614822f902900b4194bb081f1f19433c9b2d4dd57f235b33a10a5ed2d1ff72bf975a55449b8ab77ca1e19a204aad0583ce89192b591e684cf6fc3de8c@107.105.0.25:30303\r\n2022-10-18 16:35:43.129+02:00 | vert.x-eventloop-thread-1 | ERROR | ContextImpl | Unhandled exception Unable to check permissions for enode://095cac4614822f902900b4194bb081f1f19433c9b2d4dd57f235b33a10a5ed2d1ff72bf975a55449b8ab77ca1e19a204aad0583ce89192b591e684cf6fc3de8c@107.105.0.25:30303\r\n2022-10-18 16:35:48.124+02:00 | vert.x-eventloop-thread-1 | ERROR | ContextImpl | Unhandled exception Unable to check permissions for enode://156262c622baa6a451a688e10dfb23db716bb7d273c75fc8892595f3fa11654f68a0686af2a7c85f3d327f309f008b364b10ea1df4e8533941c50a181ed809a7@107.105.0.23:30303\r\n2022-10-18 16:35:50.113+02:00 | vert.x-eventloop-thread-1 | ERROR | ContextImpl | Unhandled exception Unable to check permissions for enode://156262c622baa6a451a688e10dfb23db716bb7d273c75fc8892595f3fa11654f68a0686af2a7c85f3d327f309f008b364b10ea1df4e8533941c50a181ed809a7@107.105.0.23:30303\r\n2022-10-18 16:35:53.119+02:00 | vert.x-eventloop-thread-1 | ERROR | ContextImpl | Unhandled exception Unable to check permissions for enode://156262c622baa6a451a688e10dfb23db716bb7d273c75fc8892595f3fa11654f68a0686af2a7c85f3d327f309f008b364b10ea1df4e8533941c50a181ed809a7@107.105.0.23:30303\r\n2022-10-18 16:35:57.621+02:00 | vert.x-eventloop-thread-1 | ERROR | ContextImpl | Unhandled exception Unable to check permissions for enode://156262c622baa6a451a688e10dfb23db716bb7d273c75fc8892595f3fa11654f68a0686af2a7c85f3d327f309f008b364b10ea1df4e8533941c50a181ed809a7@107.105.0.23:30303\r\n2022-10-18 16:35:59.762+02:00 | vert.x-eventloop-thread-1 | ERROR | ContextImpl | Unhandled exception Unable to check permissions for enode://7d37cbbc9a2af5f182735dc994412f6ddc4241ac4eb12c205d58c117b66e170923b0d39fad140f5a302b2183374cac9a6b2bdabedbf0f7e54b87bdcee4d61c46@107.105.0.21:30303\r\n2022-10-18 16:36:01.747+02:00 | vert.x-eventloop-thread-1 | ERROR | ContextImpl | Unhandled exception Unable to check permissions for enode://7d37cbbc9a2af5f182735dc994412f6ddc4241ac4eb12c205d58c117b66e170923b0d39fad140f5a302b2183374cac9a6b2bdabedbf0f7e54b87bdcee4d61c46@107.105.0.21:30303\r\n2022-10-18 16:36:01.753+02:00 | vert.x-eventloop-thread-1 | ERROR | ContextImpl | Unhandled exception Unable to check permissions for enode://24d7fd1111ebcbf05f7f70d01d78c201ae951a296c84a1c6845bf19a91b5868831ce56c1da4bdf61c6b53425622535630b218dce49ea41eb648004d26ed44d78@107.105.0.26:30303\r\n2022-10-18 16:36:01.852+02:00 | vert.x-eventloop-thread-1 | ERROR | ContextImpl | Unhandled exception Unable to check permissions for enode://38d4468ceb2e208159f1ee12094fd9d5fcc14d231be3438a269d17108866dbd15e4d8aebfb0655bf8d251a2a247fd31e4327b4dc172302df3656551c3ff5a17d@180.49.47.18:30303\r\n2022-10-18 16:36:03.745+02:00 | vert.x-eventloop-thread-1 | ERROR | ContextImpl | Unhandled exception Unable to check permissions for enode://24d7fd1111ebcbf05f7f70d01d78c201ae951a296c84a1c6845bf19a91b5868831ce56c1da4bdf61c6b53425622535630b218dce49ea41eb648004d26ed44d78@107.105.0.26:30303\r\n2022-10-18 16:36:03.837+02:00 | vert.x-eventloop-thread-1 | ERROR | ContextImpl | Unhandled exception Unable to check permissions for enode://38d4468ceb2e208159f1ee12094fd9d5fcc14d231be3438a269d17108866dbd15e4d8aebfb0655bf8d251a2a247fd31e4327b4dc172302df3656551c3ff5a17d@180.49.47.18:30303\r\n2022-10-18 16:36:04.371+02:00 | vert.x-eventloop-thread-1 | ERROR | ContextImpl | Unhandled exception Unable to check permissions for enode://156262c622baa6a451a688e10dfb23db716bb7d273c75fc8892595f3fa11654f68a0686af2a7c85f3d327f309f008b364b10ea1df4e8533941c50a181ed809a7@107.105.0.23:30303\r\n2022-10-18 16:36:04.756+02:00 | vert.x-eventloop-thread-1 | ERROR | ContextImpl | Unhandled exception Unable to check permissions for enode://7d37cbbc9a2af5f182735dc994412f6ddc4241ac4eb12c205d58c117b66e170923b0d39fad140f5a302b2183374cac9a6b2bdabedbf0f7e54b87bdcee4d61c46@107.105.0.21:30303\r\n2022-10-18 16:36:06.747+02:00 | vert.x-eventloop-thread-1 | ERROR | ContextImpl | Unhandled exception Unable to check permissions for enode://24d7fd1111ebcbf05f7f70d01d78c201ae951a296c84a1c6845bf19a91b5868831ce56c1da4bdf61c6b53425622535630b218dce49ea41eb648004d26ed44d78@107.105.0.26:30303\r\n```\r\n![MicrosoftTeams-image (1)](https://user-images.githubusercontent.com/81416738/196631204-c01dac6d-b4bd-46a2-8242-1a39529fabaf.png)\r\n\r\n\r\n**Logs of the validators after stop the network and remove the londonBlock of genesis.json**\r\n```\r\n2022-10-18 17:54:19.361+02:00 | main | DEBUG | Native | Looking in classpath from jdk.internal.loader.ClassLoaders$AppClassLoader@67424e82 for /com/sun/jna/linux-x86-64/libjnidispatch.so\r\n2022-10-18 17:54:19.370+02:00 | main | DEBUG | Native | Found library resource at jar:file:/mnt/okapi/versionesBesu/besu-22.7.6/lib/jna-5.12.1.jar!/com/sun/jna/linux-x86-64/libjnidispatch.so\r\n2022-10-18 17:54:19.377+02:00 | main | DEBUG | Native | Extracting library to /tmp/jna15144996566567674863.tmp\r\n2022-10-18 17:54:19.381+02:00 | main | DEBUG | Native | Trying /tmp/jna15144996566567674863.tmp\r\n2022-10-18 17:54:19.384+02:00 | main | DEBUG | Native | Found jnidispatch at /tmp/jna15144996566567674863.tmp\r\n2022-10-18 17:54:19.437+02:00 | main | DEBUG | NativeLibrary | Looking for library 'secp256k1'\r\n2022-10-18 17:54:19.437+02:00 | main | DEBUG | NativeLibrary | Adding paths from jna.library.path: null\r\n2022-10-18 17:54:19.437+02:00 | main | DEBUG | NativeLibrary | Trying libsecp256k1.so\r\n2022-10-18 17:54:19.438+02:00 | main | DEBUG | NativeLibrary | Loading failed with message: libsecp256k1.so: cannot open shared object file: No such file or directory\r\n2022-10-18 17:54:19.438+02:00 | main | DEBUG | NativeLibrary | Adding system paths: [/usr/lib64, /lib64, /usr/lib, /lib, /usr/lib64/dyninst, /usr/lib64/mysql, /usr/lib64//bind9-export]\r\n2022-10-18 17:54:19.438+02:00 | main | DEBUG | NativeLibrary | Trying libsecp256k1.so\r\n2022-10-18 17:54:19.439+02:00 | main | DEBUG | NativeLibrary | Loading failed with message: libsecp256k1.so: cannot open shared object file: No such file or directory\r\n2022-10-18 17:54:19.439+02:00 | main | DEBUG | NativeLibrary | Looking for version variants\r\n2022-10-18 17:54:19.443+02:00 | main | DEBUG | Native | Looking in classpath from jdk.internal.loader.ClassLoaders$AppClassLoader@67424e82 for secp256k1\r\n2022-10-18 17:54:19.444+02:00 | main | DEBUG | Native | Found library resource at jar:file:/mnt/okapi/versionesBesu/besu-22.7.6/lib/secp256k1-0.6.1.jar!/linux-x86-64/libsecp256k1.so\r\n2022-10-18 17:54:19.445+02:00 | main | DEBUG | Native | Extracting library to /tmp/jna5694447202272980161.tmp\r\n2022-10-18 17:54:19.450+02:00 | main | DEBUG | NativeLibrary | Found library 'secp256k1' at /tmp/jna5694447202272980161.tmp\r\n2022-10-18 17:54:19.483+02:00 | main | DEBUG | NativeLibrary | Looking for library 'eth_pairings'\r\n2022-10-18 17:54:19.483+02:00 | main | DEBUG | NativeLibrary | Adding paths from jna.library.path: null\r\n2022-10-18 17:54:19.483+02:00 | main | DEBUG | NativeLibrary | Trying libeth_pairings.so\r\n2022-10-18 17:54:19.484+02:00 | main | DEBUG | NativeLibrary | Loading failed with message: libeth_pairings.so: cannot open shared object file: No such file or directory\r\n2022-10-18 17:54:19.484+02:00 | main | DEBUG | NativeLibrary | Adding system paths: [/usr/lib64, /lib64, /usr/lib, /lib, /usr/lib64/dyninst, /usr/lib64/mysql, /usr/lib64//bind9-export]\r\n2022-10-18 17:54:19.484+02:00 | main | DEBUG | NativeLibrary | Trying libeth_pairings.so\r\n2022-10-18 17:54:19.484+02:00 | main | DEBUG | NativeLibrary | Loading failed with message: libeth_pairings.so: cannot open shared object file: No such file or directory\r\n2022-10-18 17:54:19.485+02:00 | main | DEBUG | NativeLibrary | Looking for version variants\r\n2022-10-18 17:54:19.489+02:00 | main | DEBUG | Native | Looking in classpath from jdk.internal.loader.ClassLoaders$AppClassLoader@67424e82 for eth_pairings\r\n2022-10-18 17:54:19.490+02:00 | main | DEBUG | Native | Found library resource at jar:file:/mnt/okapi/versionesBesu/besu-22.7.6/lib/bls12-381-0.6.1.jar!/linux-x86-64/libeth_pairings.so\r\n2022-10-18 17:54:19.490+02:00 | main | DEBUG | Native | Extracting library to /tmp/jna9348156746306097713.tmp\r\n2022-10-18 17:54:19.530+02:00 | main | INFO  | Besu | Using the Java implementation of alt bn128\r\n2022-10-18 17:54:19.530+02:00 | main | INFO  | Besu | Using the native implementation of the signature algorithm\r\n2022-10-18 17:54:19.532+02:00 | main | DEBUG | NativeLibrary | Looking for library 'blake2bf'\r\n2022-10-18 17:54:19.532+02:00 | main | DEBUG | NativeLibrary | Adding paths from jna.library.path: null\r\n2022-10-18 17:54:19.532+02:00 | main | DEBUG | NativeLibrary | Trying libblake2bf.so\r\n2022-10-18 17:54:19.533+02:00 | main | DEBUG | NativeLibrary | Loading failed with message: libblake2bf.so: cannot open shared object file: No such file or directory\r\n2022-10-18 17:54:19.533+02:00 | main | DEBUG | NativeLibrary | Adding system paths: [/usr/lib64, /lib64, /usr/lib, /lib, /usr/lib64/dyninst, /usr/lib64/mysql, /usr/lib64//bind9-export]\r\n2022-10-18 17:54:19.533+02:00 | main | DEBUG | NativeLibrary | Trying libblake2bf.so\r\n2022-10-18 17:54:19.533+02:00 | main | DEBUG | NativeLibrary | Loading failed with message: libblake2bf.so: cannot open shared object file: No such file or directory\r\n2022-10-18 17:54:19.533+02:00 | main | DEBUG | NativeLibrary | Looking for version variants\r\n2022-10-18 17:54:19.536+02:00 | main | DEBUG | Native | Looking in classpath from jdk.internal.loader.ClassLoaders$AppClassLoader@67424e82 for blake2bf\r\n2022-10-18 17:54:19.537+02:00 | main | DEBUG | Native | Found library resource at jar:file:/mnt/okapi/versionesBesu/besu-22.7.6/lib/blake2bf-0.6.1.jar!/linux-x86-64/libblake2bf.so\r\n2022-10-18 17:54:19.537+02:00 | main | DEBUG | Native | Extracting library to /tmp/jna9922492178936859095.tmp\r\n2022-10-18 17:54:19.546+02:00 | main | DEBUG | NativeLibrary | Found library 'blake2bf' at /tmp/jna9922492178936859095.tmp\r\n2022-10-18 17:54:19.547+02:00 | main | INFO  | Besu | Using the native implementation of the blake2bf algorithm\r\n2022-10-18 17:54:19.553+02:00 | main | INFO  | Besu | Starting Besu version: besu/v22.7.6/linux-x86_64/openjdk-java-11\r\n2022-10-18 17:54:19.599+02:00 | main | DEBUG | LoggerFactory | Using io.vertx.core.logging.Log4j2LogDelegateFactory\r\n2022-10-18 17:54:19.641+02:00 | main | DEBUG | PlatformDependent0 | -Dio.netty.noUnsafe: false\r\n2022-10-18 17:54:19.641+02:00 | main | DEBUG | PlatformDependent0 | Java version: 11\r\n2022-10-18 17:54:19.645+02:00 | main | DEBUG | PlatformDependent0 | sun.misc.Unsafe.theUnsafe: available\r\n2022-10-18 17:54:19.646+02:00 | main | DEBUG | PlatformDependent0 | sun.misc.Unsafe.copyMemory: available\r\n2022-10-18 17:54:19.647+02:00 | main | DEBUG | PlatformDependent0 | sun.misc.Unsafe.storeFence: available\r\n2022-10-18 17:54:19.649+02:00 | main | DEBUG | PlatformDependent0 | java.nio.Buffer.address: available\r\n2022-10-18 17:54:19.651+02:00 | main | DEBUG | PlatformDependent0 | direct buffer constructor: available\r\n2022-10-18 17:54:19.652+02:00 | main | DEBUG | PlatformDependent0 | java.nio.Bits.unaligned: available, true\r\n2022-10-18 17:54:19.655+02:00 | main | DEBUG | PlatformDependent0 | jdk.internal.misc.Unsafe.allocateUninitializedArray(int): available\r\n2022-10-18 17:54:19.656+02:00 | main | DEBUG | PlatformDependent0 | java.nio.DirectByteBuffer.<init>(long, int): available\r\n2022-10-18 17:54:19.657+02:00 | main | DEBUG | PlatformDependent | sun.misc.Unsafe: available\r\n2022-10-18 17:54:19.659+02:00 | main | DEBUG | PlatformDependent | maxDirectMemory: 1035993088 bytes (maybe)\r\n2022-10-18 17:54:19.659+02:00 | main | DEBUG | PlatformDependent | -Dio.netty.tmpdir: /tmp (java.io.tmpdir)\r\n2022-10-18 17:54:19.659+02:00 | main | DEBUG | PlatformDependent | -Dio.netty.bitMode: 64 (sun.arch.data.model)\r\n2022-10-18 17:54:19.662+02:00 | main | DEBUG | PlatformDependent | -Dio.netty.maxDirectMemory: 1035993088 bytes\r\n2022-10-18 17:54:19.662+02:00 | main | DEBUG | PlatformDependent | -Dio.netty.uninitializedArrayAllocationThreshold: 1024\r\n2022-10-18 17:54:19.665+02:00 | main | DEBUG | CleanerJava9 | java.nio.ByteBuffer.cleaner(): available\r\n2022-10-18 17:54:19.665+02:00 | main | DEBUG | PlatformDependent | -Dio.netty.noPreferDirect: false\r\n2022-10-18 17:54:19.675+02:00 | main | DEBUG | NativeLibraryLoader | -Dio.netty.native.workdir: /tmp (io.netty.tmpdir)\r\n2022-10-18 17:54:19.675+02:00 | main | DEBUG | NativeLibraryLoader | -Dio.netty.native.deleteLibAfterLoading: true\r\n2022-10-18 17:54:19.675+02:00 | main | DEBUG | NativeLibraryLoader | -Dio.netty.native.tryPatchShadedId: true\r\n2022-10-18 17:54:19.675+02:00 | main | DEBUG | NativeLibraryLoader | -Dio.netty.native.detectNativeLibraryDuplicates: true\r\n2022-10-18 17:54:19.688+02:00 | main | DEBUG | NativeLibraryLoader | Successfully loaded the library /tmp/libnetty_transport_native_epoll_x86_6414518240041445853411.so\r\n2022-10-18 17:54:19.695+02:00 | main | DEBUG | NetUtil | -Djava.net.preferIPv4Stack: false\r\n2022-10-18 17:54:19.695+02:00 | main | DEBUG | NetUtil | -Djava.net.preferIPv6Addresses: false\r\n2022-10-18 17:54:19.700+02:00 | main | DEBUG | NetUtilInitializations | Loopback interface: lo (lo, 0:0:0:0:0:0:0:1%lo)\r\n2022-10-18 17:54:19.702+02:00 | main | DEBUG | NetUtil | /proc/sys/net/core/somaxconn: 128\r\n2022-10-18 17:54:19.731+02:00 | main | DEBUG | ResourceLeakDetector | -Dio.netty.leakDetection.level: simple\r\n2022-10-18 17:54:19.731+02:00 | main | DEBUG | ResourceLeakDetector | -Dio.netty.leakDetection.targetRecords: 4\r\n2022-10-18 17:54:19.760+02:00 | main | DEBUG | MultithreadEventLoopGroup | -Dio.netty.eventLoopThreads: 4\r\n2022-10-18 17:54:19.789+02:00 | main | DEBUG | InternalThreadLocalMap | -Dio.netty.threadLocalMap.stringBuilder.initialSize: 1024\r\n2022-10-18 17:54:19.791+02:00 | main | DEBUG | InternalThreadLocalMap | -Dio.netty.threadLocalMap.stringBuilder.maxSize: 4096\r\n2022-10-18 17:54:19.810+02:00 | main | DEBUG | PlatformDependent | org.jctools-core.MpscChunkedArrayQueue: available\r\n2022-10-18 17:54:19.868+02:00 | main | DEBUG | DefaultDnsServerAddressStreamProvider | Default DNS servers: [/107.104.114.165:53] (sun.net.dns.ResolverConfiguration)\r\n2022-10-18 17:54:20.165+02:00 | main | INFO  | Besu | Static Nodes file = /mnt/okapi/besu/static-nodes.json\r\n2022-10-18 17:54:20.218+02:00 | main | INFO  | Besu | Connecting to 6 static nodes.\r\n2022-10-18 17:54:20.229+02:00 | main | INFO  | Besu | Security Module: localfile\r\n2022-10-18 17:54:20.257+02:00 | main | INFO  | DatabaseMetadata | Lookup database metadata file in data directory: /mnt/okapi/besu\r\n2022-10-18 17:54:20.326+02:00 | main | INFO  | RocksDBKeyValueStorageFactory | Existing database detected at /mnt/okapi/besu. Version 1\r\n2022-10-18 17:54:20.897+02:00 | main | WARN  | Besu | --tx-pool-future-max-by-account has been deprecated, use --tx-pool-limit-by-account-percentage instead.\r\n2022-10-18 17:54:20.914+02:00 | main | INFO  | KeyPairUtil | Loaded public key 0x6da02d704d0825f411712f8fd99c6296b64f186f168de770b81c7890baf5e4d21bb32607f165b46913d4d01d9fb93a8a89cf3a87980f1d744be7e9bc5b4dfe15 from /mnt/okapi/besu/keys/besu/key\r\n2022-10-18 17:54:21.129+02:00 | main | INFO  | AbstractAltBnPrecompiledContract | Native alt bn128 not available\r\n2022-10-18 17:54:21.135+02:00 | main | INFO  | AbstractAltBnPrecompiledContract | Native alt bn128 not available\r\n2022-10-18 17:54:21.138+02:00 | main | INFO  | AbstractAltBnPrecompiledContract | Native alt bn128 not available\r\n2022-10-18 17:54:21.169+02:00 | main | INFO  | AbstractAltBnPrecompiledContract | Native alt bn128 not available\r\n2022-10-18 17:54:21.169+02:00 | main | INFO  | AbstractAltBnPrecompiledContract | Native alt bn128 not available\r\n2022-10-18 17:54:21.169+02:00 | main | INFO  | AbstractAltBnPrecompiledContract | Native alt bn128 not available\r\n2022-10-18 17:54:21.173+02:00 | main | INFO  | AbstractAltBnPrecompiledContract | Native alt bn128 not available\r\n2022-10-18 17:54:21.173+02:00 | main | INFO  | AbstractAltBnPrecompiledContract | Native alt bn128 not available\r\n2022-10-18 17:54:21.173+02:00 | main | INFO  | AbstractAltBnPrecompiledContract | Native alt bn128 not available\r\n2022-10-18 17:54:21.174+02:00 | main | INFO  | AbstractAltBnPrecompiledContract | Native alt bn128 not available\r\n2022-10-18 17:54:21.174+02:00 | main | INFO  | AbstractAltBnPrecompiledContract | Native alt bn128 not available\r\n2022-10-18 17:54:21.174+02:00 | main | INFO  | AbstractAltBnPrecompiledContract | Native alt bn128 not available\r\n2022-10-18 17:54:21.190+02:00 | main | INFO  | ProtocolScheduleBuilder | Protocol schedule created with milestones: [Petersburg: 0, Petersburg: 8943109, Berlin: 10782300]\r\n2022-10-18 17:54:21.322+02:00 | main | INFO  | TransactionPoolFactory | Enabling transaction pool\r\n2022-10-18 17:54:21.342+02:00 | main | INFO  | BesuControllerBuilder | TTD difficulty is not present, creating initial sync phase for PoW\r\n2022-10-18 17:54:21.439+02:00 | main | DEBUG | BesuPluginContextImpl | Plugin startup complete.\r\n2022-10-18 17:54:21.464+02:00 | main | DEBUG | NodePermissioningControllerFactory | Validating onchain node permissioning smart contract configuration\r\n2022-10-18 17:54:21.501+02:00 | main | DEBUG | MainnetTransactionProcessor | Invalid transaction: Transaction type EIP1559 is invalid, accepted transaction types are [ACCESS_LIST, FRONTIER]\r\n```\r\n\r\nI assume that i have to restore the network to a previous state, but it is possibly that londonBlock is not compatible with version permissioning contract 2.1.6?\r\n\r\n```\r\nMainnetTransactionProcessor | Invalid transaction: Transaction type EIP1559 is invalid, accepted transaction types are [ACCESS_LIST, FRONTIER]\r\n```\r\nLondon protocol has this kind of txs, EIP1559 and ,in the previous log, seems that is not valid for the permissioning.\r\nhttps://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-upgrades/london.md\r\n\r\nAny ideas?\r\n\r\nThanks in advance.",
  "closed_by": {
    "login": "usmansaleem",
    "id": 669527,
    "node_id": "MDQ6VXNlcjY2OTUyNw==",
    "avatar_url": "https://avatars.githubusercontent.com/u/669527?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/usmansaleem",
    "html_url": "https://github.com/usmansaleem",
    "followers_url": "https://api.github.com/users/usmansaleem/followers",
    "following_url": "https://api.github.com/users/usmansaleem/following{/other_user}",
    "gists_url": "https://api.github.com/users/usmansaleem/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/usmansaleem/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/usmansaleem/subscriptions",
    "organizations_url": "https://api.github.com/users/usmansaleem/orgs",
    "repos_url": "https://api.github.com/users/usmansaleem/repos",
    "events_url": "https://api.github.com/users/usmansaleem/events{/privacy}",
    "received_events_url": "https://api.github.com/users/usmansaleem/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/4541/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/hyperledger/besu/issues/4541/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1321319533",
    "html_url": "https://github.com/hyperledger/besu/issues/4541#issuecomment-1321319533",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/4541",
    "id": 1321319533,
    "node_id": "IC_kwDODE2jmc5Owbxt",
    "user": {
      "login": "siladu",
      "id": 2893793,
      "node_id": "MDQ6VXNlcjI4OTM3OTM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2893793?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/siladu",
      "html_url": "https://github.com/siladu",
      "followers_url": "https://api.github.com/users/siladu/followers",
      "following_url": "https://api.github.com/users/siladu/following{/other_user}",
      "gists_url": "https://api.github.com/users/siladu/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/siladu/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/siladu/subscriptions",
      "organizations_url": "https://api.github.com/users/siladu/orgs",
      "repos_url": "https://api.github.com/users/siladu/repos",
      "events_url": "https://api.github.com/users/siladu/events{/privacy}",
      "received_events_url": "https://api.github.com/users/siladu/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-11-21T01:26:43Z",
    "updated_at": "2022-11-21T01:26:43Z",
    "author_association": "CONTRIBUTOR",
    "body": "Hi @jorgesjv, sorry for the slow response. Please could you share your besu config, i.e. toml file or cli options, as well as genesis file.",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1321319533/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1336606968",
    "html_url": "https://github.com/hyperledger/besu/issues/4541#issuecomment-1336606968",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/4541",
    "id": 1336606968,
    "node_id": "IC_kwDODE2jmc5PqwD4",
    "user": {
      "login": "usmansaleem",
      "id": 669527,
      "node_id": "MDQ6VXNlcjY2OTUyNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/669527?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/usmansaleem",
      "html_url": "https://github.com/usmansaleem",
      "followers_url": "https://api.github.com/users/usmansaleem/followers",
      "following_url": "https://api.github.com/users/usmansaleem/following{/other_user}",
      "gists_url": "https://api.github.com/users/usmansaleem/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/usmansaleem/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/usmansaleem/subscriptions",
      "organizations_url": "https://api.github.com/users/usmansaleem/orgs",
      "repos_url": "https://api.github.com/users/usmansaleem/repos",
      "events_url": "https://api.github.com/users/usmansaleem/events{/privacy}",
      "received_events_url": "https://api.github.com/users/usmansaleem/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-12-05T01:38:43Z",
    "updated_at": "2022-12-05T01:38:43Z",
    "author_association": "MEMBER",
    "body": "Closing due to no response, kindly re-open if required.",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1336606968/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
