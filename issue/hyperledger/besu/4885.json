{
  "url": "https://api.github.com/repos/hyperledger/besu/issues/4885",
  "repository_url": "https://api.github.com/repos/hyperledger/besu",
  "labels_url": "https://api.github.com/repos/hyperledger/besu/issues/4885/labels{/name}",
  "comments_url": "https://api.github.com/repos/hyperledger/besu/issues/4885/comments",
  "events_url": "https://api.github.com/repos/hyperledger/besu/issues/4885/events",
  "html_url": "https://github.com/hyperledger/besu/issues/4885",
  "id": 1521422524,
  "node_id": "I_kwDODE2jmc5arxC8",
  "number": 4885,
  "title": "Placeholder: Support Shanghai in Retesteth",
  "user": {
    "login": "siladu",
    "id": 2893793,
    "node_id": "MDQ6VXNlcjI4OTM3OTM=",
    "avatar_url": "https://avatars.githubusercontent.com/u/2893793?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/siladu",
    "html_url": "https://github.com/siladu",
    "followers_url": "https://api.github.com/users/siladu/followers",
    "following_url": "https://api.github.com/users/siladu/following{/other_user}",
    "gists_url": "https://api.github.com/users/siladu/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/siladu/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/siladu/subscriptions",
    "organizations_url": "https://api.github.com/users/siladu/orgs",
    "repos_url": "https://api.github.com/users/siladu/repos",
    "events_url": "https://api.github.com/users/siladu/events{/privacy}",
    "received_events_url": "https://api.github.com/users/siladu/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 1810629110,
      "node_id": "MDU6TGFiZWwxODEwNjI5MTEw",
      "url": "https://api.github.com/repos/hyperledger/besu/labels/testing",
      "name": "testing",
      "color": "bfdadc",
      "default": false,
      "description": ""
    },
    {
      "id": 1921587647,
      "node_id": "MDU6TGFiZWwxOTIxNTg3NjQ3",
      "url": "https://api.github.com/repos/hyperledger/besu/labels/TeamGroot",
      "name": "TeamGroot",
      "color": "1d76db",
      "default": false,
      "description": "GH issues worked on by Groot Team"
    },
    {
      "id": 3372108177,
      "node_id": "MDU6TGFiZWwzMzcyMTA4MTc3",
      "url": "https://api.github.com/repos/hyperledger/besu/labels/EIP",
      "name": "EIP",
      "color": "006b75",
      "default": false,
      "description": "Ethereum Improvement Proposal"
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 1,
  "created_at": "2023-01-05T21:03:57Z",
  "updated_at": "2023-01-27T10:51:08Z",
  "closed_at": "2023-01-26T14:45:13Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "Placeholder issue to save some info and track, maybe end up being more than one issue as I'm not sure of the scope of this yet.\n\nhttps://github.com/ethereum/tests is being updated for Shanghai.\n\nDimitry (from ethereum/tests) asked about besu support: https://discord.com/channels/905194001349627914/1050442708587647006/1057617212925554779\n> Besu client support test rpcs, however test_setChainParams does not trigger Merge rulset activation, how do I make it run in Merge mode?\nit should parse the content of request the same way it is defined in chainparams besu config file when starting the client and defining fork blocks\n\nSome work has been done by @shemnon on https://github.com/shemnon/besu/tree/t8n \"to provide t8n access to the retesteth services\"\n\nbut retesteth harness/setChainParams in besu is currently flakey and needs looking at.\n\n---\n\nSome notes from @garyschulte about running retesteth:\n\nI donâ€™t think retesteth has RPC specific instructions anymore, and their baseline howto is geth centric, but it covers the necessary steps to setup a test context:\nhttps://ethereum-tests.readthedocs.io/en/latest/retesteth-tutorial.html#retesteth-in-a-docker-container\n\nretesteth works with besu via rpc interface:\nhttps://ethereum-tests.readthedocs.io/en/latest/rpc-ref.html?highlight=besu\n\nin a nutshell, it is easiest to run besu outside of the retesteth docker conatiner, on a specific port, and point retesteth to it:\nstart besu (possibly from intellij),  e.g.:\n\n`besu retesteth --rpc-http-port 47710 --rpc-http-host=\"192.168.0.108\" --host-allowlist=all --data-path=/tmp/retesteth --logging=DEBUG`\n\nand then run retesteth against it, e.g.:\n\n`sh ./dretesteth.sh -t GeneralStateTests -- --all --lowcpu -j1 --nodes 192.168.0.108:47710 --testpath `pwd` --datadir tests/config3 --clients besu`",
  "closed_by": {
    "login": "non-fungible-nelson",
    "id": 85905982,
    "node_id": "MDQ6VXNlcjg1OTA1OTgy",
    "avatar_url": "https://avatars.githubusercontent.com/u/85905982?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/non-fungible-nelson",
    "html_url": "https://github.com/non-fungible-nelson",
    "followers_url": "https://api.github.com/users/non-fungible-nelson/followers",
    "following_url": "https://api.github.com/users/non-fungible-nelson/following{/other_user}",
    "gists_url": "https://api.github.com/users/non-fungible-nelson/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/non-fungible-nelson/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/non-fungible-nelson/subscriptions",
    "organizations_url": "https://api.github.com/users/non-fungible-nelson/orgs",
    "repos_url": "https://api.github.com/users/non-fungible-nelson/repos",
    "events_url": "https://api.github.com/users/non-fungible-nelson/events{/privacy}",
    "received_events_url": "https://api.github.com/users/non-fungible-nelson/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/4885/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/hyperledger/besu/issues/4885/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1405117418",
    "html_url": "https://github.com/hyperledger/besu/issues/4885#issuecomment-1405117418",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/4885",
    "id": 1405117418,
    "node_id": "IC_kwDODE2jmc5TwGPq",
    "user": {
      "login": "non-fungible-nelson",
      "id": 85905982,
      "node_id": "MDQ6VXNlcjg1OTA1OTgy",
      "avatar_url": "https://avatars.githubusercontent.com/u/85905982?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/non-fungible-nelson",
      "html_url": "https://github.com/non-fungible-nelson",
      "followers_url": "https://api.github.com/users/non-fungible-nelson/followers",
      "following_url": "https://api.github.com/users/non-fungible-nelson/following{/other_user}",
      "gists_url": "https://api.github.com/users/non-fungible-nelson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/non-fungible-nelson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/non-fungible-nelson/subscriptions",
      "organizations_url": "https://api.github.com/users/non-fungible-nelson/orgs",
      "repos_url": "https://api.github.com/users/non-fungible-nelson/repos",
      "events_url": "https://api.github.com/users/non-fungible-nelson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/non-fungible-nelson/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-01-26T14:45:13Z",
    "updated_at": "2023-01-26T14:45:31Z",
    "author_association": "CONTRIBUTOR",
    "body": "Closing for now @siladu #4900",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1405117418/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
