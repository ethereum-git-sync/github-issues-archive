{
  "url": "https://api.github.com/repos/hyperledger/besu/issues/4663",
  "repository_url": "https://api.github.com/repos/hyperledger/besu",
  "labels_url": "https://api.github.com/repos/hyperledger/besu/issues/4663/labels{/name}",
  "comments_url": "https://api.github.com/repos/hyperledger/besu/issues/4663/comments",
  "events_url": "https://api.github.com/repos/hyperledger/besu/issues/4663/events",
  "html_url": "https://github.com/hyperledger/besu/issues/4663",
  "id": 1446528056,
  "node_id": "I_kwDODE2jmc5WOEQ4",
  "number": 4663,
  "title": "Unable to start main loop",
  "user": {
    "login": "banky",
    "id": 8867230,
    "node_id": "MDQ6VXNlcjg4NjcyMzA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/8867230?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/banky",
    "html_url": "https://github.com/banky",
    "followers_url": "https://api.github.com/users/banky/followers",
    "following_url": "https://api.github.com/users/banky/following{/other_user}",
    "gists_url": "https://api.github.com/users/banky/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/banky/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/banky/subscriptions",
    "organizations_url": "https://api.github.com/users/banky/orgs",
    "repos_url": "https://api.github.com/users/banky/repos",
    "events_url": "https://api.github.com/users/banky/events{/privacy}",
    "received_events_url": "https://api.github.com/users/banky/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 5,
  "created_at": "2022-11-12T17:07:03Z",
  "updated_at": "2023-05-15T08:47:31Z",
  "closed_at": "2022-11-24T22:27:07Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "<!-- Have you done the following? -->\r\n<!--   * read the Code of Conduct? By filing an Issue, you are expected to -->  \r\n<!--     comply with it, including treating everyone with respect: -->\r\n<!--     https://github.com/hyperledger/besu/blob/main/CODE_OF_CONDUCT.md -->\r\n<!--   * Reproduced the issue in the latest version of the software -->\r\n<!--   * Read the debugging docs: https://besu.hyperledger.org/en/stable/HowTo/Monitor/Logging/ -->\r\n<!--   * Duplicate Issue check:  https://github.com/search?q=+is%3Aissue+repo%3Ahyperledger/Besu -->\r\n<!-- Note:  Not all sections will apply to all issue types. -->\r\n\r\n### Description\r\nSeeing an issue with besu not being able to start up due to the following error\r\n```\r\njava.util.concurrent.CompletionException: org.hyperledger.besu.plugin.services.exception.StorageException: org.rocksdb.RocksDBException: While pread offset 20119552 len 32738: /ethclient/besu/database/131812.sst: Input/output error\r\nrocketpool_eth1  | \tat java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315)\r\nrocketpool_eth1  | \tat java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320)\r\nrocketpool_eth1  | \tat java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:649)\r\nrocketpool_eth1  | \tat java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:510)\r\nrocketpool_eth1  | \tat java.base/java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:2147)\r\nrocketpool_eth1  | \tat org.hyperledger.besu.ethereum.p2p.discovery.VertxPeerDiscoveryAgent.handleListenerSetup(VertxPeerDiscoveryAgent.java:159)\r\nrocketpool_eth1  | \tat org.hyperledger.besu.ethereum.p2p.discovery.VertxPeerDiscoveryAgent.lambda$listenForConnections$3(VertxPeerDiscoveryAgent.java:119)\r\nrocketpool_eth1  | \tat io.vertx.core.impl.future.FutureImpl$3.onSuccess(FutureImpl.java:141)\r\nrocketpool_eth1  | \tat io.vertx.core.impl.future.FutureBase.emitSuccess(FutureBase.java:60)\r\nrocketpool_eth1  | \tat io.vertx.core.impl.future.FutureImpl.tryComplete(FutureImpl.java:211)\r\nrocketpool_eth1  | \tat io.vertx.core.impl.future.FixedMapping.onSuccess(FixedMapping.java:31)\r\nrocketpool_eth1  | \tat io.vertx.core.impl.future.FutureBase.lambda$emitSuccess$0(FutureBase.java:54)\r\nrocketpool_eth1  | \tat io.vertx.core.impl.EventLoopContext.execute(EventLoopContext.java:81)\r\nrocketpool_eth1  | \tat io.vertx.core.impl.ContextImpl.execute(ContextImpl.java:260)\r\nrocketpool_eth1  | \tat io.vertx.core.impl.EventLoopContext.execute(EventLoopContext.java:22)\r\nrocketpool_eth1  | \tat io.vertx.core.impl.future.FutureBase.emitSuccess(FutureBase.java:51)\r\nrocketpool_eth1  | \tat io.vertx.core.impl.future.FutureImpl.tryComplete(FutureImpl.java:211)\r\nrocketpool_eth1  | \tat io.vertx.core.impl.future.PromiseImpl.tryComplete(PromiseImpl.java:23)\r\nrocketpool_eth1  | \tat io.vertx.core.Promise.complete(Promise.java:66)\r\nrocketpool_eth1  | \tat io.vertx.core.impl.future.PromiseImpl.operationComplete(PromiseImpl.java:65)\r\nrocketpool_eth1  | \tat io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:578)\r\nrocketpool_eth1  | \tat io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:552)\r\nrocketpool_eth1  | \tat io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:491)\r\nrocketpool_eth1  | \tat io.netty.util.concurrent.DefaultPromise.addListener(DefaultPromise.java:184)\r\nrocketpool_eth1  | \tat io.netty.channel.DefaultChannelPromise.addListener(DefaultChannelPromise.java:95)\r\nrocketpool_eth1  | \tat io.netty.channel.DefaultChannelPromise.addListener(DefaultChannelPromise.java:30)\r\nrocketpool_eth1  | \tat io.vertx.core.datagram.impl.DatagramSocketImpl.lambda$listen$1(DatagramSocketImpl.java:316)\r\nrocketpool_eth1  | \tat io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:578)\r\nrocketpool_eth1  | \tat io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:552)\r\nrocketpool_eth1  | \tat io.netty.util.concurrent.DefaultPromise.access$200(DefaultPromise.java:35)\r\nrocketpool_eth1  | \tat io.netty.util.concurrent.DefaultPromise$1.run(DefaultPromise.java:502)\r\nrocketpool_eth1  | \tat io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:174)\r\nrocketpool_eth1  | \tat io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:167)\r\nrocketpool_eth1  | \tat io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:470)\r\nrocketpool_eth1  | \tat io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:391)\r\nrocketpool_eth1  | \tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\r\nrocketpool_eth1  | \tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\nrocketpool_eth1  | \tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\nrocketpool_eth1  | \tat java.base/java.lang.Thread.run(Thread.java:833)\r\nrocketpool_eth1  | Caused by: org.hyperledger.besu.plugin.services.exception.StorageException: org.rocksdb.RocksDBException: While pread offset 20119552 len 32738: /ethclient/besu/database/131812.sst: Input/output error\r\n```\r\n\r\nI want to find out how I can resolve this. Please can I get some help? \r\n\r\n### Acceptance Criteria\r\n* Besu client should start up as expected\r\n\r\n### Steps to Reproduce (Bug)\r\n1. Start up service\r\n2. Service fails with this error \r\n\r\n**Expected behavior:** [What you expect to happen]\r\n1. Service start up process should not fail\r\n\r\n**Actual behavior:** [What actually happens]\r\n1. Service start up process fails \r\n\r\n**Frequency:** [What percentage of the time does it occur?]\r\n1. This occurs every time I start besu\r\n\r\n### Versions (Add all that apply)\r\n* Software version: hyperledger/besu:22.10.0-openjdk-latest\r\n* Java version: [`java -version`]\r\n* OS Name & Version: Ubuntu 22.04\r\n* Kernel Version: Linux k2 5.15.0-52-generic #58-Ubuntu SMP Thu Oct 13 08:03:55 UTC 2022 x86_64 x86_64 x86_64 GNU/Linux\r\n* Virtual Machine software & version: N/A\r\n* Docker Version: 20.10.21\r\n* Cloud VM, type, size: N/A",
  "closed_by": {
    "login": "banky",
    "id": 8867230,
    "node_id": "MDQ6VXNlcjg4NjcyMzA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/8867230?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/banky",
    "html_url": "https://github.com/banky",
    "followers_url": "https://api.github.com/users/banky/followers",
    "following_url": "https://api.github.com/users/banky/following{/other_user}",
    "gists_url": "https://api.github.com/users/banky/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/banky/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/banky/subscriptions",
    "organizations_url": "https://api.github.com/users/banky/orgs",
    "repos_url": "https://api.github.com/users/banky/repos",
    "events_url": "https://api.github.com/users/banky/events{/privacy}",
    "received_events_url": "https://api.github.com/users/banky/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/4663/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/hyperledger/besu/issues/4663/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1314175959",
    "html_url": "https://github.com/hyperledger/besu/issues/4663#issuecomment-1314175959",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/4663",
    "id": 1314175959,
    "node_id": "IC_kwDODE2jmc5OVLvX",
    "user": {
      "login": "iamhsk",
      "id": 2249367,
      "node_id": "MDQ6VXNlcjIyNDkzNjc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2249367?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/iamhsk",
      "html_url": "https://github.com/iamhsk",
      "followers_url": "https://api.github.com/users/iamhsk/followers",
      "following_url": "https://api.github.com/users/iamhsk/following{/other_user}",
      "gists_url": "https://api.github.com/users/iamhsk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/iamhsk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/iamhsk/subscriptions",
      "organizations_url": "https://api.github.com/users/iamhsk/orgs",
      "repos_url": "https://api.github.com/users/iamhsk/repos",
      "events_url": "https://api.github.com/users/iamhsk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/iamhsk/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-11-14T18:09:58Z",
    "updated_at": "2022-11-14T18:09:58Z",
    "author_association": "NONE",
    "body": "Currently @non-fungible-nelson is getting more information regarding this error",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1314175959/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1314284168",
    "html_url": "https://github.com/hyperledger/besu/issues/4663#issuecomment-1314284168",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/4663",
    "id": 1314284168,
    "node_id": "IC_kwDODE2jmc5OVmKI",
    "user": {
      "login": "garyschulte",
      "id": 1238512,
      "node_id": "MDQ6VXNlcjEyMzg1MTI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1238512?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/garyschulte",
      "html_url": "https://github.com/garyschulte",
      "followers_url": "https://api.github.com/users/garyschulte/followers",
      "following_url": "https://api.github.com/users/garyschulte/following{/other_user}",
      "gists_url": "https://api.github.com/users/garyschulte/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/garyschulte/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/garyschulte/subscriptions",
      "organizations_url": "https://api.github.com/users/garyschulte/orgs",
      "repos_url": "https://api.github.com/users/garyschulte/repos",
      "events_url": "https://api.github.com/users/garyschulte/events{/privacy}",
      "received_events_url": "https://api.github.com/users/garyschulte/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-11-14T19:44:26Z",
    "updated_at": "2022-11-14T19:44:42Z",
    "author_association": "CONTRIBUTOR",
    "body": "This looks like a corrupted sst file (database file) and/or a hardware failure.  I doubt this is a recoverable error.  You can delete (or move and save off) the besu database directory and re-sync, but I would be looking hard at the disk in question ",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1314284168/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1326871177",
    "html_url": "https://github.com/hyperledger/besu/issues/4663#issuecomment-1326871177",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/4663",
    "id": 1326871177,
    "node_id": "IC_kwDODE2jmc5PFnKJ",
    "user": {
      "login": "banky",
      "id": 8867230,
      "node_id": "MDQ6VXNlcjg4NjcyMzA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8867230?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/banky",
      "html_url": "https://github.com/banky",
      "followers_url": "https://api.github.com/users/banky/followers",
      "following_url": "https://api.github.com/users/banky/following{/other_user}",
      "gists_url": "https://api.github.com/users/banky/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/banky/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/banky/subscriptions",
      "organizations_url": "https://api.github.com/users/banky/orgs",
      "repos_url": "https://api.github.com/users/banky/repos",
      "events_url": "https://api.github.com/users/banky/events{/privacy}",
      "received_events_url": "https://api.github.com/users/banky/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-11-24T22:27:06Z",
    "updated_at": "2022-11-24T22:27:06Z",
    "author_association": "NONE",
    "body": "I resolved this by resyncing my client, thanks for the helpful info! ",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1326871177/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1345612205",
    "html_url": "https://github.com/hyperledger/besu/issues/4663#issuecomment-1345612205",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/4663",
    "id": 1345612205,
    "node_id": "IC_kwDODE2jmc5QNGmt",
    "user": {
      "login": "pozyx",
      "id": 15315056,
      "node_id": "MDQ6VXNlcjE1MzE1MDU2",
      "avatar_url": "https://avatars.githubusercontent.com/u/15315056?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pozyx",
      "html_url": "https://github.com/pozyx",
      "followers_url": "https://api.github.com/users/pozyx/followers",
      "following_url": "https://api.github.com/users/pozyx/following{/other_user}",
      "gists_url": "https://api.github.com/users/pozyx/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pozyx/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pozyx/subscriptions",
      "organizations_url": "https://api.github.com/users/pozyx/orgs",
      "repos_url": "https://api.github.com/users/pozyx/repos",
      "events_url": "https://api.github.com/users/pozyx/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pozyx/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-12-11T17:31:37Z",
    "updated_at": "2022-12-11T17:31:47Z",
    "author_association": "NONE",
    "body": "This happened to me after updating to v22.10.2.",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1345612205/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1547441701",
    "html_url": "https://github.com/hyperledger/besu/issues/4663#issuecomment-1547441701",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/4663",
    "id": 1547441701,
    "node_id": "IC_kwDODE2jmc5cPBYl",
    "user": {
      "login": "Alkia",
      "id": 17525857,
      "node_id": "MDQ6VXNlcjE3NTI1ODU3",
      "avatar_url": "https://avatars.githubusercontent.com/u/17525857?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Alkia",
      "html_url": "https://github.com/Alkia",
      "followers_url": "https://api.github.com/users/Alkia/followers",
      "following_url": "https://api.github.com/users/Alkia/following{/other_user}",
      "gists_url": "https://api.github.com/users/Alkia/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Alkia/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Alkia/subscriptions",
      "organizations_url": "https://api.github.com/users/Alkia/orgs",
      "repos_url": "https://api.github.com/users/Alkia/repos",
      "events_url": "https://api.github.com/users/Alkia/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Alkia/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-05-15T08:47:31Z",
    "updated_at": "2023-05-15T08:47:31Z",
    "author_association": "NONE",
    "body": "I have the problem every day since moving to the latest version. Is there some system parameters that would help reducing the issue?",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1547441701/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
