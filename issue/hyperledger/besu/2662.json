{
  "url": "https://api.github.com/repos/hyperledger/besu/issues/2662",
  "repository_url": "https://api.github.com/repos/hyperledger/besu",
  "labels_url": "https://api.github.com/repos/hyperledger/besu/issues/2662/labels{/name}",
  "comments_url": "https://api.github.com/repos/hyperledger/besu/issues/2662/comments",
  "events_url": "https://api.github.com/repos/hyperledger/besu/issues/2662/events",
  "html_url": "https://github.com/hyperledger/besu/issues/2662",
  "id": 975680695,
  "node_id": "MDU6SXNzdWU5NzU2ODA2OTU=",
  "number": 2662,
  "title": "Slow peering on IBFT2 private network",
  "user": {
    "login": "vmichalik",
    "id": 12459761,
    "node_id": "MDQ6VXNlcjEyNDU5NzYx",
    "avatar_url": "https://avatars.githubusercontent.com/u/12459761?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/vmichalik",
    "html_url": "https://github.com/vmichalik",
    "followers_url": "https://api.github.com/users/vmichalik/followers",
    "following_url": "https://api.github.com/users/vmichalik/following{/other_user}",
    "gists_url": "https://api.github.com/users/vmichalik/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/vmichalik/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/vmichalik/subscriptions",
    "organizations_url": "https://api.github.com/users/vmichalik/orgs",
    "repos_url": "https://api.github.com/users/vmichalik/repos",
    "events_url": "https://api.github.com/users/vmichalik/events{/privacy}",
    "received_events_url": "https://api.github.com/users/vmichalik/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 1537362490,
      "node_id": "MDU6TGFiZWwxNTM3MzYyNDkw",
      "url": "https://api.github.com/repos/hyperledger/besu/labels/bug",
      "name": "bug",
      "color": "d73a4a",
      "default": true,
      "description": "Something isn't working"
    },
    {
      "id": 2051683573,
      "node_id": "MDU6TGFiZWwyMDUxNjgzNTcz",
      "url": "https://api.github.com/repos/hyperledger/besu/labels/P3",
      "name": "P3",
      "color": "ffff00",
      "default": false,
      "description": "Medium (ex: JSON-RPC request not working with a specific client library due to loose spec assumtion)"
    },
    {
      "id": 3805591260,
      "node_id": "LA_kwDODE2jmc7i1Lbc",
      "url": "https://api.github.com/repos/hyperledger/besu/labels/peering",
      "name": "peering",
      "color": "006b75",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2021-08-20T14:50:08Z",
  "updated_at": "2022-05-18T03:23:33Z",
  "closed_at": "2022-05-18T03:23:33Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "### Description\r\nAs an developer building a private network, I want my nodes to peer at a reasonable pace.\r\nUser: \"It seems to take several hours for my local node to find more than a few peers on the network\"\r\n\r\n### Acceptance Criteria\r\nPeering should occur at at reasonable pace, or errors are thrown if there's a problem\r\n\r\n\r\n### Steps to Reproduce (Bug)\r\n1. Start a Besu network with the following Genesis file and config\r\n\r\nGenesis.json\r\n```\r\n{\r\n  \"config\": {\r\n    \"chainId\": 11297108109,\r\n    \"homesteadBlock\": 0,\r\n    \"daoForkBlock\": 0,\r\n    \"eip150Block\": 0,\r\n    \"eip155Block\": 0,\r\n    \"eip158Block\": 0,\r\n    \"byzantiumBlock\": 0,\r\n    \"constantinopleBlock\": 0,\r\n    \"constantinopleFixBlock\": 0,\r\n    \"muirglacierblock\": 0,\r\n    \"berlinBlock\": 0,\r\n    \"ibft2\": {\r\n      \"blockperiodseconds\": 5,\r\n      \"epochlength\": 30000,\r\n      \"blockreward\": \"114085402000000000\",\r\n      \"requesttimeoutseconds\": 10\r\n    }\r\n  },\r\n  \"nonce\": \"0x0\",\r\n  \"timestamp\": \"0x0\",\r\n  \"gasLimit\": \"0x11EDD80\",\r\n  \"difficulty\": \"0x1\",\r\n  \"mixHash\": \"0x63746963616c2062797a616e74696e65206661756c7420746f6c6572616e6365\",\r\n  \"alloc\": {\r\n    \"0xDf4FE27cb676166a78EAE18bdB1D6Dc996635A50\": {\r\n      \"balance\": \"1000000000000000000000000000\"\r\n    }\r\n  },\r\n  \"extraData\": \"0xf893a00000000000000000000000000000000000000000000000000000000000000000f869947f9a67f84a010bda3d83493e4f1476f2651b1dab94948b655e3a1e3505c57d15f2c5c813e4abad9cb49411781ba3cd85671a6f8481514f84bce660b759199488cd6a0d883f9104432d729df772131efe44b82094b49ce87bcb7f8a1dde59bde1b4c18fbf00b424ac808400000000c0\"\r\n}\r\n\r\n```\r\n\r\nConfig\r\n\r\n```\r\n# Production network genesis file\r\ngenesis-file=\"genesis.json\"\r\n\r\n# Network bootnodes\r\nbootnodes=[\"enode://\"X\",\"X\"]\r\n\r\n# Data directory\r\ndata-path=\"data\"\r\n\r\n#Enable the JSON-RPCs\r\nrpc-http-enabled=true\r\nrpc-http-api=[\"ETH\",\"NET\",\"WEB3\",\"TRACE\",\"TXPOOL\"]\r\n\r\n#Debug\r\nrevert-reason-enabled=true\r\nsync-mode=\"FULL\"\r\n\r\n#Metrics\r\nmetrics-enabled=true\r\nmetrics-host=\"0.0.0.0\"\r\nmetrics-port=9545%    \r\n```\r\n\r\n### Versions (Add all that apply)\r\n* Software version: [`besu --version`]\r\n* Java version: [`java -version`]\r\n* OS Name & Version: [`cat /etc/*release`]\r\n* Kernel Version: [`uname -a`]\r\n* Virtual Machine software & version: [`vmware -v`]\r\n* Docker Version: [`docker version`]\r\n* Cloud VM, type, size: [Amazon Web Services I3-large]\r\n\r\n### Additional Information\r\n\r\n",
  "closed_by": {
    "login": "iamhsk",
    "id": 2249367,
    "node_id": "MDQ6VXNlcjIyNDkzNjc=",
    "avatar_url": "https://avatars.githubusercontent.com/u/2249367?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/iamhsk",
    "html_url": "https://github.com/iamhsk",
    "followers_url": "https://api.github.com/users/iamhsk/followers",
    "following_url": "https://api.github.com/users/iamhsk/following{/other_user}",
    "gists_url": "https://api.github.com/users/iamhsk/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/iamhsk/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/iamhsk/subscriptions",
    "organizations_url": "https://api.github.com/users/iamhsk/orgs",
    "repos_url": "https://api.github.com/users/iamhsk/repos",
    "events_url": "https://api.github.com/users/iamhsk/events{/privacy}",
    "received_events_url": "https://api.github.com/users/iamhsk/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/2662/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/hyperledger/besu/issues/2662/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/902749819",
    "html_url": "https://github.com/hyperledger/besu/issues/2662#issuecomment-902749819",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/2662",
    "id": 902749819,
    "node_id": "IC_kwDODE2jmc41zt57",
    "user": {
      "login": "atoulme",
      "id": 16758,
      "node_id": "MDQ6VXNlcjE2NzU4",
      "avatar_url": "https://avatars.githubusercontent.com/u/16758?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/atoulme",
      "html_url": "https://github.com/atoulme",
      "followers_url": "https://api.github.com/users/atoulme/followers",
      "following_url": "https://api.github.com/users/atoulme/following{/other_user}",
      "gists_url": "https://api.github.com/users/atoulme/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/atoulme/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/atoulme/subscriptions",
      "organizations_url": "https://api.github.com/users/atoulme/orgs",
      "repos_url": "https://api.github.com/users/atoulme/repos",
      "events_url": "https://api.github.com/users/atoulme/events{/privacy}",
      "received_events_url": "https://api.github.com/users/atoulme/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-08-20T14:51:32Z",
    "updated_at": "2021-08-20T14:51:32Z",
    "author_association": "CONTRIBUTOR",
    "body": "This is using discovery, correct?",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/902749819/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/902753332",
    "html_url": "https://github.com/hyperledger/besu/issues/2662#issuecomment-902753332",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/2662",
    "id": 902753332,
    "node_id": "IC_kwDODE2jmc41zuw0",
    "user": {
      "login": "vmichalik",
      "id": 12459761,
      "node_id": "MDQ6VXNlcjEyNDU5NzYx",
      "avatar_url": "https://avatars.githubusercontent.com/u/12459761?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vmichalik",
      "html_url": "https://github.com/vmichalik",
      "followers_url": "https://api.github.com/users/vmichalik/followers",
      "following_url": "https://api.github.com/users/vmichalik/following{/other_user}",
      "gists_url": "https://api.github.com/users/vmichalik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vmichalik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vmichalik/subscriptions",
      "organizations_url": "https://api.github.com/users/vmichalik/orgs",
      "repos_url": "https://api.github.com/users/vmichalik/repos",
      "events_url": "https://api.github.com/users/vmichalik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vmichalik/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-08-20T14:56:08Z",
    "updated_at": "2021-08-20T14:56:08Z",
    "author_association": "NONE",
    "body": "Yep, I removed two bootnodes from the code for privacy",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/902753332/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
