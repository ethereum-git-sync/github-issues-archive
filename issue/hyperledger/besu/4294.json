{
  "url": "https://api.github.com/repos/hyperledger/besu/issues/4294",
  "repository_url": "https://api.github.com/repos/hyperledger/besu",
  "labels_url": "https://api.github.com/repos/hyperledger/besu/issues/4294/labels{/name}",
  "comments_url": "https://api.github.com/repos/hyperledger/besu/issues/4294/comments",
  "events_url": "https://api.github.com/repos/hyperledger/besu/issues/4294/events",
  "html_url": "https://github.com/hyperledger/besu/issues/4294",
  "id": 1347231608,
  "node_id": "I_kwDODE2jmc5QTR94",
  "number": 4294,
  "title": "Losing multiple peers within seconds because of BREACH_OF_PROTOCOL",
  "user": {
    "login": "pinges",
    "id": 16143240,
    "node_id": "MDQ6VXNlcjE2MTQzMjQw",
    "avatar_url": "https://avatars.githubusercontent.com/u/16143240?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/pinges",
    "html_url": "https://github.com/pinges",
    "followers_url": "https://api.github.com/users/pinges/followers",
    "following_url": "https://api.github.com/users/pinges/following{/other_user}",
    "gists_url": "https://api.github.com/users/pinges/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/pinges/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/pinges/subscriptions",
    "organizations_url": "https://api.github.com/users/pinges/orgs",
    "repos_url": "https://api.github.com/users/pinges/repos",
    "events_url": "https://api.github.com/users/pinges/events{/privacy}",
    "received_events_url": "https://api.github.com/users/pinges/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 2152224197,
      "node_id": "MDU6TGFiZWwyMTUyMjI0MTk3",
      "url": "https://api.github.com/repos/hyperledger/besu/labels/TeamRevenant",
      "name": "TeamRevenant",
      "color": "78e298",
      "default": false,
      "description": "GH issues worked on by Revenant Team"
    },
    {
      "id": 3013559202,
      "node_id": "MDU6TGFiZWwzMDEzNTU5MjAy",
      "url": "https://api.github.com/repos/hyperledger/besu/labels/mainnet",
      "name": "mainnet",
      "color": "9D578C",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": {
    "login": "macfarla",
    "id": 2627919,
    "node_id": "MDQ6VXNlcjI2Mjc5MTk=",
    "avatar_url": "https://avatars.githubusercontent.com/u/2627919?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/macfarla",
    "html_url": "https://github.com/macfarla",
    "followers_url": "https://api.github.com/users/macfarla/followers",
    "following_url": "https://api.github.com/users/macfarla/following{/other_user}",
    "gists_url": "https://api.github.com/users/macfarla/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/macfarla/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/macfarla/subscriptions",
    "organizations_url": "https://api.github.com/users/macfarla/orgs",
    "repos_url": "https://api.github.com/users/macfarla/repos",
    "events_url": "https://api.github.com/users/macfarla/events{/privacy}",
    "received_events_url": "https://api.github.com/users/macfarla/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "macfarla",
      "id": 2627919,
      "node_id": "MDQ6VXNlcjI2Mjc5MTk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2627919?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/macfarla",
      "html_url": "https://github.com/macfarla",
      "followers_url": "https://api.github.com/users/macfarla/followers",
      "following_url": "https://api.github.com/users/macfarla/following{/other_user}",
      "gists_url": "https://api.github.com/users/macfarla/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/macfarla/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/macfarla/subscriptions",
      "organizations_url": "https://api.github.com/users/macfarla/orgs",
      "repos_url": "https://api.github.com/users/macfarla/repos",
      "events_url": "https://api.github.com/users/macfarla/events{/privacy}",
      "received_events_url": "https://api.github.com/users/macfarla/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 9,
  "created_at": "2022-08-23T02:21:32Z",
  "updated_at": "2022-09-08T22:52:19Z",
  "closed_at": "2022-09-08T22:52:19Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "### Description\r\nWhile syncing a number of nodes on Goerli and MainnetI noticed that most nodes do lose almost all their peers within a few seconds. The following screenshot was taken from a node that was started from a nightly build from around the 18th of August (besu/v22.7.1-dev-f847ead5/linux-x86_64/openjdk-java-11):\r\n![0EA9234B-F693-4A6F-9CE8-99217A57E4FC.jpeg](https://images.zenhubusercontent.com/5e701925567b4e8945ea7800/85b15fbb-60ed-4765-a6a5-c38d8f4f8cdc)\r\n\r\nA number of instances on different nodes have been checked and they all seem to follow the same pattern.\r\nThe following is from the logfile from one of the nodes:\r\n\r\n`[DEBUG] 2022-08-18 15:15:00.125 [nioEventLoopGroup-3-1] RequestManager - Request ID incorrect (BREACH_OF_PROTOCOL), disconnecting peer PeerId 0x3f88068013a17437b7fae2f155894a33dd94beb55b9d82c667123c6431d4967b52a9ce155f0c44dd2dcb405cbef5addcc97ffedc5bc6630e68e4b548d4b01a9e, reputation PeerReputation 149, validated? true, disconnected? false, client: Geth/v1.10.21-stable-55d8eac8/linux-amd64/go1.18, connection 539126146, enode enode://3f88068013a17437b7fae2f155894a33dd94beb55b9d82c667123c6431d4967b52a9ce155f0c44dd2dcb405cbef5addcc97ffedc5bc6630e68e4b548d4b01a9e@44.198.36.250:30303`\r\n\r\nThis is always followed by multiple lines of:\r\n`[DEBUG] 2022-08-18 15:15:00.126 [nioEventLoopGroup-3-1] EthProtocolManager - Ignoring message received from unknown peer connection: NettyPeerConnection{nodeId=0x3f88068013a17437b7fae2f155894a33dd94beb55b9d82c667123c6431d4967b52a9ce155f0c44dd2dcb405cbef5addcc97ffedc5bc6630e68e4b548d4b01a9e, clientId=Geth/v1.10.21-stable-55d8eac8/linux-amd64/go1.18, caps=eth/66, snap/1}`\r\n\r\nAnd in all cases checked a timeout happened before the BREACH_OF_PROTOCOL:\r\n`[DEBUG] 2022-08-18 15:14:53.365 [EthScheduler-Timer-0] EthPeer - Timed out while waiting for response from peer PeerId 0x3f88068013a17437b7fae2f155894a33dd94beb55b9d82c667123c6431d4967b52a9ce155f0c44dd2dcb405cbef5addcc97ffedc5bc6630e68e4b548d4b01a9e, reputation PeerReputation 150, validated? true, disconnected? false, client: Geth/v1.10.21-stable-55d8eac8/linux-amd64/go1.18, connection 539126146, enode enode://3f88068013a17437b7fae2f155894a33dd94beb55b9d82c667123c6431d4967b52a9ce155f0c44dd2dcb405cbef5addcc97ffedc5bc6630e68e4b548d4b01a9e@44.198.36.250:30303`\r\n\r\nLogfile:\r\n[https://app.zenhub.com/files/206414745/4784e0ca-727f-4bcb-b87b-1a8c92592aac/download](https://app.zenhub.com/files/206414745/4784e0ca-727f-4bcb-b87b-1a8c92592aac/download)\r\n\r\nAs can be seen in the screenshot this seems to start after some time of starting the sync and it does not seem to happen when the sync has finished (Maybe because CPU usage is very high during syncing?).\r\n\r\nThe following are the log lines that contain the node ID of the node that is disconnected because of the breach. \r\n**Note that the last successfull response is logged at 15:14:39, followed by multiple requests:**\r\n`[DEBUG] 2022-08-18 15:14:39.619 [EthScheduler-Services-4 (downloadHeaders)] GetHeadersFromPeerByHashTask - Requesting 200 headers from peer PeerId 0x3f88068013a17437b7fae2f155894a33dd94beb55b9d82c667123c6431d4967b52a9ce155f0c44dd2dcb405cbef5addcc97ffedc5bc6630e68e4b548d4b01a9e, reputation PeerReputation 150, validated? true, disconnected? false, client: Geth/v1.10.21-stable-55d8eac8/linux-amd64/go1.18, connection 539126146, enode enode://3f88068013a17437b7fae2f155894a33dd94beb55b9d82c667123c6431d4967b52a9ce155f0c44dd2dcb405cbef5addcc97ffedc5bc6630e68e4b548d4b01a9e@44.198.36.250:30303.\r\n[DEBUG] 2022-08-18 15:14:39.689 [nioEventLoopGroup-3-1] AbstractGetHeadersFromPeerTask - Received 200 of 200 headers requested from peer PeerId 0x3f88068013a17437b7fae2f155894a33dd94beb55b9d82c667123c6431d4967b52a9ce155f0c44dd2dcb405cbef5addcc97ffedc5bc6630e68e4b548d4b01a9e, reputation PeerReputation 150, validated? true, disconnected? false, client: Geth/v1.10.21-stable-55d8eac8/linux-amd64/go1.18, connection 539126146, enode enode://3f88068013a17437b7fae2f155894a33dd94beb55b9d82c667123c6431d4967b52a9ce155f0c44dd2dcb405cbef5addcc97ffedc5bc6630e68e4b548d4b01a9e@44.198.36.250:30303\r\n[DEBUG] 2022-08-18 15:14:40.147 [EthScheduler-Services-12 (batchDownloadData)] GetNodeDataFromPeerTask - Requesting 384 node data entries from peer PeerId 0x3f88068013a17437b7fae2f155894a33dd94beb55b9d82c667123c6431d4967b52a9ce155f0c44dd2dcb405cbef5addcc97ffedc5bc6630e68e4b548d4b01a9e, reputation PeerReputation 150, validated? true, disconnected? false, client: Geth/v1.10.21-stable-55d8eac8/linux-amd64/go1.18, connection 539126146, enode enode://3f88068013a17437b7fae2f155894a33dd94beb55b9d82c667123c6431d4967b52a9ce155f0c44dd2dcb405cbef5addcc97ffedc5bc6630e68e4b548d4b01a9e@44.198.36.250:30303.\r\n[DEBUG] 2022-08-18 15:14:40.979 [EthScheduler-Services-12 (batchDownloadData)] GetNodeDataFromPeerTask - Requesting 384 node data entries from peer PeerId 0x3f88068013a17437b7fae2f155894a33dd94beb55b9d82c667123c6431d4967b52a9ce155f0c44dd2dcb405cbef5addcc97ffedc5bc6630e68e4b548d4b01a9e, reputation PeerReputation 150, validated? true, disconnected? false, client: Geth/v1.10.21-stable-55d8eac8/linux-amd64/go1.18, connection 539126146, enode enode://3f88068013a17437b7fae2f155894a33dd94beb55b9d82c667123c6431d4967b52a9ce155f0c44dd2dcb405cbef5addcc97ffedc5bc6630e68e4b548d4b01a9e@44.198.36.250:30303.\r\n[DEBUG] 2022-08-18 15:14:41.994 [EthScheduler-Services-12 (batchDownloadData)] GetNodeDataFromPeerTask - Requesting 330 node data entries from peer PeerId 0x3f88068013a17437b7fae2f155894a33dd94beb55b9d82c667123c6431d4967b52a9ce155f0c44dd2dcb405cbef5addcc97ffedc5bc6630e68e4b548d4b01a9e, reputation PeerReputation 150, validated? true, disconnected? false, client: Geth/v1.10.21-stable-55d8eac8/linux-amd64/go1.18, connection 539126146, enode enode://3f88068013a17437b7fae2f155894a33dd94beb55b9d82c667123c6431d4967b52a9ce155f0c44dd2dcb405cbef5addcc97ffedc5bc6630e68e4b548d4b01a9e@44.198.36.250:30303.\r\n[DEBUG] 2022-08-18 15:14:42.351 [EthScheduler-Services-12 (batchDownloadData)] GetNodeDataFromPeerTask - Requesting 384 node data entries from peer PeerId 0x3f88068013a17437b7fae2f155894a33dd94beb55b9d82c667123c6431d4967b52a9ce155f0c44dd2dcb405cbef5addcc97ffedc5bc6630e68e4b548d4b01a9e, reputation PeerReputation 150, validated? true, disconnected? false, client: Geth/v1.10.21-stable-55d8eac8/linux-amd64/go1.18, connection 539126146, enode enode://3f88068013a17437b7fae2f155894a33dd94beb55b9d82c667123c6431d4967b52a9ce155f0c44dd2dcb405cbef5addcc97ffedc5bc6630e68e4b548d4b01a9e@44.198.36.250:30303.\r\n[DEBUG] 2022-08-18 15:14:42.864 [EthScheduler-Services-12 (batchDownloadData)] GetNodeDataFromPeerTask - Requesting 384 node data entries from peer PeerId 0x3f88068013a17437b7fae2f155894a33dd94beb55b9d82c667123c6431d4967b52a9ce155f0c44dd2dcb405cbef5addcc97ffedc5bc6630e68e4b548d4b01a9e, reputation PeerReputation 150, validated? true, disconnected? false, client: Geth/v1.10.21-stable-55d8eac8/linux-amd64/go1.18, connection 539126146, enode enode://3f88068013a17437b7fae2f155894a33dd94beb55b9d82c667123c6431d4967b52a9ce155f0c44dd2dcb405cbef5addcc97ffedc5bc6630e68e4b548d4b01a9e@44.198.36.250:30303.\r\n[DEBUG] 2022-08-18 15:14:43.382 [EthScheduler-Services-12 (batchDownloadData)] GetNodeDataFromPeerTask - Requesting 384 node data entries from peer PeerId 0x3f88068013a17437b7fae2f155894a33dd94beb55b9d82c667123c6431d4967b52a9ce155f0c44dd2dcb405cbef5addcc97ffedc5bc6630e68e4b548d4b01a9e, reputation PeerReputation 150, validated? true, disconnected? false, client: Geth/v1.10.21-stable-55d8eac8/linux-amd64/go1.18, connection 539126146, enode enode://3f88068013a17437b7fae2f155894a33dd94beb55b9d82c667123c6431d4967b52a9ce155f0c44dd2dcb405cbef5addcc97ffedc5bc6630e68e4b548d4b01a9e@44.198.36.250:30303.\r\n[DEBUG] 2022-08-18 15:14:44.003 [EthScheduler-Services-12 (batchDownloadData)] GetNodeDataFromPeerTask - Requesting 384 node data entries from peer PeerId 0x3f88068013a17437b7fae2f155894a33dd94beb55b9d82c667123c6431d4967b52a9ce155f0c44dd2dcb405cbef5addcc97ffedc5bc6630e68e4b548d4b01a9e, reputation PeerReputation 150, validated? true, disconnected? false, client: Geth/v1.10.21-stable-55d8eac8/linux-amd64/go1.18, connection 539126146, enode enode://3f88068013a17437b7fae2f155894a33dd94beb55b9d82c667123c6431d4967b52a9ce155f0c44dd2dcb405cbef5addcc97ffedc5bc6630e68e4b548d4b01a9e@44.198.36.250:30303.\r\n[DEBUG] 2022-08-18 15:14:44.599 [EthScheduler-Services-12 (batchDownloadData)] GetNodeDataFromPeerTask - Requesting 384 node data entries from peer PeerId 0x3f88068013a17437b7fae2f155894a33dd94beb55b9d82c667123c6431d4967b52a9ce155f0c44dd2dcb405cbef5addcc97ffedc5bc6630e68e4b548d4b01a9e, reputation PeerReputation 150, validated? true, disconnected? false, client: Geth/v1.10.21-stable-55d8eac8/linux-amd64/go1.18, connection 539126146, enode enode://3f88068013a17437b7fae2f155894a33dd94beb55b9d82c667123c6431d4967b52a9ce155f0c44dd2dcb405cbef5addcc97ffedc5bc6630e68e4b548d4b01a9e@44.198.36.250:30303.\r\n[DEBUG] 2022-08-18 15:14:45.622 [EthScheduler-Services-12 (batchDownloadData)] GetNodeDataFromPeerTask - Requesting 384 node data entries from peer PeerId 0x3f88068013a17437b7fae2f155894a33dd94beb55b9d82c667123c6431d4967b52a9ce155f0c44dd2dcb405cbef5addcc97ffedc5bc6630e68e4b548d4b01a9e, reputation PeerReputation 150, validated? true, disconnected? false, client: Geth/v1.10.21-stable-55d8eac8/linux-amd64/go1.18, connection 539126146, enode enode://3f88068013a17437b7fae2f155894a33dd94beb55b9d82c667123c6431d4967b52a9ce155f0c44dd2dcb405cbef5addcc97ffedc5bc6630e68e4b548d4b01a9e@44.198.36.250:30303.\r\n[DEBUG] 2022-08-18 15:14:46.284 [EthScheduler-Services-12 (batchDownloadData)] GetNodeDataFromPeerTask - Requesting 384 node data entries from peer PeerId 0x3f88068013a17437b7fae2f155894a33dd94beb55b9d82c667123c6431d4967b52a9ce155f0c44dd2dcb405cbef5addcc97ffedc5bc6630e68e4b548d4b01a9e, reputation PeerReputation 150, validated? true, disconnected? false, client: Geth/v1.10.21-stable-55d8eac8/linux-amd64/go1.18, connection 539126146, enode enode://3f88068013a17437b7fae2f155894a33dd94beb55b9d82c667123c6431d4967b52a9ce155f0c44dd2dcb405cbef5addcc97ffedc5bc6630e68e4b548d4b01a9e@44.198.36.250:30303.\r\n[DEBUG] 2022-08-18 15:14:46.904 [EthScheduler-Services-12 (batchDownloadData)] GetNodeDataFromPeerTask - Requesting 384 node data entries from peer PeerId 0x3f88068013a17437b7fae2f155894a33dd94beb55b9d82c667123c6431d4967b52a9ce155f0c44dd2dcb405cbef5addcc97ffedc5bc6630e68e4b548d4b01a9e, reputation PeerReputation 150, validated? true, disconnected? false, client: Geth/v1.10.21-stable-55d8eac8/linux-amd64/go1.18, connection 539126146, enode enode://3f88068013a17437b7fae2f155894a33dd94beb55b9d82c667123c6431d4967b52a9ce155f0c44dd2dcb405cbef5addcc97ffedc5bc6630e68e4b548d4b01a9e@44.198.36.250:30303.\r\n[DEBUG] 2022-08-18 15:14:47.591 [EthScheduler-Services-12 (batchDownloadData)] GetNodeDataFromPeerTask - Requesting 384 node data entries from peer PeerId 0x3f88068013a17437b7fae2f155894a33dd94beb55b9d82c667123c6431d4967b52a9ce155f0c44dd2dcb405cbef5addcc97ffedc5bc6630e68e4b548d4b01a9e, reputation PeerReputation 150, validated? true, disconnected? false, client: Geth/v1.10.21-stable-55d8eac8/linux-amd64/go1.18, connection 539126146, enode enode://3f88068013a17437b7fae2f155894a33dd94beb55b9d82c667123c6431d4967b52a9ce155f0c44dd2dcb405cbef5addcc97ffedc5bc6630e68e4b548d4b01a9e@44.198.36.250:30303.\r\n[DEBUG] 2022-08-18 15:14:48.364 [EthScheduler-Services-12 (batchDownloadData)] GetNodeDataFromPeerTask - Requesting 384 node data entries from peer PeerId 0x3f88068013a17437b7fae2f155894a33dd94beb55b9d82c667123c6431d4967b52a9ce155f0c44dd2dcb405cbef5addcc97ffedc5bc6630e68e4b548d4b01a9e, reputation PeerReputation 150, validated? true, disconnected? false, client: Geth/v1.10.21-stable-55d8eac8/linux-amd64/go1.18, connection 539126146, enode enode://3f88068013a17437b7fae2f155894a33dd94beb55b9d82c667123c6431d4967b52a9ce155f0c44dd2dcb405cbef5addcc97ffedc5bc6630e68e4b548d4b01a9e@44.198.36.250:30303.\r\n[DEBUG] 2022-08-18 15:14:53.365 [EthScheduler-Timer-0] EthPeer - Timed out while waiting for response from peer PeerId 0x3f88068013a17437b7fae2f155894a33dd94beb55b9d82c667123c6431d4967b52a9ce155f0c44dd2dcb405cbef5addcc97ffedc5bc6630e68e4b548d4b01a9e, reputation PeerReputation 150, validated? true, disconnected? false, client: Geth/v1.10.21-stable-55d8eac8/linux-amd64/go1.18, connection 539126146, enode enode://3f88068013a17437b7fae2f155894a33dd94beb55b9d82c667123c6431d4967b52a9ce155f0c44dd2dcb405cbef5addcc97ffedc5bc6630e68e4b548d4b01a9e@44.198.36.250:30303`\r\n\r\nnioEventLoopGroup-1 is the thread that executes responses from that node.\r\nThe following shows the last time nioEventLoopGroup-1 shows up in the logs before the BREACH_OF_PROTOCOL:\r\n`[DEBUG] 2022-08-18 15:14:49.149 [nioEventLoopGroup-3-1] GetReceiptsFromPeerTask - Requesting 144 receipts from peer PeerId 0x7ad04fe6eb034945c0a007a86e9a1f7048f1458ecd98c199fb9aa7aad6e4c46d53c5101406037421f81092e8ad700f4667b6b5479072602f4b38a180544aba5f, reputation PeerReputation 150, validated? true, disconnected? false, client: Geth/v1.10.21-stable-67109427/linux-amd64/go1.18.4, connection 2034465280, enode enode://7ad04fe6eb034945c0a007a86e9a1f7048f1458ecd98c199fb9aa7aad6e4c46d53c5101406037421f81092e8ad700f4667b6b5479072602f4b38a180544aba5f@107.23.195.27:0.\r\n[DEBUG] 2022-08-18 15:15:00.125 [nioEventLoopGroup-3-1] RequestManager - Request ID incorrect (BREACH_OF_PROTOCOL), disconnecting peer PeerId 0x3f88068013a17437b7fae2f155894a33dd94beb55b9d82c667123c6431d4967b52a9ce155f0c44dd2dcb405cbef5addcc97ffedc5bc6630e68e4b548d4b01a9e, reputation PeerReputation 149, validated? true, disconnected? false, client: Geth/v1.10.21-stable-55d8eac8/linux-amd64/go1.18, connection 539126146, enode enode://3f88068013a17437b7fae2f155894a33dd94beb55b9d82c667123c6431d4967b52a9ce155f0c44dd2dcb405cbef5addcc97ffedc5bc6630e68e4b548d4b01a9e@44.198.36.250:30303`\r\n\r\n**Note that the time between these log lines is more than 10 seconds!**\r\n\r\n\r\n",
  "closed_by": {
    "login": "iamhsk",
    "id": 2249367,
    "node_id": "MDQ6VXNlcjIyNDkzNjc=",
    "avatar_url": "https://avatars.githubusercontent.com/u/2249367?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/iamhsk",
    "html_url": "https://github.com/iamhsk",
    "followers_url": "https://api.github.com/users/iamhsk/followers",
    "following_url": "https://api.github.com/users/iamhsk/following{/other_user}",
    "gists_url": "https://api.github.com/users/iamhsk/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/iamhsk/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/iamhsk/subscriptions",
    "organizations_url": "https://api.github.com/users/iamhsk/orgs",
    "repos_url": "https://api.github.com/users/iamhsk/repos",
    "events_url": "https://api.github.com/users/iamhsk/events{/privacy}",
    "received_events_url": "https://api.github.com/users/iamhsk/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/4294/reactions",
    "total_count": 1,
    "+1": 1,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/hyperledger/besu/issues/4294/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1236438303",
    "html_url": "https://github.com/hyperledger/besu/issues/4294#issuecomment-1236438303",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/4294",
    "id": 1236438303,
    "node_id": "IC_kwDODE2jmc5Jso0f",
    "user": {
      "login": "macfarla",
      "id": 2627919,
      "node_id": "MDQ6VXNlcjI2Mjc5MTk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2627919?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/macfarla",
      "html_url": "https://github.com/macfarla",
      "followers_url": "https://api.github.com/users/macfarla/followers",
      "following_url": "https://api.github.com/users/macfarla/following{/other_user}",
      "gists_url": "https://api.github.com/users/macfarla/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/macfarla/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/macfarla/subscriptions",
      "organizations_url": "https://api.github.com/users/macfarla/orgs",
      "repos_url": "https://api.github.com/users/macfarla/repos",
      "events_url": "https://api.github.com/users/macfarla/events{/privacy}",
      "received_events_url": "https://api.github.com/users/macfarla/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-09-04T23:44:23Z",
    "updated_at": "2022-09-04T23:44:23Z",
    "author_association": "CONTRIBUTOR",
    "body": "@jflo are you looking into this one? it's in our backlog but assigned to you :)",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1236438303/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1238180909",
    "html_url": "https://github.com/hyperledger/besu/issues/4294#issuecomment-1238180909",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/4294",
    "id": 1238180909,
    "node_id": "IC_kwDODE2jmc5JzSQt",
    "user": {
      "login": "jflo",
      "id": 345937,
      "node_id": "MDQ6VXNlcjM0NTkzNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/345937?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jflo",
      "html_url": "https://github.com/jflo",
      "followers_url": "https://api.github.com/users/jflo/followers",
      "following_url": "https://api.github.com/users/jflo/following{/other_user}",
      "gists_url": "https://api.github.com/users/jflo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jflo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jflo/subscriptions",
      "organizations_url": "https://api.github.com/users/jflo/orgs",
      "repos_url": "https://api.github.com/users/jflo/repos",
      "events_url": "https://api.github.com/users/jflo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jflo/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-09-06T13:50:46Z",
    "updated_at": "2022-09-06T13:50:46Z",
    "author_association": "CONTRIBUTOR",
    "body": "@macfarla unassigned, happy to relinquish",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1238180909/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1238403288",
    "html_url": "https://github.com/hyperledger/besu/issues/4294#issuecomment-1238403288",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/4294",
    "id": 1238403288,
    "node_id": "IC_kwDODE2jmc5J0IjY",
    "user": {
      "login": "non-fungible-nelson",
      "id": 85905982,
      "node_id": "MDQ6VXNlcjg1OTA1OTgy",
      "avatar_url": "https://avatars.githubusercontent.com/u/85905982?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/non-fungible-nelson",
      "html_url": "https://github.com/non-fungible-nelson",
      "followers_url": "https://api.github.com/users/non-fungible-nelson/followers",
      "following_url": "https://api.github.com/users/non-fungible-nelson/following{/other_user}",
      "gists_url": "https://api.github.com/users/non-fungible-nelson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/non-fungible-nelson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/non-fungible-nelson/subscriptions",
      "organizations_url": "https://api.github.com/users/non-fungible-nelson/orgs",
      "repos_url": "https://api.github.com/users/non-fungible-nelson/repos",
      "events_url": "https://api.github.com/users/non-fungible-nelson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/non-fungible-nelson/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-09-06T16:44:57Z",
    "updated_at": "2022-09-06T16:44:57Z",
    "author_association": "CONTRIBUTOR",
    "body": "@macfarla @jflo - if we can get this prioritized it would be great. I think another collaboration could be useful as well, not sure this can make it into 22.7.2, but would help with user sync challenges. ",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1238403288/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1238756654",
    "html_url": "https://github.com/hyperledger/besu/issues/4294#issuecomment-1238756654",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/4294",
    "id": 1238756654,
    "node_id": "IC_kwDODE2jmc5J1e0u",
    "user": {
      "login": "macfarla",
      "id": 2627919,
      "node_id": "MDQ6VXNlcjI2Mjc5MTk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2627919?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/macfarla",
      "html_url": "https://github.com/macfarla",
      "followers_url": "https://api.github.com/users/macfarla/followers",
      "following_url": "https://api.github.com/users/macfarla/following{/other_user}",
      "gists_url": "https://api.github.com/users/macfarla/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/macfarla/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/macfarla/subscriptions",
      "organizations_url": "https://api.github.com/users/macfarla/orgs",
      "repos_url": "https://api.github.com/users/macfarla/repos",
      "events_url": "https://api.github.com/users/macfarla/events{/privacy}",
      "received_events_url": "https://api.github.com/users/macfarla/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-09-06T23:47:15Z",
    "updated_at": "2022-09-06T23:48:03Z",
    "author_association": "CONTRIBUTOR",
    "body": "We have not observed this recently. Next steps:\n* check nightly nodes to see if it's happened recently (although they are not syncing from scratch)\n* run up some new nodes - different machine types? try with less CPU?",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1238756654/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1239032578",
    "html_url": "https://github.com/hyperledger/besu/issues/4294#issuecomment-1239032578",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/4294",
    "id": 1239032578,
    "node_id": "IC_kwDODE2jmc5J2iMC",
    "user": {
      "login": "macfarla",
      "id": 2627919,
      "node_id": "MDQ6VXNlcjI2Mjc5MTk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2627919?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/macfarla",
      "html_url": "https://github.com/macfarla",
      "followers_url": "https://api.github.com/users/macfarla/followers",
      "following_url": "https://api.github.com/users/macfarla/following{/other_user}",
      "gists_url": "https://api.github.com/users/macfarla/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/macfarla/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/macfarla/subscriptions",
      "organizations_url": "https://api.github.com/users/macfarla/orgs",
      "repos_url": "https://api.github.com/users/macfarla/repos",
      "events_url": "https://api.github.com/users/macfarla/events{/privacy}",
      "received_events_url": "https://api.github.com/users/macfarla/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-09-07T07:47:28Z",
    "updated_at": "2022-09-07T07:47:28Z",
    "author_association": "CONTRIBUTOR",
    "body": "nothing of note on the nightly nodes (but also they were still running 22.7.1-SNAPSHOT - have updated them now)",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1239032578/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1239034403",
    "html_url": "https://github.com/hyperledger/besu/issues/4294#issuecomment-1239034403",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/4294",
    "id": 1239034403,
    "node_id": "IC_kwDODE2jmc5J2ioj",
    "user": {
      "login": "macfarla",
      "id": 2627919,
      "node_id": "MDQ6VXNlcjI2Mjc5MTk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2627919?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/macfarla",
      "html_url": "https://github.com/macfarla",
      "followers_url": "https://api.github.com/users/macfarla/followers",
      "following_url": "https://api.github.com/users/macfarla/following{/other_user}",
      "gists_url": "https://api.github.com/users/macfarla/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/macfarla/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/macfarla/subscriptions",
      "organizations_url": "https://api.github.com/users/macfarla/orgs",
      "repos_url": "https://api.github.com/users/macfarla/repos",
      "events_url": "https://api.github.com/users/macfarla/events{/privacy}",
      "received_events_url": "https://api.github.com/users/macfarla/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-09-07T07:49:13Z",
    "updated_at": "2022-09-07T07:49:51Z",
    "author_association": "CONTRIBUTOR",
    "body": "started some new nodes with latest 22.7.2-SNAPSHOT on t2.large and t3.large (by default we're using t3.xlarge) and it does look like this may have an effect on peering\n![Screen Shot 2022-09-07 at 5.45.34 pm.png](https://images.zenhubusercontent.com/5e45df693f0e60cdfc2eb96e/1b7d134d-38fc-4dea-9e8b-06aed7d0c7af)",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1239034403/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1239117810",
    "html_url": "https://github.com/hyperledger/besu/issues/4294#issuecomment-1239117810",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/4294",
    "id": 1239117810,
    "node_id": "IC_kwDODE2jmc5J22_y",
    "user": {
      "login": "macfarla",
      "id": 2627919,
      "node_id": "MDQ6VXNlcjI2Mjc5MTk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2627919?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/macfarla",
      "html_url": "https://github.com/macfarla",
      "followers_url": "https://api.github.com/users/macfarla/followers",
      "following_url": "https://api.github.com/users/macfarla/following{/other_user}",
      "gists_url": "https://api.github.com/users/macfarla/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/macfarla/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/macfarla/subscriptions",
      "organizations_url": "https://api.github.com/users/macfarla/orgs",
      "repos_url": "https://api.github.com/users/macfarla/repos",
      "events_url": "https://api.github.com/users/macfarla/events{/privacy}",
      "received_events_url": "https://api.github.com/users/macfarla/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-09-07T09:06:57Z",
    "updated_at": "2022-09-07T09:06:57Z",
    "author_association": "CONTRIBUTOR",
    "body": "The t2.large has a lot more volatility. Seems to have a lot of timeouts in the logs (need to turn DEBUG logging)\n![Screen Shot 2022-09-07 at 7.02.12 pm.png](https://images.zenhubusercontent.com/5e45df693f0e60cdfc2eb96e/cc7c0c68-2c28-431a-8d3c-3c1acc581f45)",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1239117810/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1239118061",
    "html_url": "https://github.com/hyperledger/besu/issues/4294#issuecomment-1239118061",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/4294",
    "id": 1239118061,
    "node_id": "IC_kwDODE2jmc5J23Dt",
    "user": {
      "login": "macfarla",
      "id": 2627919,
      "node_id": "MDQ6VXNlcjI2Mjc5MTk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2627919?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/macfarla",
      "html_url": "https://github.com/macfarla",
      "followers_url": "https://api.github.com/users/macfarla/followers",
      "following_url": "https://api.github.com/users/macfarla/following{/other_user}",
      "gists_url": "https://api.github.com/users/macfarla/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/macfarla/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/macfarla/subscriptions",
      "organizations_url": "https://api.github.com/users/macfarla/orgs",
      "repos_url": "https://api.github.com/users/macfarla/repos",
      "events_url": "https://api.github.com/users/macfarla/events{/privacy}",
      "received_events_url": "https://api.github.com/users/macfarla/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-09-07T09:07:10Z",
    "updated_at": "2022-09-07T09:07:10Z",
    "author_association": "CONTRIBUTOR",
    "body": "`2022-09-07 09:06:14.530+00:00 | nioEventLoopGroup-3-4 | DEBUG | RlpxAgent | Failed to connect to peer 0x27c87a33889a08524bbe66b949ee68524eae21163586f2514eaa55ba174cc982ff2d55b3368b3c848ee00b4efb124a496b4988339162da9af1fb54dedf44f7fc: java\n.util.concurrent.TimeoutException: Timed out waiting to establish connection with peer: 0x27c87a33889a08524bbe66b949ee68524eae21163586f2514eaa55ba174cc982ff2d55b3368b3c848ee00b4efb124a496b4988339162da9af1fb54dedf44f7fc\n[DEBUG] 2022-09-07 09:06:14.530 [nioEventLoopGroup-3-4] RlpxAgent - Failed to connect to peer 0x27c87a33889a08524bbe66b949ee68524eae21163586f2514eaa55ba174cc982ff2d55b3368b3c848ee00b4efb124a496b4988339162da9af1fb54dedf44f7fc: java.util.co\nncurrent.TimeoutException: Timed out waiting to establish connection with peer: 0x27c87a33889a08524bbe66b949ee68524eae21163586f2514eaa55ba174cc982ff2d55b3368b3c848ee00b4efb124a496b4988339162da9af1fb54dedf44f7fc\n2022-09-07 09:06:14.740+00:00 | nioEventLoopGroup-3-3 | DEBUG | RlpxAgent | Inbound connection established with 0xa8ece5145178773e4ecc8845867c25a0c8590427f78d9e72c29c13d6490a08645cedee1690aec669e4c4e16725ee325a19103c63d30a0752618ececd3039\na629`",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1239118061/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1241314092",
    "html_url": "https://github.com/hyperledger/besu/issues/4294#issuecomment-1241314092",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/4294",
    "id": 1241314092,
    "node_id": "IC_kwDODE2jmc5J_PMs",
    "user": {
      "login": "iamhsk",
      "id": 2249367,
      "node_id": "MDQ6VXNlcjIyNDkzNjc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2249367?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/iamhsk",
      "html_url": "https://github.com/iamhsk",
      "followers_url": "https://api.github.com/users/iamhsk/followers",
      "following_url": "https://api.github.com/users/iamhsk/following{/other_user}",
      "gists_url": "https://api.github.com/users/iamhsk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/iamhsk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/iamhsk/subscriptions",
      "organizations_url": "https://api.github.com/users/iamhsk/orgs",
      "repos_url": "https://api.github.com/users/iamhsk/repos",
      "events_url": "https://api.github.com/users/iamhsk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/iamhsk/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-09-08T22:52:18Z",
    "updated_at": "2022-09-08T22:52:18Z",
    "author_association": "NONE",
    "body": "After observing a few nodes for several days, we didn't see any breach of protocol error. Closing this. ",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1241314092/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
