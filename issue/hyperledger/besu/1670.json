{
  "url": "https://api.github.com/repos/hyperledger/besu/issues/1670",
  "repository_url": "https://api.github.com/repos/hyperledger/besu",
  "labels_url": "https://api.github.com/repos/hyperledger/besu/issues/1670/labels{/name}",
  "comments_url": "https://api.github.com/repos/hyperledger/besu/issues/1670/comments",
  "events_url": "https://api.github.com/repos/hyperledger/besu/issues/1670/events",
  "html_url": "https://github.com/hyperledger/besu/issues/1670",
  "id": 758011939,
  "node_id": "MDU6SXNzdWU3NTgwMTE5Mzk=",
  "number": 1670,
  "title": "TX was submitted but not mined/validated on besu IBFT2 network",
  "user": {
    "login": "emclab",
    "id": 946013,
    "node_id": "MDQ6VXNlcjk0NjAxMw==",
    "avatar_url": "https://avatars.githubusercontent.com/u/946013?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/emclab",
    "html_url": "https://github.com/emclab",
    "followers_url": "https://api.github.com/users/emclab/followers",
    "following_url": "https://api.github.com/users/emclab/following{/other_user}",
    "gists_url": "https://api.github.com/users/emclab/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/emclab/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/emclab/subscriptions",
    "organizations_url": "https://api.github.com/users/emclab/orgs",
    "repos_url": "https://api.github.com/users/emclab/repos",
    "events_url": "https://api.github.com/users/emclab/events{/privacy}",
    "received_events_url": "https://api.github.com/users/emclab/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 7,
  "created_at": "2020-12-06T20:12:02Z",
  "updated_at": "2020-12-10T21:37:26Z",
  "closed_at": "2020-12-10T21:37:26Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "<!-- Have you done the following? -->\r\n<!--   * read the Code of Conduct? By filing an Issue, you are expected to -->  \r\n<!--     comply with it, including treating everyone with respect: -->\r\n<!--     https://github.com/hyperledger/besu/blob/master/CODE-OF-CONDUCT.md -->\r\n<!--   * Reproduced the issue in the latest version of the software -->\r\n<!--   * Read the debugging wiki: https://github.com/hyperledger/besu/wiki/debugging -->\r\n<!--   * Duplicate Issue check:  https://github.com/search?q=+is%3Aissue+repo%3Ahyperledger/Besu -->\r\n<!-- Note:  Not all sections will apply to all issue types. -->\r\n\r\n### Description\r\nTX submitted to IBFT2 network stays in tx pool and was not mined/validated.\r\n\r\n### Acceptance Criteria\r\n* [Criteria 1]\r\nA TX shall be mined into block\r\n\r\n### Steps to Reproduce (Bug)\r\n1. [Step 1]. Install `ethersjs` 5.0\r\n2. [Step 2]. submit tx for contract deploy\r\n3. [Step ...]. Check blockNumber and tx pool\r\n\r\n**Expected behavior:** [What you expect to happen]\r\nA TX shall be mined into block\r\n**Actual behavior:** [What actually happens]\r\nA tx for contract deployment was not mined into block.\r\n\r\n**Frequency:** [What percentage of the time does it occur?]\r\nnever mined so far.\r\n\r\n### Versions (Add all that apply)\r\n* Software version: [`besu --version`]: 20.10.2/1.5.0\r\n* Java version: [`java -version`]: 15\r\n* OS Name & Version: [`cat /etc/*release`]: ubuntu 20.04 for Besu node. Win10 for dapp\r\n* dapp: React Native 0.63.2\r\n* Kernel Version: [`uname -a`]\r\n* Virtual Machine software & version: [`vmware -v`]\r\n* Docker Version: [`docker version`]\r\n* Cloud VM, type, size: [Amazon Web Services I3-large]\r\n\r\n### Additional Information\r\nThe besu IBFT2 network is running with 4 nodes: here is the genesis.json:\r\n\r\n     {\r\n    \"config\": {\r\n      \"chainId\": 1981,\r\n      \"muirglacierblock\": 0,\r\n      \"ibft2\": {\r\n        \"blockperiodseconds\": 2,\r\n        \"epochlength\": 30000,\r\n        \"requesttimeoutseconds\": 4\r\n      }\r\n    },\r\n    \"nonce\": \"0x0\",\r\n    \"timestamp\": \"0x58ee40ba\",\r\n    \"extraData\": \"0xf83ea00000000000000000000000000000000000000000000000000000000000000000d594c2ab482b506de56>\r\n    \"gasLimit\": \"0x1fffffffffffff\",\r\n    \"difficulty\": \"0x1\",\r\n    \"mixHash\": \"0x63746963616c2062797a616e74696e65206661756c7420746f6c6572616e6365\",\r\n    \"contractSizeLimit\":2147483647,\r\n    \"alloc\": {}\r\n     }\r\n\r\nHere is the `config.toml` for bootnode:\r\n\r\n    # Valid TOML config file\r\n    data-path=\"./data\" # Path\r\n\r\n    # Network\r\n    bootnodes=    [\"enode://923f4bb2cc2e456ebe88afb5f2d8c6a84d5758b99840fc34d2fcf9df7e3a1204fed83524a50cf37533bee9a058@127.0.0.1:30303\",\r\n        \"enode://0fdbb968c6082e5fb0de13cd8379961d5be7b24d4ff7f4eb378c738ca4cff4f13f3fb021883848fd783de1b592a101382c048@127.0.0.1:30304\",\r\n        \"enode://534825b93db8b4220204d3c11ca5570373e2af0b4cf2a4c392b6e4ffdfc8e6185e2d20b9832998c7ce63e8c6ffaa7662f8c18@127.0.0.1:30305,\r\n        \"enode://2741de7be2482ceb7d11a2c140d64bf8b448445718e74b556585d42d8554958ea97a868ff0c77d9b15fe30d7fa691c69a89    38@127.0.0.1:30306]\r\n\r\n    p2p-port=30303\r\n    max-peers=42\r\n\r\n    rpc-http-host=[\"0.0.0.0\"]\r\n    rpc-http-port=8545\r\n    rpc-http-enabled=true\r\n    rpc-http-api=[\"ETH\", \"NET\",\"WEB3\",\"ADMIN\",\"TXPOOL\",\"IBFT\", \"EEA\",\"DEBUG\"]\r\n\r\n    rpc-ws-host=[\"0.0.0.0\"]\r\n    rpc-ws-port=8546\r\n    rpc-ws-enabled=true\r\n\r\n    #Metrics for monitoring\r\n    metrics-port=9545\r\n    metrics-push-port=9001  \r\n\r\n    min-gas-price=0\r\n\r\n    logging=\"DEBUG\"\r\n\r\n    #allow all\r\n    host-allowlist=[\"*\"]\r\n    rpc-http-cors-origins=[\"*\"]\r\n\r\n    # Chain\r\n    genesis-file=\"./genesis.json\" # Path to the custom genesis file\r\n    node-private-key-file=\"./key\"\r\n\r\n    # Mining\r\n    miner-enabled=false\r\n    miner-coinbase=\"0xfe3b557e8fb62b89f4916b721be55ceb828dbd73\"\r\n\r\nHere is output of besu API method on boot/RPC node:\r\n\r\n    1. $ curl -X POST --data '{\"jsonrpc\":\"2.0\",\"method\":txpool_besuTransactions\",\"params\":[], \"id\":1}' http://127.0.0.1:8545\r\n    {\r\n      \"jsonrpc\" : \"2.0\",\r\n      \"id\" : 1,\r\n      \"result\" : [ {\r\n       \"hash\" : \"0x7841f5a1da323acb5ea6c6d8d3f9de68445a3b2e55a75c225789c9102a2ea1b6\",\r\n      \"isReceivedFromLocalSource\" : true,\r\n       \"addedToPoolAt\" : \"2020-12-06T04:18:57.499299941Z\"\r\n      } ]\r\n    }\r\n\r\n    2. $curl -X POST --data '{\"jsonrpc\":\"2.0\",\"method\":\"net_peerCount\",      \"params\":[], \"id\":1}'   http://127.0.0.1:8545\r\n    {\r\n      \"jsonrpc\" : \"2.0\",\r\n      \"id\" : 1,\r\n      \"result\" : \"0x3\"\r\n    }\r\n\r\n    3. $  curl -X POST --data '{\"jsonrpc\":\"2.0\",\"method\":\"eth_blockNumber\", \"params\":[], \"id\":1}' http://127.0.0.1:8545\r\n       {\r\n         \"jsonrpc\" : \"2.0\",\r\n         \"id\" : 1,\r\n         \"result\" : \"0x0\"\r\n       }\r\n",
  "closed_by": {
    "login": "emclab",
    "id": 946013,
    "node_id": "MDQ6VXNlcjk0NjAxMw==",
    "avatar_url": "https://avatars.githubusercontent.com/u/946013?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/emclab",
    "html_url": "https://github.com/emclab",
    "followers_url": "https://api.github.com/users/emclab/followers",
    "following_url": "https://api.github.com/users/emclab/following{/other_user}",
    "gists_url": "https://api.github.com/users/emclab/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/emclab/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/emclab/subscriptions",
    "organizations_url": "https://api.github.com/users/emclab/orgs",
    "repos_url": "https://api.github.com/users/emclab/repos",
    "events_url": "https://api.github.com/users/emclab/events{/privacy}",
    "received_events_url": "https://api.github.com/users/emclab/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/1670/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/hyperledger/besu/issues/1670/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/740382231",
    "html_url": "https://github.com/hyperledger/besu/issues/1670#issuecomment-740382231",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/1670",
    "id": 740382231,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc0MDM4MjIzMQ==",
    "user": {
      "login": "rain-on",
      "id": 37158202,
      "node_id": "MDQ6VXNlcjM3MTU4MjAy",
      "avatar_url": "https://avatars.githubusercontent.com/u/37158202?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rain-on",
      "html_url": "https://github.com/rain-on",
      "followers_url": "https://api.github.com/users/rain-on/followers",
      "following_url": "https://api.github.com/users/rain-on/following{/other_user}",
      "gists_url": "https://api.github.com/users/rain-on/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rain-on/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rain-on/subscriptions",
      "organizations_url": "https://api.github.com/users/rain-on/orgs",
      "repos_url": "https://api.github.com/users/rain-on/repos",
      "events_url": "https://api.github.com/users/rain-on/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rain-on/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-12-08T05:18:50Z",
    "updated_at": "2020-12-08T05:18:50Z",
    "author_association": "CONTRIBUTOR",
    "body": "Hey @emclab,\r\nJust saw this - and my first thought is that the extradata in the genesis file looks a little off - i.e. I _think_ it might contain a single validator? Not sure.\r\nCan you confirm the addresses of your validators - and then also confirm that your validators are peered.\r\n\r\nYou can check your validator list using https://besu.hyperledger.org/en/stable/Reference/API-Methods/#ibft_getvalidatorsbyblocknumber\r\n\r\nThen the list of peers for each node can be found using https://besu.hyperledger.org/en/stable/Reference/API-Methods/#admin_peers\r\n\r\nMy gut feel is that the address(es) of your validators in the genesis file aren't aligned with the node-keys of your nodes.\r\nIf you look at your validator's log file - you should see some information regarding blocks getting mined - if not, then its definitely a validator communication problem.\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/740382231/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/740382441",
    "html_url": "https://github.com/hyperledger/besu/issues/1670#issuecomment-740382441",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/1670",
    "id": 740382441,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc0MDM4MjQ0MQ==",
    "user": {
      "login": "rain-on",
      "id": 37158202,
      "node_id": "MDQ6VXNlcjM3MTU4MjAy",
      "avatar_url": "https://avatars.githubusercontent.com/u/37158202?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rain-on",
      "html_url": "https://github.com/rain-on",
      "followers_url": "https://api.github.com/users/rain-on/followers",
      "following_url": "https://api.github.com/users/rain-on/following{/other_user}",
      "gists_url": "https://api.github.com/users/rain-on/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rain-on/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rain-on/subscriptions",
      "organizations_url": "https://api.github.com/users/rain-on/orgs",
      "repos_url": "https://api.github.com/users/rain-on/repos",
      "events_url": "https://api.github.com/users/rain-on/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rain-on/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-12-08T05:19:24Z",
    "updated_at": "2020-12-08T05:19:24Z",
    "author_association": "CONTRIBUTOR",
    "body": "Ignore the extradata comment - just realised the line got truncated, sorry!",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/740382441/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/740998519",
    "html_url": "https://github.com/hyperledger/besu/issues/1670#issuecomment-740998519",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/1670",
    "id": 740998519,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc0MDk5ODUxOQ==",
    "user": {
      "login": "emclab",
      "id": 946013,
      "node_id": "MDQ6VXNlcjk0NjAxMw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/946013?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/emclab",
      "html_url": "https://github.com/emclab",
      "followers_url": "https://api.github.com/users/emclab/followers",
      "following_url": "https://api.github.com/users/emclab/following{/other_user}",
      "gists_url": "https://api.github.com/users/emclab/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/emclab/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/emclab/subscriptions",
      "organizations_url": "https://api.github.com/users/emclab/orgs",
      "repos_url": "https://api.github.com/users/emclab/repos",
      "events_url": "https://api.github.com/users/emclab/events{/privacy}",
      "received_events_url": "https://api.github.com/users/emclab/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-12-08T20:42:19Z",
    "updated_at": "2020-12-08T20:42:19Z",
    "author_association": "NONE",
    "body": "@rain-on, here is the return of `curl`\r\n\r\n      $curl -X POST --data '{\"jsonrpc\":\"2.0\",\"method\":\"ibft_getValidatorsByBlockNumber\",\"params\":[\"latest\"], \"id\":1}'     http://127.0.0.1:8545\r\n      {\r\n        \"jsonrpc\" : \"2.0\",\r\n        \"id\" : 1,\r\n        \"result\" : [ \"0xc2ab482b506de561668e07f04547232a72897daf\" ]\r\n       }\r\n\r\nShall we see 3 validators listed?",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/740998519/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/741010741",
    "html_url": "https://github.com/hyperledger/besu/issues/1670#issuecomment-741010741",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/1670",
    "id": 741010741,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc0MTAxMDc0MQ==",
    "user": {
      "login": "emclab",
      "id": 946013,
      "node_id": "MDQ6VXNlcjk0NjAxMw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/946013?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/emclab",
      "html_url": "https://github.com/emclab",
      "followers_url": "https://api.github.com/users/emclab/followers",
      "following_url": "https://api.github.com/users/emclab/following{/other_user}",
      "gists_url": "https://api.github.com/users/emclab/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/emclab/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/emclab/subscriptions",
      "organizations_url": "https://api.github.com/users/emclab/orgs",
      "repos_url": "https://api.github.com/users/emclab/repos",
      "events_url": "https://api.github.com/users/emclab/events{/privacy}",
      "received_events_url": "https://api.github.com/users/emclab/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-12-08T20:52:02Z",
    "updated_at": "2020-12-08T20:52:02Z",
    "author_association": "NONE",
    "body": "Here is the `config.toml` for all 4 nodes (sorry the format is off. The long string may be truncated):\r\n\r\n      Node1\r\n       \r\n      # Valid TOML config file\r\ndata-path=\"./data\" # Path\r\n\r\n# Network\r\n#bootnodes=[\"enode://923f4bb2cc2e456ebe88afb5f2d8c6a84d5758b99840fc34d2fcf9df7e3a1204fed83524a50cf37533bee9a055d916c1634932a7f7129a10b0e43e>\r\n#\"enode://0fdbb968c6082e5fb0de13cd8379961d5be7b24d4ff7f4eb378c738ca4cff4f13f3fb021883848fd783de1b592a101382c0401663a7c90313493a13da6a7b9c0@>\r\n#\"enode://534825b93db8b4220204d3c11ca5570373e2af0b4cf2a4c392b6e4ffdfc8e6185e2d20b9832998c7ce63e8c6ffaa7662f8c1dbed1fff882cde0e33d75ffa8859@>\r\n#\"enode://2741de7be2482ceb7d11a2c140d64bf8b448445718e74b556585d42d8554958ea97a868ff0c77d9b15fe30d7fa691c69a8933216f69077d5e49661387f3bac6b@>\r\n\r\np2p-port=30303\r\nmax-peers=42\r\n\r\n#rpc-http-host=\"192.168.1.70\"\r\n#\"192.168.1.70\"\r\nrpc-http-host=[\"0.0.0.0\"]\r\nrpc-http-port=8545\r\nrpc-http-enabled=true\r\nrpc-http-api=[\"ETH\", \"NET\",\"WEB3\",\"ADMIN\",\"TXPOOL\",\"IBFT\", \"EEA\",\"DEBUG\"]\r\n\r\n\r\nrpc-ws-host=[\"0.0.0.0\"]\r\nrpc-ws-port=8546\r\nrpc-ws-enabled=true\r\n\r\n#Metrics for monitoring\r\nmetrics-port=9545\r\nmetrics-push-port=9001\r\n\r\nmin-gas-price=0\r\n\r\nlogging=\"DEBUG\"\r\n\r\n    #allow all\r\nhost-allowlist=[\"*\"]\r\nrpc-http-cors-origins=[\"*\"]\r\n\r\n    # Chain\r\ngenesis-file=\"./genesis.json\" # Path to the custom genesis file\r\nnode-private-key-file=\"./key\"\r\n\r\n    # Mining\r\nminer-enabled=false\r\nminer-coinbase=\"0xfe3b557e8fb62b89f4916b721be55ceb828dbd73\"\r\n\r\n     \r\n\r\n      Node2\r\n\r\n\r\ndata-path=\"./data\" # Path\r\n\r\n# Network\r\nbootnodes=[\"enode://923f4bb2cc2e456ebe88afb5f2d8c6a84d5758b99840fc34d2fcf9df7e3a1204fed83524a50cf37533bee9a055d916c1634932a7f7129a10b0e43e5>\r\n#\"enode://0fdbb968c6082e5fb0de13cd8379961d5be7b24d4ff7f4eb378c738ca4cff4f13f3fb021883848fd783de1b592a101382c0401663a7c90313493a13da6a7b9c0@>\r\n#\"enode://534825b93db8b4220204d3c11ca5570373e2af0b4cf2a4c392b6e4ffdfc8e6185e2d20b9832998c7ce63e8c6ffaa7662f8c1dbed1fff882cde0e33d75ffa8859@>\r\n#\"enode://2741de7be2482ceb7d11a2c140d64bf8b448445718e74b556585d42d8554958ea97a868ff0c77d9b15fe30d7fa691c69a8933216f69077d5e49661387f3bac6b@>\r\n\r\n#p2p-host=\"192.168.1.69\"\r\np2p-port=30304\r\nmax-peers=42\r\n\r\nrpc-http-enabled=true\r\nrpc-http-host=[\"0.0.0.0\"]\r\nrpc-http-api=[\"ETH\", \"NET\",\"WEB3\",\"ADMIN\",\"TXPOOL\",\"IBFT\", \"EEA\",\"DEBUG\"]\r\nhost-allowlist=[\"*\"]\r\nrpc-http-cors-origins=[\"*\"]\r\nrpc-http-port=8550\r\n\r\n#rpc-ws-host=\"192.168.1.69\"\r\n#rpc-ws-port=8546\r\n\r\n#Metrics for monitoring\r\nmetrics-port=9546\r\nmetrics-push-port =9002\r\n\r\nmin-gas-price=0\r\n\r\n# Chain\r\ngenesis-file=\"./genesis.json\" # Path to the custom genesis file\r\nnode-private-key-file=\"./key\"\r\n# Mining\r\nminer-enabled=false\r\nminer-coinbase=\"0xfe3b557e8fb62b89f4916b721be55ceb828dbd73\"\r\n\r\n      node3:\r\n\r\n      \r\n# Valid TOML config file\r\ndata-path=\"./data\" # Path\r\n\r\n# Network\r\nbootnodes=[\"enode://923f4bb2cc2e456ebe88afb5f2d8c6a84d5758b99840fc34d2fcf9df7e3a1204fed83524a50cf37533bee9a055d916c1634932a7f7129a10b0e43e5>\r\n#\"enode://0fdbb968c6082e5fb0de13cd8379961d5be7b24d4ff7f4eb378c738ca4cff4f13f3fb021883848fd783de1b592a101382c0401663a7c90313493a13da6a7b9c0@>\r\n#\"enode://534825b93db8b4220204d3c11ca5570373e2af0b4cf2a4c392b6e4ffdfc8e6185e2d20b9832998c7ce63e8c6ffaa7662f8c1dbed1fff882cde0e33d75ffa8859@>\r\n#\"enode://2741de7be2482ceb7d11a2c140d64bf8b448445718e74b556585d42d8554958ea97a868ff0c77d9b15fe30d7fa691c69a8933216f69077d5e49661387f3bac6b@>\r\n\r\n\r\n#p2p-host=\"192.168.1.68\"\r\np2p-port=30305\r\nmax-peers=42\r\n\r\n#rpc-http-host=\"192.168.1.68\"\r\n#rpc-http-port=8545\r\n\r\n#rpc-ws-host=\"192.168.1.68\"\r\n#rpc-ws-port=8546\r\n\r\n#Metrics for monitoring\r\nmetrics-port=9547\r\nmetrics-push-port =9003\r\n\r\nmin-gas-price=0\r\n\r\n# Chain\r\ngenesis-file=\"./genesis.json\" # Path to the custom genesis file\r\nnode-private-key-file=\"./key\"\r\n\r\n# Mining\r\nminer-enabled=false\r\nminer-coinbase=\"0xfe3b557e8fb62b89f4916b721be55ceb828dbd73\"\r\n\r\n\r\n      Node4:\r\n\r\n      \r\n      data-path=\"./data\" # Path\r\n\r\n# Network\r\nbootnodes=[\"enode://923f4bb2cc2e456ebe88afb5f2d8c6a84d5758b99840fc34d2fcf9df7e3a1204fed83524a50cf37533bee9a055d916c1634932a7f7129a10b0e43e5>\r\n#\"enode://0fdbb968c6082e5fb0de13cd8379961d5be7b24d4ff7f4eb378c738ca4cff4f13f3fb021883848fd783de1b592a101382c0401663a7c90313493a13da6a7b9c0@>\r\n#\"enode://534825b93db8b4220204d3c11ca5570373e2af0b4cf2a4c392b6e4ffdfc8e6185e2d20b9832998c7ce63e8c6ffaa7662f8c1dbed1fff882cde0e33d75ffa8859@>\r\n#\"enode://2741de7be2482ceb7d11a2c140d64bf8b448445718e74b556585d42d8554958ea97a868ff0c77d9b15fe30d7fa691c69a8933216f69077d5e49661387f3bac6b@>\r\n\r\n\r\n#p2p-host=\"192.168.1.67\"\r\np2p-port=30306\r\nmax-peers=42\r\n\r\n#rpc-http-host=\"192.168.1.67\"\r\n#rpc-http-port=8545\r\n\r\n#rpc-ws-host=\"192.168.1.67\"\r\n#rpc-ws-port=8546\r\n\r\n#Metrics for monitoring\r\nmetrics-port=9548\r\nmetrics-push-port =9004\r\n\r\nmin-gas-price=0\r\n\r\n# Chain\r\ngenesis-file=\"./genesis.json\" # Path to the custom genesis file\r\nnode-private-key-file=\"./key\"\r\n\r\n# Mining\r\nminer-enabled=false\r\nminer-coinbase=\"0xfe3b557e8fb62b89f4916b721be55ceb828dbd73\"\r\n\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/741010741/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/741014600",
    "html_url": "https://github.com/hyperledger/besu/issues/1670#issuecomment-741014600",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/1670",
    "id": 741014600,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc0MTAxNDYwMA==",
    "user": {
      "login": "emclab",
      "id": 946013,
      "node_id": "MDQ6VXNlcjk0NjAxMw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/946013?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/emclab",
      "html_url": "https://github.com/emclab",
      "followers_url": "https://api.github.com/users/emclab/followers",
      "following_url": "https://api.github.com/users/emclab/following{/other_user}",
      "gists_url": "https://api.github.com/users/emclab/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/emclab/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/emclab/subscriptions",
      "organizations_url": "https://api.github.com/users/emclab/orgs",
      "repos_url": "https://api.github.com/users/emclab/repos",
      "events_url": "https://api.github.com/users/emclab/events{/privacy}",
      "received_events_url": "https://api.github.com/users/emclab/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-12-08T20:54:59Z",
    "updated_at": "2020-12-08T20:54:59Z",
    "author_association": "NONE",
    "body": "Here is the output of `admin_peers`:\r\n\r\n       curl -X POST --data '{\"jsonrpc\":\"2.0\",\"method\":\"admin_peers\",\"params\":[],\"id\":1}' http://127.0.0.1:8545\r\n{\r\n  \"jsonrpc\" : \"2.0\",\r\n  \"id\" : 1,\r\n  \"result\" : [ {\r\n    \"version\" : \"0x5\",\r\n    \"name\" : \"besu/v20.10.2/linux-x86_64/oracle-java-15\",\r\n    \"caps\" : [ \"eth/62\", \"eth/63\", \"eth/64\", \"IBF/1\" ],\r\n    \"network\" : {\r\n      \"localAddress\" : \"127.0.0.1:30303\",\r\n      \"remoteAddress\" : \"127.0.0.1:44258\"\r\n    },\r\n    \"port\" : \"0x7661\",\r\n    \"id\" : \"0x534825b93db8b4220204d3c11ca5570373e2af0b4cf2a4c392b6e4ffdfc8e6185e2d20b9832998c7ce63e8c6ffaa7662f8c1dbed1fff882cde0e33d75ffa8859\",\r\n    \"protocols\" : {\r\n      \"eth\" : {\r\n        \"difficulty\" : \"0x1\",\r\n        \"head\" : \"0x436adb519c68f498b7cdb5649dcd51ee58be077fc8175e9db98471b2433ff88c\",\r\n        \"version\" : 64\r\n      }\r\n    }\r\n  }, {\r\n    \"version\" : \"0x5\",\r\n    \"name\" : \"besu/v20.10.2/linux-x86_64/oracle-java-15\",\r\n    \"caps\" : [ \"eth/62\", \"eth/63\", \"eth/64\", \"IBF/1\" ],\r\n    \"network\" : {\r\n      \"localAddress\" : \"127.0.0.1:30303\",\r\n      \"remoteAddress\" : \"127.0.0.1:44264\"\r\n    },\r\n    \"port\" : \"0x7660\",\r\n    \"id\" : \"0x0fdbb968c6082e5fb0de13cd8379961d5be7b24d4ff7f4eb378c738ca4cff4f13f3fb021883848fd783de1b592a101382c0401663a7c90313493a13da6a7b9c0\",\r\n    \"protocols\" : {\r\n      \"eth\" : {\r\n        \"difficulty\" : \"0x1\",\r\n        \"head\" : \"0x436adb519c68f498b7cdb5649dcd51ee58be077fc8175e9db98471b2433ff88c\",\r\n        \"version\" : 64\r\n      }\r\n    }\r\n  }, {\r\n    \"version\" : \"0x5\",\r\n    \"name\" : \"besu/v20.10.2/linux-x86_64/oracle-java-15\",\r\n    \"caps\" : [ \"eth/62\", \"eth/63\", \"eth/64\", \"IBF/1\" ],\r\n    \"network\" : {\r\n      \"localAddress\" : \"127.0.0.1:30303\",\r\n      \"remoteAddress\" : \"127.0.0.1:44272\"\r\n    },\r\n    \"port\" : \"0x7662\",\r\n    \"id\" : \"0x2741de7be2482ceb7d11a2c140d64bf8b448445718e74b556585d42d8554958ea97a868ff0c77d9b15fe30d7fa691c69a8933216f69077d5e49661387f3bac6b\",\r\n    \"protocols\" : {\r\n      \"eth\" : {\r\n        \"difficulty\" : \"0x1\",\r\n        \"head\" : \"0x436adb519c68f498b7cdb5649dcd51ee58be077fc8175e9db98471b2433ff88c\",\r\n        \"version\" : 64\r\n      }\r\n    }\r\n  } ]\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/741014600/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/741292374",
    "html_url": "https://github.com/hyperledger/besu/issues/1670#issuecomment-741292374",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/1670",
    "id": 741292374,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc0MTI5MjM3NA==",
    "user": {
      "login": "rain-on",
      "id": 37158202,
      "node_id": "MDQ6VXNlcjM3MTU4MjAy",
      "avatar_url": "https://avatars.githubusercontent.com/u/37158202?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rain-on",
      "html_url": "https://github.com/rain-on",
      "followers_url": "https://api.github.com/users/rain-on/followers",
      "following_url": "https://api.github.com/users/rain-on/following{/other_user}",
      "gists_url": "https://api.github.com/users/rain-on/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rain-on/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rain-on/subscriptions",
      "organizations_url": "https://api.github.com/users/rain-on/orgs",
      "repos_url": "https://api.github.com/users/rain-on/repos",
      "events_url": "https://api.github.com/users/rain-on/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rain-on/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-12-09T00:15:09Z",
    "updated_at": "2020-12-09T00:15:09Z",
    "author_association": "CONTRIBUTOR",
    "body": "Ok, so the call to ibft_getValidatorsAtBlockNumber (latest) seems to imply you only have a single validator in your highest block (Assumingly genesis).\r\nWhich means the extradata field in your genesis file is potentially incorrect.\r\nIf your goal was to have your bootnodes also be your validators, then your extradata field in the genesis file needs to appear:\r\n0xf87ea00000000000000000000000000000000000000000000000000000000000000000f85494014dd8b0e3cb7b976bd410794157f6789940456f941d024882b1481e3d9db5773fa5238396dab00bdc94a426050c72985d29389690a3070f37b1a08a390a94b834e916f5ff60cb73a16355979e1170dba59351808400000000c0\r\n\r\nAlso - it would appear that the reported validator (c2....) isn't the address of any of the bootnodes - so I'm SUSPECTING that no nodes with the corresponding key are currently running - and thus no blocks are being mined (which is why transactions are not being added to the world state).\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/741292374/reactions",
      "total_count": 2,
      "+1": 2,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/742815960",
    "html_url": "https://github.com/hyperledger/besu/issues/1670#issuecomment-742815960",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/1670",
    "id": 742815960,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc0MjgxNTk2MA==",
    "user": {
      "login": "emclab",
      "id": 946013,
      "node_id": "MDQ6VXNlcjk0NjAxMw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/946013?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/emclab",
      "html_url": "https://github.com/emclab",
      "followers_url": "https://api.github.com/users/emclab/followers",
      "following_url": "https://api.github.com/users/emclab/following{/other_user}",
      "gists_url": "https://api.github.com/users/emclab/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/emclab/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/emclab/subscriptions",
      "organizations_url": "https://api.github.com/users/emclab/orgs",
      "repos_url": "https://api.github.com/users/emclab/repos",
      "events_url": "https://api.github.com/users/emclab/events{/privacy}",
      "received_events_url": "https://api.github.com/users/emclab/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-12-10T21:37:21Z",
    "updated_at": "2020-12-10T21:37:21Z",
    "author_association": "NONE",
    "body": "Yes, there is only one validator. I found out that there was something wrong with key generation (besu operator). But somehow besu node did not send out any message/error to dapp",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/742815960/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
