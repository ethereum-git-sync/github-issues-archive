{
  "url": "https://api.github.com/repos/hyperledger/besu/issues/906",
  "repository_url": "https://api.github.com/repos/hyperledger/besu",
  "labels_url": "https://api.github.com/repos/hyperledger/besu/issues/906/labels{/name}",
  "comments_url": "https://api.github.com/repos/hyperledger/besu/issues/906/comments",
  "events_url": "https://api.github.com/repos/hyperledger/besu/issues/906/events",
  "html_url": "https://github.com/hyperledger/besu/issues/906",
  "id": 616632700,
  "node_id": "MDU6SXNzdWU2MTY2MzI3MDA=",
  "number": 906,
  "title": "Implement new transaction replacement mechanism when adding transactions to the pool.",
  "user": {
    "login": "abdelhamidbakhta",
    "id": 45264458,
    "node_id": "MDQ6VXNlcjQ1MjY0NDU4",
    "avatar_url": "https://avatars.githubusercontent.com/u/45264458?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/abdelhamidbakhta",
    "html_url": "https://github.com/abdelhamidbakhta",
    "followers_url": "https://api.github.com/users/abdelhamidbakhta/followers",
    "following_url": "https://api.github.com/users/abdelhamidbakhta/following{/other_user}",
    "gists_url": "https://api.github.com/users/abdelhamidbakhta/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/abdelhamidbakhta/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/abdelhamidbakhta/subscriptions",
    "organizations_url": "https://api.github.com/users/abdelhamidbakhta/orgs",
    "repos_url": "https://api.github.com/users/abdelhamidbakhta/repos",
    "events_url": "https://api.github.com/users/abdelhamidbakhta/events{/privacy}",
    "received_events_url": "https://api.github.com/users/abdelhamidbakhta/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 1537362496,
      "node_id": "MDU6TGFiZWwxNTM3MzYyNDk2",
      "url": "https://api.github.com/repos/hyperledger/besu/labels/enhancement",
      "name": "enhancement",
      "color": "a2eeef",
      "default": true,
      "description": "New feature or request"
    },
    {
      "id": 1537362498,
      "node_id": "MDU6TGFiZWwxNTM3MzYyNDk4",
      "url": "https://api.github.com/repos/hyperledger/besu/labels/help%20wanted",
      "name": "help wanted",
      "color": "008672",
      "default": true,
      "description": "Extra attention is needed"
    },
    {
      "id": 1537362500,
      "node_id": "MDU6TGFiZWwxNTM3MzYyNTAw",
      "url": "https://api.github.com/repos/hyperledger/besu/labels/good%20first%20issue",
      "name": "good first issue",
      "color": "7057ff",
      "default": true,
      "description": "Good for newcomers"
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 4,
  "created_at": "2020-05-12T12:54:08Z",
  "updated_at": "2020-05-15T15:20:05Z",
  "closed_at": "2020-05-15T15:20:05Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "### Description \r\n\r\nWe should implement a new transaction replacement mechanism, similar to other client implementations.\r\nCurrently a new transaction (same user and same nonce) replaces an old one if the new gas price is higher than the old one. Other client implementations require the delta to be higher than a minimum percentage.\r\nFor instance this option is called `pricebump` in Geth implementation, configurable using `--txpool.pricebump `. This command line option is described as `Price bump percentage to replace an already existing transaction` and is defaulted to 10%.\r\n\r\n### Acceptance criteria\r\n\r\n- New replacement mechanism is implemented\r\n-  Used for remote transactions received via `P2P`\r\n-  Used for local transactions received via `eth_sendRawTransaction`\r\n\r\n### Linked issues\r\n- #559 ",
  "closed_by": {
    "login": "abdelhamidbakhta",
    "id": 45264458,
    "node_id": "MDQ6VXNlcjQ1MjY0NDU4",
    "avatar_url": "https://avatars.githubusercontent.com/u/45264458?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/abdelhamidbakhta",
    "html_url": "https://github.com/abdelhamidbakhta",
    "followers_url": "https://api.github.com/users/abdelhamidbakhta/followers",
    "following_url": "https://api.github.com/users/abdelhamidbakhta/following{/other_user}",
    "gists_url": "https://api.github.com/users/abdelhamidbakhta/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/abdelhamidbakhta/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/abdelhamidbakhta/subscriptions",
    "organizations_url": "https://api.github.com/users/abdelhamidbakhta/orgs",
    "repos_url": "https://api.github.com/users/abdelhamidbakhta/repos",
    "events_url": "https://api.github.com/users/abdelhamidbakhta/events{/privacy}",
    "received_events_url": "https://api.github.com/users/abdelhamidbakhta/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/906/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/hyperledger/besu/issues/906/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/627718208",
    "html_url": "https://github.com/hyperledger/besu/issues/906#issuecomment-627718208",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/906",
    "id": 627718208,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYyNzcxODIwOA==",
    "user": {
      "login": "sambacha",
      "id": 32783916,
      "node_id": "MDQ6VXNlcjMyNzgzOTE2",
      "avatar_url": "https://avatars.githubusercontent.com/u/32783916?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sambacha",
      "html_url": "https://github.com/sambacha",
      "followers_url": "https://api.github.com/users/sambacha/followers",
      "following_url": "https://api.github.com/users/sambacha/following{/other_user}",
      "gists_url": "https://api.github.com/users/sambacha/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sambacha/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sambacha/subscriptions",
      "organizations_url": "https://api.github.com/users/sambacha/orgs",
      "repos_url": "https://api.github.com/users/sambacha/repos",
      "events_url": "https://api.github.com/users/sambacha/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sambacha/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-05-13T03:11:23Z",
    "updated_at": "2020-05-13T03:11:23Z",
    "author_association": "NONE",
    "body": "would the existing transaction replacement mechanism still be available for non-PoW Besu clients? ",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/627718208/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/627903266",
    "html_url": "https://github.com/hyperledger/besu/issues/906#issuecomment-627903266",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/906",
    "id": 627903266,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYyNzkwMzI2Ng==",
    "user": {
      "login": "abdelhamidbakhta",
      "id": 45264458,
      "node_id": "MDQ6VXNlcjQ1MjY0NDU4",
      "avatar_url": "https://avatars.githubusercontent.com/u/45264458?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/abdelhamidbakhta",
      "html_url": "https://github.com/abdelhamidbakhta",
      "followers_url": "https://api.github.com/users/abdelhamidbakhta/followers",
      "following_url": "https://api.github.com/users/abdelhamidbakhta/following{/other_user}",
      "gists_url": "https://api.github.com/users/abdelhamidbakhta/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/abdelhamidbakhta/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/abdelhamidbakhta/subscriptions",
      "organizations_url": "https://api.github.com/users/abdelhamidbakhta/orgs",
      "repos_url": "https://api.github.com/users/abdelhamidbakhta/repos",
      "events_url": "https://api.github.com/users/abdelhamidbakhta/events{/privacy}",
      "received_events_url": "https://api.github.com/users/abdelhamidbakhta/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-05-13T10:45:34Z",
    "updated_at": "2020-05-13T10:45:34Z",
    "author_association": "CONTRIBUTOR",
    "body": "> would the existing transaction replacement mechanism still be available for non-PoW Besu clients?\r\n\r\nGood question. Actually we have multiple options:\r\n- Set the price bump to 0 by default, this would behave like the existing mechanism. \r\n- Set the price bump to 10 by default to align with default behaviour of other mainnet clients, non-PoW Besu client would have to explicitly set it to 0 via CLI option.\r\n- Set the default price bump depending on the consensus engine.\r\n\r\nI will raise the point and see what other contributors think about it. Do you have a personal preference ?",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/627903266/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/627973983",
    "html_url": "https://github.com/hyperledger/besu/issues/906#issuecomment-627973983",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/906",
    "id": 627973983,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYyNzk3Mzk4Mw==",
    "user": {
      "login": "brianmcgee",
      "id": 1173648,
      "node_id": "MDQ6VXNlcjExNzM2NDg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1173648?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brianmcgee",
      "html_url": "https://github.com/brianmcgee",
      "followers_url": "https://api.github.com/users/brianmcgee/followers",
      "following_url": "https://api.github.com/users/brianmcgee/following{/other_user}",
      "gists_url": "https://api.github.com/users/brianmcgee/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brianmcgee/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brianmcgee/subscriptions",
      "organizations_url": "https://api.github.com/users/brianmcgee/orgs",
      "repos_url": "https://api.github.com/users/brianmcgee/repos",
      "events_url": "https://api.github.com/users/brianmcgee/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brianmcgee/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-05-13T13:11:14Z",
    "updated_at": "2020-05-13T13:11:14Z",
    "author_association": "NONE",
    "body": "Setting a sane default based on the consensus engine would IMHO reduce the likelihood of any surprises for not much effort.",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/627973983/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/628051693",
    "html_url": "https://github.com/hyperledger/besu/issues/906#issuecomment-628051693",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/906",
    "id": 628051693,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYyODA1MTY5Mw==",
    "user": {
      "login": "abdelhamidbakhta",
      "id": 45264458,
      "node_id": "MDQ6VXNlcjQ1MjY0NDU4",
      "avatar_url": "https://avatars.githubusercontent.com/u/45264458?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/abdelhamidbakhta",
      "html_url": "https://github.com/abdelhamidbakhta",
      "followers_url": "https://api.github.com/users/abdelhamidbakhta/followers",
      "following_url": "https://api.github.com/users/abdelhamidbakhta/following{/other_user}",
      "gists_url": "https://api.github.com/users/abdelhamidbakhta/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/abdelhamidbakhta/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/abdelhamidbakhta/subscriptions",
      "organizations_url": "https://api.github.com/users/abdelhamidbakhta/orgs",
      "repos_url": "https://api.github.com/users/abdelhamidbakhta/repos",
      "events_url": "https://api.github.com/users/abdelhamidbakhta/events{/privacy}",
      "received_events_url": "https://api.github.com/users/abdelhamidbakhta/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-05-13T15:03:58Z",
    "updated_at": "2020-05-13T15:03:58Z",
    "author_association": "CONTRIBUTOR",
    "body": "> Setting a sane default based on the consensus engine would IMHO reduce the likelihood of any surprises for not much effort.\r\n\r\n@brianmcgee Thanks for the feedback.",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/628051693/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
