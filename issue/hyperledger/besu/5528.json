{
  "url": "https://api.github.com/repos/hyperledger/besu/issues/5528",
  "repository_url": "https://api.github.com/repos/hyperledger/besu",
  "labels_url": "https://api.github.com/repos/hyperledger/besu/issues/5528/labels{/name}",
  "comments_url": "https://api.github.com/repos/hyperledger/besu/issues/5528/comments",
  "events_url": "https://api.github.com/repos/hyperledger/besu/issues/5528/events",
  "html_url": "https://github.com/hyperledger/besu/issues/5528",
  "id": 1738211028,
  "node_id": "I_kwDODE2jmc5nmv7U",
  "number": 5528,
  "title": "Minimun gas price ignored",
  "user": {
    "login": "DomingoMr",
    "id": 71604742,
    "node_id": "MDQ6VXNlcjcxNjA0NzQy",
    "avatar_url": "https://avatars.githubusercontent.com/u/71604742?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/DomingoMr",
    "html_url": "https://github.com/DomingoMr",
    "followers_url": "https://api.github.com/users/DomingoMr/followers",
    "following_url": "https://api.github.com/users/DomingoMr/following{/other_user}",
    "gists_url": "https://api.github.com/users/DomingoMr/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/DomingoMr/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/DomingoMr/subscriptions",
    "organizations_url": "https://api.github.com/users/DomingoMr/orgs",
    "repos_url": "https://api.github.com/users/DomingoMr/repos",
    "events_url": "https://api.github.com/users/DomingoMr/events{/privacy}",
    "received_events_url": "https://api.github.com/users/DomingoMr/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 5290172097,
      "node_id": "LA_kwDODE2jmc8AAAABO1GewQ",
      "url": "https://api.github.com/repos/hyperledger/besu/labels/non%20mainnet%20(private%20networks)",
      "name": "non mainnet (private networks)",
      "color": "0052cc",
      "default": false,
      "description": "not related to mainnet features - covers privacy, permissioning, IBFT2, QBFT"
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 6,
  "created_at": "2023-06-02T13:32:06Z",
  "updated_at": "2023-06-06T16:17:03Z",
  "closed_at": null,
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "<!-- Have you done the following? -->\r\n<!--   * read the Code of Conduct? By filing an Issue, you are expected to -->  \r\n<!--     comply with it, including treating everyone with respect: -->\r\n<!--     https://github.com/hyperledger/besu/blob/main/CODE_OF_CONDUCT.md -->\r\n<!--   * Reproduced the issue in the latest version of the software -->\r\n<!--   * Read the debugging docs: https://besu.hyperledger.org/en/stable/HowTo/Monitor/Logging/ -->\r\n<!--   * Duplicate Issue check:  https://github.com/search?q=+is%3Aissue+repo%3Ahyperledger/Besu -->\r\n<!-- Note:  Not all sections will apply to all issue types. -->\r\n\r\n### Description\r\nI want to set the minimum gas price to 0 so I can deploy smart contracts without problems.\r\n\r\n### Acceptance Criteria\r\nParameter `--min-gas-price` not ignored\r\n\r\n### Steps to Reproduce (Bug)\r\n1. Use the command npx `quorum-dev-quickstart` to run a local besu network (`besu version` 22.10.3).\r\n2. Deploy a smart contract to this local network.\r\n\r\n**Expected behavior:**\r\nTo deploy the smart contract.\r\n\r\n**Actual behavior:**\r\nI get this error:\r\n\r\n`ProviderError: Gas price below configured minimum gas price\r\n    at HttpProvider.request (/home/domingo/token-erc20/node_modules/hardhat/src/internal/core/providers/http.ts:78:19)\r\n    at LocalAccountsProvider.request (/home/domingo/token-erc20/node_modules/hardhat/src/internal/core/providers/accounts.ts:182:36)\r\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\r\n    at EthersProviderWrapper.send (/home/domingo/token-erc20/node_modules/@nomiclabs/hardhat-ethers/src/internal/ethers-provider-wrapper.ts:13:20)`\r\n\r\nIf I look for Besus logs:\r\n\r\n`{\"timestamp\":\"2023-06-02T13:06:21,722\",\"container\":\"39d421c9fa71\",\"level\":\"INFO\",\"thread\":\"main\",\"class\":\"Besu\",\"message\":\"Starting Besu\",\"throwable\":\"\"}\r\n{\"timestamp\":\"2023-06-02T13:06:24,125\",\"container\":\"39d421c9fa71\",\"level\":\"WARN\",\"thread\":\"main\",\"class\":\"Besu\",\"message\":\"--min-gas-price has been ignored because --miner-enabled was not defined on the command line.\",\"throwable\":\"\"}\r\n{\"timestamp\":\"2023-06-02T13:06:27,088\",\"container\":\"39d421c9fa71\",\"level\":\"INFO\",\"thread\":\"main\",\"class\":\"Besu\",\"message\":\"\r\n`\r\n\r\nAs you can see, `--min-gas-price` is ignored. I tried to put in the config file this instruction `miner-enabled=true` but the network does not work.\r\n\r\n**Frequency:**\r\nAlways I try to deploy a smart contract\r\n\r\n\r\n### Versions (Add all that apply)\r\n* Software version: [`22.10.3`]\r\n* Java version: [`17`]\r\n* OS Name & Version: [`WSL2`]",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/5528/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/hyperledger/besu/issues/5528/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1577512687",
    "html_url": "https://github.com/hyperledger/besu/issues/5528#issuecomment-1577512687",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/5528",
    "id": 1577512687,
    "node_id": "IC_kwDODE2jmc5eBu7v",
    "user": {
      "login": "non-fungible-nelson",
      "id": 85905982,
      "node_id": "MDQ6VXNlcjg1OTA1OTgy",
      "avatar_url": "https://avatars.githubusercontent.com/u/85905982?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/non-fungible-nelson",
      "html_url": "https://github.com/non-fungible-nelson",
      "followers_url": "https://api.github.com/users/non-fungible-nelson/followers",
      "following_url": "https://api.github.com/users/non-fungible-nelson/following{/other_user}",
      "gists_url": "https://api.github.com/users/non-fungible-nelson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/non-fungible-nelson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/non-fungible-nelson/subscriptions",
      "organizations_url": "https://api.github.com/users/non-fungible-nelson/orgs",
      "repos_url": "https://api.github.com/users/non-fungible-nelson/repos",
      "events_url": "https://api.github.com/users/non-fungible-nelson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/non-fungible-nelson/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-06-05T21:41:02Z",
    "updated_at": "2023-06-05T21:41:02Z",
    "author_association": "CONTRIBUTOR",
    "body": "@matthew1001 this is similar to the config cleanup you were working on? Or did I just recall you hitting the same hurdle ðŸ˜… ",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1577512687/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1578459808",
    "html_url": "https://github.com/hyperledger/besu/issues/5528#issuecomment-1578459808",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/5528",
    "id": 1578459808,
    "node_id": "IC_kwDODE2jmc5eFWKg",
    "user": {
      "login": "matthew1001",
      "id": 6599269,
      "node_id": "MDQ6VXNlcjY1OTkyNjk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6599269?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/matthew1001",
      "html_url": "https://github.com/matthew1001",
      "followers_url": "https://api.github.com/users/matthew1001/followers",
      "following_url": "https://api.github.com/users/matthew1001/following{/other_user}",
      "gists_url": "https://api.github.com/users/matthew1001/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/matthew1001/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/matthew1001/subscriptions",
      "organizations_url": "https://api.github.com/users/matthew1001/orgs",
      "repos_url": "https://api.github.com/users/matthew1001/repos",
      "events_url": "https://api.github.com/users/matthew1001/events{/privacy}",
      "received_events_url": "https://api.github.com/users/matthew1001/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-06-06T10:54:53Z",
    "updated_at": "2023-06-06T10:54:53Z",
    "author_association": "CONTRIBUTOR",
    "body": "I certainly had to use a slightly odd combination of settings (the discord discussion is here -> https://discord.com/channels/905194001349627914/938504958909747250/1110826605447753759)\r\n\r\nSetting `--min-gas-price` without also setting `--miner-enabled` caused Besu to issue the warning shown in the logs above. I did then set `--miner-enabled` but this gave a new error saying `--miner-coinbase` needed to be set.\r\n\r\n@DomingoMr have you tried setting `--miner-coinbase` to see if that fixes the issue? I don't think `--miner-enabled` or `--miner-coinbase` are needed so they should just be ignored?",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1578459808/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1578465887",
    "html_url": "https://github.com/hyperledger/besu/issues/5528#issuecomment-1578465887",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/5528",
    "id": 1578465887,
    "node_id": "IC_kwDODE2jmc5eFXpf",
    "user": {
      "login": "matthew1001",
      "id": 6599269,
      "node_id": "MDQ6VXNlcjY1OTkyNjk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6599269?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/matthew1001",
      "html_url": "https://github.com/matthew1001",
      "followers_url": "https://api.github.com/users/matthew1001/followers",
      "following_url": "https://api.github.com/users/matthew1001/following{/other_user}",
      "gists_url": "https://api.github.com/users/matthew1001/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/matthew1001/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/matthew1001/subscriptions",
      "organizations_url": "https://api.github.com/users/matthew1001/orgs",
      "repos_url": "https://api.github.com/users/matthew1001/repos",
      "events_url": "https://api.github.com/users/matthew1001/events{/privacy}",
      "received_events_url": "https://api.github.com/users/matthew1001/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-06-06T10:57:28Z",
    "updated_at": "2023-06-06T10:57:28Z",
    "author_association": "CONTRIBUTOR",
    "body": "I haven't raised an issue for the incorrect parameter validation yet, maybe it can be tracked under this issue? The (unrelated) config issue I've been looking at is some `TOML` files not accepted by Besu (https://github.com/hyperledger/besu/issues/5482). I'd be happy to help try and tidy up some of the validation issues being discussed here once `5482` is sorted.",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1578465887/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1579015242",
    "html_url": "https://github.com/hyperledger/besu/issues/5528#issuecomment-1579015242",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/5528",
    "id": 1579015242,
    "node_id": "IC_kwDODE2jmc5eHdxK",
    "user": {
      "login": "DomingoMr",
      "id": 71604742,
      "node_id": "MDQ6VXNlcjcxNjA0NzQy",
      "avatar_url": "https://avatars.githubusercontent.com/u/71604742?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/DomingoMr",
      "html_url": "https://github.com/DomingoMr",
      "followers_url": "https://api.github.com/users/DomingoMr/followers",
      "following_url": "https://api.github.com/users/DomingoMr/following{/other_user}",
      "gists_url": "https://api.github.com/users/DomingoMr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/DomingoMr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/DomingoMr/subscriptions",
      "organizations_url": "https://api.github.com/users/DomingoMr/orgs",
      "repos_url": "https://api.github.com/users/DomingoMr/repos",
      "events_url": "https://api.github.com/users/DomingoMr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/DomingoMr/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-06-06T15:44:57Z",
    "updated_at": "2023-06-06T15:44:57Z",
    "author_association": "NONE",
    "body": "Hi @matthew1001! Thank you for your reply. When I set `--miner-enabled=true`, I dont get the error related to `--miner-coinbase`, it simply doesnt run. I tried to set `--miner-enabled` and `--miner-coinbase`. When I did this, Besu didnt show me any error, but when I tried to deploy my contract, I still got `ProviderError: Gas price below configured minimum gas price`\r\n\r\n**Logs with `--miner-enabled`**\r\n{\"timestamp\":\"2023-06-06T15:41:48,426\",\"container\":\"4528caf09ebf\",\"level\":\"INFO\",\"thread\":\"main\",\"class\":\"Besu\",\"message\":\"Starting Besu\",\"throwable\":\"\"}\r\n{\"timestamp\":\"2023-06-06T15:41:49,544\",\"container\":\"4528caf09ebf\",\"level\":\"INFO\",\"thread\":\"main\",\"class\":\"Besu\",\"message\":\"Using jemalloc\",\"throwable\":\"\"}\r\n\r\n\r\n**Logs with `--miner-enabled` and `--miner-coinbase`:**\r\n{\"timestamp\":\"2023-06-06T15:24:25,189\",\"container\":\"c4036a383b9c\",\"level\":\"INFO\",\"thread\":\"main\",\"class\":\"Besu\",\"message\":\"Starting Besu\",\"throwable\":\"\"}\r\n{\"timestamp\":\"2023-06-06T15:24:28,733\",\"container\":\"c4036a383b9c\",\"level\":\"INFO\",\"thread\":\"main\",\"class\":\"Besu\",\"message\":\"\r\n####################################################################################################\r\n                                                                                                  #\r\n Besu 22.10.3                                                                                     #\r\n                                                                                                  #\r\n Configuration:                                                                                   #\r\n Network: Mainnet                                                                                 #\r\n Data storage: Forest                                                                             #\r\n Sync mode: Full                                                                                  #\r\n RPC HTTP APIs: EEA,WEB3,ETH,NET,TRACE,DEBUG,ADMIN,TXPOOL,PERM,QBFT                               #\r\n RPC HTTP port: 8545                                                                              #\r\n                                                                                                  #\r\n Host:                                                                                            #\r\n Java: openjdk-java-11                                                                            #\r\n Maximum heap size: 1.87 GB                                                                       #\r\n OS: linux-x86_64                                                                                 #\r\n glibc: 2.31                                                                                      #\r\n Total memory: 7.46 GB                                                                            #\r\n CPU cores: 8                                                                                     #\r\n                                                                                                  #\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1579015242/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1579047991",
    "html_url": "https://github.com/hyperledger/besu/issues/5528#issuecomment-1579047991",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/5528",
    "id": 1579047991,
    "node_id": "IC_kwDODE2jmc5eHlw3",
    "user": {
      "login": "matthew1001",
      "id": 6599269,
      "node_id": "MDQ6VXNlcjY1OTkyNjk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6599269?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/matthew1001",
      "html_url": "https://github.com/matthew1001",
      "followers_url": "https://api.github.com/users/matthew1001/followers",
      "following_url": "https://api.github.com/users/matthew1001/following{/other_user}",
      "gists_url": "https://api.github.com/users/matthew1001/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/matthew1001/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/matthew1001/subscriptions",
      "organizations_url": "https://api.github.com/users/matthew1001/orgs",
      "repos_url": "https://api.github.com/users/matthew1001/repos",
      "events_url": "https://api.github.com/users/matthew1001/events{/privacy}",
      "received_events_url": "https://api.github.com/users/matthew1001/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-06-06T16:03:08Z",
    "updated_at": "2023-06-06T16:03:08Z",
    "author_association": "CONTRIBUTOR",
    "body": "That's interesting. I've got to admit I didn't get time after working through the combination of parameters to remove the various warnings, to try deploying anything. I'll try to recreate it soon and let you know if I get the same problem you're seeing re. failed contract deployment.",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1579047991/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1579072089",
    "html_url": "https://github.com/hyperledger/besu/issues/5528#issuecomment-1579072089",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/5528",
    "id": 1579072089,
    "node_id": "IC_kwDODE2jmc5eHrpZ",
    "user": {
      "login": "DomingoMr",
      "id": 71604742,
      "node_id": "MDQ6VXNlcjcxNjA0NzQy",
      "avatar_url": "https://avatars.githubusercontent.com/u/71604742?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/DomingoMr",
      "html_url": "https://github.com/DomingoMr",
      "followers_url": "https://api.github.com/users/DomingoMr/followers",
      "following_url": "https://api.github.com/users/DomingoMr/following{/other_user}",
      "gists_url": "https://api.github.com/users/DomingoMr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/DomingoMr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/DomingoMr/subscriptions",
      "organizations_url": "https://api.github.com/users/DomingoMr/orgs",
      "repos_url": "https://api.github.com/users/DomingoMr/repos",
      "events_url": "https://api.github.com/users/DomingoMr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/DomingoMr/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-06-06T16:16:49Z",
    "updated_at": "2023-06-06T16:17:03Z",
    "author_association": "NONE",
    "body": "Thank you Matthew! I look forward to hearing from you",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1579072089/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
