{
  "url": "https://api.github.com/repos/hyperledger/besu/issues/4401",
  "repository_url": "https://api.github.com/repos/hyperledger/besu",
  "labels_url": "https://api.github.com/repos/hyperledger/besu/issues/4401/labels{/name}",
  "comments_url": "https://api.github.com/repos/hyperledger/besu/issues/4401/comments",
  "events_url": "https://api.github.com/repos/hyperledger/besu/issues/4401/events",
  "html_url": "https://github.com/hyperledger/besu/issues/4401",
  "id": 1375036807,
  "node_id": "I_kwDODE2jmc5R9WWH",
  "number": 4401,
  "title": "Post-Merge some blocks contain 0 transactions ",
  "user": {
    "login": "non-fungible-nelson",
    "id": 85905982,
    "node_id": "MDQ6VXNlcjg1OTA1OTgy",
    "avatar_url": "https://avatars.githubusercontent.com/u/85905982?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/non-fungible-nelson",
    "html_url": "https://github.com/non-fungible-nelson",
    "followers_url": "https://api.github.com/users/non-fungible-nelson/followers",
    "following_url": "https://api.github.com/users/non-fungible-nelson/following{/other_user}",
    "gists_url": "https://api.github.com/users/non-fungible-nelson/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/non-fungible-nelson/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/non-fungible-nelson/subscriptions",
    "organizations_url": "https://api.github.com/users/non-fungible-nelson/orgs",
    "repos_url": "https://api.github.com/users/non-fungible-nelson/repos",
    "events_url": "https://api.github.com/users/non-fungible-nelson/events{/privacy}",
    "received_events_url": "https://api.github.com/users/non-fungible-nelson/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 2152224197,
      "node_id": "MDU6TGFiZWwyMTUyMjI0MTk3",
      "url": "https://api.github.com/repos/hyperledger/besu/labels/TeamRevenant",
      "name": "TeamRevenant",
      "color": "78e298",
      "default": false,
      "description": "GH issues worked on by Revenant Team"
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": {
    "login": "fab-10",
    "id": 91944855,
    "node_id": "U_kgDOBXr3lw",
    "avatar_url": "https://avatars.githubusercontent.com/u/91944855?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/fab-10",
    "html_url": "https://github.com/fab-10",
    "followers_url": "https://api.github.com/users/fab-10/followers",
    "following_url": "https://api.github.com/users/fab-10/following{/other_user}",
    "gists_url": "https://api.github.com/users/fab-10/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/fab-10/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/fab-10/subscriptions",
    "organizations_url": "https://api.github.com/users/fab-10/orgs",
    "repos_url": "https://api.github.com/users/fab-10/repos",
    "events_url": "https://api.github.com/users/fab-10/events{/privacy}",
    "received_events_url": "https://api.github.com/users/fab-10/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "fab-10",
      "id": 91944855,
      "node_id": "U_kgDOBXr3lw",
      "avatar_url": "https://avatars.githubusercontent.com/u/91944855?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fab-10",
      "html_url": "https://github.com/fab-10",
      "followers_url": "https://api.github.com/users/fab-10/followers",
      "following_url": "https://api.github.com/users/fab-10/following{/other_user}",
      "gists_url": "https://api.github.com/users/fab-10/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fab-10/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fab-10/subscriptions",
      "organizations_url": "https://api.github.com/users/fab-10/orgs",
      "repos_url": "https://api.github.com/users/fab-10/repos",
      "events_url": "https://api.github.com/users/fab-10/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fab-10/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 20,
  "created_at": "2022-09-15T20:16:48Z",
  "updated_at": "2022-09-23T00:40:22Z",
  "closed_at": "2022-09-23T00:40:22Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "### Description\r\nIssue stub - more details to come. Post-Merge we are seeing some blocks with 0 included transactions. \r\n\r\n### Acceptance Criteria\r\n*  Blocks contain transactions \r\n\r\n### Steps to Reproduce (Bug)\r\n1. Observe logs post-merge for included transactions \r\n",
  "closed_by": {
    "login": "garyschulte",
    "id": 1238512,
    "node_id": "MDQ6VXNlcjEyMzg1MTI=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1238512?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/garyschulte",
    "html_url": "https://github.com/garyschulte",
    "followers_url": "https://api.github.com/users/garyschulte/followers",
    "following_url": "https://api.github.com/users/garyschulte/following{/other_user}",
    "gists_url": "https://api.github.com/users/garyschulte/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/garyschulte/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/garyschulte/subscriptions",
    "organizations_url": "https://api.github.com/users/garyschulte/orgs",
    "repos_url": "https://api.github.com/users/garyschulte/repos",
    "events_url": "https://api.github.com/users/garyschulte/events{/privacy}",
    "received_events_url": "https://api.github.com/users/garyschulte/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/4401/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/hyperledger/besu/issues/4401/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1248665096",
    "html_url": "https://github.com/hyperledger/besu/issues/4401#issuecomment-1248665096",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/4401",
    "id": 1248665096,
    "node_id": "IC_kwDODE2jmc5KbR4I",
    "user": {
      "login": "macfarla",
      "id": 2627919,
      "node_id": "MDQ6VXNlcjI2Mjc5MTk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2627919?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/macfarla",
      "html_url": "https://github.com/macfarla",
      "followers_url": "https://api.github.com/users/macfarla/followers",
      "following_url": "https://api.github.com/users/macfarla/following{/other_user}",
      "gists_url": "https://api.github.com/users/macfarla/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/macfarla/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/macfarla/subscriptions",
      "organizations_url": "https://api.github.com/users/macfarla/orgs",
      "repos_url": "https://api.github.com/users/macfarla/repos",
      "events_url": "https://api.github.com/users/macfarla/events{/privacy}",
      "received_events_url": "https://api.github.com/users/macfarla/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-09-15T21:45:33Z",
    "updated_at": "2022-09-15T22:26:44Z",
    "author_association": "CONTRIBUTOR",
    "body": "Pre-merge prater empty blocks (old discord thread but same user reporting this with post-merge mainnet) https://discord.com/channels/905194001349627914/938504958909747250/1009795829625786418 \r\nHello! I have vouch + teku + besu in prater, and I see that sometimes there are no txs in my proposed blocks. Example: https://prater.beaconcha.in/block/3689038 and https://prater.beaconcha.in/block/3649149\r\nBesu logs show nothing interesting about that: https://pastebin.com/ZcTqHatn\r\nTeku logs also nothing related (as I can understand it): https://pastebin.com/vRCGM6uz   (about fee address logs - we set in vouch and it works, we can see it in a new block, dunno why teku complains about that constantly)\r\nHow to research this problem?",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1248665096/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1248695253",
    "html_url": "https://github.com/hyperledger/besu/issues/4401#issuecomment-1248695253",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/4401",
    "id": 1248695253,
    "node_id": "IC_kwDODE2jmc5KbZPV",
    "user": {
      "login": "macfarla",
      "id": 2627919,
      "node_id": "MDQ6VXNlcjI2Mjc5MTk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2627919?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/macfarla",
      "html_url": "https://github.com/macfarla",
      "followers_url": "https://api.github.com/users/macfarla/followers",
      "following_url": "https://api.github.com/users/macfarla/following{/other_user}",
      "gists_url": "https://api.github.com/users/macfarla/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/macfarla/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/macfarla/subscriptions",
      "organizations_url": "https://api.github.com/users/macfarla/orgs",
      "repos_url": "https://api.github.com/users/macfarla/repos",
      "events_url": "https://api.github.com/users/macfarla/events{/privacy}",
      "received_events_url": "https://api.github.com/users/macfarla/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-09-15T22:22:24Z",
    "updated_at": "2022-09-15T22:22:24Z",
    "author_association": "CONTRIBUTOR",
    "body": "^ empty blocks on prater do happen normally. \r\n\r\nFrom discord thread https://discord.com/channels/697535391594446898/1009446584611774535\r\nthere are a couple cases where besu might produce empty blocks.\r\n\r\nWhen asked to produce a block, Besu starts with an empty block proposal candidate, just so it has something to respond to the CL with if it is not done building a block by the time the CL requests it.  This historically has happened with nimbus because nimbus was not waiting the prescribed 500 milliseconds between asking for a block to be built and requesting the block.  I don't think prysm has had this issue.\r\n\r\nThe other case is that it is possible non of the transactions in besu's pool are eligible for inclusion, either because of basefee or because of nonce.  in 22.7.2 besu is changing its transaction eviction policy to ensure that we prioritize future nonce transactions for eviction ahead of lower value but executable transactions.\r\n\r\nIf you query the pending transactions endpoint, you can spot check some of the transactions in the pool to check whether they are executable or not",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1248695253/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1248771564",
    "html_url": "https://github.com/hyperledger/besu/issues/4401#issuecomment-1248771564",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/4401",
    "id": 1248771564,
    "node_id": "IC_kwDODE2jmc5Kbr3s",
    "user": {
      "login": "macfarla",
      "id": 2627919,
      "node_id": "MDQ6VXNlcjI2Mjc5MTk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2627919?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/macfarla",
      "html_url": "https://github.com/macfarla",
      "followers_url": "https://api.github.com/users/macfarla/followers",
      "following_url": "https://api.github.com/users/macfarla/following{/other_user}",
      "gists_url": "https://api.github.com/users/macfarla/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/macfarla/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/macfarla/subscriptions",
      "organizations_url": "https://api.github.com/users/macfarla/orgs",
      "repos_url": "https://api.github.com/users/macfarla/repos",
      "events_url": "https://api.github.com/users/macfarla/events{/privacy}",
      "received_events_url": "https://api.github.com/users/macfarla/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-09-16T00:07:51Z",
    "updated_at": "2022-09-16T00:07:51Z",
    "author_association": "CONTRIBUTOR",
    "body": "https://discord.com/channels/905194001349627914/1009795829625786418/1019880263049822208\r\nThe same as above, but in mainnet after the merge\r\nat least 2 empty blocks\r\nhttps://beaconcha.in/slot/4700074\r\nhttps://beaconcha.in/slot/4700312\r\n the second one after restart teku/besu",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1248771564/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1248771920",
    "html_url": "https://github.com/hyperledger/besu/issues/4401#issuecomment-1248771920",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/4401",
    "id": 1248771920,
    "node_id": "IC_kwDODE2jmc5Kbr9Q",
    "user": {
      "login": "macfarla",
      "id": 2627919,
      "node_id": "MDQ6VXNlcjI2Mjc5MTk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2627919?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/macfarla",
      "html_url": "https://github.com/macfarla",
      "followers_url": "https://api.github.com/users/macfarla/followers",
      "following_url": "https://api.github.com/users/macfarla/following{/other_user}",
      "gists_url": "https://api.github.com/users/macfarla/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/macfarla/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/macfarla/subscriptions",
      "organizations_url": "https://api.github.com/users/macfarla/orgs",
      "repos_url": "https://api.github.com/users/macfarla/repos",
      "events_url": "https://api.github.com/users/macfarla/events{/privacy}",
      "received_events_url": "https://api.github.com/users/macfarla/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-09-16T00:08:23Z",
    "updated_at": "2022-09-16T00:08:23Z",
    "author_association": "CONTRIBUTOR",
    "body": "we are investigating this - working theory is that this is related to resource constraints - suggestion is to try increasing JVM memory as per https://besu.hyperledger.org/en/latest/public-networks/how-to/configure-jvm/manage-memory/",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1248771920/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1248774219",
    "html_url": "https://github.com/hyperledger/besu/issues/4401#issuecomment-1248774219",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/4401",
    "id": 1248774219,
    "node_id": "IC_kwDODE2jmc5KbshL",
    "user": {
      "login": "EvilJordan",
      "id": 1364262,
      "node_id": "MDQ6VXNlcjEzNjQyNjI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1364262?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/EvilJordan",
      "html_url": "https://github.com/EvilJordan",
      "followers_url": "https://api.github.com/users/EvilJordan/followers",
      "following_url": "https://api.github.com/users/EvilJordan/following{/other_user}",
      "gists_url": "https://api.github.com/users/EvilJordan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/EvilJordan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/EvilJordan/subscriptions",
      "organizations_url": "https://api.github.com/users/EvilJordan/orgs",
      "repos_url": "https://api.github.com/users/EvilJordan/repos",
      "events_url": "https://api.github.com/users/EvilJordan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/EvilJordan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-09-16T00:12:23Z",
    "updated_at": "2022-09-16T00:12:23Z",
    "author_association": "NONE",
    "body": "It is not resource constraints. I, and many others, have powerful machines and never experienced this pre-merge.\r\nI'm running an Intel NUC i7 with 32gigs and 2TB, with `Environment=\"JAVA_OPTS=-Xmx5g\"` in my Teku config.\r\n\r\nCPU and memory are totally not-pressed.",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1248774219/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1248788692",
    "html_url": "https://github.com/hyperledger/besu/issues/4401#issuecomment-1248788692",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/4401",
    "id": 1248788692,
    "node_id": "IC_kwDODE2jmc5KbwDU",
    "user": {
      "login": "macfarla",
      "id": 2627919,
      "node_id": "MDQ6VXNlcjI2Mjc5MTk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2627919?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/macfarla",
      "html_url": "https://github.com/macfarla",
      "followers_url": "https://api.github.com/users/macfarla/followers",
      "following_url": "https://api.github.com/users/macfarla/following{/other_user}",
      "gists_url": "https://api.github.com/users/macfarla/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/macfarla/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/macfarla/subscriptions",
      "organizations_url": "https://api.github.com/users/macfarla/orgs",
      "repos_url": "https://api.github.com/users/macfarla/repos",
      "events_url": "https://api.github.com/users/macfarla/events{/privacy}",
      "received_events_url": "https://api.github.com/users/macfarla/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-09-16T00:36:45Z",
    "updated_at": "2022-09-16T00:36:45Z",
    "author_association": "CONTRIBUTOR",
    "body": "@EvilJordan can you add any logs from besu and/or teku and any other related info to this issue - this will help us a lot! Thanks",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1248788692/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1248840770",
    "html_url": "https://github.com/hyperledger/besu/issues/4401#issuecomment-1248840770",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/4401",
    "id": 1248840770,
    "node_id": "IC_kwDODE2jmc5Kb8xC",
    "user": {
      "login": "macfarla",
      "id": 2627919,
      "node_id": "MDQ6VXNlcjI2Mjc5MTk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2627919?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/macfarla",
      "html_url": "https://github.com/macfarla",
      "followers_url": "https://api.github.com/users/macfarla/followers",
      "following_url": "https://api.github.com/users/macfarla/following{/other_user}",
      "gists_url": "https://api.github.com/users/macfarla/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/macfarla/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/macfarla/subscriptions",
      "organizations_url": "https://api.github.com/users/macfarla/orgs",
      "repos_url": "https://api.github.com/users/macfarla/repos",
      "events_url": "https://api.github.com/users/macfarla/events{/privacy}",
      "received_events_url": "https://api.github.com/users/macfarla/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-09-16T02:26:11Z",
    "updated_at": "2022-09-16T02:26:11Z",
    "author_association": "CONTRIBUTOR",
    "body": "from @ricardolyn \r\nhey. we have multiple blocks being produced by Besu with no transactions on Mainnet:\r\n2022-09-15 10:49:11.144+00:00 | vert.x-worker-thread-0 | INFO  | EngineGetPayload | Fetch block proposal by identifier: 0x0000000039a4e70a, hash: 0x10cc8dc3e64b3dd96f308bdaf30a50415bad9ebd0d0a1321c35cc07715383410, number: 15538609, coinbase: 0x..., transaction count: 0\r\n\r\nBonsai\r\ndb allowed 1TB\r\n\r\nNode size Standard_D8s_v4\r\n8 vCPU 32GiB mem\r\npremium ssd 1024 GiB 5000 IOPS 200MBps throughput\r\nPod specs:\r\n    resources:\r\n      requests:\r\n        cpu: 6\r\n        memory: 12Gi\r\n      limits:\r\n        memory: 16Gi\r\n\r\nwe are giving 16gb of ram and we have set JVM max memory percentage to 75%. geth and Besu run on the same spec\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1248840770/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1248967471",
    "html_url": "https://github.com/hyperledger/besu/issues/4401#issuecomment-1248967471",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/4401",
    "id": 1248967471,
    "node_id": "IC_kwDODE2jmc5Kcbsv",
    "user": {
      "login": "macfarla",
      "id": 2627919,
      "node_id": "MDQ6VXNlcjI2Mjc5MTk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2627919?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/macfarla",
      "html_url": "https://github.com/macfarla",
      "followers_url": "https://api.github.com/users/macfarla/followers",
      "following_url": "https://api.github.com/users/macfarla/following{/other_user}",
      "gists_url": "https://api.github.com/users/macfarla/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/macfarla/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/macfarla/subscriptions",
      "organizations_url": "https://api.github.com/users/macfarla/orgs",
      "repos_url": "https://api.github.com/users/macfarla/repos",
      "events_url": "https://api.github.com/users/macfarla/events{/privacy}",
      "received_events_url": "https://api.github.com/users/macfarla/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-09-16T06:27:06Z",
    "updated_at": "2022-09-16T06:27:06Z",
    "author_association": "CONTRIBUTOR",
    "body": "Reports on discord - asked for logs - https://besu.hyperledger.org/en/latest/public-networks/how-to/configure-jvm/manage-memory/",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1248967471/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1249136187",
    "html_url": "https://github.com/hyperledger/besu/issues/4401#issuecomment-1249136187",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/4401",
    "id": 1249136187,
    "node_id": "IC_kwDODE2jmc5KdE47",
    "user": {
      "login": "yorickdowne",
      "id": 71337066,
      "node_id": "MDQ6VXNlcjcxMzM3MDY2",
      "avatar_url": "https://avatars.githubusercontent.com/u/71337066?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/yorickdowne",
      "html_url": "https://github.com/yorickdowne",
      "followers_url": "https://api.github.com/users/yorickdowne/followers",
      "following_url": "https://api.github.com/users/yorickdowne/following{/other_user}",
      "gists_url": "https://api.github.com/users/yorickdowne/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/yorickdowne/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/yorickdowne/subscriptions",
      "organizations_url": "https://api.github.com/users/yorickdowne/orgs",
      "repos_url": "https://api.github.com/users/yorickdowne/repos",
      "events_url": "https://api.github.com/users/yorickdowne/events{/privacy}",
      "received_events_url": "https://api.github.com/users/yorickdowne/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-09-16T09:22:33Z",
    "updated_at": "2022-09-16T09:22:33Z",
    "author_association": "NONE",
    "body": "I don't have debug logs on so this isn't terribly instructive. Teku CL and Besu EL, here are the consensus and execution logs for an empty proposal\r\n\r\n```\r\nconsensus_1  | 2022-09-16 07:44:23.728 INFO  - ESC[32mEpoch Event *** Epoch: 147110, Justified checkpoint: 147109, Finalized checkpoint: 147108, Finalized root: fab70b7be3ac88eae00ed32cb66b66640bf2965f796d932da096cb7555d0554dESC[0m\r\nconsensus_1  | 2022-09-16 07:44:23.735 INFO  - Attestation performance: epoch 147108, expected 201, produced 209, included 209 (100%), distance 1 / 1.17 / 6, correct target 209 (100%), correct head 209 (100%)\r\nconsensus_1  | 2022-09-16 07:44:27.235 INFO  - ESC[37mSlot Event  *** Slot: 4707520, Block: 6524387954a53979174ef2595f93ee661ae6d0769cbe95a59a1365ba9e61ebe2, Justified: 147109, Finalized: 147108, Peers: 100ESC[0m\r\nconsensus_1  | 2022-09-16 07:50:47.625 INFO  - Block performance: epoch 147110, expected 1, produced 1, included 1 (100%)\r\n\r\nexecution_1  | 2022-09-16 07:44:13.499+00:00 | vert.x-worker-thread-0 | INFO  | EngineForkchoiceUpdated | VALID for fork-choice-update: head: 0xe347f499bef2d890429ff6c7427df40dc1172aa008ea2ff954fd40bc6542ba5f, finalized: 0xbb531f22d6bc946350982301d10cc31e239b3125bbaae470bfae39bd1d015d35, safeBlockHash: 0x43f5629141c0e350196bf7a64ba68eeadfde3f106a4bc8af45e6a44af453ae40\r\nexecution_1  | 2022-09-16 07:44:23.761+00:00 | vert.x-worker-thread-0 | INFO  | EngineGetPayload | Fetch block proposal by identifier: 0x000000006b424e56, hash: 0x12da62305308ab734b360a70170315436b70f03df6942d37f9ec8b23172b2b53, number: 15544780, coinbase: 0x388c818ca8b9251b393131c08a736a67ccb19297, transaction count: 0\r\nexecution_1  | 2022-09-16 07:44:24.720+00:00 | vert.x-worker-thread-0 | INFO  | EngineNewPayload | Imported #15,544,780 / 0 tx / base fee 4.67 gwei / 0 (0.0%) gas / (0x12da62305308ab734b360a70170315436b70f03df6942d37f9ec8b23172b2b53) in 0.760s. Peers: 27\r\n```\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1249136187/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1249156085",
    "html_url": "https://github.com/hyperledger/besu/issues/4401#issuecomment-1249156085",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/4401",
    "id": 1249156085,
    "node_id": "IC_kwDODE2jmc5KdJv1",
    "user": {
      "login": "Tachyonica",
      "id": 45542100,
      "node_id": "MDQ6VXNlcjQ1NTQyMTAw",
      "avatar_url": "https://avatars.githubusercontent.com/u/45542100?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Tachyonica",
      "html_url": "https://github.com/Tachyonica",
      "followers_url": "https://api.github.com/users/Tachyonica/followers",
      "following_url": "https://api.github.com/users/Tachyonica/following{/other_user}",
      "gists_url": "https://api.github.com/users/Tachyonica/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Tachyonica/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Tachyonica/subscriptions",
      "organizations_url": "https://api.github.com/users/Tachyonica/orgs",
      "repos_url": "https://api.github.com/users/Tachyonica/repos",
      "events_url": "https://api.github.com/users/Tachyonica/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Tachyonica/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-09-16T09:41:55Z",
    "updated_at": "2022-09-16T09:41:55Z",
    "author_association": "NONE",
    "body": "I am running a NUC8i5BEH, 1TB NVME SSD + 4TB SSD, 32 GB RAM, with a Teku-Besu pair that had run flawlessly until the merge. Post merge it began to see missing blocks in the Teku logs that were not missed onchain, with increasing missed attestations over time, decreasing attestation performance, and the publication of one transaction-free empty block at slot 4701480: https://beaconcha.in/slot/4701480\r\n\r\nHere are the Besu logs:\r\n\r\nbesu[285850]: 2022-09-15 13:35:37.739+02:00 | vert.x-worker-thread-0 | INFO  | EngineForkchoiceUpdated | VALID for fork-choice-update: head:0x7ac48e0cc8f5bebd1e545661329afe205507acbf9e17604cba9f1ac2b9888e44, finalized:\r\nxfbb4d3f6d58ba3f248d2a471887a223289a16995288f02c83bdf8b2af51d5c1f, safeBlockHash:0x7acdadec6a2c887ae01ca76b20a67a613c2bda4461a4f36c89a5d9660aefc222\r\n\r\nbesu[285850]: 2022-09-15 13:36:23.229+02:00 | vert.x-worker-thread-0 | INFO  | EngineGetPayload | Fetch block proposal by identifier: 0x000000000e2e9537, hash: 0xbc12bb44a42f5bcc9e00eec4b3c24370111f6740b775d96160b4f16993a958e0, number: 15538842, coinbase:x9c93698ee475f6a62c6f930c410270972ff10019, transaction count: 0\r\n\r\nHere are the Teku logs:\r\n\r\n2022-09-15 13:36:24.246+02:00 | CompletableFutureDelayScheduler | ERROR | ExecutionLayerManagerImpl | Unable to obtain a valid bid from builder. Falling back to local execution engine.\r\njava.util.concurrent.CompletionException: java.util.concurrent.TimeoutException\r\nat java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331) ~[?:?]\r\nat java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346) ~[?:?]\r\nat java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632) ~[?:?]\r\nat java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506) ~[?:?]\r\nat java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088) ~[?:?]\r\nat tech.pegasys.teku.infrastructure.async.SafeFuture.lambda$propagateResult$3(SafeFuture.java:145) ~[teku-infrastructure-async-22.9.0.jar:22.9.0]\r\nat java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:859) ~[?:?]\r\nat java.util.concurrent.CompletableFuture.uniWhenCompleteStage(CompletableFuture.java:883) ~[?:?]\r\nat java.util.concurrent.CompletableFuture.whenComplete(CompletableFuture.java:2251) ~[?:?]\r\nat tech.pegasys.teku.infrastructure.async.SafeFuture.whenComplete(SafeFuture.java:580) ~[teku-infrastructure-async-22.9.0.jar:22.9.0]\r\nat tech.pegasys.teku.infrastructure.async.SafeFuture.whenComplete(SafeFuture.java:32) ~[teku-infrastructure-async-22.9.0.jar:22.9.0]\r\nat tech.pegasys.teku.infrastructure.async.SafeFuture.propagateResult(SafeFuture.java:142) ~[teku-infrastructure-async-22.9.0.jar:22.9.0]\r\nat tech.pegasys.teku.infrastructure.async.SafeFuture.lambda$exceptionallyCompose$30(SafeFuture.java:399) ~[teku-infrastructure-async-22.9.0.jar:22.9.0]\r\nat java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:859) ~[?:?]\r\nat java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:837) ~[?:?]\r\nat java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506) ~[?:?]\r\nat java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088) ~[?:?]\r\nat java.util.concurrent.CompletableFuture$Timeout.run(CompletableFuture.java:2792) ~[?:?]\r\nat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515) ~[?:?]\r\nat java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[?:?]\r\nat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[?:?]\r\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[?:?]\r\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[?:?]\r\nat java.lang.Thread.run(Thread.java:829) ~[?:?]\r\nCaused by: java.util.concurrent.TimeoutException\r\n... 7 more\r\n2022-09-15 13:36:24.334+02:00 | ExecutionLayerChannel-0 | INFO  | ExecutionLayerManagerImpl | Falling back to locally produced execution payload (Block Number 15538842, Block Hash = 0xbc12bb44a42f5bcc9e00eec4b3c24370111f6740b775d96160b4f16993a958e0, Fallback Reason = builder_error)\r\n2022-09-15 13:36:24.450+02:00 | validator-async-77 | INFO  | teku-validator-log | \u001B[34mValidator   *** Published block              Count: 1, Slot: 4701480, Root: a48360ae141fab8743c121597b21b58735a05cd5d45943ba5ad1ac607d71d4bd, 0 (0%) gas, EL block:  bc12bb44a42f5bcc9e00eec4b3c24370111f6740b775d96160b4f16993a958e0 (15538842)\u001B[0m\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1249156085/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1249174064",
    "html_url": "https://github.com/hyperledger/besu/issues/4401#issuecomment-1249174064",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/4401",
    "id": 1249174064,
    "node_id": "IC_kwDODE2jmc5KdOIw",
    "user": {
      "login": "0xcd2c6",
      "id": 113677967,
      "node_id": "U_kgDOBsaWjw",
      "avatar_url": "https://avatars.githubusercontent.com/u/113677967?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/0xcd2c6",
      "html_url": "https://github.com/0xcd2c6",
      "followers_url": "https://api.github.com/users/0xcd2c6/followers",
      "following_url": "https://api.github.com/users/0xcd2c6/following{/other_user}",
      "gists_url": "https://api.github.com/users/0xcd2c6/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/0xcd2c6/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/0xcd2c6/subscriptions",
      "organizations_url": "https://api.github.com/users/0xcd2c6/orgs",
      "repos_url": "https://api.github.com/users/0xcd2c6/repos",
      "events_url": "https://api.github.com/users/0xcd2c6/events{/privacy}",
      "received_events_url": "https://api.github.com/users/0xcd2c6/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-09-16T10:01:32Z",
    "updated_at": "2022-09-16T10:01:32Z",
    "author_association": "NONE",
    "body": "Since the merge I've proposed two blocks, the first one with just 2 transactions, the second one with only 1 transaction. I also experience frequent missed attestations.\r\n\r\nI'm running besu/teku (solo), my specs are: \r\n\r\n- ASUS WS C422 Pro/SE\r\n- Intel Xeon W-2265\r\n- 16 GB DDR4 2933 MHz ECC (x2)\r\n- Samsung 980 Pro 2TB NVMe\r\n\r\nI'm getting the following errors in besu and teku at irregular intervals:\r\n\r\n```Sep 16 11:19:15 w2265 besu[235619]: 2022-09-16 11:19:15.667+02:00 | EthScheduler-Transactions-28 | ERROR | Besu | Uncaught exception in thread \"EthScheduler-Transactions-28\"\r\nSep 16 11:19:15 w2265 besu[235619]: org.hyperledger.besu.ethereum.trie.MerkleTrieException: Unable to load trie node value for hash 0xad4714107cdc07b22a8323d379fe4bd357f4f84667fec1bcd240c95ab9d725f9 location 0x\r\nSep 16 11:19:15 w2265 besu[235619]:         at org.hyperledger.besu.ethereum.trie.StoredNode.lambda$load$0(StoredNode.java:133)\r\nSep 16 11:19:15 w2265 besu[235619]:         at java.base/java.util.Optional.orElseThrow(Optional.java:408)\r\nSep 16 11:19:15 w2265 besu[235619]:         at org.hyperledger.besu.ethereum.trie.StoredNode.load(StoredNode.java:131)\r\nSep 16 11:19:15 w2265 besu[235619]:         at org.hyperledger.besu.ethereum.trie.StoredNode.accept(StoredNode.java:63)\r\nSep 16 11:19:15 w2265 besu[235619]:         at org.hyperledger.besu.ethereum.trie.StoredMerklePatriciaTrie.get(StoredMerklePatriciaTrie.java:119)\r\nSep 16 11:19:15 w2265 besu[235619]:         at org.hyperledger.besu.ethereum.bonsai.BonsaiWorldStateKeyValueStorage.getAccount(BonsaiWorldStateKeyValueStorage.java:110)\r\nSep 16 11:19:15 w2265 besu[235619]:         at org.hyperledger.besu.ethereum.bonsai.BonsaiPersistedWorldState.get(BonsaiPersistedWorldState.java:340)\r\nSep 16 11:19:15 w2265 besu[235619]:         at org.hyperledger.besu.ethereum.bonsai.BonsaiLayeredWorldState.get(BonsaiLayeredWorldState.java:232)\r\nSep 16 11:19:15 w2265 besu[235619]:         at org.hyperledger.besu.ethereum.eth.transactions.TransactionPool.lambda$validateTransaction$2(TransactionPool.java:282)\r\nSep 16 11:19:15 w2265 besu[235619]:         at java.base/java.util.Optional.map(Optional.java:265)\r\nSep 16 11:19:15 w2265 besu[235619]:         at org.hyperledger.besu.ethereum.eth.transactions.TransactionPool.validateTransaction(TransactionPool.java:280)\r\nSep 16 11:19:15 w2265 besu[235619]:         at org.hyperledger.besu.ethereum.eth.transactions.TransactionPool.validateRemoteTransaction(TransactionPool.java:213)\r\nSep 16 11:19:15 w2265 besu[235619]:         at org.hyperledger.besu.ethereum.eth.transactions.TransactionPool.addRemoteTransactions(TransactionPool.java:153)\r\nSep 16 11:19:15 w2265 besu[235619]:         at org.hyperledger.besu.ethereum.eth.transactions.TransactionsMessageProcessor.processTransactionsMessage(TransactionsMessageProcessor.java:111)\r\nSep 16 11:19:15 w2265 besu[235619]:         at org.hyperledger.besu.ethereum.eth.transactions.TransactionsMessageProcessor.processTransactionsMessage(TransactionsMessageProcessor.java:85)\r\nSep 16 11:19:15 w2265 besu[235619]:         at org.hyperledger.besu.ethereum.eth.transactions.TransactionsMessageHandler.lambda$exec$0(TransactionsMessageHandler.java:48)\r\nSep 16 11:19:15 w2265 besu[235619]:         at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\nSep 16 11:19:15 w2265 besu[235619]:         at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\nSep 16 11:19:15 w2265 besu[235619]:         at java.base/java.lang.Thread.run(Thread.java:829)\r\n\r\n\r\nSep 16 11:08:03 w2265 teku[235819]: 2022-09-16 11:08:03.367 INFO  - Slot Event  *** Slot: 4707938, Block: 8b5f6900c7b1cc533614b3c11b8630533d70201dd80a74d31258bd69e9b4bfa4, Justified: 147122, Finalized: 147121, Peers: 128\r\nSep 16 11:08:14 w2265 teku[235819]: 2022-09-16 11:08:14.292 ERROR - Execution Client is offline\r\nSep 16 11:08:14 w2265 teku[235819]: java.util.concurrent.TimeoutException: null\r\nSep 16 11:08:14 w2265 teku[235819]: at java.util.concurrent.CompletableFuture$Timeout.run(CompletableFuture.java:2792) ~[?:?]\r\nSep 16 11:08:14 w2265 teku[235819]: at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515) ~[?:?]\r\nSep 16 11:08:14 w2265 teku[235819]: at java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[?:?]\r\nSep 16 11:08:14 w2265 teku[235819]: at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[?:?]\r\nSep 16 11:08:14 w2265 teku[235819]: at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[?:?]\r\nSep 16 11:08:14 w2265 teku[235819]: at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[?:?]\r\nSep 16 11:08:14 w2265 teku[235819]: at java.lang.Thread.run(Thread.java:829) ~[?:?]\r\nSep 16 11:08:14 w2265 teku[235819]: 2022-09-16 11:08:14.292 ERROR - An error occurred while querying remote transition configuration\r\nSep 16 11:08:14 w2265 teku[235819]: java.util.concurrent.CompletionException: java.lang.IllegalArgumentException: Invalid remote response: TimeoutException\r\nSep 16 11:08:14 w2265 teku[235819]: at java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:314) ~[?:?]\r\nSep 16 11:08:14 w2265 teku[235819]: at java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:319) ~[?:?]\r\nSep 16 11:08:14 w2265 teku[235819]: at java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:645) ~[?:?]\r\nSep 16 11:08:14 w2265 teku[235819]: at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506) ~[?:?]\r\nSep 16 11:08:14 w2265 teku[235819]: at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:2073) ~[?:?]\r\nSep 16 11:08:14 w2265 teku[235819]: at tech.pegasys.teku.infrastructure.async.SafeFuture.lambda$propagateResult$3(SafeFuture.java:147) ~[teku-infrastructure-async-22.9.0.jar:22.9.0]\r\nSep 16 11:08:14 w2265 teku[235819]: at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:859) ~[?:?]\r\nSep 16 11:08:14 w2265 teku[235819]: at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:837) ~[?:?]\r\nSep 16 11:08:14 w2265 teku[235819]: at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506) ~[?:?]\r\nSep 16 11:08:14 w2265 teku[235819]: at java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088) ~[?:?]\r\nSep 16 11:08:14 w2265 teku[235819]: at java.util.concurrent.CompletableFuture$Timeout.run(CompletableFuture.java:2792) ~[?:?]\r\nSep 16 11:08:14 w2265 teku[235819]: at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515) ~[?:?]\r\nSep 16 11:08:14 w2265 teku[235819]: at java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[?:?]\r\nSep 16 11:08:14 w2265 teku[235819]: at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[?:?]\r\nSep 16 11:08:14 w2265 teku[235819]: at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[?:?]\r\nSep 16 11:08:14 w2265 teku[235819]: at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[?:?]\r\nSep 16 11:08:14 w2265 teku[235819]: at java.lang.Thread.run(Thread.java:829) ~[?:?]\r\nSep 16 11:08:14 w2265 teku[235819]: Caused by: java.lang.IllegalArgumentException: Invalid remote response: TimeoutException\r\nSep 16 11:08:14 w2265 teku[235819]: at com.google.common.base.Preconditions.checkArgument(Preconditions.java:220) ~[guava-31.1-jre.jar:?]\r\nSep 16 11:08:14 w2265 teku[235819]: at tech.pegasys.teku.ethereum.executionlayer.ExecutionLayerManagerImpl.unwrapResponseOrThrow(ExecutionLayerManagerImpl.java:504) ~[teku-ethereum-executionlayer-22.9.0.jar:22.9.0]\r\nSep 16 11:08:14 w2265 teku[235819]: at java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:642) ~[?:?]\r\nSep 16 11:08:14 w2265 teku[235819]: ... 14 more\r\nSep 16 11:08:14 w2265 teku[235819]: 2022-09-16 11:08:14.524 INFO  - Execution Client is online",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1249174064/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1249201893",
    "html_url": "https://github.com/hyperledger/besu/issues/4401#issuecomment-1249201893",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/4401",
    "id": 1249201893,
    "node_id": "IC_kwDODE2jmc5KdU7l",
    "user": {
      "login": "ghost",
      "id": 10137,
      "node_id": "MDQ6VXNlcjEwMTM3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ghost",
      "html_url": "https://github.com/ghost",
      "followers_url": "https://api.github.com/users/ghost/followers",
      "following_url": "https://api.github.com/users/ghost/following{/other_user}",
      "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ghost/subscriptions",
      "organizations_url": "https://api.github.com/users/ghost/orgs",
      "repos_url": "https://api.github.com/users/ghost/repos",
      "events_url": "https://api.github.com/users/ghost/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ghost/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-09-16T10:30:06Z",
    "updated_at": "2022-09-16T10:30:06Z",
    "author_association": "NONE",
    "body": "> we are investigating this - working theory is that this is related to resource constraints - suggestion is to try increasing JVM memory as per https://besu.hyperledger.org/en/latest/public-networks/how-to/configure-jvm/manage-memory/\r\n\r\nOur current setup is:\r\nBesu: for reference in GCP: e2-standard-4, 16GB, 4vCPU, 1TB Disk \"-Xmx8g -Xms8g\"\r\nTeku: for reference in GCP:  e2-standard-4, 16GB, 4vCPU, 1TB Disk \"-Xmx8g -Xms8g\" (the same)\r\nCurrent Consumption:\r\nBesu: 40% CPU, 65% RAM\r\nTeku: 20% CPU, 60% RAM\r\nIn pre-merge we didn't faced any problem with this setup\r\n\r\nRestart doesn't help us to stop producing empty blocks :( ",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1249201893/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1249221469",
    "html_url": "https://github.com/hyperledger/besu/issues/4401#issuecomment-1249221469",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/4401",
    "id": 1249221469,
    "node_id": "IC_kwDODE2jmc5KdZtd",
    "user": {
      "login": "ghost",
      "id": 10137,
      "node_id": "MDQ6VXNlcjEwMTM3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ghost",
      "html_url": "https://github.com/ghost",
      "followers_url": "https://api.github.com/users/ghost/followers",
      "following_url": "https://api.github.com/users/ghost/following{/other_user}",
      "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ghost/subscriptions",
      "organizations_url": "https://api.github.com/users/ghost/orgs",
      "repos_url": "https://api.github.com/users/ghost/repos",
      "events_url": "https://api.github.com/users/ghost/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ghost/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-09-16T10:53:54Z",
    "updated_at": "2022-09-16T10:53:54Z",
    "author_association": "NONE",
    "body": "Logs from Besu/Teku which produced empty block\r\n[logs.tar.gz](https://github.com/hyperledger/besu/files/9583381/logs.tar.gz)\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1249221469/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1249266676",
    "html_url": "https://github.com/hyperledger/besu/issues/4401#issuecomment-1249266676",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/4401",
    "id": 1249266676,
    "node_id": "IC_kwDODE2jmc5Kdkv0",
    "user": {
      "login": "AugPeach",
      "id": 113690381,
      "node_id": "U_kgDOBsbHDQ",
      "avatar_url": "https://avatars.githubusercontent.com/u/113690381?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/AugPeach",
      "html_url": "https://github.com/AugPeach",
      "followers_url": "https://api.github.com/users/AugPeach/followers",
      "following_url": "https://api.github.com/users/AugPeach/following{/other_user}",
      "gists_url": "https://api.github.com/users/AugPeach/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/AugPeach/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/AugPeach/subscriptions",
      "organizations_url": "https://api.github.com/users/AugPeach/orgs",
      "repos_url": "https://api.github.com/users/AugPeach/repos",
      "events_url": "https://api.github.com/users/AugPeach/events{/privacy}",
      "received_events_url": "https://api.github.com/users/AugPeach/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-09-16T11:47:54Z",
    "updated_at": "2022-09-16T11:47:54Z",
    "author_association": "NONE",
    "body": "Using **geth**/teku, I proposed an empty block: https://etherscan.io/block/15545143. Maybe it's just a teku issue instead of a besu issue? Logs are completely uninteresting.\r\n\r\nTeku:\r\n```\r\n2022-09-16 04:56:51.281-04:00 | TimeTick-1 | INFO  | teku-event-log | Slot Event  *** Slot: 4707882, Block: fd7ea87f4249004f517294a8fd06850809619ed1dee561c6bcad50a9f334a9bc, Justified: 147120, Finalized: 147119, Peers: 10\r\n2022-09-16 04:57:03.274-04:00 | TimeTick-1 | INFO  | teku-event-log | Slot Event  *** Slot: 4707883, Block: 053fdd009f7329a1fb3f255827138056cf50bada1ee5030f2b208e93e33aea36, Justified: 147120, Finalized: 147119, Peers: 10\r\n2022-09-16 04:57:12.108-04:00 | validator-async-104 | INFO  | teku-validator-log | Validator   *** Published attestation        Count: 1, Slot: 4707884, Root: c069be0068f8acd6562f11d9f2648437a6cbc2dd7307d24fce1b9c0beb4d0856\r\n2022-09-16 04:57:15.221-04:00 | TimeTick-1 | INFO  | teku-event-log | Slot Event  *** Slot: 4707884, Block: c069be0068f8acd6562f11d9f2648437a6cbc2dd7307d24fce1b9c0beb4d0856, Justified: 147120, Finalized: 147119, Peers: 10\r\n2022-09-16 04:57:27.273-04:00 | TimeTick-1 | INFO  | teku-event-log | Slot Event  *** Slot: 4707885, Block: e4d3337c68c9d13dd9fa2daa6c1fcd1eb01ec2937da0129f37dc54f014137032, Justified: 147120, Finalized: 147119, Peers: 10\r\n2022-09-16 04:57:39.270-04:00 | TimeTick-1 | INFO  | teku-event-log | Slot Event  *** Slot: 4707886, Block: 1ee35111c18333e3bb131a7840f793767b37bd1beb50d9b8e4f1b9954a0f60a9, Justified: 147120, Finalized: 147119, Peers: 10\r\n2022-09-16 04:57:51.272-04:00 | TimeTick-1 | INFO  | teku-event-log | Slot Event  *** Slot: 4707887, Block: 0158c23cf0ce06647497b93a27f322f8186d30d5eab640c55326110e125ba01b, Justified: 147120, Finalized: 147119, Peers: 10\r\n2022-09-16 04:58:03.271-04:00 | TimeTick-1 | INFO  | teku-event-log | Slot Event  *** Slot: 4707888, Block: 51413fef6fde0ed9817110e40c792d894e817f9aae47b2909e84db0ff2c40caa, Justified: 147120, Finalized: 147119, Peers: 10\r\n2022-09-16 04:58:11.607-04:00 | validator-async-109 | INFO  | teku-validator-log | Validator   *** Published block              Count: 1, Slot: 4707889, Root: 5a58132ace7c7e85e01d9501532b8d73798d788ca3d0a285024f025ad0444d8e, 0 (0%) gas, EL block:  acb097c4bf007e9d22733baddc937fed10b284ef785ef3625e9576ac6f07c71b (15545143)\r\n2022-09-16 04:58:15.254-04:00 | TimeTick-1 | INFO  | teku-event-log | Slot Event  *** Slot: 4707889, Block: 5a58132ace7c7e85e01d9501532b8d73798d788ca3d0a285024f025ad0444d8e, Justified: 147120, Finalized: 147119, Peers: 10\r\n2022-09-16 04:58:24.844-04:00 | validator-async-105 | INFO  | teku-validator-log | Validator   *** Published attestation        Count: 1, Slot: 4707890, Root: 46a72dc71a8fd0bad240b75bf2c4099ba910a6c30cff50f2db0286186e533267\r\n2022-09-16 04:58:27.220-04:00 | TimeTick-1 | INFO  | teku-event-log | Slot Event  *** Slot: 4707890, Block: 46a72dc71a8fd0bad240b75bf2c4099ba910a6c30cff50f2db0286186e533267, Justified: 147120, Finalized: 147119, Peers: 10\r\n2022-09-16 04:58:39.272-04:00 | TimeTick-1 | INFO  | teku-event-log | Slot Event  *** Slot: 4707891, Block: cebd8997263f5beb7caf9b49f3940a39420c8b3b3635b53b57cf2de94a46f05f, Justified: 147120, Finalized: 147119, Peers: 10\r\n2022-09-16 04:58:47.264-04:00 | SlotEventsChannel-11 | INFO  | ValidatorBasedStableSubnetSubscriber | Updating number of persistent subnet subscriptions from 11 to 12\r\n2022-09-16 04:58:47.950-04:00 | validator-async-87 | INFO  | teku-validator-log | Validator   *** Published attestation        Count: 1, Slot: 4707892, Root: d53892354a71f9f2427eb50f83a0f4aae1da21c215ff7e9b6d21e1d4cdd1c734\r\n2022-09-16 04:58:51.221-04:00 | TimeTick-1 | INFO  | teku-event-log | Slot Event  *** Slot: 4707892, Block: d53892354a71f9f2427eb50f83a0f4aae1da21c215ff7e9b6d21e1d4cdd1c734, Justified: 147120, Finalized: 147119, Peers: 10\r\n2022-09-16 04:59:03.291-04:00 | TimeTick-1 | INFO  | teku-event-log | Slot Event  *** Slot: 4707893, Block: 62bfc521207f5aedc994efe8d89e2725ba89d61d5d5e051493f6e753697a8d64, Justified: 147120, Finalized: 147119, Peers: 10\r\n2022-09-16 04:59:12.247-04:00 | validator-async-109 | INFO  | teku-validator-log | Validator   *** Published attestation        Count: 1, Slot: 4707894, Root: 7521c1fd32809ea96a7bb61c80d0a3cb084c104847bec306106b6ffb528c2652\r\n2022-09-16 04:59:15.220-04:00 | TimeTick-1 | INFO  | teku-event-log | Slot Event  *** Slot: 4707894, Block: 7521c1fd32809ea96a7bb61c80d0a3cb084c104847bec306106b6ffb528c2652, Justified: 147120, Finalized: 147119, Peers: 10\r\n2022-09-16 04:59:24.644-04:00 | validator-async-105 | INFO  | teku-validator-log | Validator   *** Published attestation        Count: 1, Slot: 4707895, Root: 44dc12469db1062b74b756e64c739f4e8534a180d73a3fb7205724deafa98e0a\r\n2022-09-16 04:59:27.221-04:00 | TimeTick-1 | INFO  | teku-event-log | Slot Event  *** Slot: 4707895, Block: 44dc12469db1062b74b756e64c739f4e8534a180d73a3fb7205724deafa98e0a, Justified: 147120, Finalized: 147119, Peers: 10\r\n2022-09-16 04:59:39.278-04:00 | TimeTick-1 | INFO  | teku-event-log | Slot Event  *** Slot: 4707896, Block: e8b79e02bf3a5b821b3db9203b1a148f5e0d8791a334a2487a22f3aa4144eabf, Justified: 147120, Finalized: 147119, Peers: 10\r\n2022-09-16 04:59:51.273-04:00 | TimeTick-1 | INFO  | teku-event-log | Slot Event  *** Slot: 4707897, Block: 43483c8da327b772f6a9479589e24d5b8f3e855f67f773adad9b8b16093b4b59, Justified: 147120, Finalized: 147119, Peers: 10\r\n2022-09-16 05:00:03.270-04:00 | TimeTick-1 | INFO  | teku-event-log | Slot Event  *** Slot: 4707898, Block: f84643efd2dd662e91b72a181453da7b2cc8b3cf57d5d1894dda1a4c99998aeb, Justified: 147120, Finalized: 147119, Peers: 10\r\n2022-09-16 05:00:13.268-04:00 | validator-async-104 | INFO  | teku-validator-log | Validator   *** Published attestation        Count: 1, Slot: 4707899, Root: 62574725c9ec1f3a8221937433b1a46c5112fb414e27c9199575652baa106ffb\r\n2022-09-16 05:00:15.220-04:00 | TimeTick-1 | INFO  | teku-event-log | Slot Event  *** Slot: 4707899, Block: 62574725c9ec1f3a8221937433b1a46c5112fb414e27c9199575652baa106ffb, Justified: 147120, Finalized: 147119, Peers: 10\r\n2022-09-16 05:00:27.277-04:00 | TimeTick-1 | INFO  | teku-event-log | Slot Event  *** Slot: 4707900, Block:                                                        ... empty, Justified: 147120, Finalized: 147119, Peers: 10\r\n2022-09-16 05:00:39.296-04:00 | TimeTick-1 | INFO  | teku-event-log | Slot Event  *** Slot: 4707901, Block: d18ed3053c5c860bbb47a5ae0c8621771b333d4d9e4183d0581678aa5f29e0d6, Justified: 147120, Finalized: 147119, Peers: 10\r\n2022-09-16 05:00:50.009-04:00 | validator-async-99 | INFO  | teku-validator-log | Validator   *** Published attestation        Count: 1, Slot: 4707902, Root: 6d7fd34d5724777528bbbc821ea61d4d5e4ca1f63e7d436137e123ba14fac9bf\r\n2022-09-16 05:00:51.220-04:00 | TimeTick-1 | INFO  | teku-event-log | Slot Event  *** Slot: 4707902, Block: 6d7fd34d5724777528bbbc821ea61d4d5e4ca1f63e7d436137e123ba14fac9bf, Justified: 147120, Finalized: 147119, Peers: 10\r\n2022-09-16 05:01:03.269-04:00 | TimeTick-1 | INFO  | teku-event-log | Slot Event  *** Slot: 4707903, Block: 15788bd580fee5474b885e023eb9159e9f3fec751e4b4c46d014523a2119f16c, Justified: 147120, Finalized: 147119, Peers: 10\r\n2022-09-16 05:01:12.135-04:00 | TimeTick-1 | INFO  | teku-event-log | Epoch Event *** Epoch: 147122, Justified checkpoint: 147121, Finalized checkpoint: 147120, Finalized root: 868a5d2549447860c825c3a7311c18ceac37a6fff35e123dcf0b32caa09d57e0\r\n2022-09-16 05:01:12.141-04:00 | SlotEventsChannel-10 | INFO  | teku-status-log | Attestation performance: epoch 147120, expected 12, produced 12, included 12 (100%), distance 1 / 1.00 / 1, correct target 12 (100%), correct head 12 (100%)\r\n2022-09-16 05:01:12.142-04:00 | SlotEventsChannel-10 | INFO  | teku-status-log | Block performance: epoch 147121, expected 1, produced 1, included 1 (100%)\r\n2022-09-16 05:01:15.287-04:00 | TimeTick-1 | INFO  | teku-event-log | Slot Event  *** Slot: 4707904, Block: c7cf27e8f514536e4ee2c148eada7d3d81c5527d57d0936b5040d8372169545b, Justified: 147121, Finalized: 147120, Peers: 10\r\n2022-09-16 05:01:27.273-04:00 | TimeTick-1 | INFO  | teku-event-log | Slot Event  *** Slot: 4707905, Block: 03ca1250f840d058c2f45bf03755a3749256a9747b395ac42fabba4549e64bba, Justified: 147121, Finalized: 147120, Peers: 10\r\n2022-09-16 05:01:39.273-04:00 | TimeTick-1 | INFO  | teku-event-log | Slot Event  *** Slot: 4707906, Block: 1cc30d0f945386b1173178b04887ea26518551db5cdaebf2108afb34b53cd12d, Justified: 147121, Finalized: 147120, Peers: 10\r\n2022-09-16 05:01:48.951-04:00 | validator-async-106 | INFO  | teku-validator-log | Validator   *** Published attestation        Count: 1, Slot: 4707907, Root: 99edede82e7cab783092c182e73eec01226fe4f26e796bf8efbaf3f6dfc807b3\r\n2022-09-16 05:01:51.220-04:00 | TimeTick-1 | INFO  | teku-event-log | Slot Event  *** Slot: 4707907, Block: 99edede82e7cab783092c182e73eec01226fe4f26e796bf8efbaf3f6dfc807b3, Justified: 147121, Finalized: 147120, Peers: 10\r\n2022-09-16 05:02:03.271-04:00 | TimeTick-1 | INFO  | teku-event-log | Slot Event  *** Slot: 4707908, Block: 503c20afac8b2bcaca78a8bf5636d65405aed3783a2ef2fdf6bc062138d05c8a, Justified: 147121, Finalized: 147120, Peers: 10\r\n```\r\n\r\ngeth:\r\n```\r\nSep 16 04:55:35 ThinkCentre-M90n-1 geth[854]: INFO [09-16|04:55:35.571] Unindexed transactions                   blocks=1   txs=380   tail=13,195,131 elapsed=3.678ms\r\nSep 16 04:55:49 ThinkCentre-M90n-1 geth[854]: INFO [09-16|04:55:49.637] Imported new potential chain segment     blocks=1   txs=405   mgas=29.277  elapsed=662.869ms   mgasps=44.167   number=15,545,131 hash=d66dca..be86a5 dirty=127.90MiB\r\nSep 16 04:55:49 ThinkCentre-M90n-1 geth[854]: INFO [09-16|04:55:49.661] Chain head was updated                   number=15,545,131 hash=d66dca..be86a5 root=fc947b..cad3f8 elapsed=12.895784ms\r\nSep 16 04:55:49 ThinkCentre-M90n-1 geth[854]: INFO [09-16|04:55:49.664] Unindexed transactions                   blocks=1   txs=240   tail=13,195,132 elapsed=2.522ms\r\nSep 16 04:56:00 ThinkCentre-M90n-1 geth[854]: INFO [09-16|04:56:00.839] Imported new potential chain segment     blocks=1   txs=182   mgas=8.725   elapsed=407.331ms   mgasps=21.419   number=15,545,132 hash=ab8bfd..30b011 dirty=127.90MiB\r\nSep 16 04:56:00 ThinkCentre-M90n-1 geth[854]: INFO [09-16|04:56:00.853] Chain head was updated                   number=15,545,132 hash=ab8bfd..30b011 root=ffee1a..01a73b elapsed=3.192012ms\r\nSep 16 04:56:00 ThinkCentre-M90n-1 geth[854]: INFO [09-16|04:56:00.863] Unindexed transactions                   blocks=1   txs=3     tail=13,195,133 elapsed=\"179.635µs\"\r\nSep 16 04:56:12 ThinkCentre-M90n-1 geth[854]: INFO [09-16|04:56:12.655] Imported new potential chain segment     blocks=1   txs=303   mgas=25.931  elapsed=660.070ms   mgasps=39.285   number=15,545,133 hash=c53edd..dc0665 dirty=127.90MiB\r\nSep 16 04:56:12 ThinkCentre-M90n-1 geth[854]: INFO [09-16|04:56:12.672] Chain head was updated                   number=15,545,133 hash=c53edd..dc0665 root=a123ce..f1d162 elapsed=6.240099ms\r\nSep 16 04:56:12 ThinkCentre-M90n-1 geth[854]: INFO [09-16|04:56:12.676] Unindexed transactions                   blocks=1   txs=275   tail=13,195,134 elapsed=3.742ms\r\nSep 16 04:56:23 ThinkCentre-M90n-1 geth[854]: INFO [09-16|04:56:23.568] Imported new potential chain segment     blocks=1   txs=72    mgas=6.988   elapsed=135.005ms   mgasps=51.757   number=15,545,134 hash=5607c9..bcff64 dirty=127.90MiB\r\nSep 16 04:56:23 ThinkCentre-M90n-1 geth[854]: INFO [09-16|04:56:23.576] Chain head was updated                   number=15,545,134 hash=5607c9..bcff64 root=6c3047..b524fa elapsed=1.537633ms\r\nSep 16 04:56:23 ThinkCentre-M90n-1 geth[854]: INFO [09-16|04:56:23.577] Unindexed transactions                   blocks=1   txs=19    tail=13,195,135 elapsed=\"522.805µs\"\r\nSep 16 04:56:36 ThinkCentre-M90n-1 geth[854]: INFO [09-16|04:56:36.946] Imported new potential chain segment     blocks=1   txs=445   mgas=28.503  elapsed=1.002s      mgasps=28.435   number=15,545,135 hash=6a3db3..7281ff dirty=127.90MiB\r\nSep 16 04:56:36 ThinkCentre-M90n-1 geth[854]: INFO [09-16|04:56:36.968] Chain head was updated                   number=15,545,135 hash=6a3db3..7281ff root=5b387d..98e4bd elapsed=9.313861ms\r\nSep 16 04:56:36 ThinkCentre-M90n-1 geth[854]: INFO [09-16|04:56:36.969] Unindexed transactions                   blocks=1   txs=88    tail=13,195,136 elapsed=1.159ms\r\nSep 16 04:56:49 ThinkCentre-M90n-1 geth[854]: INFO [09-16|04:56:49.306] Imported new potential chain segment     blocks=1   txs=135   mgas=20.853  elapsed=984.290ms   mgasps=21.186   number=15,545,136 hash=007a29..7bfab6 dirty=127.90MiB\r\nSep 16 04:56:49 ThinkCentre-M90n-1 geth[854]: INFO [09-16|04:56:49.321] Chain head was updated                   number=15,545,136 hash=007a29..7bfab6 root=e0db84..7b9cf2 elapsed=7.193995ms\r\nSep 16 04:56:49 ThinkCentre-M90n-1 geth[854]: INFO [09-16|04:56:49.325] Unindexed transactions                   blocks=1   txs=344   tail=13,195,137 elapsed=4.446ms\r\nSep 16 04:57:00 ThinkCentre-M90n-1 geth[854]: INFO [09-16|04:57:00.312] Imported new potential chain segment     blocks=1   txs=260   mgas=24.489  elapsed=365.697ms   mgasps=66.965   number=15,545,137 hash=ad78b3..a9840e dirty=127.90MiB\r\nSep 16 04:57:00 ThinkCentre-M90n-1 geth[854]: INFO [09-16|04:57:00.333] Chain head was updated                   number=15,545,137 hash=ad78b3..a9840e root=8ae490..eb458c elapsed=8.034944ms\r\nSep 16 04:57:00 ThinkCentre-M90n-1 geth[854]: INFO [09-16|04:57:00.334] Unindexed transactions                   blocks=1   txs=144   tail=13,195,138 elapsed=1.609ms\r\nSep 16 04:57:11 ThinkCentre-M90n-1 geth[854]: INFO [09-16|04:57:11.990] Imported new potential chain segment     blocks=1   txs=196   mgas=14.826  elapsed=339.526ms   mgasps=43.666   number=15,545,138 hash=95b91a..8c14e6 dirty=127.90MiB\r\nSep 16 04:57:12 ThinkCentre-M90n-1 geth[854]: INFO [09-16|04:57:12.003] Chain head was updated                   number=15,545,138 hash=95b91a..8c14e6 root=992c29..3b20e5 elapsed=4.890803ms\r\nSep 16 04:57:12 ThinkCentre-M90n-1 geth[854]: INFO [09-16|04:57:12.005] Unindexed transactions                   blocks=1   txs=207   tail=13,195,139 elapsed=2.163ms\r\nSep 16 04:57:24 ThinkCentre-M90n-1 geth[854]: INFO [09-16|04:57:24.807] Imported new potential chain segment     blocks=1   txs=300   mgas=19.120  elapsed=418.420ms   mgasps=45.695   number=15,545,139 hash=92d170..f73065 dirty=127.90MiB\r\nSep 16 04:57:24 ThinkCentre-M90n-1 geth[854]: INFO [09-16|04:57:24.828] Chain head was updated                   number=15,545,139 hash=92d170..f73065 root=42027e..7b0993 elapsed=9.008129ms\r\nSep 16 04:57:24 ThinkCentre-M90n-1 geth[854]: INFO [09-16|04:57:24.828] Unindexed transactions                   blocks=1   txs=43    tail=13,195,140 elapsed=\"551.599µs\"\r\nSep 16 04:57:35 ThinkCentre-M90n-1 geth[854]: INFO [09-16|04:57:35.921] Imported new potential chain segment     blocks=1   txs=93    mgas=7.155   elapsed=151.320ms   mgasps=47.283   number=15,545,140 hash=f37b5e..03dbdd dirty=127.90MiB\r\nSep 16 04:57:35 ThinkCentre-M90n-1 geth[854]: INFO [09-16|04:57:35.932] Chain head was updated                   number=15,545,140 hash=f37b5e..03dbdd root=04e73a..261267 elapsed=3.024927ms\r\nSep 16 04:57:35 ThinkCentre-M90n-1 geth[854]: INFO [09-16|04:57:35.933] Unindexed transactions                   blocks=1   txs=123   tail=13,195,141 elapsed=1.420ms\r\nSep 16 04:57:48 ThinkCentre-M90n-1 geth[854]: INFO [09-16|04:57:48.375] Imported new potential chain segment     blocks=1   txs=231   mgas=18.311  elapsed=405.607ms   mgasps=45.144   number=15,545,141 hash=b24569..5d194f dirty=127.90MiB\r\nSep 16 04:57:48 ThinkCentre-M90n-1 geth[854]: INFO [09-16|04:57:48.392] Chain head was updated                   number=15,545,141 hash=b24569..5d194f root=f00296..2684ad elapsed=6.99892ms\r\nSep 16 04:57:48 ThinkCentre-M90n-1 geth[854]: INFO [09-16|04:57:48.393] Unindexed transactions                   blocks=1   txs=88    tail=13,195,142 elapsed=\"766.486µs\"\r\nSep 16 04:58:00 ThinkCentre-M90n-1 geth[854]: INFO [09-16|04:58:00.695] Imported new potential chain segment     blocks=1   txs=189   mgas=11.819  elapsed=482.309ms   mgasps=24.504   number=15,545,142 hash=89d265..a6b691 dirty=127.90MiB\r\nSep 16 04:58:00 ThinkCentre-M90n-1 geth[854]: INFO [09-16|04:58:00.761] Chain head was updated                   number=15,545,142 hash=89d265..a6b691 root=ff60ce..dd75a5 elapsed=6.263158ms\r\nSep 16 04:58:00 ThinkCentre-M90n-1 geth[854]: INFO [09-16|04:58:00.763] Unindexed transactions                   blocks=1   txs=274   tail=13,195,143 elapsed=1.799ms\r\nSep 16 04:58:11 ThinkCentre-M90n-1 geth[854]: INFO [09-16|04:58:11.475] Imported new potential chain segment     blocks=1   txs=0     mgas=0.000   elapsed=\"306.678µs\" mgasps=0.000    number=15,545,143 hash=acb097..07c71b dirty=127.90MiB\r\nSep 16 04:58:11 ThinkCentre-M90n-1 geth[854]: INFO [09-16|04:58:11.597] Chain head was updated                   number=15,545,143 hash=acb097..07c71b root=ff60ce..dd75a5 elapsed=\"64.575µs\"\r\nSep 16 04:58:11 ThinkCentre-M90n-1 geth[854]: INFO [09-16|04:58:11.602] Unindexed transactions                   blocks=1   txs=533   tail=13,195,144 elapsed=4.957ms\r\nSep 16 04:58:24 ThinkCentre-M90n-1 geth[854]: INFO [09-16|04:58:24.763] Imported new potential chain segment     blocks=1   txs=186   mgas=14.756  elapsed=400.538ms   mgasps=36.840   number=15,545,144 hash=2b5542..6946ef dirty=127.90MiB\r\nSep 16 04:58:24 ThinkCentre-M90n-1 geth[854]: INFO [09-16|04:58:24.776] Chain head was updated                   number=15,545,144 hash=2b5542..6946ef root=86037d..305257 elapsed=5.114828ms\r\nSep 16 04:58:24 ThinkCentre-M90n-1 geth[854]: INFO [09-16|04:58:24.779] Unindexed transactions                   blocks=1   txs=283   tail=13,195,145 elapsed=2.707ms\r\nSep 16 04:58:37 ThinkCentre-M90n-1 geth[854]: INFO [09-16|04:58:37.069] Imported new potential chain segment     blocks=1   txs=339   mgas=26.139  elapsed=662.653ms   mgasps=39.447   number=15,545,145 hash=2e6466..8e17f6 dirty=127.90MiB\r\nSep 16 04:58:37 ThinkCentre-M90n-1 geth[854]: INFO [09-16|04:58:37.088] Chain head was updated                   number=15,545,145 hash=2e6466..8e17f6 root=375d9e..c8d80e elapsed=7.926051ms\r\nSep 16 04:58:37 ThinkCentre-M90n-1 geth[854]: INFO [09-16|04:58:37.090] Unindexed transactions                   blocks=1   txs=99    tail=13,195,146 elapsed=1.182ms\r\nSep 16 04:58:47 ThinkCentre-M90n-1 geth[854]: INFO [09-16|04:58:47.841] Imported new potential chain segment     blocks=1   txs=102   mgas=4.225   elapsed=277.096ms   mgasps=15.246   number=15,545,146 hash=09b849..1ffe06 dirty=127.90MiB\r\nSep 16 04:58:47 ThinkCentre-M90n-1 geth[854]: INFO [09-16|04:58:47.850] Chain head was updated                   number=15,545,146 hash=09b849..1ffe06 root=f86843..1551b0 elapsed=1.274994ms\r\nSep 16 04:58:47 ThinkCentre-M90n-1 geth[854]: INFO [09-16|04:58:47.854] Unindexed transactions                   blocks=1   txs=372   tail=13,195,147 elapsed=4.048ms\r\nSep 16 04:58:59 ThinkCentre-M90n-1 geth[854]: INFO [09-16|04:58:59.924] Imported new potential chain segment     blocks=1   txs=117   mgas=9.923   elapsed=209.945ms   mgasps=47.265   number=15,545,147 hash=a3e8f8..87c114 dirty=127.90MiB\r\nSep 16 04:58:59 ThinkCentre-M90n-1 geth[854]: INFO [09-16|04:58:59.938] Chain head was updated                   number=15,545,147 hash=a3e8f8..87c114 root=571956..fa3af9 elapsed=2.398555ms\r\nSep 16 04:58:59 ThinkCentre-M90n-1 geth[854]: INFO [09-16|04:58:59.939] Unindexed transactions                   blocks=1   txs=34    tail=13,195,148 elapsed=\"712.936µs\"\r\nSep 16 04:59:12 ThinkCentre-M90n-1 geth[854]: INFO [09-16|04:59:12.165] Imported new potential chain segment     blocks=1   txs=161   mgas=10.377  elapsed=325.944ms   mgasps=31.837   number=15,545,148 hash=154b35..9b2275 dirty=127.90MiB\r\nSep 16 04:59:12 ThinkCentre-M90n-1 geth[854]: INFO [09-16|04:59:12.179] Chain head was updated                   number=15,545,148 hash=154b35..9b2275 root=cb0095..e91809 elapsed=4.736858ms\r\nSep 16 04:59:12 ThinkCentre-M90n-1 geth[854]: INFO [09-16|04:59:12.188] Unindexed transactions                   blocks=1   txs=810   tail=13,195,149 elapsed=8.800ms\r\nSep 16 04:59:24 ThinkCentre-M90n-1 geth[854]: INFO [09-16|04:59:24.518] Imported new potential chain segment     blocks=1   txs=229   mgas=19.737  elapsed=429.183ms   mgasps=45.987   number=15,545,149 hash=c97cc8..f26831 dirty=127.90MiB\r\nSep 16 04:59:24 ThinkCentre-M90n-1 geth[854]: INFO [09-16|04:59:24.537] Chain head was updated                   number=15,545,149 hash=c97cc8..f26831 root=6546e5..eee970 elapsed=7.376738ms\r\nSep 16 04:59:24 ThinkCentre-M90n-1 geth[854]: INFO [09-16|04:59:24.539] Unindexed transactions                   blocks=1   txs=164   tail=13,195,150 elapsed=2.295ms\r\nSep 16 04:59:36 ThinkCentre-M90n-1 geth[854]: INFO [09-16|04:59:36.887] Imported new potential chain segment     blocks=1   txs=298   mgas=27.189  elapsed=501.328ms   mgasps=54.234   number=15,545,150 hash=1a3da4..06e950 dirty=127.90MiB\r\nSep 16 04:59:36 ThinkCentre-M90n-1 geth[854]: INFO [09-16|04:59:36.910] Chain head was updated                   number=15,545,150 hash=1a3da4..06e950 root=352ae4..3e5610 elapsed=11.482161ms\r\nSep 16 04:59:36 ThinkCentre-M90n-1 geth[854]: INFO [09-16|04:59:36.911] Unindexed transactions                   blocks=1   txs=142   tail=13,195,151 elapsed=1.496ms\r\nSep 16 04:59:48 ThinkCentre-M90n-1 geth[854]: INFO [09-16|04:59:48.155] Imported new potential chain segment     blocks=1   txs=215   mgas=16.780  elapsed=376.345ms   mgasps=44.585   number=15,545,151 hash=396c61..bd0d42 dirty=127.90MiB\r\nSep 16 04:59:48 ThinkCentre-M90n-1 geth[854]: INFO [09-16|04:59:48.169] Chain head was updated                   number=15,545,151 hash=396c61..bd0d42 root=6a9f3c..486789 elapsed=4.63877ms\r\nSep 16 04:59:48 ThinkCentre-M90n-1 geth[854]: INFO [09-16|04:59:48.172] Unindexed transactions                   blocks=1   txs=169   tail=13,195,152 elapsed=2.270ms\r\nSep 16 04:59:59 ThinkCentre-M90n-1 geth[854]: INFO [09-16|04:59:59.354] Imported new potential chain segment     blocks=1   txs=0     mgas=0.000   elapsed=\"316.907µs\" mgasps=0.000    number=15,545,152 hash=e22521..cb2da9 dirty=127.90MiB\r\nSep 16 04:59:59 ThinkCentre-M90n-1 geth[854]: INFO [09-16|04:59:59.467] Chain head was updated                   number=15,545,152 hash=e22521..cb2da9 root=6a9f3c..486789 elapsed=\"62.024µs\"\r\nSep 16 04:59:59 ThinkCentre-M90n-1 geth[854]: INFO [09-16|04:59:59.467] Unindexed transactions                   blocks=1   txs=111   tail=13,195,153 elapsed=\"855.653µs\"\r\nSep 16 05:00:13 ThinkCentre-M90n-1 geth[854]: INFO [09-16|05:00:13.169] Imported new potential chain segment     blocks=1   txs=348   mgas=30.000  elapsed=653.985ms   mgasps=45.872   number=15,545,153 hash=ce2853..22d46e dirty=127.90MiB\r\nSep 16 05:00:13 ThinkCentre-M90n-1 geth[854]: INFO [09-16|05:00:13.188] Chain head was updated                   number=15,545,153 hash=ce2853..22d46e root=736760..bdbc38 elapsed=7.588255ms\r\nSep 16 05:00:13 ThinkCentre-M90n-1 geth[854]: INFO [09-16|05:00:13.190] Unindexed transactions                   blocks=1   txs=146   tail=13,195,154 elapsed=1.741ms\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1249266676/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1249340589",
    "html_url": "https://github.com/hyperledger/besu/issues/4401#issuecomment-1249340589",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/4401",
    "id": 1249340589,
    "node_id": "IC_kwDODE2jmc5Kd2yt",
    "user": {
      "login": "fab-10",
      "id": 91944855,
      "node_id": "U_kgDOBXr3lw",
      "avatar_url": "https://avatars.githubusercontent.com/u/91944855?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fab-10",
      "html_url": "https://github.com/fab-10",
      "followers_url": "https://api.github.com/users/fab-10/followers",
      "following_url": "https://api.github.com/users/fab-10/following{/other_user}",
      "gists_url": "https://api.github.com/users/fab-10/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fab-10/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fab-10/subscriptions",
      "organizations_url": "https://api.github.com/users/fab-10/orgs",
      "repos_url": "https://api.github.com/users/fab-10/repos",
      "events_url": "https://api.github.com/users/fab-10/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fab-10/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-09-16T13:03:23Z",
    "updated_at": "2022-09-16T13:03:23Z",
    "author_association": "CONTRIBUTOR",
    "body": "We have identified a case when there is timeout in RocksDB `org.rocksdb.RocksDBException: TimedOut(LockTimeout)`, that interrupts the block creation.\r\nThis lock timeout is triggered when another task is concurrently accessing the same data, and it takes more than a second to complete.\r\nSince the this error is transient, it make sense to retry the block creating if there is still time, since the other task may have completed in the meantime.\r\n\r\nI am working on a PR for this retry mechanism\r\n\r\n```\r\n2022-09-16T07:51:42+01:00\t\t... 9 more\r\n2022-09-16T07:51:42+01:00\t\tat org.hyperledger.besu.ethereum.blockcreation.AbstractBlockCreator.createBlock(AbstractBlockCreator.java:193)\r\n2022-09-16T07:51:42+01:00\t\tat org.hyperledger.besu.ethereum.bonsai.BonsaiInMemoryWorldState.rootHash(BonsaiInMemoryWorldState.java:37)\r\n2022-09-16T07:51:42+01:00\t\tat org.hyperledger.besu.ethereum.bonsai.BonsaiInMemoryWorldState.rootHash(BonsaiInMemoryWorldState.java:43)\r\n2022-09-16T07:51:42+01:00\t\tat org.hyperledger.besu.ethereum.bonsai.BonsaiPersistedWorldState.calculateRootHash(BonsaiPersistedWorldState.java:224)\r\n2022-09-16T07:51:42+01:00\t\tat org.hyperledger.besu.ethereum.trie.StoredMerklePatriciaTrie.put(StoredMerklePatriciaTrie.java:142)\r\n2022-09-16T07:51:42+01:00\t\tat org.hyperledger.besu.ethereum.trie.StoredNode.accept(StoredNode.java:63)\r\n2022-09-16T07:51:42+01:00\t\tat org.hyperledger.besu.ethereum.trie.StoredNode.load(StoredNode.java:131)\r\n2022-09-16T07:51:42+01:00\t\tat java.base/java.util.Optional.orElseThrow(Optional.java:408)\r\n2022-09-16T07:51:42+01:00\t\tat org.hyperledger.besu.ethereum.trie.StoredNode.lambda$load$0(StoredNode.java:133)\r\n2022-09-16T07:51:42+01:00\tCaused by: org.hyperledger.besu.ethereum.trie.MerkleTrieException: Unable to load trie node value for hash 0x285085468a377839e01b244d1532878d5979d5e11030b3d90f58ceef5f93bba4 location 0x\r\n2022-09-16T07:51:42+01:00\t\t... 6 more\r\n2022-09-16T07:51:42+01:00\t\tat java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1700)\r\n2022-09-16T07:51:42+01:00\t\tat org.hyperledger.besu.consensus.merge.blockcreation.MergeCoordinator.lambda$preparePayload$3(MergeCoordinator.java:192)\r\n2022-09-16T07:51:42+01:00\t\tat org.hyperledger.besu.consensus.merge.blockcreation.MergeBlockCreator.createBlock(MergeBlockCreator.java:67)\r\n2022-09-16T07:51:42+01:00\t\tat org.hyperledger.besu.ethereum.blockcreation.AbstractBlockCreator.createBlock(AbstractBlockCreator.java:211)\r\n2022-09-16T07:51:42+01:00\tCaused by: java.lang.IllegalStateException: Block creation failed unexpectedly. Will restart on next block added to chain.\r\n2022-09-16T07:51:42+01:00\t\tat java.base/java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:183)\r\n2022-09-16T07:51:42+01:00\t\tat java.base/java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1594)\r\n2022-09-16T07:51:42+01:00\t\tat java.base/java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1656)\r\n2022-09-16T07:51:42+01:00\t\tat java.base/java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1020)\r\n2022-09-16T07:51:42+01:00\t\tat java.base/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:290)\r\n2022-09-16T07:51:42+01:00\t\tat java.base/java.util.concurrent.CompletableFuture$AsyncSupply.exec(CompletableFuture.java:1692)\r\n2022-09-16T07:51:42+01:00\t\tat java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1702)\r\n2022-09-16T07:51:42+01:00\t\tat java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:319)\r\n2022-09-16T07:51:42+01:00\t\tat java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:314)\r\n2022-09-16T07:51:42+01:00\tjava.util.concurrent.CompletionException: java.lang.IllegalStateException: Block creation failed unexpectedly. Will restart on next block added to chain.\r\n2022-09-16T07:51:42+01:00\t2022-09-16 06:51:42.748+00:00 | ForkJoinPool.commonPool-worker-11 | WARN  | MergeCoordinator | something went wrong creating block\r\n2022-09-16T07:51:42+01:00\t\t... 17 more\r\n2022-09-16T07:51:42+01:00\t\tat org.hyperledger.besu.plugin.services.storage.rocksdb.segmented.RocksDBColumnarKeyValueStorage$RocksDbTransaction.put(RocksDBColumnarKeyValueStorage.java:260)\r\n2022-09-16T07:51:42+01:00\t\tat org.rocksdb.Transaction.put(Transaction.java:705)\r\n2022-09-16T07:51:42+01:00\t\tat org.rocksdb.Transaction.put(Native Method)\r\n2022-09-16T07:51:42+01:00\tCaused by: org.rocksdb.RocksDBException: TimedOut(LockTimeout)\r\n2022-09-16T07:51:42+01:00\t\t... 9 more\r\n2022-09-16T07:51:42+01:00\t\tat org.hyperledger.besu.ethereum.blockcreation.AbstractBlockCreator.createBlock(AbstractBlockCreator.java:193)\r\n2022-09-16T07:51:42+01:00\t\tat org.hyperledger.besu.ethereum.bonsai.BonsaiInMemoryWorldState.rootHash(BonsaiInMemoryWorldState.java:37)\r\n2022-09-16T07:51:42+01:00\t\tat org.hyperledger.besu.ethereum.bonsai.BonsaiInMemoryWorldState.rootHash(BonsaiInMemoryWorldState.java:43)\r\n2022-09-16T07:51:42+01:00\t\tat org.hyperledger.besu.ethereum.bonsai.BonsaiPersistedWorldState.calculateRootHash(BonsaiPersistedWorldState.java:171)\r\n2022-09-16T07:51:42+01:00\t\tat org.hyperledger.besu.ethereum.bonsai.BonsaiWorldStateKeyValueStorage$Updater.putStorageValueBySlotHash(BonsaiWorldStateKeyValueStorage.java:362)\r\n2022-09-16T07:51:42+01:00\t\tat org.hyperledger.besu.services.kvstore.SegmentedKeyValueStorageAdapter$1.put(SegmentedKeyValueStorageAdapter.java:80)\r\n2022-09-16T07:51:42+01:00\t\tat org.hyperledger.besu.services.kvstore.SegmentedKeyValueStorageTransactionTransitionValidatorDecorator.put(SegmentedKeyValueStorageTransactionTransitionValidatorDecorator.java:36)\r\n2022-09-16T07:51:42+01:00\t\tat org.hyperledger.besu.plugin.services.storage.rocksdb.segmented.RocksDBColumnarKeyValueStorage$RocksDbTransaction.put(RocksDBColumnarKeyValueStorage.java:247)\r\n2022-09-16T07:51:42+01:00\t\tat org.hyperledger.besu.plugin.services.storage.rocksdb.segmented.RocksDBColumnarKeyValueStorage$RocksDbTransaction.put(RocksDBColumnarKeyValueStorage.java:266)\r\n2022-09-16T07:51:42+01:00\tCaused by: org.hyperledger.besu.plugin.services.exception.StorageException: org.rocksdb.RocksDBException: TimedOut(LockTimeout)\r\n2022-09-16T07:51:42+01:00\t\t... 6 more\r\n2022-09-16T07:51:42+01:00\t\tat java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1700)\r\n2022-09-16T07:51:42+01:00\t\tat org.hyperledger.besu.consensus.merge.blockcreation.MergeCoordinator.lambda$preparePayload$3(MergeCoordinator.java:192)\r\n2022-09-16T07:51:42+01:00\t\tat org.hyperledger.besu.consensus.merge.blockcreation.MergeBlockCreator.createBlock(MergeBlockCreator.java:67)\r\n2022-09-16T07:51:42+01:00\t\tat org.hyperledger.besu.ethereum.blockcreation.AbstractBlockCreator.createBlock(AbstractBlockCreator.java:211)\r\n2022-09-16T07:51:42+01:00\tCaused by: java.lang.IllegalStateException: Block creation failed unexpectedly. Will restart on next block added to chain.\r\n2022-09-16T07:51:42+01:00\t\tat java.base/java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:183)\r\n2022-09-16T07:51:42+01:00\t\tat java.base/java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1594)\r\n2022-09-16T07:51:42+01:00\t\tat java.base/java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1656)\r\n2022-09-16T07:51:42+01:00\t\tat java.base/java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1020)\r\n2022-09-16T07:51:42+01:00\t\tat java.base/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:290)\r\n2022-09-16T07:51:42+01:00\t\tat java.base/java.util.concurrent.CompletableFuture$AsyncSupply.exec(CompletableFuture.java:1692)\r\n2022-09-16T07:51:42+01:00\t\tat java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1702)\r\n2022-09-16T07:51:42+01:00\t\tat java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:319)\r\n2022-09-16T07:51:42+01:00\t\tat java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:314)\r\n2022-09-16T07:51:42+01:00\tjava.util.concurrent.CompletionException: java.lang.IllegalStateException: Block creation failed unexpectedly. Will restart on next block added to chain.\r\n2022-09-16T07:51:42+01:00\t2022-09-16 06:51:42.376+00:00 | ForkJoinPool.commonPool-worker-5 | WARN  | MergeCoordinator | something went wrong creating block\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1249340589/reactions",
      "total_count": 2,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 1
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1249407371",
    "html_url": "https://github.com/hyperledger/besu/issues/4401#issuecomment-1249407371",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/4401",
    "id": 1249407371,
    "node_id": "IC_kwDODE2jmc5KeHGL",
    "user": {
      "login": "matkt",
      "id": 26581503,
      "node_id": "MDQ6VXNlcjI2NTgxNTAz",
      "avatar_url": "https://avatars.githubusercontent.com/u/26581503?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/matkt",
      "html_url": "https://github.com/matkt",
      "followers_url": "https://api.github.com/users/matkt/followers",
      "following_url": "https://api.github.com/users/matkt/following{/other_user}",
      "gists_url": "https://api.github.com/users/matkt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/matkt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/matkt/subscriptions",
      "organizations_url": "https://api.github.com/users/matkt/orgs",
      "repos_url": "https://api.github.com/users/matkt/repos",
      "events_url": "https://api.github.com/users/matkt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/matkt/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-09-16T14:05:19Z",
    "updated_at": "2022-09-16T14:05:19Z",
    "author_association": "CONTRIBUTOR",
    "body": "@EvilJordan had a crash of its Besu node and it stopped. I also found a potential problem with the transaction pool but I need to investigate further. I don't believe @EvilJordan  had exceptions when it had empty blocks. that's why for my part I look at the pool level",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1249407371/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1249482952",
    "html_url": "https://github.com/hyperledger/besu/issues/4401#issuecomment-1249482952",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/4401",
    "id": 1249482952,
    "node_id": "IC_kwDODE2jmc5KeZjI",
    "user": {
      "login": "matkt",
      "id": 26581503,
      "node_id": "MDQ6VXNlcjI2NTgxNTAz",
      "avatar_url": "https://avatars.githubusercontent.com/u/26581503?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/matkt",
      "html_url": "https://github.com/matkt",
      "followers_url": "https://api.github.com/users/matkt/followers",
      "following_url": "https://api.github.com/users/matkt/following{/other_user}",
      "gists_url": "https://api.github.com/users/matkt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/matkt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/matkt/subscriptions",
      "organizations_url": "https://api.github.com/users/matkt/orgs",
      "repos_url": "https://api.github.com/users/matkt/repos",
      "events_url": "https://api.github.com/users/matkt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/matkt/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-09-16T15:07:11Z",
    "updated_at": "2022-09-16T15:07:11Z",
    "author_association": "CONTRIBUTOR",
    "body": "it is a user who uses MEV. So for this user it doesn't seem related to Besu. he just did an MEV update and we'll see if that's better",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1249482952/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1250011335",
    "html_url": "https://github.com/hyperledger/besu/issues/4401#issuecomment-1250011335",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/4401",
    "id": 1250011335,
    "node_id": "IC_kwDODE2jmc5KgajH",
    "user": {
      "login": "0xcd2c6",
      "id": 113677967,
      "node_id": "U_kgDOBsaWjw",
      "avatar_url": "https://avatars.githubusercontent.com/u/113677967?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/0xcd2c6",
      "html_url": "https://github.com/0xcd2c6",
      "followers_url": "https://api.github.com/users/0xcd2c6/followers",
      "following_url": "https://api.github.com/users/0xcd2c6/following{/other_user}",
      "gists_url": "https://api.github.com/users/0xcd2c6/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/0xcd2c6/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/0xcd2c6/subscriptions",
      "organizations_url": "https://api.github.com/users/0xcd2c6/orgs",
      "repos_url": "https://api.github.com/users/0xcd2c6/repos",
      "events_url": "https://api.github.com/users/0xcd2c6/events{/privacy}",
      "received_events_url": "https://api.github.com/users/0xcd2c6/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-09-17T06:24:08Z",
    "updated_at": "2022-09-17T09:41:53Z",
    "author_association": "NONE",
    "body": "I've since had two more proposals, the first with zero transactions, the second with 341 transactions. I haven't changed or updated anything since the merge. The errors and missed attestations remain.\r\n\r\nEdit: and just now another proposal containing 1 transaction.",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1250011335/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1251415631",
    "html_url": "https://github.com/hyperledger/besu/issues/4401#issuecomment-1251415631",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/4401",
    "id": 1251415631,
    "node_id": "IC_kwDODE2jmc5KlxZP",
    "user": {
      "login": "vanjan",
      "id": 130294,
      "node_id": "MDQ6VXNlcjEzMDI5NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/130294?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vanjan",
      "html_url": "https://github.com/vanjan",
      "followers_url": "https://api.github.com/users/vanjan/followers",
      "following_url": "https://api.github.com/users/vanjan/following{/other_user}",
      "gists_url": "https://api.github.com/users/vanjan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vanjan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vanjan/subscriptions",
      "organizations_url": "https://api.github.com/users/vanjan/orgs",
      "repos_url": "https://api.github.com/users/vanjan/repos",
      "events_url": "https://api.github.com/users/vanjan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vanjan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-09-19T18:52:12Z",
    "updated_at": "2022-09-19T18:55:43Z",
    "author_association": "NONE",
    "body": "I'm using besu/teku via rocket pool and I've had 3 empty proposals out of 5 since the merge (0 0 1 0 1)\r\nI thought it might have been b/c of mev-boost but it still happens after turning it off.\r\n```\r\n2022-09-17 17:30:16.104+00:00 | vert.x-worker-thread-0 | INFO  | EngineNewPayload | Imported #15,554,798 / 442 tx / base fee 3.99 gwei / 29,992,840 (100.0%) gas / (0xdf15b8a516e51ae6d9c9f2759d0d87146eacaf5e03d8e502b6d7f2f4c1a7b250) in 4.285s. Peers: 31\r\n2022-09-17 17:30:16.946+00:00 | vert.x-worker-thread-0 | INFO  | EngineForkchoiceUpdated | VALID for fork-choice-update: head: 0xdf15b8a516e51ae6d9c9f2759d0d87146eacaf5e03d8e502b6d7f2f4c1a7b250, finalized: 0x5658e81f6627771c986b3e1dc82dbee41dfbfa9db229734f0e538505c58f13dc, safeBlockHash: 0xbcecc0c803d8a733c582345c069aeb7b743b9a412188f9329d486ba8c71e56eb\r\n2022-09-17 17:30:23.795+00:00 | vert.x-worker-thread-0 | INFO  | EngineNewPayload | Imported #15,554,799 / 23 tx / base fee 4.49 gwei / 1,755,361 (5.9%) gas / (0x91220814a1d8acb6295de8f944b4e2b4777172f24275c078876f675ca1b81058) in 0.132s. Peers: 31\r\n2022-09-17 17:30:42.252+00:00 | vert.x-worker-thread-0 | INFO  | EngineNewPayload | Imported #15,554,800 / 1018 tx / base fee 3.99 gwei / 29,986,090 (100.0%) gas / (0x3dd87f76b6f7f16c7e6ead64eb095e21a35c654f11bafb6b84911624abd9b71f) in 6.341s. Peers: 31\r\n2022-09-17 17:30:45.532+00:00 | ForkJoinPool.commonPool-worker-15 | WARN  | MergeCoordinator | something went wrong creating block\r\njava.util.concurrent.CompletionException: java.lang.IllegalStateException: Block creation failed unexpectedly. Will restart on next block added to chain.\r\n\tat java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315)\r\n\tat java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320)\r\n\tat java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770)\r\n\tat java.base/java.util.concurrent.CompletableFuture$AsyncSupply.exec(CompletableFuture.java:1760)\r\n\tat java.base/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:373)\r\n\tat java.base/java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1182)\r\n\tat java.base/java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1655)\r\n\tat java.base/java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1622)\r\n\tat java.base/java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:165)\r\nCaused by: java.lang.IllegalStateException: Block creation failed unexpectedly. Will restart on next block added to chain.\r\n\tat org.hyperledger.besu.ethereum.blockcreation.AbstractBlockCreator.createBlock(AbstractBlockCreator.java:211)\r\n\tat org.hyperledger.besu.consensus.merge.blockcreation.MergeBlockCreator.createBlock(MergeBlockCreator.java:67)\r\n\tat org.hyperledger.besu.consensus.merge.blockcreation.MergeCoordinator.lambda$preparePayload$3(MergeCoordinator.java:192)\r\n\tat java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)\r\n\t... 6 more\r\nCaused by: org.hyperledger.besu.plugin.services.exception.StorageException: org.rocksdb.RocksDBException: TimedOut(LockTimeout)\r\n\tat org.hyperledger.besu.plugin.services.storage.rocksdb.segmented.RocksDBColumnarKeyValueStorage$RocksDbTransaction.put(RocksDBColumnarKeyValueStorage.java:266)\r\n\tat org.hyperledger.besu.plugin.services.storage.rocksdb.segmented.RocksDBColumnarKeyValueStorage$RocksDbTransaction.put(RocksDBColumnarKeyValueStorage.java:247)\r\n\tat org.hyperledger.besu.services.kvstore.SegmentedKeyValueStorageTransactionTransitionValidatorDecorator.put(SegmentedKeyValueStorageTransactionTransitionValidatorDecorator.java:36)\r\n\tat org.hyperledger.besu.services.kvstore.SegmentedKeyValueStorageAdapter$1.put(SegmentedKeyValueStorageAdapter.java:80)\r\n\tat org.hyperledger.besu.ethereum.bonsai.BonsaiWorldStateKeyValueStorage$Updater.putStorageValueBySlotHash(BonsaiWorldStateKeyValueStorage.java:362)\r\n\tat org.hyperledger.besu.ethereum.bonsai.BonsaiPersistedWorldState.calculateRootHash(BonsaiPersistedWorldState.java:171)\r\n\tat org.hyperledger.besu.ethereum.bonsai.BonsaiInMemoryWorldState.rootHash(BonsaiInMemoryWorldState.java:43)\r\n\tat org.hyperledger.besu.ethereum.bonsai.BonsaiInMemoryWorldState.rootHash(BonsaiInMemoryWorldState.java:37)\r\n\tat org.hyperledger.besu.ethereum.blockcreation.AbstractBlockCreator.createBlock(AbstractBlockCreator.java:193)\r\n\t... 9 more\r\nCaused by: org.rocksdb.RocksDBException: TimedOut(LockTimeout)\r\n\tat org.rocksdb.Transaction.put(Native Method)\r\n\tat org.rocksdb.Transaction.put(Transaction.java:705)\r\n\tat org.hyperledger.besu.plugin.services.storage.rocksdb.segmented.RocksDBColumnarKeyValueStorage$RocksDbTransaction.put(RocksDBColumnarKeyValueStorage.java:260)\r\n\t... 17 more\r\n2022-09-17 17:30:47.136+00:00 | vert.x-worker-thread-0 | INFO  | EngineGetPayload | Fetch block proposal by identifier: 0x0000000032d214a7, hash: 0x56e19650ed30f0b3fca282b41a2ffd33bb7fec2626dabdf754dc16252f92be22, number: 15554801, coinbase: 0xf68e2b1fab9469ff2177912ad330c019d62e374e, transaction count: 0\r\n2022-09-17 17:30:47.498+00:00 | vert.x-worker-thread-0 | INFO  | EngineNewPayload | Imported #15,554,801 / 0 tx / base fee 4.49 gwei / 0 (0.0%) gas / (0x56e19650ed30f0b3fca282b41a2ffd33bb7fec2626dabdf754dc16252f92be22) in 0.001s. Peers: 31\r\n2022-09-17 17:31:03.968+00:00 | vert.x-worker-thread-0 | INFO  | EngineNewPayload | Imported #15,554,802 / 492 tx / base fee 3.93 gwei / 29,984,255 (99.9%) gas / (0xda0e13d1b5089a58d8a40effbe3445f97a5da73b04940bf831be51f8204a6c3d) in 4.415s. Peers: 31\r\n2022-09-17 17:31:13.282+00:00 | vert.x-worker-thread-0 | INFO  | EngineNewPayload | Imported #15,554,803 / 172 tx / base fee 4.42 gwei / 15,546,775 (51.8%) gas / (0x759c905f46f35565cd76d79f9795b805ea1770c002b21f9ae8f56a52fa9a1102) in 1.740s. Peers: 31\r\n2022-09-17 17:31:24.875+00:00 | vert.x-worker-thread-0 | INFO  | EngineNewPayload | Imported #15,554,804 / 88 tx / base fee 4.44 gwei / 8,288,320 (27.6%) gas / (0x6352584a0fda81830f8daa3d452db4b1068f8e557075727cdb1a6ce2bcc0e436) in 0.895s. Peers: 31\r\n2022-09-17 17:31:25.013+00:00 | vert.x-worker-thread-0 | INFO  | EngineForkchoiceUpdated | VALID for fork-choice-update: head: 0x6352584a0fda81830f8daa3d452db4b1068f8e557075727cdb1a6ce2bcc0e436, finalized: 0x5658e81f6627771c986b3e1dc82dbee41dfbfa9db229734f0e538505c58f13dc, safeBlockHash: 0xbcecc0c803d8a733c582345c069aeb7b743b9a412188f9329d486ba8c71e56eb\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1251415631/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1251474403",
    "html_url": "https://github.com/hyperledger/besu/issues/4401#issuecomment-1251474403",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/4401",
    "id": 1251474403,
    "node_id": "IC_kwDODE2jmc5Kl_vj",
    "user": {
      "login": "non-fungible-nelson",
      "id": 85905982,
      "node_id": "MDQ6VXNlcjg1OTA1OTgy",
      "avatar_url": "https://avatars.githubusercontent.com/u/85905982?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/non-fungible-nelson",
      "html_url": "https://github.com/non-fungible-nelson",
      "followers_url": "https://api.github.com/users/non-fungible-nelson/followers",
      "following_url": "https://api.github.com/users/non-fungible-nelson/following{/other_user}",
      "gists_url": "https://api.github.com/users/non-fungible-nelson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/non-fungible-nelson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/non-fungible-nelson/subscriptions",
      "organizations_url": "https://api.github.com/users/non-fungible-nelson/orgs",
      "repos_url": "https://api.github.com/users/non-fungible-nelson/repos",
      "events_url": "https://api.github.com/users/non-fungible-nelson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/non-fungible-nelson/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-09-19T19:48:52Z",
    "updated_at": "2022-09-19T19:48:52Z",
    "author_association": "CONTRIBUTOR",
    "body": "This above error is slightly different and should be fixed by #4407 - still investigating empty blocks.",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1251474403/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
