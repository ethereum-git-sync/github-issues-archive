{
  "url": "https://api.github.com/repos/hyperledger/besu/issues/493",
  "repository_url": "https://api.github.com/repos/hyperledger/besu",
  "labels_url": "https://api.github.com/repos/hyperledger/besu/issues/493/labels{/name}",
  "comments_url": "https://api.github.com/repos/hyperledger/besu/issues/493/comments",
  "events_url": "https://api.github.com/repos/hyperledger/besu/issues/493/events",
  "html_url": "https://github.com/hyperledger/besu/issues/493",
  "id": 582595400,
  "node_id": "MDU6SXNzdWU1ODI1OTU0MDA=",
  "number": 493,
  "title": "Evaluate Blockchain Fork Tracking",
  "user": {
    "login": "timbeiko",
    "id": 9390255,
    "node_id": "MDQ6VXNlcjkzOTAyNTU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/9390255?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/timbeiko",
    "html_url": "https://github.com/timbeiko",
    "followers_url": "https://api.github.com/users/timbeiko/followers",
    "following_url": "https://api.github.com/users/timbeiko/following{/other_user}",
    "gists_url": "https://api.github.com/users/timbeiko/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/timbeiko/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/timbeiko/subscriptions",
    "organizations_url": "https://api.github.com/users/timbeiko/orgs",
    "repos_url": "https://api.github.com/users/timbeiko/repos",
    "events_url": "https://api.github.com/users/timbeiko/events{/privacy}",
    "received_events_url": "https://api.github.com/users/timbeiko/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 1537362498,
      "node_id": "MDU6TGFiZWwxNTM3MzYyNDk4",
      "url": "https://api.github.com/repos/hyperledger/besu/labels/help%20wanted",
      "name": "help wanted",
      "color": "008672",
      "default": true,
      "description": "Extra attention is needed"
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 1,
  "created_at": "2020-03-16T20:58:50Z",
  "updated_at": "2021-03-26T20:37:45Z",
  "closed_at": "2021-03-26T20:37:45Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "We currently track fork chainheads as a list of hashes in our key-value store: [https://github.com/hyperledger/besu/blob/4a3b693bb18fab6ad47b23099fc54a7244630ab4/ethereum/core/src/main/java/org/hyperledger/besu/ethereum/storage/keyvalue/KeyValueStoragePrefixedKeyBlockchainStorage.java#L69-L73]\r\n\r\nThis collection was originally added so that we might go back and clean up old fork data, but we're not currently doing anything with it. Storing all of the fork heads in one collection is not very scalable for long-running nodes with a lot of chainhead contention.\r\n\r\nWe should determine whether or not we need to track fork heads:\r\n* If so:\r\n  * We should evaluate whether we need a more scalable tracking solution, or at least start evicting this data so we can limit the size of the collection\r\n\r\n* If not:\r\n  * We should safely remove this tracking\r\n\r\n**Note**: This fork tracking may also be useful for selecting ommers to be included in mined blocks. I don't think Besu currently includes ommers during mining.",
  "closed_by": {
    "login": "timbeiko",
    "id": 9390255,
    "node_id": "MDQ6VXNlcjkzOTAyNTU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/9390255?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/timbeiko",
    "html_url": "https://github.com/timbeiko",
    "followers_url": "https://api.github.com/users/timbeiko/followers",
    "following_url": "https://api.github.com/users/timbeiko/following{/other_user}",
    "gists_url": "https://api.github.com/users/timbeiko/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/timbeiko/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/timbeiko/subscriptions",
    "organizations_url": "https://api.github.com/users/timbeiko/orgs",
    "repos_url": "https://api.github.com/users/timbeiko/repos",
    "events_url": "https://api.github.com/users/timbeiko/events{/privacy}",
    "received_events_url": "https://api.github.com/users/timbeiko/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/493/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/hyperledger/besu/issues/493/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/808495483",
    "html_url": "https://github.com/hyperledger/besu/issues/493#issuecomment-808495483",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/493",
    "id": 808495483,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgwODQ5NTQ4Mw==",
    "user": {
      "login": "timbeiko",
      "id": 9390255,
      "node_id": "MDQ6VXNlcjkzOTAyNTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9390255?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/timbeiko",
      "html_url": "https://github.com/timbeiko",
      "followers_url": "https://api.github.com/users/timbeiko/followers",
      "following_url": "https://api.github.com/users/timbeiko/following{/other_user}",
      "gists_url": "https://api.github.com/users/timbeiko/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/timbeiko/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/timbeiko/subscriptions",
      "organizations_url": "https://api.github.com/users/timbeiko/orgs",
      "repos_url": "https://api.github.com/users/timbeiko/repos",
      "events_url": "https://api.github.com/users/timbeiko/events{/privacy}",
      "received_events_url": "https://api.github.com/users/timbeiko/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-03-26T20:37:45Z",
    "updated_at": "2021-03-26T20:37:45Z",
    "author_association": "CONTRIBUTOR",
    "body": "This has been stale for >1 year. Closing for now. Feel free to copy/paste in a new issue if relevant. cc: @sajz ",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/808495483/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
