{
  "url": "https://api.github.com/repos/hyperledger/besu/issues/3798",
  "repository_url": "https://api.github.com/repos/hyperledger/besu",
  "labels_url": "https://api.github.com/repos/hyperledger/besu/issues/3798/labels{/name}",
  "comments_url": "https://api.github.com/repos/hyperledger/besu/issues/3798/comments",
  "events_url": "https://api.github.com/repos/hyperledger/besu/issues/3798/events",
  "html_url": "https://github.com/hyperledger/besu/issues/3798",
  "id": 1228080623,
  "node_id": "I_kwDODE2jmc5JMwXv",
  "number": 3798,
  "title": "io.netty.channel.unix.Errors$NativeIoException: sendToAddress(..) failed: Network is unreachable",
  "user": {
    "login": "fab-10",
    "id": 91944855,
    "node_id": "U_kgDOBXr3lw",
    "avatar_url": "https://avatars.githubusercontent.com/u/91944855?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/fab-10",
    "html_url": "https://github.com/fab-10",
    "followers_url": "https://api.github.com/users/fab-10/followers",
    "following_url": "https://api.github.com/users/fab-10/following{/other_user}",
    "gists_url": "https://api.github.com/users/fab-10/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/fab-10/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/fab-10/subscriptions",
    "organizations_url": "https://api.github.com/users/fab-10/orgs",
    "repos_url": "https://api.github.com/users/fab-10/repos",
    "events_url": "https://api.github.com/users/fab-10/events{/privacy}",
    "received_events_url": "https://api.github.com/users/fab-10/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 0,
  "created_at": "2022-05-06T16:44:12Z",
  "updated_at": "2022-05-11T06:54:26Z",
  "closed_at": "2022-05-11T06:54:26Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "<!-- Have you done the following? -->\r\n<!--   * read the Code of Conduct? By filing an Issue, you are expected to -->  \r\n<!--     comply with it, including treating everyone with respect: -->\r\n<!--     https://github.com/hyperledger/besu/blob/main/CODE_OF_CONDUCT.md -->\r\n<!--   * Reproduced the issue in the latest version of the software -->\r\n<!--   * Read the debugging docs: https://besu.hyperledger.org/en/stable/HowTo/Monitor/Logging/ -->\r\n<!--   * Duplicate Issue check:  https://github.com/search?q=+is%3Aissue+repo%3Ahyperledger/Besu -->\r\n<!-- Note:  Not all sections will apply to all issue types. -->\r\n\r\n### Description\r\n\r\nA new exception appeared in the logs after the upgrade to version `22.4.0`\r\n\r\nDetails of the exception:\r\n\r\nclass: `PeerDiscoveryAgent`\r\n\r\nmessage:\r\n```\r\nio.netty.channel.unix.Errors$NativeIoException: sendToAddress(..) failed: Network is unreachable`\r\n\r\nSending to peer DiscoveryPeer{status=bonding, enode=enode://1bae6694670f0b56569c552665c3ab4c7ff2ee9e310357143d7ca5b805adae1e0dbe1b6d5db90a3de0a981f83f650fa7afa1beef6922af76688578745f4bf344@[2a01:4f9:4b:3d0a::2]:30308, firstDiscovered=1651828937464, lastContacted=0, lastSeen=0} failed, packet: 0x9050ea1980db086d76bc35f48359ced5ae4d2b409a121db7d5966f34f0dfa2ade32d1780373ac3e242e6f2a7afcb6c5f90d80360cf846088a85c9874f07ec4663ba40de118e6dac162bb3338d884dacca7f7e1fc3e20ea32f7899051a33a6f750001eb05cb8423b42bc082765f82765fd7902a0104f9004b3d0a0000000000000002827664827664846274e91f2d\r\n```\r\n\r\nIt happened 108 in the last day, and all the logged exception seems to have in common an IPv6 address, and the cause could be that in instance running Besu has IPv6 enabled, but no IPv6 address configured, so not able to reach the network, as the exception says, in that case the error could be safely ignored and not logged at WARN level.\r\n\r\n### Steps to Reproduce (Bug)\r\n1. Run Besu 22.4.0 on Linux with IPv6 enabled, but no IPv6 address configured\r\n2. Wait until Besu tries to connect to an IPv6 enode\r\n\r\n**Expected behavior:** [What you expect to happen]\r\nDemote the log from WARN to DEBUG, or just log at WARN once\r\n\r\n**Actual behavior:** [What actually happens]\r\n\r\n**Frequency:** [What percentage of the time does it occur?]\r\n\r\n108 times in a day\r\n\r\n### Versions (Add all that apply)\r\n* Software version: 22.4.0\r\n* Java version: Java11\r\n* OS Name & Version: Amazon Linux2\r\n* Cloud VM, type, size: AWS\r\n",
  "closed_by": {
    "login": "fab-10",
    "id": 91944855,
    "node_id": "U_kgDOBXr3lw",
    "avatar_url": "https://avatars.githubusercontent.com/u/91944855?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/fab-10",
    "html_url": "https://github.com/fab-10",
    "followers_url": "https://api.github.com/users/fab-10/followers",
    "following_url": "https://api.github.com/users/fab-10/following{/other_user}",
    "gists_url": "https://api.github.com/users/fab-10/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/fab-10/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/fab-10/subscriptions",
    "organizations_url": "https://api.github.com/users/fab-10/orgs",
    "repos_url": "https://api.github.com/users/fab-10/repos",
    "events_url": "https://api.github.com/users/fab-10/events{/privacy}",
    "received_events_url": "https://api.github.com/users/fab-10/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/3798/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/hyperledger/besu/issues/3798/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[

]
