{
  "url": "https://api.github.com/repos/hyperledger/besu/issues/2441",
  "repository_url": "https://api.github.com/repos/hyperledger/besu",
  "labels_url": "https://api.github.com/repos/hyperledger/besu/issues/2441/labels{/name}",
  "comments_url": "https://api.github.com/repos/hyperledger/besu/issues/2441/comments",
  "events_url": "https://api.github.com/repos/hyperledger/besu/issues/2441/events",
  "html_url": "https://github.com/hyperledger/besu/issues/2441",
  "id": 921761891,
  "node_id": "MDU6SXNzdWU5MjE3NjE4OTE=",
  "number": 2441,
  "title": "Revisit gasPrice vs effectiveGas",
  "user": {
    "login": "garyschulte",
    "id": 1238512,
    "node_id": "MDQ6VXNlcjEyMzg1MTI=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1238512?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/garyschulte",
    "html_url": "https://github.com/garyschulte",
    "followers_url": "https://api.github.com/users/garyschulte/followers",
    "following_url": "https://api.github.com/users/garyschulte/following{/other_user}",
    "gists_url": "https://api.github.com/users/garyschulte/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/garyschulte/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/garyschulte/subscriptions",
    "organizations_url": "https://api.github.com/users/garyschulte/orgs",
    "repos_url": "https://api.github.com/users/garyschulte/repos",
    "events_url": "https://api.github.com/users/garyschulte/events{/privacy}",
    "received_events_url": "https://api.github.com/users/garyschulte/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 2129007612,
      "node_id": "MDU6TGFiZWwyMTI5MDA3NjEy",
      "url": "https://api.github.com/repos/hyperledger/besu/labels/dev%20experience",
      "name": "dev experience",
      "color": "2a0b89",
      "default": false,
      "description": "The build system, things that enable easier development etc."
    },
    {
      "id": 4328706977,
      "node_id": "LA_kwDODE2jmc8AAAABAgLToQ",
      "url": "https://api.github.com/repos/hyperledger/besu/labels/TeamChupa",
      "name": "TeamChupa",
      "color": "fbca04",
      "default": false,
      "description": "GH issues worked on by Chupacabara Team"
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 3,
  "created_at": "2021-06-15T20:14:46Z",
  "updated_at": "2023-04-18T15:48:38Z",
  "closed_at": "2023-04-18T15:48:38Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "Relates to #2389 #2396\n\nThere are some places in the codebase where we are still logically assuming gasPrice instead of 1559 fee market values.  #2396 made some changes to incorporate effectiveGas, but some are still outstanding:\n\n* PendingTransactionFilter, we probably want to include maxFeePerGas and/or maxPriorityFeePerGas parameters\n* PendingTransactionDetailResult has no 1559 field treatment, and is used in the message payload for pending transaction subscription service.  We likely need to add a nullable gasPrice field, and fields for 1559 fees.\n* eth_gasPrice json-rpc and graphql endpoint(BlockchainQueries:821) - it is unclear what the gas price endpoint should return post-london.  Gas Price?  effective gas price estimate?  IMO this endpoint should be deprecated post-london, but it is still part of the eth1 json-rpc specs\n* PendingTransactions:605 should gasPrice() try to calculate effectiveGas for a pending block, or just return gasPrice which is likely to be empty?  It seems the only usage of getGasPrice() is internal and already handles a fall back to gasPrice if maxFeePerGas isn't present, but since this is a public method perhaps it should return an optional rather than a ZERO if it isn't present.  Or make it private / package private\n* TransactionSmartContractPermissioningController.encodeTransaction - no treatment of 1559 fields here, and is Bytes32.ZERO an appropriate fallback.",
  "closed_by": {
    "login": "non-fungible-nelson",
    "id": 85905982,
    "node_id": "MDQ6VXNlcjg1OTA1OTgy",
    "avatar_url": "https://avatars.githubusercontent.com/u/85905982?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/non-fungible-nelson",
    "html_url": "https://github.com/non-fungible-nelson",
    "followers_url": "https://api.github.com/users/non-fungible-nelson/followers",
    "following_url": "https://api.github.com/users/non-fungible-nelson/following{/other_user}",
    "gists_url": "https://api.github.com/users/non-fungible-nelson/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/non-fungible-nelson/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/non-fungible-nelson/subscriptions",
    "organizations_url": "https://api.github.com/users/non-fungible-nelson/orgs",
    "repos_url": "https://api.github.com/users/non-fungible-nelson/repos",
    "events_url": "https://api.github.com/users/non-fungible-nelson/events{/privacy}",
    "received_events_url": "https://api.github.com/users/non-fungible-nelson/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/2441/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/hyperledger/besu/issues/2441/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/865377836",
    "html_url": "https://github.com/hyperledger/besu/issues/2441#issuecomment-865377836",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/2441",
    "id": 865377836,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg2NTM3NzgzNg==",
    "user": {
      "login": "garyschulte",
      "id": 1238512,
      "node_id": "MDQ6VXNlcjEyMzg1MTI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1238512?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/garyschulte",
      "html_url": "https://github.com/garyschulte",
      "followers_url": "https://api.github.com/users/garyschulte/followers",
      "following_url": "https://api.github.com/users/garyschulte/following{/other_user}",
      "gists_url": "https://api.github.com/users/garyschulte/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/garyschulte/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/garyschulte/subscriptions",
      "organizations_url": "https://api.github.com/users/garyschulte/orgs",
      "repos_url": "https://api.github.com/users/garyschulte/repos",
      "events_url": "https://api.github.com/users/garyschulte/events{/privacy}",
      "received_events_url": "https://api.github.com/users/garyschulte/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-06-21T22:10:22Z",
    "updated_at": "2021-06-21T22:10:22Z",
    "author_association": "CONTRIBUTOR",
    "body": "Lucas provided some context for `TransactionSmartContractPermissioningController.encodeTransaction`\n\n**Lucas Saldanha**  3:01 PM\nWell for goQuorum mode, getPrice must be set to zero anyway\nSo I guess we won’t see london tx in goquorm based networks\nIf I remember correctly, goquorum networks kind sit in an old milestone (don’t remember which one)\nAnd for the TransactionSmartContractPermissioningController, we are encoding a call to this interface: https://github.com/ConsenSys/permissioning-smart-contracts/blob/master/contracts/AccountIngress.sol#L15\n\nFrom a permissioning point of view, I’m not sure of the impact of london tx. My guess is that the EEA spec won’t be updated atm.\nThe simple answer would be to consider it zero\nor we could represent it with a negative value or something \n\n**Gary Schulte**  3:05 PM\nok - we will use zero right now, but I thought perhaps \"effectiveGasPrice\" might be appropriate\nwill look at that contract.  Thanks \n\n**Lucas Saldanha**  3:06 PM\nI need to read more about the london change, I’ll make sure to bring this to the folks in Revenant to think about",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/865377836/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1404831891",
    "html_url": "https://github.com/hyperledger/besu/issues/2441#issuecomment-1404831891",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/2441",
    "id": 1404831891,
    "node_id": "IC_kwDODE2jmc5TvAiT",
    "user": {
      "login": "non-fungible-nelson",
      "id": 85905982,
      "node_id": "MDQ6VXNlcjg1OTA1OTgy",
      "avatar_url": "https://avatars.githubusercontent.com/u/85905982?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/non-fungible-nelson",
      "html_url": "https://github.com/non-fungible-nelson",
      "followers_url": "https://api.github.com/users/non-fungible-nelson/followers",
      "following_url": "https://api.github.com/users/non-fungible-nelson/following{/other_user}",
      "gists_url": "https://api.github.com/users/non-fungible-nelson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/non-fungible-nelson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/non-fungible-nelson/subscriptions",
      "organizations_url": "https://api.github.com/users/non-fungible-nelson/orgs",
      "repos_url": "https://api.github.com/users/non-fungible-nelson/repos",
      "events_url": "https://api.github.com/users/non-fungible-nelson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/non-fungible-nelson/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-01-26T10:47:33Z",
    "updated_at": "2023-01-26T10:47:33Z",
    "author_association": "CONTRIBUTOR",
    "body": "@garyschulte still relevant? I can imagine these would have been exposed in other changes...",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1404831891/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1513397044",
    "html_url": "https://github.com/hyperledger/besu/issues/2441#issuecomment-1513397044",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/2441",
    "id": 1513397044,
    "node_id": "IC_kwDODE2jmc5aNJs0",
    "user": {
      "login": "non-fungible-nelson",
      "id": 85905982,
      "node_id": "MDQ6VXNlcjg1OTA1OTgy",
      "avatar_url": "https://avatars.githubusercontent.com/u/85905982?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/non-fungible-nelson",
      "html_url": "https://github.com/non-fungible-nelson",
      "followers_url": "https://api.github.com/users/non-fungible-nelson/followers",
      "following_url": "https://api.github.com/users/non-fungible-nelson/following{/other_user}",
      "gists_url": "https://api.github.com/users/non-fungible-nelson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/non-fungible-nelson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/non-fungible-nelson/subscriptions",
      "organizations_url": "https://api.github.com/users/non-fungible-nelson/orgs",
      "repos_url": "https://api.github.com/users/non-fungible-nelson/repos",
      "events_url": "https://api.github.com/users/non-fungible-nelson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/non-fungible-nelson/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-04-18T15:48:37Z",
    "updated_at": "2023-04-18T15:48:37Z",
    "author_association": "CONTRIBUTOR",
    "body": "Close as stale ",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1513397044/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
