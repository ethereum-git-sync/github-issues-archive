{
  "url": "https://api.github.com/repos/hyperledger/besu/issues/982",
  "repository_url": "https://api.github.com/repos/hyperledger/besu",
  "labels_url": "https://api.github.com/repos/hyperledger/besu/issues/982/labels{/name}",
  "comments_url": "https://api.github.com/repos/hyperledger/besu/issues/982/comments",
  "events_url": "https://api.github.com/repos/hyperledger/besu/issues/982/events",
  "html_url": "https://github.com/hyperledger/besu/issues/982",
  "id": 625160910,
  "node_id": "MDU6SXNzdWU2MjUxNjA5MTA=",
  "number": 982,
  "title": "Update guidance around --remote-connections-limit-enabled for private & public permissioned networks",
  "user": {
    "login": "benjamincburns",
    "id": 803016,
    "node_id": "MDQ6VXNlcjgwMzAxNg==",
    "avatar_url": "https://avatars.githubusercontent.com/u/803016?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/benjamincburns",
    "html_url": "https://github.com/benjamincburns",
    "followers_url": "https://api.github.com/users/benjamincburns/followers",
    "following_url": "https://api.github.com/users/benjamincburns/following{/other_user}",
    "gists_url": "https://api.github.com/users/benjamincburns/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/benjamincburns/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/benjamincburns/subscriptions",
    "organizations_url": "https://api.github.com/users/benjamincburns/orgs",
    "repos_url": "https://api.github.com/users/benjamincburns/repos",
    "events_url": "https://api.github.com/users/benjamincburns/events{/privacy}",
    "received_events_url": "https://api.github.com/users/benjamincburns/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2020-05-26T20:01:57Z",
  "updated_at": "2022-03-14T03:52:44Z",
  "closed_at": "2020-06-22T00:33:18Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "### Description\r\nPresently in the docs we have some guidance around how to use `--remote-connections-limit-enabled` and `--remote-connections-max-percentage` in the case of public networks. Unfortunately, there isn't any guidance at present for private or public-permissioned networks.\r\n\r\nRecently while running a node on a public permissioned network we observed that we weren't able to maintain a full peer list, in spite of our `max-peers` being set to a number well below the size of the network. On checking the logs, we found a lot of connection thrashing. This appeared to be happening at least in part because we weren't accepting new remotely initiated peer connections.\r\n\r\nI think that most users are likely willing to accept having a peer list that isn't always full in return for resilience to eclipse attacks, but this trade-off isn't immediately apparent, which causes the instability of the peer count to seem like a bug. Furthermore, in our case it might have been a better approach to raise the value of `--remote-connections-max-percentage` from 60 to 80. Higher values still might also be acceptable, provided that we quickly disconnect remotely-initiated peer connections that don't have permission to join the network (I don't know whether we do this or not, but I'd assume that we do).\r\n\r\n### Acceptance Criteria\r\n* Documentation is updated to give guidance for setting the values of `--remote-connections-limit-enabled` and `--remote-connections-max-percentage` in the context of private, and public/permissioned networks.\r\n* Documentation sets users expectations for how these settings might impact their nodes' ability to fill their peer lists.\r\n* Documentation should explain that the value chosen for `--remote-connections-max-percentage` will affect how densely connected the network is, depending on the number of nodes in the network and the max peer limit set.\r\n\r\n### Versions (Add all that apply)\r\n* Software version: 1.4.5\r\n\r\n### Additional Information\r\n\r\n",
  "closed_by": {
    "login": "MadelineMurray",
    "id": 43356962,
    "node_id": "MDQ6VXNlcjQzMzU2OTYy",
    "avatar_url": "https://avatars.githubusercontent.com/u/43356962?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/MadelineMurray",
    "html_url": "https://github.com/MadelineMurray",
    "followers_url": "https://api.github.com/users/MadelineMurray/followers",
    "following_url": "https://api.github.com/users/MadelineMurray/following{/other_user}",
    "gists_url": "https://api.github.com/users/MadelineMurray/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/MadelineMurray/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/MadelineMurray/subscriptions",
    "organizations_url": "https://api.github.com/users/MadelineMurray/orgs",
    "repos_url": "https://api.github.com/users/MadelineMurray/repos",
    "events_url": "https://api.github.com/users/MadelineMurray/events{/privacy}",
    "received_events_url": "https://api.github.com/users/MadelineMurray/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/982/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/hyperledger/besu/issues/982/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/647203949",
    "html_url": "https://github.com/hyperledger/besu/issues/982#issuecomment-647203949",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/982",
    "id": 647203949,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY0NzIwMzk0OQ==",
    "user": {
      "login": "MadelineMurray",
      "id": 43356962,
      "node_id": "MDQ6VXNlcjQzMzU2OTYy",
      "avatar_url": "https://avatars.githubusercontent.com/u/43356962?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MadelineMurray",
      "html_url": "https://github.com/MadelineMurray",
      "followers_url": "https://api.github.com/users/MadelineMurray/followers",
      "following_url": "https://api.github.com/users/MadelineMurray/following{/other_user}",
      "gists_url": "https://api.github.com/users/MadelineMurray/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MadelineMurray/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MadelineMurray/subscriptions",
      "organizations_url": "https://api.github.com/users/MadelineMurray/orgs",
      "repos_url": "https://api.github.com/users/MadelineMurray/repos",
      "events_url": "https://api.github.com/users/MadelineMurray/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MadelineMurray/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-06-22T00:33:06Z",
    "updated_at": "2020-06-22T00:33:06Z",
    "author_association": "CONTRIBUTOR",
    "body": "Moving this to `besu-docs` repo ",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/647203949/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/647204009",
    "html_url": "https://github.com/hyperledger/besu/issues/982#issuecomment-647204009",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/982",
    "id": 647204009,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY0NzIwNDAwOQ==",
    "user": {
      "login": "MadelineMurray",
      "id": 43356962,
      "node_id": "MDQ6VXNlcjQzMzU2OTYy",
      "avatar_url": "https://avatars.githubusercontent.com/u/43356962?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MadelineMurray",
      "html_url": "https://github.com/MadelineMurray",
      "followers_url": "https://api.github.com/users/MadelineMurray/followers",
      "following_url": "https://api.github.com/users/MadelineMurray/following{/other_user}",
      "gists_url": "https://api.github.com/users/MadelineMurray/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MadelineMurray/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MadelineMurray/subscriptions",
      "organizations_url": "https://api.github.com/users/MadelineMurray/orgs",
      "repos_url": "https://api.github.com/users/MadelineMurray/repos",
      "events_url": "https://api.github.com/users/MadelineMurray/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MadelineMurray/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-06-22T00:33:19Z",
    "updated_at": "2020-06-22T00:33:19Z",
    "author_association": "CONTRIBUTOR",
    "body": "Issue moved to [hyperledger/besu-docs #409](https://github.com/hyperledger/besu-docs/issues/409) via [**ZenHub**](https://www.zenhub.com/)\n",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/647204009/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
