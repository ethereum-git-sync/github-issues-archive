{
  "url": "https://api.github.com/repos/hyperledger/besu/issues/3717",
  "repository_url": "https://api.github.com/repos/hyperledger/besu",
  "labels_url": "https://api.github.com/repos/hyperledger/besu/issues/3717/labels{/name}",
  "comments_url": "https://api.github.com/repos/hyperledger/besu/issues/3717/comments",
  "events_url": "https://api.github.com/repos/hyperledger/besu/issues/3717/events",
  "html_url": "https://github.com/hyperledger/besu/issues/3717",
  "id": 1199822939,
  "node_id": "I_kwDODE2jmc5Hg9hb",
  "number": 3717,
  "title": "When syncing on FAST mode gas is not 0",
  "user": {
    "login": "daragao",
    "id": 3007280,
    "node_id": "MDQ6VXNlcjMwMDcyODA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/3007280?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/daragao",
    "html_url": "https://github.com/daragao",
    "followers_url": "https://api.github.com/users/daragao/followers",
    "following_url": "https://api.github.com/users/daragao/following{/other_user}",
    "gists_url": "https://api.github.com/users/daragao/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/daragao/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/daragao/subscriptions",
    "organizations_url": "https://api.github.com/users/daragao/orgs",
    "repos_url": "https://api.github.com/users/daragao/repos",
    "events_url": "https://api.github.com/users/daragao/events{/privacy}",
    "received_events_url": "https://api.github.com/users/daragao/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 1921587647,
      "node_id": "MDU6TGFiZWwxOTIxNTg3NjQ3",
      "url": "https://api.github.com/repos/hyperledger/besu/labels/TeamGroot",
      "name": "TeamGroot",
      "color": "1d76db",
      "default": false,
      "description": "GH issues worked on by Groot Team"
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 5,
  "created_at": "2022-04-11T11:18:23Z",
  "updated_at": "2022-04-28T00:20:09Z",
  "closed_at": "2022-04-27T21:06:05Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "### Description\r\nI am running 4 nodes in FULL sync mode (1 bootnode + 3 validators), using IBFT 2.0. I have setup the gas to be 0 (as described in the documentation)\r\nWhen I connect a node (non-validator) in FAST sync mode, and query the gas price using `eth_gasPrice` from that node, I get the value `0x3e8`, if I query the validators or bootnode I get `0x0`.\r\n\r\n### Steps to Reproduce (Bug)\r\n1. Run 3 nodes validator nodes on FULL sync mode, with IBFT 2.0\r\n2. Run 1 bootnode\r\n3. Run 1 non validator node in FAST sync mode, and connect to bootnode\r\n4. Query `eth_gasPrice` from validator node\r\n5. Query `eth_gasPrice` from non validator node\r\n\r\n**Expected behavior:**\r\nExpected query to validator node, or non validator node to return `0x0`, that is not the case.\r\n\r\n**Actual behavior:**\r\nWhen I query the non validator node I get value `0x3e8`, if I query the validators or bootnode I get `0x0`.\r\n\r\n**Frequency:** [What percentage of the time does it occur?]\r\n\r\n### Versions (Add all that apply)\r\n* Software version: 22.1.3\r\n* Java version: 11\r\n* OS Name & Version: ubuntu 20.04.2\r\n* Kernel Version: 5.13.0-1021-aws x86_64\r\n* Cloud VM, type, size: t3-large\r\n",
  "closed_by": {
    "login": "daragao",
    "id": 3007280,
    "node_id": "MDQ6VXNlcjMwMDcyODA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/3007280?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/daragao",
    "html_url": "https://github.com/daragao",
    "followers_url": "https://api.github.com/users/daragao/followers",
    "following_url": "https://api.github.com/users/daragao/following{/other_user}",
    "gists_url": "https://api.github.com/users/daragao/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/daragao/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/daragao/subscriptions",
    "organizations_url": "https://api.github.com/users/daragao/orgs",
    "repos_url": "https://api.github.com/users/daragao/repos",
    "events_url": "https://api.github.com/users/daragao/events{/privacy}",
    "received_events_url": "https://api.github.com/users/daragao/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/3717/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/hyperledger/besu/issues/3717/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1098736914",
    "html_url": "https://github.com/hyperledger/besu/issues/3717#issuecomment-1098736914",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/3717",
    "id": 1098736914,
    "node_id": "IC_kwDODE2jmc5BfWUS",
    "user": {
      "login": "siladu",
      "id": 2893793,
      "node_id": "MDQ6VXNlcjI4OTM3OTM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2893793?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/siladu",
      "html_url": "https://github.com/siladu",
      "followers_url": "https://api.github.com/users/siladu/followers",
      "following_url": "https://api.github.com/users/siladu/following{/other_user}",
      "gists_url": "https://api.github.com/users/siladu/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/siladu/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/siladu/subscriptions",
      "organizations_url": "https://api.github.com/users/siladu/orgs",
      "repos_url": "https://api.github.com/users/siladu/repos",
      "events_url": "https://api.github.com/users/siladu/events{/privacy}",
      "received_events_url": "https://api.github.com/users/siladu/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-04-14T05:56:40Z",
    "updated_at": "2022-04-14T05:56:40Z",
    "author_association": "CONTRIBUTOR",
    "body": "Hi @daragao \r\n\r\n> _I have setup the gas to be 0 (as described in the documentation)_\r\n\r\nHave you also set `--min-gas-price=0` on the new non-validator node?\r\n\r\nThis needs to be set on _every_ node in a free gas network, see https://besu.hyperledger.org/en/stable/Reference/CLI/CLI-Syntax/#min-gas-price\r\n> In a free gas network, ensure the minimum gas price is set to zero for every node.",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1098736914/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1098737053",
    "html_url": "https://github.com/hyperledger/besu/issues/3717#issuecomment-1098737053",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/3717",
    "id": 1098737053,
    "node_id": "IC_kwDODE2jmc5BfWWd",
    "user": {
      "login": "siladu",
      "id": 2893793,
      "node_id": "MDQ6VXNlcjI4OTM3OTM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2893793?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/siladu",
      "html_url": "https://github.com/siladu",
      "followers_url": "https://api.github.com/users/siladu/followers",
      "following_url": "https://api.github.com/users/siladu/following{/other_user}",
      "gists_url": "https://api.github.com/users/siladu/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/siladu/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/siladu/subscriptions",
      "organizations_url": "https://api.github.com/users/siladu/orgs",
      "repos_url": "https://api.github.com/users/siladu/repos",
      "events_url": "https://api.github.com/users/siladu/events{/privacy}",
      "received_events_url": "https://api.github.com/users/siladu/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-04-14T05:57:01Z",
    "updated_at": "2022-04-14T05:57:01Z",
    "author_association": "CONTRIBUTOR",
    "body": "> _When I connect a node (non-validator) in FAST sync mode_\r\n\r\nIf you connect a non-validator node in FULL sync mode, do you get `0x0` or `0x3e8`?",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1098737053/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1098738170",
    "html_url": "https://github.com/hyperledger/besu/issues/3717#issuecomment-1098738170",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/3717",
    "id": 1098738170,
    "node_id": "IC_kwDODE2jmc5BfWn6",
    "user": {
      "login": "siladu",
      "id": 2893793,
      "node_id": "MDQ6VXNlcjI4OTM3OTM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2893793?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/siladu",
      "html_url": "https://github.com/siladu",
      "followers_url": "https://api.github.com/users/siladu/followers",
      "following_url": "https://api.github.com/users/siladu/following{/other_user}",
      "gists_url": "https://api.github.com/users/siladu/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/siladu/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/siladu/subscriptions",
      "organizations_url": "https://api.github.com/users/siladu/orgs",
      "repos_url": "https://api.github.com/users/siladu/repos",
      "events_url": "https://api.github.com/users/siladu/events{/privacy}",
      "received_events_url": "https://api.github.com/users/siladu/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-04-14T05:59:32Z",
    "updated_at": "2022-04-14T05:59:32Z",
    "author_association": "CONTRIBUTOR",
    "body": "If you're still having trouble, it would be useful if you could post the full set of CLI options and config.toml you are running the node with.\r\nAlso, the genesis file you're using would be helpful so we can attempt to recreate your issue.\r\n\r\nEven better, if you can point us to a repo containing your setup :)",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1098738170/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1111483747",
    "html_url": "https://github.com/hyperledger/besu/issues/3717#issuecomment-1111483747",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/3717",
    "id": 1111483747,
    "node_id": "IC_kwDODE2jmc5CP-Vj",
    "user": {
      "login": "daragao",
      "id": 3007280,
      "node_id": "MDQ6VXNlcjMwMDcyODA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3007280?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/daragao",
      "html_url": "https://github.com/daragao",
      "followers_url": "https://api.github.com/users/daragao/followers",
      "following_url": "https://api.github.com/users/daragao/following{/other_user}",
      "gists_url": "https://api.github.com/users/daragao/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/daragao/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/daragao/subscriptions",
      "organizations_url": "https://api.github.com/users/daragao/orgs",
      "repos_url": "https://api.github.com/users/daragao/repos",
      "events_url": "https://api.github.com/users/daragao/events{/privacy}",
      "received_events_url": "https://api.github.com/users/daragao/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-04-27T21:06:05Z",
    "updated_at": "2022-04-27T21:06:05Z",
    "author_association": "NONE",
    "body": "I misunderstood the effect of the `--min-gas-price` flag. I assumed that the flag would affect the gas price for every node in the network. It does not, it sets the minimum gas price for transactions received by that node.",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1111483747/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1111601995",
    "html_url": "https://github.com/hyperledger/besu/issues/3717#issuecomment-1111601995",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/3717",
    "id": 1111601995,
    "node_id": "IC_kwDODE2jmc5CQbNL",
    "user": {
      "login": "siladu",
      "id": 2893793,
      "node_id": "MDQ6VXNlcjI4OTM3OTM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2893793?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/siladu",
      "html_url": "https://github.com/siladu",
      "followers_url": "https://api.github.com/users/siladu/followers",
      "following_url": "https://api.github.com/users/siladu/following{/other_user}",
      "gists_url": "https://api.github.com/users/siladu/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/siladu/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/siladu/subscriptions",
      "organizations_url": "https://api.github.com/users/siladu/orgs",
      "repos_url": "https://api.github.com/users/siladu/repos",
      "events_url": "https://api.github.com/users/siladu/events{/privacy}",
      "received_events_url": "https://api.github.com/users/siladu/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-04-28T00:20:09Z",
    "updated_at": "2022-04-28T00:20:09Z",
    "author_association": "CONTRIBUTOR",
    "body": "Thanks for responding @daragao and glad to hear you're sorted now :)",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1111601995/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
