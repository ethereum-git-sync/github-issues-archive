{
  "url": "https://api.github.com/repos/hyperledger/besu/issues/5878",
  "repository_url": "https://api.github.com/repos/hyperledger/besu",
  "labels_url": "https://api.github.com/repos/hyperledger/besu/issues/5878/labels{/name}",
  "comments_url": "https://api.github.com/repos/hyperledger/besu/issues/5878/comments",
  "events_url": "https://api.github.com/repos/hyperledger/besu/issues/5878/events",
  "html_url": "https://github.com/hyperledger/besu/issues/5878",
  "id": 1896292738,
  "node_id": "I_kwDODE2jmc5xByGC",
  "number": 5878,
  "title": "Unnecessary DNS Lookups to raw.githubusercontent.com",
  "user": {
    "login": "akshaykant",
    "id": 7160559,
    "node_id": "MDQ6VXNlcjcxNjA1NTk=",
    "avatar_url": "https://avatars.githubusercontent.com/u/7160559?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/akshaykant",
    "html_url": "https://github.com/akshaykant",
    "followers_url": "https://api.github.com/users/akshaykant/followers",
    "following_url": "https://api.github.com/users/akshaykant/following{/other_user}",
    "gists_url": "https://api.github.com/users/akshaykant/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/akshaykant/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/akshaykant/subscriptions",
    "organizations_url": "https://api.github.com/users/akshaykant/orgs",
    "repos_url": "https://api.github.com/users/akshaykant/repos",
    "events_url": "https://api.github.com/users/akshaykant/events{/privacy}",
    "received_events_url": "https://api.github.com/users/akshaykant/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 5290172097,
      "node_id": "LA_kwDODE2jmc8AAAABO1GewQ",
      "url": "https://api.github.com/repos/hyperledger/besu/labels/non%20mainnet%20(private%20networks)",
      "name": "non mainnet (private networks)",
      "color": "0052cc",
      "default": false,
      "description": "not related to mainnet features - covers privacy, permissioning, IBFT2, QBFT"
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 4,
  "created_at": "2023-09-14T10:39:55Z",
  "updated_at": "2023-09-25T07:01:45Z",
  "closed_at": null,
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "**Description:**\n\nWe are running a private blockchain using the Besu client on a VM with an internal network setup. We have observed continuous DNS lookups to **raw.githubusercontent.com**, which I believe are unnecessary for this setup.\n\n**Setup Details:**\n\nBesu Version: 23.4.0\n\nOS: Linux RHEL 8\n\nNumber of Nodes: 4\nAll nodes are running on the same VM, as part of different **docker containers using besu docker image** and are part of the same internal docker network.\n\n**IBFT** algorithm is used for blockchain consensus protocol as part of this network.\n\n\n**Expected Behavior:**\n\nGiven that my nodes are all on an internal network and  not relying on external configurations/scripts, I would expect no external DNS lookups, especially continuous ones.\n\n**Actual Behavior:**\nContinuous DNS lookups to raw.githubusercontent.com.\n\nWhat could be the expected resolution for this.\n\nHere is the reference in the [code](https://github.com/search?q=repo%3Ahyperledger%2Fbesu%20raw.githubusercontent.com&type=code).\n\n",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/5878/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/hyperledger/besu/issues/5878/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1724540975",
    "html_url": "https://github.com/hyperledger/besu/issues/5878#issuecomment-1724540975",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/5878",
    "id": 1724540975,
    "node_id": "IC_kwDODE2jmc5mymgv",
    "user": {
      "login": "jflo",
      "id": 345937,
      "node_id": "MDQ6VXNlcjM0NTkzNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/345937?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jflo",
      "html_url": "https://github.com/jflo",
      "followers_url": "https://api.github.com/users/jflo/followers",
      "following_url": "https://api.github.com/users/jflo/following{/other_user}",
      "gists_url": "https://api.github.com/users/jflo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jflo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jflo/subscriptions",
      "organizations_url": "https://api.github.com/users/jflo/orgs",
      "repos_url": "https://api.github.com/users/jflo/repos",
      "events_url": "https://api.github.com/users/jflo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jflo/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-09-18T22:22:14Z",
    "updated_at": "2023-09-18T22:22:14Z",
    "author_association": "CONTRIBUTOR",
    "body": "What you've found is part of our build automation, and would not be present on any built binaries/docker files that we produce.\r\n\r\nWhat type of peer discovery do you have for your private network?\r\n\r\nCould you provide the evidence you have captured that leads you to believe this so we can analyze further?",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1724540975/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1729590666",
    "html_url": "https://github.com/hyperledger/besu/issues/5878#issuecomment-1729590666",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/5878",
    "id": 1729590666,
    "node_id": "IC_kwDODE2jmc5nF3WK",
    "user": {
      "login": "akshaykant",
      "id": 7160559,
      "node_id": "MDQ6VXNlcjcxNjA1NTk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7160559?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/akshaykant",
      "html_url": "https://github.com/akshaykant",
      "followers_url": "https://api.github.com/users/akshaykant/followers",
      "following_url": "https://api.github.com/users/akshaykant/following{/other_user}",
      "gists_url": "https://api.github.com/users/akshaykant/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/akshaykant/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/akshaykant/subscriptions",
      "organizations_url": "https://api.github.com/users/akshaykant/orgs",
      "repos_url": "https://api.github.com/users/akshaykant/repos",
      "events_url": "https://api.github.com/users/akshaykant/events{/privacy}",
      "received_events_url": "https://api.github.com/users/akshaykant/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-09-21T13:29:19Z",
    "updated_at": "2023-09-21T13:31:36Z",
    "author_association": "NONE",
    "body": "> What you've found is part of our build automation, and would not be present on any built binaries/docker files that we produce.\n> \n> What type of peer discovery do you have for your private network?\n> \n> Could you provide the evidence you have captured that leads you to believe this so we can analyze further?\n\nBootnodes is setup for the peer discovery with Node 1 is used to discover other peers in the network.\n\nA docker network is set for these 4 Nodes.\n\nAs part of docker-compose.yml, here is the snippet of the network.\n\n``priv-besu-net: \n      name: net-name \n      external: true``\n\n\nHere is the snippet of config.toml\n\n``host-allowlist=[\"*\"] \nrpc-ws-enabled=true discovery-enabled=true rpc-http-apis=[\"ETH\", \"NET\", \"WEB3\", \"ADMIM\", \"IBFT\"] \np2p-host=docker-subnet-ip\nbootnodes=[enode:node1-details]``\n\nRegarding the analysis, the infrastructure team were able to trace the requests for dns resolution being called continuously.\n\nWe could perform any specific analysis you feel could be needed for this, and any specific tool to use for this analysis.",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1729590666/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1732968475",
    "html_url": "https://github.com/hyperledger/besu/issues/5878#issuecomment-1732968475",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/5878",
    "id": 1732968475,
    "node_id": "IC_kwDODE2jmc5nSwAb",
    "user": {
      "login": "macfarla",
      "id": 2627919,
      "node_id": "MDQ6VXNlcjI2Mjc5MTk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2627919?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/macfarla",
      "html_url": "https://github.com/macfarla",
      "followers_url": "https://api.github.com/users/macfarla/followers",
      "following_url": "https://api.github.com/users/macfarla/following{/other_user}",
      "gists_url": "https://api.github.com/users/macfarla/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/macfarla/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/macfarla/subscriptions",
      "organizations_url": "https://api.github.com/users/macfarla/orgs",
      "repos_url": "https://api.github.com/users/macfarla/repos",
      "events_url": "https://api.github.com/users/macfarla/events{/privacy}",
      "received_events_url": "https://api.github.com/users/macfarla/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-09-25T05:56:01Z",
    "updated_at": "2023-09-25T05:56:01Z",
    "author_association": "CONTRIBUTOR",
    "body": "in your besu config, do you have DNS enabled? Actually can you post your entire besu config.toml? ",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1732968475/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1733041401",
    "html_url": "https://github.com/hyperledger/besu/issues/5878#issuecomment-1733041401",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/5878",
    "id": 1733041401,
    "node_id": "IC_kwDODE2jmc5nTBz5",
    "user": {
      "login": "macfarla",
      "id": 2627919,
      "node_id": "MDQ6VXNlcjI2Mjc5MTk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2627919?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/macfarla",
      "html_url": "https://github.com/macfarla",
      "followers_url": "https://api.github.com/users/macfarla/followers",
      "following_url": "https://api.github.com/users/macfarla/following{/other_user}",
      "gists_url": "https://api.github.com/users/macfarla/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/macfarla/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/macfarla/subscriptions",
      "organizations_url": "https://api.github.com/users/macfarla/orgs",
      "repos_url": "https://api.github.com/users/macfarla/repos",
      "events_url": "https://api.github.com/users/macfarla/events{/privacy}",
      "received_events_url": "https://api.github.com/users/macfarla/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-09-25T07:01:45Z",
    "updated_at": "2023-09-25T07:01:45Z",
    "author_association": "CONTRIBUTOR",
    "body": "Are you able to share the logs that show the continuous requests? Increase logging level if you can to show more info. ",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1733041401/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
