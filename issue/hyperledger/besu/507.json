{
  "url": "https://api.github.com/repos/hyperledger/besu/issues/507",
  "repository_url": "https://api.github.com/repos/hyperledger/besu",
  "labels_url": "https://api.github.com/repos/hyperledger/besu/issues/507/labels{/name}",
  "comments_url": "https://api.github.com/repos/hyperledger/besu/issues/507/comments",
  "events_url": "https://api.github.com/repos/hyperledger/besu/issues/507/events",
  "html_url": "https://github.com/hyperledger/besu/issues/507",
  "id": 583084079,
  "node_id": "MDU6SXNzdWU1ODMwODQwNzk=",
  "number": 507,
  "title": "Crashing NAT detectors in k8s on GKE",
  "user": {
    "login": "roderik",
    "id": 16780,
    "node_id": "MDQ6VXNlcjE2Nzgw",
    "avatar_url": "https://avatars.githubusercontent.com/u/16780?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/roderik",
    "html_url": "https://github.com/roderik",
    "followers_url": "https://api.github.com/users/roderik/followers",
    "following_url": "https://api.github.com/users/roderik/following{/other_user}",
    "gists_url": "https://api.github.com/users/roderik/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/roderik/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/roderik/subscriptions",
    "organizations_url": "https://api.github.com/users/roderik/orgs",
    "repos_url": "https://api.github.com/users/roderik/repos",
    "events_url": "https://api.github.com/users/roderik/events{/privacy}",
    "received_events_url": "https://api.github.com/users/roderik/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 1537362490,
      "node_id": "MDU6TGFiZWwxNTM3MzYyNDkw",
      "url": "https://api.github.com/repos/hyperledger/besu/labels/bug",
      "name": "bug",
      "color": "d73a4a",
      "default": true,
      "description": "Something isn't working"
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": {
    "url": "https://api.github.com/repos/hyperledger/besu/milestones/2",
    "html_url": "https://github.com/hyperledger/besu/milestone/2",
    "labels_url": "https://api.github.com/repos/hyperledger/besu/milestones/2/labels",
    "id": 5214721,
    "node_id": "MDk6TWlsZXN0b25lNTIxNDcyMQ==",
    "number": 2,
    "title": "Chupacabra Sprint 62",
    "description": "",
    "creator": {
      "login": "timbeiko",
      "id": 9390255,
      "node_id": "MDQ6VXNlcjkzOTAyNTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9390255?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/timbeiko",
      "html_url": "https://github.com/timbeiko",
      "followers_url": "https://api.github.com/users/timbeiko/followers",
      "following_url": "https://api.github.com/users/timbeiko/following{/other_user}",
      "gists_url": "https://api.github.com/users/timbeiko/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/timbeiko/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/timbeiko/subscriptions",
      "organizations_url": "https://api.github.com/users/timbeiko/orgs",
      "repos_url": "https://api.github.com/users/timbeiko/repos",
      "events_url": "https://api.github.com/users/timbeiko/events{/privacy}",
      "received_events_url": "https://api.github.com/users/timbeiko/received_events",
      "type": "User",
      "site_admin": false
    },
    "open_issues": 3,
    "closed_issues": 22,
    "state": "closed",
    "created_at": "2020-03-18T18:26:42Z",
    "updated_at": "2020-05-06T16:59:20Z",
    "due_on": "2020-04-22T07:00:00Z",
    "closed_at": "2020-05-06T16:58:22Z"
  },
  "comments": 5,
  "created_at": "2020-03-17T15:10:34Z",
  "updated_at": "2020-04-20T18:50:35Z",
  "closed_at": "2020-04-20T18:50:35Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "# Description\r\n\r\nI have a network running on k8s with 1.4.0.\r\nI upgraded the containers to 1.4.1 and the node crashes\r\n\r\n```\r\n2020-03-17 15:03:20.022+00:00 | main | INFO  | Besu | Starting Besu version: besu/v1.4.1/linux-x86_64/oracle_openjdk-java-11                                                                                        \r\n2020-03-17 15:03:20.767+00:00 | main | WARN  | Besu | Permissions are disabled. Cannot enable PERM APIs when not using Permissions.                                                                                 \r\n2020-03-17 15:03:20.851+00:00 | main | INFO  | Besu | Connecting to 1 static nodes.                                                                                                                                 \r\n2020-03-17 15:03:22.835+00:00 | main | INFO  | KeyPairUtil | Loaded key 0xde87a32dfad460814aa616add8bc0fe73f13e19f60c4cf8c30e52fa440d39390bdd6bc5a1af24e7a1ac372599b28fadef173be5bd08b4214a4c6c9c54d3796ce from /sec\r\n2020-03-17 15:03:22.857+00:00 | main | WARN  | Besu | Privacy is disabled. Cannot use EEA/PRIV API methods when not using Privacy.                                                                                  \r\n2020-03-17 15:03:22.891+00:00 | main | INFO  | DatabaseMetadata | Lookup database metadata file in data directory: /data                                                                                            \r\n2020-03-17 15:03:23.009+00:00 | main | INFO  | RocksDBKeyValueStorageFactory | Existing database detected at /data. Version 1                                                                                       \r\n2020-03-17 15:03:29.757+00:00 | main | INFO  | ProtocolScheduleBuilder | Protocol schedule created with milestones: [ConstantinopleFix: 0]                                                                          \r\n2020-03-17 15:03:30.275+00:00 | main | INFO  | RunnerBuilder | Detecting NAT service.                                                                                                                               \r\n    at org.hyperledger.besu.nat.kubernetes.KubernetesNatManager.doStart(KubernetesNatManager.java:64) [besu-nat-1.4.1.jar:1.4.1]                                                                                    \r\n    at org.hyperledger.besu.nat.core.AbstractNatManager.start(AbstractNatManager.java:89) [besu-nat-1.4.1.jar:1.4.1]                                                                                                \r\n    at org.hyperledger.besu.nat.NatService.start(NatService.java:88) [besu-nat-1.4.1.jar:1.4.1]                                                                                                                     \r\n    at org.hyperledger.besu.Runner.start(Runner.java:98) [besu-1.4.1.jar:1.4.1]                                                                                                                                     \r\n    at org.hyperledger.besu.cli.BesuCommand.synchronize(BesuCommand.java:1752) [besu-1.4.1.jar:1.4.1]                                                                                                               \r\n    at org.hyperledger.besu.cli.BesuCommand.startSynchronization(BesuCommand.java:1040) [besu-1.4.1.jar:1.4.1]                                                                                                      \r\n    at org.hyperledger.besu.cli.BesuCommand.run(BesuCommand.java:926) [besu-1.4.1.jar:1.4.1]                                                                                                                        \r\n    at picocli.CommandLine.executeUserObject(CommandLine.java:1769) [picocli-4.1.4.jar:4.1.4]                                                                                                                       \r\n    at picocli.CommandLine.access$900(CommandLine.java:145) [picocli-4.1.4.jar:4.1.4]                                                                                                                               \r\n    at picocli.CommandLine$RunLast.handle(CommandLine.java:2141) [picocli-4.1.4.jar:4.1.4]                                                                                                                          \r\n    at picocli.CommandLine$RunLast.handle(CommandLine.java:2108) [picocli-4.1.4.jar:4.1.4]                                                                                                                          \r\n    at picocli.CommandLine$AbstractParseResultHandler.handleParseResult(CommandLine.java:1968) [picocli-4.1.4.jar:4.1.4]                                                                                            \r\n    at picocli.CommandLine.parseWithHandlers(CommandLine.java:2322) [picocli-4.1.4.jar:4.1.4]                                                                                                                       \r\n    at org.hyperledger.besu.cli.util.ConfigOptionSearchAndRunHandler.handle(ConfigOptionSearchAndRunHandler.java:61) [besu-1.4.1.jar:1.4.1]                                                                         \r\n    at org.hyperledger.besu.cli.util.ConfigOptionSearchAndRunHandler.handle(ConfigOptionSearchAndRunHandler.java:31) [besu-1.4.1.jar:1.4.1]                                                                         \r\n    at picocli.CommandLine$AbstractParseResultHandler.handleParseResult(CommandLine.java:1968) [picocli-4.1.4.jar:4.1.4]                                                                                            \r\n    at picocli.CommandLine.parseWithHandlers(CommandLine.java:2322) [picocli-4.1.4.jar:4.1.4]                                                                                                                       \r\n    at org.hyperledger.besu.cli.BesuCommand.parse(BesuCommand.java:1036) [besu-1.4.1.jar:1.4.1]                                                                                                                     \r\n    at org.hyperledger.besu.cli.BesuCommand.parse(BesuCommand.java:911) [besu-1.4.1.jar:1.4.1]                                                                                                                      \r\n    at org.hyperledger.besu.Besu.main(Besu.java:49) [besu-1.4.1.jar:1.4.1]                                                                                                                                          \r\n2020-03-17 15:03:31.528+00:00 | main | INFO  | NetworkRunner | Starting Network.                                                                                                                                    \r\n2020-03-17 15:03:31.704+00:00 | nioEventLoopGroup-2-1 | INFO  | RlpxAgent | P2P RLPx agent started and listening on /0.0.0.0:30303.                                                                                 \r\n2020-03-17 15:03:31.712+00:00 | main | INFO  | PeerDiscoveryAgent | Starting peer discovery agent on host=0.0.0.0, port=30303                                                                                       \r\n2020-03-17 15:03:31.712+00:00 | main | INFO  | NatService | Waiting for up to 60 seconds to detect external IP address...                                                                                           \r\n2020-03-17 15:03:31.712+00:00 | main | WARN  | NatService | Caught exception while trying to query NAT external IP address (ignoring): {}                                                                           \r\njava.lang.NullPointerException: null                                                                                                                                                                                \r\n    at java.util.Objects.requireNonNull(Objects.java:221) ~[?:?]                                                                                                                                                    \r\n    at java.util.Optional.<init>(Optional.java:107) ~[?:?]                                                                                                                                                          \r\n    at java.util.Optional.of(Optional.java:120) ~[?:?]                                                                                                                                                              \r\n    at org.hyperledger.besu.nat.NatService.queryExternalIPAddress(NatService.java:123) [besu-nat-1.4.1.jar:1.4.1]                                                                                                   \r\n    at org.hyperledger.besu.ethereum.p2p.discovery.PeerDiscoveryAgent.start(PeerDiscoveryAgent.java:128) [besu-p2p-1.4.1.jar:1.4.1]                                                                                 \r\n    at org.hyperledger.besu.ethereum.p2p.network.DefaultP2PNetwork.start(DefaultP2PNetwork.java:200) [besu-p2p-1.4.1.jar:1.4.1]                                                                                     \r\n    at org.hyperledger.besu.ethereum.p2p.network.NetworkRunner.start(NetworkRunner.java:80) [besu-p2p-1.4.1.jar:1.4.1]                                                                                              \r\n    at org.hyperledger.besu.Runner.start(Runner.java:99) [besu-1.4.1.jar:1.4.1]                                                                                                                                     \r\n    at org.hyperledger.besu.cli.BesuCommand.synchronize(BesuCommand.java:1752) [besu-1.4.1.jar:1.4.1]                                                                                                               \r\n    at org.hyperledger.besu.cli.BesuCommand.startSynchronization(BesuCommand.java:1040) [besu-1.4.1.jar:1.4.1]                                                                                                      \r\n    at org.hyperledger.besu.cli.BesuCommand.run(BesuCommand.java:926) [besu-1.4.1.jar:1.4.1]                                                                                                                        \r\n    at picocli.CommandLine.executeUserObject(CommandLine.java:1769) [picocli-4.1.4.jar:4.1.4]                                                                                                                       \r\n    at picocli.CommandLine.access$900(CommandLine.java:145) [picocli-4.1.4.jar:4.1.4]                                                                                                                               \r\n    at picocli.CommandLine$RunLast.handle(CommandLine.java:2141) [picocli-4.1.4.jar:4.1.4]                                                                                                                          \r\n    at picocli.CommandLine$RunLast.handle(CommandLine.java:2108) [picocli-4.1.4.jar:4.1.4]                                                                                                                          \r\n    at picocli.CommandLine$AbstractParseResultHandler.handleParseResult(CommandLine.java:1968) [picocli-4.1.4.jar:4.1.4]                                                                                            \r\n    at picocli.CommandLine.parseWithHandlers(CommandLine.java:2322) [picocli-4.1.4.jar:4.1.4]                                                                                                                       \r\n    at org.hyperledger.besu.cli.util.ConfigOptionSearchAndRunHandler.handle(ConfigOptionSearchAndRunHandler.java:61) [besu-1.4.1.jar:1.4.1]                                                                         \r\n    at org.hyperledger.besu.cli.util.ConfigOptionSearchAndRunHandler.handle(ConfigOptionSearchAndRunHandler.java:31) [besu-1.4.1.jar:1.4.1]                                                                         \r\n    at picocli.CommandLine$AbstractParseResultHandler.handleParseResult(CommandLine.java:1968) [picocli-4.1.4.jar:4.1.4]                                                                                            \r\n    at picocli.CommandLine.parseWithHandlers(CommandLine.java:2322) [picocli-4.1.4.jar:4.1.4]                                                                                                                       \r\n    at org.hyperledger.besu.cli.BesuCommand.parse(BesuCommand.java:1036) [besu-1.4.1.jar:1.4.1]                                                                                                                     \r\n    at org.hyperledger.besu.cli.BesuCommand.parse(BesuCommand.java:911) [besu-1.4.1.jar:1.4.1]                                                                                                                      \r\n    at org.hyperledger.besu.Besu.main(Besu.java:49) [besu-1.4.1.jar:1.4.1]                                                                                                                                          \r\n2020-03-17 15:03:32.012+00:00 | vert.x-eventloop-thread-1 | INFO  | VertxPeerDiscoveryAgent | Started peer discovery agent successfully, on effective host=0.0.0.0 and port=30303                                   \r\n2020-03-17 15:03:32.019+00:00 | main | INFO  | PeerDiscoveryAgent | P2P peer discovery agent started and listening on /0.0.0.0:30303                                                                                \r\n2020-03-17 15:03:32.182+00:00 | main | INFO  | NatService | Waiting for up to 60 seconds to detect external IP address...                                                                                           \r\n2020-03-17 15:03:32.190+00:00 | main | WARN  | NatService | Caught exception while trying to query NAT external IP address (ignoring): {}     \r\njava.lang.NullPointerException: null                                                                                                                                                                                \r\n    at java.util.Objects.requireNonNull(Objects.java:221) ~[?:?]                                                                                                                                                    \r\n    at java.util.Optional.<init>(Optional.java:107) ~[?:?]                                                                                                                                                          \r\n    at java.util.Optional.of(Optional.java:120) ~[?:?]                                                                                                                                                              \r\n    at org.hyperledger.besu.nat.NatService.queryExternalIPAddress(NatService.java:123) [besu-nat-1.4.1.jar:1.4.1]                                                                                                   \r\n    at org.hyperledger.besu.ethereum.p2p.network.DefaultP2PNetwork.setLocalNode(DefaultP2PNetwork.java:371) [besu-p2p-1.4.1.jar:1.4.1]                                                                              \r\n    at org.hyperledger.besu.ethereum.p2p.network.DefaultP2PNetwork.start(DefaultP2PNetwork.java:216) [besu-p2p-1.4.1.jar:1.4.1]                                                                                     \r\n    at org.hyperledger.besu.ethereum.p2p.network.NetworkRunner.start(NetworkRunner.java:80) [besu-p2p-1.4.1.jar:1.4.1]                                                                                              \r\n    at org.hyperledger.besu.Runner.start(Runner.java:99) [besu-1.4.1.jar:1.4.1]                                                                                                                                     \r\n    at org.hyperledger.besu.cli.BesuCommand.synchronize(BesuCommand.java:1752) [besu-1.4.1.jar:1.4.1]                                                                                                               \r\n    at org.hyperledger.besu.cli.BesuCommand.startSynchronization(BesuCommand.java:1040) [besu-1.4.1.jar:1.4.1]                                                                                                      \r\n    at org.hyperledger.besu.cli.BesuCommand.run(BesuCommand.java:926) [besu-1.4.1.jar:1.4.1]                                                                                                                        \r\n    at picocli.CommandLine.executeUserObject(CommandLine.java:1769) [picocli-4.1.4.jar:4.1.4]                                                                                                                       \r\n    at picocli.CommandLine.access$900(CommandLine.java:145) [picocli-4.1.4.jar:4.1.4]                                                                                                                               \r\n    at picocli.CommandLine$RunLast.handle(CommandLine.java:2141) [picocli-4.1.4.jar:4.1.4]                                                                                                                          \r\n    at picocli.CommandLine$RunLast.handle(CommandLine.java:2108) [picocli-4.1.4.jar:4.1.4]                                                                                                                          \r\n    at picocli.CommandLine$AbstractParseResultHandler.handleParseResult(CommandLine.java:1968) [picocli-4.1.4.jar:4.1.4]                                                                                            \r\n    at picocli.CommandLine.parseWithHandlers(CommandLine.java:2322) [picocli-4.1.4.jar:4.1.4]                                                                                                                       \r\n    at org.hyperledger.besu.cli.util.ConfigOptionSearchAndRunHandler.handle(ConfigOptionSearchAndRunHandler.java:61) [besu-1.4.1.jar:1.4.1]                                                                         \r\n    at org.hyperledger.besu.cli.util.ConfigOptionSearchAndRunHandler.handle(ConfigOptionSearchAndRunHandler.java:31) [besu-1.4.1.jar:1.4.1]                                                                         \r\n    at picocli.CommandLine$AbstractParseResultHandler.handleParseResult(CommandLine.java:1968) [picocli-4.1.4.jar:4.1.4]                                                                                            \r\n    at picocli.CommandLine.parseWithHandlers(CommandLine.java:2322) [picocli-4.1.4.jar:4.1.4]                                                                                                                       \r\n    at org.hyperledger.besu.cli.BesuCommand.parse(BesuCommand.java:1036) [besu-1.4.1.jar:1.4.1]                                                                                                                     \r\n    at org.hyperledger.besu.cli.BesuCommand.parse(BesuCommand.java:911) [besu-1.4.1.jar:1.4.1]                                                                                                                      \r\n    at org.hyperledger.besu.Besu.main(Besu.java:49) [besu-1.4.1.jar:1.4.1]                                                                                                                                          \r\n2020-03-17 15:03:32.192+00:00 | main | INFO  | DefaultP2PNetwork | Enode URL enode://de87a32dfad460814aa616add8bc0fe73f13e19f60c4cf8c30e52fa440d39390bdd6bc5a1af24e7a1ac372599b28fadef173be5bd08b4214a4c6c9c54d3796c\r\n2020-03-17 15:03:32.210+00:00 | main | INFO  | DefaultSynchronizer | Starting synchronizer.                                                                                                                         \r\n2020-03-17 15:03:32.217+00:00 | main | INFO  | FullSyncDownloader | Start full sync.                                                                                                                                \r\n2020-03-17 15:03:32.229+00:00 | main | INFO  | FullSyncTargetManager | No sync target, wait for peers.                                                                                                              \r\n2020-03-17 15:03:37.314+00:00 | EthScheduler-Timer-0 | INFO  | FullSyncTargetManager | No sync target, wait for peers.                                                                                              \r\n2020-03-17 15:03:41.787+00:00 | pool-10-thread-1 | INFO  | IbftProcessor | Shutting down IBFT event processor                                                                                                       \r\n2020-03-17 15:03:41.797+00:00 | Thread-1 | INFO  | DefaultSynchronizer | Stopping synchronizer                                                                                                                      \r\n2020-03-17 15:03:41.807+00:00 | Thread-1 | INFO  | NetworkRunner | Stopping Network.                                                                                                                                \r\n2020-03-17 15:03:41.792+00:00 | main | INFO  | JsonRpcHttpService | Starting JsonRPC service on 0.0.0.0:8545                                                                                                        \r\n2020-03-17 15:03:41.886+00:00 | Thread-1 | INFO  | EthProtocolManager | Stopping eth Subprotocol.                                                                                                                   \r\n2020-03-17 15:03:41.904+00:00 | Thread-1 | INFO  | EthProtocolManager | eth Subprotocol stopped.                                                                                                                    \r\n2020-03-17 15:03:41.905+00:00 | Thread-1 | INFO  | NetworkRunner | Network stopped.                                                                                                                                 \r\n2020-03-17 15:03:41.908+00:00 | Thread-1 | INFO  | AutoTransactionLogBloomCachingService | Shutting down Auto transaction logs caching service.                                                                     \r\n2020-03-17 15:03:41.923+00:00 | Thread-1 | INFO  | KubernetesNatManager | Stopping kubernetes NAT manager.                                                                                                          \r\n2020-03-17 15:03:42.074+00:00 | vert.x-eventloop-thread-0 | INFO  | JsonRpcHttpService | JsonRPC service started and listening on 0.0.0.0:8545                                                                      \r\n2020-03-17 15:03:42.078+00:00 | main | INFO  | GraphQLHttpService | Starting GraphQL HTTP service on 0.0.0.0:8547                                                                                                   \r\n    at org.hyperledger.besu.Runner.lambda$writeBesuNetworksToFile$14(Runner.java:247) ~[besu-1.4.1.jar:1.4.1]                                                                                                       \r\n    at java.util.Optional.ifPresent(Optional.java:183) [?:?]                                                                                                                                                        \r\n    at org.hyperledger.besu.Runner.writeBesuNetworksToFile(Runner.java:244) [besu-1.4.1.jar:1.4.1]                                                                                                                  \r\n    at org.hyperledger.besu.Runner.start(Runner.java:115) [besu-1.4.1.jar:1.4.1]                                                                                                                                    \r\n    at org.hyperledger.besu.cli.BesuCommand.synchronize(BesuCommand.java:1752) [besu-1.4.1.jar:1.4.1]                                                                                                               \r\n    at org.hyperledger.besu.cli.BesuCommand.startSynchronization(BesuCommand.java:1040) [besu-1.4.1.jar:1.4.1]                                                                                                      \r\n    at org.hyperledger.besu.cli.BesuCommand.run(BesuCommand.java:926) [besu-1.4.1.jar:1.4.1]                                                                                                                        \r\n    at picocli.CommandLine.executeUserObject(CommandLine.java:1769) [picocli-4.1.4.jar:4.1.4]                                                                                                                       \r\n    at picocli.CommandLine.access$900(CommandLine.java:145) [picocli-4.1.4.jar:4.1.4]                                                                                                                               \r\n    at picocli.CommandLine$RunLast.handle(CommandLine.java:2141) [picocli-4.1.4.jar:4.1.4]                                                                                                                          \r\n    at picocli.CommandLine$RunLast.handle(CommandLine.java:2108) [picocli-4.1.4.jar:4.1.4]                                                                                                                          \r\n    at picocli.CommandLine$AbstractParseResultHandler.handleParseResult(CommandLine.java:1968) [picocli-4.1.4.jar:4.1.4]                                                                                            \r\n    at picocli.CommandLine.parseWithHandlers(CommandLine.java:2322) [picocli-4.1.4.jar:4.1.4]                                                                                                                       \r\n    at org.hyperledger.besu.cli.util.ConfigOptionSearchAndRunHandler.handle(ConfigOptionSearchAndRunHandler.java:61) [besu-1.4.1.jar:1.4.1]                                                                         \r\n    at org.hyperledger.besu.cli.util.ConfigOptionSearchAndRunHandler.handle(ConfigOptionSearchAndRunHandler.java:31) [besu-1.4.1.jar:1.4.1]                                                                         \r\n    at picocli.CommandLine$AbstractParseResultHandler.handleParseResult(CommandLine.java:1968) [picocli-4.1.4.jar:4.1.4]                                                                                            \r\n    at picocli.CommandLine.parseWithHandlers(CommandLine.java:2322) [picocli-4.1.4.jar:4.1.4]                                                                                                                       \r\n    at org.hyperledger.besu.cli.BesuCommand.parse(BesuCommand.java:1036) [besu-1.4.1.jar:1.4.1]                                                                                                                     \r\n    at org.hyperledger.besu.cli.BesuCommand.parse(BesuCommand.java:911) [besu-1.4.1.jar:1.4.1]                                                                                                                      \r\n    at org.hyperledger.besu.Besu.main(Besu.java:49) [besu-1.4.1.jar:1.4.1]                                                                                                                                          \r\n2020-03-17 15:03:42.222+00:00 | main | INFO  | NatService | Waiting for up to 60 seconds to detect external IP address...                                                                                           \r\n2020-03-17 15:03:42.254+00:00 | main | INFO  | AutoTransactionLogBloomCachingService | Starting auto transaction log bloom caching service.                                                                         \r\n2020-03-17 15:03:42.257+00:00 | main | ERROR | Runner | Startup failed                                                          \r\njava.util.concurrent.RejectedExecutionException: Task java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask@60807fd9[Not completed, task = java.util.concurrent.Executors$RunnableAdapter@34d9df9f[Wr\r\n    at java.util.concurrent.ThreadPoolExecutor$AbortPolicy.rejectedExecution(ThreadPoolExecutor.java:2055) ~[?:?]                                                                                                   \r\n    at org.hyperledger.besu.ethereum.eth.manager.MonitoredExecutors$CountingAbortPolicy.rejectedExecution(MonitoredExecutors.java:165) ~[besu-eth-1.4.1.jar:1.4.1]                                                  \r\n    at java.util.concurrent.ThreadPoolExecutor.reject(ThreadPoolExecutor.java:825) ~[?:?]                                                                                                                           \r\n    at java.util.concurrent.ScheduledThreadPoolExecutor.delayedExecute(ScheduledThreadPoolExecutor.java:340) ~[?:?]                                                                                                 \r\n    at java.util.concurrent.ScheduledThreadPoolExecutor.schedule(ScheduledThreadPoolExecutor.java:562) ~[?:?]                                                                                                       \r\n    at org.hyperledger.besu.ethereum.eth.manager.EthScheduler.scheduleFutureTask(EthScheduler.java:149) ~[besu-eth-1.4.1.jar:1.4.1]                                                                                 \r\n    at org.hyperledger.besu.ethereum.api.query.AutoTransactionLogBloomCachingService.start(AutoTransactionLogBloomCachingService.java:67) ~[besu-api-1.4.1.jar:1.4.1]                                               \r\n    at java.util.Optional.ifPresent(Optional.java:183) ~[?:?]                                                                                                                                                       \r\n    at org.hyperledger.besu.Runner.start(Runner.java:116) [besu-1.4.1.jar:1.4.1]                                                                                                                                    \r\n    at org.hyperledger.besu.cli.BesuCommand.synchronize(BesuCommand.java:1752) [besu-1.4.1.jar:1.4.1]                                                                                                               \r\n    at org.hyperledger.besu.cli.BesuCommand.startSynchronization(BesuCommand.java:1040) [besu-1.4.1.jar:1.4.1]                                                                                                      \r\n    at org.hyperledger.besu.cli.BesuCommand.run(BesuCommand.java:926) [besu-1.4.1.jar:1.4.1]                                                                                                                        \r\n    at picocli.CommandLine.executeUserObject(CommandLine.java:1769) [picocli-4.1.4.jar:4.1.4]                                                                                                                       \r\n    at picocli.CommandLine.access$900(CommandLine.java:145) [picocli-4.1.4.jar:4.1.4]                                                                                                                               \r\n    at picocli.CommandLine$RunLast.handle(CommandLine.java:2141) [picocli-4.1.4.jar:4.1.4]                                                                                                                          \r\n    at picocli.CommandLine$RunLast.handle(CommandLine.java:2108) [picocli-4.1.4.jar:4.1.4]                                                                                                                          \r\n    at picocli.CommandLine$AbstractParseResultHandler.handleParseResult(CommandLine.java:1968) [picocli-4.1.4.jar:4.1.4]                                                                                            \r\n    at picocli.CommandLine.parseWithHandlers(CommandLine.java:2322) [picocli-4.1.4.jar:4.1.4]                                                                                                                       \r\n    at org.hyperledger.besu.cli.util.ConfigOptionSearchAndRunHandler.handle(ConfigOptionSearchAndRunHandler.java:61) [besu-1.4.1.jar:1.4.1]                                                                         \r\n    at org.hyperledger.besu.cli.util.ConfigOptionSearchAndRunHandler.handle(ConfigOptionSearchAndRunHandler.java:31) [besu-1.4.1.jar:1.4.1]                                                                         \r\n    at picocli.CommandLine$AbstractParseResultHandler.handleParseResult(CommandLine.java:1968) [picocli-4.1.4.jar:4.1.4]                                                                                            \r\n    at picocli.CommandLine.parseWithHandlers(CommandLine.java:2322) [picocli-4.1.4.jar:4.1.4]                                                                                                                       \r\n    at org.hyperledger.besu.cli.BesuCommand.parse(BesuCommand.java:1036) [besu-1.4.1.jar:1.4.1]                                                                                                                     \r\n    at org.hyperledger.besu.cli.BesuCommand.parse(BesuCommand.java:911) [besu-1.4.1.jar:1.4.1]                                                                                                                      \r\n    at org.hyperledger.besu.Besu.main(Besu.java:49) [besu-1.4.1.jar:1.4.1]                                                                                                                                          \r\njava.util.concurrent.RejectedExecutionException: Task java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask@60807fd9[Not completed, task = java.util.concurrent.Executors$RunnableAdapter@34d9df9f[Wr\r\n<STREAM> closed\r\n```\r\n### Versions (Add all that apply)\r\n* Software version: 1.4.1\r\n* Java version: Official docker container\r\n* Docker Version: GKE\r\n\r\n",
  "closed_by": {
    "login": "timbeiko",
    "id": 9390255,
    "node_id": "MDQ6VXNlcjkzOTAyNTU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/9390255?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/timbeiko",
    "html_url": "https://github.com/timbeiko",
    "followers_url": "https://api.github.com/users/timbeiko/followers",
    "following_url": "https://api.github.com/users/timbeiko/following{/other_user}",
    "gists_url": "https://api.github.com/users/timbeiko/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/timbeiko/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/timbeiko/subscriptions",
    "organizations_url": "https://api.github.com/users/timbeiko/orgs",
    "repos_url": "https://api.github.com/users/timbeiko/repos",
    "events_url": "https://api.github.com/users/timbeiko/events{/privacy}",
    "received_events_url": "https://api.github.com/users/timbeiko/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/507/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/hyperledger/besu/issues/507/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/600126999",
    "html_url": "https://github.com/hyperledger/besu/issues/507#issuecomment-600126999",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/507",
    "id": 600126999,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYwMDEyNjk5OQ==",
    "user": {
      "login": "roderik",
      "id": 16780,
      "node_id": "MDQ6VXNlcjE2Nzgw",
      "avatar_url": "https://avatars.githubusercontent.com/u/16780?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/roderik",
      "html_url": "https://github.com/roderik",
      "followers_url": "https://api.github.com/users/roderik/followers",
      "following_url": "https://api.github.com/users/roderik/following{/other_user}",
      "gists_url": "https://api.github.com/users/roderik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/roderik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/roderik/subscriptions",
      "organizations_url": "https://api.github.com/users/roderik/orgs",
      "repos_url": "https://api.github.com/users/roderik/repos",
      "events_url": "https://api.github.com/users/roderik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/roderik/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-03-17T15:15:42Z",
    "updated_at": "2020-03-17T15:15:42Z",
    "author_association": "CONTRIBUTOR",
    "body": "1.4.0 starts up like this in the same instance:\r\n\r\n```\r\n2020-03-17 15:14:41.234+00:00 | main | INFO  | Besu | Starting Besu version: besu/v1.4.0/linux-x86_64/oracle_openjdk-java-11                                                                                     │\r\n│ 2020-03-17 15:14:41.973+00:00 | main | WARN  | Besu | Permissions are disabled. Cannot enable PERM APIs when not using Permissions.                                                                              │\r\n│ 2020-03-17 15:14:42.045+00:00 | main | INFO  | Besu | Connecting to 1 static nodes.                                                                                                                              │\r\n│ 2020-03-17 15:14:43.680+00:00 | main | INFO  | KeyPairUtil | Loaded key 0xde87a32dfad460814aa616add8bc0fe73f13e19f60c4cf8c30e52fa440d39390bdd6bc5a1af24e7a1ac372599b28fadef173be5bd08b4214a4c6c9c54d3796ce from  │\r\n│ 2020-03-17 15:14:43.688+00:00 | main | WARN  | Besu | Privacy is disabled. Cannot use EEA/PRIV API methods when not using Privacy.                                                                               │\r\n│ 2020-03-17 15:14:43.722+00:00 | main | INFO  | DatabaseMetadata | Lookup database metadata file in data directory: /data                                                                                         │\r\n│ 2020-03-17 15:14:43.816+00:00 | main | INFO  | RocksDBKeyValueStorageFactory | Existing database detected at /data. Version 1                                                                                    │\r\n│ 2020-03-17 15:14:44.797+00:00 | main | INFO  | ProtocolScheduleBuilder | Protocol schedule created with milestones: [ConstantinopleFix: 0]                                                                       │\r\n│ 2020-03-17 15:14:46.038+00:00 | main | INFO  | Runner | Starting Ethereum main loop ...                                                                                                                          │\r\n│ 2020-03-17 15:14:46.039+00:00 | main | INFO  | NatService | No NAT environment detected so no service could be started                                                                                           │\r\n│ 2020-03-17 15:14:46.039+00:00 | main | INFO  | NetworkRunner | Starting Network.                                                                                                                                 │\r\n│ 2020-03-17 15:14:46.180+00:00 | nioEventLoopGroup-2-1 | INFO  | RlpxAgent | P2P RLPx agent started and listening on /0.0.0.0:30303.                                                                              │\r\n│ 2020-03-17 15:14:46.182+00:00 | main | INFO  | PeerDiscoveryAgent | Starting peer discovery agent on host=0.0.0.0, port=30303                                                                                    │\r\n│ 2020-03-17 15:14:46.313+00:00 | vert.x-eventloop-thread-1 | INFO  | VertxPeerDiscoveryAgent | Started peer discovery agent successfully, on effective host=0.0.0.0 and port=30303                                │\r\n│ 2020-03-17 15:14:46.319+00:00 | vert.x-eventloop-thread-1 | INFO  | PeerDiscoveryAgent | P2P peer discovery agent started and listening on /0.0.0.0:30303                                                        │\r\n│ 2020-03-17 15:14:46.388+00:00 | main | INFO  | DefaultP2PNetwork | Enode URL enode://de87a32dfad460814aa616add8bc0fe73f13e19f60c4cf8c30e52fa440d39390bdd6bc5a1af24e7a1ac372599b28fadef173be5bd08b4214a4c6c9c54d3 │\r\n│ 2020-03-17 15:14:46.392+00:00 | main | INFO  | DefaultSynchronizer | Starting synchronizer.                                                                                                                      │\r\n│ 2020-03-17 15:14:46.395+00:00 | main | INFO  | FullSyncDownloader | Start full sync.                                                                                                                             │\r\n│ 2020-03-17 15:14:46.397+00:00 | main | INFO  | FullSyncTargetManager | No sync target, wait for peers.   ```",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/600126999/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/600193284",
    "html_url": "https://github.com/hyperledger/besu/issues/507#issuecomment-600193284",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/507",
    "id": 600193284,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYwMDE5MzI4NA==",
    "user": {
      "login": "matkt",
      "id": 26581503,
      "node_id": "MDQ6VXNlcjI2NTgxNTAz",
      "avatar_url": "https://avatars.githubusercontent.com/u/26581503?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/matkt",
      "html_url": "https://github.com/matkt",
      "followers_url": "https://api.github.com/users/matkt/followers",
      "following_url": "https://api.github.com/users/matkt/following{/other_user}",
      "gists_url": "https://api.github.com/users/matkt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/matkt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/matkt/subscriptions",
      "organizations_url": "https://api.github.com/users/matkt/orgs",
      "repos_url": "https://api.github.com/users/matkt/repos",
      "events_url": "https://api.github.com/users/matkt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/matkt/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-03-17T17:15:23Z",
    "updated_at": "2020-03-17T17:15:23Z",
    "author_association": "CONTRIBUTOR",
    "body": "A new feature has been added to automatically detect kubernetes.  We will investigate to understand what is happening with GKE. \r\n\r\nCan you use the `--nat-method = NONE` option? This should allow BESU to work as before \r\nand that should resolve your issue\r\n https://besu.hyperledger.org/en/stable/Reference/CLI/CLI-Syntax/#nat-method",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/600193284/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/610960488",
    "html_url": "https://github.com/hyperledger/besu/issues/507#issuecomment-610960488",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/507",
    "id": 610960488,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxMDk2MDQ4OA==",
    "user": {
      "login": "matkt",
      "id": 26581503,
      "node_id": "MDQ6VXNlcjI2NTgxNTAz",
      "avatar_url": "https://avatars.githubusercontent.com/u/26581503?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/matkt",
      "html_url": "https://github.com/matkt",
      "followers_url": "https://api.github.com/users/matkt/followers",
      "following_url": "https://api.github.com/users/matkt/following{/other_user}",
      "gists_url": "https://api.github.com/users/matkt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/matkt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/matkt/subscriptions",
      "organizations_url": "https://api.github.com/users/matkt/orgs",
      "repos_url": "https://api.github.com/users/matkt/repos",
      "events_url": "https://api.github.com/users/matkt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/matkt/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-04-08T13:30:05Z",
    "updated_at": "2020-04-08T13:30:05Z",
    "author_association": "CONTRIBUTOR",
    "body": "Hi @roderik \r\nDid this proposal solve your issue and allow you to start besu correctly?\r\nThanks",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/610960488/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/610972708",
    "html_url": "https://github.com/hyperledger/besu/issues/507#issuecomment-610972708",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/507",
    "id": 610972708,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxMDk3MjcwOA==",
    "user": {
      "login": "roderik",
      "id": 16780,
      "node_id": "MDQ6VXNlcjE2Nzgw",
      "avatar_url": "https://avatars.githubusercontent.com/u/16780?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/roderik",
      "html_url": "https://github.com/roderik",
      "followers_url": "https://api.github.com/users/roderik/followers",
      "following_url": "https://api.github.com/users/roderik/following{/other_user}",
      "gists_url": "https://api.github.com/users/roderik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/roderik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/roderik/subscriptions",
      "organizations_url": "https://api.github.com/users/roderik/orgs",
      "repos_url": "https://api.github.com/users/roderik/repos",
      "events_url": "https://api.github.com/users/roderik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/roderik/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-04-08T13:51:55Z",
    "updated_at": "2020-04-08T13:51:55Z",
    "author_association": "CONTRIBUTOR",
    "body": "Yes, 1.4.2 starts with the --nat-method=NONE option",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/610972708/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/616715429",
    "html_url": "https://github.com/hyperledger/besu/issues/507#issuecomment-616715429",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/507",
    "id": 616715429,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxNjcxNTQyOQ==",
    "user": {
      "login": "matkt",
      "id": 26581503,
      "node_id": "MDQ6VXNlcjI2NTgxNTAz",
      "avatar_url": "https://avatars.githubusercontent.com/u/26581503?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/matkt",
      "html_url": "https://github.com/matkt",
      "followers_url": "https://api.github.com/users/matkt/followers",
      "following_url": "https://api.github.com/users/matkt/following{/other_user}",
      "gists_url": "https://api.github.com/users/matkt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/matkt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/matkt/subscriptions",
      "organizations_url": "https://api.github.com/users/matkt/orgs",
      "repos_url": "https://api.github.com/users/matkt/repos",
      "events_url": "https://api.github.com/users/matkt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/matkt/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-04-20T17:54:56Z",
    "updated_at": "2020-04-20T17:54:56Z",
    "author_association": "CONTRIBUTOR",
    "body": "The issue will be fixed in the next release (1.4.4). Feel free to reopen the issue if you still have it",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/616715429/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
