{
  "url": "https://api.github.com/repos/hyperledger/besu/issues/5318",
  "repository_url": "https://api.github.com/repos/hyperledger/besu",
  "labels_url": "https://api.github.com/repos/hyperledger/besu/issues/5318/labels{/name}",
  "comments_url": "https://api.github.com/repos/hyperledger/besu/issues/5318/comments",
  "events_url": "https://api.github.com/repos/hyperledger/besu/issues/5318/events",
  "html_url": "https://github.com/hyperledger/besu/issues/5318",
  "id": 1657119692,
  "node_id": "I_kwDODE2jmc5ixaPM",
  "number": 5318,
  "title": "Tracing with non archive node",
  "user": {
    "login": "gkozyryatskyy",
    "id": 7124946,
    "node_id": "MDQ6VXNlcjcxMjQ5NDY=",
    "avatar_url": "https://avatars.githubusercontent.com/u/7124946?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/gkozyryatskyy",
    "html_url": "https://github.com/gkozyryatskyy",
    "followers_url": "https://api.github.com/users/gkozyryatskyy/followers",
    "following_url": "https://api.github.com/users/gkozyryatskyy/following{/other_user}",
    "gists_url": "https://api.github.com/users/gkozyryatskyy/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/gkozyryatskyy/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/gkozyryatskyy/subscriptions",
    "organizations_url": "https://api.github.com/users/gkozyryatskyy/orgs",
    "repos_url": "https://api.github.com/users/gkozyryatskyy/repos",
    "events_url": "https://api.github.com/users/gkozyryatskyy/events{/privacy}",
    "received_events_url": "https://api.github.com/users/gkozyryatskyy/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 1537362491,
      "node_id": "MDU6TGFiZWwxNTM3MzYyNDkx",
      "url": "https://api.github.com/repos/hyperledger/besu/labels/documentation",
      "name": "documentation",
      "color": "0075ca",
      "default": true,
      "description": "Improvements or additions to documentation"
    },
    {
      "id": 3805580086,
      "node_id": "LA_kwDODE2jmc7i1Is2",
      "url": "https://api.github.com/repos/hyperledger/besu/labels/question",
      "name": "question",
      "color": "bfd4f2",
      "default": true,
      "description": ""
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 11,
  "created_at": "2023-04-06T10:16:53Z",
  "updated_at": "2023-04-14T07:45:41Z",
  "closed_at": null,
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "### Description\r\nHello guys!\r\nI have a question regarding using besu trace functionality for not an archive node.\r\n\r\nCurrently I have:\r\n- Besu: `--network=sepolia --sync-mode=X_SNAP --data-storage-format=BONSAI ... etc`\r\n- Teku: `--network=sepolia ... etc`\r\n- `eth_blockNumber` \r\n```\r\ncurl -X POST --data '{\"jsonrpc\":\"2.0\",\"method\":\"eth_blockNumber\",\"params\":[],\"id\":51}' http://127.0.0.1:8545                                                   \r\n\r\n{\r\n  \"jsonrpc\" : \"2.0\",\r\n  \"id\" : 51,\r\n  \"result\" : \"0x2fefb8\"\r\n}\r\n```\r\n- `eth_syncing`\r\n```\r\n curl -X POST --data '{\"jsonrpc\":\"2.0\",\"method\":\"eth_syncing\",\"params\":[],\"id\":51}' http://127.0.0.1:8545                                                       \r\n\r\n{\r\n  \"jsonrpc\" : \"2.0\",\r\n  \"id\" : 51,\r\n  \"result\" : false\r\n}\r\n```\r\n- `trace_replayBlockTransactions`\r\n```\r\ncurl -X POST --data '{\"jsonrpc\": \"2.0\", \"method\": \"trace_replayBlockTransactions\",\"params\": [\"0x2fefb8\",[\"trace\",\"vmTrace\",\"stateDiff\"]],\"id\": 1}' http://127.0.0.1:8545\r\n\r\n{\r\n  \"jsonrpc\" : \"2.0\",\r\n  \"id\" : 1,\r\n  \"result\" : null\r\n}\r\n```\r\n\r\nThe question is, why im getting `\"result\" : null` for `trace_replayBlockTransactions`? \r\nDoc says:\r\n```\r\nTo use the ad-hoc tracing APIs, the requested block or transaction must be within the number of [blocks retained](https://besu.hyperledger.org/en/stable/public-networks/reference/cli/options/#pruning-blocks-retained) with [pruning enabled](https://besu.hyperledger.org/en/stable/public-networks/reference/cli/options/#pruning-enabled) (by default, 1024).\r\n```\r\nI believe by `pruning-enabled` means I should use default `--pruning-enabled=false`\r\n\r\nSo how can I get result with `trace_replayBlockTransactions`? What im doing wrong?\r\nWill be grateful for any help!\r\n\r\n### Acceptance Criteria\r\n`trace_replayBlockTransactions` should return the result\r\n\r\n### Steps to Reproduce (Bug)\r\nExecute `trace_replayBlockTransactions` on the last block\r\n```\r\ncurl -X POST --data '{\"jsonrpc\": \"2.0\", \"method\": \"trace_replayBlockTransactions\",\"params\": [\"0x2fefb8\",[\"trace\",\"vmTrace\",\"stateDiff\"]],\"id\": 1}' http://127.0.0.1:8545\r\n\r\n{\r\n  \"jsonrpc\" : \"2.0\",\r\n  \"id\" : 1,\r\n  \"result\" : null\r\n}\r\n```\r\n\r\n**Expected behavior:** \r\n`trace_replayBlockTransactions` should return the result\r\n\r\n**Actual behavior:** \r\n`trace_replayBlockTransactions` return `\"result\" : null`\r\n\r\n**Frequency:** Allways\r\n\r\n### Versions (Add all that apply)\r\n* Software version: `besu/v23.1.2/linux-aarch_64/openjdk-java-17`\r\n* Java version: `openjdk-java-17`\r\n* OS Name & Version: docker image `hyperledger/besu:latest`\r\n* Docker Version: \r\n```\r\nServer: Docker Desktop 4.17.0 (99724)\r\n Engine:\r\n  Version:          20.10.23\r\n```\r\n* Consensus Client & Version if using Proof of Stake: `Teku 23.3.1`",
  "closed_by": {
    "login": "non-fungible-nelson",
    "id": 85905982,
    "node_id": "MDQ6VXNlcjg1OTA1OTgy",
    "avatar_url": "https://avatars.githubusercontent.com/u/85905982?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/non-fungible-nelson",
    "html_url": "https://github.com/non-fungible-nelson",
    "followers_url": "https://api.github.com/users/non-fungible-nelson/followers",
    "following_url": "https://api.github.com/users/non-fungible-nelson/following{/other_user}",
    "gists_url": "https://api.github.com/users/non-fungible-nelson/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/non-fungible-nelson/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/non-fungible-nelson/subscriptions",
    "organizations_url": "https://api.github.com/users/non-fungible-nelson/orgs",
    "repos_url": "https://api.github.com/users/non-fungible-nelson/repos",
    "events_url": "https://api.github.com/users/non-fungible-nelson/events{/privacy}",
    "received_events_url": "https://api.github.com/users/non-fungible-nelson/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/5318/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/hyperledger/besu/issues/5318/timeline",
  "performed_via_github_app": null,
  "state_reason": "reopened"
}
[
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1500556332",
    "html_url": "https://github.com/hyperledger/besu/issues/5318#issuecomment-1500556332",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/5318",
    "id": 1500556332,
    "node_id": "IC_kwDODE2jmc5ZcKws",
    "user": {
      "login": "non-fungible-nelson",
      "id": 85905982,
      "node_id": "MDQ6VXNlcjg1OTA1OTgy",
      "avatar_url": "https://avatars.githubusercontent.com/u/85905982?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/non-fungible-nelson",
      "html_url": "https://github.com/non-fungible-nelson",
      "followers_url": "https://api.github.com/users/non-fungible-nelson/followers",
      "following_url": "https://api.github.com/users/non-fungible-nelson/following{/other_user}",
      "gists_url": "https://api.github.com/users/non-fungible-nelson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/non-fungible-nelson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/non-fungible-nelson/subscriptions",
      "organizations_url": "https://api.github.com/users/non-fungible-nelson/orgs",
      "repos_url": "https://api.github.com/users/non-fungible-nelson/repos",
      "events_url": "https://api.github.com/users/non-fungible-nelson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/non-fungible-nelson/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-04-07T19:04:16Z",
    "updated_at": "2023-04-07T19:04:16Z",
    "author_association": "CONTRIBUTOR",
    "body": "This actually is an oversight that needs to be updated in the docs, thank you. \r\n\r\nIn the case of Bonsai, 'blocks retained' relates to [this setting](https://besu.hyperledger.org/en/latest/public-networks/reference/cli/options/?h=bonsai+max#bonsai-maximum-back-layers-to-load). Pruning means nothing in the context of Bonsai, it is automatically pruned. \r\n\r\nBonsai by default only allows you to query blocks in this range from head. So if you use the default, which is 512, and query a block older than 512 blocks from the head of the chain, Bonsai won't be able to fetch it. \r\n\r\nCan you try raising this range and letting me know what result you get? Or tracing a transaction within the last 512 blocks? \r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1500556332/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1506012305",
    "html_url": "https://github.com/hyperledger/besu/issues/5318#issuecomment-1506012305",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/5318",
    "id": 1506012305,
    "node_id": "IC_kwDODE2jmc5Zw-yR",
    "user": {
      "login": "non-fungible-nelson",
      "id": 85905982,
      "node_id": "MDQ6VXNlcjg1OTA1OTgy",
      "avatar_url": "https://avatars.githubusercontent.com/u/85905982?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/non-fungible-nelson",
      "html_url": "https://github.com/non-fungible-nelson",
      "followers_url": "https://api.github.com/users/non-fungible-nelson/followers",
      "following_url": "https://api.github.com/users/non-fungible-nelson/following{/other_user}",
      "gists_url": "https://api.github.com/users/non-fungible-nelson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/non-fungible-nelson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/non-fungible-nelson/subscriptions",
      "organizations_url": "https://api.github.com/users/non-fungible-nelson/orgs",
      "repos_url": "https://api.github.com/users/non-fungible-nelson/repos",
      "events_url": "https://api.github.com/users/non-fungible-nelson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/non-fungible-nelson/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-04-12T21:56:47Z",
    "updated_at": "2023-04-12T21:56:47Z",
    "author_association": "CONTRIBUTOR",
    "body": "I have updated the docs for clarity - closing this. let me know if you have any more issues. ",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1506012305/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1507161037",
    "html_url": "https://github.com/hyperledger/besu/issues/5318#issuecomment-1507161037",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/5318",
    "id": 1507161037,
    "node_id": "IC_kwDODE2jmc5Z1XPN",
    "user": {
      "login": "gkozyryatskyy",
      "id": 7124946,
      "node_id": "MDQ6VXNlcjcxMjQ5NDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7124946?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gkozyryatskyy",
      "html_url": "https://github.com/gkozyryatskyy",
      "followers_url": "https://api.github.com/users/gkozyryatskyy/followers",
      "following_url": "https://api.github.com/users/gkozyryatskyy/following{/other_user}",
      "gists_url": "https://api.github.com/users/gkozyryatskyy/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gkozyryatskyy/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gkozyryatskyy/subscriptions",
      "organizations_url": "https://api.github.com/users/gkozyryatskyy/orgs",
      "repos_url": "https://api.github.com/users/gkozyryatskyy/repos",
      "events_url": "https://api.github.com/users/gkozyryatskyy/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gkozyryatskyy/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-04-13T15:20:31Z",
    "updated_at": "2023-04-13T15:20:31Z",
    "author_association": "NONE",
    "body": "@non-fungible-nelson Thank you for the reply! And sorry for the delay from my side.\r\n\r\nThank you for the explanation of Bonsai.\r\nBut as I mentioned in original request, Im tracing exactly my last `eth_blockNumber` so it is \"within the last 512 blocks\".\r\n- `eth_blockNumber ` return `0x2fefb8` block\r\n- Im requesting `trace_replayBlockTransactions` with `[\"0x2fefb8\",[\"trace\",\"vmTrace\",\"stateDiff\"]]` and getting `null` as a response",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1507161037/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1507162897",
    "html_url": "https://github.com/hyperledger/besu/issues/5318#issuecomment-1507162897",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/5318",
    "id": 1507162897,
    "node_id": "IC_kwDODE2jmc5Z1XsR",
    "user": {
      "login": "non-fungible-nelson",
      "id": 85905982,
      "node_id": "MDQ6VXNlcjg1OTA1OTgy",
      "avatar_url": "https://avatars.githubusercontent.com/u/85905982?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/non-fungible-nelson",
      "html_url": "https://github.com/non-fungible-nelson",
      "followers_url": "https://api.github.com/users/non-fungible-nelson/followers",
      "following_url": "https://api.github.com/users/non-fungible-nelson/following{/other_user}",
      "gists_url": "https://api.github.com/users/non-fungible-nelson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/non-fungible-nelson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/non-fungible-nelson/subscriptions",
      "organizations_url": "https://api.github.com/users/non-fungible-nelson/orgs",
      "repos_url": "https://api.github.com/users/non-fungible-nelson/repos",
      "events_url": "https://api.github.com/users/non-fungible-nelson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/non-fungible-nelson/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-04-13T15:21:42Z",
    "updated_at": "2023-04-13T15:21:42Z",
    "author_association": "CONTRIBUTOR",
    "body": "can you paste your exact RPC call? are other calls successful? \r\n",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1507162897/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1507164588",
    "html_url": "https://github.com/hyperledger/besu/issues/5318#issuecomment-1507164588",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/5318",
    "id": 1507164588,
    "node_id": "IC_kwDODE2jmc5Z1YGs",
    "user": {
      "login": "gkozyryatskyy",
      "id": 7124946,
      "node_id": "MDQ6VXNlcjcxMjQ5NDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7124946?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gkozyryatskyy",
      "html_url": "https://github.com/gkozyryatskyy",
      "followers_url": "https://api.github.com/users/gkozyryatskyy/followers",
      "following_url": "https://api.github.com/users/gkozyryatskyy/following{/other_user}",
      "gists_url": "https://api.github.com/users/gkozyryatskyy/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gkozyryatskyy/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gkozyryatskyy/subscriptions",
      "organizations_url": "https://api.github.com/users/gkozyryatskyy/orgs",
      "repos_url": "https://api.github.com/users/gkozyryatskyy/repos",
      "events_url": "https://api.github.com/users/gkozyryatskyy/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gkozyryatskyy/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-04-13T15:22:55Z",
    "updated_at": "2023-04-13T15:22:55Z",
    "author_association": "NONE",
    "body": "@non-fungible-nelson please see first message in this issue. There is an exact RPC call under `trace_replayBlockTransactions` section",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1507164588/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1507167402",
    "html_url": "https://github.com/hyperledger/besu/issues/5318#issuecomment-1507167402",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/5318",
    "id": 1507167402,
    "node_id": "IC_kwDODE2jmc5Z1Yyq",
    "user": {
      "login": "gkozyryatskyy",
      "id": 7124946,
      "node_id": "MDQ6VXNlcjcxMjQ5NDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7124946?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gkozyryatskyy",
      "html_url": "https://github.com/gkozyryatskyy",
      "followers_url": "https://api.github.com/users/gkozyryatskyy/followers",
      "following_url": "https://api.github.com/users/gkozyryatskyy/following{/other_user}",
      "gists_url": "https://api.github.com/users/gkozyryatskyy/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gkozyryatskyy/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gkozyryatskyy/subscriptions",
      "organizations_url": "https://api.github.com/users/gkozyryatskyy/orgs",
      "repos_url": "https://api.github.com/users/gkozyryatskyy/repos",
      "events_url": "https://api.github.com/users/gkozyryatskyy/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gkozyryatskyy/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-04-13T15:24:49Z",
    "updated_at": "2023-04-13T15:24:49Z",
    "author_association": "NONE",
    "body": "@non-fungible-nelson Yes, other calls like `eth_blockNumber` and  `eth_syncing` are successful. Responses also in the first message.",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1507167402/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1507173423",
    "html_url": "https://github.com/hyperledger/besu/issues/5318#issuecomment-1507173423",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/5318",
    "id": 1507173423,
    "node_id": "IC_kwDODE2jmc5Z1aQv",
    "user": {
      "login": "gkozyryatskyy",
      "id": 7124946,
      "node_id": "MDQ6VXNlcjcxMjQ5NDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7124946?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gkozyryatskyy",
      "html_url": "https://github.com/gkozyryatskyy",
      "followers_url": "https://api.github.com/users/gkozyryatskyy/followers",
      "following_url": "https://api.github.com/users/gkozyryatskyy/following{/other_user}",
      "gists_url": "https://api.github.com/users/gkozyryatskyy/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gkozyryatskyy/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gkozyryatskyy/subscriptions",
      "organizations_url": "https://api.github.com/users/gkozyryatskyy/orgs",
      "repos_url": "https://api.github.com/users/gkozyryatskyy/repos",
      "events_url": "https://api.github.com/users/gkozyryatskyy/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gkozyryatskyy/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-04-13T15:28:42Z",
    "updated_at": "2023-04-13T15:28:42Z",
    "author_association": "NONE",
    "body": "@non-fungible-nelson My first guess was that it is because of `--sync-mode=X_SNAP`, but doc do not say that we need to have an archive node.",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1507173423/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1507540426",
    "html_url": "https://github.com/hyperledger/besu/issues/5318#issuecomment-1507540426",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/5318",
    "id": 1507540426,
    "node_id": "IC_kwDODE2jmc5Z2z3K",
    "user": {
      "login": "non-fungible-nelson",
      "id": 85905982,
      "node_id": "MDQ6VXNlcjg1OTA1OTgy",
      "avatar_url": "https://avatars.githubusercontent.com/u/85905982?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/non-fungible-nelson",
      "html_url": "https://github.com/non-fungible-nelson",
      "followers_url": "https://api.github.com/users/non-fungible-nelson/followers",
      "following_url": "https://api.github.com/users/non-fungible-nelson/following{/other_user}",
      "gists_url": "https://api.github.com/users/non-fungible-nelson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/non-fungible-nelson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/non-fungible-nelson/subscriptions",
      "organizations_url": "https://api.github.com/users/non-fungible-nelson/orgs",
      "repos_url": "https://api.github.com/users/non-fungible-nelson/repos",
      "events_url": "https://api.github.com/users/non-fungible-nelson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/non-fungible-nelson/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-04-13T20:01:43Z",
    "updated_at": "2023-04-13T20:01:43Z",
    "author_association": "CONTRIBUTOR",
    "body": "To confirm, the sepolia block number you specified is over 100k blocks behind head. Did you update your bonsai flag to be that large? this is a huge number usually not suitable for bonsai but it should work (will require a lot of CPU). ",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1507540426/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1507604190",
    "html_url": "https://github.com/hyperledger/besu/issues/5318#issuecomment-1507604190",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/5318",
    "id": 1507604190,
    "node_id": "IC_kwDODE2jmc5Z3Dbe",
    "user": {
      "login": "gkozyryatskyy",
      "id": 7124946,
      "node_id": "MDQ6VXNlcjcxMjQ5NDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7124946?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gkozyryatskyy",
      "html_url": "https://github.com/gkozyryatskyy",
      "followers_url": "https://api.github.com/users/gkozyryatskyy/followers",
      "following_url": "https://api.github.com/users/gkozyryatskyy/following{/other_user}",
      "gists_url": "https://api.github.com/users/gkozyryatskyy/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gkozyryatskyy/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gkozyryatskyy/subscriptions",
      "organizations_url": "https://api.github.com/users/gkozyryatskyy/orgs",
      "repos_url": "https://api.github.com/users/gkozyryatskyy/repos",
      "events_url": "https://api.github.com/users/gkozyryatskyy/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gkozyryatskyy/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-04-13T21:00:48Z",
    "updated_at": "2023-04-13T21:03:19Z",
    "author_association": "NONE",
    "body": "@non-fungible-nelson You right. This is because node is not fully synced.\r\n\r\nThis is also really the goal of the experiment: \"Can I trace the blocks while node is syncing? If yes, I can store the trace results with out having an archive node\"\r\n\r\nSo the \"bonsai flag\" is **not** updated, but im checking for `eth_blockNumber` and trying `trace_replayBlockTransactions` with it \"last available block\", expecting this block still have all needed info for the trace. ",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1507604190/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1507697591",
    "html_url": "https://github.com/hyperledger/besu/issues/5318#issuecomment-1507697591",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/5318",
    "id": 1507697591,
    "node_id": "IC_kwDODE2jmc5Z3aO3",
    "user": {
      "login": "non-fungible-nelson",
      "id": 85905982,
      "node_id": "MDQ6VXNlcjg1OTA1OTgy",
      "avatar_url": "https://avatars.githubusercontent.com/u/85905982?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/non-fungible-nelson",
      "html_url": "https://github.com/non-fungible-nelson",
      "followers_url": "https://api.github.com/users/non-fungible-nelson/followers",
      "following_url": "https://api.github.com/users/non-fungible-nelson/following{/other_user}",
      "gists_url": "https://api.github.com/users/non-fungible-nelson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/non-fungible-nelson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/non-fungible-nelson/subscriptions",
      "organizations_url": "https://api.github.com/users/non-fungible-nelson/orgs",
      "repos_url": "https://api.github.com/users/non-fungible-nelson/repos",
      "events_url": "https://api.github.com/users/non-fungible-nelson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/non-fungible-nelson/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-04-13T22:46:34Z",
    "updated_at": "2023-04-13T22:46:34Z",
    "author_association": "CONTRIBUTOR",
    "body": "yes - sounds good. Your initial theory about snap sync was correct. Depending on when you finished your sync, you may not be able to trace that far before, even if you increase the amount on those flags. Forest mode may be better for your use-case.  ",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1507697591/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1508077291",
    "html_url": "https://github.com/hyperledger/besu/issues/5318#issuecomment-1508077291",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/5318",
    "id": 1508077291,
    "node_id": "IC_kwDODE2jmc5Z427r",
    "user": {
      "login": "gkozyryatskyy",
      "id": 7124946,
      "node_id": "MDQ6VXNlcjcxMjQ5NDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7124946?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gkozyryatskyy",
      "html_url": "https://github.com/gkozyryatskyy",
      "followers_url": "https://api.github.com/users/gkozyryatskyy/followers",
      "following_url": "https://api.github.com/users/gkozyryatskyy/following{/other_user}",
      "gists_url": "https://api.github.com/users/gkozyryatskyy/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gkozyryatskyy/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gkozyryatskyy/subscriptions",
      "organizations_url": "https://api.github.com/users/gkozyryatskyy/orgs",
      "repos_url": "https://api.github.com/users/gkozyryatskyy/repos",
      "events_url": "https://api.github.com/users/gkozyryatskyy/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gkozyryatskyy/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-04-14T07:45:41Z",
    "updated_at": "2023-04-14T07:45:41Z",
    "author_association": "NONE",
    "body": "@non-fungible-nelson Just to make it more clear for me.\r\n\r\n1. I have `--sync-mode=X_SNAP --data-storage-format=BONSAI` node\r\n2. Node is not fully synced and syncing right now\r\n3. While it is synced (before it is fully synced), I **cant** do the `trace_replayBlockTransactions` with from `eth_blockNumber` to `eth_blockNumber  - 512` block. \r\n\r\nBut maybe with `--data-storage-format=FOREST` I will be able to do 3. while sync process?\r\nAm I understand you correctly?\r\n\r\nThank you!",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1508077291/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
