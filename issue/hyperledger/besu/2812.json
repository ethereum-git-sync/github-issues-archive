{
  "url": "https://api.github.com/repos/hyperledger/besu/issues/2812",
  "repository_url": "https://api.github.com/repos/hyperledger/besu",
  "labels_url": "https://api.github.com/repos/hyperledger/besu/issues/2812/labels{/name}",
  "comments_url": "https://api.github.com/repos/hyperledger/besu/issues/2812/comments",
  "events_url": "https://api.github.com/repos/hyperledger/besu/issues/2812/events",
  "html_url": "https://github.com/hyperledger/besu/issues/2812",
  "id": 1009312329,
  "node_id": "I_kwDODE2jmc48KOJJ",
  "number": 2812,
  "title": "ANTLR Tool version mismatch on startup with --config-file",
  "user": {
    "login": "macfarla",
    "id": 2627919,
    "node_id": "MDQ6VXNlcjI2Mjc5MTk=",
    "avatar_url": "https://avatars.githubusercontent.com/u/2627919?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/macfarla",
    "html_url": "https://github.com/macfarla",
    "followers_url": "https://api.github.com/users/macfarla/followers",
    "following_url": "https://api.github.com/users/macfarla/following{/other_user}",
    "gists_url": "https://api.github.com/users/macfarla/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/macfarla/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/macfarla/subscriptions",
    "organizations_url": "https://api.github.com/users/macfarla/orgs",
    "repos_url": "https://api.github.com/users/macfarla/repos",
    "events_url": "https://api.github.com/users/macfarla/events{/privacy}",
    "received_events_url": "https://api.github.com/users/macfarla/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 1537362500,
      "node_id": "MDU6TGFiZWwxNTM3MzYyNTAw",
      "url": "https://api.github.com/repos/hyperledger/besu/labels/good%20first%20issue",
      "name": "good first issue",
      "color": "7057ff",
      "default": true,
      "description": "Good for newcomers"
    },
    {
      "id": 2129007612,
      "node_id": "MDU6TGFiZWwyMTI5MDA3NjEy",
      "url": "https://api.github.com/repos/hyperledger/besu/labels/dev%20experience",
      "name": "dev experience",
      "color": "2a0b89",
      "default": false,
      "description": "The build system, things that enable easier development etc."
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": {
    "login": "macfarla",
    "id": 2627919,
    "node_id": "MDQ6VXNlcjI2Mjc5MTk=",
    "avatar_url": "https://avatars.githubusercontent.com/u/2627919?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/macfarla",
    "html_url": "https://github.com/macfarla",
    "followers_url": "https://api.github.com/users/macfarla/followers",
    "following_url": "https://api.github.com/users/macfarla/following{/other_user}",
    "gists_url": "https://api.github.com/users/macfarla/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/macfarla/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/macfarla/subscriptions",
    "organizations_url": "https://api.github.com/users/macfarla/orgs",
    "repos_url": "https://api.github.com/users/macfarla/repos",
    "events_url": "https://api.github.com/users/macfarla/events{/privacy}",
    "received_events_url": "https://api.github.com/users/macfarla/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "macfarla",
      "id": 2627919,
      "node_id": "MDQ6VXNlcjI2Mjc5MTk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2627919?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/macfarla",
      "html_url": "https://github.com/macfarla",
      "followers_url": "https://api.github.com/users/macfarla/followers",
      "following_url": "https://api.github.com/users/macfarla/following{/other_user}",
      "gists_url": "https://api.github.com/users/macfarla/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/macfarla/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/macfarla/subscriptions",
      "organizations_url": "https://api.github.com/users/macfarla/orgs",
      "repos_url": "https://api.github.com/users/macfarla/repos",
      "events_url": "https://api.github.com/users/macfarla/events{/privacy}",
      "received_events_url": "https://api.github.com/users/macfarla/received_events",
      "type": "User",
      "site_admin": false
    },
    {
      "login": "TheSwarnim",
      "id": 54211377,
      "node_id": "MDQ6VXNlcjU0MjExMzc3",
      "avatar_url": "https://avatars.githubusercontent.com/u/54211377?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TheSwarnim",
      "html_url": "https://github.com/TheSwarnim",
      "followers_url": "https://api.github.com/users/TheSwarnim/followers",
      "following_url": "https://api.github.com/users/TheSwarnim/following{/other_user}",
      "gists_url": "https://api.github.com/users/TheSwarnim/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TheSwarnim/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TheSwarnim/subscriptions",
      "organizations_url": "https://api.github.com/users/TheSwarnim/orgs",
      "repos_url": "https://api.github.com/users/TheSwarnim/repos",
      "events_url": "https://api.github.com/users/TheSwarnim/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TheSwarnim/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 6,
  "created_at": "2021-09-28T05:58:33Z",
  "updated_at": "2022-04-19T02:28:23Z",
  "closed_at": "2022-04-19T02:28:22Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "### Description\r\nAs a besu user, I want startup without errors. This error does not affect operation, but it's affecting developer experience. It is common for users to see this error and think besu is not starting properly.\r\n\r\n### Acceptance Criteria\r\n* besu can start with config file, without the ANTLR version error message\r\n\r\n### Steps to Reproduce (Bug)\r\nNote this error appears with valid config file, or invalid. \r\n\r\nSo the easiest way to reproduce is a simple invalid config file:\r\n```\r\ncat b.conf\r\nnope=\"yes\"\r\n```\r\nAttempt to start besu with this config file\r\n```\r\nbesu --config-file=b.conf\r\nANTLR Tool version 4.7.1 used for code generation does not match the current runtime version 4.8ANTLR Runtime version 4.7.1 used for parser compilation does not match the current runtime version 4.8ANTLR Tool version 4.7.1 used for code generation does not match the current runtime version 4.8ANTLR Runtime version 4.7.1 used for parser compilation does not match the current runtime version 4.8Unknown option in TOML configuration file: nope\r\n```\r\nExample output with valid config file:\r\n```\r\nbesu --config-file=besu1.conf\r\nANTLR Tool version 4.7.1 used for code generation does not match the current runtime version 4.8ANTLR Runtime version 4.7.1 used for parser compilation does not match the current runtime version 4.8ANTLR Tool version 4.7.1 used for code generation does not match the current runtime version 4.8ANTLR Runtime version 4.7.1 used for parser compilation does not match the current runtime version 4.82021-09-28 15:21:45.792+10:00 | main | INFO  | Besu | Using LibEthPairings native alt bn128\r\n2021-09-28 15:21:45.795+10:00 | main | INFO  | Besu | Using the native implementation of the signature algorithm\r\n2021-09-28 15:21:45.800+10:00 | main | INFO  | Besu | Starting Besu version: besu/v21.10.0-RC1-dev-46066518/osx-x86_64/oracle_openjdk-java-11\r\n2021-09-28 15:21:46.004+10:00 | main | INFO  | Besu | Static Nodes file = /Users/sallymacfarlane/workspace/besu-local-nodes/workdir/besu1/data/static-nodes.json\r\n2021-09-28 15:21:46.005+10:00 | main | INFO  | StaticNodesParser | StaticNodes file /Users/sallymacfarlane/workspace/besu-local-nodes/workdir/besu1/data/static-nodes.json does not exist, no static connections will be created.\r\n2021-09-28 15:21:46.005+10:00 | main | INFO  | Besu | Connecting to 0 static nodes.\r\n```\r\n**Expected behavior:** [What you expect to happen]\r\nbesu --config-file=b.conf\r\nUnknown option in TOML configuration file: nope\r\n\r\n**Actual behavior:** [What actually happens]\r\n```\r\nbesu --config-file=b.conf\r\nANTLR Tool version 4.7.1 used for code generation does not match the current runtime version 4.8ANTLR Runtime version 4.7.1 used for parser compilation does not match the current runtime version 4.8ANTLR Tool version 4.7.1 used for code generation does not match the current runtime version 4.8ANTLR Runtime version 4.7.1 used for parser compilation does not match the current runtime version 4.8Unknown option in TOML configuration file: nope\r\n```\r\nNote if I supply this option on the command line (no config file) I do not get the error.\r\n```\r\nbesu --nope=yes\r\nUnknown option: '--nope=yes'\r\nPossible solutions: --node-private-key-file\r\n\r\nTo display full help:\r\nbesu [COMMAND] --help\r\n```\r\nI get the same behavior using IDE or on the command line.\r\n\r\n**Frequency:** [What percentage of the time does it occur?]\r\n100% when using --config-file\r\n\r\n### Versions (Add all that apply)\r\n* Software version: [`besu --version`]\r\nbesu -V\r\nbesu/v21.10.0-RC1-dev-46066518/osx-x86_64/oracle_openjdk-java-11\r\n* Java version: [`java -version`]\r\njava -version\r\nopenjdk version \"11.0.10\" 2021-01-19\r\nOpenJDK Runtime Environment (build 11.0.10+9)\r\nOpenJDK 64-Bit Server VM (build 11.0.10+9, mixed mode)\r\n* OS Name & Version: [`cat /etc/*release`]\r\n* Kernel Version: [`uname -a`]\r\nuname -a\r\nDarwin Sallys-MacBook-Pro.local 20.6.0 Darwin Kernel Version 20.6.0: Mon Aug 30 06:12:21 PDT 2021; root:xnu-7195.141.6~3/RELEASE_X86_64 x86_64\r\n\r\n### Additional Information\r\n\r\n",
  "closed_by": {
    "login": "macfarla",
    "id": 2627919,
    "node_id": "MDQ6VXNlcjI2Mjc5MTk=",
    "avatar_url": "https://avatars.githubusercontent.com/u/2627919?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/macfarla",
    "html_url": "https://github.com/macfarla",
    "followers_url": "https://api.github.com/users/macfarla/followers",
    "following_url": "https://api.github.com/users/macfarla/following{/other_user}",
    "gists_url": "https://api.github.com/users/macfarla/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/macfarla/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/macfarla/subscriptions",
    "organizations_url": "https://api.github.com/users/macfarla/orgs",
    "repos_url": "https://api.github.com/users/macfarla/repos",
    "events_url": "https://api.github.com/users/macfarla/events{/privacy}",
    "received_events_url": "https://api.github.com/users/macfarla/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/2812/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/hyperledger/besu/issues/2812/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/929709930",
    "html_url": "https://github.com/hyperledger/besu/issues/2812#issuecomment-929709930",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/2812",
    "id": 929709930,
    "node_id": "IC_kwDODE2jmc43aj9q",
    "user": {
      "login": "macfarla",
      "id": 2627919,
      "node_id": "MDQ6VXNlcjI2Mjc5MTk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2627919?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/macfarla",
      "html_url": "https://github.com/macfarla",
      "followers_url": "https://api.github.com/users/macfarla/followers",
      "following_url": "https://api.github.com/users/macfarla/following{/other_user}",
      "gists_url": "https://api.github.com/users/macfarla/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/macfarla/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/macfarla/subscriptions",
      "organizations_url": "https://api.github.com/users/macfarla/orgs",
      "repos_url": "https://api.github.com/users/macfarla/repos",
      "events_url": "https://api.github.com/users/macfarla/events{/privacy}",
      "received_events_url": "https://api.github.com/users/macfarla/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-09-29T00:03:29Z",
    "updated_at": "2021-09-29T00:03:29Z",
    "author_association": "CONTRIBUTOR",
    "body": "config file parsing is done in `ConfigOptionSearchAndRunHandler` which extends a deprecated PicoCLI class - this is probably a good place to start. ",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/929709930/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/930630296",
    "html_url": "https://github.com/hyperledger/besu/issues/2812#issuecomment-930630296",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/2812",
    "id": 930630296,
    "node_id": "IC_kwDODE2jmc43eEqY",
    "user": {
      "login": "macfarla",
      "id": 2627919,
      "node_id": "MDQ6VXNlcjI2Mjc5MTk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2627919?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/macfarla",
      "html_url": "https://github.com/macfarla",
      "followers_url": "https://api.github.com/users/macfarla/followers",
      "following_url": "https://api.github.com/users/macfarla/following{/other_user}",
      "gists_url": "https://api.github.com/users/macfarla/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/macfarla/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/macfarla/subscriptions",
      "organizations_url": "https://api.github.com/users/macfarla/orgs",
      "repos_url": "https://api.github.com/users/macfarla/repos",
      "events_url": "https://api.github.com/users/macfarla/events{/privacy}",
      "received_events_url": "https://api.github.com/users/macfarla/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-09-29T23:55:53Z",
    "updated_at": "2021-09-29T23:55:53Z",
    "author_association": "CONTRIBUTOR",
    "body": "example of this message confusing a user: https://github.com/hyperledger/besu/issues/2548",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/930630296/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/955130322",
    "html_url": "https://github.com/hyperledger/besu/issues/2812#issuecomment-955130322",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/2812",
    "id": 955130322,
    "node_id": "IC_kwDODE2jmc447iHS",
    "user": {
      "login": "sambacha",
      "id": 32783916,
      "node_id": "MDQ6VXNlcjMyNzgzOTE2",
      "avatar_url": "https://avatars.githubusercontent.com/u/32783916?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sambacha",
      "html_url": "https://github.com/sambacha",
      "followers_url": "https://api.github.com/users/sambacha/followers",
      "following_url": "https://api.github.com/users/sambacha/following{/other_user}",
      "gists_url": "https://api.github.com/users/sambacha/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sambacha/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sambacha/subscriptions",
      "organizations_url": "https://api.github.com/users/sambacha/orgs",
      "repos_url": "https://api.github.com/users/sambacha/repos",
      "events_url": "https://api.github.com/users/sambacha/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sambacha/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-10-30T02:26:30Z",
    "updated_at": "2021-10-30T02:26:30Z",
    "author_association": "NONE",
    "body": "I know this is concerning loading the client but just wanted to mention that Besu should stick to 4.7.1 as this is the antlr version used by @solidity-parser/solidity, the nodejs parser. Antlr doesn't follow semver strictly. Not sure if there are any grammar changes that would cause a problem though.",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/955130322/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1025175618",
    "html_url": "https://github.com/hyperledger/besu/issues/2812#issuecomment-1025175618",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/2812",
    "id": 1025175618,
    "node_id": "IC_kwDODE2jmc49GvBC",
    "user": {
      "login": "TheSwarnim",
      "id": 54211377,
      "node_id": "MDQ6VXNlcjU0MjExMzc3",
      "avatar_url": "https://avatars.githubusercontent.com/u/54211377?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TheSwarnim",
      "html_url": "https://github.com/TheSwarnim",
      "followers_url": "https://api.github.com/users/TheSwarnim/followers",
      "following_url": "https://api.github.com/users/TheSwarnim/following{/other_user}",
      "gists_url": "https://api.github.com/users/TheSwarnim/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TheSwarnim/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TheSwarnim/subscriptions",
      "organizations_url": "https://api.github.com/users/TheSwarnim/orgs",
      "repos_url": "https://api.github.com/users/TheSwarnim/repos",
      "events_url": "https://api.github.com/users/TheSwarnim/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TheSwarnim/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-01-30T16:09:13Z",
    "updated_at": "2022-01-30T16:09:13Z",
    "author_association": "CONTRIBUTOR",
    "body": "Hi @macfarla, I would like to work on it, please assign this issue to me.",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1025175618/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1025223772",
    "html_url": "https://github.com/hyperledger/besu/issues/2812#issuecomment-1025223772",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/2812",
    "id": 1025223772,
    "node_id": "IC_kwDODE2jmc49G6xc",
    "user": {
      "login": "macfarla",
      "id": 2627919,
      "node_id": "MDQ6VXNlcjI2Mjc5MTk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2627919?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/macfarla",
      "html_url": "https://github.com/macfarla",
      "followers_url": "https://api.github.com/users/macfarla/followers",
      "following_url": "https://api.github.com/users/macfarla/following{/other_user}",
      "gists_url": "https://api.github.com/users/macfarla/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/macfarla/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/macfarla/subscriptions",
      "organizations_url": "https://api.github.com/users/macfarla/orgs",
      "repos_url": "https://api.github.com/users/macfarla/repos",
      "events_url": "https://api.github.com/users/macfarla/events{/privacy}",
      "received_events_url": "https://api.github.com/users/macfarla/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-01-30T20:26:39Z",
    "updated_at": "2022-01-30T20:26:39Z",
    "author_association": "CONTRIBUTOR",
    "body": "Assigned you @TheSwarnim ",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1025223772/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1101930543",
    "html_url": "https://github.com/hyperledger/besu/issues/2812#issuecomment-1101930543",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/2812",
    "id": 1101930543,
    "node_id": "IC_kwDODE2jmc5BriAv",
    "user": {
      "login": "macfarla",
      "id": 2627919,
      "node_id": "MDQ6VXNlcjI2Mjc5MTk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2627919?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/macfarla",
      "html_url": "https://github.com/macfarla",
      "followers_url": "https://api.github.com/users/macfarla/followers",
      "following_url": "https://api.github.com/users/macfarla/following{/other_user}",
      "gists_url": "https://api.github.com/users/macfarla/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/macfarla/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/macfarla/subscriptions",
      "organizations_url": "https://api.github.com/users/macfarla/orgs",
      "repos_url": "https://api.github.com/users/macfarla/repos",
      "events_url": "https://api.github.com/users/macfarla/events{/privacy}",
      "received_events_url": "https://api.github.com/users/macfarla/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-04-19T02:28:22Z",
    "updated_at": "2022-04-19T02:28:22Z",
    "author_association": "CONTRIBUTOR",
    "body": "I no longer get this warning.\r\n besu/v22.4.0-RC2-dev-24e417d4/osx-x86_64/openjdk-java-11",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1101930543/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
