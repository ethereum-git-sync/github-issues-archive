{
  "url": "https://api.github.com/repos/hyperledger/besu/issues/470",
  "repository_url": "https://api.github.com/repos/hyperledger/besu",
  "labels_url": "https://api.github.com/repos/hyperledger/besu/issues/470/labels{/name}",
  "comments_url": "https://api.github.com/repos/hyperledger/besu/issues/470/comments",
  "events_url": "https://api.github.com/repos/hyperledger/besu/issues/470/events",
  "html_url": "https://github.com/hyperledger/besu/issues/470",
  "id": 581349880,
  "node_id": "MDU6SXNzdWU1ODEzNDk4ODA=",
  "number": 470,
  "title": "Private migration failing from Pantheon 1.1 to Besu 1.4",
  "user": {
    "login": "lucassaldanha",
    "id": 1766440,
    "node_id": "MDQ6VXNlcjE3NjY0NDA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1766440?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/lucassaldanha",
    "html_url": "https://github.com/lucassaldanha",
    "followers_url": "https://api.github.com/users/lucassaldanha/followers",
    "following_url": "https://api.github.com/users/lucassaldanha/following{/other_user}",
    "gists_url": "https://api.github.com/users/lucassaldanha/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/lucassaldanha/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/lucassaldanha/subscriptions",
    "organizations_url": "https://api.github.com/users/lucassaldanha/orgs",
    "repos_url": "https://api.github.com/users/lucassaldanha/repos",
    "events_url": "https://api.github.com/users/lucassaldanha/events{/privacy}",
    "received_events_url": "https://api.github.com/users/lucassaldanha/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 1537362490,
      "node_id": "MDU6TGFiZWwxNTM3MzYyNDkw",
      "url": "https://api.github.com/repos/hyperledger/besu/labels/bug",
      "name": "bug",
      "color": "d73a4a",
      "default": true,
      "description": "Something isn't working"
    },
    {
      "id": 1740324632,
      "node_id": "MDU6TGFiZWwxNzQwMzI0NjMy",
      "url": "https://api.github.com/repos/hyperledger/besu/labels/privacy",
      "name": "privacy",
      "color": "d7f99a",
      "default": false,
      "description": "private transactions"
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": {
    "login": "lucassaldanha",
    "id": 1766440,
    "node_id": "MDQ6VXNlcjE3NjY0NDA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1766440?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/lucassaldanha",
    "html_url": "https://github.com/lucassaldanha",
    "followers_url": "https://api.github.com/users/lucassaldanha/followers",
    "following_url": "https://api.github.com/users/lucassaldanha/following{/other_user}",
    "gists_url": "https://api.github.com/users/lucassaldanha/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/lucassaldanha/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/lucassaldanha/subscriptions",
    "organizations_url": "https://api.github.com/users/lucassaldanha/orgs",
    "repos_url": "https://api.github.com/users/lucassaldanha/repos",
    "events_url": "https://api.github.com/users/lucassaldanha/events{/privacy}",
    "received_events_url": "https://api.github.com/users/lucassaldanha/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "lucassaldanha",
      "id": 1766440,
      "node_id": "MDQ6VXNlcjE3NjY0NDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1766440?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lucassaldanha",
      "html_url": "https://github.com/lucassaldanha",
      "followers_url": "https://api.github.com/users/lucassaldanha/followers",
      "following_url": "https://api.github.com/users/lucassaldanha/following{/other_user}",
      "gists_url": "https://api.github.com/users/lucassaldanha/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lucassaldanha/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lucassaldanha/subscriptions",
      "organizations_url": "https://api.github.com/users/lucassaldanha/orgs",
      "repos_url": "https://api.github.com/users/lucassaldanha/repos",
      "events_url": "https://api.github.com/users/lucassaldanha/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lucassaldanha/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 17,
  "created_at": "2020-03-14T19:59:09Z",
  "updated_at": "2020-04-03T01:11:43Z",
  "closed_at": "2020-04-03T01:11:43Z",
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": "From RC:\r\n\r\n> I believe i've identified an edge case related to private state migration, seems if the Besu node can't detect schema version i.e. version = 0. Besu still starts and private database migration won't run\r\nMigration only runs if schema version is 1 and migration flag is set, otherwise node won't start... (PrivateStrorageMigrationService.java). The node I'm testing dates back to pantheon 1.1 and there's no DATABASE_METADATA.json in the database directory.\r\n\r\nWe need to check what is happening in this case.\r\n\r\n**Expected behaviour**\r\n• If no DATABASE_METADATA.json is present, the private database is assumed to be 1.0. If private transactions are present and the migration flag was set, the migration should happen.\r\n• If no private transactions are present, migration shouldn't happen.\r\n",
  "closed_by": {
    "login": "MadelineMurray",
    "id": 43356962,
    "node_id": "MDQ6VXNlcjQzMzU2OTYy",
    "avatar_url": "https://avatars.githubusercontent.com/u/43356962?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/MadelineMurray",
    "html_url": "https://github.com/MadelineMurray",
    "followers_url": "https://api.github.com/users/MadelineMurray/followers",
    "following_url": "https://api.github.com/users/MadelineMurray/following{/other_user}",
    "gists_url": "https://api.github.com/users/MadelineMurray/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/MadelineMurray/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/MadelineMurray/subscriptions",
    "organizations_url": "https://api.github.com/users/MadelineMurray/orgs",
    "repos_url": "https://api.github.com/users/MadelineMurray/repos",
    "events_url": "https://api.github.com/users/MadelineMurray/events{/privacy}",
    "received_events_url": "https://api.github.com/users/MadelineMurray/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/470/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/hyperledger/besu/issues/470/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/599483647",
    "html_url": "https://github.com/hyperledger/besu/issues/470#issuecomment-599483647",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/470",
    "id": 599483647,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU5OTQ4MzY0Nw==",
    "user": {
      "login": "magooster",
      "id": 12111442,
      "node_id": "MDQ6VXNlcjEyMTExNDQy",
      "avatar_url": "https://avatars.githubusercontent.com/u/12111442?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/magooster",
      "html_url": "https://github.com/magooster",
      "followers_url": "https://api.github.com/users/magooster/followers",
      "following_url": "https://api.github.com/users/magooster/following{/other_user}",
      "gists_url": "https://api.github.com/users/magooster/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/magooster/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/magooster/subscriptions",
      "organizations_url": "https://api.github.com/users/magooster/orgs",
      "repos_url": "https://api.github.com/users/magooster/repos",
      "events_url": "https://api.github.com/users/magooster/events{/privacy}",
      "received_events_url": "https://api.github.com/users/magooster/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-03-16T11:24:03Z",
    "updated_at": "2020-03-16T11:24:03Z",
    "author_association": "CONTRIBUTOR",
    "body": "For clarification there is a DATABASE_METADATA.json file in the data directory I was looking in data/database.\r\n\r\nHowever it looks like in Besu 1.4 private tx related items are being written to data/database whereas in Besu 1.3.x looks like it wrote to data/database/private.\r\n\r\nThe migration service sees the database as empty - so no migration occurs all I see in the PRIVATE_TRANSACTION segment is entries suffixed PGHEADMAP - which I believe are new in 1.4\r\n\r\nThe Besu 1.3.x PRIVATE_TRANSACTION segment in data/database/private contain keys suffixed LOGS and OUTPUT",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/599483647/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/599544010",
    "html_url": "https://github.com/hyperledger/besu/issues/470#issuecomment-599544010",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/470",
    "id": 599544010,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU5OTU0NDAxMA==",
    "user": {
      "login": "magooster",
      "id": 12111442,
      "node_id": "MDQ6VXNlcjEyMTExNDQy",
      "avatar_url": "https://avatars.githubusercontent.com/u/12111442?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/magooster",
      "html_url": "https://github.com/magooster",
      "followers_url": "https://api.github.com/users/magooster/followers",
      "following_url": "https://api.github.com/users/magooster/following{/other_user}",
      "gists_url": "https://api.github.com/users/magooster/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/magooster/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/magooster/subscriptions",
      "organizations_url": "https://api.github.com/users/magooster/orgs",
      "repos_url": "https://api.github.com/users/magooster/repos",
      "events_url": "https://api.github.com/users/magooster/events{/privacy}",
      "received_events_url": "https://api.github.com/users/magooster/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-03-16T13:44:40Z",
    "updated_at": "2020-03-16T13:44:40Z",
    "author_association": "CONTRIBUTOR",
    "body": "In 1.3.x RocksDBPlugin.java createAndRegister\r\n\r\nfactory = new RocksDBKeyValueStorageFactory(configuration, segments);\r\nprivacyFactory = new RocksDBKeyValuePrivacyStorageFactory(configuration, segments)\r\n\r\nseparate storage path - factory = data/database, privateFactory = data/database/privacy\r\n\r\nIn Besu 1.4.x\r\n\r\nfactory =\r\n        new RocksDBKeyValueStorageFactory(\r\n            configuration, segments, RocksDBMetricsFactory.PUBLIC_ROCKS_DB_METRICS);\r\n    privacyFactory = new RocksDBKeyValuePrivacyStorageFactory(factory);\r\n\r\nprivacyFactory inherits the configuration from factory so same storage path = /data/database\r\n\r\nUnless i'm missing something Besu 1.4.x won't see content in old privacy storage, just looking in new location...\r\n\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/599544010/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/599796126",
    "html_url": "https://github.com/hyperledger/besu/issues/470#issuecomment-599796126",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/470",
    "id": 599796126,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU5OTc5NjEyNg==",
    "user": {
      "login": "lucassaldanha",
      "id": 1766440,
      "node_id": "MDQ6VXNlcjE3NjY0NDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1766440?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lucassaldanha",
      "html_url": "https://github.com/lucassaldanha",
      "followers_url": "https://api.github.com/users/lucassaldanha/followers",
      "following_url": "https://api.github.com/users/lucassaldanha/following{/other_user}",
      "gists_url": "https://api.github.com/users/lucassaldanha/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lucassaldanha/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lucassaldanha/subscriptions",
      "organizations_url": "https://api.github.com/users/lucassaldanha/orgs",
      "repos_url": "https://api.github.com/users/lucassaldanha/repos",
      "events_url": "https://api.github.com/users/lucassaldanha/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lucassaldanha/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-03-16T23:02:09Z",
    "updated_at": "2020-03-16T23:02:09Z",
    "author_association": "MEMBER",
    "body": "We are investigating this and will see what we can do. In the meantime, you have the option of re-syncing your node. This should get you back up and running with the database populated correctly.",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/599796126/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/599796280",
    "html_url": "https://github.com/hyperledger/besu/issues/470#issuecomment-599796280",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/470",
    "id": 599796280,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU5OTc5NjI4MA==",
    "user": {
      "login": "lucassaldanha",
      "id": 1766440,
      "node_id": "MDQ6VXNlcjE3NjY0NDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1766440?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lucassaldanha",
      "html_url": "https://github.com/lucassaldanha",
      "followers_url": "https://api.github.com/users/lucassaldanha/followers",
      "following_url": "https://api.github.com/users/lucassaldanha/following{/other_user}",
      "gists_url": "https://api.github.com/users/lucassaldanha/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lucassaldanha/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lucassaldanha/subscriptions",
      "organizations_url": "https://api.github.com/users/lucassaldanha/orgs",
      "repos_url": "https://api.github.com/users/lucassaldanha/repos",
      "events_url": "https://api.github.com/users/lucassaldanha/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lucassaldanha/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-03-16T23:02:43Z",
    "updated_at": "2020-03-16T23:02:43Z",
    "author_association": "MEMBER",
    "body": "And thanks for all the details reporting this problem. It helps us a lot!",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/599796280/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/602942651",
    "html_url": "https://github.com/hyperledger/besu/issues/470#issuecomment-602942651",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/470",
    "id": 602942651,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYwMjk0MjY1MQ==",
    "user": {
      "login": "lucassaldanha",
      "id": 1766440,
      "node_id": "MDQ6VXNlcjE3NjY0NDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1766440?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lucassaldanha",
      "html_url": "https://github.com/lucassaldanha",
      "followers_url": "https://api.github.com/users/lucassaldanha/followers",
      "following_url": "https://api.github.com/users/lucassaldanha/following{/other_user}",
      "gists_url": "https://api.github.com/users/lucassaldanha/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lucassaldanha/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lucassaldanha/subscriptions",
      "organizations_url": "https://api.github.com/users/lucassaldanha/orgs",
      "repos_url": "https://api.github.com/users/lucassaldanha/repos",
      "events_url": "https://api.github.com/users/lucassaldanha/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lucassaldanha/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-03-24T01:03:44Z",
    "updated_at": "2020-03-24T01:03:44Z",
    "author_association": "MEMBER",
    "body": "@magooster Could you confirm the Orion version that you are using in your setup?",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/602942651/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/603099025",
    "html_url": "https://github.com/hyperledger/besu/issues/470#issuecomment-603099025",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/470",
    "id": 603099025,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYwMzA5OTAyNQ==",
    "user": {
      "login": "magooster",
      "id": 12111442,
      "node_id": "MDQ6VXNlcjEyMTExNDQy",
      "avatar_url": "https://avatars.githubusercontent.com/u/12111442?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/magooster",
      "html_url": "https://github.com/magooster",
      "followers_url": "https://api.github.com/users/magooster/followers",
      "following_url": "https://api.github.com/users/magooster/following{/other_user}",
      "gists_url": "https://api.github.com/users/magooster/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/magooster/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/magooster/subscriptions",
      "organizations_url": "https://api.github.com/users/magooster/orgs",
      "repos_url": "https://api.github.com/users/magooster/repos",
      "events_url": "https://api.github.com/users/magooster/events{/privacy}",
      "received_events_url": "https://api.github.com/users/magooster/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-03-24T08:28:09Z",
    "updated_at": "2020-03-24T08:28:09Z",
    "author_association": "CONTRIBUTOR",
    "body": "Was originally using Besu 1.3.4/Orion 1.4.0 have switched to Besu 1.4.0/Orion 1.5.0",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/603099025/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/603107635",
    "html_url": "https://github.com/hyperledger/besu/issues/470#issuecomment-603107635",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/470",
    "id": 603107635,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYwMzEwNzYzNQ==",
    "user": {
      "login": "lucassaldanha",
      "id": 1766440,
      "node_id": "MDQ6VXNlcjE3NjY0NDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1766440?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lucassaldanha",
      "html_url": "https://github.com/lucassaldanha",
      "followers_url": "https://api.github.com/users/lucassaldanha/followers",
      "following_url": "https://api.github.com/users/lucassaldanha/following{/other_user}",
      "gists_url": "https://api.github.com/users/lucassaldanha/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lucassaldanha/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lucassaldanha/subscriptions",
      "organizations_url": "https://api.github.com/users/lucassaldanha/orgs",
      "repos_url": "https://api.github.com/users/lucassaldanha/repos",
      "events_url": "https://api.github.com/users/lucassaldanha/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lucassaldanha/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-03-24T08:45:31Z",
    "updated_at": "2020-03-24T08:46:07Z",
    "author_association": "MEMBER",
    "body": "@magooster Sorry, I meant the version that you were use of before trying the migration (the version you are migrating from).",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/603107635/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/603110543",
    "html_url": "https://github.com/hyperledger/besu/issues/470#issuecomment-603110543",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/470",
    "id": 603110543,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYwMzExMDU0Mw==",
    "user": {
      "login": "magooster",
      "id": 12111442,
      "node_id": "MDQ6VXNlcjEyMTExNDQy",
      "avatar_url": "https://avatars.githubusercontent.com/u/12111442?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/magooster",
      "html_url": "https://github.com/magooster",
      "followers_url": "https://api.github.com/users/magooster/followers",
      "following_url": "https://api.github.com/users/magooster/following{/other_user}",
      "gists_url": "https://api.github.com/users/magooster/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/magooster/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/magooster/subscriptions",
      "organizations_url": "https://api.github.com/users/magooster/orgs",
      "repos_url": "https://api.github.com/users/magooster/repos",
      "events_url": "https://api.github.com/users/magooster/events{/privacy}",
      "received_events_url": "https://api.github.com/users/magooster/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-03-24T08:51:29Z",
    "updated_at": "2020-03-24T08:51:29Z",
    "author_association": "CONTRIBUTOR",
    "body": "Orion 1.4.0",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/603110543/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/603111190",
    "html_url": "https://github.com/hyperledger/besu/issues/470#issuecomment-603111190",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/470",
    "id": 603111190,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYwMzExMTE5MA==",
    "user": {
      "login": "magooster",
      "id": 12111442,
      "node_id": "MDQ6VXNlcjEyMTExNDQy",
      "avatar_url": "https://avatars.githubusercontent.com/u/12111442?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/magooster",
      "html_url": "https://github.com/magooster",
      "followers_url": "https://api.github.com/users/magooster/followers",
      "following_url": "https://api.github.com/users/magooster/following{/other_user}",
      "gists_url": "https://api.github.com/users/magooster/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/magooster/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/magooster/subscriptions",
      "organizations_url": "https://api.github.com/users/magooster/orgs",
      "repos_url": "https://api.github.com/users/magooster/repos",
      "events_url": "https://api.github.com/users/magooster/events{/privacy}",
      "received_events_url": "https://api.github.com/users/magooster/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-03-24T08:52:48Z",
    "updated_at": "2020-03-24T08:52:48Z",
    "author_association": "CONTRIBUTOR",
    "body": "I just upgraded Besu to 1.4.0 from Besu 1.3.4, did not change Orion.",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/603111190/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/603544510",
    "html_url": "https://github.com/hyperledger/besu/issues/470#issuecomment-603544510",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/470",
    "id": 603544510,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYwMzU0NDUxMA==",
    "user": {
      "login": "lucassaldanha",
      "id": 1766440,
      "node_id": "MDQ6VXNlcjE3NjY0NDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1766440?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lucassaldanha",
      "html_url": "https://github.com/lucassaldanha",
      "followers_url": "https://api.github.com/users/lucassaldanha/followers",
      "following_url": "https://api.github.com/users/lucassaldanha/following{/other_user}",
      "gists_url": "https://api.github.com/users/lucassaldanha/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lucassaldanha/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lucassaldanha/subscriptions",
      "organizations_url": "https://api.github.com/users/lucassaldanha/orgs",
      "repos_url": "https://api.github.com/users/lucassaldanha/repos",
      "events_url": "https://api.github.com/users/lucassaldanha/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lucassaldanha/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-03-24T22:49:13Z",
    "updated_at": "2020-03-24T22:49:13Z",
    "author_association": "MEMBER",
    "body": "Ok, so just to confirm:\r\n- You have this node since Pantheon 1.1.x, using private transactions\r\n- Your last update before Besu 1.4.0 was Besu 1.3.4\r\n\r\nCorrect?",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/603544510/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/603772598",
    "html_url": "https://github.com/hyperledger/besu/issues/470#issuecomment-603772598",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/470",
    "id": 603772598,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYwMzc3MjU5OA==",
    "user": {
      "login": "magooster",
      "id": 12111442,
      "node_id": "MDQ6VXNlcjEyMTExNDQy",
      "avatar_url": "https://avatars.githubusercontent.com/u/12111442?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/magooster",
      "html_url": "https://github.com/magooster",
      "followers_url": "https://api.github.com/users/magooster/followers",
      "following_url": "https://api.github.com/users/magooster/following{/other_user}",
      "gists_url": "https://api.github.com/users/magooster/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/magooster/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/magooster/subscriptions",
      "organizations_url": "https://api.github.com/users/magooster/orgs",
      "repos_url": "https://api.github.com/users/magooster/repos",
      "events_url": "https://api.github.com/users/magooster/events{/privacy}",
      "received_events_url": "https://api.github.com/users/magooster/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-03-25T10:50:35Z",
    "updated_at": "2020-03-25T10:50:35Z",
    "author_association": "CONTRIBUTOR",
    "body": "Private transactions from Besu 1.3.1, don't recall running privacy with earlier versions. NB: This is just a test network I have running...",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/603772598/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/604743391",
    "html_url": "https://github.com/hyperledger/besu/issues/470#issuecomment-604743391",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/470",
    "id": 604743391,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYwNDc0MzM5MQ==",
    "user": {
      "login": "MadelineMurray",
      "id": 43356962,
      "node_id": "MDQ6VXNlcjQzMzU2OTYy",
      "avatar_url": "https://avatars.githubusercontent.com/u/43356962?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MadelineMurray",
      "html_url": "https://github.com/MadelineMurray",
      "followers_url": "https://api.github.com/users/MadelineMurray/followers",
      "following_url": "https://api.github.com/users/MadelineMurray/following{/other_user}",
      "gists_url": "https://api.github.com/users/MadelineMurray/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MadelineMurray/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MadelineMurray/subscriptions",
      "organizations_url": "https://api.github.com/users/MadelineMurray/orgs",
      "repos_url": "https://api.github.com/users/MadelineMurray/repos",
      "events_url": "https://api.github.com/users/MadelineMurray/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MadelineMurray/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-03-26T23:48:06Z",
    "updated_at": "2020-03-26T23:48:06Z",
    "author_association": "CONTRIBUTOR",
    "body": "Lucas to test rolling back and resyncing. ",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/604743391/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/604779113",
    "html_url": "https://github.com/hyperledger/besu/issues/470#issuecomment-604779113",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/470",
    "id": 604779113,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYwNDc3OTExMw==",
    "user": {
      "login": "lucassaldanha",
      "id": 1766440,
      "node_id": "MDQ6VXNlcjE3NjY0NDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1766440?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lucassaldanha",
      "html_url": "https://github.com/lucassaldanha",
      "followers_url": "https://api.github.com/users/lucassaldanha/followers",
      "following_url": "https://api.github.com/users/lucassaldanha/following{/other_user}",
      "gists_url": "https://api.github.com/users/lucassaldanha/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lucassaldanha/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lucassaldanha/subscriptions",
      "organizations_url": "https://api.github.com/users/lucassaldanha/orgs",
      "repos_url": "https://api.github.com/users/lucassaldanha/repos",
      "events_url": "https://api.github.com/users/lucassaldanha/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lucassaldanha/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-03-27T02:15:23Z",
    "updated_at": "2020-03-27T02:15:23Z",
    "author_association": "MEMBER",
    "body": "We have identified the issue. Between version 1.3.4 and 1.3.5 there was a change in the way that the private database metadata was maintained and, unfortunately, users migrating from 1.3.4. to 1.3.5 with existing private transactions in their chain will lose the transaction execution data for transactions prior to 1.3.5.\r\n\r\nAt the moment, the best way to recover from this situation is to start a fresh node running +1.3.5 (preferably 1.4.0+) using the same Orion keys as the <= 1.3.4 node and resync the chain.\r\n\r\nSince the PMTs are stored in the public chain, and all private transaction payloads are in Orion, resyncing the node will ensure that the private state is rebuilt. In the end, all private transaction execution information will be available again.\r\n\r\nLet us know if you have any questions.",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/604779113/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/605403664",
    "html_url": "https://github.com/hyperledger/besu/issues/470#issuecomment-605403664",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/470",
    "id": 605403664,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYwNTQwMzY2NA==",
    "user": {
      "login": "magooster",
      "id": 12111442,
      "node_id": "MDQ6VXNlcjEyMTExNDQy",
      "avatar_url": "https://avatars.githubusercontent.com/u/12111442?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/magooster",
      "html_url": "https://github.com/magooster",
      "followers_url": "https://api.github.com/users/magooster/followers",
      "following_url": "https://api.github.com/users/magooster/following{/other_user}",
      "gists_url": "https://api.github.com/users/magooster/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/magooster/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/magooster/subscriptions",
      "organizations_url": "https://api.github.com/users/magooster/orgs",
      "repos_url": "https://api.github.com/users/magooster/repos",
      "events_url": "https://api.github.com/users/magooster/events{/privacy}",
      "received_events_url": "https://api.github.com/users/magooster/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-03-28T06:27:41Z",
    "updated_at": "2020-03-28T06:27:41Z",
    "author_association": "CONTRIBUTOR",
    "body": "Thanks for the update - I assume this will be added to the migration notes.",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/605403664/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/605403784",
    "html_url": "https://github.com/hyperledger/besu/issues/470#issuecomment-605403784",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/470",
    "id": 605403784,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYwNTQwMzc4NA==",
    "user": {
      "login": "lucassaldanha",
      "id": 1766440,
      "node_id": "MDQ6VXNlcjE3NjY0NDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1766440?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lucassaldanha",
      "html_url": "https://github.com/lucassaldanha",
      "followers_url": "https://api.github.com/users/lucassaldanha/followers",
      "following_url": "https://api.github.com/users/lucassaldanha/following{/other_user}",
      "gists_url": "https://api.github.com/users/lucassaldanha/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lucassaldanha/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lucassaldanha/subscriptions",
      "organizations_url": "https://api.github.com/users/lucassaldanha/orgs",
      "repos_url": "https://api.github.com/users/lucassaldanha/repos",
      "events_url": "https://api.github.com/users/lucassaldanha/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lucassaldanha/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-03-28T06:29:08Z",
    "updated_at": "2020-03-28T06:29:08Z",
    "author_association": "MEMBER",
    "body": ">  I assume this will be added to the migration notes.\r\n\r\nSure! We are preparing docs and comms to help others that might face this issue.",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/605403784/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/605758111",
    "html_url": "https://github.com/hyperledger/besu/issues/470#issuecomment-605758111",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/470",
    "id": 605758111,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYwNTc1ODExMQ==",
    "user": {
      "login": "MadelineMurray",
      "id": 43356962,
      "node_id": "MDQ6VXNlcjQzMzU2OTYy",
      "avatar_url": "https://avatars.githubusercontent.com/u/43356962?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MadelineMurray",
      "html_url": "https://github.com/MadelineMurray",
      "followers_url": "https://api.github.com/users/MadelineMurray/followers",
      "following_url": "https://api.github.com/users/MadelineMurray/following{/other_user}",
      "gists_url": "https://api.github.com/users/MadelineMurray/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MadelineMurray/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MadelineMurray/subscriptions",
      "organizations_url": "https://api.github.com/users/MadelineMurray/orgs",
      "repos_url": "https://api.github.com/users/MadelineMurray/repos",
      "events_url": "https://api.github.com/users/MadelineMurray/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MadelineMurray/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-03-30T03:06:48Z",
    "updated_at": "2020-03-30T03:06:48Z",
    "author_association": "CONTRIBUTOR",
    "body": "We've added a page to the Wiki describing this issue and how to recover - https://wiki.hyperledger.org/display/BESU/Critical+Issue+for+Privacy+Users\r\n\r\nThe migration notes have also been updated. \r\n\r\nThanks for raising this issue and taking the time to provide additional information.  Have you got any further questions/comments on this before we close this? ",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/605758111/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/606453241",
    "html_url": "https://github.com/hyperledger/besu/issues/470#issuecomment-606453241",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/470",
    "id": 606453241,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYwNjQ1MzI0MQ==",
    "user": {
      "login": "magooster",
      "id": 12111442,
      "node_id": "MDQ6VXNlcjEyMTExNDQy",
      "avatar_url": "https://avatars.githubusercontent.com/u/12111442?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/magooster",
      "html_url": "https://github.com/magooster",
      "followers_url": "https://api.github.com/users/magooster/followers",
      "following_url": "https://api.github.com/users/magooster/following{/other_user}",
      "gists_url": "https://api.github.com/users/magooster/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/magooster/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/magooster/subscriptions",
      "organizations_url": "https://api.github.com/users/magooster/orgs",
      "repos_url": "https://api.github.com/users/magooster/repos",
      "events_url": "https://api.github.com/users/magooster/events{/privacy}",
      "received_events_url": "https://api.github.com/users/magooster/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-03-31T07:33:18Z",
    "updated_at": "2020-03-31T07:33:18Z",
    "author_association": "CONTRIBUTOR",
    "body": "All good thanks",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/606453241/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
