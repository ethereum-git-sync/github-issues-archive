{
  "url": "https://api.github.com/repos/hyperledger/besu/issues/3343",
  "repository_url": "https://api.github.com/repos/hyperledger/besu",
  "labels_url": "https://api.github.com/repos/hyperledger/besu/issues/3343/labels{/name}",
  "comments_url": "https://api.github.com/repos/hyperledger/besu/issues/3343/comments",
  "events_url": "https://api.github.com/repos/hyperledger/besu/issues/3343/events",
  "html_url": "https://github.com/hyperledger/besu/issues/3343",
  "id": 1117345407,
  "node_id": "I_kwDODE2jmc5CmVZ_",
  "number": 3343,
  "title": "Besu node crash with discovery-enabled=true in config.toml",
  "user": {
    "login": "jorgesanjose",
    "id": 47521746,
    "node_id": "MDQ6VXNlcjQ3NTIxNzQ2",
    "avatar_url": "https://avatars.githubusercontent.com/u/47521746?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/jorgesanjose",
    "html_url": "https://github.com/jorgesanjose",
    "followers_url": "https://api.github.com/users/jorgesanjose/followers",
    "following_url": "https://api.github.com/users/jorgesanjose/following{/other_user}",
    "gists_url": "https://api.github.com/users/jorgesanjose/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/jorgesanjose/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/jorgesanjose/subscriptions",
    "organizations_url": "https://api.github.com/users/jorgesanjose/orgs",
    "repos_url": "https://api.github.com/users/jorgesanjose/repos",
    "events_url": "https://api.github.com/users/jorgesanjose/events{/privacy}",
    "received_events_url": "https://api.github.com/users/jorgesanjose/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 1537362490,
      "node_id": "MDU6TGFiZWwxNTM3MzYyNDkw",
      "url": "https://api.github.com/repos/hyperledger/besu/labels/bug",
      "name": "bug",
      "color": "d73a4a",
      "default": true,
      "description": "Something isn't working"
    },
    {
      "id": 2051683573,
      "node_id": "MDU6TGFiZWwyMDUxNjgzNTcz",
      "url": "https://api.github.com/repos/hyperledger/besu/labels/P3",
      "name": "P3",
      "color": "ffff00",
      "default": false,
      "description": "Medium (ex: JSON-RPC request not working with a specific client library due to loose spec assumtion)"
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": {
    "login": "mark-terry",
    "id": 36909937,
    "node_id": "MDQ6VXNlcjM2OTA5OTM3",
    "avatar_url": "https://avatars.githubusercontent.com/u/36909937?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/mark-terry",
    "html_url": "https://github.com/mark-terry",
    "followers_url": "https://api.github.com/users/mark-terry/followers",
    "following_url": "https://api.github.com/users/mark-terry/following{/other_user}",
    "gists_url": "https://api.github.com/users/mark-terry/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/mark-terry/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/mark-terry/subscriptions",
    "organizations_url": "https://api.github.com/users/mark-terry/orgs",
    "repos_url": "https://api.github.com/users/mark-terry/repos",
    "events_url": "https://api.github.com/users/mark-terry/events{/privacy}",
    "received_events_url": "https://api.github.com/users/mark-terry/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "mark-terry",
      "id": 36909937,
      "node_id": "MDQ6VXNlcjM2OTA5OTM3",
      "avatar_url": "https://avatars.githubusercontent.com/u/36909937?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mark-terry",
      "html_url": "https://github.com/mark-terry",
      "followers_url": "https://api.github.com/users/mark-terry/followers",
      "following_url": "https://api.github.com/users/mark-terry/following{/other_user}",
      "gists_url": "https://api.github.com/users/mark-terry/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mark-terry/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mark-terry/subscriptions",
      "organizations_url": "https://api.github.com/users/mark-terry/orgs",
      "repos_url": "https://api.github.com/users/mark-terry/repos",
      "events_url": "https://api.github.com/users/mark-terry/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mark-terry/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 6,
  "created_at": "2022-01-28T12:24:03Z",
  "updated_at": "2022-02-21T04:50:39Z",
  "closed_at": "2022-02-13T23:49:39Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "<!-- Have you done the following? -->\r\n<!--   * read the Code of Conduct? By filing an Issue, you are expected to -->  \r\n<!--     comply with it, including treating everyone with respect: -->\r\n<!--     https://github.com/hyperledger/besu/blob/main/CODE_OF_CONDUCT.md -->\r\n<!--   * Reproduced the issue in the latest version of the software -->\r\n<!--   * Read the debugging docs: https://besu.hyperledger.org/en/stable/HowTo/Monitor/Logging/ -->\r\n<!--   * Duplicate Issue check:  https://github.com/search?q=+is%3Aissue+repo%3Ahyperledger/Besu -->\r\n<!-- Note:  Not all sections will apply to all issue types. -->\r\n\r\n### Description\r\nAs an user, I want to run up a Besu node with discovery-enabled set to true, but after a few errors, it crashes.\r\nBut when it is set to false, the errors continues but not crashes.\r\n\r\n### Steps to Reproduce (Bug)\r\n1.  Set discovery-enabled=true in config.toml.\r\n2.  Set bootnodes array in config.toml.\r\n2.  Start node.\r\n\r\n**Logs** \r\n\r\n```2022-01-28 11:38:44.899+00:00 | main | DEBUG | Native | Looking in classpath from jdk.internal.loader.ClassLoaders$AppClassLoader@5ffd2b27 for /com/sun/jna/linux-x86-64/libjnidispatch.so\r\n2022-01-28 11:38:44.902+00:00 | main | DEBUG | Native | Found library resource at jar:file:/data/alastria-node-besu/versionesBesu/besu-21.10.8/lib/jna-5.8.0.jar!/com/sun/jna/linux-x86-64/libjnidispatch.so\r\n2022-01-28 11:38:44.905+00:00 | main | DEBUG | Native | Extracting library to /home/x281921/.cache/JNA/temp/jna4822194681370950143.tmp\r\n2022-01-28 11:38:44.908+00:00 | main | DEBUG | Native | Trying /home/x281921/.cache/JNA/temp/jna4822194681370950143.tmp\r\n2022-01-28 11:38:44.909+00:00 | main | DEBUG | Native | Found jnidispatch at /home/x281921/.cache/JNA/temp/jna4822194681370950143.tmp\r\n2022-01-28 11:38:44.953+00:00 | main | DEBUG | NativeLibrary | Looking for library 'secp256k1'\r\n2022-01-28 11:38:44.954+00:00 | main | DEBUG | NativeLibrary | Adding paths from jna.library.path: null\r\n2022-01-28 11:38:44.954+00:00 | main | DEBUG | NativeLibrary | Trying libsecp256k1.so\r\n2022-01-28 11:38:44.955+00:00 | main | DEBUG | NativeLibrary | Loading failed with message: libsecp256k1.so: cannot open shared object file: No such file or directory\r\n2022-01-28 11:38:44.956+00:00 | main | DEBUG | NativeLibrary | Adding system paths: [/usr/lib/x86_64-linux-gnu, /lib/x86_64-linux-gnu, /lib64, /usr/lib, /lib, /usr/lib/x86_64-linux-gnu/libfakeroot]\r\n2022-01-28 11:38:44.956+00:00 | main | DEBUG | NativeLibrary | Trying libsecp256k1.so\r\n2022-01-28 11:38:44.957+00:00 | main | DEBUG | NativeLibrary | Loading failed with message: libsecp256k1.so: cannot open shared object file: No such file or directory\r\n2022-01-28 11:38:44.957+00:00 | main | DEBUG | NativeLibrary | Looking for version variants\r\n2022-01-28 11:38:44.961+00:00 | main | DEBUG | Native | Looking in classpath from jdk.internal.loader.ClassLoaders$AppClassLoader@5ffd2b27 for secp256k1\r\n2022-01-28 11:38:44.963+00:00 | main | DEBUG | Native | Found library resource at jar:file:/data/alastria-node-besu/versionesBesu/besu-21.10.8/lib/secp256k1-0.4.2.jar!/linux-x86-64/libsecp256k1.so\r\n2022-01-28 11:38:44.964+00:00 | main | DEBUG | Native | Extracting library to /home/x281921/.cache/JNA/temp/jna4489313619374674359.tmp\r\n2022-01-28 11:38:44.973+00:00 | main | DEBUG | NativeLibrary | Found library 'secp256k1' at /home/x281921/.cache/JNA/temp/jna4489313619374674359.tmp\r\n2022-01-28 11:38:45.009+00:00 | main | DEBUG | NativeLibrary | Looking for library 'eth_pairings'\r\n2022-01-28 11:38:45.011+00:00 | main | DEBUG | NativeLibrary | Adding paths from jna.library.path: null\r\n2022-01-28 11:38:45.011+00:00 | main | DEBUG | NativeLibrary | Trying libeth_pairings.so\r\n2022-01-28 11:38:45.013+00:00 | main | DEBUG | NativeLibrary | Loading failed with message: libeth_pairings.so: cannot open shared object file: No such file or directory\r\n2022-01-28 11:38:45.014+00:00 | main | DEBUG | NativeLibrary | Adding system paths: [/usr/lib/x86_64-linux-gnu, /lib/x86_64-linux-gnu, /lib64, /usr/lib, /lib, /usr/lib/x86_64-linux-gnu/libfakeroot]\r\n2022-01-28 11:38:45.015+00:00 | main | DEBUG | NativeLibrary | Trying libeth_pairings.so\r\n2022-01-28 11:38:45.015+00:00 | main | DEBUG | NativeLibrary | Loading failed with message: libeth_pairings.so: cannot open shared object file: No such file or directory\r\n2022-01-28 11:38:45.016+00:00 | main | DEBUG | NativeLibrary | Looking for version variants\r\n2022-01-28 11:38:45.019+00:00 | main | DEBUG | Native | Looking in classpath from jdk.internal.loader.ClassLoaders$AppClassLoader@5ffd2b27 for eth_pairings\r\n2022-01-28 11:38:45.020+00:00 | main | DEBUG | Native | Found library resource at jar:file:/data/alastria-node-besu/versionesBesu/besu-21.10.8/lib/bls12-381-0.3.0.jar!/linux-x86-64/libeth_pairings.so\r\n2022-01-28 11:38:45.022+00:00 | main | DEBUG | Native | Extracting library to /home/x281921/.cache/JNA/temp/jna5396103584728477048.tmp\r\n2022-01-28 11:38:45.062+00:00 | main | DEBUG | NativeLibrary | Found library 'eth_pairings' at /home/x281921/.cache/JNA/temp/jna5396103584728477048.tmp\r\n2022-01-28 11:38:45.065+00:00 | main | INFO  | Besu | Using LibEthPairings native alt bn128\r\n2022-01-28 11:38:45.069+00:00 | main | INFO  | Besu | Using the native implementation of the signature algorithm\r\n2022-01-28 11:38:45.076+00:00 | main | INFO  | Besu | Starting Besu version: besu/v21.10.8/linux-x86_64/openjdk-java-11\r\n2022-01-28 11:38:45.125+00:00 | main | DEBUG | LoggerFactory | Using io.vertx.core.logging.Log4j2LogDelegateFactory\r\n2022-01-28 11:38:45.163+00:00 | main | DEBUG | ResourceLeakDetector | -Dio.netty.leakDetection.level: simple\r\n2022-01-28 11:38:45.164+00:00 | main | DEBUG | ResourceLeakDetector | -Dio.netty.leakDetection.targetRecords: 4\r\n2022-01-28 11:38:45.188+00:00 | main | DEBUG | PlatformDependent0 | -Dio.netty.noUnsafe: false\r\n2022-01-28 11:38:45.189+00:00 | main | DEBUG | PlatformDependent0 | Java version: 11\r\n2022-01-28 11:38:45.192+00:00 | main | DEBUG | PlatformDependent0 | sun.misc.Unsafe.theUnsafe: available\r\n2022-01-28 11:38:45.193+00:00 | main | DEBUG | PlatformDependent0 | sun.misc.Unsafe.copyMemory: available\r\n2022-01-28 11:38:45.195+00:00 | main | DEBUG | PlatformDependent0 | java.nio.Buffer.address: available\r\n2022-01-28 11:38:45.196+00:00 | main | DEBUG | PlatformDependent0 | direct buffer constructor: available\r\n2022-01-28 11:38:45.198+00:00 | main | DEBUG | PlatformDependent0 | java.nio.Bits.unaligned: available, true\r\n2022-01-28 11:38:45.201+00:00 | main | DEBUG | PlatformDependent0 | jdk.internal.misc.Unsafe.allocateUninitializedArray(int): available\r\n2022-01-28 11:38:45.202+00:00 | main | DEBUG | PlatformDependent0 | java.nio.DirectByteBuffer.<init>(long, int): available\r\n2022-01-28 11:38:45.203+00:00 | main | DEBUG | PlatformDependent | sun.misc.Unsafe: available\r\n2022-01-28 11:38:45.204+00:00 | main | DEBUG | PlatformDependent | maxDirectMemory: 2086666240 bytes (maybe)\r\n2022-01-28 11:38:45.205+00:00 | main | DEBUG | PlatformDependent | -Dio.netty.tmpdir: /tmp (java.io.tmpdir)\r\n2022-01-28 11:38:45.205+00:00 | main | DEBUG | PlatformDependent | -Dio.netty.bitMode: 64 (sun.arch.data.model)\r\n2022-01-28 11:38:45.207+00:00 | main | DEBUG | PlatformDependent | -Dio.netty.maxDirectMemory: 2086666240 bytes\r\n2022-01-28 11:38:45.207+00:00 | main | DEBUG | PlatformDependent | -Dio.netty.uninitializedArrayAllocationThreshold: 1024\r\n2022-01-28 11:38:45.209+00:00 | main | DEBUG | CleanerJava9 | java.nio.ByteBuffer.cleaner(): available\r\n2022-01-28 11:38:45.210+00:00 | main | DEBUG | PlatformDependent | -Dio.netty.noPreferDirect: false\r\n2022-01-28 11:38:45.232+00:00 | main | DEBUG | MultithreadEventLoopGroup | -Dio.netty.eventLoopThreads: 4\r\n2022-01-28 11:38:45.258+00:00 | main | DEBUG | InternalThreadLocalMap | -Dio.netty.threadLocalMap.stringBuilder.initialSize: 1024\r\n2022-01-28 11:38:45.258+00:00 | main | DEBUG | InternalThreadLocalMap | -Dio.netty.threadLocalMap.stringBuilder.maxSize: 4096\r\n2022-01-28 11:38:45.268+00:00 | main | DEBUG | NioEventLoop | -Dio.netty.noKeySetOptimization: false\r\n2022-01-28 11:38:45.269+00:00 | main | DEBUG | NioEventLoop | -Dio.netty.selectorAutoRebuildThreshold: 512\r\n2022-01-28 11:38:45.281+00:00 | main | DEBUG | PlatformDependent | org.jctools-core.MpscChunkedArrayQueue: available\r\n2022-01-28 11:38:45.345+00:00 | main | DEBUG | DefaultDnsServerAddressStreamProvider | Default DNS servers: [/127.0.0.53:53] (sun.net.dns.ResolverConfiguration)\r\n2022-01-28 11:38:45.355+00:00 | main | DEBUG | NetUtil | -Djava.net.preferIPv4Stack: false\r\n2022-01-28 11:38:45.356+00:00 | main | DEBUG | NetUtil | -Djava.net.preferIPv6Addresses: false\r\n2022-01-28 11:38:45.362+00:00 | main | DEBUG | NetUtilInitializations | Loopback interface: lo (lo, 0:0:0:0:0:0:0:1%lo)\r\n2022-01-28 11:38:45.367+00:00 | main | DEBUG | NetUtil | /proc/sys/net/core/somaxconn: 4096\r\n2022-01-28 11:38:45.442+00:00 | main | INFO  | Besu | Static Nodes file = /data/alastria-node-besu/validator/static-nodes.json\r\n2022-01-28 11:38:45.446+00:00 | main | INFO  | StaticNodesParser | StaticNodes file /data/alastria-node-besu/validator/static-nodes.json does not exist, no static connections will be created.\r\n2022-01-28 11:38:45.449+00:00 | main | INFO  | Besu | Connecting to 0 static nodes.\r\n2022-01-28 11:38:45.452+00:00 | main | INFO  | Besu | Security Module: localfile\r\n2022-01-28 11:38:45.485+00:00 | main | INFO  | DatabaseMetadata | Lookup database metadata file in data directory: /data/alastria-node-besu/validator\r\n2022-01-28 11:38:45.546+00:00 | main | INFO  | RocksDBKeyValueStorageFactory | Existing database detected at /data/alastria-node-besu/validator. Version 1\r\n2022-01-28 11:38:45.925+00:00 | main | INFO  | KeyPairUtil | Loaded public key 0x0f41452bd52d269a9ab9174033ee632c1f17a27259a11003f7550840a5ad3beba07ec1126ff09f5f68649b54afb5de161fa3fc6f7eebdace04ae35f1845961fb from /data/alastria-node-besu/validator/keys/besu/key\r\n2022-01-28 11:38:46.155+00:00 | main | INFO  | ProtocolScheduleBuilder | Protocol schedule created with milestones: [Byzantium: 0]\r\n2022-01-28 11:38:46.340+00:00 | main | DEBUG | BesuPluginContextImpl | Plugin startup complete.\r\n2022-01-28 11:38:46.346+00:00 | main | INFO  | RunnerBuilder | Detecting NAT service.\r\n2022-01-28 11:38:46.379+00:00 | main | DEBUG | RlpxAgent | Using default NettyConnectionInitializer\r\n2022-01-28 11:38:46.473+00:00 | main | INFO  | Runner | Starting Ethereum main loop ...\r\n2022-01-28 11:38:46.474+00:00 | main | INFO  | MetricsHttpService | Starting metrics http service on 0.0.0.0:9545\r\n2022-01-28 11:38:46.523+00:00 | main | DEBUG | PooledByteBufAllocator | -Dio.netty.allocator.numHeapArenas: 4\r\n2022-01-28 11:38:46.524+00:00 | main | DEBUG | PooledByteBufAllocator | -Dio.netty.allocator.numDirectArenas: 4\r\n2022-01-28 11:38:46.525+00:00 | main | DEBUG | PooledByteBufAllocator | -Dio.netty.allocator.pageSize: 8192\r\n2022-01-28 11:38:46.525+00:00 | main | DEBUG | PooledByteBufAllocator | -Dio.netty.allocator.maxOrder: 11\r\n2022-01-28 11:38:46.525+00:00 | main | DEBUG | PooledByteBufAllocator | -Dio.netty.allocator.chunkSize: 16777216\r\n2022-01-28 11:38:46.526+00:00 | main | DEBUG | PooledByteBufAllocator | -Dio.netty.allocator.smallCacheSize: 256\r\n2022-01-28 11:38:46.526+00:00 | main | DEBUG | PooledByteBufAllocator | -Dio.netty.allocator.normalCacheSize: 64\r\n2022-01-28 11:38:46.526+00:00 | main | DEBUG | PooledByteBufAllocator | -Dio.netty.allocator.maxCachedBufferCapacity: 32768\r\n2022-01-28 11:38:46.527+00:00 | main | DEBUG | PooledByteBufAllocator | -Dio.netty.allocator.cacheTrimInterval: 8192\r\n2022-01-28 11:38:46.527+00:00 | main | DEBUG | PooledByteBufAllocator | -Dio.netty.allocator.cacheTrimIntervalMillis: 0\r\n2022-01-28 11:38:46.527+00:00 | main | DEBUG | PooledByteBufAllocator | -Dio.netty.allocator.useCacheForAllThreads: true\r\n2022-01-28 11:38:46.528+00:00 | main | DEBUG | PooledByteBufAllocator | -Dio.netty.allocator.maxCachedByteBuffersPerChunk: 1023\r\n2022-01-28 11:38:46.560+00:00 | main | DEBUG | DefaultChannelId | -Dio.netty.processId: 20372 (auto-detected)\r\n2022-01-28 11:38:46.562+00:00 | main | DEBUG | DefaultChannelId | -Dio.netty.machineId: 00:0d:3a:ff:fe:ab:f3:13 (auto-detected)\r\n2022-01-28 11:38:46.592+00:00 | main | DEBUG | ByteBufUtil | -Dio.netty.allocator.type: pooled\r\n2022-01-28 11:38:46.593+00:00 | main | DEBUG | ByteBufUtil | -Dio.netty.threadLocalDirectBufferSize: 0\r\n2022-01-28 11:38:46.593+00:00 | main | DEBUG | ByteBufUtil | -Dio.netty.maxThreadLocalCharBufferSize: 16384\r\n2022-01-28 11:38:46.613+00:00 | main | INFO  | NatService | No NAT environment detected so no service could be started\r\n2022-01-28 11:38:46.614+00:00 | main | INFO  | NetworkRunner | Starting Network.\r\n2022-01-28 11:38:46.613+00:00 | vert.x-eventloop-thread-1 | INFO  | MetricsHttpService | Metrics service started and listening on 9545:9545\r\n2022-01-28 11:38:46.623+00:00 | nioEventLoopGroup-2-1 | INFO  | RlpxAgent | P2P RLPx agent started and listening on /0:0:0:0:0:0:0:0:30303.\r\n2022-01-28 11:38:46.624+00:00 | main | INFO  | PeerDiscoveryAgent | Starting peer discovery agent on host=0.0.0.0, port=30303\r\n2022-01-28 11:38:46.689+00:00 | vert.x-eventloop-thread-1 | INFO  | VertxPeerDiscoveryAgent | Started peer discovery agent successfully, on effective host=0:0:0:0:0:0:0:0 and port=30303\r\n2022-01-28 11:38:46.692+00:00 | main | INFO  | PeerDiscoveryAgent | P2P peer discovery agent started and listening on /0:0:0:0:0:0:0:0:30303\r\n2022-01-28 11:38:46.706+00:00 | main | ERROR | Runner | Startup failed java.lang.NullPointerException\r\n2022-01-28 11:38:46.714+00:00 | Thread-1 | DEBUG | BesuPluginContextImpl | Plugin shutdown complete.\r\n2022-01-28 11:38:46.728+00:00 | Thread-1 | ERROR | Besu | Failed to stop Besu\r\n```\r\n\r\nIt shows this errors.\r\n\r\n```\r\n2022-01-28 11:38:45.011+00:00 | main | DEBUG | NativeLibrary | Trying libeth_pairings.so\r\n2022-01-28 11:38:45.013+00:00 | main | DEBUG | NativeLibrary | Loading failed with message: libeth_pairings.so: cannot open shared object file: No such file or directory\r\n2022-01-28 11:38:45.014+00:00 | main | DEBUG | NativeLibrary | Adding system paths: [/usr/lib/x86_64-linux-gnu, /lib/x86_64-linux-gnu, /lib64, /usr/lib, /lib, /usr/lib/x86_64-linux-gnu/libfakeroot]\r\n2022-01-28 11:38:45.015+00:00 | main | DEBUG | NativeLibrary | Trying libeth_pairings.so\r\n2022-01-28 11:38:45.015+00:00 | main | DEBUG | NativeLibrary | Loading failed with message: libeth_pairings.so: cannot open shared object file: No such file or directory\r\n```\r\n```\r\n2022-01-28 11:38:44.954+00:00 | main | DEBUG | NativeLibrary | Trying libsecp256k1.so\r\n2022-01-28 11:38:44.955+00:00 | main | DEBUG | NativeLibrary | Loading failed with message: libsecp256k1.so: cannot open shared object file: No such file or directory\r\n2022-01-28 11:38:44.956+00:00 | main | DEBUG | NativeLibrary | Adding system paths: [/usr/lib/x86_64-linux-gnu, /lib/x86_64-linux-gnu, /lib64, /usr/lib, /lib, /usr/lib/x86_64-linux-gnu/libfakeroot]\r\n2022-01-28 11:38:44.956+00:00 | main | DEBUG | NativeLibrary | Trying libsecp256k1.so\r\n2022-01-28 11:38:44.957+00:00 | main | DEBUG | NativeLibrary | Loading failed with message: libsecp256k1.so: cannot open shared object file: No such file or directory\r\n```\r\n\r\nThen it crashes.\r\n```\r\n2022-01-28 11:38:46.706+00:00 | main | ERROR | Runner | Startup failed java.lang.NullPointerException\r\n2022-01-28 11:38:46.714+00:00 | Thread-1 | DEBUG | BesuPluginContextImpl | Plugin shutdown complete.\r\n2022-01-28 11:38:46.728+00:00 | Thread-1 | ERROR | Besu | Failed to stop Besu\r\n```\r\n\r\n\r\n### Versions (Add all that apply)\r\n* Software version: 21.10.8\r\n* Java version: openjdk 11.0.13\r\n",
  "closed_by": {
    "login": "shemnon",
    "id": 38109,
    "node_id": "MDQ6VXNlcjM4MTA5",
    "avatar_url": "https://avatars.githubusercontent.com/u/38109?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/shemnon",
    "html_url": "https://github.com/shemnon",
    "followers_url": "https://api.github.com/users/shemnon/followers",
    "following_url": "https://api.github.com/users/shemnon/following{/other_user}",
    "gists_url": "https://api.github.com/users/shemnon/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/shemnon/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/shemnon/subscriptions",
    "organizations_url": "https://api.github.com/users/shemnon/orgs",
    "repos_url": "https://api.github.com/users/shemnon/repos",
    "events_url": "https://api.github.com/users/shemnon/events{/privacy}",
    "received_events_url": "https://api.github.com/users/shemnon/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/3343/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/hyperledger/besu/issues/3343/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1026478425",
    "html_url": "https://github.com/hyperledger/besu/issues/3343#issuecomment-1026478425",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/3343",
    "id": 1026478425,
    "node_id": "IC_kwDODE2jmc49LtFZ",
    "user": {
      "login": "macfarla",
      "id": 2627919,
      "node_id": "MDQ6VXNlcjI2Mjc5MTk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2627919?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/macfarla",
      "html_url": "https://github.com/macfarla",
      "followers_url": "https://api.github.com/users/macfarla/followers",
      "following_url": "https://api.github.com/users/macfarla/following{/other_user}",
      "gists_url": "https://api.github.com/users/macfarla/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/macfarla/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/macfarla/subscriptions",
      "organizations_url": "https://api.github.com/users/macfarla/orgs",
      "repos_url": "https://api.github.com/users/macfarla/repos",
      "events_url": "https://api.github.com/users/macfarla/events{/privacy}",
      "received_events_url": "https://api.github.com/users/macfarla/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-02-01T04:58:41Z",
    "updated_at": "2022-02-01T04:58:41Z",
    "author_association": "CONTRIBUTOR",
    "body": "Hi @jorgesanjose - that sounds most annoying! \r\nOne thing - you can ignore the \"loading failed\" messages because eventually it finds one - it's just logging where it's searching. \r\n2022-01-28 11:38:45.062+00:00 | main | DEBUG | NativeLibrary | Found library 'eth_pairings' at /home/x281921/.cache/JNA/temp/jna5396103584728477048.tmp\r\n\r\n2022-01-28 11:38:44.973+00:00 | main | DEBUG | NativeLibrary | Found library 'secp256k1' at /home/x281921/.cache/JNA/temp/jna4489313619374674359.tmp\r\n\r\nCouple of questions\r\n* are you able to provide your besu config\r\n* can you try with latest besu - either 21.10.9 or 22.1.0-RC4\r\n* if it's still happening - can you turn logging up to TRACE and provide the full log? ",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1026478425/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1026650929",
    "html_url": "https://github.com/hyperledger/besu/issues/3343#issuecomment-1026650929",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/3343",
    "id": 1026650929,
    "node_id": "IC_kwDODE2jmc49MXMx",
    "user": {
      "login": "jorgesjv",
      "id": 81416738,
      "node_id": "MDQ6VXNlcjgxNDE2NzM4",
      "avatar_url": "https://avatars.githubusercontent.com/u/81416738?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorgesjv",
      "html_url": "https://github.com/jorgesjv",
      "followers_url": "https://api.github.com/users/jorgesjv/followers",
      "following_url": "https://api.github.com/users/jorgesjv/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorgesjv/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorgesjv/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorgesjv/subscriptions",
      "organizations_url": "https://api.github.com/users/jorgesjv/orgs",
      "repos_url": "https://api.github.com/users/jorgesjv/repos",
      "events_url": "https://api.github.com/users/jorgesjv/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorgesjv/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-02-01T09:45:16Z",
    "updated_at": "2022-02-01T09:45:16Z",
    "author_association": "NONE",
    "body": "Hi @macfarla, thanks for the answer.\r\n\r\nI've tried with 21.10.9 version and same result.\r\n\r\nThis is my config.toml. \r\n\r\n```\r\n# Valid TOML config file\r\ndata-path=\"/mnt/alastria-node-besu/validator\"\r\nlogging=\"TRACE\"\r\n\r\n#Network\r\nbootnodes=[\"enode://2a9ddbc44eeddc736cf5727ecaefe0372b2b2bae9bb1bc7f2f2f736eee827cacecee3ef7e127b76f68d27415879760905657e572b35d61e9cd35b372932f5ebc@193.125.252.24:30303\",\"enode://e99d27010e07102de26eec8ad44fa84a4c2cb348e037ff91eca1b6134539d5ebf6db9f2c315e2de7ef9caf6297e349c00bda7b8c9028f0c138d910286a63ae9a@159.8.101.3:30303\"]\r\nnode-private-key-file=\"/mnt/alastria-node-besu/validator/keys/besu/key\"\r\ndiscovery-enabled=true\r\n\r\n# Comment this flag if you are using a lower ver version than 20.10.1\r\ncompatibility-eth64-forkid-enabled=true\r\n\r\npermissions-accounts-contract-address=\"0x0000000000000000000000000000000000008888\"\r\npermissions-accounts-contract-enabled=false\r\npermissions-nodes-contract-address=\"0x0000000000000000000000000000000000009999\"\r\npermissions-nodes-contract-enabled=false\r\n\r\n# Chain\r\ngenesis-file=\"/mnt/alastria-node-besu/validator/config/besu/genesis.json\"\r\nmin-gas-price=0\r\n\r\nrpc-http-api=[\"ETH\",\"NET\",\"WEB3\",\"ADMIN\",\"IBFT\"]\r\nrpc-http-enabled=true\r\nrpc-http-host=\"0.0.0.0\"\r\nhost-whitelist=[\"*\"]\r\n\r\n# WS\r\nrpc-ws-enabled=true\r\n\r\n# Metrics\r\nmetrics-enabled=true\r\nmetrics-host=\"0.0.0.0\"\r\nmetrics-port=\"9545\"\r\n```\r\n\r\nAnd the full log.\r\n```\r\n2022-02-01 09:26:33.651+00:00 | main | DEBUG | Native | Looking in classpath from jdk.internal.loader.ClassLoaders$AppClassLoader@5ffd2b27 for /com/sun/jna/linux-x86-64/libjnidispatch.so\r\n2022-02-01 09:26:33.654+00:00 | main | DEBUG | Native | Found library resource at jar:file:/mnt/alastria-node-besu/versionesBesu/besu-21.10.9/lib/jna-5.8.0.jar!/com/sun/jna/linux-x86-64/libjnidispatch.so\r\n2022-02-01 09:26:33.655+00:00 | main | DEBUG | Native | Extracting library to /home/x281921/.cache/JNA/temp/jna3762955625303343143.tmp\r\n2022-02-01 09:26:33.657+00:00 | main | DEBUG | Native | Trying /home/x281921/.cache/JNA/temp/jna3762955625303343143.tmp\r\n2022-02-01 09:26:33.659+00:00 | main | DEBUG | Native | Found jnidispatch at /home/x281921/.cache/JNA/temp/jna3762955625303343143.tmp\r\n2022-02-01 09:26:33.684+00:00 | main | DEBUG | NativeLibrary | Looking for library 'secp256k1'\r\n2022-02-01 09:26:33.684+00:00 | main | DEBUG | NativeLibrary | Adding paths from jna.library.path: null\r\n2022-02-01 09:26:33.684+00:00 | main | DEBUG | NativeLibrary | Trying libsecp256k1.so\r\n2022-02-01 09:26:33.685+00:00 | main | DEBUG | NativeLibrary | Loading failed with message: libsecp256k1.so: cannot open shared object file: No such file or directory\r\n2022-02-01 09:26:33.685+00:00 | main | DEBUG | NativeLibrary | Adding system paths: [/usr/lib/x86_64-linux-gnu, /lib/x86_64-linux-gnu, /usr/lib64, /lib64, /usr/lib, /lib]\r\n2022-02-01 09:26:33.686+00:00 | main | DEBUG | NativeLibrary | Trying libsecp256k1.so\r\n2022-02-01 09:26:33.686+00:00 | main | DEBUG | NativeLibrary | Loading failed with message: libsecp256k1.so: cannot open shared object file: No such file or directory\r\n2022-02-01 09:26:33.686+00:00 | main | DEBUG | NativeLibrary | Looking for version variants\r\n2022-02-01 09:26:33.690+00:00 | main | DEBUG | NativeLibrary | Trying /usr/lib/x86_64-linux-gnu/libsecp256k1.so.0\r\n2022-02-01 09:26:33.691+00:00 | main | DEBUG | NativeLibrary | Found library 'secp256k1' at /usr/lib/x86_64-linux-gnu/libsecp256k1.so.0\r\n2022-02-01 09:26:33.718+00:00 | main | DEBUG | NativeLibrary | Looking for library 'eth_pairings'\r\n2022-02-01 09:26:33.719+00:00 | main | DEBUG | NativeLibrary | Adding paths from jna.library.path: null\r\n2022-02-01 09:26:33.719+00:00 | main | DEBUG | NativeLibrary | Trying libeth_pairings.so\r\n2022-02-01 09:26:33.719+00:00 | main | DEBUG | NativeLibrary | Loading failed with message: libeth_pairings.so: cannot open shared object file: No such file or directory\r\n2022-02-01 09:26:33.720+00:00 | main | DEBUG | NativeLibrary | Adding system paths: [/usr/lib/x86_64-linux-gnu, /lib/x86_64-linux-gnu, /usr/lib64, /lib64, /usr/lib, /lib]\r\n2022-02-01 09:26:33.720+00:00 | main | DEBUG | NativeLibrary | Trying libeth_pairings.so\r\n2022-02-01 09:26:33.720+00:00 | main | DEBUG | NativeLibrary | Loading failed with message: libeth_pairings.so: cannot open shared object file: No such file or directory\r\n2022-02-01 09:26:33.720+00:00 | main | DEBUG | NativeLibrary | Looking for version variants\r\n2022-02-01 09:26:33.724+00:00 | main | DEBUG | Native | Looking in classpath from jdk.internal.loader.ClassLoaders$AppClassLoader@5ffd2b27 for eth_pairings\r\n2022-02-01 09:26:33.725+00:00 | main | DEBUG | Native | Found library resource at jar:file:/mnt/alastria-node-besu/versionesBesu/besu-21.10.9/lib/bls12-381-0.3.0.jar!/linux-x86-64/libeth_pairings.so\r\n2022-02-01 09:26:33.727+00:00 | main | DEBUG | Native | Extracting library to /home/x281921/.cache/JNA/temp/jna4437927128200933330.tmp\r\n2022-02-01 09:26:33.762+00:00 | main | DEBUG | NativeLibrary | Found library 'eth_pairings' at /home/x281921/.cache/JNA/temp/jna4437927128200933330.tmp\r\n2022-02-01 09:26:33.763+00:00 | main | INFO  | Besu | Using LibEthPairings native alt bn128\r\n2022-02-01 09:26:33.763+00:00 | main | INFO  | Besu | Using the native implementation of the signature algorithm\r\n2022-02-01 09:26:33.767+00:00 | main | INFO  | Besu | Starting Besu version: besu/v21.10.9/linux-x86_64/openjdk-java-11\r\n2022-02-01 09:26:33.772+00:00 | main | TRACE | MetricsSystemFactory | Creating a metric system with PROMETHEUS\r\n2022-02-01 09:26:33.796+00:00 | main | DEBUG | LoggerFactory | Using io.vertx.core.logging.Log4j2LogDelegateFactory\r\n2022-02-01 09:26:33.818+00:00 | main | DEBUG | ResourceLeakDetector | -Dio.netty.leakDetection.level: simple\r\n2022-02-01 09:26:33.818+00:00 | main | DEBUG | ResourceLeakDetector | -Dio.netty.leakDetection.targetRecords: 4\r\n2022-02-01 09:26:33.845+00:00 | main | DEBUG | PlatformDependent0 | -Dio.netty.noUnsafe: false\r\n2022-02-01 09:26:33.846+00:00 | main | DEBUG | PlatformDependent0 | Java version: 11\r\n2022-02-01 09:26:33.847+00:00 | main | DEBUG | PlatformDependent0 | sun.misc.Unsafe.theUnsafe: available\r\n2022-02-01 09:26:33.848+00:00 | main | DEBUG | PlatformDependent0 | sun.misc.Unsafe.copyMemory: available\r\n2022-02-01 09:26:33.848+00:00 | main | DEBUG | PlatformDependent0 | java.nio.Buffer.address: available\r\n2022-02-01 09:26:33.849+00:00 | main | DEBUG | PlatformDependent0 | direct buffer constructor: available\r\n2022-02-01 09:26:33.850+00:00 | main | DEBUG | PlatformDependent0 | java.nio.Bits.unaligned: available, true\r\n2022-02-01 09:26:33.851+00:00 | main | DEBUG | PlatformDependent0 | jdk.internal.misc.Unsafe.allocateUninitializedArray(int): available\r\n2022-02-01 09:26:33.852+00:00 | main | DEBUG | PlatformDependent0 | java.nio.DirectByteBuffer.<init>(long, int): available\r\n2022-02-01 09:26:33.852+00:00 | main | DEBUG | PlatformDependent | sun.misc.Unsafe: available\r\n2022-02-01 09:26:33.853+00:00 | main | DEBUG | PlatformDependent | maxDirectMemory: 2086666240 bytes (maybe)\r\n2022-02-01 09:26:33.853+00:00 | main | DEBUG | PlatformDependent | -Dio.netty.tmpdir: /tmp (java.io.tmpdir)\r\n2022-02-01 09:26:33.853+00:00 | main | DEBUG | PlatformDependent | -Dio.netty.bitMode: 64 (sun.arch.data.model)\r\n2022-02-01 09:26:33.854+00:00 | main | DEBUG | PlatformDependent | -Dio.netty.maxDirectMemory: 2086666240 bytes\r\n2022-02-01 09:26:33.855+00:00 | main | DEBUG | PlatformDependent | -Dio.netty.uninitializedArrayAllocationThreshold: 1024\r\n2022-02-01 09:26:33.862+00:00 | main | DEBUG | CleanerJava9 | java.nio.ByteBuffer.cleaner(): available\r\n2022-02-01 09:26:33.863+00:00 | main | DEBUG | PlatformDependent | -Dio.netty.noPreferDirect: false\r\n2022-02-01 09:26:33.880+00:00 | main | DEBUG | MultithreadEventLoopGroup | -Dio.netty.eventLoopThreads: 8\r\n2022-02-01 09:26:33.894+00:00 | main | DEBUG | InternalThreadLocalMap | -Dio.netty.threadLocalMap.stringBuilder.initialSize: 1024\r\n2022-02-01 09:26:33.894+00:00 | main | DEBUG | InternalThreadLocalMap | -Dio.netty.threadLocalMap.stringBuilder.maxSize: 4096\r\n2022-02-01 09:26:33.901+00:00 | main | DEBUG | NioEventLoop | -Dio.netty.noKeySetOptimization: false\r\n2022-02-01 09:26:33.901+00:00 | main | DEBUG | NioEventLoop | -Dio.netty.selectorAutoRebuildThreshold: 512\r\n2022-02-01 09:26:33.908+00:00 | main | DEBUG | PlatformDependent | org.jctools-core.MpscChunkedArrayQueue: available\r\n2022-02-01 09:26:33.911+00:00 | main | TRACE | NioEventLoop | instrumented a special java.util.Set into: sun.nio.ch.EPollSelectorImpl@6f231ced\r\n2022-02-01 09:26:33.912+00:00 | main | TRACE | NioEventLoop | instrumented a special java.util.Set into: sun.nio.ch.EPollSelectorImpl@f5b6e78\r\n2022-02-01 09:26:33.912+00:00 | main | TRACE | NioEventLoop | instrumented a special java.util.Set into: sun.nio.ch.EPollSelectorImpl@4b4eced1\r\n2022-02-01 09:26:33.912+00:00 | main | TRACE | NioEventLoop | instrumented a special java.util.Set into: sun.nio.ch.EPollSelectorImpl@71926a36\r\n2022-02-01 09:26:33.912+00:00 | main | TRACE | NioEventLoop | instrumented a special java.util.Set into: sun.nio.ch.EPollSelectorImpl@216e9ca3\r\n2022-02-01 09:26:33.912+00:00 | main | TRACE | NioEventLoop | instrumented a special java.util.Set into: sun.nio.ch.EPollSelectorImpl@75120e58\r\n2022-02-01 09:26:33.913+00:00 | main | TRACE | NioEventLoop | instrumented a special java.util.Set into: sun.nio.ch.EPollSelectorImpl@48976e6d\r\n2022-02-01 09:26:33.933+00:00 | main | TRACE | NioEventLoop | instrumented a special java.util.Set into: sun.nio.ch.EPollSelectorImpl@2a367e93\r\n2022-02-01 09:26:33.934+00:00 | main | TRACE | NioEventLoop | instrumented a special java.util.Set into: sun.nio.ch.EPollSelectorImpl@3fba233d\r\n2022-02-01 09:26:33.968+00:00 | main | DEBUG | DefaultDnsServerAddressStreamProvider | Default DNS servers: [/127.0.0.53:53] (sun.net.dns.ResolverConfiguration)\r\n2022-02-01 09:26:33.974+00:00 | main | DEBUG | NetUtil | -Djava.net.preferIPv4Stack: false\r\n2022-02-01 09:26:33.975+00:00 | main | DEBUG | NetUtil | -Djava.net.preferIPv6Addresses: false\r\n2022-02-01 09:26:33.976+00:00 | main | DEBUG | NetUtilInitializations | Loopback interface: lo (lo, 0:0:0:0:0:0:0:1%lo)\r\n2022-02-01 09:26:33.977+00:00 | main | DEBUG | NetUtil | /proc/sys/net/core/somaxconn: 4096\r\n2022-02-01 09:26:34.022+00:00 | main | INFO  | Besu | Static Nodes file = /mnt/alastria-node-besu/validator/static-nodes.json\r\n2022-02-01 09:26:34.023+00:00 | main | INFO  | Besu | Connecting to 0 static nodes.\r\n2022-02-01 09:26:34.023+00:00 | main | TRACE | Besu | Static Nodes = []\r\n2022-02-01 09:26:34.026+00:00 | main | INFO  | Besu | Security Module: localfile\r\n2022-02-01 09:26:34.045+00:00 | main | INFO  | DatabaseMetadata | Lookup database metadata file in data directory: /mnt/alastria-node-besu/validator\r\n2022-02-01 09:26:34.106+00:00 | main | INFO  | RocksDBKeyValueStorageFactory | Existing database detected at /mnt/alastria-node-besu/validator. Version 1\r\n2022-02-01 09:26:34.390+00:00 | main | INFO  | KeyPairUtil | Loaded public key 0xbfc87e067c71f73f98527126d9a63d215e6efc92f4955656c5f1d5e498fe8d69bb5d096304abc0afcd6ff8dc25155dbece7af33ba74b8604c0574cda30a2376f from /mnt/alastria-node-besu/validator/keys/besu/key\r\n2022-02-01 09:26:34.556+00:00 | main | INFO  | ProtocolScheduleBuilder | Protocol schedule created with milestones: [Byzantium: 0]\r\n2022-02-01 09:26:34.687+00:00 | main | DEBUG | BesuPluginContextImpl | Plugin startup complete.\r\n2022-02-01 09:26:34.690+00:00 | main | INFO  | RunnerBuilder | Detecting NAT service.\r\n2022-02-01 09:26:34.714+00:00 | main | DEBUG | RlpxAgent | Using default NettyConnectionInitializer\r\n2022-02-01 09:26:34.717+00:00 | main | TRACE | NioEventLoop | instrumented a special java.util.Set into: sun.nio.ch.EPollSelectorImpl@66d25ba9\r\n2022-02-01 09:26:34.718+00:00 | main | TRACE | NioEventLoop | instrumented a special java.util.Set into: sun.nio.ch.EPollSelectorImpl@5efe47fd\r\n2022-02-01 09:26:34.718+00:00 | main | TRACE | NioEventLoop | instrumented a special java.util.Set into: sun.nio.ch.EPollSelectorImpl@739831a4\r\n2022-02-01 09:26:34.718+00:00 | main | TRACE | NioEventLoop | instrumented a special java.util.Set into: sun.nio.ch.EPollSelectorImpl@7e3236d\r\n2022-02-01 09:26:34.718+00:00 | main | TRACE | NioEventLoop | instrumented a special java.util.Set into: sun.nio.ch.EPollSelectorImpl@38a4e2b0\r\n2022-02-01 09:26:34.719+00:00 | main | TRACE | NioEventLoop | instrumented a special java.util.Set into: sun.nio.ch.EPollSelectorImpl@14c99bf6\r\n2022-02-01 09:26:34.719+00:00 | main | TRACE | NioEventLoop | instrumented a special java.util.Set into: sun.nio.ch.EPollSelectorImpl@266e9dda\r\n2022-02-01 09:26:34.719+00:00 | main | TRACE | NioEventLoop | instrumented a special java.util.Set into: sun.nio.ch.EPollSelectorImpl@38883a31\r\n2022-02-01 09:26:34.719+00:00 | main | TRACE | NioEventLoop | instrumented a special java.util.Set into: sun.nio.ch.EPollSelectorImpl@27a6fef2\r\n2022-02-01 09:26:34.720+00:00 | main | TRACE | NioEventLoop | instrumented a special java.util.Set into: sun.nio.ch.EPollSelectorImpl@7fe8c7db\r\n2022-02-01 09:26:34.720+00:00 | main | TRACE | NioEventLoop | instrumented a special java.util.Set into: sun.nio.ch.EPollSelectorImpl@2dba05b1\r\n2022-02-01 09:26:34.790+00:00 | main | TRACE | MetricsService | Creating metrics service PROMETHEUS\r\n2022-02-01 09:26:34.792+00:00 | main | INFO  | Runner | Starting Ethereum main loop ...\r\n2022-02-01 09:26:34.793+00:00 | main | INFO  | MetricsHttpService | Starting metrics http service on 0.0.0.0:9545\r\n2022-02-01 09:26:34.828+00:00 | main | DEBUG | PooledByteBufAllocator | -Dio.netty.allocator.numHeapArenas: 8\r\n2022-02-01 09:26:34.829+00:00 | main | DEBUG | PooledByteBufAllocator | -Dio.netty.allocator.numDirectArenas: 8\r\n2022-02-01 09:26:34.829+00:00 | main | DEBUG | PooledByteBufAllocator | -Dio.netty.allocator.pageSize: 8192\r\n2022-02-01 09:26:34.829+00:00 | main | DEBUG | PooledByteBufAllocator | -Dio.netty.allocator.maxOrder: 11\r\n2022-02-01 09:26:34.829+00:00 | main | DEBUG | PooledByteBufAllocator | -Dio.netty.allocator.chunkSize: 16777216\r\n2022-02-01 09:26:34.829+00:00 | main | DEBUG | PooledByteBufAllocator | -Dio.netty.allocator.smallCacheSize: 256\r\n2022-02-01 09:26:34.829+00:00 | main | DEBUG | PooledByteBufAllocator | -Dio.netty.allocator.normalCacheSize: 64\r\n2022-02-01 09:26:34.830+00:00 | main | DEBUG | PooledByteBufAllocator | -Dio.netty.allocator.maxCachedBufferCapacity: 32768\r\n2022-02-01 09:26:34.830+00:00 | main | DEBUG | PooledByteBufAllocator | -Dio.netty.allocator.cacheTrimInterval: 8192\r\n2022-02-01 09:26:34.830+00:00 | main | DEBUG | PooledByteBufAllocator | -Dio.netty.allocator.cacheTrimIntervalMillis: 0\r\n2022-02-01 09:26:34.830+00:00 | main | DEBUG | PooledByteBufAllocator | -Dio.netty.allocator.useCacheForAllThreads: true\r\n2022-02-01 09:26:34.830+00:00 | main | DEBUG | PooledByteBufAllocator | -Dio.netty.allocator.maxCachedByteBuffersPerChunk: 1023\r\n2022-02-01 09:26:34.852+00:00 | main | DEBUG | DefaultChannelId | -Dio.netty.processId: 529324 (auto-detected)\r\n2022-02-01 09:26:34.854+00:00 | main | DEBUG | DefaultChannelId | -Dio.netty.machineId: 60:45:bd:ff:fe:8c:66:23 (auto-detected)\r\n2022-02-01 09:26:34.872+00:00 | main | DEBUG | ByteBufUtil | -Dio.netty.allocator.type: pooled\r\n2022-02-01 09:26:34.872+00:00 | main | DEBUG | ByteBufUtil | -Dio.netty.threadLocalDirectBufferSize: 0\r\n2022-02-01 09:26:34.872+00:00 | main | DEBUG | ByteBufUtil | -Dio.netty.maxThreadLocalCharBufferSize: 16384\r\n2022-02-01 09:26:34.884+00:00 | vert.x-acceptor-thread-0 | TRACE | NetServerImpl | Net server listening on 0.0.0.0:/0:0:0:0:0:0:0:0:9545\r\n2022-02-01 09:26:34.885+00:00 | vert.x-eventloop-thread-1 | INFO  | MetricsHttpService | Metrics service started and listening on 9545:9545\r\n2022-02-01 09:26:34.886+00:00 | main | INFO  | NatService | No NAT environment detected so no service could be started\r\n2022-02-01 09:26:34.886+00:00 | main | INFO  | NetworkRunner | Starting Network.\r\n2022-02-01 09:26:34.893+00:00 | nioEventLoopGroup-2-1 | INFO  | RlpxAgent | P2P RLPx agent started and listening on /0:0:0:0:0:0:0:0:30303.\r\n2022-02-01 09:26:34.894+00:00 | main | INFO  | PeerDiscoveryAgent | Starting peer discovery agent on host=0.0.0.0, port=30303\r\n2022-02-01 09:26:34.931+00:00 | vert.x-eventloop-thread-1 | INFO  | VertxPeerDiscoveryAgent | Started peer discovery agent successfully, on effective host=0:0:0:0:0:0:0:0 and port=30303\r\n2022-02-01 09:26:34.932+00:00 | vert.x-eventloop-thread-1 | INFO  | PeerDiscoveryAgent | P2P peer discovery agent started and listening on /0:0:0:0:0:0:0:0:30303\r\n2022-02-01 09:26:34.941+00:00 | main | ERROR | Runner | Startup failed java.lang.NullPointerException\r\n2022-02-01 09:26:34.954+00:00 | Thread-1 | DEBUG | BesuPluginContextImpl | Plugin shutdown complete.\r\n2022-02-01 09:26:34.964+00:00 | Thread-1 | ERROR | Besu | Failed to stop Besu\r\n```\r\n\r\nAnd when discovery is set false, it doesn't crash.\r\n```\r\n2022-02-01 09:42:22.185+00:00 | main | DEBUG | Native | Looking in classpath from jdk.internal.loader.ClassLoaders$AppClassLoader@5ffd2b27 for /com/sun/jna/linux-x86-64/libjnidispatch.so\r\n2022-02-01 09:42:22.188+00:00 | main | DEBUG | Native | Found library resource at jar:file:/mnt/alastria-node-besu/versionesBesu/besu-21.10.9/lib/jna-5.8.0.jar!/com/sun/jna/linux-x86-64/libjnidispatch.so\r\n2022-02-01 09:42:22.189+00:00 | main | DEBUG | Native | Extracting library to /home/x281921/.cache/JNA/temp/jna4757246696853343800.tmp\r\n2022-02-01 09:42:22.191+00:00 | main | DEBUG | Native | Trying /home/x281921/.cache/JNA/temp/jna4757246696853343800.tmp\r\n2022-02-01 09:42:22.191+00:00 | main | DEBUG | Native | Found jnidispatch at /home/x281921/.cache/JNA/temp/jna4757246696853343800.tmp\r\n2022-02-01 09:42:22.211+00:00 | main | DEBUG | NativeLibrary | Looking for library 'secp256k1'\r\n2022-02-01 09:42:22.212+00:00 | main | DEBUG | NativeLibrary | Adding paths from jna.library.path: null\r\n2022-02-01 09:42:22.212+00:00 | main | DEBUG | NativeLibrary | Trying libsecp256k1.so\r\n2022-02-01 09:42:22.213+00:00 | main | DEBUG | NativeLibrary | Loading failed with message: libsecp256k1.so: cannot open shared object file: No such file or directory\r\n2022-02-01 09:42:22.213+00:00 | main | DEBUG | NativeLibrary | Adding system paths: [/usr/lib/x86_64-linux-gnu, /lib/x86_64-linux-gnu, /usr/lib64, /lib64, /usr/lib, /lib]\r\n2022-02-01 09:42:22.214+00:00 | main | DEBUG | NativeLibrary | Trying libsecp256k1.so\r\n2022-02-01 09:42:22.214+00:00 | main | DEBUG | NativeLibrary | Loading failed with message: libsecp256k1.so: cannot open shared object file: No such file or directory\r\n2022-02-01 09:42:22.215+00:00 | main | DEBUG | NativeLibrary | Looking for version variants\r\n2022-02-01 09:42:22.218+00:00 | main | DEBUG | NativeLibrary | Trying /usr/lib/x86_64-linux-gnu/libsecp256k1.so.0\r\n2022-02-01 09:42:22.219+00:00 | main | DEBUG | NativeLibrary | Found library 'secp256k1' at /usr/lib/x86_64-linux-gnu/libsecp256k1.so.0\r\n2022-02-01 09:42:22.238+00:00 | main | DEBUG | NativeLibrary | Looking for library 'eth_pairings'\r\n2022-02-01 09:42:22.239+00:00 | main | DEBUG | NativeLibrary | Adding paths from jna.library.path: null\r\n2022-02-01 09:42:22.239+00:00 | main | DEBUG | NativeLibrary | Trying libeth_pairings.so\r\n2022-02-01 09:42:22.239+00:00 | main | DEBUG | NativeLibrary | Loading failed with message: libeth_pairings.so: cannot open shared object file: No such file or directory\r\n2022-02-01 09:42:22.239+00:00 | main | DEBUG | NativeLibrary | Adding system paths: [/usr/lib/x86_64-linux-gnu, /lib/x86_64-linux-gnu, /usr/lib64, /lib64, /usr/lib, /lib]\r\n2022-02-01 09:42:22.240+00:00 | main | DEBUG | NativeLibrary | Trying libeth_pairings.so\r\n2022-02-01 09:42:22.240+00:00 | main | DEBUG | NativeLibrary | Loading failed with message: libeth_pairings.so: cannot open shared object file: No such file or directory\r\n2022-02-01 09:42:22.240+00:00 | main | DEBUG | NativeLibrary | Looking for version variants\r\n2022-02-01 09:42:22.243+00:00 | main | DEBUG | Native | Looking in classpath from jdk.internal.loader.ClassLoaders$AppClassLoader@5ffd2b27 for eth_pairings\r\n2022-02-01 09:42:22.244+00:00 | main | DEBUG | Native | Found library resource at jar:file:/mnt/alastria-node-besu/versionesBesu/besu-21.10.9/lib/bls12-381-0.3.0.jar!/linux-x86-64/libeth_pairings.so\r\n2022-02-01 09:42:22.244+00:00 | main | DEBUG | Native | Extracting library to /home/x281921/.cache/JNA/temp/jna5430367098532675878.tmp\r\n2022-02-01 09:42:22.269+00:00 | main | DEBUG | NativeLibrary | Found library 'eth_pairings' at /home/x281921/.cache/JNA/temp/jna5430367098532675878.tmp\r\n2022-02-01 09:42:22.270+00:00 | main | INFO  | Besu | Using LibEthPairings native alt bn128\r\n2022-02-01 09:42:22.270+00:00 | main | INFO  | Besu | Using the native implementation of the signature algorithm\r\n2022-02-01 09:42:22.273+00:00 | main | INFO  | Besu | Starting Besu version: besu/v21.10.9/linux-x86_64/openjdk-java-11\r\n2022-02-01 09:42:22.277+00:00 | main | TRACE | MetricsSystemFactory | Creating a metric system with PROMETHEUS\r\n2022-02-01 09:42:22.297+00:00 | main | DEBUG | LoggerFactory | Using io.vertx.core.logging.Log4j2LogDelegateFactory\r\n2022-02-01 09:42:22.326+00:00 | main | DEBUG | ResourceLeakDetector | -Dio.netty.leakDetection.level: simple\r\n2022-02-01 09:42:22.326+00:00 | main | DEBUG | ResourceLeakDetector | -Dio.netty.leakDetection.targetRecords: 4\r\n2022-02-01 09:42:22.341+00:00 | main | DEBUG | PlatformDependent0 | -Dio.netty.noUnsafe: false\r\n2022-02-01 09:42:22.341+00:00 | main | DEBUG | PlatformDependent0 | Java version: 11\r\n2022-02-01 09:42:22.343+00:00 | main | DEBUG | PlatformDependent0 | sun.misc.Unsafe.theUnsafe: available\r\n2022-02-01 09:42:22.344+00:00 | main | DEBUG | PlatformDependent0 | sun.misc.Unsafe.copyMemory: available\r\n2022-02-01 09:42:22.344+00:00 | main | DEBUG | PlatformDependent0 | java.nio.Buffer.address: available\r\n2022-02-01 09:42:22.345+00:00 | main | DEBUG | PlatformDependent0 | direct buffer constructor: available\r\n2022-02-01 09:42:22.345+00:00 | main | DEBUG | PlatformDependent0 | java.nio.Bits.unaligned: available, true\r\n2022-02-01 09:42:22.347+00:00 | main | DEBUG | PlatformDependent0 | jdk.internal.misc.Unsafe.allocateUninitializedArray(int): available\r\n2022-02-01 09:42:22.348+00:00 | main | DEBUG | PlatformDependent0 | java.nio.DirectByteBuffer.<init>(long, int): available\r\n2022-02-01 09:42:22.348+00:00 | main | DEBUG | PlatformDependent | sun.misc.Unsafe: available\r\n2022-02-01 09:42:22.348+00:00 | main | DEBUG | PlatformDependent | maxDirectMemory: 2086666240 bytes (maybe)\r\n2022-02-01 09:42:22.349+00:00 | main | DEBUG | PlatformDependent | -Dio.netty.tmpdir: /tmp (java.io.tmpdir)\r\n2022-02-01 09:42:22.349+00:00 | main | DEBUG | PlatformDependent | -Dio.netty.bitMode: 64 (sun.arch.data.model)\r\n2022-02-01 09:42:22.350+00:00 | main | DEBUG | PlatformDependent | -Dio.netty.maxDirectMemory: 2086666240 bytes\r\n2022-02-01 09:42:22.350+00:00 | main | DEBUG | PlatformDependent | -Dio.netty.uninitializedArrayAllocationThreshold: 1024\r\n2022-02-01 09:42:22.351+00:00 | main | DEBUG | CleanerJava9 | java.nio.ByteBuffer.cleaner(): available\r\n2022-02-01 09:42:22.351+00:00 | main | DEBUG | PlatformDependent | -Dio.netty.noPreferDirect: false\r\n2022-02-01 09:42:22.364+00:00 | main | DEBUG | MultithreadEventLoopGroup | -Dio.netty.eventLoopThreads: 8\r\n2022-02-01 09:42:22.378+00:00 | main | DEBUG | InternalThreadLocalMap | -Dio.netty.threadLocalMap.stringBuilder.initialSize: 1024\r\n2022-02-01 09:42:22.378+00:00 | main | DEBUG | InternalThreadLocalMap | -Dio.netty.threadLocalMap.stringBuilder.maxSize: 4096\r\n2022-02-01 09:42:22.398+00:00 | main | DEBUG | NioEventLoop | -Dio.netty.noKeySetOptimization: false\r\n2022-02-01 09:42:22.398+00:00 | main | DEBUG | NioEventLoop | -Dio.netty.selectorAutoRebuildThreshold: 512\r\n2022-02-01 09:42:22.407+00:00 | main | DEBUG | PlatformDependent | org.jctools-core.MpscChunkedArrayQueue: available\r\n2022-02-01 09:42:22.411+00:00 | main | TRACE | NioEventLoop | instrumented a special java.util.Set into: sun.nio.ch.EPollSelectorImpl@6f231ced\r\n2022-02-01 09:42:22.412+00:00 | main | TRACE | NioEventLoop | instrumented a special java.util.Set into: sun.nio.ch.EPollSelectorImpl@f5b6e78\r\n2022-02-01 09:42:22.412+00:00 | main | TRACE | NioEventLoop | instrumented a special java.util.Set into: sun.nio.ch.EPollSelectorImpl@4b4eced1\r\n2022-02-01 09:42:22.412+00:00 | main | TRACE | NioEventLoop | instrumented a special java.util.Set into: sun.nio.ch.EPollSelectorImpl@71926a36\r\n2022-02-01 09:42:22.413+00:00 | main | TRACE | NioEventLoop | instrumented a special java.util.Set into: sun.nio.ch.EPollSelectorImpl@216e9ca3\r\n2022-02-01 09:42:22.413+00:00 | main | TRACE | NioEventLoop | instrumented a special java.util.Set into: sun.nio.ch.EPollSelectorImpl@75120e58\r\n2022-02-01 09:42:22.413+00:00 | main | TRACE | NioEventLoop | instrumented a special java.util.Set into: sun.nio.ch.EPollSelectorImpl@48976e6d\r\n2022-02-01 09:42:22.433+00:00 | main | TRACE | NioEventLoop | instrumented a special java.util.Set into: sun.nio.ch.EPollSelectorImpl@2a367e93\r\n2022-02-01 09:42:22.434+00:00 | main | TRACE | NioEventLoop | instrumented a special java.util.Set into: sun.nio.ch.EPollSelectorImpl@3fba233d\r\n2022-02-01 09:42:22.462+00:00 | main | DEBUG | DefaultDnsServerAddressStreamProvider | Default DNS servers: [/127.0.0.53:53] (sun.net.dns.ResolverConfiguration)\r\n2022-02-01 09:42:22.467+00:00 | main | DEBUG | NetUtil | -Djava.net.preferIPv4Stack: false\r\n2022-02-01 09:42:22.467+00:00 | main | DEBUG | NetUtil | -Djava.net.preferIPv6Addresses: false\r\n2022-02-01 09:42:22.469+00:00 | main | DEBUG | NetUtilInitializations | Loopback interface: lo (lo, 0:0:0:0:0:0:0:1%lo)\r\n2022-02-01 09:42:22.469+00:00 | main | DEBUG | NetUtil | /proc/sys/net/core/somaxconn: 4096\r\n2022-02-01 09:42:22.499+00:00 | main | WARN  | Besu | Discovery disabled: bootnodes will be ignored.\r\n2022-02-01 09:42:22.503+00:00 | main | INFO  | Besu | Static Nodes file = /mnt/alastria-node-besu/validator/static-nodes.json\r\n2022-02-01 09:42:22.504+00:00 | main | INFO  | Besu | Connecting to 0 static nodes.\r\n2022-02-01 09:42:22.504+00:00 | main | TRACE | Besu | Static Nodes = []\r\n2022-02-01 09:42:22.506+00:00 | main | INFO  | Besu | Security Module: localfile\r\n2022-02-01 09:42:22.519+00:00 | main | INFO  | DatabaseMetadata | Lookup database metadata file in data directory: /mnt/alastria-node-besu/validator\r\n2022-02-01 09:42:22.562+00:00 | main | INFO  | RocksDBKeyValueStorageFactory | Existing database detected at /mnt/alastria-node-besu/validator. Version 1\r\n2022-02-01 09:42:22.776+00:00 | main | WARN  | Besu | Discovery disabled: bootnodes will be ignored.\r\n2022-02-01 09:42:22.796+00:00 | main | INFO  | KeyPairUtil | Loaded public key 0xbfc87e067c71f73f98527126d9a63d215e6efc92f4955656c5f1d5e498fe8d69bb5d096304abc0afcd6ff8dc25155dbece7af33ba74b8604c0574cda30a2376f from /mnt/alastria-node-besu/validator/keys/besu/key\r\n2022-02-01 09:42:22.927+00:00 | main | INFO  | ProtocolScheduleBuilder | Protocol schedule created with milestones: [Byzantium: 0]\r\n2022-02-01 09:42:23.040+00:00 | main | DEBUG | BesuPluginContextImpl | Plugin startup complete.\r\n2022-02-01 09:42:23.044+00:00 | main | INFO  | RunnerBuilder | Detecting NAT service.\r\n2022-02-01 09:42:23.068+00:00 | main | DEBUG | RlpxAgent | Using default NettyConnectionInitializer\r\n2022-02-01 09:42:23.071+00:00 | main | TRACE | NioEventLoop | instrumented a special java.util.Set into: sun.nio.ch.EPollSelectorImpl@25974207\r\n2022-02-01 09:42:23.072+00:00 | main | TRACE | NioEventLoop | instrumented a special java.util.Set into: sun.nio.ch.EPollSelectorImpl@195113de\r\n2022-02-01 09:42:23.072+00:00 | main | TRACE | NioEventLoop | instrumented a special java.util.Set into: sun.nio.ch.EPollSelectorImpl@3ebc955b\r\n2022-02-01 09:42:23.072+00:00 | main | TRACE | NioEventLoop | instrumented a special java.util.Set into: sun.nio.ch.EPollSelectorImpl@21a46ff1\r\n2022-02-01 09:42:23.072+00:00 | main | TRACE | NioEventLoop | instrumented a special java.util.Set into: sun.nio.ch.EPollSelectorImpl@11b5f4e2\r\n2022-02-01 09:42:23.073+00:00 | main | TRACE | NioEventLoop | instrumented a special java.util.Set into: sun.nio.ch.EPollSelectorImpl@6bcae9\r\n2022-02-01 09:42:23.073+00:00 | main | TRACE | NioEventLoop | instrumented a special java.util.Set into: sun.nio.ch.EPollSelectorImpl@5aa781f2\r\n2022-02-01 09:42:23.073+00:00 | main | TRACE | NioEventLoop | instrumented a special java.util.Set into: sun.nio.ch.EPollSelectorImpl@58feb6b0\r\n2022-02-01 09:42:23.073+00:00 | main | TRACE | NioEventLoop | instrumented a special java.util.Set into: sun.nio.ch.EPollSelectorImpl@66d25ba9\r\n2022-02-01 09:42:23.074+00:00 | main | TRACE | NioEventLoop | instrumented a special java.util.Set into: sun.nio.ch.EPollSelectorImpl@3830f918\r\n2022-02-01 09:42:23.074+00:00 | main | TRACE | NioEventLoop | instrumented a special java.util.Set into: sun.nio.ch.EPollSelectorImpl@5efe47fd\r\n2022-02-01 09:42:23.146+00:00 | main | TRACE | MetricsService | Creating metrics service PROMETHEUS\r\n2022-02-01 09:42:23.148+00:00 | main | INFO  | Runner | Starting Ethereum main loop ...\r\n2022-02-01 09:42:23.149+00:00 | main | INFO  | MetricsHttpService | Starting metrics http service on 0.0.0.0:9545\r\n2022-02-01 09:42:23.184+00:00 | main | DEBUG | PooledByteBufAllocator | -Dio.netty.allocator.numHeapArenas: 8\r\n2022-02-01 09:42:23.185+00:00 | main | DEBUG | PooledByteBufAllocator | -Dio.netty.allocator.numDirectArenas: 8\r\n2022-02-01 09:42:23.185+00:00 | main | DEBUG | PooledByteBufAllocator | -Dio.netty.allocator.pageSize: 8192\r\n2022-02-01 09:42:23.185+00:00 | main | DEBUG | PooledByteBufAllocator | -Dio.netty.allocator.maxOrder: 11\r\n2022-02-01 09:42:23.185+00:00 | main | DEBUG | PooledByteBufAllocator | -Dio.netty.allocator.chunkSize: 16777216\r\n2022-02-01 09:42:23.185+00:00 | main | DEBUG | PooledByteBufAllocator | -Dio.netty.allocator.smallCacheSize: 256\r\n2022-02-01 09:42:23.185+00:00 | main | DEBUG | PooledByteBufAllocator | -Dio.netty.allocator.normalCacheSize: 64\r\n2022-02-01 09:42:23.185+00:00 | main | DEBUG | PooledByteBufAllocator | -Dio.netty.allocator.maxCachedBufferCapacity: 32768\r\n2022-02-01 09:42:23.185+00:00 | main | DEBUG | PooledByteBufAllocator | -Dio.netty.allocator.cacheTrimInterval: 8192\r\n2022-02-01 09:42:23.186+00:00 | main | DEBUG | PooledByteBufAllocator | -Dio.netty.allocator.cacheTrimIntervalMillis: 0\r\n2022-02-01 09:42:23.186+00:00 | main | DEBUG | PooledByteBufAllocator | -Dio.netty.allocator.useCacheForAllThreads: true\r\n2022-02-01 09:42:23.186+00:00 | main | DEBUG | PooledByteBufAllocator | -Dio.netty.allocator.maxCachedByteBuffersPerChunk: 1023\r\n2022-02-01 09:42:23.207+00:00 | main | DEBUG | DefaultChannelId | -Dio.netty.processId: 535909 (auto-detected)\r\n2022-02-01 09:42:23.209+00:00 | main | DEBUG | DefaultChannelId | -Dio.netty.machineId: 60:45:bd:ff:fe:8c:66:23 (auto-detected)\r\n2022-02-01 09:42:23.225+00:00 | main | DEBUG | ByteBufUtil | -Dio.netty.allocator.type: pooled\r\n2022-02-01 09:42:23.226+00:00 | main | DEBUG | ByteBufUtil | -Dio.netty.threadLocalDirectBufferSize: 0\r\n2022-02-01 09:42:23.226+00:00 | main | DEBUG | ByteBufUtil | -Dio.netty.maxThreadLocalCharBufferSize: 16384\r\n2022-02-01 09:42:23.238+00:00 | vert.x-acceptor-thread-0 | TRACE | NetServerImpl | Net server listening on 0.0.0.0:/0:0:0:0:0:0:0:0:9545\r\n2022-02-01 09:42:23.240+00:00 | vert.x-eventloop-thread-1 | INFO  | MetricsHttpService | Metrics service started and listening on 9545:9545\r\n2022-02-01 09:42:23.240+00:00 | main | INFO  | NatService | No NAT environment detected so no service could be started\r\n2022-02-01 09:42:23.241+00:00 | main | INFO  | NetworkRunner | Starting Network.\r\n2022-02-01 09:42:23.247+00:00 | nioEventLoopGroup-2-1 | INFO  | RlpxAgent | P2P RLPx agent started and listening on /0:0:0:0:0:0:0:0:30303.\r\n2022-02-01 09:42:23.248+00:00 | main | INFO  | DefaultP2PNetwork | Enode URL enode://bfc87e067c71f73f98527126d9a63d215e6efc92f4955656c5f1d5e498fe8d69bb5d096304abc0afcd6ff8dc25155dbece7af33ba74b8604c0574cda30a2376f@127.0.0.1:30303?discport=0\r\n2022-02-01 09:42:23.249+00:00 | main | INFO  | DefaultP2PNetwork | Node address 0xe00c3fc6a4dd9a29f1cbae093a3b066a1ac318f9\r\n2022-02-01 09:42:23.251+00:00 | main | INFO  | DefaultSynchronizer | Starting synchronizer.\r\n2022-02-01 09:42:23.252+00:00 | main | INFO  | FullSyncDownloader | Starting full sync.\r\n2022-02-01 09:42:23.253+00:00 | main | INFO  | FullSyncTargetManager | No sync target, waiting for peers: 0\r\n2022-02-01 09:42:23.257+00:00 | main | DEBUG | WaitForPeerTask | Waiting for new peer connection. 0 peers currently connected.\r\n2022-02-01 09:42:23.279+00:00 | main | INFO  | JsonRpcHttpService | Starting JSON-RPC service on 0.0.0.0:8545\r\n2022-02-01 09:42:23.281+00:00 | main | DEBUG | JsonRpcHttpService | max number of active connections 80\r\n2022-02-01 09:42:23.295+00:00 | vert.x-acceptor-thread-0 | TRACE | NetServerImpl | Net server listening on 0.0.0.0:/0:0:0:0:0:0:0:0:8545\r\n2022-02-01 09:42:23.296+00:00 | vert.x-eventloop-thread-1 | INFO  | JsonRpcHttpService | JSON-RPC service started and listening on 0.0.0.0:8545\r\n2022-02-01 09:42:23.298+00:00 | main | INFO  | WebSocketService | Starting Websocket service on 127.0.0.1:8546\r\n2022-02-01 09:42:23.301+00:00 | vert.x-acceptor-thread-0 | TRACE | NetServerImpl | Net server listening on 127.0.0.1:/127.0.0.1:8546\r\n2022-02-01 09:42:23.301+00:00 | vert.x-eventloop-thread-1 | INFO  | WebSocketService | Websocket service started and listening on 127.0.0.1:8546\r\n2022-02-01 09:42:23.304+00:00 | main | INFO  | Runner | Ethereum main loop is up.\r\n2022-02-01 09:42:23.307+00:00 | main | INFO  | AutoTransactionLogBloomCachingService | Starting auto transaction log bloom caching service.\r\n2022-02-01 09:42:23.308+00:00 | main | INFO  | LogBloomCacheMetadata | Lookup cache metadata file in data directory: /mnt/alastria-node-besu/validator/caches\r\nx281921@sanbesu3:/mnt/alastria-node-besu/validator$ tail -f /mnt/alastria-node-besu/validator/logs/besu.log\r\n2022-02-01 09:42:23.298+00:00 | main | INFO  | WebSocketService | Starting Websocket service on 127.0.0.1:8546\r\n2022-02-01 09:42:23.301+00:00 | vert.x-acceptor-thread-0 | TRACE | NetServerImpl | Net server listening on 127.0.0.1:/127.0.0.1:8546\r\n2022-02-01 09:42:23.301+00:00 | vert.x-eventloop-thread-1 | INFO  | WebSocketService | Websocket service started and listening on 127.0.0.1:8546\r\n2022-02-01 09:42:23.304+00:00 | main | INFO  | Runner | Ethereum main loop is up.\r\n2022-02-01 09:42:23.307+00:00 | main | INFO  | AutoTransactionLogBloomCachingService | Starting auto transaction log bloom caching service.\r\n2022-02-01 09:42:23.308+00:00 | main | INFO  | LogBloomCacheMetadata | Lookup cache metadata file in data directory: /mnt/alastria-node-besu/validator/caches\r\n2022-02-01 09:42:28.265+00:00 | EthScheduler-Timer-0 | INFO  | FullSyncTargetManager | No sync target, waiting for peers: 0\r\n2022-02-01 09:42:28.265+00:00 | EthScheduler-Timer-0 | DEBUG | WaitForPeerTask | Waiting for new peer connection. 0 peers currently connected.\r\n2022-02-01 09:42:33.266+00:00 | EthScheduler-Timer-0 | INFO  | FullSyncTargetManager | No sync target, waiting for peers: 0\r\n2022-02-01 09:42:33.267+00:00 | EthScheduler-Timer-0 | DEBUG | WaitForPeerTask | Waiting for new peer connection. 0 peers currently connected.\r\n2022-02-01 09:42:38.267+00:00 | EthScheduler-Timer-0 | INFO  | FullSyncTargetManager | No sync target, waiting for peers: 0\r\n2022-02-01 09:42:38.268+00:00 | EthScheduler-Timer-0 | DEBUG | WaitForPeerTask | Waiting for new peer connection. 0 peers currently connected.\r\n2022-02-01 09:42:43.268+00:00 | EthScheduler-Timer-0 | INFO  | FullSyncTargetManager | No sync target, waiting for peers: 0\r\n2022-02-01 09:42:43.269+00:00 | EthScheduler-Timer-0 | DEBUG | WaitForPeerTask | Waiting for new peer connection. 0 peers currently connected.\r\n2022-02-01 09:42:48.270+00:00 | EthScheduler-Timer-0 | INFO  | FullSyncTargetManager | No sync target, waiting for peers: 0\r\n2022-02-01 09:42:48.270+00:00 | EthScheduler-Timer-0 | DEBUG | WaitForPeerTask | Waiting for new peer connection. 0 peers currently connected.\r\n2022-02-01 09:42:53.251+00:00 | pool-7-thread-1 | TRACE | DefaultP2PNetwork | Initiating connections to discovered peers.\r\n2022-02-01 09:42:53.271+00:00 | EthScheduler-Timer-0 | INFO  | FullSyncTargetManager | No sync target, waiting for peers: 0\r\n2022-02-01 09:42:53.272+00:00 | EthScheduler-Timer-0 | DEBUG | WaitForPeerTask | Waiting for new peer connection. 0 peers currently connected.\r\n2022-02-01 09:42:58.272+00:00 | EthScheduler-Timer-0 | INFO  | FullSyncTargetManager | No sync target, waiting for peers: 0\r\n2022-02-01 09:42:58.273+00:00 | EthScheduler-Timer-0 | DEBUG | WaitForPeerTask | Waiting for new peer connection. 0 peers currently connected.\r\n2022-02-01 09:43:03.274+00:00 | EthScheduler-Timer-0 | INFO  | FullSyncTargetManager | No sync target, waiting for peers: 0\r\n2022-02-01 09:43:03.274+00:00 | EthScheduler-Timer-0 | DEBUG | WaitForPeerTask | Waiting for new peer connection. 0 peers currently connected.\r\n2022-02-01 09:43:08.275+00:00 | EthScheduler-Timer-0 | INFO  | FullSyncTargetManager | No sync target, waiting for peers: 0\r\n2022-02-01 09:43:08.275+00:00 | EthScheduler-Timer-0 | DEBUG | WaitForPeerTask | Waiting for new peer connection. 0 peers currently connected.\r\n```\r\n\r\nThanks in advance",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1026650929/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1031428429",
    "html_url": "https://github.com/hyperledger/besu/issues/3343#issuecomment-1031428429",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/3343",
    "id": 1031428429,
    "node_id": "IC_kwDODE2jmc49ellN",
    "user": {
      "login": "mark-terry",
      "id": 36909937,
      "node_id": "MDQ6VXNlcjM2OTA5OTM3",
      "avatar_url": "https://avatars.githubusercontent.com/u/36909937?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mark-terry",
      "html_url": "https://github.com/mark-terry",
      "followers_url": "https://api.github.com/users/mark-terry/followers",
      "following_url": "https://api.github.com/users/mark-terry/following{/other_user}",
      "gists_url": "https://api.github.com/users/mark-terry/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mark-terry/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mark-terry/subscriptions",
      "organizations_url": "https://api.github.com/users/mark-terry/orgs",
      "repos_url": "https://api.github.com/users/mark-terry/repos",
      "events_url": "https://api.github.com/users/mark-terry/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mark-terry/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-02-07T12:42:43Z",
    "updated_at": "2022-02-07T12:42:43Z",
    "author_association": "CONTRIBUTOR",
    "body": "Hi @jorgesjv,\r\nWhich milestone blocks are set in your genesis.json? There's a chance the behaviour you've noted might be triggered by misconfigured milestone blocks.\r\n\r\nCheers.",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1031428429/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1032325479",
    "html_url": "https://github.com/hyperledger/besu/issues/3343#issuecomment-1032325479",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/3343",
    "id": 1032325479,
    "node_id": "IC_kwDODE2jmc49iAln",
    "user": {
      "login": "jorgesjv",
      "id": 81416738,
      "node_id": "MDQ6VXNlcjgxNDE2NzM4",
      "avatar_url": "https://avatars.githubusercontent.com/u/81416738?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorgesjv",
      "html_url": "https://github.com/jorgesjv",
      "followers_url": "https://api.github.com/users/jorgesjv/followers",
      "following_url": "https://api.github.com/users/jorgesjv/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorgesjv/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorgesjv/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorgesjv/subscriptions",
      "organizations_url": "https://api.github.com/users/jorgesjv/orgs",
      "repos_url": "https://api.github.com/users/jorgesjv/repos",
      "events_url": "https://api.github.com/users/jorgesjv/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorgesjv/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-02-08T08:13:05Z",
    "updated_at": "2022-02-08T08:13:05Z",
    "author_association": "NONE",
    "body": "Hi @mark-terry thanks for the answer.\r\n\r\nThese are the milestone blocks from my genesis.json.\r\n\r\n```\r\n  \"config\": {\r\n    \"chainId\": 2022,\r\n    \"homesteadBlock\": 0,\r\n    \"eip150Block\": 0,\r\n    \"eip155Block\": 0,\r\n    \"eip158Block\": 0,\r\n    \"byzantiumBlock\": 0,\r\n    \"qbft\": {\r\n      \"epochlength\": 30000,\r\n      \"blockperiodseconds\": 2,\r\n      \"requesttimeoutseconds\": 10\r\n    }\r\n  }\r\n```\r\n\r\nThanks in advance",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1032325479/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1032465755",
    "html_url": "https://github.com/hyperledger/besu/issues/3343#issuecomment-1032465755",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/3343",
    "id": 1032465755,
    "node_id": "IC_kwDODE2jmc49ii1b",
    "user": {
      "login": "mark-terry",
      "id": 36909937,
      "node_id": "MDQ6VXNlcjM2OTA5OTM3",
      "avatar_url": "https://avatars.githubusercontent.com/u/36909937?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mark-terry",
      "html_url": "https://github.com/mark-terry",
      "followers_url": "https://api.github.com/users/mark-terry/followers",
      "following_url": "https://api.github.com/users/mark-terry/following{/other_user}",
      "gists_url": "https://api.github.com/users/mark-terry/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mark-terry/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mark-terry/subscriptions",
      "organizations_url": "https://api.github.com/users/mark-terry/orgs",
      "repos_url": "https://api.github.com/users/mark-terry/repos",
      "events_url": "https://api.github.com/users/mark-terry/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mark-terry/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-02-08T10:43:49Z",
    "updated_at": "2022-02-08T10:43:49Z",
    "author_association": "CONTRIBUTOR",
    "body": "Hi @jorgesjv,\r\nI can see what's causing the problem. \r\n\r\nHave you got `compatibility-eth64-forkid-enabled=true` deliberately enabled in your configuration? You mentioned you're using version 21.10.9 - per the [documentation](https://besu.hyperledger.org/en/stable/Reference/CLI/CLI-Syntax/#compatibility-eth64-forkid-enabled) this item does not need to be enabled unless this node is on a network with nodes that are running Besu version 1.4 or earlier.\r\n\r\nI've identified a bug that will throw an NPE if `compatibility-eth64-forkid-enabled=true` is set and there are no non-zero milestone blocks specified in the genesis. I'll get a fix out ASAP for it.\r\n\r\nIn the meantime, could you tell us whether you're able to run your network with `compatibility-eth64-forkid-enabled=false` and whether that resolves the issue?",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1032465755/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1035972827",
    "html_url": "https://github.com/hyperledger/besu/issues/3343#issuecomment-1035972827",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/3343",
    "id": 1035972827,
    "node_id": "IC_kwDODE2jmc49v7Db",
    "user": {
      "login": "jorgesanjose",
      "id": 47521746,
      "node_id": "MDQ6VXNlcjQ3NTIxNzQ2",
      "avatar_url": "https://avatars.githubusercontent.com/u/47521746?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorgesanjose",
      "html_url": "https://github.com/jorgesanjose",
      "followers_url": "https://api.github.com/users/jorgesanjose/followers",
      "following_url": "https://api.github.com/users/jorgesanjose/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorgesanjose/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorgesanjose/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorgesanjose/subscriptions",
      "organizations_url": "https://api.github.com/users/jorgesanjose/orgs",
      "repos_url": "https://api.github.com/users/jorgesanjose/repos",
      "events_url": "https://api.github.com/users/jorgesanjose/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorgesanjose/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-02-11T08:24:37Z",
    "updated_at": "2022-02-11T08:24:37Z",
    "author_association": "NONE",
    "body": "Hi @mark-terry.\r\n\r\nI run the Besu node with  ```compatibility-eth64-forkid-enabled=false``` like you said, and currently, it does not crash.\r\nSo probably that was the problem.\r\nPreviously, we had old Besu version, so it was set to true.\r\n\r\nThanks a lot!",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1035972827/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
