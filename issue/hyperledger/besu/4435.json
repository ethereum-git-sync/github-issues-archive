{
  "url": "https://api.github.com/repos/hyperledger/besu/issues/4435",
  "repository_url": "https://api.github.com/repos/hyperledger/besu",
  "labels_url": "https://api.github.com/repos/hyperledger/besu/issues/4435/labels{/name}",
  "comments_url": "https://api.github.com/repos/hyperledger/besu/issues/4435/comments",
  "events_url": "https://api.github.com/repos/hyperledger/besu/issues/4435/events",
  "html_url": "https://github.com/hyperledger/besu/issues/4435",
  "id": 1384556869,
  "node_id": "I_kwDODE2jmc5ShqlF",
  "number": 4435,
  "title": "Thread Blocked (Possible memory leak)",
  "user": {
    "login": "steflsd",
    "id": 2960424,
    "node_id": "MDQ6VXNlcjI5NjA0MjQ=",
    "avatar_url": "https://avatars.githubusercontent.com/u/2960424?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/steflsd",
    "html_url": "https://github.com/steflsd",
    "followers_url": "https://api.github.com/users/steflsd/followers",
    "following_url": "https://api.github.com/users/steflsd/following{/other_user}",
    "gists_url": "https://api.github.com/users/steflsd/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/steflsd/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/steflsd/subscriptions",
    "organizations_url": "https://api.github.com/users/steflsd/orgs",
    "repos_url": "https://api.github.com/users/steflsd/repos",
    "events_url": "https://api.github.com/users/steflsd/events{/privacy}",
    "received_events_url": "https://api.github.com/users/steflsd/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 1537362490,
      "node_id": "MDU6TGFiZWwxNTM3MzYyNDkw",
      "url": "https://api.github.com/repos/hyperledger/besu/labels/bug",
      "name": "bug",
      "color": "d73a4a",
      "default": true,
      "description": "Something isn't working"
    },
    {
      "id": 3013559202,
      "node_id": "MDU6TGFiZWwzMDEzNTU5MjAy",
      "url": "https://api.github.com/repos/hyperledger/besu/labels/mainnet",
      "name": "mainnet",
      "color": "9D578C",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 13,
  "created_at": "2022-09-24T07:03:55Z",
  "updated_at": "2022-10-05T23:50:40Z",
  "closed_at": "2022-10-05T23:50:39Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "### Versions (Add all that apply)\r\n* Software version: 22.7.3\r\n* Cloud VM, type, size: Digital Ocean Kubernetes - v1.24.4. \r\n\r\n### Additional Information (Add any of the following or anything else that may be relevant)\r\nRunning Prysm 3.1.1-patch as consensys client (-patch is a patch to increase the prysm default timeout from 6 seconds to 30 seconds).\r\n\r\n\r\n    Image:         hyperledger/besu:22.7.3\r\n    --data-path=/data\r\n      --network=mainnet\r\n      --rpc-http-enabled\r\n      --sync-mode=X_CHECKPOINT\r\n      --data-storage-format=BONSAI\r\n      --rpc-http-host=0.0.0.0\r\n      --rpc-http-cors-origins=*\r\n      --rpc-ws-enabled=true\r\n      --rpc-ws-host=0.0.0.0\r\n      --host-allowlist=*\r\n      --engine-host-allowlist=*\r\n      --engine-jwt-enabled=true\r\n      --engine-jwt-secret=/data/jwt.hex\r\n      --engine-rpc-port=8551\r\n\r\n\r\n```\r\n2022-09-24 06:40:29.232+00:00 | vert.x-worker-thread-0 | INFO  | EngineNewPayload | Imported #15,601,485 / 132 tx / base fee 4.16 gwei / 14,732,388 (49.1%) gas / (0x058f084329a115c1194b59e52bf5883fc4a5c1d286da3c365f5d2e61c56b26ed) in 3.748s. Peers: 24\r\n2022-09-24 06:40:50.146+00:00 | vertx-blocked-thread-checker | WARN  | BlockedThreadChecker | Thread Thread[vert.x-eventloop-thread-1,5,main] has been blocked for 6545 ms, time limit is 2000 ms\r\nio.vertx.core.VertxException: Thread blocked\r\n        at java.base@11.0.16/java.util.LinkedHashMap.newNode(LinkedHashMap.java:256)\r\n        at java.base@11.0.16/java.util.HashMap.putVal(HashMap.java:627)\r\n        at java.base@11.0.16/java.util.HashMap.put(HashMap.java:608)\r\n        at app//io.netty.bootstrap.AbstractBootstrap.option(AbstractBootstrap.java:179)\r\n        at app//org.hyperledger.besu.ethereum.p2p.rlpx.connections.netty.NettyConnectionInitializer.connect(NettyConnectionInitializer.java:182)\r\n        at app//org.hyperledger.besu.ethereum.p2p.rlpx.RlpxAgent.initiateOutboundConnection(RlpxAgent.java:345)\r\n        at app//org.hyperledger.besu.ethereum.p2p.rlpx.RlpxAgent.lambda$connect$10(RlpxAgent.java:265)\r\n        at app//org.hyperledger.besu.ethereum.p2p.rlpx.RlpxAgent$$Lambda$1044/0x00000008406ad840.apply(Unknown Source)\r\n        at java.base@11.0.16/java.util.concurrent.ConcurrentHashMap.compute(ConcurrentHashMap.java:1908)\r\n        at app//org.hyperledger.besu.ethereum.p2p.rlpx.RlpxAgent.connect(RlpxAgent.java:256)\r\n        at app//org.hyperledger.besu.ethereum.p2p.network.DefaultP2PNetwork.handlePeerBondedEvent(DefaultP2PNetwork.java:408)\r\n        at app//org.hyperledger.besu.ethereum.p2p.network.DefaultP2PNetwork$$Lambda$1000/0x0000000840697440.onPeerBonded(Unknown Source)\r\n        at app//org.hyperledger.besu.ethereum.p2p.discovery.internal.PeerDiscoveryController.lambda$dispatchPeerBondedEvent$17(PeerDiscoveryController.java:621)\r\n        at app//org.hyperledger.besu.ethereum.p2p.discovery.internal.PeerDiscoveryController$$Lambda$1039/0x00000008406af440.accept(Unknown Source)\r\n        at app//org.hyperledger.besu.util.Subscribers.lambda$forEach$0(Subscribers.java:112)\r\n        at app//org.hyperledger.besu.util.Subscribers$$Lambda$456/0x000000084042c040.accept(Unknown Source)\r\n        at java.base@11.0.16/java.lang.Iterable.forEach(Iterable.java:75)\r\n        at app//org.hyperledger.besu.util.Subscribers.forEach(Subscribers.java:109)\r\n        at app//org.hyperledger.besu.ethereum.p2p.discovery.internal.PeerDiscoveryController.dispatchPeerBondedEvent(PeerDiscoveryController.java:621)\r\n        at app//org.hyperledger.besu.ethereum.p2p.discovery.internal.PeerDiscoveryController.notifyPeerBonded(PeerDiscoveryController.java:423)\r\n        at app//org.hyperledger.besu.ethereum.p2p.discovery.internal.PeerDiscoveryController.addToPeerTable(PeerDiscoveryController.java:403)\r\n        at app//org.hyperledger.besu.ethereum.p2p.discovery.internal.PeerDiscoveryController.lambda$onMessage$1(PeerDiscoveryController.java:323)\r\n        at app//org.hyperledger.besu.ethereum.p2p.discovery.internal.PeerDiscoveryController$$Lambda$1038/0x00000008406af040.accept(Unknown Source)\r\n        at java.base@11.0.16/java.util.Optional.ifPresent(Optional.java:183)\r\n        at app//org.hyperledger.besu.ethereum.p2p.discovery.internal.PeerDiscoveryController.onMessage(PeerDiscoveryController.java:320)\r\n        at app//org.hyperledger.besu.ethereum.p2p.discovery.PeerDiscoveryAgent.lambda$handleIncomingPacket$4(PeerDiscoveryAgent.java:298)\r\n        at app//org.hyperledger.besu.ethereum.p2p.discovery.PeerDiscoveryAgent$$Lambda$1034/0x00000008406a8c40.accept(Unknown Source)\r\n        at java.base@11.0.16/java.util.Optional.ifPresent(Optional.java:183)\r\n        at app//org.hyperledger.besu.ethereum.p2p.discovery.PeerDiscoveryAgent.handleIncomingPacket(PeerDiscoveryAgent.java:298)\r\n        at app//org.hyperledger.besu.ethereum.p2p.discovery.VertxPeerDiscoveryAgent.lambda$handlePacket$10(VertxPeerDiscoveryAgent.java:297)\r\n        at app//org.hyperledger.besu.ethereum.p2p.discovery.VertxPeerDiscoveryAgent$$Lambda$1027/0x000000084069c840.handle(Unknown Source)\r\n        at app//io.vertx.core.impl.future.FutureImpl$3.onSuccess(FutureImpl.java:141)\r\n        at app//io.vertx.core.impl.future.FutureBase.lambda$emitSuccess$0(FutureBase.java:54)\r\n        at app//io.vertx.core.impl.future.FutureBase$$Lambda$684/0x00000008404a4440.run(Unknown Source)\r\n        at app//io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:174)\r\n        at app//io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:167)\r\n        at app//io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:470)\r\n        at app//io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:391)\r\n        at app//io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\r\n        at app//io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n        at app//io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n        at java.base@11.0.16/java.lang.Thread.run(Thread.java:829)\r\n2022-09-24 06:40:51.449+00:00 | vert.x-worker-thread-0 | INFO  | EngineNewPayload | Imported #15,601,486 / 177 tx / base fee 4.15 gwei / 15,726,259 (52.4%) gas / (0x2753823a48960426a37bf22f5ddd43d2257d593303bf52428c6e9883dd9bd949) in 10.135s. Peers: 19\r\n2022-09-24 06:40:52.049+00:00 | vert.x-worker-thread-0 | INFO  | EngineForkchoiceUpdated | VALID for fork-choice-update: head: 0x2753823a48960426a37bf22f5ddd43d2257d593303bf52428c6e9883dd9bd949, finalized: 0xfdfc6cbe38585a4bb1ab9f21ef52914c3ae8109acab78f9684d3b667ad4240b1, safeBlockHash: 0x11ce949be885a32bcf6cd4b58dd35d43664a4bf1e801da2b8666fa763e54eb25\r\n2022-09-24 06:41:10.827+00:00 | vert.x-worker-thread-0 | INFO  | EngineNewPayload | Imported #15,601,487 / 143 tx / base fee 4.18 gwei / 14,493,108 (48.3%) gas / (0x79b908af2969dc78e1b96580455b4c2ef14c964250d7c5a2d6864da17d8bf78d) in 18.487s. Peers: 23\r\n2022-09-24 06:41:14.043+00:00 | vert.x-worker-thread-0 | INFO  | EngineNewPayload | Imported #15,601,488 / 154 tx / base fee 4.16 gwei / 13,982,614 (46.6%) gas / (0xe92dd9a67ae3af3ccf0c2101492dbc708c35c4e726b6e20378baff82a554c7ce) in 2.559s. Peers: 19\r\n...\r\n2022-09-24 06:49:30.067+00:00 | vert.x-worker-thread-0 | INFO  | EngineForkchoiceUpdated | VALID for fork-choice-update: head: 0x8c8904366243d7d1bc7e574dda3c296e6f7009acf19e4ddede096471063d5dc2, finalized: 0x11ce949be885a32bcf6cd4b58dd35d43664a4bf1e801da2b8666fa763e54eb25, safeBlockHash: 0x058f084329a115c1194b59e52bf5883fc4a5c1d286da3c365f5d2e61c56b26ed\r\n2022-09-24 06:49:30.754+00:00 | vert.x-worker-thread-0 | INFO  | EngineNewPayload | Imported #15,601,530 / 24 tx / base fee 4.39 gwei / 1,894,558 (6.3%) gas / (0x96c556c219b4e147df717c8885be775839718ebf997d58c7e3b537eeec0ecff6) in 0.397s. Peers: 18\r\n2022-09-24 06:49:40.151+00:00 | vertx-blocked-thread-checker | WARN  | BlockedThreadChecker | Thread Thread[vert.x-eventloop-thread-1,5,main] has been blocked for 6937 ms, time limit is 2000 ms\r\nio.vertx.core.VertxException: Thread blocked\r\n        at java.base@11.0.16/java.lang.Long.valueOf(Long.java:1180)\r\n        at app//org.hyperledger.besu.ethereum.p2p.discovery.internal.RetryDelayFunction.lambda$linear$0(RetryDelayFunction.java:27)\r\n        at app//org.hyperledger.besu.ethereum.p2p.discovery.internal.RetryDelayFunction$$Lambda$959/0x000000084067e840.apply(Unknown Source)\r\n        at app//org.hyperledger.besu.ethereum.p2p.discovery.internal.PeerDiscoveryController$PeerInteractionState.execute(PeerDiscoveryController.java:718)\r\n        at app//org.hyperledger.besu.ethereum.p2p.discovery.internal.PeerDiscoveryController.dispatchInteraction(PeerDiscoveryController.java:572)\r\n        at app//org.hyperledger.besu.ethereum.p2p.discovery.internal.PeerDiscoveryController.bond(PeerDiscoveryController.java:509)\r\n        at app//org.hyperledger.besu.ethereum.p2p.discovery.internal.PeerDiscoveryController$$Lambda$963/0x000000084067c840.performBonding(Unknown Source)\r\n        at app//org.hyperledger.besu.ethereum.p2p.discovery.internal.RecursivePeerRefreshState.bondingInitiateRound(RecursivePeerRefreshState.java:117)\r\n        at app//org.hyperledger.besu.ethereum.p2p.discovery.internal.RecursivePeerRefreshState.onNeighboursReceived(RecursivePeerRefreshState.java:213)\r\n        at app//org.hyperledger.besu.ethereum.p2p.discovery.internal.PeerDiscoveryController.lambda$onMessage$2(PeerDiscoveryController.java:333)\r\n        at app//org.hyperledger.besu.ethereum.p2p.discovery.internal.PeerDiscoveryController$$Lambda$1267/0x000000084076bc40.accept(Unknown Source)\r\n        at java.base@11.0.16/java.util.Optional.ifPresent(Optional.java:183)\r\n        at app//org.hyperledger.besu.ethereum.p2p.discovery.internal.PeerDiscoveryController.onMessage(PeerDiscoveryController.java:331)\r\n        at app//org.hyperledger.besu.ethereum.p2p.discovery.PeerDiscoveryAgent.lambda$handleIncomingPacket$4(PeerDiscoveryAgent.java:298)\r\n        at app//org.hyperledger.besu.ethereum.p2p.discovery.PeerDiscoveryAgent$$Lambda$1034/0x00000008406a8c40.accept(Unknown Source)\r\n        at java.base@11.0.16/java.util.Optional.ifPresent(Optional.java:183)\r\n        at app//org.hyperledger.besu.ethereum.p2p.discovery.PeerDiscoveryAgent.handleIncomingPacket(PeerDiscoveryAgent.java:298)\r\n        at app//org.hyperledger.besu.ethereum.p2p.discovery.VertxPeerDiscoveryAgent.lambda$handlePacket$10(VertxPeerDiscoveryAgent.java:297)\r\n        at app//org.hyperledger.besu.ethereum.p2p.discovery.VertxPeerDiscoveryAgent$$Lambda$1027/0x000000084069c840.handle(Unknown Source)\r\n        at app//io.vertx.core.impl.future.FutureImpl$3.onSuccess(FutureImpl.java:141)\r\n        at app//io.vertx.core.impl.future.FutureBase.lambda$emitSuccess$0(FutureBase.java:54)\r\n        at app//io.vertx.core.impl.future.FutureBase$$Lambda$684/0x00000008404a4440.run(Unknown Source)\r\n        at app//io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:174)\r\n        at app//io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:167)\r\n        at app//io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:470)\r\n        at app//io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:391)\r\n        at app//io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\r\n        at app//io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n        at app//io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n        at java.base@11.0.16/java.lang.Thread.run(Thread.java:829)\r\n2022-09-24 06:50:11.239+00:00 | vert.x-worker-thread-0 | INFO  | EngineNewPayload | Imported #15,601,531 / 166 tx / base fee 3.91 gwei / 29,983,389 (99.9%) gas / (0xe27b739c14e6ccae5a1bd6333250088979ecdc5a86e7f6f9e1eebe58a580fd03) in 31.049s. Peers: 19\r\n2022-09-24 06:50:14.135+00:00 | vert.x-worker-thread-0 | INFO  | EngineNewPayload | Imported #15,601,532 / 54 tx / base fee 4.40 gwei / 5,364,182 (17.9%) gas / (0x2f7e826ed2b3acb5ef5a5392ad7fc03cb72a248bc7a9c7a036cb8b95bf8fd220) in 1.575s. Peers: 20\r\n2022-09-24 06:50:24.256+00:00 | vert.x-worker-thread-0 | INFO  | EngineNewPayload | Imported #15,601,533 / 129 tx / base fee 4.05 gwei / 12,725,085 (42.4%) gas / (0xfaae581168f28255afda68ae6bec42b072db41b31cf90a4f737d53b99df00a66) in 2.621s. Peers: 18\r\n2022-09-24 06:50:44.508+00:00 | vert.x-worker-thread-0 | INFO  | EngineNewPayload | Imported #15,601,534 / 153 tx / base fee 3.97 gwei / 13,837,707 (46.1%) gas / (0x7895058c7b41098525458510f1867d1c6113d33dbbbeda06b6aafdbf1e177653) in 19.381s. Peers: 20\r\n2022-09-24 06:50:45.265+00:00 | vert.x-worker-thread-0 | INFO  | EngineForkchoiceUpdated | VALID for fork-choice-update: head: 0x7895058c7b41098525458510f1867d1c6113d33dbbbeda06b6aafdbf1e177653, finalized: 0x11ce949be885a32bcf6cd4b58dd35d43664a4bf1e801da2b8666fa763e54eb25, safeBlockHash: 0x058f084329a115c1194b59e52bf5883fc4a5c1d286da3c365f5d2e61c56b26ed\r\n2022-09-24 06:50:55.495+00:00 | vert.x-worker-thread-0 | INFO  | EngineNewPayload | Imported #15,601,535 / 111 tx / base fee 3.93 gwei / 12,393,685 (41.3%) gas / (0xdd01842b082c395c01fb944852b27f2bd4eb05689e91b8d6efc27b11c2fada50) in 9.717s. Peers: 17\r\n2022-09-24 06:50:58.407+00:00 | vert.x-worker-thread-0 | INFO  | EngineNewPayload | Imported #15,601,536 / 95 tx / base fee 3.84 gwei / 10,461,929 (34.9%) gas / (0x4db17509f3e031b9be472a6d4be65648086f2e7ee9f99785322f875d6164cb19) in 1.989s. Peers: 17\r\n2022-09-24 06:51:07.490+00:00 | vertx-blocked-thread-checker | WARN  | BlockedThreadChecker | Thread Thread[vert.x-eventloop-thread-1,5,main] has been blocked for 7652 ms, time limit is 2000 ms\r\nio.vertx.core.VertxException: Thread blocked\r\n        at app//org.apache.tuweni.units.bigints.UInt64.toBigInteger(UInt64.java:501)\r\n        at app//org.hyperledger.besu.ethereum.p2p.discovery.internal.PingPacketData.writeTo(PingPacketData.java:143)\r\n        at app//org.hyperledger.besu.ethereum.p2p.discovery.internal.Packet.encode(Packet.java:138)\r\n        at app//org.hyperledger.besu.ethereum.p2p.discovery.VertxPeerDiscoveryAgent.sendOutgoingPacket(VertxPeerDiscoveryAgent.java:171)\r\n        at app//org.hyperledger.besu.ethereum.p2p.discovery.PeerDiscoveryAgent.handleOutgoingPacket(PeerDiscoveryAgent.java:308)\r\n        at app//org.hyperledger.besu.ethereum.p2p.discovery.PeerDiscoveryAgent$$Lambda$951/0x0000000840677c40.send(Unknown Source)\r\n        at app//org.hyperledger.besu.ethereum.p2p.discovery.internal.PeerDiscoveryController.sendPacket(PeerDiscoveryController.java:524)\r\n        at app//org.hyperledger.besu.ethereum.p2p.discovery.internal.PeerDiscoveryController.lambda$bond$9(PeerDiscoveryController.java:502)\r\n        at app//org.hyperledger.besu.ethereum.p2p.discovery.internal.PeerDiscoveryController$$Lambda$980/0x0000000840690440.accept(Unknown Source)\r\n        at java.base@11.0.16/java.util.concurrent.CompletableFuture$UniAccept.tryFire(CompletableFuture.java:714)\r\n        at java.base@11.0.16/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)\r\n        at java.base@11.0.16/java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:2073)\r\n        at app//org.hyperledger.besu.ethereum.p2p.discovery.VertxPeerDiscoveryAgent$VertxAsyncExecutor.lambda$execute$1(VertxPeerDiscoveryAgent.java:327)\r\n        at app//org.hyperledger.besu.ethereum.p2p.discovery.VertxPeerDiscoveryAgent$VertxAsyncExecutor$$Lambda$983/0x0000000840691040.handle(Unknown Source)\r\n        at app//io.vertx.core.impl.future.FutureImpl$3.onSuccess(FutureImpl.java:141)\r\n        at app//io.vertx.core.impl.future.FutureBase.lambda$emitSuccess$0(FutureBase.java:54)\r\n        at app//io.vertx.core.impl.future.FutureBase$$Lambda$684/0x00000008404a4440.run(Unknown Source)\r\n        at app//io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:174)\r\n        at app//io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:167)\r\n        at app//io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:470)\r\n        at app//io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:391)\r\n        at app//io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\r\n        at app//io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n        at app//io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n        at java.base@11.0.16/java.lang.Thread.run(Thread.java:829)\r\n2022-09-24 06:51:28.093+00:00 | vert.x-worker-thread-0 | INFO  | EngineNewPayload | Imported #15,601,537 / 45 tx / base fee 3.70 gwei / 29,493,661 (98.3%) gas / (0x7dd3f88faffc7e5ef8a7be32a86dccba7aedbd0a8a146296a7b7820838528955) in 20.540s. Peers: 17\r\n2022-09-24 06:51:32.578+00:00 | vert.x-worker-thread-0 | INFO  | EngineNewPayload | Imported #15,601,538 / 90 tx / base fee 4.15 gwei / 14,220,389 (47.4%) gas / (0x39d2f8b4eea589256cbe9377d6f45bf6f85ac1af215d2429103c57812bb50e3a) in 3.041s. Peers: 17\r\n2022-09-24 06:51:52.430+00:00 | vert.x-worker-thread-0 | INFO  | EngineNewPayload | Imported #15,601,539 / 158 tx / base fee 4.12 gwei / 19,300,691 (64.3%) gas / (0x520ca8ad786a2544808ae8e8558ca62beb711677502190a2fc7bb46c8c78bcb3) in 18.974s. Peers: 20\r\n...\r\n2022-09-24 06:57:30.100+00:00 | vert.x-worker-thread-0 | INFO  | EngineForkchoiceUpdated | VALID for fork-choice-update: head: 0x477e7be773f289d246db5b55be6340e05c25342bacb49af38b2b225f08a3d38a, finalized: 0x058f084329a115c1194b59e52bf5883fc4a5c1d286da3c365f5d2e61c56b26ed, safeBlockHash: 0x1fd9193b10a9ca040725983549aa5c1a0265c1c3ea0c7a99bad46e02eaf1b1e0\r\n2022-09-24 06:57:31.893+00:00 | vert.x-worker-thread-0 | INFO  | EngineNewPayload | Imported #15,601,563 / 49 tx / base fee 4.27 gwei / 5,070,296 (16.9%) gas / (0x7d4f0c8c9c0abd0898a49efe8da5eea79ee13050a0b6e3c305cb436c7be470a8) in 1.278s. Peers: 20\r\n2022-09-24 06:57:49.973+00:00 | vertx-blocked-thread-checker | WARN  | BlockedThreadChecker | Thread Thread[vert.x-eventloop-thread-1,5,main] has been blocked for 7757 ms, time limit is 2000 ms\r\nio.vertx.core.VertxException: Thread blocked\r\n        at app//io.netty.channel.epoll.Native.epollWait0(Native Method)\r\n        at app//io.netty.channel.epoll.Native.epollWait(Native.java:182)\r\n        at app//io.netty.channel.epoll.EpollEventLoop.epollWait(EpollEventLoop.java:290)\r\n        at app//io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:354)\r\n        at app//io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\r\n        at app//io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n        at app//io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n        at java.base@11.0.16/java.lang.Thread.run(Thread.java:829)\r\n2022-09-24 06:57:50.352+00:00 | vert.x-worker-thread-0 | INFO  | EngineNewPayload | Imported #15,601,564 / 53 tx / base fee 3.91 gwei / 7,285,983 (24.3%) gas / (0xd29e610ba25dba1eabe99413b61a39211a5cae0d0e53529234309dd45d632c51) in 17.619s. Peers: 23\r\n2022-09-24 06:58:03.008+00:00 | vertx-blocked-thread-checker | WARN  | BlockedThreadChecker | Thread Thread[vert.x-eventloop-thread-1,5,main] has been blocked for 6733 ms, time limit is 2000 ms\r\nio.vertx.core.VertxException: Thread blocked\r\n        at app//org.hyperledger.besu.ethereum.p2p.discovery.internal.PeerDiscoveryController.notifyPeerBonded(PeerDiscoveryController.java:421)\r\n        at app//org.hyperledger.besu.ethereum.p2p.discovery.internal.PeerDiscoveryController.addToPeerTable(PeerDiscoveryController.java:403)\r\n        at app//org.hyperledger.besu.ethereum.p2p.discovery.internal.PeerDiscoveryController.lambda$onMessage$1(PeerDiscoveryController.java:323)\r\n        at app//org.hyperledger.besu.ethereum.p2p.discovery.internal.PeerDiscoveryController$$Lambda$1038/0x00000008406af040.accept(Unknown Source)\r\n        at java.base@11.0.16/java.util.Optional.ifPresent(Optional.java:183)\r\n        at app//org.hyperledger.besu.ethereum.p2p.discovery.internal.PeerDiscoveryController.onMessage(PeerDiscoveryController.java:320)\r\n        at app//org.hyperledger.besu.ethereum.p2p.discovery.PeerDiscoveryAgent.lambda$handleIncomingPacket$4(PeerDiscoveryAgent.java:298)\r\n        at app//org.hyperledger.besu.ethereum.p2p.discovery.PeerDiscoveryAgent$$Lambda$1034/0x00000008406a8c40.accept(Unknown Source)\r\n        at java.base@11.0.16/java.util.Optional.ifPresent(Optional.java:183)\r\n        at app//org.hyperledger.besu.ethereum.p2p.discovery.PeerDiscoveryAgent.handleIncomingPacket(PeerDiscoveryAgent.java:298)\r\n        at app//org.hyperledger.besu.ethereum.p2p.discovery.VertxPeerDiscoveryAgent.lambda$handlePacket$10(VertxPeerDiscoveryAgent.java:297)\r\n        at app//org.hyperledger.besu.ethereum.p2p.discovery.VertxPeerDiscoveryAgent$$Lambda$1027/0x000000084069c840.handle(Unknown Source)\r\n        at app//io.vertx.core.impl.future.FutureImpl$3.onSuccess(FutureImpl.java:141)\r\n        at app//io.vertx.core.impl.future.FutureBase.lambda$emitSuccess$0(FutureBase.java:54)\r\n        at app//io.vertx.core.impl.future.FutureBase$$Lambda$684/0x00000008404a4440.run(Unknown Source)\r\n        at app//io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:174)\r\n        at app//io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:167)\r\n        at app//io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:470)\r\n        at app//io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:391)\r\n        at app//io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\r\n        at app//io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n        at app//io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n        at java.base@11.0.16/java.lang.Thread.run(Thread.java:829)\r\n2022-09-24 06:58:12.970+00:00 | vert.x-worker-thread-0 | INFO  | EngineNewPayload | Imported #15,601,565 / 175 tx / base fee 3.66 gwei / 28,024,358 (93.4%) gas / (0xf979972dc63b850e3bff1212034bfb54e9bb94670aaa961e4d8f9f239fc57790) in 21.612s. Peers: 19\r\n2022-09-24 06:58:22.567+00:00 | vert.x-worker-thread-0 | INFO  | EngineNewPayload | Imported #15,601,566 / 56 tx / base fee 4.06 gwei / 5,975,358 (19.9%) gas / (0x6ecf0499f871b862dfd42f80f387013ddc391619d437b6cf60f61637e680664a) in 1.253s. Peers: 20\r\n2022-09-24 06:58:46.922+00:00 | vert.x-worker-thread-0 | INFO  | EngineNewPayload | Imported #15,601,567 / 196 tx / base fee 3.76 gwei / 27,554,493 (91.8%) gas / (0x5520b4ab97d431d016869ed6669ec79987640497ca417b0bf8ec871e73dd0ccb) in 23.831s. Peers: 20\r\n2022-09-24 06:58:48.567+00:00 | vert.x-worker-thread-0 | INFO  | EngineForkchoiceUpdated | VALID for fork-choice-update: head: 0x5520b4ab97d431d016869ed6669ec79987640497ca417b0bf8ec871e73dd0ccb, finalized: 0x058f084329a115c1194b59e52bf5883fc4a5c1d286da3c365f5d2e61c56b26ed, safeBlockHash: 0x1fd9193b10a9ca040725983549aa5c1a0265c1c3ea0c7a99bad46e02eaf1b1e0\r\n2022-09-24 06:58:59.412+00:00 | vert.x-worker-thread-0 | INFO  | EngineNewPayload | Imported #15,601,568 / 158 tx / base fee 4.15 gwei / 12,332,277 (41.1%) gas / (0x24584b120aba11ba256e362a33ff17701fb4125c31dc3dac197ae0406aea7463) in 10.528s. Peers: 19\r\n2022-09-24 06:59:03.091+00:00 | vert.x-worker-thread-0 | INFO  | EngineNewPayload | Imported #15,601,569 / 29 tx / base fee 4.06 gwei / 26,910,626 (89.7%) gas / (0x92a22812aa239b1dee02aca7ac282acc855ec4e378f428d9c2ac26438ff023e0) in 2.609s. Peers: 19\r\n```\r\n",
  "closed_by": {
    "login": "garyschulte",
    "id": 1238512,
    "node_id": "MDQ6VXNlcjEyMzg1MTI=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1238512?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/garyschulte",
    "html_url": "https://github.com/garyschulte",
    "followers_url": "https://api.github.com/users/garyschulte/followers",
    "following_url": "https://api.github.com/users/garyschulte/following{/other_user}",
    "gists_url": "https://api.github.com/users/garyschulte/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/garyschulte/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/garyschulte/subscriptions",
    "organizations_url": "https://api.github.com/users/garyschulte/orgs",
    "repos_url": "https://api.github.com/users/garyschulte/repos",
    "events_url": "https://api.github.com/users/garyschulte/events{/privacy}",
    "received_events_url": "https://api.github.com/users/garyschulte/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/4435/reactions",
    "total_count": 2,
    "+1": 2,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/hyperledger/besu/issues/4435/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1256897137",
    "html_url": "https://github.com/hyperledger/besu/issues/4435#issuecomment-1256897137",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/4435",
    "id": 1256897137,
    "node_id": "IC_kwDODE2jmc5K6rpx",
    "user": {
      "login": "steflsd",
      "id": 2960424,
      "node_id": "MDQ6VXNlcjI5NjA0MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2960424?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/steflsd",
      "html_url": "https://github.com/steflsd",
      "followers_url": "https://api.github.com/users/steflsd/followers",
      "following_url": "https://api.github.com/users/steflsd/following{/other_user}",
      "gists_url": "https://api.github.com/users/steflsd/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/steflsd/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/steflsd/subscriptions",
      "organizations_url": "https://api.github.com/users/steflsd/orgs",
      "repos_url": "https://api.github.com/users/steflsd/repos",
      "events_url": "https://api.github.com/users/steflsd/events{/privacy}",
      "received_events_url": "https://api.github.com/users/steflsd/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-09-24T07:42:26Z",
    "updated_at": "2022-09-24T07:42:26Z",
    "author_association": "NONE",
    "body": "k top node\r\n\r\n```\r\npool-7dnpdozsa-7b6m4   2013m        25%    13879Mi         100%\r\npool-7dnpdozsa-7b6mh   772m         9%     3310Mi          23%\r\n```\r\n\r\nThe above could of been related to memory constraint.  I restarted besu-0 and memory at 65% but slowly climbing up. Currently 82%\r\n\r\nI am going to try set Xmx and will report back\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1256897137/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1256912590",
    "html_url": "https://github.com/hyperledger/besu/issues/4435#issuecomment-1256912590",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/4435",
    "id": 1256912590,
    "node_id": "IC_kwDODE2jmc5K6vbO",
    "user": {
      "login": "steflsd",
      "id": 2960424,
      "node_id": "MDQ6VXNlcjI5NjA0MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2960424?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/steflsd",
      "html_url": "https://github.com/steflsd",
      "followers_url": "https://api.github.com/users/steflsd/followers",
      "following_url": "https://api.github.com/users/steflsd/following{/other_user}",
      "gists_url": "https://api.github.com/users/steflsd/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/steflsd/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/steflsd/subscriptions",
      "organizations_url": "https://api.github.com/users/steflsd/orgs",
      "repos_url": "https://api.github.com/users/steflsd/repos",
      "events_url": "https://api.github.com/users/steflsd/events{/privacy}",
      "received_events_url": "https://api.github.com/users/steflsd/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-09-24T08:43:47Z",
    "updated_at": "2022-09-24T08:43:47Z",
    "author_association": "NONE",
    "body": "Restarted with -Xmx8g  and memory started at  7500Mi about 50% used. After approx an hour \r\n\r\n```\r\npool-7dnpdozsa-7b6m4   1349m        17%    11705Mi         84%\r\n```\r\n\r\nSeems to be climbing...",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1256912590/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1257095665",
    "html_url": "https://github.com/hyperledger/besu/issues/4435#issuecomment-1257095665",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/4435",
    "id": 1257095665,
    "node_id": "IC_kwDODE2jmc5K7cHx",
    "user": {
      "login": "nhlroyrocks",
      "id": 83127437,
      "node_id": "MDQ6VXNlcjgzMTI3NDM3",
      "avatar_url": "https://avatars.githubusercontent.com/u/83127437?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nhlroyrocks",
      "html_url": "https://github.com/nhlroyrocks",
      "followers_url": "https://api.github.com/users/nhlroyrocks/followers",
      "following_url": "https://api.github.com/users/nhlroyrocks/following{/other_user}",
      "gists_url": "https://api.github.com/users/nhlroyrocks/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nhlroyrocks/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nhlroyrocks/subscriptions",
      "organizations_url": "https://api.github.com/users/nhlroyrocks/orgs",
      "repos_url": "https://api.github.com/users/nhlroyrocks/repos",
      "events_url": "https://api.github.com/users/nhlroyrocks/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nhlroyrocks/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-09-25T01:19:57Z",
    "updated_at": "2022-09-25T01:19:57Z",
    "author_association": "NONE",
    "body": "> Restarted with -Xmx8g and memory started at 7500Mi about 50% used. After approx an hour\r\n> \r\n> ```\r\n> pool-7dnpdozsa-7b6m4   1349m        17%    11705Mi         84%\r\n> ```\r\n> \r\n> Seems to be climbing...\r\n\r\nDid you ever stabilize with this setting or do you think there is a memory leak that will eventually gobble any amount of gigs you throw at it?",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1257095665/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1257133339",
    "html_url": "https://github.com/hyperledger/besu/issues/4435#issuecomment-1257133339",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/4435",
    "id": 1257133339,
    "node_id": "IC_kwDODE2jmc5K7lUb",
    "user": {
      "login": "ianaz",
      "id": 1556466,
      "node_id": "MDQ6VXNlcjE1NTY0NjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1556466?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ianaz",
      "html_url": "https://github.com/ianaz",
      "followers_url": "https://api.github.com/users/ianaz/followers",
      "following_url": "https://api.github.com/users/ianaz/following{/other_user}",
      "gists_url": "https://api.github.com/users/ianaz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ianaz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ianaz/subscriptions",
      "organizations_url": "https://api.github.com/users/ianaz/orgs",
      "repos_url": "https://api.github.com/users/ianaz/repos",
      "events_url": "https://api.github.com/users/ianaz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ianaz/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-09-25T06:45:59Z",
    "updated_at": "2022-09-25T07:07:59Z",
    "author_association": "NONE",
    "body": "Same or similar issue after ~12 hours after upgrade to v22.7.3\r\nI'm now missing every attestation.\r\nDowngrade to 22.7.2 fixed\r\n\r\nConfiguration:\r\n```\r\n  besu_node:\r\n    image: hyperledger/besu:22.7.3\r\n    command: [\"--data-path=/opt/besu/data\",\r\n              \"--sync-mode=X_SNAP\",\r\n              \"--engine-jwt-secret=/opt/besu/data/token.cc\",\r\n              \"--engine-host-allowlist=*\",\r\n              \"--rpc-http-enabled\",\r\n              \"--engine-rpc-enabled=true\",\r\n              \"--rpc-http-cors-origins=*\",\r\n              \"--rpc-http-api=ETH,NET,CLIQUE,DEBUG,MINER,NET,PERM,ADMIN,EEA,TXPOOL,PRIV,WEB3\",\r\n              \"--nat-method=DOCKER\",\r\n              \"--Xplugin-rocksdb-high-spec-enabled\"]\r\n```\r\nMachine:\r\nAMD Ryzen 5 2600\r\n32 GB RAM\r\n\r\n```\r\nianaz-besu_node-1  | 2022-09-25 06:42:27.122+00:00 | vertx-blocked-thread-checker | WARN  | BlockedThreadChecker | Thread Thread[vert.x-worker-thread-14,5,main] has been blocked for 89934 ms, time limit is 60000 ms\r\nianaz-besu_node-1  | io.vertx.core.VertxException: Thread blocked\r\nianaz-besu_node-1  | \tat java.base@11.0.16/jdk.internal.misc.Unsafe.park(Native Method)\r\nianaz-besu_node-1  | \tat java.base@11.0.16/java.util.concurrent.locks.LockSupport.park(LockSupport.java:194)\r\nianaz-besu_node-1  | \tat java.base@11.0.16/java.util.concurrent.CompletableFuture$Signaller.block(CompletableFuture.java:1796)\r\nianaz-besu_node-1  | \tat java.base@11.0.16/java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3128)\r\nianaz-besu_node-1  | \tat java.base@11.0.16/java.util.concurrent.CompletableFuture.waitingGet(CompletableFuture.java:1823)\r\nianaz-besu_node-1  | \tat java.base@11.0.16/java.util.concurrent.CompletableFuture.get(CompletableFuture.java:1998)\r\nianaz-besu_node-1  | \tat app//org.hyperledger.besu.ethereum.api.jsonrpc.internal.methods.ExecutionEngineJsonRpcMethod.response(ExecutionEngineJsonRpcMethod.java:89)\r\nianaz-besu_node-1  | \tat app//org.hyperledger.besu.ethereum.api.jsonrpc.execution.BaseJsonRpcProcessor.process(BaseJsonRpcProcessor.java:42)\r\nianaz-besu_node-1  | \tat app//org.hyperledger.besu.ethereum.api.jsonrpc.execution.TracedJsonRpcProcessor.process(TracedJsonRpcProcessor.java:41)\r\nianaz-besu_node-1  | \tat app//org.hyperledger.besu.ethereum.api.jsonrpc.execution.TimedJsonRpcProcessor.process(TimedJsonRpcProcessor.java:45)\r\nianaz-besu_node-1  | \tat app//org.hyperledger.besu.ethereum.api.jsonrpc.execution.AuthenticatedJsonRpcProcessor.process(AuthenticatedJsonRpcProcessor.java:51)\r\nianaz-besu_node-1  | \tat app//org.hyperledger.besu.ethereum.api.jsonrpc.execution.JsonRpcExecutor.execute(JsonRpcExecutor.java:91)\r\nianaz-besu_node-1  | \tat app//org.hyperledger.besu.ethereum.api.handlers.JsonRpcExecutorHandler.lambda$handler$8(JsonRpcExecutorHandler.java:79)\r\nianaz-besu_node-1  | \tat app//org.hyperledger.besu.ethereum.api.handlers.JsonRpcExecutorHandler$$Lambda$744/0x0000000840513840.handle(Unknown Source)\r\nianaz-besu_node-1  | \tat app//io.vertx.ext.web.impl.BlockingHandlerDecorator.lambda$handle$0(BlockingHandlerDecorator.java:48)\r\nianaz-besu_node-1  | \tat app//io.vertx.ext.web.impl.BlockingHandlerDecorator$$Lambda$1159/0x0000000840695040.handle(Unknown Source)\r\nianaz-besu_node-1  | \tat app//io.vertx.core.impl.ContextImpl.lambda$null$0(ContextImpl.java:159)\r\nianaz-besu_node-1  | \tat app//io.vertx.core.impl.ContextImpl$$Lambda$978/0x000000084060e040.handle(Unknown Source)\r\nianaz-besu_node-1  | \tat app//io.vertx.core.impl.AbstractContext.dispatch(AbstractContext.java:100)\r\nianaz-besu_node-1  | \tat app//io.vertx.core.impl.ContextImpl.lambda$executeBlocking$1(ContextImpl.java:157)\r\nianaz-besu_node-1  | \tat app//io.vertx.core.impl.ContextImpl$$Lambda$976/0x000000084060d440.run(Unknown Source)\r\nianaz-besu_node-1  | \tat java.base@11.0.16/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\nianaz-besu_node-1  | \tat java.base@11.0.16/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\nianaz-besu_node-1  | \tat app//io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\nianaz-besu_node-1  | \tat java.base@11.0.16/java.lang.Thread.run(Thread.java:829)\r\n```\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1257133339/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1257190328",
    "html_url": "https://github.com/hyperledger/besu/issues/4435#issuecomment-1257190328",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/4435",
    "id": 1257190328,
    "node_id": "IC_kwDODE2jmc5K7zO4",
    "user": {
      "login": "steflsd",
      "id": 2960424,
      "node_id": "MDQ6VXNlcjI5NjA0MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2960424?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/steflsd",
      "html_url": "https://github.com/steflsd",
      "followers_url": "https://api.github.com/users/steflsd/followers",
      "following_url": "https://api.github.com/users/steflsd/following{/other_user}",
      "gists_url": "https://api.github.com/users/steflsd/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/steflsd/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/steflsd/subscriptions",
      "organizations_url": "https://api.github.com/users/steflsd/orgs",
      "repos_url": "https://api.github.com/users/steflsd/repos",
      "events_url": "https://api.github.com/users/steflsd/events{/privacy}",
      "received_events_url": "https://api.github.com/users/steflsd/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-09-25T13:05:14Z",
    "updated_at": "2022-09-25T13:05:14Z",
    "author_association": "NONE",
    "body": "The devs seem to be tracking a memory leak. I've restarted back on 22.7.3 with -Xmx8g and node memory currently at 96%. I suspect it will hit 100% again and lock up.  Awaiting hotfix to see if it can help.",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1257190328/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1257462402",
    "html_url": "https://github.com/hyperledger/besu/issues/4435#issuecomment-1257462402",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/4435",
    "id": 1257462402,
    "node_id": "IC_kwDODE2jmc5K81qC",
    "user": {
      "login": "gamell",
      "id": 2460215,
      "node_id": "MDQ6VXNlcjI0NjAyMTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2460215?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gamell",
      "html_url": "https://github.com/gamell",
      "followers_url": "https://api.github.com/users/gamell/followers",
      "following_url": "https://api.github.com/users/gamell/following{/other_user}",
      "gists_url": "https://api.github.com/users/gamell/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gamell/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gamell/subscriptions",
      "organizations_url": "https://api.github.com/users/gamell/orgs",
      "repos_url": "https://api.github.com/users/gamell/repos",
      "events_url": "https://api.github.com/users/gamell/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gamell/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-09-26T04:26:33Z",
    "updated_at": "2022-09-26T04:26:33Z",
    "author_association": "NONE",
    "body": "Same issue, Besu was consuming ~80% of my CPU and RAM usage was almost 3/4 of total available (32GB)....",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1257462402/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1257463256",
    "html_url": "https://github.com/hyperledger/besu/issues/4435#issuecomment-1257463256",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/4435",
    "id": 1257463256,
    "node_id": "IC_kwDODE2jmc5K813Y",
    "user": {
      "login": "gamell",
      "id": 2460215,
      "node_id": "MDQ6VXNlcjI0NjAyMTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2460215?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gamell",
      "html_url": "https://github.com/gamell",
      "followers_url": "https://api.github.com/users/gamell/followers",
      "following_url": "https://api.github.com/users/gamell/following{/other_user}",
      "gists_url": "https://api.github.com/users/gamell/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gamell/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gamell/subscriptions",
      "organizations_url": "https://api.github.com/users/gamell/orgs",
      "repos_url": "https://api.github.com/users/gamell/repos",
      "events_url": "https://api.github.com/users/gamell/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gamell/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-09-26T04:27:28Z",
    "updated_at": "2022-09-26T04:27:28Z",
    "author_association": "NONE",
    "body": "Had to kill the process and fallback to Geth + Lighthouse node I have as backup which has been working like clockwork, unlike my Besu + Lighthouse node ðŸ˜… ",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1257463256/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1257505725",
    "html_url": "https://github.com/hyperledger/besu/issues/4435#issuecomment-1257505725",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/4435",
    "id": 1257505725,
    "node_id": "IC_kwDODE2jmc5K9AO9",
    "user": {
      "login": "steflsd",
      "id": 2960424,
      "node_id": "MDQ6VXNlcjI5NjA0MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2960424?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/steflsd",
      "html_url": "https://github.com/steflsd",
      "followers_url": "https://api.github.com/users/steflsd/followers",
      "following_url": "https://api.github.com/users/steflsd/following{/other_user}",
      "gists_url": "https://api.github.com/users/steflsd/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/steflsd/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/steflsd/subscriptions",
      "organizations_url": "https://api.github.com/users/steflsd/orgs",
      "repos_url": "https://api.github.com/users/steflsd/repos",
      "events_url": "https://api.github.com/users/steflsd/events{/privacy}",
      "received_events_url": "https://api.github.com/users/steflsd/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-09-26T05:37:32Z",
    "updated_at": "2022-09-26T05:37:32Z",
    "author_association": "NONE",
    "body": "There is a dev snapshot people have had some success with. I've installed and testing \"22.7.4-SNAPSHOT\".  Will see how that goes and report back",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1257505725/reactions",
      "total_count": 2,
      "+1": 2,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1257769561",
    "html_url": "https://github.com/hyperledger/besu/issues/4435#issuecomment-1257769561",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/4435",
    "id": 1257769561,
    "node_id": "IC_kwDODE2jmc5K-ApZ",
    "user": {
      "login": "b-m-f",
      "id": 2843450,
      "node_id": "MDQ6VXNlcjI4NDM0NTA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2843450?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/b-m-f",
      "html_url": "https://github.com/b-m-f",
      "followers_url": "https://api.github.com/users/b-m-f/followers",
      "following_url": "https://api.github.com/users/b-m-f/following{/other_user}",
      "gists_url": "https://api.github.com/users/b-m-f/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/b-m-f/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/b-m-f/subscriptions",
      "organizations_url": "https://api.github.com/users/b-m-f/orgs",
      "repos_url": "https://api.github.com/users/b-m-f/repos",
      "events_url": "https://api.github.com/users/b-m-f/events{/privacy}",
      "received_events_url": "https://api.github.com/users/b-m-f/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-09-26T09:41:02Z",
    "updated_at": "2022-09-26T09:42:43Z",
    "author_association": "NONE",
    "body": "I have been seeing the same issue. Validator was not attesting to anything for many hours.\r\n\r\nThe machine has enough memory, but I do not know if the Java VM puts a limit to the usage.\r\n\r\nHardware monitoring during the time of missed attestations shows this:\r\n\r\n![image](https://user-images.githubusercontent.com/2843450/192244941-8b9521f2-6530-43a8-9ecf-475bb0db2715.png)\r\n\r\n\r\n**During normal behaviour**:\r\n![image](https://user-images.githubusercontent.com/2843450/192245292-867cf902-4dc5-4c5e-baea-783411758f86.png)\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1257769561/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1259009444",
    "html_url": "https://github.com/hyperledger/besu/issues/4435#issuecomment-1259009444",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/4435",
    "id": 1259009444,
    "node_id": "IC_kwDODE2jmc5LCvWk",
    "user": {
      "login": "steflsd",
      "id": 2960424,
      "node_id": "MDQ6VXNlcjI5NjA0MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2960424?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/steflsd",
      "html_url": "https://github.com/steflsd",
      "followers_url": "https://api.github.com/users/steflsd/followers",
      "following_url": "https://api.github.com/users/steflsd/following{/other_user}",
      "gists_url": "https://api.github.com/users/steflsd/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/steflsd/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/steflsd/subscriptions",
      "organizations_url": "https://api.github.com/users/steflsd/orgs",
      "repos_url": "https://api.github.com/users/steflsd/repos",
      "events_url": "https://api.github.com/users/steflsd/events{/privacy}",
      "received_events_url": "https://api.github.com/users/steflsd/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-09-27T05:47:38Z",
    "updated_at": "2022-09-27T05:47:38Z",
    "author_association": "NONE",
    "body": "For me 22.7.4 release and -Xmx8g seems to have resolved this issue. I am still missing a few attestations but could be other performance / client issues.\r\n\r\nIm happy to this is closed from my side.",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1259009444/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1259070066",
    "html_url": "https://github.com/hyperledger/besu/issues/4435#issuecomment-1259070066",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/4435",
    "id": 1259070066,
    "node_id": "IC_kwDODE2jmc5LC-Jy",
    "user": {
      "login": "ianaz",
      "id": 1556466,
      "node_id": "MDQ6VXNlcjE1NTY0NjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1556466?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ianaz",
      "html_url": "https://github.com/ianaz",
      "followers_url": "https://api.github.com/users/ianaz/followers",
      "following_url": "https://api.github.com/users/ianaz/following{/other_user}",
      "gists_url": "https://api.github.com/users/ianaz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ianaz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ianaz/subscriptions",
      "organizations_url": "https://api.github.com/users/ianaz/orgs",
      "repos_url": "https://api.github.com/users/ianaz/repos",
      "events_url": "https://api.github.com/users/ianaz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ianaz/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-09-27T07:01:06Z",
    "updated_at": "2022-09-27T07:01:06Z",
    "author_association": "NONE",
    "body": "Same for me with 22.7.4, running since a bit after the release. Thanks!",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1259070066/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1259119546",
    "html_url": "https://github.com/hyperledger/besu/issues/4435#issuecomment-1259119546",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/4435",
    "id": 1259119546,
    "node_id": "IC_kwDODE2jmc5LDKO6",
    "user": {
      "login": "b-m-f",
      "id": 2843450,
      "node_id": "MDQ6VXNlcjI4NDM0NTA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2843450?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/b-m-f",
      "html_url": "https://github.com/b-m-f",
      "followers_url": "https://api.github.com/users/b-m-f/followers",
      "following_url": "https://api.github.com/users/b-m-f/following{/other_user}",
      "gists_url": "https://api.github.com/users/b-m-f/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/b-m-f/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/b-m-f/subscriptions",
      "organizations_url": "https://api.github.com/users/b-m-f/orgs",
      "repos_url": "https://api.github.com/users/b-m-f/repos",
      "events_url": "https://api.github.com/users/b-m-f/events{/privacy}",
      "received_events_url": "https://api.github.com/users/b-m-f/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-09-27T07:49:20Z",
    "updated_at": "2022-09-27T07:49:20Z",
    "author_association": "NONE",
    "body": "Same here. Sysload dropped even further.",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1259119546/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1269117676",
    "html_url": "https://github.com/hyperledger/besu/issues/4435#issuecomment-1269117676",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/4435",
    "id": 1269117676,
    "node_id": "IC_kwDODE2jmc5LpTLs",
    "user": {
      "login": "garyschulte",
      "id": 1238512,
      "node_id": "MDQ6VXNlcjEyMzg1MTI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1238512?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/garyschulte",
      "html_url": "https://github.com/garyschulte",
      "followers_url": "https://api.github.com/users/garyschulte/followers",
      "following_url": "https://api.github.com/users/garyschulte/following{/other_user}",
      "gists_url": "https://api.github.com/users/garyschulte/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/garyschulte/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/garyschulte/subscriptions",
      "organizations_url": "https://api.github.com/users/garyschulte/orgs",
      "repos_url": "https://api.github.com/users/garyschulte/repos",
      "events_url": "https://api.github.com/users/garyschulte/events{/privacy}",
      "received_events_url": "https://api.github.com/users/garyschulte/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-10-05T23:50:39Z",
    "updated_at": "2022-10-05T23:50:39Z",
    "author_association": "CONTRIBUTOR",
    "body": "marking as closed, fixed by #4415 ",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1269117676/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
