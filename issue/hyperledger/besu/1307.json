{
  "url": "https://api.github.com/repos/hyperledger/besu/issues/1307",
  "repository_url": "https://api.github.com/repos/hyperledger/besu",
  "labels_url": "https://api.github.com/repos/hyperledger/besu/issues/1307/labels{/name}",
  "comments_url": "https://api.github.com/repos/hyperledger/besu/issues/1307/comments",
  "events_url": "https://api.github.com/repos/hyperledger/besu/issues/1307/events",
  "html_url": "https://github.com/hyperledger/besu/issues/1307",
  "id": 678407280,
  "node_id": "MDU6SXNzdWU2Nzg0MDcyODA=",
  "number": 1307,
  "title": "Expose more internals via the plugin context",
  "user": {
    "login": "brianmcgee",
    "id": 1173648,
    "node_id": "MDQ6VXNlcjExNzM2NDg=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1173648?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/brianmcgee",
    "html_url": "https://github.com/brianmcgee",
    "followers_url": "https://api.github.com/users/brianmcgee/followers",
    "following_url": "https://api.github.com/users/brianmcgee/following{/other_user}",
    "gists_url": "https://api.github.com/users/brianmcgee/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/brianmcgee/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/brianmcgee/subscriptions",
    "organizations_url": "https://api.github.com/users/brianmcgee/orgs",
    "repos_url": "https://api.github.com/users/brianmcgee/repos",
    "events_url": "https://api.github.com/users/brianmcgee/events{/privacy}",
    "received_events_url": "https://api.github.com/users/brianmcgee/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 1537362496,
      "node_id": "MDU6TGFiZWwxNTM3MzYyNDk2",
      "url": "https://api.github.com/repos/hyperledger/besu/labels/enhancement",
      "name": "enhancement",
      "color": "a2eeef",
      "default": true,
      "description": "New feature or request"
    },
    {
      "id": 1537362498,
      "node_id": "MDU6TGFiZWwxNTM3MzYyNDk4",
      "url": "https://api.github.com/repos/hyperledger/besu/labels/help%20wanted",
      "name": "help wanted",
      "color": "008672",
      "default": true,
      "description": "Extra attention is needed"
    },
    {
      "id": 3372711461,
      "node_id": "MDU6TGFiZWwzMzcyNzExNDYx",
      "url": "https://api.github.com/repos/hyperledger/besu/labels/plugins",
      "name": "plugins",
      "color": "E2AA6B",
      "default": false,
      "description": ""
    },
    {
      "id": 4164098293,
      "node_id": "LA_kwDODE2jmc74Mxj1",
      "url": "https://api.github.com/repos/hyperledger/besu/labels/icebox",
      "name": "icebox",
      "color": "1D76DB",
      "default": false,
      "description": "items that need more consideration, time, or can wait"
    },
    {
      "id": 4328706977,
      "node_id": "LA_kwDODE2jmc8AAAABAgLToQ",
      "url": "https://api.github.com/repos/hyperledger/besu/labels/TeamChupa",
      "name": "TeamChupa",
      "color": "fbca04",
      "default": false,
      "description": "GH issues worked on by Chupacabara Team"
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 0,
  "created_at": "2020-08-13T12:43:04Z",
  "updated_at": "2023-01-26T10:30:40Z",
  "closed_at": null,
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "### Description\r\n\r\nAs a plugin writer, I would like access to more internal services and state such as protocol schedules, `Blockchain` and the `WorldStateArchive`.\r\n\r\nHaving internal read-only access to the `Blockchain` and `WorldStateArchive` is immensely useful when initialising and maintaining additional indexes or custom tracing for example as we are doing in our plugin Exflo.\r\n\r\nCurrently it is only possible to achieve this by intercepting the instances of the key value storage being created and then initialising an entirely separate instance of the `Blockchain` and `WorldStateArchive`. I think we may use some questionable reflection in parts as well which is not ideal. \r\n\r\nI don't have a comprehensive list of the internals I think would be useful to expose, but in general I would advocate for a default approach whereby anything new added internally is accessible via the plugin context in an immutable or read-only form unless there are very real security or technical issues with doing so. \r\n\r\n",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/1307/reactions",
    "total_count": 1,
    "+1": 1,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/hyperledger/besu/issues/1307/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[

]
