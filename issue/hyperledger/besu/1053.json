{
  "url": "https://api.github.com/repos/hyperledger/besu/issues/1053",
  "repository_url": "https://api.github.com/repos/hyperledger/besu",
  "labels_url": "https://api.github.com/repos/hyperledger/besu/issues/1053/labels{/name}",
  "comments_url": "https://api.github.com/repos/hyperledger/besu/issues/1053/comments",
  "events_url": "https://api.github.com/repos/hyperledger/besu/issues/1053/events",
  "html_url": "https://github.com/hyperledger/besu/issues/1053",
  "id": 631792991,
  "node_id": "MDU6SXNzdWU2MzE3OTI5OTE=",
  "number": 1053,
  "title": "Error When downloading chain: Async operation failed",
  "user": {
    "login": "eum602",
    "id": 11699587,
    "node_id": "MDQ6VXNlcjExNjk5NTg3",
    "avatar_url": "https://avatars.githubusercontent.com/u/11699587?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/eum602",
    "html_url": "https://github.com/eum602",
    "followers_url": "https://api.github.com/users/eum602/followers",
    "following_url": "https://api.github.com/users/eum602/following{/other_user}",
    "gists_url": "https://api.github.com/users/eum602/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/eum602/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/eum602/subscriptions",
    "organizations_url": "https://api.github.com/users/eum602/orgs",
    "repos_url": "https://api.github.com/users/eum602/repos",
    "events_url": "https://api.github.com/users/eum602/events{/privacy}",
    "received_events_url": "https://api.github.com/users/eum602/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 1537362490,
      "node_id": "MDU6TGFiZWwxNTM3MzYyNDkw",
      "url": "https://api.github.com/repos/hyperledger/besu/labels/bug",
      "name": "bug",
      "color": "d73a4a",
      "default": true,
      "description": "Something isn't working"
    },
    {
      "id": 2051683248,
      "node_id": "MDU6TGFiZWwyMDUxNjgzMjQ4",
      "url": "https://api.github.com/repos/hyperledger/besu/labels/P2",
      "name": "P2",
      "color": "ff9900",
      "default": false,
      "description": "High (ex: Degrading performance issues, unexpected behavior of core features (DevP2P, syncing, etc))"
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": {
    "login": "matkt",
    "id": 26581503,
    "node_id": "MDQ6VXNlcjI2NTgxNTAz",
    "avatar_url": "https://avatars.githubusercontent.com/u/26581503?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/matkt",
    "html_url": "https://github.com/matkt",
    "followers_url": "https://api.github.com/users/matkt/followers",
    "following_url": "https://api.github.com/users/matkt/following{/other_user}",
    "gists_url": "https://api.github.com/users/matkt/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/matkt/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/matkt/subscriptions",
    "organizations_url": "https://api.github.com/users/matkt/orgs",
    "repos_url": "https://api.github.com/users/matkt/repos",
    "events_url": "https://api.github.com/users/matkt/events{/privacy}",
    "received_events_url": "https://api.github.com/users/matkt/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "matkt",
      "id": 26581503,
      "node_id": "MDQ6VXNlcjI2NTgxNTAz",
      "avatar_url": "https://avatars.githubusercontent.com/u/26581503?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/matkt",
      "html_url": "https://github.com/matkt",
      "followers_url": "https://api.github.com/users/matkt/followers",
      "following_url": "https://api.github.com/users/matkt/following{/other_user}",
      "gists_url": "https://api.github.com/users/matkt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/matkt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/matkt/subscriptions",
      "organizations_url": "https://api.github.com/users/matkt/orgs",
      "repos_url": "https://api.github.com/users/matkt/repos",
      "events_url": "https://api.github.com/users/matkt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/matkt/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": {
    "url": "https://api.github.com/repos/hyperledger/besu/milestones/8",
    "html_url": "https://github.com/hyperledger/besu/milestone/8",
    "labels_url": "https://api.github.com/repos/hyperledger/besu/milestones/8/labels",
    "id": 5553361,
    "node_id": "MDk6TWlsZXN0b25lNTU1MzM2MQ==",
    "number": 8,
    "title": "Chupacabra Sprint 67",
    "description": "",
    "creator": {
      "login": "timbeiko",
      "id": 9390255,
      "node_id": "MDQ6VXNlcjkzOTAyNTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9390255?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/timbeiko",
      "html_url": "https://github.com/timbeiko",
      "followers_url": "https://api.github.com/users/timbeiko/followers",
      "following_url": "https://api.github.com/users/timbeiko/following{/other_user}",
      "gists_url": "https://api.github.com/users/timbeiko/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/timbeiko/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/timbeiko/subscriptions",
      "organizations_url": "https://api.github.com/users/timbeiko/orgs",
      "repos_url": "https://api.github.com/users/timbeiko/repos",
      "events_url": "https://api.github.com/users/timbeiko/events{/privacy}",
      "received_events_url": "https://api.github.com/users/timbeiko/received_events",
      "type": "User",
      "site_admin": false
    },
    "open_issues": 0,
    "closed_issues": 6,
    "state": "closed",
    "created_at": "2020-06-17T16:59:42Z",
    "updated_at": "2020-11-17T21:41:20Z",
    "due_on": "2020-07-01T07:00:00Z",
    "closed_at": "2020-06-30T18:19:35Z"
  },
  "comments": 5,
  "created_at": "2020-06-05T17:44:54Z",
  "updated_at": "2020-06-29T19:24:52Z",
  "closed_at": "2020-06-29T14:51:21Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "### Description\r\nI am trying to synchronize a new node (besu 1.4.4) in a long working IBFT network . For some reason the synchronization starts to fail at some block number (9701521). This node behavior does not affect the network. When I checked the content on that block I saw it looks as any other block. nothing special. I have tried on different instance machines but the error persist.\r\nThis issue is similar to #992 but after checking the printed logs I see the cause of  this issue is different.\r\n\r\n\r\n### Steps to Reproduce (Bug)\r\n1. synchronize a new node using Besu 1.4.4\r\n\r\n**Actual behavior:\r\n\r\n\r\n**Frequency:\r\nAlways when trying to synchronize from the first block.\r\n\r\n### Versions (Add all that apply)\r\n* Software version: 1.4.4, 1.4.1\r\n* Java version: 11\r\n* OS Name & Version: Ubuntu 18.04\r\n* Kernel Version: 5.0.0-1025-gcp\r\n\r\n### Additional Information\r\n_**Info messages shows the node stack trying to download the chain:**_\r\nInfo messages:\r\n2020-06-05T16:29:01.178+0000 INFO Found common ancestor with peer 0x55296094e38b96070d... at block 9701521\r\n2020-06-05T16:29:28.944+0000 INFO Found common ancestor with peer 0x55296094e38b96070d... at block 9701521\r\n2020-06-05T16:29:56.459+0000 INFO Found common ancestor with peer 0xeda7578e00354b3d19... at block 9701521\r\n\r\n**_Info in trace:_**\r\n2020-06-05T15:41:05.487+0000 TRACE Writing org.hyperledger.besu.ethereum.p2p.rlpx.wire.messages.PongMessage@27a881bf to PeerInfo{version=5, clientId='pantheon/v1.2.0/linux-x86_64/oracle-java-11', capabilities=[eth/62, eth/63, IBF/1], port=60606, nodeId=0x5c9f15c4a4f57eeb1dc8472875545f6bf2da37ca632c9b21895b355eb92f2322c627676aba31aa9bdad64b42c74611a943e2b16030e44bf012a100066e99738e} via protocol null\r\n2020-06-05T15:41:05.500+0000 TRACE Process message eth/63, 7\r\n2020-06-05T15:41:05.504+0000 TRACE Process message eth/64, 7\r\n2020-06-05T15:41:05.505+0000 TRACE Process message eth/63, 7\r\n2020-06-05T15:41:05.505+0000 TRACE Process message eth/63, 7\r\n2020-06-05T15:41:05.507+0000 TRACE Process message eth/63, 7\r\n2020-06-05T15:41:05.511+0000 TRACE Process message eth/63, 7\r\n2020-06-05T15:41:05.513+0000 TRACE Process message eth/64, 7\r\n2020-06-05T15:41:05.514+0000 TRACE Process message eth/63, 7\r\n2020-06-05T15:41:05.529+0000 TRACE Process message eth/64, 7\r\n2020-06-05T15:41:05.551+0000 TRACE Process message eth/64, 7\r\n2020-06-05T15:41:05.553+0000 TRACE Process message eth/63, 7\r\n2020-06-05T15:41:05.556+0000 TRACE Process message eth/63, 7\r\n2020-06-05T15:41:05.566+0000 TRACE Process message eth/63, 7\r\n2020-06-05T15:41:05.569+0000 TRACE Process message eth/64, 7\r\n2020-06-05T15:41:05.572+0000 TRACE Process message eth/63, 7\r\n2020-06-05T15:41:05.574+0000 TRACE Process message eth/63, 7\r\n2020-06-05T15:41:05.576+0000 TRACE Process message eth/63, 7\r\n2020-06-05T15:41:05.585+0000 TRACE Process message eth/63, 7\r\n2020-06-05T15:41:05.617+0000 TRACE Process message eth/63, 7\r\n2020-06-05T15:41:05.622+0000 TRACE Process message eth/63, 7\r\n2020-06-05T15:41:05.659+0000 TRACE Process message eth/63, 7\r\n2020-06-05T15:41:05.659+0000 TRACE Process message eth/63, 7\r\n2020-06-05T15:41:05.661+0000 TRACE Process message eth/63, 7\r\n2020-06-05T15:41:05.675+0000 TRACE Process message eth/63, 4\r\n2020-06-05T15:41:05.676+0000 TRACE **Interrupted while waiting for processing to complete\r\njava.lang.InterruptedException: null**\r\n\tat java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:385) ~[?:?]\r\n\tat java.util.concurrent.CompletableFuture.get(CompletableFuture.java:2022) ~[?:?]\r\n\tat org.hyperledger.besu.services.pipeline.AsyncOperationProcessor.waitForAnyFutureToComplete(AsyncOperationProcessor.java:94) ~[besu-pipeline-1.4.1.jar:1.4.1]\r\n\tat org.hyperledger.besu.services.pipeline.AsyncOperationProcessor.outputNextCompletedTask(AsyncOperationProcessor.java:81) ~[besu-pipeline-1.4.1.jar:1.4.1]\r\n\tat org.hyperledger.besu.services.pipeline.AsyncOperationProcessor.processNextInput(AsyncOperationProcessor.java:64) ~[besu-pipeline-1.4.1.jar:1.4.1]\r\n\tat org.hyperledger.besu.services.pipeline.ProcessingStage.run(ProcessingStage.java:38) ~[besu-pipeline-1.4.1.jar:1.4.1]\r\n\tat org.hyperledger.besu.services.pipeline.Pipeline.lambda$runWithErrorHandling$3(Pipeline.java:130) ~[besu-pipeline-1.4.1.jar:1.4.1]\r\n\tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515) [?:?]\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:264) [?:?]\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) [?:?]\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) [?:?]\r\n\tat java.lang.Thread.run(Thread.java:834) [?:?]\r\n2020-06-05T15:41:05.731+0000 TRACE Process message eth/63, 4\r\n2020-06-05T15:41:05.737+0000 TRACE Process message eth/63, 7\r\n2020-06-05T15:41:05.737+0000 TRACE Process message eth/63, 7\r\n2020-06-05T15:41:05.738+0000 TRACE Writing org.hyperledger.besu.ethereum.eth.messages.GetBlockHeadersMessage@7b46759e to PeerInfo{version=5, clientId='besu/v1.4.1/linux-x86_64/oracle-java-11', capabilities=[eth/62, eth/63, eth/64, IBF/1], port=60606, nodeId=0x34f9c86d2b2563ccd10adf73a09a368bc12fd39bac4a24794ac644b33bff2a6e05e50fc757b75b0058b0ced49e097acafe7e6fcfe5596e4ab1a4a44b90f96c9e} via protocol eth/64\r\n2020-06-05T15:41:05.758+0000 TRACE Process message eth/63, 7\r\n2020-06-05T15:41:05.790+0000 TRACE Process message eth/64, 4\r\n2020-06-05T15:41:05.791+0000 TRACE Interrupted while waiting for processing to complete\r\njava.lang.InterruptedException: null\r\n\tat java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:385) ~[?:?]\r\n\tat java.util.concurrent.CompletableFuture.get(CompletableFuture.java:2022) ~[?:?]\r\n\tat org.hyperledger.besu.services.pipeline.AsyncOperationProcessor.waitForAnyFutureToComplete(AsyncOperationProcessor.java:94) ~[besu-pipeline-1.4.1.jar:1.4.1]\r\n\tat org.hyperledger.besu.services.pipeline.AsyncOperationProcessor.outputNextCompletedTask(AsyncOperationProcessor.java:81) ~[besu-pipeline-1.4.1.jar:1.4.1]\r\n\tat org.hyperledger.besu.services.pipeline.AsyncOperationProcessor.processNextInput(AsyncOperationProcessor.java:64) ~[besu-pipeline-1.4.1.jar:1.4.1]\r\n\tat org.hyperledger.besu.services.pipeline.ProcessingStage.run(ProcessingStage.java:38) ~[besu-pipeline-1.4.1.jar:1.4.1]\r\n\tat org.hyperledger.besu.services.pipeline.Pipeline.lambda$runWithErrorHandling$3(Pipeline.java:130) ~[besu-pipeline-1.4.1.jar:1.4.1]\r\n\tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515) [?:?]\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:264) [?:?]\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) [?:?]\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) [?:?]\r\n\tat java.lang.Thread.run(Thread.java:834) [?:?]\r\n2020-06-05T15:41:06.008+0000 TRACE Process message eth/63, 4\r\n2020-06-05T15:41:06.013+0000 TRACE Process message eth/63, 7\r\n2020-06-05T15:41:06.014+0000 TRACE Writing org.hyperledger.besu.ethereum.eth.messages.GetBlockHeadersMessage@2dd17cba to PeerInfo{version=5, clientId='besu/v1.4.1/linux-x86_64/oracle-java-11', capabilities=[eth/62, eth/63, eth/64, IBF/1], port=60606, nodeId=0x30d446025516c6f016b578f89a4024a37a9da98f671470b0b281c8bfab1ebfac327d615cd998a95682830d15dbc736a1e367e132c6d988b28c2208575893b241} via protocol eth/64\r\n\r\n\r\n...\r\n...\r\n\r\n2020-06-05T17:25:51.967+0000 **TRACE Interrupted while waiting to add to output\r\njava.lang.InterruptedException: null**\r\n\tat java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2056) ~[?:?]\r\n\tat java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2133) ~[?:?]\r\n\tat java.util.concurrent.ArrayBlockingQueue.offer(ArrayBlockingQueue.java:393) ~[?:?]\r\n\tat org.hyperledger.besu.services.pipeline.Pipe.put(Pipe.java:129) ~[besu-pipeline-1.4.4.jar:1.4.4]\r\n\tat org.hyperledger.besu.services.pipeline.IteratorSourceStage.run(IteratorSourceStage.java:35) ~[besu-pipeline-1.4.4.jar:1.4.4]\r\n\tat org.hyperledger.besu.services.pipeline.Pipeline.lambda$runWithErrorHandling$3(Pipeline.java:130) ~[besu-pipeline-1.4.4.jar:1.4.4]\r\n\tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515) [?:?]\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:264) [?:?]\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) [?:?]\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) [?:?]\r\n\tat java.lang.Thread.run(Thread.java:834) [?:?]\r\n\r\n\r\n\r\n**_Info on Debug_**\r\n\r\nIdle connection detected, sending Wire PING to peer.\r\n2020-06-05T15:53:45.610+0000 DEBUG Received Wire PONG\r\n2020-06-05T15:53:46.857+0000 DEBUG **Timed out while waiting for response from peer 0x26c79b1c307a40b14f...**\r\n2020-06-05T15:53:46.858+0000 DEBUG Disconnection triggered by repeated timeouts\r\n2020-06-05T15:53:46.858+0000 DEBUG Disconnecting (0x0b TIMEOUT) from PeerInfo{version=5, clientId='besu/v1.4.4/linux-x86_64/oracle-java-11', capabilities=[eth/62, eth/63, eth/64, IBF/1], port=60606, nodeId=0x26c79b1c307a40b14f86a020590703aa60ecd20c5faca9ddfc2a2513a25c1976c3fb37dadecc18162134e408d17ae9421b22dd30f09600f288a1ce8cc37a7b29}\r\n2020-06-05T15:53:46.858+0000 DEBUG **Disconnecting from peer (0x0b TIMEOUT), 36 peers left:** EthPeers{connections=0xf5914e42ca15720bfd...,0x3fdbade61613b09a57...,0x97739e4076548d3c46...,0xbab57c4deb7c9ec3ac...,0xcb24877f329e0e3fff...,0x5db9a9089653b81622...,0x12517e300824d5b39d...,0xf40953a282f0da4ba0...,0xbaba6273a695ee3583...,0x08d08462047df9655e...,0x34f9c86d2b2563ccd1...,0xda81e2bfa67574b075...,0x916b8cc76db4a19035...,0x3632c7f222fcb4af11...,0x5c9f15c4a4f57eeb1d...,0x96e6c5d10b044361da...,0xfa83941b3a21b2288d...,0x8635fd0a08fd9721ae...,0x0cc0df50c350c8b8b6...,0x2c98c25d95c8354a05...,0x30d446025516c6f016...,0xfead4eeea1f1cce8bf...,0x681b635336ad10ad2e...,0xccfe32fc60a8584316...,0xffbb4795b564348fb4...,0x8a9ae10f01e212d98c...,0x3fdf2cc9c08dc4cd8a...,0x55296094e38b96070d...,0x2e84e50c18ccc4e7fd...,0xb436cbdfd9242859e1...,0xeda7578e00354b3d19...,0x8e16519f6b4645520b...,0xc992a0d9009454b9a3...,0x2ca1d413d5ebc055e0...,0x4cd3c6452ce1d5ef5a...,0xd9bb698a2b56909f3e...}\r\n2020-06-05T15:53:46.858+0000 DEBUG **Retrying after recoverable failure from peer task CompleteBlocksTask: Timeout after 5000 MILLISECONDS**\r\n\r\n....\r\n....\r\n\r\n2020-06-05T15:57:04.366+0000 DEBUG **Disconnecting (0x10 SUBPROTOCOL_TRIGGERED)** from PeerInfo{version=5, clientId='besu/v1.4.4/linux-x86_64/openjdk-java-11', capabilities=[eth/62, eth/63, eth/64, IBF/1], port=60606, nodeId=0xcd62282fde774af30fe1de20826fe017121d1e1173a1749b73d38e943821d3e22dcd2f7e52fbfc33992b2e077f0191552cb33ec3cbca28283ae80c1c84ad3ea1}\r\n2020-06-05T15:57:04.366+0000 DEBUG Disconnecting from peer (0x10 SUBPROTOCOL_TRIGGERED), 36 peers left: EthPeers{connections=0xf5914e42ca15720bfd...,0x3fdbade61613b09a57...,0x97739e4076548d3c46...,0xbab57c4deb7c9ec3ac...,0x26c79b1c307a40b14f...,0xcb24877f329e0e3fff...,0x8e16519f6b4645520b...,0x12517e300824d5b39d...,0xeda7578e00354b3d19...,0xbaba6273a695ee3583...,0xc992a0d9009454b9a3...,0xf40953a282f0da4ba0...,0x08d08462047df9655e...,0x34f9c86d2b2563ccd1...,0x916b8cc76db4a19035...,0x3632c7f222fcb4af11...,0x5c9f15c4a4f57eeb1d...,0x96e6c5d10b044361da...,0xd9bb698a2b56909f3e...,0xfa83941b3a21b2288d...,0x8635fd0a08fd9721ae...,0x2c98c25d95c8354a05...,0x30d446025516c6f016...,0x55296094e38b96070d...,0xfead4eeea1f1cce8bf...,0x681b635336ad10ad2e...,0xccfe32fc60a8584316...,0xffbb4795b564348fb4...,0x8a9ae10f01e212d98c...,0x3fdf2cc9c08dc4cd8a...,0x2e84e50c18ccc4e7fd...,0xb436cbdfd9242859e1...,0x0cc0df50c350c8b8b6...,0x2ca1d413d5ebc055e0...,0x4cd3c6452ce1d5ef5a...,0xda81e2bfa67574b075...}\r\n2020-06-05T15:57:04.367+0000 DEBUG Received Wire DISCONNECT (SUBPROTOCOL_TRIGGERED) from peer: PeerInfo{version=5, clientId='besu/v1.4.4/linux-x86_64/openjdk-java-11', capabilities=[eth/62, eth/63, eth/64, IBF/1], port=60606, nodeId=0xcd62282fde774af30fe1de20826fe017121d1e1173a1749b73d38e943821d3e22dcd2f7e52fbfc33992b2e077f0191552cb33ec3cbca28283ae80c1c84ad3ea1}\r\n\r\n\r\n\r\n\r\n....\r\n....\r\n\r\n2020-06-05T16:01:40.718+0000 DEBUG Timed out while waiting for response from peer 0xfead4eeea1f1cce8bf...\r\n2020-06-05T16:01:40.718+0000 DEBUG Retrying after recoverable failure from peer task CompleteBlocksTask: Timeout after 5000 MILLISECONDS\r\n2020-06-05T16:01:41.718+0000 DEBUG Unhandled exception in pipeline. Aborting.\r\njava.lang.RuntimeException: **Async operation failed.** org.hyperledger.besu.ethereum.eth.manager.exceptions.**MaxRetriesReachedException**: Task failed: MAX_RETRIES_REACHED\r\n\tat org.hyperledger.besu.services.pipeline.**AsyncOperationProcessor.outputNextCompletedTask**(AsyncOperationProcessor.java:86) ~[besu-pipeline-1.4.1.jar:1.4.1]\r\n\tat org.hyperledger.besu.services.pipeline.AsyncOperationProcessor.processNextInput(AsyncOperationProcessor.java:64) ~[besu-pipeline-1.4.1.jar:1.4.1]\r\n\tat org.hyperledger.besu.services.pipeline.ProcessingStage.run(ProcessingStage.java:38) ~[besu-pipeline-1.4.1.jar:1.4.1]\r\n\tat org.hyperledger.besu.services.pipeline.Pipeline.lambda$runWithErrorHandling$3(Pipeline.java:130) ~[besu-pipeline-1.4.1.jar:1.4.1]\r\n\tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515) [?:?]\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:264) [?:?]\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) [?:?]\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) [?:?]\r\n\tat java.lang.Thread.run(Thread.java:834) [?:?]\r\n**Caused by: java.util.concurrent.ExecutionException:** org.hyperledger.besu.ethereum.eth.manager.exceptions.MaxRetriesReachedException: **Task failed: MAX_RETRIES_REACHED**\r\n\tat java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:395) ~[?:?]\r\n\tat java.util.concurrent.CompletableFuture.get(CompletableFuture.java:2022) ~[?:?]\r\n\tat org.hyperledger.besu.services.pipeline.AsyncOperationProcessor.waitForAnyFutureToComplete(AsyncOperationProcessor.java:94) ~[besu-pipeline-1.4.1.jar:1.4.1]\r\n\tat org.hyperledger.besu.services.pipeline.AsyncOperationProcessor.outputNextCompletedTask(AsyncOperationProcessor.java:81) ~[besu-pipeline-1.4.1.jar:1.4.1]\r\n\t... 8 more\r\nCaused by: org.hyperledger.besu.ethereum.eth.manager.exceptions.MaxRetriesReachedException: Task failed: MAX_RETRIES_REACHED\r\n\tat org.hyperledger.besu.ethereum.eth.manager.task.AbstractRetryingPeerTask.executeTask(AbstractRetryingPeerTask.java:81) ~[besu-eth-1.4.1.jar:1.4.1]\r\n\tat org.hyperledger.besu.ethereum.eth.manager.task.AbstractEthTask.executeTaskTimed(AbstractEthTask.java:155) ~[besu-eth-1.4.1.jar:1.4.1]\r\n\tat org.hyperledger.besu.ethereum.eth.manager.EthScheduler.lambda$scheduleFutureTask$4(EthScheduler.java:152) ~[besu-eth-1.4.1.jar:1.4.1]\r\n\tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515) ~[?:?]\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[?:?]\r\n\tat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[?:?]\r\n\t... 3 more\r\n2020-06-05T16:01:41.719+0000 DEBUG **Chain download failed. Restarting after short delay.\r\njava.util.concurrent.CompletionException: java.lang.RuntimeException: Async operation failed.** org.hyperledger.besu.ethereum.eth.manager.exceptions.MaxRetriesReachedException: **Task failed: MAX_RETRIES_REACHED**\r\n\tat java.util.concurrent.CompletableFuture.encodeRelay(CompletableFuture.java:367) ~[?:?]\r\n\tat java.util.concurrent.CompletableFuture.completeRelay(CompletableFuture.java:376) ~[?:?]\r\n\tat java.util.concurrent.CompletableFuture$UniRelay.tryFire(CompletableFuture.java:1019) ~[?:?]\r\n\tat java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506) ~[?:?]\r\n\tat java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088) ~[?:?]\r\n\tat org.hyperledger.besu.services.pipeline.Pipeline.abort(Pipeline.java:152) ~[besu-pipeline-1.4.1.jar:1.4.1]\r\n\tat org.hyperledger.besu.services.pipeline.Pipeline.lambda$runWithErrorHandling$3(Pipeline.java:134) ~[besu-pipeline-1.4.1.jar:1.4.1]\r\n\tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515) [?:?]\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:264) [?:?]\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) [?:?]\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) [?:?]\r\n\tat java.lang.Thread.run(Thread.java:834) [?:?]\r\nCaused by: java.lang.RuntimeException: Async operation failed. org.hyperledger.besu.ethereum.eth.manager.exceptions.MaxRetriesReachedException: Task failed: MAX_RETRIES_REACHED\r\n\tat org.hyperledger.besu.services.pipeline.AsyncOperationProcessor.outputNextCompletedTask(AsyncOperationProcessor.java:86) ~[besu-pipeline-1.4.1.jar:1.4.1]\r\n\tat org.hyperledger.besu.services.pipeline.AsyncOperationProcessor.processNextInput(AsyncOperationProcessor.java:64) ~[besu-pipeline-1.4.1.jar:1.4.1]\r\n\tat org.hyperledger.besu.services.pipeline.ProcessingStage.run(ProcessingStage.java:38) ~[besu-pipeline-1.4.1.jar:1.4.1]\r\n\tat org.hyperledger.besu.services.pipeline.Pipeline.lambda$runWithErrorHandling$3(Pipeline.java:130) ~[besu-pipeline-1.4.1.jar:1.4.1]\r\n\t... 5 more\r\nCaused by: java.util.concurrent.ExecutionException: org.hyperledger.besu.ethereum.eth.manager.exceptions.MaxRetriesReachedException: Task failed: MAX_RETRIES_REACHED\r\n\tat java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:395) ~[?:?]\r\n\tat java.util.concurrent.CompletableFuture.get(CompletableFuture.java:2022) ~[?:?]\r\n\tat org.hyperledger.besu.services.pipeline.AsyncOperationProcessor.waitForAnyFutureToComplete(AsyncOperationProcessor.java:94) ~[besu-pipeline-1.4.1.jar:1.4.1]\r\n\tat org.hyperledger.besu.services.pipeline.AsyncOperationProcessor.outputNextCompletedTask(AsyncOperationProcessor.java:81) ~[besu-pipeline-1.4.1.jar:1.4.1]\r\n\tat org.hyperledger.besu.services.pipeline.AsyncOperationProcessor.processNextInput(AsyncOperationProcessor.java:64) ~[besu-pipeline-1.4.1.jar:1.4.1]\r\n\tat org.hyperledger.besu.services.pipeline.ProcessingStage.run(ProcessingStage.java:38) ~[besu-pipeline-1.4.1.jar:1.4.1]\r\n\tat org.hyperledger.besu.services.pipeline.Pipeline.lambda$runWithErrorHandling$3(Pipeline.java:130) ~[besu-pipeline-1.4.1.jar:1.4.1]\r\n\t... 5 more\r\nCaused by: org.hyperledger.besu.ethereum.eth.manager.exceptions.MaxRetriesReachedException: Task failed: MAX_RETRIES_REACHED\r\n\tat org.hyperledger.besu.ethereum.eth.manager.task.AbstractRetryingPeerTask.executeTask(AbstractRetryingPeerTask.java:81) ~[besu-eth-1.4.1.jar:1.4.1]\r\n\tat org.hyperledger.besu.ethereum.eth.manager.task.AbstractEthTask.executeTaskTimed(AbstractEthTask.java:155) ~[besu-eth-1.4.1.jar:1.4.1]\r\n\tat org.hyperledger.besu.ethereum.eth.manager.EthScheduler.lambda$scheduleFutureTask$4(EthScheduler.java:152) ~[besu-eth-1.4.1.jar:1.4.1]\r\n\tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515) ~[?:?]\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[?:?]\r\n\tat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[?:?]\r\n\t... 3 more\r\n2020-06-05T16:01:43.721+0000 DEBUG Searching for common ancestor with 0x0cc0df50c350c8b8b6... between 0 and 9701521\r\n2020-06-05T16:01:43.721+0000 DEBUG Requesting 200 headers from peer 0x0cc0df50c350c8b8b6....\r\n",
  "closed_by": {
    "login": "matkt",
    "id": 26581503,
    "node_id": "MDQ6VXNlcjI2NTgxNTAz",
    "avatar_url": "https://avatars.githubusercontent.com/u/26581503?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/matkt",
    "html_url": "https://github.com/matkt",
    "followers_url": "https://api.github.com/users/matkt/followers",
    "following_url": "https://api.github.com/users/matkt/following{/other_user}",
    "gists_url": "https://api.github.com/users/matkt/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/matkt/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/matkt/subscriptions",
    "organizations_url": "https://api.github.com/users/matkt/orgs",
    "repos_url": "https://api.github.com/users/matkt/repos",
    "events_url": "https://api.github.com/users/matkt/events{/privacy}",
    "received_events_url": "https://api.github.com/users/matkt/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/1053/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/hyperledger/besu/issues/1053/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/639738162",
    "html_url": "https://github.com/hyperledger/besu/issues/1053#issuecomment-639738162",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/1053",
    "id": 639738162,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYzOTczODE2Mg==",
    "user": {
      "login": "shemnon",
      "id": 38109,
      "node_id": "MDQ6VXNlcjM4MTA5",
      "avatar_url": "https://avatars.githubusercontent.com/u/38109?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/shemnon",
      "html_url": "https://github.com/shemnon",
      "followers_url": "https://api.github.com/users/shemnon/followers",
      "following_url": "https://api.github.com/users/shemnon/following{/other_user}",
      "gists_url": "https://api.github.com/users/shemnon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/shemnon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/shemnon/subscriptions",
      "organizations_url": "https://api.github.com/users/shemnon/orgs",
      "repos_url": "https://api.github.com/users/shemnon/repos",
      "events_url": "https://api.github.com/users/shemnon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/shemnon/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-06-05T19:21:05Z",
    "updated_at": "2020-06-05T19:21:05Z",
    "author_association": "MEMBER",
    "body": "LACChain correct?  We will need to get a second peer added to try and do deep debugging.  I'm concerned the bug may be on the peer side not the local side.  Either that header causes weird things in the wire protocol or generation of the message for that header has issues.",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/639738162/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/639806344",
    "html_url": "https://github.com/hyperledger/besu/issues/1053#issuecomment-639806344",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/1053",
    "id": 639806344,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYzOTgwNjM0NA==",
    "user": {
      "login": "eum602",
      "id": 11699587,
      "node_id": "MDQ6VXNlcjExNjk5NTg3",
      "avatar_url": "https://avatars.githubusercontent.com/u/11699587?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eum602",
      "html_url": "https://github.com/eum602",
      "followers_url": "https://api.github.com/users/eum602/followers",
      "following_url": "https://api.github.com/users/eum602/following{/other_user}",
      "gists_url": "https://api.github.com/users/eum602/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eum602/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eum602/subscriptions",
      "organizations_url": "https://api.github.com/users/eum602/orgs",
      "repos_url": "https://api.github.com/users/eum602/repos",
      "events_url": "https://api.github.com/users/eum602/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eum602/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-06-05T20:44:57Z",
    "updated_at": "2020-06-05T20:44:57Z",
    "author_association": "NONE",
    "body": "Sure @shemnon please let me know when you are ready to add your node to  the permissioning network. Or any help you need.",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/639806344/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/640071102",
    "html_url": "https://github.com/hyperledger/besu/issues/1053#issuecomment-640071102",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/1053",
    "id": 640071102,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY0MDA3MTEwMg==",
    "user": {
      "login": "eum602",
      "id": 11699587,
      "node_id": "MDQ6VXNlcjExNjk5NTg3",
      "avatar_url": "https://avatars.githubusercontent.com/u/11699587?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eum602",
      "html_url": "https://github.com/eum602",
      "followers_url": "https://api.github.com/users/eum602/followers",
      "following_url": "https://api.github.com/users/eum602/following{/other_user}",
      "gists_url": "https://api.github.com/users/eum602/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eum602/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eum602/subscriptions",
      "organizations_url": "https://api.github.com/users/eum602/orgs",
      "repos_url": "https://api.github.com/users/eum602/repos",
      "events_url": "https://api.github.com/users/eum602/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eum602/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-06-06T14:37:20Z",
    "updated_at": "2020-06-06T14:37:20Z",
    "author_association": "NONE",
    "body": "I have just confirmed the issue is also happening in past versions like 1.3.6. Also The problem happens around 9701xxx and not specifically at some block. IMO it is independent of the version.",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/640071102/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/640381624",
    "html_url": "https://github.com/hyperledger/besu/issues/1053#issuecomment-640381624",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/1053",
    "id": 640381624,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY0MDM4MTYyNA==",
    "user": {
      "login": "eum602",
      "id": 11699587,
      "node_id": "MDQ6VXNlcjExNjk5NTg3",
      "avatar_url": "https://avatars.githubusercontent.com/u/11699587?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eum602",
      "html_url": "https://github.com/eum602",
      "followers_url": "https://api.github.com/users/eum602/followers",
      "following_url": "https://api.github.com/users/eum602/following{/other_user}",
      "gists_url": "https://api.github.com/users/eum602/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eum602/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eum602/subscriptions",
      "organizations_url": "https://api.github.com/users/eum602/orgs",
      "repos_url": "https://api.github.com/users/eum602/repos",
      "events_url": "https://api.github.com/users/eum602/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eum602/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-06-08T05:40:46Z",
    "updated_at": "2020-06-08T05:40:46Z",
    "author_association": "NONE",
    "body": "After many hours of looping in errors the node suddenly started to synchronize. I don't think the problem is solved, just want to add more details about this issue.\r\n\r\n**2020-06-07T02:26**:40.280+0000 INFO Found common ancestor with peer 0x3632c7f222fcb4af11... at block 9701534\r\n...\r\n...\r\n**2020-06-07T11:53**:03.626+0000 INFO Found common ancestor with peer 0x26c79b1c307a40b14f... at block 9701534\r\n...\r\n...\r\n**2020-06-07T12:54**:54.491+0000 INFO Found common ancestor with peer 0x9636ad55b62cd519bc... at block 9701534\r\n2020-06-07T12:55:11.754+0000 **INFO Import reached block** 9701600\r\n2020-06-07T12:55:20.379+0000 INFO Import reached block 9701800\r\n\r\n...",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/640381624/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/651312541",
    "html_url": "https://github.com/hyperledger/besu/issues/1053#issuecomment-651312541",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/1053",
    "id": 651312541,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY1MTMxMjU0MQ==",
    "user": {
      "login": "matkt",
      "id": 26581503,
      "node_id": "MDQ6VXNlcjI2NTgxNTAz",
      "avatar_url": "https://avatars.githubusercontent.com/u/26581503?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/matkt",
      "html_url": "https://github.com/matkt",
      "followers_url": "https://api.github.com/users/matkt/followers",
      "following_url": "https://api.github.com/users/matkt/following{/other_user}",
      "gists_url": "https://api.github.com/users/matkt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/matkt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/matkt/subscriptions",
      "organizations_url": "https://api.github.com/users/matkt/orgs",
      "repos_url": "https://api.github.com/users/matkt/repos",
      "events_url": "https://api.github.com/users/matkt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/matkt/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-06-29T19:24:52Z",
    "updated_at": "2020-06-29T19:24:52Z",
    "author_association": "CONTRIBUTOR",
    "body": "We have just added a fix to solve the issue and we tested it on the LACChain network. You can now synchronize completely with the version of Besu available in the master. Or you can wait for the next release which will integrate it. Feel free to reopen the ticket if you still have the issue",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/651312541/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
