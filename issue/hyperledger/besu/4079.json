{
  "url": "https://api.github.com/repos/hyperledger/besu/issues/4079",
  "repository_url": "https://api.github.com/repos/hyperledger/besu",
  "labels_url": "https://api.github.com/repos/hyperledger/besu/issues/4079/labels{/name}",
  "comments_url": "https://api.github.com/repos/hyperledger/besu/issues/4079/comments",
  "events_url": "https://api.github.com/repos/hyperledger/besu/issues/4079/events",
  "html_url": "https://github.com/hyperledger/besu/issues/4079",
  "id": 1299844768,
  "node_id": "I_kwDODE2jmc5Neg6g",
  "number": 4079,
  "title": "Critical Exception Processing Transaction",
  "user": {
    "login": "SeaMonkey82",
    "id": 20866869,
    "node_id": "MDQ6VXNlcjIwODY2ODY5",
    "avatar_url": "https://avatars.githubusercontent.com/u/20866869?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/SeaMonkey82",
    "html_url": "https://github.com/SeaMonkey82",
    "followers_url": "https://api.github.com/users/SeaMonkey82/followers",
    "following_url": "https://api.github.com/users/SeaMonkey82/following{/other_user}",
    "gists_url": "https://api.github.com/users/SeaMonkey82/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/SeaMonkey82/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/SeaMonkey82/subscriptions",
    "organizations_url": "https://api.github.com/users/SeaMonkey82/orgs",
    "repos_url": "https://api.github.com/users/SeaMonkey82/repos",
    "events_url": "https://api.github.com/users/SeaMonkey82/events{/privacy}",
    "received_events_url": "https://api.github.com/users/SeaMonkey82/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 4328706977,
      "node_id": "LA_kwDODE2jmc8AAAABAgLToQ",
      "url": "https://api.github.com/repos/hyperledger/besu/labels/TeamChupa",
      "name": "TeamChupa",
      "color": "fbca04",
      "default": false,
      "description": "GH issues worked on by Chupacabara Team"
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": {
    "login": "garyschulte",
    "id": 1238512,
    "node_id": "MDQ6VXNlcjEyMzg1MTI=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1238512?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/garyschulte",
    "html_url": "https://github.com/garyschulte",
    "followers_url": "https://api.github.com/users/garyschulte/followers",
    "following_url": "https://api.github.com/users/garyschulte/following{/other_user}",
    "gists_url": "https://api.github.com/users/garyschulte/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/garyschulte/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/garyschulte/subscriptions",
    "organizations_url": "https://api.github.com/users/garyschulte/orgs",
    "repos_url": "https://api.github.com/users/garyschulte/repos",
    "events_url": "https://api.github.com/users/garyschulte/events{/privacy}",
    "received_events_url": "https://api.github.com/users/garyschulte/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "garyschulte",
      "id": 1238512,
      "node_id": "MDQ6VXNlcjEyMzg1MTI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1238512?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/garyschulte",
      "html_url": "https://github.com/garyschulte",
      "followers_url": "https://api.github.com/users/garyschulte/followers",
      "following_url": "https://api.github.com/users/garyschulte/following{/other_user}",
      "gists_url": "https://api.github.com/users/garyschulte/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/garyschulte/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/garyschulte/subscriptions",
      "organizations_url": "https://api.github.com/users/garyschulte/orgs",
      "repos_url": "https://api.github.com/users/garyschulte/repos",
      "events_url": "https://api.github.com/users/garyschulte/events{/privacy}",
      "received_events_url": "https://api.github.com/users/garyschulte/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 7,
  "created_at": "2022-07-10T06:48:17Z",
  "updated_at": "2022-11-05T17:44:07Z",
  "closed_at": "2022-11-05T17:44:07Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "v22.4.4 on Ropsten\r\n\r\n```\r\n2022-07-10 02:47:56.033-04:00 | ForkJoinPool.commonPool-worker-59 | INFO  | AbstractBlockProcessor | Block processing error: transaction invalid 'INTERNAL_ERROR'. Block 0xe63111e889a4127ff441498ac5d79883184c6de6ab0fad6db71e67931db32453 Transaction 0x06d93ad334328ee21228f5cc6443b5bbadb0781d16421ff3e7c8bc3fd2874247\r\n2022-07-10 02:47:56.033-04:00 | ForkJoinPool.commonPool-worker-59 | ERROR | MainnetBlockValidator | Error processing block. Block 12560518 (0xe63111e889a4127ff441498ac5d79883184c6de6ab0fad6db71e67931db32453)\r\n2022-07-10 02:47:56.035-04:00 | ForkJoinPool.commonPool-worker-59 | ERROR | MainnetTransactionProcessor | Critical Exception Processing Transaction\r\norg.hyperledger.besu.ethereum.trie.MerkleTrieException: Unable to load trie node value for hash 0x2858e905a4fad439ec3eb36652b76843ff8e171f97f589f976a41b9a26d2ffcf location 0x\r\n        at org.hyperledger.besu.ethereum.trie.StoredNode.lambda$load$0(StoredNode.java:133)\r\n        at java.base/java.util.Optional.orElseThrow(Optional.java:408)\r\n        at org.hyperledger.besu.ethereum.trie.StoredNode.load(StoredNode.java:131)\r\n        at org.hyperledger.besu.ethereum.trie.StoredNode.accept(StoredNode.java:63)\r\n        at org.hyperledger.besu.ethereum.trie.StoredMerklePatriciaTrie.get(StoredMerklePatriciaTrie.java:119)\r\n        at org.hyperledger.besu.ethereum.bonsai.BonsaiWorldStateKeyValueStorage.getStorageValueBySlotHash(BonsaiWorldStateKeyValueStorage.java:159)\r\n        at org.hyperledger.besu.ethereum.bonsai.BonsaiPersistedWorldState.getStorageValueBySlotHash(BonsaiPersistedWorldState.java:422)\r\n        at org.hyperledger.besu.ethereum.bonsai.BonsaiWorldStateUpdater.getStorageValueBySlotHash(BonsaiWorldStateUpdater.java:320)\r\n        at org.hyperledger.besu.ethereum.bonsai.BonsaiWorldStateUpdater.getStorageValue(BonsaiWorldStateUpdater.java:307)\r\n        at org.hyperledger.besu.ethereum.bonsai.BonsaiAccount.getStorageValue(BonsaiAccount.java:208)\r\n        at org.hyperledger.besu.evm.worldstate.UpdateTrackingAccount.getStorageValue(UpdateTrackingAccount.java:213)\r\n        at org.hyperledger.besu.evm.worldstate.UpdateTrackingAccount.getStorageValue(UpdateTrackingAccount.java:213)\r\n        at org.hyperledger.besu.evm.worldstate.UpdateTrackingAccount.getStorageValue(UpdateTrackingAccount.java:213)\r\n        at org.hyperledger.besu.evm.worldstate.UpdateTrackingAccount.getStorageValue(UpdateTrackingAccount.java:213)\r\n        at org.hyperledger.besu.evm.operation.SLoadOperation.execute(SLoadOperation.java:61)\r\n        at org.hyperledger.besu.evm.EVM.lambda$executeNextOperation$0(EVM.java:87)\r\n        at org.hyperledger.besu.evm.tracing.OperationTracer.lambda$static$0(OperationTracer.java:27)\r\n        at org.hyperledger.besu.evm.EVM.executeNextOperation(EVM.java:81)\r\n        at org.hyperledger.besu.evm.EVM.runToHalt(EVM.java:74)\r\n        at org.hyperledger.besu.evm.processor.AbstractMessageProcessor.codeExecute(AbstractMessageProcessor.java:161)\r\n        at org.hyperledger.besu.evm.processor.AbstractMessageProcessor.process(AbstractMessageProcessor.java:173)\r\n        at org.hyperledger.besu.ethereum.mainnet.MainnetTransactionProcessor.process(MainnetTransactionProcessor.java:485)\r\n        at org.hyperledger.besu.ethereum.mainnet.MainnetTransactionProcessor.processTransaction(MainnetTransactionProcessor.java:397)\r\n        at org.hyperledger.besu.ethereum.mainnet.AbstractBlockProcessor.processBlock(AbstractBlockProcessor.java:161)\r\n        at org.hyperledger.besu.ethereum.mainnet.AbstractBlockProcessor.processBlock(AbstractBlockProcessor.java:42)\r\n        at org.hyperledger.besu.ethereum.mainnet.BlockProcessor.processBlock(BlockProcessor.java:75)\r\n        at org.hyperledger.besu.ethereum.MainnetBlockValidator.processBlock(MainnetBlockValidator.java:158)\r\n        at org.hyperledger.besu.ethereum.MainnetBlockValidator.validateAndProcessBlock(MainnetBlockValidator.java:112)\r\n        at org.hyperledger.besu.ethereum.MainnetBlockValidator.validateAndProcessBlock(MainnetBlockValidator.java:71)\r\n        at org.hyperledger.besu.ethereum.eth.sync.backwardsync.BackwardSyncContext.saveBlock(BackwardSyncContext.java:242)\r\n        at org.hyperledger.besu.ethereum.eth.sync.backwardsync.ProcessKnownAncestorsStep.processKnownAncestors(ProcessKnownAncestorsStep.java:59)\r\n        at java.base/java.util.concurrent.CompletableFuture$AsyncRun.run(CompletableFuture.java:1736)\r\n        at java.base/java.util.concurrent.CompletableFuture$AsyncRun.exec(CompletableFuture.java:1728)\r\n        at java.base/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:290)\r\n        at java.base/java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1020)\r\n        at java.base/java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1656)\r\n        at java.base/java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1594)\r\n        at java.base/java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:183)\r\n```",
  "closed_by": {
    "login": "garyschulte",
    "id": 1238512,
    "node_id": "MDQ6VXNlcjEyMzg1MTI=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1238512?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/garyschulte",
    "html_url": "https://github.com/garyschulte",
    "followers_url": "https://api.github.com/users/garyschulte/followers",
    "following_url": "https://api.github.com/users/garyschulte/following{/other_user}",
    "gists_url": "https://api.github.com/users/garyschulte/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/garyschulte/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/garyschulte/subscriptions",
    "organizations_url": "https://api.github.com/users/garyschulte/orgs",
    "repos_url": "https://api.github.com/users/garyschulte/repos",
    "events_url": "https://api.github.com/users/garyschulte/events{/privacy}",
    "received_events_url": "https://api.github.com/users/garyschulte/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/4079/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/hyperledger/besu/issues/4079/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1187665457",
    "html_url": "https://github.com/hyperledger/besu/issues/4079#issuecomment-1187665457",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/4079",
    "id": 1187665457,
    "node_id": "IC_kwDODE2jmc5GylYx",
    "user": {
      "login": "matkt",
      "id": 26581503,
      "node_id": "MDQ6VXNlcjI2NTgxNTAz",
      "avatar_url": "https://avatars.githubusercontent.com/u/26581503?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/matkt",
      "html_url": "https://github.com/matkt",
      "followers_url": "https://api.github.com/users/matkt/followers",
      "following_url": "https://api.github.com/users/matkt/following{/other_user}",
      "gists_url": "https://api.github.com/users/matkt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/matkt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/matkt/subscriptions",
      "organizations_url": "https://api.github.com/users/matkt/orgs",
      "repos_url": "https://api.github.com/users/matkt/repos",
      "events_url": "https://api.github.com/users/matkt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/matkt/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-07-18T15:48:08Z",
    "updated_at": "2022-07-18T15:48:08Z",
    "author_association": "CONTRIBUTOR",
    "body": "Hi thanks for the ticket. do you know if you used fastync or snapsync for this one ? ",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1187665457/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1188083055",
    "html_url": "https://github.com/hyperledger/besu/issues/4079#issuecomment-1188083055",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/4079",
    "id": 1188083055,
    "node_id": "IC_kwDODE2jmc5G0LVv",
    "user": {
      "login": "SeaMonkey82",
      "id": 20866869,
      "node_id": "MDQ6VXNlcjIwODY2ODY5",
      "avatar_url": "https://avatars.githubusercontent.com/u/20866869?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/SeaMonkey82",
      "html_url": "https://github.com/SeaMonkey82",
      "followers_url": "https://api.github.com/users/SeaMonkey82/followers",
      "following_url": "https://api.github.com/users/SeaMonkey82/following{/other_user}",
      "gists_url": "https://api.github.com/users/SeaMonkey82/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/SeaMonkey82/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SeaMonkey82/subscriptions",
      "organizations_url": "https://api.github.com/users/SeaMonkey82/orgs",
      "repos_url": "https://api.github.com/users/SeaMonkey82/repos",
      "events_url": "https://api.github.com/users/SeaMonkey82/events{/privacy}",
      "received_events_url": "https://api.github.com/users/SeaMonkey82/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-07-18T18:34:44Z",
    "updated_at": "2022-07-18T19:16:58Z",
    "author_association": "NONE",
    "body": "I can't say for certain, but as checkpoint sync has been failing to do much besides refresh DNS records and receive new payloads from an already-synced CL, I *think* this was with fast sync.",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1188083055/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1233954283",
    "html_url": "https://github.com/hyperledger/besu/issues/4079#issuecomment-1233954283",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/4079",
    "id": 1233954283,
    "node_id": "IC_kwDODE2jmc5JjKXr",
    "user": {
      "login": "ahamlat",
      "id": 5099602,
      "node_id": "MDQ6VXNlcjUwOTk2MDI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5099602?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ahamlat",
      "html_url": "https://github.com/ahamlat",
      "followers_url": "https://api.github.com/users/ahamlat/followers",
      "following_url": "https://api.github.com/users/ahamlat/following{/other_user}",
      "gists_url": "https://api.github.com/users/ahamlat/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ahamlat/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ahamlat/subscriptions",
      "organizations_url": "https://api.github.com/users/ahamlat/orgs",
      "repos_url": "https://api.github.com/users/ahamlat/repos",
      "events_url": "https://api.github.com/users/ahamlat/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ahamlat/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-09-01T08:45:18Z",
    "updated_at": "2022-09-01T08:45:18Z",
    "author_association": "CONTRIBUTOR",
    "body": "Another discord user had the same error with Fast Sync and Bonsai as a database, here're the logs \r\n```\r\nAug 31 19:54:41 validateur2 besu[3598]: 2022-08-31 19:54:41.386+00:00 | EthScheduler-Workers-0 | INFO  | PersistBlockTask | Imported #15,448,544 / 154 tx / 0 om / 13,057,730 (43.5%) gas / (0xe7d26bab682f7d76e30f8ce9f86fc37104a35da888a30a>\r\nAug 31 19:54:46 validateur2 besu[3598]: 2022-08-31 19:54:46.713+00:00 | EthScheduler-Workers-1 | INFO  | PersistBlockTask | Imported #15,448,545 / 85 tx / 0 om / 9,775,765 (32.6%) gas / (0xe97c015be3aeaccc57f89b8a2366efb01824604458540506>\r\nAug 31 19:55:00 validateur2 besu[3598]: 2022-08-31 19:55:00.856+00:00 | EthScheduler-Workers-0 | ERROR | MainnetTransactionProcessor | Critical Exception Processing Transaction\r\nAug 31 19:55:00 validateur2 besu[3598]: org.hyperledger.besu.ethereum.trie.MerkleTrieException: Unable to load trie node value for hash 0xf5794f7eae54fa32f3d93c33c38915a3dce29129e477ac635e0d1261763e3d00 location 0x0f0e0e090e\r\nAug 31 19:55:00 validateur2 besu[3598]:         at org.hyperledger.besu.ethereum.trie.StoredNode.lambda$load$0(StoredNode.java:133)\r\nAug 31 19:55:00 validateur2 besu[3598]:         at java.base/java.util.Optional.orElseThrow(Optional.java:408)\r\nAug 31 19:55:00 validateur2 besu[3598]:         at org.hyperledger.besu.ethereum.trie.StoredNode.load(StoredNode.java:131)\r\nAug 31 19:55:00 validateur2 besu[3598]:         at org.hyperledger.besu.ethereum.trie.StoredNode.accept(StoredNode.java:63)\r\nAug 31 19:55:00 validateur2 besu[3598]:         at org.hyperledger.besu.ethereum.trie.GetVisitor.visit(GetVisitor.java:46)\r\nAug 31 19:55:00 validateur2 besu[3598]:         at org.hyperledger.besu.ethereum.trie.BranchNode.accept(BranchNode.java:80)\r\nAug 31 19:55:00 validateur2 besu[3598]:         at org.hyperledger.besu.ethereum.trie.StoredNode.accept(StoredNode.java:64)\r\nAug 31 19:55:00 validateur2 besu[3598]:         at org.hyperledger.besu.ethereum.trie.GetVisitor.visit(GetVisitor.java:46)\r\nAug 31 19:55:00 validateur2 besu[3598]:         at org.hyperledger.besu.ethereum.trie.BranchNode.accept(BranchNode.java:80)\r\nAug 31 19:55:00 validateur2 besu[3598]:         at org.hyperledger.besu.ethereum.trie.StoredNode.accept(StoredNode.java:64)\r\nAug 31 19:55:00 validateur2 besu[3598]:         at org.hyperledger.besu.ethereum.trie.GetVisitor.visit(GetVisitor.java:46)\r\nAug 31 19:55:00 validateur2 besu[3598]:         at org.hyperledger.besu.ethereum.trie.BranchNode.accept(BranchNode.java:80)\r\nAug 31 19:55:00 validateur2 besu[3598]:         at org.hyperledger.besu.ethereum.trie.StoredNode.accept(StoredNode.java:64)\r\nAug 31 19:55:00 validateur2 besu[3598]:         at org.hyperledger.besu.ethereum.trie.GetVisitor.visit(GetVisitor.java:46)\r\nAug 31 19:55:00 validateur2 besu[3598]:         at org.hyperledger.besu.ethereum.trie.BranchNode.accept(BranchNode.java:80)\r\nAug 31 19:55:00 validateur2 besu[3598]:         at org.hyperledger.besu.ethereum.trie.StoredNode.accept(StoredNode.java:64)\r\nAug 31 19:55:00 validateur2 besu[3598]:         at org.hyperledger.besu.ethereum.trie.GetVisitor.visit(GetVisitor.java:46)\r\nAug 31 19:55:00 validateur2 besu[3598]:         at org.hyperledger.besu.ethereum.trie.BranchNode.accept(BranchNode.java:80)\r\nAug 31 19:55:00 validateur2 besu[3598]:         at org.hyperledger.besu.ethereum.trie.StoredNode.accept(StoredNode.java:64)\r\nAug 31 19:55:00 validateur2 besu[3598]:         at org.hyperledger.besu.ethereum.trie.StoredMerklePatriciaTrie.get(StoredMerklePatriciaTrie.java:119)\r\nAug 31 19:55:00 validateur2 besu[3598]:         at org.hyperledger.besu.ethereum.bonsai.BonsaiWorldStateKeyValueStorage.getStorageValueBySlotHash(BonsaiWorldStateKeyValueStorage.java:159)\r\nAug 31 19:55:00 validateur2 besu[3598]:         at org.hyperledger.besu.ethereum.bonsai.BonsaiPersistedWorldState.getStorageValueBySlotHash(BonsaiPersistedWorldState.java:379)\r\nAug 31 19:55:00 validateur2 besu[3598]:         at org.hyperledger.besu.ethereum.bonsai.BonsaiWorldStateUpdater.getStorageValueBySlotHash(BonsaiWorldStateUpdater.java:320)\r\nAug 31 19:55:00 validateur2 besu[3598]:         at org.hyperledger.besu.ethereum.bonsai.BonsaiWorldStateUpdater.getStorageValue(BonsaiWorldStateUpdater.java:307)\r\nAug 31 19:55:00 validateur2 besu[3598]:         at org.hyperledger.besu.ethereum.bonsai.BonsaiAccount.getStorageValue(BonsaiAccount.java:208)\r\nAug 31 19:55:00 validateur2 besu[3598]:         at org.hyperledger.besu.evm.worldstate.UpdateTrackingAccount.getStorageValue(UpdateTrackingAccount.java:213)\r\nAug 31 19:55:00 validateur2 besu[3598]:         at org.hyperledger.besu.evm.worldstate.UpdateTrackingAccount.getStorageValue(Upd\r\n```\r\n\r\nThe node wasn't able to recover after this error.",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1233954283/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1233974258",
    "html_url": "https://github.com/hyperledger/besu/issues/4079#issuecomment-1233974258",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/4079",
    "id": 1233974258,
    "node_id": "IC_kwDODE2jmc5JjPPy",
    "user": {
      "login": "matkt",
      "id": 26581503,
      "node_id": "MDQ6VXNlcjI2NTgxNTAz",
      "avatar_url": "https://avatars.githubusercontent.com/u/26581503?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/matkt",
      "html_url": "https://github.com/matkt",
      "followers_url": "https://api.github.com/users/matkt/followers",
      "following_url": "https://api.github.com/users/matkt/following{/other_user}",
      "gists_url": "https://api.github.com/users/matkt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/matkt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/matkt/subscriptions",
      "organizations_url": "https://api.github.com/users/matkt/orgs",
      "repos_url": "https://api.github.com/users/matkt/repos",
      "events_url": "https://api.github.com/users/matkt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/matkt/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-09-01T09:00:11Z",
    "updated_at": "2022-09-01T09:00:11Z",
    "author_association": "CONTRIBUTOR",
    "body": "I'm working on a fix for this issue https://github.com/hyperledger/besu/pull/4312",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1233974258/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1279266288",
    "html_url": "https://github.com/hyperledger/besu/issues/4079#issuecomment-1279266288",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/4079",
    "id": 1279266288,
    "node_id": "IC_kwDODE2jmc5MQA3w",
    "user": {
      "login": "felix-halim",
      "id": 1087268,
      "node_id": "MDQ6VXNlcjEwODcyNjg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1087268?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/felix-halim",
      "html_url": "https://github.com/felix-halim",
      "followers_url": "https://api.github.com/users/felix-halim/followers",
      "following_url": "https://api.github.com/users/felix-halim/following{/other_user}",
      "gists_url": "https://api.github.com/users/felix-halim/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/felix-halim/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/felix-halim/subscriptions",
      "organizations_url": "https://api.github.com/users/felix-halim/orgs",
      "repos_url": "https://api.github.com/users/felix-halim/repos",
      "events_url": "https://api.github.com/users/felix-halim/events{/privacy}",
      "received_events_url": "https://api.github.com/users/felix-halim/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-10-14T17:13:59Z",
    "updated_at": "2022-10-14T17:13:59Z",
    "author_association": "NONE",
    "body": "I'm also having the same issue, from here on, besu cannot continue syncing and stuck forever.\r\n\r\nIs there any workaround for this?\r\n\r\nHere is the detail:\r\n\r\nbesu/v22.7.6/osx-x86_64/oracle-java-13\r\n\r\n```\r\n2022-10-14 02:58:39.791-07:00 | vert.x-worker-thread-0 | ERROR | MainnetTransactionProcessor | Critical Exception Processing Transaction\r\norg.hyperledger.besu.ethereum.trie.MerkleTrieException: Unable to load trie node value for hash 0x9c3e293bec7396fe66663bc8fd3c209f3db3b2eaf57ca0d6eed1e7df3f339f51 location 0x040005\r\n  at org.hyperledger.besu.ethereum.trie.StoredNode.lambda$load$0(StoredNode.java:133)\r\n  at java.base/java.util.Optional.orElseThrow(Optional.java:401)\r\n  at org.hyperledger.besu.ethereum.trie.StoredNode.load(StoredNode.java:131)\r\n  at org.hyperledger.besu.ethereum.trie.StoredNode.accept(StoredNode.java:63)\r\n  at org.hyperledger.besu.ethereum.trie.GetVisitor.visit(GetVisitor.java:34)\r\n  at org.hyperledger.besu.ethereum.trie.ExtensionNode.accept(ExtensionNode.java:68)\r\n  at org.hyperledger.besu.ethereum.trie.StoredNode.accept(StoredNode.java:64)\r\n  at org.hyperledger.besu.ethereum.trie.GetVisitor.visit(GetVisitor.java:46)\r\n  at org.hyperledger.besu.ethereum.trie.BranchNode.accept(BranchNode.java:80)\r\n  at org.hyperledger.besu.ethereum.trie.StoredNode.accept(StoredNode.java:64)\r\n  at org.hyperledger.besu.ethereum.trie.GetVisitor.visit(GetVisitor.java:46)\r\n  at org.hyperledger.besu.ethereum.trie.BranchNode.accept(BranchNode.java:80)\r\n  at org.hyperledger.besu.ethereum.trie.StoredNode.accept(StoredNode.java:64)\r\n  at org.hyperledger.besu.ethereum.trie.StoredMerklePatriciaTrie.get(StoredMerklePatriciaTrie.java:119)\r\n  at org.hyperledger.besu.ethereum.bonsai.BonsaiWorldStateKeyValueStorage.getStorageValueBySlotHash(BonsaiWorldStateKeyValueStorage.java:200)\r\n  at org.hyperledger.besu.ethereum.bonsai.BonsaiPersistedWorldState.getStorageValueBySlotHash(BonsaiPersistedWorldState.java:381)\r\n  at org.hyperledger.besu.ethereum.bonsai.BonsaiWorldStateUpdater.getStorageValueBySlotHash(BonsaiWorldStateUpdater.java:320)\r\n  at org.hyperledger.besu.ethereum.bonsai.BonsaiWorldStateUpdater.getStorageValue(BonsaiWorldStateUpdater.java:307)\r\n  at org.hyperledger.besu.ethereum.bonsai.BonsaiAccount.getStorageValue(BonsaiAccount.java:208)\r\n  at org.hyperledger.besu.evm.worldstate.UpdateTrackingAccount.getStorageValue(UpdateTrackingAccount.java:213)\r\n  at org.hyperledger.besu.evm.worldstate.UpdateTrackingAccount.getStorageValue(UpdateTrackingAccount.java:213)\r\n  at org.hyperledger.besu.evm.worldstate.UpdateTrackingAccount.getStorageValue(UpdateTrackingAccount.java:213)\r\n  at org.hyperledger.besu.evm.worldstate.UpdateTrackingAccount.getStorageValue(UpdateTrackingAccount.java:213)\r\n  at org.hyperledger.besu.evm.operation.SLoadOperation.execute(SLoadOperation.java:61)\r\n  at org.hyperledger.besu.evm.EVM.lambda$executeNextOperation$0(EVM.java:87)\r\n  at org.hyperledger.besu.evm.tracing.OperationTracer.lambda$static$0(OperationTracer.java:27)\r\n  at org.hyperledger.besu.evm.EVM.executeNextOperation(EVM.java:81)\r\n  at org.hyperledger.besu.evm.EVM.runToHalt(EVM.java:74)\r\n  at org.hyperledger.besu.evm.processor.AbstractMessageProcessor.codeExecute(AbstractMessageProcessor.java:161)\r\n  at org.hyperledger.besu.evm.processor.AbstractMessageProcessor.process(AbstractMessageProcessor.java:173)\r\n  at org.hyperledger.besu.ethereum.mainnet.MainnetTransactionProcessor.process(MainnetTransactionProcessor.java:485)\r\n  at org.hyperledger.besu.ethereum.mainnet.MainnetTransactionProcessor.processTransaction(MainnetTransactionProcessor.java:397)\r\n  at org.hyperledger.besu.ethereum.mainnet.AbstractBlockProcessor.processBlock(AbstractBlockProcessor.java:180)\r\n  at org.hyperledger.besu.ethereum.mainnet.AbstractBlockProcessor.processBlock(AbstractBlockProcessor.java:43)\r\n  at org.hyperledger.besu.ethereum.mainnet.BlockProcessor.processBlock(BlockProcessor.java:80)\r\n  at org.hyperledger.besu.ethereum.MainnetBlockValidator.processBlock(MainnetBlockValidator.java:175)\r\n  at org.hyperledger.besu.ethereum.MainnetBlockValidator.validateAndProcessBlock(MainnetBlockValidator.java:112)\r\n  at org.hyperledger.besu.consensus.merge.blockcreation.MergeCoordinator.validateBlock(MergeCoordinator.java:343)\r\n  at org.hyperledger.besu.consensus.merge.blockcreation.MergeCoordinator.rememberBlock(MergeCoordinator.java:359)\r\n  at org.hyperledger.besu.consensus.merge.blockcreation.TransitionCoordinator.rememberBlock(TransitionCoordinator.java:137)\r\n  at org.hyperledger.besu.ethereum.api.jsonrpc.internal.methods.engine.EngineNewPayload.syncResponse(EngineNewPayload.java:215)\r\n  at org.hyperledger.besu.ethereum.api.jsonrpc.internal.methods.ExecutionEngineJsonRpcMethod.lambda$response$0(ExecutionEngineJsonRpcMethod.java:73)\r\n  at io.vertx.core.impl.ContextImpl.lambda$null$0(ContextImpl.java:159)\r\n  at io.vertx.core.impl.AbstractContext.dispatch(AbstractContext.java:100)\r\n  at io.vertx.core.impl.ContextImpl.lambda$executeBlocking$1(ContextImpl.java:157)\r\n  at io.vertx.core.impl.TaskQueue.run(TaskQueue.java:76)\r\n  at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n  at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n  at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n  at java.base/java.lang.Thread.run(Thread.java:830)\r\n2022-10-14 02:58:39.792-07:00 | vert.x-worker-thread-0 | INFO  | AbstractBlockProcessor | Block processing error: transaction invalid 'INTERNAL_ERROR'. Block 0x43b31dfd08fd7c9bc84800de57c688a6f06257c765cafad8f936c50eb69d3a44 Transaction 0x76b5eb30e3080e341e024fcd7870804c245cd43683d9fe4f99a48fc878451ef1\r\n2022-10-14 02:58:39.793-07:00 | vert.x-worker-thread-0 | ERROR | MainnetBlockValidator | Error processing block. Block 15745602 (0x43b31dfd08fd7c9bc84800de57c688a6f06257c765cafad8f936c50eb69d3a44)\r\n2022-10-14 02:58:39.794-07:00 | vert.x-worker-thread-0 | WARN  | EngineNewPayload | Invalid new payload: number: 15745602, hash: 0x43b31dfd08fd7c9bc84800de57c688a6f06257c765cafad8f936c50eb69d3a44, parentHash: 0xffe76145e90fd25733ad76011877acb562047954aa54fc83c89a425a41c1d1b8, latestValidHash: 0xffe76145e90fd25733ad76011877acb562047954aa54fc83c89a425a41c1d1b8, status: INVALID, validationError: Error processing block\r\n2022-10-14 03:00:37.118-07:00 | vert.x-eventloop-thread-2 | WARN  | EngineQosTimer | Execution engine not called in 120 seconds, consensus client may not be connected\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1279266288/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1279521962",
    "html_url": "https://github.com/hyperledger/besu/issues/4079#issuecomment-1279521962",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/4079",
    "id": 1279521962,
    "node_id": "IC_kwDODE2jmc5MQ_Sq",
    "user": {
      "login": "sJJdGG",
      "id": 25764288,
      "node_id": "MDQ6VXNlcjI1NzY0Mjg4",
      "avatar_url": "https://avatars.githubusercontent.com/u/25764288?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sJJdGG",
      "html_url": "https://github.com/sJJdGG",
      "followers_url": "https://api.github.com/users/sJJdGG/followers",
      "following_url": "https://api.github.com/users/sJJdGG/following{/other_user}",
      "gists_url": "https://api.github.com/users/sJJdGG/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sJJdGG/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sJJdGG/subscriptions",
      "organizations_url": "https://api.github.com/users/sJJdGG/orgs",
      "repos_url": "https://api.github.com/users/sJJdGG/repos",
      "events_url": "https://api.github.com/users/sJJdGG/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sJJdGG/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-10-14T22:12:05Z",
    "updated_at": "2022-10-14T22:12:05Z",
    "author_association": "NONE",
    "body": "Getting the same error in a new besu/lighthouse setup starting from fresh. here's the error:\r\n```\r\nsudo journalctl -fu besu\r\nOct 14 21:51:01 Starship besu[717887]: 2022-10-14 21:51:01.729+00:00 | main | INFO  | Besu | Using LibEthPairings native alt bn128\r\nOct 14 21:51:01 Starship besu[717887]: 2022-10-14 21:51:01.731+00:00 | main | INFO  | Besu | Using the native implementation of the signature algorithm\r\nOct 14 21:51:01 Starship besu[717887]: 2022-10-14 21:51:01.734+00:00 | main | INFO  | Besu | Using the native implementation of the blake2bf algorithm\r\nOct 14 21:51:01 Starship besu[717887]: 2022-10-14 21:51:01.736+00:00 | main | INFO  | Besu | Starting Besu version: besu/v22.7.6/linux-x86_64/openjdk-java-11\r\nOct 14 21:51:01 Starship besu[717887]: 2022-10-14 21:51:01.903+00:00 | main | INFO  | Besu | Static Nodes file = /var/lib/besu/static-nodes.json\r\nOct 14 21:51:01 Starship besu[717887]: 2022-10-14 21:51:01.904+00:00 | main | INFO  | StaticNodesParser | StaticNodes file /var/lib/besu/static-nodes.json does not exist, no static connections will be created.\r\nOct 14 21:51:01 Starship besu[717887]: 2022-10-14 21:51:01.904+00:00 | main | INFO  | Besu | Connecting to 0 static nodes.\r\nOct 14 21:51:01 Starship besu[717887]: 2022-10-14 21:51:01.906+00:00 | main | INFO  | Besu | Security Module: localfile\r\nOct 14 21:51:01 Starship besu[717887]: 2022-10-14 21:51:01.915+00:00 | main | INFO  | DatabaseMetadata | Lookup database metadata file in data directory: /var/lib/besu\r\nOct 14 21:51:01 Starship besu[717887]: 2022-10-14 21:51:01.944+00:00 | main | INFO  | RocksDBKeyValueStorageFactory | Existing database detected at /var/lib/besu. Version 2\r\nOct 14 21:51:19 Starship besu[717887]: 2022-10-14 21:51:19.736+00:00 | main | WARN  | Besu | --tx-pool-future-max-by-account has been deprecated, use --tx-pool-limit-by-account-percentage instead.\r\nOct 14 21:51:19 Starship besu[717887]: 2022-10-14 21:51:19.748+00:00 | main | INFO  | KeyPairUtil | Loaded public key 0x037e8c2b7fabb415ec8042d3066993a8e25e51c2b7a9fb729b5d9c763970bfbb76053d871e70ccf1f800ecb6e4639d43ba3a528fa7ac69f19d66e4df32fa3092 from /var/lib/besu/key\r\nOct 14 21:51:19 Starship besu[717887]: 2022-10-14 21:51:19.841+00:00 | main | INFO  | ProtocolScheduleBuilder | Protocol schedule created with milestones: [Frontier: 0, Homestead: 1150000, DaoRecoveryInit: 1920000, DaoRecoveryTransition: 1920001, Homestead: 1920010, TangerineWhistle: 2463000, SpuriousDragon: 2675000, Byzantium: 4370000, Petersburg: 7280000, Istanbul: 9069000, MuirGlacier: 9200000, Berlin: 12244000, London: 12965000, ArrowGlacier: 13773000, GrayGlacier: 15050000]\r\nOct 14 21:51:19 Starship besu[717887]: 2022-10-14 21:51:19.857+00:00 | main | INFO  | ProtocolScheduleBuilder | Protocol schedule created with milestones: [Frontier: 0, Homestead: 1150000, DaoRecoveryInit: 1920000, DaoRecoveryTransition: 1920001, Homestead: 1920010, TangerineWhistle: 2463000, SpuriousDragon: 2675000, Byzantium: 4370000, Petersburg: 7280000, Istanbul: 9069000, MuirGlacier: 9200000, Berlin: 12244000, London: 12965000, ArrowGlacier: 13773000, GrayGlacier: 15050000]\r\nOct 14 21:51:20 Starship besu[717887]: 2022-10-14 21:51:20.185+00:00 | main | INFO  | EthPeers | Updating the default best peer comparator\r\nOct 14 21:51:20 Starship besu[717887]: 2022-10-14 21:51:20.198+00:00 | main | INFO  | BesuControllerBuilder | TTD difficulty is present, creating initial sync phase with transition to PoS support\r\nOct 14 21:51:20 Starship besu[717887]: 2022-10-14 21:51:20.203+00:00 | main | INFO  | SnapDownloaderFactory | Snap sync was requested, but cannot be enabled because the local blockchain is not empty.\r\nOct 14 21:51:20 Starship besu[717887]: 2022-10-14 21:51:20.204+00:00 | main | INFO  | TransitionBesuControllerBuilder | TTD present, creating DefaultSynchronizer that stops propagating after finalization\r\nOct 14 21:51:20 Starship besu[717887]: 2022-10-14 21:51:20.217+00:00 | main | INFO  | RunnerBuilder | Detecting NAT service.\r\nOct 14 21:51:20 Starship besu[717887]: 2022-10-14 21:51:20.378+00:00 | main | INFO  | Runner | Starting external services ...\r\nOct 14 21:51:20 Starship besu[717887]: 2022-10-14 21:51:20.379+00:00 | main | INFO  | JsonRpcService | Starting JSON-RPC service on 127.0.0.1:8551\r\nOct 14 21:51:20 Starship besu[717887]: 2022-10-14 21:51:20.431+00:00 | vert.x-eventloop-thread-1 | INFO  | JsonRpcService | JSON-RPC service started and listening on 127.0.0.1:8551\r\nOct 14 21:51:20 Starship besu[717887]: 2022-10-14 21:51:20.433+00:00 | main | INFO  | AutoTransactionLogBloomCachingService | Starting auto transaction log bloom caching service.\r\nOct 14 21:51:20 Starship besu[717887]: 2022-10-14 21:51:20.434+00:00 | main | INFO  | LogBloomCacheMetadata | Lookup cache metadata file in data directory: /var/lib/besu/caches\r\nOct 14 21:51:20 Starship besu[717887]: 2022-10-14 21:51:20.438+00:00 | main | INFO  | Runner | Starting Ethereum main loop ...\r\nOct 14 21:51:20 Starship besu[717887]: 2022-10-14 21:51:20.438+00:00 | main | INFO  | NatService | No NAT environment detected so no service could be started\r\nOct 14 21:51:20 Starship besu[717887]: 2022-10-14 21:51:20.438+00:00 | main | INFO  | NetworkRunner | Starting Network.\r\nOct 14 21:51:20 Starship besu[717887]: 2022-10-14 21:51:20.440+00:00 | main | INFO  | DefaultP2PNetwork | Starting DNS discovery with URL enrtree://AKA3AM6LPBYEUDMVNU3BSVQJ5AD45Y7YPOHJLEF6W26QOE4VTUDPE@all.mainnet.ethdisco.net\r\nOct 14 21:51:20 Starship besu[717887]: 2022-10-14 21:51:20.477+00:00 | nioEventLoopGroup-2-1 | INFO  | RlpxAgent | P2P RLPx agent started and listening on /0:0:0:0:0:0:0:0:30303.\r\nOct 14 21:51:20 Starship besu[717887]: 2022-10-14 21:51:20.478+00:00 | main | INFO  | PeerDiscoveryAgent | Starting peer discovery agent on host=0.0.0.0, port=30303\r\nOct 14 21:51:20 Starship besu[717887]: 2022-10-14 21:51:20.516+00:00 | vert.x-eventloop-thread-1 | INFO  | VertxPeerDiscoveryAgent | Started peer discovery agent successfully, on effective host=0:0:0:0:0:0:0:0%0 and port=30303\r\nOct 14 21:51:20 Starship besu[717887]: 2022-10-14 21:51:20.518+00:00 | vert.x-eventloop-thread-1 | INFO  | PeerDiscoveryAgent | P2P peer discovery agent started and listening on /0:0:0:0:0:0:0:0%0:30303\r\nOct 14 21:51:20 Starship besu[717887]: 2022-10-14 21:51:20.558+00:00 | vert.x-eventloop-thread-1 | INFO  | PeerDiscoveryAgent | Writing node record to disk. NodeRecord{seq=16, publicKey=0x02037e8c2b7fabb415ec8042d3066993a8e25e51c2b7a9fb729b5d9c763970bfbb, udpAddress=Optional[/127.0.0.1:30303], tcpAddress=Optional[/127.0.0.1:30303], asBase64=-Je4QJYWUqMeo2xKDY72w2m_2Lz_C0VMX8YWN-29xBURp8PEQd_YaEnvV1WikjukNIwN9ZG3jrLeUWOG0qX16dzT-kkQg2V0aMfGhPCv0OOAgmlkgnY0gmlwhH8AAAGJc2VjcDI1NmsxoQIDfowrf6u0FeyAQtMGaZOo4l5Rwrep-3KbXZx2OXC_u4N0Y3CCdl-DdWRwgnZf, nodeId=0xbcff8021312ef362c058515d723f2d36e5214f179fbdc7312349b583edb35784, customFields={tcp=30303, udp=30303, ip=0x7f000001, eth=[[0xf0afd0e3, 0x]], id=V4, secp256k1=0x02037e8c2b7fabb415ec8042d3066993a8e25e51c2b7a9fb729b5d9c763970bfbb}}\r\nOct 14 21:51:20 Starship besu[717887]: 2022-10-14 21:51:20.595+00:00 | main | INFO  | DefaultP2PNetwork | Enode URL enode://037e8c2b7fabb415ec8042d3066993a8e25e51c2b7a9fb729b5d9c763970bfbb76053d871e70ccf1f800ecb6e4639d43ba3a528fa7ac69f19d66e4df32fa3092@127.0.0.1:30303\r\nOct 14 21:51:20 Starship besu[717887]: 2022-10-14 21:51:20.596+00:00 | main | INFO  | DefaultP2PNetwork | Node address 0x723f2d36e5214f179fbdc7312349b583edb35784\r\nOct 14 21:51:20 Starship besu[717887]: 2022-10-14 21:51:20.597+00:00 | main | INFO  | DefaultSynchronizer | Starting synchronizer.\r\nOct 14 21:51:20 Starship besu[717887]: 2022-10-14 21:51:20.599+00:00 | main | INFO  | TransactionPoolFactory | Enabling transaction pool\r\nOct 14 21:51:20 Starship besu[717887]: 2022-10-14 21:51:20.601+00:00 | main | INFO  | DefaultSynchronizer | Stopping block propagation.\r\nOct 14 21:51:20 Starship besu[717887]: 2022-10-14 21:51:20.602+00:00 | main | INFO  | DefaultSynchronizer | Stopping the pruner.\r\nOct 14 21:51:20 Starship besu[717887]: 2022-10-14 21:51:20.602+00:00 | main | INFO  | Runner | Ethereum main loop is up.\r\nOct 14 21:51:28 Starship besu[717887]: 2022-10-14 21:51:28.823+00:00 | Timer-0 | INFO  | DNSResolver | Resolved 2409 nodes\r\nOct 14 21:51:31 Starship besu[717887]: 2022-10-14 21:51:31.681+00:00 | vert.x-worker-thread-0 | ERROR | MainnetTransactionProcessor | Critical Exception Processing Transaction\r\nOct 14 21:51:31 Starship besu[717887]: org.hyperledger.besu.ethereum.trie.MerkleTrieException: Unable to load trie node value for hash 0x9c3e293bec7396fe66663bc8fd3c209f3db3b2eaf57ca0d6eed1e7df3f339f51 location 0x040005\r\nOct 14 21:51:31 Starship besu[717887]:         at org.hyperledger.besu.ethereum.trie.StoredNode.lambda$load$0(StoredNode.java:133)\r\nOct 14 21:51:31 Starship besu[717887]:         at java.base/java.util.Optional.orElseThrow(Optional.java:408)\r\nOct 14 21:51:31 Starship besu[717887]:         at org.hyperledger.besu.ethereum.trie.StoredNode.load(StoredNode.java:131)\r\nOct 14 21:51:31 Starship besu[717887]:         at org.hyperledger.besu.ethereum.trie.StoredNode.accept(StoredNode.java:63)\r\nOct 14 21:51:31 Starship besu[717887]:         at org.hyperledger.besu.ethereum.trie.GetVisitor.visit(GetVisitor.java:34)\r\nOct 14 21:51:31 Starship besu[717887]:         at org.hyperledger.besu.ethereum.trie.ExtensionNode.accept(ExtensionNode.java:68)\r\nOct 14 21:51:31 Starship besu[717887]:         at org.hyperledger.besu.ethereum.trie.StoredNode.accept(StoredNode.java:64)\r\nOct 14 21:51:31 Starship besu[717887]:         at org.hyperledger.besu.ethereum.trie.GetVisitor.visit(GetVisitor.java:46)\r\nOct 14 21:51:31 Starship besu[717887]:         at org.hyperledger.besu.ethereum.trie.BranchNode.accept(BranchNode.java:80)\r\nOct 14 21:51:31 Starship besu[717887]:         at org.hyperledger.besu.ethereum.trie.StoredNode.accept(StoredNode.java:64)\r\nOct 14 21:51:31 Starship besu[717887]:         at org.hyperledger.besu.ethereum.trie.GetVisitor.visit(GetVisitor.java:46)\r\nOct 14 21:51:31 Starship besu[717887]:         at org.hyperledger.besu.ethereum.trie.BranchNode.accept(BranchNode.java:80)\r\nOct 14 21:51:31 Starship besu[717887]:         at org.hyperledger.besu.ethereum.trie.StoredNode.accept(StoredNode.java:64)\r\nOct 14 21:51:31 Starship besu[717887]:         at org.hyperledger.besu.ethereum.trie.StoredMerklePatriciaTrie.get(StoredMerklePatriciaTrie.java:119)\r\nOct 14 21:51:31 Starship besu[717887]:         at org.hyperledger.besu.ethereum.bonsai.BonsaiWorldStateKeyValueStorage.getStorageValueBySlotHash(BonsaiWorldStateKeyValueStorage.java:200)\r\nOct 14 21:51:31 Starship besu[717887]:         at org.hyperledger.besu.ethereum.bonsai.BonsaiPersistedWorldState.getStorageValueBySlotHash(BonsaiPersistedWorldState.java:381)\r\nOct 14 21:51:31 Starship besu[717887]:         at org.hyperledger.besu.ethereum.bonsai.BonsaiWorldStateUpdater.getStorageValueBySlotHash(BonsaiWorldStateUpdater.java:320)\r\nOct 14 21:51:31 Starship besu[717887]:         at org.hyperledger.besu.ethereum.bonsai.BonsaiWorldStateUpdater.getStorageValue(BonsaiWorldStateUpdater.java:307)\r\nOct 14 21:51:31 Starship besu[717887]:         at org.hyperledger.besu.ethereum.bonsai.BonsaiAccount.getStorageValue(BonsaiAccount.java:208)\r\nOct 14 21:51:31 Starship besu[717887]:         at org.hyperledger.besu.evm.worldstate.UpdateTrackingAccount.getStorageValue(UpdateTrackingAccount.java:213)\r\nOct 14 21:51:31 Starship besu[717887]:         at org.hyperledger.besu.evm.worldstate.UpdateTrackingAccount.getStorageValue(UpdateTrackingAccount.java:213)\r\nOct 14 21:51:31 Starship besu[717887]:         at org.hyperledger.besu.evm.worldstate.UpdateTrackingAccount.getStorageValue(UpdateTrackingAccount.java:213)\r\nOct 14 21:51:31 Starship besu[717887]:         at org.hyperledger.besu.evm.worldstate.UpdateTrackingAccount.getStorageValue(UpdateTrackingAccount.java:213)\r\nOct 14 21:51:31 Starship besu[717887]:         at org.hyperledger.besu.evm.operation.SLoadOperation.execute(SLoadOperation.java:61)\r\nOct 14 21:51:31 Starship besu[717887]:         at org.hyperledger.besu.evm.EVM.lambda$executeNextOperation$0(EVM.java:87)\r\nOct 14 21:51:31 Starship besu[717887]:         at org.hyperledger.besu.evm.tracing.OperationTracer.lambda$static$0(OperationTracer.java:27)\r\nOct 14 21:51:31 Starship besu[717887]:         at org.hyperledger.besu.evm.EVM.executeNextOperation(EVM.java:81)\r\nOct 14 21:51:31 Starship besu[717887]:         at org.hyperledger.besu.evm.EVM.runToHalt(EVM.java:74)\r\nOct 14 21:51:31 Starship besu[717887]:         at org.hyperledger.besu.evm.processor.AbstractMessageProcessor.codeExecute(AbstractMessageProcessor.java:161)\r\nOct 14 21:51:31 Starship besu[717887]:         at org.hyperledger.besu.evm.processor.AbstractMessageProcessor.process(AbstractMessageProcessor.java:173)\r\nOct 14 21:51:31 Starship besu[717887]:         at org.hyperledger.besu.ethereum.mainnet.MainnetTransactionProcessor.process(MainnetTransactionProcessor.java:485)\r\nOct 14 21:51:31 Starship besu[717887]:         at org.hyperledger.besu.ethereum.mainnet.MainnetTransactionProcessor.processTransaction(MainnetTransactionProcessor.java:397)\r\nOct 14 21:51:31 Starship besu[717887]:         at org.hyperledger.besu.ethereum.mainnet.AbstractBlockProcessor.processBlock(AbstractBlockProcessor.java:180)\r\nOct 14 21:51:31 Starship besu[717887]:         at org.hyperledger.besu.ethereum.mainnet.AbstractBlockProcessor.processBlock(AbstractBlockProcessor.java:43)\r\nOct 14 21:51:31 Starship besu[717887]:         at org.hyperledger.besu.ethereum.mainnet.BlockProcessor.processBlock(BlockProcessor.java:80)\r\nOct 14 21:51:31 Starship besu[717887]:         at org.hyperledger.besu.ethereum.MainnetBlockValidator.processBlock(MainnetBlockValidator.java:175)\r\nOct 14 21:51:31 Starship besu[717887]:         at org.hyperledger.besu.ethereum.MainnetBlockValidator.validateAndProcessBlock(MainnetBlockValidator.java:112)\r\nOct 14 21:51:31 Starship besu[717887]:         at org.hyperledger.besu.consensus.merge.blockcreation.MergeCoordinator.validateBlock(MergeCoordinator.java:343)\r\nOct 14 21:51:31 Starship besu[717887]:         at org.hyperledger.besu.consensus.merge.blockcreation.MergeCoordinator.rememberBlock(MergeCoordinator.java:359)\r\nOct 14 21:51:31 Starship besu[717887]:         at org.hyperledger.besu.consensus.merge.blockcreation.TransitionCoordinator.rememberBlock(TransitionCoordinator.java:137)\r\nOct 14 21:51:31 Starship besu[717887]:         at org.hyperledger.besu.ethereum.api.jsonrpc.internal.methods.engine.EngineNewPayload.syncResponse(EngineNewPayload.java:215)\r\nOct 14 21:51:31 Starship besu[717887]:         at org.hyperledger.besu.ethereum.api.jsonrpc.internal.methods.ExecutionEngineJsonRpcMethod.lambda$response$0(ExecutionEngineJsonRpcMethod.java:73)\r\nOct 14 21:51:31 Starship besu[717887]:         at io.vertx.core.impl.ContextImpl.lambda$null$0(ContextImpl.java:159)\r\nOct 14 21:51:31 Starship besu[717887]:         at io.vertx.core.impl.AbstractContext.dispatch(AbstractContext.java:100)\r\nOct 14 21:51:31 Starship besu[717887]:         at io.vertx.core.impl.ContextImpl.lambda$executeBlocking$1(ContextImpl.java:157)\r\nOct 14 21:51:31 Starship besu[717887]:         at io.vertx.core.impl.TaskQueue.run(TaskQueue.java:76)\r\nOct 14 21:51:31 Starship besu[717887]:         at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\nOct 14 21:51:31 Starship besu[717887]:         at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\nOct 14 21:51:31 Starship besu[717887]:         at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\nOct 14 21:51:31 Starship besu[717887]:         at java.base/java.lang.Thread.run(Thread.java:829)\r\nOct 14 21:51:31 Starship besu[717887]: 2022-10-14 21:51:31.689+00:00 | vert.x-worker-thread-0 | INFO  | AbstractBlockProcessor | Block processing error: transaction invalid 'INTERNAL_ERROR'. Block 0x43b31dfd08fd7c9bc84800de57c688a6f06257c765cafad8f936c50eb69d3a44 Transaction 0x76b5eb30e3080e341e024fcd7870804c245cd43683d9fe4f99a48fc878451ef1\r\nOct 14 21:51:31 Starship besu[717887]: 2022-10-14 21:51:31.698+00:00 | vert.x-worker-thread-0 | ERROR | MainnetBlockValidator | Error processing block. Block 15745602 (0x43b31dfd08fd7c9bc84800de57c688a6f06257c765cafad8f936c50eb69d3a44)\r\n```\r\n\r\nHere's systemd sample:\r\n```\r\n[Unit]\r\nDescription=Besu Execution Client (Mainnet)\r\nWants=network-online.target\r\nAfter=network-online.target\r\n\r\n[Service]\r\nUser=besu\r\nGroup=besu\r\nType=simple\r\nRestart=always\r\nRestartSec=5\r\nEnvironment=\"JAVA_OPTS=-Xmx6g\"\r\nExecStart=/usr/local/bin/besu/bin/besu \\\r\n  --network=mainnet \\\r\n  --sync-mode=X_SNAP \\\r\n  --data-path=/var/lib/besu \\\r\n  --data-storage-format=BONSAI \\\r\n  --Xplugin-rocksdb-high-spec-enabled \\\r\n  --engine-jwt-secret=/var/lib/jwtsecret/jwt.hex\r\n\r\n[Install]\r\nWantedBy=multi-user.target\r\n```\r\n\r\nbesu version: v22.7.6\r\nlighthouse version: v3.1.2\r\n\r\n@macfarla @garyschulte @matkt Is there any repair/fix option?\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1279521962/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1304598740",
    "html_url": "https://github.com/hyperledger/besu/issues/4079#issuecomment-1304598740",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/4079",
    "id": 1304598740,
    "node_id": "IC_kwDODE2jmc5NwpjU",
    "user": {
      "login": "garyschulte",
      "id": 1238512,
      "node_id": "MDQ6VXNlcjEyMzg1MTI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1238512?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/garyschulte",
      "html_url": "https://github.com/garyschulte",
      "followers_url": "https://api.github.com/users/garyschulte/followers",
      "following_url": "https://api.github.com/users/garyschulte/following{/other_user}",
      "gists_url": "https://api.github.com/users/garyschulte/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/garyschulte/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/garyschulte/subscriptions",
      "organizations_url": "https://api.github.com/users/garyschulte/orgs",
      "repos_url": "https://api.github.com/users/garyschulte/repos",
      "events_url": "https://api.github.com/users/garyschulte/events{/privacy}",
      "received_events_url": "https://api.github.com/users/garyschulte/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-11-05T17:43:46Z",
    "updated_at": "2022-11-05T17:43:46Z",
    "author_association": "CONTRIBUTOR",
    "body": "closing as fixed by #4409",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1304598740/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
