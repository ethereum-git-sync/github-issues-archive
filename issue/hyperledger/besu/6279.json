{
  "url": "https://api.github.com/repos/hyperledger/besu/issues/6279",
  "repository_url": "https://api.github.com/repos/hyperledger/besu",
  "labels_url": "https://api.github.com/repos/hyperledger/besu/issues/6279/labels{/name}",
  "comments_url": "https://api.github.com/repos/hyperledger/besu/issues/6279/comments",
  "events_url": "https://api.github.com/repos/hyperledger/besu/issues/6279/events",
  "html_url": "https://github.com/hyperledger/besu/issues/6279",
  "id": 2036527688,
  "node_id": "I_kwDODE2jmc55YvJI",
  "number": 6279,
  "title": "segfault following \"Supplied genesis block does not match chain data stored\"",
  "user": {
    "login": "macfarla",
    "id": 2627919,
    "node_id": "MDQ6VXNlcjI2Mjc5MTk=",
    "avatar_url": "https://avatars.githubusercontent.com/u/2627919?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/macfarla",
    "html_url": "https://github.com/macfarla",
    "followers_url": "https://api.github.com/users/macfarla/followers",
    "following_url": "https://api.github.com/users/macfarla/following{/other_user}",
    "gists_url": "https://api.github.com/users/macfarla/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/macfarla/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/macfarla/subscriptions",
    "organizations_url": "https://api.github.com/users/macfarla/orgs",
    "repos_url": "https://api.github.com/users/macfarla/repos",
    "events_url": "https://api.github.com/users/macfarla/events{/privacy}",
    "received_events_url": "https://api.github.com/users/macfarla/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 1537362490,
      "node_id": "MDU6TGFiZWwxNTM3MzYyNDkw",
      "url": "https://api.github.com/repos/hyperledger/besu/labels/bug",
      "name": "bug",
      "color": "d73a4a",
      "default": true,
      "description": "Something isn't working"
    },
    {
      "id": 1921587647,
      "node_id": "MDU6TGFiZWwxOTIxNTg3NjQ3",
      "url": "https://api.github.com/repos/hyperledger/besu/labels/TeamGroot",
      "name": "TeamGroot",
      "color": "1d76db",
      "default": false,
      "description": "GH issues worked on by Groot Team"
    },
    {
      "id": 2051684044,
      "node_id": "MDU6TGFiZWwyMDUxNjg0MDQ0",
      "url": "https://api.github.com/repos/hyperledger/besu/labels/P4",
      "name": "P4",
      "color": "ccff33",
      "default": false,
      "description": "Low (ex: Node doesn't start up when the configuration file has unexpected \"end-of-line\" character)"
    },
    {
      "id": 2152224197,
      "node_id": "MDU6TGFiZWwyMTUyMjI0MTk3",
      "url": "https://api.github.com/repos/hyperledger/besu/labels/TeamRevenant",
      "name": "TeamRevenant",
      "color": "78e298",
      "default": false,
      "description": "GH issues worked on by Revenant Team"
    },
    {
      "id": 4328706977,
      "node_id": "LA_kwDODE2jmc8AAAABAgLToQ",
      "url": "https://api.github.com/repos/hyperledger/besu/labels/TeamChupa",
      "name": "TeamChupa",
      "color": "fbca04",
      "default": false,
      "description": "GH issues worked on by Chupacabara Team"
    },
    {
      "id": 4426494776,
      "node_id": "LA_kwDODE2jmc8AAAABB9bzOA",
      "url": "https://api.github.com/repos/hyperledger/besu/labels/snack",
      "name": "snack",
      "color": "fef2c0",
      "default": false,
      "description": "Small coding task"
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 3,
  "created_at": "2023-12-11T21:07:25Z",
  "updated_at": "2024-01-05T23:39:45Z",
  "closed_at": null,
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "Running on my local machine. Previously this node was syncing linea goerli. I switched the config to point to a different genesis file and startup fails which is expected. However - segfault - happens reliably, running via IDE or on command line.  \r\n\r\n```\r\n####################################################################################################\r\n#                                                                                                  #\r\n# Besu version 23.10.4-dev-fb7d8854                                                                #\r\n#                                                                                                  #\r\n# Configuration:                                                                                   #\r\n# Network: Custom genesis file specified                                                           #\r\n# Network Id: 648529                                                                               #\r\n# Data storage: Forest                                                                             #\r\n# Sync mode: Snap                                                                                  #\r\n# RPC HTTP APIs: ADMIN,ETH,NET,WEB3,PERM,DEBUG,MINER,EEA,PRIV,TXPOOL                               #\r\n# RPC HTTP port: 8565                                                                              #\r\n# Using LAYERED transaction pool implementation                                                    #\r\n# Using STACKED worldstate update mode                                                             #\r\n#                                                                                                  #\r\n# Host:                                                                                            #\r\n# Java: openjdk-java-17                                                                            #\r\n# Maximum heap size: 24.00 GB                                                                      #\r\n# OS: osx-x86_64                                                                                   #\r\n# Total memory: 96.00 GB                                                                           #\r\n# CPU cores: 12                                                                                    #\r\n#                                                                                                  #\r\n# Plugins:                                                                                         #\r\n# TOTAL = 0 of 0 plugins successfully loaded                                                       #\r\n# from /Users/sallymacfarlane/workspace/b2/build/install/besu/plugins                              #\r\n#                                                                                                  #\r\n####################################################################################################\r\n```\r\n```\r\n2023-12-11 14:32:27.769+10:00 | main | INFO  | ProtocolScheduleBuilder | Protocol schedule created with milestones: [Petersburg:0, Berlin:37044085]\r\n2023-12-11 14:32:27.850+10:00 | main | INFO  | DatabaseMetadata | Lookup database metadata file in data directory: /Users/sallymacfarlane/workspace/besu-local-nodes/workdir/besu3/data\r\n2023-12-11 14:32:27.877+10:00 | main | INFO  | RocksDBKeyValueStorageFactory | Existing database detected at /Users/sallymacfarlane/workspace/besu-local-nodes/workdir/besu3/data. Version 1. Compacting database...\r\n2023-12-11 14:32:27.878+10:00 | main | DEBUG | RocksDBKeyValueStorageFactory | FOREST mode detected, using TransactionDB.\r\n2023-12-11 14:32:29.238+10:00 | main | ERROR | Besu | Failed to start Besu Supplied genesis block does not match chain data stored in /Users/sallymacfarlane/workspace/besu-local-nodes/workdir/besu3/data.\r\nPlease specify a different data directory with --data-path, specify the original genesis file with --genesis-file or supply a testnet/mainnet option with --network.\r\npicocli.CommandLine$ParameterException: Supplied genesis block does not match chain data stored in /Users/sallymacfarlane/workspace/besu-local-nodes/workdir/besu3/data.\r\nPlease specify a different data directory with --data-path, specify the original genesis file with --genesis-file or supply a testnet/mainnet option with --network.\r\n\tat org.hyperledger.besu.cli.BesuCommand.run(BesuCommand.java:1479)\r\n\tat picocli.CommandLine.executeUserObject(CommandLine.java:2026)\r\n\tat picocli.CommandLine.access$1500(CommandLine.java:148)\r\n\tat picocli.CommandLine$RunLast.executeUserObjectOfLastSubcommandWithSameParent(CommandLine.java:2461)\r\n\tat picocli.CommandLine$RunLast.handle(CommandLine.java:2453)\r\n\tat picocli.CommandLine$RunLast.handle(CommandLine.java:2415)\r\n\tat picocli.CommandLine$AbstractParseResultHandler.execute(CommandLine.java:2273)\r\n\tat picocli.CommandLine$RunLast.execute(CommandLine.java:2417)\r\n\tat picocli.CommandLine.execute(CommandLine.java:2170)\r\n\tat org.hyperledger.besu.cli.util.ConfigOptionSearchAndRunHandler.handle(ConfigOptionSearchAndRunHandler.java:62)\r\n\tat org.hyperledger.besu.cli.util.ConfigOptionSearchAndRunHandler.handle(ConfigOptionSearchAndRunHandler.java:33)\r\n\tat picocli.CommandLine$AbstractParseResultHandler.execute(CommandLine.java:2273)\r\n\tat picocli.CommandLine$RunLast.execute(CommandLine.java:2417)\r\n\tat picocli.CommandLine.execute(CommandLine.java:2170)\r\n\tat org.hyperledger.besu.cli.BesuCommand.parse(BesuCommand.java:1625)\r\n\tat org.hyperledger.besu.cli.BesuCommand.parse(BesuCommand.java:1422)\r\n\tat org.hyperledger.besu.Besu.main(Besu.java:39)\r\nCaused by: picocli.CommandLine$ExecutionException: Supplied genesis block does not match chain data stored in /Users/sallymacfarlane/workspace/besu-local-nodes/workdir/besu3/data.\r\nPlease specify a different data directory with --data-path, specify the original genesis file with --genesis-file or supply a testnet/mainnet option with --network.\r\n\tat org.hyperledger.besu.cli.BesuCommand.buildController(BesuCommand.java:2164)\r\n\tat org.hyperledger.besu.cli.BesuCommand.initController(BesuCommand.java:2150)\r\n\tat org.hyperledger.besu.cli.BesuCommand.run(BesuCommand.java:1462)\r\n\t... 16 more\r\nCaused by: org.hyperledger.besu.util.InvalidConfigurationException: Supplied genesis block does not match chain data stored in /Users/sallymacfarlane/workspace/besu-local-nodes/workdir/besu3/data.\r\nPlease specify a different data directory with --data-path, specify the original genesis file with --genesis-file or supply a testnet/mainnet option with --network.\r\n\tat org.hyperledger.besu.ethereum.chain.DefaultBlockchain.setGenesis(DefaultBlockchain.java:785)\r\n\tat org.hyperledger.besu.ethereum.chain.DefaultBlockchain.lambda$new$0(DefaultBlockchain.java:106)\r\n\tat java.base/java.util.Optional.ifPresent(Optional.java:178)\r\n\tat org.hyperledger.besu.ethereum.chain.DefaultBlockchain.<init>(DefaultBlockchain.java:106)\r\n\tat org.hyperledger.besu.ethereum.chain.DefaultBlockchain.createMutable(DefaultBlockchain.java:228)\r\n\tat org.hyperledger.besu.controller.BesuControllerBuilder.build(BesuControllerBuilder.java:605)\r\n\tat org.hyperledger.besu.cli.BesuCommand.buildController(BesuCommand.java:2162)\r\n\t... 18 more\r\n\r\nTo display full help:\r\nbesu [COMMAND] --help\r\n#\r\n# A fatal error has been detected by the Java Runtime Environment:\r\n#\r\n#  SIGSEGV (0xb) at pc=0x00000001a670bc38, pid=27789, tid=45827\r\n#\r\n# JRE version: OpenJDK Runtime Environment Homebrew (17.0.5) (build 17.0.5+0)\r\n# Java VM: OpenJDK 64-Bit Server VM Homebrew (17.0.5+0, mixed mode, sharing, tiered, compressed oops, compressed class ptrs, g1 gc, bsd-amd64)\r\n# Problematic frame:\r\n# C  [librocksdbjni10398288656630895137.jnilib+0x3dbc38]  rocksdb::FullTypedCacheHelperFns<rocksdb::Block_kData, rocksdb::BlockCreateContext>::Create(rocksdb::Slice const&, rocksdb::Cache::CreateContext*, rocksdb::MemoryAllocator*, void**, unsigned long*)+0x7e8\r\n#\r\n# Core dump will be written. Default location: /cores/core.27789\r\n#\r\n# An error report file with more information is saved as:\r\n# /Users/sallymacfarlane/workspace/besu-local-nodes/hs_err_pid27789.log\r\n#\r\n# If you would like to submit a bug report, please visit:\r\n#   https://github.com/Homebrew/homebrew-core/issues\r\n```",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/6279/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/hyperledger/besu/issues/6279/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1850892480",
    "html_url": "https://github.com/hyperledger/besu/issues/6279#issuecomment-1850892480",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/6279",
    "id": 1850892480,
    "node_id": "IC_kwDODE2jmc5uUmDA",
    "user": {
      "login": "macfarla",
      "id": 2627919,
      "node_id": "MDQ6VXNlcjI2Mjc5MTk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2627919?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/macfarla",
      "html_url": "https://github.com/macfarla",
      "followers_url": "https://api.github.com/users/macfarla/followers",
      "following_url": "https://api.github.com/users/macfarla/following{/other_user}",
      "gists_url": "https://api.github.com/users/macfarla/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/macfarla/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/macfarla/subscriptions",
      "organizations_url": "https://api.github.com/users/macfarla/orgs",
      "repos_url": "https://api.github.com/users/macfarla/repos",
      "events_url": "https://api.github.com/users/macfarla/events{/privacy}",
      "received_events_url": "https://api.github.com/users/macfarla/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-12-11T21:10:00Z",
    "updated_at": "2023-12-11T21:10:00Z",
    "author_association": "CONTRIBUTOR",
    "body": "config file\r\n\r\n```\r\ndata-path=\"workdir/besu3/data\"\r\nlogging=\"DEBUG\"\r\nsync-mode=\"X_SNAP\"\r\nfast-sync-min-peers=1\r\n\r\nXdns-enabled=true\r\n\r\ngenesis-file=\"config/besu/genesis.json\"\r\n#genesis-file=\"config/besu/genesis-linea-goerli.json\"\r\nnode-private-key-file=\"workdir/besu3/keys/besu3.priv\"\r\n\r\nminer-enabled=false\r\nminer-coinbase=\"0x0000000000000000000000000000000000000000\"\r\n\r\n\r\np2p-host=\"1.146.127.172\"\r\np2p-port=50505\r\n\r\nmin-gas-price=0\r\n\r\nhost-allowlist=[\"*\"]\r\n\r\nrpc-http-enabled=true\r\nrpc-http-api=[\"ADMIN\",\"ETH\",\"NET\",\"WEB3\",\"PERM\",\"DEBUG\",\"MINER\",\"EEA\",\"PRIV\",\"TXPOOL\"]\r\nrpc-http-host=\"0.0.0.0\"\r\nrpc-http-port=8565\r\nrpc-http-cors-origins=[\"*\"]\r\n\r\nrpc-ws-enabled=true\r\nrpc-ws-api=[\"ADMIN\",\"ETH\",\"NET\",\"WEB3\",\"PERM\",\"DEBUG\",\"MINER\",\"EEA\",\"PRIV\",\"TXPOOL\"]\r\nrpc-ws-host=\"0.0.0.0\"\r\nrpc-ws-port=8566\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1850892480/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1850899885",
    "html_url": "https://github.com/hyperledger/besu/issues/6279#issuecomment-1850899885",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/6279",
    "id": 1850899885,
    "node_id": "IC_kwDODE2jmc5uUn2t",
    "user": {
      "login": "macfarla",
      "id": 2627919,
      "node_id": "MDQ6VXNlcjI2Mjc5MTk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2627919?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/macfarla",
      "html_url": "https://github.com/macfarla",
      "followers_url": "https://api.github.com/users/macfarla/followers",
      "following_url": "https://api.github.com/users/macfarla/following{/other_user}",
      "gists_url": "https://api.github.com/users/macfarla/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/macfarla/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/macfarla/subscriptions",
      "organizations_url": "https://api.github.com/users/macfarla/orgs",
      "repos_url": "https://api.github.com/users/macfarla/repos",
      "events_url": "https://api.github.com/users/macfarla/events{/privacy}",
      "received_events_url": "https://api.github.com/users/macfarla/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-12-11T21:15:38Z",
    "updated_at": "2023-12-11T21:15:38Z",
    "author_association": "CONTRIBUTOR",
    "body": "if I add `data-storage-format=\"BONSAI\"` to the config, I still get a segfault but with a different error\r\n```\r\n2023-12-12 07:14:15.424+10:00 | main | INFO  | ProtocolScheduleBuilder | Protocol schedule created with milestones: [Petersburg:0]\r\n2023-12-12 07:14:15.519+10:00 | main | INFO  | DatabaseMetadata | Lookup database metadata file in data directory: /Users/sallymacfarlane/workspace/besu-local-nodes/workdir/besu3/data\r\n2023-12-12 07:14:15.603+10:00 | main | INFO  | RocksDBKeyValueStorageFactory | Existing database detected at /Users/sallymacfarlane/workspace/besu-local-nodes/workdir/besu3/data. Version 1. Compacting database...\r\n2023-12-12 07:14:15.614+10:00 | main | DEBUG | RocksDBKeyValueStorageFactory | Using OptimisticTransactionDB.\r\n2023-12-12 07:14:16.488+10:00 | main | ERROR | Besu | Failed to start Besu\r\npicocli.CommandLine$ExecutionException: Column handle not found for segment TRIE_BRANCH_STORAGE\r\n\tat org.hyperledger.besu.cli.BesuCommand.buildController(BesuCommand.java:2164)\r\n\tat org.hyperledger.besu.cli.BesuCommand.initController(BesuCommand.java:2150)\r\n\tat org.hyperledger.besu.cli.BesuCommand.run(BesuCommand.java:1462)\r\n\tat picocli.CommandLine.executeUserObject(CommandLine.java:2026)\r\n\tat picocli.CommandLine.access$1500(CommandLine.java:148)\r\n\tat picocli.CommandLine$RunLast.executeUserObjectOfLastSubcommandWithSameParent(CommandLine.java:2461)\r\n\tat picocli.CommandLine$RunLast.handle(CommandLine.java:2453)\r\n\tat picocli.CommandLine$RunLast.handle(CommandLine.java:2415)\r\n\tat picocli.CommandLine$AbstractParseResultHandler.execute(CommandLine.java:2273)\r\n\tat picocli.CommandLine$RunLast.execute(CommandLine.java:2417)\r\n\tat picocli.CommandLine.execute(CommandLine.java:2170)\r\n\tat org.hyperledger.besu.cli.util.ConfigOptionSearchAndRunHandler.handle(ConfigOptionSearchAndRunHandler.java:62)\r\n\tat org.hyperledger.besu.cli.util.ConfigOptionSearchAndRunHandler.handle(ConfigOptionSearchAndRunHandler.java:33)\r\n\tat picocli.CommandLine$AbstractParseResultHandler.execute(CommandLine.java:2273)\r\n\tat picocli.CommandLine$RunLast.execute(CommandLine.java:2417)\r\n\tat picocli.CommandLine.execute(CommandLine.java:2170)\r\n\tat org.hyperledger.besu.cli.BesuCommand.parse(BesuCommand.java:1625)\r\n\tat org.hyperledger.besu.cli.BesuCommand.parse(BesuCommand.java:1422)\r\n\tat org.hyperledger.besu.Besu.main(Besu.java:39)\r\nCaused by: java.lang.RuntimeException: Column handle not found for segment TRIE_BRANCH_STORAGE\r\n\tat org.hyperledger.besu.plugin.services.storage.rocksdb.segmented.RocksDBColumnarKeyValueStorage.safeColumnHandle(RocksDBColumnarKeyValueStorage.java:305)\r\n\tat org.hyperledger.besu.plugin.services.storage.rocksdb.segmented.RocksDBColumnarKeyValueStorage.get(RocksDBColumnarKeyValueStorage.java:316)\r\n\tat org.hyperledger.besu.ethereum.bonsai.storage.BonsaiWorldStateKeyValueStorage.deriveFlatDbStrategy(BonsaiWorldStateKeyValueStorage.java:128)\r\n\tat org.hyperledger.besu.ethereum.bonsai.storage.BonsaiWorldStateKeyValueStorage.loadFlatDbStrategy(BonsaiWorldStateKeyValueStorage.java:111)\r\n\tat org.hyperledger.besu.ethereum.bonsai.storage.BonsaiWorldStateKeyValueStorage.<init>(BonsaiWorldStateKeyValueStorage.java:93)\r\n\tat org.hyperledger.besu.ethereum.storage.keyvalue.KeyValueStorageProvider.createWorldStateStorage(KeyValueStorageProvider.java:79)\r\n\tat org.hyperledger.besu.controller.BesuControllerBuilder.build(BesuControllerBuilder.java:599)\r\n\tat org.hyperledger.besu.cli.BesuCommand.buildController(BesuCommand.java:2162)\r\n\t... 18 more\r\npicocli.CommandLine$ParameterException: Column handle not found for segment TRIE_BRANCH_STORAGE\r\n\tat org.hyperledger.besu.cli.BesuCommand.run(BesuCommand.java:1479)\r\n\tat picocli.CommandLine.executeUserObject(CommandLine.java:2026)\r\n\tat picocli.CommandLine.access$1500(CommandLine.java:148)\r\n\tat picocli.CommandLine$RunLast.executeUserObjectOfLastSubcommandWithSameParent(CommandLine.java:2461)\r\n\tat picocli.CommandLine$RunLast.handle(CommandLine.java:2453)\r\n\tat picocli.CommandLine$RunLast.handle(CommandLine.java:2415)\r\n\tat picocli.CommandLine$AbstractParseResultHandler.execute(CommandLine.java:2273)\r\n\tat picocli.CommandLine$RunLast.execute(CommandLine.java:2417)\r\n\tat picocli.CommandLine.execute(CommandLine.java:2170)\r\n\tat org.hyperledger.besu.cli.util.ConfigOptionSearchAndRunHandler.handle(ConfigOptionSearchAndRunHandler.java:62)\r\n\tat org.hyperledger.besu.cli.util.ConfigOptionSearchAndRunHandler.handle(ConfigOptionSearchAndRunHandler.java:33)\r\n\tat picocli.CommandLine$AbstractParseResultHandler.execute(CommandLine.java:2273)\r\n\tat picocli.CommandLine$RunLast.execute(CommandLine.java:2417)\r\n\tat picocli.CommandLine.execute(CommandLine.java:2170)\r\n\tat org.hyperledger.besu.cli.BesuCommand.parse(BesuCommand.java:1625)\r\n\tat org.hyperledger.besu.cli.BesuCommand.parse(BesuCommand.java:1422)\r\n\tat org.hyperledger.besu.Besu.main(Besu.java:39)\r\nCaused by: picocli.CommandLine$ExecutionException: Column handle not found for segment TRIE_BRANCH_STORAGE\r\n\tat org.hyperledger.besu.cli.BesuCommand.buildController(BesuCommand.java:2164)\r\n\tat org.hyperledger.besu.cli.BesuCommand.initController(BesuCommand.java:2150)\r\n\tat org.hyperledger.besu.cli.BesuCommand.run(BesuCommand.java:1462)\r\n\t... 16 more\r\nCaused by: java.lang.RuntimeException: Column handle not found for segment TRIE_BRANCH_STORAGE\r\n\tat org.hyperledger.besu.plugin.services.storage.rocksdb.segmented.RocksDBColumnarKeyValueStorage.safeColumnHandle(RocksDBColumnarKeyValueStorage.java:305)\r\n\tat org.hyperledger.besu.plugin.services.storage.rocksdb.segmented.RocksDBColumnarKeyValueStorage.get(RocksDBColumnarKeyValueStorage.java:316)\r\n\tat org.hyperledger.besu.ethereum.bonsai.storage.BonsaiWorldStateKeyValueStorage.deriveFlatDbStrategy(BonsaiWorldStateKeyValueStorage.java:128)\r\n\tat org.hyperledger.besu.ethereum.bonsai.storage.BonsaiWorldStateKeyValueStorage.loadFlatDbStrategy(BonsaiWorldStateKeyValueStorage.java:111)\r\n\tat org.hyperledger.besu.ethereum.bonsai.storage.BonsaiWorldStateKeyValueStorage.<init>(BonsaiWorldStateKeyValueStorage.java:93)\r\n\tat org.hyperledger.besu.ethereum.storage.keyvalue.KeyValueStorageProvider.createWorldStateStorage(KeyValueStorageProvider.java:79)\r\n\tat org.hyperledger.besu.controller.BesuControllerBuilder.build(BesuControllerBuilder.java:599)\r\n\tat org.hyperledger.besu.cli.BesuCommand.buildController(BesuCommand.java:2162)\r\n\t... 18 more\r\n\r\nTo display full help:\r\nbesu [COMMAND] --help\r\n#\r\n# A fatal error has been detected by the Java Runtime Environment:\r\n#\r\n#  SIGSEGV (0xb) at pc=0x00000001a7ed1c38, pid=90444, tid=45107\r\n#\r\n# JRE version: OpenJDK Runtime Environment Homebrew (17.0.5) (build 17.0.5+0)\r\n# Java VM: OpenJDK 64-Bit Server VM Homebrew (17.0.5+0, mixed mode, sharing, tiered, compressed oops, compressed class ptrs, g1 gc, bsd-amd64)\r\n# Problematic frame:\r\n# C  [librocksdbjni7928008421506099992.jnilib+0x3dbc38]  rocksdb::FullTypedCacheHelperFns<rocksdb::Block_kData, rocksdb::BlockCreateContext>::Create(rocksdb::Slice const&, rocksdb::Cache::CreateContext*, rocksdb::MemoryAllocator*, void**, unsigned long*)+0x7e8\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1850899885/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1879383428",
    "html_url": "https://github.com/hyperledger/besu/issues/6279#issuecomment-1879383428",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/6279",
    "id": 1879383428,
    "node_id": "IC_kwDODE2jmc5wBR2E",
    "user": {
      "login": "garyschulte",
      "id": 1238512,
      "node_id": "MDQ6VXNlcjEyMzg1MTI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1238512?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/garyschulte",
      "html_url": "https://github.com/garyschulte",
      "followers_url": "https://api.github.com/users/garyschulte/followers",
      "following_url": "https://api.github.com/users/garyschulte/following{/other_user}",
      "gists_url": "https://api.github.com/users/garyschulte/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/garyschulte/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/garyschulte/subscriptions",
      "organizations_url": "https://api.github.com/users/garyschulte/orgs",
      "repos_url": "https://api.github.com/users/garyschulte/repos",
      "events_url": "https://api.github.com/users/garyschulte/events{/privacy}",
      "received_events_url": "https://api.github.com/users/garyschulte/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2024-01-05T23:39:44Z",
    "updated_at": "2024-01-05T23:39:44Z",
    "author_association": "CONTRIBUTOR",
    "body": "@macfarla are you still able to reproduce this on main?  I have tried various combinations of forest and bonsai, old devnets, linea, etc - and I haven't been able to reproduce the segfault on a Mac M* machine.  If you can still reproduce it would you attach the genesis file you are using ?",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/1879383428/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
