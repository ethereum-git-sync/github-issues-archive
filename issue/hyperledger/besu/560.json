{
  "url": "https://api.github.com/repos/hyperledger/besu/issues/560",
  "repository_url": "https://api.github.com/repos/hyperledger/besu",
  "labels_url": "https://api.github.com/repos/hyperledger/besu/issues/560/labels{/name}",
  "comments_url": "https://api.github.com/repos/hyperledger/besu/issues/560/comments",
  "events_url": "https://api.github.com/repos/hyperledger/besu/issues/560/events",
  "html_url": "https://github.com/hyperledger/besu/issues/560",
  "id": 586231343,
  "node_id": "MDU6SXNzdWU1ODYyMzEzNDM=",
  "number": 560,
  "title": "Define behaviour of admin_addPeer regarding PeerTable",
  "user": {
    "login": "timbeiko",
    "id": 9390255,
    "node_id": "MDQ6VXNlcjkzOTAyNTU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/9390255?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/timbeiko",
    "html_url": "https://github.com/timbeiko",
    "followers_url": "https://api.github.com/users/timbeiko/followers",
    "following_url": "https://api.github.com/users/timbeiko/following{/other_user}",
    "gists_url": "https://api.github.com/users/timbeiko/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/timbeiko/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/timbeiko/subscriptions",
    "organizations_url": "https://api.github.com/users/timbeiko/orgs",
    "repos_url": "https://api.github.com/users/timbeiko/repos",
    "events_url": "https://api.github.com/users/timbeiko/events{/privacy}",
    "received_events_url": "https://api.github.com/users/timbeiko/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 1537362498,
      "node_id": "MDU6TGFiZWwxNTM3MzYyNDk4",
      "url": "https://api.github.com/repos/hyperledger/besu/labels/help%20wanted",
      "name": "help wanted",
      "color": "008672",
      "default": true,
      "description": "Extra attention is needed"
    },
    {
      "id": 1537362500,
      "node_id": "MDU6TGFiZWwxNTM3MzYyNTAw",
      "url": "https://api.github.com/repos/hyperledger/besu/labels/good%20first%20issue",
      "name": "good first issue",
      "color": "7057ff",
      "default": true,
      "description": "Good for newcomers"
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 10,
  "created_at": "2020-03-23T13:59:36Z",
  "updated_at": "2020-08-05T20:29:19Z",
  "closed_at": "2020-08-05T20:29:19Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "Our current implementation of admin_addPeer only connects with the peer at wire level (DevP2P) but doesn't add it to the peer table. When we advertise nodes in discovery we advertise peers from our peer table.\n\nIf the peer is not added to the peer table, it might never be discovered by other peers in the network.\n\n*Done criteria*\n * Investigate how admin_addPeer should behave\n\n * Implement the change (if needed)\n\n * Raise docs issues if changes are needed",
  "closed_by": {
    "login": "shemnon",
    "id": 38109,
    "node_id": "MDQ6VXNlcjM4MTA5",
    "avatar_url": "https://avatars.githubusercontent.com/u/38109?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/shemnon",
    "html_url": "https://github.com/shemnon",
    "followers_url": "https://api.github.com/users/shemnon/followers",
    "following_url": "https://api.github.com/users/shemnon/following{/other_user}",
    "gists_url": "https://api.github.com/users/shemnon/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/shemnon/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/shemnon/subscriptions",
    "organizations_url": "https://api.github.com/users/shemnon/orgs",
    "repos_url": "https://api.github.com/users/shemnon/repos",
    "events_url": "https://api.github.com/users/shemnon/events{/privacy}",
    "received_events_url": "https://api.github.com/users/shemnon/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/560/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/hyperledger/besu/issues/560/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/620755272",
    "html_url": "https://github.com/hyperledger/besu/issues/560#issuecomment-620755272",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/560",
    "id": 620755272,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYyMDc1NTI3Mg==",
    "user": {
      "login": "br0tchain",
      "id": 6472741,
      "node_id": "MDQ6VXNlcjY0NzI3NDE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6472741?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/br0tchain",
      "html_url": "https://github.com/br0tchain",
      "followers_url": "https://api.github.com/users/br0tchain/followers",
      "following_url": "https://api.github.com/users/br0tchain/following{/other_user}",
      "gists_url": "https://api.github.com/users/br0tchain/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/br0tchain/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/br0tchain/subscriptions",
      "organizations_url": "https://api.github.com/users/br0tchain/orgs",
      "repos_url": "https://api.github.com/users/br0tchain/repos",
      "events_url": "https://api.github.com/users/br0tchain/events{/privacy}",
      "received_events_url": "https://api.github.com/users/br0tchain/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-04-28T17:42:38Z",
    "updated_at": "2020-04-28T17:42:38Z",
    "author_association": "CONTRIBUTOR",
    "body": "On one side, the admin_addPeer function allows to connect to the peer using RLPx protocol through a P2PNetwork and then adds it to the current maintained peers of this P2PNetwork.\r\n\r\nOn the other side, the PeerTable is maintained by the PeerDiscoveryController. This component is the entrypoint for managing the lifecycle of peers.\r\nWhen this controller handles a message for a peer that doesn't exist, it updates the PeerTable with this new peer. This way, when another peer will discover the peers on this node, it will be advertised.\r\n\r\nWith the current implementation, a peer added through the admin_addPeer command will not be stored in the PeerTable of the PeerDiscoveryController but only in the P2PNetwork peer list.\r\nIt will not be advertised through peer discovery until a message is sent to it using the PeerDiscoveryAgent. This case is very unlikely as the node which added the peer has no interest in using the discovery agent to discover a peer it already knows.\r\n\r\nAfter looking in geth for how this is implemented, the following process is triggered on the admin_addPeer command :\r\n- An event is sent through a go channel to a running server\r\n- The server tries to ping (or pong) the peer to add\r\n- If the peer is successfully pinged, it's added to the peer list\r\nWhen calling the discovery, the same server is called and the new added peer can then be advertised.\r\n\r\nThe current implementation of admin_addPeer allows to add a peer which is only known by the current peer except it's explicitly sent to the PeerDiscoveryController of the same node which is not intuitive.\r\nThe peer could be automatically \"advertisable\" if it is systematically sent to the peer discovery controller.",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/620755272/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/640421722",
    "html_url": "https://github.com/hyperledger/besu/issues/560#issuecomment-640421722",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/560",
    "id": 640421722,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY0MDQyMTcyMg==",
    "user": {
      "login": "abdelhamidbakhta",
      "id": 45264458,
      "node_id": "MDQ6VXNlcjQ1MjY0NDU4",
      "avatar_url": "https://avatars.githubusercontent.com/u/45264458?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/abdelhamidbakhta",
      "html_url": "https://github.com/abdelhamidbakhta",
      "followers_url": "https://api.github.com/users/abdelhamidbakhta/followers",
      "following_url": "https://api.github.com/users/abdelhamidbakhta/following{/other_user}",
      "gists_url": "https://api.github.com/users/abdelhamidbakhta/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/abdelhamidbakhta/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/abdelhamidbakhta/subscriptions",
      "organizations_url": "https://api.github.com/users/abdelhamidbakhta/orgs",
      "repos_url": "https://api.github.com/users/abdelhamidbakhta/repos",
      "events_url": "https://api.github.com/users/abdelhamidbakhta/events{/privacy}",
      "received_events_url": "https://api.github.com/users/abdelhamidbakhta/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-06-08T07:31:23Z",
    "updated_at": "2020-06-08T07:31:23Z",
    "author_association": "CONTRIBUTOR",
    "body": "@shemnon @lucassaldanha @mbaxter Can we take a decision regarding this issue ?\r\n@br0tchain is ready to start the implementation if we want to align with other client implementations ?",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/640421722/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/640707609",
    "html_url": "https://github.com/hyperledger/besu/issues/560#issuecomment-640707609",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/560",
    "id": 640707609,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY0MDcwNzYwOQ==",
    "user": {
      "login": "mbaxter",
      "id": 658601,
      "node_id": "MDQ6VXNlcjY1ODYwMQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/658601?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mbaxter",
      "html_url": "https://github.com/mbaxter",
      "followers_url": "https://api.github.com/users/mbaxter/followers",
      "following_url": "https://api.github.com/users/mbaxter/following{/other_user}",
      "gists_url": "https://api.github.com/users/mbaxter/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mbaxter/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mbaxter/subscriptions",
      "organizations_url": "https://api.github.com/users/mbaxter/orgs",
      "repos_url": "https://api.github.com/users/mbaxter/repos",
      "events_url": "https://api.github.com/users/mbaxter/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mbaxter/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-06-08T15:38:37Z",
    "updated_at": "2020-06-08T15:38:37Z",
    "author_association": "CONTRIBUTOR",
    "body": "Makes sense to me to match the behavior of other clients, but this is probably a question for @timbeiko .  \r\n\r\nSide note - if discovery is explicitly disabled (`?discport=0`), we shouldn't try broadcasting the peer to the discovery network.",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/640707609/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/640725546",
    "html_url": "https://github.com/hyperledger/besu/issues/560#issuecomment-640725546",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/560",
    "id": 640725546,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY0MDcyNTU0Ng==",
    "user": {
      "login": "abdelhamidbakhta",
      "id": 45264458,
      "node_id": "MDQ6VXNlcjQ1MjY0NDU4",
      "avatar_url": "https://avatars.githubusercontent.com/u/45264458?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/abdelhamidbakhta",
      "html_url": "https://github.com/abdelhamidbakhta",
      "followers_url": "https://api.github.com/users/abdelhamidbakhta/followers",
      "following_url": "https://api.github.com/users/abdelhamidbakhta/following{/other_user}",
      "gists_url": "https://api.github.com/users/abdelhamidbakhta/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/abdelhamidbakhta/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/abdelhamidbakhta/subscriptions",
      "organizations_url": "https://api.github.com/users/abdelhamidbakhta/orgs",
      "repos_url": "https://api.github.com/users/abdelhamidbakhta/repos",
      "events_url": "https://api.github.com/users/abdelhamidbakhta/events{/privacy}",
      "received_events_url": "https://api.github.com/users/abdelhamidbakhta/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-06-08T16:10:20Z",
    "updated_at": "2020-06-08T16:10:20Z",
    "author_association": "CONTRIBUTOR",
    "body": "> Makes sense to me to match the behavior of other clients, but this is probably a question for @timbeiko .\r\n> \r\n> Side note - if discovery is explicitly disabled (`?discport=0`), we shouldn't try broadcasting the peer to the discovery network.\r\n\r\nThanks @mbaxter . I will ask @timbeiko ",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/640725546/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/640901136",
    "html_url": "https://github.com/hyperledger/besu/issues/560#issuecomment-640901136",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/560",
    "id": 640901136,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY0MDkwMTEzNg==",
    "user": {
      "login": "lucassaldanha",
      "id": 1766440,
      "node_id": "MDQ6VXNlcjE3NjY0NDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1766440?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lucassaldanha",
      "html_url": "https://github.com/lucassaldanha",
      "followers_url": "https://api.github.com/users/lucassaldanha/followers",
      "following_url": "https://api.github.com/users/lucassaldanha/following{/other_user}",
      "gists_url": "https://api.github.com/users/lucassaldanha/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lucassaldanha/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lucassaldanha/subscriptions",
      "organizations_url": "https://api.github.com/users/lucassaldanha/orgs",
      "repos_url": "https://api.github.com/users/lucassaldanha/repos",
      "events_url": "https://api.github.com/users/lucassaldanha/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lucassaldanha/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-06-08T21:37:28Z",
    "updated_at": "2020-06-08T21:37:28Z",
    "author_association": "MEMBER",
    "body": "I agree with @mbaxter. Matching other clients might be the way to go.\r\n\r\nOne thing that we need to consider is that we shouldn't advertise the added peer unless we are actually connected to it.\r\n\r\nCalling admin_addPeer, adds a peer to a special list, no matter if we actually established the connection or not (it might only be able to connect later on). \r\n\r\nI believe it doesn't make sense to advertise peers that we haven't connected to.\r\n\r\nImagine a scenario in which I call admin_addPeer with the wrong IP. That connection will never be established, but if we advertise it anyway, now we have other peers trying to talk to this wrong IP.",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/640901136/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/641348532",
    "html_url": "https://github.com/hyperledger/besu/issues/560#issuecomment-641348532",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/560",
    "id": 641348532,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY0MTM0ODUzMg==",
    "user": {
      "login": "mbaxter",
      "id": 658601,
      "node_id": "MDQ6VXNlcjY1ODYwMQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/658601?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mbaxter",
      "html_url": "https://github.com/mbaxter",
      "followers_url": "https://api.github.com/users/mbaxter/followers",
      "following_url": "https://api.github.com/users/mbaxter/following{/other_user}",
      "gists_url": "https://api.github.com/users/mbaxter/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mbaxter/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mbaxter/subscriptions",
      "organizations_url": "https://api.github.com/users/mbaxter/orgs",
      "repos_url": "https://api.github.com/users/mbaxter/repos",
      "events_url": "https://api.github.com/users/mbaxter/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mbaxter/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-06-09T14:51:23Z",
    "updated_at": "2020-06-09T14:51:23Z",
    "author_association": "CONTRIBUTOR",
    "body": "> One thing that we need to consider is that we shouldn't advertise the added peer unless we are actually connected to it.\r\n\r\nI think @br0tchain is suggesting that we successfully bond to the peer (discovery ping / pong cycle) before adding it to our peer table, which should ensure that we don't broadcast invalid peers.",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/641348532/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/641403460",
    "html_url": "https://github.com/hyperledger/besu/issues/560#issuecomment-641403460",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/560",
    "id": 641403460,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY0MTQwMzQ2MA==",
    "user": {
      "login": "br0tchain",
      "id": 6472741,
      "node_id": "MDQ6VXNlcjY0NzI3NDE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6472741?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/br0tchain",
      "html_url": "https://github.com/br0tchain",
      "followers_url": "https://api.github.com/users/br0tchain/followers",
      "following_url": "https://api.github.com/users/br0tchain/following{/other_user}",
      "gists_url": "https://api.github.com/users/br0tchain/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/br0tchain/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/br0tchain/subscriptions",
      "organizations_url": "https://api.github.com/users/br0tchain/orgs",
      "repos_url": "https://api.github.com/users/br0tchain/repos",
      "events_url": "https://api.github.com/users/br0tchain/events{/privacy}",
      "received_events_url": "https://api.github.com/users/br0tchain/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-06-09T16:05:56Z",
    "updated_at": "2020-06-09T16:05:56Z",
    "author_association": "CONTRIBUTOR",
    "body": "I do, if we match the other clients' behaviour, the peer is added to the discovery table once the client has been able to successfully ping it.",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/641403460/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/642863389",
    "html_url": "https://github.com/hyperledger/besu/issues/560#issuecomment-642863389",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/560",
    "id": 642863389,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY0Mjg2MzM4OQ==",
    "user": {
      "login": "davemec",
      "id": 1975126,
      "node_id": "MDQ6VXNlcjE5NzUxMjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1975126?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/davemec",
      "html_url": "https://github.com/davemec",
      "followers_url": "https://api.github.com/users/davemec/followers",
      "following_url": "https://api.github.com/users/davemec/following{/other_user}",
      "gists_url": "https://api.github.com/users/davemec/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/davemec/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/davemec/subscriptions",
      "organizations_url": "https://api.github.com/users/davemec/orgs",
      "repos_url": "https://api.github.com/users/davemec/repos",
      "events_url": "https://api.github.com/users/davemec/events{/privacy}",
      "received_events_url": "https://api.github.com/users/davemec/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-06-11T18:43:55Z",
    "updated_at": "2020-06-11T18:43:55Z",
    "author_association": "CONTRIBUTOR",
    "body": "@br0tchain @mbaxter This sounds very similar to a change I currently have in draft review, https://github.com/hyperledger/besu/pull/1070. If you look at the 2 line change in `ethereum/p2p/src/main/java/org/hyperledger/besu/ethereum/p2p/discovery/internal/PeerDiscoveryController.java` it is no longer adding a peer to the peer table during a PING as it previously did.",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/642863389/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/642878311",
    "html_url": "https://github.com/hyperledger/besu/issues/560#issuecomment-642878311",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/560",
    "id": 642878311,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY0Mjg3ODMxMQ==",
    "user": {
      "login": "mbaxter",
      "id": 658601,
      "node_id": "MDQ6VXNlcjY1ODYwMQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/658601?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mbaxter",
      "html_url": "https://github.com/mbaxter",
      "followers_url": "https://api.github.com/users/mbaxter/followers",
      "following_url": "https://api.github.com/users/mbaxter/following{/other_user}",
      "gists_url": "https://api.github.com/users/mbaxter/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mbaxter/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mbaxter/subscriptions",
      "organizations_url": "https://api.github.com/users/mbaxter/orgs",
      "repos_url": "https://api.github.com/users/mbaxter/repos",
      "events_url": "https://api.github.com/users/mbaxter/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mbaxter/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-06-11T19:15:31Z",
    "updated_at": "2020-06-11T19:15:31Z",
    "author_association": "CONTRIBUTOR",
    "body": "@davemec - This is related, but a bit different.  We're talking about broadcasting peers out to the discovery network when they're added to our node through the `admin_addPeer` API.  So, this work basically involves initiating outbound [bonding](https://github.com/hyperledger/besu/blob/f706cdecd733f3e341947b7bc10736def8c1d6dc/ethereum/p2p/src/main/java/org/hyperledger/besu/ethereum/p2p/discovery/internal/PeerDiscoveryController.java#L439) (outgoing PING) when that operation is executed.  Your change relates to handling incoming bonding (how we respond to incoming PING's). ",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/642878311/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/642897382",
    "html_url": "https://github.com/hyperledger/besu/issues/560#issuecomment-642897382",
    "issue_url": "https://api.github.com/repos/hyperledger/besu/issues/560",
    "id": 642897382,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY0Mjg5NzM4Mg==",
    "user": {
      "login": "davemec",
      "id": 1975126,
      "node_id": "MDQ6VXNlcjE5NzUxMjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1975126?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/davemec",
      "html_url": "https://github.com/davemec",
      "followers_url": "https://api.github.com/users/davemec/followers",
      "following_url": "https://api.github.com/users/davemec/following{/other_user}",
      "gists_url": "https://api.github.com/users/davemec/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/davemec/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/davemec/subscriptions",
      "organizations_url": "https://api.github.com/users/davemec/orgs",
      "repos_url": "https://api.github.com/users/davemec/repos",
      "events_url": "https://api.github.com/users/davemec/events{/privacy}",
      "received_events_url": "https://api.github.com/users/davemec/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-06-11T19:57:31Z",
    "updated_at": "2020-06-11T19:57:31Z",
    "author_association": "CONTRIBUTOR",
    "body": "Thanks @mbaxter ",
    "reactions": {
      "url": "https://api.github.com/repos/hyperledger/besu/issues/comments/642897382/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 1,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
