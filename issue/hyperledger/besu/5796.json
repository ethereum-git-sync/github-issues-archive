{
  "url": "https://api.github.com/repos/hyperledger/besu/issues/5796",
  "repository_url": "https://api.github.com/repos/hyperledger/besu",
  "labels_url": "https://api.github.com/repos/hyperledger/besu/issues/5796/labels{/name}",
  "comments_url": "https://api.github.com/repos/hyperledger/besu/issues/5796/comments",
  "events_url": "https://api.github.com/repos/hyperledger/besu/issues/5796/events",
  "html_url": "https://github.com/hyperledger/besu/issues/5796",
  "id": 1865286099,
  "node_id": "I_kwDODE2jmc5vLgHT",
  "number": 5796,
  "title": "Bugs causing high memory usage",
  "user": {
    "login": "RogerHKW",
    "id": 135605677,
    "node_id": "U_kgDOCBUtrQ",
    "avatar_url": "https://avatars.githubusercontent.com/u/135605677?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/RogerHKW",
    "html_url": "https://github.com/RogerHKW",
    "followers_url": "https://api.github.com/users/RogerHKW/followers",
    "following_url": "https://api.github.com/users/RogerHKW/following{/other_user}",
    "gists_url": "https://api.github.com/users/RogerHKW/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/RogerHKW/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/RogerHKW/subscriptions",
    "organizations_url": "https://api.github.com/users/RogerHKW/orgs",
    "repos_url": "https://api.github.com/users/RogerHKW/repos",
    "events_url": "https://api.github.com/users/RogerHKW/events{/privacy}",
    "received_events_url": "https://api.github.com/users/RogerHKW/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 0,
  "created_at": "2023-08-24T14:26:31Z",
  "updated_at": "2023-08-24T14:27:05Z",
  "closed_at": null,
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "I was excited to install your new version, announced to fix \"bugs with memory usage\". Unfortunately the amount of memory that your software uses now is even worse than before.\n\nDespite the use of `-Xmx11G`, your previous versions were constantly using between 11 GB and 13 GB. Since the installation of version 23.7.1, my machine is totally clogged. Besu uses consistently 21 GB, leaving the absolute minimum to the kernel to work.\n\nMy configuration in `/etc/systemd/system/besu.service` :\n\n> [Unit]\nDescription=Besu Execution Client (Mainnet)\nWants=network-online.target\nAfter=network-online.target\n[Service]\nUser=besu\nGroup=besu\nType=simple\nRestart=always\nRestartSec=5\nEnvironment=\"JAVA_OPTS=-Xmx11G\"\nEnvironment=\"BESU_OPTS=-Xmx11G\"\nEnvironment=\"JAVA_OPTS=-XX:-HeapDumpOnOutOfMemoryError\"\nEnvironment=\"LD_PRELOAD=/usr/lib/x86_64-linux-gnu/libjemalloc.so\"\nExecStart=/usr/local/bin/besu/bin/besu \\\n  --network=mainnet \\\n  --sync-mode=X_SNAP \\\n  --data-path=/dev/data2TB/besu-mainnet \\\n  --data-storage-format=BONSAI \\\n  --engine-jwt-secret=/var/lib/jwtsecret/jwt.hex \\\n  --Xplugin-rocksdb-high-spec-enabled \\\n  --rpc-http-enabled \\\n  --rpc-http-api=ETH,NET,WEB3,TXPOOL \\\n  --tx-pool-max-size=65535 \\\n  --tx-pool-retention-hours=36 \\\n  --tx-pool-price-bump=2 \\\n  --tx-pool-enable-save-restore=true \\\n  --Xlayered-tx-pool=true \\\n  --Xlayered-tx-pool-max-prioritized=16384 \\\n  --Xlayered-tx-pool-layer-max-capacity=134217728 \\\n  --Xlayered-tx-pool-max-future-by-sender=8 \\\n  --max-peers=75\n[Install]\nWantedBy=multi-user.target",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/hyperledger/besu/issues/5796/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/hyperledger/besu/issues/5796/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[

]
