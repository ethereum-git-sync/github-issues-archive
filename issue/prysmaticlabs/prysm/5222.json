{
  "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/5222",
  "repository_url": "https://api.github.com/repos/prysmaticlabs/prysm",
  "labels_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/5222/labels{/name}",
  "comments_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/5222/comments",
  "events_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/5222/events",
  "html_url": "https://github.com/prysmaticlabs/prysm/issues/5222",
  "id": 588478494,
  "node_id": "MDU6SXNzdWU1ODg0Nzg0OTQ=",
  "number": 5222,
  "title": "Refactor Stateutils to a Shared Library",
  "user": {
    "login": "nisdas",
    "id": 33201827,
    "node_id": "MDQ6VXNlcjMzMjAxODI3",
    "avatar_url": "https://avatars.githubusercontent.com/u/33201827?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/nisdas",
    "html_url": "https://github.com/nisdas",
    "followers_url": "https://api.github.com/users/nisdas/followers",
    "following_url": "https://api.github.com/users/nisdas/following{/other_user}",
    "gists_url": "https://api.github.com/users/nisdas/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/nisdas/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/nisdas/subscriptions",
    "organizations_url": "https://api.github.com/users/nisdas/orgs",
    "repos_url": "https://api.github.com/users/nisdas/repos",
    "events_url": "https://api.github.com/users/nisdas/events{/privacy}",
    "received_events_url": "https://api.github.com/users/nisdas/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 802129906,
      "node_id": "MDU6TGFiZWw4MDIxMjk5MDY=",
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/labels/Enhancement",
      "name": "Enhancement",
      "color": "84b6eb",
      "default": false,
      "description": "New feature or request"
    },
    {
      "id": 802129907,
      "node_id": "MDU6TGFiZWw4MDIxMjk5MDc=",
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/labels/Help%20Wanted",
      "name": "Help Wanted",
      "color": "33aa3f",
      "default": false,
      "description": "Extra attention is needed"
    },
    {
      "id": 802129908,
      "node_id": "MDU6TGFiZWw4MDIxMjk5MDg=",
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/labels/Good%20First%20Issue",
      "name": "Good First Issue",
      "color": "7057ff",
      "default": false,
      "description": "Good for newcomers"
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 22,
  "created_at": "2020-03-26T14:48:36Z",
  "updated_at": "2020-06-18T22:37:14Z",
  "closed_at": "2020-06-18T22:37:14Z",
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": "Discussed in #5219 with @terencechain , currently stateutils has a lot of HashTreeRoot methods for non-state objects. These methods would be better lived in a shared library rather than in `stateutils` which is mostly utilities for hashing the beacon state trie. This issue is to track the refactor and clean up of this.",
  "closed_by": {
    "login": "rauljordan",
    "id": 5572669,
    "node_id": "MDQ6VXNlcjU1NzI2Njk=",
    "avatar_url": "https://avatars.githubusercontent.com/u/5572669?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/rauljordan",
    "html_url": "https://github.com/rauljordan",
    "followers_url": "https://api.github.com/users/rauljordan/followers",
    "following_url": "https://api.github.com/users/rauljordan/following{/other_user}",
    "gists_url": "https://api.github.com/users/rauljordan/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/rauljordan/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/rauljordan/subscriptions",
    "organizations_url": "https://api.github.com/users/rauljordan/orgs",
    "repos_url": "https://api.github.com/users/rauljordan/repos",
    "events_url": "https://api.github.com/users/rauljordan/events{/privacy}",
    "received_events_url": "https://api.github.com/users/rauljordan/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/5222/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/5222/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/606139834",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/5222#issuecomment-606139834",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/5222",
    "id": 606139834,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYwNjEzOTgzNA==",
    "user": {
      "login": "prestonvanloon",
      "id": 7246818,
      "node_id": "MDQ6VXNlcjcyNDY4MTg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7246818?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/prestonvanloon",
      "html_url": "https://github.com/prestonvanloon",
      "followers_url": "https://api.github.com/users/prestonvanloon/followers",
      "following_url": "https://api.github.com/users/prestonvanloon/following{/other_user}",
      "gists_url": "https://api.github.com/users/prestonvanloon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/prestonvanloon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/prestonvanloon/subscriptions",
      "organizations_url": "https://api.github.com/users/prestonvanloon/orgs",
      "repos_url": "https://api.github.com/users/prestonvanloon/repos",
      "events_url": "https://api.github.com/users/prestonvanloon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/prestonvanloon/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-03-30T17:37:11Z",
    "updated_at": "2020-03-30T17:37:11Z",
    "author_association": "MEMBER",
    "body": "Can you elaborate on this a bit more. Is this something that would be useful outside of the beacon-chain part of the project? Why should it live under `//shared`? ",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/606139834/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/613585430",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/5222#issuecomment-613585430",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/5222",
    "id": 613585430,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxMzU4NTQzMA==",
    "user": {
      "login": "rauljordan",
      "id": 5572669,
      "node_id": "MDQ6VXNlcjU1NzI2Njk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5572669?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rauljordan",
      "html_url": "https://github.com/rauljordan",
      "followers_url": "https://api.github.com/users/rauljordan/followers",
      "following_url": "https://api.github.com/users/rauljordan/following{/other_user}",
      "gists_url": "https://api.github.com/users/rauljordan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rauljordan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rauljordan/subscriptions",
      "organizations_url": "https://api.github.com/users/rauljordan/orgs",
      "repos_url": "https://api.github.com/users/rauljordan/repos",
      "events_url": "https://api.github.com/users/rauljordan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rauljordan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-04-14T17:48:04Z",
    "updated_at": "2020-04-14T17:48:04Z",
    "author_association": "CONTRIBUTOR",
    "body": "@ferranbt, would be nice to have hash tree root generated as well as part of your fast ssz library, that way we can eliminate our own custom code for it",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/613585430/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/613596668",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/5222#issuecomment-613596668",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/5222",
    "id": 613596668,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxMzU5NjY2OA==",
    "user": {
      "login": "ferranbt",
      "id": 30872539,
      "node_id": "MDQ6VXNlcjMwODcyNTM5",
      "avatar_url": "https://avatars.githubusercontent.com/u/30872539?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ferranbt",
      "html_url": "https://github.com/ferranbt",
      "followers_url": "https://api.github.com/users/ferranbt/followers",
      "following_url": "https://api.github.com/users/ferranbt/following{/other_user}",
      "gists_url": "https://api.github.com/users/ferranbt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ferranbt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ferranbt/subscriptions",
      "organizations_url": "https://api.github.com/users/ferranbt/orgs",
      "repos_url": "https://api.github.com/users/ferranbt/repos",
      "events_url": "https://api.github.com/users/ferranbt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ferranbt/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-04-14T18:10:23Z",
    "updated_at": "2020-04-14T18:10:23Z",
    "author_association": "NONE",
    "body": "I have already implemented a proof of concept of this [https://github.com/ferranbt/fastssz/tree/feature/htr](https://github.com/ferranbt/fastssz/tree/feature/htr). For now it only encodes correctly basic objects without internal structs. Overall, I think It will not allocate any memory during the process. For now, I don't think I will be able to finish it on the short run.",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/613596668/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/613729077",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/5222#issuecomment-613729077",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/5222",
    "id": 613729077,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxMzcyOTA3Nw==",
    "user": {
      "login": "nisdas",
      "id": 33201827,
      "node_id": "MDQ6VXNlcjMzMjAxODI3",
      "avatar_url": "https://avatars.githubusercontent.com/u/33201827?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nisdas",
      "html_url": "https://github.com/nisdas",
      "followers_url": "https://api.github.com/users/nisdas/followers",
      "following_url": "https://api.github.com/users/nisdas/following{/other_user}",
      "gists_url": "https://api.github.com/users/nisdas/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nisdas/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nisdas/subscriptions",
      "organizations_url": "https://api.github.com/users/nisdas/orgs",
      "repos_url": "https://api.github.com/users/nisdas/repos",
      "events_url": "https://api.github.com/users/nisdas/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nisdas/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-04-14T23:23:39Z",
    "updated_at": "2020-04-14T23:23:39Z",
    "author_association": "MEMBER",
    "body": "@prestonvanloon it contains a lot of utilities for non-state objects. Ex: A lot of the custom HTR methods for our different data structures live there. If any other part of the repo needs to do a HTR of an object, they can simply use that instead of our generic ssz library.",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/613729077/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/620204400",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/5222#issuecomment-620204400",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/5222",
    "id": 620204400,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYyMDIwNDQwMA==",
    "user": {
      "login": "shayzluf",
      "id": 5848741,
      "node_id": "MDQ6VXNlcjU4NDg3NDE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5848741?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/shayzluf",
      "html_url": "https://github.com/shayzluf",
      "followers_url": "https://api.github.com/users/shayzluf/followers",
      "following_url": "https://api.github.com/users/shayzluf/following{/other_user}",
      "gists_url": "https://api.github.com/users/shayzluf/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/shayzluf/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/shayzluf/subscriptions",
      "organizations_url": "https://api.github.com/users/shayzluf/orgs",
      "repos_url": "https://api.github.com/users/shayzluf/repos",
      "events_url": "https://api.github.com/users/shayzluf/events{/privacy}",
      "received_events_url": "https://api.github.com/users/shayzluf/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-04-27T20:05:15Z",
    "updated_at": "2020-04-27T20:05:15Z",
    "author_association": "CONTRIBUTOR",
    "body": "@terencechain please assign it back to me if you have too much on your table",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/620204400/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/620205717",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/5222#issuecomment-620205717",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/5222",
    "id": 620205717,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYyMDIwNTcxNw==",
    "user": {
      "login": "terencechain",
      "id": 21316537,
      "node_id": "MDQ6VXNlcjIxMzE2NTM3",
      "avatar_url": "https://avatars.githubusercontent.com/u/21316537?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/terencechain",
      "html_url": "https://github.com/terencechain",
      "followers_url": "https://api.github.com/users/terencechain/followers",
      "following_url": "https://api.github.com/users/terencechain/following{/other_user}",
      "gists_url": "https://api.github.com/users/terencechain/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/terencechain/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/terencechain/subscriptions",
      "organizations_url": "https://api.github.com/users/terencechain/orgs",
      "repos_url": "https://api.github.com/users/terencechain/repos",
      "events_url": "https://api.github.com/users/terencechain/events{/privacy}",
      "received_events_url": "https://api.github.com/users/terencechain/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-04-27T20:07:53Z",
    "updated_at": "2020-04-27T20:07:53Z",
    "author_association": "MEMBER",
    "body": "Better to use `Help Wanted` label here",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/620205717/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/620393497",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/5222#issuecomment-620393497",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/5222",
    "id": 620393497,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYyMDM5MzQ5Nw==",
    "user": {
      "login": "shayzluf",
      "id": 5848741,
      "node_id": "MDQ6VXNlcjU4NDg3NDE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5848741?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/shayzluf",
      "html_url": "https://github.com/shayzluf",
      "followers_url": "https://api.github.com/users/shayzluf/followers",
      "following_url": "https://api.github.com/users/shayzluf/following{/other_user}",
      "gists_url": "https://api.github.com/users/shayzluf/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/shayzluf/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/shayzluf/subscriptions",
      "organizations_url": "https://api.github.com/users/shayzluf/orgs",
      "repos_url": "https://api.github.com/users/shayzluf/repos",
      "events_url": "https://api.github.com/users/shayzluf/events{/privacy}",
      "received_events_url": "https://api.github.com/users/shayzluf/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-04-28T05:44:02Z",
    "updated_at": "2020-04-28T05:44:02Z",
    "author_association": "CONTRIBUTOR",
    "body": "thanks @terencechain for the guidance",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/620393497/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/639758463",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/5222#issuecomment-639758463",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/5222",
    "id": 639758463,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYzOTc1ODQ2Mw==",
    "user": {
      "login": "Pablosan",
      "id": 174738,
      "node_id": "MDQ6VXNlcjE3NDczOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/174738?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Pablosan",
      "html_url": "https://github.com/Pablosan",
      "followers_url": "https://api.github.com/users/Pablosan/followers",
      "following_url": "https://api.github.com/users/Pablosan/following{/other_user}",
      "gists_url": "https://api.github.com/users/Pablosan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Pablosan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Pablosan/subscriptions",
      "organizations_url": "https://api.github.com/users/Pablosan/orgs",
      "repos_url": "https://api.github.com/users/Pablosan/repos",
      "events_url": "https://api.github.com/users/Pablosan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Pablosan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-06-05T19:52:10Z",
    "updated_at": "2020-06-05T22:27:51Z",
    "author_association": "CONTRIBUTOR",
    "body": "A bit of grep'ing yielded this:\r\n```\r\n(master) % grep -nRIo \"func.*HashTreeRoot.*(.*)\" .                  ~/src/prysm/beacon-chain/state/stateutil\r\n./state_root.go:49:func HashTreeRootState(state *pb.BeaconState) ([32]byte, error)\r\n./state_root_test.go:32:func BenchmarkHashTreeRootState_Custom_512(b *testing.B)\r\n./state_root_test.go:43:func BenchmarkHashTreeRootState_Custom_16384(b *testing.B)\r\n./state_root_test.go:54:func BenchmarkHashTreeRootState_Custom_300000(b *testing.B)\r\n./state_root_test.go:65:func BenchmarkHashTreeRoot_Generic_512(b *testing.B)\r\n./state_root_test.go:76:func BenchmarkHashTreeRoot_Generic_16384(b *testing.B)\r\n./state_root_test.go:87:func BenchmarkHashTreeRoot_Generic_300000(b *testing.B)\r\n./arrays.go:20:func RootsArrayHashTreeRoot(vals [][]byte, length uint64, fieldName string) ([32]byte, error)\r\n./state_root_cache_fuzz_test.go:96:func TestHashTreeRootState_ElementsChanged_RecomputeBranch(t *testing.T)\r\n```\r\nBased on the above I believe you want:\r\n  - [ ]  two files (`state_root.go` and `arrays.go`), along with associated tests, moved into a new `/prysm/shared/htrutils` directory\r\n  - [ ] all references to funcs in these two files updated to reflect their move into the `shared` package as the `htrutils` module.\r\n\r\nHow close did I get?",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/639758463/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/639990942",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/5222#issuecomment-639990942",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/5222",
    "id": 639990942,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYzOTk5MDk0Mg==",
    "user": {
      "login": "nisdas",
      "id": 33201827,
      "node_id": "MDQ6VXNlcjMzMjAxODI3",
      "avatar_url": "https://avatars.githubusercontent.com/u/33201827?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nisdas",
      "html_url": "https://github.com/nisdas",
      "followers_url": "https://api.github.com/users/nisdas/followers",
      "following_url": "https://api.github.com/users/nisdas/following{/other_user}",
      "gists_url": "https://api.github.com/users/nisdas/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nisdas/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nisdas/subscriptions",
      "organizations_url": "https://api.github.com/users/nisdas/orgs",
      "repos_url": "https://api.github.com/users/nisdas/repos",
      "events_url": "https://api.github.com/users/nisdas/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nisdas/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-06-06T06:11:48Z",
    "updated_at": "2020-06-06T06:11:48Z",
    "author_association": "MEMBER",
    "body": "Pretty close :) , although this is referring to non state hashing methods. We need methods specifically for hashing the whole state to live there, however any other helper functions should be moved to a shared library. Ex: Hashing blocks,attestations,etc. ",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/639990942/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/640106481",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/5222#issuecomment-640106481",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/5222",
    "id": 640106481,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY0MDEwNjQ4MQ==",
    "user": {
      "login": "Pablosan",
      "id": 174738,
      "node_id": "MDQ6VXNlcjE3NDczOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/174738?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Pablosan",
      "html_url": "https://github.com/Pablosan",
      "followers_url": "https://api.github.com/users/Pablosan/followers",
      "following_url": "https://api.github.com/users/Pablosan/following{/other_user}",
      "gists_url": "https://api.github.com/users/Pablosan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Pablosan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Pablosan/subscriptions",
      "organizations_url": "https://api.github.com/users/Pablosan/orgs",
      "repos_url": "https://api.github.com/users/Pablosan/repos",
      "events_url": "https://api.github.com/users/Pablosan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Pablosan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-06-06T19:20:51Z",
    "updated_at": "2020-06-06T19:20:51Z",
    "author_association": "CONTRIBUTOR",
    "body": "Hi @nisdas and thank you for the explanation. I think I'm beginning to understand. Here is my latest approach:\r\n\r\n```\r\n(master)⚡ % find . -type f -print | grep -v \"_test.go\" | xargs grep -nRIo \"func.*[Hh]ash.*(.*)\" | grep -v \"\\*stateRootHasher\\|HashTreeRootState\"\r\n./hash_function.go:25:func NewHasherFunc(h HashFn)\r\n./hash_function.go:34:func (h *HasherFunc) Hash(a []byte)\r\n./hash_function.go:39:func (h *HasherFunc) Combi(a [32]byte, b [32]byte)\r\n./hash_function.go:46:func (h *HasherFunc) MixIn(a [32]byte, i uint64)\r\n./state_root.go:258:func CheckpointRoot(hasher HashFn, checkpoint *ethpb.Checkpoint) ([32]byte, error)\r\n./arrays.go:20:func RootsArrayHashTreeRoot(vals [][]byte, length uint64, fieldName string) ([32]byte, error)\r\n./merkleize.go:70:func Merkleize(hasher Hasher, count uint64, limit uint64, leaf func(i uint64) []byte) (out [32]byte)\r\n./merkleize.go:136:func ConstructProof(hasher Hasher, count uint64, limit uint64, leaf func(i uint64) []byte, index uint64) (branch [][32]byte)\r\n./validators.go:65:func ValidatorRoot(hasher HashFn, validator *ethpb.Validator) ([32]byte, error)\r\n./attestations.go:28:func PendingAttestationRoot(hasher HashFn, att *pb.PendingAttestation) ([32]byte, error)\r\n./attestations.go:97:func attestationRoot(hasher HashFn, att *ethpb.Attestation) ([32]byte, error)\r\n./attestations.go:157:func attestationDataRoot(hasher HashFn, data *ethpb.AttestationData) ([32]byte, error)\r\n./helpers.go:12:func bitlistRoot(hasher HashFn, bfield bitfield.Bitfield, maxCapacity uint64) ([32]byte, error)\r\n./helpers.go:43:func bitwiseMerkleize(hasher HashFn, chunks [][]byte, count uint64, limit uint64) ([32]byte, error)\r\n./helpers.go:55:func bitwiseMerkleizeArrays(hasher HashFn, chunks [][32]byte, count uint64, limit uint64) ([32]byte, error)\r\n./blocks.go:142:func Eth1Root(hasher HashFn, eth1Data *ethpb.Eth1Data) ([32]byte, error)\r\n```\r\n\r\nI expanded my search to the entire `stateutil` package, but excluded any `func` that seemed state-related to me. So I believe this is a list of 16 candidates. I'm guessing only some of these belong in an `htrutils` shared library. A couple that stand out to me as good candidates:\r\n```\r\n./arrays.go:20:func RootsArrayHashTreeRoot(vals [][]byte, length uint64, fieldName string) ([32]byte, error)\r\n./attestations.go:28:func PendingAttestationRoot(hasher HashFn, att *pb.PendingAttestation) ([32]byte, error)\r\n./attestations.go:97:func attestationRoot(hasher HashFn, att *ethpb.Attestation) ([32]byte, error)\r\n./attestations.go:157:func attestationDataRoot(hasher HashFn, data *ethpb.AttestationData) ([32]byte, error)\r\n```\r\nAm I getting closer?\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/640106481/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/640223931",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/5222#issuecomment-640223931",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/5222",
    "id": 640223931,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY0MDIyMzkzMQ==",
    "user": {
      "login": "Pablosan",
      "id": 174738,
      "node_id": "MDQ6VXNlcjE3NDczOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/174738?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Pablosan",
      "html_url": "https://github.com/Pablosan",
      "followers_url": "https://api.github.com/users/Pablosan/followers",
      "following_url": "https://api.github.com/users/Pablosan/following{/other_user}",
      "gists_url": "https://api.github.com/users/Pablosan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Pablosan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Pablosan/subscriptions",
      "organizations_url": "https://api.github.com/users/Pablosan/orgs",
      "repos_url": "https://api.github.com/users/Pablosan/repos",
      "events_url": "https://api.github.com/users/Pablosan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Pablosan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-06-07T14:03:38Z",
    "updated_at": "2020-06-07T14:03:38Z",
    "author_association": "CONTRIBUTOR",
    "body": "Continuing to study the code in different ways. Looking specifically at `attestations.go` there are only two `funcs` that require a `stateRootHasher`: `pendingAttestationRoot` and `epochAttestationsRoot`. So maybe a first step would be to move everything but those two `funcs` to `//shared`?\r\n\r\nApologies for all the questions. The distinction of what is state-related and what is not is not quite clear to me yet.",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/640223931/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/640224487",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/5222#issuecomment-640224487",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/5222",
    "id": 640224487,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY0MDIyNDQ4Nw==",
    "user": {
      "login": "nisdas",
      "id": 33201827,
      "node_id": "MDQ6VXNlcjMzMjAxODI3",
      "avatar_url": "https://avatars.githubusercontent.com/u/33201827?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nisdas",
      "html_url": "https://github.com/nisdas",
      "followers_url": "https://api.github.com/users/nisdas/followers",
      "following_url": "https://api.github.com/users/nisdas/following{/other_user}",
      "gists_url": "https://api.github.com/users/nisdas/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nisdas/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nisdas/subscriptions",
      "organizations_url": "https://api.github.com/users/nisdas/orgs",
      "repos_url": "https://api.github.com/users/nisdas/repos",
      "events_url": "https://api.github.com/users/nisdas/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nisdas/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-06-07T14:08:14Z",
    "updated_at": "2020-06-07T14:08:14Z",
    "author_association": "MEMBER",
    "body": "Hey yeap, that is getting closer. What I mean by state-related is this `*pb.BeaconState`. Basically any method that takes that as an argument, should not be touched for the most part. However any other methods that are not directly using it can be shifted over to a new package. ",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/640224487/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/640229653",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/5222#issuecomment-640229653",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/5222",
    "id": 640229653,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY0MDIyOTY1Mw==",
    "user": {
      "login": "Pablosan",
      "id": 174738,
      "node_id": "MDQ6VXNlcjE3NDczOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/174738?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Pablosan",
      "html_url": "https://github.com/Pablosan",
      "followers_url": "https://api.github.com/users/Pablosan/followers",
      "following_url": "https://api.github.com/users/Pablosan/following{/other_user}",
      "gists_url": "https://api.github.com/users/Pablosan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Pablosan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Pablosan/subscriptions",
      "organizations_url": "https://api.github.com/users/Pablosan/orgs",
      "repos_url": "https://api.github.com/users/Pablosan/repos",
      "events_url": "https://api.github.com/users/Pablosan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Pablosan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-06-07T14:44:57Z",
    "updated_at": "2020-06-07T14:44:57Z",
    "author_association": "CONTRIBUTOR",
    "body": "Thank you! I see it clearly now. Working on it.",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/640229653/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/640255454",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/5222#issuecomment-640255454",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/5222",
    "id": 640255454,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY0MDI1NTQ1NA==",
    "user": {
      "login": "Pablosan",
      "id": 174738,
      "node_id": "MDQ6VXNlcjE3NDczOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/174738?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Pablosan",
      "html_url": "https://github.com/Pablosan",
      "followers_url": "https://api.github.com/users/Pablosan/followers",
      "following_url": "https://api.github.com/users/Pablosan/following{/other_user}",
      "gists_url": "https://api.github.com/users/Pablosan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Pablosan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Pablosan/subscriptions",
      "organizations_url": "https://api.github.com/users/Pablosan/orgs",
      "repos_url": "https://api.github.com/users/Pablosan/repos",
      "events_url": "https://api.github.com/users/Pablosan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Pablosan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-06-07T17:53:47Z",
    "updated_at": "2020-06-08T03:29:32Z",
    "author_association": "CONTRIBUTOR",
    "body": "Somewhat arbitrarily I chose `func SlashingsRoot(slashings []uint64) ([32]byte, error)` in `state_root.go` as the method to move. This is one of the five methods at the end of `state_root.go` that do not require a `pbBeaconState`. This quickly pulls `helpers.go` into scope for the `bitwiseMerkleize`  and `pack` functions.\r\n\r\n`helpers.go` in turn pulls in `merkleize.go`, which doesn't appear to have any other dependencies on anything in `stateutil`. So I believe the most basic beginning for `htrutils` encompasses three files:\r\n  - helpers.go\r\n  - hash_function.go\r\n  - htrutils.go (to be created)\r\n  - merkleize.go\r\n\r\nMy WIP PR currently just contains the new `htrutils` file, but it is still in `stateutils`. The next commit on that PR will move the three files above to `//shared/htrutils`, and fix any external references to methods in those files.",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/640255454/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/645736412",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/5222#issuecomment-645736412",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/5222",
    "id": 645736412,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY0NTczNjQxMg==",
    "user": {
      "login": "Pablosan",
      "id": 174738,
      "node_id": "MDQ6VXNlcjE3NDczOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/174738?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Pablosan",
      "html_url": "https://github.com/Pablosan",
      "followers_url": "https://api.github.com/users/Pablosan/followers",
      "following_url": "https://api.github.com/users/Pablosan/following{/other_user}",
      "gists_url": "https://api.github.com/users/Pablosan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Pablosan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Pablosan/subscriptions",
      "organizations_url": "https://api.github.com/users/Pablosan/orgs",
      "repos_url": "https://api.github.com/users/Pablosan/repos",
      "events_url": "https://api.github.com/users/Pablosan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Pablosan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-06-18T02:45:31Z",
    "updated_at": "2020-06-18T02:45:31Z",
    "author_association": "CONTRIBUTOR",
    "body": "The next set of files to move:\r\n\r\n  * blocks.go\r\n  * trie_helpers.go\r\n\r\nI believe those are the last full files to move to `htrutils`. However, there may be a couple more functions in other files that could move as well. I'm also wondering if some of the functionality that is ending up in `htrutils` actually belongs in other shared libraries, namely: `blockutil`, `hashutil`, and `trieutil`.",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/645736412/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/645775898",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/5222#issuecomment-645775898",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/5222",
    "id": 645775898,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY0NTc3NTg5OA==",
    "user": {
      "login": "nisdas",
      "id": 33201827,
      "node_id": "MDQ6VXNlcjMzMjAxODI3",
      "avatar_url": "https://avatars.githubusercontent.com/u/33201827?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nisdas",
      "html_url": "https://github.com/nisdas",
      "followers_url": "https://api.github.com/users/nisdas/followers",
      "following_url": "https://api.github.com/users/nisdas/following{/other_user}",
      "gists_url": "https://api.github.com/users/nisdas/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nisdas/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nisdas/subscriptions",
      "organizations_url": "https://api.github.com/users/nisdas/orgs",
      "repos_url": "https://api.github.com/users/nisdas/repos",
      "events_url": "https://api.github.com/users/nisdas/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nisdas/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-06-18T05:08:37Z",
    "updated_at": "2020-06-18T05:08:37Z",
    "author_association": "MEMBER",
    "body": "Which functionality are you referring to ? @Pablosan , afaik all the methods threre are to do with ssz hashing only. ",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/645775898/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/646007742",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/5222#issuecomment-646007742",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/5222",
    "id": 646007742,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY0NjAwNzc0Mg==",
    "user": {
      "login": "Pablosan",
      "id": 174738,
      "node_id": "MDQ6VXNlcjE3NDczOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/174738?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Pablosan",
      "html_url": "https://github.com/Pablosan",
      "followers_url": "https://api.github.com/users/Pablosan/followers",
      "following_url": "https://api.github.com/users/Pablosan/following{/other_user}",
      "gists_url": "https://api.github.com/users/Pablosan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Pablosan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Pablosan/subscriptions",
      "organizations_url": "https://api.github.com/users/Pablosan/orgs",
      "repos_url": "https://api.github.com/users/Pablosan/repos",
      "events_url": "https://api.github.com/users/Pablosan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Pablosan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-06-18T13:12:08Z",
    "updated_at": "2020-06-18T13:12:08Z",
    "author_association": "CONTRIBUTOR",
    "body": "Just looking at `blocks.go`, there are three functions that deal with a Beacon Block: `BlockHeaderRoot`, `BlockRoot`, and `BlockBodyRoot`. The one function currently in `//shared/blockutil` deals with a `SignedBeaconBlock`. On the surface, those look like they might belong together.",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/646007742/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/646021601",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/5222#issuecomment-646021601",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/5222",
    "id": 646021601,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY0NjAyMTYwMQ==",
    "user": {
      "login": "nisdas",
      "id": 33201827,
      "node_id": "MDQ6VXNlcjMzMjAxODI3",
      "avatar_url": "https://avatars.githubusercontent.com/u/33201827?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nisdas",
      "html_url": "https://github.com/nisdas",
      "followers_url": "https://api.github.com/users/nisdas/followers",
      "following_url": "https://api.github.com/users/nisdas/following{/other_user}",
      "gists_url": "https://api.github.com/users/nisdas/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nisdas/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nisdas/subscriptions",
      "organizations_url": "https://api.github.com/users/nisdas/orgs",
      "repos_url": "https://api.github.com/users/nisdas/repos",
      "events_url": "https://api.github.com/users/nisdas/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nisdas/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-06-18T13:36:14Z",
    "updated_at": "2020-06-18T13:36:14Z",
    "author_association": "MEMBER",
    "body": "They should all still be in `htrutils` since they have to do with ssz hashing, we want to have all our ssz hashing methods in one place rather than spreading them out. ",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/646021601/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/646026163",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/5222#issuecomment-646026163",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/5222",
    "id": 646026163,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY0NjAyNjE2Mw==",
    "user": {
      "login": "Pablosan",
      "id": 174738,
      "node_id": "MDQ6VXNlcjE3NDczOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/174738?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Pablosan",
      "html_url": "https://github.com/Pablosan",
      "followers_url": "https://api.github.com/users/Pablosan/followers",
      "following_url": "https://api.github.com/users/Pablosan/following{/other_user}",
      "gists_url": "https://api.github.com/users/Pablosan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Pablosan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Pablosan/subscriptions",
      "organizations_url": "https://api.github.com/users/Pablosan/orgs",
      "repos_url": "https://api.github.com/users/Pablosan/repos",
      "events_url": "https://api.github.com/users/Pablosan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Pablosan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-06-18T13:44:27Z",
    "updated_at": "2020-06-18T13:44:27Z",
    "author_association": "CONTRIBUTOR",
    "body": "Ah, that makes sense. After digging deeper, the others (`hash_function` and `trie_helpers`) also look like they should stay in `htrutils`. Thanks for the context!",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/646026163/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/646152340",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/5222#issuecomment-646152340",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/5222",
    "id": 646152340,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY0NjE1MjM0MA==",
    "user": {
      "login": "Pablosan",
      "id": 174738,
      "node_id": "MDQ6VXNlcjE3NDczOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/174738?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Pablosan",
      "html_url": "https://github.com/Pablosan",
      "followers_url": "https://api.github.com/users/Pablosan/followers",
      "following_url": "https://api.github.com/users/Pablosan/following{/other_user}",
      "gists_url": "https://api.github.com/users/Pablosan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Pablosan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Pablosan/subscriptions",
      "organizations_url": "https://api.github.com/users/Pablosan/orgs",
      "repos_url": "https://api.github.com/users/Pablosan/repos",
      "events_url": "https://api.github.com/users/Pablosan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Pablosan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-06-18T16:37:12Z",
    "updated_at": "2020-06-18T16:37:27Z",
    "author_association": "CONTRIBUTOR",
    "body": "On further inspection I think `blocks.go` should remain in `//beacon-chain/state/stateutil`. Every func in `blocks.go` deals with an `ethpb.BeaconBlock` and trying to pull the file into `htrutils` created a circular dependency that at first glance seemed fairly straightforward to fix, until I realized that `var cachedHasher` (used throughout `stateutil`) would need to be passed in by reference thus changing the method signatures of the `blocks` funcs. When it starts looking messier by making the change I consider that a sign that it's the wrong change.\r\n\r\nI'm still looking into `trie_helpers.go`.",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/646152340/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/646171617",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/5222#issuecomment-646171617",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/5222",
    "id": 646171617,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY0NjE3MTYxNw==",
    "user": {
      "login": "Pablosan",
      "id": 174738,
      "node_id": "MDQ6VXNlcjE3NDczOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/174738?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Pablosan",
      "html_url": "https://github.com/Pablosan",
      "followers_url": "https://api.github.com/users/Pablosan/followers",
      "following_url": "https://api.github.com/users/Pablosan/following{/other_user}",
      "gists_url": "https://api.github.com/users/Pablosan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Pablosan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Pablosan/subscriptions",
      "organizations_url": "https://api.github.com/users/Pablosan/orgs",
      "repos_url": "https://api.github.com/users/Pablosan/repos",
      "events_url": "https://api.github.com/users/Pablosan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Pablosan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-06-18T16:57:10Z",
    "updated_at": "2020-06-18T16:57:10Z",
    "author_association": "CONTRIBUTOR",
    "body": "Same story for `trie_helpers.go`. It feel like it should stay in `stateutil`.",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/646171617/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/646175110",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/5222#issuecomment-646175110",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/5222",
    "id": 646175110,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY0NjE3NTExMA==",
    "user": {
      "login": "Pablosan",
      "id": 174738,
      "node_id": "MDQ6VXNlcjE3NDczOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/174738?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Pablosan",
      "html_url": "https://github.com/Pablosan",
      "followers_url": "https://api.github.com/users/Pablosan/followers",
      "following_url": "https://api.github.com/users/Pablosan/following{/other_user}",
      "gists_url": "https://api.github.com/users/Pablosan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Pablosan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Pablosan/subscriptions",
      "organizations_url": "https://api.github.com/users/Pablosan/orgs",
      "repos_url": "https://api.github.com/users/Pablosan/repos",
      "events_url": "https://api.github.com/users/Pablosan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Pablosan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-06-18T17:00:48Z",
    "updated_at": "2020-06-18T17:00:48Z",
    "author_association": "CONTRIBUTOR",
    "body": "@nisdas I also did a final review of `validators.go` and `state_root.go`. Nothing else is jumping out at me as belonging in `htrutils`. If you agree, please feel free to Close this issue.",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/646175110/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
