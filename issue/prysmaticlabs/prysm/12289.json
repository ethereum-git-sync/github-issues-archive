{
  "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/12289",
  "repository_url": "https://api.github.com/repos/prysmaticlabs/prysm",
  "labels_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/12289/labels{/name}",
  "comments_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/12289/comments",
  "events_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/12289/events",
  "html_url": "https://github.com/prysmaticlabs/prysm/issues/12289",
  "id": 1669421938,
  "node_id": "I_kwDOBvuov85jgVty",
  "number": 12289,
  "title": "Mev-boost got a good best bid with larger reward, but Prysm still built locally with a small reward.",
  "user": {
    "login": "biteric2000",
    "id": 60996182,
    "node_id": "MDQ6VXNlcjYwOTk2MTgy",
    "avatar_url": "https://avatars.githubusercontent.com/u/60996182?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/biteric2000",
    "html_url": "https://github.com/biteric2000",
    "followers_url": "https://api.github.com/users/biteric2000/followers",
    "following_url": "https://api.github.com/users/biteric2000/following{/other_user}",
    "gists_url": "https://api.github.com/users/biteric2000/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/biteric2000/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/biteric2000/subscriptions",
    "organizations_url": "https://api.github.com/users/biteric2000/orgs",
    "repos_url": "https://api.github.com/users/biteric2000/repos",
    "events_url": "https://api.github.com/users/biteric2000/events{/privacy}",
    "received_events_url": "https://api.github.com/users/biteric2000/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 802129904,
      "node_id": "MDU6TGFiZWw4MDIxMjk5MDQ=",
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/labels/Bug",
      "name": "Bug",
      "color": "ee0701",
      "default": false,
      "description": "Something isn't working"
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": {
    "login": "potuz",
    "id": 16044918,
    "node_id": "MDQ6VXNlcjE2MDQ0OTE4",
    "avatar_url": "https://avatars.githubusercontent.com/u/16044918?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/potuz",
    "html_url": "https://github.com/potuz",
    "followers_url": "https://api.github.com/users/potuz/followers",
    "following_url": "https://api.github.com/users/potuz/following{/other_user}",
    "gists_url": "https://api.github.com/users/potuz/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/potuz/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/potuz/subscriptions",
    "organizations_url": "https://api.github.com/users/potuz/orgs",
    "repos_url": "https://api.github.com/users/potuz/repos",
    "events_url": "https://api.github.com/users/potuz/events{/privacy}",
    "received_events_url": "https://api.github.com/users/potuz/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "potuz",
      "id": 16044918,
      "node_id": "MDQ6VXNlcjE2MDQ0OTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/16044918?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/potuz",
      "html_url": "https://github.com/potuz",
      "followers_url": "https://api.github.com/users/potuz/followers",
      "following_url": "https://api.github.com/users/potuz/following{/other_user}",
      "gists_url": "https://api.github.com/users/potuz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/potuz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/potuz/subscriptions",
      "organizations_url": "https://api.github.com/users/potuz/orgs",
      "repos_url": "https://api.github.com/users/potuz/repos",
      "events_url": "https://api.github.com/users/potuz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/potuz/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 1,
  "created_at": "2023-04-15T14:12:56Z",
  "updated_at": "2023-04-16T08:47:53Z",
  "closed_at": "2023-04-16T08:47:53Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "# üêû Bug Report\r\n\r\n### Description\r\nSomething really weird happened with my validator. \r\nMEV boost got a good best bid of 0.196 ETH, but Prysm still built locally without asking relay for the block body. \r\nInstead, we only got a ~0.018 ETH of local block produce reward. (Shown in the \"produced block\" tab of the fee recipient and no related \"internal transaction\" found.)\r\n\r\nThe network seems fine. Both prysm and mev log around it was normal info.\r\n\r\n## üî• Log\r\n<pre><code>[MEV-Boost log]\r\ntime=\"2023-Txxxx\" level=info msg=\"best bid\" blockHash=0xnnnnn blockNumber=xxxx method=getHeader parentHash=0xmmmmm pubkey=0xnnnnn relays=\"https://0xa7ab7a996c8584251c8f925da3170bdfd6ebc75d50f5ddc4050a6fdc77f2a3b5fce2cc750d0865e05d7228af97d69561@agnostic-relay.net\" slot=xxxxx txRoot=xxxxx value=0.195513127666416350\r\n\r\n[Prysm log]\r\n[2023-xxxx]  INFO rpc/validator: Received header with bid blockHash=0xnnnnn builderPubKey=0xnnnnn value=195513127666416350\r\n\r\n[2023-xxxx]  WARN rpc/validator: Proposer: using local execution payload because higher value builderGweiValue=195513127666416350 localBoostPercentage=100 localGweiValue=18395081606530051\r\n</code></pre>\r\n\r\nWondering what does the  \"because higher value builderGweiValue\" and \"localBoostPercentage=100\" mean. \r\n\r\nAnd apparently 0.018 ETH is of much lower value than 0.196 ETH, how could the client instead choose to build locally?\r\n\r\nPS. We double checked and never configed the minimal value to build locally option, all blocks are built default with mev relay.\r\n\r\nSoftware Versions: Prysm 4.0.2 MEV-boost 1.50\r\n\r\n### Has this worked before in a previous version?\r\nThis has never happened before.\r\nBeen staking for a long time, with a number of successfully proposed blocks. ",
  "closed_by": {
    "login": "nisdas",
    "id": 33201827,
    "node_id": "MDQ6VXNlcjMzMjAxODI3",
    "avatar_url": "https://avatars.githubusercontent.com/u/33201827?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/nisdas",
    "html_url": "https://github.com/nisdas",
    "followers_url": "https://api.github.com/users/nisdas/followers",
    "following_url": "https://api.github.com/users/nisdas/following{/other_user}",
    "gists_url": "https://api.github.com/users/nisdas/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/nisdas/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/nisdas/subscriptions",
    "organizations_url": "https://api.github.com/users/nisdas/orgs",
    "repos_url": "https://api.github.com/users/nisdas/repos",
    "events_url": "https://api.github.com/users/nisdas/events{/privacy}",
    "received_events_url": "https://api.github.com/users/nisdas/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/12289/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/12289/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/1509884811",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/12289#issuecomment-1509884811",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/12289",
    "id": 1509884811,
    "node_id": "IC_kwDOBvuov85Z_wOL",
    "user": {
      "login": "potuz",
      "id": 16044918,
      "node_id": "MDQ6VXNlcjE2MDQ0OTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/16044918?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/potuz",
      "html_url": "https://github.com/potuz",
      "followers_url": "https://api.github.com/users/potuz/followers",
      "following_url": "https://api.github.com/users/potuz/following{/other_user}",
      "gists_url": "https://api.github.com/users/potuz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/potuz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/potuz/subscriptions",
      "organizations_url": "https://api.github.com/users/potuz/orgs",
      "repos_url": "https://api.github.com/users/potuz/repos",
      "events_url": "https://api.github.com/users/potuz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/potuz/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-04-15T16:14:56Z",
    "updated_at": "2023-04-15T16:14:56Z",
    "author_association": "CONTRIBUTOR",
    "body": "Thanks, bug identified, fix coming in a couple of hours",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/1509884811/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
