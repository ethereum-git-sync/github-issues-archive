{
  "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/6037",
  "repository_url": "https://api.github.com/repos/prysmaticlabs/prysm",
  "labels_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/6037/labels{/name}",
  "comments_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/6037/comments",
  "events_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/6037/events",
  "html_url": "https://github.com/prysmaticlabs/prysm/issues/6037",
  "id": 627056907,
  "node_id": "MDU6SXNzdWU2MjcwNTY5MDc=",
  "number": 6037,
  "title": "Witti node falls out of sync",
  "user": {
    "login": "peterbitfly",
    "id": 1674920,
    "node_id": "MDQ6VXNlcjE2NzQ5MjA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1674920?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/peterbitfly",
    "html_url": "https://github.com/peterbitfly",
    "followers_url": "https://api.github.com/users/peterbitfly/followers",
    "following_url": "https://api.github.com/users/peterbitfly/following{/other_user}",
    "gists_url": "https://api.github.com/users/peterbitfly/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/peterbitfly/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/peterbitfly/subscriptions",
    "organizations_url": "https://api.github.com/users/peterbitfly/orgs",
    "repos_url": "https://api.github.com/users/peterbitfly/repos",
    "events_url": "https://api.github.com/users/peterbitfly/events{/privacy}",
    "received_events_url": "https://api.github.com/users/peterbitfly/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 802129904,
      "node_id": "MDU6TGFiZWw4MDIxMjk5MDQ=",
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/labels/Bug",
      "name": "Bug",
      "color": "ee0701",
      "default": false,
      "description": "Something isn't working"
    },
    {
      "id": 2061040048,
      "node_id": "MDU6TGFiZWwyMDYxMDQwMDQ4",
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/labels/Sync",
      "name": "Sync",
      "color": "5967ba",
      "default": false,
      "description": "Sync (regular, initial, checkpoint) related issues"
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": {
    "login": "farazdagi",
    "id": 188194,
    "node_id": "MDQ6VXNlcjE4ODE5NA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/188194?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/farazdagi",
    "html_url": "https://github.com/farazdagi",
    "followers_url": "https://api.github.com/users/farazdagi/followers",
    "following_url": "https://api.github.com/users/farazdagi/following{/other_user}",
    "gists_url": "https://api.github.com/users/farazdagi/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/farazdagi/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/farazdagi/subscriptions",
    "organizations_url": "https://api.github.com/users/farazdagi/orgs",
    "repos_url": "https://api.github.com/users/farazdagi/repos",
    "events_url": "https://api.github.com/users/farazdagi/events{/privacy}",
    "received_events_url": "https://api.github.com/users/farazdagi/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "farazdagi",
      "id": 188194,
      "node_id": "MDQ6VXNlcjE4ODE5NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/188194?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/farazdagi",
      "html_url": "https://github.com/farazdagi",
      "followers_url": "https://api.github.com/users/farazdagi/followers",
      "following_url": "https://api.github.com/users/farazdagi/following{/other_user}",
      "gists_url": "https://api.github.com/users/farazdagi/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/farazdagi/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/farazdagi/subscriptions",
      "organizations_url": "https://api.github.com/users/farazdagi/orgs",
      "repos_url": "https://api.github.com/users/farazdagi/repos",
      "events_url": "https://api.github.com/users/farazdagi/events{/privacy}",
      "received_events_url": "https://api.github.com/users/farazdagi/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 5,
  "created_at": "2020-05-29T07:22:07Z",
  "updated_at": "2020-06-29T07:35:43Z",
  "closed_at": "2020-06-29T07:35:43Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "Hello,\r\n\r\ntoday one of our witti nodes (latest witti docker image) stopped syncing. Please see the timestamped node log output below:\r\n\r\n```\r\nprysm-node-witti    | time=\"2020-05-29 00:38:25\" level=info msg=\"Validator registry information\" activeValidators=555 averageBalance=\"32.11149 ETH\" prefix=blockchain totalValidators=560\r\nprysm-node-witti    | time=\"2020-05-29 00:39:32\" level=error msg=\"Failed to handle p2p pubsub\" error=\"attestation is not aggregated\" prefix=sync topic=\"/eth2/f6775d07/beacon_aggregate_and_proof/ssz_snappy\"\r\nprysm-node-witti    | time=\"2020-05-29 00:44:48\" level=info msg=\"Starting next epoch\" epoch=457 finalizedEpoch=455 justifiedEpoch=456 prefix=blockchain previousJustifiedEpoch=455\r\nprysm-node-witti    | time=\"2020-05-29 00:44:48\" level=info msg=\"Validator registry information\" activeValidators=555 averageBalance=\"32.11188 ETH\" prefix=blockchain totalValidators=560\r\nprysm-node-witti    | time=\"2020-05-29 00:45:44\" level=error msg=\"Failed to handle p2p pubsub\" error=\"attestation is not aggregated\" prefix=sync topic=\"/eth2/f6775d07/beacon_aggregate_and_proof/ssz_snappy\"\r\nprysm-node-witti    | time=\"2020-05-29 00:47:08\" level=info msg=\"Fallen behind peers; reverting to initial sync to catch up\" currentEpoch=457 peersEpoch=455 prefix=sync syncedEpoch=454\r\nprysm-node-witti    | time=\"2020-05-29 00:47:08\" level=info msg=\"Processing block 0x9dc2c717... 14529/14635 - estimated time remaining 35m20s\" blocksPerSecond=0.1 peers=30 prefix=initial-sync\r\nprysm-node-witti    | time=\"2020-05-29 00:47:08\" level=warning msg=\"Generating missing state of slot 14527 and root 0xa3e4a874d6b20705524faa60bf5276f3d4258e4895ec44a7f9f661e188dfa371\" prefix=blockchain\r\nprysm-node-witti    | time=\"2020-05-29 01:23:45\" level=info msg=\"Peer disconnected\" active=29 peer=16Uiu2HAm1x57ZN8ufTxe9NGfvwXmPi8yUYJpnM42eGhtq1zQBUtv prefix=p2p\r\nprysm-node-witti    | time=\"2020-05-29 01:25:25\" level=info msg=\"Peer Connected\" activePeers=30 direction=2 multiAddr=\"/ip4/47.186.101.185/tcp/9000/p2p/16Uiu2HAkuSxTRRBhHe2SP27zUiGtWThHeKVTBwj892BfesmBjd7U\" peer=16Uiu2HAkuSxTRRBhHe2SP27zUiGtWThHeKVTBwj892BfesmBjd7U prefix=p2p\r\nprysm-node-witti    | time=\"2020-05-29 01:48:31\" level=warning msg=\"Subscription to new head notifier failed\" error=\"websocket: close 1006 (abnormal closure): unexpected EOF\" prefix=powchain\r\nprysm-node-witti    | time=\"2020-05-29 01:48:31\" level=info msg=\"Connected to eth1 proof-of-work chain\" endpoint=\"wss://goerli.prylabs.net/websocket\" prefix=powchain\r\nprysm-node-witti    | time=\"2020-05-29 02:45:09\" level=warning msg=\"Subscription to new head notifier failed\" error=\"websocket: close 1006 (abnormal closure): unexpected EOF\" prefix=powchain\r\nprysm-node-witti    | time=\"2020-05-29 02:45:09\" level=info msg=\"Connected to eth1 proof-of-work chain\" endpoint=\"wss://goerli.prylabs.net/websocket\" prefix=powchain\r\nprysm-node-witti    | time=\"2020-05-29 02:47:10\" level=info msg=\"Peer disconnected\" active=29 peer=16Uiu2HAkuSxTRRBhHe2SP27zUiGtWThHeKVTBwj892BfesmBjd7U prefix=p2p\r\nprysm-node-witti    | time=\"2020-05-29 02:58:35\" level=info msg=\"Peer Connected\" activePeers=30 direction=2 multiAddr=\"/ip4/3.22.120.109/tcp/9000/p2p/16Uiu2HAmUq2mSMaCLoMrU9XxC3XRkuShjW9T4oZytBoagZEqfgj8\" peer=16Uiu2HAmUq2mSMaCLoMrU9XxC3XRkuShjW9T4oZytBoagZEqfgj8 prefix=p2p\r\nprysm-node-witti    | time=\"2020-05-29 03:59:27\" level=warning msg=\"Subscription to new head notifier failed\" error=\"websocket: close 1006 (abnormal closure): unexpected EOF\" prefix=powchain\r\nprysm-node-witti    | time=\"2020-05-29 03:59:27\" level=info msg=\"Connected to eth1 proof-of-work chain\" endpoint=\"wss://goerli.prylabs.net/websocket\" prefix=powchain\r\n```",
  "closed_by": {
    "login": "farazdagi",
    "id": 188194,
    "node_id": "MDQ6VXNlcjE4ODE5NA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/188194?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/farazdagi",
    "html_url": "https://github.com/farazdagi",
    "followers_url": "https://api.github.com/users/farazdagi/followers",
    "following_url": "https://api.github.com/users/farazdagi/following{/other_user}",
    "gists_url": "https://api.github.com/users/farazdagi/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/farazdagi/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/farazdagi/subscriptions",
    "organizations_url": "https://api.github.com/users/farazdagi/orgs",
    "repos_url": "https://api.github.com/users/farazdagi/repos",
    "events_url": "https://api.github.com/users/farazdagi/events{/privacy}",
    "received_events_url": "https://api.github.com/users/farazdagi/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/6037/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/6037/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/635861533",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/6037#issuecomment-635861533",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/6037",
    "id": 635861533,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYzNTg2MTUzMw==",
    "user": {
      "login": "farazdagi",
      "id": 188194,
      "node_id": "MDQ6VXNlcjE4ODE5NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/188194?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/farazdagi",
      "html_url": "https://github.com/farazdagi",
      "followers_url": "https://api.github.com/users/farazdagi/followers",
      "following_url": "https://api.github.com/users/farazdagi/following{/other_user}",
      "gists_url": "https://api.github.com/users/farazdagi/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/farazdagi/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/farazdagi/subscriptions",
      "organizations_url": "https://api.github.com/users/farazdagi/orgs",
      "repos_url": "https://api.github.com/users/farazdagi/repos",
      "events_url": "https://api.github.com/users/farazdagi/events{/privacy}",
      "received_events_url": "https://api.github.com/users/farazdagi/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-05-29T09:03:22Z",
    "updated_at": "2020-05-29T09:03:44Z",
    "author_association": "CONTRIBUTOR",
    "body": "Thanks for reporting, do you happen to have a bit more logs? The thing is - according to logs, node fell behind peers, and initial sync was triggered, but it is not clear whether init-sync was capable to catch up and thus restore node's state, or node stayed unsynced and unable to proceed.",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/635861533/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/635864104",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/6037#issuecomment-635864104",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/6037",
    "id": 635864104,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYzNTg2NDEwNA==",
    "user": {
      "login": "peterbitfly",
      "id": 1674920,
      "node_id": "MDQ6VXNlcjE2NzQ5MjA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1674920?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/peterbitfly",
      "html_url": "https://github.com/peterbitfly",
      "followers_url": "https://api.github.com/users/peterbitfly/followers",
      "following_url": "https://api.github.com/users/peterbitfly/following{/other_user}",
      "gists_url": "https://api.github.com/users/peterbitfly/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/peterbitfly/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/peterbitfly/subscriptions",
      "organizations_url": "https://api.github.com/users/peterbitfly/orgs",
      "repos_url": "https://api.github.com/users/peterbitfly/repos",
      "events_url": "https://api.github.com/users/peterbitfly/events{/privacy}",
      "received_events_url": "https://api.github.com/users/peterbitfly/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-05-29T09:08:44Z",
    "updated_at": "2020-05-29T09:08:44Z",
    "author_association": "CONTRIBUTOR",
    "body": "Unfortunately we don't have any more log data available. After the node went out of sync the log output eventually stopped for a few hours until we restarted the node. The log message at 2020-05-29 03:59:27 is the last one the node did produce.",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/635864104/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/635865961",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/6037#issuecomment-635865961",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/6037",
    "id": 635865961,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYzNTg2NTk2MQ==",
    "user": {
      "login": "farazdagi",
      "id": 188194,
      "node_id": "MDQ6VXNlcjE4ODE5NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/188194?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/farazdagi",
      "html_url": "https://github.com/farazdagi",
      "followers_url": "https://api.github.com/users/farazdagi/followers",
      "following_url": "https://api.github.com/users/farazdagi/following{/other_user}",
      "gists_url": "https://api.github.com/users/farazdagi/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/farazdagi/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/farazdagi/subscriptions",
      "organizations_url": "https://api.github.com/users/farazdagi/orgs",
      "repos_url": "https://api.github.com/users/farazdagi/repos",
      "events_url": "https://api.github.com/users/farazdagi/events{/privacy}",
      "received_events_url": "https://api.github.com/users/farazdagi/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-05-29T09:12:41Z",
    "updated_at": "2020-05-29T09:12:41Z",
    "author_association": "CONTRIBUTOR",
    "body": "Ok, thank you. Pretty strange, will try to investigate further with the info we have in an attempt to re-produce.",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/635865961/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/642867726",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/6037#issuecomment-642867726",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/6037",
    "id": 642867726,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY0Mjg2NzcyNg==",
    "user": {
      "login": "rauljordan",
      "id": 5572669,
      "node_id": "MDQ6VXNlcjU1NzI2Njk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5572669?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rauljordan",
      "html_url": "https://github.com/rauljordan",
      "followers_url": "https://api.github.com/users/rauljordan/followers",
      "following_url": "https://api.github.com/users/rauljordan/following{/other_user}",
      "gists_url": "https://api.github.com/users/rauljordan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rauljordan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rauljordan/subscriptions",
      "organizations_url": "https://api.github.com/users/rauljordan/orgs",
      "repos_url": "https://api.github.com/users/rauljordan/repos",
      "events_url": "https://api.github.com/users/rauljordan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rauljordan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-06-11T18:52:52Z",
    "updated_at": "2020-06-11T18:52:52Z",
    "author_association": "CONTRIBUTOR",
    "body": "Please triage @farazdagi ",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/642867726/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/650987023",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/6037#issuecomment-650987023",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/6037",
    "id": 650987023,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY1MDk4NzAyMw==",
    "user": {
      "login": "farazdagi",
      "id": 188194,
      "node_id": "MDQ6VXNlcjE4ODE5NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/188194?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/farazdagi",
      "html_url": "https://github.com/farazdagi",
      "followers_url": "https://api.github.com/users/farazdagi/followers",
      "following_url": "https://api.github.com/users/farazdagi/following{/other_user}",
      "gists_url": "https://api.github.com/users/farazdagi/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/farazdagi/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/farazdagi/subscriptions",
      "organizations_url": "https://api.github.com/users/farazdagi/orgs",
      "repos_url": "https://api.github.com/users/farazdagi/repos",
      "events_url": "https://api.github.com/users/farazdagi/events{/privacy}",
      "received_events_url": "https://api.github.com/users/farazdagi/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-06-29T07:35:43Z",
    "updated_at": "2020-06-29T07:35:43Z",
    "author_association": "CONTRIBUTOR",
    "body": "Closing for now - can't re-produce the issue. Please feel free to re-open if new info becomes available.",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/650987023/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
