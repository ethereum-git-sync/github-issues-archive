{
  "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/6325",
  "repository_url": "https://api.github.com/repos/prysmaticlabs/prysm",
  "labels_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/6325/labels{/name}",
  "comments_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/6325/comments",
  "events_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/6325/events",
  "html_url": "https://github.com/prysmaticlabs/prysm/issues/6325",
  "id": 642378644,
  "node_id": "MDU6SXNzdWU2NDIzNzg2NDQ=",
  "number": 6325,
  "title": "Prsym Validator Does Not \"Wait\" On Beacon Chain and Resume as Expected",
  "user": {
    "login": "allsilent",
    "id": 65465013,
    "node_id": "MDQ6VXNlcjY1NDY1MDEz",
    "avatar_url": "https://avatars.githubusercontent.com/u/65465013?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/allsilent",
    "html_url": "https://github.com/allsilent",
    "followers_url": "https://api.github.com/users/allsilent/followers",
    "following_url": "https://api.github.com/users/allsilent/following{/other_user}",
    "gists_url": "https://api.github.com/users/allsilent/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/allsilent/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/allsilent/subscriptions",
    "organizations_url": "https://api.github.com/users/allsilent/orgs",
    "repos_url": "https://api.github.com/users/allsilent/repos",
    "events_url": "https://api.github.com/users/allsilent/events{/privacy}",
    "received_events_url": "https://api.github.com/users/allsilent/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 802129904,
      "node_id": "MDU6TGFiZWw4MDIxMjk5MDQ=",
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/labels/Bug",
      "name": "Bug",
      "color": "ee0701",
      "default": false,
      "description": "Something isn't working"
    },
    {
      "id": 1085357407,
      "node_id": "MDU6TGFiZWwxMDg1MzU3NDA3",
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/labels/Priority:%20Medium",
      "name": "Priority: Medium",
      "color": "bbf726",
      "default": false,
      "description": "Medium priority item"
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": {
    "login": "prestonvanloon",
    "id": 7246818,
    "node_id": "MDQ6VXNlcjcyNDY4MTg=",
    "avatar_url": "https://avatars.githubusercontent.com/u/7246818?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/prestonvanloon",
    "html_url": "https://github.com/prestonvanloon",
    "followers_url": "https://api.github.com/users/prestonvanloon/followers",
    "following_url": "https://api.github.com/users/prestonvanloon/following{/other_user}",
    "gists_url": "https://api.github.com/users/prestonvanloon/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/prestonvanloon/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/prestonvanloon/subscriptions",
    "organizations_url": "https://api.github.com/users/prestonvanloon/orgs",
    "repos_url": "https://api.github.com/users/prestonvanloon/repos",
    "events_url": "https://api.github.com/users/prestonvanloon/events{/privacy}",
    "received_events_url": "https://api.github.com/users/prestonvanloon/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "prestonvanloon",
      "id": 7246818,
      "node_id": "MDQ6VXNlcjcyNDY4MTg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7246818?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/prestonvanloon",
      "html_url": "https://github.com/prestonvanloon",
      "followers_url": "https://api.github.com/users/prestonvanloon/followers",
      "following_url": "https://api.github.com/users/prestonvanloon/following{/other_user}",
      "gists_url": "https://api.github.com/users/prestonvanloon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/prestonvanloon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/prestonvanloon/subscriptions",
      "organizations_url": "https://api.github.com/users/prestonvanloon/orgs",
      "repos_url": "https://api.github.com/users/prestonvanloon/repos",
      "events_url": "https://api.github.com/users/prestonvanloon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/prestonvanloon/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/milestones/3",
    "html_url": "https://github.com/prysmaticlabs/prysm/milestone/3",
    "labels_url": "https://api.github.com/repos/prysmaticlabs/prysm/milestones/3/labels",
    "id": 3141844,
    "node_id": "MDk6TWlsZXN0b25lMzE0MTg0NA==",
    "number": 3,
    "title": "Diamond",
    "description": "The Diamond Release: Ethereum Mainnet",
    "creator": {
      "login": "prestonvanloon",
      "id": 7246818,
      "node_id": "MDQ6VXNlcjcyNDY4MTg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7246818?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/prestonvanloon",
      "html_url": "https://github.com/prestonvanloon",
      "followers_url": "https://api.github.com/users/prestonvanloon/followers",
      "following_url": "https://api.github.com/users/prestonvanloon/following{/other_user}",
      "gists_url": "https://api.github.com/users/prestonvanloon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/prestonvanloon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/prestonvanloon/subscriptions",
      "organizations_url": "https://api.github.com/users/prestonvanloon/orgs",
      "repos_url": "https://api.github.com/users/prestonvanloon/repos",
      "events_url": "https://api.github.com/users/prestonvanloon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/prestonvanloon/received_events",
      "type": "User",
      "site_admin": false
    },
    "open_issues": 0,
    "closed_issues": 113,
    "state": "closed",
    "created_at": "2018-02-25T21:24:26Z",
    "updated_at": "2020-11-25T18:06:34Z",
    "due_on": "2020-11-20T08:00:00Z",
    "closed_at": "2020-11-25T18:06:34Z"
  },
  "comments": 13,
  "created_at": "2020-06-20T13:44:05Z",
  "updated_at": "2020-08-26T10:55:12Z",
  "closed_at": "2020-08-26T10:55:12Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "# üêû Bug Report\r\n\r\n### Description\r\n\r\n<!-- ‚úçÔ∏è--> \r\n**Situation:** Two services - prysmbc and prysmval. They simply call the prsym.sh script for the beacon chain node and the validators, respectively. Services are set to auto-restart on failure or reboot. Both are stable and nominal save for this issue.\r\n**Expected Behavior based on Topaz:** If restarting the services or the machine, the beacon chain and validators should restart and resume from where they left off, with a minor lapse for the BC node to re-sync up from its downtime. \r\n**Actual Behavior, New to Onyx:** With any restart of the machine or individual processes, prysmbc and prysmval restart appropriately, but prysmval is stuck on waiting for the BC, despite the BC getting back in sync, until I manually restart prsymval following that re-sync. See the output and explanation to follow.\r\n### Has this worked before in a previous version?\r\n\r\n<!-- Did this behavior use to work in the previous version? -->\r\n<!-- ‚úçÔ∏è--> Yes, the previous version in which this bug was not present was: All releases on Topaz\r\n\r\n## üî¨ Minimal Reproduction\r\n\r\n<!--\r\nPlease let us know how we can reproduce this issue. Include the exact method you used to run Prysm along with any flags used in your beacon chain and/or validator. Make sure you don't upload any confidential files or private keys.\r\n-->\r\nPrysm BC Service\r\n<pre></code>\r\n[Unit]\r\nDescription=Prysm Beacon Chain Node\r\nAfter=syslog.target network.target\r\nWants=network.target\r\n\r\n[Service]\r\nWorkingDirectory=/home/ubuntu\r\nExecStart=/mnt/ssd/prysm/prysm.sh beacon-chain --datadir /mnt/ssd/prysm --p2p-host-dns allsilent.ddns.net --grpc-gateway-port 3500 --skip-regen-historical-states\r\nUser=ubuntu\r\nGroup=ubuntu\r\nRestart=always\r\nRestartSec=5s\r\n\r\n[Install]\r\nWantedBy=multi-user.target\r\n</pre></code>\r\n\r\nPrysm Val Service\r\n<pre><code>\r\n[Unit]\r\nDescription=Prysm Validator Node\r\nAfter=syslog.target network.target prysmbc.service\r\nWants=network.target\r\n\r\n[Service]\r\nWorkingDirectory=/home/ubuntu\r\nExecStart=/mnt/ssd/prysm/prysm.sh validator --datadir /mnt/ssd/prysm --keymanager=wallet --keymanageropts=/mnt/ssd/prysm/wallet.json --graffiti \"This validator action brought to you by allsilent!\"\r\nUser=ubuntu\r\nGroup=ubuntu\r\nRestart=always\r\nRestartSec=5s\r\n\r\n[Install]\r\nWantedBy=multi-user.target\r\n</pre></code>\r\n\r\nStart/Restart the services either manually via systemctl, or by restarting the system, as they are enabled to run automatically. Any method will create this issue, as long as the BC is offline long enough to require even a few seconds of re-syncing.\r\n\r\n## üî• Error\r\n<pre><code>\r\n<!-- ‚úçÔ∏è-->\r\n.....\r\nJun 20 08:42:25 raspi2 prysm.sh[1338]: time=\"2020-06-20 08:42:25\" level=info msg=\"Checking DB\" databasePath=\"/mnt/ssd/prysm\" prefix=node\r\nJun 20 08:42:25 raspi2 prysm.sh[1338]: time=\"2020-06-20 08:42:25\" level=info msg=\"Starting validator node\" prefix=node version=\"Prysm/v1.0.0-alpha.12/802bdf5561a8c713fc2a8ae5b16cdb02b192e94a. Built at: 2020-06-17 21:46:03+00:00\"\r\nJun 20 08:42:25 raspi2 prysm.sh[1338]: time=\"2020-06-20 08:42:25\" level=warning msg=\"You are using an insecure gRPC connection. If you are running your beacon node and validator on the same machines, you can ignore this message. If you want to know how to enable secure connections, see: https://docs.prylabs.network/docs/prysm-usage/secure-grpc\" prefix=validator\r\nJun 20 08:42:25 raspi2 prysm.sh[1338]: time=\"2020-06-20 08:42:25\" level=info msg=\"Waiting for beacon chain start log from the ETH 1.0 deposit contract\" prefix=validator\r\n\r\n***Right here, prysmval will just sit and wait, even after the BC is fully synced and ready to go. Instead of just starting off on its own, it then requires me to systemctl restart prysmval, at which point it gets right back to validating***\r\n\r\n***That is, I issue the restart prysmval command, and then it has no problem***\r\n> sudo systemctl restart prysmval\r\n.....\r\nJun 20 08:44:19 raspi2 prysm.sh[1825]: time=\"2020-06-20 08:44:19\" level=info msg=\"Waiting for beacon chain start log from the ETH 1.0 deposit contract\" prefix=validator\r\nJun 20 08:44:19 raspi2 prysm.sh[1825]: time=\"2020-06-20 08:44:19\" level=info msg=\"Beacon chain started\" genesisTime=2020-06-14 05:17:24 +0000 UTC prefix=validator\r\nJun 20 08:44:19 raspi2 prysm.sh[1825]: time=\"2020-06-20 08:44:19\" level=info msg=\"Validator activated\" index=5536 prefix=validator publicKey=0xb804b8630143\r\nJun 20 08:44:19 raspi2 prysm.sh[1825]: time=\"2020-06-20 08:44:19\" level=info msg=\"Validator activated\" index=9990 prefix=validator publicKey=0x97b95a4f2da0\r\n.....\r\n</code></pre>\r\n\r\n\r\n## üåç  Your Environment\r\n\r\n**Operating System:**\r\n\r\n<pre>\r\n  <code>\r\nUbuntu 20.04 LTS Raspberry Pi 4\r\nLinux raspi2 5.4.0-1012-raspi #12-Ubuntu SMP Wed May 27 04:08:35 UTC 2020 aarch64 aarch64 aarch64 GNU/Linux\r\n  </code>\r\n</pre>\r\n\r\n**What version of Prysm are you running? (Which release)**\r\n\r\n<pre>\r\n  <code>\r\nPrysm/v1.0.0-alpha.12/802bdf5561a8c713fc2a8ae5b16cdb02b192e94a\r\n  </code>\r\n</pre>\r\n\r\n\r\n",
  "closed_by": {
    "login": "nisdas",
    "id": 33201827,
    "node_id": "MDQ6VXNlcjMzMjAxODI3",
    "avatar_url": "https://avatars.githubusercontent.com/u/33201827?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/nisdas",
    "html_url": "https://github.com/nisdas",
    "followers_url": "https://api.github.com/users/nisdas/followers",
    "following_url": "https://api.github.com/users/nisdas/following{/other_user}",
    "gists_url": "https://api.github.com/users/nisdas/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/nisdas/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/nisdas/subscriptions",
    "organizations_url": "https://api.github.com/users/nisdas/orgs",
    "repos_url": "https://api.github.com/users/nisdas/repos",
    "events_url": "https://api.github.com/users/nisdas/events{/privacy}",
    "received_events_url": "https://api.github.com/users/nisdas/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/6325/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/6325/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/648794535",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/6325#issuecomment-648794535",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/6325",
    "id": 648794535,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY0ODc5NDUzNQ==",
    "user": {
      "login": "shayzluf",
      "id": 5848741,
      "node_id": "MDQ6VXNlcjU4NDg3NDE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5848741?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/shayzluf",
      "html_url": "https://github.com/shayzluf",
      "followers_url": "https://api.github.com/users/shayzluf/followers",
      "following_url": "https://api.github.com/users/shayzluf/following{/other_user}",
      "gists_url": "https://api.github.com/users/shayzluf/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/shayzluf/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/shayzluf/subscriptions",
      "organizations_url": "https://api.github.com/users/shayzluf/orgs",
      "repos_url": "https://api.github.com/users/shayzluf/repos",
      "events_url": "https://api.github.com/users/shayzluf/events{/privacy}",
      "received_events_url": "https://api.github.com/users/shayzluf/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-06-24T12:39:08Z",
    "updated_at": "2020-06-24T12:39:08Z",
    "author_association": "CONTRIBUTOR",
    "body": "@farazdagi please reassign to me if it seems inappropriate",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/648794535/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/650379777",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/6325#issuecomment-650379777",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/6325",
    "id": 650379777,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY1MDM3OTc3Nw==",
    "user": {
      "login": "prestonvanloon",
      "id": 7246818,
      "node_id": "MDQ6VXNlcjcyNDY4MTg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7246818?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/prestonvanloon",
      "html_url": "https://github.com/prestonvanloon",
      "followers_url": "https://api.github.com/users/prestonvanloon/followers",
      "following_url": "https://api.github.com/users/prestonvanloon/following{/other_user}",
      "gists_url": "https://api.github.com/users/prestonvanloon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/prestonvanloon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/prestonvanloon/subscriptions",
      "organizations_url": "https://api.github.com/users/prestonvanloon/orgs",
      "repos_url": "https://api.github.com/users/prestonvanloon/repos",
      "events_url": "https://api.github.com/users/prestonvanloon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/prestonvanloon/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-06-26T20:15:46Z",
    "updated_at": "2020-06-26T20:15:46Z",
    "author_association": "MEMBER",
    "body": "This is related to new state management. Reassigning to @terencechain.\r\n\r\n@terencechain what can we do to solve this problem when a user shuts down their node brief (for an update) and starts resyncing from the last state checkpoint, which can be a non-trivial amount of time?\r\n\r\nWhat about saving the current finalized state as a new checkpoint upon Stop() for some service? This would allow the user to sync from the last finalized state instead of the last snapshot in the new state management.",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/650379777/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/650387408",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/6325#issuecomment-650387408",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/6325",
    "id": 650387408,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY1MDM4NzQwOA==",
    "user": {
      "login": "terencechain",
      "id": 21316537,
      "node_id": "MDQ6VXNlcjIxMzE2NTM3",
      "avatar_url": "https://avatars.githubusercontent.com/u/21316537?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/terencechain",
      "html_url": "https://github.com/terencechain",
      "followers_url": "https://api.github.com/users/terencechain/followers",
      "following_url": "https://api.github.com/users/terencechain/following{/other_user}",
      "gists_url": "https://api.github.com/users/terencechain/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/terencechain/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/terencechain/subscriptions",
      "organizations_url": "https://api.github.com/users/terencechain/orgs",
      "repos_url": "https://api.github.com/users/terencechain/repos",
      "events_url": "https://api.github.com/users/terencechain/events{/privacy}",
      "received_events_url": "https://api.github.com/users/terencechain/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-06-26T20:33:44Z",
    "updated_at": "2020-06-26T20:34:19Z",
    "author_association": "MEMBER",
    "body": "> This is related to new state management. Reassigning to @terencechain.\r\n> \r\n> @terencechain what can we do to solve this problem when a user shuts down their node brief (for an update) and starts resyncing from the last state checkpoint, which can be a non-trivial amount of time?\r\n> \r\n> What about saving the current finalized state as a new checkpoint upon Stop() for some service? This would allow the user to sync from the last finalized state instead of the last snapshot in the new state management.\r\n\r\nThere's nothing we can do without having to significantly redesign the new state mgmt. A node always start from last archived point which was the agreed design choice since day 0. (LH does this too) Starting from last finalized checkpoint means falling back to the old state design area and exposes further tradeoff to explore. Sync an extra 2048 slots (worst case) is an extra 30 seconds of time. Given there's higher priority items around, I personally won't pursue this until post mainnet. ",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/650387408/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/650431448",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/6325#issuecomment-650431448",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/6325",
    "id": 650431448,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY1MDQzMTQ0OA==",
    "user": {
      "login": "prestonvanloon",
      "id": 7246818,
      "node_id": "MDQ6VXNlcjcyNDY4MTg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7246818?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/prestonvanloon",
      "html_url": "https://github.com/prestonvanloon",
      "followers_url": "https://api.github.com/users/prestonvanloon/followers",
      "following_url": "https://api.github.com/users/prestonvanloon/following{/other_user}",
      "gists_url": "https://api.github.com/users/prestonvanloon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/prestonvanloon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/prestonvanloon/subscriptions",
      "organizations_url": "https://api.github.com/users/prestonvanloon/orgs",
      "repos_url": "https://api.github.com/users/prestonvanloon/repos",
      "events_url": "https://api.github.com/users/prestonvanloon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/prestonvanloon/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-06-26T22:28:19Z",
    "updated_at": "2020-06-26T22:29:02Z",
    "author_association": "MEMBER",
    "body": "I think we should consider this before mainnet launch. It is optimistic to think 2048 adds only 30 seconds of time to the start up (in the user report, it took two minutes). It could be several minutes or even more than 1 epoch for a beacon node to restart, find peers, and sync to head. \r\n\r\nThere must be some solution. Do we save blocks at least? \r\nAt a minimum, replaying the blocks would be faster than fetching them via sync.",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/650431448/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/650436987",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/6325#issuecomment-650436987",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/6325",
    "id": 650436987,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY1MDQzNjk4Nw==",
    "user": {
      "login": "terencechain",
      "id": 21316537,
      "node_id": "MDQ6VXNlcjIxMzE2NTM3",
      "avatar_url": "https://avatars.githubusercontent.com/u/21316537?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/terencechain",
      "html_url": "https://github.com/terencechain",
      "followers_url": "https://api.github.com/users/terencechain/followers",
      "following_url": "https://api.github.com/users/terencechain/following{/other_user}",
      "gists_url": "https://api.github.com/users/terencechain/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/terencechain/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/terencechain/subscriptions",
      "organizations_url": "https://api.github.com/users/terencechain/orgs",
      "repos_url": "https://api.github.com/users/terencechain/repos",
      "events_url": "https://api.github.com/users/terencechain/events{/privacy}",
      "received_events_url": "https://api.github.com/users/terencechain/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-06-26T22:48:29Z",
    "updated_at": "2020-06-26T22:48:29Z",
    "author_association": "MEMBER",
    "body": "> I think we should consider this before mainnet launch. It is optimistic to think 2048 adds only 30 seconds of time to the start up (in the user report, it took two minutes). It could be several minutes or even more than 1 epoch for a beacon node to restart, find peers, and sync to head.\r\n> \r\n> There must be some solution. Do we save blocks at least?\r\n> At a minimum, replaying the blocks would be faster than fetching them via sync.\r\n\r\nWe do save the blocks. The replay of 2048 slots (worst case) is much faster. 30s was my pessimistic estimate. It's around 15s In my set up:\r\n * via sync, no blocks in db - ~40bps\r\n * recompute to catch up, blocks in db - ~90bps ",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/650436987/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/650437287",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/6325#issuecomment-650437287",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/6325",
    "id": 650437287,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY1MDQzNzI4Nw==",
    "user": {
      "login": "terencechain",
      "id": 21316537,
      "node_id": "MDQ6VXNlcjIxMzE2NTM3",
      "avatar_url": "https://avatars.githubusercontent.com/u/21316537?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/terencechain",
      "html_url": "https://github.com/terencechain",
      "followers_url": "https://api.github.com/users/terencechain/followers",
      "following_url": "https://api.github.com/users/terencechain/following{/other_user}",
      "gists_url": "https://api.github.com/users/terencechain/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/terencechain/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/terencechain/subscriptions",
      "organizations_url": "https://api.github.com/users/terencechain/orgs",
      "repos_url": "https://api.github.com/users/terencechain/repos",
      "events_url": "https://api.github.com/users/terencechain/events{/privacy}",
      "received_events_url": "https://api.github.com/users/terencechain/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-06-26T22:49:33Z",
    "updated_at": "2020-06-26T22:49:33Z",
    "author_association": "MEMBER",
    "body": "Agree on considering this before mainnet launch. The UX can be better here. I have bumped up the priority ",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/650437287/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/650445519",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/6325#issuecomment-650445519",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/6325",
    "id": 650445519,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY1MDQ0NTUxOQ==",
    "user": {
      "login": "prestonvanloon",
      "id": 7246818,
      "node_id": "MDQ6VXNlcjcyNDY4MTg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7246818?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/prestonvanloon",
      "html_url": "https://github.com/prestonvanloon",
      "followers_url": "https://api.github.com/users/prestonvanloon/followers",
      "following_url": "https://api.github.com/users/prestonvanloon/following{/other_user}",
      "gists_url": "https://api.github.com/users/prestonvanloon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/prestonvanloon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/prestonvanloon/subscriptions",
      "organizations_url": "https://api.github.com/users/prestonvanloon/orgs",
      "repos_url": "https://api.github.com/users/prestonvanloon/repos",
      "events_url": "https://api.github.com/users/prestonvanloon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/prestonvanloon/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-06-26T23:16:58Z",
    "updated_at": "2020-06-26T23:16:58Z",
    "author_association": "MEMBER",
    "body": "I have a solution for this https://github.com/prysmaticlabs/prysm/pull/6431\r\n\r\nLet me know what you think @terencechain ",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/650445519/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/650479409",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/6325#issuecomment-650479409",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/6325",
    "id": 650479409,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY1MDQ3OTQwOQ==",
    "user": {
      "login": "prestonvanloon",
      "id": 7246818,
      "node_id": "MDQ6VXNlcjcyNDY4MTg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7246818?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/prestonvanloon",
      "html_url": "https://github.com/prestonvanloon",
      "followers_url": "https://api.github.com/users/prestonvanloon/followers",
      "following_url": "https://api.github.com/users/prestonvanloon/following{/other_user}",
      "gists_url": "https://api.github.com/users/prestonvanloon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/prestonvanloon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/prestonvanloon/subscriptions",
      "organizations_url": "https://api.github.com/users/prestonvanloon/orgs",
      "repos_url": "https://api.github.com/users/prestonvanloon/repos",
      "events_url": "https://api.github.com/users/prestonvanloon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/prestonvanloon/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-06-27T03:09:04Z",
    "updated_at": "2020-06-28T04:35:20Z",
    "author_association": "MEMBER",
    "body": "After offline discussion with @terencechain, we are considering a bigger change to support the idea in #6431. The issue with accepting #6431 in its current state is that hot/cold state mgmt assumes there will be only one state stored per checkpoint interval. Since the change in #6431 overwrites the existing checkpoint index in the database, it may cause another regression where look ups involving regenerating state from a cold state checkpoint may take significantly longer. \r\n\r\nWorking design doc here: https://hackmd.prylabs.network/s/SkbAyN4CU",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/650479409/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/653646468",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/6325#issuecomment-653646468",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/6325",
    "id": 653646468,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY1MzY0NjQ2OA==",
    "user": {
      "login": "prestonvanloon",
      "id": 7246818,
      "node_id": "MDQ6VXNlcjcyNDY4MTg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7246818?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/prestonvanloon",
      "html_url": "https://github.com/prestonvanloon",
      "followers_url": "https://api.github.com/users/prestonvanloon/followers",
      "following_url": "https://api.github.com/users/prestonvanloon/following{/other_user}",
      "gists_url": "https://api.github.com/users/prestonvanloon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/prestonvanloon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/prestonvanloon/subscriptions",
      "organizations_url": "https://api.github.com/users/prestonvanloon/orgs",
      "repos_url": "https://api.github.com/users/prestonvanloon/repos",
      "events_url": "https://api.github.com/users/prestonvanloon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/prestonvanloon/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-07-03T18:41:43Z",
    "updated_at": "2020-07-03T18:41:43Z",
    "author_association": "MEMBER",
    "body": "Related PRs:\r\n- #6486 \r\n- #6480 \r\n- #6464 (to be closed, split into smaller PRs)\r\n- #6460 (closed)\r\n- #6461 \r\n- #6457 \r\n- #6431",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/653646468/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/658371134",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/6325#issuecomment-658371134",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/6325",
    "id": 658371134,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY1ODM3MTEzNA==",
    "user": {
      "login": "remyroy",
      "id": 303593,
      "node_id": "MDQ6VXNlcjMwMzU5Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/303593?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/remyroy",
      "html_url": "https://github.com/remyroy",
      "followers_url": "https://api.github.com/users/remyroy/followers",
      "following_url": "https://api.github.com/users/remyroy/following{/other_user}",
      "gists_url": "https://api.github.com/users/remyroy/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/remyroy/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/remyroy/subscriptions",
      "organizations_url": "https://api.github.com/users/remyroy/orgs",
      "repos_url": "https://api.github.com/users/remyroy/repos",
      "events_url": "https://api.github.com/users/remyroy/events{/privacy}",
      "received_events_url": "https://api.github.com/users/remyroy/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-07-14T19:32:09Z",
    "updated_at": "2020-07-14T19:32:32Z",
    "author_association": "NONE",
    "body": "I believe I just experienced this issue on _v1.0.0-alpha.15_ and on _Ubuntu 20.04 LTS (GNU/Linux 5.4.0-1013-raspi aarch64)_ . My workaround was to restart the validator after the beacon chain was fully synced which fixed this issue for me.",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/658371134/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/669906431",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/6325#issuecomment-669906431",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/6325",
    "id": 669906431,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY2OTkwNjQzMQ==",
    "user": {
      "login": "nisdas",
      "id": 33201827,
      "node_id": "MDQ6VXNlcjMzMjAxODI3",
      "avatar_url": "https://avatars.githubusercontent.com/u/33201827?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nisdas",
      "html_url": "https://github.com/nisdas",
      "followers_url": "https://api.github.com/users/nisdas/followers",
      "following_url": "https://api.github.com/users/nisdas/following{/other_user}",
      "gists_url": "https://api.github.com/users/nisdas/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nisdas/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nisdas/subscriptions",
      "organizations_url": "https://api.github.com/users/nisdas/orgs",
      "repos_url": "https://api.github.com/users/nisdas/repos",
      "events_url": "https://api.github.com/users/nisdas/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nisdas/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-08-06T12:49:07Z",
    "updated_at": "2020-08-06T12:49:07Z",
    "author_association": "MEMBER",
    "body": "This has been reported again, re-opening the issue",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/669906431/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/669919762",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/6325#issuecomment-669919762",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/6325",
    "id": 669919762,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY2OTkxOTc2Mg==",
    "user": {
      "login": "WMEth",
      "id": 69309803,
      "node_id": "MDQ6VXNlcjY5MzA5ODAz",
      "avatar_url": "https://avatars.githubusercontent.com/u/69309803?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/WMEth",
      "html_url": "https://github.com/WMEth",
      "followers_url": "https://api.github.com/users/WMEth/followers",
      "following_url": "https://api.github.com/users/WMEth/following{/other_user}",
      "gists_url": "https://api.github.com/users/WMEth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/WMEth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/WMEth/subscriptions",
      "organizations_url": "https://api.github.com/users/WMEth/orgs",
      "repos_url": "https://api.github.com/users/WMEth/repos",
      "events_url": "https://api.github.com/users/WMEth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/WMEth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-08-06T13:15:20Z",
    "updated_at": "2020-08-06T13:15:20Z",
    "author_association": "NONE",
    "body": "Still occasionally experiencing the same problem originally reported here:\r\n\r\nIf validator and beacon chain are started together e.g. with systemd (calling prysm.sh), the validator prints \"Waiting for beacon chain start log from the ETH 1.0 deposit contract\" and stays there.\r\n\r\nRestarting the validator resolves the issue, but the system does not boot to a functional state.\r\n\r\nThe validator is failing to notice when the beacon node has finished syncing.",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/669919762/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/680808122",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/6325#issuecomment-680808122",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/6325",
    "id": 680808122,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY4MDgwODEyMg==",
    "user": {
      "login": "nisdas",
      "id": 33201827,
      "node_id": "MDQ6VXNlcjMzMjAxODI3",
      "avatar_url": "https://avatars.githubusercontent.com/u/33201827?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nisdas",
      "html_url": "https://github.com/nisdas",
      "followers_url": "https://api.github.com/users/nisdas/followers",
      "following_url": "https://api.github.com/users/nisdas/following{/other_user}",
      "gists_url": "https://api.github.com/users/nisdas/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nisdas/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nisdas/subscriptions",
      "organizations_url": "https://api.github.com/users/nisdas/orgs",
      "repos_url": "https://api.github.com/users/nisdas/repos",
      "events_url": "https://api.github.com/users/nisdas/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nisdas/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-08-26T10:55:12Z",
    "updated_at": "2020-08-26T10:55:12Z",
    "author_association": "MEMBER",
    "body": "Closed by #7112 ",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/680808122/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
