{
  "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/6329",
  "repository_url": "https://api.github.com/repos/prysmaticlabs/prysm",
  "labels_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/6329/labels{/name}",
  "comments_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/6329/comments",
  "events_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/6329/events",
  "html_url": "https://github.com/prysmaticlabs/prysm/issues/6329",
  "id": 642548854,
  "node_id": "MDU6SXNzdWU2NDI1NDg4NTQ=",
  "number": 6329,
  "title": "Validator metric: add the quantity of ETH deposited",
  "user": {
    "login": "GuillaumeMiralles",
    "id": 23481418,
    "node_id": "MDQ6VXNlcjIzNDgxNDE4",
    "avatar_url": "https://avatars.githubusercontent.com/u/23481418?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/GuillaumeMiralles",
    "html_url": "https://github.com/GuillaumeMiralles",
    "followers_url": "https://api.github.com/users/GuillaumeMiralles/followers",
    "following_url": "https://api.github.com/users/GuillaumeMiralles/following{/other_user}",
    "gists_url": "https://api.github.com/users/GuillaumeMiralles/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/GuillaumeMiralles/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/GuillaumeMiralles/subscriptions",
    "organizations_url": "https://api.github.com/users/GuillaumeMiralles/orgs",
    "repos_url": "https://api.github.com/users/GuillaumeMiralles/repos",
    "events_url": "https://api.github.com/users/GuillaumeMiralles/events{/privacy}",
    "received_events_url": "https://api.github.com/users/GuillaumeMiralles/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 802129906,
      "node_id": "MDU6TGFiZWw4MDIxMjk5MDY=",
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/labels/Enhancement",
      "name": "Enhancement",
      "color": "84b6eb",
      "default": false,
      "description": "New feature or request"
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 4,
  "created_at": "2020-06-21T11:55:09Z",
  "updated_at": "2020-12-15T20:29:37Z",
  "closed_at": "2020-12-15T20:29:37Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "# ðŸš€ Feature Request\r\n\r\n### Description\r\n\r\nFor the dashboard, it would be very interesting to get the amount of deposited ETH on each validator. For most of people it is 32, but some are depositing more than that\r\n\r\n### Describe the solution you'd like\r\n\r\nEach time a validator is receiving a deposit, then the node would send the new data to the validator. Then this data would be also retrieved on validator client restart\r\n\r\n### Context\r\n\r\nThere are many people that told me about this. I did explain how to fix this manually by substracting the extra amount deposited, but this require the user to modify the dashboard, which is not very easy for everybody, and they need to be aware of it (some just delete the README panel of the dashboard without to read)\r\n\r\n![image](https://user-images.githubusercontent.com/23481418/85223929-e5e35980-b3c6-11ea-89dd-b4ecae7f785e.png)\r\n",
  "closed_by": {
    "login": "rauljordan",
    "id": 5572669,
    "node_id": "MDQ6VXNlcjU1NzI2Njk=",
    "avatar_url": "https://avatars.githubusercontent.com/u/5572669?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/rauljordan",
    "html_url": "https://github.com/rauljordan",
    "followers_url": "https://api.github.com/users/rauljordan/followers",
    "following_url": "https://api.github.com/users/rauljordan/following{/other_user}",
    "gists_url": "https://api.github.com/users/rauljordan/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/rauljordan/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/rauljordan/subscriptions",
    "organizations_url": "https://api.github.com/users/rauljordan/orgs",
    "repos_url": "https://api.github.com/users/rauljordan/repos",
    "events_url": "https://api.github.com/users/rauljordan/events{/privacy}",
    "received_events_url": "https://api.github.com/users/rauljordan/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/6329/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/6329/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/716770089",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/6329#issuecomment-716770089",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/6329",
    "id": 716770089,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcxNjc3MDA4OQ==",
    "user": {
      "login": "rauljordan",
      "id": 5572669,
      "node_id": "MDQ6VXNlcjU1NzI2Njk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5572669?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rauljordan",
      "html_url": "https://github.com/rauljordan",
      "followers_url": "https://api.github.com/users/rauljordan/followers",
      "following_url": "https://api.github.com/users/rauljordan/following{/other_user}",
      "gists_url": "https://api.github.com/users/rauljordan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rauljordan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rauljordan/subscriptions",
      "organizations_url": "https://api.github.com/users/rauljordan/orgs",
      "repos_url": "https://api.github.com/users/rauljordan/repos",
      "events_url": "https://api.github.com/users/rauljordan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rauljordan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-10-26T19:22:21Z",
    "updated_at": "2020-10-26T19:22:21Z",
    "author_association": "CONTRIBUTOR",
    "body": "@GuillaumeMiralles could you share more details about the metrics you are currently using? Wouldn't validator_balance be enough for your purposes?",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/716770089/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/717002470",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/6329#issuecomment-717002470",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/6329",
    "id": 717002470,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcxNzAwMjQ3MA==",
    "user": {
      "login": "GuillaumeMiralles",
      "id": 23481418,
      "node_id": "MDQ6VXNlcjIzNDgxNDE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/23481418?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/GuillaumeMiralles",
      "html_url": "https://github.com/GuillaumeMiralles",
      "followers_url": "https://api.github.com/users/GuillaumeMiralles/followers",
      "following_url": "https://api.github.com/users/GuillaumeMiralles/following{/other_user}",
      "gists_url": "https://api.github.com/users/GuillaumeMiralles/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/GuillaumeMiralles/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/GuillaumeMiralles/subscriptions",
      "organizations_url": "https://api.github.com/users/GuillaumeMiralles/orgs",
      "repos_url": "https://api.github.com/users/GuillaumeMiralles/repos",
      "events_url": "https://api.github.com/users/GuillaumeMiralles/events{/privacy}",
      "received_events_url": "https://api.github.com/users/GuillaumeMiralles/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-10-27T05:55:19Z",
    "updated_at": "2020-10-27T05:55:19Z",
    "author_association": "NONE",
    "body": "No this metric wouldn't be enough. I cannot know how much ETH the user deposited on his validator, since he could do multiple deposits at different time. So in order to calculate perfectly the total earning, I require this data.\r\nWhat it is done right now is that it guess that the validator got 32 ETH deposited, no more no less. So if the user wants to have the real total earning, he needs to substract the excess.\r\nFor example, the user deposited twice 32 ETH, the validator have received 64 ETH then. The user will then need to add `-32` at the end of the query, which is not user friendly at all",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/717002470/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/726977077",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/6329#issuecomment-726977077",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/6329",
    "id": 726977077,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcyNjk3NzA3Nw==",
    "user": {
      "login": "potuz",
      "id": 16044918,
      "node_id": "MDQ6VXNlcjE2MDQ0OTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/16044918?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/potuz",
      "html_url": "https://github.com/potuz",
      "followers_url": "https://api.github.com/users/potuz/followers",
      "following_url": "https://api.github.com/users/potuz/following{/other_user}",
      "gists_url": "https://api.github.com/users/potuz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/potuz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/potuz/subscriptions",
      "organizations_url": "https://api.github.com/users/potuz/orgs",
      "repos_url": "https://api.github.com/users/potuz/repos",
      "events_url": "https://api.github.com/users/potuz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/potuz/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-11-13T19:02:30Z",
    "updated_at": "2020-11-13T19:02:30Z",
    "author_association": "CONTRIBUTOR",
    "body": "Do we really want this? the only way to effectively track this would be with a gauge for a timeseries since the deposits can happen at any time during the lifetime of the validator. This will be a series by pubkey.  I feel like this will increase the cardinality of the dbase mostly unnecessarily. The vast majority of users will not need this feature. Or can just simply change their dashboard accordingly when they deposit. Instead of relying on the node to tell them when they deposited. ",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/726977077/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/745548600",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/6329#issuecomment-745548600",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/6329",
    "id": 745548600,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc0NTU0ODYwMA==",
    "user": {
      "login": "rauljordan",
      "id": 5572669,
      "node_id": "MDQ6VXNlcjU1NzI2Njk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5572669?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rauljordan",
      "html_url": "https://github.com/rauljordan",
      "followers_url": "https://api.github.com/users/rauljordan/followers",
      "following_url": "https://api.github.com/users/rauljordan/following{/other_user}",
      "gists_url": "https://api.github.com/users/rauljordan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rauljordan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rauljordan/subscriptions",
      "organizations_url": "https://api.github.com/users/rauljordan/orgs",
      "repos_url": "https://api.github.com/users/rauljordan/repos",
      "events_url": "https://api.github.com/users/rauljordan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rauljordan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-12-15T20:29:37Z",
    "updated_at": "2020-12-15T20:29:37Z",
    "author_association": "CONTRIBUTOR",
    "body": "Agreed this will be a very high cardinality database for folks with a lot of validators. We should mostly point users to block explorers if they desire this information",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/745548600/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
