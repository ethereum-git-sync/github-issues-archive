{
  "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/1357",
  "repository_url": "https://api.github.com/repos/prysmaticlabs/prysm",
  "labels_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/1357/labels{/name}",
  "comments_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/1357/comments",
  "events_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/1357/events",
  "html_url": "https://github.com/prysmaticlabs/prysm/issues/1357",
  "id": 401197737,
  "node_id": "MDU6SXNzdWU0MDExOTc3Mzc=",
  "number": 1357,
  "title": "Discord Bots are broken",
  "user": {
    "login": "terencechain",
    "id": 21316537,
    "node_id": "MDQ6VXNlcjIxMzE2NTM3",
    "avatar_url": "https://avatars.githubusercontent.com/u/21316537?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/terencechain",
    "html_url": "https://github.com/terencechain",
    "followers_url": "https://api.github.com/users/terencechain/followers",
    "following_url": "https://api.github.com/users/terencechain/following{/other_user}",
    "gists_url": "https://api.github.com/users/terencechain/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/terencechain/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/terencechain/subscriptions",
    "organizations_url": "https://api.github.com/users/terencechain/orgs",
    "repos_url": "https://api.github.com/users/terencechain/repos",
    "events_url": "https://api.github.com/users/terencechain/events{/privacy}",
    "received_events_url": "https://api.github.com/users/terencechain/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 1085357407,
      "node_id": "MDU6TGFiZWwxMDg1MzU3NDA3",
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/labels/Priority:%20Medium",
      "name": "Priority: Medium",
      "color": "bbf726",
      "default": false,
      "description": "Medium priority item"
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": {
    "login": "rauljordan",
    "id": 5572669,
    "node_id": "MDQ6VXNlcjU1NzI2Njk=",
    "avatar_url": "https://avatars.githubusercontent.com/u/5572669?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/rauljordan",
    "html_url": "https://github.com/rauljordan",
    "followers_url": "https://api.github.com/users/rauljordan/followers",
    "following_url": "https://api.github.com/users/rauljordan/following{/other_user}",
    "gists_url": "https://api.github.com/users/rauljordan/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/rauljordan/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/rauljordan/subscriptions",
    "organizations_url": "https://api.github.com/users/rauljordan/orgs",
    "repos_url": "https://api.github.com/users/rauljordan/repos",
    "events_url": "https://api.github.com/users/rauljordan/events{/privacy}",
    "received_events_url": "https://api.github.com/users/rauljordan/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "rauljordan",
      "id": 5572669,
      "node_id": "MDQ6VXNlcjU1NzI2Njk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5572669?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rauljordan",
      "html_url": "https://github.com/rauljordan",
      "followers_url": "https://api.github.com/users/rauljordan/followers",
      "following_url": "https://api.github.com/users/rauljordan/following{/other_user}",
      "gists_url": "https://api.github.com/users/rauljordan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rauljordan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rauljordan/subscriptions",
      "organizations_url": "https://api.github.com/users/rauljordan/orgs",
      "repos_url": "https://api.github.com/users/rauljordan/repos",
      "events_url": "https://api.github.com/users/rauljordan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rauljordan/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 3,
  "created_at": "2019-01-21T05:22:09Z",
  "updated_at": "2019-01-24T15:40:42Z",
  "closed_at": "2019-01-24T15:40:41Z",
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": "Issue fetchers bot and gitter bot are not working. Looks like we need to relaunch the instances somewhere. @rauljordan please provide the creds and document how to launch them",
  "closed_by": {
    "login": "rauljordan",
    "id": 5572669,
    "node_id": "MDQ6VXNlcjU1NzI2Njk=",
    "avatar_url": "https://avatars.githubusercontent.com/u/5572669?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/rauljordan",
    "html_url": "https://github.com/rauljordan",
    "followers_url": "https://api.github.com/users/rauljordan/followers",
    "following_url": "https://api.github.com/users/rauljordan/following{/other_user}",
    "gists_url": "https://api.github.com/users/rauljordan/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/rauljordan/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/rauljordan/subscriptions",
    "organizations_url": "https://api.github.com/users/rauljordan/orgs",
    "repos_url": "https://api.github.com/users/rauljordan/repos",
    "events_url": "https://api.github.com/users/rauljordan/events{/privacy}",
    "received_events_url": "https://api.github.com/users/rauljordan/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/1357/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/1357/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/456154110",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/1357#issuecomment-456154110",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/1357",
    "id": 456154110,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1NjE1NDExMA==",
    "user": {
      "login": "prestonvanloon",
      "id": 7246818,
      "node_id": "MDQ6VXNlcjcyNDY4MTg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7246818?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/prestonvanloon",
      "html_url": "https://github.com/prestonvanloon",
      "followers_url": "https://api.github.com/users/prestonvanloon/followers",
      "following_url": "https://api.github.com/users/prestonvanloon/following{/other_user}",
      "gists_url": "https://api.github.com/users/prestonvanloon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/prestonvanloon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/prestonvanloon/subscriptions",
      "organizations_url": "https://api.github.com/users/prestonvanloon/orgs",
      "repos_url": "https://api.github.com/users/prestonvanloon/repos",
      "events_url": "https://api.github.com/users/prestonvanloon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/prestonvanloon/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-01-21T17:49:46Z",
    "updated_at": "2019-01-21T17:49:46Z",
    "author_association": "MEMBER",
    "body": "We can launch these into the upcoming kubernetes cluster, but we need to share the API credentials and discuss the deployment internally. ",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/456154110/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/457242594",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/1357#issuecomment-457242594",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/1357",
    "id": 457242594,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1NzI0MjU5NA==",
    "user": {
      "login": "rauljordan",
      "id": 5572669,
      "node_id": "MDQ6VXNlcjU1NzI2Njk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5572669?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rauljordan",
      "html_url": "https://github.com/rauljordan",
      "followers_url": "https://api.github.com/users/rauljordan/followers",
      "following_url": "https://api.github.com/users/rauljordan/following{/other_user}",
      "gists_url": "https://api.github.com/users/rauljordan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rauljordan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rauljordan/subscriptions",
      "organizations_url": "https://api.github.com/users/rauljordan/orgs",
      "repos_url": "https://api.github.com/users/rauljordan/repos",
      "events_url": "https://api.github.com/users/rauljordan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rauljordan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-01-24T15:40:26Z",
    "updated_at": "2019-01-24T15:40:26Z",
    "author_association": "CONTRIBUTOR",
    "body": "Hi all, the instructions for the bots are as follows:\r\n\r\n## Github Issue Fetcher\r\n\r\nWe have a bot that fetches github issues by quoting them as {{issue_num}} on our discord public channels. This is handled by the nodejs repo here: https://github.com/rauljordan/discord-github-issue-fetcher where setup instructions are located in its README.\r\n\r\nIt requires a **discord bot token**, which can be obtained by navigating to the discord developer's portal, creating a new application, and creating a new **bot**. As Jan 24, 2019, one can head to the OAuth2 section of the portal, check the \"bot\" option, and an OAuth2 URL will be generated which can then be copied and pasted into the URL bar. This will add the bot to the server. Then, head back to the developer portal and go to the bot section, where you can copy the bot's secret token (keep this safe). This is the token needed by the Github Issue Fetcher as specified in its README.\r\n\r\n## Gitter Discord Bridge\r\n\r\nThe next part is the Gitter <-> Discord bridge. We use the [Matterbridge](https://github.com/42wim/matterbridge/wiki/Discord-bot-setup) project with the following configuration:\r\n\r\n```toml\r\n#WARNING: as this file contains credentials, be sure to set correct file permissions\r\n[gitter.prysmaticlabs]\r\n    #You can get your token by going to https://developer.gitter.im/docs/welcome and SIGN IN\r\n    Token=\"GITTERTOKEN\"\r\n    RemoteNickFormat=\"[{PROTOCOL}] <{NICK}> \"\r\n\r\n[discord.mydiscord]\r\n    #You can get your token by following the instructions on\r\n    #https://github.com/42wim/matterbridge/wiki/Discord-bot-setup\r\n    #If you want roles/groups mentions to be shown with names instead of ID,\r\n    #you'll need to give your bot the \"Manage Roles\" permission.\r\n    Token=\"DISCORDTOKEN\"\r\n    Server=\"Prysmatic Labs\"\r\n    RemoteNickFormat=\"[{PROTOCOL}] <{NICK}> \"\r\n\r\n[[gateway]]\r\nname=\"gateway1\"\r\nenable=true\r\n    [[gateway.inout]]\r\n    account=\"discord.mydiscord\"\r\n    channel=\"gitter\"\r\n\r\n    [[gateway.inout]]\r\n    account=\"gitter.prysmaticlabs\"\r\n    channel=\"prysmaticlabs/prysm\"\r\n```\r\n\r\nSave the above into a file called `matterbridge.toml` locally. Then, do the same setup as above in the Github Issue Fetcher to create a new bot on discord and obtain its **discord bot token**. Now, head over to Gitter to obtain a developer token from their developer portal. These two values can be replaced in the TOML file above where it says DISCORDTOKEN and GITTERTOKEN.\r\n\r\nThen, follow the instructions to launch matterbridge on your machine (Docker I found is the easiest) by using the configuration file specified above. Voila!",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/457242594/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/457242705",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/1357#issuecomment-457242705",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/1357",
    "id": 457242705,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1NzI0MjcwNQ==",
    "user": {
      "login": "rauljordan",
      "id": 5572669,
      "node_id": "MDQ6VXNlcjU1NzI2Njk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5572669?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rauljordan",
      "html_url": "https://github.com/rauljordan",
      "followers_url": "https://api.github.com/users/rauljordan/followers",
      "following_url": "https://api.github.com/users/rauljordan/following{/other_user}",
      "gists_url": "https://api.github.com/users/rauljordan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rauljordan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rauljordan/subscriptions",
      "organizations_url": "https://api.github.com/users/rauljordan/orgs",
      "repos_url": "https://api.github.com/users/rauljordan/repos",
      "events_url": "https://api.github.com/users/rauljordan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rauljordan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-01-24T15:40:41Z",
    "updated_at": "2019-01-24T15:40:41Z",
    "author_association": "CONTRIBUTOR",
    "body": "Closing :)",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/457242705/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
