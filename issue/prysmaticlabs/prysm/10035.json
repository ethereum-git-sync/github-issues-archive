{
  "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/10035",
  "repository_url": "https://api.github.com/repos/prysmaticlabs/prysm",
  "labels_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/10035/labels{/name}",
  "comments_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/10035/comments",
  "events_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/10035/events",
  "html_url": "https://github.com/prysmaticlabs/prysm/issues/10035",
  "id": 1087337265,
  "node_id": "I_kwDOBvuov85Az3Mx",
  "number": 10035,
  "title": "REST API - Can't Look Ahead at Upcoming Block Proposals",
  "user": {
    "login": "jclapis",
    "id": 627896,
    "node_id": "MDQ6VXNlcjYyNzg5Ng==",
    "avatar_url": "https://avatars.githubusercontent.com/u/627896?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/jclapis",
    "html_url": "https://github.com/jclapis",
    "followers_url": "https://api.github.com/users/jclapis/followers",
    "following_url": "https://api.github.com/users/jclapis/following{/other_user}",
    "gists_url": "https://api.github.com/users/jclapis/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/jclapis/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/jclapis/subscriptions",
    "organizations_url": "https://api.github.com/users/jclapis/orgs",
    "repos_url": "https://api.github.com/users/jclapis/repos",
    "events_url": "https://api.github.com/users/jclapis/events{/privacy}",
    "received_events_url": "https://api.github.com/users/jclapis/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 802129906,
      "node_id": "MDU6TGFiZWw4MDIxMjk5MDY=",
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/labels/Enhancement",
      "name": "Enhancement",
      "color": "84b6eb",
      "default": false,
      "description": "New feature or request"
    },
    {
      "id": 1701740543,
      "node_id": "MDU6TGFiZWwxNzAxNzQwNTQz",
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/labels/API",
      "name": "API",
      "color": "30ef13",
      "default": false,
      "description": "Api related tasks"
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": {
    "login": "rkapka",
    "id": 28876818,
    "node_id": "MDQ6VXNlcjI4ODc2ODE4",
    "avatar_url": "https://avatars.githubusercontent.com/u/28876818?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/rkapka",
    "html_url": "https://github.com/rkapka",
    "followers_url": "https://api.github.com/users/rkapka/followers",
    "following_url": "https://api.github.com/users/rkapka/following{/other_user}",
    "gists_url": "https://api.github.com/users/rkapka/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/rkapka/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/rkapka/subscriptions",
    "organizations_url": "https://api.github.com/users/rkapka/orgs",
    "repos_url": "https://api.github.com/users/rkapka/repos",
    "events_url": "https://api.github.com/users/rkapka/events{/privacy}",
    "received_events_url": "https://api.github.com/users/rkapka/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "rkapka",
      "id": 28876818,
      "node_id": "MDQ6VXNlcjI4ODc2ODE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/28876818?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rkapka",
      "html_url": "https://github.com/rkapka",
      "followers_url": "https://api.github.com/users/rkapka/followers",
      "following_url": "https://api.github.com/users/rkapka/following{/other_user}",
      "gists_url": "https://api.github.com/users/rkapka/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rkapka/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rkapka/subscriptions",
      "organizations_url": "https://api.github.com/users/rkapka/orgs",
      "repos_url": "https://api.github.com/users/rkapka/repos",
      "events_url": "https://api.github.com/users/rkapka/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rkapka/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2021-12-23T03:16:05Z",
  "updated_at": "2022-01-11T14:38:15Z",
  "closed_at": null,
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "Hello!\r\n\r\nWe're adding a new feature to the Rocket Pool node operator dashboard which notifies users when they have an upcoming block proposal or sync committee, so they know not to take their systems down for maintenance. We're using the standard Beacon REST API for this. For example, assuming the current Epoch is `61766`:\r\n\r\n```\r\ncurl -X GET \"http://localhost:5052/eth/v1/validator/duties/proposer/61767\" -H \"accept: application/json\"\r\n```\r\n\r\nThis returns the following:\r\n\r\n```\r\n{\"message\":\"Request epoch 61767 can not be greater than current epoch 61766\",\"code\":400}\r\n```\r\n\r\nThis route works up to 2 epochs beyond `head` for Nimbus and up to 1 epoch ahead for Teku. Lighthouse shows the same behavior as the above. The [official spec](https://ethereum.github.io/beacon-APIs/#/Validator/getProposerDuties) for this route isn't clear on whether or not it's legal to call it on future epochs. Assuming it is, we would like this route to be able to look ahead so users know if they are safe to restart their systems without potentially missing an upcoming proposal.\r\n\r\nThank you!",
  "closed_by": {
    "login": "jclapis",
    "id": 627896,
    "node_id": "MDQ6VXNlcjYyNzg5Ng==",
    "avatar_url": "https://avatars.githubusercontent.com/u/627896?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/jclapis",
    "html_url": "https://github.com/jclapis",
    "followers_url": "https://api.github.com/users/jclapis/followers",
    "following_url": "https://api.github.com/users/jclapis/following{/other_user}",
    "gists_url": "https://api.github.com/users/jclapis/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/jclapis/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/jclapis/subscriptions",
    "organizations_url": "https://api.github.com/users/jclapis/orgs",
    "repos_url": "https://api.github.com/users/jclapis/repos",
    "events_url": "https://api.github.com/users/jclapis/events{/privacy}",
    "received_events_url": "https://api.github.com/users/jclapis/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/10035/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/10035/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/1000038279",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/10035#issuecomment-1000038279",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/10035",
    "id": 1000038279,
    "node_id": "IC_kwDOBvuov847m1-H",
    "user": {
      "login": "jclapis",
      "id": 627896,
      "node_id": "MDQ6VXNlcjYyNzg5Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/627896?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jclapis",
      "html_url": "https://github.com/jclapis",
      "followers_url": "https://api.github.com/users/jclapis/followers",
      "following_url": "https://api.github.com/users/jclapis/following{/other_user}",
      "gists_url": "https://api.github.com/users/jclapis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jclapis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jclapis/subscriptions",
      "organizations_url": "https://api.github.com/users/jclapis/orgs",
      "repos_url": "https://api.github.com/users/jclapis/repos",
      "events_url": "https://api.github.com/users/jclapis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jclapis/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-12-23T04:38:50Z",
    "updated_at": "2021-12-23T05:30:15Z",
    "author_association": "NONE",
    "body": "After a lengthy conversation in the Lighthouse server (https://discord.com/channels/605577013327167508/618981555985186827/923422432415608872), we decided that lookahead is too volatile for this route to be of practical use. I will close this issue and bring it up with Nimbus and Teku to see if they'd be willing to adopt your behavior here.",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/1000038279/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/1000118598",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/10035#issuecomment-1000118598",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/10035",
    "id": 1000118598,
    "node_id": "IC_kwDOBvuov847nJlG",
    "user": {
      "login": "jclapis",
      "id": 627896,
      "node_id": "MDQ6VXNlcjYyNzg5Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/627896?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jclapis",
      "html_url": "https://github.com/jclapis",
      "followers_url": "https://api.github.com/users/jclapis/followers",
      "following_url": "https://api.github.com/users/jclapis/following{/other_user}",
      "gists_url": "https://api.github.com/users/jclapis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jclapis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jclapis/subscriptions",
      "organizations_url": "https://api.github.com/users/jclapis/orgs",
      "repos_url": "https://api.github.com/users/jclapis/repos",
      "events_url": "https://api.github.com/users/jclapis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jclapis/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-12-23T08:07:30Z",
    "updated_at": "2021-12-23T08:07:30Z",
    "author_association": "NONE",
    "body": "We had a follow-on discussion in that thread after @nisdas brought to light some information from @potuz. It seems like there is general agreement that volatility is actually quite low, and for our use case (informing users of pending proposals so they can delay maintenance activities) this is a useful thing to have. I'd like to reopen it for consideration.",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/1000118598/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
