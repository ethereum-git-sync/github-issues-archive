{
  "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/7262",
  "repository_url": "https://api.github.com/repos/prysmaticlabs/prysm",
  "labels_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/7262/labels{/name}",
  "comments_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/7262/comments",
  "events_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/7262/events",
  "html_url": "https://github.com/prysmaticlabs/prysm/issues/7262",
  "id": 703833892,
  "node_id": "MDU6SXNzdWU3MDM4MzM4OTI=",
  "number": 7262,
  "title": "Beacon node restart due to \"Could not get rough time result: lookup caesium.tannerryan.ca: too many open files\"",
  "user": {
    "login": "xuyenvuong",
    "id": 8920883,
    "node_id": "MDQ6VXNlcjg5MjA4ODM=",
    "avatar_url": "https://avatars.githubusercontent.com/u/8920883?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/xuyenvuong",
    "html_url": "https://github.com/xuyenvuong",
    "followers_url": "https://api.github.com/users/xuyenvuong/followers",
    "following_url": "https://api.github.com/users/xuyenvuong/following{/other_user}",
    "gists_url": "https://api.github.com/users/xuyenvuong/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/xuyenvuong/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/xuyenvuong/subscriptions",
    "organizations_url": "https://api.github.com/users/xuyenvuong/orgs",
    "repos_url": "https://api.github.com/users/xuyenvuong/repos",
    "events_url": "https://api.github.com/users/xuyenvuong/events{/privacy}",
    "received_events_url": "https://api.github.com/users/xuyenvuong/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2020-09-17T19:03:05Z",
  "updated_at": "2020-09-17T19:57:27Z",
  "closed_at": "2020-09-17T19:05:42Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "<!--üíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíé\r\n\r\nHellooo! üòÑ \r\n\r\nTo help us tend to your issue faster, please search our currently open issues before submitting a new one.\r\nExisting issues often contain information about workarounds, resolution, or progress updates.\r\n\r\nüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíé-->\r\n\r\n# üêû Bug Report\r\n\r\n### Description\r\n\r\n<!-- ‚úçÔ∏è--> A clear and concise description of the problem...\r\nOccasionally I got several Grafana notification ([OK] WARN NODE/VALIDATOR: The process just restarted) about my Beacon Node is restarting. Checking the log and got these errors that is time corresponding to the node restarting time. During beacon node's down time, the number of attestation and aggregation failures are increasing as more than double, from:\r\n1. 33 (8hrs prior) to 87 attestation failures \r\n2. 3 (8hrs prior) to 7 aggregation failures.\r\n\r\nI would want to see if we can implement some failover solution for validator to avoid attestations and aggregation failures due to dependency to just one single beacon node.\r\n\r\n### Has this worked before in a previous version?\r\n\r\n<!-- Did this behavior use to work in the previous version? -->\r\n<!-- ‚úçÔ∏è--> No, this issue is happening very often on previous version as well. I will start to collect more error logs for each time it is auto-restarting \r\n\r\n## üî¨ Minimal Reproduction\r\n\r\n<!--\r\nPlease let us know how we can reproduce this issue. Include the exact method you used to run Prysm along with any flags used in your beacon chain and/or validator. Make sure you don't upload any confidential files or private keys.\r\n-->\r\n\r\nNo particular reproducible steps.\r\n\r\n\r\n## üî• Error\r\n\r\n<pre><code>\r\n<!-- If the issue is accompanied by an error, please share the error logs with us below. If you have a lot of logs, place make a paste bin with your logs and share the link with us here: -->\r\n<!-- ‚úçÔ∏è-->\r\ntime=\"2020-09-17 18:28:34\" level=error msg=\"Could not get rough time result: lookup caesium.tannerryan.ca: too many open files\" prefix=roughtime\r\ntime=\"2020-09-17 18:28:34\" level=error msg=\"Could not get rough time result: lookup roughtime.chainpoint.org: too many open files\" prefix=roughtime\r\ntime=\"2020-09-17 18:28:34\" level=error msg=\"Could not get rough time result: lookup roughtime.cloudflare.com: too many open files\" prefix=roughtime\r\ntime=\"2020-09-17 18:28:34\" level=error msg=\"Could not get rough time result: lookup roughtime.sandbox.google.com: too many open files\" prefix=roughtime\r\ntime=\"2020-09-17 18:28:34\" level=error msg=\"Could not get rough time result: lookup roughtime.int08h.com: too many open files\" prefix=roughtime\r\ntime=\"2020-09-17 18:28:34\" level=error msg=\"Could not get rough time result: lookup ticktock.mixmin.net: too many open files\" prefix=roughtime\r\ntime=\"2020-09-17 18:28:34\" level=error msg=\"Failed to calculate roughtime offset\" error=\"no valid responses\" prefix=roughtime\r\n</code></pre>\r\n\r\n\r\n## üåç  Your Environment\r\n\r\n**Operating System:**\r\nUbuntu latest on Pi 4 8 GB\r\n<pre>\r\n  <code>\r\n\r\n  </code>\r\n</pre>\r\n\r\n**What version of Prysm are you running? (Which release)**\r\nalpha.25\r\n<pre>\r\n  <code>\r\n\r\n  </code>\r\n</pre>\r\n\r\n**Anything else relevant (validator index / public key)?**\r\nhttps://medalla.beaconcha.in/dashboard?validators=12425,12433,12437,12442,12446,12456,12457,12461,12465,12469,12473,12474,12477,12480,12487,12490,12493,12499,12504,12509,12511,12516,12521,12525,12527,12532,12542,12544,12552,12567,12568,12569,12574\r\n",
  "closed_by": {
    "login": "terencechain",
    "id": 21316537,
    "node_id": "MDQ6VXNlcjIxMzE2NTM3",
    "avatar_url": "https://avatars.githubusercontent.com/u/21316537?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/terencechain",
    "html_url": "https://github.com/terencechain",
    "followers_url": "https://api.github.com/users/terencechain/followers",
    "following_url": "https://api.github.com/users/terencechain/following{/other_user}",
    "gists_url": "https://api.github.com/users/terencechain/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/terencechain/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/terencechain/subscriptions",
    "organizations_url": "https://api.github.com/users/terencechain/orgs",
    "repos_url": "https://api.github.com/users/terencechain/repos",
    "events_url": "https://api.github.com/users/terencechain/events{/privacy}",
    "received_events_url": "https://api.github.com/users/terencechain/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/7262/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/7262/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/694438500",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/7262#issuecomment-694438500",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/7262",
    "id": 694438500,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY5NDQzODUwMA==",
    "user": {
      "login": "terencechain",
      "id": 21316537,
      "node_id": "MDQ6VXNlcjIxMzE2NTM3",
      "avatar_url": "https://avatars.githubusercontent.com/u/21316537?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/terencechain",
      "html_url": "https://github.com/terencechain",
      "followers_url": "https://api.github.com/users/terencechain/followers",
      "following_url": "https://api.github.com/users/terencechain/following{/other_user}",
      "gists_url": "https://api.github.com/users/terencechain/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/terencechain/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/terencechain/subscriptions",
      "organizations_url": "https://api.github.com/users/terencechain/orgs",
      "repos_url": "https://api.github.com/users/terencechain/repos",
      "events_url": "https://api.github.com/users/terencechain/events{/privacy}",
      "received_events_url": "https://api.github.com/users/terencechain/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-09-17T19:05:42Z",
    "updated_at": "2020-09-17T19:05:42Z",
    "author_association": "MEMBER",
    "body": "Fixed in #7221\r\n\r\nWill be in alpha.26",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/694438500/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/694466163",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/7262#issuecomment-694466163",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/7262",
    "id": 694466163,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY5NDQ2NjE2Mw==",
    "user": {
      "login": "xuyenvuong",
      "id": 8920883,
      "node_id": "MDQ6VXNlcjg5MjA4ODM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8920883?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/xuyenvuong",
      "html_url": "https://github.com/xuyenvuong",
      "followers_url": "https://api.github.com/users/xuyenvuong/followers",
      "following_url": "https://api.github.com/users/xuyenvuong/following{/other_user}",
      "gists_url": "https://api.github.com/users/xuyenvuong/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/xuyenvuong/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/xuyenvuong/subscriptions",
      "organizations_url": "https://api.github.com/users/xuyenvuong/orgs",
      "repos_url": "https://api.github.com/users/xuyenvuong/repos",
      "events_url": "https://api.github.com/users/xuyenvuong/events{/privacy}",
      "received_events_url": "https://api.github.com/users/xuyenvuong/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-09-17T19:57:27Z",
    "updated_at": "2020-09-17T19:57:27Z",
    "author_association": "NONE",
    "body": "Thanks @terencechain ",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/694466163/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
