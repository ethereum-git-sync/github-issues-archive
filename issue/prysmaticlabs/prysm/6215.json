{
  "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/6215",
  "repository_url": "https://api.github.com/repos/prysmaticlabs/prysm",
  "labels_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/6215/labels{/name}",
  "comments_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/6215/comments",
  "events_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/6215/events",
  "html_url": "https://github.com/prysmaticlabs/prysm/issues/6215",
  "id": 637133852,
  "node_id": "MDU6SXNzdWU2MzcxMzM4NTI=",
  "number": 6215,
  "title": "Possible disk space exhaustion when finality cannot be reached",
  "user": {
    "login": "mderka",
    "id": 1192586,
    "node_id": "MDQ6VXNlcjExOTI1ODY=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1192586?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/mderka",
    "html_url": "https://github.com/mderka",
    "followers_url": "https://api.github.com/users/mderka/followers",
    "following_url": "https://api.github.com/users/mderka/following{/other_user}",
    "gists_url": "https://api.github.com/users/mderka/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/mderka/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/mderka/subscriptions",
    "organizations_url": "https://api.github.com/users/mderka/orgs",
    "repos_url": "https://api.github.com/users/mderka/repos",
    "events_url": "https://api.github.com/users/mderka/events{/privacy}",
    "received_events_url": "https://api.github.com/users/mderka/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 802129904,
      "node_id": "MDU6TGFiZWw4MDIxMjk5MDQ=",
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/labels/Bug",
      "name": "Bug",
      "color": "ee0701",
      "default": false,
      "description": "Something isn't working"
    },
    {
      "id": 1028320582,
      "node_id": "MDU6TGFiZWwxMDI4MzIwNTgy",
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/labels/Blocked",
      "name": "Blocked",
      "color": "f3761b",
      "default": false,
      "description": "Blocked by research or external factors"
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/milestones/3",
    "html_url": "https://github.com/prysmaticlabs/prysm/milestone/3",
    "labels_url": "https://api.github.com/repos/prysmaticlabs/prysm/milestones/3/labels",
    "id": 3141844,
    "node_id": "MDk6TWlsZXN0b25lMzE0MTg0NA==",
    "number": 3,
    "title": "Diamond",
    "description": "The Diamond Release: Ethereum Mainnet",
    "creator": {
      "login": "prestonvanloon",
      "id": 7246818,
      "node_id": "MDQ6VXNlcjcyNDY4MTg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7246818?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/prestonvanloon",
      "html_url": "https://github.com/prestonvanloon",
      "followers_url": "https://api.github.com/users/prestonvanloon/followers",
      "following_url": "https://api.github.com/users/prestonvanloon/following{/other_user}",
      "gists_url": "https://api.github.com/users/prestonvanloon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/prestonvanloon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/prestonvanloon/subscriptions",
      "organizations_url": "https://api.github.com/users/prestonvanloon/orgs",
      "repos_url": "https://api.github.com/users/prestonvanloon/repos",
      "events_url": "https://api.github.com/users/prestonvanloon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/prestonvanloon/received_events",
      "type": "User",
      "site_admin": false
    },
    "open_issues": 0,
    "closed_issues": 113,
    "state": "closed",
    "created_at": "2018-02-25T21:24:26Z",
    "updated_at": "2020-11-25T18:06:34Z",
    "due_on": "2020-11-20T08:00:00Z",
    "closed_at": "2020-11-25T18:06:34Z"
  },
  "comments": 3,
  "created_at": "2020-06-11T15:50:26Z",
  "updated_at": "2020-07-20T17:51:21Z",
  "closed_at": "2020-07-20T17:51:20Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "# Possible Disk Space Exhaustion\r\n\r\n### Background\r\n\r\nWhen the chain goes through a long period without reaching finality, it keeps many recent beacon states on disk, possibly leading to space exhaustion.\r\n\r\nThis issue was discussed with @prestonvanloon on Discord at the Quantstamp channel. \r\n\r\n### Description\r\n\r\nWhen the chain goes through a long period without reaching finality, it keeps many recent beacon states on disk. Beacon states are expensive in size and 100 epochs worth can easily inflate the db to large sizes. This is a potential attack vector where the attacker may be able to stall the chain long enough that Prysm nodes run out of storage. Under normal conditions, Prysm cleans up recent states when finality is reached, keeping only checkpoints around. \r\n\r\nIt is unclear how one could purposely execute such an attack without controlling a large portion of the network, but it can be feasible during low participation periods. As the attack would progress and nodes would be unable to operate, the control effect would compound, possibly leading to a (likely temporary) network takeover. \r\n\r\nA mechanism for freeing disk resources when the space is running low should be devised.\r\n\r\n\r\n",
  "closed_by": {
    "login": "terencechain",
    "id": 21316537,
    "node_id": "MDQ6VXNlcjIxMzE2NTM3",
    "avatar_url": "https://avatars.githubusercontent.com/u/21316537?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/terencechain",
    "html_url": "https://github.com/terencechain",
    "followers_url": "https://api.github.com/users/terencechain/followers",
    "following_url": "https://api.github.com/users/terencechain/following{/other_user}",
    "gists_url": "https://api.github.com/users/terencechain/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/terencechain/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/terencechain/subscriptions",
    "organizations_url": "https://api.github.com/users/terencechain/orgs",
    "repos_url": "https://api.github.com/users/terencechain/repos",
    "events_url": "https://api.github.com/users/terencechain/events{/privacy}",
    "received_events_url": "https://api.github.com/users/terencechain/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/6215/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/6215/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/651295904",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/6215#issuecomment-651295904",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/6215",
    "id": 651295904,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY1MTI5NTkwNA==",
    "user": {
      "login": "0xKiwi",
      "id": 6251510,
      "node_id": "MDQ6VXNlcjYyNTE1MTA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6251510?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/0xKiwi",
      "html_url": "https://github.com/0xKiwi",
      "followers_url": "https://api.github.com/users/0xKiwi/followers",
      "following_url": "https://api.github.com/users/0xKiwi/following{/other_user}",
      "gists_url": "https://api.github.com/users/0xKiwi/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/0xKiwi/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/0xKiwi/subscriptions",
      "organizations_url": "https://api.github.com/users/0xKiwi/orgs",
      "repos_url": "https://api.github.com/users/0xKiwi/repos",
      "events_url": "https://api.github.com/users/0xKiwi/events{/privacy}",
      "received_events_url": "https://api.github.com/users/0xKiwi/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-06-29T18:48:58Z",
    "updated_at": "2020-06-29T18:48:58Z",
    "author_association": "CONTRIBUTOR",
    "body": "Assigned @terencechain for this issue, let me know if there should be a reassignment.",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/651295904/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/651297483",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/6215#issuecomment-651297483",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/6215",
    "id": 651297483,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY1MTI5NzQ4Mw==",
    "user": {
      "login": "terencechain",
      "id": 21316537,
      "node_id": "MDQ6VXNlcjIxMzE2NTM3",
      "avatar_url": "https://avatars.githubusercontent.com/u/21316537?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/terencechain",
      "html_url": "https://github.com/terencechain",
      "followers_url": "https://api.github.com/users/terencechain/followers",
      "following_url": "https://api.github.com/users/terencechain/following{/other_user}",
      "gists_url": "https://api.github.com/users/terencechain/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/terencechain/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/terencechain/subscriptions",
      "organizations_url": "https://api.github.com/users/terencechain/orgs",
      "repos_url": "https://api.github.com/users/terencechain/repos",
      "events_url": "https://api.github.com/users/terencechain/events{/privacy}",
      "received_events_url": "https://api.github.com/users/terencechain/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-06-29T18:52:27Z",
    "updated_at": "2020-06-29T18:52:27Z",
    "author_association": "MEMBER",
    "body": "This issue will be mitigated with new state mgmt (default) and even better with new state mgmt revamp @prestonvanloon and I are working on",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/651297483/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/661240190",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/6215#issuecomment-661240190",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/6215",
    "id": 661240190,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY2MTI0MDE5MA==",
    "user": {
      "login": "terencechain",
      "id": 21316537,
      "node_id": "MDQ6VXNlcjIxMzE2NTM3",
      "avatar_url": "https://avatars.githubusercontent.com/u/21316537?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/terencechain",
      "html_url": "https://github.com/terencechain",
      "followers_url": "https://api.github.com/users/terencechain/followers",
      "following_url": "https://api.github.com/users/terencechain/following{/other_user}",
      "gists_url": "https://api.github.com/users/terencechain/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/terencechain/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/terencechain/subscriptions",
      "organizations_url": "https://api.github.com/users/terencechain/orgs",
      "repos_url": "https://api.github.com/users/terencechain/repos",
      "events_url": "https://api.github.com/users/terencechain/events{/privacy}",
      "received_events_url": "https://api.github.com/users/terencechain/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-07-20T17:51:20Z",
    "updated_at": "2020-07-20T17:51:20Z",
    "author_association": "MEMBER",
    "body": "This is addressed by this: https://github.com/prysmaticlabs/prysm/pull/6488",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/661240190/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
