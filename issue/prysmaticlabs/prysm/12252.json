{
  "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/12252",
  "repository_url": "https://api.github.com/repos/prysmaticlabs/prysm",
  "labels_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/12252/labels{/name}",
  "comments_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/12252/comments",
  "events_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/12252/events",
  "html_url": "https://github.com/prysmaticlabs/prysm/issues/12252",
  "id": 1658999471,
  "node_id": "I_kwDOBvuov85i4lKv",
  "number": 12252,
  "title": " Slow performance on `eth/v1/beacon/states/head/validators`",
  "user": {
    "login": "terencechain",
    "id": 21316537,
    "node_id": "MDQ6VXNlcjIxMzE2NTM3",
    "avatar_url": "https://avatars.githubusercontent.com/u/21316537?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/terencechain",
    "html_url": "https://github.com/terencechain",
    "followers_url": "https://api.github.com/users/terencechain/followers",
    "following_url": "https://api.github.com/users/terencechain/following{/other_user}",
    "gists_url": "https://api.github.com/users/terencechain/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/terencechain/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/terencechain/subscriptions",
    "organizations_url": "https://api.github.com/users/terencechain/orgs",
    "repos_url": "https://api.github.com/users/terencechain/repos",
    "events_url": "https://api.github.com/users/terencechain/events{/privacy}",
    "received_events_url": "https://api.github.com/users/terencechain/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 1,
  "created_at": "2023-04-07T16:53:03Z",
  "updated_at": "2023-06-07T13:52:12Z",
  "closed_at": null,
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": "Reported by @metachris, he conducted a performance test to get all validators from the CL clients using the command time curl http://localhost:3500/eth/v1/beacon/states/head/validators. However, running this command on the machine where Prysm is running took 19 seconds to complete. This is significantly slower than Lighthouse, which took only 2 seconds to complete",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/12252/reactions",
    "total_count": 1,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 1
  },
  "timeline_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/12252/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/1580870686",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/12252#issuecomment-1580870686",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/12252",
    "id": 1580870686,
    "node_id": "IC_kwDOBvuov85eOiwe",
    "user": {
      "login": "draganm",
      "id": 2174560,
      "node_id": "MDQ6VXNlcjIxNzQ1NjA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2174560?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/draganm",
      "html_url": "https://github.com/draganm",
      "followers_url": "https://api.github.com/users/draganm/followers",
      "following_url": "https://api.github.com/users/draganm/following{/other_user}",
      "gists_url": "https://api.github.com/users/draganm/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/draganm/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/draganm/subscriptions",
      "organizations_url": "https://api.github.com/users/draganm/orgs",
      "repos_url": "https://api.github.com/users/draganm/repos",
      "events_url": "https://api.github.com/users/draganm/events{/privacy}",
      "received_events_url": "https://api.github.com/users/draganm/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-06-07T13:52:12Z",
    "updated_at": "2023-06-07T13:52:12Z",
    "author_association": "NONE",
    "body": "Think this is a 'feature' of using grpc gateway on top of grpc. Basically grpc call has to finish before the gateway can even start responding with json, also the whole response has to be held in memory for the conversion. ",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/1580870686/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
