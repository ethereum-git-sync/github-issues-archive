{
  "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/12479",
  "repository_url": "https://api.github.com/repos/prysmaticlabs/prysm",
  "labels_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/12479/labels{/name}",
  "comments_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/12479/comments",
  "events_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/12479/events",
  "html_url": "https://github.com/prysmaticlabs/prysm/issues/12479",
  "id": 1733341848,
  "node_id": "I_kwDOBvuov85nULKY",
  "number": 12479,
  "title": "Error: Sync Committee Message is too old to broadcast, discarding it",
  "user": {
    "login": "Fueav",
    "id": 104292973,
    "node_id": "U_kgDOBjdibQ",
    "avatar_url": "https://avatars.githubusercontent.com/u/104292973?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/Fueav",
    "html_url": "https://github.com/Fueav",
    "followers_url": "https://api.github.com/users/Fueav/followers",
    "following_url": "https://api.github.com/users/Fueav/following{/other_user}",
    "gists_url": "https://api.github.com/users/Fueav/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/Fueav/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/Fueav/subscriptions",
    "organizations_url": "https://api.github.com/users/Fueav/orgs",
    "repos_url": "https://api.github.com/users/Fueav/repos",
    "events_url": "https://api.github.com/users/Fueav/events{/privacy}",
    "received_events_url": "https://api.github.com/users/Fueav/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2023-05-31T03:54:40Z",
  "updated_at": "2023-07-06T00:00:01Z",
  "closed_at": null,
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "<!--ðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’Ž\r\n\r\nHellooo! ðŸ˜„ \r\n\r\nTo help us tend to your issue faster, please search our currently open issues before submitting a new one.\r\nExisting issues often contain information about workarounds, resolution, or progress updates.\r\n\r\nðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’Ž-->\r\n\r\n# ðŸ’Ž Issue\r\n\r\n### Background\r\nI'm currently familiarizing myself with Ethereum 2.0 and have set up an Ethereum development network using geth and prysm, with versions v1.11.6 and v4.0.3, respectively. I've successfully staked on three machines with 4 cores and 8GB of memory, all running Ubuntu 20.04.6 LTS, and the network is currently producing blocks.\r\n### Description\r\nI've noticed some communication issues between my validator node and the beacon chain node.\r\nthat pic is validator log\r\n<img width=\"1440\" alt=\"image\" src=\"https://github.com/prysmaticlabs/prysm/assets/104292973/136e0b4b-42fd-43a1-a0fe-173133767bb9\">\r\n\r\nthat pic is beacon-chain log\r\n<img width=\"1520\" alt=\"image\" src=\"https://github.com/prysmaticlabs/prysm/assets/104292973/dd68e18b-a821-4fef-81dd-864db26cf08c\">\r\n\r\nThese issues have led to constant chain reorganizations. According to the logs, my guess is that the validator's proposal time exceeded the slot time window, causing it to miss out. However, I'm not entirely certain if this is the root cause. If it is, can you please let me know what the normal duration for a proposal to be submitted is? If not, I would greatly appreciate any assistance in troubleshooting this issue.",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/12479/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/12479/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/1622499556",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/12479#issuecomment-1622499556",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/12479",
    "id": 1622499556,
    "node_id": "IC_kwDOBvuov85gtWDk",
    "user": {
      "login": "fabrice-quadrata",
      "id": 106488900,
      "node_id": "U_kgDOBljkRA",
      "avatar_url": "https://avatars.githubusercontent.com/u/106488900?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fabrice-quadrata",
      "html_url": "https://github.com/fabrice-quadrata",
      "followers_url": "https://api.github.com/users/fabrice-quadrata/followers",
      "following_url": "https://api.github.com/users/fabrice-quadrata/following{/other_user}",
      "gists_url": "https://api.github.com/users/fabrice-quadrata/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fabrice-quadrata/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fabrice-quadrata/subscriptions",
      "organizations_url": "https://api.github.com/users/fabrice-quadrata/orgs",
      "repos_url": "https://api.github.com/users/fabrice-quadrata/repos",
      "events_url": "https://api.github.com/users/fabrice-quadrata/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fabrice-quadrata/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-07-05T21:00:53Z",
    "updated_at": "2023-07-05T21:01:31Z",
    "author_association": "NONE",
    "body": "I have experienced the exact same problem with my recent sync committee.\r\nI was on 4.0.5 and upgraded halfway through the sync committee to 4.0.6 and the problem persisted.\r\n\r\nOverall, I was able to participate in 29%, with 71% missed. \r\nI had consistent peers with `--p2p-max-peers=100` and `--minimum-peers-per-subnet=10`.\r\n\r\nsee logs below: for number of inbound/outbound peers right before and after a missed sync\r\n```\r\nJun 30 02:59:00 pznuc prysm-beaconchain-4.0.6[885614]: time=\"2023-06-30 02:59:00\" level=info msg=\"Finished applying state transition\" attestations=128 payloadHash=0xad0d2da84205 prefix=blockchain slot=6774593 syn>\r\nJun 30 02:59:03 pznuc prysm-beaconchain-4.0.6[885614]: time=\"2023-06-30 02:59:03\" level=error msg=\"Failed to find peers\" error=\"unable to find requisite number of peers for topic /eth2/bba4da96/sync_committee_3/s>\r\nJun 30 02:59:03 pznuc prysm-beaconchain-4.0.6[885614]: time=\"2023-06-30 02:59:03\" level=warning msg=\"Sync Committee Message is too old to broadcast, discarding it\" error=\"sync message is too late\r\nJun 30 02:59:03 pznuc prysm-beaconchain-4.0.6[885614]: sync message time 2023-06-30 02:58:47 -0700 PDT (slot 6774592) not within allowable range of 2023-06-30 02:58:59 -0700 PDT (slot 6774593) to 2023-06-30 02:59>\r\nJun 30 02:59:09 pznuc prysm-beaconchain-4.0.6[885614]: time=\"2023-06-30 02:59:09\" level=info msg=\"Peer summary\" activePeers=109 inbound=92 outbound=17 prefix=p2p\r\nJun 30 02:59:13 pznuc prysm-beaconchain-4.0.6[885614]: time=\"2023-06-30 02:59:13\" level=info msg=\"Synced new block\" block=0x5c4bc5ec... epoch=211706 finalizedEpoch=211704 finalizedRoot=0xa2c9eec2... prefix=blockc>\r\nJun 30 02:59:13 pznuc prysm-beaconchain-4.0.6[885614]: time=\"2023-06-30 02:59:13\" level=info msg=\"Finished applying state transition\" attestations=128 payloadHash=0xc3116cea419c prefix=blockchain slot=6774594 syn>\r\nJun 30 02:59:16 pznuc prysm-beaconchain-4.0.6[885614]: time=\"2023-06-30 02:59:16\" level=error msg=\"Failed to find peers\" error=\"unable to find requisite number of peers for topic /eth2/bba4da96/sync_committee_3/s>\r\nJun 30 02:59:16 pznuc prysm-beaconchain-4.0.6[885614]: time=\"2023-06-30 02:59:16\" level=warning msg=\"Sync Committee Message is too old to broadcast, discarding it\" error=\"sync message is too late\r\nJun 30 02:59:16 pznuc prysm-beaconchain-4.0.6[885614]: sync message time 2023-06-30 02:58:59 -0700 PDT (slot 6774593) not within allowable range of 2023-06-30 02:59:11 -0700 PDT (slot 6774594) to 2023-06-30 02:59>\r\nJun 30 02:59:25 pznuc prysm-beaconchain-4.0.6[885614]: time=\"2023-06-30 02:59:25\" level=info msg=\"Synced new block\" block=0x70653e8e... epoch=211706 finalizedEpoch=211704 finalizedRoot=0xa2c9eec2... prefix=blockc>\r\nJun 30 02:59:25 pznuc prysm-beaconchain-4.0.6[885614]: time=\"2023-06-30 02:59:25\" level=info msg=\"Finished applying state transition\" attestations=66 payloadHash=0xff790655a4c4 prefix=blockchain slot=6774595 sync>\r\nJun 30 02:59:27 pznuc prysm-beaconchain-4.0.6[885614]: time=\"2023-06-30 02:59:27\" level=error msg=\"Failed to find peers\" error=\"unable to find requisite number of peers for topic /eth2/bba4da96/sync_committee_3/s>\r\nJun 30 02:59:27 pznuc prysm-beaconchain-4.0.6[885614]: time=\"2023-06-30 02:59:27\" level=warning msg=\"Sync Committee Message is too old to broadcast, discarding it\" error=\"sync message is too late\r\nJun 30 02:59:27 pznuc prysm-beaconchain-4.0.6[885614]: sync message time 2023-06-30 02:59:11 -0700 PDT (slot 6774594) not within allowable range of 2023-06-30 02:59:23 -0700 PDT (slot 6774595) to 2023-06-30 02:59>\r\nlines 121-174\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/1622499556/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/1622704107",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/12479#issuecomment-1622704107",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/12479",
    "id": 1622704107,
    "node_id": "IC_kwDOBvuov85guH_r",
    "user": {
      "login": "fabrice-quadrata",
      "id": 106488900,
      "node_id": "U_kgDOBljkRA",
      "avatar_url": "https://avatars.githubusercontent.com/u/106488900?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fabrice-quadrata",
      "html_url": "https://github.com/fabrice-quadrata",
      "followers_url": "https://api.github.com/users/fabrice-quadrata/followers",
      "following_url": "https://api.github.com/users/fabrice-quadrata/following{/other_user}",
      "gists_url": "https://api.github.com/users/fabrice-quadrata/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fabrice-quadrata/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fabrice-quadrata/subscriptions",
      "organizations_url": "https://api.github.com/users/fabrice-quadrata/orgs",
      "repos_url": "https://api.github.com/users/fabrice-quadrata/repos",
      "events_url": "https://api.github.com/users/fabrice-quadrata/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fabrice-quadrata/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-07-06T00:00:01Z",
    "updated_at": "2023-07-06T00:00:01Z",
    "author_association": "NONE",
    "body": "and link to my issue for reference: https://github.com/prysmaticlabs/prysm/issues/12596\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/1622704107/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
