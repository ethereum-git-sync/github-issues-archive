{
  "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/3144",
  "repository_url": "https://api.github.com/repos/prysmaticlabs/prysm",
  "labels_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/3144/labels{/name}",
  "comments_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/3144/comments",
  "events_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/3144/events",
  "html_url": "https://github.com/prysmaticlabs/prysm/issues/3144",
  "id": 476627336,
  "node_id": "MDU6SXNzdWU0NzY2MjczMzY=",
  "number": 3144,
  "title": "[Mega tracking] - Align Prysm to 0.8.2",
  "user": {
    "login": "prestonvanloon",
    "id": 7246818,
    "node_id": "MDQ6VXNlcjcyNDY4MTg=",
    "avatar_url": "https://avatars.githubusercontent.com/u/7246818?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/prestonvanloon",
    "html_url": "https://github.com/prestonvanloon",
    "followers_url": "https://api.github.com/users/prestonvanloon/followers",
    "following_url": "https://api.github.com/users/prestonvanloon/following{/other_user}",
    "gists_url": "https://api.github.com/users/prestonvanloon/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/prestonvanloon/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/prestonvanloon/subscriptions",
    "organizations_url": "https://api.github.com/users/prestonvanloon/orgs",
    "repos_url": "https://api.github.com/users/prestonvanloon/repos",
    "events_url": "https://api.github.com/users/prestonvanloon/events{/privacy}",
    "received_events_url": "https://api.github.com/users/prestonvanloon/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 1241586918,
      "node_id": "MDU6TGFiZWwxMjQxNTg2OTE4",
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/labels/Tracking",
      "name": "Tracking",
      "color": "d0ff7f",
      "default": false,
      "description": "Gotta Catch 'Em All"
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": {
    "login": "0xKiwi",
    "id": 6251510,
    "node_id": "MDQ6VXNlcjYyNTE1MTA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6251510?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/0xKiwi",
    "html_url": "https://github.com/0xKiwi",
    "followers_url": "https://api.github.com/users/0xKiwi/followers",
    "following_url": "https://api.github.com/users/0xKiwi/following{/other_user}",
    "gists_url": "https://api.github.com/users/0xKiwi/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/0xKiwi/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/0xKiwi/subscriptions",
    "organizations_url": "https://api.github.com/users/0xKiwi/orgs",
    "repos_url": "https://api.github.com/users/0xKiwi/repos",
    "events_url": "https://api.github.com/users/0xKiwi/events{/privacy}",
    "received_events_url": "https://api.github.com/users/0xKiwi/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "0xKiwi",
      "id": 6251510,
      "node_id": "MDQ6VXNlcjYyNTE1MTA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6251510?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/0xKiwi",
      "html_url": "https://github.com/0xKiwi",
      "followers_url": "https://api.github.com/users/0xKiwi/followers",
      "following_url": "https://api.github.com/users/0xKiwi/following{/other_user}",
      "gists_url": "https://api.github.com/users/0xKiwi/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/0xKiwi/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/0xKiwi/subscriptions",
      "organizations_url": "https://api.github.com/users/0xKiwi/orgs",
      "repos_url": "https://api.github.com/users/0xKiwi/repos",
      "events_url": "https://api.github.com/users/0xKiwi/events{/privacy}",
      "received_events_url": "https://api.github.com/users/0xKiwi/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 6,
  "created_at": "2019-08-05T02:21:50Z",
  "updated_at": "2019-09-08T19:50:02Z",
  "closed_at": "2019-09-08T19:50:02Z",
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": "Reference: https://github.com/ethereum/eth2.0-specs/releases/tag/v0.8.2\r\nTasks below copied from the changelog.\r\n\r\nBug fixes:\r\n- [x] correctly use bytes8 domain in bls in test generation (https://github.com/ethereum/eth2.0-specs/pull/1300)\r\n- [x] fix start shard for compact committees root (https://github.com/ethereum/eth2.0-specs/pull/1319) \r\n- [x] properly check attestation bitlist lengths (https://github.com/ethereum/eth2.0-specs/pull/1317)\r\n- [x] ignore latest messages in fork choice prior to latest justified (https://github.com/ethereum/eth2.0-specs/pull/1306)\r\n\r\nOther:\r\n- [x] ~test generation refactor (https://github.com/ethereum/eth2.0-specs/pull/1320)~ Skipped per https://github.com/prysmaticlabs/prysm/issues/3144#issuecomment-518070859\r\n\r\nI left out https://github.com/ethereum/eth2.0-specs/pull/1283, https://github.com/ethereum/eth2.0-specs/pull/1314, https://github.com/ethereum/eth2.0-specs/pull/1308 as these seem to be typo or English clarification PRs.\r\n\r\n",
  "closed_by": {
    "login": "rauljordan",
    "id": 5572669,
    "node_id": "MDQ6VXNlcjU1NzI2Njk=",
    "avatar_url": "https://avatars.githubusercontent.com/u/5572669?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/rauljordan",
    "html_url": "https://github.com/rauljordan",
    "followers_url": "https://api.github.com/users/rauljordan/followers",
    "following_url": "https://api.github.com/users/rauljordan/following{/other_user}",
    "gists_url": "https://api.github.com/users/rauljordan/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/rauljordan/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/rauljordan/subscriptions",
    "organizations_url": "https://api.github.com/users/rauljordan/orgs",
    "repos_url": "https://api.github.com/users/rauljordan/repos",
    "events_url": "https://api.github.com/users/rauljordan/events{/privacy}",
    "received_events_url": "https://api.github.com/users/rauljordan/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/3144/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/3144/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/518062624",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/3144#issuecomment-518062624",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/3144",
    "id": 518062624,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUxODA2MjYyNA==",
    "user": {
      "login": "terencechain",
      "id": 21316537,
      "node_id": "MDQ6VXNlcjIxMzE2NTM3",
      "avatar_url": "https://avatars.githubusercontent.com/u/21316537?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/terencechain",
      "html_url": "https://github.com/terencechain",
      "followers_url": "https://api.github.com/users/terencechain/followers",
      "following_url": "https://api.github.com/users/terencechain/following{/other_user}",
      "gists_url": "https://api.github.com/users/terencechain/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/terencechain/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/terencechain/subscriptions",
      "organizations_url": "https://api.github.com/users/terencechain/orgs",
      "repos_url": "https://api.github.com/users/terencechain/repos",
      "events_url": "https://api.github.com/users/terencechain/events{/privacy}",
      "received_events_url": "https://api.github.com/users/terencechain/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-08-05T02:23:25Z",
    "updated_at": "2019-08-05T02:23:25Z",
    "author_association": "MEMBER",
    "body": "Working on \"ignore latest messages in fork choice prior to latest justified\"",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/518062624/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/518065531",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/3144#issuecomment-518065531",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/3144",
    "id": 518065531,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUxODA2NTUzMQ==",
    "user": {
      "login": "prestonvanloon",
      "id": 7246818,
      "node_id": "MDQ6VXNlcjcyNDY4MTg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7246818?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/prestonvanloon",
      "html_url": "https://github.com/prestonvanloon",
      "followers_url": "https://api.github.com/users/prestonvanloon/followers",
      "following_url": "https://api.github.com/users/prestonvanloon/following{/other_user}",
      "gists_url": "https://api.github.com/users/prestonvanloon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/prestonvanloon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/prestonvanloon/subscriptions",
      "organizations_url": "https://api.github.com/users/prestonvanloon/orgs",
      "repos_url": "https://api.github.com/users/prestonvanloon/repos",
      "events_url": "https://api.github.com/users/prestonvanloon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/prestonvanloon/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-08-05T02:41:45Z",
    "updated_at": "2019-08-05T02:41:45Z",
    "author_association": "MEMBER",
    "body": "New test vectors are here: https://github.com/ethereum/eth2.0-spec-tests/releases/tag/v0.8.2. Note that there are three test bundles instead of one. This will cause a bit of a dependency refactoring / reorganizing.\r\n\r\nFor SSZ, the test are split into 3 files for each scenario. \r\n- value.yaml\r\n- meta.yaml\r\n- serialized.ssz\r\n\r\nThe yaml files are still hex encoded strings so they will need preprocessing in the forked repository. The upstream issue (https://github.com/ethereum/eth2.0-spec-tests/issues/5) is still valid, unfortunately, for SSZ tests.\r\n\r\nFor the mainnet / minimal tests, the bundles have been split into mainnet.tar.gz and minimal.tar.gz with a copy of the yaml and ssz encoded values. Given that we must continue to preprocess ssz test vectors, I'd argue that we remove the ssz encoded values and continue preprocessing the yaml to convert hex strings into canonical yaml format representation for binary data. This approach is the most minimal impact to current spectest suite. \r\n\r\nIn spec tests, the paths have change to include longer paths. Example for minimal.tar.gz. \r\n```\r\ntests/minimal/phase0/epoch_processing/crosslinks/pyspec_tests/double_late_crosslink/pre.ssz\r\ntests/minimal/phase0/epoch_processing/crosslinks/pyspec_tests/double_late_crosslink/post.yaml\r\ntests/minimal/phase0/epoch_processing/crosslinks/pyspec_tests/double_late_crosslink/post.ssz\r\ntests/minimal/phase0/epoch_processing/crosslinks/pyspec_tests/double_late_crosslink/pre.yaml\r\n```\r\n\r\nThese were previously:\r\n```\r\ntests/epoch_processing/crosslinks/crosslinks_minimal.yaml\r\ntests/epoch_processing/crosslinks/crosslinks_mainnet.yaml\r\n```\r\n\r\nIn any case the following are required:\r\n- Updating the dependency bundle (consolidation to a single bundle, preprocessing of yaml (if needed), removing ssz (if needed))\r\n- Updating the file paths in test\r\n- Updating tests to read multiple files for input / expected output\r\n- Update data structures to match new test input / output values \r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/518065531/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/518069640",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/3144#issuecomment-518069640",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/3144",
    "id": 518069640,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUxODA2OTY0MA==",
    "user": {
      "login": "prestonvanloon",
      "id": 7246818,
      "node_id": "MDQ6VXNlcjcyNDY4MTg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7246818?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/prestonvanloon",
      "html_url": "https://github.com/prestonvanloon",
      "followers_url": "https://api.github.com/users/prestonvanloon/followers",
      "following_url": "https://api.github.com/users/prestonvanloon/following{/other_user}",
      "gists_url": "https://api.github.com/users/prestonvanloon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/prestonvanloon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/prestonvanloon/subscriptions",
      "organizations_url": "https://api.github.com/users/prestonvanloon/orgs",
      "repos_url": "https://api.github.com/users/prestonvanloon/repos",
      "events_url": "https://api.github.com/users/prestonvanloon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/prestonvanloon/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-08-05T03:07:52Z",
    "updated_at": "2019-08-05T03:07:52Z",
    "author_association": "MEMBER",
    "body": "Options for handling testnet refactor:\r\n1. Skip updating tests for 0.8.2. There are no substantial requirements here anyway. We can defer this to a later time and potentially wait for a better alternative format. \r\n1. Adopt the new yamls (preprocessed to replace hex strings with canonical base64).\r\n1. Adopt ssz encoded binary files (still need to preprocess yaml for ssz tests).",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/518069640/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/518070859",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/3144#issuecomment-518070859",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/3144",
    "id": 518070859,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUxODA3MDg1OQ==",
    "user": {
      "login": "prestonvanloon",
      "id": 7246818,
      "node_id": "MDQ6VXNlcjcyNDY4MTg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7246818?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/prestonvanloon",
      "html_url": "https://github.com/prestonvanloon",
      "followers_url": "https://api.github.com/users/prestonvanloon/followers",
      "following_url": "https://api.github.com/users/prestonvanloon/following{/other_user}",
      "gists_url": "https://api.github.com/users/prestonvanloon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/prestonvanloon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/prestonvanloon/subscriptions",
      "organizations_url": "https://api.github.com/users/prestonvanloon/orgs",
      "repos_url": "https://api.github.com/users/prestonvanloon/repos",
      "events_url": "https://api.github.com/users/prestonvanloon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/prestonvanloon/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-08-05T03:15:34Z",
    "updated_at": "2019-08-05T03:15:34Z",
    "author_association": "MEMBER",
    "body": "Based on an offline discussion, we're opting to skip the test vector refactor (option 1) as there is little to no benefit at this time with a substantial change to the codebase. ",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/518070859/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/527220041",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/3144#issuecomment-527220041",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/3144",
    "id": 527220041,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUyNzIyMDA0MQ==",
    "user": {
      "login": "prestonvanloon",
      "id": 7246818,
      "node_id": "MDQ6VXNlcjcyNDY4MTg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7246818?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/prestonvanloon",
      "html_url": "https://github.com/prestonvanloon",
      "followers_url": "https://api.github.com/users/prestonvanloon/followers",
      "following_url": "https://api.github.com/users/prestonvanloon/following{/other_user}",
      "gists_url": "https://api.github.com/users/prestonvanloon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/prestonvanloon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/prestonvanloon/subscriptions",
      "organizations_url": "https://api.github.com/users/prestonvanloon/orgs",
      "repos_url": "https://api.github.com/users/prestonvanloon/repos",
      "events_url": "https://api.github.com/users/prestonvanloon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/prestonvanloon/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-09-02T18:29:55Z",
    "updated_at": "2019-09-02T18:29:55Z",
    "author_association": "MEMBER",
    "body": "We're now targeting all aspects of 0.8.2, including test format.",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/527220041/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/529235625",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/3144#issuecomment-529235625",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/3144",
    "id": 529235625,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUyOTIzNTYyNQ==",
    "user": {
      "login": "rauljordan",
      "id": 5572669,
      "node_id": "MDQ6VXNlcjU1NzI2Njk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5572669?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rauljordan",
      "html_url": "https://github.com/rauljordan",
      "followers_url": "https://api.github.com/users/rauljordan/followers",
      "following_url": "https://api.github.com/users/rauljordan/following{/other_user}",
      "gists_url": "https://api.github.com/users/rauljordan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rauljordan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rauljordan/subscriptions",
      "organizations_url": "https://api.github.com/users/rauljordan/orgs",
      "repos_url": "https://api.github.com/users/rauljordan/repos",
      "events_url": "https://api.github.com/users/rauljordan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rauljordan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-09-08T19:50:02Z",
    "updated_at": "2019-09-08T19:50:02Z",
    "author_association": "CONTRIBUTOR",
    "body": "Completed",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/529235625/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
