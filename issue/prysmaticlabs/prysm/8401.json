{
  "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/8401",
  "repository_url": "https://api.github.com/repos/prysmaticlabs/prysm",
  "labels_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/8401/labels{/name}",
  "comments_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/8401/comments",
  "events_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/8401/events",
  "html_url": "https://github.com/prysmaticlabs/prysm/issues/8401",
  "id": 801955423,
  "node_id": "MDU6SXNzdWU4MDE5NTU0MjM=",
  "number": 8401,
  "title": "Reoccuring (WARN NODE/VALIDATOR: The process just restarted)",
  "user": {
    "login": "Novop",
    "id": 13527777,
    "node_id": "MDQ6VXNlcjEzNTI3Nzc3",
    "avatar_url": "https://avatars.githubusercontent.com/u/13527777?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/Novop",
    "html_url": "https://github.com/Novop",
    "followers_url": "https://api.github.com/users/Novop/followers",
    "following_url": "https://api.github.com/users/Novop/following{/other_user}",
    "gists_url": "https://api.github.com/users/Novop/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/Novop/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/Novop/subscriptions",
    "organizations_url": "https://api.github.com/users/Novop/orgs",
    "repos_url": "https://api.github.com/users/Novop/repos",
    "events_url": "https://api.github.com/users/Novop/events{/privacy}",
    "received_events_url": "https://api.github.com/users/Novop/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 802129904,
      "node_id": "MDU6TGFiZWw4MDIxMjk5MDQ=",
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/labels/Bug",
      "name": "Bug",
      "color": "ee0701",
      "default": false,
      "description": "Something isn't working"
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 4,
  "created_at": "2021-02-05T08:17:16Z",
  "updated_at": "2021-02-10T17:06:21Z",
  "closed_at": "2021-02-10T17:06:21Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "\r\n# üêû Bug Report\r\n\r\n### Description\r\n\r\n**Problem: Processes gets randomly restarted!**\r\nI have my grafana dashboard send me notifications of any issues on my validator. \r\n\r\nI have been running my validators since Genesis without any problems.  \r\nI updated my client to v1.0.5 on 15th of December.  Had no issues until the 30th of January. \r\n\r\nI believe the reason I was able to catch these issues is because, in my configuration I have set a 13min sleep delay when the validator first boots up, for extra slashing protection (via the ExecStartPre=/bin/sleep 780 in the validator service file) \r\n\r\nThis also means that each time the process gets restarted, I also miss attestations (which is just a side effect of the process restarting)\r\n\r\n**At this point i am running client version v1.0.5**\r\nJanuary 30th  - WARN NODE/VALIDATOR: The process just restarted\r\n\r\nFebruary 2nd 4:51AM - WARN NODE/VALIDATOR: The process just restarted\r\nFebruary 2nd 9:41AM - WARN NODE/VALIDATOR: The process just restarted\r\n\r\n**At this point I went ahead and updated my client to version v1.1.0 to see if the problem is solved**\r\nFebruary 3nd 02:00AM - WARN NODE/VALIDATOR: The process just restarted\r\nFebruary 3nd 02:34AM - WARN NODE/VALIDATOR: The process just restarted\r\nFebruary 3nd 06:10AM - WARN NODE/VALIDATOR: The process just restarted\r\n\r\nFebruary 5nd 02:17AM - WARN NODE/VALIDATOR: The process just restarted\r\n- This time i also received this value (Metric name | Value) (beacon node | 0.090)\r\n\r\n### Has this worked before in a previous version?\r\n\r\nThis started happening after the 30th of Jan\r\n\r\n## üî¨ Minimal Reproduction\r\n\r\nI have followed Someresats guide mainly. \r\n\r\n## üåç  Your Environment\r\n\r\nDigitalOcean VPS\r\nUbuntu\r\n16GB Ram\r\n300GB SSD\r\n \r\nInfura endpoint\r\nAlchemy endpoint (fallover)",
  "closed_by": {
    "login": "rauljordan",
    "id": 5572669,
    "node_id": "MDQ6VXNlcjU1NzI2Njk=",
    "avatar_url": "https://avatars.githubusercontent.com/u/5572669?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/rauljordan",
    "html_url": "https://github.com/rauljordan",
    "followers_url": "https://api.github.com/users/rauljordan/followers",
    "following_url": "https://api.github.com/users/rauljordan/following{/other_user}",
    "gists_url": "https://api.github.com/users/rauljordan/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/rauljordan/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/rauljordan/subscriptions",
    "organizations_url": "https://api.github.com/users/rauljordan/orgs",
    "repos_url": "https://api.github.com/users/rauljordan/repos",
    "events_url": "https://api.github.com/users/rauljordan/events{/privacy}",
    "received_events_url": "https://api.github.com/users/rauljordan/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/8401/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/8401/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/773886316",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/8401#issuecomment-773886316",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/8401",
    "id": 773886316,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc3Mzg4NjMxNg==",
    "user": {
      "login": "nisdas",
      "id": 33201827,
      "node_id": "MDQ6VXNlcjMzMjAxODI3",
      "avatar_url": "https://avatars.githubusercontent.com/u/33201827?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nisdas",
      "html_url": "https://github.com/nisdas",
      "followers_url": "https://api.github.com/users/nisdas/followers",
      "following_url": "https://api.github.com/users/nisdas/following{/other_user}",
      "gists_url": "https://api.github.com/users/nisdas/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nisdas/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nisdas/subscriptions",
      "organizations_url": "https://api.github.com/users/nisdas/orgs",
      "repos_url": "https://api.github.com/users/nisdas/repos",
      "events_url": "https://api.github.com/users/nisdas/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nisdas/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-02-05T08:43:28Z",
    "updated_at": "2021-02-05T08:43:28Z",
    "author_association": "MEMBER",
    "body": "@Novop Do you have any validator error logs that might explain why it is being restarted ? ",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/773886316/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/774127629",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/8401#issuecomment-774127629",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/8401",
    "id": 774127629,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc3NDEyNzYyOQ==",
    "user": {
      "login": "Novop",
      "id": 13527777,
      "node_id": "MDQ6VXNlcjEzNTI3Nzc3",
      "avatar_url": "https://avatars.githubusercontent.com/u/13527777?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Novop",
      "html_url": "https://github.com/Novop",
      "followers_url": "https://api.github.com/users/Novop/followers",
      "following_url": "https://api.github.com/users/Novop/following{/other_user}",
      "gists_url": "https://api.github.com/users/Novop/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Novop/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Novop/subscriptions",
      "organizations_url": "https://api.github.com/users/Novop/orgs",
      "repos_url": "https://api.github.com/users/Novop/repos",
      "events_url": "https://api.github.com/users/Novop/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Novop/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-02-05T16:09:19Z",
    "updated_at": "2021-02-05T17:04:42Z",
    "author_association": "NONE",
    "body": "Still no clue as to why this is happening. \r\n\r\n\r\nThe process was restarted again this hour. I have identified the process to be the '**Beacon node**' process this time.  \r\n\r\n![beaconchain](https://user-images.githubusercontent.com/13527777/107058404-3f28bd80-67dd-11eb-9a0f-f427dcab4f40.png)\r\n\r\n\r\n\r\nLast nights 'up' status, shows that both the 'beacon' and 'validator' were restarted at the same time.  The validator took 13 minutes to get up, due to my 13 min sleep configuration.\r\n\r\n![beaconandvalidator](https://user-images.githubusercontent.com/13527777/107064934-cfb6cc00-67e4-11eb-9df0-7fd4eee29cca.png)\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/774127629/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/774163046",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/8401#issuecomment-774163046",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/8401",
    "id": 774163046,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc3NDE2MzA0Ng==",
    "user": {
      "login": "Novop",
      "id": 13527777,
      "node_id": "MDQ6VXNlcjEzNTI3Nzc3",
      "avatar_url": "https://avatars.githubusercontent.com/u/13527777?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Novop",
      "html_url": "https://github.com/Novop",
      "followers_url": "https://api.github.com/users/Novop/followers",
      "following_url": "https://api.github.com/users/Novop/following{/other_user}",
      "gists_url": "https://api.github.com/users/Novop/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Novop/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Novop/subscriptions",
      "organizations_url": "https://api.github.com/users/Novop/orgs",
      "repos_url": "https://api.github.com/users/Novop/repos",
      "events_url": "https://api.github.com/users/Novop/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Novop/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-02-05T17:08:14Z",
    "updated_at": "2021-02-05T17:08:14Z",
    "author_association": "NONE",
    "body": "Is there a specific log, that you would like me to check?\r\n\r\n![whattocheck](https://user-images.githubusercontent.com/13527777/107065338-55d31280-67e5-11eb-9a4d-a1f7178b1085.png)\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/774163046/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/776865927",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/8401#issuecomment-776865927",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/8401",
    "id": 776865927,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc3Njg2NTkyNw==",
    "user": {
      "login": "rauljordan",
      "id": 5572669,
      "node_id": "MDQ6VXNlcjU1NzI2Njk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5572669?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rauljordan",
      "html_url": "https://github.com/rauljordan",
      "followers_url": "https://api.github.com/users/rauljordan/followers",
      "following_url": "https://api.github.com/users/rauljordan/following{/other_user}",
      "gists_url": "https://api.github.com/users/rauljordan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rauljordan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rauljordan/subscriptions",
      "organizations_url": "https://api.github.com/users/rauljordan/orgs",
      "repos_url": "https://api.github.com/users/rauljordan/repos",
      "events_url": "https://api.github.com/users/rauljordan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rauljordan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-02-10T17:06:21Z",
    "updated_at": "2021-02-10T17:06:21Z",
    "author_association": "CONTRIBUTOR",
    "body": "Discussed offline with @Novop , there is something else in his systemd or operating system configuration that is sending SIGTERM calls to Prysm. Additionally, his monitoring had false positives of restarts where there was no actual restart in the node nor validator. If further issues occur, I have an open line with Novop to discuss solutions",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/776865927/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
