{
  "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/5533",
  "repository_url": "https://api.github.com/repos/prysmaticlabs/prysm",
  "labels_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/5533/labels{/name}",
  "comments_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/5533/comments",
  "events_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/5533/events",
  "html_url": "https://github.com/prysmaticlabs/prysm/issues/5533",
  "id": 603078640,
  "node_id": "MDU6SXNzdWU2MDMwNzg2NDA=",
  "number": 5533,
  "title": "Segfault inside WSL2 when in shared folder",
  "user": {
    "login": "Swader",
    "id": 1430603,
    "node_id": "MDQ6VXNlcjE0MzA2MDM=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1430603?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/Swader",
    "html_url": "https://github.com/Swader",
    "followers_url": "https://api.github.com/users/Swader/followers",
    "following_url": "https://api.github.com/users/Swader/following{/other_user}",
    "gists_url": "https://api.github.com/users/Swader/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/Swader/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/Swader/subscriptions",
    "organizations_url": "https://api.github.com/users/Swader/orgs",
    "repos_url": "https://api.github.com/users/Swader/repos",
    "events_url": "https://api.github.com/users/Swader/events{/privacy}",
    "received_events_url": "https://api.github.com/users/Swader/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 802129907,
      "node_id": "MDU6TGFiZWw4MDIxMjk5MDc=",
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/labels/Help%20Wanted",
      "name": "Help Wanted",
      "color": "33aa3f",
      "default": false,
      "description": "Extra attention is needed"
    },
    {
      "id": 1966354762,
      "node_id": "MDU6TGFiZWwxOTY2MzU0NzYy",
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/labels/Need-Info",
      "name": "Need-Info",
      "color": "fbca04",
      "default": false,
      "description": "Need more information from author"
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 7,
  "created_at": "2020-04-20T09:18:06Z",
  "updated_at": "2020-05-29T21:43:35Z",
  "closed_at": "2020-05-29T21:43:35Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "# üêû Bug Report\r\n\r\n### Description\r\n\r\nWhen running prysm in WSL2 on Windows (Ubuntu 18.04) the beacon-chain segfaults if started from a shared folder. It does not happen if started from within the Linux root.\r\n\r\n![image](https://user-images.githubusercontent.com/1430603/79735266-4cc99100-82f8-11ea-8e25-2373c57dde1f.png)\r\n\r\n![image](https://user-images.githubusercontent.com/1430603/79735295-5521cc00-82f8-11ea-9ac3-3503e6f405d1.png)\r\n\r\n### Has this worked before in a previous version?\r\n\r\nn/a\r\n\r\n## üî¨ Minimal Reproduction\r\n\r\n- Windows 10 insider, slow, updated\r\n- WSL2 installed\r\n- Ubuntu 18.04 installed\r\n- clone repo into `~`\r\n- clone repo into `/mnt/c/somefolder`\r\n- run beacon-chain from each, observe success in former, failure in latter\r\n\r\n## üî• Error\r\n\r\n```bash\r\nswader@DESKTOP-0OEAV37:/mnt/c/Users/Swader/repos/prysm$ ./prysm.sh beacon-chain\r\nLatest Prysm version is v1.0.0-alpha.4.\r\nBeacon chain is up to date.\r\nValidator is up to date.\r\nStarting Prysm beacon-chain\r\nSegmentation fault\r\n```\r\n\r\n## üåç  Your Environment\r\n\r\n**Operating System:**\r\n\r\n<pre>\r\n  <code>\r\nWindows 10, insider, slow mode, WSL2\r\n  </code>\r\n</pre>\r\n\r\n**What version of Prysm are you running? (Which release)**\r\n\r\n<pre>\r\n  <code>\r\nAlpha4\r\n  </code>\r\n</pre>\r\n",
  "closed_by": {
    "login": "no-response[bot]",
    "id": 32965360,
    "node_id": "MDM6Qm90MzI5NjUzNjA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/26350515?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/no-response%5Bbot%5D",
    "html_url": "https://github.com/apps/no-response",
    "followers_url": "https://api.github.com/users/no-response%5Bbot%5D/followers",
    "following_url": "https://api.github.com/users/no-response%5Bbot%5D/following{/other_user}",
    "gists_url": "https://api.github.com/users/no-response%5Bbot%5D/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/no-response%5Bbot%5D/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/no-response%5Bbot%5D/subscriptions",
    "organizations_url": "https://api.github.com/users/no-response%5Bbot%5D/orgs",
    "repos_url": "https://api.github.com/users/no-response%5Bbot%5D/repos",
    "events_url": "https://api.github.com/users/no-response%5Bbot%5D/events{/privacy}",
    "received_events_url": "https://api.github.com/users/no-response%5Bbot%5D/received_events",
    "type": "Bot",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/5533/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/5533/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/616933389",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/5533#issuecomment-616933389",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/5533",
    "id": 616933389,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxNjkzMzM4OQ==",
    "user": {
      "login": "prestonvanloon",
      "id": 7246818,
      "node_id": "MDQ6VXNlcjcyNDY4MTg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7246818?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/prestonvanloon",
      "html_url": "https://github.com/prestonvanloon",
      "followers_url": "https://api.github.com/users/prestonvanloon/followers",
      "following_url": "https://api.github.com/users/prestonvanloon/following{/other_user}",
      "gists_url": "https://api.github.com/users/prestonvanloon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/prestonvanloon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/prestonvanloon/subscriptions",
      "organizations_url": "https://api.github.com/users/prestonvanloon/orgs",
      "repos_url": "https://api.github.com/users/prestonvanloon/repos",
      "events_url": "https://api.github.com/users/prestonvanloon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/prestonvanloon/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-04-21T03:41:54Z",
    "updated_at": "2020-04-21T03:41:54Z",
    "author_association": "MEMBER",
    "body": "Can you clarify, are you running a Linux VM within windows?\r\n\r\nIs there any issue with using the bash script within windows itself? \r\n\r\ncc: @0xKiwi ",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/616933389/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/617993968",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/5533#issuecomment-617993968",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/5533",
    "id": 617993968,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxNzk5Mzk2OA==",
    "user": {
      "login": "Swader",
      "id": 1430603,
      "node_id": "MDQ6VXNlcjE0MzA2MDM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1430603?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Swader",
      "html_url": "https://github.com/Swader",
      "followers_url": "https://api.github.com/users/Swader/followers",
      "following_url": "https://api.github.com/users/Swader/following{/other_user}",
      "gists_url": "https://api.github.com/users/Swader/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Swader/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Swader/subscriptions",
      "organizations_url": "https://api.github.com/users/Swader/orgs",
      "repos_url": "https://api.github.com/users/Swader/repos",
      "events_url": "https://api.github.com/users/Swader/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Swader/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-04-22T19:41:12Z",
    "updated_at": "2020-04-22T19:41:12Z",
    "author_association": "NONE",
    "body": "This is only inside WSL as stated in minimum reqs. The failure happens when launching in a folder outside the VM's root, and does not happen inside the VM's root.\r\n\r\nWSL shares the VM's filesystem with the parent OS transparently, and it's accessible via `mnt` through the explorer and other tools like IDEs, but for some reason, this bridging is breaking the script in this case.\r\n\r\nIn Windows itself (no VM, native) there are no issues with the script.",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/617993968/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/618646798",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/5533#issuecomment-618646798",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/5533",
    "id": 618646798,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxODY0Njc5OA==",
    "user": {
      "login": "prestonvanloon",
      "id": 7246818,
      "node_id": "MDQ6VXNlcjcyNDY4MTg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7246818?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/prestonvanloon",
      "html_url": "https://github.com/prestonvanloon",
      "followers_url": "https://api.github.com/users/prestonvanloon/followers",
      "following_url": "https://api.github.com/users/prestonvanloon/following{/other_user}",
      "gists_url": "https://api.github.com/users/prestonvanloon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/prestonvanloon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/prestonvanloon/subscriptions",
      "organizations_url": "https://api.github.com/users/prestonvanloon/orgs",
      "repos_url": "https://api.github.com/users/prestonvanloon/repos",
      "events_url": "https://api.github.com/users/prestonvanloon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/prestonvanloon/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-04-23T20:24:05Z",
    "updated_at": "2020-04-23T20:24:05Z",
    "author_association": "MEMBER",
    "body": "Thanks for the update. I'm not entirely sure how to proceed with this issue given that I'm not familiar with running linux as a subsystem on windows. Added help wanted flag for now.",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/618646798/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/619123525",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/5533#issuecomment-619123525",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/5533",
    "id": 619123525,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxOTEyMzUyNQ==",
    "user": {
      "login": "Phistr90",
      "id": 12374491,
      "node_id": "MDQ6VXNlcjEyMzc0NDkx",
      "avatar_url": "https://avatars.githubusercontent.com/u/12374491?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Phistr90",
      "html_url": "https://github.com/Phistr90",
      "followers_url": "https://api.github.com/users/Phistr90/followers",
      "following_url": "https://api.github.com/users/Phistr90/following{/other_user}",
      "gists_url": "https://api.github.com/users/Phistr90/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Phistr90/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Phistr90/subscriptions",
      "organizations_url": "https://api.github.com/users/Phistr90/orgs",
      "repos_url": "https://api.github.com/users/Phistr90/repos",
      "events_url": "https://api.github.com/users/Phistr90/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Phistr90/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-04-24T16:44:26Z",
    "updated_at": "2020-04-24T16:57:49Z",
    "author_association": "NONE",
    "body": "Cannot reproduce on my WSL. Works fine on OS build 19608.1006 with Ubuntu 18.4 build from source (head ffdf24873)\r\n\r\nUsing the script I get an error `[2020-04-24 18:56:19] ERROR main: cannot obtain database lock, database may be in use by another process` although I specified a different datadir and rpc port.",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/619123525/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/619526973",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/5533#issuecomment-619526973",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/5533",
    "id": 619526973,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxOTUyNjk3Mw==",
    "user": {
      "login": "Swader",
      "id": 1430603,
      "node_id": "MDQ6VXNlcjE0MzA2MDM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1430603?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Swader",
      "html_url": "https://github.com/Swader",
      "followers_url": "https://api.github.com/users/Swader/followers",
      "following_url": "https://api.github.com/users/Swader/following{/other_user}",
      "gists_url": "https://api.github.com/users/Swader/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Swader/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Swader/subscriptions",
      "organizations_url": "https://api.github.com/users/Swader/orgs",
      "repos_url": "https://api.github.com/users/Swader/repos",
      "events_url": "https://api.github.com/users/Swader/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Swader/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-04-26T10:41:06Z",
    "updated_at": "2020-04-26T10:41:06Z",
    "author_association": "NONE",
    "body": "Strange. I can't debug this more right now, but I'll come back to this with more info once I have time to  explore further.",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/619526973/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/626311210",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/5533#issuecomment-626311210",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/5533",
    "id": 626311210,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYyNjMxMTIxMA==",
    "user": {
      "login": "wgknowles",
      "id": 12946048,
      "node_id": "MDQ6VXNlcjEyOTQ2MDQ4",
      "avatar_url": "https://avatars.githubusercontent.com/u/12946048?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/wgknowles",
      "html_url": "https://github.com/wgknowles",
      "followers_url": "https://api.github.com/users/wgknowles/followers",
      "following_url": "https://api.github.com/users/wgknowles/following{/other_user}",
      "gists_url": "https://api.github.com/users/wgknowles/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/wgknowles/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/wgknowles/subscriptions",
      "organizations_url": "https://api.github.com/users/wgknowles/orgs",
      "repos_url": "https://api.github.com/users/wgknowles/repos",
      "events_url": "https://api.github.com/users/wgknowles/events{/privacy}",
      "received_events_url": "https://api.github.com/users/wgknowles/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-05-10T11:11:04Z",
    "updated_at": "2020-05-10T11:12:02Z",
    "author_association": "CONTRIBUTOR",
    "body": "Followed same steps, got a different result:\r\n```wgknowles@Rig:/mnt/c/Prysm/prysm$ ./prysm.sh beacon-chain\r\n-bash: ./prysm.sh: /bin/bash^M: bad interpreter: No such file or directory\r\n```\r\n\r\nThe ^M indicates that it's not handling the line break correctly.\r\n\r\n```C:\\>wsl --list --verbose\r\n  NAME      STATE           VERSION\r\n* Ubuntu    Running         2\r\n```\r\n\r\n**Workaround**\r\nIt works just fine if I run prysm.sh from a non-shared folder (e.g. ~\\prysm) and specify a datadir in the shared folder.\r\n\r\n```wgknowles@Rig:~/prysm$ ./prysm.sh beacon-chain --datadir=/mnt/c/Users\\wgknowles\\AppData\\Roaming\\Eth2```\r\n\r\nProbably not the best use of time troubleshooting this niche WSL issue to be fair...",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/626311210/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/636205130",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/5533#issuecomment-636205130",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/5533",
    "id": 636205130,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYzNjIwNTEzMA==",
    "user": {
      "login": "no-response[bot]",
      "id": 32965360,
      "node_id": "MDM6Qm90MzI5NjUzNjA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/26350515?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/no-response%5Bbot%5D",
      "html_url": "https://github.com/apps/no-response",
      "followers_url": "https://api.github.com/users/no-response%5Bbot%5D/followers",
      "following_url": "https://api.github.com/users/no-response%5Bbot%5D/following{/other_user}",
      "gists_url": "https://api.github.com/users/no-response%5Bbot%5D/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/no-response%5Bbot%5D/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/no-response%5Bbot%5D/subscriptions",
      "organizations_url": "https://api.github.com/users/no-response%5Bbot%5D/orgs",
      "repos_url": "https://api.github.com/users/no-response%5Bbot%5D/repos",
      "events_url": "https://api.github.com/users/no-response%5Bbot%5D/events{/privacy}",
      "received_events_url": "https://api.github.com/users/no-response%5Bbot%5D/received_events",
      "type": "Bot",
      "site_admin": false
    },
    "created_at": "2020-05-29T21:43:34Z",
    "updated_at": "2020-05-29T21:43:34Z",
    "author_association": "NONE",
    "body": "This issue has been automatically closed because there has been no response to our request for more information from the original author. With only the information that is currently in the issue, we don't have enough information to take action. Please reach out if you have or find the answers we need so that we can investigate further.\n",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/636205130/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
