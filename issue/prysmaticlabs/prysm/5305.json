{
  "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/5305",
  "repository_url": "https://api.github.com/repos/prysmaticlabs/prysm",
  "labels_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/5305/labels{/name}",
  "comments_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/5305/comments",
  "events_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/5305/events",
  "html_url": "https://github.com/prysmaticlabs/prysm/issues/5305",
  "id": 593786317,
  "node_id": "MDU6SXNzdWU1OTM3ODYzMTc=",
  "number": 5305,
  "title": "Reported validator balances inconsistent",
  "user": {
    "login": "torfbolt",
    "id": 233423,
    "node_id": "MDQ6VXNlcjIzMzQyMw==",
    "avatar_url": "https://avatars.githubusercontent.com/u/233423?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/torfbolt",
    "html_url": "https://github.com/torfbolt",
    "followers_url": "https://api.github.com/users/torfbolt/followers",
    "following_url": "https://api.github.com/users/torfbolt/following{/other_user}",
    "gists_url": "https://api.github.com/users/torfbolt/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/torfbolt/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/torfbolt/subscriptions",
    "organizations_url": "https://api.github.com/users/torfbolt/orgs",
    "repos_url": "https://api.github.com/users/torfbolt/repos",
    "events_url": "https://api.github.com/users/torfbolt/events{/privacy}",
    "received_events_url": "https://api.github.com/users/torfbolt/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": {
    "login": "terencechain",
    "id": 21316537,
    "node_id": "MDQ6VXNlcjIxMzE2NTM3",
    "avatar_url": "https://avatars.githubusercontent.com/u/21316537?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/terencechain",
    "html_url": "https://github.com/terencechain",
    "followers_url": "https://api.github.com/users/terencechain/followers",
    "following_url": "https://api.github.com/users/terencechain/following{/other_user}",
    "gists_url": "https://api.github.com/users/terencechain/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/terencechain/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/terencechain/subscriptions",
    "organizations_url": "https://api.github.com/users/terencechain/orgs",
    "repos_url": "https://api.github.com/users/terencechain/repos",
    "events_url": "https://api.github.com/users/terencechain/events{/privacy}",
    "received_events_url": "https://api.github.com/users/terencechain/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "terencechain",
      "id": 21316537,
      "node_id": "MDQ6VXNlcjIxMzE2NTM3",
      "avatar_url": "https://avatars.githubusercontent.com/u/21316537?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/terencechain",
      "html_url": "https://github.com/terencechain",
      "followers_url": "https://api.github.com/users/terencechain/followers",
      "following_url": "https://api.github.com/users/terencechain/following{/other_user}",
      "gists_url": "https://api.github.com/users/terencechain/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/terencechain/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/terencechain/subscriptions",
      "organizations_url": "https://api.github.com/users/terencechain/orgs",
      "repos_url": "https://api.github.com/users/terencechain/repos",
      "events_url": "https://api.github.com/users/terencechain/events{/privacy}",
      "received_events_url": "https://api.github.com/users/terencechain/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 4,
  "created_at": "2020-04-04T09:46:32Z",
  "updated_at": "2020-04-17T08:57:17Z",
  "closed_at": "2020-04-17T08:57:17Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "For my validator client (V0.3.9) the epoch summaries show a very inconsistent picture of the balance. The reported percent change is always negative (see #5247), but the absolute values are sometimes rising and sometimes falling. Also, the new balance of the previous epoch is not equal to the old balance of the current epoch.\r\n\r\nAlso the inclusion slot looks very strange to me, being larger than the current slot number.\r\n\r\n```\r\nApr 04 09:16:48 ethnode-4ae769e8 validator[20051]: time=\"2020-04-04 09:16:48\" level=info msg=\"Previous epoch voting summary\" correctlyVotedHead=false correctlyVotedSource=false correctlyVotedTarget=false epoch=19211 inclusionDistance=18446744073709551615 inclusionSlot=18446744073709551615 newBalance=3.133435656 oldBalance=3.133479487 percentChange=\"-0.00140%\" prefix=validator pubKey=0x8a8cd1076aaec9a4\r\n...\r\nApr 04 09:23:12 ethnode-4ae769e8 validator[20051]: time=\"2020-04-04 09:23:12\" level=info msg=\"Previous epoch voting summary\" correctlyVotedHead=false correctlyVotedSource=false correctlyVotedTarget=false epoch=19212 inclusionDistance=18446744073709551615 inclusionSlot=18446744073709551615 newBalance=3.133510021 oldBalance=3.133550157 percentChange=\"-0.00128%\" prefix=validator pubKey=0x8a8cd1076aaec9a4\r\n...\r\nApr 04 09:29:36 ethnode-4ae769e8 validator[20051]: time=\"2020-04-04 09:29:36\" level=info msg=\"Previous epoch voting summary\" correctlyVotedHead=false correctlyVotedSource=false correctlyVotedTarget=false epoch=19213 inclusionDistance=18446744073709551615 inclusionSlot=18446744073709551615 newBalance=3.133345222 oldBalance=3.133390901 percentChange=\"-0.00146%\" prefix=validator pubKey=0x8a8cd1076aaec9a4\r\n```\r\n",
  "closed_by": {
    "login": "nisdas",
    "id": 33201827,
    "node_id": "MDQ6VXNlcjMzMjAxODI3",
    "avatar_url": "https://avatars.githubusercontent.com/u/33201827?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/nisdas",
    "html_url": "https://github.com/nisdas",
    "followers_url": "https://api.github.com/users/nisdas/followers",
    "following_url": "https://api.github.com/users/nisdas/following{/other_user}",
    "gists_url": "https://api.github.com/users/nisdas/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/nisdas/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/nisdas/subscriptions",
    "organizations_url": "https://api.github.com/users/nisdas/orgs",
    "repos_url": "https://api.github.com/users/nisdas/repos",
    "events_url": "https://api.github.com/users/nisdas/events{/privacy}",
    "received_events_url": "https://api.github.com/users/nisdas/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/5305/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/5305/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/609461299",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/5305#issuecomment-609461299",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/5305",
    "id": 609461299,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYwOTQ2MTI5OQ==",
    "user": {
      "login": "0xKiwi",
      "id": 6251510,
      "node_id": "MDQ6VXNlcjYyNTE1MTA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6251510?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/0xKiwi",
      "html_url": "https://github.com/0xKiwi",
      "followers_url": "https://api.github.com/users/0xKiwi/followers",
      "following_url": "https://api.github.com/users/0xKiwi/following{/other_user}",
      "gists_url": "https://api.github.com/users/0xKiwi/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/0xKiwi/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/0xKiwi/subscriptions",
      "organizations_url": "https://api.github.com/users/0xKiwi/orgs",
      "repos_url": "https://api.github.com/users/0xKiwi/repos",
      "events_url": "https://api.github.com/users/0xKiwi/events{/privacy}",
      "received_events_url": "https://api.github.com/users/0xKiwi/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-04-05T18:31:21Z",
    "updated_at": "2020-04-05T18:31:21Z",
    "author_association": "CONTRIBUTOR",
    "body": "Hello @torfbolt ! Thanks for reporting this, although I believe mild fluctuations in rewards/penalties are normal, those inclusion slots definitely look off. \r\nMaybe @terencechain can take a closer look at whats going on?\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/609461299/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/609859768",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/5305#issuecomment-609859768",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/5305",
    "id": 609859768,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYwOTg1OTc2OA==",
    "user": {
      "login": "terencechain",
      "id": 21316537,
      "node_id": "MDQ6VXNlcjIxMzE2NTM3",
      "avatar_url": "https://avatars.githubusercontent.com/u/21316537?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/terencechain",
      "html_url": "https://github.com/terencechain",
      "followers_url": "https://api.github.com/users/terencechain/followers",
      "following_url": "https://api.github.com/users/terencechain/following{/other_user}",
      "gists_url": "https://api.github.com/users/terencechain/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/terencechain/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/terencechain/subscriptions",
      "organizations_url": "https://api.github.com/users/terencechain/orgs",
      "repos_url": "https://api.github.com/users/terencechain/repos",
      "events_url": "https://api.github.com/users/terencechain/events{/privacy}",
      "received_events_url": "https://api.github.com/users/terencechain/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-04-06T15:20:08Z",
    "updated_at": "2020-04-06T15:20:08Z",
    "author_association": "MEMBER",
    "body": "@torfbolt please provide more evidence such as:\r\n`absolute values are sometimes rising and sometimes falling`\r\n`new balance of the previous epoch is not equal to the old balance of the current epoch`",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/609859768/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/615128651",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/5305#issuecomment-615128651",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/5305",
    "id": 615128651,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxNTEyODY1MQ==",
    "user": {
      "login": "torfbolt",
      "id": 233423,
      "node_id": "MDQ6VXNlcjIzMzQyMw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/233423?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/torfbolt",
      "html_url": "https://github.com/torfbolt",
      "followers_url": "https://api.github.com/users/torfbolt/followers",
      "following_url": "https://api.github.com/users/torfbolt/following{/other_user}",
      "gists_url": "https://api.github.com/users/torfbolt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/torfbolt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/torfbolt/subscriptions",
      "organizations_url": "https://api.github.com/users/torfbolt/orgs",
      "repos_url": "https://api.github.com/users/torfbolt/repos",
      "events_url": "https://api.github.com/users/torfbolt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/torfbolt/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-04-17T08:54:30Z",
    "updated_at": "2020-04-17T08:54:30Z",
    "author_association": "NONE",
    "body": "If you look at the reported balances for consecutive epochs in the log I posted, you see that the new balance of the previous epoch is not equal to the old balance of the current epoch. However, I did not see this issue again for some time. I will check if it occurs again on Topaz.",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/615128651/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/615129976",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/5305#issuecomment-615129976",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/5305",
    "id": 615129976,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxNTEyOTk3Ng==",
    "user": {
      "login": "nisdas",
      "id": 33201827,
      "node_id": "MDQ6VXNlcjMzMjAxODI3",
      "avatar_url": "https://avatars.githubusercontent.com/u/33201827?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nisdas",
      "html_url": "https://github.com/nisdas",
      "followers_url": "https://api.github.com/users/nisdas/followers",
      "following_url": "https://api.github.com/users/nisdas/following{/other_user}",
      "gists_url": "https://api.github.com/users/nisdas/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nisdas/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nisdas/subscriptions",
      "organizations_url": "https://api.github.com/users/nisdas/orgs",
      "repos_url": "https://api.github.com/users/nisdas/repos",
      "events_url": "https://api.github.com/users/nisdas/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nisdas/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-04-17T08:57:16Z",
    "updated_at": "2020-04-17T08:57:16Z",
    "author_association": "MEMBER",
    "body": "Hey @torfbolt lets track this issue in #5377 . This is pretty much the same issue, and we have been looking at potential solutions for it. Closing this issue and moving conversation there. ",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/615129976/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
