{
  "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/6896",
  "repository_url": "https://api.github.com/repos/prysmaticlabs/prysm",
  "labels_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/6896/labels{/name}",
  "comments_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/6896/comments",
  "events_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/6896/events",
  "html_url": "https://github.com/prysmaticlabs/prysm/issues/6896",
  "id": 673882867,
  "node_id": "MDU6SXNzdWU2NzM4ODI4Njc=",
  "number": 6896,
  "title": "Validator not starting if started together with beacon chain",
  "user": {
    "login": "Belkaar",
    "id": 2395990,
    "node_id": "MDQ6VXNlcjIzOTU5OTA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/2395990?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/Belkaar",
    "html_url": "https://github.com/Belkaar",
    "followers_url": "https://api.github.com/users/Belkaar/followers",
    "following_url": "https://api.github.com/users/Belkaar/following{/other_user}",
    "gists_url": "https://api.github.com/users/Belkaar/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/Belkaar/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/Belkaar/subscriptions",
    "organizations_url": "https://api.github.com/users/Belkaar/orgs",
    "repos_url": "https://api.github.com/users/Belkaar/repos",
    "events_url": "https://api.github.com/users/Belkaar/events{/privacy}",
    "received_events_url": "https://api.github.com/users/Belkaar/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 802129904,
      "node_id": "MDU6TGFiZWw4MDIxMjk5MDQ=",
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/labels/Bug",
      "name": "Bug",
      "color": "ee0701",
      "default": false,
      "description": "Something isn't working"
    },
    {
      "id": 1085357407,
      "node_id": "MDU6TGFiZWwxMDg1MzU3NDA3",
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/labels/Priority:%20Medium",
      "name": "Priority: Medium",
      "color": "bbf726",
      "default": false,
      "description": "Medium priority item"
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 6,
  "created_at": "2020-08-05T22:20:38Z",
  "updated_at": "2020-08-26T10:54:34Z",
  "closed_at": "2020-08-26T10:54:34Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "# üêû Bug Report\r\n\r\n### Description\r\n\r\nIf validator and beacon chain are started together with systemd (calling prysm.sh), the validator prints this:\r\n`level=info msg=\"Waiting for beacon chain start log from the ETH 1.0 deposit contract\" prefix=validator`\r\nand stays there.\r\n\r\nRestarting the validator resolves the issue, but the system does not boot to a functional state.\r\n\r\n### Has this worked before in a previous version?\r\n\r\nDon't know\r\n\r\n## üî¨ Minimal Reproduction\r\n\r\nGuess:\r\n* Start validator while beacon is in early startup\r\n\r\n## üî• Error\r\n\r\n\r\n## üåç  Your Environment\r\n\r\n**Operating System:**\r\n\r\n<pre>\r\n  <code>\r\nDebian 10\r\n  </code>\r\n</pre>\r\n\r\n**What version of Prysm are you running? (Which release)**\r\n\r\n<pre>\r\n  <code>\r\nalpha.19\r\n  </code>\r\n</pre>\r\n\r\n**Anything else relevant (validator index / public key)?**\r\n\r\n",
  "closed_by": {
    "login": "prylabs-bulldozer[bot]",
    "id": 58059840,
    "node_id": "MDM6Qm90NTgwNTk4NDA=",
    "avatar_url": "https://avatars.githubusercontent.com/in/47372?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/prylabs-bulldozer%5Bbot%5D",
    "html_url": "https://github.com/apps/prylabs-bulldozer",
    "followers_url": "https://api.github.com/users/prylabs-bulldozer%5Bbot%5D/followers",
    "following_url": "https://api.github.com/users/prylabs-bulldozer%5Bbot%5D/following{/other_user}",
    "gists_url": "https://api.github.com/users/prylabs-bulldozer%5Bbot%5D/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/prylabs-bulldozer%5Bbot%5D/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/prylabs-bulldozer%5Bbot%5D/subscriptions",
    "organizations_url": "https://api.github.com/users/prylabs-bulldozer%5Bbot%5D/orgs",
    "repos_url": "https://api.github.com/users/prylabs-bulldozer%5Bbot%5D/repos",
    "events_url": "https://api.github.com/users/prylabs-bulldozer%5Bbot%5D/events{/privacy}",
    "received_events_url": "https://api.github.com/users/prylabs-bulldozer%5Bbot%5D/received_events",
    "type": "Bot",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/6896/reactions",
    "total_count": 4,
    "+1": 4,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/6896/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/669604414",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/6896#issuecomment-669604414",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/6896",
    "id": 669604414,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY2OTYwNDQxNA==",
    "user": {
      "login": "j8sr",
      "id": 8766926,
      "node_id": "MDQ6VXNlcjg3NjY5MjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8766926?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/j8sr",
      "html_url": "https://github.com/j8sr",
      "followers_url": "https://api.github.com/users/j8sr/followers",
      "following_url": "https://api.github.com/users/j8sr/following{/other_user}",
      "gists_url": "https://api.github.com/users/j8sr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/j8sr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/j8sr/subscriptions",
      "organizations_url": "https://api.github.com/users/j8sr/orgs",
      "repos_url": "https://api.github.com/users/j8sr/repos",
      "events_url": "https://api.github.com/users/j8sr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/j8sr/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-08-05T23:56:29Z",
    "updated_at": "2020-08-05T23:56:29Z",
    "author_association": "NONE",
    "body": "How long did you wait after starting up both? After the beacon chain syncs to the most current node the validator will start on its own. \r\n`level=info msg=\"Waiting for beacon chain start log from the ETH 1.0 deposit contract\" prefix=validator`\r\nis expected behaviour for the validator during beacon chain startup.",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/669604414/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/669604875",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/6896#issuecomment-669604875",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/6896",
    "id": 669604875,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY2OTYwNDg3NQ==",
    "user": {
      "login": "Michael-A-Heuer",
      "id": 20623991,
      "node_id": "MDQ6VXNlcjIwNjIzOTkx",
      "avatar_url": "https://avatars.githubusercontent.com/u/20623991?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Michael-A-Heuer",
      "html_url": "https://github.com/Michael-A-Heuer",
      "followers_url": "https://api.github.com/users/Michael-A-Heuer/followers",
      "following_url": "https://api.github.com/users/Michael-A-Heuer/following{/other_user}",
      "gists_url": "https://api.github.com/users/Michael-A-Heuer/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Michael-A-Heuer/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Michael-A-Heuer/subscriptions",
      "organizations_url": "https://api.github.com/users/Michael-A-Heuer/orgs",
      "repos_url": "https://api.github.com/users/Michael-A-Heuer/repos",
      "events_url": "https://api.github.com/users/Michael-A-Heuer/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Michael-A-Heuer/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-08-05T23:58:15Z",
    "updated_at": "2020-08-05T23:58:15Z",
    "author_association": "NONE",
    "body": "I can confirm this. This seems to happen even if the beacon node was synced before.\r\nI repeatedly got\r\n```\r\nAug 06 01:52:44 ethnode prysm-bn[767]: time=\"2020-08-06 01:52:44\" level=info msg=\"Waiting for enough suitable peers before syncing\" prefix=initial-sync required=3 suitable=0\r\nAug 06 01:52:47 ethnode prysm-vc[768]: time=\"2020-08-06 01:52:47\" level=info msg=\"Waiting for beacon node to sync to latest chain head\" prefix=validator\r\n```\r\nfor 5 minutes.\r\nStopping the validator, restarting the beacon, and starting the validator helped.",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/669604875/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/669888658",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/6896#issuecomment-669888658",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/6896",
    "id": 669888658,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY2OTg4ODY1OA==",
    "user": {
      "login": "fireagainsmile",
      "id": 15103439,
      "node_id": "MDQ6VXNlcjE1MTAzNDM5",
      "avatar_url": "https://avatars.githubusercontent.com/u/15103439?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fireagainsmile",
      "html_url": "https://github.com/fireagainsmile",
      "followers_url": "https://api.github.com/users/fireagainsmile/followers",
      "following_url": "https://api.github.com/users/fireagainsmile/following{/other_user}",
      "gists_url": "https://api.github.com/users/fireagainsmile/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fireagainsmile/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fireagainsmile/subscriptions",
      "organizations_url": "https://api.github.com/users/fireagainsmile/orgs",
      "repos_url": "https://api.github.com/users/fireagainsmile/repos",
      "events_url": "https://api.github.com/users/fireagainsmile/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fireagainsmile/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-08-06T12:09:08Z",
    "updated_at": "2020-08-06T16:22:56Z",
    "author_association": "NONE",
    "body": "I built a docker image using prysm script,  run a validator and a beacon chain in two containers on the same machine.\r\n\r\nuse API query beacon-chain status: \r\n`#curl localhost:3500/eth/v1alpha1/node/syncing\r\n{\"syncing\":false}`\r\n\r\nrestarted several times, always got this\r\n\r\n```\r\ntime=\"2020-08-06 10:52:49\" level=info msg=\"(wallet path) /root/.eth2validators/prysm-wallet-v2\" prefix=accounts-v2\r\ntime=\"2020-08-06 10:52:49\" level=info msg=\"(wallet directory) /root/.eth2validators/prysm-wallet-v2\" prefix=accounts-v2\r\ntime=\"2020-08-06 10:52:49\" level=warning msg=\"No keys found; nothing to validate\" prefix=node\r\ntime=\"2020-08-06 10:52:49\" level=info msg=\"Checking DB\" databasePath=\"/root/.eth2\" prefix=node\r\ntime=\"2020-08-06 10:52:49\" level=info msg=\"Starting validator node\" prefix=node version=\"Prysm/v1.0.0-alpha.19/0d118df0343bf0e268e9fb4f2d5eb60156519c11. Built at: 2020-08-05 14:27:07+00:00\"\r\ntime=\"2020-08-06 10:52:49\" level=warning msg=\"You are using an insecure gRPC connection. If you are running your beacon node and validator on the same machines, you can ignore this message. If you want to know how to enable secure connections, see: https://docs.prylabs.network/docs/prysm-usage/secure-grpc\" prefix=validator\r\ntime=\"2020-08-06 10:52:49\" level=info msg=\"Waiting for beacon chain start log from the ETH 1.0 deposit contract\" prefix=validator\r\n```\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/669888658/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/671085828",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/6896#issuecomment-671085828",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/6896",
    "id": 671085828,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY3MTA4NTgyOA==",
    "user": {
      "login": "hoangong",
      "id": 5703525,
      "node_id": "MDQ6VXNlcjU3MDM1MjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5703525?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hoangong",
      "html_url": "https://github.com/hoangong",
      "followers_url": "https://api.github.com/users/hoangong/followers",
      "following_url": "https://api.github.com/users/hoangong/following{/other_user}",
      "gists_url": "https://api.github.com/users/hoangong/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hoangong/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hoangong/subscriptions",
      "organizations_url": "https://api.github.com/users/hoangong/orgs",
      "repos_url": "https://api.github.com/users/hoangong/repos",
      "events_url": "https://api.github.com/users/hoangong/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hoangong/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-08-09T18:31:04Z",
    "updated_at": "2020-08-09T18:31:04Z",
    "author_association": "NONE",
    "body": "I have the same problem. My setup is in kubernetes and so the order of starting up is not guarantee. I had this issue times to times and had to restart the validator to fix.",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/671085828/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/677205379",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/6896#issuecomment-677205379",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/6896",
    "id": 677205379,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY3NzIwNTM3OQ==",
    "user": {
      "login": "0xKiwi",
      "id": 6251510,
      "node_id": "MDQ6VXNlcjYyNTE1MTA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6251510?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/0xKiwi",
      "html_url": "https://github.com/0xKiwi",
      "followers_url": "https://api.github.com/users/0xKiwi/followers",
      "following_url": "https://api.github.com/users/0xKiwi/following{/other_user}",
      "gists_url": "https://api.github.com/users/0xKiwi/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/0xKiwi/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/0xKiwi/subscriptions",
      "organizations_url": "https://api.github.com/users/0xKiwi/orgs",
      "repos_url": "https://api.github.com/users/0xKiwi/repos",
      "events_url": "https://api.github.com/users/0xKiwi/events{/privacy}",
      "received_events_url": "https://api.github.com/users/0xKiwi/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-08-20T05:52:14Z",
    "updated_at": "2020-08-20T05:52:14Z",
    "author_association": "CONTRIBUTOR",
    "body": "This seems like a common issue, maybe it's affected by accounts-v2 decrypting? @rauljordan ",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/677205379/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/679421912",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/6896#issuecomment-679421912",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/6896",
    "id": 679421912,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY3OTQyMTkxMg==",
    "user": {
      "login": "WMEth",
      "id": 69309803,
      "node_id": "MDQ6VXNlcjY5MzA5ODAz",
      "avatar_url": "https://avatars.githubusercontent.com/u/69309803?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/WMEth",
      "html_url": "https://github.com/WMEth",
      "followers_url": "https://api.github.com/users/WMEth/followers",
      "following_url": "https://api.github.com/users/WMEth/following{/other_user}",
      "gists_url": "https://api.github.com/users/WMEth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/WMEth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/WMEth/subscriptions",
      "organizations_url": "https://api.github.com/users/WMEth/orgs",
      "repos_url": "https://api.github.com/users/WMEth/repos",
      "events_url": "https://api.github.com/users/WMEth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/WMEth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-08-24T23:48:21Z",
    "updated_at": "2020-08-24T23:48:21Z",
    "author_association": "NONE",
    "body": "I believe this is a duplicate of #6325. This problem has been around since at least June 20th so I think the cause predates accounts-v2.",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/679421912/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
