{
  "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/7924",
  "repository_url": "https://api.github.com/repos/prysmaticlabs/prysm",
  "labels_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/7924/labels{/name}",
  "comments_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/7924/comments",
  "events_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/7924/events",
  "html_url": "https://github.com/prysmaticlabs/prysm/issues/7924",
  "id": 748763182,
  "node_id": "MDU6SXNzdWU3NDg3NjMxODI=",
  "number": 7924,
  "title": "validator --version doesn't print out actual version but Prysm/{STABLE_GIT_TAG}/{STABLE_GIT_COMMIT}",
  "user": {
    "login": "agro1986",
    "id": 6017531,
    "node_id": "MDQ6VXNlcjYwMTc1MzE=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6017531?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/agro1986",
    "html_url": "https://github.com/agro1986",
    "followers_url": "https://api.github.com/users/agro1986/followers",
    "following_url": "https://api.github.com/users/agro1986/following{/other_user}",
    "gists_url": "https://api.github.com/users/agro1986/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/agro1986/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/agro1986/subscriptions",
    "organizations_url": "https://api.github.com/users/agro1986/orgs",
    "repos_url": "https://api.github.com/users/agro1986/repos",
    "events_url": "https://api.github.com/users/agro1986/events{/privacy}",
    "received_events_url": "https://api.github.com/users/agro1986/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 5,
  "created_at": "2020-11-23T12:31:29Z",
  "updated_at": "2021-02-09T01:05:07Z",
  "closed_at": "2021-02-09T01:05:07Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "<!--üíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíé\r\n\r\nHellooo! üòÑ \r\n\r\nTo help us tend to your issue faster, please search our currently open issues before submitting a new one.\r\nExisting issues often contain information about workarounds, resolution, or progress updates.\r\n\r\nüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíé-->\r\n\r\n# üêû Bug Report\r\n\r\n### Description\r\n\r\n<!-- ‚úçÔ∏è--> \r\n\r\n```\r\nvalidator --version\r\n```\r\n\r\nprints out\r\n\r\n```\r\nvalidator version Prysm/{STABLE_GIT_TAG}/{STABLE_GIT_COMMIT}. Built at: 2020-11-23T21:20:48+09:00\r\n```\r\n\r\n### Has this worked before in a previous version?\r\n\r\ndon't know. works with `beacon-chain --version` which gives\r\n\r\n```\r\nbeacon-chain version Prysm/v1.0.0-beta.3/f361450e8da18033f5458b018e3e6784295f50ca. Built at: 2020-11-23 06:51:54+00:00\r\n```\r\n\r\n<!-- Did this behavior use to work in the previous version? -->\r\n<!-- ‚úçÔ∏è-->\r\n\r\n## üî¨ Minimal Reproduction\r\n\r\n<!--\r\nPlease let us know how we can reproduce this issue. Include the exact method you used to run Prysm along with any flags used in your beacon chain and/or validator. Make sure you don't upload any confidential files or private keys.\r\n-->\r\n\r\n```\r\nbazel build //validator:validator --config=release\r\ncp bazel-bin/validator/validator_/validator /usr/local/bin/\r\n```\r\n\r\nthen run\r\n\r\n```\r\nvalidator --version\r\n```\r\n\r\nbuilt on amazon linux 2\r\n\r\n## üî• Error\r\n\r\n<pre><code>\r\n<!-- If the issue is accompanied by an error, please share the error logs with us below. If you have a lot of logs, place make a paste bin with your logs and share the link with us here: -->\r\n<!-- ‚úçÔ∏è-->\r\n$ validator --version\r\n2020/11/23 21:20:48 exit status 128\r\nvalidator version Prysm/{STABLE_GIT_TAG}/{STABLE_GIT_COMMIT}. Built at: 2020-11-23T21:20:48+09:00\r\n\r\n$ echo $?\r\n0\r\n</code></pre>\r\n\r\n\r\n## üåç  Your Environment\r\n\r\n**Operating System:**\r\n\r\n<pre>\r\n  <code>\r\namazon linux 2\r\n  </code>\r\n</pre>\r\n\r\n**What version of Prysm are you running? (Which release)**\r\n\r\n<pre>\r\n  <code>\r\n1.0.0-beta.3\r\n  </code>\r\n</pre>\r\n\r\n**Anything else relevant (validator index / public key)?**\r\n\r\n",
  "closed_by": {
    "login": "rauljordan",
    "id": 5572669,
    "node_id": "MDQ6VXNlcjU1NzI2Njk=",
    "avatar_url": "https://avatars.githubusercontent.com/u/5572669?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/rauljordan",
    "html_url": "https://github.com/rauljordan",
    "followers_url": "https://api.github.com/users/rauljordan/followers",
    "following_url": "https://api.github.com/users/rauljordan/following{/other_user}",
    "gists_url": "https://api.github.com/users/rauljordan/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/rauljordan/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/rauljordan/subscriptions",
    "organizations_url": "https://api.github.com/users/rauljordan/orgs",
    "repos_url": "https://api.github.com/users/rauljordan/repos",
    "events_url": "https://api.github.com/users/rauljordan/events{/privacy}",
    "received_events_url": "https://api.github.com/users/rauljordan/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/7924/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/7924/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/732343708",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/7924#issuecomment-732343708",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/7924",
    "id": 732343708,
    "node_id": "MDEyOklzc3VlQ29tbWVudDczMjM0MzcwOA==",
    "user": {
      "login": "pinglamb",
      "id": 287503,
      "node_id": "MDQ6VXNlcjI4NzUwMw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/287503?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pinglamb",
      "html_url": "https://github.com/pinglamb",
      "followers_url": "https://api.github.com/users/pinglamb/followers",
      "following_url": "https://api.github.com/users/pinglamb/following{/other_user}",
      "gists_url": "https://api.github.com/users/pinglamb/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pinglamb/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pinglamb/subscriptions",
      "organizations_url": "https://api.github.com/users/pinglamb/orgs",
      "repos_url": "https://api.github.com/users/pinglamb/repos",
      "events_url": "https://api.github.com/users/pinglamb/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pinglamb/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-11-23T18:26:58Z",
    "updated_at": "2020-11-23T18:49:36Z",
    "author_association": "CONTRIBUTOR",
    "body": "I tested with your command and the build reports proper version\r\n\r\nBuild command:\r\n```\r\nbazelisk build //validator:validator --config=docker-sandbox --config=release\r\n```\r\n\r\nResult:\r\n```\r\n$ ./bazel-bin/validator/validator_/validator --version\r\nvalidator version Prysm/v1.0.0.rc.1/f361450e8da18033f5458b018e3e6784295f50ca. Built at: 2020-11-23 17:59:03+00:00\r\n```\r\n\r\nBase on the bazel config, the values of `STABLE_GIT_TAG` and `STABLE_GIT_COMMIT ` are defined in `./scripts/workspace_status.sh`, and in `.bazelrc`:\r\n\r\n```\r\nbuild:release --workspace_status_command=./scripts/workspace_status.sh\r\n```\r\n\r\nI guess your validator bin is built without `--config=release`, or the `git` commands in `./scripts/workspace_status.sh` are not run properly:\r\n\r\n```\r\ngit rev-parse HEAD\r\ngit describe --tags $(git rev-list --tags --max-count=1)\r\n```\r\n\r\nCan you try again?",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/732343708/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/733672182",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/7924#issuecomment-733672182",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/7924",
    "id": 733672182,
    "node_id": "MDEyOklzc3VlQ29tbWVudDczMzY3MjE4Mg==",
    "user": {
      "login": "agro1986",
      "id": 6017531,
      "node_id": "MDQ6VXNlcjYwMTc1MzE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6017531?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/agro1986",
      "html_url": "https://github.com/agro1986",
      "followers_url": "https://api.github.com/users/agro1986/followers",
      "following_url": "https://api.github.com/users/agro1986/following{/other_user}",
      "gists_url": "https://api.github.com/users/agro1986/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/agro1986/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/agro1986/subscriptions",
      "organizations_url": "https://api.github.com/users/agro1986/orgs",
      "repos_url": "https://api.github.com/users/agro1986/repos",
      "events_url": "https://api.github.com/users/agro1986/events{/privacy}",
      "received_events_url": "https://api.github.com/users/agro1986/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-11-25T12:16:44Z",
    "updated_at": "2020-11-25T12:16:44Z",
    "author_association": "NONE",
    "body": "@pinglamb I think I found the cause. The snippet below:\r\n```\r\nbazel run //validator:validator -- accounts import ...\r\n```\r\n(which is on popular guides like https://someresat.medium.com/guide-to-staking-on-ethereum-2-0-ubuntu-pyrmont-prysm-a10b5129c7e3 )\r\n\r\nWill cause bazel to be rebuilt without \"--config=release\" option, which will cause the wrong output.\r\n\r\nIs there a (potential) security vulnerability if you import validator keys using a binary without --config=release?\r\n\r\nBtw the guide here: https://docs.prylabs.network/docs/mainnet/joining-eth2/\r\n\r\nalso has the command\r\n\r\n```\r\nbazel run //validator:validator -- accounts import ...\r\n```\r\n\r\nSo the same issue might arise following prysm's official docs",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/733672182/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/733672618",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/7924#issuecomment-733672618",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/7924",
    "id": 733672618,
    "node_id": "MDEyOklzc3VlQ29tbWVudDczMzY3MjYxOA==",
    "user": {
      "login": "agro1986",
      "id": 6017531,
      "node_id": "MDQ6VXNlcjYwMTc1MzE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6017531?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/agro1986",
      "html_url": "https://github.com/agro1986",
      "followers_url": "https://api.github.com/users/agro1986/followers",
      "following_url": "https://api.github.com/users/agro1986/following{/other_user}",
      "gists_url": "https://api.github.com/users/agro1986/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/agro1986/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/agro1986/subscriptions",
      "organizations_url": "https://api.github.com/users/agro1986/orgs",
      "repos_url": "https://api.github.com/users/agro1986/repos",
      "events_url": "https://api.github.com/users/agro1986/events{/privacy}",
      "received_events_url": "https://api.github.com/users/agro1986/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-11-25T12:17:42Z",
    "updated_at": "2020-11-25T12:17:42Z",
    "author_association": "NONE",
    "body": "modifying the command to:\r\n\r\n```\r\nbazel run //validator:validator --config=release -- accounts import ...\r\n```\r\n\r\nmight be a potential solution to that",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/733672618/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/734974554",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/7924#issuecomment-734974554",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/7924",
    "id": 734974554,
    "node_id": "MDEyOklzc3VlQ29tbWVudDczNDk3NDU1NA==",
    "user": {
      "login": "0xKiwi",
      "id": 6251510,
      "node_id": "MDQ6VXNlcjYyNTE1MTA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6251510?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/0xKiwi",
      "html_url": "https://github.com/0xKiwi",
      "followers_url": "https://api.github.com/users/0xKiwi/followers",
      "following_url": "https://api.github.com/users/0xKiwi/following{/other_user}",
      "gists_url": "https://api.github.com/users/0xKiwi/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/0xKiwi/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/0xKiwi/subscriptions",
      "organizations_url": "https://api.github.com/users/0xKiwi/orgs",
      "repos_url": "https://api.github.com/users/0xKiwi/repos",
      "events_url": "https://api.github.com/users/0xKiwi/events{/privacy}",
      "received_events_url": "https://api.github.com/users/0xKiwi/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-11-27T20:20:19Z",
    "updated_at": "2020-11-27T20:20:19Z",
    "author_association": "CONTRIBUTOR",
    "body": "Hey @agro1986 , thanks for filing this. @prestonvanloon is this something we can improve its display of on the validator?",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/734974554/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/775575212",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/7924#issuecomment-775575212",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/7924",
    "id": 775575212,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc3NTU3NTIxMg==",
    "user": {
      "login": "rauljordan",
      "id": 5572669,
      "node_id": "MDQ6VXNlcjU1NzI2Njk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5572669?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rauljordan",
      "html_url": "https://github.com/rauljordan",
      "followers_url": "https://api.github.com/users/rauljordan/followers",
      "following_url": "https://api.github.com/users/rauljordan/following{/other_user}",
      "gists_url": "https://api.github.com/users/rauljordan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rauljordan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rauljordan/subscriptions",
      "organizations_url": "https://api.github.com/users/rauljordan/orgs",
      "repos_url": "https://api.github.com/users/rauljordan/repos",
      "events_url": "https://api.github.com/users/rauljordan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rauljordan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-02-09T01:05:07Z",
    "updated_at": "2021-02-09T01:05:07Z",
    "author_association": "CONTRIBUTOR",
    "body": "Binaries are now stamped and documentation is updated to build from source using --config=release",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/775575212/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
