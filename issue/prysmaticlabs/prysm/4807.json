{
  "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/4807",
  "repository_url": "https://api.github.com/repos/prysmaticlabs/prysm",
  "labels_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/4807/labels{/name}",
  "comments_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/4807/comments",
  "events_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/4807/events",
  "html_url": "https://github.com/prysmaticlabs/prysm/issues/4807",
  "id": 562219566,
  "node_id": "MDU6SXNzdWU1NjIyMTk1NjY=",
  "number": 4807,
  "title": "Some output from beacone node dying",
  "user": {
    "login": "clabornd",
    "id": 31082141,
    "node_id": "MDQ6VXNlcjMxMDgyMTQx",
    "avatar_url": "https://avatars.githubusercontent.com/u/31082141?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/clabornd",
    "html_url": "https://github.com/clabornd",
    "followers_url": "https://api.github.com/users/clabornd/followers",
    "following_url": "https://api.github.com/users/clabornd/following{/other_user}",
    "gists_url": "https://api.github.com/users/clabornd/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/clabornd/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/clabornd/subscriptions",
    "organizations_url": "https://api.github.com/users/clabornd/orgs",
    "repos_url": "https://api.github.com/users/clabornd/repos",
    "events_url": "https://api.github.com/users/clabornd/events{/privacy}",
    "received_events_url": "https://api.github.com/users/clabornd/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 1,
  "created_at": "2020-02-09T18:37:54Z",
  "updated_at": "2020-02-12T21:20:59Z",
  "closed_at": "2020-02-12T21:20:59Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "Dunno what it means, but here's the output from the beacon node and validator, hope it helps.\r\n\r\nRunning on Ubuntu 16.04 LTS with docker containers.  Died after about 3 days.  Was restarted from an address that had been inactive for a while, and I was basically only getting negative %change in balance for the duration of it successfully running.\r\n\r\n**Beacon Node**:\r\n\r\n`goroutine 16215307 [semacquire, 121 minutes]:\r\nsync.runtime_SemacquireMutex(0x2883cb4, 0x0, 0x1)\r\n\tGOROOT/src/runtime/sema.go:71 +0x47\r\nsync.(*Mutex).lockSlow(0x2883cb0)\r\n\tGOROOT/src/sync/mutex.go:138 +0xfc\r\nsync.(*Mutex).Lock(...)\r\n\tGOROOT/src/sync/mutex.go:81\r\nsync.(*RWMutex).Lock(0x2883cb0)\r\n\tGOROOT/src/sync/rwmutex.go:98 +0x97\r\ngithub.com/prysmaticlabs/prysm/shared/stateutil.(*stateRootHasher).arraysRoot(0xc0000100a0, 0xc0136ae000, 0x2000, 0x2000, 0x2000, 0x18119b1, 0xa, 0x0, 0x0, 0x0, ...)\r\n\tshared/stateutil/arrays.go:30 +0x66\r\ngithub.com/prysmaticlabs/prysm/shared/stateutil.(*stateRootHasher).computeFieldRoots(0xc0000100a0, 0xc053f93800, 0x7fe9d06e1008, 0x0, 0x2853dbc109a3df5c, 0x6785dadac401327, 0x702cecc05395d8a)\r\n\tshared/stateutil/state_root.go:113 +0x40d\r\ngithub.com/prysmaticlabs/prysm/shared/stateutil.ComputeFieldRoots(0xc053f93800, 0x16f5500, 0xc0503af980, 0x15ec640, 0x28838b0, 0xc0138095c8)\r\n\tshared/stateutil/state_root.go:56 +0xb6\r\ngithub.com/prysmaticlabs/prysm/beacon-chain/state.(*BeaconState).HashTreeRoot(0xc159d9e500, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0)\r\n\tbeacon-chain/state/types.go:123 +0xdc\r\ngithub.com/prysmaticlabs/prysm/beacon-chain/core/state.ProcessSlot(0x1bb8ee0, 0xc0503af950, 0xc159d9e500, 0x0, 0x0, 0x0)\r\n\tbeacon-chain/core/state/transition.go:201 +0x1a4\r\ngithub.com/prysmaticlabs/prysm/beacon-chain/core/state.ProcessSlots(0x1bb8ee0, 0xc0503af950, 0xc159d9e500, 0x356a0, 0x0, 0x0, 0x0)\r\n\tbeacon-chain/core/state/transition.go:299 +0x382\r\ngithub.com/prysmaticlabs/prysm/beacon-chain/sync.(*Service).validateAggregatedAtt(0xc005132000, 0x1bb8ee0, 0xc0503af890, 0xc1389365a0, 0x0)\r\n\tbeacon-chain/sync/validate_aggregate_proof.go:100 +0x740\r\ngithub.com/prysmaticlabs/prysm/beacon-chain/sync.(*Service).validateAggregateAndProof(0xc005132000, 0x1bb8ee0, 0xc0503af800, 0xc01aa2fec0, 0x27, 0xc0c59591d0, 0x0)\r\n\tbeacon-chain/sync/validate_aggregate_proof.go:62 +0x3e6\r\ngithub.com/prysmaticlabs/prysm/beacon-chain/sync.wrapAndReportValidation.func1(0x1bb8ea0, 0xc00f9f9a40, 0xc01aa2fec0, 0x27, 0xc0c59591d0, 0xc00f188900)\r\n\tbeacon-chain/sync/subscriber.go:184 +0x1c0\r\ngithub.com/libp2p/go-libp2p-pubsub.(*topicVal).validateMsg(0xc007ae2de0, 0x1bb8e20, 0xc000082840, 0xc01aa2fec0, 0x27, 0xc0c59591d0, 0x0)\r\n\texternal/com_github_libp2p_go_libp2p_pubsub/validation.go:335 +0x8a\r\ngithub.com/libp2p/go-libp2p-pubsub.(*validation).validateSingleTopic(0xc0005fc870, 0xc007ae2de0, 0xc01aa2fec0, 0x27, 0xc0c59591d0, 0xfc4c5f)\r\n\texternal/com_github_libp2p_go_libp2p_pubsub/validation.go:316 +0x18d\r\ngithub.com/libp2p/go-libp2p-pubsub.(*validation).validateTopic(0xc0005fc870, 0xc083f116d8, 0x1, 0x1, 0xc01aa2fec0, 0x27, 0xc0c59591d0, 0x10000c004fb8f00)\r\n\texternal/com_github_libp2p_go_libp2p_pubsub/validation.go:269 +0x3c8\r\ngithub.com/libp2p/go-libp2p-pubsub.(*validation).doValidateTopic(0xc0005fc870, 0xc083f116d8, 0x1, 0x1, 0xc01aa2fec0, 0x27, 0xc0c59591d0)\r\n\texternal/com_github_libp2p_go_libp2p_pubsub/validation.go:258 +0x74\r\ngithub.com/libp2p/go-libp2p-pubsub.(*validation).validate.func1(0xc0005fc870, 0xc083f116d8, 0x1, 0x1, 0xc01aa2fec0, 0x27, 0xc0c59591d0)\r\n\texternal/com_github_libp2p_go_libp2p_pubsub/validation.go:233 +0x67\r\ncreated by github.com/libp2p/go-libp2p-pubsub.(*validation).validate\r\n\texternal/com_github_libp2p_go_libp2p_pubsub/validation.go:232 +0x473\r\n\r\ngoroutine 16202302 [runnable]:\r\ngithub.com/prysmaticlabs/prysm/shared/stateutil.ValidatorBalancesRoot(0xc0bc51a000, 0x9a4f, 0x9a4f, 0x0, 0x0, 0x0, 0x0, 0xeb74fdafffae78e1, 0x0)\r\n\tshared/stateutil/validators.go:30 +0xa9\r\ngithub.com/prysmaticlabs/prysm/shared/stateutil.(*stateRootHasher).computeFieldRoots(0xc0000100a0, 0xc048a75980, 0x7fe9d06e1008, 0x0, 0x84eb230b0a9be97d, 0xc7ba383b90b793bc, 0x8a35cf6cd1fe9ce6)\r\n\tshared/stateutil/state_root.go:154 +0x8af\r\ngithub.com/prysmaticlabs/prysm/shared/stateutil.ComputeFieldRoots(0xc048a75980, 0x16f5500, 0xc065c1e3c0, 0x15ec640, 0x28838b0, 0xc0301f75c8)\r\n\tshared/stateutil/state_root.go:56 +0xb6\r\ngithub.com/prysmaticlabs/prysm/beacon-chain/state.(*BeaconState).HashTreeRoot(0xc064c319a0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0)\r\n\tbeacon-chain/state/types.go:123 +0xdc\r\ngithub.com/prysmaticlabs/prysm/beacon-chain/core/state.ProcessSlot(0x1bb8ee0, 0xc065c1e390, 0xc064c319a0, 0x0, 0x0, 0x0)\r\n\tbeacon-chain/core/state/transition.go:201 +0x1a4\r\ngithub.com/prysmaticlabs/prysm/beacon-chain/core/state.ProcessSlots(0x1bb8ee0, 0xc065c1e390, 0xc064c319a0, 0x356a0, 0x0, 0x0, 0x0)\r\n\tbeacon-chain/core/state/transition.go:299 +0x382\r\ngithub.com/prysmaticlabs/prysm/beacon-chain/sync.(*Service).validateAggregatedAtt(0xc005132000, 0x1bb8ee0, 0xc065c1e300, 0xc0128307d0, 0x0)\r\n\tbeacon-chain/sync/validate_aggregate_proof.go:100 +0x740\r\ngithub.com/prysmaticlabs/prysm/beacon-chain/sync.(*Service).validateAggregateAndProof(0xc005132000, 0x1bb8ee0, 0xc065c1e270, 0xc02e812d20, 0x27, 0xc03d738120, 0x0)\r\n\tbeacon-chain/sync/validate_aggregate_proof.go:62 +0x3e6\r\ngithub.com/prysmaticlabs/prysm/beacon-chain/sync.wrapAndReportValidation.func1(0x1bb8ea0, 0xc048a96a20, 0xc02e812d20, 0x27, 0xc03d738120, 0xc00f188900)\r\n\tbeacon-chain/sync/subscriber.go:184 +0x1c0\r\ngithub.com/libp2p/go-libp2p-pubsub.(*topicVal).validateMsg(0xc007ae2de0, 0x1bb8e20, 0xc000082840, 0xc02e812d20, 0x27, 0xc03d738120, 0x442b1d63418b7500)\r\n\texternal/com_github_libp2p_go_libp2p_pubsub/validation.go:335 +0x8a\r\ngithub.com/libp2p/go-libp2p-pubsub.(*validation).validateSingleTopic(0xc0005fc870, 0xc007ae2de0, 0xc02e812d20, 0x27, 0xc03d738120, 0x8)\r\n\texternal/com_github_libp2p_go_libp2p_pubsub/validation.go:316 +0x18d\r\ngithub.com/libp2p/go-libp2p-pubsub.(*validation).validateTopic(0xc0005fc870, 0xc048251db8, 0x1, 0x1, 0xc02e812d20, 0x27, 0xc03d738120, 0x10000c0da94af00)\r\n\texternal/com_github_libp2p_go_libp2p_pubsub/validation.go:269 +0x3c8\r\ngithub.com/libp2p/go-libp2p-pubsub.(*validation).doValidateTopic(0xc0005fc870, 0xc048251db8, 0x1, 0x1, 0xc02e812d20, 0x27, 0xc03d738120)\r\n\texternal/com_github_libp2p_go_libp2p_pubsub/validation.go:258 +0x74\r\ngithub.com/libp2p/go-libp2p-pubsub.(*validation).validate.func1(0xc0005fc870, 0xc048251db8, 0x1, 0x1, 0xc02e812d20, 0x27, 0xc03d738120)\r\n\texternal/com_github_libp2p_go_libp2p_pubsub/validation.go:233 +0x67\r\ncreated by github.com/libp2p/go-libp2p-pubsub.(*validation).validate\r\n\texternal/com_github_libp2p_go_libp2p_pubsub/validation.go:232 +0x473`\r\n\r\n**Validator**\r\n\r\n[2020-02-09 18:22:12] ERROR validator: rpc error: code = Unavailable desc = all SubConns are in TransientFailure, latest connection error: connection error: desc = \"transport: Error while dialing dial tcp 127.0.0.1:4000: connect: connection refused\"\r\n[2020-02-09 18:22:12] ERROR validator: Failed to update assignments error=rpc error: code = Unavailable desc = all SubConns are in TransientFailure, latest connection error: connection error: desc = \"transport: Error while dialing dial tcp 127.0.0.1:4000: connect: connection refused\"\r\n",
  "closed_by": {
    "login": "prestonvanloon",
    "id": 7246818,
    "node_id": "MDQ6VXNlcjcyNDY4MTg=",
    "avatar_url": "https://avatars.githubusercontent.com/u/7246818?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/prestonvanloon",
    "html_url": "https://github.com/prestonvanloon",
    "followers_url": "https://api.github.com/users/prestonvanloon/followers",
    "following_url": "https://api.github.com/users/prestonvanloon/following{/other_user}",
    "gists_url": "https://api.github.com/users/prestonvanloon/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/prestonvanloon/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/prestonvanloon/subscriptions",
    "organizations_url": "https://api.github.com/users/prestonvanloon/orgs",
    "repos_url": "https://api.github.com/users/prestonvanloon/repos",
    "events_url": "https://api.github.com/users/prestonvanloon/events{/privacy}",
    "received_events_url": "https://api.github.com/users/prestonvanloon/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/4807/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/4807/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/585423379",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/4807#issuecomment-585423379",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/4807",
    "id": 585423379,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU4NTQyMzM3OQ==",
    "user": {
      "login": "prestonvanloon",
      "id": 7246818,
      "node_id": "MDQ6VXNlcjcyNDY4MTg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7246818?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/prestonvanloon",
      "html_url": "https://github.com/prestonvanloon",
      "followers_url": "https://api.github.com/users/prestonvanloon/followers",
      "following_url": "https://api.github.com/users/prestonvanloon/following{/other_user}",
      "gists_url": "https://api.github.com/users/prestonvanloon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/prestonvanloon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/prestonvanloon/subscriptions",
      "organizations_url": "https://api.github.com/users/prestonvanloon/orgs",
      "repos_url": "https://api.github.com/users/prestonvanloon/repos",
      "events_url": "https://api.github.com/users/prestonvanloon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/prestonvanloon/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-02-12T21:20:59Z",
    "updated_at": "2020-02-12T21:20:59Z",
    "author_association": "MEMBER",
    "body": "I think this is a duplicate of #4829. Please download the latest master or docker image and reopen if you are still experiencing issues. ",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/585423379/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
