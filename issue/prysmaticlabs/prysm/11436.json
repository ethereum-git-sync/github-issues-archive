{
  "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/11436",
  "repository_url": "https://api.github.com/repos/prysmaticlabs/prysm",
  "labels_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/11436/labels{/name}",
  "comments_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/11436/comments",
  "events_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/11436/events",
  "html_url": "https://github.com/prysmaticlabs/prysm/issues/11436",
  "id": 1369839633,
  "node_id": "I_kwDOBvuov85RphgR",
  "number": 11436,
  "title": "Prysm REST API does not work for sync committee",
  "user": {
    "login": "yorickdowne",
    "id": 71337066,
    "node_id": "MDQ6VXNlcjcxMzM3MDY2",
    "avatar_url": "https://avatars.githubusercontent.com/u/71337066?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/yorickdowne",
    "html_url": "https://github.com/yorickdowne",
    "followers_url": "https://api.github.com/users/yorickdowne/followers",
    "following_url": "https://api.github.com/users/yorickdowne/following{/other_user}",
    "gists_url": "https://api.github.com/users/yorickdowne/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/yorickdowne/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/yorickdowne/subscriptions",
    "organizations_url": "https://api.github.com/users/yorickdowne/orgs",
    "repos_url": "https://api.github.com/users/yorickdowne/repos",
    "events_url": "https://api.github.com/users/yorickdowne/events{/privacy}",
    "received_events_url": "https://api.github.com/users/yorickdowne/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 3,
  "created_at": "2022-09-12T12:38:19Z",
  "updated_at": "2022-09-13T16:11:07Z",
  "closed_at": "2022-09-13T16:11:06Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "# üêû Bug Report\r\n\r\n### Description\r\n\r\nLighthouse VC v3.1.0 towards Prysm REST API v3.1.1\r\n\r\nLighthouse VC shows this error:\r\n\r\n```\r\nvalidator_1             | Sep 12 12:33:18.001 INFO All validators active                   slot: 3873166, epoch: 121036, total_validators: 2, active_validators: 2, current_epoch_proposers: 0, service: notifier\r\nvalidator_1             | Sep 12 12:33:24.002 WARN Failed to download sync committee duties, error: All endpoints failed http://consensus:5052/ => RequestFailed(Reqwest(reqwest::Error { kind: Request, url: Url { scheme: \"http\", cannot_be_a_base: false, username: \"\", password: None, host: Some(Domain(\"consensus\")), port: Some(5052), path: \"/eth/v1/validator/duties/sync/120832\", query: None, fragment: None }, source: TimedOut })), sync_committee_period: 472, service: duties\r\nvalidator_1             | Sep 12 12:33:24.037 INFO Connected to beacon node                endpoint: http://consensus:5052/, version: Prysm/v3.1.1 (linux amd64)\r\n```\r\n\r\nIt appears `eth/v1/validator/duties/sync/` is not implemented in Prysm's REST API\r\n\r\n### Has this worked before in a previous version?\r\n\r\nUnknown\r\n\r\n## üåç  Your Environment\r\n\r\nUbuntu 22.04, docker\r\n\r\n## Prysm startup parameters\r\n\r\nFor reference, this is how the Prysm CL is started:\r\n\r\n```\r\n      - docker-entrypoint.sh\r\n      - beacon-chain\r\n      - --datadir\r\n      - /var/lib/prysm/\r\n      - --rpc-host\r\n      - 0.0.0.0\r\n      - --grpc-gateway-host\r\n      - 0.0.0.0\r\n      - --grpc-gateway-port\r\n      - ${CL_REST_PORT:-5052}\r\n      - --execution-endpoint\r\n      - ${EL_NODE}\r\n      - --jwt-secret\r\n      - /var/lib/prysm/ee-secret/jwtsecret\r\n      - --p2p-tcp-port\r\n      - ${PRYSM_PORT}\r\n      - --p2p-udp-port\r\n      - ${PRYSM_UDP_PORT}\r\n      - --p2p-max-peers\r\n      - ${CL_MAX_PEER_COUNT:-45}\r\n      - --verbosity\r\n      - ${LOG_LEVEL}\r\n      - --${NETWORK}\r\n      - --accept-terms-of-use\r\n      - --monitoring-host\r\n      - 0.0.0.0\r\n      - --monitoring-port\r\n      - \"8008\"\r\n      - --suggested-fee-recipient\r\n      - ${FEE_RECIPIENT}\r\n```\r\n\r\n`docker-entrypoint.sh` adds additional parameters as desired, such as checkpoint sync, mev-boost.\r\n\r\n",
  "closed_by": {
    "login": "yorickdowne",
    "id": 71337066,
    "node_id": "MDQ6VXNlcjcxMzM3MDY2",
    "avatar_url": "https://avatars.githubusercontent.com/u/71337066?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/yorickdowne",
    "html_url": "https://github.com/yorickdowne",
    "followers_url": "https://api.github.com/users/yorickdowne/followers",
    "following_url": "https://api.github.com/users/yorickdowne/following{/other_user}",
    "gists_url": "https://api.github.com/users/yorickdowne/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/yorickdowne/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/yorickdowne/subscriptions",
    "organizations_url": "https://api.github.com/users/yorickdowne/orgs",
    "repos_url": "https://api.github.com/users/yorickdowne/repos",
    "events_url": "https://api.github.com/users/yorickdowne/events{/privacy}",
    "received_events_url": "https://api.github.com/users/yorickdowne/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/11436/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/11436/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/1244566719",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/11436#issuecomment-1244566719",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/11436",
    "id": 1244566719,
    "node_id": "IC_kwDOBvuov85KLpS_",
    "user": {
      "login": "rkapka",
      "id": 28876818,
      "node_id": "MDQ6VXNlcjI4ODc2ODE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/28876818?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rkapka",
      "html_url": "https://github.com/rkapka",
      "followers_url": "https://api.github.com/users/rkapka/followers",
      "following_url": "https://api.github.com/users/rkapka/following{/other_user}",
      "gists_url": "https://api.github.com/users/rkapka/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rkapka/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rkapka/subscriptions",
      "organizations_url": "https://api.github.com/users/rkapka/orgs",
      "repos_url": "https://api.github.com/users/rkapka/repos",
      "events_url": "https://api.github.com/users/rkapka/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rkapka/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-09-12T22:01:51Z",
    "updated_at": "2022-09-12T22:01:51Z",
    "author_association": "CONTRIBUTOR",
    "body": "I think this is a timeout issue as per `source: TimedOut`. Will look into this.",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/1244566719/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/1245438913",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/11436#issuecomment-1245438913",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/11436",
    "id": 1245438913,
    "node_id": "IC_kwDOBvuov85KO-PB",
    "user": {
      "login": "rkapka",
      "id": 28876818,
      "node_id": "MDQ6VXNlcjI4ODc2ODE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/28876818?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rkapka",
      "html_url": "https://github.com/rkapka",
      "followers_url": "https://api.github.com/users/rkapka/followers",
      "following_url": "https://api.github.com/users/rkapka/following{/other_user}",
      "gists_url": "https://api.github.com/users/rkapka/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rkapka/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rkapka/subscriptions",
      "organizations_url": "https://api.github.com/users/rkapka/orgs",
      "repos_url": "https://api.github.com/users/rkapka/repos",
      "events_url": "https://api.github.com/users/rkapka/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rkapka/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-09-13T13:46:57Z",
    "updated_at": "2022-09-13T13:46:57Z",
    "author_association": "CONTRIBUTOR",
    "body": "I am querying `/eth/v1/validator/duties/sync/120832` on Prater and it gives me the response in a few seconds. You can try increasing the timeout with the `--api-timeout` flag.",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/1245438913/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/1245632826",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/11436#issuecomment-1245632826",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/11436",
    "id": 1245632826,
    "node_id": "IC_kwDOBvuov85KPtk6",
    "user": {
      "login": "yorickdowne",
      "id": 71337066,
      "node_id": "MDQ6VXNlcjcxMzM3MDY2",
      "avatar_url": "https://avatars.githubusercontent.com/u/71337066?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/yorickdowne",
      "html_url": "https://github.com/yorickdowne",
      "followers_url": "https://api.github.com/users/yorickdowne/followers",
      "following_url": "https://api.github.com/users/yorickdowne/following{/other_user}",
      "gists_url": "https://api.github.com/users/yorickdowne/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/yorickdowne/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/yorickdowne/subscriptions",
      "organizations_url": "https://api.github.com/users/yorickdowne/orgs",
      "repos_url": "https://api.github.com/users/yorickdowne/repos",
      "events_url": "https://api.github.com/users/yorickdowne/events{/privacy}",
      "received_events_url": "https://api.github.com/users/yorickdowne/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-09-13T16:11:06Z",
    "updated_at": "2022-09-13T16:11:06Z",
    "author_association": "CONTRIBUTOR",
    "body": "Hey sorry for sending you down a rabbit hole! I think I overloaded this machine. I was trying to track down a connection issue, but I think in the process of trying to reproduce it I didn't give the clients enough resources.\r\n\r\nThank you for taking the time to have a look. If I find what caused the Vouch<->Prysm issue, I'll open a new github issue for it.",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/1245632826/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
