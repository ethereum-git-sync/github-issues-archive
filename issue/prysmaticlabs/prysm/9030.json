{
  "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/9030",
  "repository_url": "https://api.github.com/repos/prysmaticlabs/prysm",
  "labels_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/9030/labels{/name}",
  "comments_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/9030/comments",
  "events_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/9030/events",
  "html_url": "https://github.com/prysmaticlabs/prysm/issues/9030",
  "id": 920004372,
  "node_id": "MDU6SXNzdWU5MjAwMDQzNzI=",
  "number": 9030,
  "title": "Launching beacon after restoring a backup crashes",
  "user": {
    "login": "mohamedmansour",
    "id": 68524,
    "node_id": "MDQ6VXNlcjY4NTI0",
    "avatar_url": "https://avatars.githubusercontent.com/u/68524?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/mohamedmansour",
    "html_url": "https://github.com/mohamedmansour",
    "followers_url": "https://api.github.com/users/mohamedmansour/followers",
    "following_url": "https://api.github.com/users/mohamedmansour/following{/other_user}",
    "gists_url": "https://api.github.com/users/mohamedmansour/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/mohamedmansour/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/mohamedmansour/subscriptions",
    "organizations_url": "https://api.github.com/users/mohamedmansour/orgs",
    "repos_url": "https://api.github.com/users/mohamedmansour/repos",
    "events_url": "https://api.github.com/users/mohamedmansour/events{/privacy}",
    "received_events_url": "https://api.github.com/users/mohamedmansour/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 802129904,
      "node_id": "MDU6TGFiZWw4MDIxMjk5MDQ=",
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/labels/Bug",
      "name": "Bug",
      "color": "ee0701",
      "default": false,
      "description": "Something isn't working"
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 1,
  "created_at": "2021-06-14T05:09:15Z",
  "updated_at": "2021-10-10T06:47:41Z",
  "closed_at": "2021-10-10T06:47:41Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "After backing up the beacon via `http://127.0.0.1:8080/db/backup` and then moving that file to a cloud VM, then relaunching the beacon, I am getting a unespected fault address.\r\n\r\nPrysm Beacon v1.3.10\r\n```\r\nazureuser@mohamed-online:/data$ sudo docker start beacon-node -a\r\n[2021-06-14 03:10:38]  WARN flags: Running on ETH2 Mainnet\r\n[2021-06-14 03:10:38]  INFO node: Checking DB database-path=/data/beaconchaindata\r\n\r\n\r\nunexpected fault address 0x7f8c30a67000\r\nfatal error: fault\r\n[signal SIGBUS: bus error code=0x2 addr=0x7f8c30a67000 pc=0x1ce3b42]\r\n\r\ngoroutine 1 [running]:\r\nruntime.throw(0x5daa32, 0x5)\r\n        GOROOT/src/runtime/panic.go:1117 +0x72 fp=0xc0009d8158 sp=0xc0009d8128 pc=0x12fd792\r\nruntime.sigpanic()\r\n        GOROOT/src/runtime/signal_unix.go:731 +0x2c8 fp=0xc0009d8190 sp=0xc0009d8158 pc=0x1315228\r\ngo.etcd.io/bbolt.(*Tx).checkBucket.func1(0x7f8c30a67000, 0x2)\r\n        external/io_etcd_go_bbolt/tx.go:466 +0x62 fp=0xc0009d8258 sp=0xc0009d8190 pc=0x1ce3b42\r\ngo.etcd.io/bbolt.(*Tx).forEachPage(0xc0003dc0e0, 0x420a67, 0x2, 0xc0009d8380)\r\n        external/io_etcd_go_bbolt/tx.go:626 +0x89 fp=0xc0009d82a0 sp=0xc0009d8258 pc=0x1ce23c9\r\ngo.etcd.io/bbolt.(*Tx).forEachPage(0xc0003dc0e0, 0x339150, 0x1, 0xc0009d8380)\r\n        external/io_etcd_go_bbolt/tx.go:632 +0xe5 fp=0xc0009d82e8 sp=0xc0009d82a0 pc=0x1ce2425\r\ngo.etcd.io/bbolt.(*Tx).forEachPage(0xc0003dc0e0, 0x34ba98, 0x0, 0xc0009d8380)\r\n        external/io_etcd_go_bbolt/tx.go:632 +0xe5 fp=0xc0009d8330 sp=0xc0009d82e8 pc=0x1ce2425\r\ngo.etcd.io/bbolt.(*Tx).checkBucket(0xc0003dc0e0, 0xc00018c480, 0xc0009d8628, 0xc0009d85f8, 0xc00008cc60)\r\n        external/io_etcd_go_bbolt/tx.go:465 +0xd4 fp=0xc0009d83c0 sp=0xc0009d8330 pc=0x1ce1af4\r\ngo.etcd.io/bbolt.(*Tx).checkBucket.func2(0x7f8b9a7742d9, 0x5, 0x5, 0x0, 0x0, 0x0, 0x0, 0x0)\r\n        external/io_etcd_go_bbolt/tx.go:490 +0xc5 fp=0xc0009d8418 sp=0xc0009d83c0 pc=0x1ce4085\r\ngo.etcd.io/bbolt.(*Bucket).ForEach(0xc0003dc0f8, 0xc0009d84a8, 0x0, 0xc000f964d8)\r\n        external/io_etcd_go_bbolt/bucket.go:390 +0x103 fp=0xc0009d8488 sp=0xc0009d8418 pc=0x1ccf2c3\r\ngo.etcd.io/bbolt.(*Tx).checkBucket(0xc0003dc0e0, 0xc0003dc0f8, 0xc000f96628, 0xc000f965f8, 0xc00008cc60)\r\n        external/io_etcd_go_bbolt/tx.go:488 +0x146 fp=0xc0009d8518 sp=0xc0009d8488 pc=0x1ce1b66\r\ngo.etcd.io/bbolt.(*DB).freepages(0xc000ed4400, 0x0, 0x0, 0x0)\r\n        external/io_etcd_go_bbolt/db.go:1006 +0x210 fp=0xc0009d8710 sp=0xc0009d8518 pc=0x1cd6970\r\ngo.etcd.io/bbolt.(*DB).loadFreelist.func1()\r\n        external/io_etcd_go_bbolt/db.go:313 +0x111 fp=0xc0009d8748 sp=0xc0009d8710 pc=0x1ce3251\r\nsync.(*Once).doSlow(0xc000ed4568, 0xc000f967a8)\r\n        GOROOT/src/sync/once.go:68 +0xec fp=0xc0009d8798 sp=0xc0009d8748 pc=0x135114c\r\nsync.(*Once).Do(...)\r\n        GOROOT/src/sync/once.go:59\r\ngo.etcd.io/bbolt.(*DB).loadFreelist(0xc000ed4400)\r\n        external/io_etcd_go_bbolt/db.go:309 +0x6a fp=0xc0009d87c8 sp=0xc0009d8798 pc=0x1cd39ea\r\ngo.etcd.io/bbolt.Open(0xc00158d230, 0x24, 0x180, 0xc000f97930, 0x24, 0x0, 0x40)\r\n        external/io_etcd_go_bbolt/db.go:286 +0x3af fp=0xc0009d9888 sp=0xc0009d87c8 pc=0x1cd348f\r\ngithub.com/prysmaticlabs/prysm/beacon-chain/db/kv.NewKVStore(0x952b30, 0xc00018d600, 0xc0005adb90, 0x15, 0xc000f979f8, 0xc0005b0f00, 0x19, 0xc000f97a68)\r\n        beacon-chain/db/kv/kv.go:88 +0x158 fp=0xc0009d9990 sp=0xc0009d9888 pc=0x1cf67b8\r\ngithub.com/prysmaticlabs/prysm/beacon-chain/db.NewDB(...)\r\n        beacon-chain/db/db.go:13\r\ngithub.com/prysmaticlabs/prysm/beacon-chain/node.(*BeaconNode).startDB(0xc000e7bc70, 0xc00157d480, 0x619b3d, 0x2a, 0x0, 0x0)\r\n        beacon-chain/node/node.go:255 +0x349 fp=0xc0009d9c40 sp=0xc0009d9990 pc=0x22bc549\r\ngithub.com/prysmaticlabs/prysm/beacon-chain/node.New(0xc00157d480, 0x4, 0x4, 0x0)\r\n        beacon-chain/node/node.go:116 +0x48e fp=0xc0009d9d58 sp=0xc0009d9c40 pc=0x22bb3ce\r\nmain.startNode(0xc00157d480, 0x0, 0x0)\r\n        cmd/beacon-chain/main.go:222 +0x18b fp=0xc0009d9de8 sp=0xc0009d9d58 pc=0x22cb46b\r\ngithub.com/urfave/cli/v2.(*App).RunContext(0xc000b12d00, 0x952b68, 0xc000044040, 0xc00003c040, 0x2, 0x2, 0x0, 0x0)\r\n        external/com_github_urfave_cli_v2/app.go:322 +0x6fe fp=0xc0009d9f10 sp=0xc0009d9de8 pc=0x1809bde\r\ngithub.com/urfave/cli/v2.(*App).Run(...)\r\n        external/com_github_urfave_cli_v2/app.go:224\r\nmain.main()\r\n        cmd/beacon-chain/main.go:189 +0x1cc fp=0xc0009d9f88 sp=0xc0009d9f10 pc=0x22cb1ac\r\nruntime.main()\r\n        GOROOT/src/runtime/proc.go:225 +0x256 fp=0xc0009d9fe0 sp=0xc0009d9f88 pc=0x12fffd6\r\nruntime.goexit()\r\n        GOROOT/src/runtime/asm_amd64.s:1371 +0x1 fp=0xc0009d9fe8 sp=0xc0009d9fe0 pc=0x1338041\r\n\r\ngoroutine 9 [select, 61 minutes]:\r\ngithub.com/dgraph-io/ristretto.(*defaultPolicy).processItems(0xc000398840)\r\n        external/com_github_dgraph_io_ristretto/policy.go:102 +0xa5\r\ncreated by github.com/dgraph-io/ristretto.newDefaultPolicy\r\n        external/com_github_dgraph_io_ristretto/policy.go:86 +0x129\r\n\r\ngoroutine 10 [select]:\r\ngithub.com/dgraph-io/ristretto.(*Cache).processItems(0xc00012a180)\r\n        external/com_github_dgraph_io_ristretto/cache.go:422 +0x158\r\ncreated by github.com/dgraph-io/ristretto.NewCache\r\n        external/com_github_dgraph_io_ristretto/cache.go:204 +0x308\r\n\r\ngoroutine 21 [select, 61 minutes]:\r\ngithub.com/dgraph-io/ristretto.(*defaultPolicy).processItems(0xc000399480)\r\n        external/com_github_dgraph_io_ristretto/policy.go:102 +0xa5\r\ncreated by github.com/dgraph-io/ristretto.newDefaultPolicy\r\n        external/com_github_dgraph_io_ristretto/policy.go:86 +0x129\r\n\r\ngoroutine 22 [select]:\r\ngithub.com/dgraph-io/ristretto.(*Cache).processItems(0xc00012a300)\r\n        external/com_github_dgraph_io_ristretto/cache.go:422 +0x158\r\ncreated by github.com/dgraph-io/ristretto.NewCache\r\n        external/com_github_dgraph_io_ristretto/cache.go:204 +0x308\r\n\r\ngoroutine 23 [chan receive, 1 minutes]:\r\nk8s.io/klog.(*loggingT).flushDaemon(0x2ccc0c0)\r\n        external/io_k8s_klog/klog.go:1010 +0x8b\r\ncreated by k8s.io/klog.init.0\r\n        external/io_k8s_klog/klog.go:411 +0xd8\r\n\r\ngoroutine 24 [chan receive, 1 minutes]:\r\nk8s.io/klog/v2.(*loggingT).flushDaemon(0x2ccc1a0)\r\n        external/io_k8s_klog_v2/klog.go:1131 +0x8b\r\ncreated by k8s.io/klog/v2.init.0\r\n        external/io_k8s_klog_v2/klog.go:416 +0xd8\r\n\r\ngoroutine 27 [select, 5 minutes]:\r\ngithub.com/patrickmn/go-cache.(*janitor).Run(0xc000049770, 0xc00018c2c0)\r\n        external/com_github_patrickmn_go_cache/cache.go:1079 +0xa9\r\ncreated by github.com/patrickmn/go-cache.runJanitor\r\n        external/com_github_patrickmn_go_cache/cache.go:1099 +0xa9\r\n\r\ngoroutine 47 [select, 61 minutes]:\r\ngithub.com/ipfs/go-log/writer.(*MirrorWriter).logRoutine(0xc0003fafc0)\r\n        external/com_github_ipfs_go_log/writer/writer.go:71 +0x106\r\ncreated by github.com/ipfs/go-log/writer.NewMirrorWriter\r\n        external/com_github_ipfs_go_log/writer/writer.go:36 +0xb9\r\n\r\ngoroutine 46 [select, 1 minutes]:\r\ngo.opencensus.io/stats/view.(*worker).start(0xc0002f4080)\r\n        external/io_opencensus_go/stats/view/worker.go:276 +0xcd\r\ncreated by go.opencensus.io/stats/view.init.0\r\n        external/io_opencensus_go/stats/view/worker.go:34 +0x68\r\n\r\ngoroutine 68 [chan receive, 1 minutes]:\r\ngithub.com/ethereum/go-ethereum/metrics.(*meterArbiter).tick(0x2cc6160)\r\n        external/com_github_ethereum_go_ethereum/metrics/meter.go:290 +0x7d\r\ncreated by github.com/ethereum/go-ethereum/metrics.NewMeterForced\r\n        external/com_github_ethereum_go_ethereum/metrics/meter.go:71 +0x105\r\n\r\ngoroutine 69 [select, 1 minutes]:\r\ngithub.com/ethereum/go-ethereum/consensus/ethash.(*remoteSealer).loop(0xc000b282d0)\r\n        external/com_github_ethereum_go_ethereum/consensus/ethash/sealer.go:278 +0x20c\r\ncreated by github.com/ethereum/go-ethereum/consensus/ethash.startRemoteSealer\r\n        external/com_github_ethereum_go_ethereum/consensus/ethash/sealer.go:262 +0x2b2\r\n\r\ngoroutine 70 [chan receive, 61 minutes]:\r\ngithub.com/ethereum/go-ethereum/core.(*txSenderCacher).cache(0xc000c6c750)\r\n        external/com_github_ethereum_go_ethereum/core/tx_cacher.go:63 +0x97\r\ncreated by github.com/ethereum/go-ethereum/core.newTxSenderCacher\r\n        external/com_github_ethereum_go_ethereum/core/tx_cacher.go:55 +0x9f\r\n\r\ngoroutine 71 [chan receive, 61 minutes]:\r\ngithub.com/ethereum/go-ethereum/core.(*txSenderCacher).cache(0xc000c6c750)\r\n        external/com_github_ethereum_go_ethereum/core/tx_cacher.go:63 +0x97\r\ncreated by github.com/ethereum/go-ethereum/core.newTxSenderCacher\r\n        external/com_github_ethereum_go_ethereum/core/tx_cacher.go:55 +0x9f\r\n\r\ngoroutine 73 [syscall, 61 minutes]:\r\nos/signal.signal_recv(0xc0002ebd50)\r\n        GOROOT/src/runtime/sigqueue.go:168 +0xa5\r\nos/signal.loop()\r\n        GOROOT/src/os/signal/signal_unix.go:23 +0x25\r\ncreated by os/signal.Notify.func1.1\r\n        GOROOT/src/os/signal/signal.go:151 +0x45\r\n\r\ngoroutine 55 [select, 11 minutes]:\r\ngithub.com/patrickmn/go-cache.(*janitor).Run(0xc0005b0f20, 0xc00018d640)\r\n        external/com_github_patrickmn_go_cache/cache.go:1079 +0xa9\r\ncreated by github.com/patrickmn/go-cache.runJanitor\r\n        external/com_github_patrickmn_go_cache/cache.go:1099 +0xa9\r\n\r\ngoroutine 56 [chan receive, 61 minutes]:\r\ngo.etcd.io/bbolt.(*DB).freepages.func2(0xc00008cc60)\r\n        external/io_etcd_go_bbolt/db.go:1002 +0x45\r\ncreated by go.etcd.io/bbolt.(*DB).freepages\r\n        external/io_etcd_go_bbolt/db.go:1001 +0x1cd\r\n```",
  "closed_by": {
    "login": "nisdas",
    "id": 33201827,
    "node_id": "MDQ6VXNlcjMzMjAxODI3",
    "avatar_url": "https://avatars.githubusercontent.com/u/33201827?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/nisdas",
    "html_url": "https://github.com/nisdas",
    "followers_url": "https://api.github.com/users/nisdas/followers",
    "following_url": "https://api.github.com/users/nisdas/following{/other_user}",
    "gists_url": "https://api.github.com/users/nisdas/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/nisdas/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/nisdas/subscriptions",
    "organizations_url": "https://api.github.com/users/nisdas/orgs",
    "repos_url": "https://api.github.com/users/nisdas/repos",
    "events_url": "https://api.github.com/users/nisdas/events{/privacy}",
    "received_events_url": "https://api.github.com/users/nisdas/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/9030/reactions",
    "total_count": 1,
    "+1": 1,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/9030/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/939417750",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/9030#issuecomment-939417750",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/9030",
    "id": 939417750,
    "node_id": "IC_kwDOBvuov843_mCW",
    "user": {
      "login": "nisdas",
      "id": 33201827,
      "node_id": "MDQ6VXNlcjMzMjAxODI3",
      "avatar_url": "https://avatars.githubusercontent.com/u/33201827?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nisdas",
      "html_url": "https://github.com/nisdas",
      "followers_url": "https://api.github.com/users/nisdas/followers",
      "following_url": "https://api.github.com/users/nisdas/following{/other_user}",
      "gists_url": "https://api.github.com/users/nisdas/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nisdas/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nisdas/subscriptions",
      "organizations_url": "https://api.github.com/users/nisdas/orgs",
      "repos_url": "https://api.github.com/users/nisdas/repos",
      "events_url": "https://api.github.com/users/nisdas/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nisdas/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-10-10T06:47:41Z",
    "updated_at": "2021-10-10T06:47:41Z",
    "author_association": "MEMBER",
    "body": "This should be fixed from v2 onwards, closing the issue now. ",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/939417750/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
