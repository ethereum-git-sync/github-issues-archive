{
  "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/10131",
  "repository_url": "https://api.github.com/repos/prysmaticlabs/prysm",
  "labels_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/10131/labels{/name}",
  "comments_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/10131/comments",
  "events_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/10131/events",
  "html_url": "https://github.com/prysmaticlabs/prysm/issues/10131",
  "id": 1114420320,
  "node_id": "I_kwDOBvuov85CbLRg",
  "number": 10131,
  "title": "Clarify Differences Between Accounts Password File and Wallet Password File in CLI Help",
  "user": {
    "login": "rauljordan",
    "id": 5572669,
    "node_id": "MDQ6VXNlcjU1NzI2Njk=",
    "avatar_url": "https://avatars.githubusercontent.com/u/5572669?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/rauljordan",
    "html_url": "https://github.com/rauljordan",
    "followers_url": "https://api.github.com/users/rauljordan/followers",
    "following_url": "https://api.github.com/users/rauljordan/following{/other_user}",
    "gists_url": "https://api.github.com/users/rauljordan/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/rauljordan/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/rauljordan/subscriptions",
    "organizations_url": "https://api.github.com/users/rauljordan/orgs",
    "repos_url": "https://api.github.com/users/rauljordan/repos",
    "events_url": "https://api.github.com/users/rauljordan/events{/privacy}",
    "received_events_url": "https://api.github.com/users/rauljordan/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 802129907,
      "node_id": "MDU6TGFiZWw4MDIxMjk5MDc=",
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/labels/Help%20Wanted",
      "name": "Help Wanted",
      "color": "33aa3f",
      "default": false,
      "description": "Extra attention is needed"
    },
    {
      "id": 802129908,
      "node_id": "MDU6TGFiZWw4MDIxMjk5MDg=",
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/labels/Good%20First%20Issue",
      "name": "Good First Issue",
      "color": "7057ff",
      "default": false,
      "description": "Good for newcomers"
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 4,
  "created_at": "2022-01-25T22:21:13Z",
  "updated_at": "2022-07-26T16:03:18Z",
  "closed_at": null,
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "# ðŸ’Ž Issue\r\n\r\n### Background\r\n\r\nIn the [Validator configuration](https://docs.prylabs.network/docs/prysm-usage/parameters#validator-configuration) in our docs portal, we list the parameters from the CLI help text. However, these don't include subcommands nor their associated flags. For example, the `validator` command has subcommands `accounts`, `wallet`, `db`, and more, but these do not appear in the parameters page. Each of these subcommands has flags that are important to their functionality. Many users rely on pages, such as our parameters page, to understand how to configure Prysm, as it is always up-to-date. However, users were having big problems with configuring the `accounts` subcommands as they had no reference for its flags visible in our docs portal.\r\n\r\n### Description\r\n\r\nPrysm has a concept of a wallet and an account. An account is essentially a validator key along with some metadata, and a wallet is a directory that holds account plus some metadata, such as a validator slashing protection database. \r\n\r\nWhen importing keys into a Prysm wallet, we ask the user to provide a strong password for their wallet, which is used when opening it and performing other sensitive operations. During the import process, we also ask the user to provide the passwords needed to unlock the individual keystores a user is attempting to import. Through an interactive process, we ask the user to provide the passwords needed to complete the import procedure. **Unfortunately, for many users managing their workflows entirely via flags when using Docker configurations or cloud setups, this interactive user experience is not available and the flag documentation is lacking.**\r\n\r\nTo import keystores into Prysm programmatically, a user needs to set the `--wallet-password-file` and `--account-password-file` flags. The former is a file containing a plain-text password to encrypt the password and the latter is a file containing a plain-text password to unlock the keystores a user is importing. When viewing the parameters page, only the `--wallet-password-file` is visible, as `--account-password-file` is only present in the `validator accounts import` subcommand, so it is easily missed. We need to clarify the differences between wallet password and account passwords when performing validator account commands, such as importing keys, and make it hard to miss when configuring.\r\n\r\n## Solutions\r\n\r\n**Option 1: Expand the documentation parameters page to include subcommands and their associated flags**\r\n\r\nThe docs portal fetches the CLI help text from a server that runs [this code](https://github.com/prysmaticlabs/periphery/blob/master/tools/cli-help-api/main.go). Essentially, it fetches the latest Prysm release, runs and extracts the help text, and returns the string to the caller via an HTTP endpoint. Currently, it cannot handle subcommands. A good resolution would be to add support for subcommands in the code. Then, we would need to show the help text for all the different subcommands in the parameters page to make things clear to the user. This could make for a big page in the docs portal, but it would satisfy a lot of technical users that prefer to read CLI help text than anything else.\r\n\r\n**Option 2: In the parameters page, clearly mention the limitations that subcommands are not shown. If a user is working with Prysm accounts and the import process, they should visit a specific page regarding Prysm account(s) management**\r\n\r\nInstead, we could create a page specific for importing accounts that has details on how to do it programmatically, mentioning very clearly the flags required and differences between the wallet and account password files.\r\n\r\nOption 1 seems best over the long-run, as it will always be up-to-date and comprehensive. We are marking this as a good first issue for contributors.",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/10131/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/10131/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/1024805814",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/10131#issuecomment-1024805814",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/10131",
    "id": 1024805814,
    "node_id": "IC_kwDOBvuov849FUu2",
    "user": {
      "login": "jamesthesken",
      "id": 22358037,
      "node_id": "MDQ6VXNlcjIyMzU4MDM3",
      "avatar_url": "https://avatars.githubusercontent.com/u/22358037?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jamesthesken",
      "html_url": "https://github.com/jamesthesken",
      "followers_url": "https://api.github.com/users/jamesthesken/followers",
      "following_url": "https://api.github.com/users/jamesthesken/following{/other_user}",
      "gists_url": "https://api.github.com/users/jamesthesken/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jamesthesken/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jamesthesken/subscriptions",
      "organizations_url": "https://api.github.com/users/jamesthesken/orgs",
      "repos_url": "https://api.github.com/users/jamesthesken/repos",
      "events_url": "https://api.github.com/users/jamesthesken/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jamesthesken/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-01-29T01:57:58Z",
    "updated_at": "2022-01-29T01:59:08Z",
    "author_association": "NONE",
    "body": "I'll give this a try if it's still open. Would the corresponding PR be made in the periphery repository? Very new here :)",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/1024805814/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/1026119140",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/10131#issuecomment-1026119140",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/10131",
    "id": 1026119140,
    "node_id": "IC_kwDOBvuov849KVXk",
    "user": {
      "login": "rauljordan",
      "id": 5572669,
      "node_id": "MDQ6VXNlcjU1NzI2Njk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5572669?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rauljordan",
      "html_url": "https://github.com/rauljordan",
      "followers_url": "https://api.github.com/users/rauljordan/followers",
      "following_url": "https://api.github.com/users/rauljordan/following{/other_user}",
      "gists_url": "https://api.github.com/users/rauljordan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rauljordan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rauljordan/subscriptions",
      "organizations_url": "https://api.github.com/users/rauljordan/orgs",
      "repos_url": "https://api.github.com/users/rauljordan/repos",
      "events_url": "https://api.github.com/users/rauljordan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rauljordan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-01-31T19:16:02Z",
    "updated_at": "2022-01-31T19:16:02Z",
    "author_association": "CONTRIBUTOR",
    "body": "hi @jamesthesken thanks for wanting to contribute! Indeed the change would need to be in the periphery repository",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/1026119140/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/1026178005",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/10131#issuecomment-1026178005",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/10131",
    "id": 1026178005,
    "node_id": "IC_kwDOBvuov849KjvV",
    "user": {
      "login": "jamesthesken",
      "id": 22358037,
      "node_id": "MDQ6VXNlcjIyMzU4MDM3",
      "avatar_url": "https://avatars.githubusercontent.com/u/22358037?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jamesthesken",
      "html_url": "https://github.com/jamesthesken",
      "followers_url": "https://api.github.com/users/jamesthesken/followers",
      "following_url": "https://api.github.com/users/jamesthesken/following{/other_user}",
      "gists_url": "https://api.github.com/users/jamesthesken/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jamesthesken/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jamesthesken/subscriptions",
      "organizations_url": "https://api.github.com/users/jamesthesken/orgs",
      "repos_url": "https://api.github.com/users/jamesthesken/repos",
      "events_url": "https://api.github.com/users/jamesthesken/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jamesthesken/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-01-31T20:26:30Z",
    "updated_at": "2022-01-31T20:26:30Z",
    "author_association": "NONE",
    "body": "Thank you @rauljordan, I'll get started on it today!",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/1026178005/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 1,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/1036580764",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/10131#issuecomment-1036580764",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/10131",
    "id": 1036580764,
    "node_id": "IC_kwDOBvuov849yPec",
    "user": {
      "login": "jamesthesken",
      "id": 22358037,
      "node_id": "MDQ6VXNlcjIyMzU4MDM3",
      "avatar_url": "https://avatars.githubusercontent.com/u/22358037?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jamesthesken",
      "html_url": "https://github.com/jamesthesken",
      "followers_url": "https://api.github.com/users/jamesthesken/followers",
      "following_url": "https://api.github.com/users/jamesthesken/following{/other_user}",
      "gists_url": "https://api.github.com/users/jamesthesken/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jamesthesken/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jamesthesken/subscriptions",
      "organizations_url": "https://api.github.com/users/jamesthesken/orgs",
      "repos_url": "https://api.github.com/users/jamesthesken/repos",
      "events_url": "https://api.github.com/users/jamesthesken/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jamesthesken/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-02-11T20:11:15Z",
    "updated_at": "2022-02-11T20:11:15Z",
    "author_association": "NONE",
    "body": "Cleaning up the code and adding comments, should be ready for review soon\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/1036580764/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
