{
  "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/5390",
  "repository_url": "https://api.github.com/repos/prysmaticlabs/prysm",
  "labels_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/5390/labels{/name}",
  "comments_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/5390/comments",
  "events_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/5390/events",
  "html_url": "https://github.com/prysmaticlabs/prysm/issues/5390",
  "id": 598258008,
  "node_id": "MDU6SXNzdWU1OTgyNTgwMDg=",
  "number": 5390,
  "title": "Memory consumption during initial sync",
  "user": {
    "login": "farazdagi",
    "id": 188194,
    "node_id": "MDQ6VXNlcjE4ODE5NA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/188194?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/farazdagi",
    "html_url": "https://github.com/farazdagi",
    "followers_url": "https://api.github.com/users/farazdagi/followers",
    "following_url": "https://api.github.com/users/farazdagi/following{/other_user}",
    "gists_url": "https://api.github.com/users/farazdagi/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/farazdagi/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/farazdagi/subscriptions",
    "organizations_url": "https://api.github.com/users/farazdagi/orgs",
    "repos_url": "https://api.github.com/users/farazdagi/repos",
    "events_url": "https://api.github.com/users/farazdagi/events{/privacy}",
    "received_events_url": "https://api.github.com/users/farazdagi/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 1085357069,
      "node_id": "MDU6TGFiZWwxMDg1MzU3MDY5",
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/labels/Priority:%20High",
      "name": "Priority: High",
      "color": "f7ea26",
      "default": false,
      "description": "High priority item"
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": {
    "login": "farazdagi",
    "id": 188194,
    "node_id": "MDQ6VXNlcjE4ODE5NA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/188194?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/farazdagi",
    "html_url": "https://github.com/farazdagi",
    "followers_url": "https://api.github.com/users/farazdagi/followers",
    "following_url": "https://api.github.com/users/farazdagi/following{/other_user}",
    "gists_url": "https://api.github.com/users/farazdagi/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/farazdagi/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/farazdagi/subscriptions",
    "organizations_url": "https://api.github.com/users/farazdagi/orgs",
    "repos_url": "https://api.github.com/users/farazdagi/repos",
    "events_url": "https://api.github.com/users/farazdagi/events{/privacy}",
    "received_events_url": "https://api.github.com/users/farazdagi/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "farazdagi",
      "id": 188194,
      "node_id": "MDQ6VXNlcjE4ODE5NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/188194?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/farazdagi",
      "html_url": "https://github.com/farazdagi",
      "followers_url": "https://api.github.com/users/farazdagi/followers",
      "following_url": "https://api.github.com/users/farazdagi/following{/other_user}",
      "gists_url": "https://api.github.com/users/farazdagi/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/farazdagi/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/farazdagi/subscriptions",
      "organizations_url": "https://api.github.com/users/farazdagi/orgs",
      "repos_url": "https://api.github.com/users/farazdagi/repos",
      "events_url": "https://api.github.com/users/farazdagi/events{/privacy}",
      "received_events_url": "https://api.github.com/users/farazdagi/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 7,
  "created_at": "2020-04-11T12:39:35Z",
  "updated_at": "2020-05-15T21:29:50Z",
  "closed_at": "2020-05-15T21:29:50Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "- this is a meta issue to track memory optimization PRs, which will improve memory consumption during initial sync\r\n- we need to find an upper bound of minimum memory required to sync (making sure that such a bound exists and memory doesn't grow unconstrained) *note: at the moment it seems docker image with 8GiB of memory is necessary to sync*\r\n- then gradually decrease memory consumption via several optimization PRs\r\n- related issue #4970\r\n- start from https://github.com/prysmaticlabs/prysm/pull/5245 PR",
  "closed_by": {
    "login": "rauljordan",
    "id": 5572669,
    "node_id": "MDQ6VXNlcjU1NzI2Njk=",
    "avatar_url": "https://avatars.githubusercontent.com/u/5572669?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/rauljordan",
    "html_url": "https://github.com/rauljordan",
    "followers_url": "https://api.github.com/users/rauljordan/followers",
    "following_url": "https://api.github.com/users/rauljordan/following{/other_user}",
    "gists_url": "https://api.github.com/users/rauljordan/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/rauljordan/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/rauljordan/subscriptions",
    "organizations_url": "https://api.github.com/users/rauljordan/orgs",
    "repos_url": "https://api.github.com/users/rauljordan/repos",
    "events_url": "https://api.github.com/users/rauljordan/events{/privacy}",
    "received_events_url": "https://api.github.com/users/rauljordan/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/5390/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/5390/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/622253504",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/5390#issuecomment-622253504",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/5390",
    "id": 622253504,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYyMjI1MzUwNA==",
    "user": {
      "login": "nisdas",
      "id": 33201827,
      "node_id": "MDQ6VXNlcjMzMjAxODI3",
      "avatar_url": "https://avatars.githubusercontent.com/u/33201827?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nisdas",
      "html_url": "https://github.com/nisdas",
      "followers_url": "https://api.github.com/users/nisdas/followers",
      "following_url": "https://api.github.com/users/nisdas/following{/other_user}",
      "gists_url": "https://api.github.com/users/nisdas/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nisdas/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nisdas/subscriptions",
      "organizations_url": "https://api.github.com/users/nisdas/orgs",
      "repos_url": "https://api.github.com/users/nisdas/repos",
      "events_url": "https://api.github.com/users/nisdas/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nisdas/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-05-01T05:20:19Z",
    "updated_at": "2020-05-01T05:20:19Z",
    "author_association": "MEMBER",
    "body": "@Magicking hey could you give more details on the setup you are using to run the node ? I can't reproduce the memory usage increasing to 6.8gb of resident memory. It has stayed from 1gb - 2.5gb .",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/622253504/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/622436414",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/5390#issuecomment-622436414",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/5390",
    "id": 622436414,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYyMjQzNjQxNA==",
    "user": {
      "login": "metanull-operator",
      "id": 54516310,
      "node_id": "MDQ6VXNlcjU0NTE2MzEw",
      "avatar_url": "https://avatars.githubusercontent.com/u/54516310?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/metanull-operator",
      "html_url": "https://github.com/metanull-operator",
      "followers_url": "https://api.github.com/users/metanull-operator/followers",
      "following_url": "https://api.github.com/users/metanull-operator/following{/other_user}",
      "gists_url": "https://api.github.com/users/metanull-operator/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/metanull-operator/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/metanull-operator/subscriptions",
      "organizations_url": "https://api.github.com/users/metanull-operator/orgs",
      "repos_url": "https://api.github.com/users/metanull-operator/repos",
      "events_url": "https://api.github.com/users/metanull-operator/events{/privacy}",
      "received_events_url": "https://api.github.com/users/metanull-operator/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-05-01T15:34:06Z",
    "updated_at": "2020-05-01T15:34:06Z",
    "author_association": "CONTRIBUTOR",
    "body": "I had an OOM crash this morning for the first time in months on one of my two beacon chains.\r\n\r\nRunning beacon with the following command:\r\n```beacon-chain --datadir=/home/eth2/prysm --min-sync-peers=7 --p2p-max-peers=50 --monitoring-port 8080 --p2p-tcp-port 13000 --p2p-udp-port 12000 --rpc-port 4000 --p2p-host-ip=XXX.XXX.XXX.XXX --http-web3provider http://192.168.XXX.XXX:8545 --web3provider ws://192.168.XXX.XXX:8546 --peer /ip4/192.168.XXX.XXX/tcp/13001/p2p/16Uiu2HAm19mzAn8MQrKWb3nr4U6XKyYZ5RVvP4WPv723EedDWsY8```\r\n\r\nBeacon was synced the night prior to the crash, and had 50 peers up until the point of crash. Grafana chart shows memory usage slowly increasing over the prior 5 days up until crash.\r\n\r\nLogs show:\r\n\r\n```\r\nMay  1 06:02:39 beacon01 beacon-chain[12379]: time=\"2020-05-01 06:02:39\" level=info msg=\"Executing state transition on block\" prefix=blockchain root=0xd469773a... slot=97213\r\nMay  1 06:02:43 beacon01 beacon-chain[12379]: time=\"2020-05-01 06:02:43\" level=info msg=\"Finished applying state transition\" attestations=23 attesterSlashings=0 deposits=0 prefix=blockchain proposerSlashings=0 slot=97213 voluntaryExits=0\r\nMay  1 06:02:53 beacon01 beacon-chain[12379]: time=\"2020-05-01 06:02:53\" level=info msg=\"Executing state transition on block\" prefix=blockchain root=0x9a4b108b... slot=97214\r\nMay  1 06:02:53 beacon01 beacon-chain[12379]: time=\"2020-05-01 06:02:53\" level=info msg=\"Finished applying state transition\" attestations=11 attesterSlashings=0 deposits=0 prefix=blockchain proposerSlashings=0 slot=97214 voluntaryExits=0\r\nMay  1 06:03:04 beacon01 beacon-chain[12379]: time=\"2020-05-01 06:03:04\" level=info msg=\"Executing state transition on block\" prefix=blockchain root=0xad04c09a... slot=97215\r\nMay  1 06:03:47 beacon01 beacon-chain[12379]: fatal error: runtime: out of memory\r\nMay  1 06:04:05 beacon01 beacon-chain[12379]: runtime stack:\r\nMay  1 06:04:19 beacon01 beacon-chain[12379]: runtime.throw(0x1738bcf, 0x16)\r\nMay  1 06:04:45 beacon01 beacon-chain[12379]: #011GOROOT/src/runtime/panic.go:1112 +0x72\r\nMay  1 06:05:03 beacon01 beacon-chain[12379]: runtime.sysMap(0xc490000000, 0x4000000, 0x27af3f8)\r\nMay  1 06:05:18 beacon01 beacon-chain[12379]: #011GOROOT/src/runtime/mem_linux.go:169 +0xc5\r\nMay  1 06:05:19 beacon01 beacon-chain[12379]: runtime.(*mheap).sysAlloc(0x27967a0, 0x400000, 0x27967a8, 0x1ea)\r\nMay  1 06:05:29 beacon01 beacon-chain[12379]: #011GOROOT/src/runtime/malloc.go:715 +0x1cd\r\nMay  1 06:05:49 beacon01 beacon-chain[12379]: runtime.(*mheap).grow(0x27967a0, 0x1ea, 0x0)\r\nMay  1 06:06:35 beacon01 beacon-chain[12379]: #011GOROOT/src/runtime/mheap.go:1286 +0x11c\r\nMay  1 06:06:42 beacon01 beacon-chain[12379]: runtime.(*mheap).allocSpan(0x27967a0, 0x1ea, 0x7f6faae60100, 0x27af408, 0x436e66)\r\nMay  1 06:06:43 beacon01 beacon-chain[12379]: #011GOROOT/src/runtime/mheap.go:1124 +0x6a0\r\nMay  1 06:06:48 beacon01 beacon-chain[12379]: runtime.(*mheap).alloc.func1()\r\nMay  1 06:06:51 beacon01 beacon-chain[12379]: #011GOROOT/src/runtime/mheap.go:871 +0x64\r\nMay  1 06:06:52 beacon01 beacon-chain[12379]: runtime.(*mheap).alloc(0x27967a0, 0x1ea, 0x7f6faae60101, 0x7f6f1a33a818)\r\nMay  1 06:07:02 beacon01 beacon-chain[12379]: #011GOROOT/src/runtime/mheap.go:865 +0x81\r\nMay  1 06:07:02 beacon01 beacon-chain[12379]: runtime.largeAlloc(0x3d3c60, 0x480101, 0x7f6f1a33a818)\r\nMay  1 06:07:14 beacon01 beacon-chain[12379]: #011GOROOT/src/runtime/malloc.go:1152 +0x92\r\nMay  1 06:07:36 beacon01 beacon-chain[12379]: runtime.mallocgc.func1()\r\nMay  1 06:07:56 beacon01 beacon-chain[12379]: #011GOROOT/src/runtime/malloc.go:1047 +0x46\r\nMay  1 06:08:18 beacon01 beacon-chain[12379]: runtime.systemstack(0x0)\r\nMay  1 06:08:29 beacon01 beacon-chain[12379]: #011GOROOT/src/runtime/asm_amd64.s:370 +0x66\r\nMay  1 06:08:38 beacon01 beacon-chain[12379]: runtime.mstart()\r\nMay  1 06:08:51 beacon01 beacon-chain[12379]: #011GOROOT/src/runtime/proc.go:1041\r\nMay  1 06:08:56 beacon01 beacon-chain[12379]: goroutine 156870908 [running]:\r\nMay  1 06:09:06 beacon01 beacon-chain[12379]: runtime.systemstack_switch()\r\nMay  1 06:09:24 beacon01 beacon-chain[12379]: #011GOROOT/src/runtime/asm_amd64.s:330 fp=0xc018307560 sp=0xc018307558 pc=0x486db0\r\nMay  1 06:09:39 beacon01 beacon-chain[12379]: runtime.mallocgc(0x3d3c60, 0x1492ee0, 0x23cdb201, 0x10fe26d75b1c1e8)\r\nMay  1 06:09:51 beacon01 beacon-chain[12379]: #011GOROOT/src/runtime/malloc.go:1046 +0x895 fp=0xc018307600 sp=0xc018307560 pc=0x42df45\r\nMay  1 06:10:05 beacon01 beacon-chain[12379]: runtime.makeslice(0x1492ee0, 0x7a78c, 0x7a78c, 0xc012a1fb48)\r\nMay  1 06:10:15 beacon01 beacon-chain[12379]: #011GOROOT/src/runtime/slice.go:49 +0x6c fp=0xc018307630 sp=0xc018307600 pc=0x46df2c\r\nMay  1 06:10:17 beacon01 beacon-chain[12379]: github.com/prysmaticlabs/prysm/beacon-chain/state.(*BeaconState).Copy(0xc01a9c4e00, 0x0)\r\nMay  1 06:10:17 beacon01 beacon-chain[12379]: #011beacon-chain/state/state_trie.go:126 +0x88a fp=0xc018307948 sp=0xc018307630 pc=0xb41a6a\r\nMay  1 06:10:34 beacon01 beacon-chain[12379]: github.com/prysmaticlabs/prysm/beacon-chain/blockchain.(*Service).headState(0xc00000c3c0, 0x0)\r\nMay  1 06:11:04 beacon01 beacon-chain[12379]: #011beacon-chain/blockchain/head.go:202 +0x82 fp=0xc018307988 sp=0xc018307948 pc=0x116a192\r\nMay  1 06:12:13 beacon01 beacon-chain[12379]: github.com/prysmaticlabs/prysm/beacon-chain/blockchain.(*Service).HeadState(0xc00000c3c0, 0x1af31c0, 0xc01d49e120, 0x0, 0x0, 0x0)\r\n```\r\n\r\n![2020-05-01 09_33_14-Prysm - Grafana](https://user-images.githubusercontent.com/54516310/80817544-ddbd2980-8b8e-11ea-97d7-80f195197a85.png)\r\n\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/622436414/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/622439866",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/5390#issuecomment-622439866",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/5390",
    "id": 622439866,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYyMjQzOTg2Ng==",
    "user": {
      "login": "metanull-operator",
      "id": 54516310,
      "node_id": "MDQ6VXNlcjU0NTE2MzEw",
      "avatar_url": "https://avatars.githubusercontent.com/u/54516310?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/metanull-operator",
      "html_url": "https://github.com/metanull-operator",
      "followers_url": "https://api.github.com/users/metanull-operator/followers",
      "following_url": "https://api.github.com/users/metanull-operator/following{/other_user}",
      "gists_url": "https://api.github.com/users/metanull-operator/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/metanull-operator/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/metanull-operator/subscriptions",
      "organizations_url": "https://api.github.com/users/metanull-operator/orgs",
      "repos_url": "https://api.github.com/users/metanull-operator/repos",
      "events_url": "https://api.github.com/users/metanull-operator/events{/privacy}",
      "received_events_url": "https://api.github.com/users/metanull-operator/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-05-01T15:42:20Z",
    "updated_at": "2020-05-01T15:42:20Z",
    "author_association": "CONTRIBUTOR",
    "body": "I should add this commit I was using: 33774721bb585d4fca85343fbd9592274f246274\r\n\r\nMy system has 16GB RAM.",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/622439866/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/622554513",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/5390#issuecomment-622554513",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/5390",
    "id": 622554513,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYyMjU1NDUxMw==",
    "user": {
      "login": "terencechain",
      "id": 21316537,
      "node_id": "MDQ6VXNlcjIxMzE2NTM3",
      "avatar_url": "https://avatars.githubusercontent.com/u/21316537?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/terencechain",
      "html_url": "https://github.com/terencechain",
      "followers_url": "https://api.github.com/users/terencechain/followers",
      "following_url": "https://api.github.com/users/terencechain/following{/other_user}",
      "gists_url": "https://api.github.com/users/terencechain/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/terencechain/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/terencechain/subscriptions",
      "organizations_url": "https://api.github.com/users/terencechain/orgs",
      "repos_url": "https://api.github.com/users/terencechain/repos",
      "events_url": "https://api.github.com/users/terencechain/events{/privacy}",
      "received_events_url": "https://api.github.com/users/terencechain/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-05-01T20:29:31Z",
    "updated_at": "2020-05-01T20:29:31Z",
    "author_association": "MEMBER",
    "body": "Can confirm. Syncing 2/3 of the way through, and the memory is at 4.2GB\r\n\r\n<img width=\"410\" alt=\"Screen Shot 2020-05-01 at 1 25 39 PM\" src=\"https://user-images.githubusercontent.com/21316537/80839269-c6426880-8baf-11ea-80fa-6c6165b828c2.png\">\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/622554513/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/623808833",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/5390#issuecomment-623808833",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/5390",
    "id": 623808833,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYyMzgwODgzMw==",
    "user": {
      "login": "metanull-operator",
      "id": 54516310,
      "node_id": "MDQ6VXNlcjU0NTE2MzEw",
      "avatar_url": "https://avatars.githubusercontent.com/u/54516310?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/metanull-operator",
      "html_url": "https://github.com/metanull-operator",
      "followers_url": "https://api.github.com/users/metanull-operator/followers",
      "following_url": "https://api.github.com/users/metanull-operator/following{/other_user}",
      "gists_url": "https://api.github.com/users/metanull-operator/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/metanull-operator/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/metanull-operator/subscriptions",
      "organizations_url": "https://api.github.com/users/metanull-operator/orgs",
      "repos_url": "https://api.github.com/users/metanull-operator/repos",
      "events_url": "https://api.github.com/users/metanull-operator/events{/privacy}",
      "received_events_url": "https://api.github.com/users/metanull-operator/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-05-05T03:03:18Z",
    "updated_at": "2020-05-05T03:03:54Z",
    "author_association": "CONTRIBUTOR",
    "body": "Update after upgrading to v1.0.0-alpha.6, memory consumption looks more reasonably now, but I will continue to monitor.\r\n\r\n![image](https://user-images.githubusercontent.com/54516310/81031778-a8446480-8e4a-11ea-84ff-174ddc2db092.png)\r\n\r\nEdit: You can see prior memory problem in the middle, then last restart after upgrade to alpha.6.",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/623808833/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/624568724",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/5390#issuecomment-624568724",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/5390",
    "id": 624568724,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYyNDU2ODcyNA==",
    "user": {
      "login": "rkapka",
      "id": 28876818,
      "node_id": "MDQ6VXNlcjI4ODc2ODE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/28876818?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rkapka",
      "html_url": "https://github.com/rkapka",
      "followers_url": "https://api.github.com/users/rkapka/followers",
      "following_url": "https://api.github.com/users/rkapka/following{/other_user}",
      "gists_url": "https://api.github.com/users/rkapka/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rkapka/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rkapka/subscriptions",
      "organizations_url": "https://api.github.com/users/rkapka/orgs",
      "repos_url": "https://api.github.com/users/rkapka/repos",
      "events_url": "https://api.github.com/users/rkapka/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rkapka/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-05-06T10:31:34Z",
    "updated_at": "2020-05-06T14:06:17Z",
    "author_association": "CONTRIBUTOR",
    "body": "I just wanted to confirm the issue. I tried to sync the blockchain on Windows 10 and the process has consumed over 5GB of ram at around 50000 blocks. I used the `--enable-state-ref-copy` flag. Without the flag it got to 4.5GB at around 30000 blocks.\r\n\r\n*EDIT:*\r\nI was able to successfully sync on Windows Server 2019 with 16GB of RAM. Memory usage peaked at almost 9846MB at one point (probably somewhere around block 100,000). The CPU usage was in the 70-75 percent range most of the time (Intel(R) Xeon(R) E5-2673 @ 2.30GHz). After completing the initial sync the CPU usage dropped to around 60% and the memory usage stayed at the peak level - 9864MB.",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/624568724/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/629499472",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/5390#issuecomment-629499472",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/5390",
    "id": 629499472,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYyOTQ5OTQ3Mg==",
    "user": {
      "login": "rauljordan",
      "id": 5572669,
      "node_id": "MDQ6VXNlcjU1NzI2Njk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5572669?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rauljordan",
      "html_url": "https://github.com/rauljordan",
      "followers_url": "https://api.github.com/users/rauljordan/followers",
      "following_url": "https://api.github.com/users/rauljordan/following{/other_user}",
      "gists_url": "https://api.github.com/users/rauljordan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rauljordan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rauljordan/subscriptions",
      "organizations_url": "https://api.github.com/users/rauljordan/orgs",
      "repos_url": "https://api.github.com/users/rauljordan/repos",
      "events_url": "https://api.github.com/users/rauljordan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rauljordan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-05-15T21:29:49Z",
    "updated_at": "2020-05-15T21:29:49Z",
    "author_association": "CONTRIBUTOR",
    "body": "Initial sync is currently significantly stable. We can close unless these suspicions arise again from user reports.",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/629499472/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 1,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
