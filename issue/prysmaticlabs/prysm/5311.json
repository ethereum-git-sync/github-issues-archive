{
  "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/5311",
  "repository_url": "https://api.github.com/repos/prysmaticlabs/prysm",
  "labels_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/5311/labels{/name}",
  "comments_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/5311/comments",
  "events_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/5311/events",
  "html_url": "https://github.com/prysmaticlabs/prysm/issues/5311",
  "id": 594464776,
  "node_id": "MDU6SXNzdWU1OTQ0NjQ3NzY=",
  "number": 5311,
  "title": "kafka?",
  "user": {
    "login": "pkieltyka",
    "id": 18831,
    "node_id": "MDQ6VXNlcjE4ODMx",
    "avatar_url": "https://avatars.githubusercontent.com/u/18831?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/pkieltyka",
    "html_url": "https://github.com/pkieltyka",
    "followers_url": "https://api.github.com/users/pkieltyka/followers",
    "following_url": "https://api.github.com/users/pkieltyka/following{/other_user}",
    "gists_url": "https://api.github.com/users/pkieltyka/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/pkieltyka/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/pkieltyka/subscriptions",
    "organizations_url": "https://api.github.com/users/pkieltyka/orgs",
    "repos_url": "https://api.github.com/users/pkieltyka/repos",
    "events_url": "https://api.github.com/users/pkieltyka/events{/privacy}",
    "received_events_url": "https://api.github.com/users/pkieltyka/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": {
    "login": "prestonvanloon",
    "id": 7246818,
    "node_id": "MDQ6VXNlcjcyNDY4MTg=",
    "avatar_url": "https://avatars.githubusercontent.com/u/7246818?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/prestonvanloon",
    "html_url": "https://github.com/prestonvanloon",
    "followers_url": "https://api.github.com/users/prestonvanloon/followers",
    "following_url": "https://api.github.com/users/prestonvanloon/following{/other_user}",
    "gists_url": "https://api.github.com/users/prestonvanloon/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/prestonvanloon/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/prestonvanloon/subscriptions",
    "organizations_url": "https://api.github.com/users/prestonvanloon/orgs",
    "repos_url": "https://api.github.com/users/prestonvanloon/repos",
    "events_url": "https://api.github.com/users/prestonvanloon/events{/privacy}",
    "received_events_url": "https://api.github.com/users/prestonvanloon/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "prestonvanloon",
      "id": 7246818,
      "node_id": "MDQ6VXNlcjcyNDY4MTg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7246818?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/prestonvanloon",
      "html_url": "https://github.com/prestonvanloon",
      "followers_url": "https://api.github.com/users/prestonvanloon/followers",
      "following_url": "https://api.github.com/users/prestonvanloon/following{/other_user}",
      "gists_url": "https://api.github.com/users/prestonvanloon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/prestonvanloon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/prestonvanloon/subscriptions",
      "organizations_url": "https://api.github.com/users/prestonvanloon/orgs",
      "repos_url": "https://api.github.com/users/prestonvanloon/repos",
      "events_url": "https://api.github.com/users/prestonvanloon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/prestonvanloon/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 5,
  "created_at": "2020-04-05T13:48:17Z",
  "updated_at": "2020-04-07T02:09:01Z",
  "closed_at": "2020-04-07T01:57:23Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "thanks for your amazing work on prysm. I'm just recently starting to dig into the code a little bit and wondering why you're using kafka in the project? it's quite a heavy piece of infrastructure to make as a dependency to this client -- perhaps at first glance though I'm not understanding its use or plans. sorry for the strange question but just personally curious.",
  "closed_by": {
    "login": "prestonvanloon",
    "id": 7246818,
    "node_id": "MDQ6VXNlcjcyNDY4MTg=",
    "avatar_url": "https://avatars.githubusercontent.com/u/7246818?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/prestonvanloon",
    "html_url": "https://github.com/prestonvanloon",
    "followers_url": "https://api.github.com/users/prestonvanloon/followers",
    "following_url": "https://api.github.com/users/prestonvanloon/following{/other_user}",
    "gists_url": "https://api.github.com/users/prestonvanloon/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/prestonvanloon/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/prestonvanloon/subscriptions",
    "organizations_url": "https://api.github.com/users/prestonvanloon/orgs",
    "repos_url": "https://api.github.com/users/prestonvanloon/repos",
    "events_url": "https://api.github.com/users/prestonvanloon/events{/privacy}",
    "received_events_url": "https://api.github.com/users/prestonvanloon/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/5311/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/5311/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/609459442",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/5311#issuecomment-609459442",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/5311",
    "id": 609459442,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYwOTQ1OTQ0Mg==",
    "user": {
      "login": "0xKiwi",
      "id": 6251510,
      "node_id": "MDQ6VXNlcjYyNTE1MTA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6251510?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/0xKiwi",
      "html_url": "https://github.com/0xKiwi",
      "followers_url": "https://api.github.com/users/0xKiwi/followers",
      "following_url": "https://api.github.com/users/0xKiwi/following{/other_user}",
      "gists_url": "https://api.github.com/users/0xKiwi/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/0xKiwi/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/0xKiwi/subscriptions",
      "organizations_url": "https://api.github.com/users/0xKiwi/orgs",
      "repos_url": "https://api.github.com/users/0xKiwi/repos",
      "events_url": "https://api.github.com/users/0xKiwi/events{/privacy}",
      "received_events_url": "https://api.github.com/users/0xKiwi/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-04-05T18:17:37Z",
    "updated_at": "2020-04-05T18:17:46Z",
    "author_association": "CONTRIBUTOR",
    "body": "Hello @pkieltyka ! Thanks for the nice words and question :)\r\n\r\nMaybe @prestonvanloon can explain why we use it, he's the most knowledgable to answer I believe.",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/609459442/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/610123496",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/5311#issuecomment-610123496",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/5311",
    "id": 610123496,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxMDEyMzQ5Ng==",
    "user": {
      "login": "prestonvanloon",
      "id": 7246818,
      "node_id": "MDQ6VXNlcjcyNDY4MTg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7246818?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/prestonvanloon",
      "html_url": "https://github.com/prestonvanloon",
      "followers_url": "https://api.github.com/users/prestonvanloon/followers",
      "following_url": "https://api.github.com/users/prestonvanloon/following{/other_user}",
      "gists_url": "https://api.github.com/users/prestonvanloon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/prestonvanloon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/prestonvanloon/subscriptions",
      "organizations_url": "https://api.github.com/users/prestonvanloon/orgs",
      "repos_url": "https://api.github.com/users/prestonvanloon/repos",
      "events_url": "https://api.github.com/users/prestonvanloon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/prestonvanloon/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-04-07T01:35:07Z",
    "updated_at": "2020-04-07T01:35:07Z",
    "author_association": "MEMBER",
    "body": "@pkieltyka The idea for adding kafka is that we can stream beacon blocks and beacon attestations as they are saved to the database to some central repository. I imagine this makes ETL easier for things like BigQuery or certain types of slashing protection / alerting.\r\n\r\nAdmittedly, we have not taken advantage of this feature yet, but intend to do so in the near future.\r\n\r\nSomething to note is that building with kafka support is an opt-in piece of functionality as it causes some build issues on certain operating systems, building kafka takes a long time, and there is low/no demand for this feature. \r\n\r\nDoes that answer your question?",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/610123496/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/610127422",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/5311#issuecomment-610127422",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/5311",
    "id": 610127422,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxMDEyNzQyMg==",
    "user": {
      "login": "pkieltyka",
      "id": 18831,
      "node_id": "MDQ6VXNlcjE4ODMx",
      "avatar_url": "https://avatars.githubusercontent.com/u/18831?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pkieltyka",
      "html_url": "https://github.com/pkieltyka",
      "followers_url": "https://api.github.com/users/pkieltyka/followers",
      "following_url": "https://api.github.com/users/pkieltyka/following{/other_user}",
      "gists_url": "https://api.github.com/users/pkieltyka/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pkieltyka/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pkieltyka/subscriptions",
      "organizations_url": "https://api.github.com/users/pkieltyka/orgs",
      "repos_url": "https://api.github.com/users/pkieltyka/repos",
      "events_url": "https://api.github.com/users/pkieltyka/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pkieltyka/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-04-07T01:50:22Z",
    "updated_at": "2020-04-07T01:57:29Z",
    "author_association": "NONE",
    "body": "@prestonvanloon thanks for the answer. Personally I love to see systems to be as lean as possible and offer interfaces for people to plug in adapters. Lean design/implementations are faster to develop and easier to maintain -- so anything that isn't core to a service, shouldn't be included in the core application -- this will pay huge dividends in productivity and operations. In this case you could still stream the blocks in a payload over a socket interface, and then write a kafka adapter outside of it -- would be much lighter then being part of the core codebase. Hope you consider this feedback and that it works out to make your builds + life easier + faster. All the best :)",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/610127422/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/610129325",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/5311#issuecomment-610129325",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/5311",
    "id": 610129325,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxMDEyOTMyNQ==",
    "user": {
      "login": "prestonvanloon",
      "id": 7246818,
      "node_id": "MDQ6VXNlcjcyNDY4MTg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7246818?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/prestonvanloon",
      "html_url": "https://github.com/prestonvanloon",
      "followers_url": "https://api.github.com/users/prestonvanloon/followers",
      "following_url": "https://api.github.com/users/prestonvanloon/following{/other_user}",
      "gists_url": "https://api.github.com/users/prestonvanloon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/prestonvanloon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/prestonvanloon/subscriptions",
      "organizations_url": "https://api.github.com/users/prestonvanloon/orgs",
      "repos_url": "https://api.github.com/users/prestonvanloon/repos",
      "events_url": "https://api.github.com/users/prestonvanloon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/prestonvanloon/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-04-07T01:57:23Z",
    "updated_at": "2020-04-07T01:57:23Z",
    "author_association": "MEMBER",
    "body": "Thanks for the feedback. At the time of implementing this feature, using the kafka exporter seemed like the ideal approach given the limited amount of time allocated to experimentation here.\r\n\r\nIf the optional dependency on kafka is causing anyone pain, we can consider removing kafka in favor of writing some extraction ETL using existing gRPC streams and unary RPC requests.",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/610129325/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/610132349",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/5311#issuecomment-610132349",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/5311",
    "id": 610132349,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxMDEzMjM0OQ==",
    "user": {
      "login": "pkieltyka",
      "id": 18831,
      "node_id": "MDQ6VXNlcjE4ODMx",
      "avatar_url": "https://avatars.githubusercontent.com/u/18831?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pkieltyka",
      "html_url": "https://github.com/pkieltyka",
      "followers_url": "https://api.github.com/users/pkieltyka/followers",
      "following_url": "https://api.github.com/users/pkieltyka/following{/other_user}",
      "gists_url": "https://api.github.com/users/pkieltyka/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pkieltyka/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pkieltyka/subscriptions",
      "organizations_url": "https://api.github.com/users/pkieltyka/orgs",
      "repos_url": "https://api.github.com/users/pkieltyka/repos",
      "events_url": "https://api.github.com/users/pkieltyka/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pkieltyka/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-04-07T02:09:00Z",
    "updated_at": "2020-04-07T02:09:00Z",
    "author_association": "NONE",
    "body": "yea, :+1: x100 for gRPC streams and unary RPC requests instead of kafka. \r\n\r\nand something even lighter than gRPC is webrpc -- which is plain http 1.1 or 2, over JSON, using a protocol schema for the payloads and generated clients in Go/TS. Streaming support is in this branch: https://github.com/webrpc/webrpc/tree/stream2/_examples/golang-streaming ",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/610132349/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
