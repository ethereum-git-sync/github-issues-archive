{
  "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/11138",
  "repository_url": "https://api.github.com/repos/prysmaticlabs/prysm",
  "labels_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/11138/labels{/name}",
  "comments_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/11138/comments",
  "events_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/11138/events",
  "html_url": "https://github.com/prysmaticlabs/prysm/issues/11138",
  "id": 1323853281,
  "node_id": "I_kwDOBvuov85O6GXh",
  "number": 11138,
  "title": "Some \"params.OverrideBeaconConfig(...) is no-op\"",
  "user": {
    "login": "shenhanc78",
    "id": 18222402,
    "node_id": "MDQ6VXNlcjE4MjIyNDAy",
    "avatar_url": "https://avatars.githubusercontent.com/u/18222402?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/shenhanc78",
    "html_url": "https://github.com/shenhanc78",
    "followers_url": "https://api.github.com/users/shenhanc78/followers",
    "following_url": "https://api.github.com/users/shenhanc78/following{/other_user}",
    "gists_url": "https://api.github.com/users/shenhanc78/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/shenhanc78/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/shenhanc78/subscriptions",
    "organizations_url": "https://api.github.com/users/shenhanc78/orgs",
    "repos_url": "https://api.github.com/users/shenhanc78/repos",
    "events_url": "https://api.github.com/users/shenhanc78/events{/privacy}",
    "received_events_url": "https://api.github.com/users/shenhanc78/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 802129906,
      "node_id": "MDU6TGFiZWw4MDIxMjk5MDY=",
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/labels/Enhancement",
      "name": "Enhancement",
      "color": "84b6eb",
      "default": false,
      "description": "New feature or request"
    },
    {
      "id": 934596141,
      "node_id": "MDU6TGFiZWw5MzQ1OTYxNDE=",
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/labels/Discussion",
      "name": "Discussion",
      "color": "f9d0c4",
      "default": false,
      "description": "Simply a thread for talking about stuff"
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": {
    "login": "kasey",
    "id": 489222,
    "node_id": "MDQ6VXNlcjQ4OTIyMg==",
    "avatar_url": "https://avatars.githubusercontent.com/u/489222?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/kasey",
    "html_url": "https://github.com/kasey",
    "followers_url": "https://api.github.com/users/kasey/followers",
    "following_url": "https://api.github.com/users/kasey/following{/other_user}",
    "gists_url": "https://api.github.com/users/kasey/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/kasey/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/kasey/subscriptions",
    "organizations_url": "https://api.github.com/users/kasey/orgs",
    "repos_url": "https://api.github.com/users/kasey/repos",
    "events_url": "https://api.github.com/users/kasey/events{/privacy}",
    "received_events_url": "https://api.github.com/users/kasey/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "kasey",
      "id": 489222,
      "node_id": "MDQ6VXNlcjQ4OTIyMg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/489222?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kasey",
      "html_url": "https://github.com/kasey",
      "followers_url": "https://api.github.com/users/kasey/followers",
      "following_url": "https://api.github.com/users/kasey/following{/other_user}",
      "gists_url": "https://api.github.com/users/kasey/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kasey/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kasey/subscriptions",
      "organizations_url": "https://api.github.com/users/kasey/orgs",
      "repos_url": "https://api.github.com/users/kasey/repos",
      "events_url": "https://api.github.com/users/kasey/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kasey/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 1,
  "created_at": "2022-08-01T05:39:27Z",
  "updated_at": "2022-08-01T05:55:47Z",
  "closed_at": null,
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "<!--ðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’Ž\r\n\r\nHellooo! ðŸ˜„ \r\n\r\nTo help us tend to your issue faster, please search our currently open issues before submitting a new one.\r\nExisting issues often contain information about workarounds, resolution, or progress updates.\r\n\r\nðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’Ž-->\r\n\r\n# ðŸ’Ž Issue\r\n\r\n### Background & description\r\n\r\nIn the [code](https://github.com/prysmaticlabs/prysm/blob/758d28678ca7840b7f67854aa438e71ba4bec810/beacon-chain/node/config.go#L135) sequence below:\r\n```\r\n    c := params.BeaconConfig()\r\n    c.TerminalTotalDifficulty = ...\r\n    log.WithField(...)...\r\n    params.OverrideBeaconConfig(c)\r\n```\r\nThe first line set \"c\" to \"params.configs.active\" which is a pointer to params.BeaconChainConfig object, the second line changes \"TerminalTotalDifficulty\" field via the pointer, the last statement then sets params.configs.active back to \"c\".\r\n\r\nThe last statement is effectively a no-op, because \"params.configs.active\" is \"c\", the change to \"TerminalTotalDifficulty\" via pointer c does not make \"c\" any different from params.configs.active, both are pointers to the same underlying params.BeaconChainConfig object.\r\n\r\nI think either of the following makes more sense. (The second one is costlier, but users has the guarantee that the point acquired via params.BeaconConfig() is immutable)\r\n\r\n```\r\n    c := params.BeaconConfig()\r\n    c.TerminalTotalDifficulty = ...\r\n    log.WithField(...)...\r\n```\r\n\r\n.or.\r\n```\r\n    c := params.BeaconConfig().Copy()\r\n    c.TerminalTotalDifficulty = ...\r\n    log.WithField(...)...\r\n    params.configs.SetActive(c)\r\n```\r\n\r\nThere are similar cases in beacon-chain/node/config.go.\r\n",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/11138/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/11138/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/1200742022",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/11138#issuecomment-1200742022",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/11138",
    "id": 1200742022,
    "node_id": "IC_kwDOBvuov85Hkd6G",
    "user": {
      "login": "nisdas",
      "id": 33201827,
      "node_id": "MDQ6VXNlcjMzMjAxODI3",
      "avatar_url": "https://avatars.githubusercontent.com/u/33201827?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nisdas",
      "html_url": "https://github.com/nisdas",
      "followers_url": "https://api.github.com/users/nisdas/followers",
      "following_url": "https://api.github.com/users/nisdas/following{/other_user}",
      "gists_url": "https://api.github.com/users/nisdas/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nisdas/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nisdas/subscriptions",
      "organizations_url": "https://api.github.com/users/nisdas/orgs",
      "repos_url": "https://api.github.com/users/nisdas/repos",
      "events_url": "https://api.github.com/users/nisdas/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nisdas/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-08-01T05:54:16Z",
    "updated_at": "2022-08-01T05:54:16Z",
    "author_association": "MEMBER",
    "body": "@kasey What do you think on the above suggestions ? ",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/1200742022/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
