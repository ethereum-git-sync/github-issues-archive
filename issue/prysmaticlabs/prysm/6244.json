{
  "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/6244",
  "repository_url": "https://api.github.com/repos/prysmaticlabs/prysm",
  "labels_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/6244/labels{/name}",
  "comments_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/6244/comments",
  "events_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/6244/events",
  "html_url": "https://github.com/prysmaticlabs/prysm/issues/6244",
  "id": 638301423,
  "node_id": "MDU6SXNzdWU2MzgzMDE0MjM=",
  "number": 6244,
  "title": "Sync not completing",
  "user": {
    "login": "mcdee",
    "id": 511384,
    "node_id": "MDQ6VXNlcjUxMTM4NA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/511384?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/mcdee",
    "html_url": "https://github.com/mcdee",
    "followers_url": "https://api.github.com/users/mcdee/followers",
    "following_url": "https://api.github.com/users/mcdee/following{/other_user}",
    "gists_url": "https://api.github.com/users/mcdee/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/mcdee/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/mcdee/subscriptions",
    "organizations_url": "https://api.github.com/users/mcdee/orgs",
    "repos_url": "https://api.github.com/users/mcdee/repos",
    "events_url": "https://api.github.com/users/mcdee/events{/privacy}",
    "received_events_url": "https://api.github.com/users/mcdee/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2020-06-14T07:32:30Z",
  "updated_at": "2020-06-14T20:09:55Z",
  "closed_at": "2020-06-14T20:09:55Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "### Description\r\n\r\nSync does not complete.\r\n\r\nSame issue occurs if the DB is removed prior to restart.\r\n\r\n### Has this worked before in a previous version?\r\n\r\nYes.\r\n\r\n## üî¨ Minimal Reproduction\r\n\r\nRun the beacon chain.\r\n\r\n## üî• Error\r\n\r\n<pre><code>\r\nJun 14 07:28:55 client beacon-chain[3705367]: {\"level\":\"info\",\"logFileName\":\"/xxx/beacon-chain.out\",\"msg\":\"Logs will be made persistent\",\"time\":\"2020-06-14T07:28:55Z\"}\r\nJun 14 07:28:55 client beacon-chain[3705367]: {\"level\":\"info\",\"msg\":\"File logging initialized\",\"time\":\"2020-06-14T07:28:55Z\"}\r\nJun 14 07:28:55 client beacon-chain[3705367]: {\"addr\":\"http://xxx/debug/pprof\",\"level\":\"info\",\"msg\":\"Starting pprof server\",\"time\":\"2020-06-14T07:28:55Z\"}\r\nJun 14 07:28:55 client beacon-chain[3705367]: {\"database-path\":\"/xxx/.eth2/beaconchaindata\",\"level\":\"info\",\"msg\":\"Checking DB\",\"prefix\":\"node\",\"time\":\"2020-06-14T07:28:55Z\"}\r\nJun 14 07:28:55 client beacon-chain[3705367]: 2020/06/14 07:28:55 exit status 128\r\nJun 14 07:28:55 client beacon-chain[3705367]: 2020/06/14 07:28:55 exit status 128\r\nJun 14 07:28:55 client beacon-chain[3705367]: {\"level\":\"info\",\"msg\":\"Starting beacon node\",\"prefix\":\"node\",\"time\":\"2020-06-14T07:28:55Z\",\"version\":\"Prysm/{LATEST_GIT_TAG}/{STABLE_GIT_COMMIT}. Built at: 2020-06-14T07:28:55Z\"}\r\nJun 14 07:28:55 client beacon-chain[3705367]: {\"address\":\"127.0.0.1:3500\",\"level\":\"info\",\"msg\":\"Starting JSON-HTTP API\",\"prefix\":\"gateway\",\"time\":\"2020-06-14T07:28:55Z\"}\r\nJun 14 07:28:55 client beacon-chain[3705367]: {\"address\":\"127.0.0.1:4000\",\"level\":\"info\",\"msg\":\"RPC-API listening on port\",\"prefix\":\"rpc\",\"time\":\"2020-06-14T07:28:55Z\"}\r\nJun 14 07:28:55 client beacon-chain[3705367]: {\"level\":\"warning\",\"msg\":\"You are using an insecure gRPC connection! Provide a certificate and key to connect securely\",\"prefix\":\"rpc\",\"time\":\"2020-06-14T07:28:55Z\"}\r\nJun 14 07:28:55 client beacon-chain[3705367]: {\"endpoint\":\"http://xxx/\",\"level\":\"info\",\"msg\":\"Connected to eth1 proof-of-work chain\",\"prefix\":\"powchain\",\"time\":\"2020-06-14T07:28:55Z\"}\r\nJun 14 07:28:55 client beacon-chain[3705367]: {\"level\":\"info\",\"msg\":\"Blockchain data already exists in DB, initializing...\",\"prefix\":\"blockchain\",\"time\":\"2020-06-14T07:28:55Z\"}\r\nJun 14 07:28:55 client beacon-chain[3705367]: {\"level\":\"info\",\"msg\":\"Starting initial chain sync...\",\"prefix\":\"initial-sync\",\"time\":\"2020-06-14T07:28:55Z\"}\r\nJun 14 07:28:55 client beacon-chain[3705367]: {\"level\":\"info\",\"msg\":\"Waiting for enough suitable peers before syncing\",\"prefix\":\"initial-sync\",\"required\":3,\"suitable\":0,\"time\":\"2020-06-14T07:28:55Z\"}\r\nJun 14 07:28:55 client beacon-chain[3705367]: {\"genesisTime\":\"2020-06-14 05:17:24 +0000 UTC\",\"genesisValidators\":\"16392\",\"level\":\"info\",\"msg\":\"Chain genesis time reached\",\"prefix\":\"slotutil\",\"time\":\"2020-06-14T07:28:55Z\"}\r\nJun 14 07:28:59 client beacon-chain[3705367]: {\"addr\":\"127.0.0.1:42950\",\"level\":\"info\",\"msg\":\"New gRPC client connected to beacon node\",\"prefix\":\"rpc\",\"time\":\"2020-06-14T07:28:59Z\"}\r\nJun 14 07:29:01 client beacon-chain[3705367]: {\"addr\":\"127.0.0.1:42984\",\"level\":\"info\",\"msg\":\"New gRPC client connected to beacon node\",\"prefix\":\"rpc\",\"time\":\"2020-06-14T07:29:01Z\"}\r\nJun 14 07:29:02 client beacon-chain[3705367]: {\"error\":\"slot 544 already processed\",\"level\":\"info\",\"msg\":\"Block is not processed\",\"prefix\":\"initial-sync\",\"time\":\"2020-06-14T07:29:02Z\"}\r\nJun 14 07:29:02 client beacon-chain[3705367]: {\"blocksPerSecond\":\"0.1\",\"level\":\"info\",\"msg\":\"Processing block 0xf275469a... 545/658 - estimated time remaining 37m40s\",\"peers\":16,\"prefix\":\"initial-sync\",\"time\":\"2020-06-14T07:29:02Z\"}\r\nJun 14 07:29:02 client beacon-chain[3705367]: {\"blocksPerSecond\":\"0.1\",\"level\":\"info\",\"msg\":\"Processing block 0x07ca004d... 546/658 - estimated time remaining 18m40s\",\"peers\":16,\"prefix\":\"initial-sync\",\"time\":\"2020-06-14T07:29:02Z\"}\r\n</code></pre>\r\n\r\n\r\n## üåç  Your Environment\r\n\r\nlinux\r\n\r\n**What version of Prysm are you running? (Which release)**\r\n\r\nMaster up to just before the connection manager revert.",
  "closed_by": {
    "login": "mcdee",
    "id": 511384,
    "node_id": "MDQ6VXNlcjUxMTM4NA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/511384?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/mcdee",
    "html_url": "https://github.com/mcdee",
    "followers_url": "https://api.github.com/users/mcdee/followers",
    "following_url": "https://api.github.com/users/mcdee/following{/other_user}",
    "gists_url": "https://api.github.com/users/mcdee/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/mcdee/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/mcdee/subscriptions",
    "organizations_url": "https://api.github.com/users/mcdee/orgs",
    "repos_url": "https://api.github.com/users/mcdee/repos",
    "events_url": "https://api.github.com/users/mcdee/events{/privacy}",
    "received_events_url": "https://api.github.com/users/mcdee/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/6244/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/6244/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/643731511",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/6244#issuecomment-643731511",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/6244",
    "id": 643731511,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY0MzczMTUxMQ==",
    "user": {
      "login": "mcdee",
      "id": 511384,
      "node_id": "MDQ6VXNlcjUxMTM4NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/511384?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mcdee",
      "html_url": "https://github.com/mcdee",
      "followers_url": "https://api.github.com/users/mcdee/followers",
      "following_url": "https://api.github.com/users/mcdee/following{/other_user}",
      "gists_url": "https://api.github.com/users/mcdee/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mcdee/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mcdee/subscriptions",
      "organizations_url": "https://api.github.com/users/mcdee/orgs",
      "repos_url": "https://api.github.com/users/mcdee/repos",
      "events_url": "https://api.github.com/users/mcdee/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mcdee/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-06-14T07:43:36Z",
    "updated_at": "2020-06-14T07:43:36Z",
    "author_association": "CONTRIBUTOR",
    "body": "Relevant log entries in a run from clean (minus p2p):\r\n\r\n```\r\n{\"ChainStartTime\":\"2020-06-14T05:17:24Z\",\"level\":\"info\",\"msg\":\"Minimum number of validators reached for beacon-chain to start\",\"prefix\":\"powchain\",\"time\":\"2020-06-14T07:40:09Z\"}\r\n{\"level\":\"info\",\"msg\":\"Sending genesis time notification to connected validator clients\",\"prefix\":\"rpc/validator\",\"time\":\"2020-06-14T07:40:09Z\"}\r\n{\"blockRoot\":\"76dfa4fa2889\",\"level\":\"info\",\"msg\":\"Saved full state on epoch boundary\",\"prefix\":\"state-gen\",\"slot\":0,\"time\":\"2020-06-14T07:40:09Z\"}\r\n{\"level\":\"info\",\"msg\":\"Initialized beacon chain genesis state\",\"prefix\":\"blockchain\",\"time\":\"2020-06-14T07:40:09Z\"}\r\n{\"level\":\"info\",\"msg\":\"Starting initial chain sync...\",\"prefix\":\"initial-sync\",\"time\":\"2020-06-14T07:40:09Z\"}\r\n{\"level\":\"info\",\"msg\":\"Waiting for enough suitable peers before syncing\",\"prefix\":\"initial-sync\",\"required\":3,\"suitable\":0,\"time\":\"2020-06-14T07:40:09Z\"}\r\n{\"genesisTime\":\"2020-06-14 05:17:24 +0000 UTC\",\"genesisValidators\":\"16392\",\"level\":\"info\",\"msg\":\"Chain genesis time reached\",\"prefix\":\"slotutil\",\"time\":\"2020-06-14T07:40:09Z\"}\r\n{\"addr\":\"127.0.0.1:48546\",\"level\":\"info\",\"msg\":\"New gRPC client connected to beacon node\",\"prefix\":\"rpc\",\"time\":\"2020-06-14T07:40:12Z\"}\r\n{\"error\":\"slot 0 already processed\",\"level\":\"info\",\"msg\":\"Block is not processed\",\"prefix\":\"initial-sync\",\"time\":\"2020-06-14T07:40:15Z\"}\r\n{\"error\":\"slot 0 already processed\",\"level\":\"info\",\"msg\":\"Block is not processed\",\"prefix\":\"initial-sync\",\"time\":\"2020-06-14T07:40:15Z\"}\r\n{\"blocksPerSecond\":\"0.1\",\"level\":\"info\",\"msg\":\"Processing block 0x43d6945d... 1/714 - estimated time remaining 3h57m40s\",\"peers\":7,\"prefix\":\"initial-sync\",\"time\":\"2020-06-14T07:40:15Z\"}\r\n{\"blocksPerSecond\":\"0.1\",\"level\":\"info\",\"msg\":\"Processing block 0xb48ad24d... 2/714 - estimated time remaining 1h58m40s\",\"peers\":7,\"prefix\":\"initial-sync\",\"time\":\"2020-06-14T07:40:15Z\"}\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/643731511/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/643815999",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/6244#issuecomment-643815999",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/6244",
    "id": 643815999,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY0MzgxNTk5OQ==",
    "user": {
      "login": "mcdee",
      "id": 511384,
      "node_id": "MDQ6VXNlcjUxMTM4NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/511384?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mcdee",
      "html_url": "https://github.com/mcdee",
      "followers_url": "https://api.github.com/users/mcdee/followers",
      "following_url": "https://api.github.com/users/mcdee/following{/other_user}",
      "gists_url": "https://api.github.com/users/mcdee/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mcdee/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mcdee/subscriptions",
      "organizations_url": "https://api.github.com/users/mcdee/orgs",
      "repos_url": "https://api.github.com/users/mcdee/repos",
      "events_url": "https://api.github.com/users/mcdee/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mcdee/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-06-14T20:09:55Z",
    "updated_at": "2020-06-14T20:09:55Z",
    "author_association": "CONTRIBUTOR",
    "body": "Cannot reproduce with latest master; closing.",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/643815999/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
