{
  "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/4283",
  "repository_url": "https://api.github.com/repos/prysmaticlabs/prysm",
  "labels_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/4283/labels{/name}",
  "comments_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/4283/comments",
  "events_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/4283/events",
  "html_url": "https://github.com/prysmaticlabs/prysm/issues/4283",
  "id": 537728466,
  "node_id": "MDU6SXNzdWU1Mzc3Mjg0NjY=",
  "number": 4283,
  "title": "Bazel failed to build beacon-chain",
  "user": {
    "login": "handelaar2",
    "id": 28559038,
    "node_id": "MDQ6VXNlcjI4NTU5MDM4",
    "avatar_url": "https://avatars.githubusercontent.com/u/28559038?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/handelaar2",
    "html_url": "https://github.com/handelaar2",
    "followers_url": "https://api.github.com/users/handelaar2/followers",
    "following_url": "https://api.github.com/users/handelaar2/following{/other_user}",
    "gists_url": "https://api.github.com/users/handelaar2/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/handelaar2/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/handelaar2/subscriptions",
    "organizations_url": "https://api.github.com/users/handelaar2/orgs",
    "repos_url": "https://api.github.com/users/handelaar2/repos",
    "events_url": "https://api.github.com/users/handelaar2/events{/privacy}",
    "received_events_url": "https://api.github.com/users/handelaar2/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 11,
  "created_at": "2019-12-13T19:21:51Z",
  "updated_at": "2020-01-05T14:05:34Z",
  "closed_at": "2019-12-17T06:00:45Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "Fails: \r\nbazel build //beacon-chain:beacon-chain \r\nbazel version 1.2.1\r\n\r\nDEBUG: Rule 'io_bazel_rules_docker' indicated that a canonical reproducible form can be obtained by modifying arguments sha256 = \"14ac30773fdb393ddec90e158c9ec7ebb3f8a4fd533ec2abbfd8789ad81a284b\"\r\nDEBUG: Call stack for the definition of repository 'io_bazel_rules_docker' which is a http_archive (rule definition at /home/ubuntu/.cache/bazel/_bazel_ubuntu/c9cb51ba1d0dce1f4433e7d178375968/external/bazel_tools/tools/build_defs/repo/http.bzl:292:16):\r\n - /home/ubuntu/prysm/WORKSPACE:29:1\r\nDEBUG: Rule 'com_google_protobuf' indicated that a canonical reproducible form can be obtained by modifying arguments shallow_since = \"1571943965 -0700\"\r\nDEBUG: Call stack for the definition of repository 'com_google_protobuf' which is a git_repository (rule definition at /home/ubuntu/.cache/bazel/_bazel_ubuntu/c9cb51ba1d0dce1f4433e7d178375968/external/bazel_tools/tools/build_defs/repo/git.bzl:195:18):\r\n - /home/ubuntu/prysm/WORKSPACE:209:1\r\nDEBUG: Rule 'rules_foreign_cc' indicated that a canonical reproducible form can be obtained by modifying arguments sha256 = \"a2e43b2141cddce94999e26de8075031394ac11fb8075de8aa0b8e13905715ed\"\r\nDEBUG: Call stack for the definition of repository 'rules_foreign_cc' which is a http_archive (rule definition at /home/ubuntu/.cache/bazel/_bazel_ubuntu/c9cb51ba1d0dce1f4433e7d178375968/external/bazel_tools/tools/build_defs/repo/http.bzl:292:16):\r\n - /home/ubuntu/prysm/WORKSPACE:223:1\r\nDEBUG: Rule 'graknlabs_bazel_distribution' indicated that a canonical reproducible form can be obtained by modifying arguments shallow_since = \"1569509514 +0300\"\r\nDEBUG: Call stack for the definition of repository 'graknlabs_bazel_distribution' which is a git_repository (rule definition at /home/ubuntu/.cache/bazel/_bazel_ubuntu/c9cb51ba1d0dce1f4433e7d178375968/external/bazel_tools/tools/build_defs/repo/git.bzl:195:18):\r\n - /home/ubuntu/prysm/WORKSPACE:49:1\r\nDEBUG: /home/ubuntu/.cache/bazel/_bazel_ubuntu/c9cb51ba1d0dce1f4433e7d178375968/external/bazel_gazelle/internal/go_repository.bzl:184:13: gazelle: gazelle: finding module path for import crypto/ed25519: exit status 1: template: main:1:9: executing \"main\" at <.Module.Path>: nil pointer evaluating *modinfo.ModulePublic.Path\r\ngazelle: finding module path for import crypto/ed25519: exit status 1: template: main:1:9: executing \"main\" at <.Module.Path>: nil pointer evaluating *modinfo.ModulePublic.Path\r\nDEBUG: /home/ubuntu/.cache/bazel/_bazel_ubuntu/c9cb51ba1d0dce1f4433e7d178375968/external/bazel_gazelle/internal/go_repository.bzl:184:13: gazelle: gazelle: unrecognized import path \"roughtime.googlesource.com/go/client/monotime\"\r\ngazelle: unrecognized import path \"roughtime.googlesource.com/go/config\"\r\ngazelle: unrecognized import path \"roughtime.googlesource.com/go/protocol\"\r\ngazelle: unrecognized import path \"roughtime.googlesource.com/go/config\"\r\ngazelle: unrecognized import path \"roughtime.googlesource.com/go/protocol\"\r\ngazelle: unrecognized import path \"roughtime.googlesource.com/go/config\"\r\ngazelle: unrecognized import path \"roughtime.googlesource.com/go/protocol\"\r\nDEBUG: /home/ubuntu/.cache/bazel/_bazel_ubuntu/c9cb51ba1d0dce1f4433e7d178375968/external/bazel_gazelle/internal/go_repository.bzl:184:13: gazelle: gazelle: /home/ubuntu/.cache/bazel/_bazel_ubuntu/c9cb51ba1d0dce1f4433e7d178375968/external/in_gopkg_confluentinc_confluent_kafka_go_v1/kafka/go_rdkafka_generr/go_rdkafka_generr.go: error reading go file: /home/ubuntu/.cache/bazel/_bazel_ubuntu/c9cb51ba1d0dce1f4433e7d178375968/external/in_gopkg_confluentinc_confluent_kafka_go_v1/kafka/go_rdkafka_generr/go_rdkafka_generr.go: pkg-config not supported: #cgo pkg-config: --static rdkafka\r\ngazelle: /home/ubuntu/.cache/bazel/_bazel_ubuntu/c9cb51ba1d0dce1f4433e7d178375968/external/in_gopkg_confluentinc_confluent_kafka_go_v1/kafka/build_dynamic.go: error reading go file: /home/ubuntu/.cache/bazel/_bazel_ubuntu/c9cb51ba1d0dce1f4433e7d178375968/external/in_gopkg_confluentinc_confluent_kafka_go_v1/kafka/build_dynamic.go: pkg-config not supported: #cgo pkg-config: rdkafka\r\ngazelle: /home/ubuntu/.cache/bazel/_bazel_ubuntu/c9cb51ba1d0dce1f4433e7d178375968/external/in_gopkg_confluentinc_confluent_kafka_go_v1/kafka/build_static.go: error reading go file: /home/ubuntu/.cache/bazel/_bazel_ubuntu/c9cb51ba1d0dce1f4433e7d178375968/external/in_gopkg_confluentinc_confluent_kafka_go_v1/kafka/build_static.go: pkg-config not supported: #cgo pkg-config: rdkafka-static\r\ngazelle: /home/ubuntu/.cache/bazel/_bazel_ubuntu/c9cb51ba1d0dce1f4433e7d178375968/external/in_gopkg_confluentinc_confluent_kafka_go_v1/kafka/build_static_all.go: error reading go file: /home/ubuntu/.cache/bazel/_bazel_ubuntu/c9cb51ba1d0dce1f4433e7d178375968/external/in_gopkg_confluentinc_confluent_kafka_go_v1/kafka/build_static_all.go: pkg-config not supported: #cgo pkg-config: rdkafka-static\r\nDEBUG: Rule 'librdkafka' indicated that a canonical reproducible form can be obtained by modifying arguments sha256 = \"f6be27772babfdacbbf2e4c5432ea46c57ef5b7d82e52a81b885e7b804781fd6\"\r\nDEBUG: Call stack for the definition of repository 'librdkafka' which is a http_archive (rule definition at /home/ubuntu/.cache/bazel/_bazel_ubuntu/c9cb51ba1d0dce1f4433e7d178375968/external/bazel_tools/tools/build_defs/repo/http.bzl:292:16):\r\n - /home/ubuntu/prysm/WORKSPACE:235:1\r\nDEBUG: Rule 'cmake' indicated that a canonical reproducible form can be obtained by modifying arguments sha256 = \"019aa2afdf650d27bd70407e0a8183ce2f3fce0429e82d1ced234aed942c9a0b\"\r\nDEBUG: Call stack for the definition of repository 'cmake' which is a http_archive (rule definition at /home/ubuntu/.cache/bazel/_bazel_ubuntu/c9cb51ba1d0dce1f4433e7d178375968/external/bazel_tools/tools/build_defs/repo/http.bzl:292:16):\r\n - /home/ubuntu/.cache/bazel/_bazel_ubuntu/c9cb51ba1d0dce1f4433e7d178375968/external/rules_foreign_cc/for_workspace/repositories.bzl:25:5\r\n - /home/ubuntu/.cache/bazel/_bazel_ubuntu/c9cb51ba1d0dce1f4433e7d178375968/external/rules_foreign_cc/workspace_definitions.bzl:89:5\r\n - /home/ubuntu/prysm/WORKSPACE:231:1\r\nDEBUG: /home/ubuntu/.cache/bazel/_bazel_ubuntu/c9cb51ba1d0dce1f4433e7d178375968/external/bazel_gazelle/internal/go_repository.bzl:184:13: gazelle: gazelle: finding module path for import github.com/btcsuite/winsvc/eventlog: exit status 1: go: downloading github.com/btcsuite/winsvc v1.0.0\r\ngo: extracting github.com/btcsuite/winsvc v1.0.0\r\nbuild github.com/btcsuite/winsvc/eventlog: cannot load github.com/btcsuite/winsvc/eventlog: no Go source files\r\ngazelle: finding module path for import github.com/btcsuite/winsvc/mgr: exit status 1: build github.com/btcsuite/winsvc/mgr: cannot load github.com/btcsuite/winsvc/mgr: no Go source files\r\ngazelle: finding module path for import github.com/btcsuite/winsvc/svc: exit status 1: build github.com/btcsuite/winsvc/svc: cannot load github.com/btcsuite/winsvc/svc: no Go source files\r\nDEBUG: /home/ubuntu/.cache/bazel/_bazel_ubuntu/c9cb51ba1d0dce1f4433e7d178375968/external/bazel_gazelle/internal/go_repository.bzl:184:13: gazelle: gazelle: finding module path for import dmitri.shuralyov.com/gpu/mtl: exit status 1: go: finding dmitri.shuralyov.com/gpu/mtl latest\r\ngo: downloading dmitri.shuralyov.com/gpu/mtl v0.0.0-20191203043605-d42048ed14fd\r\ngo: extracting dmitri.shuralyov.com/gpu/mtl v0.0.0-20191203043605-d42048ed14fd\r\nbuild dmitri.shuralyov.com/gpu/mtl: cannot load dmitri.shuralyov.com/gpu/mtl: no Go source files\r\ngazelle: finding module path for import dmitri.shuralyov.com/gpu/mtl: exit status 1: go: finding dmitri.shuralyov.com/gpu/mtl latest\r\ngo: downloading dmitri.shuralyov.com/gpu/mtl v0.0.0-20191203043605-d42048ed14fd\r\ngo: extracting dmitri.shuralyov.com/gpu/mtl v0.0.0-20191203043605-d42048ed14fd\r\nbuild dmitri.shuralyov.com/gpu/mtl: cannot load dmitri.shuralyov.com/gpu/mtl: no Go source files\r\nINFO: Analyzed target //beacon-chain:beacon-chain (0 packages loaded, 0 targets configured).\r\nINFO: Found 1 target...\r\nERROR: /home/ubuntu/.cache/bazel/_bazel_ubuntu/c9cb51ba1d0dce1f4433e7d178375968/external/prysm/third_party/kafka/BUILD.bazel:3:1: error executing shell command: '/bin/bash -c function cleanup_function() {\r\nlocal ecode=$?\r\nif [ $ecode -eq 0 ]; then\r\ncleanup_on_success\r\nelse\r\ncleanup_on_failure\r\nfi\r\n}\r\nset -e\r\nfunction cleanup_on_success() {\r\nprintf \"rules_foreign_cc: ...' failed (Exit 127) bash failed: error executing command /bin/bash -c ... (remaining 1 argument(s) skipped)\r\n\r\nUse --sandbox_debug to see verbose messages from the sandbox\r\n\r\nrules_foreign_cc: Build failed!\r\nrules_foreign_cc: Keeping temp build directory  and dependencies directory  for debug.\r\nrules_foreign_cc: Please note that the directories inside a sandbox are still cleaned unless you specify '--sandbox_debug' Bazel command line flag.\r\n\r\nrules_foreign_cc: Printing build logs:\r\n\r\n_____ BEGIN BUILD LOGS _____\r\nBazel external C/C++ Rules #0.0.8. Building library 'librdkafka'\r\nEnvironment:______________EXT_BUILD_ROOT=/home/ubuntu/.cache/bazel/_bazel_ubuntu/c9cb51ba1d0dce1f4433e7d178375968/sandbox/linux-sandbox/725/execroot/prysm\r\nINSTALLDIR=/home/ubuntu/.cache/bazel/_bazel_ubuntu/c9cb51ba1d0dce1f4433e7d178375968/sandbox/linux-sandbox/725/execroot/prysm/bazel-out/k8-fastbuild/bin/external/prysm/third_party/kafka/librdkafka\r\nPWD=/home/ubuntu/.cache/bazel/_bazel_ubuntu/c9cb51ba1d0dce1f4433e7d178375968/sandbox/linux-sandbox/725/execroot/prysm\r\nBUILD_TMPDIR=/tmp/tmp.yLK2T2Aw7o\r\nTMPDIR=/tmp\r\nEXT_BUILD_DEPS=/tmp/tmp.aTv5crjCVE\r\nSHLVL=2\r\nBUILD_LOG=bazel-out/k8-fastbuild/bin/external/prysm/third_party/kafka/librdkafka/logs/CMake.log\r\nBUILD_SCRIPT=bazel-out/k8-fastbuild/bin/external/prysm/third_party/kafka/librdkafka/logs/CMake_script.sh\r\nPATH=/home/ubuntu/.cache/bazel/_bazel_ubuntu/c9cb51ba1d0dce1f4433e7d178375968/sandbox/linux-sandbox/725/execroot/prysm:/bin:/usr/bin:/usr/local/bin\r\n_=/usr/bin/env\r\n__________________________bazel-out/k8-fastbuild/bin/external/prysm/third_party/kafka/librdkafka/logs/CMake_script.sh: line 51: /tmp/tmp.aTv5crjCVE/bin/cmake/bin/cmake: No such file or directory\r\n\r\n_____ END BUILD LOGS _____\r\nrules_foreign_cc: Build script location: bazel-out/k8-fastbuild/bin/external/prysm/third_party/kafka/librdkafka/logs/CMake_script.sh\r\nrules_foreign_cc: Build log location: bazel-out/k8-fastbuild/bin/external/prysm/third_party/kafka/librdkafka/logs/CMake.log\r\n\r\nTarget //beacon-chain:beacon-chain failed to build\r\nUse --verbose_failures to see the command lines of failed build steps.\r\nERROR: /home/ubuntu/prysm/beacon-chain/BUILD.bazel:80:1 error executing shell command: '/bin/bash -c function cleanup_function() {\r\nlocal ecode=$?\r\nif [ $ecode -eq 0 ]; then\r\ncleanup_on_success\r\nelse\r\ncleanup_on_failure\r\nfi\r\n}\r\nset -e\r\nfunction cleanup_on_success() {\r\nprintf \"rules_foreign_cc: ...' failed (Exit 127) bash failed: error executing command /bin/bash -c ... (remaining 1 argument(s) skipped)\r\n\r\nUse --sandbox_debug to see verbose messages from the sandbox\r\nINFO: Elapsed time: 0.780s, Critical Path: 0.04s\r\nINFO: 1 process: 1 linux-sandbox.\r\nFAILED: Build did NOT complete successfully\r\n\r\n",
  "closed_by": {
    "login": "prestonvanloon",
    "id": 7246818,
    "node_id": "MDQ6VXNlcjcyNDY4MTg=",
    "avatar_url": "https://avatars.githubusercontent.com/u/7246818?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/prestonvanloon",
    "html_url": "https://github.com/prestonvanloon",
    "followers_url": "https://api.github.com/users/prestonvanloon/followers",
    "following_url": "https://api.github.com/users/prestonvanloon/following{/other_user}",
    "gists_url": "https://api.github.com/users/prestonvanloon/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/prestonvanloon/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/prestonvanloon/subscriptions",
    "organizations_url": "https://api.github.com/users/prestonvanloon/orgs",
    "repos_url": "https://api.github.com/users/prestonvanloon/repos",
    "events_url": "https://api.github.com/users/prestonvanloon/events{/privacy}",
    "received_events_url": "https://api.github.com/users/prestonvanloon/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/4283/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/4283/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/565602293",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/4283#issuecomment-565602293",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/4283",
    "id": 565602293,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU2NTYwMjI5Mw==",
    "user": {
      "login": "prestonvanloon",
      "id": 7246818,
      "node_id": "MDQ6VXNlcjcyNDY4MTg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7246818?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/prestonvanloon",
      "html_url": "https://github.com/prestonvanloon",
      "followers_url": "https://api.github.com/users/prestonvanloon/followers",
      "following_url": "https://api.github.com/users/prestonvanloon/following{/other_user}",
      "gists_url": "https://api.github.com/users/prestonvanloon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/prestonvanloon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/prestonvanloon/subscriptions",
      "organizations_url": "https://api.github.com/users/prestonvanloon/orgs",
      "repos_url": "https://api.github.com/users/prestonvanloon/repos",
      "events_url": "https://api.github.com/users/prestonvanloon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/prestonvanloon/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-12-13T20:44:41Z",
    "updated_at": "2019-12-13T20:44:41Z",
    "author_association": "MEMBER",
    "body": "You need to have cmake installed on your system to build the c++ sources.\nWe should update the docs as well to reflect this requirement.\n\nhttps://cmake.org/install/\n",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/565602293/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/565708188",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/4283#issuecomment-565708188",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/4283",
    "id": 565708188,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU2NTcwODE4OA==",
    "user": {
      "login": "handelaar2",
      "id": 28559038,
      "node_id": "MDQ6VXNlcjI4NTU5MDM4",
      "avatar_url": "https://avatars.githubusercontent.com/u/28559038?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/handelaar2",
      "html_url": "https://github.com/handelaar2",
      "followers_url": "https://api.github.com/users/handelaar2/followers",
      "following_url": "https://api.github.com/users/handelaar2/following{/other_user}",
      "gists_url": "https://api.github.com/users/handelaar2/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/handelaar2/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/handelaar2/subscriptions",
      "organizations_url": "https://api.github.com/users/handelaar2/orgs",
      "repos_url": "https://api.github.com/users/handelaar2/repos",
      "events_url": "https://api.github.com/users/handelaar2/events{/privacy}",
      "received_events_url": "https://api.github.com/users/handelaar2/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-12-14T11:20:23Z",
    "updated_at": "2019-12-14T11:20:23Z",
    "author_association": "NONE",
    "body": "I already figured that **cmake** was missing but I installed it from the **snap store**. Maybe that was the issue.\r\n$sudo snap install cmake --classic\r\n$which make  => /snap/bin/cmake\r\n$cmake -version => cmake version 3.16.1 CMake suite maintained and supported by Kitware.....\r\nThis morning I installed cmake from the tar. Now it says:\r\n$which cmake\" => /usr/local/bin/cmake\r\n(I guess this is the right cmake)\r\n\r\n I started again with a \"bazel clean\" to start 'new build'.\r\nAnd this is the result of 'bazel build //beacon-chain:beacon-chain' . Now I get a **_different error_**.\r\nSomething else missing:\r\n\r\n$ **bazel build //beacon-chain:beacon-chain**\r\nINFO: Analyzed target //beacon-chain:beacon-chain (0 packages loaded, 0 targets configured).\r\nINFO: Found 1 target...\r\n**ERROR**: /home/ubuntu/prysm/beacon-chain/BUILD.bazel:80:1: GoLink beacon-chain/linux_amd64_stripped/beacon-chain failed (Exit 1) builder failed: error executing command bazel-out/host/bin/external/go_sdk/builder '-param=bazel-out/k8-fastbuild/bin/beacon-chain/linux_amd64_stripped/beacon-chain-0.params' -- -extld /usr/bin/gcc '-buildid=redacted' -w -extldflags ... (remaining 1 argument(s) skipped)\r\n\r\nUse --sandbox_debug to see verbose messages from the sandbox\r\nlink: warning: package \"github.com/golang/protobuf/protoc-gen-go/descriptor\" is provided by more than one rule:\r\n    @com_github_golang_protobuf//protoc-gen-go/descriptor:go_default_library\r\n    @io_bazel_rules_go//proto/wkt:descriptor_go_proto\r\nSet \"importmap\" to different paths in each library.\r\nThis will be an error in the future.\r\nlink: warning: package \"github.com/golang/protobuf/ptypes/empty\" is provided by more than one rule:\r\n    @com_github_golang_protobuf//ptypes/empty:go_default_library\r\n    @io_bazel_rules_go//proto/wkt:empty_go_proto\r\nSet \"importmap\" to different paths in each library.\r\nThis will be an error in the future.\r\nlink: warning: package \"github.com/golang/protobuf/descriptor\" is provided by more than one rule:\r\n    @com_github_golang_protobuf//descriptor:go_default_library_gen\r\n    @com_github_golang_protobuf//descriptor:go_default_library\r\nSet \"importmap\" to different paths in each library.\r\nThis will be an error in the future.\r\nfatal error: runtime: out of memory\r\n\r\nruntime stack:\r\nruntime.throw(0x698de9, 0x16)\r\n\t/usr/local/go/src/runtime/panic.go:774 +0x72\r\nruntime.sysMap(0xc014000000, 0x4000000, 0x877c38)\r\n\t/usr/local/go/src/runtime/mem_linux.go:169 +0xc5\r\nruntime.(*mheap).sysAlloc(0x860120, 0x6000, 0x2000, 0x41421f)\r\n\t/usr/local/go/src/runtime/malloc.go:701 +0x1cd\r\nruntime.(*mheap).grow(0x860120, 0x3, 0xffffffff)\r\n\t/usr/local/go/src/runtime/mheap.go:1255 +0xa3\r\nruntime.(*mheap).allocSpanLocked(0x860120, 0x3, 0x877c48, 0x7f25efd06900)\r\n\t/usr/local/go/src/runtime/mheap.go:1170 +0x266\r\nruntime.(*mheap).alloc_m(0x860120, 0x3, 0x45005c, 0x7f25efd06900)\r\n\t/usr/local/go/src/runtime/mheap.go:1022 +0xc2\r\nruntime.(*mheap).alloc.func1()\r\n\t/usr/local/go/src/runtime/mheap.go:1093 +0x4c\r\nruntime.systemstack(0x0)\r\n\t/usr/local/go/src/runtime/asm_amd64.s:370 +0x66\r\nruntime.mstart()\r\n\t/usr/local/go/src/runtime/proc.go:1146\r\n\r\ngoroutine 1 [running]:\r\nruntime.systemstack_switch()\r\n\t/usr/local/go/src/runtime/asm_amd64.s:330 fp=0xc0007e2bb0 sp=0xc0007e2ba8 pc=0x4585c0\r\nruntime.(*mheap).alloc(0x860120, 0x3, 0x1005c, 0x6a4dd0)\r\n\t/usr/local/go/src/runtime/mheap.go:1092 +0x8a fp=0xc0007e2c00 sp=0xc0007e2bb0 pc=0x42546a\r\nruntime.(*mcentral).grow(0x861bd8, 0x0)\r\n\t/usr/local/go/src/runtime/mcentral.go:255 +0x7b fp=0xc0007e2c40 sp=0xc0007e2c00 pc=0x4173bb\r\nruntime.(*mcentral).cacheSpan(0x861bd8, 0x0)\r\n\t/usr/local/go/src/runtime/mcentral.go:106 +0x2fe fp=0xc0007e2ca0 sp=0xc0007e2c40 pc=0x416ede\r\nruntime.(*mcache).refill(0x7f25fb7b7008, 0x5c)\r\n\t/usr/local/go/src/runtime/mcache.go:138 +0x85 fp=0xc0007e2cc0 sp=0xc0007e2ca0 pc=0x416985\r\nruntime.(*mcache).nextFree(0x7f25fb7b7008, 0x4c945c, 0x4, 0x20, 0xc013ff0620)\r\n\t/usr/local/go/src/runtime/malloc.go:854 +0x87 fp=0xc0007e2cf8 sp=0xc0007e2cc0 pc=0x40b7e7\r\nruntime.mallocgc(0x1800, 0x68b800, 0x1, 0x0)\r\n\t/usr/local/go/src/runtime/malloc.go:1022 +0x793 fp=0xc0007e2d98 sp=0xc0007e2cf8 pc=0x40c123\r\nruntime.growslice(0x68b800, 0xc00643f9c8, 0x157, 0x157, 0x158, 0xc013f57f20, 0xc013fe3500, 0x90)\r\n\t/usr/local/go/src/runtime/slice.go:181 +0x1e2 fp=0xc0007e2e00 sp=0xc0007e2d98 pc=0x443a72\r\ncmd/link/internal/ld.(*deadcodepass).mark(0xc0007e3278, 0xc00a10dfc0, 0xc00a10d990)\r\n\t/usr/local/go/src/cmd/link/internal/ld/deadcode.go:196 +0x1bd fp=0xc0007e2e88 sp=0xc0007e2e00 pc=0x56875d\r\ncmd/link/internal/ld.(*deadcodepass).flood(0xc0007e3278)\r\n\t/usr/local/go/src/cmd/link/internal/ld/deadcode.go:353 +0x4fc fp=0xc0007e30a0 sp=0xc0007e2e88 pc=0x56961c\r\ncmd/link/internal/ld.deadcode(0xc000698000)\r\n\t/usr/local/go/src/cmd/link/internal/ld/deadcode.go:61 +0xe3 fp=0xc0007e32d0 sp=0xc0007e30a0 pc=0x567873\r\ncmd/link/internal/ld.Main(0x84bdc0, 0x10, 0x20, 0x1, 0x7, 0x10, 0x69ac6c, 0x1b, 0x697753, 0x14, ...)\r\n\t/usr/local/go/src/cmd/link/internal/ld/main.go:211 +0xb81 fp=0xc0007e3428 sp=0xc0007e32d0 pc=0x5ab3d1\r\nmain.main()\r\n\t/usr/local/go/src/cmd/link/main.go:65 +0x1d6 fp=0xc0007e3f60 sp=0xc0007e3428 pc=0x614616\r\nruntime.main()\r\n\t/usr/local/go/src/runtime/proc.go:203 +0x21e fp=0xc0007e3fe0 sp=0xc0007e3f60 pc=0x42f5de\r\nruntime.goexit()\r\n\t/usr/local/go/src/runtime/asm_amd64.s:1357 +0x1 fp=0xc0007e3fe8 sp=0xc0007e3fe0 pc=0x45a511\r\nlink: error running subcommand: exit status 2\r\nTarget //beacon-chain:beacon-chain failed to build\r\nUse --verbose_failures to see the command lines of failed build steps.\r\nINFO: Elapsed time: 29.655s, Critical Path: 27.56s\r\nINFO: 0 processes.\r\nFAILED: Build did NOT complete successfully\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/565708188/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/565715954",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/4283#issuecomment-565715954",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/4283",
    "id": 565715954,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU2NTcxNTk1NA==",
    "user": {
      "login": "prestonvanloon",
      "id": 7246818,
      "node_id": "MDQ6VXNlcjcyNDY4MTg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7246818?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/prestonvanloon",
      "html_url": "https://github.com/prestonvanloon",
      "followers_url": "https://api.github.com/users/prestonvanloon/followers",
      "following_url": "https://api.github.com/users/prestonvanloon/following{/other_user}",
      "gists_url": "https://api.github.com/users/prestonvanloon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/prestonvanloon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/prestonvanloon/subscriptions",
      "organizations_url": "https://api.github.com/users/prestonvanloon/orgs",
      "repos_url": "https://api.github.com/users/prestonvanloon/repos",
      "events_url": "https://api.github.com/users/prestonvanloon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/prestonvanloon/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-12-14T13:13:06Z",
    "updated_at": "2019-12-14T13:13:06Z",
    "author_association": "MEMBER",
    "body": "Looks like the process ran out of memory when building .\n\nWhat are your system specs? How much RAM do you have?\n",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/565715954/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/565717830",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/4283#issuecomment-565717830",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/4283",
    "id": 565717830,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU2NTcxNzgzMA==",
    "user": {
      "login": "handelaar2",
      "id": 28559038,
      "node_id": "MDQ6VXNlcjI4NTU5MDM4",
      "avatar_url": "https://avatars.githubusercontent.com/u/28559038?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/handelaar2",
      "html_url": "https://github.com/handelaar2",
      "followers_url": "https://api.github.com/users/handelaar2/followers",
      "following_url": "https://api.github.com/users/handelaar2/following{/other_user}",
      "gists_url": "https://api.github.com/users/handelaar2/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/handelaar2/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/handelaar2/subscriptions",
      "organizations_url": "https://api.github.com/users/handelaar2/orgs",
      "repos_url": "https://api.github.com/users/handelaar2/repos",
      "events_url": "https://api.github.com/users/handelaar2/events{/privacy}",
      "received_events_url": "https://api.github.com/users/handelaar2/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-12-14T13:33:13Z",
    "updated_at": "2019-12-14T13:36:59Z",
    "author_association": "NONE",
    "body": "Oops, I overlooked the \"out of memory\" message in the log. Sorry.\r\nRunning the t2.micro in below overview, so 1GiB.\r\n(in fact 'free -m' says total=983)\r\n\r\n<img width=\"899\" alt=\"Screenshot 2019-12-14 at 14 24 33\" src=\"https://user-images.githubusercontent.com/28559038/70849419-4d4fa800-1e7e-11ea-8646-31aea071e42f.png\">\r\n\r\n\r\nAny suggestions on the minimal size in above list to build (and run) the beacon+validator.\r\n\r\n(README.md does not mention minimal requirements)",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/565717830/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/565730164",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/4283#issuecomment-565730164",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/4283",
    "id": 565730164,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU2NTczMDE2NA==",
    "user": {
      "login": "prestonvanloon",
      "id": 7246818,
      "node_id": "MDQ6VXNlcjcyNDY4MTg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7246818?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/prestonvanloon",
      "html_url": "https://github.com/prestonvanloon",
      "followers_url": "https://api.github.com/users/prestonvanloon/followers",
      "following_url": "https://api.github.com/users/prestonvanloon/following{/other_user}",
      "gists_url": "https://api.github.com/users/prestonvanloon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/prestonvanloon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/prestonvanloon/subscriptions",
      "organizations_url": "https://api.github.com/users/prestonvanloon/orgs",
      "repos_url": "https://api.github.com/users/prestonvanloon/repos",
      "events_url": "https://api.github.com/users/prestonvanloon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/prestonvanloon/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-12-14T16:06:15Z",
    "updated_at": "2019-12-14T16:06:15Z",
    "author_association": "MEMBER",
    "body": "Maybe 2gb is a safe minimum. Hereâ€™s an article that may help too\nhttps://docs.bazel.build/versions/master/memory-saving-mode.html\n",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/565730164/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/565942798",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/4283#issuecomment-565942798",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/4283",
    "id": 565942798,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU2NTk0Mjc5OA==",
    "user": {
      "login": "handelaar2",
      "id": 28559038,
      "node_id": "MDQ6VXNlcjI4NTU5MDM4",
      "avatar_url": "https://avatars.githubusercontent.com/u/28559038?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/handelaar2",
      "html_url": "https://github.com/handelaar2",
      "followers_url": "https://api.github.com/users/handelaar2/followers",
      "following_url": "https://api.github.com/users/handelaar2/following{/other_user}",
      "gists_url": "https://api.github.com/users/handelaar2/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/handelaar2/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/handelaar2/subscriptions",
      "organizations_url": "https://api.github.com/users/handelaar2/orgs",
      "repos_url": "https://api.github.com/users/handelaar2/repos",
      "events_url": "https://api.github.com/users/handelaar2/events{/privacy}",
      "received_events_url": "https://api.github.com/users/handelaar2/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-12-16T07:42:52Z",
    "updated_at": "2019-12-16T17:28:08Z",
    "author_association": "NONE",
    "body": "Those 'memory saving' bazel parameters did not bring relief for the 1gb image. The out-of-memory error continued. So I fired up a new instance, now with the 2gb option. This time both beacon and validator compiled!\r\n\r\nThe beacon is currently syncing at ~25 blocks per sec.\r\n(commit fd93751b  (Dec15 after Faucet fix) )\r\nINFO initial-sync: Processing block 28869/249258 - estimated time remaining 2h26m20s blocksPerSecond=25.1 peers=5/9\r\n\r\nI had to install the following on top of the Amazon-EC2 Ubuntu image to make it work:\r\n\r\n**Install bazel (including curl)**\r\nsudo apt install curl\r\ncurl https://bazel.build/bazel-release.pub.gpg | sudo apt-key add -\r\necho \"deb [arch=amd64] https://storage.googleapis.com/bazel-apt stable jdk1.8\" | sudo tee /etc/apt/sources.list.d/bazel.list\r\nsudo apt update && sudo apt install bazel\r\nsudo apt update && sudo apt full-upgrade\r\n\r\n**Install make (needed for cmake)**\r\nsudo apt-get install build-essential\r\n\r\n**Install openssl (needed for cmake)**\r\nsudo apt install libssl-dev\r\n\r\n**Install cmake**\r\nwget https://github.com/Kitware/CMake/releases/download/v3.16.1/cmake-3.16.1.tar.gz\r\ntar -zxvf cmake-3.16.1.tar.gz\r\ncd cmake-3.16.1\r\n./bootstrap\r\nmake\r\nmake install\r\n\r\n**Install prysm**\r\ncd $HOME\r\ngit clone https://github.com/prysmaticlabs/prysm\r\ncd prysm\r\nbazel build //beacon-chain:beacon-chain\r\nbazel build //validator:validator\r\n\r\nI guess I also have to install golang, as I see some info messages that it cannot find a go-source.\r\n\r\nEdit: the standard disk space of these EC2 instances (8G) is not enough to hold the block db (out-of-space during sync). After increasing the volume on the amazon dashboard, one also have to run:\r\nlsblk (to check)\r\nsudo growpart /dev/xvda 1 (increase partition)\r\nsudo resize2fs /dev/xvda1 (increase filesystem)\r\ndf -h (to check)\r\n\r\n\r\nRunning via Bazel gives quite some overhead. After the build, I run beacon and validator like this:\r\n**run beacon:**\r\ncd $HOME\r\n./prysm/bazel-bin/beacon-chain/linux_amd64_stripped/beacon-chain --datadir=$HOME/prysm-data\r\n\r\n**create validator(s) - only when needed**\r\ncd $HOME\r\n./prysm/bazel-bin/validator/linux_amd64_stripped/validator accounts create  --password=\"changeme\" --keystore-path=$HOME/prysm-data\r\n\r\n**run validator**\r\ncd $HOME\r\n./prysm/bazel-bin/validator/linux_amd64_stripped/validator --keystore-path=$HOME/prysm-data --password=\"changeme\"",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/565942798/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/566139080",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/4283#issuecomment-566139080",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/4283",
    "id": 566139080,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU2NjEzOTA4MA==",
    "user": {
      "login": "rauljordan",
      "id": 5572669,
      "node_id": "MDQ6VXNlcjU1NzI2Njk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5572669?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rauljordan",
      "html_url": "https://github.com/rauljordan",
      "followers_url": "https://api.github.com/users/rauljordan/followers",
      "following_url": "https://api.github.com/users/rauljordan/following{/other_user}",
      "gists_url": "https://api.github.com/users/rauljordan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rauljordan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rauljordan/subscriptions",
      "organizations_url": "https://api.github.com/users/rauljordan/orgs",
      "repos_url": "https://api.github.com/users/rauljordan/repos",
      "events_url": "https://api.github.com/users/rauljordan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rauljordan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-12-16T16:36:14Z",
    "updated_at": "2019-12-16T16:36:14Z",
    "author_association": "CONTRIBUTOR",
    "body": "This is very useful @handelaar2, instead of closing the issue, maybe we can add this to the README on suggestions for how to run on a standard Ubuntu EC2 instance for other users with your situation. @har00ga maybe we can add to our top-level README? We can also add to Gitbook",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/566139080/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/566213591",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/4283#issuecomment-566213591",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/4283",
    "id": 566213591,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU2NjIxMzU5MQ==",
    "user": {
      "login": "har00ga",
      "id": 38491560,
      "node_id": "MDQ6VXNlcjM4NDkxNTYw",
      "avatar_url": "https://avatars.githubusercontent.com/u/38491560?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/har00ga",
      "html_url": "https://github.com/har00ga",
      "followers_url": "https://api.github.com/users/har00ga/followers",
      "following_url": "https://api.github.com/users/har00ga/following{/other_user}",
      "gists_url": "https://api.github.com/users/har00ga/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/har00ga/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/har00ga/subscriptions",
      "organizations_url": "https://api.github.com/users/har00ga/orgs",
      "repos_url": "https://api.github.com/users/har00ga/repos",
      "events_url": "https://api.github.com/users/har00ga/events{/privacy}",
      "received_events_url": "https://api.github.com/users/har00ga/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-12-16T19:45:53Z",
    "updated_at": "2019-12-16T19:45:53Z",
    "author_association": "CONTRIBUTOR",
    "body": "For sure, definitely worth adding. Updating the README to match changes in the Gitbook was already on my agenda for the afternoon, so this suggestion has good timing. :slightly_smiling_face: ",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/566213591/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/566394818",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/4283#issuecomment-566394818",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/4283",
    "id": 566394818,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU2NjM5NDgxOA==",
    "user": {
      "login": "prestonvanloon",
      "id": 7246818,
      "node_id": "MDQ6VXNlcjcyNDY4MTg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7246818?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/prestonvanloon",
      "html_url": "https://github.com/prestonvanloon",
      "followers_url": "https://api.github.com/users/prestonvanloon/followers",
      "following_url": "https://api.github.com/users/prestonvanloon/following{/other_user}",
      "gists_url": "https://api.github.com/users/prestonvanloon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/prestonvanloon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/prestonvanloon/subscriptions",
      "organizations_url": "https://api.github.com/users/prestonvanloon/orgs",
      "repos_url": "https://api.github.com/users/prestonvanloon/repos",
      "events_url": "https://api.github.com/users/prestonvanloon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/prestonvanloon/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-12-17T06:00:45Z",
    "updated_at": "2019-12-17T06:08:09Z",
    "author_association": "MEMBER",
    "body": "Thanks for such a detailed resolution @handelaar2. You don't need go installed on your system, it is provided via bazel. I'd also like to see cmake be provided from bazel as well, but we'll have to address that at a later time.\r\n\r\nClosing this. We need to add cmake as an extra system dependency for now. \r\n\r\nEdit: the cmake native toolchain is provided here: https://github.com/prysmaticlabs/prysm/blob/d3375d98a8849cb37032af0c36b1046cc70da01e/BUILD.bazel#L141-L145",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/566394818/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/566884428",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/4283#issuecomment-566884428",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/4283",
    "id": 566884428,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU2Njg4NDQyOA==",
    "user": {
      "login": "prestonvanloon",
      "id": 7246818,
      "node_id": "MDQ6VXNlcjcyNDY4MTg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7246818?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/prestonvanloon",
      "html_url": "https://github.com/prestonvanloon",
      "followers_url": "https://api.github.com/users/prestonvanloon/followers",
      "following_url": "https://api.github.com/users/prestonvanloon/following{/other_user}",
      "gists_url": "https://api.github.com/users/prestonvanloon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/prestonvanloon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/prestonvanloon/subscriptions",
      "organizations_url": "https://api.github.com/users/prestonvanloon/orgs",
      "repos_url": "https://api.github.com/users/prestonvanloon/repos",
      "events_url": "https://api.github.com/users/prestonvanloon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/prestonvanloon/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-12-18T06:15:51Z",
    "updated_at": "2019-12-18T06:15:51Z",
    "author_association": "MEMBER",
    "body": "If anyone else runs into this issue and the above tips do not work, we've added a build flag in #4309 to exclude Kafka from the build.\r\n\r\nTry using `--define kafka_enabled=false` in your `bazel build` for beacon chain targets. This flag is not needed for validator client.  ",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/566884428/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/570913810",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/4283#issuecomment-570913810",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/4283",
    "id": 570913810,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU3MDkxMzgxMA==",
    "user": {
      "login": "yashbhavsar007",
      "id": 26292780,
      "node_id": "MDQ6VXNlcjI2MjkyNzgw",
      "avatar_url": "https://avatars.githubusercontent.com/u/26292780?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/yashbhavsar007",
      "html_url": "https://github.com/yashbhavsar007",
      "followers_url": "https://api.github.com/users/yashbhavsar007/followers",
      "following_url": "https://api.github.com/users/yashbhavsar007/following{/other_user}",
      "gists_url": "https://api.github.com/users/yashbhavsar007/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/yashbhavsar007/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/yashbhavsar007/subscriptions",
      "organizations_url": "https://api.github.com/users/yashbhavsar007/orgs",
      "repos_url": "https://api.github.com/users/yashbhavsar007/repos",
      "events_url": "https://api.github.com/users/yashbhavsar007/events{/privacy}",
      "received_events_url": "https://api.github.com/users/yashbhavsar007/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-01-05T13:44:33Z",
    "updated_at": "2020-01-05T14:05:34Z",
    "author_association": "NONE",
    "body": "I tried by using using --define kafka_enabled=false but i am getting this error.\r\nERROR: /home/ubuntu/.cache/bazel/_bazel_ubuntu/0541ece9377351509275eb8affcf50ed/external/com_github_herumi_bls_eth_go_binary/bls/BUILD.bazel:38:1: GoCompilePkg external/com_github_herumi_bls_eth_go_binary/bls/linux_amd64_stripped/go_default_library%/github.com/herumi/bls-eth-go-binary/bls.a failed (Exit 1) builder failed: error executing command bazel-out/host/bin/external/go_sdk/builder compilepkg -sdk external/go_sdk -installsuffix linux_amd64 -src external/com_github_herumi_bls_eth_go_binary/bls/bls.go -src ... (remaining 43 argument(s) skipped)\r\n\r\nUse --sandbox_debug to see verbose messages from the sandbox\r\ncompilepkg: error running subcommand: exit status 2\r\nbls.go:676:105: cannot use _cgo2 (type *[40]_Ctype_uchar) as type unsafe.Pointer in argument to _Cfunc_blsVerifyAggregatedHashWithDomain\r\nTarget //beacon-chain:beacon-chain failed to build\r\nUse --verbose_failures to see the command lines of failed build steps.\r\nINFO: Elapsed time: 14.990s, Critical Path: 2.80s\r\nINFO: 110 processes: 110 linux-sandbox.\r\nFAILED: Build did NOT complete successfully\r\n\r\n**I am on AWS ec2 t2.large instance with 8 Gib of memory.**\r\n**Bazel version : bazel 2.0.0**\r\n**go version go1.12.9 linux/amd64**\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/570913810/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
