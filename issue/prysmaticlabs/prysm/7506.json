{
  "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/7506",
  "repository_url": "https://api.github.com/repos/prysmaticlabs/prysm",
  "labels_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/7506/labels{/name}",
  "comments_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/7506/comments",
  "events_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/7506/events",
  "html_url": "https://github.com/prysmaticlabs/prysm/issues/7506",
  "id": 719358973,
  "node_id": "MDU6SXNzdWU3MTkzNTg5NzM=",
  "number": 7506,
  "title": "web ui logging breaks prometheus and other loggers",
  "user": {
    "login": "potuz",
    "id": 16044918,
    "node_id": "MDQ6VXNlcjE2MDQ0OTE4",
    "avatar_url": "https://avatars.githubusercontent.com/u/16044918?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/potuz",
    "html_url": "https://github.com/potuz",
    "followers_url": "https://api.github.com/users/potuz/followers",
    "following_url": "https://api.github.com/users/potuz/following{/other_user}",
    "gists_url": "https://api.github.com/users/potuz/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/potuz/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/potuz/subscriptions",
    "organizations_url": "https://api.github.com/users/potuz/orgs",
    "repos_url": "https://api.github.com/users/potuz/repos",
    "events_url": "https://api.github.com/users/potuz/events{/privacy}",
    "received_events_url": "https://api.github.com/users/potuz/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 802129904,
      "node_id": "MDU6TGFiZWw4MDIxMjk5MDQ=",
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/labels/Bug",
      "name": "Bug",
      "color": "ee0701",
      "default": false,
      "description": "Something isn't working"
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": {
    "login": "rauljordan",
    "id": 5572669,
    "node_id": "MDQ6VXNlcjU1NzI2Njk=",
    "avatar_url": "https://avatars.githubusercontent.com/u/5572669?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/rauljordan",
    "html_url": "https://github.com/rauljordan",
    "followers_url": "https://api.github.com/users/rauljordan/followers",
    "following_url": "https://api.github.com/users/rauljordan/following{/other_user}",
    "gists_url": "https://api.github.com/users/rauljordan/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/rauljordan/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/rauljordan/subscriptions",
    "organizations_url": "https://api.github.com/users/rauljordan/orgs",
    "repos_url": "https://api.github.com/users/rauljordan/repos",
    "events_url": "https://api.github.com/users/rauljordan/events{/privacy}",
    "received_events_url": "https://api.github.com/users/rauljordan/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "rauljordan",
      "id": 5572669,
      "node_id": "MDQ6VXNlcjU1NzI2Njk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5572669?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rauljordan",
      "html_url": "https://github.com/rauljordan",
      "followers_url": "https://api.github.com/users/rauljordan/followers",
      "following_url": "https://api.github.com/users/rauljordan/following{/other_user}",
      "gists_url": "https://api.github.com/users/rauljordan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rauljordan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rauljordan/subscriptions",
      "organizations_url": "https://api.github.com/users/rauljordan/orgs",
      "repos_url": "https://api.github.com/users/rauljordan/repos",
      "events_url": "https://api.github.com/users/rauljordan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rauljordan/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 7,
  "created_at": "2020-10-12T12:57:00Z",
  "updated_at": "2020-10-22T21:20:59Z",
  "closed_at": "2020-10-22T21:20:59Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "Running the validator with the web ui interface the logs get sent to the ui and are lost from other system loggers like journald. This also breaks existing monitoring tools like prometheus and grafana. Logs should be replicated perhaps. ",
  "closed_by": {
    "login": "rauljordan",
    "id": 5572669,
    "node_id": "MDQ6VXNlcjU1NzI2Njk=",
    "avatar_url": "https://avatars.githubusercontent.com/u/5572669?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/rauljordan",
    "html_url": "https://github.com/rauljordan",
    "followers_url": "https://api.github.com/users/rauljordan/followers",
    "following_url": "https://api.github.com/users/rauljordan/following{/other_user}",
    "gists_url": "https://api.github.com/users/rauljordan/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/rauljordan/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/rauljordan/subscriptions",
    "organizations_url": "https://api.github.com/users/rauljordan/orgs",
    "repos_url": "https://api.github.com/users/rauljordan/repos",
    "events_url": "https://api.github.com/users/rauljordan/events{/privacy}",
    "received_events_url": "https://api.github.com/users/rauljordan/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/7506/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/7506/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/709443628",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/7506#issuecomment-709443628",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/7506",
    "id": 709443628,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcwOTQ0MzYyOA==",
    "user": {
      "login": "0xKiwi",
      "id": 6251510,
      "node_id": "MDQ6VXNlcjYyNTE1MTA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6251510?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/0xKiwi",
      "html_url": "https://github.com/0xKiwi",
      "followers_url": "https://api.github.com/users/0xKiwi/followers",
      "following_url": "https://api.github.com/users/0xKiwi/following{/other_user}",
      "gists_url": "https://api.github.com/users/0xKiwi/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/0xKiwi/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/0xKiwi/subscriptions",
      "organizations_url": "https://api.github.com/users/0xKiwi/orgs",
      "repos_url": "https://api.github.com/users/0xKiwi/repos",
      "events_url": "https://api.github.com/users/0xKiwi/events{/privacy}",
      "received_events_url": "https://api.github.com/users/0xKiwi/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-10-15T16:30:58Z",
    "updated_at": "2020-10-15T16:30:58Z",
    "author_association": "CONTRIBUTOR",
    "body": "Hello @potuz thank you for reporting!\r\n\r\nThis seems like an issue with the web ui and how it handles logs. Any ideas to handle this? @rauljordan",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/709443628/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/709446127",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/7506#issuecomment-709446127",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/7506",
    "id": 709446127,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcwOTQ0NjEyNw==",
    "user": {
      "login": "potuz",
      "id": 16044918,
      "node_id": "MDQ6VXNlcjE2MDQ0OTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/16044918?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/potuz",
      "html_url": "https://github.com/potuz",
      "followers_url": "https://api.github.com/users/potuz/followers",
      "following_url": "https://api.github.com/users/potuz/following{/other_user}",
      "gists_url": "https://api.github.com/users/potuz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/potuz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/potuz/subscriptions",
      "organizations_url": "https://api.github.com/users/potuz/orgs",
      "repos_url": "https://api.github.com/users/potuz/repos",
      "events_url": "https://api.github.com/users/potuz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/potuz/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-10-15T16:35:23Z",
    "updated_at": "2020-10-15T16:35:23Z",
    "author_association": "CONTRIBUTOR",
    "body": "For the logs simply doubling them would be a solution. I'm not sure about Prometheus but it seems to me that you are hooking it to logrus so that may also be solved by doubling.",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/709446127/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/710728044",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/7506#issuecomment-710728044",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/7506",
    "id": 710728044,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcxMDcyODA0NA==",
    "user": {
      "login": "bidlocode",
      "id": 12061168,
      "node_id": "MDQ6VXNlcjEyMDYxMTY4",
      "avatar_url": "https://avatars.githubusercontent.com/u/12061168?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bidlocode",
      "html_url": "https://github.com/bidlocode",
      "followers_url": "https://api.github.com/users/bidlocode/followers",
      "following_url": "https://api.github.com/users/bidlocode/following{/other_user}",
      "gists_url": "https://api.github.com/users/bidlocode/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bidlocode/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bidlocode/subscriptions",
      "organizations_url": "https://api.github.com/users/bidlocode/orgs",
      "repos_url": "https://api.github.com/users/bidlocode/repos",
      "events_url": "https://api.github.com/users/bidlocode/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bidlocode/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-10-17T02:15:50Z",
    "updated_at": "2020-10-17T02:15:50Z",
    "author_association": "CONTRIBUTOR",
    "body": "It's already there: `mw := io.MultiWriter(logrus.StandardLogger().Out, w)`\r\n\r\nJust tested it looks like logs go both destinations (with journald hook and without) and  monitoring port gives metrics.\r\n@potuz Can you give more info on how to reproduce?",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/710728044/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/711065419",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/7506#issuecomment-711065419",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/7506",
    "id": 711065419,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcxMTA2NTQxOQ==",
    "user": {
      "login": "potuz",
      "id": 16044918,
      "node_id": "MDQ6VXNlcjE2MDQ0OTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/16044918?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/potuz",
      "html_url": "https://github.com/potuz",
      "followers_url": "https://api.github.com/users/potuz/followers",
      "following_url": "https://api.github.com/users/potuz/following{/other_user}",
      "gists_url": "https://api.github.com/users/potuz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/potuz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/potuz/subscriptions",
      "organizations_url": "https://api.github.com/users/potuz/orgs",
      "repos_url": "https://api.github.com/users/potuz/repos",
      "events_url": "https://api.github.com/users/potuz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/potuz/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-10-17T19:00:31Z",
    "updated_at": "2020-10-17T19:00:31Z",
    "author_association": "CONTRIBUTOR",
    "body": "Oh it may well be invalid. My system became unusable when I tried to run with `--web` and the first thing I noticed is that the grafana endpoint of my (other) running validator lost all data. I currently can't check this cause I'm trying to keep my node in sync and it's taking over all my resources",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/711065419/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/711066512",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/7506#issuecomment-711066512",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/7506",
    "id": 711066512,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcxMTA2NjUxMg==",
    "user": {
      "login": "bidlocode",
      "id": 12061168,
      "node_id": "MDQ6VXNlcjEyMDYxMTY4",
      "avatar_url": "https://avatars.githubusercontent.com/u/12061168?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bidlocode",
      "html_url": "https://github.com/bidlocode",
      "followers_url": "https://api.github.com/users/bidlocode/followers",
      "following_url": "https://api.github.com/users/bidlocode/following{/other_user}",
      "gists_url": "https://api.github.com/users/bidlocode/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bidlocode/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bidlocode/subscriptions",
      "organizations_url": "https://api.github.com/users/bidlocode/orgs",
      "repos_url": "https://api.github.com/users/bidlocode/repos",
      "events_url": "https://api.github.com/users/bidlocode/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bidlocode/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-10-17T19:09:48Z",
    "updated_at": "2020-10-17T19:09:48Z",
    "author_association": "CONTRIBUTOR",
    "body": "`--web` has different initializaion sequence, startup process woun't advance untill you unlock it with password from webui. Have you had it unlocked?",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/711066512/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/711066827",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/7506#issuecomment-711066827",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/7506",
    "id": 711066827,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcxMTA2NjgyNw==",
    "user": {
      "login": "potuz",
      "id": 16044918,
      "node_id": "MDQ6VXNlcjE2MDQ0OTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/16044918?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/potuz",
      "html_url": "https://github.com/potuz",
      "followers_url": "https://api.github.com/users/potuz/followers",
      "following_url": "https://api.github.com/users/potuz/following{/other_user}",
      "gists_url": "https://api.github.com/users/potuz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/potuz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/potuz/subscriptions",
      "organizations_url": "https://api.github.com/users/potuz/orgs",
      "repos_url": "https://api.github.com/users/potuz/repos",
      "events_url": "https://api.github.com/users/potuz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/potuz/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-10-17T19:12:26Z",
    "updated_at": "2020-10-17T19:12:26Z",
    "author_association": "CONTRIBUTOR",
    "body": "That may be it, I didn't want to unlock the wallet on the browser, (that's why I opened #7505) so I hit \"create a new wallet\" or whatever the option was to create a different one and create some accounts.",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/711066827/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/714769209",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/7506#issuecomment-714769209",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/7506",
    "id": 714769209,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcxNDc2OTIwOQ==",
    "user": {
      "login": "rauljordan",
      "id": 5572669,
      "node_id": "MDQ6VXNlcjU1NzI2Njk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5572669?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rauljordan",
      "html_url": "https://github.com/rauljordan",
      "followers_url": "https://api.github.com/users/rauljordan/followers",
      "following_url": "https://api.github.com/users/rauljordan/following{/other_user}",
      "gists_url": "https://api.github.com/users/rauljordan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rauljordan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rauljordan/subscriptions",
      "organizations_url": "https://api.github.com/users/rauljordan/orgs",
      "repos_url": "https://api.github.com/users/rauljordan/repos",
      "events_url": "https://api.github.com/users/rauljordan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rauljordan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-10-22T21:20:59Z",
    "updated_at": "2020-10-22T21:20:59Z",
    "author_association": "CONTRIBUTOR",
    "body": "This is resolved by #7471 ",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/714769209/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
