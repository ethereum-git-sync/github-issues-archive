{
  "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/11327",
  "repository_url": "https://api.github.com/repos/prysmaticlabs/prysm",
  "labels_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/11327/labels{/name}",
  "comments_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/11327/comments",
  "events_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/11327/events",
  "html_url": "https://github.com/prysmaticlabs/prysm/issues/11327",
  "id": 1352476666,
  "node_id": "I_kwDOBvuov85QnSf6",
  "number": 11327,
  "title": "prysm 3.0.0 beacon data gets corrupted",
  "user": {
    "login": "ybstaked",
    "id": 85460995,
    "node_id": "MDQ6VXNlcjg1NDYwOTk1",
    "avatar_url": "https://avatars.githubusercontent.com/u/85460995?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/ybstaked",
    "html_url": "https://github.com/ybstaked",
    "followers_url": "https://api.github.com/users/ybstaked/followers",
    "following_url": "https://api.github.com/users/ybstaked/following{/other_user}",
    "gists_url": "https://api.github.com/users/ybstaked/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/ybstaked/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/ybstaked/subscriptions",
    "organizations_url": "https://api.github.com/users/ybstaked/orgs",
    "repos_url": "https://api.github.com/users/ybstaked/repos",
    "events_url": "https://api.github.com/users/ybstaked/events{/privacy}",
    "received_events_url": "https://api.github.com/users/ybstaked/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "open",
  "locked": false,
  "assignee": {
    "login": "prestonvanloon",
    "id": 7246818,
    "node_id": "MDQ6VXNlcjcyNDY4MTg=",
    "avatar_url": "https://avatars.githubusercontent.com/u/7246818?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/prestonvanloon",
    "html_url": "https://github.com/prestonvanloon",
    "followers_url": "https://api.github.com/users/prestonvanloon/followers",
    "following_url": "https://api.github.com/users/prestonvanloon/following{/other_user}",
    "gists_url": "https://api.github.com/users/prestonvanloon/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/prestonvanloon/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/prestonvanloon/subscriptions",
    "organizations_url": "https://api.github.com/users/prestonvanloon/orgs",
    "repos_url": "https://api.github.com/users/prestonvanloon/repos",
    "events_url": "https://api.github.com/users/prestonvanloon/events{/privacy}",
    "received_events_url": "https://api.github.com/users/prestonvanloon/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "prestonvanloon",
      "id": 7246818,
      "node_id": "MDQ6VXNlcjcyNDY4MTg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7246818?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/prestonvanloon",
      "html_url": "https://github.com/prestonvanloon",
      "followers_url": "https://api.github.com/users/prestonvanloon/followers",
      "following_url": "https://api.github.com/users/prestonvanloon/following{/other_user}",
      "gists_url": "https://api.github.com/users/prestonvanloon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/prestonvanloon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/prestonvanloon/subscriptions",
      "organizations_url": "https://api.github.com/users/prestonvanloon/orgs",
      "repos_url": "https://api.github.com/users/prestonvanloon/repos",
      "events_url": "https://api.github.com/users/prestonvanloon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/prestonvanloon/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 18,
  "created_at": "2022-08-26T16:24:03Z",
  "updated_at": "2023-03-14T10:30:27Z",
  "closed_at": null,
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "<!--üíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíé\r\n\r\nHellooo! üòÑ \r\n\r\nTo help us tend to your issue faster, please search our currently open issues before submitting a new one.\r\nExisting issues often contain information about workarounds, resolution, or progress updates.\r\n\r\nüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíé-->\r\n\r\n# üêû Bug Report\r\n\r\n### Description\r\n\r\nprysm 3.0.0 beacon data gets corrupted while running\r\n\r\n## üî¨ Minimal Reproduction\r\n\r\nrunning prysm beacon 3.0.0\r\n\r\n```\r\nbeacon-chain --accept-terms-of-use --datadir /home/prysm/data --rpc-host 0.0.0.0 --rpc-port 4000 --grpc-gateway-host 0.0.0.0 --grpc-gateway-port 4001 --log-file /tmp/ethereum2.log --block-batch-limit=512 --http-web3provider=http://el-geth-mainnet-4-node-svc.eth.svc.cluster.local:8551/ --jwt-secret=/home/prysm/data/jwt/jwt-secret --checkpoint-sync-url=XXX --genesis-beacon-api-url=XXX --mainnet --suggested-fee-recipient=XXX\r\n```\r\n\r\n<!--\r\nPlease let us know how we can reproduce this issue. Include the exact method you used to run Prysm along with any flags used in your beacon chain and/or validator. Make sure you don't upload any confidential files or private keys.\r\n-->\r\n\r\n## üî• Error\r\n\r\nBefore node is broken\r\n```\r\ntime=\"2022-08-26 13:22:59\" level=info msg=\"Peer summary\" activePeers=45 inbound=0 outbound=45 prefix=p2p                                                                                                                                   ‚îÇ\r\n‚îÇ time=\"2022-08-26 13:23:00\" level=warning msg=\"Recovering state summary for finalized root: 0x6a097ddb6aa3\" prefix=db                                                                                                                       ‚îÇ\r\n‚îÇ time=\"2022-08-26 13:23:00\" level=warning msg=\"Batch is not processed\" error=\"could not process block in batch: could not save finalized checkpoint, finalized root: 0x6a097ddb6aa3: missing state summary for checkpoint root\" prefix=init ‚îÇ\r\n‚îÇ time=\"2022-08-26 13:23:00\" level=info msg=\"Processing block batch of size 495 starting from  0x23e46bac... 4554913/4558013 - estimated time remaining 2m5s\" blocksPerSecond=24.8 peers=45 prefix=initial-sync\r\n```\r\n\r\nUpon a restart after the previous state\r\n```\r\ntime=\"2022-08-26 14:11:37\" level=info msg=\"Peer summary\" activePeers=43 inbound=0 outbound=43 prefix=p2p\r\ntime=\"2022-08-26 14:11:38\" level=info msg=\"Processing block batch of size 498 starting from  0x4bdc9494... 4556449/4558256 - estimated time remaining 13s\" blocksPerSecond=138.8 peers=43 prefix=initial-sync\r\ntime=\"2022-08-26 14:11:38\" level=warning msg=\"Batch is not processed\" error=\"beacon node doesn't have a parent in db with root: 0xf80913bd90d52370de2df89c98cdf9bc4d40ab07365d29ff2c8ce99e45a6b215 (in processBatchedBlocks, slot=4556449)\" prefix=initial-sync\r\ntime=\"2022-08-26 14:11:47\" level=info msg=\"Processing block batch of size 495 starting from  0x23e46bac... 4554913/4558257 - estimated time remaining 20s\" blocksPerSecond=163.6 peers=46 prefix=initial-sync\r\n```\r\n\r\nOnce node is broken\r\n```\r\ntime=\"2022-08-26 03:21:45\" level=error msg=\"could not get ancestor state: failed to unmarshal encoding: incorrect size\" prefix=main\r\n```\r\n\r\n\r\n\r\n## üåç  Your Environment\r\n\r\n**Operating System:**\r\n\r\n<pre>\r\n  <code>\r\nKubernetes\r\n  </code>\r\n</pre>\r\n\r\n**What version of Prysm are you running? (Which release)**\r\n\r\n<pre>\r\n  <code>\r\nv3.0.0\r\n  </code>\r\n</pre>\r\n\r\n**Anything else relevant (validator index / public key)?**\r\n\r\nCaused missed attestations for:\r\n- https://beaconcha.in/validator/50226#attestations\r\n- https://beaconcha.in/validator/50230#attestations\r\n- https://beaconcha.in/validator/112312#attestations\r\n- https://beaconcha.in/validator/128525#attestations\r\n- https://beaconcha.in/validator/128526#attestations\r\n- https://beaconcha.in/validator/128527#attestations\r\n\r\n\r\n",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/11327/reactions",
    "total_count": 2,
    "+1": 2,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/11327/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/1230483006",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/11327#issuecomment-1230483006",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/11327",
    "id": 1230483006,
    "node_id": "IC_kwDOBvuov85JV64-",
    "user": {
      "login": "beejiujitsu",
      "id": 4237425,
      "node_id": "MDQ6VXNlcjQyMzc0MjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4237425?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/beejiujitsu",
      "html_url": "https://github.com/beejiujitsu",
      "followers_url": "https://api.github.com/users/beejiujitsu/followers",
      "following_url": "https://api.github.com/users/beejiujitsu/following{/other_user}",
      "gists_url": "https://api.github.com/users/beejiujitsu/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/beejiujitsu/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/beejiujitsu/subscriptions",
      "organizations_url": "https://api.github.com/users/beejiujitsu/orgs",
      "repos_url": "https://api.github.com/users/beejiujitsu/repos",
      "events_url": "https://api.github.com/users/beejiujitsu/events{/privacy}",
      "received_events_url": "https://api.github.com/users/beejiujitsu/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-08-29T15:34:26Z",
    "updated_at": "2022-08-29T16:03:40Z",
    "author_association": "NONE",
    "body": "Confirming I am having similar issues using `Image:         gcr.io/prysmaticlabs/prysm/beacon-chain:v3.0.0`:\r\n\r\n```\r\n time=\"2022-08-29 15:31:16\" level=warning msg=\"Running on Ethereum Mainnet\" prefix=flags\r\n‚îÇ time=\"2022-08-29 15:31:16\" level=info msg=\"Checking DB\" database-path=\"/var/lib/prysm/beacon-node/beaconchaindata\" prefix=node\r\n‚îÇ time=\"2022-08-29 15:31:16\" level=info msg=\"Opening Bolt DB at /var/lib/prysm/beacon-node/beaconchaindata/beaconchain.db\" prefix=db\r\n‚îÇ time=\"2022-08-29 15:31:16\" level=info msg=\"Deposit contract: 0x00000000219ab540356cbb839cbe05303d7705fa\" prefix=node\r\n‚îÇ time=\"2022-08-29 15:31:16\" level=error msg=\"could not get ancestor state: failed to unmarshal encoding: incorrect size\" prefix=main\r\n‚îÇ Stream closed EOF for int/erigon-2 (prysm-beacon)\r\n```\r\n\r\nI run multiple erigon nodes, and this only happens on one of the nodes (each node has k8s Pod with a erigon container and prysm-beacon container).\r\n\r\nI was able to workaround this problem by scaling erigon replicas down below the bad state prysm-beacon, deleting the PersistentVolumeClaim, PersistentVolume, and the Disk in GCP, then scaling erigon replicas back up.",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/1230483006/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/1230509769",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/11327#issuecomment-1230509769",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/11327",
    "id": 1230509769,
    "node_id": "IC_kwDOBvuov85JWBbJ",
    "user": {
      "login": "prestonvanloon",
      "id": 7246818,
      "node_id": "MDQ6VXNlcjcyNDY4MTg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7246818?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/prestonvanloon",
      "html_url": "https://github.com/prestonvanloon",
      "followers_url": "https://api.github.com/users/prestonvanloon/followers",
      "following_url": "https://api.github.com/users/prestonvanloon/following{/other_user}",
      "gists_url": "https://api.github.com/users/prestonvanloon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/prestonvanloon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/prestonvanloon/subscriptions",
      "organizations_url": "https://api.github.com/users/prestonvanloon/orgs",
      "repos_url": "https://api.github.com/users/prestonvanloon/repos",
      "events_url": "https://api.github.com/users/prestonvanloon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/prestonvanloon/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-08-29T15:57:55Z",
    "updated_at": "2022-08-29T15:57:55Z",
    "author_association": "MEMBER",
    "body": "Thanks for the report. I'll admit, this error is a bit unhelpful as there are three places that unmarshalling errors could have returned. I have added some additional context in PR #11342. \r\n\r\nWe also run in kubernetes with go-ethereum and have never experienced this issue. Would you be willing to share a corrupted database privately? ",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/1230509769/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/1230519894",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/11327#issuecomment-1230519894",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/11327",
    "id": 1230519894,
    "node_id": "IC_kwDOBvuov85JWD5W",
    "user": {
      "login": "ybstaked",
      "id": 85460995,
      "node_id": "MDQ6VXNlcjg1NDYwOTk1",
      "avatar_url": "https://avatars.githubusercontent.com/u/85460995?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ybstaked",
      "html_url": "https://github.com/ybstaked",
      "followers_url": "https://api.github.com/users/ybstaked/followers",
      "following_url": "https://api.github.com/users/ybstaked/following{/other_user}",
      "gists_url": "https://api.github.com/users/ybstaked/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ybstaked/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ybstaked/subscriptions",
      "organizations_url": "https://api.github.com/users/ybstaked/orgs",
      "repos_url": "https://api.github.com/users/ybstaked/repos",
      "events_url": "https://api.github.com/users/ybstaked/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ybstaked/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-08-29T16:05:23Z",
    "updated_at": "2022-08-29T16:05:23Z",
    "author_association": "CONTRIBUTOR",
    "body": "Unfortunately, no, we had to cleanup the pvcs and restart from checkpoint so we didn't continue to miss attestations and lose rewards.",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/1230519894/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/1230581698",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/11327#issuecomment-1230581698",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/11327",
    "id": 1230581698,
    "node_id": "IC_kwDOBvuov85JWS_C",
    "user": {
      "login": "prestonvanloon",
      "id": 7246818,
      "node_id": "MDQ6VXNlcjcyNDY4MTg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7246818?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/prestonvanloon",
      "html_url": "https://github.com/prestonvanloon",
      "followers_url": "https://api.github.com/users/prestonvanloon/followers",
      "following_url": "https://api.github.com/users/prestonvanloon/following{/other_user}",
      "gists_url": "https://api.github.com/users/prestonvanloon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/prestonvanloon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/prestonvanloon/subscriptions",
      "organizations_url": "https://api.github.com/users/prestonvanloon/orgs",
      "repos_url": "https://api.github.com/users/prestonvanloon/repos",
      "events_url": "https://api.github.com/users/prestonvanloon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/prestonvanloon/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-08-29T17:01:15Z",
    "updated_at": "2022-08-29T17:01:15Z",
    "author_association": "MEMBER",
    "body": "> Unfortunately, no, we had to cleanup the pvcs and restart from checkpoint so we didn't continue to miss attestations and lose rewards.\r\n\r\nOK, no worries. #11342 should help in v3.0.1. We will keep monitoring and investigation open until we can pin point the issue.\r\n\r\nIf anyone stumbles upon this issue and hasn't deleted their beaconchain.db, please save a copy and reach out to me preston@prysmaticlabs.com or discord. It would greatly help to see what bytes are failing to unmarshal. ",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/1230581698/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/1231810731",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/11327#issuecomment-1231810731",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/11327",
    "id": 1231810731,
    "node_id": "IC_kwDOBvuov85Ja_Cr",
    "user": {
      "login": "ybstaked",
      "id": 85460995,
      "node_id": "MDQ6VXNlcjg1NDYwOTk1",
      "avatar_url": "https://avatars.githubusercontent.com/u/85460995?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ybstaked",
      "html_url": "https://github.com/ybstaked",
      "followers_url": "https://api.github.com/users/ybstaked/followers",
      "following_url": "https://api.github.com/users/ybstaked/following{/other_user}",
      "gists_url": "https://api.github.com/users/ybstaked/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ybstaked/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ybstaked/subscriptions",
      "organizations_url": "https://api.github.com/users/ybstaked/orgs",
      "repos_url": "https://api.github.com/users/ybstaked/repos",
      "events_url": "https://api.github.com/users/ybstaked/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ybstaked/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-08-30T15:16:08Z",
    "updated_at": "2022-08-30T15:16:34Z",
    "author_association": "CONTRIBUTOR",
    "body": "See another set of errors in another node here:\r\n```\r\ntime=\"2022-08-30 15:09:28\" level=info msg=\"Processing block batch of size 199 starting from  0x8042c314... 4586753/4587345 - estimated time remaining 59s\" blocksPerSecond=9.9 peers=46 prefix=initial-sync\r\ntime=\"2022-08-30 15:09:29\" level=info msg=\"Peer summary\" activePeers=46 inbound=0 outbound=46 prefix=p2p\r\ntime=\"2022-08-30 15:09:37\" level=error msg=\"Unable to process past deposit contract logs, perhaps your execution client is not fully synced\" error=\"no contract code at given address\" prefix=powchain\r\ntime=\"2022-08-30 15:10:07\" level=warning msg=\"Recovering state summary for finalized root: 0xf4af42324d36\" prefix=db\r\ntime=\"2022-08-30 15:10:07\" level=warning msg=\"Batch is not processed\" error=\"could not process block in batch: could not save finalized checkpoint, finalized root: 0xf4af42324d36: missing state summary for checkpoint root\" prefix=initial-sync\r\ntime=\"2022-08-30 15:10:07\" level=info msg=\"Processing block batch of size 199 starting from  0x8042c314... 4586753/4587348 - estimated time remaining 59s\" blocksPerSecond=9.9 peers=45 prefix=initial-sync\r\ntime=\"2022-08-30 15:10:29\" level=info msg=\"Peer summary\" activePeers=46 inbound=0 outbound=46 prefix=p2p\r\ntime=\"2022-08-30 15:10:47\" level=warning msg=\"Recovering state summary for finalized root: 0xf4af42324d36\" prefix=db\r\ntime=\"2022-08-30 15:10:47\" level=warning msg=\"Batch is not processed\" error=\"could not process block in batch: could not save finalized checkpoint, finalized root: 0xf4af42324d36: missing state summary for checkpoint root\" prefix=initial-sync\r\ntime=\"2022-08-30 15:10:47\" level=info msg=\"Processing block batch of size 507 starting from  0x8042c314... 4586753/4587352 - estimated time remaining 23s\" blocksPerSecond=25.4 peers=46 prefix=initial-sync\r\ntime=\"2022-08-30 15:11:29\" level=info msg=\"Peer summary\" activePeers=45 inbound=0 outbound=45 prefix=p2p\r\ntime=\"2022-08-30 15:11:54\" level=error msg=\"Unable to process past deposit contract logs, perhaps your execution client is not fully synced\" error=\"no contract code at given address\" prefix=powchain\r\ntime=\"2022-08-30 15:12:27\" level=warning msg=\"Recovering state summary for finalized root: 0xf4af42324d36\" prefix=db\r\ntime=\"2022-08-30 15:12:27\" level=warning msg=\"Batch is not processed\" error=\"could not process block in batch: could not save finalized checkpoint, finalized root: 0xf4af42324d36: missing state summary for checkpoint root\" prefix=initial-sync\r\ntime=\"2022-08-30 15:12:27\" level=info msg=\"Processing block batch of size 507 starting from  0x8042c314... 4586753/4587360 - estimated time remaining 23s\" blocksPerSecond=25.4 peers=44 prefix=initial-sync\r\ntime=\"2022-08-30 15:12:29\" level=info msg=\"Peer summary\" activePeers=46 inbound=0 outbound=44 prefix=p2p\r\ntime=\"2022-08-30 15:13:29\" level=info msg=\"Peer summary\" activePeers=44 inbound=0 outbound=44 prefix=p2p\r\n```\r\n\r\nDon't have direct access to this mainnet beaconchain.db, so I cannot send it to you.",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/1231810731/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 1
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/1231814325",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/11327#issuecomment-1231814325",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/11327",
    "id": 1231814325,
    "node_id": "IC_kwDOBvuov85Ja_61",
    "user": {
      "login": "ybstaked",
      "id": 85460995,
      "node_id": "MDQ6VXNlcjg1NDYwOTk1",
      "avatar_url": "https://avatars.githubusercontent.com/u/85460995?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ybstaked",
      "html_url": "https://github.com/ybstaked",
      "followers_url": "https://api.github.com/users/ybstaked/followers",
      "following_url": "https://api.github.com/users/ybstaked/following{/other_user}",
      "gists_url": "https://api.github.com/users/ybstaked/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ybstaked/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ybstaked/subscriptions",
      "organizations_url": "https://api.github.com/users/ybstaked/orgs",
      "repos_url": "https://api.github.com/users/ybstaked/repos",
      "events_url": "https://api.github.com/users/ybstaked/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ybstaked/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-08-30T15:19:08Z",
    "updated_at": "2022-08-30T15:19:08Z",
    "author_association": "CONTRIBUTOR",
    "body": "Maybe this is an issue when restoring from checkpoint sync?",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/1231814325/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/1231825181",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/11327#issuecomment-1231825181",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/11327",
    "id": 1231825181,
    "node_id": "IC_kwDOBvuov85JbCkd",
    "user": {
      "login": "prestonvanloon",
      "id": 7246818,
      "node_id": "MDQ6VXNlcjcyNDY4MTg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7246818?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/prestonvanloon",
      "html_url": "https://github.com/prestonvanloon",
      "followers_url": "https://api.github.com/users/prestonvanloon/followers",
      "following_url": "https://api.github.com/users/prestonvanloon/following{/other_user}",
      "gists_url": "https://api.github.com/users/prestonvanloon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/prestonvanloon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/prestonvanloon/subscriptions",
      "organizations_url": "https://api.github.com/users/prestonvanloon/orgs",
      "repos_url": "https://api.github.com/users/prestonvanloon/repos",
      "events_url": "https://api.github.com/users/prestonvanloon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/prestonvanloon/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-08-30T15:28:00Z",
    "updated_at": "2022-08-30T15:28:38Z",
    "author_association": "MEMBER",
    "body": "@ybstaked Does this error occur right away when starting a node with checkpoint sync?\r\n\r\n> time=\"2022-08-30 15:10:47\" level=warning msg=\"Batch is not processed\" error=\"could not process block in batch: could not save finalized checkpoint, finalized root: 0xf4af42324d36: missing state summary for checkpoint root\" prefix=initial-sync\r\n\r\nEdit: Could you share what flags you are using for this node and the node serving the checkpoint? \r\n",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/1231825181/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/1231830675",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/11327#issuecomment-1231830675",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/11327",
    "id": 1231830675,
    "node_id": "IC_kwDOBvuov85JbD6T",
    "user": {
      "login": "ybstaked",
      "id": 85460995,
      "node_id": "MDQ6VXNlcjg1NDYwOTk1",
      "avatar_url": "https://avatars.githubusercontent.com/u/85460995?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ybstaked",
      "html_url": "https://github.com/ybstaked",
      "followers_url": "https://api.github.com/users/ybstaked/followers",
      "following_url": "https://api.github.com/users/ybstaked/following{/other_user}",
      "gists_url": "https://api.github.com/users/ybstaked/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ybstaked/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ybstaked/subscriptions",
      "organizations_url": "https://api.github.com/users/ybstaked/orgs",
      "repos_url": "https://api.github.com/users/ybstaked/repos",
      "events_url": "https://api.github.com/users/ybstaked/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ybstaked/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-08-30T15:32:22Z",
    "updated_at": "2022-08-30T15:32:22Z",
    "author_association": "CONTRIBUTOR",
    "body": "No, this error does not occur right away when starting a node with checkpoint sync.  I shared our node's flags before, but here it is again.  We are using infura currently as the checkpoint node. \r\n\r\n```\r\nbeacon-chain --accept-terms-of-use --datadir /home/prysm/data --rpc-host 0.0.0.0 --rpc-port 4000 --grpc-gateway-host 0.0.0.0 --grpc-gateway-port 4001 --log-file /tmp/ethereum2.log --block-batch-limit=512 --http-web3provider=http://el-geth-mainnet-4-node-svc.eth.svc.cluster.local:8551/ --jwt-secret=/home/prysm/data/jwt/jwt-secret --checkpoint-sync-url=XXX@eth2-beacon-mainnet.infura.io --genesis-beacon-api-url=XXX@eth2-beacon-mainnet.infura.io --mainnet --suggested-fee-recipient=XXX\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/1231830675/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 1
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/1231843716",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/11327#issuecomment-1231843716",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/11327",
    "id": 1231843716,
    "node_id": "IC_kwDOBvuov85JbHGE",
    "user": {
      "login": "prestonvanloon",
      "id": 7246818,
      "node_id": "MDQ6VXNlcjcyNDY4MTg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7246818?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/prestonvanloon",
      "html_url": "https://github.com/prestonvanloon",
      "followers_url": "https://api.github.com/users/prestonvanloon/followers",
      "following_url": "https://api.github.com/users/prestonvanloon/following{/other_user}",
      "gists_url": "https://api.github.com/users/prestonvanloon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/prestonvanloon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/prestonvanloon/subscriptions",
      "organizations_url": "https://api.github.com/users/prestonvanloon/orgs",
      "repos_url": "https://api.github.com/users/prestonvanloon/repos",
      "events_url": "https://api.github.com/users/prestonvanloon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/prestonvanloon/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-08-30T15:42:54Z",
    "updated_at": "2022-08-30T15:42:54Z",
    "author_association": "MEMBER",
    "body": "Thanks for that context. We are still investigating both of these issues. The first one may be related to an improper shutdown of the client. Kubernetes podSpec default value for `terminationGracePeriodSeconds` is 30. This may be too short for Prysm to shutdown properly. I would recommend increasing it to 120 and ensuring that you are using a solid state disk for faster writes.",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/1231843716/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/1231855911",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/11327#issuecomment-1231855911",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/11327",
    "id": 1231855911,
    "node_id": "IC_kwDOBvuov85JbKEn",
    "user": {
      "login": "ybstaked",
      "id": 85460995,
      "node_id": "MDQ6VXNlcjg1NDYwOTk1",
      "avatar_url": "https://avatars.githubusercontent.com/u/85460995?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ybstaked",
      "html_url": "https://github.com/ybstaked",
      "followers_url": "https://api.github.com/users/ybstaked/followers",
      "following_url": "https://api.github.com/users/ybstaked/following{/other_user}",
      "gists_url": "https://api.github.com/users/ybstaked/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ybstaked/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ybstaked/subscriptions",
      "organizations_url": "https://api.github.com/users/ybstaked/orgs",
      "repos_url": "https://api.github.com/users/ybstaked/repos",
      "events_url": "https://api.github.com/users/ybstaked/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ybstaked/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-08-30T15:52:18Z",
    "updated_at": "2022-08-30T15:52:18Z",
    "author_association": "CONTRIBUTOR",
    "body": "Ok noted, but in this case, the first error I sent you here was before any restarts or shutdowns: https://github.com/prysmaticlabs/prysm/issues/11327#issuecomment-1231810731\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/1231855911/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 1
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/1231871805",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/11327#issuecomment-1231871805",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/11327",
    "id": 1231871805,
    "node_id": "IC_kwDOBvuov85JbN89",
    "user": {
      "login": "ybstaked",
      "id": 85460995,
      "node_id": "MDQ6VXNlcjg1NDYwOTk1",
      "avatar_url": "https://avatars.githubusercontent.com/u/85460995?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ybstaked",
      "html_url": "https://github.com/ybstaked",
      "followers_url": "https://api.github.com/users/ybstaked/followers",
      "following_url": "https://api.github.com/users/ybstaked/following{/other_user}",
      "gists_url": "https://api.github.com/users/ybstaked/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ybstaked/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ybstaked/subscriptions",
      "organizations_url": "https://api.github.com/users/ybstaked/orgs",
      "repos_url": "https://api.github.com/users/ybstaked/repos",
      "events_url": "https://api.github.com/users/ybstaked/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ybstaked/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-08-30T16:05:44Z",
    "updated_at": "2022-08-30T16:05:44Z",
    "author_association": "CONTRIBUTOR",
    "body": "@prestonvanloon I emailed you the beaconchain.db specifically from: https://github.com/prysmaticlabs/prysm/issues/11327#issuecomment-1231810731",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/1231871805/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 1
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/1232034284",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/11327#issuecomment-1232034284",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/11327",
    "id": 1232034284,
    "node_id": "IC_kwDOBvuov85Jb1ns",
    "user": {
      "login": "prestonvanloon",
      "id": 7246818,
      "node_id": "MDQ6VXNlcjcyNDY4MTg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7246818?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/prestonvanloon",
      "html_url": "https://github.com/prestonvanloon",
      "followers_url": "https://api.github.com/users/prestonvanloon/followers",
      "following_url": "https://api.github.com/users/prestonvanloon/following{/other_user}",
      "gists_url": "https://api.github.com/users/prestonvanloon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/prestonvanloon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/prestonvanloon/subscriptions",
      "organizations_url": "https://api.github.com/users/prestonvanloon/orgs",
      "repos_url": "https://api.github.com/users/prestonvanloon/repos",
      "events_url": "https://api.github.com/users/prestonvanloon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/prestonvanloon/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-08-30T18:47:04Z",
    "updated_at": "2022-08-30T18:47:04Z",
    "author_association": "MEMBER",
    "body": "Thanks @ybstaked. I was able to reproduce this issue. Still investigating...",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/1232034284/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/1232921514",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/11327#issuecomment-1232921514",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/11327",
    "id": 1232921514,
    "node_id": "IC_kwDOBvuov85JfOOq",
    "user": {
      "login": "potuz",
      "id": 16044918,
      "node_id": "MDQ6VXNlcjE2MDQ0OTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/16044918?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/potuz",
      "html_url": "https://github.com/potuz",
      "followers_url": "https://api.github.com/users/potuz/followers",
      "following_url": "https://api.github.com/users/potuz/following{/other_user}",
      "gists_url": "https://api.github.com/users/potuz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/potuz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/potuz/subscriptions",
      "organizations_url": "https://api.github.com/users/potuz/orgs",
      "repos_url": "https://api.github.com/users/potuz/repos",
      "events_url": "https://api.github.com/users/potuz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/potuz/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-08-31T13:12:56Z",
    "updated_at": "2022-08-31T13:12:56Z",
    "author_association": "CONTRIBUTOR",
    "body": "I believe this issue is solved:\r\n```\r\ntime=\"2022-08-30 15:10:47\" level=warning msg=\"Recovering state summary for finalized root: 0xf4af42324d36\" prefix=db\r\n```\r\n\r\nBut this other one I do not really know how it happens. Would it be possible to check with the current develop images?\r\n\r\n``` \r\ntime=\"2022-08-26 03:21:45\" level=error msg=\"could not get ancestor state: failed to unmarshal encoding: incorrect size\" prefix=main\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/1232921514/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/1232947736",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/11327#issuecomment-1232947736",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/11327",
    "id": 1232947736,
    "node_id": "IC_kwDOBvuov85JfUoY",
    "user": {
      "login": "ybstaked",
      "id": 85460995,
      "node_id": "MDQ6VXNlcjg1NDYwOTk1",
      "avatar_url": "https://avatars.githubusercontent.com/u/85460995?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ybstaked",
      "html_url": "https://github.com/ybstaked",
      "followers_url": "https://api.github.com/users/ybstaked/followers",
      "following_url": "https://api.github.com/users/ybstaked/following{/other_user}",
      "gists_url": "https://api.github.com/users/ybstaked/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ybstaked/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ybstaked/subscriptions",
      "organizations_url": "https://api.github.com/users/ybstaked/orgs",
      "repos_url": "https://api.github.com/users/ybstaked/repos",
      "events_url": "https://api.github.com/users/ybstaked/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ybstaked/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-08-31T13:35:02Z",
    "updated_at": "2022-08-31T13:35:02Z",
    "author_association": "CONTRIBUTOR",
    "body": "thanks @potuz, for this error, @prestonvanloon mentioned that it may be related to an improper shutdown, i.e.: https://github.com/prysmaticlabs/prysm/issues/11327#issuecomment-1231843716 and also said:\r\n\r\n\"Later this week, I'll try some experimentation with SIGKILL to see if I can replicate the state you were in. We may not be able to prevent improper shutdowns, but maybe we can repair damaged databases automatically.\"\r\n\r\nWe will on our end increase the terminationGracePeriodSeconds, but can this also be made better in the software?\r\n\r\n```\r\ntime=\"2022-08-26 03:21:45\" level=error msg=\"could not get ancestor state: failed to unmarshal encoding: incorrect size\" prefix=main\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/1232947736/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/1235439211",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/11327#issuecomment-1235439211",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/11327",
    "id": 1235439211,
    "node_id": "IC_kwDOBvuov85Jo05r",
    "user": {
      "login": "ybstaked",
      "id": 85460995,
      "node_id": "MDQ6VXNlcjg1NDYwOTk1",
      "avatar_url": "https://avatars.githubusercontent.com/u/85460995?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ybstaked",
      "html_url": "https://github.com/ybstaked",
      "followers_url": "https://api.github.com/users/ybstaked/followers",
      "following_url": "https://api.github.com/users/ybstaked/following{/other_user}",
      "gists_url": "https://api.github.com/users/ybstaked/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ybstaked/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ybstaked/subscriptions",
      "organizations_url": "https://api.github.com/users/ybstaked/orgs",
      "repos_url": "https://api.github.com/users/ybstaked/repos",
      "events_url": "https://api.github.com/users/ybstaked/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ybstaked/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-09-02T12:25:03Z",
    "updated_at": "2022-09-02T12:25:03Z",
    "author_association": "CONTRIBUTOR",
    "body": "Btw I just checked and we use a terminationGracePeriodSeconds of 180 seconds (this is what was set when I posted that error;  more than your recommendation of 120 seconds)",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/1235439211/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/1371601943",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/11327#issuecomment-1371601943",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/11327",
    "id": 1371601943,
    "node_id": "IC_kwDOBvuov85RwPwX",
    "user": {
      "login": "rauljordan",
      "id": 5572669,
      "node_id": "MDQ6VXNlcjU1NzI2Njk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5572669?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rauljordan",
      "html_url": "https://github.com/rauljordan",
      "followers_url": "https://api.github.com/users/rauljordan/followers",
      "following_url": "https://api.github.com/users/rauljordan/following{/other_user}",
      "gists_url": "https://api.github.com/users/rauljordan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rauljordan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rauljordan/subscriptions",
      "organizations_url": "https://api.github.com/users/rauljordan/orgs",
      "repos_url": "https://api.github.com/users/rauljordan/repos",
      "events_url": "https://api.github.com/users/rauljordan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rauljordan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-01-05T00:49:47Z",
    "updated_at": "2023-01-05T00:49:47Z",
    "author_association": "CONTRIBUTOR",
    "body": "hi @ybstaked wondering if you are still running into this issue post-merge",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/1371601943/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/1372031596",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/11327#issuecomment-1372031596",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/11327",
    "id": 1372031596,
    "node_id": "IC_kwDOBvuov85Rx4ps",
    "user": {
      "login": "nisdas",
      "id": 33201827,
      "node_id": "MDQ6VXNlcjMzMjAxODI3",
      "avatar_url": "https://avatars.githubusercontent.com/u/33201827?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nisdas",
      "html_url": "https://github.com/nisdas",
      "followers_url": "https://api.github.com/users/nisdas/followers",
      "following_url": "https://api.github.com/users/nisdas/following{/other_user}",
      "gists_url": "https://api.github.com/users/nisdas/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nisdas/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nisdas/subscriptions",
      "organizations_url": "https://api.github.com/users/nisdas/orgs",
      "repos_url": "https://api.github.com/users/nisdas/repos",
      "events_url": "https://api.github.com/users/nisdas/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nisdas/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-01-05T10:21:07Z",
    "updated_at": "2023-01-05T10:21:07Z",
    "author_association": "MEMBER",
    "body": "@rauljordan This is still relevant, I am currently looking at it",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/1372031596/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/1398521845",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/11327#issuecomment-1398521845",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/11327",
    "id": 1398521845,
    "node_id": "IC_kwDOBvuov85TW7_1",
    "user": {
      "login": "leohhhn",
      "id": 33522493,
      "node_id": "MDQ6VXNlcjMzNTIyNDkz",
      "avatar_url": "https://avatars.githubusercontent.com/u/33522493?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/leohhhn",
      "html_url": "https://github.com/leohhhn",
      "followers_url": "https://api.github.com/users/leohhhn/followers",
      "following_url": "https://api.github.com/users/leohhhn/following{/other_user}",
      "gists_url": "https://api.github.com/users/leohhhn/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/leohhhn/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/leohhhn/subscriptions",
      "organizations_url": "https://api.github.com/users/leohhhn/orgs",
      "repos_url": "https://api.github.com/users/leohhhn/repos",
      "events_url": "https://api.github.com/users/leohhhn/events{/privacy}",
      "received_events_url": "https://api.github.com/users/leohhhn/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-01-20T15:06:27Z",
    "updated_at": "2023-01-20T15:07:14Z",
    "author_association": "NONE",
    "body": "having the same error. Firstly Prysm synced nicely to the provided checkpoint and was following the chain head. Shut it down in order to set up a systems service,  tried starting Prysm with the same command, and now getting\r\n` ERROR main: could not get ancestor state: slot 5616191 not in db due to checkpoint sync: cannot retrieve data for slot`",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/1398521845/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
