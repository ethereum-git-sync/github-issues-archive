{
  "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/4351",
  "repository_url": "https://api.github.com/repos/prysmaticlabs/prysm",
  "labels_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/4351/labels{/name}",
  "comments_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/4351/comments",
  "events_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/4351/events",
  "html_url": "https://github.com/prysmaticlabs/prysm/issues/4351",
  "id": 542068127,
  "node_id": "MDU6SXNzdWU1NDIwNjgxMjc=",
  "number": 4351,
  "title": "Beacon client crashed with \"slice bounds out of range\"",
  "user": {
    "login": "torfbolt",
    "id": 233423,
    "node_id": "MDQ6VXNlcjIzMzQyMw==",
    "avatar_url": "https://avatars.githubusercontent.com/u/233423?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/torfbolt",
    "html_url": "https://github.com/torfbolt",
    "followers_url": "https://api.github.com/users/torfbolt/followers",
    "following_url": "https://api.github.com/users/torfbolt/following{/other_user}",
    "gists_url": "https://api.github.com/users/torfbolt/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/torfbolt/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/torfbolt/subscriptions",
    "organizations_url": "https://api.github.com/users/torfbolt/orgs",
    "repos_url": "https://api.github.com/users/torfbolt/repos",
    "events_url": "https://api.github.com/users/torfbolt/events{/privacy}",
    "received_events_url": "https://api.github.com/users/torfbolt/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 4,
  "created_at": "2019-12-24T09:48:13Z",
  "updated_at": "2019-12-24T10:07:53Z",
  "closed_at": "2019-12-24T10:07:52Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "Tonight my client (30b4b045f503a52142a9f26a8d614b4d226b44eb) crashed and stopped with this error:\r\n\r\n> [2019-12-24 03:30:02]  INFO blockchain: Finished applying state transition attestations=5 deposits=0 slot=305710\r\n> panic: runtime error: slice bounds out of range [:608597649] with capacity 496\r\n> \r\n> goroutine 10085697 [running]:\r\n> github.com/prysmaticlabs/go-ssz/types.(*structSSZ).Unmarshal(0x27850a0, 0x16a6620, 0xc003712e00, 0x199, 0x1b38960, 0x16a6620, 0xc001415690, 0xe5, 0x1f0, 0x0, ...)\r\n>         external/com_github_prysmaticlabs_go_ssz/types/struct.go:243 +0x13c0\r\n> github.com/prysmaticlabs/go-ssz/types.(*structSSZ).Unmarshal(0x27850a0, 0x1709d80, 0xc001bd28d8, 0x196, 0x1b38960, 0x1709d80, 0xc001415690, 0xe5, 0x1f0, 0x0, ...)\r\n>         external/com_github_prysmaticlabs_go_ssz/types/struct.go:153 +0x1284\r\n> github.com/prysmaticlabs/go-ssz/types.(*compositeSliceSSZ).Unmarshal(0x27850a0, 0x14b1160, 0xc001710fd8, 0x197, 0x1b38960, 0x14b1160, 0xc001415688, 0x1d2, 0x1f8, 0x0, ...)\r\n>         external/com_github_prysmaticlabs_go_ssz/types/slice_composite.go:137 +0x44e\r\n> github.com/prysmaticlabs/go-ssz/types.(*structSSZ).Unmarshal(0x27850a0, 0x170d980, 0xc001710f70, 0x199, 0x1b38960, 0x170d980, 0xc0014155ac, 0x2ae, 0x2d4, 0x0, ...)\r\n>         external/com_github_prysmaticlabs_go_ssz/types/struct.go:243 +0xf8d\r\n> github.com/prysmaticlabs/go-ssz/types.(*structSSZ).Unmarshal(0x27850a0, 0x1722e40, 0xc005f23c38, 0x196, 0x1b38960, 0x1722e40, 0xc0014155ac, 0x2ae, 0x2d4, 0x0, ...)\r\n>         external/com_github_prysmaticlabs_go_ssz/types/struct.go:153 +0x1284\r\n> github.com/prysmaticlabs/go-ssz/types.(*structSSZ).Unmarshal(0x27850a0, 0x16b56e0, 0xc005f23c00, 0x199, 0x1b38960, 0x16b56e0, 0xc001415500, 0x35a, 0x380, 0x0, ...)\r\n>         external/com_github_prysmaticlabs_go_ssz/types/struct.go:243 +0xf8d\r\n> github.com/prysmaticlabs/go-ssz.Unmarshal(0xc001415500, 0x35a, 0x380, 0x1712900, 0xc005f23c00, 0x7f39fe4de6d0, 0x0)\r\n>         external/com_github_prysmaticlabs_go_ssz/ssz.go:106 +0x335\r\n> github.com/prysmaticlabs/prysm/beacon-chain/p2p/encoder.SszNetworkEncoder.Decode(0x0, 0xc001415500, 0x35a, 0x380, 0x1712900, 0xc005f23c00, 0x169bce0, 0xc00617886d)\r\n>         beacon-chain/p2p/encoder/ssz.go:85 +0x69\r\n> github.com/prysmaticlabs/prysm/beacon-chain/sync.(*Service).decodePubsubMessage(0xc0000f2d80, 0xc00549e7b0, 0x179f9ad, 0x1e, 0x0, 0x0)\r\n>         beacon-chain/sync/decode_pubsub.go:24 +0x227\r\n> github.com/prysmaticlabs/prysm/beacon-chain/sync.(*Service).validateBeaconBlockPubSub(0xc0000f2d80, 0x1b140a0, 0xc0000d2000, 0xc003becf00, 0x27, 0xc00549e7b0, 0x446200)\r\n>         beacon-chain/sync/validate_beacon_blocks.go:34 +0x13c\r\n> github.com/prysmaticlabs/prysm/beacon-chain/sync.wrapAndReportValidation.func1(0x1b140a0, 0xc0000d2000, 0xc003becf00, 0x27, 0xc00549e7b0, 0xc001487b58)\r\n>         beacon-chain/sync/subscriber.go:178 +0x6d\r\n> github.com/libp2p/go-libp2p-pubsub.(*topicVal).validateMsg(0xc001743bc0, 0x1b140a0, 0xc0000d2000, 0xc003becf00, 0x27, 0xc00549e7b0, 0xc001034600)\r\n>         external/com_github_libp2p_go_libp2p_pubsub/validation.go:335 +0x8a\r\n> github.com/libp2p/go-libp2p-pubsub.(*validation).validateSingleTopic(0xc000713cb0, 0xc001743bc0, 0xc003becf00, 0x27, 0xc00549e7b0, 0x276c440)\r\n>         external/com_github_libp2p_go_libp2p_pubsub/validation.go:316 +0x18d\r\n> github.com/libp2p/go-libp2p-pubsub.(*validation).validateTopic(0xc000713cb0, 0xc001bd28c8, 0x1, 0x1, 0xc003becf00, 0x27, 0xc00549e7b0, 0xc001034700)\r\n>         external/com_github_libp2p_go_libp2p_pubsub/validation.go:269 +0x3c8\r\n> github.com/libp2p/go-libp2p-pubsub.(*validation).doValidateTopic(0xc000713cb0, 0xc001bd28c8, 0x1, 0x1, 0xc003becf00, 0x27, 0xc00549e7b0)\r\n>         external/com_github_libp2p_go_libp2p_pubsub/validation.go:258 +0x74\r\n> github.com/libp2p/go-libp2p-pubsub.(*validation).validate.func1(0xc000713cb0, 0xc001bd28c8, 0x1, 0x1, 0xc003becf00, 0x27, 0xc00549e7b0)\r\n>         external/com_github_libp2p_go_libp2p_pubsub/validation.go:233 +0x67\r\n> created by github.com/libp2p/go-libp2p-pubsub.(*validation).validate\r\n>         external/com_github_libp2p_go_libp2p_pubsub/validation.go:232 +0x473\r\n> ",
  "closed_by": {
    "login": "torfbolt",
    "id": 233423,
    "node_id": "MDQ6VXNlcjIzMzQyMw==",
    "avatar_url": "https://avatars.githubusercontent.com/u/233423?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/torfbolt",
    "html_url": "https://github.com/torfbolt",
    "followers_url": "https://api.github.com/users/torfbolt/followers",
    "following_url": "https://api.github.com/users/torfbolt/following{/other_user}",
    "gists_url": "https://api.github.com/users/torfbolt/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/torfbolt/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/torfbolt/subscriptions",
    "organizations_url": "https://api.github.com/users/torfbolt/orgs",
    "repos_url": "https://api.github.com/users/torfbolt/repos",
    "events_url": "https://api.github.com/users/torfbolt/events{/privacy}",
    "received_events_url": "https://api.github.com/users/torfbolt/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/4351/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/4351/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/568710616",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/4351#issuecomment-568710616",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/4351",
    "id": 568710616,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU2ODcxMDYxNg==",
    "user": {
      "login": "nisdas",
      "id": 33201827,
      "node_id": "MDQ6VXNlcjMzMjAxODI3",
      "avatar_url": "https://avatars.githubusercontent.com/u/33201827?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nisdas",
      "html_url": "https://github.com/nisdas",
      "followers_url": "https://api.github.com/users/nisdas/followers",
      "following_url": "https://api.github.com/users/nisdas/following{/other_user}",
      "gists_url": "https://api.github.com/users/nisdas/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nisdas/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nisdas/subscriptions",
      "organizations_url": "https://api.github.com/users/nisdas/orgs",
      "repos_url": "https://api.github.com/users/nisdas/repos",
      "events_url": "https://api.github.com/users/nisdas/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nisdas/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-12-24T09:52:33Z",
    "updated_at": "2019-12-24T09:52:33Z",
    "author_association": "MEMBER",
    "body": "Hey @torfbolt #4350, captures the panic and prevents the node from crashing",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/568710616/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/568711385",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/4351#issuecomment-568711385",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/4351",
    "id": 568711385,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU2ODcxMTM4NQ==",
    "user": {
      "login": "torfbolt",
      "id": 233423,
      "node_id": "MDQ6VXNlcjIzMzQyMw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/233423?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/torfbolt",
      "html_url": "https://github.com/torfbolt",
      "followers_url": "https://api.github.com/users/torfbolt/followers",
      "following_url": "https://api.github.com/users/torfbolt/following{/other_user}",
      "gists_url": "https://api.github.com/users/torfbolt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/torfbolt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/torfbolt/subscriptions",
      "organizations_url": "https://api.github.com/users/torfbolt/orgs",
      "repos_url": "https://api.github.com/users/torfbolt/repos",
      "events_url": "https://api.github.com/users/torfbolt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/torfbolt/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-12-24T09:55:54Z",
    "updated_at": "2019-12-24T09:55:54Z",
    "author_association": "NONE",
    "body": "Hi @nisdas, so you think this is already fixed, or is it just mitigated from crash to panic error message?",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/568711385/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/568711700",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/4351#issuecomment-568711700",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/4351",
    "id": 568711700,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU2ODcxMTcwMA==",
    "user": {
      "login": "nisdas",
      "id": 33201827,
      "node_id": "MDQ6VXNlcjMzMjAxODI3",
      "avatar_url": "https://avatars.githubusercontent.com/u/33201827?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nisdas",
      "html_url": "https://github.com/nisdas",
      "followers_url": "https://api.github.com/users/nisdas/followers",
      "following_url": "https://api.github.com/users/nisdas/following{/other_user}",
      "gists_url": "https://api.github.com/users/nisdas/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nisdas/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nisdas/subscriptions",
      "organizations_url": "https://api.github.com/users/nisdas/orgs",
      "repos_url": "https://api.github.com/users/nisdas/repos",
      "events_url": "https://api.github.com/users/nisdas/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nisdas/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-12-24T09:57:19Z",
    "updated_at": "2019-12-24T09:57:19Z",
    "author_association": "MEMBER",
    "body": "I inadvertently caused the error in the network, so it shouldn't show up as an error either. This issue should not come up again ",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/568711700/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/568713852",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/4351#issuecomment-568713852",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/4351",
    "id": 568713852,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU2ODcxMzg1Mg==",
    "user": {
      "login": "torfbolt",
      "id": 233423,
      "node_id": "MDQ6VXNlcjIzMzQyMw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/233423?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/torfbolt",
      "html_url": "https://github.com/torfbolt",
      "followers_url": "https://api.github.com/users/torfbolt/followers",
      "following_url": "https://api.github.com/users/torfbolt/following{/other_user}",
      "gists_url": "https://api.github.com/users/torfbolt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/torfbolt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/torfbolt/subscriptions",
      "organizations_url": "https://api.github.com/users/torfbolt/orgs",
      "repos_url": "https://api.github.com/users/torfbolt/repos",
      "events_url": "https://api.github.com/users/torfbolt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/torfbolt/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-12-24T10:07:52Z",
    "updated_at": "2019-12-24T10:07:52Z",
    "author_association": "NONE",
    "body": "Thanks, closing it then.",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/568713852/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
