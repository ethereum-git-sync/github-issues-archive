{
  "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/8483",
  "repository_url": "https://api.github.com/repos/prysmaticlabs/prysm",
  "labels_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/8483/labels{/name}",
  "comments_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/8483/comments",
  "events_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/8483/events",
  "html_url": "https://github.com/prysmaticlabs/prysm/issues/8483",
  "id": 812673561,
  "node_id": "MDU6SXNzdWU4MTI2NzM1NjE=",
  "number": 8483,
  "title": "Resource Usage Spikes (CPU & Memory) to Context Deadline Exceeded causing numerous missed attestations",
  "user": {
    "login": "Novop",
    "id": 13527777,
    "node_id": "MDQ6VXNlcjEzNTI3Nzc3",
    "avatar_url": "https://avatars.githubusercontent.com/u/13527777?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/Novop",
    "html_url": "https://github.com/Novop",
    "followers_url": "https://api.github.com/users/Novop/followers",
    "following_url": "https://api.github.com/users/Novop/following{/other_user}",
    "gists_url": "https://api.github.com/users/Novop/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/Novop/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/Novop/subscriptions",
    "organizations_url": "https://api.github.com/users/Novop/orgs",
    "repos_url": "https://api.github.com/users/Novop/repos",
    "events_url": "https://api.github.com/users/Novop/events{/privacy}",
    "received_events_url": "https://api.github.com/users/Novop/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 22,
  "created_at": "2021-02-20T18:00:25Z",
  "updated_at": "2021-10-08T17:16:18Z",
  "closed_at": "2021-10-08T17:16:18Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "Did not have any of these issues in Genesis plus a month after.\r\n\r\nNow I am getting them **every around 2 hours**, causing several missed attestations.\r\n\r\n_I have some worrying stats in regards to the Beacon memory and cpu usage.  (graphs at bottom)_\r\n\r\nSometimes i will only get an error in the validator log.  \r\nOthertimes, I will get an error in both the validator and the beacon  chain log, as below: \r\n\r\n## üî• Error\r\n\r\nBeacon Chain Log\r\n<pre><code>\r\nFeb 20 17:26:36 ethstaker bash[739]: time=\"2021-02-20 17:26:36\" level=warning msg=\"Could not update head\" error=\"context deadline exceeded\" prefix=blockchain\r\n</code></pre>\r\n\r\nValidator Log\r\n<pre><code>\r\nFeb 20 17:25:47 eths validator-v1.2.2[1138]: time=\"2021-02-20 17:25:47\" level=error msg=\"Could not request attestation to sign at slot\" error=\"rpc error: code = DeadlineExceeded desc = context deadline exceeded\" prefix=validator pubKey=0xa36.. slot=584826\r\nFeb 20 17:25:59 eths validator-v1.2.2[1138]: time=\"2021-02-20 17:25:59\" level=error msg=\"Could not request attestation to sign at slot\" error=\"rpc error: code = DeadlineExceeded desc = context deadline exceeded\" prefix=validator pubKey=0x814.. slot=584827\r\nFeb 20 17:26:11 eths validator-v1.2.2[1138]: time=\"2021-02-20 17:26:11\" level=error msg=\"Could not submit slot signature to beacon node\" error=\"rpc error: code = DeadlineExceeded desc = context deadline exceeded\" prefix=validator slot=584828\r\nFeb 20 17:26:11 eths validator-v1.2.2[1138]: time=\"2021-02-20 17:26:11\" level=error msg=\"Could not request attestation to sign at slot\" error=\"rpc error: code = DeadlineExceeded desc = context deadline exceeded\" prefix=validator pubKey=0x98b..slot=584828\r\n</code></pre>\r\n\r\n\r\n## üåç  Your Environment\r\n\r\n**Operating System:**\r\n\r\nDigitalOcean VPS\r\nUbuntu \r\n2 Cores ( Intel(R) Xeon(R) Gold 6140 CPU @ 2.30GHz ( Cache Size 4MB) )\r\n16GB Ram\r\n300GB SSD**\r\n\r\nInfura endpoint (no geth)\r\n\r\nWhat is running:\r\n1) Validator\r\n2) Beacon\r\n3) Prometheus\r\n4) Node Exporter\r\n5) Loki\r\n6) Grafana\r\n7) Json_exporter\r\n\r\n**What version of Prysm are you running? (Which release)**\r\n1.2.2\r\n\r\n \r\n**Anything else relevant (validator index / public key)?**\r\n\r\nBeacon File\r\n<pre><code>\r\n# The eth2 beacon chain service (part of systemd)\r\n# file: /etc/systemd/system/beacon-chain.service\r\n[Unit]\r\nDescription=Beacon Node ETH2 Prysm Client\r\nAfter=network-online.target\r\n\r\n[Service]\r\nUser=beacon\r\nGroup=beacon\r\nType=simple\r\nRestart=always\r\nRestartSec=5\r\nExecStart=/bin/bash -c '/usr/local/bin/beacon-chain-v1.2.2 --config-file /var/lib/prysm/beacon/prysm-beacon.yaml'\r\n\r\n[Install]\r\nWantedBy=multi-user.target\r\nAlias=beacon\r\n</code></pre>\r\n\r\n\r\nValidator File\r\n<pre><code>\r\n[Unit]\r\nDescription=Validator ETH2 Client\r\nAfter=network-online.target\r\n\r\n[Service]\r\nUser=validator\r\nGroup=validator\r\nType=simple\r\nRestart=always\r\nRestartSec=5\r\nTimeoutSec=infinity\r\nExecStartPre=/bin/sleep 780\r\nExecStart=/usr/local/bin/validator-v1.2.2 --config-file /var/lib/prysm/validator/prysm-validator.yaml\r\n\r\n[Install]\r\nWantedBy=multi-user.target\r\n</code></pre>\r\n\r\n\r\n\r\nGraphs:\r\nMemory Usage \r\nNote: the 2 sudden drops, are:\r\n20/2 After updating to version 1.2.2 i did a restart, hence the drop\r\n21/2 I have been getting too many missed attestations, so rebooted the system\r\n<img width=\"1751\" alt=\"image\" src=\"https://user-images.githubusercontent.com/13527777/108623473-f6f9d400-7447-11eb-8352-a2a13af3ef14.png\">\r\n\r\nCPU Usage\r\n<img width=\"1409\" alt=\"image\" src=\"https://user-images.githubusercontent.com/13527777/108623640-aa62c880-7448-11eb-8735-7343808b54d7.png\">\r\n\r\n",
  "closed_by": {
    "login": "rauljordan",
    "id": 5572669,
    "node_id": "MDQ6VXNlcjU1NzI2Njk=",
    "avatar_url": "https://avatars.githubusercontent.com/u/5572669?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/rauljordan",
    "html_url": "https://github.com/rauljordan",
    "followers_url": "https://api.github.com/users/rauljordan/followers",
    "following_url": "https://api.github.com/users/rauljordan/following{/other_user}",
    "gists_url": "https://api.github.com/users/rauljordan/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/rauljordan/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/rauljordan/subscriptions",
    "organizations_url": "https://api.github.com/users/rauljordan/orgs",
    "repos_url": "https://api.github.com/users/rauljordan/repos",
    "events_url": "https://api.github.com/users/rauljordan/events{/privacy}",
    "received_events_url": "https://api.github.com/users/rauljordan/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/8483/reactions",
    "total_count": 4,
    "+1": 4,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/8483/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/783267485",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/8483#issuecomment-783267485",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/8483",
    "id": 783267485,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc4MzI2NzQ4NQ==",
    "user": {
      "login": "Novop",
      "id": 13527777,
      "node_id": "MDQ6VXNlcjEzNTI3Nzc3",
      "avatar_url": "https://avatars.githubusercontent.com/u/13527777?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Novop",
      "html_url": "https://github.com/Novop",
      "followers_url": "https://api.github.com/users/Novop/followers",
      "following_url": "https://api.github.com/users/Novop/following{/other_user}",
      "gists_url": "https://api.github.com/users/Novop/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Novop/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Novop/subscriptions",
      "organizations_url": "https://api.github.com/users/Novop/orgs",
      "repos_url": "https://api.github.com/users/Novop/repos",
      "events_url": "https://api.github.com/users/Novop/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Novop/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-02-22T10:23:59Z",
    "updated_at": "2021-02-22T10:23:59Z",
    "author_association": "NONE",
    "body": "As of today, the issues continue. I have noticed the spikes in CPU usage taking place, and then the beacon being rendered unusable causing several missed attestations. \r\n\r\nI am still unsure whether during this time, the beaconchain is being restarted or not.. In the beacon logs, I only get the 'could not update head' error log, as i indicated above.   (no log of 'exit')\r\n\r\nHowever, Grafana sends me an email stating that the process has been restarted, while in addition, every beacon related stats seems to go offline.  for example its cpu & memory allocation, as well as every other stat i can extract from node exporter.\r\n\r\nHere;s the spikes I have noticed today.  For a few hours after the reboot, it was running fine.  Then just chaos.  Spikes and missed attestations every 1-2 hours.\r\n\r\n**CPU Usage (last 24hrs)**\r\n<img width=\"1777\" alt=\"image\" src=\"https://user-images.githubusercontent.com/13527777/108693737-dc3a6480-7506-11eb-9ee1-cca22221a7c2.png\">\r\n\r\nCPU Usage (last 6 hours)\r\n<img width=\"1777\" alt=\"image\" src=\"https://user-images.githubusercontent.com/13527777/108693906-1277e400-7507-11eb-9644-3c3d84d6871c.png\">\r\n\r\n**Memory Usage (last 24 hours)**\r\n<img width=\"1730\" alt=\"image\" src=\"https://user-images.githubusercontent.com/13527777/108694126-52d76200-7507-11eb-807a-6e0dd5e022c3.png\">\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/783267485/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/786835206",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/8483#issuecomment-786835206",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/8483",
    "id": 786835206,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc4NjgzNTIwNg==",
    "user": {
      "login": "ahylick",
      "id": 76751004,
      "node_id": "MDQ6VXNlcjc2NzUxMDA0",
      "avatar_url": "https://avatars.githubusercontent.com/u/76751004?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ahylick",
      "html_url": "https://github.com/ahylick",
      "followers_url": "https://api.github.com/users/ahylick/followers",
      "following_url": "https://api.github.com/users/ahylick/following{/other_user}",
      "gists_url": "https://api.github.com/users/ahylick/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ahylick/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ahylick/subscriptions",
      "organizations_url": "https://api.github.com/users/ahylick/orgs",
      "repos_url": "https://api.github.com/users/ahylick/repos",
      "events_url": "https://api.github.com/users/ahylick/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ahylick/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-02-26T19:01:05Z",
    "updated_at": "2021-02-26T19:01:05Z",
    "author_association": "CONTRIBUTOR",
    "body": "I too am experiencing these spikes in CPU and mem as well as the missed attestations. I was not seeing these issues on v1.0.5 or 1.1.0, but from 1.2.0 onwards, I started experiencing these issues. My work around is to simply restart my services when I see the spiking start to happen.\r\n\r\nI am currently running v1.3.0.",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/786835206/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/786838013",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/8483#issuecomment-786838013",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/8483",
    "id": 786838013,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc4NjgzODAxMw==",
    "user": {
      "login": "Novop",
      "id": 13527777,
      "node_id": "MDQ6VXNlcjEzNTI3Nzc3",
      "avatar_url": "https://avatars.githubusercontent.com/u/13527777?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Novop",
      "html_url": "https://github.com/Novop",
      "followers_url": "https://api.github.com/users/Novop/followers",
      "following_url": "https://api.github.com/users/Novop/following{/other_user}",
      "gists_url": "https://api.github.com/users/Novop/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Novop/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Novop/subscriptions",
      "organizations_url": "https://api.github.com/users/Novop/orgs",
      "repos_url": "https://api.github.com/users/Novop/repos",
      "events_url": "https://api.github.com/users/Novop/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Novop/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-02-26T19:06:54Z",
    "updated_at": "2021-02-26T19:06:54Z",
    "author_association": "NONE",
    "body": "Hello ahylick, \r\n\r\nWe have identified the issue to be lack of CPU power.  I was only running 2 cores, and since I have more than 1 validator, at times my machine would have a hard time keeping up.  This was not an issue while the network was small with a few thousand nodes in the network.  Nowadays however the network has grown, and CPU needs to have enough processing power to keep up.  I would suggest that you double check your CPU specs.",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/786838013/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/786856254",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/8483#issuecomment-786856254",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/8483",
    "id": 786856254,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc4Njg1NjI1NA==",
    "user": {
      "login": "ahylick",
      "id": 76751004,
      "node_id": "MDQ6VXNlcjc2NzUxMDA0",
      "avatar_url": "https://avatars.githubusercontent.com/u/76751004?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ahylick",
      "html_url": "https://github.com/ahylick",
      "followers_url": "https://api.github.com/users/ahylick/followers",
      "following_url": "https://api.github.com/users/ahylick/following{/other_user}",
      "gists_url": "https://api.github.com/users/ahylick/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ahylick/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ahylick/subscriptions",
      "organizations_url": "https://api.github.com/users/ahylick/orgs",
      "repos_url": "https://api.github.com/users/ahylick/repos",
      "events_url": "https://api.github.com/users/ahylick/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ahylick/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-02-26T19:44:08Z",
    "updated_at": "2021-02-26T19:44:08Z",
    "author_association": "CONTRIBUTOR",
    "body": "Ack. thanks Novop!",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/786856254/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/787537644",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/8483#issuecomment-787537644",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/8483",
    "id": 787537644,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc4NzUzNzY0NA==",
    "user": {
      "login": "KevinVitale",
      "id": 276137,
      "node_id": "MDQ6VXNlcjI3NjEzNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/276137?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/KevinVitale",
      "html_url": "https://github.com/KevinVitale",
      "followers_url": "https://api.github.com/users/KevinVitale/followers",
      "following_url": "https://api.github.com/users/KevinVitale/following{/other_user}",
      "gists_url": "https://api.github.com/users/KevinVitale/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/KevinVitale/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/KevinVitale/subscriptions",
      "organizations_url": "https://api.github.com/users/KevinVitale/orgs",
      "repos_url": "https://api.github.com/users/KevinVitale/repos",
      "events_url": "https://api.github.com/users/KevinVitale/events{/privacy}",
      "received_events_url": "https://api.github.com/users/KevinVitale/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-02-28T22:40:21Z",
    "updated_at": "2021-03-01T03:44:10Z",
    "author_association": "NONE",
    "body": "> Hello ahylick,\r\n> \r\n> We have identified the issue to be lack of CPU power. I was only running 2 cores, and since I have more than 1 validator, at times my machine would have a hard time keeping up. This was not an issue while the network was small with a few thousand nodes in the network. Nowadays however the network has grown, and CPU needs to have enough processing power to keep up. **I would suggest that you double check your CPU specs.**\r\n\r\nFWIW: I received 2 of these `\"Could not retrieve pre state [...] context deadline exceeded\"` errors within 10 to 25 minutes following a beacon DB backup invocation. I'm aware that's there's an issue with high memory usage when performing a backup; however, you can see that there's a few massive CPU spikes, as well. \r\n\r\nThe CPU is an AMD EPYC 24c/48t, which should be more than enough. Red line is CPU usage.\r\n\r\n<img width=\"524\" alt=\"Screen Shot 2021-02-28 at 5 35 27 PM\" src=\"https://user-images.githubusercontent.com/276137/109436030-80cb1380-79eb-11eb-96f3-1ad906915d9b.png\">\r\n\r\n<hr/>\r\n\r\n_UPDATE: for debugging purposes, I'm sharing that following the beacon DB backup, I continue to see this error coinciding with high CPU spikes despite my system having 24c/48t to work with._\r\n\r\n<img width=\"425\" alt=\"Screen Shot 2021-02-28 at 10 28 49 PM\" src=\"https://user-images.githubusercontent.com/276137/109448848-fb5c5900-7a14-11eb-9241-2f213d503dcb.png\">\r\n\r\n#### Timeline\r\n\r\n- _**17:04**: performed a beacon DB backup webhook_ ‚Äì +13.4 GB mem increase\r\n- _**17:11**: `level=error msg=\"Could not to retrieve pre state\" [...] context deadline exceeded\" `_ ‚Äì CPU spike\r\n- _**17:18**: `level=error msg=\"Could not to retrieve pre state\" [...] context deadline exceeded\" `_ ‚Äì CPU spike\r\n- _**17:24**: `level=error msg=\"Could not to retrieve pre state\" [...] context deadline exceeded\" `_ ‚Äì CPU spike\r\n- _**19:18**: `level=error msg=\"Could not to retrieve pre state\" [...] context deadline exceeded\" `_ ‚Äì CPU spike\r\n- _**22:21**: `level=error msg=\"Could not to retrieve pre state\" [...] context deadline exceeded\" `_ ‚Äì CPU spike",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/787537644/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/788149157",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/8483#issuecomment-788149157",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/8483",
    "id": 788149157,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc4ODE0OTE1Nw==",
    "user": {
      "login": "prestonvanloon",
      "id": 7246818,
      "node_id": "MDQ6VXNlcjcyNDY4MTg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7246818?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/prestonvanloon",
      "html_url": "https://github.com/prestonvanloon",
      "followers_url": "https://api.github.com/users/prestonvanloon/followers",
      "following_url": "https://api.github.com/users/prestonvanloon/following{/other_user}",
      "gists_url": "https://api.github.com/users/prestonvanloon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/prestonvanloon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/prestonvanloon/subscriptions",
      "organizations_url": "https://api.github.com/users/prestonvanloon/orgs",
      "repos_url": "https://api.github.com/users/prestonvanloon/repos",
      "events_url": "https://api.github.com/users/prestonvanloon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/prestonvanloon/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-03-01T17:58:54Z",
    "updated_at": "2021-03-01T17:58:54Z",
    "author_association": "MEMBER",
    "body": "Backup related spikes are tracked here #8486",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/788149157/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/790321265",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/8483#issuecomment-790321265",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/8483",
    "id": 790321265,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc5MDMyMTI2NQ==",
    "user": {
      "login": "skillful-alex",
      "id": 46927280,
      "node_id": "MDQ6VXNlcjQ2OTI3Mjgw",
      "avatar_url": "https://avatars.githubusercontent.com/u/46927280?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/skillful-alex",
      "html_url": "https://github.com/skillful-alex",
      "followers_url": "https://api.github.com/users/skillful-alex/followers",
      "following_url": "https://api.github.com/users/skillful-alex/following{/other_user}",
      "gists_url": "https://api.github.com/users/skillful-alex/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/skillful-alex/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/skillful-alex/subscriptions",
      "organizations_url": "https://api.github.com/users/skillful-alex/orgs",
      "repos_url": "https://api.github.com/users/skillful-alex/repos",
      "events_url": "https://api.github.com/users/skillful-alex/events{/privacy}",
      "received_events_url": "https://api.github.com/users/skillful-alex/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-03-04T06:05:02Z",
    "updated_at": "2021-03-04T06:21:56Z",
    "author_association": "CONTRIBUTOR",
    "body": "Error \"Could not request attestation to sign at slot\" reproduced in version 1.3.2.\r\nIn this moment:\r\n* the CPU is 100% (4 vCPUs google cloud)\r\n* prometheus scrape duration 2.804 seconds (usually 100ms)\r\n* small (~500Mb) spike in memory consumption",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/790321265/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/800059463",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/8483#issuecomment-800059463",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/8483",
    "id": 800059463,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgwMDA1OTQ2Mw==",
    "user": {
      "login": "amirderakh",
      "id": 35697536,
      "node_id": "MDQ6VXNlcjM1Njk3NTM2",
      "avatar_url": "https://avatars.githubusercontent.com/u/35697536?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/amirderakh",
      "html_url": "https://github.com/amirderakh",
      "followers_url": "https://api.github.com/users/amirderakh/followers",
      "following_url": "https://api.github.com/users/amirderakh/following{/other_user}",
      "gists_url": "https://api.github.com/users/amirderakh/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/amirderakh/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/amirderakh/subscriptions",
      "organizations_url": "https://api.github.com/users/amirderakh/orgs",
      "repos_url": "https://api.github.com/users/amirderakh/repos",
      "events_url": "https://api.github.com/users/amirderakh/events{/privacy}",
      "received_events_url": "https://api.github.com/users/amirderakh/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-03-16T08:26:58Z",
    "updated_at": "2021-03-16T08:29:07Z",
    "author_association": "NONE",
    "body": "Can confirm similar issue. After about a week the beacon-chain.exe uses all my resources (CPU/RAM).\r\nThis results in failed attestations. Restarting the client only helps for a few hours, if at all. Memory leak?\r\nA complete reboot of the machine is necessary. This happened 3 times already.\r\n\r\nUsing Prysm 1.3.3. (Same issue in 1.2.x)\r\nWindows Server 2016\r\nInfura endpoint (no geth)\r\n\r\nMost of the servers filesystem is compressed (relevant?)",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/800059463/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/800063999",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/8483#issuecomment-800063999",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/8483",
    "id": 800063999,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgwMDA2Mzk5OQ==",
    "user": {
      "login": "nisdas",
      "id": 33201827,
      "node_id": "MDQ6VXNlcjMzMjAxODI3",
      "avatar_url": "https://avatars.githubusercontent.com/u/33201827?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nisdas",
      "html_url": "https://github.com/nisdas",
      "followers_url": "https://api.github.com/users/nisdas/followers",
      "following_url": "https://api.github.com/users/nisdas/following{/other_user}",
      "gists_url": "https://api.github.com/users/nisdas/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nisdas/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nisdas/subscriptions",
      "organizations_url": "https://api.github.com/users/nisdas/orgs",
      "repos_url": "https://api.github.com/users/nisdas/repos",
      "events_url": "https://api.github.com/users/nisdas/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nisdas/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-03-16T08:33:54Z",
    "updated_at": "2021-03-16T08:33:54Z",
    "author_association": "MEMBER",
    "body": "@amirderakh that shouldn't be happening at all. Any chance you are performing regular beacon live db backups ?\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/800063999/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/800064382",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/8483#issuecomment-800064382",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/8483",
    "id": 800064382,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgwMDA2NDM4Mg==",
    "user": {
      "login": "nisdas",
      "id": 33201827,
      "node_id": "MDQ6VXNlcjMzMjAxODI3",
      "avatar_url": "https://avatars.githubusercontent.com/u/33201827?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nisdas",
      "html_url": "https://github.com/nisdas",
      "followers_url": "https://api.github.com/users/nisdas/followers",
      "following_url": "https://api.github.com/users/nisdas/following{/other_user}",
      "gists_url": "https://api.github.com/users/nisdas/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nisdas/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nisdas/subscriptions",
      "organizations_url": "https://api.github.com/users/nisdas/orgs",
      "repos_url": "https://api.github.com/users/nisdas/repos",
      "events_url": "https://api.github.com/users/nisdas/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nisdas/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-03-16T08:34:29Z",
    "updated_at": "2021-03-16T08:34:29Z",
    "author_association": "MEMBER",
    "body": "@skillful-alex During that period, were you performing live db backups ?",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/800064382/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/800071042",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/8483#issuecomment-800071042",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/8483",
    "id": 800071042,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgwMDA3MTA0Mg==",
    "user": {
      "login": "amirderakh",
      "id": 35697536,
      "node_id": "MDQ6VXNlcjM1Njk3NTM2",
      "avatar_url": "https://avatars.githubusercontent.com/u/35697536?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/amirderakh",
      "html_url": "https://github.com/amirderakh",
      "followers_url": "https://api.github.com/users/amirderakh/followers",
      "following_url": "https://api.github.com/users/amirderakh/following{/other_user}",
      "gists_url": "https://api.github.com/users/amirderakh/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/amirderakh/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/amirderakh/subscriptions",
      "organizations_url": "https://api.github.com/users/amirderakh/orgs",
      "repos_url": "https://api.github.com/users/amirderakh/repos",
      "events_url": "https://api.github.com/users/amirderakh/events{/privacy}",
      "received_events_url": "https://api.github.com/users/amirderakh/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-03-16T08:45:37Z",
    "updated_at": "2021-03-16T08:45:37Z",
    "author_association": "NONE",
    "body": "@nisdas No I haven't started a backup and I think they aren't executed automatically. I can give you a log file if I knew the folder where they're stored.",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/800071042/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/800076228",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/8483#issuecomment-800076228",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/8483",
    "id": 800076228,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgwMDA3NjIyOA==",
    "user": {
      "login": "nisdas",
      "id": 33201827,
      "node_id": "MDQ6VXNlcjMzMjAxODI3",
      "avatar_url": "https://avatars.githubusercontent.com/u/33201827?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nisdas",
      "html_url": "https://github.com/nisdas",
      "followers_url": "https://api.github.com/users/nisdas/followers",
      "following_url": "https://api.github.com/users/nisdas/following{/other_user}",
      "gists_url": "https://api.github.com/users/nisdas/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nisdas/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nisdas/subscriptions",
      "organizations_url": "https://api.github.com/users/nisdas/orgs",
      "repos_url": "https://api.github.com/users/nisdas/repos",
      "events_url": "https://api.github.com/users/nisdas/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nisdas/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-03-16T08:54:07Z",
    "updated_at": "2021-03-16T08:54:07Z",
    "author_association": "MEMBER",
    "body": "> Can confirm similar issue. After about a week the beacon-chain.exe uses all my resources (CPU/RAM).\r\nThis results in failed attestations. Restarting the client only helps for a few hours, if at all. Memory leak?\r\nA complete reboot of the machine is necessary. This happened 3 times already.\r\n\r\nThis is pretty bizarre, if restarting the client only helps for a few hours, the issue might be something else. Memory usage should be around 1.3 - 3 gb, depending on the number of validators you run.\r\n\r\nThere isn't any memory leak for windows that I am aware of, if a reboot of your machine 'fixes' it, it might be some OS related issue here.  Any custom settings you are running for Windows Server 2016 ? Or is it a vanilla build. ",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/800076228/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/800081200",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/8483#issuecomment-800081200",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/8483",
    "id": 800081200,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgwMDA4MTIwMA==",
    "user": {
      "login": "amirderakh",
      "id": 35697536,
      "node_id": "MDQ6VXNlcjM1Njk3NTM2",
      "avatar_url": "https://avatars.githubusercontent.com/u/35697536?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/amirderakh",
      "html_url": "https://github.com/amirderakh",
      "followers_url": "https://api.github.com/users/amirderakh/followers",
      "following_url": "https://api.github.com/users/amirderakh/following{/other_user}",
      "gists_url": "https://api.github.com/users/amirderakh/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/amirderakh/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/amirderakh/subscriptions",
      "organizations_url": "https://api.github.com/users/amirderakh/orgs",
      "repos_url": "https://api.github.com/users/amirderakh/repos",
      "events_url": "https://api.github.com/users/amirderakh/events{/privacy}",
      "received_events_url": "https://api.github.com/users/amirderakh/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-03-16T09:01:31Z",
    "updated_at": "2021-03-16T09:01:31Z",
    "author_association": "NONE",
    "body": "Yes I thought the same. It's just that after closing and opening the beacon-chain.exe after such event, it takes easily 5 to 10 minutes till it's ready again and beacon-chain.exe uses all CPU and RAM in that time and afterwards. Then I need to reboot.\r\nSo not sure what to check in the Windows installation, apart from hardened security it has no special features.\r\nI've already decompressed the beaconchain.db but it did nothing. Also made exclusions from virus scanning.",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/800081200/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/800097095",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/8483#issuecomment-800097095",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/8483",
    "id": 800097095,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgwMDA5NzA5NQ==",
    "user": {
      "login": "skillful-alex",
      "id": 46927280,
      "node_id": "MDQ6VXNlcjQ2OTI3Mjgw",
      "avatar_url": "https://avatars.githubusercontent.com/u/46927280?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/skillful-alex",
      "html_url": "https://github.com/skillful-alex",
      "followers_url": "https://api.github.com/users/skillful-alex/followers",
      "following_url": "https://api.github.com/users/skillful-alex/following{/other_user}",
      "gists_url": "https://api.github.com/users/skillful-alex/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/skillful-alex/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/skillful-alex/subscriptions",
      "organizations_url": "https://api.github.com/users/skillful-alex/orgs",
      "repos_url": "https://api.github.com/users/skillful-alex/repos",
      "events_url": "https://api.github.com/users/skillful-alex/events{/privacy}",
      "received_events_url": "https://api.github.com/users/skillful-alex/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-03-16T09:25:39Z",
    "updated_at": "2021-03-16T09:25:39Z",
    "author_association": "CONTRIBUTOR",
    "body": "No, this \"deadline exceeded\" is not related to backups.\r\n\r\nAnd I don't see the leak. The node has been working for almost 2 weeks without a reboot, and missed attestations happen from time to time. \r\n![image](https://user-images.githubusercontent.com/46927280/111283759-844bd500-8650-11eb-83c8-27af36ec5d75.png)\r\nBut if you zoom in at the ‚Äúfailed‚Äù moment, you will see 100% CPU utilization.",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/800097095/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/800102422",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/8483#issuecomment-800102422",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/8483",
    "id": 800102422,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgwMDEwMjQyMg==",
    "user": {
      "login": "nisdas",
      "id": 33201827,
      "node_id": "MDQ6VXNlcjMzMjAxODI3",
      "avatar_url": "https://avatars.githubusercontent.com/u/33201827?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nisdas",
      "html_url": "https://github.com/nisdas",
      "followers_url": "https://api.github.com/users/nisdas/followers",
      "following_url": "https://api.github.com/users/nisdas/following{/other_user}",
      "gists_url": "https://api.github.com/users/nisdas/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nisdas/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nisdas/subscriptions",
      "organizations_url": "https://api.github.com/users/nisdas/orgs",
      "repos_url": "https://api.github.com/users/nisdas/repos",
      "events_url": "https://api.github.com/users/nisdas/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nisdas/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-03-16T09:33:23Z",
    "updated_at": "2021-03-16T09:34:00Z",
    "author_association": "MEMBER",
    "body": "@amirderakh oh that is very wierd indeed. A shut down should at most take 10 seconds, a few minutes might be indicative of something else. \r\n\r\n@skillful-alex By any chance are you running a significant amount of validators ? There might be issues with processing all attestations in a subnet, and you are subscribed to multiple ones.  ",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/800102422/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/800116115",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/8483#issuecomment-800116115",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/8483",
    "id": 800116115,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgwMDExNjExNQ==",
    "user": {
      "login": "nisdas",
      "id": 33201827,
      "node_id": "MDQ6VXNlcjMzMjAxODI3",
      "avatar_url": "https://avatars.githubusercontent.com/u/33201827?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nisdas",
      "html_url": "https://github.com/nisdas",
      "followers_url": "https://api.github.com/users/nisdas/followers",
      "following_url": "https://api.github.com/users/nisdas/following{/other_user}",
      "gists_url": "https://api.github.com/users/nisdas/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nisdas/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nisdas/subscriptions",
      "organizations_url": "https://api.github.com/users/nisdas/orgs",
      "repos_url": "https://api.github.com/users/nisdas/repos",
      "events_url": "https://api.github.com/users/nisdas/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nisdas/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-03-16T09:55:08Z",
    "updated_at": "2021-03-16T09:55:08Z",
    "author_association": "MEMBER",
    "body": "Ah k, in that case the load of supporting all those subnets must be quite abit. 4 cores might not be enough to support more than 30 subnets, which would lead to the spikes that you do see. As the network grows bigger, it becomes a bit more intensive to support all the subnets for a node. You could try to see if adding more cores will help here.  ",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/800116115/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/806504728",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/8483#issuecomment-806504728",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/8483",
    "id": 806504728,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgwNjUwNDcyOA==",
    "user": {
      "login": "amirderakh",
      "id": 35697536,
      "node_id": "MDQ6VXNlcjM1Njk3NTM2",
      "avatar_url": "https://avatars.githubusercontent.com/u/35697536?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/amirderakh",
      "html_url": "https://github.com/amirderakh",
      "followers_url": "https://api.github.com/users/amirderakh/followers",
      "following_url": "https://api.github.com/users/amirderakh/following{/other_user}",
      "gists_url": "https://api.github.com/users/amirderakh/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/amirderakh/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/amirderakh/subscriptions",
      "organizations_url": "https://api.github.com/users/amirderakh/orgs",
      "repos_url": "https://api.github.com/users/amirderakh/repos",
      "events_url": "https://api.github.com/users/amirderakh/events{/privacy}",
      "received_events_url": "https://api.github.com/users/amirderakh/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-03-25T09:38:08Z",
    "updated_at": "2021-03-26T08:39:23Z",
    "author_association": "NONE",
    "body": "@nisdas You're right it seems my issue is different from this thread. However, I saw someone on Reddit with the same issue. My setup is not too unique, I'm sure there are more people encountering this.\r\n\r\nToday I'm bringing log files. Generally: At one point the beacon-chain.exe is using more and more CPU till the system becomes unusable. I saw it writing huge amounts of data in that situation. In the screenshot it wrote 2GB in 3 hours. Then attestations fail. Restarting the process only helps for a few hours. Only restarting the whole machine lets Prysm run stable again (for some days). I disabled file compression and virus check.\r\n\r\n![b](https://user-images.githubusercontent.com/35697536/112451142-e28b5d00-8da0-11eb-99de-250f9341ff1e.PNG)\r\n\r\n`[2021-03-25 09:07:16] ERROR validator: Could not check if validators are exited error=rpc error: code = Unavailable desc = Syncing to latest head, not ready to respond\r\n[2021-03-25 09:07:19] ERROR validator: rpc error: code = DeadlineExceeded desc = context deadline exceeded\r\n[2021-03-25 09:07:19] ERROR validator: Failed to update assignments error=rpc error: code = DeadlineExceeded desc = context deadline exceeded\r\n[2021-03-25 09:07:41] ERROR validator: Could not check if validators are exited error=rpc error: code = Unavailable desc = Syncing to latest head, not ready to respond`\r\n\r\n`[2021-03-25 08:59:26]  INFO blockchain: Finished applying state transition attestations=77 slot=819807\r\n[2021-03-25 08:59:26]  INFO initial-sync: Processing block 0x4e947bc6... 819808/819895 - estimated time remaining 14m30s blocksPerSecond=0.1 peers=47\r\n[2021-03-25 08:59:51]  INFO p2p: Peer summary activePeers=45 inbound=0 outbound=45\r\n[2021-03-25 09:00:52]  INFO blockchain: Synced new block block=0x4e947bc6... epoch=25619 finalizedEpoch=25617 finalizedRoot=0x31564de0... slot=819808 slotInEpoch=0`\r\n\r\nPrysm 1.3.4 on Windows 2016 on VPS with 4 cores & 16GB memory.",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/806504728/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/809200951",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/8483#issuecomment-809200951",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/8483",
    "id": 809200951,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgwOTIwMDk1MQ==",
    "user": {
      "login": "nisdas",
      "id": 33201827,
      "node_id": "MDQ6VXNlcjMzMjAxODI3",
      "avatar_url": "https://avatars.githubusercontent.com/u/33201827?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nisdas",
      "html_url": "https://github.com/nisdas",
      "followers_url": "https://api.github.com/users/nisdas/followers",
      "following_url": "https://api.github.com/users/nisdas/following{/other_user}",
      "gists_url": "https://api.github.com/users/nisdas/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nisdas/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nisdas/subscriptions",
      "organizations_url": "https://api.github.com/users/nisdas/orgs",
      "repos_url": "https://api.github.com/users/nisdas/repos",
      "events_url": "https://api.github.com/users/nisdas/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nisdas/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-03-29T08:55:50Z",
    "updated_at": "2021-03-29T08:55:50Z",
    "author_association": "MEMBER",
    "body": "The Syncing speed is extremely slow, I am trying to wonder if its an issue with your disk i/o. Usually syncing isn't disk i/o bound but if there is significant contention then there might be issues as you do see. Can you try running with only the beacon node running with only the beacon-chain running without any other applications running. Ex: Sqlserver, JForex, etc. \r\n@amirderakh .",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/809200951/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/829759260",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/8483#issuecomment-829759260",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/8483",
    "id": 829759260,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgyOTc1OTI2MA==",
    "user": {
      "login": "issanyo",
      "id": 8449242,
      "node_id": "MDQ6VXNlcjg0NDkyNDI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8449242?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/issanyo",
      "html_url": "https://github.com/issanyo",
      "followers_url": "https://api.github.com/users/issanyo/followers",
      "following_url": "https://api.github.com/users/issanyo/following{/other_user}",
      "gists_url": "https://api.github.com/users/issanyo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/issanyo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/issanyo/subscriptions",
      "organizations_url": "https://api.github.com/users/issanyo/orgs",
      "repos_url": "https://api.github.com/users/issanyo/repos",
      "events_url": "https://api.github.com/users/issanyo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/issanyo/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-04-30T02:50:49Z",
    "updated_at": "2021-04-30T02:50:49Z",
    "author_association": "NONE",
    "body": "This is happening for me as well with latest version (v1.3.8-hotfix+6c0942), this is an extract of the validator log:\r\n```\r\n223e=\"2021-04-30 03:52:33\" level=error msg=\"Could not submit slot signature to beacon node\" error=\"rpc error: code = DeadlineExceeded desc = context deadline exceeded\" prefix=validator slot=1076959\r\ntime=\"2021-04-30 03:52:33\" level=error msg=\"Could not submit attestation to beacon node\" error=\"rpc error: code = DeadlineExceeded desc = context deadline exceeded\" prefix=validator pubKey=0x847ab144c136 slot=10769594-30 03:52:33\" level=error msg=\"Could not report validator's rewards/penalties\" error=\"rpc error: code = DeadlineExceeded desc = context deadline exceeded\" prefix=validator slot=1076959\r\ntime=\"2021-04-30 03:52:53\" level=info msg=\"Attestation schedule\" attesterDutiesAtSlot=1 prefix=validator pubKeys=[0x847ab144c136] slot=1076968 slotInEpoch=8 totalAttestersInEpoch=1\r\ntime=\"2021-04-30 03:54:03\" level=info msg=\"Submitted new attestations\" AggregatorIndices=[] AttesterIndices=[7693] BeaconBlockRoot=0x3c06c342f38d CommitteeIndex=27 Slot=1076968 SourceEpoch=33654 SourceRoot=0x3e3bfd5bab74 TargetEpoch=33655 TargetRoot=0x604a8245353c prefix=validatorrectlyVotedHead=false correctlyVotedSource=false correctlyVotedTarget=false epoch=33654 inclusionDistance=18446744073709551615 inclusionSlot=18446744073709551615 newBalance=33.417738576 oldBalance=33.41776275 percentChange=\"-0.00007%\" percentChangeSinceStart=\"0.01523%\" prefix=validator pubKey=0x847ab144c136 startBalance=33.412649223e=\"2021-04-30 04:01:37\" level=error msg=\"Could not request attestation to sign at slot\" error=\"rpc error: code = DeadlineExceeded desc = context deadline exceeded\" prefix=validator pubKey=0x847ab144c136 slot=107699830 04:05:06\" level=info msg=\"Previous epoch voting summary\" correctlyVotedHead=true correctlyVotedSource=true correctlyVotedTarget=true epoch=33655 inclusionDistance=1 inclusionSlot=1076969 newBalance=33.417769683 oldBalance=33.417738576 percentChange=\"0.00009%\" percentChangeSinceStart=\"0.01532%\" prefix=validator pubKey=0x847ab144c136 startBalance=33.4126492230%\" correctlyVotedTargetPct=\"100%\" epoch=33655 prefix=validatorl=info msg=\"Vote summary since launch\" attestationsInclusionPct=\"100%\" averageInclusionDistance=\"1.01 slots\" correctlyVotedHeadPct=\"98%\" correctlyVotedSourcePct=\"100%\" correctlyVotedTargetPct=\"100%\" numberOfEpochs=182 pctChangeCombinedBalance=\"0.01523%\" prefix=validatorlidator pubKeys=[0x847ab144c136] slot=1077045 slotInEpoch=21 totalAttestersInEpoch=1\r\ntime=\"2021-04-30 04:09:36\" level=error msg=\"Could not request attestation to sign at slot\" error=\"rpc error: code = DeadlineExceeded desc = context deadline exceeded\" prefix=validator pubKey=0x847ab144c136 slot=107704530 04:11:35\" level=error msg=\"Could not report validator's rewards/penalties\" error=\"rpc error: code = DeadlineExceeded desc = context deadline exceeded\" prefix=validator slot=1077055\r\ntime=\"2021-04-30 04:18:11\" level=error msg=\"rpc error: code = DeadlineExceeded desc = context deadline exceeded\" prefix=validator\r\ntime=\"2021-04-30 04:18:11\" level=error msg=\"Failed to update assignments\" error=\"rpc error: code = DeadlineExceeded desc = context deadline exceeded\" prefix=validator\r\ntime=\"2021-04-30 04:18:15\" level=error msg=\"rpc error: code = DeadlineExceeded desc = context deadline exceeded\" prefix=validator\r\ntime=\"2021-04-30 04:18:15\" level=error msg=\"Failed to update assignments\" error=\"rpc error: code = DeadlineExceeded desc = context deadline exceeded\" prefix=validator\r\ntime=\"2021-04-30 04:18:15\" level=error msg=\"rpc error: code = DeadlineExceeded desc = context deadline exceeded\" prefix=validator\r\ntime=\"2021-04-30 04:18:15\" level=error msg=\"Failed to update assignments\" error=\"rpc error: code = DeadlineExceeded desc = context deadline exceeded\" prefix=validator\r\ntime=\"2021-04-30 04:18:15\" level=error msg=\"rpc error: code = DeadlineExceeded desc = context deadline exceeded\" prefix=validator\r\ntime=\"2021-04-30 04:18:15\" level=error msg=\"Failed to update assignments\" error=\"rpc error: code = DeadlineExceeded desc = context deadline exceeded\" prefix=validator\r\n...\r\n```\r\nThe beacon node is on the same machine, I do have a plenty of cpu and ram but I noticed some unsual cpu activity on the validaotr when this started happening:\r\n\r\n![image](https://user-images.githubusercontent.com/8449242/116642513-61128600-a96f-11eb-9c0d-8529e0a97c30.png)\r\n\r\nafter a restart this returned to validate correctly, but it went down for that period of time.",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/829759260/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 1
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/830160265",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/8483#issuecomment-830160265",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/8483",
    "id": 830160265,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgzMDE2MDI2NQ==",
    "user": {
      "login": "julian-st",
      "id": 31321934,
      "node_id": "MDQ6VXNlcjMxMzIxOTM0",
      "avatar_url": "https://avatars.githubusercontent.com/u/31321934?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/julian-st",
      "html_url": "https://github.com/julian-st",
      "followers_url": "https://api.github.com/users/julian-st/followers",
      "following_url": "https://api.github.com/users/julian-st/following{/other_user}",
      "gists_url": "https://api.github.com/users/julian-st/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/julian-st/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/julian-st/subscriptions",
      "organizations_url": "https://api.github.com/users/julian-st/orgs",
      "repos_url": "https://api.github.com/users/julian-st/repos",
      "events_url": "https://api.github.com/users/julian-st/events{/privacy}",
      "received_events_url": "https://api.github.com/users/julian-st/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-04-30T15:07:00Z",
    "updated_at": "2021-04-30T15:07:00Z",
    "author_association": "NONE",
    "body": "I think I have a similar error, maybe once a day since upgrading to 1.3.8 I am now on the hotfix. The log for the beacon-node looks like this \r\n\r\n> time=\"2021-04-30 15:32:16\" level=info msg=\"Peer summary\" activePeers=81 inbound=66 outbound=15 prefix=p2p\r\n> Apr 30 15:32:33 julian prysm.sh[2057]: time=\"2021-04-30 15:32:33\" level=warning msg=\"Could not update head\" error=\"context deadline exceeded\" prefix=blockchain\r\n> Apr 30 15:32:33 julian prysm.sh[2057]: time=\"2021-04-30 15:32:33\" level=info msg=\"Synced new block\" block=0x977e8b33... epoch=33764 finalizedEpoch=33762 finalizedRoot=0x7067606d... prefix=blockchain\r\n\r\nThe validator log looks like this\r\n\r\n> Apr 30 15:31:32 julian prysm.sh[2058]: time=\"2021-04-30 15:31:32\" level=warning msg=\"Noo attestations to aggregate\" error=\"rpc error: code = NotFound desc = Could not find attestation for slot and committee in po\r\n> Apr 30 15:31:35 julian prysm.sh[2058]: time=\"2021-04-30 15:31:35\" level=error msg=\"Could not submit attestation to beacon node\" error=\"rpc error: code = DeadlineExceeded desc = context deadline exceeded\" prefix=>\r\n> Apr 30 15:32:39 julian prysm.sh[2058]: time=\"2021-04-30 15:32:39\" level=info msg=\"Submitted new attestations\" AggregatorIndices=[] AttesterI>\r\n\r\nAfterwards I have the process mount.exfat that consumes 100 % cpu and basically just hogs one cpu. Maybe this is a problem with my SSD. I have it formatted with fat, but it ran without problems before 1.3.8",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/830160265/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/876574493",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/8483#issuecomment-876574493",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/8483",
    "id": 876574493,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg3NjU3NDQ5Mw==",
    "user": {
      "login": "rauljordan",
      "id": 5572669,
      "node_id": "MDQ6VXNlcjU1NzI2Njk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5572669?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rauljordan",
      "html_url": "https://github.com/rauljordan",
      "followers_url": "https://api.github.com/users/rauljordan/followers",
      "following_url": "https://api.github.com/users/rauljordan/following{/other_user}",
      "gists_url": "https://api.github.com/users/rauljordan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rauljordan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rauljordan/subscriptions",
      "organizations_url": "https://api.github.com/users/rauljordan/orgs",
      "repos_url": "https://api.github.com/users/rauljordan/repos",
      "events_url": "https://api.github.com/users/rauljordan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rauljordan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-08T16:22:08Z",
    "updated_at": "2021-07-08T16:22:08Z",
    "author_association": "CONTRIBUTOR",
    "body": "What's the status on this one @nisdas ?",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/876574493/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/911866810",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/8483#issuecomment-911866810",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/8483",
    "id": 911866810,
    "node_id": "IC_kwDOBvuov842Wfu6",
    "user": {
      "login": "sezu",
      "id": 5726963,
      "node_id": "MDQ6VXNlcjU3MjY5NjM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5726963?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sezu",
      "html_url": "https://github.com/sezu",
      "followers_url": "https://api.github.com/users/sezu/followers",
      "following_url": "https://api.github.com/users/sezu/following{/other_user}",
      "gists_url": "https://api.github.com/users/sezu/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sezu/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sezu/subscriptions",
      "organizations_url": "https://api.github.com/users/sezu/orgs",
      "repos_url": "https://api.github.com/users/sezu/repos",
      "events_url": "https://api.github.com/users/sezu/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sezu/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-09-02T16:38:14Z",
    "updated_at": "2021-09-02T16:38:14Z",
    "author_association": "NONE",
    "body": "> What's the status on this one @nisdas ?\r\nI too was plagued with Context Deadline Exceeded issues, but they've entirely disappeared in the current version (v1.4.4). Good job! üéä . I haven't had time to pin point exactly what version fixed them, but feel huge relief knowing I won't miss anymore block proposals :)",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/911866810/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 1,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
