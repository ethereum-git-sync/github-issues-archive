{
  "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/6834",
  "repository_url": "https://api.github.com/repos/prysmaticlabs/prysm",
  "labels_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/6834/labels{/name}",
  "comments_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/6834/comments",
  "events_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/6834/events",
  "html_url": "https://github.com/prysmaticlabs/prysm/issues/6834",
  "id": 671667834,
  "node_id": "MDU6SXNzdWU2NzE2Njc4MzQ=",
  "number": 6834,
  "title": "Failed to update assignments error=no signing key found in keys cache",
  "user": {
    "login": "timjp87",
    "id": 3089763,
    "node_id": "MDQ6VXNlcjMwODk3NjM=",
    "avatar_url": "https://avatars.githubusercontent.com/u/3089763?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/timjp87",
    "html_url": "https://github.com/timjp87",
    "followers_url": "https://api.github.com/users/timjp87/followers",
    "following_url": "https://api.github.com/users/timjp87/following{/other_user}",
    "gists_url": "https://api.github.com/users/timjp87/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/timjp87/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/timjp87/subscriptions",
    "organizations_url": "https://api.github.com/users/timjp87/orgs",
    "repos_url": "https://api.github.com/users/timjp87/repos",
    "events_url": "https://api.github.com/users/timjp87/events{/privacy}",
    "received_events_url": "https://api.github.com/users/timjp87/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 802129904,
      "node_id": "MDU6TGFiZWw4MDIxMjk5MDQ=",
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/labels/Bug",
      "name": "Bug",
      "color": "ee0701",
      "default": false,
      "description": "Something isn't working"
    },
    {
      "id": 1085358164,
      "node_id": "MDU6TGFiZWwxMDg1MzU4MTY0",
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/labels/Priority:%20Critical",
      "name": "Priority: Critical",
      "color": "f7262f",
      "default": false,
      "description": "Highest, immediate priority item"
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": {
    "login": "rauljordan",
    "id": 5572669,
    "node_id": "MDQ6VXNlcjU1NzI2Njk=",
    "avatar_url": "https://avatars.githubusercontent.com/u/5572669?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/rauljordan",
    "html_url": "https://github.com/rauljordan",
    "followers_url": "https://api.github.com/users/rauljordan/followers",
    "following_url": "https://api.github.com/users/rauljordan/following{/other_user}",
    "gists_url": "https://api.github.com/users/rauljordan/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/rauljordan/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/rauljordan/subscriptions",
    "organizations_url": "https://api.github.com/users/rauljordan/orgs",
    "repos_url": "https://api.github.com/users/rauljordan/repos",
    "events_url": "https://api.github.com/users/rauljordan/events{/privacy}",
    "received_events_url": "https://api.github.com/users/rauljordan/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "rauljordan",
      "id": 5572669,
      "node_id": "MDQ6VXNlcjU1NzI2Njk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5572669?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rauljordan",
      "html_url": "https://github.com/rauljordan",
      "followers_url": "https://api.github.com/users/rauljordan/followers",
      "following_url": "https://api.github.com/users/rauljordan/following{/other_user}",
      "gists_url": "https://api.github.com/users/rauljordan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rauljordan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rauljordan/subscriptions",
      "organizations_url": "https://api.github.com/users/rauljordan/orgs",
      "repos_url": "https://api.github.com/users/rauljordan/repos",
      "events_url": "https://api.github.com/users/rauljordan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rauljordan/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 1,
  "created_at": "2020-08-02T18:40:51Z",
  "updated_at": "2020-08-04T06:12:16Z",
  "closed_at": "2020-08-02T20:02:05Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "# üêû Bug Report\r\n\r\n### Description\r\n\r\nWhen I start the validator it crashes during the attestation schedule check.\r\n\r\n### Has this worked before in a previous version?\r\n\r\nThis problem happened after the genesis event. I took down my beacon node to add the 3 additional prysm bootstrap-nodes because the node was not connecting to anyone. I attached to my validator tmux session and saw the crash. I restarted the validator and it crashes again.\r\n\r\nI imported the keystore from eth2.0-deposit-cli with 20 or so validators from launchpad with the import function. When I ran the validator after this for the first time it crashed during the unlocking, because my node ran out of ram. Maybe this lead to some corruption?\r\n\r\n## üî¨ Minimal Reproduction\r\n\r\nNot sure this can be easily reporduced to be honest.\r\n\r\n## üî• Error\r\n\r\nalarm@atlas01 ~ % ./validator-v1.0.0-alpha.17-linux-arm64 --graffiti <myGraffiti>\r\n[2020-08-02 18:31:28]  INFO accounts-v2: (wallet path) /home/alarm/.eth2validators/prysm-wallet-v2\r\n[2020-08-02 18:31:28]  INFO accounts-v2: (wallet directory) /home/alarm/.eth2validators/prysm-wallet-v2\r\n[2020-08-02 18:31:28]  INFO accounts-v2: (account passwords path) /home/alarm/.eth2validators/prysm-wallet-v2-passwords\r\n[2020-08-02 18:31:28]  INFO accounts-v2: Successfully opened wallet\r\n[2020-08-02 18:31:28]  INFO direct-keymanager-v2: Decrypting validator accounts...\r\n 100% [===============================================================================================================================================================================]  [33s:0s][2020-08-02 18:32:02]  INFO node: Validating for public key pubKey=0x8937728af6ff\r\n[2020-08-02 18:32:02]  INFO node: Validating for public key pubKey=0xb1af9228e3cc\r\n[2020-08-02 18:32:02]  INFO node: Validating for public key pubKey=0xa3e7745dc8bd\r\n[2020-08-02 18:32:02]  INFO node: Validating for public key pubKey=0xa789318c55b2\r\n[2020-08-02 18:32:02]  INFO node: Validating for public key pubKey=0x8eb18058e6fe\r\n[2020-08-02 18:32:02]  INFO node: Validating for public key pubKey=0xaaf7cedc6a6f\r\n[2020-08-02 18:32:02]  INFO node: Validating for public key pubKey=0xad3088473e2f\r\n[2020-08-02 18:32:02]  INFO node: Validating for public key pubKey=0xaff0ec811845\r\n[2020-08-02 18:32:02]  INFO node: Validating for public key pubKey=0x97b4348add54\r\n[2020-08-02 18:32:02]  INFO node: Validating for public key pubKey=0x8dfb754cad07\r\n[2020-08-02 18:32:02]  INFO node: Validating for public key pubKey=0x8532fe648507\r\n[2020-08-02 18:32:02]  INFO node: Validating for public key pubKey=0xad92da8348c9\r\n[2020-08-02 18:32:02]  INFO node: Validating for public key pubKey=0x95d369943c31\r\n[2020-08-02 18:32:02]  INFO node: Validating for public key pubKey=0x924cf2d0118d\r\n[2020-08-02 18:32:02]  INFO node: Validating for public key pubKey=0xa3bcd4c454d2\r\n[2020-08-02 18:32:02]  INFO node: Validating for public key pubKey=0xb6ee16f1d095\r\n[2020-08-02 18:32:02]  INFO node: Validating for public key pubKey=0x8bb22657204b\r\n[2020-08-02 18:32:02]  INFO node: Validating for public key pubKey=0xa5fd5088ae1c\r\n[2020-08-02 18:32:02]  INFO node: Validating for public key pubKey=0x8fe116bc1569\r\n[2020-08-02 18:32:02]  INFO node: Validating for public key pubKey=0x881c35caae21\r\n[2020-08-02 18:32:02]  INFO node: Validating for public key pubKey=0x91f07df0246a\r\n[2020-08-02 18:32:02]  INFO node: Validating for public key pubKey=0xb699491bb0d2\r\n[2020-08-02 18:32:02]  INFO node: Validating for public key pubKey=0xad8f4662b6c6\r\n[2020-08-02 18:32:02]  INFO node: Validating for public key pubKey=0x9495d2dac88c\r\n[2020-08-02 18:32:02]  INFO node: Validating for public key pubKey=0xb4964e32fd8c\r\n[2020-08-02 18:32:02]  INFO node: Validating for public key pubKey=0x986e26d36d5e\r\n[2020-08-02 18:32:02]  INFO node: Validating for public key pubKey=0x8c40c2ba9c91\r\n[2020-08-02 18:32:02]  INFO node: Validating for public key pubKey=0xb0a65ada32ae\r\n[2020-08-02 18:32:02]  INFO node: Checking DB databasePath=/home/alarm/.eth2\r\n[2020-08-02 18:32:02]  INFO node: Starting validator node version=Prysm/v1.0.0-alpha.17/f414cf36b99dea2d997d0141acb3d1a319fb5578. Built at: 2020-07-31 03:04:02+00:00\r\n[2020-08-02 18:32:02]  WARN validator: You are using an insecure gRPC connection. If you are running your beacon node and validator on the same machines, you can ignore this message. If you want to know how to enable secure connections, see: https://docs.prylabs.network/docs/prysm-usage/secure-grpc\r\n[2020-08-02 18:32:02]  INFO validator: Waiting for beacon chain start log from the ETH 1.0 deposit contract\r\n[2020-08-02 18:32:02]  INFO validator: Beacon chain started genesisTime=2020-08-04 13:00:08 +0000 UTC\r\n[2020-08-02 18:32:02]  INFO validator: Validator activated index=15170 publicKey=0x8937728af6ff\r\n[2020-08-02 18:32:02]  INFO validator: Validator activated index=15178 publicKey=0xb1af9228e3cc\r\n[2020-08-02 18:32:02]  INFO validator: Validator activated index=15184 publicKey=0xa3e7745dc8bd\r\n[2020-08-02 18:32:02]  INFO validator: Validator activated index=15191 publicKey=0xa789318c55b2\r\n[2020-08-02 18:32:02]  INFO validator: Validator activated index=15201 publicKey=0x8eb18058e6fe\r\n[2020-08-02 18:32:02]  INFO validator: Validator activated index=15185 publicKey=0xaaf7cedc6a6f\r\n[2020-08-02 18:32:02]  INFO validator: Validator activated index=15188 publicKey=0xad3088473e2f\r\n[2020-08-02 18:32:02]  INFO validator: Validator activated index=15196 publicKey=0xaff0ec811845\r\n[2020-08-02 18:32:02]  INFO validator: Validator activated index=15181 publicKey=0x97b4348add54\r\n[2020-08-02 18:32:02]  INFO validator: Validator activated index=15187 publicKey=0x8dfb754cad07\r\n[2020-08-02 18:32:02]  INFO validator: Validator activated index=15168 publicKey=0x8532fe648507\r\n[2020-08-02 18:32:02]  INFO validator: Validator activated index=15190 publicKey=0xad92da8348c9\r\n[2020-08-02 18:32:02]  INFO validator: Validator activated index=15205 publicKey=0x95d369943c31\r\n[2020-08-02 18:32:02]  INFO validator: Validator activated index=15176 publicKey=0x924cf2d0118d\r\n[2020-08-02 18:32:02]  INFO validator: Validator activated index=15195 publicKey=0xa3bcd4c454d2\r\n[2020-08-02 18:32:02]  INFO validator: Validator activated index=15206 publicKey=0xb6ee16f1d095\r\n[2020-08-02 18:32:02]  INFO validator: Validator activated index=15169 publicKey=0x8bb22657204b\r\n[2020-08-02 18:32:02]  INFO validator: Validator activated index=15180 publicKey=0xa5fd5088ae1c\r\n[2020-08-02 18:32:02]  INFO validator: Validator activated index=15189 publicKey=0x8fe116bc1569\r\n[2020-08-02 18:32:02]  INFO validator: Validator activated index=15194 publicKey=0x881c35caae21\r\n[2020-08-02 18:32:02]  INFO validator: Validator activated index=15167 publicKey=0x91f07df0246a\r\n[2020-08-02 18:32:02]  INFO validator: Validator activated index=15198 publicKey=0xb699491bb0d2\r\n[2020-08-02 18:32:02]  INFO validator: Validator activated index=15199 publicKey=0xad8f4662b6c6\r\n[2020-08-02 18:32:02]  INFO validator: Validator activated index=15182 publicKey=0x9495d2dac88c\r\n[2020-08-02 18:32:02]  INFO validator: Validator activated index=15197 publicKey=0xb4964e32fd8c\r\n[2020-08-02 18:32:02]  INFO validator: Validator activated index=15192 publicKey=0x986e26d36d5e\r\n[2020-08-02 18:32:02]  INFO validator: Validator activated index=15179 publicKey=0x8c40c2ba9c91\r\n[2020-08-02 18:32:02]  INFO validator: Validator activated index=15183 publicKey=0xb0a65ada32ae\r\n[2020-08-02 18:32:02]  INFO validator: Attestation schedule attesters=1 pubKeys=[0xaff0ec811845] slot=0\r\n[2020-08-02 18:32:02]  INFO validator: Attestation schedule attesters=1 pubKeys=[0xa5fd5088ae1c] slot=1\r\n[2020-08-02 18:32:02]  INFO validator: Attestation schedule attesters=2 pubKeys=[0x8532fe648507 0xb699491bb0d2] slot=2\r\n[2020-08-02 18:32:02]  INFO validator: Attestation schedule attesters=1 pubKeys=[0x986e26d36d5e] slot=4\r\n[2020-08-02 18:32:02]  INFO validator: Attestation schedule attesters=2 pubKeys=[0x8fe116bc1569 0x8c40c2ba9c91] slot=5\r\n[2020-08-02 18:32:02]  INFO validator: Attestation schedule attesters=1 pubKeys=[0x8dfb754cad07] slot=7\r\n[2020-08-02 18:32:02]  INFO validator: Attestation schedule attesters=1 pubKeys=[0xb1af9228e3cc] slot=8\r\n[2020-08-02 18:32:02]  INFO validator: Attestation schedule attesters=3 pubKeys=[0x8937728af6ff 0xad3088473e2f 0x924cf2d0118d] slot=11\r\n[2020-08-02 18:32:02]  INFO validator: Attestation schedule attesters=1 pubKeys=[0x881c35caae21] slot=14\r\n[2020-08-02 18:32:02]  INFO validator: Attestation schedule attesters=1 pubKeys=[0x9495d2dac88c] slot=15\r\n[2020-08-02 18:32:02]  INFO validator: Attestation schedule attesters=1 pubKeys=[0xa3bcd4c454d2] slot=16\r\n[2020-08-02 18:32:02]  INFO validator: Attestation schedule attesters=1 pubKeys=[0xa789318c55b2] slot=17\r\n[2020-08-02 18:32:02]  INFO validator: Attestation schedule attesters=1 pubKeys=[0x8eb18058e6fe] slot=18\r\n[2020-08-02 18:32:02]  INFO validator: Attestation schedule attesters=1 pubKeys=[0xad8f4662b6c6] slot=20\r\n[2020-08-02 18:32:02]  INFO validator: Attestation schedule attesters=1 pubKeys=[0xaaf7cedc6a6f] slot=21\r\n[2020-08-02 18:32:02]  INFO validator: Attestation schedule attesters=1 pubKeys=[0xa3e7745dc8bd] slot=22\r\n[2020-08-02 18:32:02]  INFO validator: Attestation schedule attesters=1 pubKeys=[0x91f07df0246a] slot=23\r\n[2020-08-02 18:32:02]  INFO validator: Attestation schedule attesters=1 pubKeys=[0xb4964e32fd8c] slot=24\r\n[2020-08-02 18:32:02]  INFO validator: Attestation schedule attesters=1 pubKeys=[0x8bb22657204b] slot=26\r\n[2020-08-02 18:32:02]  INFO validator: Attestation schedule attesters=1 pubKeys=[0xb0a65ada32ae] slot=27\r\n[2020-08-02 18:32:02]  INFO validator: Attestation schedule attesters=1 pubKeys=[0xad92da8348c9] slot=28\r\n[2020-08-02 18:32:02]  INFO validator: Attestation schedule attesters=2 pubKeys=[0x97b4348add54 0x95d369943c31] slot=29\r\n[2020-08-02 18:32:02]  INFO validator: Attestation schedule attesters=1 pubKeys=[0xb6ee16f1d095] slot=30\r\n[2020-08-02 18:32:02] ERROR validator: Failed to update assignments error=no signing key found in keys cache\r\ngithub.com/prysmaticlabs/prysm/validator/keymanager/v2/direct.(*Keymanager).Sign\r\n\tvalidator/keymanager/v2/direct/direct.go:268\r\ngithub.com/prysmaticlabs/prysm/validator/client.(*validator).signObject\r\n\tvalidator/client/service.go:205\r\ngithub.com/prysmaticlabs/prysm/validator/client.(*validator).signSlot\r\n\tvalidator/client/aggregate.go:114\r\ngithub.com/prysmaticlabs/prysm/validator/client.(*validator).isAggregator\r\n\tvalidator/client/validator.go:520\r\ngithub.com/prysmaticlabs/prysm/validator/client.(*validator).UpdateDuties\r\n\tvalidator/client/validator.go:382\r\ngithub.com/prysmaticlabs/prysm/validator/client.run\r\n\tvalidator/client/runner.go:77\r\nruntime.goexit\r\n\tsrc/runtime/asm_arm64.s:1148\r\nFailed to sign slot\r\ngithub.com/prysmaticlabs/prysm/validator/client.(*validator).signSlot\r\n\tvalidator/client/aggregate.go:116\r\ngithub.com/prysmaticlabs/prysm/validator/client.(*validator).isAggregator\r\n\tvalidator/client/validator.go:520\r\ngithub.com/prysmaticlabs/prysm/validator/client.(*validator).UpdateDuties\r\n\tvalidator/client/validator.go:382\r\ngithub.com/prysmaticlabs/prysm/validator/client.run\r\n\tvalidator/client/runner.go:77\r\nruntime.goexit\r\n\tsrc/runtime/asm_arm64.s:1148\r\ncould not check if a validator is an aggregator\r\ngithub.com/prysmaticlabs/prysm/validator/client.(*validator).UpdateDuties\r\n\tvalidator/client/validator.go:384\r\ngithub.com/prysmaticlabs/prysm/validator/client.run\r\n\tvalidator/client/runner.go:77\r\nruntime.goexit\r\n\tsrc/runtime/asm_arm64.s:1148\r\n\r\n## üåç  Your Environment\r\n\r\n**Operating System:**\r\n\r\nArch Linux ARM (aarch64)\r\n\r\n**What version of Prysm are you running? (Which release)**\r\n\r\nvalidator-v1.0.0-alpha.17-linux-arm64\r\n\r\n**Anything else relevant (validator index / public key)?**\r\n\r\n",
  "closed_by": {
    "login": "terencechain",
    "id": 21316537,
    "node_id": "MDQ6VXNlcjIxMzE2NTM3",
    "avatar_url": "https://avatars.githubusercontent.com/u/21316537?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/terencechain",
    "html_url": "https://github.com/terencechain",
    "followers_url": "https://api.github.com/users/terencechain/followers",
    "following_url": "https://api.github.com/users/terencechain/following{/other_user}",
    "gists_url": "https://api.github.com/users/terencechain/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/terencechain/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/terencechain/subscriptions",
    "organizations_url": "https://api.github.com/users/terencechain/orgs",
    "repos_url": "https://api.github.com/users/terencechain/repos",
    "events_url": "https://api.github.com/users/terencechain/events{/privacy}",
    "received_events_url": "https://api.github.com/users/terencechain/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/6834/reactions",
    "total_count": 1,
    "+1": 1,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/6834/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/667710449",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/6834#issuecomment-667710449",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/6834",
    "id": 667710449,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY2NzcxMDQ0OQ==",
    "user": {
      "login": "prestonvanloon",
      "id": 7246818,
      "node_id": "MDQ6VXNlcjcyNDY4MTg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7246818?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/prestonvanloon",
      "html_url": "https://github.com/prestonvanloon",
      "followers_url": "https://api.github.com/users/prestonvanloon/followers",
      "following_url": "https://api.github.com/users/prestonvanloon/following{/other_user}",
      "gists_url": "https://api.github.com/users/prestonvanloon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/prestonvanloon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/prestonvanloon/subscriptions",
      "organizations_url": "https://api.github.com/users/prestonvanloon/orgs",
      "repos_url": "https://api.github.com/users/prestonvanloon/repos",
      "events_url": "https://api.github.com/users/prestonvanloon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/prestonvanloon/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-08-02T18:46:38Z",
    "updated_at": "2020-08-02T18:46:38Z",
    "author_association": "MEMBER",
    "body": "This will be fixed in #6823",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/667710449/reactions",
      "total_count": 2,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 2,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
