{
  "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/1977",
  "repository_url": "https://api.github.com/repos/prysmaticlabs/prysm",
  "labels_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/1977/labels{/name}",
  "comments_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/1977/comments",
  "events_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/1977/events",
  "html_url": "https://github.com/prysmaticlabs/prysm/issues/1977",
  "id": 420230412,
  "node_id": "MDU6SXNzdWU0MjAyMzA0MTI=",
  "number": 1977,
  "title": "Proposer compute state root fails",
  "user": {
    "login": "terencechain",
    "id": 21316537,
    "node_id": "MDQ6VXNlcjIxMzE2NTM3",
    "avatar_url": "https://avatars.githubusercontent.com/u/21316537?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/terencechain",
    "html_url": "https://github.com/terencechain",
    "followers_url": "https://api.github.com/users/terencechain/followers",
    "following_url": "https://api.github.com/users/terencechain/following{/other_user}",
    "gists_url": "https://api.github.com/users/terencechain/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/terencechain/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/terencechain/subscriptions",
    "organizations_url": "https://api.github.com/users/terencechain/orgs",
    "repos_url": "https://api.github.com/users/terencechain/repos",
    "events_url": "https://api.github.com/users/terencechain/events{/privacy}",
    "received_events_url": "https://api.github.com/users/terencechain/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 802129904,
      "node_id": "MDU6TGFiZWw4MDIxMjk5MDQ=",
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/labels/Bug",
      "name": "Bug",
      "color": "ee0701",
      "default": false,
      "description": "Something isn't working"
    },
    {
      "id": 1085357069,
      "node_id": "MDU6TGFiZWwxMDg1MzU3MDY5",
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/labels/Priority:%20High",
      "name": "Priority: High",
      "color": "f7ea26",
      "default": false,
      "description": "High priority item"
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 5,
  "created_at": "2019-03-12T22:16:45Z",
  "updated_at": "2019-07-21T01:36:15Z",
  "closed_at": "2019-07-21T01:36:15Z",
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": "On the latest master. None of the proposer can propose due to the following:\r\n\r\n```\r\nERROR validator: Not proposing! Unable to compute state root: rpc error: code = Unknown desc = could not execute state transition could not process block: could not process block attestations: could not verify attestation at index 0 in block: expected JustifiedBlockRoot == getBlockRoot(state, JustifiedEpoch)\r\n```",
  "closed_by": {
    "login": "prestonvanloon",
    "id": 7246818,
    "node_id": "MDQ6VXNlcjcyNDY4MTg=",
    "avatar_url": "https://avatars.githubusercontent.com/u/7246818?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/prestonvanloon",
    "html_url": "https://github.com/prestonvanloon",
    "followers_url": "https://api.github.com/users/prestonvanloon/followers",
    "following_url": "https://api.github.com/users/prestonvanloon/following{/other_user}",
    "gists_url": "https://api.github.com/users/prestonvanloon/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/prestonvanloon/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/prestonvanloon/subscriptions",
    "organizations_url": "https://api.github.com/users/prestonvanloon/orgs",
    "repos_url": "https://api.github.com/users/prestonvanloon/repos",
    "events_url": "https://api.github.com/users/prestonvanloon/events{/privacy}",
    "received_events_url": "https://api.github.com/users/prestonvanloon/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/1977/reactions",
    "total_count": 2,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 2
  },
  "timeline_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/1977/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/481572049",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/1977#issuecomment-481572049",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/1977",
    "id": 481572049,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ4MTU3MjA0OQ==",
    "user": {
      "login": "terencechain",
      "id": 21316537,
      "node_id": "MDQ6VXNlcjIxMzE2NTM3",
      "avatar_url": "https://avatars.githubusercontent.com/u/21316537?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/terencechain",
      "html_url": "https://github.com/terencechain",
      "followers_url": "https://api.github.com/users/terencechain/followers",
      "following_url": "https://api.github.com/users/terencechain/following{/other_user}",
      "gists_url": "https://api.github.com/users/terencechain/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/terencechain/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/terencechain/subscriptions",
      "organizations_url": "https://api.github.com/users/terencechain/orgs",
      "repos_url": "https://api.github.com/users/terencechain/repos",
      "events_url": "https://api.github.com/users/terencechain/events{/privacy}",
      "received_events_url": "https://api.github.com/users/terencechain/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-04-10T07:34:28Z",
    "updated_at": "2019-04-10T07:34:28Z",
    "author_association": "MEMBER",
    "body": "Just saw this error again in run time:\r\n`\r\n\"could not execute state transition could not process block: could not process block attestations: could not verify attestation at index 0 in block: expected attestation.JustifiedEpoch == state.JustifiedEpoch, received 32 == 31\"\r\n`",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/481572049/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/481572562",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/1977#issuecomment-481572562",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/1977",
    "id": 481572562,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ4MTU3MjU2Mg==",
    "user": {
      "login": "prestonvanloon",
      "id": 7246818,
      "node_id": "MDQ6VXNlcjcyNDY4MTg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7246818?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/prestonvanloon",
      "html_url": "https://github.com/prestonvanloon",
      "followers_url": "https://api.github.com/users/prestonvanloon/followers",
      "following_url": "https://api.github.com/users/prestonvanloon/following{/other_user}",
      "gists_url": "https://api.github.com/users/prestonvanloon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/prestonvanloon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/prestonvanloon/subscriptions",
      "organizations_url": "https://api.github.com/users/prestonvanloon/orgs",
      "repos_url": "https://api.github.com/users/prestonvanloon/repos",
      "events_url": "https://api.github.com/users/prestonvanloon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/prestonvanloon/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-04-10T07:35:56Z",
    "updated_at": "2019-04-10T07:35:56Z",
    "author_association": "MEMBER",
    "body": "This functionality is currently enabled by flag only, so we have the flag turned off until we can resolve this issue. \r\n\r\nWe should use the state replay tool to identify the root cause of this with some existing set of data. It seems to happen intermittently as the blockchain can still advance, but there are constant skip blocks and reorg conditions. ",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/481572562/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/490891883",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/1977#issuecomment-490891883",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/1977",
    "id": 490891883,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5MDg5MTg4Mw==",
    "user": {
      "login": "SjonHortensius",
      "id": 1684987,
      "node_id": "MDQ6VXNlcjE2ODQ5ODc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1684987?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/SjonHortensius",
      "html_url": "https://github.com/SjonHortensius",
      "followers_url": "https://api.github.com/users/SjonHortensius/followers",
      "following_url": "https://api.github.com/users/SjonHortensius/following{/other_user}",
      "gists_url": "https://api.github.com/users/SjonHortensius/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/SjonHortensius/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SjonHortensius/subscriptions",
      "organizations_url": "https://api.github.com/users/SjonHortensius/orgs",
      "repos_url": "https://api.github.com/users/SjonHortensius/repos",
      "events_url": "https://api.github.com/users/SjonHortensius/events{/privacy}",
      "received_events_url": "https://api.github.com/users/SjonHortensius/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-05-09T12:55:27Z",
    "updated_at": "2019-05-09T12:55:27Z",
    "author_association": "CONTRIBUTOR",
    "body": "Even without an active validator - my beacon node just failed with the same error:\r\n\r\n```\r\n  INFO blockchain: State transition complete currentEpoch=17447 slotNumber=139583\r\n  INFO blockchain: Finished processing beacon block slot=139583\r\n  INFO blockchain: Applying LMD-GHOST Fork Choice Rule\r\n  INFO blockchain: Chain head block and state updated headRoot=0x8c2018b227b9273950e0667a headSlot=139583 stateSlot=139583\r\n  INFO blockchain: Executing state transition slotNumber=139584\r\n ERROR regular-sync: Could not process beacon block: block failed processing: could not process block: could not process block attestations: could not verify attestation at index 0 in block: expected attestation.JustifiedEpoch == state.JustifiedEpoch, received 17447 == 17446\r\n  INFO blockchain: Executing state transition slotNumber=139584\r\n ERROR regular-sync: Could not process beacon block: block failed processing: could not process block: could not process block attestations: could not verify attestation at index 0 in block: expected attestation.JustifiedEpoch == state.JustifiedEpoch, received 17447 == 17446\r\n```\r\n\r\nafter this it hangs and stops processing anything until restarted. I'm running  7c47db0 without any configuration - so I'd expect this wouldn't happen",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/490891883/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/491519795",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/1977#issuecomment-491519795",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/1977",
    "id": 491519795,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5MTUxOTc5NQ==",
    "user": {
      "login": "Doppelbock42",
      "id": 17707735,
      "node_id": "MDQ6VXNlcjE3NzA3NzM1",
      "avatar_url": "https://avatars.githubusercontent.com/u/17707735?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Doppelbock42",
      "html_url": "https://github.com/Doppelbock42",
      "followers_url": "https://api.github.com/users/Doppelbock42/followers",
      "following_url": "https://api.github.com/users/Doppelbock42/following{/other_user}",
      "gists_url": "https://api.github.com/users/Doppelbock42/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Doppelbock42/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Doppelbock42/subscriptions",
      "organizations_url": "https://api.github.com/users/Doppelbock42/orgs",
      "repos_url": "https://api.github.com/users/Doppelbock42/repos",
      "events_url": "https://api.github.com/users/Doppelbock42/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Doppelbock42/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-05-11T15:19:16Z",
    "updated_at": "2019-05-11T15:38:18Z",
    "author_association": "NONE",
    "body": "I get a similar error. The last two \"bitfield\" errors just repeat until I reset:\r\n```go\r\n[2019-05-11 15:09:12]  INFO blockchain: Slot transition successfully processed slotsSinceGenesis=169874\r\n[2019-05-11 15:09:12]  INFO blockchain: Slot transition successfully processed slotsSinceGenesis=169875\r\n[2019-05-11 15:09:12]  INFO blockchain: Slot transition successfully processed slotsSinceGenesis=169876\r\n[2019-05-11 15:09:12]  WARN blockchain: Processed 45 skipped slots\r\n[2019-05-11 15:09:12] ERROR regular-sync: Could not process beacon block: block failed processing: could not process block: could not process block attestations: could not verify attestation at index 0 in block: expected attestation.JustifiedRoot == state.PreviousJustifiedRoot, received 0x051e091bf74d4912c20b8fd2ea0f84398a362eee45a2c1f40b2d9d039466c1f7 == 0xb1a5f8191d600573ff2d8be32b100a491ab8a71586dbcaee3695a7183151abd1\r\n[2019-05-11 15:13:03] ERROR attestation: Bitfield points to an invalid index in the committee: bitfield [00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00100000]\r\n[2019-05-11 15:13:15] ERROR attestation: Bitfield points to an invalid index in the committee: bitfield [00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00100000]\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/491519795/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/513511721",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/1977#issuecomment-513511721",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/1977",
    "id": 513511721,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUxMzUxMTcyMQ==",
    "user": {
      "login": "prestonvanloon",
      "id": 7246818,
      "node_id": "MDQ6VXNlcjcyNDY4MTg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7246818?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/prestonvanloon",
      "html_url": "https://github.com/prestonvanloon",
      "followers_url": "https://api.github.com/users/prestonvanloon/followers",
      "following_url": "https://api.github.com/users/prestonvanloon/following{/other_user}",
      "gists_url": "https://api.github.com/users/prestonvanloon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/prestonvanloon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/prestonvanloon/subscriptions",
      "organizations_url": "https://api.github.com/users/prestonvanloon/orgs",
      "repos_url": "https://api.github.com/users/prestonvanloon/repos",
      "events_url": "https://api.github.com/users/prestonvanloon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/prestonvanloon/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-07-21T01:36:15Z",
    "updated_at": "2019-07-21T01:36:15Z",
    "author_association": "MEMBER",
    "body": "This is resolved with latest update to 0.8.1. #2312 ",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/513511721/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
