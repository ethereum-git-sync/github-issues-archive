{
  "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/11422",
  "repository_url": "https://api.github.com/repos/prysmaticlabs/prysm",
  "labels_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/11422/labels{/name}",
  "comments_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/11422/comments",
  "events_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/11422/events",
  "html_url": "https://github.com/prysmaticlabs/prysm/issues/11422",
  "id": 1367020028,
  "node_id": "I_kwDOBvuov85RexH8",
  "number": 11422,
  "title": "Runtime error after building prysm from source",
  "user": {
    "login": "willruggiano",
    "id": 11872440,
    "node_id": "MDQ6VXNlcjExODcyNDQw",
    "avatar_url": "https://avatars.githubusercontent.com/u/11872440?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/willruggiano",
    "html_url": "https://github.com/willruggiano",
    "followers_url": "https://api.github.com/users/willruggiano/followers",
    "following_url": "https://api.github.com/users/willruggiano/following{/other_user}",
    "gists_url": "https://api.github.com/users/willruggiano/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/willruggiano/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/willruggiano/subscriptions",
    "organizations_url": "https://api.github.com/users/willruggiano/orgs",
    "repos_url": "https://api.github.com/users/willruggiano/repos",
    "events_url": "https://api.github.com/users/willruggiano/events{/privacy}",
    "received_events_url": "https://api.github.com/users/willruggiano/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 4,
  "created_at": "2022-09-08T21:43:50Z",
  "updated_at": "2023-06-22T14:12:20Z",
  "closed_at": "2023-06-22T14:12:20Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "I am trying to package prysm for nixpkgs, which means building the binaries from source.\r\n\r\nI have been able to \"successfully\" build the project, however when I run it I get the following error;\r\n```\r\npanic: ERR Init curve=5\r\n\r\ngoroutine 1 [running]:\r\ngithub.com/prysmaticlabs/prysm/v3/crypto/bls/herumi.HerumiInit()\r\n        github.com/prysmaticlabs/prysm/v3/crypto/bls/herumi/init.go:8 +0x90\r\ngithub.com/prysmaticlabs/prysm/v3/crypto/bls.init.0()\r\n        github.com/prysmaticlabs/prysm/v3/crypto/bls/bls.go:14 +0x17\r\n```\r\n\r\nAs a disclaimer, I am not familiar with the source code of prysm (or its dependencies); I just run some validator nodes and am looking to use Nix/OS as my underlying operating system.\r\n\r\nAny suggestions on how to further debug this error?",
  "closed_by": {
    "login": "willruggiano",
    "id": 11872440,
    "node_id": "MDQ6VXNlcjExODcyNDQw",
    "avatar_url": "https://avatars.githubusercontent.com/u/11872440?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/willruggiano",
    "html_url": "https://github.com/willruggiano",
    "followers_url": "https://api.github.com/users/willruggiano/followers",
    "following_url": "https://api.github.com/users/willruggiano/following{/other_user}",
    "gists_url": "https://api.github.com/users/willruggiano/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/willruggiano/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/willruggiano/subscriptions",
    "organizations_url": "https://api.github.com/users/willruggiano/orgs",
    "repos_url": "https://api.github.com/users/willruggiano/repos",
    "events_url": "https://api.github.com/users/willruggiano/events{/privacy}",
    "received_events_url": "https://api.github.com/users/willruggiano/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/11422/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/11422/timeline",
  "performed_via_github_app": null,
  "state_reason": "not_planned"
}
[
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/1241288063",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/11422#issuecomment-1241288063",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/11422",
    "id": 1241288063,
    "node_id": "IC_kwDOBvuov85J_I1_",
    "user": {
      "login": "willruggiano",
      "id": 11872440,
      "node_id": "MDQ6VXNlcjExODcyNDQw",
      "avatar_url": "https://avatars.githubusercontent.com/u/11872440?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/willruggiano",
      "html_url": "https://github.com/willruggiano",
      "followers_url": "https://api.github.com/users/willruggiano/followers",
      "following_url": "https://api.github.com/users/willruggiano/following{/other_user}",
      "gists_url": "https://api.github.com/users/willruggiano/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/willruggiano/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/willruggiano/subscriptions",
      "organizations_url": "https://api.github.com/users/willruggiano/orgs",
      "repos_url": "https://api.github.com/users/willruggiano/repos",
      "events_url": "https://api.github.com/users/willruggiano/events{/privacy}",
      "received_events_url": "https://api.github.com/users/willruggiano/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-09-08T22:10:50Z",
    "updated_at": "2022-09-08T22:10:50Z",
    "author_association": "NONE",
    "body": "I am running the following, which yields that error;\r\n```\r\nbeacon-chain --help\r\n```\r\nwhere `beacon-chain` is the binary that has been built locally",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/1241288063/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/1242593357",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/11422#issuecomment-1242593357",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/11422",
    "id": 1242593357,
    "node_id": "IC_kwDOBvuov85KEHhN",
    "user": {
      "login": "nisdas",
      "id": 33201827,
      "node_id": "MDQ6VXNlcjMzMjAxODI3",
      "avatar_url": "https://avatars.githubusercontent.com/u/33201827?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nisdas",
      "html_url": "https://github.com/nisdas",
      "followers_url": "https://api.github.com/users/nisdas/followers",
      "following_url": "https://api.github.com/users/nisdas/following{/other_user}",
      "gists_url": "https://api.github.com/users/nisdas/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nisdas/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nisdas/subscriptions",
      "organizations_url": "https://api.github.com/users/nisdas/orgs",
      "repos_url": "https://api.github.com/users/nisdas/repos",
      "events_url": "https://api.github.com/users/nisdas/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nisdas/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-09-10T01:59:49Z",
    "updated_at": "2022-09-10T02:00:09Z",
    "author_association": "MEMBER",
    "body": "Hey @willruggiano , \r\n\r\nThis appears to be an issue with running with herumi. It isn't able to initialize the bls curve correctly. \r\nhttps://github.com/herumi/bls-eth-go-binary/blob/master/bls/bls.go#L49\r\n\r\nThis is indicative of some possible incompatibility with mcl.\r\nhttps://github.com/herumi/mcl",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/1242593357/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/1371593863",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/11422#issuecomment-1371593863",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/11422",
    "id": 1371593863,
    "node_id": "IC_kwDOBvuov85RwNyH",
    "user": {
      "login": "rauljordan",
      "id": 5572669,
      "node_id": "MDQ6VXNlcjU1NzI2Njk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5572669?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rauljordan",
      "html_url": "https://github.com/rauljordan",
      "followers_url": "https://api.github.com/users/rauljordan/followers",
      "following_url": "https://api.github.com/users/rauljordan/following{/other_user}",
      "gists_url": "https://api.github.com/users/rauljordan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rauljordan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rauljordan/subscriptions",
      "organizations_url": "https://api.github.com/users/rauljordan/orgs",
      "repos_url": "https://api.github.com/users/rauljordan/repos",
      "events_url": "https://api.github.com/users/rauljordan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rauljordan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-01-05T00:40:25Z",
    "updated_at": "2023-01-05T00:40:25Z",
    "author_association": "CONTRIBUTOR",
    "body": "hi @willruggiano are you still experiencing this issue?",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/1371593863/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/1374361900",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/11422#issuecomment-1374361900",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/11422",
    "id": 1374361900,
    "node_id": "IC_kwDOBvuov85R6xks",
    "user": {
      "login": "willruggiano",
      "id": 11872440,
      "node_id": "MDQ6VXNlcjExODcyNDQw",
      "avatar_url": "https://avatars.githubusercontent.com/u/11872440?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/willruggiano",
      "html_url": "https://github.com/willruggiano",
      "followers_url": "https://api.github.com/users/willruggiano/followers",
      "following_url": "https://api.github.com/users/willruggiano/following{/other_user}",
      "gists_url": "https://api.github.com/users/willruggiano/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/willruggiano/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/willruggiano/subscriptions",
      "organizations_url": "https://api.github.com/users/willruggiano/orgs",
      "repos_url": "https://api.github.com/users/willruggiano/repos",
      "events_url": "https://api.github.com/users/willruggiano/events{/privacy}",
      "received_events_url": "https://api.github.com/users/willruggiano/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-01-07T03:09:12Z",
    "updated_at": "2023-01-07T03:09:12Z",
    "author_association": "NONE",
    "body": "I ended up downloading the binaries and just patching them with patchelf.\r\n\r\nSee: https://github.com/willruggiano/eth-nix/blob/main/packages/prysm/default.nix\r\n\r\nIt works for my purposes so I haven’t tried to build the project from source again",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/1374361900/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
