{
  "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/13088",
  "repository_url": "https://api.github.com/repos/prysmaticlabs/prysm",
  "labels_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/13088/labels{/name}",
  "comments_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/13088/comments",
  "events_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/13088/events",
  "html_url": "https://github.com/prysmaticlabs/prysm/issues/13088",
  "id": 1955937277,
  "node_id": "I_kwDOBvuov850lTv9",
  "number": 13088,
  "title": "Broadcast slashing on equivocating blocks",
  "user": {
    "login": "potuz",
    "id": 16044918,
    "node_id": "MDQ6VXNlcjE2MDQ0OTE4",
    "avatar_url": "https://avatars.githubusercontent.com/u/16044918?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/potuz",
    "html_url": "https://github.com/potuz",
    "followers_url": "https://api.github.com/users/potuz/followers",
    "following_url": "https://api.github.com/users/potuz/following{/other_user}",
    "gists_url": "https://api.github.com/users/potuz/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/potuz/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/potuz/subscriptions",
    "organizations_url": "https://api.github.com/users/potuz/orgs",
    "repos_url": "https://api.github.com/users/potuz/repos",
    "events_url": "https://api.github.com/users/potuz/events{/privacy}",
    "received_events_url": "https://api.github.com/users/potuz/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 802129906,
      "node_id": "MDU6TGFiZWw4MDIxMjk5MDY=",
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/labels/Enhancement",
      "name": "Enhancement",
      "color": "84b6eb",
      "default": false,
      "description": "New feature or request"
    },
    {
      "id": 802129908,
      "node_id": "MDU6TGFiZWw4MDIxMjk5MDg=",
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/labels/Good%20First%20Issue",
      "name": "Good First Issue",
      "color": "7057ff",
      "default": false,
      "description": "Good for newcomers"
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": {
    "login": "v4lproik",
    "id": 2066462,
    "node_id": "MDQ6VXNlcjIwNjY0NjI=",
    "avatar_url": "https://avatars.githubusercontent.com/u/2066462?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/v4lproik",
    "html_url": "https://github.com/v4lproik",
    "followers_url": "https://api.github.com/users/v4lproik/followers",
    "following_url": "https://api.github.com/users/v4lproik/following{/other_user}",
    "gists_url": "https://api.github.com/users/v4lproik/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/v4lproik/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/v4lproik/subscriptions",
    "organizations_url": "https://api.github.com/users/v4lproik/orgs",
    "repos_url": "https://api.github.com/users/v4lproik/repos",
    "events_url": "https://api.github.com/users/v4lproik/events{/privacy}",
    "received_events_url": "https://api.github.com/users/v4lproik/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "v4lproik",
      "id": 2066462,
      "node_id": "MDQ6VXNlcjIwNjY0NjI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2066462?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/v4lproik",
      "html_url": "https://github.com/v4lproik",
      "followers_url": "https://api.github.com/users/v4lproik/followers",
      "following_url": "https://api.github.com/users/v4lproik/following{/other_user}",
      "gists_url": "https://api.github.com/users/v4lproik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/v4lproik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/v4lproik/subscriptions",
      "organizations_url": "https://api.github.com/users/v4lproik/orgs",
      "repos_url": "https://api.github.com/users/v4lproik/repos",
      "events_url": "https://api.github.com/users/v4lproik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/v4lproik/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 4,
  "created_at": "2023-10-22T15:08:13Z",
  "updated_at": "2024-01-11T11:41:06Z",
  "closed_at": null,
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "Prysm has a slasher feature, which is demanding in resources. However, equivocating blocks are already handled in the usual path for every beacon. We should broadcast immediately a slashing object in the event of receiving an equivocating block. ",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/13088/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/13088/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/1847808675",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/13088#issuecomment-1847808675",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/13088",
    "id": 1847808675,
    "node_id": "IC_kwDOBvuov85uI1Kj",
    "user": {
      "login": "v4lproik",
      "id": 2066462,
      "node_id": "MDQ6VXNlcjIwNjY0NjI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2066462?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/v4lproik",
      "html_url": "https://github.com/v4lproik",
      "followers_url": "https://api.github.com/users/v4lproik/followers",
      "following_url": "https://api.github.com/users/v4lproik/following{/other_user}",
      "gists_url": "https://api.github.com/users/v4lproik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/v4lproik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/v4lproik/subscriptions",
      "organizations_url": "https://api.github.com/users/v4lproik/orgs",
      "repos_url": "https://api.github.com/users/v4lproik/repos",
      "events_url": "https://api.github.com/users/v4lproik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/v4lproik/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-12-08T20:31:57Z",
    "updated_at": "2023-12-08T20:31:57Z",
    "author_association": "NONE",
    "body": "I would love to take this up if still needed :)",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/1847808675/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/1854385421",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/13088#issuecomment-1854385421",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/13088",
    "id": 1854385421,
    "node_id": "IC_kwDOBvuov85uh60N",
    "user": {
      "login": "RohanShrothrium",
      "id": 12200692,
      "node_id": "MDQ6VXNlcjEyMjAwNjky",
      "avatar_url": "https://avatars.githubusercontent.com/u/12200692?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/RohanShrothrium",
      "html_url": "https://github.com/RohanShrothrium",
      "followers_url": "https://api.github.com/users/RohanShrothrium/followers",
      "following_url": "https://api.github.com/users/RohanShrothrium/following{/other_user}",
      "gists_url": "https://api.github.com/users/RohanShrothrium/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/RohanShrothrium/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/RohanShrothrium/subscriptions",
      "organizations_url": "https://api.github.com/users/RohanShrothrium/orgs",
      "repos_url": "https://api.github.com/users/RohanShrothrium/repos",
      "events_url": "https://api.github.com/users/RohanShrothrium/events{/privacy}",
      "received_events_url": "https://api.github.com/users/RohanShrothrium/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-12-13T17:09:33Z",
    "updated_at": "2023-12-13T17:09:33Z",
    "author_association": "NONE",
    "body": "Hi guys!\r\nCan I take this up?",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/1854385421/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/1886932845",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/13088#issuecomment-1886932845",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/13088",
    "id": 1886932845,
    "node_id": "IC_kwDOBvuov85weE9t",
    "user": {
      "login": "v4lproik",
      "id": 2066462,
      "node_id": "MDQ6VXNlcjIwNjY0NjI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2066462?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/v4lproik",
      "html_url": "https://github.com/v4lproik",
      "followers_url": "https://api.github.com/users/v4lproik/followers",
      "following_url": "https://api.github.com/users/v4lproik/following{/other_user}",
      "gists_url": "https://api.github.com/users/v4lproik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/v4lproik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/v4lproik/subscriptions",
      "organizations_url": "https://api.github.com/users/v4lproik/orgs",
      "repos_url": "https://api.github.com/users/v4lproik/repos",
      "events_url": "https://api.github.com/users/v4lproik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/v4lproik/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2024-01-11T11:23:11Z",
    "updated_at": "2024-01-11T11:23:55Z",
    "author_association": "NONE",
    "body": "Hi @potuz!\r\n\r\nI have a question related to this issue.\r\n\r\nI understand that the slashing logic for an equivocating block is done in the `slasher` service which runs as a routine listening to the `BeaconBlockHeadersFeed`.\r\n\r\nBreaking down what the `slasher` does when receiving a new block, we have:\r\n- `detectProposerSlashings` (read and write ops)\r\n- `processProposerSlashings`\r\n\r\nAt the moment, my PR simply implements the `detectProposerSlashings` read op bit in the beacon chain. I am not sure if you are expecting me to implement the write op too - which is merely saving the `proposerSlashings` to the database.\r\n\r\nAlso, I am not sure that implementing the broadcast in the beacon chain is what you are expecting as I would bypass the `processProposerSlashings` which first verifies the block headers signatures, log the slashing proposal and then insert it in the becon node's operations pool.\r\n\r\nCould you give some pointers. Thanks!",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/1886932845/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/1886949520",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/13088#issuecomment-1886949520",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/13088",
    "id": 1886949520,
    "node_id": "IC_kwDOBvuov85weJCQ",
    "user": {
      "login": "v4lproik",
      "id": 2066462,
      "node_id": "MDQ6VXNlcjIwNjY0NjI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2066462?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/v4lproik",
      "html_url": "https://github.com/v4lproik",
      "followers_url": "https://api.github.com/users/v4lproik/followers",
      "following_url": "https://api.github.com/users/v4lproik/following{/other_user}",
      "gists_url": "https://api.github.com/users/v4lproik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/v4lproik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/v4lproik/subscriptions",
      "organizations_url": "https://api.github.com/users/v4lproik/orgs",
      "repos_url": "https://api.github.com/users/v4lproik/repos",
      "events_url": "https://api.github.com/users/v4lproik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/v4lproik/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2024-01-11T11:34:22Z",
    "updated_at": "2024-01-11T11:41:06Z",
    "author_association": "NONE",
    "body": "Maybe two different possible roads would be:\r\n1. The BN also write the `detectProposerSlashings` write bit, which would result in sending a new type of event to the `slasher` in order to avoid stressing the DB and for further processing (verify the header signatures)\r\n2. The BN is the source of truth when it comes to flagging equivocating blocks and fills a cache (something along the lines of [epoch-1, epoch] as a range).\r\n\r\nLet me know what you think.\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/1886949520/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
