{
  "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/11289",
  "repository_url": "https://api.github.com/repos/prysmaticlabs/prysm",
  "labels_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/11289/labels{/name}",
  "comments_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/11289/comments",
  "events_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/11289/events",
  "html_url": "https://github.com/prysmaticlabs/prysm/issues/11289",
  "id": 1347205278,
  "node_id": "I_kwDOBvuov85QTLie",
  "number": 11289,
  "title": "Is it possible to run multiple execution clients against one prysm?",
  "user": {
    "login": "zzh1996",
    "id": 10773481,
    "node_id": "MDQ6VXNlcjEwNzczNDgx",
    "avatar_url": "https://avatars.githubusercontent.com/u/10773481?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/zzh1996",
    "html_url": "https://github.com/zzh1996",
    "followers_url": "https://api.github.com/users/zzh1996/followers",
    "following_url": "https://api.github.com/users/zzh1996/following{/other_user}",
    "gists_url": "https://api.github.com/users/zzh1996/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/zzh1996/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/zzh1996/subscriptions",
    "organizations_url": "https://api.github.com/users/zzh1996/orgs",
    "repos_url": "https://api.github.com/users/zzh1996/repos",
    "events_url": "https://api.github.com/users/zzh1996/events{/privacy}",
    "received_events_url": "https://api.github.com/users/zzh1996/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 4,
  "created_at": "2022-08-23T01:47:00Z",
  "updated_at": "2022-09-07T09:09:33Z",
  "closed_at": "2022-08-23T17:53:11Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "<!--ðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’Ž\r\n\r\nHellooo! ðŸ˜„ \r\n\r\nTo help us tend to your issue faster, please search our currently open issues before submitting a new one.\r\nExisting issues often contain information about workarounds, resolution, or progress updates.\r\n\r\nðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’Ž-->\r\n\r\n# ðŸ’Ž Issue\r\n\r\n\r\nI'm currently running multiple execution clients (geth, erigon, etc) on the same machine. I want these execution clients to share the same prysm to avoid (disk, memory, network, cpu) redundancy. I searched on the Internet (also prysm documentation) but found nobody talking about this approach.\r\n\r\nIf possible, how can I do this?\r\n\r\nIf not possible, please treat this as a feature request.\r\n\r\nAlso, does any other consensus client support this?",
  "closed_by": {
    "login": "rauljordan",
    "id": 5572669,
    "node_id": "MDQ6VXNlcjU1NzI2Njk=",
    "avatar_url": "https://avatars.githubusercontent.com/u/5572669?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/rauljordan",
    "html_url": "https://github.com/rauljordan",
    "followers_url": "https://api.github.com/users/rauljordan/followers",
    "following_url": "https://api.github.com/users/rauljordan/following{/other_user}",
    "gists_url": "https://api.github.com/users/rauljordan/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/rauljordan/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/rauljordan/subscriptions",
    "organizations_url": "https://api.github.com/users/rauljordan/orgs",
    "repos_url": "https://api.github.com/users/rauljordan/repos",
    "events_url": "https://api.github.com/users/rauljordan/events{/privacy}",
    "received_events_url": "https://api.github.com/users/rauljordan/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/11289/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/11289/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/1223972412",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/11289#issuecomment-1223972412",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/11289",
    "id": 1223972412,
    "node_id": "IC_kwDOBvuov85I9FY8",
    "user": {
      "login": "ptxptx2",
      "id": 446172,
      "node_id": "MDQ6VXNlcjQ0NjE3Mg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/446172?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ptxptx2",
      "html_url": "https://github.com/ptxptx2",
      "followers_url": "https://api.github.com/users/ptxptx2/followers",
      "following_url": "https://api.github.com/users/ptxptx2/following{/other_user}",
      "gists_url": "https://api.github.com/users/ptxptx2/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ptxptx2/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ptxptx2/subscriptions",
      "organizations_url": "https://api.github.com/users/ptxptx2/orgs",
      "repos_url": "https://api.github.com/users/ptxptx2/repos",
      "events_url": "https://api.github.com/users/ptxptx2/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ptxptx2/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-08-23T12:03:47Z",
    "updated_at": "2022-08-23T12:03:47Z",
    "author_association": "NONE",
    "body": "I would think it's not possible because the beacon chain has to point to an execution client endpoint - and only one execution client can be listening to a specific endpoint.\r\n\r\nIf you are talking about just running 2 execution clients and then have prysm beacon chain point to one of them such that only the execution client pointed to would be doing actual execution, I would think that's possible.  The other one (not pointed to) would just be idle and serve as backup?\r\n\r\nJust my 2 cents...",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/1223972412/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/1224467747",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/11289#issuecomment-1224467747",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/11289",
    "id": 1224467747,
    "node_id": "IC_kwDOBvuov85I--Uj",
    "user": {
      "login": "rauljordan",
      "id": 5572669,
      "node_id": "MDQ6VXNlcjU1NzI2Njk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5572669?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rauljordan",
      "html_url": "https://github.com/rauljordan",
      "followers_url": "https://api.github.com/users/rauljordan/followers",
      "following_url": "https://api.github.com/users/rauljordan/following{/other_user}",
      "gists_url": "https://api.github.com/users/rauljordan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rauljordan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rauljordan/subscriptions",
      "organizations_url": "https://api.github.com/users/rauljordan/orgs",
      "repos_url": "https://api.github.com/users/rauljordan/repos",
      "events_url": "https://api.github.com/users/rauljordan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rauljordan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-08-23T17:53:11Z",
    "updated_at": "2022-08-23T17:53:11Z",
    "author_association": "CONTRIBUTOR",
    "body": "Hi @zzh1996 this technically possible but not something that is supported in Prysm today or in other consensus clients as far as we are aware. After the merge, each execution client needs one consensus client. It is a model of 1 Prysm : 1 Geth, but you could do 1 Prysm : N Geth if you had some kind of connection multiplexer in-between that sends the same data from Prysm to your N geth instances.\r\n\r\nWe don't recommend the above for redundancy because at the end of the day, you only have 1 Prysm instance and if that goes down, your redundancy did not matter. Unless you are operating something like Infura or an API provider, I would not recommend going down this approach. You will not gain much redundancy for the effort needed. Happy to chat more about this in our Discord [here](https://discord.gg/prysmaticlabs) to have a discussion on how to help your needs",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/1224467747/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/1239101143",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/11289#issuecomment-1239101143",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/11289",
    "id": 1239101143,
    "node_id": "IC_kwDOBvuov85J2y7X",
    "user": {
      "login": "jackyzhujiale",
      "id": 52772762,
      "node_id": "MDQ6VXNlcjUyNzcyNzYy",
      "avatar_url": "https://avatars.githubusercontent.com/u/52772762?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jackyzhujiale",
      "html_url": "https://github.com/jackyzhujiale",
      "followers_url": "https://api.github.com/users/jackyzhujiale/followers",
      "following_url": "https://api.github.com/users/jackyzhujiale/following{/other_user}",
      "gists_url": "https://api.github.com/users/jackyzhujiale/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jackyzhujiale/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jackyzhujiale/subscriptions",
      "organizations_url": "https://api.github.com/users/jackyzhujiale/orgs",
      "repos_url": "https://api.github.com/users/jackyzhujiale/repos",
      "events_url": "https://api.github.com/users/jackyzhujiale/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jackyzhujiale/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-09-07T08:52:30Z",
    "updated_at": "2022-09-07T08:52:30Z",
    "author_association": "NONE",
    "body": "@zzh1996 seems nimbus support this feature. https://nimbus.guide/web3-backup.html\r\nAlso per Execution API doc this should be possible: https://github.com/ethereum/execution-apis/blob/main/src/engine/specification.md#load-balancing-and-advanced-configurations",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/1239101143/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/1239120453",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/11289#issuecomment-1239120453",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/11289",
    "id": 1239120453,
    "node_id": "IC_kwDOBvuov85J23pF",
    "user": {
      "login": "nisdas",
      "id": 33201827,
      "node_id": "MDQ6VXNlcjMzMjAxODI3",
      "avatar_url": "https://avatars.githubusercontent.com/u/33201827?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nisdas",
      "html_url": "https://github.com/nisdas",
      "followers_url": "https://api.github.com/users/nisdas/followers",
      "following_url": "https://api.github.com/users/nisdas/following{/other_user}",
      "gists_url": "https://api.github.com/users/nisdas/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nisdas/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nisdas/subscriptions",
      "organizations_url": "https://api.github.com/users/nisdas/orgs",
      "repos_url": "https://api.github.com/users/nisdas/repos",
      "events_url": "https://api.github.com/users/nisdas/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nisdas/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-09-07T09:09:16Z",
    "updated_at": "2022-09-07T09:09:33Z",
    "author_association": "MEMBER",
    "body": "@zzh1996 @jackyzhujiale  So post-merge, having a fallback will fail in its purpose. Each fallback execution node needs to be able to keep in sync with the tip of the execution chain, without a beacon node that it isnt possible. The nimbus doc states:\r\n```\r\nThe backup web3 provider must use the same JWT secret as the main provider, and will not be used until the main provider has failed. This may result in a gap in duties as the backup provider syncs. \r\n```\r\nSo even if you fallback, you might need to wait a while ( depending on when your fallback was last synced) , to be back up. If you really need to have a single beacon node drive multiple execution nodes, you can take a look at this project:\r\nhttps://github.com/TennisBowling/executionbackup\r\n\r\nIt provides a piece of middleware which handles this. An obvious caveat is that if your execution nodes differ from each your beacon node can be stuck, act in wierd ways. ",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/1239120453/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
