{
  "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/4003",
  "repository_url": "https://api.github.com/repos/prysmaticlabs/prysm",
  "labels_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/4003/labels{/name}",
  "comments_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/4003/comments",
  "events_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/4003/events",
  "html_url": "https://github.com/prysmaticlabs/prysm/issues/4003",
  "id": 522671078,
  "node_id": "MDU6SXNzdWU1MjI2NzEwNzg=",
  "number": 4003,
  "title": "beaconchain can't process deposit logs",
  "user": {
    "login": "stefa2k",
    "id": 54934211,
    "node_id": "MDQ6VXNlcjU0OTM0MjEx",
    "avatar_url": "https://avatars.githubusercontent.com/u/54934211?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/stefa2k",
    "html_url": "https://github.com/stefa2k",
    "followers_url": "https://api.github.com/users/stefa2k/followers",
    "following_url": "https://api.github.com/users/stefa2k/following{/other_user}",
    "gists_url": "https://api.github.com/users/stefa2k/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/stefa2k/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/stefa2k/subscriptions",
    "organizations_url": "https://api.github.com/users/stefa2k/orgs",
    "repos_url": "https://api.github.com/users/stefa2k/repos",
    "events_url": "https://api.github.com/users/stefa2k/events{/privacy}",
    "received_events_url": "https://api.github.com/users/stefa2k/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 802129904,
      "node_id": "MDU6TGFiZWw4MDIxMjk5MDQ=",
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/labels/Bug",
      "name": "Bug",
      "color": "ee0701",
      "default": false,
      "description": "Something isn't working"
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 8,
  "created_at": "2019-11-14T07:15:47Z",
  "updated_at": "2022-08-25T11:48:30Z",
  "closed_at": "2019-11-27T17:16:42Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "Beaconchain spills out lots of these (numbers match every time, they don't change):\r\n```\r\n[2019-11-14 07:14:02] ERROR powchain: could not process log: Could not process deposit log: Could not get correct merkle index: despite requesting missing logs, latest index observed is not accurate. Wanted 314 but got 313\r\n```",
  "closed_by": {
    "login": "rauljordan",
    "id": 5572669,
    "node_id": "MDQ6VXNlcjU1NzI2Njk=",
    "avatar_url": "https://avatars.githubusercontent.com/u/5572669?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/rauljordan",
    "html_url": "https://github.com/rauljordan",
    "followers_url": "https://api.github.com/users/rauljordan/followers",
    "following_url": "https://api.github.com/users/rauljordan/following{/other_user}",
    "gists_url": "https://api.github.com/users/rauljordan/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/rauljordan/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/rauljordan/subscriptions",
    "organizations_url": "https://api.github.com/users/rauljordan/orgs",
    "repos_url": "https://api.github.com/users/rauljordan/repos",
    "events_url": "https://api.github.com/users/rauljordan/events{/privacy}",
    "received_events_url": "https://api.github.com/users/rauljordan/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/4003/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/4003/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/559178587",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/4003#issuecomment-559178587",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/4003",
    "id": 559178587,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU1OTE3ODU4Nw==",
    "user": {
      "login": "rauljordan",
      "id": 5572669,
      "node_id": "MDQ6VXNlcjU1NzI2Njk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5572669?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rauljordan",
      "html_url": "https://github.com/rauljordan",
      "followers_url": "https://api.github.com/users/rauljordan/followers",
      "following_url": "https://api.github.com/users/rauljordan/following{/other_user}",
      "gists_url": "https://api.github.com/users/rauljordan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rauljordan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rauljordan/subscriptions",
      "organizations_url": "https://api.github.com/users/rauljordan/orgs",
      "repos_url": "https://api.github.com/users/rauljordan/repos",
      "events_url": "https://api.github.com/users/rauljordan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rauljordan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-11-27T17:16:42Z",
    "updated_at": "2019-11-27T17:16:42Z",
    "author_association": "CONTRIBUTOR",
    "body": "Resolved by @nisdas's bug fixes in our powchain service",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/559178587/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/776044217",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/4003#issuecomment-776044217",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/4003",
    "id": 776044217,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc3NjA0NDIxNw==",
    "user": {
      "login": "privatejava",
      "id": 1856055,
      "node_id": "MDQ6VXNlcjE4NTYwNTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1856055?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/privatejava",
      "html_url": "https://github.com/privatejava",
      "followers_url": "https://api.github.com/users/privatejava/followers",
      "following_url": "https://api.github.com/users/privatejava/following{/other_user}",
      "gists_url": "https://api.github.com/users/privatejava/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/privatejava/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/privatejava/subscriptions",
      "organizations_url": "https://api.github.com/users/privatejava/orgs",
      "repos_url": "https://api.github.com/users/privatejava/repos",
      "events_url": "https://api.github.com/users/privatejava/events{/privacy}",
      "received_events_url": "https://api.github.com/users/privatejava/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-02-09T15:55:15Z",
    "updated_at": "2021-02-09T15:55:15Z",
    "author_association": "NONE",
    "body": "beacon_mainnet  | time=\"2021-02-09 15:54:10\" level=error msg=\"Unable to process past logs Could not process deposit log: could not get correct merkle index: latest index observed is not accurate, wanted 85359, but received  85358\" prefix=powchain",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/776044217/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/1173112120",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/4003#issuecomment-1173112120",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/4003",
    "id": 1173112120,
    "node_id": "IC_kwDOBvuov85F7EU4",
    "user": {
      "login": "Quilamir",
      "id": 11404358,
      "node_id": "MDQ6VXNlcjExNDA0MzU4",
      "avatar_url": "https://avatars.githubusercontent.com/u/11404358?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Quilamir",
      "html_url": "https://github.com/Quilamir",
      "followers_url": "https://api.github.com/users/Quilamir/followers",
      "following_url": "https://api.github.com/users/Quilamir/following{/other_user}",
      "gists_url": "https://api.github.com/users/Quilamir/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Quilamir/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Quilamir/subscriptions",
      "organizations_url": "https://api.github.com/users/Quilamir/orgs",
      "repos_url": "https://api.github.com/users/Quilamir/repos",
      "events_url": "https://api.github.com/users/Quilamir/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Quilamir/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-07-03T15:30:41Z",
    "updated_at": "2022-07-03T15:30:41Z",
    "author_association": "NONE",
    "body": "Jul 03 15:28:34 ip-10-0-255-202 prysm.sh[630]: time=\"2022-07-03 15:28:34\" level=error msg=\"Could not process deposit log: received incorrect merkle index: wanted 409938 but got 410636\" prefix=powchain\r\n\r\nany idea how to get this resolved, been going on for quite a while now",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/1173112120/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/1200515344",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/4003#issuecomment-1200515344",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/4003",
    "id": 1200515344,
    "node_id": "IC_kwDOBvuov85HjmkQ",
    "user": {
      "login": "3cl1ps",
      "id": 2938587,
      "node_id": "MDQ6VXNlcjI5Mzg1ODc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2938587?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/3cl1ps",
      "html_url": "https://github.com/3cl1ps",
      "followers_url": "https://api.github.com/users/3cl1ps/followers",
      "following_url": "https://api.github.com/users/3cl1ps/following{/other_user}",
      "gists_url": "https://api.github.com/users/3cl1ps/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/3cl1ps/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/3cl1ps/subscriptions",
      "organizations_url": "https://api.github.com/users/3cl1ps/orgs",
      "repos_url": "https://api.github.com/users/3cl1ps/repos",
      "events_url": "https://api.github.com/users/3cl1ps/events{/privacy}",
      "received_events_url": "https://api.github.com/users/3cl1ps/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-07-31T22:38:12Z",
    "updated_at": "2022-07-31T22:38:42Z",
    "author_association": "NONE",
    "body": "same error here :\r\n```\r\njuil. 31 23:37:36 thomas-B550M beacon-chain[2825]: time=\"2022-07-31 23:37:36\" level=info msg=\"Synced new block\" block=0xc6a19f6c... epoch=136674 finalizedEpoch=136672 finalizedRoot=0x2044ce0a... prefix=blockchain slot=4373586 \r\njuil. 31 23:37:36 thomas-B550M beacon-chain[2825]: time=\"2022-07-31 23:37:36\" level=info msg=\"Finished applying state transition\" attestations=69 prefix=blockchain slot=4373586 syncBitsCount=504 \r\njuil. 31 23:37:43 thomas-B550M beacon-chain[2825]: time=\"2022-07-31 23:37:43\" level=info msg=\"Falling back to historical headers and logs sync. Current difference is 48444\" prefix=powchain \r\njuil. 31 23:37:43 thomas-B550M beacon-chain[2825]: time=\"2022-07-31 23:37:43\" level=error msg=\"Could not process deposit log: received incorrect merkle index: wanted 416001 but got 417304\" prefix=powchain\r\n```\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/1200515344/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/1200582619",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/4003#issuecomment-1200582619",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/4003",
    "id": 1200582619,
    "node_id": "IC_kwDOBvuov85Hj2_b",
    "user": {
      "login": "nisdas",
      "id": 33201827,
      "node_id": "MDQ6VXNlcjMzMjAxODI3",
      "avatar_url": "https://avatars.githubusercontent.com/u/33201827?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nisdas",
      "html_url": "https://github.com/nisdas",
      "followers_url": "https://api.github.com/users/nisdas/followers",
      "following_url": "https://api.github.com/users/nisdas/following{/other_user}",
      "gists_url": "https://api.github.com/users/nisdas/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nisdas/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nisdas/subscriptions",
      "organizations_url": "https://api.github.com/users/nisdas/orgs",
      "repos_url": "https://api.github.com/users/nisdas/repos",
      "events_url": "https://api.github.com/users/nisdas/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nisdas/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-08-01T01:38:56Z",
    "updated_at": "2022-08-01T01:38:56Z",
    "author_association": "MEMBER",
    "body": "Which execution client are you guys using ? @Quilamir @3cl1ps ",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/1200582619/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/1200828683",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/4003#issuecomment-1200828683",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/4003",
    "id": 1200828683,
    "node_id": "IC_kwDOBvuov85HkzEL",
    "user": {
      "login": "3cl1ps",
      "id": 2938587,
      "node_id": "MDQ6VXNlcjI5Mzg1ODc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2938587?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/3cl1ps",
      "html_url": "https://github.com/3cl1ps",
      "followers_url": "https://api.github.com/users/3cl1ps/followers",
      "following_url": "https://api.github.com/users/3cl1ps/following{/other_user}",
      "gists_url": "https://api.github.com/users/3cl1ps/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/3cl1ps/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/3cl1ps/subscriptions",
      "organizations_url": "https://api.github.com/users/3cl1ps/orgs",
      "repos_url": "https://api.github.com/users/3cl1ps/repos",
      "events_url": "https://api.github.com/users/3cl1ps/events{/privacy}",
      "received_events_url": "https://api.github.com/users/3cl1ps/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-08-01T07:36:25Z",
    "updated_at": "2022-08-01T07:36:25Z",
    "author_association": "NONE",
    "body": "/data4/prysm/beacon-chain --datadir=/data4/prysm/data --http-web3provider=http://127.0.0.1:8546,http://127.0.0.1:8548 --accept-terms-of-use --p2p-tcp-port=12000 --p2p-udp-port=1200\r\n8546 is erigon, 8548 is nethermind.\r\n\r\nprysm v2.1.3, erigon is using the latest commit (devel branch) : d866b119236c9b93ca071abc0e45526cf82b58d7\r\n\r\nLinux thomas-B550M 5.15.0-41-generic #44~20.04.1-Ubuntu SMP Fri Jun 24 13:27:29 UTC 2022 x86_64 x86_64 x86_64 GNU/Linux\r\n\r\nI restarted the service to increase log level, i don't have this error anymore.",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/1200828683/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/1200835680",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/4003#issuecomment-1200835680",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/4003",
    "id": 1200835680,
    "node_id": "IC_kwDOBvuov85Hk0xg",
    "user": {
      "login": "nisdas",
      "id": 33201827,
      "node_id": "MDQ6VXNlcjMzMjAxODI3",
      "avatar_url": "https://avatars.githubusercontent.com/u/33201827?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nisdas",
      "html_url": "https://github.com/nisdas",
      "followers_url": "https://api.github.com/users/nisdas/followers",
      "following_url": "https://api.github.com/users/nisdas/following{/other_user}",
      "gists_url": "https://api.github.com/users/nisdas/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nisdas/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nisdas/subscriptions",
      "organizations_url": "https://api.github.com/users/nisdas/orgs",
      "repos_url": "https://api.github.com/users/nisdas/repos",
      "events_url": "https://api.github.com/users/nisdas/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nisdas/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-08-01T07:43:13Z",
    "updated_at": "2022-08-01T07:43:13Z",
    "author_association": "MEMBER",
    "body": "@3cl1ps Ok we are planning to remove the use of fallback nodes with the merge. Due to the interplay between consensus and execution clients, a consensus client (prysm) should only be connected to one execution client(nethermind, erigon). There have been reported issues with deposit logs via erigon, you might have better luck asking the erigon team on how to resolve it. Alternatively you can use only nethermind and see if that helps. ",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/1200835680/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/1227152702",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/4003#issuecomment-1227152702",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/4003",
    "id": 1227152702,
    "node_id": "IC_kwDOBvuov85JJN0-",
    "user": {
      "login": "Quilamir",
      "id": 11404358,
      "node_id": "MDQ6VXNlcjExNDA0MzU4",
      "avatar_url": "https://avatars.githubusercontent.com/u/11404358?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Quilamir",
      "html_url": "https://github.com/Quilamir",
      "followers_url": "https://api.github.com/users/Quilamir/followers",
      "following_url": "https://api.github.com/users/Quilamir/following{/other_user}",
      "gists_url": "https://api.github.com/users/Quilamir/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Quilamir/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Quilamir/subscriptions",
      "organizations_url": "https://api.github.com/users/Quilamir/orgs",
      "repos_url": "https://api.github.com/users/Quilamir/repos",
      "events_url": "https://api.github.com/users/Quilamir/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Quilamir/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-08-25T11:48:30Z",
    "updated_at": "2022-08-25T11:48:30Z",
    "author_association": "NONE",
    "body": "@nisdas i am using the latest erigon client version 2022.08.2-alpha-35c4faa1",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/1227152702/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
