{
  "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/10909",
  "repository_url": "https://api.github.com/repos/prysmaticlabs/prysm",
  "labels_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/10909/labels{/name}",
  "comments_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/10909/comments",
  "events_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/10909/events",
  "html_url": "https://github.com/prysmaticlabs/prysm/issues/10909",
  "id": 1278101619,
  "node_id": "I_kwDOBvuov85MLkhz",
  "number": 10909,
  "title": "Recv failure: Connection reset by peer",
  "user": {
    "login": "duktig666",
    "id": 53132746,
    "node_id": "MDQ6VXNlcjUzMTMyNzQ2",
    "avatar_url": "https://avatars.githubusercontent.com/u/53132746?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/duktig666",
    "html_url": "https://github.com/duktig666",
    "followers_url": "https://api.github.com/users/duktig666/followers",
    "following_url": "https://api.github.com/users/duktig666/following{/other_user}",
    "gists_url": "https://api.github.com/users/duktig666/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/duktig666/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/duktig666/subscriptions",
    "organizations_url": "https://api.github.com/users/duktig666/orgs",
    "repos_url": "https://api.github.com/users/duktig666/repos",
    "events_url": "https://api.github.com/users/duktig666/events{/privacy}",
    "received_events_url": "https://api.github.com/users/duktig666/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 3,
  "created_at": "2022-06-21T08:39:10Z",
  "updated_at": "2022-09-12T07:46:06Z",
  "closed_at": "2022-09-12T07:46:06Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "\r\n# üêû Bug Report\r\n\r\n### Description\r\nbeacon-node rpc don't access\r\n\r\n## üî¨ Minimal Reproduction\r\ndocker:\r\n```\r\ndocker run -it -v /data/eth2/.eth2:/data -v /data/eth2/eth2-ext/genesis.ssz:/genesis/genesis.ssz -p 3500:3500 -p 4000:4000 -p 13000:13000 -p 12000:12000/udp -d --name beacon-node \\\r\n  gcr.io/prysmaticlabs/prysm/beacon-chain:stable \\\r\n  --datadir=/data \\\r\n  --rpc-host=0.0.0.0 \\\r\n  --monitoring-host=0.0.0.0 \\\r\n  --http-web3provider= \\\r\n  --genesis-state=/genesis/genesis.ssz \\\r\n  --prater\r\n```\r\nYou can check the sync status of your node with the following command on most systems:\r\n```\r\ncurl http://localhost:3500/eth/v1alpha1/node/syncing\r\n```\r\n\r\nlog:\r\n```\r\n[2022-06-21 07:03:56]  WARN flags: Running on the Prater Testnet\r\n[2022-06-21 07:03:56]  INFO node: Checking DB database-path=/data/beaconchaindata\r\n[2022-06-21 07:03:56]  INFO db: Opening Bolt DB at /data/beaconchaindata/beaconchain.db\r\n[2022-06-21 07:03:56]  INFO db: Opened Bolt DB elapsed=11.411164ms\r\n[2022-06-21 07:03:56]  INFO db: Creating block cache...\r\n[2022-06-21 07:03:56]  INFO db: Created block cache elapsed=227.284¬µs\r\n[2022-06-21 07:03:56]  INFO db: Creating validator cache...\r\n[2022-06-21 07:03:56]  INFO db: Created validator cache elapsed=278.32¬µs\r\n[2022-06-21 07:03:56]  INFO db: Updating DB and creating buckets...\r\n[2022-06-21 07:03:56]  INFO db: Updated db and created buckets elapsed=3.738158ms\r\n[2022-06-21 07:04:00]  INFO node: Deposit contract: 0xff50ed3d0ec03ac01d4c79aad74928bff48a7b2b\r\n[2022-06-21 07:04:00]  INFO p2p: Running node with peer id of \r\n[2022-06-21 07:04:06]  WARN blockchain: No valid weak subjectivity checkpoint specified, running without weak subjectivity verification\r\n[2022-06-21 07:04:06]  INFO initial-sync: Waiting for state to be initialized\r\n[2022-06-21 07:04:06]  INFO rpc: gRPC server listening on port address=0.0.0.0:4000\r\n[2022-06-21 07:04:06]  WARN rpc: You are using an insecure gRPC server. If you are running your beacon node and validator on the same machines, you can ignore this message. If you want to know how to enable secure connections, see: https://docs.prylabs.network/docs/prysm-usage/secure-grpc\r\n[2022-06-21 07:04:06]  INFO node: Starting beacon node version=Prysm/v2.1.2/e33850bf51e3a6e9bbf93e8ef799bff1d5e33f32. Built at: 2022-05-16 19:24:13+00:00\r\n[2022-06-21 07:04:06]  INFO blockchain: Blockchain data already exists in DB, initializing...\r\n[2022-06-21 07:04:06]  INFO db: Cleaning up dirty states count=1\r\n[2022-06-21 07:04:06]  INFO initial-sync: Starting initial chain sync...\r\n[2022-06-21 07:04:06]  INFO initial-sync: Waiting for enough suitable peers before syncing required=3 suitable=0\r\n[2022-06-21 07:04:06]  INFO gateway: Starting API middleware\r\n[2022-06-21 07:04:06]  INFO gateway: Starting gRPC gateway address=127.0.0.1:3500\r\n[2022-06-21 07:04:06]  INFO p2p: Node started p2p server multiAddr=/ip4/172.17.0.2/tcp/13000/p2p/16Uiu2HAkvXKVJkjomkQrmYWQYRqfGJmtyWxZSb9MYycrVsGFVzQQ\r\n[2022-06-21 07:04:11]  INFO initial-sync: Waiting for enough suitable peers before syncing required=3 suitable=0\r\n[2022-06-21 07:04:16]  INFO initial-sync: Waiting for enough suitable peers before syncing required=3 suitable=1\r\n[2022-06-21 07:04:21]  INFO initial-sync: Waiting for enough suitable peers before syncing required=3 suitable=1\r\n[2022-06-21 07:04:21]  INFO powchain: Connected to new endpoint: \r\n[2022-06-21 07:04:26]  INFO initial-sync: Waiting for enough suitable peers before syncing required=3 suitable=2\r\n[2022-06-21 07:04:34]  INFO initial-sync: Processing block batch of size 31 starting from  0x5dd8ebe7... 146017/3273922 - estimated time remaining 560h33m23s blocksPerSecond=1.6 peers=3\r\n[2022-06-21 07:04:54]  INFO initial-sync: Processing block batch of size 63 starting from  0x3276947a... 146048/3273924 - estimated time remaining 275h49m36s blocksPerSecond=3.1 peers=4\r\n[2022-06-21 07:05:01]  INFO initial-sync: Processing block batch of size 61 starting from  0xfd7c1b66... 146112/3273925 - estimated time remaining 140h8m5s blocksPerSecond=6.2 peers=5\r\n```\r\n\r\n<!--\r\nPlease let us know how we can reproduce this issue. Include the exact method you used to run Prysm along with any flags used in your beacon chain and/or validator. Make sure you don't upload any confidential files or private keys.\r\n-->\r\n\r\n## üî• Error\r\n\r\n<pre><code>\r\n<!-- If the issue is accompanied by an error, please share the error logs with us below. If you have a lot of logs, place make a paste bin with your logs and share the link with us here: -->\r\n<!-- ‚úçÔ∏è-->\r\ncurl: (56) Recv failure: Connection reset by peer\r\n</code></pre>\r\n\r\n\r\n## üåç  Your Environment\r\n\r\n**What version of Prysm are you running? (Which release)**\r\n\r\n<pre>\r\n  <code>\r\n2.1.2\r\n  </code>\r\n</pre>\r\n\r\n## other\r\nI see #3868  #3945.  But it doesn't solve the problem.\r\n\r\n\r\n",
  "closed_by": {
    "login": "terencechain",
    "id": 21316537,
    "node_id": "MDQ6VXNlcjIxMzE2NTM3",
    "avatar_url": "https://avatars.githubusercontent.com/u/21316537?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/terencechain",
    "html_url": "https://github.com/terencechain",
    "followers_url": "https://api.github.com/users/terencechain/followers",
    "following_url": "https://api.github.com/users/terencechain/following{/other_user}",
    "gists_url": "https://api.github.com/users/terencechain/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/terencechain/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/terencechain/subscriptions",
    "organizations_url": "https://api.github.com/users/terencechain/orgs",
    "repos_url": "https://api.github.com/users/terencechain/repos",
    "events_url": "https://api.github.com/users/terencechain/events{/privacy}",
    "received_events_url": "https://api.github.com/users/terencechain/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/10909/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/10909/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/1161499908",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/10909#issuecomment-1161499908",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/10909",
    "id": 1161499908,
    "node_id": "IC_kwDOBvuov85FOxUE",
    "user": {
      "login": "duktig666",
      "id": 53132746,
      "node_id": "MDQ6VXNlcjUzMTMyNzQ2",
      "avatar_url": "https://avatars.githubusercontent.com/u/53132746?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/duktig666",
      "html_url": "https://github.com/duktig666",
      "followers_url": "https://api.github.com/users/duktig666/followers",
      "following_url": "https://api.github.com/users/duktig666/following{/other_user}",
      "gists_url": "https://api.github.com/users/duktig666/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/duktig666/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/duktig666/subscriptions",
      "organizations_url": "https://api.github.com/users/duktig666/orgs",
      "repos_url": "https://api.github.com/users/duktig666/repos",
      "events_url": "https://api.github.com/users/duktig666/events{/privacy}",
      "received_events_url": "https://api.github.com/users/duktig666/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-06-21T09:31:22Z",
    "updated_at": "2022-06-21T09:31:22Z",
    "author_association": "NONE",
    "body": "Is it necessary to configure TSL before accessing?",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/1161499908/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/1168617581",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/10909#issuecomment-1168617581",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/10909",
    "id": 1168617581,
    "node_id": "IC_kwDOBvuov85Fp7Bt",
    "user": {
      "login": "prestonvanloon",
      "id": 7246818,
      "node_id": "MDQ6VXNlcjcyNDY4MTg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7246818?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/prestonvanloon",
      "html_url": "https://github.com/prestonvanloon",
      "followers_url": "https://api.github.com/users/prestonvanloon/followers",
      "following_url": "https://api.github.com/users/prestonvanloon/following{/other_user}",
      "gists_url": "https://api.github.com/users/prestonvanloon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/prestonvanloon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/prestonvanloon/subscriptions",
      "organizations_url": "https://api.github.com/users/prestonvanloon/orgs",
      "repos_url": "https://api.github.com/users/prestonvanloon/repos",
      "events_url": "https://api.github.com/users/prestonvanloon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/prestonvanloon/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-06-28T11:47:30Z",
    "updated_at": "2022-06-28T11:47:30Z",
    "author_association": "MEMBER",
    "body": "@duktig666 please try adding `--grpc-gateway-host=0.0.0.0`",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/1168617581/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/1243344323",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/10909#issuecomment-1243344323",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/10909",
    "id": 1243344323,
    "node_id": "IC_kwDOBvuov85KG-3D",
    "user": {
      "login": "terencechain",
      "id": 21316537,
      "node_id": "MDQ6VXNlcjIxMzE2NTM3",
      "avatar_url": "https://avatars.githubusercontent.com/u/21316537?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/terencechain",
      "html_url": "https://github.com/terencechain",
      "followers_url": "https://api.github.com/users/terencechain/followers",
      "following_url": "https://api.github.com/users/terencechain/following{/other_user}",
      "gists_url": "https://api.github.com/users/terencechain/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/terencechain/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/terencechain/subscriptions",
      "organizations_url": "https://api.github.com/users/terencechain/orgs",
      "repos_url": "https://api.github.com/users/terencechain/repos",
      "events_url": "https://api.github.com/users/terencechain/events{/privacy}",
      "received_events_url": "https://api.github.com/users/terencechain/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-09-12T07:46:04Z",
    "updated_at": "2022-09-12T07:46:04Z",
    "author_association": "MEMBER",
    "body": "@duktig666 please reopen if it still persists ",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/1243344323/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
