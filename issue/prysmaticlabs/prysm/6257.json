{
  "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/6257",
  "repository_url": "https://api.github.com/repos/prysmaticlabs/prysm",
  "labels_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/6257/labels{/name}",
  "comments_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/6257/comments",
  "events_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/6257/events",
  "html_url": "https://github.com/prysmaticlabs/prysm/issues/6257",
  "id": 638442590,
  "node_id": "MDU6SXNzdWU2Mzg0NDI1OTA=",
  "number": 6257,
  "title": " Previous epoch aggregated voting summary displays incorrect stats (sometimes)",
  "user": {
    "login": "terencechain",
    "id": 21316537,
    "node_id": "MDQ6VXNlcjIxMzE2NTM3",
    "avatar_url": "https://avatars.githubusercontent.com/u/21316537?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/terencechain",
    "html_url": "https://github.com/terencechain",
    "followers_url": "https://api.github.com/users/terencechain/followers",
    "following_url": "https://api.github.com/users/terencechain/following{/other_user}",
    "gists_url": "https://api.github.com/users/terencechain/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/terencechain/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/terencechain/subscriptions",
    "organizations_url": "https://api.github.com/users/terencechain/orgs",
    "repos_url": "https://api.github.com/users/terencechain/repos",
    "events_url": "https://api.github.com/users/terencechain/events{/privacy}",
    "received_events_url": "https://api.github.com/users/terencechain/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 802129904,
      "node_id": "MDU6TGFiZWw4MDIxMjk5MDQ=",
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/labels/Bug",
      "name": "Bug",
      "color": "ee0701",
      "default": false,
      "description": "Something isn't working"
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": {
    "login": "terencechain",
    "id": 21316537,
    "node_id": "MDQ6VXNlcjIxMzE2NTM3",
    "avatar_url": "https://avatars.githubusercontent.com/u/21316537?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/terencechain",
    "html_url": "https://github.com/terencechain",
    "followers_url": "https://api.github.com/users/terencechain/followers",
    "following_url": "https://api.github.com/users/terencechain/following{/other_user}",
    "gists_url": "https://api.github.com/users/terencechain/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/terencechain/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/terencechain/subscriptions",
    "organizations_url": "https://api.github.com/users/terencechain/orgs",
    "repos_url": "https://api.github.com/users/terencechain/repos",
    "events_url": "https://api.github.com/users/terencechain/events{/privacy}",
    "received_events_url": "https://api.github.com/users/terencechain/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "terencechain",
      "id": 21316537,
      "node_id": "MDQ6VXNlcjIxMzE2NTM3",
      "avatar_url": "https://avatars.githubusercontent.com/u/21316537?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/terencechain",
      "html_url": "https://github.com/terencechain",
      "followers_url": "https://api.github.com/users/terencechain/followers",
      "following_url": "https://api.github.com/users/terencechain/following{/other_user}",
      "gists_url": "https://api.github.com/users/terencechain/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/terencechain/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/terencechain/subscriptions",
      "organizations_url": "https://api.github.com/users/terencechain/orgs",
      "repos_url": "https://api.github.com/users/terencechain/repos",
      "events_url": "https://api.github.com/users/terencechain/events{/privacy}",
      "received_events_url": "https://api.github.com/users/terencechain/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2020-06-14T22:23:35Z",
  "updated_at": "2020-06-15T17:25:59Z",
  "closed_at": "2020-06-15T17:25:59Z",
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": "<!--üíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíé\r\n\r\nHellooo! üòÑ \r\n\r\nTo help us tend to your issue faster, please search our currently open issues before submitting a new one.\r\nExisting issues often contain information about workarounds, resolution, or progress updates.\r\n\r\nüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíé-->\r\n\r\n# üêû Bug Report\r\n\r\n### Description\r\n\r\n` Previous epoch aggregated voting summary...`  displays incorrect stats sometimes. In my setup, it has been reported 0% inclusions the last few epochs but such reporting didn't align with beacon block explorers.\r\n\r\n```\r\n Previous epoch aggregated voting summary attestationInclusionPercentage=0% correctlyVotedHeadPercentage=0% correctlyVotedSourcePercentage=0% correctlyVotedTargetPercentage=0% epoch=158\r\n```\r\n\r\n### Has this worked before in a previous version?\r\n\r\nYes. In Topaz\r\n\r\n## üî¨ Minimal Reproduction\r\n\r\nRun validators\r\n",
  "closed_by": {
    "login": "prylabs-bulldozer[bot]",
    "id": 58059840,
    "node_id": "MDM6Qm90NTgwNTk4NDA=",
    "avatar_url": "https://avatars.githubusercontent.com/in/47372?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/prylabs-bulldozer%5Bbot%5D",
    "html_url": "https://github.com/apps/prylabs-bulldozer",
    "followers_url": "https://api.github.com/users/prylabs-bulldozer%5Bbot%5D/followers",
    "following_url": "https://api.github.com/users/prylabs-bulldozer%5Bbot%5D/following{/other_user}",
    "gists_url": "https://api.github.com/users/prylabs-bulldozer%5Bbot%5D/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/prylabs-bulldozer%5Bbot%5D/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/prylabs-bulldozer%5Bbot%5D/subscriptions",
    "organizations_url": "https://api.github.com/users/prylabs-bulldozer%5Bbot%5D/orgs",
    "repos_url": "https://api.github.com/users/prylabs-bulldozer%5Bbot%5D/repos",
    "events_url": "https://api.github.com/users/prylabs-bulldozer%5Bbot%5D/events{/privacy}",
    "received_events_url": "https://api.github.com/users/prylabs-bulldozer%5Bbot%5D/received_events",
    "type": "Bot",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/6257/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/6257/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/643929663",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/6257#issuecomment-643929663",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/6257",
    "id": 643929663,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY0MzkyOTY2Mw==",
    "user": {
      "login": "handelaar2",
      "id": 28559038,
      "node_id": "MDQ6VXNlcjI4NTU5MDM4",
      "avatar_url": "https://avatars.githubusercontent.com/u/28559038?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/handelaar2",
      "html_url": "https://github.com/handelaar2",
      "followers_url": "https://api.github.com/users/handelaar2/followers",
      "following_url": "https://api.github.com/users/handelaar2/following{/other_user}",
      "gists_url": "https://api.github.com/users/handelaar2/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/handelaar2/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/handelaar2/subscriptions",
      "organizations_url": "https://api.github.com/users/handelaar2/orgs",
      "repos_url": "https://api.github.com/users/handelaar2/repos",
      "events_url": "https://api.github.com/users/handelaar2/events{/privacy}",
      "received_events_url": "https://api.github.com/users/handelaar2/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-06-15T06:26:50Z",
    "updated_at": "2020-06-15T13:58:20Z",
    "author_association": "NONE",
    "body": "I noticed the same thing during startup of the Onyx chain. It seems to me that `GetValidatorPerformance` is returning the wrong results sometimes (also see the difference in **duration** between the two calls). In below screenprint of the validator log, one can see that the new_balance of the 'previous' epoch does not match  the old_balance of the 'current' epoch. In the 'previous' epoch, one can also see all the \"false\"-votes and the big inclusion distance (although nothing was wrong). As of the below \"current epoch\", things were all normal again.\r\n![2020-06-15_08-12-38](https://user-images.githubusercontent.com/28559038/84624412-9cd06880-aee1-11ea-8f0b-e66cb577ed37.png)\r\n(`INFO node: Starting validator node version=Prysm/v1.0.0-alpha.11/caf61bd82447d601b6b1c7e9965e1aa426992538. Built at: 2020-06-14 07:38:50+00:00`)\r\n\r\n#6070 related?",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/643929663/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/643990142",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/6257#issuecomment-643990142",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/6257",
    "id": 643990142,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY0Mzk5MDE0Mg==",
    "user": {
      "login": "0xVires",
      "id": 25792899,
      "node_id": "MDQ6VXNlcjI1NzkyODk5",
      "avatar_url": "https://avatars.githubusercontent.com/u/25792899?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/0xVires",
      "html_url": "https://github.com/0xVires",
      "followers_url": "https://api.github.com/users/0xVires/followers",
      "following_url": "https://api.github.com/users/0xVires/following{/other_user}",
      "gists_url": "https://api.github.com/users/0xVires/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/0xVires/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/0xVires/subscriptions",
      "organizations_url": "https://api.github.com/users/0xVires/orgs",
      "repos_url": "https://api.github.com/users/0xVires/repos",
      "events_url": "https://api.github.com/users/0xVires/events{/privacy}",
      "received_events_url": "https://api.github.com/users/0xVires/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-06-15T08:41:15Z",
    "updated_at": "2020-06-15T08:41:15Z",
    "author_association": "NONE",
    "body": "Had this problem since network start. My validators (100 total) have been running smoothly but the reporting was mostly messed up. As you can see on the graph, sometimes it reported the voting correctly but the balance was still off (was never below 3.2k ETH). Only in a few cases, everything was reported correctly. \r\nI tried restarting the validator & beacon and also did a --clear-db on the validator. Didn't help. But approx. 6h ago, it seems to have fixed itself (without me doing anything).\r\n\r\n![image](https://user-images.githubusercontent.com/25792899/84636260-add6a500-aef4-11ea-80e6-a50315d15701.png)\r\n\r\n(Running my own geth node btw.)",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/643990142/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
