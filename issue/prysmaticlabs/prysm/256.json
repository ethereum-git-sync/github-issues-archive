{
  "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/256",
  "repository_url": "https://api.github.com/repos/prysmaticlabs/prysm",
  "labels_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/256/labels{/name}",
  "comments_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/256/comments",
  "events_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/256/events",
  "html_url": "https://github.com/prysmaticlabs/prysm/issues/256",
  "id": 340885079,
  "node_id": "MDU6SXNzdWUzNDA4ODUwNzk=",
  "number": 256,
  "title": "Implement Block Processing Logic for Beacon Chain",
  "user": {
    "login": "terencechain",
    "id": 21316537,
    "node_id": "MDQ6VXNlcjIxMzE2NTM3",
    "avatar_url": "https://avatars.githubusercontent.com/u/21316537?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/terencechain",
    "html_url": "https://github.com/terencechain",
    "followers_url": "https://api.github.com/users/terencechain/followers",
    "following_url": "https://api.github.com/users/terencechain/following{/other_user}",
    "gists_url": "https://api.github.com/users/terencechain/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/terencechain/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/terencechain/subscriptions",
    "organizations_url": "https://api.github.com/users/terencechain/orgs",
    "repos_url": "https://api.github.com/users/terencechain/repos",
    "events_url": "https://api.github.com/users/terencechain/events{/privacy}",
    "received_events_url": "https://api.github.com/users/terencechain/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 3,
  "created_at": "2018-07-13T05:21:14Z",
  "updated_at": "2018-07-31T04:19:40Z",
  "closed_at": "2018-07-31T04:19:40Z",
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": "To close this issue, we need to implement the logic for nodes to process beacon chain block.  Just like PoW clients, the nodes will download and process blocks to maintain a view of what's the current \"canonical chain\" terminating at the current \"head\".\r\n\r\nHowever, beacon chain is a PoS chain that contains blocks point to the PoW chain, the processing logic is different than PoW clients. For a beacon chain block to be processed, these conditions have to be met:\r\n\r\n- The parent pointed to by the `parent_hash` has already been processed and accepted\r\n- The main chain block pointed to by the `main_chain_ref` has already been processed and accepted\r\n- The nodeâ€™s local clock time is greater than or equal to the minimum timestamp as computed by `GENESIS_TIME` + `height` * `PER_HEIGHT_DELAY` + `total_skips` * `PER_SKIP_DELAY`\r\n\r\nIf these conditions are not met, the client should delay processing the block until all conditions are satisfied.\r\n\r\nSee the following for more detail:\r\nhttps://notes.ethereum.org/SCIg8AH5SA-O4C1G1LYZHQ?view\r\n",
  "closed_by": {
    "login": "rauljordan",
    "id": 5572669,
    "node_id": "MDQ6VXNlcjU1NzI2Njk=",
    "avatar_url": "https://avatars.githubusercontent.com/u/5572669?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/rauljordan",
    "html_url": "https://github.com/rauljordan",
    "followers_url": "https://api.github.com/users/rauljordan/followers",
    "following_url": "https://api.github.com/users/rauljordan/following{/other_user}",
    "gists_url": "https://api.github.com/users/rauljordan/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/rauljordan/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/rauljordan/subscriptions",
    "organizations_url": "https://api.github.com/users/rauljordan/orgs",
    "repos_url": "https://api.github.com/users/rauljordan/repos",
    "events_url": "https://api.github.com/users/rauljordan/events{/privacy}",
    "received_events_url": "https://api.github.com/users/rauljordan/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/256/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/256/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/406371413",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/256#issuecomment-406371413",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/256",
    "id": 406371413,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwNjM3MTQxMw==",
    "user": {
      "login": "rauljordan",
      "id": 5572669,
      "node_id": "MDQ6VXNlcjU1NzI2Njk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5572669?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rauljordan",
      "html_url": "https://github.com/rauljordan",
      "followers_url": "https://api.github.com/users/rauljordan/followers",
      "following_url": "https://api.github.com/users/rauljordan/following{/other_user}",
      "gists_url": "https://api.github.com/users/rauljordan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rauljordan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rauljordan/subscriptions",
      "organizations_url": "https://api.github.com/users/rauljordan/orgs",
      "repos_url": "https://api.github.com/users/rauljordan/repos",
      "events_url": "https://api.github.com/users/rauljordan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rauljordan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-07-19T18:27:38Z",
    "updated_at": "2018-07-19T18:27:38Z",
    "author_association": "CONTRIBUTOR",
    "body": "Hey @terenc3t I'll open up a PR that just implements the logic outlined above. The functions I will write can later be combined with the network block simulator proposed by @rawfalafel as part of the entire event loop.",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/406371413/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/406379584",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/256#issuecomment-406379584",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/256",
    "id": 406379584,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwNjM3OTU4NA==",
    "user": {
      "login": "rauljordan",
      "id": 5572669,
      "node_id": "MDQ6VXNlcjU1NzI2Njk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5572669?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rauljordan",
      "html_url": "https://github.com/rauljordan",
      "followers_url": "https://api.github.com/users/rauljordan/followers",
      "following_url": "https://api.github.com/users/rauljordan/following{/other_user}",
      "gists_url": "https://api.github.com/users/rauljordan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rauljordan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rauljordan/subscriptions",
      "organizations_url": "https://api.github.com/users/rauljordan/orgs",
      "repos_url": "https://api.github.com/users/rauljordan/repos",
      "events_url": "https://api.github.com/users/rauljordan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rauljordan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-07-19T18:56:13Z",
    "updated_at": "2018-07-19T18:56:13Z",
    "author_association": "CONTRIBUTOR",
    "body": "As mentioned in #255:\r\n\r\n> Whenever beacon chain node receives a new block, it should apply the fork choice rule to keep track of the head of main and beacon chains. When the node receives a new block, it changes the head only if the block score is an improvement over the existing head and also the new block's main chain reference is in the main chain.\r\n\r\nThis means we should store the incoming blocks (once we are allowed to process them) in a trie structure until a separate goroutine called UpdateHead applies the fork choice rule to this trie.",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/406379584/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/409089610",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/256#issuecomment-409089610",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/256",
    "id": 409089610,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwOTA4OTYxMA==",
    "user": {
      "login": "rauljordan",
      "id": 5572669,
      "node_id": "MDQ6VXNlcjU1NzI2Njk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5572669?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rauljordan",
      "html_url": "https://github.com/rauljordan",
      "followers_url": "https://api.github.com/users/rauljordan/followers",
      "following_url": "https://api.github.com/users/rauljordan/following{/other_user}",
      "gists_url": "https://api.github.com/users/rauljordan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rauljordan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rauljordan/subscriptions",
      "organizations_url": "https://api.github.com/users/rauljordan/orgs",
      "repos_url": "https://api.github.com/users/rauljordan/repos",
      "events_url": "https://api.github.com/users/rauljordan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rauljordan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-07-31T04:19:39Z",
    "updated_at": "2018-07-31T04:19:39Z",
    "author_association": "CONTRIBUTOR",
    "body": "Closed by #310",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/409089610/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
