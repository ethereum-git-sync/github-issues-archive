{
  "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/5587",
  "repository_url": "https://api.github.com/repos/prysmaticlabs/prysm",
  "labels_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/5587/labels{/name}",
  "comments_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/5587/comments",
  "events_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/5587/events",
  "html_url": "https://github.com/prysmaticlabs/prysm/issues/5587",
  "id": 605377025,
  "node_id": "MDU6SXNzdWU2MDUzNzcwMjU=",
  "number": 5587,
  "title": "Failed to handle p2p RPC error=rate limited",
  "user": {
    "login": "q9f",
    "id": 58883403,
    "node_id": "MDQ6VXNlcjU4ODgzNDAz",
    "avatar_url": "https://avatars.githubusercontent.com/u/58883403?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/q9f",
    "html_url": "https://github.com/q9f",
    "followers_url": "https://api.github.com/users/q9f/followers",
    "following_url": "https://api.github.com/users/q9f/following{/other_user}",
    "gists_url": "https://api.github.com/users/q9f/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/q9f/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/q9f/subscriptions",
    "organizations_url": "https://api.github.com/users/q9f/orgs",
    "repos_url": "https://api.github.com/users/q9f/repos",
    "events_url": "https://api.github.com/users/q9f/events{/privacy}",
    "received_events_url": "https://api.github.com/users/q9f/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 1500585773,
      "node_id": "MDU6TGFiZWwxNTAwNTg1Nzcz",
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/labels/Networking",
      "name": "Networking",
      "color": "c7a5f7",
      "default": false,
      "description": "P2P related items"
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 4,
  "created_at": "2020-04-23T09:22:04Z",
  "updated_at": "2020-04-27T14:35:41Z",
  "closed_at": "2020-04-27T14:35:41Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "# 🐞 Bug Report\r\n\r\n### Description\r\n\r\nI'm running a local `beacon-chain` node on the Topaz testnet. I want to connect a local Ligthhouse node but I keep getting:\r\n\r\n`WARN sync: Failed to handle p2p RPC error=rate limited`\r\n\r\n### Has this worked before in a previous version?\r\n\r\nN/A\r\n\r\n## 🔬 Minimal Reproduction\r\n\r\n- `beacon-chain --max-peers 65535` without any further params and default topaz configuration.\r\n- and:\r\n\r\n```\r\nlighthouse bn \\\r\n--testnet-dir ~/.lighthouse/topaz \\\r\n--spec mainnet --http \\\r\n--eth1-endpoint http://127.0.0.1:9779 \\\r\n--libp2p-addresses /ip4/127.0.0.1/tcp/13000/p2p/16Uiu2HAmVi241nWuJVhGYAUQXVfJEVPRtTg4tPYUoFVkE4Nz1Aah\r\n```\r\n\r\nLighthouse topaz config: https://github.com/goerli/schlesi/tree/master/topaz\r\n\r\n## 🔥 Error\r\n\r\n```\r\n[2020-04-23 10:47:36]  INFO p2p: Peer connected activePeers=25 direction=1 multiAddr=/ip4/192.168.0.121/tcp/48864/p2p/16Uiu2HAmVnjN2q6Eijzh65Ni2kBpE9YeDDaUuy5quseGnQMov47D peer=16Uiu2HAmVnjN2q6Eijzh65Ni2kBpE9YeDDaUuy5quseGnQMov47D\r\n[2020-04-23 10:47:36]  WARN sync: Failed to handle p2p RPC error=rate limited\r\ngithub.com/prysmaticlabs/prysm/beacon-chain/sync.(*Service).beaconBlocksByRangeRPCHandler\r\n\tbeacon-chain/sync/rpc_beacon_blocks_by_range.go:66\r\ngithub.com/prysmaticlabs/prysm/beacon-chain/sync.(*Service).registerRPC.func1\r\n\tbeacon-chain/sync/rpc.go:117\r\ngithub.com/libp2p/go-libp2p/p2p/host/basic.(*BasicHost).SetStreamHandler.func1\r\n\texternal/com_github_libp2p_go_libp2p/p2p/host/basic/basic_host.go:397\r\nruntime.goexit\r\n\tGOROOT/src/runtime/asm_amd64.s:1373 peer=16Uiu2HAmVnjN2q6Eijzh65Ni2kBpE9YeDDaUuy5quseGnQMov47D topic=/eth2/beacon_chain/req/beacon_blocks_by_range/1/ssz_snappy\r\n[2020-04-23 10:47:36]  WARN sync: Failed to handle p2p RPC error=rate limited\r\ngithub.com/prysmaticlabs/prysm/beacon-chain/sync.(*Service).beaconBlocksByRangeRPCHandler\r\n\tbeacon-chain/sync/rpc_beacon_blocks_by_range.go:66\r\ngithub.com/prysmaticlabs/prysm/beacon-chain/sync.(*Service).registerRPC.func1\r\n\tbeacon-chain/sync/rpc.go:117\r\ngithub.com/libp2p/go-libp2p/p2p/host/basic.(*BasicHost).SetStreamHandler.func1\r\n\texternal/com_github_libp2p_go_libp2p/p2p/host/basic/basic_host.go:397\r\nruntime.goexit\r\n\tGOROOT/src/runtime/asm_amd64.s:1373 peer=16Uiu2HAmVnjN2q6Eijzh65Ni2kBpE9YeDDaUuy5quseGnQMov47D topic=/eth2/beacon_chain/req/beacon_blocks_by_range/1/ssz_snappy\r\n[2020-04-23 10:47:36]  WARN sync: Failed to handle p2p RPC error=rate limited\r\ngithub.com/prysmaticlabs/prysm/beacon-chain/sync.(*Service).beaconBlocksByRangeRPCHandler\r\n\tbeacon-chain/sync/rpc_beacon_blocks_by_range.go:66\r\ngithub.com/prysmaticlabs/prysm/beacon-chain/sync.(*Service).registerRPC.func1\r\n\tbeacon-chain/sync/rpc.go:117\r\ngithub.com/libp2p/go-libp2p/p2p/host/basic.(*BasicHost).SetStreamHandler.func1\r\n\texternal/com_github_libp2p_go_libp2p/p2p/host/basic/basic_host.go:397\r\nruntime.goexit\r\n\tGOROOT/src/runtime/asm_amd64.s:1373 peer=16Uiu2HAmVnjN2q6Eijzh65Ni2kBpE9YeDDaUuy5quseGnQMov47D topic=/eth2/beacon_chain/req/beacon_blocks_by_range/1/ssz_snappy\r\n[2020-04-23 10:47:36]  INFO p2p: Peer disconnected active=25 peer=16Uiu2HAmVnjN2q6Eijzh65Ni2kBpE9YeDDaUuy5quseGnQMov47D\r\n```\r\n\r\n\r\n## 🌍  Your Environment\r\n\r\n**Operating System:**\r\n\r\nArch Linux:\r\n```\r\nLinux intan 5.6.5-arch3-1 #1 SMP PREEMPT Sun, 19 Apr 2020 13:14:25 +0000 x86_64 GNU/Linux\r\n```\r\n\r\n**What version of Prysm are you running? (Which release)**\r\n\r\nLatest master  @ 49ca0751b6e37387b6df5a56d68980f93ccf377b\r\n```\r\n~/.opt/prysmaticlabs/prysm master*\r\n❯ git log -n1\r\ncommit 49ca0751b6e37387b6df5a56d68980f93ccf377b (HEAD -> master, origin/master, origin/HEAD)\r\nAuthor: Shawki Sukkar <57439827+ShawkiS@users.noreply.github.com>\r\nDate:   Thu Apr 23 09:11:13 2020 +0300\r\n    GetValidatorPerformance only return its status info if the validator is active (#5568)\r\n```\r\n\r\n**Anything else relevant (validator index / public key)?**\r\nMight be an issue on either Prysm or Lighthouse side, so kindly pinging @AgeManning\r\n\r\nRef https://github.com/sigp/lighthouse/pull/1044",
  "closed_by": {
    "login": "rauljordan",
    "id": 5572669,
    "node_id": "MDQ6VXNlcjU1NzI2Njk=",
    "avatar_url": "https://avatars.githubusercontent.com/u/5572669?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/rauljordan",
    "html_url": "https://github.com/rauljordan",
    "followers_url": "https://api.github.com/users/rauljordan/followers",
    "following_url": "https://api.github.com/users/rauljordan/following{/other_user}",
    "gists_url": "https://api.github.com/users/rauljordan/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/rauljordan/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/rauljordan/subscriptions",
    "organizations_url": "https://api.github.com/users/rauljordan/orgs",
    "repos_url": "https://api.github.com/users/rauljordan/repos",
    "events_url": "https://api.github.com/users/rauljordan/events{/privacy}",
    "received_events_url": "https://api.github.com/users/rauljordan/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/5587/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/5587/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/618669449",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/5587#issuecomment-618669449",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/5587",
    "id": 618669449,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxODY2OTQ0OQ==",
    "user": {
      "login": "prestonvanloon",
      "id": 7246818,
      "node_id": "MDQ6VXNlcjcyNDY4MTg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7246818?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/prestonvanloon",
      "html_url": "https://github.com/prestonvanloon",
      "followers_url": "https://api.github.com/users/prestonvanloon/followers",
      "following_url": "https://api.github.com/users/prestonvanloon/following{/other_user}",
      "gists_url": "https://api.github.com/users/prestonvanloon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/prestonvanloon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/prestonvanloon/subscriptions",
      "organizations_url": "https://api.github.com/users/prestonvanloon/orgs",
      "repos_url": "https://api.github.com/users/prestonvanloon/repos",
      "events_url": "https://api.github.com/users/prestonvanloon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/prestonvanloon/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-04-23T21:03:39Z",
    "updated_at": "2020-04-23T21:03:39Z",
    "author_association": "MEMBER",
    "body": "How many block slots (request.Count) are you requesting from a single peer? Prysm rate limits to 32 blocks per second with bursts of 320. https://github.com/prysmaticlabs/prysm/blob/a33bd94ffb13a0021614685565aa113c6b2ae3b7/beacon-chain/sync/service.go#L31",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/618669449/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/618867242",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/5587#issuecomment-618867242",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/5587",
    "id": 618867242,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxODg2NzI0Mg==",
    "user": {
      "login": "q9f",
      "id": 58883403,
      "node_id": "MDQ6VXNlcjU4ODgzNDAz",
      "avatar_url": "https://avatars.githubusercontent.com/u/58883403?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/q9f",
      "html_url": "https://github.com/q9f",
      "followers_url": "https://api.github.com/users/q9f/followers",
      "following_url": "https://api.github.com/users/q9f/following{/other_user}",
      "gists_url": "https://api.github.com/users/q9f/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/q9f/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/q9f/subscriptions",
      "organizations_url": "https://api.github.com/users/q9f/orgs",
      "repos_url": "https://api.github.com/users/q9f/repos",
      "events_url": "https://api.github.com/users/q9f/events{/privacy}",
      "received_events_url": "https://api.github.com/users/q9f/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-04-24T08:04:05Z",
    "updated_at": "2020-04-24T08:04:05Z",
    "author_association": "CONTRIBUTOR",
    "body": "Yeah, so I'm seeing this on the other side:\r\n\r\n```\r\nApr 24 10:00:55.565 INFO Sync state updated                      new_state: Syncing Head Chain, old_state: Syncing Finalized Chain, service: sync, service: network\r\nApr 24 10:00:55.566 INFO Sync state updated                      new_state: Syncing Finalized Chain, old_state: Syncing Head Chain, service: sync, service: network\r\nApr 24 10:00:55.625 INFO Sync state updated                      new_state: Syncing Head Chain, old_state: Syncing Finalized Chain, service: sync, service: network\r\nApr 24 10:00:55.626 INFO Sync state updated                      new_state: Syncing Finalized Chain, old_state: Syncing Head Chain, service: sync, service: network\r\nApr 24 10:00:55.682 INFO Sync state updated                      new_state: Syncing Head Chain, old_state: Syncing Finalized Chain, service: sync, service: network\r\nApr 24 10:00:55.684 INFO Sync state updated                      new_state: Syncing Finalized Chain, old_state: Syncing Head Chain, service: sync, service: network\r\nApr 24 10:00:55.755 INFO Sync state updated                      new_state: Syncing Head Chain, old_state: Syncing Finalized Chain, service: sync, service: network\r\nApr 24 10:00:55.756 INFO Sync state updated                      new_state: Syncing Finalized Chain, old_state: Syncing Head Chain, service: sync, service: network\r\nApr 24 10:00:55.831 INFO Sync state updated                      new_state: Syncing Head Chain, old_state: Syncing Finalized Chain, service: sync, service: network\r\nApr 24 10:00:55.832 INFO Sync state updated                      new_state: Syncing Finalized Chain, old_state: Syncing Head Chain, service: sync, service: network\r\nApr 24 10:00:55.882 INFO Sync state updated                      new_state: Syncing Head Chain, old_state: Syncing Finalized Chain, service: sync, service: network\r\nApr 24 10:00:55.883 INFO Sync state updated                      new_state: Syncing Finalized Chain, old_state: Syncing Head Chain, service: sync, service: network\r\nApr 24 10:00:55.947 INFO Sync state updated                      new_state: Syncing Head Chain, old_state: Syncing Finalized Chain, service: sync, service: network\r\nApr 24 10:00:55.948 INFO Sync state updated                      new_state: Syncing Finalized Chain, old_state: Syncing Head Chain, service: sync, service: network\r\nApr 24 10:00:56.029 INFO Sync state updated                      new_state: Syncing Head Chain, old_state: Syncing Finalized Chain, service: sync, service: network\r\nApr 24 10:00:56.030 INFO Sync state updated                      new_state: Syncing Finalized Chain, old_state: Syncing Head Chain, service: sync, service: network\r\nApr 24 10:00:56.092 INFO Sync state updated                      new_state: Syncing Head Chain, old_state: Syncing Finalized Chain, service: sync, service: network\r\nApr 24 10:00:56.093 INFO Sync state updated                      new_state: Syncing Finalized Chain, old_state: Syncing Head Chain, service: sync, service: network\r\nApr 24 10:00:56.158 INFO Sync state updated                      new_state: Syncing Head Chain, old_state: Syncing Finalized Chain, service: sync, service: network\r\nApr 24 10:00:56.159 INFO Sync state updated                      new_state: Syncing Finalized Chain, old_state: Syncing Head Chain, service: sync, service: network\r\nApr 24 10:00:56.238 INFO Sync state updated                      new_state: Syncing Head Chain, old_state: Syncing Finalized Chain, service: sync, service: network\r\nApr 24 10:00:56.239 INFO Sync state updated                      new_state: Syncing Finalized Chain, old_state: Syncing Head Chain, service: sync, service: network\r\nApr 24 10:00:56.294 INFO Sync state updated                      new_state: Syncing Head Chain, old_state: Syncing Finalized Chain, service: sync, service: network\r\nApr 24 10:00:56.295 INFO Sync state updated                      new_state: Syncing Finalized Chain, old_state: Syncing Head Chain, service: sync, service: network\r\nApr 24 10:00:56.355 INFO Sync state updated                      new_state: Syncing Head Chain, old_state: Syncing Finalized Chain, service: sync, service: network\r\nApr 24 10:00:56.356 INFO Sync state updated                      new_state: Syncing Finalized Chain, old_state: Syncing Head Chain, service: sync, service: network\r\nApr 24 10:00:56.410 INFO Sync state updated                      new_state: Syncing Head Chain, old_state: Syncing Finalized Chain, service: sync, service: network\r\nApr 24 10:00:56.411 INFO Sync state updated                      new_state: Syncing Finalized Chain, old_state: Syncing Head Chain, service: sync, service: network\r\nApr 24 10:00:56.464 INFO Sync state updated                      new_state: Syncing Head Chain, old_state: Syncing Finalized Chain, service: sync, service: network\r\nApr 24 10:00:56.465 INFO Sync state updated                      new_state: Syncing Finalized Chain, old_state: Syncing Head Chain, service: sync, service: network\r\nApr 24 10:00:56.526 INFO Sync state updated                      new_state: Syncing Head Chain, old_state: Syncing Finalized Chain, service: sync, service: network\r\nApr 24 10:00:56.527 INFO Sync state updated                      new_state: Syncing Finalized Chain, old_state: Syncing Head Chain, service: sync, service: network\r\nApr 24 10:00:56.595 INFO Sync state updated                      new_state: Syncing Head Chain, old_state: Syncing Finalized Chain, service: sync, service: network\r\nApr 24 10:00:56.597 INFO Sync state updated                      new_state: Syncing Finalized Chain, old_state: Syncing Head Chain, service: sync, service: network\r\nApr 24 10:00:56.641 INFO Sync state updated                      new_state: Syncing Head Chain, old_state: Syncing Finalized Chain, service: sync, service: network\r\nApr 24 10:00:56.642 INFO Sync state updated                      new_state: Syncing Finalized Chain, old_state: Syncing Head Chain, service: sync, service: network\r\nApr 24 10:00:56.713 INFO Sync state updated                      new_state: Syncing Head Chain, old_state: Syncing Finalized Chain, service: sync, service: network\r\nApr 24 10:00:56.714 INFO Sync state updated                      new_state: Syncing Finalized Chain, old_state: Syncing Head Chain, service: sync, service: network\r\nApr 24 10:00:56.764 INFO Sync state updated                      new_state: Syncing Head Chain, old_state: Syncing Finalized Chain, service: sync, service: network\r\nApr 24 10:00:56.766 INFO Sync state updated                      new_state: Syncing Finalized Chain, old_state: Syncing Head Chain, service: sync, service: network\r\nApr 24 10:00:56.832 INFO Sync state updated                      new_state: Syncing Head Chain, old_state: Syncing Finalized Chain, service: sync, service: network\r\nApr 24 10:00:56.833 INFO Sync state updated                      new_state: Syncing Finalized Chain, old_state: Syncing Head Chain, service: sync, service: network\r\nApr 24 10:00:56.910 INFO Sync state updated                      new_state: Syncing Head Chain, old_state: Syncing Finalized Chain, service: sync, service: network\r\nApr 24 10:00:56.911 INFO Sync state updated                      new_state: Syncing Finalized Chain, old_state: Syncing Head Chain, service: sync, service: network\r\n```\r\n\r\nSo this is a lighthouse issue I would assume @AgeManning",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/618867242/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/618884209",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/5587#issuecomment-618884209",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/5587",
    "id": 618884209,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxODg4NDIwOQ==",
    "user": {
      "login": "nisdas",
      "id": 33201827,
      "node_id": "MDQ6VXNlcjMzMjAxODI3",
      "avatar_url": "https://avatars.githubusercontent.com/u/33201827?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nisdas",
      "html_url": "https://github.com/nisdas",
      "followers_url": "https://api.github.com/users/nisdas/followers",
      "following_url": "https://api.github.com/users/nisdas/following{/other_user}",
      "gists_url": "https://api.github.com/users/nisdas/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nisdas/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nisdas/subscriptions",
      "organizations_url": "https://api.github.com/users/nisdas/orgs",
      "repos_url": "https://api.github.com/users/nisdas/repos",
      "events_url": "https://api.github.com/users/nisdas/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nisdas/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-04-24T08:40:53Z",
    "updated_at": "2020-04-24T08:40:53Z",
    "author_association": "MEMBER",
    "body": "So to recap the offline conversation with @q9f @AgeManning @paulHauner , the main issue is that lighthouse requests each 5 batches of blocks with 64 blocks each in each request. This makes it very easy to trigger Prysm's rate limiter for them. The rate limit value that we had was from last-year when we had a lot of different bottlenecks, so it made sense to prevent nodes from being overwhelmed from serving blocks. \r\n\r\nHowever there have been a lot of improvements to ssz hashing and performance bottlenecks in prysm. So this isn't such a big concern anymore. To unblock lighthouse from this, I propose that we:\r\n\r\n1) Bump https://github.com/prysmaticlabs/prysm/blob/a33bd94ffb13a0021614685565aa113c6b2ae3b7/beacon-chain/sync/service.go#L30\r\nthis to 64/96. So that lighthouse stops getting rate limited. \r\n2) Add a flag , so that users running a prysm node can bump up the limit to whichever value they like.\r\n\r\n@prestonvanloon any thoughts ?",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/618884209/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/619301002",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/5587#issuecomment-619301002",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/5587",
    "id": 619301002,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxOTMwMTAwMg==",
    "user": {
      "login": "prestonvanloon",
      "id": 7246818,
      "node_id": "MDQ6VXNlcjcyNDY4MTg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7246818?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/prestonvanloon",
      "html_url": "https://github.com/prestonvanloon",
      "followers_url": "https://api.github.com/users/prestonvanloon/followers",
      "following_url": "https://api.github.com/users/prestonvanloon/following{/other_user}",
      "gists_url": "https://api.github.com/users/prestonvanloon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/prestonvanloon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/prestonvanloon/subscriptions",
      "organizations_url": "https://api.github.com/users/prestonvanloon/orgs",
      "repos_url": "https://api.github.com/users/prestonvanloon/repos",
      "events_url": "https://api.github.com/users/prestonvanloon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/prestonvanloon/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-04-25T01:50:08Z",
    "updated_at": "2020-04-25T01:50:08Z",
    "author_association": "MEMBER",
    "body": "Discussed offline a bit more in discord. We're OK to increase the default rate limit and make it configurable at runtime. Another thing we could consider is delaying the response of block requests if a peer exceeds their limit instead of returning a hard error. Given that the protocol allows streams of blocks, we can return blocks slower than \"as fast as we can\" which is the current implementation. \r\n\r\nAction items:\r\n1) Increase default limit with runtime flag.\r\n2) File an issue to reconsider the rate limiting implementation to be nicer to our peers.",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/619301002/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
