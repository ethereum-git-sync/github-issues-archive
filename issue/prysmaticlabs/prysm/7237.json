{
  "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/7237",
  "repository_url": "https://api.github.com/repos/prysmaticlabs/prysm",
  "labels_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/7237/labels{/name}",
  "comments_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/7237/comments",
  "events_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/7237/events",
  "html_url": "https://github.com/prysmaticlabs/prysm/issues/7237",
  "id": 701333078,
  "node_id": "MDU6SXNzdWU3MDEzMzMwNzg=",
  "number": 7237,
  "title": "sysctl start beacon.service panics on startup",
  "user": {
    "login": "tmcgukin",
    "id": 11665297,
    "node_id": "MDQ6VXNlcjExNjY1Mjk3",
    "avatar_url": "https://avatars.githubusercontent.com/u/11665297?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/tmcgukin",
    "html_url": "https://github.com/tmcgukin",
    "followers_url": "https://api.github.com/users/tmcgukin/followers",
    "following_url": "https://api.github.com/users/tmcgukin/following{/other_user}",
    "gists_url": "https://api.github.com/users/tmcgukin/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/tmcgukin/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/tmcgukin/subscriptions",
    "organizations_url": "https://api.github.com/users/tmcgukin/orgs",
    "repos_url": "https://api.github.com/users/tmcgukin/repos",
    "events_url": "https://api.github.com/users/tmcgukin/events{/privacy}",
    "received_events_url": "https://api.github.com/users/tmcgukin/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": {
    "login": "terencechain",
    "id": 21316537,
    "node_id": "MDQ6VXNlcjIxMzE2NTM3",
    "avatar_url": "https://avatars.githubusercontent.com/u/21316537?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/terencechain",
    "html_url": "https://github.com/terencechain",
    "followers_url": "https://api.github.com/users/terencechain/followers",
    "following_url": "https://api.github.com/users/terencechain/following{/other_user}",
    "gists_url": "https://api.github.com/users/terencechain/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/terencechain/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/terencechain/subscriptions",
    "organizations_url": "https://api.github.com/users/terencechain/orgs",
    "repos_url": "https://api.github.com/users/terencechain/repos",
    "events_url": "https://api.github.com/users/terencechain/events{/privacy}",
    "received_events_url": "https://api.github.com/users/terencechain/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "terencechain",
      "id": 21316537,
      "node_id": "MDQ6VXNlcjIxMzE2NTM3",
      "avatar_url": "https://avatars.githubusercontent.com/u/21316537?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/terencechain",
      "html_url": "https://github.com/terencechain",
      "followers_url": "https://api.github.com/users/terencechain/followers",
      "following_url": "https://api.github.com/users/terencechain/following{/other_user}",
      "gists_url": "https://api.github.com/users/terencechain/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/terencechain/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/terencechain/subscriptions",
      "organizations_url": "https://api.github.com/users/terencechain/orgs",
      "repos_url": "https://api.github.com/users/terencechain/repos",
      "events_url": "https://api.github.com/users/terencechain/events{/privacy}",
      "received_events_url": "https://api.github.com/users/terencechain/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 12,
  "created_at": "2020-09-14T18:36:45Z",
  "updated_at": "2021-06-25T14:51:02Z",
  "closed_at": "2020-09-22T15:43:16Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "I was running my services for over two weeks(whenever sync was fixed) with zero issues and then my beacon just stopped working.  When restarting my beacon service it goes through about 10 seconds of the loading and errors out and restarts.\r\n\r\nError : level=fatal msg=\"Could not cache justified state balances: could not get ancestor state: unknown block\" prefix=blockchain\r\n\r\nSwitching to the ./prysm.sh I am able to run the beacon with no issues(note there is a lot of this ERROR pool/attestations: Cannot delete seen attestations error=<nil>) but still syncing from 74k up to current.  \r\n\r\nMy service tags are as follows --p2p-host-ip=${ClientIP} --datadir=/var/lib/prysm/beaconchain --http-web3provider=http://127.0.0.1:8545/' --p2p-max-peers=60 --dev --block-batch-limit=512\r\n\r\nI have since removed the ones added during the syncing issue maxing etc.  But still getting the same error as when the beacon chain first stopped. \r\n\r\nRunning Alpha 25 now with the issue\r\n",
  "closed_by": {
    "login": "terencechain",
    "id": 21316537,
    "node_id": "MDQ6VXNlcjIxMzE2NTM3",
    "avatar_url": "https://avatars.githubusercontent.com/u/21316537?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/terencechain",
    "html_url": "https://github.com/terencechain",
    "followers_url": "https://api.github.com/users/terencechain/followers",
    "following_url": "https://api.github.com/users/terencechain/following{/other_user}",
    "gists_url": "https://api.github.com/users/terencechain/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/terencechain/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/terencechain/subscriptions",
    "organizations_url": "https://api.github.com/users/terencechain/orgs",
    "repos_url": "https://api.github.com/users/terencechain/repos",
    "events_url": "https://api.github.com/users/terencechain/events{/privacy}",
    "received_events_url": "https://api.github.com/users/terencechain/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/7237/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/7237/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/692239274",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/7237#issuecomment-692239274",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/7237",
    "id": 692239274,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY5MjIzOTI3NA==",
    "user": {
      "login": "prestonvanloon",
      "id": 7246818,
      "node_id": "MDQ6VXNlcjcyNDY4MTg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7246818?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/prestonvanloon",
      "html_url": "https://github.com/prestonvanloon",
      "followers_url": "https://api.github.com/users/prestonvanloon/followers",
      "following_url": "https://api.github.com/users/prestonvanloon/following{/other_user}",
      "gists_url": "https://api.github.com/users/prestonvanloon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/prestonvanloon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/prestonvanloon/subscriptions",
      "organizations_url": "https://api.github.com/users/prestonvanloon/orgs",
      "repos_url": "https://api.github.com/users/prestonvanloon/repos",
      "events_url": "https://api.github.com/users/prestonvanloon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/prestonvanloon/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-09-14T18:39:59Z",
    "updated_at": "2020-09-14T18:39:59Z",
    "author_association": "MEMBER",
    "body": "The error \"Cannot delete seen attestations\" is known: #7236.\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/692239274/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/692246060",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/7237#issuecomment-692246060",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/7237",
    "id": 692246060,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY5MjI0NjA2MA==",
    "user": {
      "login": "terencechain",
      "id": 21316537,
      "node_id": "MDQ6VXNlcjIxMzE2NTM3",
      "avatar_url": "https://avatars.githubusercontent.com/u/21316537?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/terencechain",
      "html_url": "https://github.com/terencechain",
      "followers_url": "https://api.github.com/users/terencechain/followers",
      "following_url": "https://api.github.com/users/terencechain/following{/other_user}",
      "gists_url": "https://api.github.com/users/terencechain/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/terencechain/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/terencechain/subscriptions",
      "organizations_url": "https://api.github.com/users/terencechain/orgs",
      "repos_url": "https://api.github.com/users/terencechain/repos",
      "events_url": "https://api.github.com/users/terencechain/events{/privacy}",
      "received_events_url": "https://api.github.com/users/terencechain/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-09-14T18:53:11Z",
    "updated_at": "2020-09-14T18:53:11Z",
    "author_association": "MEMBER",
    "body": "Double checked, the `\"Could not cache justified state balances: could not get ancestor state: unknown block\"`error is just an older version without the following fix\r\n\r\nhttps://github.com/prysmaticlabs/prysm/pull/6861\r\n\r\nAs long as you keep running Alpha 25, it'll be fine. \"Cannot delete seen attestations\" can be ignored",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/692246060/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/692246477",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/7237#issuecomment-692246477",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/7237",
    "id": 692246477,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY5MjI0NjQ3Nw==",
    "user": {
      "login": "terencechain",
      "id": 21316537,
      "node_id": "MDQ6VXNlcjIxMzE2NTM3",
      "avatar_url": "https://avatars.githubusercontent.com/u/21316537?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/terencechain",
      "html_url": "https://github.com/terencechain",
      "followers_url": "https://api.github.com/users/terencechain/followers",
      "following_url": "https://api.github.com/users/terencechain/following{/other_user}",
      "gists_url": "https://api.github.com/users/terencechain/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/terencechain/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/terencechain/subscriptions",
      "organizations_url": "https://api.github.com/users/terencechain/orgs",
      "repos_url": "https://api.github.com/users/terencechain/repos",
      "events_url": "https://api.github.com/users/terencechain/events{/privacy}",
      "received_events_url": "https://api.github.com/users/terencechain/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-09-14T18:53:56Z",
    "updated_at": "2020-09-14T18:53:56Z",
    "author_association": "MEMBER",
    "body": "Going to close this unless `Could not cache justified state balances: could not get ancestor state: unknown block` happens in alpha25",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/692246477/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/692248423",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/7237#issuecomment-692248423",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/7237",
    "id": 692248423,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY5MjI0ODQyMw==",
    "user": {
      "login": "tmcgukin",
      "id": 11665297,
      "node_id": "MDQ6VXNlcjExNjY1Mjk3",
      "avatar_url": "https://avatars.githubusercontent.com/u/11665297?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tmcgukin",
      "html_url": "https://github.com/tmcgukin",
      "followers_url": "https://api.github.com/users/tmcgukin/followers",
      "following_url": "https://api.github.com/users/tmcgukin/following{/other_user}",
      "gists_url": "https://api.github.com/users/tmcgukin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tmcgukin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tmcgukin/subscriptions",
      "organizations_url": "https://api.github.com/users/tmcgukin/orgs",
      "repos_url": "https://api.github.com/users/tmcgukin/repos",
      "events_url": "https://api.github.com/users/tmcgukin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tmcgukin/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-09-14T18:57:40Z",
    "updated_at": "2020-09-14T18:57:51Z",
    "author_association": "NONE",
    "body": "> Double checked, the `\"Could not cache justified state balances: could not get ancestor state: unknown block\"`error is just an older version without the following fix\r\n> \r\n> #6861\r\n> \r\n> As long as you keep running Alpha 25, it'll be fine. \"Cannot delete seen attestations\" can be ignored\r\n\r\nNot to familiar with github, I looked through 6861, but didnt see anything clear.  What exactly should be changed on my side?",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/692248423/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/692270857",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/7237#issuecomment-692270857",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/7237",
    "id": 692270857,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY5MjI3MDg1Nw==",
    "user": {
      "login": "prestonvanloon",
      "id": 7246818,
      "node_id": "MDQ6VXNlcjcyNDY4MTg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7246818?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/prestonvanloon",
      "html_url": "https://github.com/prestonvanloon",
      "followers_url": "https://api.github.com/users/prestonvanloon/followers",
      "following_url": "https://api.github.com/users/prestonvanloon/following{/other_user}",
      "gists_url": "https://api.github.com/users/prestonvanloon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/prestonvanloon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/prestonvanloon/subscriptions",
      "organizations_url": "https://api.github.com/users/prestonvanloon/orgs",
      "repos_url": "https://api.github.com/users/prestonvanloon/repos",
      "events_url": "https://api.github.com/users/prestonvanloon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/prestonvanloon/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-09-14T19:39:42Z",
    "updated_at": "2020-09-14T19:39:42Z",
    "author_association": "MEMBER",
    "body": "@terencechain this user report comes from alpha.25. ",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/692270857/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/692271664",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/7237#issuecomment-692271664",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/7237",
    "id": 692271664,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY5MjI3MTY2NA==",
    "user": {
      "login": "terencechain",
      "id": 21316537,
      "node_id": "MDQ6VXNlcjIxMzE2NTM3",
      "avatar_url": "https://avatars.githubusercontent.com/u/21316537?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/terencechain",
      "html_url": "https://github.com/terencechain",
      "followers_url": "https://api.github.com/users/terencechain/followers",
      "following_url": "https://api.github.com/users/terencechain/following{/other_user}",
      "gists_url": "https://api.github.com/users/terencechain/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/terencechain/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/terencechain/subscriptions",
      "organizations_url": "https://api.github.com/users/terencechain/orgs",
      "repos_url": "https://api.github.com/users/terencechain/repos",
      "events_url": "https://api.github.com/users/terencechain/events{/privacy}",
      "received_events_url": "https://api.github.com/users/terencechain/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-09-14T19:41:20Z",
    "updated_at": "2020-09-14T19:43:05Z",
    "author_association": "MEMBER",
    "body": "@prestonvanloon got it, i was under the impression `Could not cache justified state balances` came from version before 24. Either way, can't reproduce this and haven't seen this in 24/25\r\n\r\nFrom @tmcgukin:\r\nSwitching to the ./prysm.sh I am able to run the beacon **with no issues**(note there is a lot of this ERROR pool/attestations: Cannot delete seen attestations error=) but still syncing from 74k up to current.\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/692271664/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/692280407",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/7237#issuecomment-692280407",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/7237",
    "id": 692280407,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY5MjI4MDQwNw==",
    "user": {
      "login": "terencechain",
      "id": 21316537,
      "node_id": "MDQ6VXNlcjIxMzE2NTM3",
      "avatar_url": "https://avatars.githubusercontent.com/u/21316537?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/terencechain",
      "html_url": "https://github.com/terencechain",
      "followers_url": "https://api.github.com/users/terencechain/followers",
      "following_url": "https://api.github.com/users/terencechain/following{/other_user}",
      "gists_url": "https://api.github.com/users/terencechain/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/terencechain/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/terencechain/subscriptions",
      "organizations_url": "https://api.github.com/users/terencechain/orgs",
      "repos_url": "https://api.github.com/users/terencechain/repos",
      "events_url": "https://api.github.com/users/terencechain/events{/privacy}",
      "received_events_url": "https://api.github.com/users/terencechain/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-09-14T19:58:45Z",
    "updated_at": "2020-09-14T19:58:45Z",
    "author_association": "MEMBER",
    "body": "Just chatted with @tmcgukin. The script is working for 25. The other setup where it uses `sysctl start beacon.service` doesn't work. Asked to check operational setup\r\n\r\n![image](https://user-images.githubusercontent.com/21316537/93132121-fafc1b80-f689-11ea-8a52-7fa9f65df6d9.png)\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/692280407/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/692393180",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/7237#issuecomment-692393180",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/7237",
    "id": 692393180,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY5MjM5MzE4MA==",
    "user": {
      "login": "terencechain",
      "id": 21316537,
      "node_id": "MDQ6VXNlcjIxMzE2NTM3",
      "avatar_url": "https://avatars.githubusercontent.com/u/21316537?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/terencechain",
      "html_url": "https://github.com/terencechain",
      "followers_url": "https://api.github.com/users/terencechain/followers",
      "following_url": "https://api.github.com/users/terencechain/following{/other_user}",
      "gists_url": "https://api.github.com/users/terencechain/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/terencechain/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/terencechain/subscriptions",
      "organizations_url": "https://api.github.com/users/terencechain/orgs",
      "repos_url": "https://api.github.com/users/terencechain/repos",
      "events_url": "https://api.github.com/users/terencechain/events{/privacy}",
      "received_events_url": "https://api.github.com/users/terencechain/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-09-15T00:45:11Z",
    "updated_at": "2020-09-15T00:48:10Z",
    "author_association": "MEMBER",
    "body": "Thanks @dv8silencer for the DB. I looked into this. One of the parent block `be5d14a2329be5e3cbb263ed82a7729ec06dca90c138bcf9dd3be3d2596b23a4` is missing in the DB. \r\n\r\n**The questions are:** \r\n1.) how did it get into such state?\r\nMy suspicion is during initial sync the node caches blocks in memory and in one of the edge case the node didn't save the cached blocks into the DB upon shut down abruptly\r\n\r\n2.) what we can do to prevent beacon node getting into this state again? \r\nI have some ideas. I'll open a preventive PR on this this week",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/692393180/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/696805118",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/7237#issuecomment-696805118",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/7237",
    "id": 696805118,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY5NjgwNTExOA==",
    "user": {
      "login": "terencechain",
      "id": 21316537,
      "node_id": "MDQ6VXNlcjIxMzE2NTM3",
      "avatar_url": "https://avatars.githubusercontent.com/u/21316537?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/terencechain",
      "html_url": "https://github.com/terencechain",
      "followers_url": "https://api.github.com/users/terencechain/followers",
      "following_url": "https://api.github.com/users/terencechain/following{/other_user}",
      "gists_url": "https://api.github.com/users/terencechain/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/terencechain/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/terencechain/subscriptions",
      "organizations_url": "https://api.github.com/users/terencechain/orgs",
      "repos_url": "https://api.github.com/users/terencechain/repos",
      "events_url": "https://api.github.com/users/terencechain/events{/privacy}",
      "received_events_url": "https://api.github.com/users/terencechain/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-09-22T15:43:16Z",
    "updated_at": "2020-09-22T15:43:16Z",
    "author_association": "MEMBER",
    "body": "there's no more actions to follow up with this. I think this can be closed after the merging of #7245\r\nIf it happens again, please reopen this and we can take a look",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/696805118/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/868099021",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/7237#issuecomment-868099021",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/7237",
    "id": 868099021,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg2ODA5OTAyMQ==",
    "user": {
      "login": "cin3rama",
      "id": 3494288,
      "node_id": "MDQ6VXNlcjM0OTQyODg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3494288?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cin3rama",
      "html_url": "https://github.com/cin3rama",
      "followers_url": "https://api.github.com/users/cin3rama/followers",
      "following_url": "https://api.github.com/users/cin3rama/following{/other_user}",
      "gists_url": "https://api.github.com/users/cin3rama/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cin3rama/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cin3rama/subscriptions",
      "organizations_url": "https://api.github.com/users/cin3rama/orgs",
      "repos_url": "https://api.github.com/users/cin3rama/repos",
      "events_url": "https://api.github.com/users/cin3rama/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cin3rama/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-06-25T00:43:33Z",
    "updated_at": "2021-06-25T00:43:33Z",
    "author_association": "NONE",
    "body": "I needed to upgrade our test server's disk drive as it was beyond 90% full.  Prior to starting the process I deleted some old files, namely the old prysm v1.X.X files up to but not including v1.3.10 and some extraneous tar.gz files, to open up some space.  In addition, I toggled the --historical-slasher-node from TRUE to FALSE.  I did this as a test to learn what I might encounter on the production server when the slasher moves to the beacon node in the next release.  I did not think that I'd draw a fatal or unrecoverable error .  Here is what I found:\r\n\r\n```\r\nprysm.sh[23271]: time=\"2021-06-24 16:42:37\" level=info msg=\"Connected to eth1 proof-of-work chain\" endpoint=\"http://127.0.0.1:8545\" prefix=powchain\r\nprysm.sh[23271]: time=\"2021-06-24 16:42:37\" level=info msg=\"Blockchain data already exists in DB, initializing...\" prefix=blockchain\r\nprysm.sh[23271]: time=\"2021-06-24 16:42:38\" level=info msg=\"Chain genesis time reached\" genesisStateRoot=2bb257ca66d05a047a65fe43a5f457b674de445d917cca029efb09b3ba4758c4 genesisTime=\"2020-11>\r\nprysm.sh[23271]: time=\"2021-06-24 16:42:38\" level=fatal msg=\"Could not cache justified state balances: could not get ancestor state: unknown block\" prefix=blockchain\r\nsystemd[1]: beacon-chain.service: Main process exited, code=exited, status=1/FAILURE\r\nsystemd[1]: beacon-chain.service: Failed with result 'exit-code'.\r\n```\r\nAfter several attempts to resolve the error including, upgrading the disk drive size, upgrading to Prysm v1.3.11 from v1.3.10 and adjusting the rpc settings to default in the both the beacon-chain and validator config.yaml files the problem persists.   Below are the configs for the beacon-chain and validator.\r\n\r\n1. beacon-chain, validator and eth1(geth) exist on the same server\r\n2. beacon-chain config - historical-slasher-node: true disable-broadcast-slashings: true pyrmont: true http-web3provider: http://localhost:8545\r\n3. validator config - wallet-dir:  \"server/directory\" pyrmont: true graffiti: \"graffiti\"\r\n4. Server is an ARM64 (4core/16gb) running ubunut 20.04, geth v1.10.4, prysm v1.3.11\r\n\r\nAny help in resolving this issue would be greatly appreciated.  \r\n\r\n\r\n\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/868099021/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/868503288",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/7237#issuecomment-868503288",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/7237",
    "id": 868503288,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg2ODUwMzI4OA==",
    "user": {
      "login": "prestonvanloon",
      "id": 7246818,
      "node_id": "MDQ6VXNlcjcyNDY4MTg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7246818?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/prestonvanloon",
      "html_url": "https://github.com/prestonvanloon",
      "followers_url": "https://api.github.com/users/prestonvanloon/followers",
      "following_url": "https://api.github.com/users/prestonvanloon/following{/other_user}",
      "gists_url": "https://api.github.com/users/prestonvanloon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/prestonvanloon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/prestonvanloon/subscriptions",
      "organizations_url": "https://api.github.com/users/prestonvanloon/orgs",
      "repos_url": "https://api.github.com/users/prestonvanloon/repos",
      "events_url": "https://api.github.com/users/prestonvanloon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/prestonvanloon/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-06-25T13:33:26Z",
    "updated_at": "2021-06-25T13:33:26Z",
    "author_association": "MEMBER",
    "body": "@cin3rama I have filed #9100 for you. We will look into your issue in that newly filed issue. Thanks!",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/868503288/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/868555463",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/7237#issuecomment-868555463",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/7237",
    "id": 868555463,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg2ODU1NTQ2Mw==",
    "user": {
      "login": "cin3rama",
      "id": 3494288,
      "node_id": "MDQ6VXNlcjM0OTQyODg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3494288?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cin3rama",
      "html_url": "https://github.com/cin3rama",
      "followers_url": "https://api.github.com/users/cin3rama/followers",
      "following_url": "https://api.github.com/users/cin3rama/following{/other_user}",
      "gists_url": "https://api.github.com/users/cin3rama/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cin3rama/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cin3rama/subscriptions",
      "organizations_url": "https://api.github.com/users/cin3rama/orgs",
      "repos_url": "https://api.github.com/users/cin3rama/repos",
      "events_url": "https://api.github.com/users/cin3rama/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cin3rama/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-06-25T14:51:01Z",
    "updated_at": "2021-06-25T14:51:01Z",
    "author_association": "NONE",
    "body": "Thank you @prestonvanloon",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/868555463/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
