{
  "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/11522",
  "repository_url": "https://api.github.com/repos/prysmaticlabs/prysm",
  "labels_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/11522/labels{/name}",
  "comments_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/11522/comments",
  "events_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/11522/events",
  "html_url": "https://github.com/prysmaticlabs/prysm/issues/11522",
  "id": 1392789071,
  "node_id": "I_kwDOBvuov85TBEZP",
  "number": 11522,
  "title": "Expose current sync committee and next sync committee per pubkey in the validator prometheus metrics",
  "user": {
    "login": "ybstaked",
    "id": 85460995,
    "node_id": "MDQ6VXNlcjg1NDYwOTk1",
    "avatar_url": "https://avatars.githubusercontent.com/u/85460995?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/ybstaked",
    "html_url": "https://github.com/ybstaked",
    "followers_url": "https://api.github.com/users/ybstaked/followers",
    "following_url": "https://api.github.com/users/ybstaked/following{/other_user}",
    "gists_url": "https://api.github.com/users/ybstaked/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/ybstaked/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/ybstaked/subscriptions",
    "organizations_url": "https://api.github.com/users/ybstaked/orgs",
    "repos_url": "https://api.github.com/users/ybstaked/repos",
    "events_url": "https://api.github.com/users/ybstaked/events{/privacy}",
    "received_events_url": "https://api.github.com/users/ybstaked/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 3,
  "created_at": "2022-09-30T18:10:38Z",
  "updated_at": "2023-01-09T17:49:51Z",
  "closed_at": null,
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "<!--ðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’Ž\r\n\r\nHellooo! ðŸ˜„ \r\n\r\nTo help us tend to your issue faster, please search our currently open issues before submitting a new one.\r\nExisting issues often contain information about workarounds, resolution, or progress updates.\r\n\r\nðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’ŽðŸ’Ž-->\r\n\r\n# ðŸš€ Feature Request\r\n\r\n### Description\r\n\r\nMainly need to know two things (from sync committee perspective):\r\n- which pubkey is in a sync committee currently\r\n- which pubkey will be in a sync committee next\r\n\r\nIf we're really concerned about data, then as a baseline, even just knowing that the validator has one of the keys in sync committee currently and/or next would be useful to expose via prometheus, so we can plan maintenance at the validator level (which is managing for us ~200-300 pubkeys) accordingly.  \r\n\r\n### Describe the solution you'd like\r\n\r\nExpose prometheus metric per pubkey in the validator metrics\r\n\r\n### Describe alternatives you've considered\r\n\r\nI've looked at https://www.coincashew.com/coins/overview-eth/guide-or-how-to-setup-a-validator-on-eth2-mainnet/part-ii-maintenance/checking-my-eth-validators-sync-committee-duties already, but would like to have this via prometheus\r\n\r\n\r\n\r\n### Links:\r\n- [Prysmatic Labs code-review channel discord conversation with potuz and prestonvanloon](https://discord.com/channels/476244492043812875/483017808658169866/1025450792112631848)\r\n",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/11522/reactions",
    "total_count": 1,
    "+1": 1,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/11522/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/1372680952",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/11522#issuecomment-1372680952",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/11522",
    "id": 1372680952,
    "node_id": "IC_kwDOBvuov85R0XL4",
    "user": {
      "login": "ybstaked",
      "id": 85460995,
      "node_id": "MDQ6VXNlcjg1NDYwOTk1",
      "avatar_url": "https://avatars.githubusercontent.com/u/85460995?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ybstaked",
      "html_url": "https://github.com/ybstaked",
      "followers_url": "https://api.github.com/users/ybstaked/followers",
      "following_url": "https://api.github.com/users/ybstaked/following{/other_user}",
      "gists_url": "https://api.github.com/users/ybstaked/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ybstaked/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ybstaked/subscriptions",
      "organizations_url": "https://api.github.com/users/ybstaked/orgs",
      "repos_url": "https://api.github.com/users/ybstaked/repos",
      "events_url": "https://api.github.com/users/ybstaked/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ybstaked/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-01-05T20:09:06Z",
    "updated_at": "2023-01-05T20:09:06Z",
    "author_association": "CONTRIBUTOR",
    "body": "@prestonvanloon or @potuz any updates on this?",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/1372680952/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/1375629516",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/11522#issuecomment-1375629516",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/11522",
    "id": 1375629516,
    "node_id": "IC_kwDOBvuov85R_nDM",
    "user": {
      "login": "ybstaked",
      "id": 85460995,
      "node_id": "MDQ6VXNlcjg1NDYwOTk1",
      "avatar_url": "https://avatars.githubusercontent.com/u/85460995?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ybstaked",
      "html_url": "https://github.com/ybstaked",
      "followers_url": "https://api.github.com/users/ybstaked/followers",
      "following_url": "https://api.github.com/users/ybstaked/following{/other_user}",
      "gists_url": "https://api.github.com/users/ybstaked/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ybstaked/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ybstaked/subscriptions",
      "organizations_url": "https://api.github.com/users/ybstaked/orgs",
      "repos_url": "https://api.github.com/users/ybstaked/repos",
      "events_url": "https://api.github.com/users/ybstaked/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ybstaked/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-01-09T13:29:49Z",
    "updated_at": "2023-01-09T13:29:49Z",
    "author_association": "CONTRIBUTOR",
    "body": "This does not even have to be per pubkey, just need to know per VC process whether or not (binary) it has any validator keys that are currently in sync committee, so we can know whether or not to do any maintenance on the VC process (upgrades, etc.)",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/1375629516/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/1376018142",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/11522#issuecomment-1376018142",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/11522",
    "id": 1376018142,
    "node_id": "IC_kwDOBvuov85SBF7e",
    "user": {
      "login": "ybstaked",
      "id": 85460995,
      "node_id": "MDQ6VXNlcjg1NDYwOTk1",
      "avatar_url": "https://avatars.githubusercontent.com/u/85460995?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ybstaked",
      "html_url": "https://github.com/ybstaked",
      "followers_url": "https://api.github.com/users/ybstaked/followers",
      "following_url": "https://api.github.com/users/ybstaked/following{/other_user}",
      "gists_url": "https://api.github.com/users/ybstaked/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ybstaked/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ybstaked/subscriptions",
      "organizations_url": "https://api.github.com/users/ybstaked/orgs",
      "repos_url": "https://api.github.com/users/ybstaked/repos",
      "events_url": "https://api.github.com/users/ybstaked/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ybstaked/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-01-09T17:49:51Z",
    "updated_at": "2023-01-09T17:49:51Z",
    "author_association": "CONTRIBUTOR",
    "body": "linking this new discord convo with potuz: https://discord.com/channels/476244492043812875/781210739762397234/1062012591892877424",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/1376018142/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
