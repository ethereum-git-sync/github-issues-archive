{
  "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/6669",
  "repository_url": "https://api.github.com/repos/prysmaticlabs/prysm",
  "labels_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/6669/labels{/name}",
  "comments_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/6669/comments",
  "events_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/6669/events",
  "html_url": "https://github.com/prysmaticlabs/prysm/issues/6669",
  "id": 663275947,
  "node_id": "MDU6SXNzdWU2NjMyNzU5NDc=",
  "number": 6669,
  "title": "Validator dies when grpc connection returns 503",
  "user": {
    "login": "stefa2k",
    "id": 54934211,
    "node_id": "MDQ6VXNlcjU0OTM0MjEx",
    "avatar_url": "https://avatars.githubusercontent.com/u/54934211?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/stefa2k",
    "html_url": "https://github.com/stefa2k",
    "followers_url": "https://api.github.com/users/stefa2k/followers",
    "following_url": "https://api.github.com/users/stefa2k/following{/other_user}",
    "gists_url": "https://api.github.com/users/stefa2k/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/stefa2k/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/stefa2k/subscriptions",
    "organizations_url": "https://api.github.com/users/stefa2k/orgs",
    "repos_url": "https://api.github.com/users/stefa2k/repos",
    "events_url": "https://api.github.com/users/stefa2k/events{/privacy}",
    "received_events_url": "https://api.github.com/users/stefa2k/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": {
    "login": "prestonvanloon",
    "id": 7246818,
    "node_id": "MDQ6VXNlcjcyNDY4MTg=",
    "avatar_url": "https://avatars.githubusercontent.com/u/7246818?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/prestonvanloon",
    "html_url": "https://github.com/prestonvanloon",
    "followers_url": "https://api.github.com/users/prestonvanloon/followers",
    "following_url": "https://api.github.com/users/prestonvanloon/following{/other_user}",
    "gists_url": "https://api.github.com/users/prestonvanloon/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/prestonvanloon/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/prestonvanloon/subscriptions",
    "organizations_url": "https://api.github.com/users/prestonvanloon/orgs",
    "repos_url": "https://api.github.com/users/prestonvanloon/repos",
    "events_url": "https://api.github.com/users/prestonvanloon/events{/privacy}",
    "received_events_url": "https://api.github.com/users/prestonvanloon/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "prestonvanloon",
      "id": 7246818,
      "node_id": "MDQ6VXNlcjcyNDY4MTg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7246818?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/prestonvanloon",
      "html_url": "https://github.com/prestonvanloon",
      "followers_url": "https://api.github.com/users/prestonvanloon/followers",
      "following_url": "https://api.github.com/users/prestonvanloon/following{/other_user}",
      "gists_url": "https://api.github.com/users/prestonvanloon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/prestonvanloon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/prestonvanloon/subscriptions",
      "organizations_url": "https://api.github.com/users/prestonvanloon/orgs",
      "repos_url": "https://api.github.com/users/prestonvanloon/repos",
      "events_url": "https://api.github.com/users/prestonvanloon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/prestonvanloon/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 8,
  "created_at": "2020-07-21T20:07:38Z",
  "updated_at": "2021-02-10T17:00:36Z",
  "closed_at": "2021-02-10T17:00:36Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "# üêû Bug Report\r\n\r\n### Description\r\n\r\nI'm using haproxy to have failovers for all services including beacon-chain. All my beacon-chain nodes were unhealthy and therefore not able to serve grpc requsts, so haproxy returns http code 503 to validator's requests (expected behaviour). This causes the validator service to die (unexpected behaviour). The validator's restart can cause heavy cpu loads due to decrypting keys.\r\n\r\n[HTTP code 503](https://tools.ietf.org/html/rfc7231#section-6.6.4) indicates the service is currently not able to serve any requests.\r\n\r\n**Solution with `--grpc-retries`**\r\n\r\n1. I tried setting it to `-1` but it didn't help.\r\n2. Setting this to `4294967295` didn't help either.\r\n\r\nValidator service dies within 1 second of querying beacon service.\r\n\r\n### Has this worked before in a previous version?\r\n\r\n\r\n\r\n## üî¨ Minimal Reproduction\r\n\r\nConnect validator to an endpoint which returns http code 503 on requests.\r\n\r\n## üî• Error\r\n\r\nValidator log:\r\n```\r\ntime=\"2020-07-21 19:02:09\" level=fatal msg=\"Could not determine if beacon chain started: could not receive ChainStart from stream: rpc error: code = Unavailable desc = Service Unavailable: HTTP status code 503; transport: received the unexpected content-type \"text/html\"\" prefix=validator\r\n```\r\n\r\ncurl to haproxy:\r\n```\r\n$ curl -I --http2 http://localhost:14000\r\nHTTP/1.1 503 Service Unavailable\r\ncontent-length: 107\r\ncache-control: no-cache\r\ncontent-type: text/html\r\nconnection: close\r\n```\r\n\r\n## üåç  Your Environment\r\n\r\n**Operating System:**\r\n\r\n<pre>\r\n  <code>\r\nUbuntu 20.04\r\n  </code>\r\n</pre>\r\n\r\n**What version of Prysm are you running? (Which release)**\r\n\r\n<pre>\r\n  <code>\r\ndocker tag `HEAD-367738`\r\n  </code>\r\n</pre>\r\n\r\n**haproxy config**\r\n```\r\n##################\r\n# beacon chain\r\nfrontend beacon_fe\r\n        mode http\r\n\r\n        bind *:14000 alpn h2,http/1.1\r\n\r\n        timeout client 15s\r\n\r\n        default_backend beacon_be\r\n\r\nbackend beacon_be\r\n        mode http\r\n\r\n        option httpchk GET /healthz HTTP/1.0\r\n        http-check expect ! rstring '(?i)error'\r\n\r\n        default-server check port 8480 proto h2 inter 1s fall 1 rise 3 init-addr none\r\n        server srv1 beacon:4000 resolvers nocachedns\r\n        server backup_h x.y.z.a:4000 backup\r\n        server backup_i x.y.z.b:4000 backup\r\n```",
  "closed_by": {
    "login": "rauljordan",
    "id": 5572669,
    "node_id": "MDQ6VXNlcjU1NzI2Njk=",
    "avatar_url": "https://avatars.githubusercontent.com/u/5572669?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/rauljordan",
    "html_url": "https://github.com/rauljordan",
    "followers_url": "https://api.github.com/users/rauljordan/followers",
    "following_url": "https://api.github.com/users/rauljordan/following{/other_user}",
    "gists_url": "https://api.github.com/users/rauljordan/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/rauljordan/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/rauljordan/subscriptions",
    "organizations_url": "https://api.github.com/users/rauljordan/orgs",
    "repos_url": "https://api.github.com/users/rauljordan/repos",
    "events_url": "https://api.github.com/users/rauljordan/events{/privacy}",
    "received_events_url": "https://api.github.com/users/rauljordan/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/6669/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/6669/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/662108595",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/6669#issuecomment-662108595",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/6669",
    "id": 662108595,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY2MjEwODU5NQ==",
    "user": {
      "login": "prestonvanloon",
      "id": 7246818,
      "node_id": "MDQ6VXNlcjcyNDY4MTg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7246818?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/prestonvanloon",
      "html_url": "https://github.com/prestonvanloon",
      "followers_url": "https://api.github.com/users/prestonvanloon/followers",
      "following_url": "https://api.github.com/users/prestonvanloon/following{/other_user}",
      "gists_url": "https://api.github.com/users/prestonvanloon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/prestonvanloon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/prestonvanloon/subscriptions",
      "organizations_url": "https://api.github.com/users/prestonvanloon/orgs",
      "repos_url": "https://api.github.com/users/prestonvanloon/repos",
      "events_url": "https://api.github.com/users/prestonvanloon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/prestonvanloon/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-07-21T21:11:16Z",
    "updated_at": "2020-07-21T21:11:16Z",
    "author_association": "MEMBER",
    "body": "Thanks for the report! gRPC retries were not configured correctly for gRPC streams, which is what the validator uses on initial contact for the beacon node. \r\n\r\nI've added PR #6670 which includes the following fixes and improvements:\r\n- Fix gRPC stream retry. This will now retry based on the flag value `--grpc-retries`\r\n- Add a configurable retry backoff, configurable by `--grpc-retry-delay`, default of 1s.\r\n- Add gRPC stream logging at DEBUG log level. Now you can see the retry in action if you enable `--verbosity=debug` or `--verbosity=trace`\r\n\r\nSo now the new behavior will be: \"On initial contact of beacon node, open a stream to wait on the beacon node to report fully synced. If the connection is UNAVAILABLE or RESOURCE_EXHAUSTED, retry up to `--grpc-retries` with `--grpc-retry-delay` between each attempt. If all attempts have been exhausted, log a fatal condition and stop the process\".\r\n\r\nIf you find that satisfactory for your use case, then please close this issue. If not, please advise a recommended solution to resolve your use case.",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/662108595/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/662280542",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/6669#issuecomment-662280542",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/6669",
    "id": 662280542,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY2MjI4MDU0Mg==",
    "user": {
      "login": "stefa2k",
      "id": 54934211,
      "node_id": "MDQ6VXNlcjU0OTM0MjEx",
      "avatar_url": "https://avatars.githubusercontent.com/u/54934211?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/stefa2k",
      "html_url": "https://github.com/stefa2k",
      "followers_url": "https://api.github.com/users/stefa2k/followers",
      "following_url": "https://api.github.com/users/stefa2k/following{/other_user}",
      "gists_url": "https://api.github.com/users/stefa2k/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/stefa2k/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/stefa2k/subscriptions",
      "organizations_url": "https://api.github.com/users/stefa2k/orgs",
      "repos_url": "https://api.github.com/users/stefa2k/repos",
      "events_url": "https://api.github.com/users/stefa2k/events{/privacy}",
      "received_events_url": "https://api.github.com/users/stefa2k/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-07-22T07:01:08Z",
    "updated_at": "2020-07-22T07:01:08Z",
    "author_association": "NONE",
    "body": "Thanks @prestonvanloon \r\n\r\nJust a quick question, is `-1` also supported?",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/662280542/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/662582628",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/6669#issuecomment-662582628",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/6669",
    "id": 662582628,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY2MjU4MjYyOA==",
    "user": {
      "login": "stefa2k",
      "id": 54934211,
      "node_id": "MDQ6VXNlcjU0OTM0MjEx",
      "avatar_url": "https://avatars.githubusercontent.com/u/54934211?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/stefa2k",
      "html_url": "https://github.com/stefa2k",
      "followers_url": "https://api.github.com/users/stefa2k/followers",
      "following_url": "https://api.github.com/users/stefa2k/following{/other_user}",
      "gists_url": "https://api.github.com/users/stefa2k/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/stefa2k/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/stefa2k/subscriptions",
      "organizations_url": "https://api.github.com/users/stefa2k/orgs",
      "repos_url": "https://api.github.com/users/stefa2k/repos",
      "events_url": "https://api.github.com/users/stefa2k/events{/privacy}",
      "received_events_url": "https://api.github.com/users/stefa2k/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-07-22T17:24:41Z",
    "updated_at": "2020-07-22T17:24:41Z",
    "author_association": "NONE",
    "body": "I run docker tag `HEAD-62ae22` now and it looks like setting `--grpc-retries` to `18446744073709551615` [in my configs](https://github.com/stefa2k/prysm-docker-compose/blob/63f982ee5dc13a32b960a13bea559ae73846ffe8/config/ha/validator-wallet.yaml#L12) doesn't have any effect, the logs still look the same:\r\n```\r\ntime=\"2020-07-22 17:21:40\" level=info msg=\"Waiting for beacon chain start log from the ETH 1.0 deposit contract\" prefix=validator\r\nvalidator     | time=\"2020-07-22 17:21:44\" level=fatal msg=\"Could not determine if beacon chain started: could not receive ChainStart from stream: rpc error: code = Unavailable desc = Service Unavailable: HTTP status code 503; transport: received the unexpected content-type \"text/html\"\" prefix=validator\r\nvalidator     | time=\"2020-07-22T17:21:47Z\" level=info msg=\"New calculated roughtime offset is -38419284 ns\" prefix=roughtime\r\nvalidator     | time=\"2020-07-22 17:21:47\" level=warning msg=\"Enabled validator slashing protection.\" prefix=flags\r\nvalidator     | time=\"2020-07-22 17:21:47\" level=warning msg=\"Enabled validator attestation and block slashing protection using an external slasher.\" prefix=flags\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/662582628/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/662703649",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/6669#issuecomment-662703649",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/6669",
    "id": 662703649,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY2MjcwMzY0OQ==",
    "user": {
      "login": "prestonvanloon",
      "id": 7246818,
      "node_id": "MDQ6VXNlcjcyNDY4MTg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7246818?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/prestonvanloon",
      "html_url": "https://github.com/prestonvanloon",
      "followers_url": "https://api.github.com/users/prestonvanloon/followers",
      "following_url": "https://api.github.com/users/prestonvanloon/following{/other_user}",
      "gists_url": "https://api.github.com/users/prestonvanloon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/prestonvanloon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/prestonvanloon/subscriptions",
      "organizations_url": "https://api.github.com/users/prestonvanloon/orgs",
      "repos_url": "https://api.github.com/users/prestonvanloon/repos",
      "events_url": "https://api.github.com/users/prestonvanloon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/prestonvanloon/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-07-22T21:22:02Z",
    "updated_at": "2020-07-22T21:22:02Z",
    "author_association": "MEMBER",
    "body": "Can you try a different value other than max uint? \r\nCan you please attach logs at debug level?\r\n\r\nWhen I tried it with --grpc-retries=10000 and --verbosity=debug, i could see the following logs to indicate that it was retrying.\r\n\r\n```\r\n[2020-07-22 14:20:13] DEBUG gRPC stream started. backend=[] method=/ethereum.eth.v1alpha1.BeaconNodeValidator/WaitForChainStart\r\n[2020-07-22 14:20:14] DEBUG gRPC stream started. backend=[] method=/ethereum.eth.v1alpha1.BeaconNodeValidator/WaitForChainStart\r\n[2020-07-22 14:20:15] DEBUG gRPC stream started. backend=[] method=/ethereum.eth.v1alpha1.BeaconNodeValidator/WaitForChainStart\r\n[2020-07-22 14:20:16] DEBUG gRPC stream started. backend=[] method=/ethereum.eth.v1alpha1.BeaconNodeValidator/WaitForChainStart\r\n[2020-07-22 14:20:17] DEBUG gRPC stream started. backend=[] method=/ethereum.eth.v1alpha1.BeaconNodeValidator/WaitForChainStart\r\n[2020-07-22 14:20:18] DEBUG gRPC stream started. backend=[] method=/ethereum.eth.v1alpha1.BeaconNodeValidator/WaitForChainStart\r\n[2020-07-22 14:20:19] DEBUG gRPC stream started. backend=[] method=/ethereum.eth.v1alpha1.BeaconNodeValidator/WaitForChainStart\r\n[2020-07-22 14:20:20] DEBUG gRPC stream started. backend=[] method=/ethereum.eth.v1alpha1.BeaconNodeValidator/WaitForChainStart\r\n[2020-07-22 14:20:21] DEBUG gRPC stream started. backend=[] method=/ethereum.eth.v1alpha1.BeaconNodeValidator/WaitForChainStart\r\n[2020-07-22 14:20:22] DEBUG gRPC stream started. backend=[] method=/ethereum.eth.v1alpha1.BeaconNodeValidator/WaitForChainStart\r\n[2020-07-22 14:20:23] DEBUG gRPC stream started. backend=[] method=/ethereum.eth.v1alpha1.BeaconNodeValidator/WaitForChainStart\r\n[2020-07-22 14:20:24] DEBUG gRPC stream started. backend=[] method=/ethereum.eth.v1alpha1.BeaconNodeValidator/WaitForChainStart\r\n[2020-07-22 14:20:25] DEBUG gRPC stream started. backend=[] method=/ethereum.eth.v1alpha1.BeaconNodeValidator/WaitForChainStart\r\n[2020-07-22 14:20:26] DEBUG gRPC stream started. backend=[] method=/ethereum.eth.v1alpha1.BeaconNodeValidator/WaitForChainStart\r\n```\r\n\r\nThere may be an issue with reading from a config file, but that would be separate from this issue.",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/662703649/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/662939353",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/6669#issuecomment-662939353",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/6669",
    "id": 662939353,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY2MjkzOTM1Mw==",
    "user": {
      "login": "stefa2k",
      "id": 54934211,
      "node_id": "MDQ6VXNlcjU0OTM0MjEx",
      "avatar_url": "https://avatars.githubusercontent.com/u/54934211?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/stefa2k",
      "html_url": "https://github.com/stefa2k",
      "followers_url": "https://api.github.com/users/stefa2k/followers",
      "following_url": "https://api.github.com/users/stefa2k/following{/other_user}",
      "gists_url": "https://api.github.com/users/stefa2k/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/stefa2k/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/stefa2k/subscriptions",
      "organizations_url": "https://api.github.com/users/stefa2k/orgs",
      "repos_url": "https://api.github.com/users/stefa2k/repos",
      "events_url": "https://api.github.com/users/stefa2k/events{/privacy}",
      "received_events_url": "https://api.github.com/users/stefa2k/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-07-23T10:47:53Z",
    "updated_at": "2020-07-23T10:47:53Z",
    "author_association": "NONE",
    "body": "Tried it with the params you mentioned (10000 and debug) and got the following:\r\n```\r\nvalidator     | time=\"2020-07-23 10:43:48\" level=info msg=\"Checking DB\" databasePath=\"/home/.eth2\" prefix=node\r\nvalidator     | time=\"2020-07-23 10:43:48\" level=info msg=\"Starting validator node\" prefix=node version=\"Prysm/v1.0.0-alpha.16/62ae22e3f953a1800b0018cd6eb499021f0af917. Built at: 2020-07-22 16:24:11+00:00\"\r\nvalidator     | time=\"2020-07-23 10:43:48\" level=debug msg=\"Starting 3 services: [*prometheus.Service *slashingprotection.Service *client.ValidatorService]\" prefix=registry\r\nvalidator     | time=\"2020-07-23 10:43:48\" level=debug msg=\"Starting service type *prometheus.Service\" prefix=registry\r\nvalidator     | time=\"2020-07-23 10:43:48\" level=debug msg=\"Starting service type *slashingprotection.Service\" prefix=registry\r\nvalidator     | time=\"2020-07-23 10:43:48\" level=debug msg=\"Starting service type *client.ValidatorService\" prefix=registry\r\nvalidator     | time=\"2020-07-23 10:43:48\" level=warning msg=\"You are using an insecure slasher gRPC connection! Please provide a certificate and key to use a secure connection.\"\r\nvalidator     | time=\"2020-07-23 10:43:48\" level=debug msg=\"Successfully started slasher gRPC connection\"\r\nvalidator     | time=\"2020-07-23 10:43:48\" level=debug msg=\"Starting prometheus service\" address=\"0.0.0.0:8081\" prefix=prometheus\r\nvalidator     | time=\"2020-07-23 10:43:48\" level=warning msg=\"You are using an insecure gRPC connection. If you are running your beacon node and validator on the same machines, you can ignore this message. If you want to know how to enable secure connections, see: https://docs.prylabs.network/docs/prysm-usage/secure-grpc\" prefix=validator\r\nvalidator     | time=\"2020-07-23 10:43:48\" level=debug msg=\"gRPC stream started.\" backend=[] method=\"/ethereum.eth.v1alpha1.BeaconNodeValidator/WaitForChainStart\"\r\nvalidator     | time=\"2020-07-23 10:43:48\" level=info msg=\"Waiting for beacon chain start log from the ETH 1.0 deposit contract\" prefix=validator\r\nvalidator     | time=\"2020-07-23 10:43:49\" level=debug msg=\"gRPC stream started.\" backend=[] method=\"/ethereum.eth.v1alpha1.BeaconNodeValidator/WaitForChainStart\"\r\nvalidator     | time=\"2020-07-23 10:43:50\" level=debug msg=\"gRPC stream started.\" backend=[] method=\"/ethereum.eth.v1alpha1.BeaconNodeValidator/WaitForChainStart\"\r\nvalidator     | time=\"2020-07-23 10:43:51\" level=debug msg=\"gRPC stream started.\" backend=[] method=\"/ethereum.eth.v1alpha1.BeaconNodeValidator/WaitForChainStart\"\r\nvalidator     | time=\"2020-07-23 10:43:52\" level=debug msg=\"gRPC stream started.\" backend=[] method=\"/ethereum.eth.v1alpha1.BeaconNodeValidator/WaitForChainStart\"\r\nvalidator     | time=\"2020-07-23 10:43:52\" level=fatal msg=\"Could not determine if beacon chain started: could not receive ChainStart from stream: rpc error: code = Unavailable desc = Service Unavailable: HTTP status code 503; transport: received the unexpected content-type \"text/html\"\" prefix=validator\r\n```\r\n\r\nIt looks like its not read off of the config file. But every other setting (e. g. `verbosity: debug`) gets read correctly.",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/662939353/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/678535024",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/6669#issuecomment-678535024",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/6669",
    "id": 678535024,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY3ODUzNTAyNA==",
    "user": {
      "login": "rauljordan",
      "id": 5572669,
      "node_id": "MDQ6VXNlcjU1NzI2Njk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5572669?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rauljordan",
      "html_url": "https://github.com/rauljordan",
      "followers_url": "https://api.github.com/users/rauljordan/followers",
      "following_url": "https://api.github.com/users/rauljordan/following{/other_user}",
      "gists_url": "https://api.github.com/users/rauljordan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rauljordan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rauljordan/subscriptions",
      "organizations_url": "https://api.github.com/users/rauljordan/orgs",
      "repos_url": "https://api.github.com/users/rauljordan/repos",
      "events_url": "https://api.github.com/users/rauljordan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rauljordan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-08-21T22:02:38Z",
    "updated_at": "2020-08-21T22:02:38Z",
    "author_association": "CONTRIBUTOR",
    "body": "@prestonvanloon please triage",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/678535024/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/714706296",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/6669#issuecomment-714706296",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/6669",
    "id": 714706296,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcxNDcwNjI5Ng==",
    "user": {
      "login": "rauljordan",
      "id": 5572669,
      "node_id": "MDQ6VXNlcjU1NzI2Njk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5572669?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rauljordan",
      "html_url": "https://github.com/rauljordan",
      "followers_url": "https://api.github.com/users/rauljordan/followers",
      "following_url": "https://api.github.com/users/rauljordan/following{/other_user}",
      "gists_url": "https://api.github.com/users/rauljordan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rauljordan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rauljordan/subscriptions",
      "organizations_url": "https://api.github.com/users/rauljordan/orgs",
      "repos_url": "https://api.github.com/users/rauljordan/repos",
      "events_url": "https://api.github.com/users/rauljordan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rauljordan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-10-22T19:17:09Z",
    "updated_at": "2020-10-22T19:17:09Z",
    "author_association": "CONTRIBUTOR",
    "body": "@stefa2k this actually seems related to #7339",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/714706296/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/776861621",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/6669#issuecomment-776861621",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/6669",
    "id": 776861621,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc3Njg2MTYyMQ==",
    "user": {
      "login": "rauljordan",
      "id": 5572669,
      "node_id": "MDQ6VXNlcjU1NzI2Njk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5572669?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rauljordan",
      "html_url": "https://github.com/rauljordan",
      "followers_url": "https://api.github.com/users/rauljordan/followers",
      "following_url": "https://api.github.com/users/rauljordan/following{/other_user}",
      "gists_url": "https://api.github.com/users/rauljordan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rauljordan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rauljordan/subscriptions",
      "organizations_url": "https://api.github.com/users/rauljordan/orgs",
      "repos_url": "https://api.github.com/users/rauljordan/repos",
      "events_url": "https://api.github.com/users/rauljordan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rauljordan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-02-10T17:00:36Z",
    "updated_at": "2021-02-10T17:00:36Z",
    "author_association": "CONTRIBUTOR",
    "body": "This is since resolved in v1.2.0",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/776861621/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
