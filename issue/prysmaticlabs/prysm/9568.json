{
  "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/9568",
  "repository_url": "https://api.github.com/repos/prysmaticlabs/prysm",
  "labels_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/9568/labels{/name}",
  "comments_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/9568/comments",
  "events_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/9568/events",
  "html_url": "https://github.com/prysmaticlabs/prysm/issues/9568",
  "id": 994207272,
  "node_id": "MDU6SXNzdWU5OTQyMDcyNzI=",
  "number": 9568,
  "title": "Validator not able to resume operation after beacon_chain restart",
  "user": {
    "login": "lukaszsamson",
    "id": 1078186,
    "node_id": "MDQ6VXNlcjEwNzgxODY=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1078186?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/lukaszsamson",
    "html_url": "https://github.com/lukaszsamson",
    "followers_url": "https://api.github.com/users/lukaszsamson/followers",
    "following_url": "https://api.github.com/users/lukaszsamson/following{/other_user}",
    "gists_url": "https://api.github.com/users/lukaszsamson/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/lukaszsamson/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/lukaszsamson/subscriptions",
    "organizations_url": "https://api.github.com/users/lukaszsamson/orgs",
    "repos_url": "https://api.github.com/users/lukaszsamson/repos",
    "events_url": "https://api.github.com/users/lukaszsamson/events{/privacy}",
    "received_events_url": "https://api.github.com/users/lukaszsamson/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 3,
  "created_at": "2021-09-12T16:56:50Z",
  "updated_at": "2021-12-23T17:59:59Z",
  "closed_at": "2021-12-23T17:59:59Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "<!--üíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíé\r\n\r\nHellooo! üòÑ \r\n\r\nTo help us tend to your issue faster, please search our currently open issues before submitting a new one.\r\nExisting issues often contain information about workarounds, resolution, or progress updates.\r\n\r\nüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíé-->\r\n\r\n# üêû Bug Report\r\n\r\n### Description\r\n\r\nWe run mainnet validator and beacon chain on the same linux machine. Recently we had to restart beacon_chain (to enable `correctly-insert-orphaned-atts`  and `correctly-prune-canonical-atts` flags). The validator was left running during the beacon_chain restart. It was not able to resume normal operation and needed manual restart.\r\n\r\n### Has this worked before in a previous version?\r\n\r\nI don't have logs anymore but it happened before on 1.3.x\r\n\r\n## üî¨ Minimal Reproduction\r\n\r\nWith active validator and synced beacon_chain running on the same machine\r\n1. stop beacon_chain and wait a bit\r\n2. start beacon_chain\r\n3. observe validator logs\r\n\r\n## üî• Error\r\n\r\nIn the logs you can see:\r\n\r\n0. normal operation\r\n1. beacon chain stop at 11:15:41\r\n2. validator notices grpc cancellation at 11:15:41\r\n2. beacon_chain start at 11:15:49\r\n3. 11:16:03 - 11:17:15 validator retries grpc calls every ~12s\r\n4. beacon_chain fully synced at 11:17:26\r\n5. 11:17:26 - 11:18:54 no more retries, validator stuck while beacon_chain is working correctly\r\n6. validator restart at 11:18:54\r\n7. situation back to normal\r\n\r\nvalidator log\r\n<pre><code>\r\nSep 08 11:15:41 eth2-prod-1a prysm.sh[12747]: time=\"2021-09-08 11:15:41\" level=error msg=\"Could not receive blocks from beacon node, could not connect\" error=\"rpc error: code = Canceled desc = Context canceled\" prefix=validator\r\nSep 08 11:15:41 eth2-prod-1a prysm.sh[12747]: time=\"2021-09-08 11:15:41\" level=warning msg=\"block stream interrupted\" error=\"rpc error: code = Canceled desc = Context canceled: could not connect\" prefix=validator\r\nSep 08 11:15:45 eth2-prod-1a prysm.sh[12747]: time=\"2021-09-08 11:15:45\" level=error msg=\"Failed to retrieve blocks stream, could not connect\" error=\"rpc error: code = Unavailable desc = connection error: desc = \"transport: Error while dialing dial tcp 127.0.0.1:4000: connect: connection refused\"\" prefix=validator\r\nSep 08 11:15:45 eth2-prod-1a prysm.sh[12747]: time=\"2021-09-08 11:15:45\" level=warning msg=\"block stream interrupted\" error=\"rpc error: code = Unavailable desc = connection error: desc = \"transport: Error while dialing dial tcp 127.0.0.1:4000: connect: connection refused\": could not connect\" prefix=validator\r\nSep 08 11:15:49 eth2-prod-1a prysm.sh[12747]: time=\"2021-09-08 11:15:49\" level=error msg=\"Failed to retrieve blocks stream, could not connect\" error=\"rpc error: code = Unavailable desc = connection error: desc = \"transport: Error while dialing dial tcp 127.0.0.1:4000: connect: connection refused\"\" prefix=validator\r\nSep 08 11:15:51 eth2-prod-1a prysm.sh[12747]: time=\"2021-09-08 11:15:51\" level=error msg=\"Could not check if validators are exited\" error=\"rpc error: code = Unavailable desc = connection error: desc = \"transport: Error while dialing dial tcp 127.0.0.1:4000: connect: connection refused\"\" prefix=validator\r\nSep 08 11:15:51 eth2-prod-1a prysm.sh[12747]: time=\"2021-09-08 11:15:51\" level=warning msg=\"block stream interrupted\" error=\"rpc error: code = Unavailable desc = connection error: desc = \"transport: Error while dialing dial tcp 127.0.0.1:4000: connect: connection refused\": could not connect\" prefix=validator\r\nSep 08 11:15:55 eth2-prod-1a prysm.sh[12747]: time=\"2021-09-08 11:15:55\" level=error msg=\"Failed to retrieve blocks stream, could not connect\" error=\"rpc error: code = Unavailable desc = connection error: desc = \"transport: Error while dialing dial tcp 127.0.0.1:4000: connect: connection refused\"\" prefix=validator\r\nSep 08 11:15:55 eth2-prod-1a prysm.sh[12747]: time=\"2021-09-08 11:15:55\" level=warning msg=\"block stream interrupted\" error=\"rpc error: code = Unavailable desc = connection error: desc = \"transport: Error while dialing dial tcp 127.0.0.1:4000: connect: connection refused\": could not connect\" prefix=validator\r\nSep 08 11:16:03 eth2-prod-1a prysm.sh[12747]: time=\"2021-09-08 11:16:03\" level=error msg=\"Could not check if validators are exited\" error=\"rpc error: code = Unavailable desc = Syncing to latest head, not ready to respond\" prefix=validator\r\nSep 08 11:16:15 eth2-prod-1a prysm.sh[12747]: time=\"2021-09-08 11:16:15\" level=error msg=\"Could not check if validators are exited\" error=\"rpc error: code = Unavailable desc = Syncing to latest head, not ready to respond\" prefix=validator\r\nSep 08 11:16:27 eth2-prod-1a prysm.sh[12747]: time=\"2021-09-08 11:16:27\" level=error msg=\"Could not check if validators are exited\" error=\"rpc error: code = Unavailable desc = Syncing to latest head, not ready to respond\" prefix=validator\r\nSep 08 11:16:39 eth2-prod-1a prysm.sh[12747]: time=\"2021-09-08 11:16:39\" level=error msg=\"Could not check if validators are exited\" error=\"rpc error: code = Unavailable desc = Syncing to latest head, not ready to respond\" prefix=validator\r\nSep 08 11:16:51 eth2-prod-1a prysm.sh[12747]: time=\"2021-09-08 11:16:51\" level=error msg=\"Could not check if validators are exited\" error=\"rpc error: code = Unavailable desc = Syncing to latest head, not ready to respond\" prefix=validator\r\nSep 08 11:17:03 eth2-prod-1a prysm.sh[12747]: time=\"2021-09-08 11:17:03\" level=error msg=\"Could not check if validators are exited\" error=\"rpc error: code = Unavailable desc = Syncing to latest head, not ready to respond\" prefix=validator\r\nSep 08 11:17:15 eth2-prod-1a prysm.sh[12747]: time=\"2021-09-08 11:17:15\" level=error msg=\"Could not check if validators are exited\" error=\"rpc error: code = Unavailable desc = Syncing to latest head, not ready to respond\" prefix=validator\r\nSep 08 11:18:54 eth2-prod-1a systemd[1]: Stopping Prysm Validator daemon...\r\nSep 08 11:18:54 eth2-prod-1a prysm.sh[12747]: time=\"2021-09-08 11:18:54\" level=info msg=\"Got interrupt, shutting down...\" prefix=node\r\nSep 08 11:18:54 eth2-prod-1a prysm.sh[12747]: time=\"2021-09-08 11:18:54\" level=info msg=\"Context canceled, stopping validator\" prefix=validator\r\nSep 08 11:18:54 eth2-prod-1a prysm.sh[12747]: time=\"2021-09-08 11:18:54\" level=error msg=\"Could not receive blocks from beacon node, could not connect\" error=\"rpc error: code = Canceled desc = context canceled\" prefix=validator\r\nSep 08 11:18:54 eth2-prod-1a prysm.sh[12747]: time=\"2021-09-08 11:18:54\" level=info msg=\"Stopping service\" prefix=validator\r\nSep 08 11:18:54 eth2-prod-1a prysm.sh[12747]: time=\"2021-09-08 11:18:54\" level=info msg=\"Stopping Prysm validator\" prefix=node\r\nSep 08 11:18:54 eth2-prod-1a systemd[1]: Started Prysm Validator daemon.\r\n</code></pre>\r\n\r\nbeacon_chain log\r\n<pre><code>\r\nSep 08 11:15:41 eth2-prod-1a systemd[1]: Current command vanished from the unit file, execution of the command list won't be resumed.\r\nSep 08 11:15:41 eth2-prod-1a systemd[1]: Stopping Prysm Beacon chain daemon...\r\nSep 08 11:15:41 eth2-prod-1a prysm.sh[12416]: time=\"2021-09-08 11:15:41\" level=info msg=\"Got interrupt, shutting down...\" prefix=node\r\nSep 08 11:15:41 eth2-prod-1a prysm.sh[12416]: time=\"2021-09-08 11:15:41\" level=info msg=\"Stopping beacon node\" prefix=node\r\nSep 08 11:15:41 eth2-prod-1a prysm.sh[12416]: time=\"2021-09-08 11:15:41\" level=warning msg=\"Subscription next failed\" error=\"context canceled\" prefix=sync topic=\"/eth2/b5303f2a/voluntary_exit/ssz_snappy\"\r\nSep 08 11:15:41 eth2-prod-1a prysm.sh[12416]: time=\"2021-09-08 11:15:41\" level=warning msg=\"Subscription next failed\" error=\"context canceled\" prefix=sync topic=\"/eth2/b5303f2a/beacon_aggregate_and_proof/ssz_snappy\"\r\nSep 08 11:15:41 eth2-prod-1a prysm.sh[12416]: time=\"2021-09-08 11:15:41\" level=warning msg=\"Subscription next failed\" error=\"context canceled\" prefix=sync topic=\"/eth2/b5303f2a/beacon_attestation_28/ssz_snappy\"\r\nSep 08 11:15:41 eth2-prod-1a prysm.sh[12416]: time=\"2021-09-08 11:15:41\" level=warning msg=\"Subscription next failed\" error=\"context canceled\" prefix=sync topic=\"/eth2/b5303f2a/beacon_attestation_44/ssz_snappy\"\r\nSep 08 11:15:41 eth2-prod-1a prysm.sh[12416]: time=\"2021-09-08 11:15:41\" level=warning msg=\"Subscription next failed\" error=\"context canceled\" prefix=sync topic=\"/eth2/b5303f2a/beacon_attestation_25/ssz_snappy\"\r\nSep 08 11:15:41 eth2-prod-1a prysm.sh[12416]: time=\"2021-09-08 11:15:41\" level=warning msg=\"Subscription next failed\" error=\"context canceled\" prefix=sync topic=\"/eth2/b5303f2a/beacon_block/ssz_snappy\"\r\nSep 08 11:15:41 eth2-prod-1a prysm.sh[12416]: time=\"2021-09-08 11:15:41\" level=warning msg=\"Subscription next failed\" error=\"context canceled\" prefix=sync topic=\"/eth2/b5303f2a/attester_slashing/ssz_snappy\"\r\nSep 08 11:15:41 eth2-prod-1a prysm.sh[12416]: time=\"2021-09-08 11:15:41\" level=warning msg=\"Subscription next failed\" error=\"context canceled\" prefix=sync topic=\"/eth2/b5303f2a/proposer_slashing/ssz_snappy\"\r\nSep 08 11:15:45 eth2-prod-1a systemd[1]: Stopped Prysm Beacon chain daemon.\r\nSep 08 11:15:49 eth2-prod-1a systemd[1]: Started Prysm Beacon chain daemon.\r\nSep 08 11:15:49 eth2-prod-1a systemd[1]: Starting Prysm Beacon chain daemon...\r\nSep 08 11:15:49 eth2-prod-1a prysm.sh[31919]: Latest Prysm version is v1.4.4.\r\nSep 08 11:15:49 eth2-prod-1a prysm.sh[31919]: Beacon chain is up to date.\r\nSep 08 11:15:49 eth2-prod-1a prysm.sh[31919]: Verifying binary integrity.\r\nSep 08 11:15:49 eth2-prod-1a prysm.sh[31919]: beacon-chain-v1.4.4-linux-amd64: OK\r\nSep 08 11:15:49 eth2-prod-1a prysm.sh[31919]: gpg: Signature made Wed Sep  1 17:45:16 2021 UTC using RSA key ID F1A5036E\r\nSep 08 11:15:49 eth2-prod-1a prysm.sh[31919]: gpg: Good signature from \"Preston Van Loon <preston@prysmaticlabs.com>\"\r\nSep 08 11:15:49 eth2-prod-1a prysm.sh[31919]: gpg: WARNING: This key is not certified with a trusted signature!\r\nSep 08 11:15:49 eth2-prod-1a prysm.sh[31919]: gpg:          There is no indication that the signature belongs to the owner.\r\nSep 08 11:15:49 eth2-prod-1a prysm.sh[31919]: Primary key fingerprint: 0AE0 051D 647B A3C1 A917  AF40 72E3 3E4D F1A5 036E\r\nSep 08 11:15:49 eth2-prod-1a prysm.sh[31919]: Verified /crypto/eth2/dist/beacon-chain-v1.4.4-linux-amd64 has been signed by Prysmatic Labs.\r\nSep 08 11:15:49 eth2-prod-1a prysm.sh[31919]: Starting Prysm beacon-chain --accept-terms-of-use --http-web3provider=http://10.21.4.17:8545 --fallback-web3provider=http://10.21.4.36:8545 --datadir=/crypto/eth2/datadir --enable-db-backup-webhook --db-backup-output-dir /crypto/eth2/backup/beacon_chain --correctly-insert-orphaned-atts --correctly-prune-canonical-atts\r\nSep 08 11:15:50 eth2-prod-1a prysm.sh[31919]: time=\"2021-09-08 11:15:50\" level=warning msg=\"Running on Ethereum Consensus Mainnet\" prefix=flags\r\nSep 08 11:15:50 eth2-prod-1a prysm.sh[31919]: time=\"2021-09-08 11:15:50\" level=warning msg=\"Enabled feature flag\" correctly-insert-orphaned-atts=\"This fixes a bug where orphaned attestations don't get reinserted back to mem pool. This improves validator profitability and overall network health,see issue #9441 for further detail\" prefix=flags\r\nSep 08 11:15:50 eth2-prod-1a prysm.sh[31919]: time=\"2021-09-08 11:15:50\" level=warning msg=\"Enabled feature flag\" correctly-prune-canonical-atts=\"This fixes a bug where any block attestations can get incorrectly pruned. This improves validator profitability and overall network health,see issue #9443 for further detail\" prefix=flags\r\nSep 08 11:15:50 eth2-prod-1a prysm.sh[31919]: time=\"2021-09-08 11:15:50\" level=info msg=\"Checking DB\" database-path=\"/crypto/eth2/datadir/beaconchaindata\" prefix=node\r\nSep 08 11:15:50 eth2-prod-1a prysm.sh[31919]: time=\"2021-09-08 11:15:50\" level=info msg=\"Deposit contract: 0x00000000219ab540356cbb839cbe05303d7705fa\" prefix=node\r\nSep 08 11:15:51 eth2-prod-1a prysm.sh[31919]: time=\"2021-09-08 11:15:51\" level=info msg=\"Waiting for state to be initialized\" prefix=initial-sync\r\nSep 08 11:15:51 eth2-prod-1a prysm.sh[31919]: time=\"2021-09-08 11:15:51\" level=info msg=\"Starting beacon node\" prefix=node version=\"Prysm/v1.4.4/29d48dfe7eb38959752048aec700f31c3abf7484. Built at: 2021-09-01 16:20:28+00:00\"\r\nSep 08 11:15:51 eth2-prod-1a prysm.sh[31919]: time=\"2021-09-08 11:15:51\" level=info msg=\"Starting API middleware\" API middleware address=\"127.0.0.1:3501\" prefix=gateway\r\nSep 08 11:15:51 eth2-prod-1a prysm.sh[31919]: time=\"2021-09-08 11:15:51\" level=info msg=\"gRPC server listening on port\" address=\"127.0.0.1:4000\" prefix=rpc\r\nSep 08 11:15:51 eth2-prod-1a prysm.sh[31919]: time=\"2021-09-08 11:15:51\" level=warning msg=\"You are using an insecure gRPC server. If you are running your beacon node and validator on the same machines, you can ignore this message. If you want to know how to enable secure connections, see: https://docs.prylabs.network/docs/prysm-usage/secure-grpc\" prefix=rpc\r\nSep 08 11:15:51 eth2-prod-1a prysm.sh[31919]: time=\"2021-09-08 11:15:51\" level=info msg=\"Starting gRPC gateway\" address=\"127.0.0.1:3500\" prefix=gateway\r\nSep 08 11:15:51 eth2-prod-1a prysm.sh[31919]: time=\"2021-09-08 11:15:51\" level=info msg=\"Connected to eth1 proof-of-work chain\" endpoint=\"http://10.21.4.17:8545\" prefix=powchain\r\nSep 08 11:15:51 eth2-prod-1a prysm.sh[31919]: time=\"2021-09-08 11:15:51\" level=info msg=\"Blockchain data already exists in DB, initializing...\" prefix=blockchain\r\nSep 08 11:15:52 eth2-prod-1a prysm.sh[31919]: time=\"2021-09-08 11:15:52\" level=info msg=\"Chain genesis time reached\" genesisStateRoot=7e76880eb67bbdc86250aa578958e9d0675e64e714337855204fb5abaaf82c2b genesisTime=\"2020-12-01 12:00:23 +0000 UTC\" genesisValidators=21063 prefix=slotutil\r\nSep 08 11:15:56 eth2-prod-1a prysm.sh[31919]: time=\"2021-09-08 11:15:56\" level=info msg=\"Starting initial chain sync...\" prefix=initial-sync\r\nSep 08 11:15:56 eth2-prod-1a prysm.sh[31919]: time=\"2021-09-08 11:15:56\" level=info msg=\"Waiting for enough suitable peers before syncing\" prefix=initial-sync required=3 suitable=0\r\nSep 08 11:15:56 eth2-prod-1a prysm.sh[31919]: time=\"2021-09-08 11:15:56\" level=info msg=\"Started discovery v5\" ENR=\"enr:-LK4QG4UoPE3GyaPBflgqc44P7qLY3Cb93xqtZj9Ftl3_DizdsOPUZujhha6IHEYYFj137XZbc8YLqRcSpSJ3f-UPCsBh2F0dG5ldHOIAAAAAAAAAACEZXRoMpC1MD8qAAAAAP__________gmlkgnY0gmlwhAoVBByJc2VjcDI1NmsxoQLqGkwmPVEerESo2LLIy2dEp-cb80LL7g4aa6-ygI-oSIN0Y3CCMsiDdWRwgi7g\" prefix=p2p\r\nSep 08 11:15:56 eth2-prod-1a prysm.sh[31919]: time=\"2021-09-08 11:15:56\" level=info msg=\"Node started p2p server\" multiAddr=\"/ip4/10.21.4.28/tcp/13000/p2p/16Uiu2HAmBBWe1TNtAXwF97v726uAd3uzTihnU7R8ZsPGmKoar9my\" prefix=p2p\r\nSep 08 11:15:57 eth2-prod-1a prysm.sh[31919]: time=\"2021-09-08 11:15:57\" level=info msg=\"New gRPC client connected to beacon node\" addr=\"127.0.0.1:47826\" prefix=rpc\r\nSep 08 11:16:02 eth2-prod-1a prysm.sh[31919]: time=\"2021-09-08 11:16:02\" level=info msg=\"Processing block batch of size 31 starting from  0x4ca453d6... 2022913/2022978 - estimated time remaining 41s\" blocksPerSecond=1.6 peers=11 prefix=initial-sync\r\nSep 08 11:16:56 eth2-prod-1a prysm.sh[31919]: time=\"2021-09-08 11:16:56\" level=info msg=\"Peer summary\" activePeers=44 inbound=0 outbound=44 prefix=p2p\r\nSep 08 11:16:59 eth2-prod-1a prysm.sh[31919]: time=\"2021-09-08 11:16:59\" level=info msg=\"Processing block batch of size 35 starting from  0xdd049b80... 2022944/2022983 - estimated time remaining 22s\" blocksPerSecond=1.8 peers=43 prefix=initial-sync\r\nSep 08 11:17:09 eth2-prod-1a prysm.sh[31919]: time=\"2021-09-08 11:17:09\" level=info msg=\"Synced to finalized epoch - now syncing blocks up to current head\" headSlot=2022983 prefix=initial-sync syncedSlot=2022978\r\nSep 08 11:17:10 eth2-prod-1a prysm.sh[31919]: time=\"2021-09-08 11:17:10\" level=info msg=\"Synced new block\" block=0x903b00f8... epoch=63218 finalizedEpoch=63216 finalizedRoot=0xe0ee654b... prefix=blockchain slot=2022979 slotInEpoch=3\r\nSep 08 11:17:10 eth2-prod-1a prysm.sh[31919]: time=\"2021-09-08 11:17:10\" level=info msg=\"Finished applying state transition\" attestations=128 prefix=blockchain\r\nSep 08 11:17:10 eth2-prod-1a prysm.sh[31919]: time=\"2021-09-08 11:17:10\" level=info msg=\"Synced new block\" block=0x8f5bdb49... epoch=63218 finalizedEpoch=63216 finalizedRoot=0xe0ee654b... prefix=blockchain slot=2022980 slotInEpoch=4\r\nSep 08 11:17:10 eth2-prod-1a prysm.sh[31919]: time=\"2021-09-08 11:17:10\" level=info msg=\"Finished applying state transition\" attestations=99 prefix=blockchain\r\nSep 08 11:17:10 eth2-prod-1a prysm.sh[31919]: time=\"2021-09-08 11:17:10\" level=info msg=\"Synced new block\" block=0x46eab2cf... epoch=63218 finalizedEpoch=63216 finalizedRoot=0xe0ee654b... prefix=blockchain slot=2022981 slotInEpoch=5\r\nSep 08 11:17:10 eth2-prod-1a prysm.sh[31919]: time=\"2021-09-08 11:17:10\" level=info msg=\"Finished applying state transition\" attestations=128 prefix=blockchain\r\nSep 08 11:17:11 eth2-prod-1a prysm.sh[31919]: time=\"2021-09-08 11:17:11\" level=info msg=\"Synced new block\" block=0x3a1bde44... epoch=63218 finalizedEpoch=63216 finalizedRoot=0xe0ee654b... prefix=blockchain slot=2022982 slotInEpoch=6\r\nSep 08 11:17:11 eth2-prod-1a prysm.sh[31919]: time=\"2021-09-08 11:17:11\" level=info msg=\"Finished applying state transition\" attestations=128 prefix=blockchain\r\nSep 08 11:17:11 eth2-prod-1a prysm.sh[31919]: time=\"2021-09-08 11:17:11\" level=info msg=\"Synced new block\" block=0x5f368542... epoch=63218 finalizedEpoch=63216 finalizedRoot=0xe0ee654b... prefix=blockchain slot=2022983 slotInEpoch=7\r\nSep 08 11:17:11 eth2-prod-1a prysm.sh[31919]: time=\"2021-09-08 11:17:11\" level=info msg=\"Finished applying state transition\" attestations=128 prefix=blockchain\r\nSep 08 11:17:26 eth2-prod-1a prysm.sh[31919]: time=\"2021-09-08 11:17:26\" level=info msg=\"Synced to head of chain\" headSlot=2022985 prefix=initial-sync syncedSlot=2022983\r\nSep 08 11:17:26 eth2-prod-1a prysm.sh[31919]: time=\"2021-09-08 11:17:26\" level=info msg=\"Synced up to slot 2022983\" prefix=initial-sync\r\nSep 08 11:17:31 eth2-prod-1a prysm.sh[31919]: time=\"2021-09-08 11:17:31\" level=info msg=\"Synced new block\" block=0xc5643fe9... epoch=63218 finalizedEpoch=63216 finalizedRoot=0xe0ee654b... prefix=blockchain slot=2022984 slotInEpoch=8\r\nSep 08 11:17:31 eth2-prod-1a prysm.sh[31919]: time=\"2021-09-08 11:17:31\" level=info msg=\"Finished applying state transition\" attestations=79 prefix=blockchain\r\nSep 08 11:17:35 eth2-prod-1a prysm.sh[31919]: time=\"2021-09-08 11:17:35\" level=info msg=\"Synced new block\" block=0xe874d40e... epoch=63218 finalizedEpoch=63216 finalizedRoot=0xe0ee654b... prefix=blockchain slot=2022985 slotInEpoch=9\r\nSep 08 11:17:35 eth2-prod-1a prysm.sh[31919]: time=\"2021-09-08 11:17:35\" level=info msg=\"Finished applying state transition\" attestations=57 prefix=blockchain\r\nSep 08 11:17:35 eth2-prod-1a prysm.sh[31919]: time=\"2021-09-08 11:17:35\" level=info msg=\"Synced new block\" block=0x93fcc436... epoch=63218 finalizedEpoch=63216 finalizedRoot=0xe0ee654b... prefix=blockchain slot=2022986 slotInEpoch=10\r\nSep 08 11:17:35 eth2-prod-1a prysm.sh[31919]: time=\"2021-09-08 11:17:35\" level=info msg=\"Finished applying state transition\" attestations=128 prefix=blockchain\r\nSep 08 11:17:47 eth2-prod-1a prysm.sh[31919]: time=\"2021-09-08 11:17:47\" level=info msg=\"Synced new block\" block=0x4f401429... epoch=63218 finalizedEpoch=63216 finalizedRoot=0xe0ee654b... prefix=blockchain slot=2022987 slotInEpoch=11\r\nSep 08 11:17:47 eth2-prod-1a prysm.sh[31919]: time=\"2021-09-08 11:17:47\" level=info msg=\"Finished applying state transition\" attestations=60 prefix=blockchain\r\nSep 08 11:17:56 eth2-prod-1a prysm.sh[31919]: time=\"2021-09-08 11:17:56\" level=info msg=\"Peer summary\" activePeers=46 inbound=0 outbound=46 prefix=p2p\r\nSep 08 11:17:59 eth2-prod-1a prysm.sh[31919]: time=\"2021-09-08 11:17:59\" level=info msg=\"Synced new block\" block=0x9a10f50d... epoch=63218 finalizedEpoch=63216 finalizedRoot=0xe0ee654b... prefix=blockchain slot=2022988 slotInEpoch=12\r\nSep 08 11:17:59 eth2-prod-1a prysm.sh[31919]: time=\"2021-09-08 11:17:59\" level=info msg=\"Finished applying state transition\" attestations=128 prefix=blockchain\r\nSep 08 11:18:11 eth2-prod-1a prysm.sh[31919]: time=\"2021-09-08 11:18:11\" level=info msg=\"Synced new block\" block=0x28994291... epoch=63218 finalizedEpoch=63216 finalizedRoot=0xe0ee654b... prefix=blockchain slot=2022989 slotInEpoch=13\r\nSep 08 11:18:11 eth2-prod-1a prysm.sh[31919]: time=\"2021-09-08 11:18:11\" level=info msg=\"Finished applying state transition\" attestations=77 prefix=blockchain\r\nSep 08 11:18:27 eth2-prod-1a prysm.sh[31919]: time=\"2021-09-08 11:18:27\" level=info msg=\"Synced new block\" block=0xb8d7e3b7... epoch=63218 finalizedEpoch=63216 finalizedRoot=0xe0ee654b... prefix=blockchain slot=2022990 slotInEpoch=14\r\nSep 08 11:18:27 eth2-prod-1a prysm.sh[31919]: time=\"2021-09-08 11:18:27\" level=info msg=\"Finished applying state transition\" attestations=128 prefix=blockchain\r\nSep 08 11:18:35 eth2-prod-1a prysm.sh[31919]: time=\"2021-09-08 11:18:35\" level=info msg=\"Synced new block\" block=0x98f78550... epoch=63218 finalizedEpoch=63216 finalizedRoot=0xe0ee654b... prefix=blockchain slot=2022991 slotInEpoch=15\r\nSep 08 11:18:35 eth2-prod-1a prysm.sh[31919]: time=\"2021-09-08 11:18:35\" level=info msg=\"Finished applying state transition\" attestations=128 prefix=blockchain\r\nSep 08 11:18:47 eth2-prod-1a prysm.sh[31919]: time=\"2021-09-08 11:18:47\" level=info msg=\"Synced new block\" block=0xb879f167... epoch=63218 finalizedEpoch=63216 finalizedRoot=0xe0ee654b... prefix=blockchain slot=2022992 slotInEpoch=16\r\nSep 08 11:18:47 eth2-prod-1a prysm.sh[31919]: time=\"2021-09-08 11:18:47\" level=info msg=\"Finished applying state transition\" attestations=64 prefix=blockchain\r\nSep 08 11:18:56 eth2-prod-1a prysm.sh[31919]: time=\"2021-09-08 11:18:56\" level=info msg=\"Peer summary\" activePeers=43 inbound=0 outbound=43 prefix=p2p\r\nSep 08 11:18:56 eth2-prod-1a prysm.sh[31919]: time=\"2021-09-08 11:18:56\" level=info msg=\"New gRPC client connected to beacon node\" addr=\"127.0.0.1:47936\" prefix=rpc\r\n</code></pre>\r\n\r\n## üåç  Your Environment\r\n\r\n**Operating System:**\r\n\r\n<pre>\r\n  <code>\r\naws linux 2\r\n  </code>\r\n</pre>\r\n\r\n**What version of Prysm are you running? (Which release)**\r\n\r\n<pre>\r\n  <code>\r\n1.4.4\r\n  </code>\r\n</pre>\r\n\r\n**Anything else relevant (validator index / public key)?**\r\n\r\n",
  "closed_by": {
    "login": "terencechain",
    "id": 21316537,
    "node_id": "MDQ6VXNlcjIxMzE2NTM3",
    "avatar_url": "https://avatars.githubusercontent.com/u/21316537?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/terencechain",
    "html_url": "https://github.com/terencechain",
    "followers_url": "https://api.github.com/users/terencechain/followers",
    "following_url": "https://api.github.com/users/terencechain/following{/other_user}",
    "gists_url": "https://api.github.com/users/terencechain/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/terencechain/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/terencechain/subscriptions",
    "organizations_url": "https://api.github.com/users/terencechain/orgs",
    "repos_url": "https://api.github.com/users/terencechain/repos",
    "events_url": "https://api.github.com/users/terencechain/events{/privacy}",
    "received_events_url": "https://api.github.com/users/terencechain/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/9568/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/9568/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/918579128",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/9568#issuecomment-918579128",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/9568",
    "id": 918579128,
    "node_id": "IC_kwDOBvuov842wGe4",
    "user": {
      "login": "prestonvanloon",
      "id": 7246818,
      "node_id": "MDQ6VXNlcjcyNDY4MTg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7246818?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/prestonvanloon",
      "html_url": "https://github.com/prestonvanloon",
      "followers_url": "https://api.github.com/users/prestonvanloon/followers",
      "following_url": "https://api.github.com/users/prestonvanloon/following{/other_user}",
      "gists_url": "https://api.github.com/users/prestonvanloon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/prestonvanloon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/prestonvanloon/subscriptions",
      "organizations_url": "https://api.github.com/users/prestonvanloon/orgs",
      "repos_url": "https://api.github.com/users/prestonvanloon/repos",
      "events_url": "https://api.github.com/users/prestonvanloon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/prestonvanloon/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-09-13T21:09:46Z",
    "updated_at": "2021-09-13T21:10:24Z",
    "author_association": "MEMBER",
    "body": "Did this issue resolve? It seems that your beacon node was synced at 11:17:26 and the validator connection failure logs stopped at that time too. The validator was stopped about 90s later at 11:18:54. \r\n\r\nDid you miss any attestation during that 90s? It seems like the validator did connect successfully to the beacon node. ",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/918579128/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/918833548",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/9568#issuecomment-918833548",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/9568",
    "id": 918833548,
    "node_id": "IC_kwDOBvuov842xEmM",
    "user": {
      "login": "lukaszsamson",
      "id": 1078186,
      "node_id": "MDQ6VXNlcjEwNzgxODY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1078186?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lukaszsamson",
      "html_url": "https://github.com/lukaszsamson",
      "followers_url": "https://api.github.com/users/lukaszsamson/followers",
      "following_url": "https://api.github.com/users/lukaszsamson/following{/other_user}",
      "gists_url": "https://api.github.com/users/lukaszsamson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lukaszsamson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lukaszsamson/subscriptions",
      "organizations_url": "https://api.github.com/users/lukaszsamson/orgs",
      "repos_url": "https://api.github.com/users/lukaszsamson/repos",
      "events_url": "https://api.github.com/users/lukaszsamson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lukaszsamson/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-09-14T06:03:20Z",
    "updated_at": "2021-09-14T06:03:20Z",
    "author_association": "NONE",
    "body": "> Did you miss any attestation during that 90s?\r\n\r\nNo\r\n\r\n> It seems like the validator did connect successfully to the beacon node\r\n\r\nIf it if fact did reconnect, I'd expect some info level log message confirming that, e.g. Validator activated or Attestation schedule",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/918833548/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/1000453087",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/9568#issuecomment-1000453087",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/9568",
    "id": 1000453087,
    "node_id": "IC_kwDOBvuov847obPf",
    "user": {
      "login": "terencechain",
      "id": 21316537,
      "node_id": "MDQ6VXNlcjIxMzE2NTM3",
      "avatar_url": "https://avatars.githubusercontent.com/u/21316537?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/terencechain",
      "html_url": "https://github.com/terencechain",
      "followers_url": "https://api.github.com/users/terencechain/followers",
      "following_url": "https://api.github.com/users/terencechain/following{/other_user}",
      "gists_url": "https://api.github.com/users/terencechain/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/terencechain/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/terencechain/subscriptions",
      "organizations_url": "https://api.github.com/users/terencechain/orgs",
      "repos_url": "https://api.github.com/users/terencechain/repos",
      "events_url": "https://api.github.com/users/terencechain/events{/privacy}",
      "received_events_url": "https://api.github.com/users/terencechain/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-12-23T17:59:59Z",
    "updated_at": "2021-12-23T17:59:59Z",
    "author_association": "MEMBER",
    "body": "closing this as there hasn't been any follow-up for ~100 days. Feel free to open this issue, and we can reopen the investigation again",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/1000453087/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
