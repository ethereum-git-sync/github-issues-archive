{
  "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/12415",
  "repository_url": "https://api.github.com/repos/prysmaticlabs/prysm",
  "labels_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/12415/labels{/name}",
  "comments_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/12415/comments",
  "events_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/12415/events",
  "html_url": "https://github.com/prysmaticlabs/prysm/issues/12415",
  "id": 1713752263,
  "node_id": "I_kwDOBvuov85mJcjH",
  "number": 12415,
  "title": "Re-enable Slasher E2E Test",
  "user": {
    "login": "nisdas",
    "id": 33201827,
    "node_id": "MDQ6VXNlcjMzMjAxODI3",
    "avatar_url": "https://avatars.githubusercontent.com/u/33201827?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/nisdas",
    "html_url": "https://github.com/nisdas",
    "followers_url": "https://api.github.com/users/nisdas/followers",
    "following_url": "https://api.github.com/users/nisdas/following{/other_user}",
    "gists_url": "https://api.github.com/users/nisdas/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/nisdas/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/nisdas/subscriptions",
    "organizations_url": "https://api.github.com/users/nisdas/orgs",
    "repos_url": "https://api.github.com/users/nisdas/repos",
    "events_url": "https://api.github.com/users/nisdas/events{/privacy}",
    "received_events_url": "https://api.github.com/users/nisdas/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 802129907,
      "node_id": "MDU6TGFiZWw4MDIxMjk5MDc=",
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/labels/Help%20Wanted",
      "name": "Help Wanted",
      "color": "33aa3f",
      "default": false,
      "description": "Extra attention is needed"
    },
    {
      "id": 802129908,
      "node_id": "MDU6TGFiZWw4MDIxMjk5MDg=",
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/labels/Good%20First%20Issue",
      "name": "Good First Issue",
      "color": "7057ff",
      "default": false,
      "description": "Good for newcomers"
    },
    {
      "id": 3126461723,
      "node_id": "MDU6TGFiZWwzMTI2NDYxNzIz",
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/labels/E2E%20Tests",
      "name": "E2E Tests",
      "color": "1C4D5E",
      "default": false,
      "description": "End-To-End testing"
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": {
    "login": "roycncn",
    "id": 4133273,
    "node_id": "MDQ6VXNlcjQxMzMyNzM=",
    "avatar_url": "https://avatars.githubusercontent.com/u/4133273?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/roycncn",
    "html_url": "https://github.com/roycncn",
    "followers_url": "https://api.github.com/users/roycncn/followers",
    "following_url": "https://api.github.com/users/roycncn/following{/other_user}",
    "gists_url": "https://api.github.com/users/roycncn/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/roycncn/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/roycncn/subscriptions",
    "organizations_url": "https://api.github.com/users/roycncn/orgs",
    "repos_url": "https://api.github.com/users/roycncn/repos",
    "events_url": "https://api.github.com/users/roycncn/events{/privacy}",
    "received_events_url": "https://api.github.com/users/roycncn/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "roycncn",
      "id": 4133273,
      "node_id": "MDQ6VXNlcjQxMzMyNzM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4133273?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/roycncn",
      "html_url": "https://github.com/roycncn",
      "followers_url": "https://api.github.com/users/roycncn/followers",
      "following_url": "https://api.github.com/users/roycncn/following{/other_user}",
      "gists_url": "https://api.github.com/users/roycncn/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/roycncn/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/roycncn/subscriptions",
      "organizations_url": "https://api.github.com/users/roycncn/orgs",
      "repos_url": "https://api.github.com/users/roycncn/repos",
      "events_url": "https://api.github.com/users/roycncn/events{/privacy}",
      "received_events_url": "https://api.github.com/users/roycncn/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 5,
  "created_at": "2023-05-17T12:02:02Z",
  "updated_at": "2024-01-19T05:05:23Z",
  "closed_at": "2024-01-19T05:05:23Z",
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": "# üíé Issue\r\n\r\n### Background\r\n\r\nIn #12150 , we disabled our slasher e2e run as the evaluators were broken and all our test runs were failing continuously. This issue is to track the eventual re-enabling of it. As without the e2e run, issues such as #12404 end up being undetected until its too late. ",
  "closed_by": {
    "login": "nisdas",
    "id": 33201827,
    "node_id": "MDQ6VXNlcjMzMjAxODI3",
    "avatar_url": "https://avatars.githubusercontent.com/u/33201827?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/nisdas",
    "html_url": "https://github.com/nisdas",
    "followers_url": "https://api.github.com/users/nisdas/followers",
    "following_url": "https://api.github.com/users/nisdas/following{/other_user}",
    "gists_url": "https://api.github.com/users/nisdas/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/nisdas/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/nisdas/subscriptions",
    "organizations_url": "https://api.github.com/users/nisdas/orgs",
    "repos_url": "https://api.github.com/users/nisdas/repos",
    "events_url": "https://api.github.com/users/nisdas/events{/privacy}",
    "received_events_url": "https://api.github.com/users/nisdas/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/12415/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/12415/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/1636829240",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/12415#issuecomment-1636829240",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/12415",
    "id": 1636829240,
    "node_id": "IC_kwDOBvuov85hkAg4",
    "user": {
      "login": "roycncn",
      "id": 4133273,
      "node_id": "MDQ6VXNlcjQxMzMyNzM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4133273?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/roycncn",
      "html_url": "https://github.com/roycncn",
      "followers_url": "https://api.github.com/users/roycncn/followers",
      "following_url": "https://api.github.com/users/roycncn/following{/other_user}",
      "gists_url": "https://api.github.com/users/roycncn/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/roycncn/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/roycncn/subscriptions",
      "organizations_url": "https://api.github.com/users/roycncn/orgs",
      "repos_url": "https://api.github.com/users/roycncn/repos",
      "events_url": "https://api.github.com/users/roycncn/events{/privacy}",
      "received_events_url": "https://api.github.com/users/roycncn/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-07-15T17:11:00Z",
    "updated_at": "2023-07-15T17:11:47Z",
    "author_association": "NONE",
    "body": "Hi Team, would like to have a look at in this issues. \r\n\r\nBut I just re-enable this test, seems all good to me. May you advise the procedures to reproduce this issue?\r\n\r\n**bazel test //testing/endtoend:go_default_test --test_output=streamed --test_filter=TestEndToEnd_Slasher_MinimalConfig**\r\n```\r\nWARNING: Streamed test output requested. All tests will be run locally, without sharding, one at a time                                                                                                                                                                                                                                                                                                                               \r\nINFO: Analyzed target //testing/endtoend:go_default_test (0 packages loaded, 0 targets configured).                                                                                                                                                                                                                                                                                                                                   \r\nINFO: Found 1 test target...                                                                                                                                                                                                                                                                                                                                                                                                          \r\nINFO: From BazelWorkspaceStatusAction stable-status.txt:\r\nfatal: No names found, cannot describe anything.\r\n=== RUN   TestEndToEnd_Slasher_MinimalConfig\r\n    component_handler_test.go:57: Shard index: 0\r\n    component_handler_test.go:58: Starting time: 2023-07-15 16:58:12.638295263 +0000 UTC m=+0.045765659\r\n    component_handler_test.go:59: Log Path: /home/roy/.cache/bazel/_bazel_roy/d2b35bfddbea486c0d661d8cff4744e8/sandbox/linux-sandbox/4020/execroot/prysm/bazel-out/k8-fastbuild-ST-f5229d06642b/testlogs/testing/endtoend/go_default_test/test.outputs/20230715/165812/TestEndToEnd_Slasher_MinimalConfig\r\ntime=\"2023-07-15T16:58:12Z\" level=info msg=\"Starting boot node with flags: --metrics-port=2200\" func=\"github.com/prysmaticlabs/prysm/v4/testing/endtoend/components.(*BootNode).Start\" file=\"testing/endtoend/components/boot_node.go:59\" prefix=components\r\ntime=\"2023-07-15T16:58:13Z\" level=info msg=\"eth1 miner genesis timestamp=1689440307\" func=\"github.com/prysmaticlabs/prysm/v4/testing/endtoend/components/eth1.(*Miner).initAttempt\" file=\"testing/endtoend/components/eth1/miner.go:92\"\r\ntime=\"2023-07-15T16:58:13Z\" level=info msg=\"Starting eth1 miner, attempt 0, with flags: --http.port=3200 --ws.port=3250 --authrpc.port=3300 --bootnodes=enr:-LG4QPG_YJ1AXlwevNOz6BfQUNMNd7Qr-V4IQAgKvvv4OZ6aMh65HewQZOtba8iNwvVwW4UfSHKYx0JluIcib4EkEtqGAYlafQ9Fh2F0dG5ldHOIAAAAAAAAAACEZXRoMpD1pf1CAAAAAP__________gmlkgnY0gmlwhKwRSnKJc2VjcDI1NmsxoQK2KR3rqi0RCyQahFCDuc0rfgA2erOPMOUtwF7ohqn0soN1ZHCCCGY --port=3150 --networkid=13\r\n37 --http --http.api=engine,net,eth --http.addr=127.0.0.1 --http.corsdomain=\\\"*\\\" --http.vhosts=\\\"*\\\" --rpc.allow-unprotected-txs --ws --ws.api=net,eth,engine --ws.addr=127.0.0.1 --ws.origins=\\\"*\\\" --ipcdisable --verbosity=4 --mine --unlock=0x878705ba3f8bc32fcf7f4caa1a35e72af65cf766 --allow-insecure-unlock --syncmode=full --miner.etherbase=0x878705ba3f8bc32fcf7f4caa1a35e72af65cf766 --txpool.locals=0x878705ba3f8bc32fcf7f4caa1a35e72af65cf766 --password=/home/roy/.cache/bazel/_bazel_roy/d2b35bfddbea486c0d661d8cff4744e8/sandbox/linux-sandbox/4020/execroot/prysm/_tmp/bbead6fe9ddf0afc2b3e673ead7d16a4/shard-0/eth1data/miner/keystore/password.txt\" func=\"github.com/prysmaticlabs/prysm/v4/testing/endtoend/components/eth1.(*Miner).initAttempt\" file=\"testing/endtoend/components/eth1/miner.go:174\"\r\ntime=\"2023-07-15T16:58:13Z\" level=info msg=\"miner started after 0 retries\" func=\"github.com/prysmaticlabs/prysm/v4/testing/endtoend/components/eth1.(*Miner).Start\" file=\"testing/endtoend/components/eth1/miner.go:198\"\r\ntime=\"2023-07-15T16:58:13Z\" level=info msg=\"Communicated enode. Enode is enode://8efc343573e0cf1c2f4eebaa236bcb5f6b06f710afb4b0af3f21de792c49d94745861f7fb8160ab95be352144a1f712c6b1e30cda94f88047cc164f7f5c85d21@127.0.0.1:3150\" func=\"github.com/prysmaticlabs/prysm/v4/testing/endtoend/components/eth1.(*Miner).Start\" file=\"testing/endtoend/components/eth1/miner.go:212\"\r\ntime=\"2023-07-15T16:58:13Z\" level=info msg=\"genesis block timestamp=1689440307\" func=\"github.com/prysmaticlabs/prysm/v4/testing/endtoend/components/eth1.(*Miner).Start\" file=\"testing/endtoend/components/eth1/miner.go:224\"\r\ntime=\"2023-07-15T16:58:13Z\" level=info msg=\"miner says genesis block root=0x6885c4aadfba2a152c02e0edbc84f0f3b2c2cbc4326753f7c1c7d861342f923d\" func=\"github.com/prysmaticlabs/prysm/v4/testing/endtoend/components/eth1.(*Miner).Start\" file=\"testing/endtoend/components/eth1/miner.go:227\"                                                                                                                                           \r\ntime=\"2023-07-15T16:58:13Z\" level=info msg=\"contract code size = 6077\" func=\"github.com/prysmaticlabs/prysm/v4/testing/endtoend/components/eth1.(*Miner).Start\" file=\"testing/endtoend/components/eth1/miner.go:233\"\r\ntime=\"2023-07-15T16:58:13Z\" level=info msg=\"deposit contract count=[0 0 0 0 0 0 0 0]\" func=\"github.com/prysmaticlabs/prysm/v4/testing/endtoend/components/eth1.(*Miner).Start\" file=\"testing/endtoend/components/eth1/miner.go:243\"\r\ntime=\"2023-07-15T16:58:13Z\" level=info msg=\"Starting eth1 node 1, attempt 0 with flags: --http.port=3201 --ws.port=3251 --authrpc.port=3301 --bootnodes=enode://8efc343573e0cf1c2f4eebaa236bcb5f6b06f710afb4b0af3f21de792c49d94745861f7fb8160ab95be352144a1f712c6b1e30cda94f88047cc164f7f5c85d21@127.0.0.1:3150 --port=3151 --networkid=1337 --http --http.api=engine,net,eth --http.addr=127.0.0.1 --http.corsdomain=\\\"*\\\" --http.vhosts=\\\"*\\\" --rpc.allow-unprotected-txs --ws --ws.api=net,eth,engine --ws.addr=127.0.0.1 --ws.origins=\\\"*\\\" --ipcdisable --verbosity=4 --syncmode=full --txpool.locals=0x878705ba3f8bc32fcf7f4caa1a35e72af65cf766\" func=\"github.com/prysmaticlabs/prysm/v4/testing/endtoend/components/eth1.(*Node).Start\" file=\"testing/endtoend/components/eth1/node.go:120\"\r\ntime=\"2023-07-15T16:58:14Z\" level=info msg=\"eth1 node started after 0 retries\" func=\"github.com/prysmaticlabs/prysm/v4/testing/endtoend/components/eth1.(*Node).Start\" file=\"testing/endtoend/components/eth1/node.go:139\"\r\ntime=\"2023-07-15T16:58:14Z\" level=info msg=\"Starting eth1 proxy 0 with port: 3350 and file /home/roy/.cache/bazel/_bazel_roy/d2b35bfddbea486c0d661d8cff4744e8/sandbox/linux-sandbox/4020/execroot/prysm/bazel-out/k8-fastbuild-ST-f5229d06642b/testlogs/testing/endtoend/go_default_test/test.outputs/20230715/165812/TestEndToEnd_Slasher_MinimalConfig/eth1_proxy_0.log\" func=\"github.com/prysmaticlabs/prysm/v4/testing/endtoend/components/eth1.(*Proxy).Start\" file=\"testing/endtoend/components/eth1/proxy.go:162\"\r\ntime=\"2023-07-15T16:58:14Z\" level=info msg=\"Starting eth1 proxy 1 with port: 3351 and file /home/roy/.cache/bazel/_bazel_roy/d2b35bfddbea486c0d661d8cff4744e8/sandbox/linux-sandbox/4020/execroot/prysm/bazel-out/k8-fastbuild-ST-f5229d06642b/testlogs/testing/endtoend/go_default_test/test.outputs/20230715/165812/TestEndToEnd_Slasher_MinimalConfig/eth1_proxy_1.log\" func=\"github.com/prysmaticlabs/prysm/v4/testing/endtoend/components/eth1.(*Proxy).Start\" file=\"testing/endtoend/components/eth1/proxy.go:162\"\r\ntime=\"2023-07-15T16:58:14Z\" level=info msg=\"BeaconState info\" func=\"github.com/prysmaticlabs/prysm/v4/testing/endtoend/components.(*BeaconNode).saveGenesis\" file=\"testing/endtoend/components/beacon_node.go:191\" fork_version=\"[0 0 0 253]\" latest_block_header.root=0xeade62f0457b2fdf48e7d3fc4b60736688286be7c7a3ac4c9a16a5e0600bd9e4 prefix=components state_root=0x4ca641e9e6cf4f08826fc2650583efff144be13a58c96f912ddc4a9cb2b7aefa\r\ntime=\"2023-07-15T16:58:14Z\" level=info msg=\"BeaconState info\" func=\"github.com/prysmaticlabs/prysm/v4/testing/endtoend/components.(*BeaconNode).saveGenesis\" file=\"testing/endtoend/components/beacon_node.go:191\" fork_version=\"[0 0 0 253]\" latest_block_header.root=0xeade62f0457b2fdf48e7d3fc4b60736688286be7c7a3ac4c9a16a5e0600bd9e4 prefix=components state_root=0x4ca641e9e6cf4f08826fc2650583efff144be13a58c96f912ddc4a9cb2b7aefa\r\ntime=\"2023-07-15T16:58:14Z\" level=info msg=\"Starting beacon chain 1 with flags: --log-file=/home/roy/.cache/bazel/_bazel_roy/d2b35bfddbea486c0d661d8cff4744e8/sandbox/linux-sandbox/4020/execroot/prysm/bazel-out/k8-fastbuild-ST-f5229d06642b/testlogs/testing/endtoend/go_default_test/test.outputs/20230715/165812/TestEndToEnd_Slasher_MinimalConfig/beacon-1.log --deposit-contract=0x4242424242424242424242424242424242424242 --\r\nrpc-port=4151 --execution-endpoint=http://127.0.0.1:3351 --jwt-secret=/home/roy/.cache/bazel/_bazel_roy/d2b35bfddbea486c0d661d8cff4744e8/sandbox/linux-sandbox/4020/execroot/prysm/_tmp/bbead6fe9ddf0afc2b3e673ead7d16a4/shard-0/eth1data/1/geth/jwtsecret --min-sync-peers=1 --p2p-udp-port=4201 --p2p-tcp-port=4251 --p2p-max-peers=1 --monitoring-port=4351 --grpc-gateway-port=4301 --contract-deployment-block=0 --minimum-peers-\r\nper-subnet=0 --rpc-max-page-size=256 --bootstrap-node=enr:-LG4QPG_YJ1AXlwevNOz6BfQUNMNd7Qr-V4IQAgKvvv4OZ6aMh65HewQZOtba8iNwvVwW4UfSHKYx0JluIcib4EkEtqGAYlafQ9Fh2F0dG5ldHOIAAAAAAAAAACEZXRoMpD1pf1CAAAAAP__________gmlkgnY0gmlwhKwRSnKJc2VjcDI1NmsxoQK2KR3rqi0RCyQahFCDuc0rfgA2erOPMOUtwF7ohqn0soN1ZHCCCGY --verbosity=debug --block-batch-limit-burst-factor=8 --chain-config-file=/home/roy/.cache/bazel/_bazel_roy/d2b35bfddbea486c0d661d8cff4744e8/sandbox/linux-sandbox/4020/execroot/prysm/_tmp/bbead6fe9ddf0afc2b3e673ead7d16a4/shard-0/config/1/beacon-config.yaml --monitor-indices=1 --monitor-indices=2 --force-clear-db --accept-terms-of-use --enable-debug-rpc-endpoints --dev --slasher\" func=\"github.com/prysmaticlabs/prysm/v4/testing/endtoend/components.(*BeaconNode).Start\" file=\"testing/endtoend/components/beacon_node.go:304\" prefix=components     \r\ntime=\"2023-07-15T16:58:14Z\" level=info msg=\"Starting beacon chain 0 with flags: --log-file=/home/roy/.cache/bazel/_bazel_roy/d2b35bfddbea486c0d661d8cff4744e8/sandbox/linux-sandbox/4020/execroot/prysm/bazel-out/k8-fastbuild-ST-f5229d06642b/testlogs/testing/endtoend/go_default_test/test.outputs/20230715/165812/TestEndToEnd_Slasher_MinimalConfig/beacon-0.log --deposit-contract=0x4242424242424242424242424242424242424242 --\r\nrpc-port=4150 --execution-endpoint=http://127.0.0.1:3350 --jwt-secret=/home/roy/.cache/bazel/_bazel_roy/d2b35bfddbea486c0d661d8cff4744e8/sandbox/linux-sandbox/4020/execroot/prysm/_tmp/bbead6fe9ddf0afc2b3e673ead7d16a4/shard-0/eth1data/miner/geth/jwtsecret --min-sync-peers=1 --p2p-udp-port=4200 --p2p-tcp-port=4250 --p2p-max-peers=1 --monitoring-port=4350 --grpc-gateway-port=4300 --contract-deployment-block=0 --minimum-pe\r\ners-per-subnet=0 --rpc-max-page-size=256 --bootstrap-node=enr:-LG4QPG_YJ1AXlwevNOz6BfQUNMNd7Qr-V4IQAgKvvv4OZ6aMh65HewQZOtba8iNwvVwW4UfSHKYx0JluIcib4EkEtqGAYlafQ9Fh2F0dG5ldHOIAAAAAAAAAACEZXRoMpD1pf1CAAAAAP__________gmlkgnY0gmlwhKwRSnKJc2VjcDI1NmsxoQK2KR3rqi0RCyQahFCDuc0rfgA2erOPMOUtwF7ohqn0soN1ZHCCCGY --verbosity=debug --block-batch-limit-burst-factor=8 --chain-config-file=/home/roy/.cache/bazel/_bazel_roy/d2b35bfddbea486c0d661d8cff4744e8/sandbox/linux-sandbox/4020/execroot/prysm/_tmp/bbead6fe9ddf0afc2b3e673ead7d16a4/shard-0/config/0/beacon-config.yaml --monitor-indices=1 --monitor-indices=2 --force-clear-db --accept-terms-of-use --enable-debug-rpc-endpoints --dev --slasher\" func=\"github.com/prysmaticlabs/prysm/v4/testing/endtoend/components.(*BeaconNode).Start\" file=\"testing/endtoend/components/beacon_node.go:304\" prefix=components \r\ntime=\"2023-07-15T16:58:15Z\" level=info msg=\"Starting validator client 1 with flags: /home/roy/.cache/bazel/_bazel_roy/d2b35bfddbea486c0d661d8cff4744e8/sandbox/linux-sandbox/4020/execroot/prysm/bazel-out/k8-fastbuild-ST-f5229d06642b/bin/testing/endtoend/go_default_test_/go_default_test.runfiles/prysm/cmd/validator/validator_/validator --datadir=/home/roy/.cache/bazel/_bazel_roy/d2b35bfddbea486c0d661d8cff4744e8/sandbox/l\r\ninux-sandbox/4020/execroot/prysm/_tmp/bbead6fe9ddf0afc2b3e673ead7d16a4/shard-0/eth2-val-1 --log-file=/home/roy/.cache/bazel/_bazel_roy/d2b35bfddbea486c0d661d8cff4744e8/sandbox/linux-sandbox/4020/execroot/prysm/bazel-out/k8-fastbuild-ST-f5229d06642b/testlogs/testing/endtoend/go_default_test/test.outputs/20230715/165812/TestEndToEnd_Slasher_MinimalConfig/vals-1.log --graffiti-file=/home/roy/.cache/bazel/_bazel_roy/d2b35b\r\nfddbea486c0d661d8cff4744e8/sandbox/linux-sandbox/4020/execroot/prysm/_tmp/bbead6fe9ddf0afc2b3e673ead7d16a4/shard-0/graffiti.yaml --monitoring-port=6201 --grpc-gateway-port=6151 --beacon-rpc-provider=localhost:4151 --grpc-headers=dummy=value,foo=bar --verbosity=debug --proposer-settings-file=/home/roy/.cache/bazel/_bazel_roy/d2b35bfddbea486c0d661d8cff4744e8/sandbox/linux-sandbox/4020/execroot/prysm/_tmp/bbead6fe9ddf0afc\r\n2b3e673ead7d16a4/shard-0/proposer-settings/validator_1/config.json --chain-config-file=/home/roy/.cache/bazel/_bazel_roy/d2b35bfddbea486c0d661d8cff4744e8/sandbox/linux-sandbox/4020/execroot/prysm/_tmp/bbead6fe9ddf0afc2b3e673ead7d16a4/shard-0/config/1/validator-config.yaml --force-clear-db --accept-terms-of-use --enable-doppelganger --interop-num-validators=128 --interop-start-index=128\" func=\"github.com/prysmaticlabs/prysm/v4/testing/endtoend/components.(*ValidatorNode).Start\" file=\"testing/endtoend/components/validator.go:301\" prefix=components\r\ntime=\"2023-07-15T16:58:15Z\" level=info msg=\"Starting validator client 0 with flags: /home/roy/.cache/bazel/_bazel_roy/d2b35bfddbea486c0d661d8cff4744e8/sandbox/linux-sandbox/4020/execroot/prysm/bazel-out/k8-fastbuild-ST-f5229d06642b/bin/testing/endtoend/go_default_test_/go_default_test.runfiles/prysm/cmd/validator/validator_/validator --datadir=/home/roy/.cache/bazel/_bazel_roy/d2b35bfddbea486c0d661d8cff4744e8/sandbox/l\r\ninux-sandbox/4020/execroot/prysm/_tmp/bbead6fe9ddf0afc2b3e673ead7d16a4/shard-0/eth2-val-0 --log-file=/home/roy/.cache/bazel/_bazel_roy/d2b35bfddbea486c0d661d8cff4744e8/sandbox/linux-sandbox/4020/execroot/prysm/bazel-out/k8-fastbuild-ST-f5229d06642b/testlogs/testing/endtoend/go_default_test/test.outputs/20230715/165812/TestEndToEnd_Slasher_MinimalConfig/vals-0.log --graffiti-file=/home/roy/.cache/bazel/_bazel_roy/d2b35b\r\nfddbea486c0d661d8cff4744e8/sandbox/linux-sandbox/4020/execroot/prysm/_tmp/bbead6fe9ddf0afc2b3e673ead7d16a4/shard-0/graffiti.yaml --monitoring-port=6200 --grpc-gateway-port=6150 --beacon-rpc-provider=localhost:4150 --grpc-headers=dummy=value,foo=bar --verbosity=debug --proposer-settings-file=/home/roy/.cache/bazel/_bazel_roy/d2b35bfddbea486c0d661d8cff4744e8/sandbox/linux-sandbox/4020/execroot/prysm/_tmp/bbead6fe9ddf0afc\r\n2b3e673ead7d16a4/shard-0/proposer-settings/validator_0/config.json --chain-config-file=/home/roy/.cache/bazel/_bazel_roy/d2b35bfddbea486c0d661d8cff4744e8/sandbox/linux-sandbox/4020/execroot/prysm/_tmp/bbead6fe9ddf0afc2b3e673ead7d16a4/shard-0/config/0/validator-config.yaml --force-clear-db --accept-terms-of-use --enable-doppelganger --interop-num-validators=128 --interop-start-index=0\" func=\"github.com/prysmaticlabs/prysm/v4/testing/endtoend/components.(*ValidatorNode).Start\" file=\"testing/endtoend/components/validator.go:301\" prefix=components\r\n    component_handler_test.go:268:\r\n        PID of components. Attach a debugger... if you dare!\r\n\r\n        This test PID: 27 (parent=12)\r\n        Beacon chain nodes: [122 121]\r\n        Validators: [151 150]\r\n        ETH1 nodes: [85]\r\n=== RUN   TestEndToEnd_Slasher_MinimalConfig/chain_started\r\ntime=\"2023-07-15T16:58:27Z\" level=info msg=\"Seed for transaction generator is: 6343034730848227320\" func=\"github.com/prysmaticlabs/prysm/v4/testing/endtoend/components/eth1.(*TransactionGenerator).Start\" file=\"testing/endtoend/components/eth1/transactions.go:51\"\r\n=== RUN   TestEndToEnd_Slasher_MinimalConfig/peers_connect_epoch_0\r\n=== RUN   TestEndToEnd_Slasher_MinimalConfig/healthz_check_epoch_1\r\n=== RUN   TestEndToEnd_Slasher_MinimalConfig/inject_double_block_2\r\n=== RUN   TestEndToEnd_Slasher_MinimalConfig/healthz_check_epoch_2\r\n=== RUN   TestEndToEnd_Slasher_MinimalConfig/inject_double_vote_2\r\n=== RUN   TestEndToEnd_Slasher_MinimalConfig/healthz_check_epoch_3\r\n=== RUN   TestEndToEnd_Slasher_MinimalConfig/healthz_check_epoch_4\r\n=== RUN   TestEndToEnd_Slasher_MinimalConfig/slashed_validators_lose_valance_epoch_5\r\n=== RUN   TestEndToEnd_Slasher_MinimalConfig/healthz_check_epoch_5\r\n=== RUN   TestEndToEnd_Slasher_MinimalConfig/validators_slashed_epoch_5\r\n=== NAME  TestEndToEnd_Slasher_MinimalConfig\r\n    helpers.go:242: ==================== Start of beacon chain node 0 error output ==================\r\n    helpers.go:244: time=\"2023-07-15 16:58:14\" level=error msg=\"Sync committee assignments will not be reported\" ValidatorIndex=1 error=\"CurrentSyncCommittee is not supported for phase0\" prefix=monitor\r\n    helpers.go:244: time=\"2023-07-15 16:58:14\" level=error msg=\"Sync committee assignments will not be reported\" ValidatorIndex=2 error=\"CurrentSyncCommittee is not supported for phase0\" prefix=monitor\r\n    helpers.go:244: time=\"2023-07-15 16:58:27\" level=error msg=\"could not process new slot\" error=\"0x0000000000000000000000000000000000000000000000000000000000000000: unknown finalized root\" prefix=blockchain\r\n    helpers.go:244: time=\"2023-07-15 16:58:29\" level=error msg=\"Beacon node is not respecting the follow distance\" prefix=powchain\r\n    helpers.go:244: time=\"2023-07-15 16:58:30\" level=error msg=\"Beacon node is not respecting the follow distance\" prefix=powchain\r\n    helpers.go:244: time=\"2023-07-15 16:59:27\" level=error msg=\"could not process new slot\" error=\"0x0000000000000000000000000000000000000000000000000000000000000000: unknown finalized root\" prefix=blockchain                                                                                                                                                                                                                      \r\n    helpers.go:244: time=\"2023-07-15 16:59:27\" level=error msg=\"Sync committee assignments will not be reported\" ValidatorIndex=1 error=\"CurrentSyncCommittee is not supported for phase0\" prefix=monitor\r\n    helpers.go:244: time=\"2023-07-15 16:59:27\" level=error msg=\"Sync committee assignments will not be reported\" ValidatorIndex=2 error=\"CurrentSyncCommittee is not supported for phase0\" prefix=monitor\r\n    helpers.go:244: time=\"2023-07-15 17:00:27\" level=error msg=\"could not process new slot\" error=\"0x0000000000000000000000000000000000000000000000000000000000000000: unknown finalized root\" prefix=blockchain\r\n    helpers.go:244: time=\"2023-07-15 17:00:27\" level=error msg=\"Sync committee assignments will not be reported\" ValidatorIndex=1 error=\"CurrentSyncCommittee is not supported for phase0\" prefix=monitor\r\n    helpers.go:244: time=\"2023-07-15 17:00:27\" level=error msg=\"Sync committee assignments will not be reported\" ValidatorIndex=2 error=\"CurrentSyncCommittee is not supported for phase0\" prefix=monitor                                                                                                                                                                                                                             \r\n    helpers.go:244: time=\"2023-07-15 17:01:07\" level=error msg=\"Could not insert proposer slashing into operations pool\" error=\"slashing object already exists in pending proposer slashings\" prefix=slasher\r\n    helpers.go:244: time=\"2023-07-15 17:01:07\" level=error msg=\"Could not insert proposer slashing into operations pool\" error=\"slashing object already exists in pending proposer slashings\" prefix=slasher\r\n    helpers.go:244: time=\"2023-07-15 17:01:27\" level=error msg=\"could not process new slot\" error=\"0x0000000000000000000000000000000000000000000000000000000000000000: unknown finalized root\" prefix=blockchain\r\n    helpers.go:244: time=\"2023-07-15 17:01:27\" level=error msg=\"Sync committee assignments will not be reported\" ValidatorIndex=1 error=\"CurrentSyncCommittee is not supported for phase0\" prefix=monitor\r\n    helpers.go:244: time=\"2023-07-15 17:01:27\" level=error msg=\"Sync committee assignments will not be reported\" ValidatorIndex=2 error=\"CurrentSyncCommittee is not supported for phase0\" prefix=monitor                                                                                                                                                                                                                             \r\n    helpers.go:244: time=\"2023-07-15 17:02:27\" level=error msg=\"could not process new slot\" error=\"0x0000000000000000000000000000000000000000000000000000000000000000: unknown finalized root\" prefix=blockchain\r\n    helpers.go:244: time=\"2023-07-15 17:02:27\" level=error msg=\"Sync committee assignments will not be reported\" ValidatorIndex=1 error=\"CurrentSyncCommittee is not supported for phase0\" prefix=monitor\r\n    helpers.go:244: time=\"2023-07-15 17:02:27\" level=error msg=\"Sync committee assignments will not be reported\" ValidatorIndex=2 error=\"CurrentSyncCommittee is not supported for phase0\" prefix=monitor\r\n    helpers.go:244: time=\"2023-07-15 17:03:27\" level=error msg=\"Sync committee assignments will not be reported\" ValidatorIndex=1 error=\"CurrentSyncCommittee is not supported for phase0\" prefix=monitor\r\n    helpers.go:244: time=\"2023-07-15 17:03:27\" level=error msg=\"Sync committee assignments will not be reported\" ValidatorIndex=2 error=\"CurrentSyncCommittee is not supported for phase0\" prefix=monitor                                                                                                                                                                                                                             \r\n    helpers.go:242: ==================== Start of beacon chain node 1 error output ==================\r\n    helpers.go:244: time=\"2023-07-15 16:58:14\" level=error msg=\"Sync committee assignments will not be reported\" ValidatorIndex=2 error=\"CurrentSyncCommittee is not supported for phase0\" prefix=monitor\r\n    helpers.go:244: time=\"2023-07-15 16:58:14\" level=error msg=\"Sync committee assignments will not be reported\" ValidatorIndex=1 error=\"CurrentSyncCommittee is not supported for phase0\" prefix=monitor\r\n    helpers.go:244: time=\"2023-07-15 16:58:27\" level=error msg=\"could not process new slot\" error=\"0x0000000000000000000000000000000000000000000000000000000000000000: unknown finalized root\" prefix=blockchain\r\n    helpers.go:244: time=\"2023-07-15 16:58:29\" level=error msg=\"Beacon node is not respecting the follow distance\" prefix=powchain                                                                                                                                                                                                                                                                                                    \r\n    helpers.go:244: time=\"2023-07-15 16:58:30\" level=error msg=\"Beacon node is not respecting the follow distance\" prefix=powchain\r\n    helpers.go:244: time=\"2023-07-15 16:58:37\" level=error msg=\"could not check if block arrived early\" error=\"could not compute seconds since slot start: invalid timestamp\" prefix=forkchoice-doublylinkedtree\r\n    helpers.go:244: time=\"2023-07-15 16:59:27\" level=error msg=\"could not process new slot\" error=\"0x0000000000000000000000000000000000000000000000000000000000000000: unknown finalized root\" prefix=blockchain\r\n    helpers.go:244: time=\"2023-07-15 16:59:27\" level=error msg=\"Sync committee assignments will not be reported\" ValidatorIndex=1 error=\"CurrentSyncCommittee is not supported for phase0\" prefix=monitor\r\n    helpers.go:244: time=\"2023-07-15 16:59:27\" level=error msg=\"Sync committee assignments will not be reported\" ValidatorIndex=2 error=\"CurrentSyncCommittee is not supported for phase0\" prefix=monitor\r\n    helpers.go:244: time=\"2023-07-15 17:00:27\" level=error msg=\"could not process new slot\" error=\"0x0000000000000000000000000000000000000000000000000000000000000000: unknown finalized root\" prefix=blockchain                                                                                                                                                                                                                      \r\n    helpers.go:244: time=\"2023-07-15 17:00:27\" level=error msg=\"Sync committee assignments will not be reported\" ValidatorIndex=2 error=\"CurrentSyncCommittee is not supported for phase0\" prefix=monitor\r\n    helpers.go:244: time=\"2023-07-15 17:00:27\" level=error msg=\"Sync committee assignments will not be reported\" ValidatorIndex=1 error=\"CurrentSyncCommittee is not supported for phase0\" prefix=monitor\r\n    helpers.go:244: time=\"2023-07-15 17:01:07\" level=error msg=\"Could not insert attester slashing into operations pool\" error=\"could not slash any of 1 validators in submitted slashing: validator already exist in list of pending slashings, no need to attempt to slash again\" prefix=slasher\r\n    helpers.go:244: time=\"2023-07-15 17:01:07\" level=error msg=\"Could not insert attester slashing into operations pool\" error=\"could not slash any of 1 validators in submitted slashing: validator already exist in list of pending slashings, no need to attempt to slash again\" prefix=slasher                                                                                                                                    \r\n    helpers.go:244: time=\"2023-07-15 17:01:27\" level=error msg=\"could not process new slot\" error=\"0x0000000000000000000000000000000000000000000000000000000000000000: unknown finalized root\" prefix=blockchain\r\n    helpers.go:244: time=\"2023-07-15 17:01:27\" level=error msg=\"Sync committee assignments will not be reported\" ValidatorIndex=1 error=\"CurrentSyncCommittee is not supported for phase0\" prefix=monitor\r\n    helpers.go:244: time=\"2023-07-15 17:01:27\" level=error msg=\"Sync committee assignments will not be reported\" ValidatorIndex=2 error=\"CurrentSyncCommittee is not supported for phase0\" prefix=monitor\r\n    helpers.go:244: time=\"2023-07-15 17:02:27\" level=error msg=\"could not process new slot\" error=\"0x0000000000000000000000000000000000000000000000000000000000000000: unknown finalized root\" prefix=blockchain\r\n    helpers.go:244: time=\"2023-07-15 17:02:27\" level=error msg=\"Sync committee assignments will not be reported\" ValidatorIndex=1 error=\"CurrentSyncCommittee is not supported for phase0\" prefix=monitor                                                                                                                                                                                                                             \r\n    helpers.go:244: time=\"2023-07-15 17:02:27\" level=error msg=\"Sync committee assignments will not be reported\" ValidatorIndex=2 error=\"CurrentSyncCommittee is not supported for phase0\" prefix=monitor\r\n    helpers.go:244: time=\"2023-07-15 17:03:27\" level=error msg=\"Sync committee assignments will not be reported\" ValidatorIndex=1 error=\"CurrentSyncCommittee is not supported for phase0\" prefix=monitor\r\n    helpers.go:244: time=\"2023-07-15 17:03:27\" level=error msg=\"Sync committee assignments will not be reported\" ValidatorIndex=2 error=\"CurrentSyncCommittee is not supported for phase0\" prefix=monitor\r\n    helpers.go:224: Ending time: 2023-07-15 17:04:02.205513051 +0000 UTC m=+349.612983450\r\ntime=\"2023-07-15T17:04:02Z\" level=info msg=\"All E2E evaluations are finished, cleaning up\" func=\"testing/endtoend/go_default_test.(*testRunner).defaultEndToEndRun.func1\" file=\"testing/endtoend/endtoend_test.go:435\"                                                                                                                                                                                                                \r\n--- PASS: TestEndToEnd_Slasher_MinimalConfig (349.61s)\r\n    --- PASS: TestEndToEnd_Slasher_MinimalConfig/chain_started (2.00s)\r\n    --- PASS: TestEndToEnd_Slasher_MinimalConfig/peers_connect_epoch_0 (0.10s)\r\n    --- PASS: TestEndToEnd_Slasher_MinimalConfig/healthz_check_epoch_1 (0.20s)\r\n    --- PASS: TestEndToEnd_Slasher_MinimalConfig/inject_double_vote_2 (0.10s)\r\n    --- PASS: TestEndToEnd_Slasher_MinimalConfig/inject_double_block_2 (0.17s)\r\n    --- PASS: TestEndToEnd_Slasher_MinimalConfig/healthz_check_epoch_2 (0.20s)\r\n    --- PASS: TestEndToEnd_Slasher_MinimalConfig/healthz_check_epoch_3 (0.20s)\r\n    --- PASS: TestEndToEnd_Slasher_MinimalConfig/healthz_check_epoch_4 (0.20s)\r\n    --- PASS: TestEndToEnd_Slasher_MinimalConfig/validators_slashed_epoch_5 (0.00s)\r\n    --- PASS: TestEndToEnd_Slasher_MinimalConfig/slashed_validators_lose_valance_epoch_5 (0.00s)\r\n    --- PASS: TestEndToEnd_Slasher_MinimalConfig/healthz_check_epoch_5 (0.20s)\r\nPASS\r\nCould not create \"/home/roy/.cache/bazel/_bazel_roy/d2b35bfddbea486c0d661d8cff4744e8/sandbox/linux-sandbox/4020/execroot/prysm/bazel-out/k8-fastbuild-ST-f5229d06642b/testlogs/testing/endtoend/go_default_test/test.outputs/outputs.zip\": zip not found or failed\r\nTarget //testing/endtoend:go_default_test up-to-date:                                                                                                                                                                                                                                                                                                                                                                                 \r\n  bazel-bin/testing/endtoend/go_default_test_/go_default_test                                                                                                                                                                                                                                                                                                                                                                         \r\nINFO: Elapsed time: 351.573s, Critical Path: 351.40s                                                                                                                                                                                                                                                                                                                                                                                  \r\nINFO: 6 processes: 1 internal, 5 linux-sandbox.                                                                                                                                                                                                                                                                                                                                                                                       \r\nINFO: Build completed successfully, 6 total actions                                                                                                                                                                                                                                                                                                                                                                                   \r\n//testing/endtoend:go_default_test                                       PASSED in 349.8s\r\n\r\nExecuted 1 out of 1 test: 1 test passes.\r\n\r\n``` ",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/1636829240/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/1649431443",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/12415#issuecomment-1649431443",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/12415",
    "id": 1649431443,
    "node_id": "IC_kwDOBvuov85iUFOT",
    "user": {
      "login": "nisdas",
      "id": 33201827,
      "node_id": "MDQ6VXNlcjMzMjAxODI3",
      "avatar_url": "https://avatars.githubusercontent.com/u/33201827?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nisdas",
      "html_url": "https://github.com/nisdas",
      "followers_url": "https://api.github.com/users/nisdas/followers",
      "following_url": "https://api.github.com/users/nisdas/following{/other_user}",
      "gists_url": "https://api.github.com/users/nisdas/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nisdas/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nisdas/subscriptions",
      "organizations_url": "https://api.github.com/users/nisdas/orgs",
      "repos_url": "https://api.github.com/users/nisdas/repos",
      "events_url": "https://api.github.com/users/nisdas/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nisdas/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-07-25T09:09:00Z",
    "updated_at": "2023-07-25T09:09:00Z",
    "author_association": "MEMBER",
    "body": "Assigning it to you @roycncn . This test was previously flaky, you will need to run it multiple times to have the issue come up. You can try \r\n```\r\nbazel test //testing/endtoend:go_default_test --test_output=streamed --test_filter=TestEndToEnd_Slasher_MinimalConfig --runs_per_test=5\r\n```\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/1649431443/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/1874643269",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/12415#issuecomment-1874643269",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/12415",
    "id": 1874643269,
    "node_id": "IC_kwDOBvuov85vvMlF",
    "user": {
      "login": "brightredchilli",
      "id": 751191,
      "node_id": "MDQ6VXNlcjc1MTE5MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/751191?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brightredchilli",
      "html_url": "https://github.com/brightredchilli",
      "followers_url": "https://api.github.com/users/brightredchilli/followers",
      "following_url": "https://api.github.com/users/brightredchilli/following{/other_user}",
      "gists_url": "https://api.github.com/users/brightredchilli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brightredchilli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brightredchilli/subscriptions",
      "organizations_url": "https://api.github.com/users/brightredchilli/orgs",
      "repos_url": "https://api.github.com/users/brightredchilli/repos",
      "events_url": "https://api.github.com/users/brightredchilli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brightredchilli/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2024-01-02T22:30:12Z",
    "updated_at": "2024-01-02T22:30:12Z",
    "author_association": "CONTRIBUTOR",
    "body": "Hi, was looking at this for a little over the past week or so, and I think I know why this is happening, and want to share my findings and ask for help/suggestions.\r\n\r\nThe test sets up a double attestation to be sent to beacon node 0. Beacon node 0 never adds this to its slasher pool attestation feed here: https://github.com/prysmaticlabs/prysm/blob/88685bb3bd6fc9f9d8f98a8882fa3c37c526b105/beacon-chain/sync/validate_beacon_attestation.go#L115\r\n\r\nbecause the validateCommitteeIndexBeaconAttestation method checks that the attestation originates from the same peer,  and returns. \r\n\r\nhttps://github.com/prysmaticlabs/prysm/blob/88685bb3bd6fc9f9d8f98a8882fa3c37c526b105/beacon-chain/sync/validate_beacon_attestation.go#L36-L38\r\n\r\nThis means that slashings can only be detected by beacon node 1.\r\n\r\n Most of the time, this works as both nodes alternate having an attached validator as the proposer for the slot, and so beacon node 1 gets a chance to process slashings and insert them to the block. But occasionally, beacon node 1 never gets to be the proposer until after its ‚Äútoo late‚Äù.  I say this in air quotes because in looking at debug statements I inserted, I do see the pattern like:\r\n\r\n```bash\r\n(1) time=\"2024-01-02 16:15:59\" msg=\"saveHead 07c8c61a1d slot=11\"\r\n(2) time=\"2024-01-02 16:15:59\" msg=\"ProcessEffectiveBalanceUpdates updated 247 to 31000000000 at slot=11\"\r\n(3) time=\"2024-01-02 16:16:00\" msg=\"GetValidator at 247 head=07c8c61a1d slot=11 balance=32000000000 (07c8c)\"\r\n\r\n```\r\n\r\nWith those being debug statements I inserted at:\r\n1. https://github.com/prysmaticlabs/prysm/blob/886d76fe7c582ac2df347b4b4c8d2be6a79b9097/beacon-chain/blockchain/head.go#L178\r\n2. https://github.com/prysmaticlabs/prysm/blob/886d76fe7c582ac2df347b4b4c8d2be6a79b9097/beacon-chain/core/epoch/epoch_processing.go#L281\r\n3. https://github.com/prysmaticlabs/prysm/blob/886d76fe7c582ac2df347b4b4c8d2be6a79b9097/beacon-chain/rpc/prysm/v1alpha1/beacon/validators.go#L376\r\n\r\nSo it looks like the code does process effective balances, and the headblock hashes match up, but the wrong balance still gets returned. However, the failures consistently happen when beacon node 1 *doesn‚Äôt get to be proposer between slots 6 and 11*.\r\n\r\nI could totally use some advice on whether I‚Äôm pursuing the right track, but currently thinking that the best fix is to lock the seed so that beacon node 1 gets a chance to propose before the evaluator checks for slashings.",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/1874643269/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/1874900751",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/12415#issuecomment-1874900751",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/12415",
    "id": 1874900751,
    "node_id": "IC_kwDOBvuov85vwLcP",
    "user": {
      "login": "nisdas",
      "id": 33201827,
      "node_id": "MDQ6VXNlcjMzMjAxODI3",
      "avatar_url": "https://avatars.githubusercontent.com/u/33201827?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nisdas",
      "html_url": "https://github.com/nisdas",
      "followers_url": "https://api.github.com/users/nisdas/followers",
      "following_url": "https://api.github.com/users/nisdas/following{/other_user}",
      "gists_url": "https://api.github.com/users/nisdas/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nisdas/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nisdas/subscriptions",
      "organizations_url": "https://api.github.com/users/nisdas/orgs",
      "repos_url": "https://api.github.com/users/nisdas/repos",
      "events_url": "https://api.github.com/users/nisdas/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nisdas/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2024-01-03T06:24:35Z",
    "updated_at": "2024-01-03T06:24:35Z",
    "author_association": "MEMBER",
    "body": "This is great progress @brightredchilli ! Thank your for digging into it. Your theory seems very plausible and makes perfect sense. If it is accurate then instead of this:\r\n```\r\nI could totally use some advice on whether I‚Äôm pursuing the right track, but currently thinking that the best fix is to lock the seed so that beacon node 1 gets a chance to propose before the evaluator checks for slashings.\r\n```\r\nHow about sending the double attestation to both beacon nodes ? (both 0 and 1) ",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/1874900751/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/1876064396",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/12415#issuecomment-1876064396",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/12415",
    "id": 1876064396,
    "node_id": "IC_kwDOBvuov85v0niM",
    "user": {
      "login": "brightredchilli",
      "id": 751191,
      "node_id": "MDQ6VXNlcjc1MTE5MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/751191?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brightredchilli",
      "html_url": "https://github.com/brightredchilli",
      "followers_url": "https://api.github.com/users/brightredchilli/followers",
      "following_url": "https://api.github.com/users/brightredchilli/following{/other_user}",
      "gists_url": "https://api.github.com/users/brightredchilli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brightredchilli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brightredchilli/subscriptions",
      "organizations_url": "https://api.github.com/users/brightredchilli/orgs",
      "repos_url": "https://api.github.com/users/brightredchilli/repos",
      "events_url": "https://api.github.com/users/brightredchilli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brightredchilli/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2024-01-03T22:36:33Z",
    "updated_at": "2024-01-03T22:36:33Z",
    "author_association": "CONTRIBUTOR",
    "body": "Sounds good, I can try that.",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/1876064396/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
