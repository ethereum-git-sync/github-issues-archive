{
  "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/5665",
  "repository_url": "https://api.github.com/repos/prysmaticlabs/prysm",
  "labels_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/5665/labels{/name}",
  "comments_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/5665/comments",
  "events_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/5665/events",
  "html_url": "https://github.com/prysmaticlabs/prysm/issues/5665",
  "id": 608518047,
  "node_id": "MDU6SXNzdWU2MDg1MTgwNDc=",
  "number": 5665,
  "title": "Incorrect voting of head",
  "user": {
    "login": "terencechain",
    "id": 21316537,
    "node_id": "MDQ6VXNlcjIxMzE2NTM3",
    "avatar_url": "https://avatars.githubusercontent.com/u/21316537?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/terencechain",
    "html_url": "https://github.com/terencechain",
    "followers_url": "https://api.github.com/users/terencechain/followers",
    "following_url": "https://api.github.com/users/terencechain/following{/other_user}",
    "gists_url": "https://api.github.com/users/terencechain/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/terencechain/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/terencechain/subscriptions",
    "organizations_url": "https://api.github.com/users/terencechain/orgs",
    "repos_url": "https://api.github.com/users/terencechain/repos",
    "events_url": "https://api.github.com/users/terencechain/events{/privacy}",
    "received_events_url": "https://api.github.com/users/terencechain/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": {
    "login": "terencechain",
    "id": 21316537,
    "node_id": "MDQ6VXNlcjIxMzE2NTM3",
    "avatar_url": "https://avatars.githubusercontent.com/u/21316537?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/terencechain",
    "html_url": "https://github.com/terencechain",
    "followers_url": "https://api.github.com/users/terencechain/followers",
    "following_url": "https://api.github.com/users/terencechain/following{/other_user}",
    "gists_url": "https://api.github.com/users/terencechain/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/terencechain/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/terencechain/subscriptions",
    "organizations_url": "https://api.github.com/users/terencechain/orgs",
    "repos_url": "https://api.github.com/users/terencechain/repos",
    "events_url": "https://api.github.com/users/terencechain/events{/privacy}",
    "received_events_url": "https://api.github.com/users/terencechain/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "terencechain",
      "id": 21316537,
      "node_id": "MDQ6VXNlcjIxMzE2NTM3",
      "avatar_url": "https://avatars.githubusercontent.com/u/21316537?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/terencechain",
      "html_url": "https://github.com/terencechain",
      "followers_url": "https://api.github.com/users/terencechain/followers",
      "following_url": "https://api.github.com/users/terencechain/following{/other_user}",
      "gists_url": "https://api.github.com/users/terencechain/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/terencechain/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/terencechain/subscriptions",
      "organizations_url": "https://api.github.com/users/terencechain/orgs",
      "repos_url": "https://api.github.com/users/terencechain/repos",
      "events_url": "https://api.github.com/users/terencechain/events{/privacy}",
      "received_events_url": "https://api.github.com/users/terencechain/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 12,
  "created_at": "2020-04-28T18:18:26Z",
  "updated_at": "2020-05-17T09:10:02Z",
  "closed_at": "2020-05-03T17:37:52Z",
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": "# ðŸ’Ž Issue\r\n\r\n### Background\r\n\r\nThere has been increasing amount of users brought up the concern that validators incorrectly voted on head. While this issue could be expected for multiple reasons. It's still worth to double check and narrow down the root cause. On average I do see my validators voted head incorrectly ~10-15% Whether it's local view of the chain is consistently not canonical thus the head is wrong or something else. Opening this up for investigation and discussion",
  "closed_by": {
    "login": "terencechain",
    "id": 21316537,
    "node_id": "MDQ6VXNlcjIxMzE2NTM3",
    "avatar_url": "https://avatars.githubusercontent.com/u/21316537?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/terencechain",
    "html_url": "https://github.com/terencechain",
    "followers_url": "https://api.github.com/users/terencechain/followers",
    "following_url": "https://api.github.com/users/terencechain/following{/other_user}",
    "gists_url": "https://api.github.com/users/terencechain/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/terencechain/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/terencechain/subscriptions",
    "organizations_url": "https://api.github.com/users/terencechain/orgs",
    "repos_url": "https://api.github.com/users/terencechain/repos",
    "events_url": "https://api.github.com/users/terencechain/events{/privacy}",
    "received_events_url": "https://api.github.com/users/terencechain/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/5665/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/5665/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/620777880",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/5665#issuecomment-620777880",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/5665",
    "id": 620777880,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYyMDc3Nzg4MA==",
    "user": {
      "login": "Phistr90",
      "id": 12374491,
      "node_id": "MDQ6VXNlcjEyMzc0NDkx",
      "avatar_url": "https://avatars.githubusercontent.com/u/12374491?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Phistr90",
      "html_url": "https://github.com/Phistr90",
      "followers_url": "https://api.github.com/users/Phistr90/followers",
      "following_url": "https://api.github.com/users/Phistr90/following{/other_user}",
      "gists_url": "https://api.github.com/users/Phistr90/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Phistr90/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Phistr90/subscriptions",
      "organizations_url": "https://api.github.com/users/Phistr90/orgs",
      "repos_url": "https://api.github.com/users/Phistr90/repos",
      "events_url": "https://api.github.com/users/Phistr90/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Phistr90/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-04-28T18:25:28Z",
    "updated_at": "2020-04-28T18:25:28Z",
    "author_association": "NONE",
    "body": "I have a validator client with 1 validator running that is constantly voting incorrectly on the head but is mostly voting correct on target and source and almost always fulfilling its attestation duties.\r\n\r\nMaybe a time offset might be a reason? I have just figured out that this system time is 3s behind.\r\nMaybe a bottleneck in processing power ? I see this behavior on a RPi4. ",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/620777880/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/620782936",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/5665#issuecomment-620782936",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/5665",
    "id": 620782936,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYyMDc4MjkzNg==",
    "user": {
      "login": "terencechain",
      "id": 21316537,
      "node_id": "MDQ6VXNlcjIxMzE2NTM3",
      "avatar_url": "https://avatars.githubusercontent.com/u/21316537?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/terencechain",
      "html_url": "https://github.com/terencechain",
      "followers_url": "https://api.github.com/users/terencechain/followers",
      "following_url": "https://api.github.com/users/terencechain/following{/other_user}",
      "gists_url": "https://api.github.com/users/terencechain/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/terencechain/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/terencechain/subscriptions",
      "organizations_url": "https://api.github.com/users/terencechain/orgs",
      "repos_url": "https://api.github.com/users/terencechain/repos",
      "events_url": "https://api.github.com/users/terencechain/events{/privacy}",
      "received_events_url": "https://api.github.com/users/terencechain/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-04-28T18:34:47Z",
    "updated_at": "2020-04-28T18:35:24Z",
    "author_association": "MEMBER",
    "body": "Brainstormed a few conditions:\r\n1.) Slow propagation of beacon block over the network, if the block at slot N did not arrive before slot N + `SECONDS_PER_SLOT` * 1/3\r\n2.) Slow processing of beacon block on the beacon node locally.  Condition 1 + the block at slot N did not get processed before slot N + `SECONDS_PER_SLOT` * 1/3\r\n3.) A bug in fork choice or fork choice is slow\r\n\r\nI think it's a mixture between 1 and 2. Will collect more data points\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/620782936/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/621207896",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/5665#issuecomment-621207896",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/5665",
    "id": 621207896,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYyMTIwNzg5Ng==",
    "user": {
      "login": "torfbolt",
      "id": 233423,
      "node_id": "MDQ6VXNlcjIzMzQyMw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/233423?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/torfbolt",
      "html_url": "https://github.com/torfbolt",
      "followers_url": "https://api.github.com/users/torfbolt/followers",
      "following_url": "https://api.github.com/users/torfbolt/following{/other_user}",
      "gists_url": "https://api.github.com/users/torfbolt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/torfbolt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/torfbolt/subscriptions",
      "organizations_url": "https://api.github.com/users/torfbolt/orgs",
      "repos_url": "https://api.github.com/users/torfbolt/repos",
      "events_url": "https://api.github.com/users/torfbolt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/torfbolt/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-04-29T13:30:56Z",
    "updated_at": "2020-04-29T13:30:56Z",
    "author_association": "NONE",
    "body": "@Phistr90 this sounds a lot like the issues described in #5247 which I had in the previous testnet. Do you get similar error messages? Maybe there is some kind of bottleneck or inefficient algorithm for arm64, I was also running on ARM.",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/621207896/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/621244613",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/5665#issuecomment-621244613",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/5665",
    "id": 621244613,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYyMTI0NDYxMw==",
    "user": {
      "login": "terencechain",
      "id": 21316537,
      "node_id": "MDQ6VXNlcjIxMzE2NTM3",
      "avatar_url": "https://avatars.githubusercontent.com/u/21316537?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/terencechain",
      "html_url": "https://github.com/terencechain",
      "followers_url": "https://api.github.com/users/terencechain/followers",
      "following_url": "https://api.github.com/users/terencechain/following{/other_user}",
      "gists_url": "https://api.github.com/users/terencechain/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/terencechain/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/terencechain/subscriptions",
      "organizations_url": "https://api.github.com/users/terencechain/orgs",
      "repos_url": "https://api.github.com/users/terencechain/repos",
      "events_url": "https://api.github.com/users/terencechain/events{/privacy}",
      "received_events_url": "https://api.github.com/users/terencechain/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-04-29T14:23:56Z",
    "updated_at": "2020-04-29T14:24:18Z",
    "author_association": "MEMBER",
    "body": "Time offset is one of the root cause here. See: https://discordapp.com/channels/476244492043812875/667761857209040916/704908725185544192\r\n\r\n\r\nWith that said, Im not satisfied as the only root cause. Will dig more into this today",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/621244613/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/621511414",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/5665#issuecomment-621511414",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/5665",
    "id": 621511414,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYyMTUxMTQxNA==",
    "user": {
      "login": "terencechain",
      "id": 21316537,
      "node_id": "MDQ6VXNlcjIxMzE2NTM3",
      "avatar_url": "https://avatars.githubusercontent.com/u/21316537?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/terencechain",
      "html_url": "https://github.com/terencechain",
      "followers_url": "https://api.github.com/users/terencechain/followers",
      "following_url": "https://api.github.com/users/terencechain/following{/other_user}",
      "gists_url": "https://api.github.com/users/terencechain/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/terencechain/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/terencechain/subscriptions",
      "organizations_url": "https://api.github.com/users/terencechain/orgs",
      "repos_url": "https://api.github.com/users/terencechain/repos",
      "events_url": "https://api.github.com/users/terencechain/events{/privacy}",
      "received_events_url": "https://api.github.com/users/terencechain/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-04-29T22:57:23Z",
    "updated_at": "2020-04-29T22:57:23Z",
    "author_association": "MEMBER",
    "body": "The is the reason: https://hackmd.io/dVbmIMHNQ6aby77g0-ME8A?both\r\n\r\nStill working on it",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/621511414/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/621981986",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/5665#issuecomment-621981986",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/5665",
    "id": 621981986,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYyMTk4MTk4Ng==",
    "user": {
      "login": "terencechain",
      "id": 21316537,
      "node_id": "MDQ6VXNlcjIxMzE2NTM3",
      "avatar_url": "https://avatars.githubusercontent.com/u/21316537?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/terencechain",
      "html_url": "https://github.com/terencechain",
      "followers_url": "https://api.github.com/users/terencechain/followers",
      "following_url": "https://api.github.com/users/terencechain/following{/other_user}",
      "gists_url": "https://api.github.com/users/terencechain/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/terencechain/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/terencechain/subscriptions",
      "organizations_url": "https://api.github.com/users/terencechain/orgs",
      "repos_url": "https://api.github.com/users/terencechain/repos",
      "events_url": "https://api.github.com/users/terencechain/events{/privacy}",
      "received_events_url": "https://api.github.com/users/terencechain/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-04-30T17:04:40Z",
    "updated_at": "2020-04-30T17:04:40Z",
    "author_association": "MEMBER",
    "body": "As mentioned in previous comment. Beacon block propagation is the root cause here. This is not a protocol issue. The question we need to answer here is \"why some blocks arrive later than 6s?\"\r\n\r\nWill leave this open and monitor through out the week.",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/621981986/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/623129185",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/5665#issuecomment-623129185",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/5665",
    "id": 623129185,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYyMzEyOTE4NQ==",
    "user": {
      "login": "Phistr90",
      "id": 12374491,
      "node_id": "MDQ6VXNlcjEyMzc0NDkx",
      "avatar_url": "https://avatars.githubusercontent.com/u/12374491?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Phistr90",
      "html_url": "https://github.com/Phistr90",
      "followers_url": "https://api.github.com/users/Phistr90/followers",
      "following_url": "https://api.github.com/users/Phistr90/following{/other_user}",
      "gists_url": "https://api.github.com/users/Phistr90/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Phistr90/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Phistr90/subscriptions",
      "organizations_url": "https://api.github.com/users/Phistr90/orgs",
      "repos_url": "https://api.github.com/users/Phistr90/repos",
      "events_url": "https://api.github.com/users/Phistr90/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Phistr90/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-05-03T15:41:44Z",
    "updated_at": "2020-05-03T15:44:30Z",
    "author_association": "NONE",
    "body": "It keeps getting worse. Now also my validators on my Intel Nuc are mostly (about 70%, validators changing) voting on incorrect heads. My Internet connection is stable and has high bandwidth. It was perfectly fine on my Intel nuc for the first 1.5 weeks.\r\n\r\nUpping my max peer count from default to 60 now.",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/623129185/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/623133990",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/5665#issuecomment-623133990",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/5665",
    "id": 623133990,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYyMzEzMzk5MA==",
    "user": {
      "login": "terencechain",
      "id": 21316537,
      "node_id": "MDQ6VXNlcjIxMzE2NTM3",
      "avatar_url": "https://avatars.githubusercontent.com/u/21316537?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/terencechain",
      "html_url": "https://github.com/terencechain",
      "followers_url": "https://api.github.com/users/terencechain/followers",
      "following_url": "https://api.github.com/users/terencechain/following{/other_user}",
      "gists_url": "https://api.github.com/users/terencechain/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/terencechain/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/terencechain/subscriptions",
      "organizations_url": "https://api.github.com/users/terencechain/orgs",
      "repos_url": "https://api.github.com/users/terencechain/repos",
      "events_url": "https://api.github.com/users/terencechain/events{/privacy}",
      "received_events_url": "https://api.github.com/users/terencechain/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-05-03T16:15:15Z",
    "updated_at": "2020-05-03T16:15:15Z",
    "author_association": "MEMBER",
    "body": "@Phistr90 the issue here is not from your node, it's rest of the nodes your node peered with. \r\n\r\nWhat do you see with the following metric?",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/623133990/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/623137582",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/5665#issuecomment-623137582",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/5665",
    "id": 623137582,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYyMzEzNzU4Mg==",
    "user": {
      "login": "Phistr90",
      "id": 12374491,
      "node_id": "MDQ6VXNlcjEyMzc0NDkx",
      "avatar_url": "https://avatars.githubusercontent.com/u/12374491?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Phistr90",
      "html_url": "https://github.com/Phistr90",
      "followers_url": "https://api.github.com/users/Phistr90/followers",
      "following_url": "https://api.github.com/users/Phistr90/following{/other_user}",
      "gists_url": "https://api.github.com/users/Phistr90/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Phistr90/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Phistr90/subscriptions",
      "organizations_url": "https://api.github.com/users/Phistr90/orgs",
      "repos_url": "https://api.github.com/users/Phistr90/repos",
      "events_url": "https://api.github.com/users/Phistr90/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Phistr90/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-05-03T16:32:29Z",
    "updated_at": "2020-05-03T16:32:29Z",
    "author_association": "NONE",
    "body": "@terencechain Which metric?",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/623137582/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/623139076",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/5665#issuecomment-623139076",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/5665",
    "id": 623139076,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYyMzEzOTA3Ng==",
    "user": {
      "login": "terencechain",
      "id": 21316537,
      "node_id": "MDQ6VXNlcjIxMzE2NTM3",
      "avatar_url": "https://avatars.githubusercontent.com/u/21316537?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/terencechain",
      "html_url": "https://github.com/terencechain",
      "followers_url": "https://api.github.com/users/terencechain/followers",
      "following_url": "https://api.github.com/users/terencechain/following{/other_user}",
      "gists_url": "https://api.github.com/users/terencechain/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/terencechain/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/terencechain/subscriptions",
      "organizations_url": "https://api.github.com/users/terencechain/orgs",
      "repos_url": "https://api.github.com/users/terencechain/repos",
      "events_url": "https://api.github.com/users/terencechain/events{/privacy}",
      "received_events_url": "https://api.github.com/users/terencechain/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-05-03T16:38:10Z",
    "updated_at": "2020-05-03T16:38:10Z",
    "author_association": "MEMBER",
    "body": "> @terencechain Which metric?\r\n\r\nblock_arrival_latency_milliseconds histogram\r\n\r\nReference: https://github.com/prysmaticlabs/prysm/pull/5708",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/623139076/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/623144927",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/5665#issuecomment-623144927",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/5665",
    "id": 623144927,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYyMzE0NDkyNw==",
    "user": {
      "login": "Phistr90",
      "id": 12374491,
      "node_id": "MDQ6VXNlcjEyMzc0NDkx",
      "avatar_url": "https://avatars.githubusercontent.com/u/12374491?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Phistr90",
      "html_url": "https://github.com/Phistr90",
      "followers_url": "https://api.github.com/users/Phistr90/followers",
      "following_url": "https://api.github.com/users/Phistr90/following{/other_user}",
      "gists_url": "https://api.github.com/users/Phistr90/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Phistr90/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Phistr90/subscriptions",
      "organizations_url": "https://api.github.com/users/Phistr90/orgs",
      "repos_url": "https://api.github.com/users/Phistr90/repos",
      "events_url": "https://api.github.com/users/Phistr90/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Phistr90/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-05-03T17:04:39Z",
    "updated_at": "2020-05-03T17:21:51Z",
    "author_association": "NONE",
    "body": "```\r\n# HELP block_arrival_latency_milliseconds Captures blocks propagation time. Blocks arrival in milliseconds distribution\r\n# TYPE block_arrival_latency_milliseconds histogram\r\nblock_arrival_latency_milliseconds_bucket{le=\"1000\"} 1\r\nblock_arrival_latency_milliseconds_bucket{le=\"2000\"} 9\r\nblock_arrival_latency_milliseconds_bucket{le=\"3000\"} 91\r\nblock_arrival_latency_milliseconds_bucket{le=\"4000\"} 113\r\nblock_arrival_latency_milliseconds_bucket{le=\"5000\"} 133\r\nblock_arrival_latency_milliseconds_bucket{le=\"6000\"} 141\r\nblock_arrival_latency_milliseconds_bucket{le=\"+Inf\"} 149\r\nblock_arrival_latency_milliseconds_sum 483051\r\nblock_arrival_latency_milliseconds_count 149\r\n```\r\n\r\n```\r\n# HELP p2p_peer_count The number of peers in a given state.\r\n# TYPE p2p_peer_count gauge\r\np2p_peer_count{state=\"Bad\"} 199\r\np2p_peer_count{state=\"Connected\"} 11\r\np2p_peer_count{state=\"Connecting\"} 0\r\np2p_peer_count{state=\"Disconnected\"} 404\r\np2p_peer_count{state=\"Disconnecting\"} 0\r\n# HELP p2p_topic_peer_count The number of peers subscribed to a given topic.\r\n# TYPE p2p_topic_peer_count gauge\r\np2p_topic_peer_count{topic=\"/eth2/f071c66c/attester_slashing/ssz_snappy\"} 11\r\np2p_topic_peer_count{topic=\"/eth2/f071c66c/beacon_aggregate_and_proof/ssz_snappy\"} 11\r\np2p_topic_peer_count{topic=\"/eth2/f071c66c/beacon_block/ssz_snappy\"} 11\r\np2p_topic_peer_count{topic=\"/eth2/f071c66c/committee_index0_beacon_attestation/ssz_snappy\"} 3\r\np2p_topic_peer_count{topic=\"/eth2/f071c66c/committee_index1_beacon_attestation/ssz_snappy\"} 5\r\np2p_topic_peer_count{topic=\"/eth2/f071c66c/committee_index2_beacon_attestation/ssz_snappy\"} 4\r\np2p_topic_peer_count{topic=\"/eth2/f071c66c/committee_index3_beacon_attestation/ssz_snappy\"} 2\r\np2p_topic_peer_count{topic=\"/eth2/f071c66c/committee_index5_beacon_attestation/ssz_snappy\"} 4\r\np2p_topic_peer_count{topic=\"/eth2/f071c66c/proposer_slashing/ssz_snappy\"} 11\r\np2p_topic_peer_count{topic=\"/eth2/f071c66c/voluntary_exit/ssz_snappy\"} 11\r\n```\r\n\r\nNeeded to rebuild and restart. Will collect more data but this looks like I am getting a lot of late blocks. Also I noticed it takes a really really long time for my node to connect to a handful of peers.\r\nIs there a way to put a meta data field 'number of hops' in the data packet?\r\nAlso I am located in Germany.",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/623144927/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/623149994",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/5665#issuecomment-623149994",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/5665",
    "id": 623149994,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYyMzE0OTk5NA==",
    "user": {
      "login": "terencechain",
      "id": 21316537,
      "node_id": "MDQ6VXNlcjIxMzE2NTM3",
      "avatar_url": "https://avatars.githubusercontent.com/u/21316537?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/terencechain",
      "html_url": "https://github.com/terencechain",
      "followers_url": "https://api.github.com/users/terencechain/followers",
      "following_url": "https://api.github.com/users/terencechain/following{/other_user}",
      "gists_url": "https://api.github.com/users/terencechain/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/terencechain/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/terencechain/subscriptions",
      "organizations_url": "https://api.github.com/users/terencechain/orgs",
      "repos_url": "https://api.github.com/users/terencechain/repos",
      "events_url": "https://api.github.com/users/terencechain/events{/privacy}",
      "received_events_url": "https://api.github.com/users/terencechain/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-05-03T17:37:52Z",
    "updated_at": "2020-05-03T17:37:52Z",
    "author_association": "MEMBER",
    "body": "A lot of late blocks indeed.  10% of my blocks are 4s+ and I considered that to be bad. Preston's 4s+ blocks is 5% and his internet is much faster than mine. @Phistr90 can you open a feature request for 'number of hops'?\r\n\r\nI'm going to close this issue and open subsequent issues to track late blocks. \r\n\r\nWhat we learned from this issue:\r\n1.) In prysm, when a validator misses a vote on \"head\" it's solely because of a late block received on the beacon node side. There's no protocol bug. Confirmed via metric and one can manually change validator wait time to 6s to submit attestation. The % of correct head vote will increase.\r\n2.) This is could an infra set up limitation problem from nodes getting launched in cluster set up behind cloud provider, relay node issue? Will need further investigation\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/623149994/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
