{
  "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/3147",
  "repository_url": "https://api.github.com/repos/prysmaticlabs/prysm",
  "labels_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/3147/labels{/name}",
  "comments_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/3147/comments",
  "events_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/3147/events",
  "html_url": "https://github.com/prysmaticlabs/prysm/issues/3147",
  "id": 476942150,
  "node_id": "MDU6SXNzdWU0NzY5NDIxNTA=",
  "number": 3147,
  "title": "[Mega Tracking] Align Prysm to Interop Networking Spec",
  "user": {
    "login": "prestonvanloon",
    "id": 7246818,
    "node_id": "MDQ6VXNlcjcyNDY4MTg=",
    "avatar_url": "https://avatars.githubusercontent.com/u/7246818?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/prestonvanloon",
    "html_url": "https://github.com/prestonvanloon",
    "followers_url": "https://api.github.com/users/prestonvanloon/followers",
    "following_url": "https://api.github.com/users/prestonvanloon/following{/other_user}",
    "gists_url": "https://api.github.com/users/prestonvanloon/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/prestonvanloon/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/prestonvanloon/subscriptions",
    "organizations_url": "https://api.github.com/users/prestonvanloon/orgs",
    "repos_url": "https://api.github.com/users/prestonvanloon/repos",
    "events_url": "https://api.github.com/users/prestonvanloon/events{/privacy}",
    "received_events_url": "https://api.github.com/users/prestonvanloon/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 1085358164,
      "node_id": "MDU6TGFiZWwxMDg1MzU4MTY0",
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/labels/Priority:%20Critical",
      "name": "Priority: Critical",
      "color": "f7262f",
      "default": false,
      "description": "Highest, immediate priority item"
    },
    {
      "id": 1241586918,
      "node_id": "MDU6TGFiZWwxMjQxNTg2OTE4",
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/labels/Tracking",
      "name": "Tracking",
      "color": "d0ff7f",
      "default": false,
      "description": "Gotta Catch 'Em All"
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": {
    "login": "prestonvanloon",
    "id": 7246818,
    "node_id": "MDQ6VXNlcjcyNDY4MTg=",
    "avatar_url": "https://avatars.githubusercontent.com/u/7246818?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/prestonvanloon",
    "html_url": "https://github.com/prestonvanloon",
    "followers_url": "https://api.github.com/users/prestonvanloon/followers",
    "following_url": "https://api.github.com/users/prestonvanloon/following{/other_user}",
    "gists_url": "https://api.github.com/users/prestonvanloon/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/prestonvanloon/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/prestonvanloon/subscriptions",
    "organizations_url": "https://api.github.com/users/prestonvanloon/orgs",
    "repos_url": "https://api.github.com/users/prestonvanloon/repos",
    "events_url": "https://api.github.com/users/prestonvanloon/events{/privacy}",
    "received_events_url": "https://api.github.com/users/prestonvanloon/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "prestonvanloon",
      "id": 7246818,
      "node_id": "MDQ6VXNlcjcyNDY4MTg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7246818?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/prestonvanloon",
      "html_url": "https://github.com/prestonvanloon",
      "followers_url": "https://api.github.com/users/prestonvanloon/followers",
      "following_url": "https://api.github.com/users/prestonvanloon/following{/other_user}",
      "gists_url": "https://api.github.com/users/prestonvanloon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/prestonvanloon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/prestonvanloon/subscriptions",
      "organizations_url": "https://api.github.com/users/prestonvanloon/orgs",
      "repos_url": "https://api.github.com/users/prestonvanloon/repos",
      "events_url": "https://api.github.com/users/prestonvanloon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/prestonvanloon/received_events",
      "type": "User",
      "site_admin": false
    },
    {
      "login": "terencechain",
      "id": 21316537,
      "node_id": "MDQ6VXNlcjIxMzE2NTM3",
      "avatar_url": "https://avatars.githubusercontent.com/u/21316537?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/terencechain",
      "html_url": "https://github.com/terencechain",
      "followers_url": "https://api.github.com/users/terencechain/followers",
      "following_url": "https://api.github.com/users/terencechain/following{/other_user}",
      "gists_url": "https://api.github.com/users/terencechain/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/terencechain/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/terencechain/subscriptions",
      "organizations_url": "https://api.github.com/users/terencechain/orgs",
      "repos_url": "https://api.github.com/users/terencechain/repos",
      "events_url": "https://api.github.com/users/terencechain/events{/privacy}",
      "received_events_url": "https://api.github.com/users/terencechain/received_events",
      "type": "User",
      "site_admin": false
    },
    {
      "login": "nisdas",
      "id": 33201827,
      "node_id": "MDQ6VXNlcjMzMjAxODI3",
      "avatar_url": "https://avatars.githubusercontent.com/u/33201827?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nisdas",
      "html_url": "https://github.com/nisdas",
      "followers_url": "https://api.github.com/users/nisdas/followers",
      "following_url": "https://api.github.com/users/nisdas/following{/other_user}",
      "gists_url": "https://api.github.com/users/nisdas/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nisdas/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nisdas/subscriptions",
      "organizations_url": "https://api.github.com/users/nisdas/orgs",
      "repos_url": "https://api.github.com/users/nisdas/repos",
      "events_url": "https://api.github.com/users/nisdas/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nisdas/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2019-08-05T16:06:39Z",
  "updated_at": "2019-10-02T15:14:48Z",
  "closed_at": "2019-10-02T15:14:48Z",
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": "The new interop networking spec has been merged (https://github.com/ethereum/eth2.0-specs/pull/1328). \r\n\r\n### Spec requirements ###\r\n\r\nInterop requirements:\r\n- [x] Support libp2p TCP transport for inbound/outbound IPv4 and IPv6 addresses.\r\n- [x] Expose at least one IPv4 endpoint. #3211 \r\n- [x] All endpoints must be publicly dialable (no advertising local networked addresses or relay)\r\n- [x] Testnet infrastructure configured to enable direct, inbound traffic \r\n- [x] SecIO w/ secp256k1 for identity \r\n- [x] mplex protocol for multiplexing\r\n- [x] (optional) yamux protocol for multiplexing\r\n- [x] Gossipsub alignment \r\n- [x] RPC (req/res) alignment \r\n- [x] Discovery (discv5) alignment\r\n\r\nMainnet requirements:\r\n- [x] Noise handshakes (Moved to #3687)\r\n\r\n### Code changes ###\r\n\r\n_Not in any particular order_. See [networking design doc](https://docs.google.com/document/d/1VyhobQRkEjEkEPxmmdWvaHfKWn0j6dEae_wLZlrFtfU/edit).\r\n\r\nMigration:\r\n- [x] Move/prefix sync and p2p packages with `deprecated-` as part of the migration. #3190 #3191\r\n- [x] Mark existing p2p pb messages as deprecated #3194\r\n- [x] Mark existing topic mappings as deprecated #3192 #3194\r\n\r\n`p2p` package:\r\n- [x] Add new p2p package with boilerplate libp2p configuration #3196 \r\n- [x] Add unit tests and explicit config to ensure libp2p configuration parameters meet the network spec requirements #3200\r\n\r\n`p2p` encoding:\r\n- [x] Add API for encoding registration \r\n- [x] Register `ssz` encoder/decoder #3198 #3210\r\n- [x] Register `ssz_snappy` encoder/decoder #3198  #3210\r\n- [x] Add encoding enum flag for selecting the p2p encoding #3256\r\n- [x] Prefix ssz encoded data with protobuf.Varint length indicator #3210\r\n\r\n`p2p` hello/goodbye:\r\n- [x] Add peerstore abstraction for tracking handshake responses\r\n- [x] Add handler for hello #3216 \r\n- [x] Add handler for goodbye #3282\r\n\r\nInitial sync:\r\n- [x] Add round robin sync strategy\r\n- [x] Add logic to sync round robin up to finalized epoch\r\n- [x] Add logic to sync to head after finalized epoch\r\n\r\nTopic mappings:\r\n- [x] Add new message topic mappings #3201\r\n\r\nRegular sync RPC:\r\n- [x] `/eth2/beacon_chain/req/beacon_blocks/1/{ssz,ssz_snappy}` handler #3218\r\n- [x] `/eth2/beacon_chain/req/recent_beacon_blocks/1/{ssz,ssz_snappy}` handler #3281\r\n- [x] `/eth2/beacon_chain/req/hello/1/{ssz,ssz_snappy}` handler #3216 \r\n- [x] `/eth2/beacon_chain/req/goodbye/1/{ssz,ssz_snappy}` handler #3282\r\n- [x] Add new message types #3199 \r\n\r\nRegular sync gossip sub:\r\n- [x] `/eth2/beacon_block/{ssz,ssz_snappy}` handler & validator #3220 \r\n- [x] `/eth2/beacon_attestation/{ssz,ssz_snappy}` handler & validator \r\n- [x] `/eth2/voluntary_exit/{ssz,ssz_snappy}` handler & validator #3227\r\n- [x] `/eth2/proposer_slashing/{ssz,ssz_snappy}` handler & validator\r\n- [x] `/eth2/attester_slashing/{ssz,ssz_snappy}` handler & validator\r\n\r\nBroadcaster:\r\n- [x] Broadcast with encoding #3226\r\n\r\nFork choice:\r\n- [x] Add ReceiveBlock path that does not apply fork choice (for initial sync up to finalized epoch)\r\n\r\nDiscovery:\r\n- [x] Change bootnode to use Discv5 instead of kademlia #3203\r\n- [x] Allow node discovery via Discv5. #3211 \r\n~~- [ ] Handle topic search for stored node records.~~\r\n~~- [ ] Standardize interfaces to match libp2p for [discovery](https://github.com/libp2p/go-libp2p-core/blob/master/discovery/discovery.go#L12) and [peer routing](https://github.com/libp2p/go-libp2p-core/blob/master/routing/routing.go#L36-L44)~~\r\n- [x] ENR for nodes in prysm must conform with the required fields as stated [here](https://github.com/ethereum/eth2.0-specs/blob/dev/specs/networking/p2p-interface.md#enr-structure)\r\n\r\nSsz:\r\n- [x] Add support for proto enum fields (int32) https://github.com/prysmaticlabs/go-ssz/issues/66",
  "closed_by": {
    "login": "rauljordan",
    "id": 5572669,
    "node_id": "MDQ6VXNlcjU1NzI2Njk=",
    "avatar_url": "https://avatars.githubusercontent.com/u/5572669?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/rauljordan",
    "html_url": "https://github.com/rauljordan",
    "followers_url": "https://api.github.com/users/rauljordan/followers",
    "following_url": "https://api.github.com/users/rauljordan/following{/other_user}",
    "gists_url": "https://api.github.com/users/rauljordan/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/rauljordan/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/rauljordan/subscriptions",
    "organizations_url": "https://api.github.com/users/rauljordan/orgs",
    "repos_url": "https://api.github.com/users/rauljordan/repos",
    "events_url": "https://api.github.com/users/rauljordan/events{/privacy}",
    "received_events_url": "https://api.github.com/users/rauljordan/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/3147/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/3147/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/518297892",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/3147#issuecomment-518297892",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/3147",
    "id": 518297892,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUxODI5Nzg5Mg==",
    "user": {
      "login": "terencechain",
      "id": 21316537,
      "node_id": "MDQ6VXNlcjIxMzE2NTM3",
      "avatar_url": "https://avatars.githubusercontent.com/u/21316537?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/terencechain",
      "html_url": "https://github.com/terencechain",
      "followers_url": "https://api.github.com/users/terencechain/followers",
      "following_url": "https://api.github.com/users/terencechain/following{/other_user}",
      "gists_url": "https://api.github.com/users/terencechain/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/terencechain/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/terencechain/subscriptions",
      "organizations_url": "https://api.github.com/users/terencechain/orgs",
      "repos_url": "https://api.github.com/users/terencechain/repos",
      "events_url": "https://api.github.com/users/terencechain/events{/privacy}",
      "received_events_url": "https://api.github.com/users/terencechain/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-08-05T16:09:45Z",
    "updated_at": "2019-08-05T16:09:45Z",
    "author_association": "MEMBER",
    "body": "Interested in gossips and rpc alignments ",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/518297892/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/518298980",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/3147#issuecomment-518298980",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/3147",
    "id": 518298980,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUxODI5ODk4MA==",
    "user": {
      "login": "nisdas",
      "id": 33201827,
      "node_id": "MDQ6VXNlcjMzMjAxODI3",
      "avatar_url": "https://avatars.githubusercontent.com/u/33201827?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nisdas",
      "html_url": "https://github.com/nisdas",
      "followers_url": "https://api.github.com/users/nisdas/followers",
      "following_url": "https://api.github.com/users/nisdas/following{/other_user}",
      "gists_url": "https://api.github.com/users/nisdas/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nisdas/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nisdas/subscriptions",
      "organizations_url": "https://api.github.com/users/nisdas/orgs",
      "repos_url": "https://api.github.com/users/nisdas/repos",
      "events_url": "https://api.github.com/users/nisdas/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nisdas/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-08-05T16:12:38Z",
    "updated_at": "2019-08-05T16:12:38Z",
    "author_association": "MEMBER",
    "body": "interested in discovery and RPC alingment",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/518298980/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
