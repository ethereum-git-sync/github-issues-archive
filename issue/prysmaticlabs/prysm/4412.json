{
  "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/4412",
  "repository_url": "https://api.github.com/repos/prysmaticlabs/prysm",
  "labels_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/4412/labels{/name}",
  "comments_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/4412/comments",
  "events_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/4412/events",
  "html_url": "https://github.com/prysmaticlabs/prysm/issues/4412",
  "id": 545409901,
  "node_id": "MDU6SXNzdWU1NDU0MDk5MDE=",
  "number": 4412,
  "title": "Crash at \"could not process block from fork choice service..\"",
  "user": {
    "login": "mtbitcoin",
    "id": 8327464,
    "node_id": "MDQ6VXNlcjgzMjc0NjQ=",
    "avatar_url": "https://avatars.githubusercontent.com/u/8327464?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/mtbitcoin",
    "html_url": "https://github.com/mtbitcoin",
    "followers_url": "https://api.github.com/users/mtbitcoin/followers",
    "following_url": "https://api.github.com/users/mtbitcoin/following{/other_user}",
    "gists_url": "https://api.github.com/users/mtbitcoin/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/mtbitcoin/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/mtbitcoin/subscriptions",
    "organizations_url": "https://api.github.com/users/mtbitcoin/orgs",
    "repos_url": "https://api.github.com/users/mtbitcoin/repos",
    "events_url": "https://api.github.com/users/mtbitcoin/events{/privacy}",
    "received_events_url": "https://api.github.com/users/mtbitcoin/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 802129904,
      "node_id": "MDU6TGFiZWw4MDIxMjk5MDQ=",
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/labels/Bug",
      "name": "Bug",
      "color": "ee0701",
      "default": false,
      "description": "Something isn't working"
    },
    {
      "id": 1085357069,
      "node_id": "MDU6TGFiZWwxMDg1MzU3MDY5",
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/labels/Priority:%20High",
      "name": "Priority: High",
      "color": "f7ea26",
      "default": false,
      "description": "High priority item"
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 3,
  "created_at": "2020-01-05T12:18:01Z",
  "updated_at": "2020-01-20T16:54:46Z",
  "closed_at": "2020-01-20T16:54:45Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "Running commit 3b3f2c7 , receiving the following before a crash\r\n\r\n[2020-01-05 12:17:57]  INFO initial-sync: Processing block 383425/394749 - estimated time remaining 1h17m2s blocksPerSecond=2.5 peers=4/5\r\n[2020-01-05 12:17:58]  INFO initial-sync: Processing block 383429/394749 - estimated time remaining 1h15m28s blocksPerSecond=2.5 peers=4/5\r\n[2020-01-05 12:17:58]  INFO initial-sync: Processing block 383437/394749 - estimated time remaining 1h13m56s blocksPerSecond=2.5 peers=4/5\r\n[2020-01-05 12:17:59]  INFO initial-sync: Processing block 383461/394749 - estimated time remaining 1h12m21s blocksPerSecond=2.6 peers=1/5\r\npanic: could not process block from fork choice service: pre state of slot 383461 does not exist\r\n\r\ngoroutine 211 [running]:\r\ngithub.com/prysmaticlabs/prysm/beacon-chain/sync/initial-sync.(*Service).Start(0xc001891680)\r\n        beacon-chain/sync/initial-sync/service.go:119 +0xd0d\r\ncreated by github.com/prysmaticlabs/prysm/shared.(*ServiceRegistry).StartAll\r\n        shared/service_registry.go:44 +0x23e\r\n",
  "closed_by": {
    "login": "rauljordan",
    "id": 5572669,
    "node_id": "MDQ6VXNlcjU1NzI2Njk=",
    "avatar_url": "https://avatars.githubusercontent.com/u/5572669?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/rauljordan",
    "html_url": "https://github.com/rauljordan",
    "followers_url": "https://api.github.com/users/rauljordan/followers",
    "following_url": "https://api.github.com/users/rauljordan/following{/other_user}",
    "gists_url": "https://api.github.com/users/rauljordan/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/rauljordan/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/rauljordan/subscriptions",
    "organizations_url": "https://api.github.com/users/rauljordan/orgs",
    "repos_url": "https://api.github.com/users/rauljordan/repos",
    "events_url": "https://api.github.com/users/rauljordan/events{/privacy}",
    "received_events_url": "https://api.github.com/users/rauljordan/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/4412/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/4412/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/570910545",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/4412#issuecomment-570910545",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/4412",
    "id": 570910545,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU3MDkxMDU0NQ==",
    "user": {
      "login": "ghost",
      "id": 10137,
      "node_id": "MDQ6VXNlcjEwMTM3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ghost",
      "html_url": "https://github.com/ghost",
      "followers_url": "https://api.github.com/users/ghost/followers",
      "following_url": "https://api.github.com/users/ghost/following{/other_user}",
      "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ghost/subscriptions",
      "organizations_url": "https://api.github.com/users/ghost/orgs",
      "repos_url": "https://api.github.com/users/ghost/repos",
      "events_url": "https://api.github.com/users/ghost/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ghost/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-01-05T13:01:26Z",
    "updated_at": "2020-01-05T13:01:26Z",
    "author_association": "NONE",
    "body": "same situation here. panic on multiple nodes last night. could not resync. always panic or stuck on around block 383xxx. looks like the  problem of 2 days ago resurface.\r\n\r\ndid a resync from block 1 last night, no improvement at all, below is output:\r\n[2020-01-05 10:56:29]  INFO blockchain: Finished applying state transition attestations=12 deposits=0 slot=384556\r\n[2020-01-05 10:56:29]  INFO initial-sync: Synced up to slot 384556\r\n[2020-01-05 10:56:38]  INFO sync: Requesting parent block currentSlot=394343 parentRoot=e53ae0bf7a13867d55210623eb73a761858a7c7d6329654f862008117253d755\r\n[2020-01-05 10:56:42]  INFO sync: Requesting parent block currentSlot=394343 parentRoot=e53ae0bf7a13867d55210623eb73a761858a7c7d6329654f862008117253d755\r\n[2020-01-05 10:56:46]  INFO sync: Requesting parent block currentSlot=394342 parentRoot=8d335275f3a99f01028d3d75a2d716e8e9af05a5d95698465f617e31731fc2ed\r\n\r\nit says \"Synced up to slot 384556\". that is wrong. happened multiple times, around block #38xxxx.\r\nthen it start looking for backwards for parent block, backing up to parent nodes in merkle tree, the block# continues reducing, from 394342, to 394341,  to now 393923, and still counting\r\n\r\nlast night, one of my windows system crashed twice when the beacon node is doing resync and searching endlessly for parent tree node\r\n\r\nI increased the resource allocated to docker on another machine, to 8gb ram, the machine has not crashed. it run whole night, until now I manually stop the beacon node.\r\n\r\nthis was error message from last friday: panic: could not process block from fork choice service: pre state of slot 383113 does not exist\r\n\r\nsaw it last night, on different block, around 38xxxx.",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/570910545/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/570911969",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/4412#issuecomment-570911969",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/4412",
    "id": 570911969,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU3MDkxMTk2OQ==",
    "user": {
      "login": "mtbitcoin",
      "id": 8327464,
      "node_id": "MDQ6VXNlcjgzMjc0NjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8327464?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mtbitcoin",
      "html_url": "https://github.com/mtbitcoin",
      "followers_url": "https://api.github.com/users/mtbitcoin/followers",
      "following_url": "https://api.github.com/users/mtbitcoin/following{/other_user}",
      "gists_url": "https://api.github.com/users/mtbitcoin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mtbitcoin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mtbitcoin/subscriptions",
      "organizations_url": "https://api.github.com/users/mtbitcoin/orgs",
      "repos_url": "https://api.github.com/users/mtbitcoin/repos",
      "events_url": "https://api.github.com/users/mtbitcoin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mtbitcoin/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-01-05T13:20:14Z",
    "updated_at": "2020-01-05T13:20:14Z",
    "author_association": "NONE",
    "body": "I am seeing the same also around block 38x K",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/570911969/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/576357660",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/4412#issuecomment-576357660",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/4412",
    "id": 576357660,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU3NjM1NzY2MA==",
    "user": {
      "login": "rauljordan",
      "id": 5572669,
      "node_id": "MDQ6VXNlcjU1NzI2Njk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5572669?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rauljordan",
      "html_url": "https://github.com/rauljordan",
      "followers_url": "https://api.github.com/users/rauljordan/followers",
      "following_url": "https://api.github.com/users/rauljordan/following{/other_user}",
      "gists_url": "https://api.github.com/users/rauljordan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rauljordan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rauljordan/subscriptions",
      "organizations_url": "https://api.github.com/users/rauljordan/orgs",
      "repos_url": "https://api.github.com/users/rauljordan/repos",
      "events_url": "https://api.github.com/users/rauljordan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rauljordan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-01-20T16:54:45Z",
    "updated_at": "2020-01-20T16:54:45Z",
    "author_association": "CONTRIBUTOR",
    "body": "No longer seen after #4099 and #4413",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/576357660/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
