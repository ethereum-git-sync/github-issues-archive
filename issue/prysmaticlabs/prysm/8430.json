{
  "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/8430",
  "repository_url": "https://api.github.com/repos/prysmaticlabs/prysm",
  "labels_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/8430/labels{/name}",
  "comments_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/8430/comments",
  "events_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/8430/events",
  "html_url": "https://github.com/prysmaticlabs/prysm/issues/8430",
  "id": 806316042,
  "node_id": "MDU6SXNzdWU4MDYzMTYwNDI=",
  "number": 8430,
  "title": "Beacon Node Logs Stop Appearing With Web UI",
  "user": {
    "login": "nisdas",
    "id": 33201827,
    "node_id": "MDQ6VXNlcjMzMjAxODI3",
    "avatar_url": "https://avatars.githubusercontent.com/u/33201827?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/nisdas",
    "html_url": "https://github.com/nisdas",
    "followers_url": "https://api.github.com/users/nisdas/followers",
    "following_url": "https://api.github.com/users/nisdas/following{/other_user}",
    "gists_url": "https://api.github.com/users/nisdas/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/nisdas/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/nisdas/subscriptions",
    "organizations_url": "https://api.github.com/users/nisdas/orgs",
    "repos_url": "https://api.github.com/users/nisdas/repos",
    "events_url": "https://api.github.com/users/nisdas/events{/privacy}",
    "received_events_url": "https://api.github.com/users/nisdas/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 802129904,
      "node_id": "MDU6TGFiZWw4MDIxMjk5MDQ=",
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/labels/Bug",
      "name": "Bug",
      "color": "ee0701",
      "default": false,
      "description": "Something isn't working"
    },
    {
      "id": 2672142195,
      "node_id": "MDU6TGFiZWwyNjcyMTQyMTk1",
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/labels/Web%20UI",
      "name": "Web UI",
      "color": "fef2c0",
      "default": false,
      "description": "Related to our beautiful Web UI"
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": {
    "login": "rauljordan",
    "id": 5572669,
    "node_id": "MDQ6VXNlcjU1NzI2Njk=",
    "avatar_url": "https://avatars.githubusercontent.com/u/5572669?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/rauljordan",
    "html_url": "https://github.com/rauljordan",
    "followers_url": "https://api.github.com/users/rauljordan/followers",
    "following_url": "https://api.github.com/users/rauljordan/following{/other_user}",
    "gists_url": "https://api.github.com/users/rauljordan/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/rauljordan/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/rauljordan/subscriptions",
    "organizations_url": "https://api.github.com/users/rauljordan/orgs",
    "repos_url": "https://api.github.com/users/rauljordan/repos",
    "events_url": "https://api.github.com/users/rauljordan/events{/privacy}",
    "received_events_url": "https://api.github.com/users/rauljordan/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "rauljordan",
      "id": 5572669,
      "node_id": "MDQ6VXNlcjU1NzI2Njk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5572669?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rauljordan",
      "html_url": "https://github.com/rauljordan",
      "followers_url": "https://api.github.com/users/rauljordan/followers",
      "following_url": "https://api.github.com/users/rauljordan/following{/other_user}",
      "gists_url": "https://api.github.com/users/rauljordan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rauljordan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rauljordan/subscriptions",
      "organizations_url": "https://api.github.com/users/rauljordan/orgs",
      "repos_url": "https://api.github.com/users/rauljordan/repos",
      "events_url": "https://api.github.com/users/rauljordan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rauljordan/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 6,
  "created_at": "2021-02-11T11:46:46Z",
  "updated_at": "2021-02-23T21:33:23Z",
  "closed_at": "2021-02-23T21:33:23Z",
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": "# üêû Bug Report\r\n\r\n### Description\r\n\r\nIt has been reported by users that when running with the web-ui beacon node logs eventually stop appearing, and after a few hours the validator attached stops functioning leading to missed attestations.\r\n\r\n### Has this worked before in a previous version?\r\n\r\nBefore v1.2.0\r\n\r\n## üî¨ Minimal Reproduction\r\n\r\nRun the beacon node and validator with the web ui to trigger the error. This eventually leads to \r\nthe beacon node logs going missing and the validator eventually having missing attestations.\r\n\r\n## üî• Error\r\n\r\nThis has been brought up offline and in #8314 .\r\n\r\n\r\n**What version of Prysm are you running? (Which release)**\r\n\r\nv1.2\r\n\r\n**Anything else relevant (validator index / public key)?**\r\n\r\n",
  "closed_by": {
    "login": "rauljordan",
    "id": 5572669,
    "node_id": "MDQ6VXNlcjU1NzI2Njk=",
    "avatar_url": "https://avatars.githubusercontent.com/u/5572669?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/rauljordan",
    "html_url": "https://github.com/rauljordan",
    "followers_url": "https://api.github.com/users/rauljordan/followers",
    "following_url": "https://api.github.com/users/rauljordan/following{/other_user}",
    "gists_url": "https://api.github.com/users/rauljordan/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/rauljordan/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/rauljordan/subscriptions",
    "organizations_url": "https://api.github.com/users/rauljordan/orgs",
    "repos_url": "https://api.github.com/users/rauljordan/repos",
    "events_url": "https://api.github.com/users/rauljordan/events{/privacy}",
    "received_events_url": "https://api.github.com/users/rauljordan/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/8430/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/8430/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/777812884",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/8430#issuecomment-777812884",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/8430",
    "id": 777812884,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc3NzgxMjg4NA==",
    "user": {
      "login": "rauljordan",
      "id": 5572669,
      "node_id": "MDQ6VXNlcjU1NzI2Njk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5572669?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rauljordan",
      "html_url": "https://github.com/rauljordan",
      "followers_url": "https://api.github.com/users/rauljordan/followers",
      "following_url": "https://api.github.com/users/rauljordan/following{/other_user}",
      "gists_url": "https://api.github.com/users/rauljordan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rauljordan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rauljordan/subscriptions",
      "organizations_url": "https://api.github.com/users/rauljordan/orgs",
      "repos_url": "https://api.github.com/users/rauljordan/repos",
      "events_url": "https://api.github.com/users/rauljordan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rauljordan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-02-11T21:45:18Z",
    "updated_at": "2021-02-11T21:45:18Z",
    "author_association": "CONTRIBUTOR",
    "body": "After digging through the code, I am not convinced web is the problem. It seems here that the node somehow freezes, which is unrelated to web. I originally thought this could be due to the logs stream, however, we migrated away from websockets and known issues with nodes freezing due to a bad websocket issue. Now, logs are simply sent as streams via gRPC, they can no longer freeze a beacon node. There have been reports of nodes stopping and seeming like they are crashed in Discord and in those cases, the parties involved were not using --web. I think the issue is unrelated. It it possible they also hit the known deadlock bugs before 1.2",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/777812884/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/777813418",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/8430#issuecomment-777813418",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/8430",
    "id": 777813418,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc3NzgxMzQxOA==",
    "user": {
      "login": "rauljordan",
      "id": 5572669,
      "node_id": "MDQ6VXNlcjU1NzI2Njk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5572669?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rauljordan",
      "html_url": "https://github.com/rauljordan",
      "followers_url": "https://api.github.com/users/rauljordan/followers",
      "following_url": "https://api.github.com/users/rauljordan/following{/other_user}",
      "gists_url": "https://api.github.com/users/rauljordan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rauljordan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rauljordan/subscriptions",
      "organizations_url": "https://api.github.com/users/rauljordan/orgs",
      "repos_url": "https://api.github.com/users/rauljordan/repos",
      "events_url": "https://api.github.com/users/rauljordan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rauljordan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-02-11T21:46:18Z",
    "updated_at": "2021-02-11T21:46:18Z",
    "author_association": "CONTRIBUTOR",
    "body": "Commented on the other issue to ask the stakers to let us know if they are still seeing the issue after disabling the web interface",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/777813418/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/777819450",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/8430#issuecomment-777819450",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/8430",
    "id": 777819450,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc3NzgxOTQ1MA==",
    "user": {
      "login": "LouisDiesser",
      "id": 64702034,
      "node_id": "MDQ6VXNlcjY0NzAyMDM0",
      "avatar_url": "https://avatars.githubusercontent.com/u/64702034?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/LouisDiesser",
      "html_url": "https://github.com/LouisDiesser",
      "followers_url": "https://api.github.com/users/LouisDiesser/followers",
      "following_url": "https://api.github.com/users/LouisDiesser/following{/other_user}",
      "gists_url": "https://api.github.com/users/LouisDiesser/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/LouisDiesser/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/LouisDiesser/subscriptions",
      "organizations_url": "https://api.github.com/users/LouisDiesser/orgs",
      "repos_url": "https://api.github.com/users/LouisDiesser/repos",
      "events_url": "https://api.github.com/users/LouisDiesser/events{/privacy}",
      "received_events_url": "https://api.github.com/users/LouisDiesser/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-02-11T21:57:45Z",
    "updated_at": "2021-02-11T21:57:45Z",
    "author_association": "NONE",
    "body": "I disabled WebUI now and until now everything works fine, but after I had the issue for the second time in v1.1.0 it also worked fine for some weeks with WebUI enabled. I'll let you know, if it happens again.",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/777819450/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/779822143",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/8430#issuecomment-779822143",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/8430",
    "id": 779822143,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc3OTgyMjE0Mw==",
    "user": {
      "login": "alancwoo",
      "id": 1481890,
      "node_id": "MDQ6VXNlcjE0ODE4OTA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1481890?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alancwoo",
      "html_url": "https://github.com/alancwoo",
      "followers_url": "https://api.github.com/users/alancwoo/followers",
      "following_url": "https://api.github.com/users/alancwoo/following{/other_user}",
      "gists_url": "https://api.github.com/users/alancwoo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alancwoo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alancwoo/subscriptions",
      "organizations_url": "https://api.github.com/users/alancwoo/orgs",
      "repos_url": "https://api.github.com/users/alancwoo/repos",
      "events_url": "https://api.github.com/users/alancwoo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alancwoo/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-02-16T13:02:19Z",
    "updated_at": "2021-02-18T08:12:04Z",
    "author_association": "NONE",
    "body": "As a note, I had the same problem in v1.1.0 on Linux with the web ui enabled. About once a day I would check the node and the logs would just be halted/frozen with no errors.\r\n\r\nI've updated to 1.2.1 and will report if this happens again.\r\n\r\n--\r\n\r\nEDIT: This is still occurring on 1.2.1 and I had to set up a monitor to auto-restart, will try with 1.2.2 and report back as well.",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/779822143/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/781118653",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/8430#issuecomment-781118653",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/8430",
    "id": 781118653,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc4MTExODY1Mw==",
    "user": {
      "login": "nazar-kuzo",
      "id": 13677730,
      "node_id": "MDQ6VXNlcjEzNjc3NzMw",
      "avatar_url": "https://avatars.githubusercontent.com/u/13677730?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nazar-kuzo",
      "html_url": "https://github.com/nazar-kuzo",
      "followers_url": "https://api.github.com/users/nazar-kuzo/followers",
      "following_url": "https://api.github.com/users/nazar-kuzo/following{/other_user}",
      "gists_url": "https://api.github.com/users/nazar-kuzo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nazar-kuzo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nazar-kuzo/subscriptions",
      "organizations_url": "https://api.github.com/users/nazar-kuzo/orgs",
      "repos_url": "https://api.github.com/users/nazar-kuzo/repos",
      "events_url": "https://api.github.com/users/nazar-kuzo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nazar-kuzo/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-02-18T07:27:05Z",
    "updated_at": "2021-02-18T07:27:05Z",
    "author_association": "NONE",
    "body": "@rauljordan Hey, strangily, but on v 1.2.0 I had no issues for a week or so, updated to v 1.2.2 and after 2-3 hours beacon node stopped sync with no error, and logs appear in the WebUI. I`m using ubuntu VM. ",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/781118653/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/783086125",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/8430#issuecomment-783086125",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/8430",
    "id": 783086125,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc4MzA4NjEyNQ==",
    "user": {
      "login": "ahadda5",
      "id": 21275079,
      "node_id": "MDQ6VXNlcjIxMjc1MDc5",
      "avatar_url": "https://avatars.githubusercontent.com/u/21275079?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ahadda5",
      "html_url": "https://github.com/ahadda5",
      "followers_url": "https://api.github.com/users/ahadda5/followers",
      "following_url": "https://api.github.com/users/ahadda5/following{/other_user}",
      "gists_url": "https://api.github.com/users/ahadda5/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ahadda5/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ahadda5/subscriptions",
      "organizations_url": "https://api.github.com/users/ahadda5/orgs",
      "repos_url": "https://api.github.com/users/ahadda5/repos",
      "events_url": "https://api.github.com/users/ahadda5/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ahadda5/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-02-22T05:11:40Z",
    "updated_at": "2021-02-22T05:11:40Z",
    "author_association": "CONTRIBUTOR",
    "body": "my 2 cents as a user of the node\r\n1- ran ./prysm.sh validator --web\r\n2.  Missed attestation were noticed after about 8hrs (basically slept, woke up and ) things were not functioning. \r\n\r\nI removed the --web and restarted.  All went back to normal . \r\n\r\nSystem:  ubuntu 20.04\r\nNEtwork:   georli ",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/783086125/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
