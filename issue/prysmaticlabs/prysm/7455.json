{
  "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/7455",
  "repository_url": "https://api.github.com/repos/prysmaticlabs/prysm",
  "labels_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/7455/labels{/name}",
  "comments_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/7455/comments",
  "events_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/7455/events",
  "html_url": "https://github.com/prysmaticlabs/prysm/issues/7455",
  "id": 716684586,
  "node_id": "MDU6SXNzdWU3MTY2ODQ1ODY=",
  "number": 7455,
  "title": "accounts-v2 import into non-existent wallet leads to error in Windows",
  "user": {
    "login": "dv8silencer",
    "id": 15720668,
    "node_id": "MDQ6VXNlcjE1NzIwNjY4",
    "avatar_url": "https://avatars.githubusercontent.com/u/15720668?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/dv8silencer",
    "html_url": "https://github.com/dv8silencer",
    "followers_url": "https://api.github.com/users/dv8silencer/followers",
    "following_url": "https://api.github.com/users/dv8silencer/following{/other_user}",
    "gists_url": "https://api.github.com/users/dv8silencer/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/dv8silencer/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/dv8silencer/subscriptions",
    "organizations_url": "https://api.github.com/users/dv8silencer/orgs",
    "repos_url": "https://api.github.com/users/dv8silencer/repos",
    "events_url": "https://api.github.com/users/dv8silencer/events{/privacy}",
    "received_events_url": "https://api.github.com/users/dv8silencer/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": {
    "login": "rauljordan",
    "id": 5572669,
    "node_id": "MDQ6VXNlcjU1NzI2Njk=",
    "avatar_url": "https://avatars.githubusercontent.com/u/5572669?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/rauljordan",
    "html_url": "https://github.com/rauljordan",
    "followers_url": "https://api.github.com/users/rauljordan/followers",
    "following_url": "https://api.github.com/users/rauljordan/following{/other_user}",
    "gists_url": "https://api.github.com/users/rauljordan/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/rauljordan/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/rauljordan/subscriptions",
    "organizations_url": "https://api.github.com/users/rauljordan/orgs",
    "repos_url": "https://api.github.com/users/rauljordan/repos",
    "events_url": "https://api.github.com/users/rauljordan/events{/privacy}",
    "received_events_url": "https://api.github.com/users/rauljordan/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "rauljordan",
      "id": 5572669,
      "node_id": "MDQ6VXNlcjU1NzI2Njk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5572669?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rauljordan",
      "html_url": "https://github.com/rauljordan",
      "followers_url": "https://api.github.com/users/rauljordan/followers",
      "following_url": "https://api.github.com/users/rauljordan/following{/other_user}",
      "gists_url": "https://api.github.com/users/rauljordan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rauljordan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rauljordan/subscriptions",
      "organizations_url": "https://api.github.com/users/rauljordan/orgs",
      "repos_url": "https://api.github.com/users/rauljordan/repos",
      "events_url": "https://api.github.com/users/rauljordan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rauljordan/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 1,
  "created_at": "2020-10-07T16:36:41Z",
  "updated_at": "2020-10-08T14:30:09Z",
  "closed_at": "2020-10-08T14:30:09Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "# üêû Bug Report\r\n\r\n### Description\r\nIf you `accounts-v2 import --key-dir /path/to/keys` in Windows it will lead to:\r\n\r\n`FATAL accounts-v2: Could not import accounts: could not initialize wallet: could not check if wallet exists: could not check if dir is valid: open C:\\Users\\dv8si\\AppData\\Roaming\\Eth2Validators\\prysm-wallet-v2: The system cannot find the path specified.`\r\n\r\nif the wallet directory does not already exist.\r\n\r\nIssue might have root in accounts/v2/wallet/wallet.go where OpenWalletOrElseCli() calls Exists() where even if HasDir returns (false, nil), it attempts the IsValid() check which tries to open the path even if the directory does not exist.  This leads to the error which\r\n\r\n```\r\n\tif err != nil {\r\n\t\tif strings.Contains(err.Error(), \"no such file\") {\r\n\t\t\treturn false, nil\r\n\t\t}\r\n\t\treturn false, err\r\n\t}\r\n```\r\ntries to look for but the wording of that message may be specific to Linux.\r\n\r\n### Has this worked before in a previous version?\r\nI don't recall when the last time I did detailed testing in Windows for import was.  I know I have and this wasn't an issue before.   #7400 may have introduced it.\r\n\r\n## üî¨ Minimal Reproduction\r\n\r\nSee above.\r\n\r\n## üî• Error\r\n\r\nSee above\r\n\r\n## üåç  Your Environment\r\n\r\n**Operating System:**\r\n\r\nWindows 10\r\n\r\n\r\n**What version of Prysm are you running? (Which release)**\r\n\r\nalpha.28\r\n\r\n**Anything else relevant (validator index / public key)?**\r\n\r\nNo",
  "closed_by": {
    "login": "prylabs-bulldozer[bot]",
    "id": 58059840,
    "node_id": "MDM6Qm90NTgwNTk4NDA=",
    "avatar_url": "https://avatars.githubusercontent.com/in/47372?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/prylabs-bulldozer%5Bbot%5D",
    "html_url": "https://github.com/apps/prylabs-bulldozer",
    "followers_url": "https://api.github.com/users/prylabs-bulldozer%5Bbot%5D/followers",
    "following_url": "https://api.github.com/users/prylabs-bulldozer%5Bbot%5D/following{/other_user}",
    "gists_url": "https://api.github.com/users/prylabs-bulldozer%5Bbot%5D/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/prylabs-bulldozer%5Bbot%5D/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/prylabs-bulldozer%5Bbot%5D/subscriptions",
    "organizations_url": "https://api.github.com/users/prylabs-bulldozer%5Bbot%5D/orgs",
    "repos_url": "https://api.github.com/users/prylabs-bulldozer%5Bbot%5D/repos",
    "events_url": "https://api.github.com/users/prylabs-bulldozer%5Bbot%5D/events{/privacy}",
    "received_events_url": "https://api.github.com/users/prylabs-bulldozer%5Bbot%5D/received_events",
    "type": "Bot",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/7455/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/7455/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/705158024",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/7455#issuecomment-705158024",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/7455",
    "id": 705158024,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcwNTE1ODAyNA==",
    "user": {
      "login": "prestonvanloon",
      "id": 7246818,
      "node_id": "MDQ6VXNlcjcyNDY4MTg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7246818?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/prestonvanloon",
      "html_url": "https://github.com/prestonvanloon",
      "followers_url": "https://api.github.com/users/prestonvanloon/followers",
      "following_url": "https://api.github.com/users/prestonvanloon/following{/other_user}",
      "gists_url": "https://api.github.com/users/prestonvanloon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/prestonvanloon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/prestonvanloon/subscriptions",
      "organizations_url": "https://api.github.com/users/prestonvanloon/orgs",
      "repos_url": "https://api.github.com/users/prestonvanloon/repos",
      "events_url": "https://api.github.com/users/prestonvanloon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/prestonvanloon/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-10-07T19:51:43Z",
    "updated_at": "2020-10-07T19:51:43Z",
    "author_association": "MEMBER",
    "body": "@rauljordan can you take a look to see if this is related to changes in #7400 please?",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/705158024/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
