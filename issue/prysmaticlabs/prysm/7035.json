{
  "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/7035",
  "repository_url": "https://api.github.com/repos/prysmaticlabs/prysm",
  "labels_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/7035/labels{/name}",
  "comments_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/7035/comments",
  "events_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/7035/events",
  "html_url": "https://github.com/prysmaticlabs/prysm/issues/7035",
  "id": 680389598,
  "node_id": "MDU6SXNzdWU2ODAzODk1OTg=",
  "number": 7035,
  "title": "Some validators \"EXITED\" after roughtime incident. ",
  "user": {
    "login": "DigiDr",
    "id": 2739450,
    "node_id": "MDQ6VXNlcjI3Mzk0NTA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/2739450?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/DigiDr",
    "html_url": "https://github.com/DigiDr",
    "followers_url": "https://api.github.com/users/DigiDr/followers",
    "following_url": "https://api.github.com/users/DigiDr/following{/other_user}",
    "gists_url": "https://api.github.com/users/DigiDr/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/DigiDr/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/DigiDr/subscriptions",
    "organizations_url": "https://api.github.com/users/DigiDr/orgs",
    "repos_url": "https://api.github.com/users/DigiDr/repos",
    "events_url": "https://api.github.com/users/DigiDr/events{/privacy}",
    "received_events_url": "https://api.github.com/users/DigiDr/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 6,
  "created_at": "2020-08-17T17:06:52Z",
  "updated_at": "2020-09-01T15:15:06Z",
  "closed_at": "2020-09-01T15:15:06Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "# üêû Bug Report\r\n\r\n### Description\r\nLooks like approx 7/57 of my validators were EXITED during the black-Friday medalla incident. I was running a conventional beacon-chain node on x86/Ubuntu/docker which is kept up to date with :latest and docker watchtower. A slasher node was running. The validator is on the same machine as the beacon-chain node. The EXITED nodes all now report a balance of 0. \r\n\r\n[2020-08-17 16:55:25]  INFO validator: Validator exited index=5399 pubKey=0x97ae4e42458e status=EXITED\r\n[2020-08-17 16:55:25]  INFO validator: Validator exited index=5424 pubKey=0xa9975acf6960 status=EXITED\r\n[2020-08-17 16:55:25]  INFO validator: Validator exited index=5415 pubKey=0xae95084a831a status=EXITED\r\n[2020-08-17 16:55:25]  INFO validator: Validator exited index=5385 pubKey=0x8c4e28ef8321 status=EXITED\r\n[2020-08-17 16:55:25]  INFO validator: Validator exited index=5379 pubKey=0xaf7a1e412309 status=EXITED\r\n[2020-08-17 16:55:25]  INFO validator: Validator exited index=5382 pubKey=0x82e0c39fbcb0 status=EXITED\r\n[2020-08-17 16:55:25]  INFO validator: Validator exited index=5422 pubKey=0xa4491d3657e3 status=EXITED\r\n[2020-08-17 16:55:25]  INFO validator: Validator activated index=5410 publicKey=0xb8134a52100e\r\n[2020-08-17 16:55:25]  INFO validator: Validator activated index=5421 publicKey=0x99989317430f\r\n[2020-08-17 16:55:25]  INFO validator: Validator activated index=5430 publicKey=0x8442f4eaa7e2\r\n[2020-08-17 16:55:25]  INFO validator: Validator activated index=5388 publicKey=0xb005cf5e4a87\r\n[2020-08-17 16:55:25]  INFO validator: Validator activated index=5398 publicKey=0xa21ffbfc239a\r\n[2020-08-17 16:55:25]  INFO validator: Validator activated index=5413 publicKey=0x8472a88ea912\r\n[2020-08-17 16:55:25]  INFO validator: Validator activated index=5420 publicKey=0x82bc0d808641\r\n[2020-08-17 16:55:25]  INFO validator: Validator activated index=5423 publicKey=0xaceec75bbcf7\r\n[2020-08-17 16:55:25]  INFO validator: Validator activated index=5384 publicKey=0xb98786a916e9\r\n[2020-08-17 16:55:25]  INFO validator: Validator activated index=5394 publicKey=0xaf61506f39fa\r\n[2020-08-17 16:55:25]  INFO validator: Validator activated index=5397 publicKey=0xa4e489a4ec32\r\n[2020-08-17 16:55:25]  INFO validator: Validator activated index=5403 publicKey=0xb0e00da187a5\r\n[2020-08-17 16:55:25]  INFO validator: Validator activated index=5416 publicKey=0x8dd46c817fd9\r\n[2020-08-17 16:55:25]  INFO validator: Validator activated index=5433 publicKey=0xab0015047af1\r\n[2020-08-17 16:55:25]  INFO validator: Validator activated index=5418 publicKey=0x8feb51979b57\r\n[2020-08-17 16:55:25]  INFO validator: Validator activated index=5411 publicKey=0xa1d0c38736e2\r\n[2020-08-17 16:55:25]  INFO validator: Validator activated index=5390 publicKey=0xb183563f80c1\r\n[2020-08-17 16:55:25]  INFO validator: Validator activated index=5396 publicKey=0x8c486f8bc816\r\n[2020-08-17 16:55:25]  INFO validator: Validator activated index=5401 publicKey=0x81d0f2843866\r\n[2020-08-17 16:55:25]  INFO validator: Validator activated index=5404 publicKey=0xa1d832964ae3\r\n[2020-08-17 16:55:25]  INFO validator: Validator activated index=5402 publicKey=0xb84ff391b44c\r\n[2020-08-17 16:55:25]  INFO validator: Validator activated index=5407 publicKey=0xb5aeea83205b\r\n[2020-08-17 16:55:25]  INFO validator: Validator activated index=5414 publicKey=0xa225a84aec50\r\n[2020-08-17 16:55:25]  INFO validator: Validator activated index=5419 publicKey=0x8289559a5c74\r\n[2020-08-17 16:55:25]  INFO validator: Validator activated index=5393 publicKey=0xb06b081e9d46\r\n[2020-08-17 16:55:25]  INFO validator: Validator activated index=5409 publicKey=0xb739197176f9\r\n[2020-08-17 16:55:25]  INFO validator: Validator activated index=5431 publicKey=0x8b1a7d9b62f3\r\n[2020-08-17 16:55:25]  INFO validator: Validator activated index=5405 publicKey=0x8c49428fab0a\r\n[2020-08-17 16:55:25]  INFO validator: Validator activated index=5426 publicKey=0x8b54dfee5a97\r\n[2020-08-17 16:55:25]  INFO validator: Validator activated index=5387 publicKey=0x9211f08fad46\r\n[2020-08-17 16:55:25]  INFO validator: Validator activated index=5380 publicKey=0x8ff1135098f3\r\n[2020-08-17 16:55:25]  INFO validator: Validator activated index=5427 publicKey=0xae2bdaccbe0b\r\n[2020-08-17 16:55:25]  INFO validator: Validator activated index=5428 publicKey=0xad4afe5ae830\r\n[2020-08-17 16:55:25]  INFO validator: Validator activated index=5429 publicKey=0x8ceb42312cd3\r\n[2020-08-17 16:55:25]  INFO validator: Validator activated index=5432 publicKey=0x8123b8e02786\r\n[2020-08-17 16:55:25]  INFO validator: Validator activated index=5406 publicKey=0x84321cf6471b\r\n[2020-08-17 16:55:25]  INFO validator: Validator activated index=5425 publicKey=0x87bcaa550dfa\r\n[2020-08-17 16:55:25]  INFO validator: Validator activated index=5386 publicKey=0xb16471f012e7\r\n[2020-08-17 16:55:25]  INFO validator: Validator activated index=5389 publicKey=0x97f2cc687739\r\n[2020-08-17 16:55:25]  INFO validator: Validator activated index=5395 publicKey=0xb23aa1134bea\r\n[2020-08-17 16:55:25]  INFO validator: Validator activated index=5391 publicKey=0xac7841f80052\r\n[2020-08-17 16:55:25]  INFO validator: Validator activated index=5392 publicKey=0xb2c1eeafbe8a\r\n[2020-08-17 16:55:25]  INFO validator: Validator activated index=5408 publicKey=0x82693c0705b8\r\n[2020-08-17 16:55:25]  INFO validator: Validator activated index=5412 publicKey=0x8ca55674c7c6\r\n[2020-08-17 16:55:25]  INFO validator: Validator activated index=5378 publicKey=0x8f9929560720\r\n[2020-08-17 16:55:25]  INFO validator: Validator activated index=5400 publicKey=0xa41252436e41\r\n[2020-08-17 16:55:25]  INFO validator: Validator activated index=5381 publicKey=0x93fbc96cfe86\r\n[2020-08-17 16:55:25]  INFO validator: Validator activated index=5383 publicKey=0x9372410d24e1\r\n[2020-08-17 16:55:25]  INFO validator: Validator activated index=5417 publicKey=0x928de7409e36\r\n[2020-08-17 16:55:25]  INFO validator: Validator activated index=5434 publicKey=0x90337401a698\r\n\r\nSetup: docker-compose.yaml\r\n---\r\nversion: '3.5'\r\n\r\nservices:\r\n   eth1-goerli-node:\r\n     stdin_open: true\r\n     tty: true\r\n     container_name: eth1-goerli-node\r\n     image: ethereum/client-go\r\n     volumes:\r\n       - /mnt/data/eth1-goerli-node:/root/.ethereum\r\n     restart: unless-stopped\r\n     ports: # add 9545:9545 for RPC\r\n       - \"40303:40303\"\r\n     networks:\r\n       - ethereum\r\n     command: --goerli --nousb --rpc --rpcaddr=\"0.0.0.0\" --rpcport=9545 --rpcvhosts=*\r\n\r\n   eth1-node:\r\n     stdin_open: true\r\n     tty: true\r\n     container_name: eth1-node\r\n     image: ethereum/client-go\r\n     volumes:\r\n       - /mnt/data/eth1-node:/root/.ethereum\r\n     restart: unless-stopped\r\n     ports: # add 8545:8545 for RPC\r\n       - \"30303:30303\"\r\n     networks:\r\n       - ethereum\r\n     command: --nousb --rpc --rpcaddr=\"0.0.0.0\" --rpcport=8545 --rpcvhosts=*\r\n\r\n   eth2-prysm-beacon:\r\n     stdin_open: true\r\n     tty: true\r\n     container_name: eth2-prysm-beacon\r\n     image: gcr.io/prysmaticlabs/prysm/beacon-chain:latest\r\n     volumes:\r\n       - /mnt/data/eth2-prysm-beacon:/data\r\n     restart: unless-stopped\r\n     ports: # add 4000:4000 for RPC\r\n       - \"12000:12000\"\r\n       - \"13000:13000\"\r\n     networks:\r\n       - ethereum\r\n     command: --datadir=/data --http-web3provider=http://eth1-goerli-node:9545/ --rpc-host=0.0.0.0 --monitoring-host=0.0.0.0 --p2p-max-peers 1000 --p2p-host-dns=my.dns.com --block-batch-limit=128\r\n     depends_on:\r\n       - eth1-goerli-node\r\n       - eth1-node\r\n\r\n   eth2-prysm-validator:\r\n     stdin_open: true\r\n     tty: true\r\n     container_name: eth2-prysm-validator\r\n     image: gcr.io/prysmaticlabs/prysm/validator:latest\r\n     volumes:\r\n       - /mnt/data/eth2-prysm-wallet/wallet:/wallet\r\n       - /mnt/data/eth2-prysm-wallet/passwords:/passwords\r\n     restart: unless-stopped\r\n     networks:\r\n       - ethereum\r\n     command: --beacon-rpc-provider=eth2-prysm-beacon:4000 --monitoring-host=0.0.0.0 --wallet-dir=/wallet --passwords-dir=/passwords\r\n     depends_on:\r\n       - eth2-prysm-beacon\r\n\r\n   eth2-prysm-slasher:\r\n     stdin_open: true\r\n     tty: true\r\n     container_name: eth2-prysm-slasher\r\n     image: gcr.io/prysmaticlabs/prysm/slasher:latest\r\n     volumes:\r\n       - /mnt/data/eth2-prysm-slasher:/data\r\n     restart: unless-stopped\r\n     networks:\r\n       - ethereum\r\n     command: --datadir=/data --beacon-rpc-provider=eth2-prysm-beacon:4000\r\n     depends_on:\r\n       - eth2-prysm-beacon\r\n\r\n   eth2-stats:\r\n     stdin_open: true\r\n     tty: true\r\n     container_name: eth2-stats\r\n     image: alethio/eth2stats-client:latest\r\n     volumes:\r\n       - /mnt/data/eth2-stats/data:/data\r\n     restart: unless-stopped\r\n     networks:\r\n       - ethereum\r\n     command: run --eth2stats.node-name=\"Blagh blagh\" --data.folder=\"/data\" --eth2stats.addr=\"grpc.medalla.eth2stats.io:443\" --eth2stats.tls=true --beacon.type=\"prysm\" --beacon.addr=\"eth2-prysm-beacon:4000\" --beacon.metrics-addr=\"http://eth2-prysm-beacon:8080/metrics\"\r\n     depends_on:\r\n       - eth2-prysm-beacon\r\n\r\n   prometheus:\r\n     stdin_open: true\r\n     tty: true\r\n     container_name: prometheus\r\n     image: prom/prometheus\r\n     user: root\r\n     volumes:\r\n       - /mnt/data/prometheus/:/prometheus\r\n       - /mnt/data/prometheus/prometheus.yml:/etc/prometheus/prometheus.yml\r\n     restart: unless-stopped\r\n     ports:\r\n       - \"9090:9090\"\r\n     networks:\r\n       - ethereum\r\n     command: --storage.tsdb.retention.time=1y\r\n\r\n   grafana:\r\n     stdin_open: true\r\n     tty: true\r\n     container_name: grafana\r\n     image: grafana/grafana\r\n     user: root\r\n     volumes:\r\n       - /mnt/data/grafana:/var/lib/grafana\r\n     restart: unless-stopped\r\n     ports:\r\n       - \"3000:3000\"\r\n     networks:\r\n       - ethereum\r\n     depends_on:\r\n       - prometheus\r\n\r\n   watchtower:\r\n     stdin_open: true\r\n     tty: true\r\n     container_name: watchtower\r\n     image: v2tec/watchtower\r\n     volumes:\r\n       - /var/run/docker.sock:/var/run/docker.sock\r\n     restart: unless-stopped\r\n\r\nnetworks:\r\n  ethereum:\r\n      name: ethereum\r\n      driver: bridge\r\n----\r\n\r\n\r\n\r\n    Can you all give more details on how you were running the node ?\r\n    Ex: Script, Docker, Bazel , etc - see above.\r\n\r\n    Also what is the exact command you guys were using to run the node. - see above\r\n\r\n    During the course of the roughtime incident did you restart your node ? - no but it would have restarted with new releases due to watchtower.\r\n\r\n    If any of you were running on docker, were you specifying the volume\r\n    for the validator db ? - see above. \r\n",
  "closed_by": {
    "login": "terencechain",
    "id": 21316537,
    "node_id": "MDQ6VXNlcjIxMzE2NTM3",
    "avatar_url": "https://avatars.githubusercontent.com/u/21316537?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/terencechain",
    "html_url": "https://github.com/terencechain",
    "followers_url": "https://api.github.com/users/terencechain/followers",
    "following_url": "https://api.github.com/users/terencechain/following{/other_user}",
    "gists_url": "https://api.github.com/users/terencechain/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/terencechain/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/terencechain/subscriptions",
    "organizations_url": "https://api.github.com/users/terencechain/orgs",
    "repos_url": "https://api.github.com/users/terencechain/repos",
    "events_url": "https://api.github.com/users/terencechain/events{/privacy}",
    "received_events_url": "https://api.github.com/users/terencechain/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/7035/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/7035/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/675003109",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/7035#issuecomment-675003109",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/7035",
    "id": 675003109,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY3NTAwMzEwOQ==",
    "user": {
      "login": "alexfisher",
      "id": 176891,
      "node_id": "MDQ6VXNlcjE3Njg5MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/176891?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexfisher",
      "html_url": "https://github.com/alexfisher",
      "followers_url": "https://api.github.com/users/alexfisher/followers",
      "following_url": "https://api.github.com/users/alexfisher/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexfisher/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexfisher/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexfisher/subscriptions",
      "organizations_url": "https://api.github.com/users/alexfisher/orgs",
      "repos_url": "https://api.github.com/users/alexfisher/repos",
      "events_url": "https://api.github.com/users/alexfisher/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexfisher/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-08-17T17:13:03Z",
    "updated_at": "2020-08-17T17:18:16Z",
    "author_association": "NONE",
    "body": "Adding in a comment here per @nisdas 's request.  I'm also showing that 1 of 20 validators were exited.\r\n\r\n`time=\"2020-08-16 23:07:16\" level=info msg=\"Validator exited\" index=27479 prefix=validator pubKey=0xb95e040cda30 status=EXITED`\r\n\r\nLogs are being sent out to Papertrail on a rolling 7 day basis so I can provide any additional info needed over next few days or so.\r\n\r\nI've got beacon, validator, slasher and geth-goerli running using docker-compose and tied to prysm docker tags.  Have switched a few times over last couple days: HEAD-78ec78, HEAD-0d7ea3, HEAD-d24f99, to v1.0.0-alpha.20, 21, and finally 22.",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/675003109/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/675037649",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/7035#issuecomment-675037649",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/7035",
    "id": 675037649,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY3NTAzNzY0OQ==",
    "user": {
      "login": "droconnel22",
      "id": 4054346,
      "node_id": "MDQ6VXNlcjQwNTQzNDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4054346?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/droconnel22",
      "html_url": "https://github.com/droconnel22",
      "followers_url": "https://api.github.com/users/droconnel22/followers",
      "following_url": "https://api.github.com/users/droconnel22/following{/other_user}",
      "gists_url": "https://api.github.com/users/droconnel22/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/droconnel22/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/droconnel22/subscriptions",
      "organizations_url": "https://api.github.com/users/droconnel22/orgs",
      "repos_url": "https://api.github.com/users/droconnel22/repos",
      "events_url": "https://api.github.com/users/droconnel22/events{/privacy}",
      "received_events_url": "https://api.github.com/users/droconnel22/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-08-17T18:22:45Z",
    "updated_at": "2020-08-17T18:22:45Z",
    "author_association": "NONE",
    "body": "This affected my validator as well:\r\nhttps://beaconscan.com/medalla/validator/0xad987e4f090ff0c121d6fc24628913cc1c3f2b13385c48267613966b0cfcaa501198c92896755ea91edfef87f75fe012",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/675037649/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/675202937",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/7035#issuecomment-675202937",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/7035",
    "id": 675202937,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY3NTIwMjkzNw==",
    "user": {
      "login": "nisdas",
      "id": 33201827,
      "node_id": "MDQ6VXNlcjMzMjAxODI3",
      "avatar_url": "https://avatars.githubusercontent.com/u/33201827?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nisdas",
      "html_url": "https://github.com/nisdas",
      "followers_url": "https://api.github.com/users/nisdas/followers",
      "following_url": "https://api.github.com/users/nisdas/following{/other_user}",
      "gists_url": "https://api.github.com/users/nisdas/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nisdas/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nisdas/subscriptions",
      "organizations_url": "https://api.github.com/users/nisdas/orgs",
      "repos_url": "https://api.github.com/users/nisdas/repos",
      "events_url": "https://api.github.com/users/nisdas/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nisdas/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-08-18T01:50:26Z",
    "updated_at": "2020-08-18T01:50:26Z",
    "author_association": "MEMBER",
    "body": "Hey guys thanks for reporting this, @DigiDr @alexfisher @droconnel22 .\r\n\r\nA few questions:\r\n1) Can you all give more details on how you were running the node ?\r\nEx: Script, Docker, Bazel , etc\r\n\r\n2) Also what is the exact command you guys were using to run the node.\r\n\r\n3) During the course of the roughtime incident did you restart your node ?\r\n\r\n4) If any of you were running on docker, were you specifying the volume \r\nfor the validator db ?\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/675202937/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/675466010",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/7035#issuecomment-675466010",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/7035",
    "id": 675466010,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY3NTQ2NjAxMA==",
    "user": {
      "login": "alexfisher",
      "id": 176891,
      "node_id": "MDQ6VXNlcjE3Njg5MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/176891?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexfisher",
      "html_url": "https://github.com/alexfisher",
      "followers_url": "https://api.github.com/users/alexfisher/followers",
      "following_url": "https://api.github.com/users/alexfisher/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexfisher/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexfisher/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexfisher/subscriptions",
      "organizations_url": "https://api.github.com/users/alexfisher/orgs",
      "repos_url": "https://api.github.com/users/alexfisher/repos",
      "events_url": "https://api.github.com/users/alexfisher/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexfisher/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-08-18T13:04:38Z",
    "updated_at": "2020-08-18T13:04:38Z",
    "author_association": "NONE",
    "body": "> Hey guys thanks for reporting this, @DigiDr @alexfisher @droconnel22 .\r\n> \r\n> A few questions:\r\n> \r\n> 1. Can you all give more details on how you were running the node ?\r\n>    Ex: Script, Docker, Bazel , etc\r\n\r\nI'm running the node with Docker using a modified fork of the prysm-docker-compose project.\r\n\r\n> 2. Also what is the exact command you guys were using to run the node.\r\n\r\nUsing docker-compose, and command is generated from a couple different configuration files.\r\n\r\n.env\r\n```\r\n#PRYSM_DOCKER_TAG=HEAD-78ec78\r\n#PRYSM_DOCKER_TAG=HEAD-0d7ea3\r\n#PRYSM_DOCKER_TAG=HEAD-d24f99\r\n#PRYSM_DOCKER_TAG=v1.0.0-alpha.21\r\n#PRYSM_DOCKER_TAG=v1.0.0-alpha.22\r\nPRYSM_DOCKER_TAG=v1.0.0-alpha.23\r\n```\r\n\r\ndocker-compose.yaml\r\n\r\n```\r\n       beacon:\r\n                container_name: beacon-chain\r\n                image: gcr.io/prysmaticlabs/prysm/beacon-chain:${PRYSM_DOCKER_TAG}\r\n                restart: always\r\n                hostname: beacon-chain\r\n                depends_on:\r\n                        - geth-goerli\r\n                command: --config-file=/config/beacon.yaml\r\n                ulimits:\r\n                        nofile:\r\n                                soft: 40000\r\n                                hard: 40000\r\n                ports:\r\n                        - 127.0.0.1:4000:4000\r\n                        - 13100:13100/tcp\r\n                        - 12100:12100/udp\r\n                volumes:\r\n                        - ./config/beacon.yaml:/config/beacon.yaml:ro\r\n                        - ./beacon:/data\r\n                <<: *logging\r\n        validator:\r\n                container_name: validator\r\n                image: gcr.io/prysmaticlabs/prysm/validator:${PRYSM_DOCKER_TAG}\r\n                restart: on-failure\r\n                hostname: validator\r\n                depends_on:\r\n                        - beacon\r\n                command: --config-file=/config/validator.yaml\r\n                volumes:\r\n                        - ./config/validator.yaml:/config/validator.yaml:ro\r\n                        - ./validator:/data\r\n                <<: *logging\r\n```\r\n\r\nconfig/beacon.yaml\r\n```\r\n############################################################\r\n##\r\n## Read up on parameters on\r\n## https://docs.prylabs.network/docs/prysm-usage/parameters/\r\n##\r\n############################################################\r\n\r\ndatadir: /data\r\n\r\n#######################\r\n# Connectivity settings\r\np2p-host-ip: \"\"\r\np2p-host-dns: \"\"\r\n\r\nrpc-host: 0.0.0.0\r\nmonitoring-host: 0.0.0.0\r\n\r\n# disable scan of local network\r\np2p-denylist: [\"10.0.0.0/8\",\"172.16.0.0/12\",\"192.168.0.0/16\",\"100.64.0.0/10\",\"169.254.0.0/16\"]\r\n\r\n# changing this also needs to be changed in docker-compose.yaml!\r\np2p-tcp-port: 13100\r\np2p-udp-port: 12100\r\n\r\n# enable db backup endpoint\r\nenable-db-backup-webhook: true\r\n\r\n# Tweaks due to Medalla issues\r\np2p-max-peers: 150\r\nblock-batch-limit: 512\r\n\r\n##############################\r\n# Connection to geth container\r\nhttp-web3provider: http://geth-goerli:8645\r\nweb3provider: ws://geth-goerli:8646\r\n```\r\n\r\nconfig/validator.yaml (some info redacted)\r\n```\r\n############################################################\r\n##\r\n## Read up on parameters on\r\n## https://docs.prylabs.network/docs/prysm-usage/parameters/\r\n##\r\n############################################################\r\n\r\n##############\r\n# Connectivity\r\nbeacon-rpc-provider: beacon:4000\r\nmonitoring-host: 0.0.0.0\r\n\r\n#####################################\r\n# Validator accounts & key management\r\nwallet-dir: XXXXXXXXXXXXXXXXXXX\r\nwallet-password-file: XXXXXXXXXXXXXXXXXXX\r\n\r\n###########\r\n# Fun Stuff\r\ngraffiti: \"XXXXXXXXXXXXXXXXXXX\"\r\n```\r\n\r\nAdmittedly, the above files have been modified since the incident.  \r\n\r\n> 3. During the course of the roughtime incident did you restart your node ?\r\n\r\nYes, immediately updated as soon as the first \"fix\" was released.  And then for the various alpha releases over the last 4 or so days.  Many times to try to keep sync'd.\r\n\r\n> 4. If any of you were running on docker, were you specifying the volume\r\n>    for the validator db ?\r\n\r\nSpecifying locations for validator data volume.\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/675466010/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/675518865",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/7035#issuecomment-675518865",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/7035",
    "id": 675518865,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY3NTUxODg2NQ==",
    "user": {
      "login": "droconnel22",
      "id": 4054346,
      "node_id": "MDQ6VXNlcjQwNTQzNDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4054346?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/droconnel22",
      "html_url": "https://github.com/droconnel22",
      "followers_url": "https://api.github.com/users/droconnel22/followers",
      "following_url": "https://api.github.com/users/droconnel22/following{/other_user}",
      "gists_url": "https://api.github.com/users/droconnel22/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/droconnel22/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/droconnel22/subscriptions",
      "organizations_url": "https://api.github.com/users/droconnel22/orgs",
      "repos_url": "https://api.github.com/users/droconnel22/repos",
      "events_url": "https://api.github.com/users/droconnel22/events{/privacy}",
      "received_events_url": "https://api.github.com/users/droconnel22/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-08-18T14:39:13Z",
    "updated_at": "2020-08-18T14:39:13Z",
    "author_association": "NONE",
    "body": "> Hey guys thanks for reporting this, @DigiDr @alexfisher @droconnel22 .\r\n> \r\n> A few questions:\r\n> \r\n> 1. Can you all give more details on how you were running the node ?\r\n>    Ex: Script, Docker, Bazel , etc\r\n\r\nDocker on Ubuntu 18\r\n\r\n> 2. Also what is the exact command you guys were using to run the node.\r\n\r\n```\r\ndocker run  --name beacon-node-medalla -d --restart always -it -v $HOME/.eth2:/data -p 4000:4000 -p 13000:13000 -p 12000:12000/udp  \\\r\n  gcr.io/prysmaticlabs/prysm/beacon-chain:latest \\\r\n  --datadir=/data \\\r\n  --rpc-host=0.0.0.0 \\\r\n  --monitoring-host=0.0.0.0 \\\r\n --p2p-max-peers=300\r\n\r\n```\r\n\r\n> 3. During the course of the roughtime incident did you restart your node ?\r\n\r\nYes, for each release from Alpha v.20 to v.21, the rollback to v.20, then v.21 to v.23\r\n\r\n> 4. If any of you were running on docker, were you specifying the volume\r\n>    for the validator db ?\r\n\r\nI ran the validator as this:\r\n```\r\ndocker run --name validator-node-medalla-4  --restart always -it -v $HOME/Eth2Validators/prysm-wallet-v2:/wallet --network=\"host\" \\\r\n  -v $HOME/Eth2Validators/prysm-wallet-v2-passwords:/eth2passwords \\\r\n  gcr.io/prysmaticlabs/prysm/validator:latest \\\r\n  --beacon-rpc-provider=127.0.0.1:4000 \\\r\n  --wallet-dir=/wallet \\\r\n  --passwords-dir=/eth2passwords \\\r\n  --graffiti=\"poapB7OfT95KOLrOIStUbayHxY3+P9wA\"\r\n```\r\n\r\n\r\n\r\n\r\n ",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/675518865/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/684929972",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/7035#issuecomment-684929972",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/7035",
    "id": 684929972,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY4NDkyOTk3Mg==",
    "user": {
      "login": "terencechain",
      "id": 21316537,
      "node_id": "MDQ6VXNlcjIxMzE2NTM3",
      "avatar_url": "https://avatars.githubusercontent.com/u/21316537?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/terencechain",
      "html_url": "https://github.com/terencechain",
      "followers_url": "https://api.github.com/users/terencechain/followers",
      "following_url": "https://api.github.com/users/terencechain/following{/other_user}",
      "gists_url": "https://api.github.com/users/terencechain/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/terencechain/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/terencechain/subscriptions",
      "organizations_url": "https://api.github.com/users/terencechain/orgs",
      "repos_url": "https://api.github.com/users/terencechain/repos",
      "events_url": "https://api.github.com/users/terencechain/events{/privacy}",
      "received_events_url": "https://api.github.com/users/terencechain/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-09-01T15:15:06Z",
    "updated_at": "2020-09-01T15:15:06Z",
    "author_association": "MEMBER",
    "body": "Closing this as we have collected all the information and this hasn't been active for 2 weeks",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/684929972/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
