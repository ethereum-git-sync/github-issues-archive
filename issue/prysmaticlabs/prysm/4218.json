{
  "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/4218",
  "repository_url": "https://api.github.com/repos/prysmaticlabs/prysm",
  "labels_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/4218/labels{/name}",
  "comments_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/4218/comments",
  "events_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/4218/events",
  "html_url": "https://github.com/prysmaticlabs/prysm/issues/4218",
  "id": 534399637,
  "node_id": "MDU6SXNzdWU1MzQzOTk2Mzc=",
  "number": 4218,
  "title": "Latest beacon client produces duplicate log entries",
  "user": {
    "login": "torfbolt",
    "id": 233423,
    "node_id": "MDQ6VXNlcjIzMzQyMw==",
    "avatar_url": "https://avatars.githubusercontent.com/u/233423?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/torfbolt",
    "html_url": "https://github.com/torfbolt",
    "followers_url": "https://api.github.com/users/torfbolt/followers",
    "following_url": "https://api.github.com/users/torfbolt/following{/other_user}",
    "gists_url": "https://api.github.com/users/torfbolt/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/torfbolt/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/torfbolt/subscriptions",
    "organizations_url": "https://api.github.com/users/torfbolt/orgs",
    "repos_url": "https://api.github.com/users/torfbolt/repos",
    "events_url": "https://api.github.com/users/torfbolt/events{/privacy}",
    "received_events_url": "https://api.github.com/users/torfbolt/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 1085357069,
      "node_id": "MDU6TGFiZWwxMDg1MzU3MDY5",
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/labels/Priority:%20High",
      "name": "Priority: High",
      "color": "f7ea26",
      "default": false,
      "description": "High priority item"
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": {
    "login": "terencechain",
    "id": 21316537,
    "node_id": "MDQ6VXNlcjIxMzE2NTM3",
    "avatar_url": "https://avatars.githubusercontent.com/u/21316537?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/terencechain",
    "html_url": "https://github.com/terencechain",
    "followers_url": "https://api.github.com/users/terencechain/followers",
    "following_url": "https://api.github.com/users/terencechain/following{/other_user}",
    "gists_url": "https://api.github.com/users/terencechain/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/terencechain/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/terencechain/subscriptions",
    "organizations_url": "https://api.github.com/users/terencechain/orgs",
    "repos_url": "https://api.github.com/users/terencechain/repos",
    "events_url": "https://api.github.com/users/terencechain/events{/privacy}",
    "received_events_url": "https://api.github.com/users/terencechain/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "terencechain",
      "id": 21316537,
      "node_id": "MDQ6VXNlcjIxMzE2NTM3",
      "avatar_url": "https://avatars.githubusercontent.com/u/21316537?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/terencechain",
      "html_url": "https://github.com/terencechain",
      "followers_url": "https://api.github.com/users/terencechain/followers",
      "following_url": "https://api.github.com/users/terencechain/following{/other_user}",
      "gists_url": "https://api.github.com/users/terencechain/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/terencechain/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/terencechain/subscriptions",
      "organizations_url": "https://api.github.com/users/terencechain/orgs",
      "repos_url": "https://api.github.com/users/terencechain/repos",
      "events_url": "https://api.github.com/users/terencechain/events{/privacy}",
      "received_events_url": "https://api.github.com/users/terencechain/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 13,
  "created_at": "2019-12-07T13:04:32Z",
  "updated_at": "2019-12-26T17:14:10Z",
  "closed_at": "2019-12-26T17:14:09Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "The latest client versions seem to log some (not all) of the messages twice:\r\n\r\n```\r\n[2019-12-07 12:54:04]  INFO forkchoice: Executing state transition on block root=0x40023cd3... slot=186130\r\n[2019-12-07 12:54:04]  INFO forkchoice: Executing state transition on block root=0x40023cd3... slot=186130\r\n[2019-12-07 12:54:04]  INFO blockchain: Finished applying state transition attestations=4 deposits=0 slot=186130\r\n[2019-12-07 12:54:04]  INFO blockchain: Finished applying state transition attestations=4 deposits=0 slot=186130\r\n[2019-12-07 12:54:15]  INFO forkchoice: Executing state transition on block root=0x95a2c9b9... slot=186131\r\n[2019-12-07 12:54:15]  INFO blockchain: Finished applying state transition attestations=5 deposits=0 slot=186131\r\n[2019-12-07 12:54:29]  INFO forkchoice: Executing state transition on block root=0xdf05a783... slot=186132\r\n[2019-12-07 12:54:29]  INFO blockchain: Finished applying state transition attestations=4 deposits=0 slot=186132\r\n[2019-12-07 12:54:40]  INFO forkchoice: Executing state transition on block root=0xff3f00ba... slot=186133\r\n[2019-12-07 12:54:41]  INFO blockchain: Finished applying state transition attestations=5 deposits=0 slot=186133\r\n[2019-12-07 12:54:51]  INFO forkchoice: Executing state transition on block root=0x82083571... slot=186134\r\n[2019-12-07 12:54:51]  INFO forkchoice: Executing state transition on block root=0x82083571... slot=186134\r\n[2019-12-07 12:54:51]  INFO blockchain: Finished applying state transition attestations=4 deposits=0 slot=186134\r\n[2019-12-07 12:54:51]  INFO blockchain: Finished applying state transition attestations=4 deposits=0 slot=186134\r\n[2019-12-07 12:55:04]  INFO forkchoice: Executing state transition on block root=0x33357dbf... slot=186135\r\n[2019-12-07 12:55:04]  INFO forkchoice: Executing state transition on block root=0x33357dbf... slot=186135\r\n[2019-12-07 12:55:04]  INFO blockchain: Finished applying state transition attestations=5 deposits=0 slot=186135\r\n[2019-12-07 12:55:04]  INFO blockchain: Finished applying state transition attestations=5 deposits=0 slot=186135\r\n[2019-12-07 12:55:16]  INFO forkchoice: Executing state transition on block root=0x16a7be2a... slot=186136\r\n[2019-12-07 12:55:16]  INFO forkchoice: Executing state transition on block root=0x16a7be2a... slot=186136\r\n[2019-12-07 12:55:17]  INFO forkchoice: Starting next epoch epoch=23267 finalizedEpoch=23265 justifiedEpoch=23266 previousJustifiedEpoch=23265\r\n[2019-12-07 12:55:17]  INFO forkchoice: Validator registry information activeValidators=521 averageBalance=4.57855 ETH totalValidators=751\r\n[2019-12-07 12:55:17]  INFO forkchoice: Starting next epoch epoch=23267 finalizedEpoch=23265 justifiedEpoch=23266 previousJustifiedEpoch=23265\r\n[2019-12-07 12:55:17]  INFO forkchoice: Validator registry information activeValidators=521 averageBalance=4.57855 ETH totalValidators=751\r\n\r\n```\r\n\r\nMinor issue, but maybe an indication of something that might be causing other bugs. Feel free to close as wontfix.",
  "closed_by": {
    "login": "rauljordan",
    "id": 5572669,
    "node_id": "MDQ6VXNlcjU1NzI2Njk=",
    "avatar_url": "https://avatars.githubusercontent.com/u/5572669?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/rauljordan",
    "html_url": "https://github.com/rauljordan",
    "followers_url": "https://api.github.com/users/rauljordan/followers",
    "following_url": "https://api.github.com/users/rauljordan/following{/other_user}",
    "gists_url": "https://api.github.com/users/rauljordan/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/rauljordan/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/rauljordan/subscriptions",
    "organizations_url": "https://api.github.com/users/rauljordan/orgs",
    "repos_url": "https://api.github.com/users/rauljordan/repos",
    "events_url": "https://api.github.com/users/rauljordan/events{/privacy}",
    "received_events_url": "https://api.github.com/users/rauljordan/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/4218/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/4218/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/564105905",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/4218#issuecomment-564105905",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/4218",
    "id": 564105905,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU2NDEwNTkwNQ==",
    "user": {
      "login": "prestonvanloon",
      "id": 7246818,
      "node_id": "MDQ6VXNlcjcyNDY4MTg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7246818?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/prestonvanloon",
      "html_url": "https://github.com/prestonvanloon",
      "followers_url": "https://api.github.com/users/prestonvanloon/followers",
      "following_url": "https://api.github.com/users/prestonvanloon/following{/other_user}",
      "gists_url": "https://api.github.com/users/prestonvanloon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/prestonvanloon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/prestonvanloon/subscriptions",
      "organizations_url": "https://api.github.com/users/prestonvanloon/orgs",
      "repos_url": "https://api.github.com/users/prestonvanloon/repos",
      "events_url": "https://api.github.com/users/prestonvanloon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/prestonvanloon/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-12-10T16:08:55Z",
    "updated_at": "2019-12-10T16:08:55Z",
    "author_association": "MEMBER",
    "body": "Interesting. This could mean that the same routine is running twice. Is this still producible? \r\n\r\ncc: @terencechain ",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/564105905/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/564108971",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/4218#issuecomment-564108971",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/4218",
    "id": 564108971,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU2NDEwODk3MQ==",
    "user": {
      "login": "terencechain",
      "id": 21316537,
      "node_id": "MDQ6VXNlcjIxMzE2NTM3",
      "avatar_url": "https://avatars.githubusercontent.com/u/21316537?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/terencechain",
      "html_url": "https://github.com/terencechain",
      "followers_url": "https://api.github.com/users/terencechain/followers",
      "following_url": "https://api.github.com/users/terencechain/following{/other_user}",
      "gists_url": "https://api.github.com/users/terencechain/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/terencechain/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/terencechain/subscriptions",
      "organizations_url": "https://api.github.com/users/terencechain/orgs",
      "repos_url": "https://api.github.com/users/terencechain/repos",
      "events_url": "https://api.github.com/users/terencechain/events{/privacy}",
      "received_events_url": "https://api.github.com/users/terencechain/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-12-10T16:15:26Z",
    "updated_at": "2019-12-10T16:15:26Z",
    "author_association": "MEMBER",
    "body": "Reproduced on my local node syncing with cluster. Will look into this today",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/564108971/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/565576730",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/4218#issuecomment-565576730",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/4218",
    "id": 565576730,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU2NTU3NjczMA==",
    "user": {
      "login": "terencechain",
      "id": 21316537,
      "node_id": "MDQ6VXNlcjIxMzE2NTM3",
      "avatar_url": "https://avatars.githubusercontent.com/u/21316537?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/terencechain",
      "html_url": "https://github.com/terencechain",
      "followers_url": "https://api.github.com/users/terencechain/followers",
      "following_url": "https://api.github.com/users/terencechain/following{/other_user}",
      "gists_url": "https://api.github.com/users/terencechain/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/terencechain/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/terencechain/subscriptions",
      "organizations_url": "https://api.github.com/users/terencechain/orgs",
      "repos_url": "https://api.github.com/users/terencechain/repos",
      "events_url": "https://api.github.com/users/terencechain/events{/privacy}",
      "received_events_url": "https://api.github.com/users/terencechain/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-12-13T19:28:35Z",
    "updated_at": "2019-12-13T19:28:48Z",
    "author_association": "MEMBER",
    "body": "Looked into this. Ristretto cache isn't working as expected. Duplicated blocks and attestations pass through the following checks\r\n\r\n```go\r\nif _, ok := recentlySeenRoots.Get(string(blockRoot[:])); ok || r.db.HasBlock(ctx, blockRoot) {\r\n\treturn false, nil\r\n}\r\nrecentlySeenRoots.Set(string(blockRoot[:]), true /*value*/, 1 /*cost*/)\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/565576730/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/565576841",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/4218#issuecomment-565576841",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/4218",
    "id": 565576841,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU2NTU3Njg0MQ==",
    "user": {
      "login": "terencechain",
      "id": 21316537,
      "node_id": "MDQ6VXNlcjIxMzE2NTM3",
      "avatar_url": "https://avatars.githubusercontent.com/u/21316537?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/terencechain",
      "html_url": "https://github.com/terencechain",
      "followers_url": "https://api.github.com/users/terencechain/followers",
      "following_url": "https://api.github.com/users/terencechain/following{/other_user}",
      "gists_url": "https://api.github.com/users/terencechain/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/terencechain/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/terencechain/subscriptions",
      "organizations_url": "https://api.github.com/users/terencechain/orgs",
      "repos_url": "https://api.github.com/users/terencechain/repos",
      "events_url": "https://api.github.com/users/terencechain/events{/privacy}",
      "received_events_url": "https://api.github.com/users/terencechain/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-12-13T19:28:53Z",
    "updated_at": "2019-12-13T19:28:53Z",
    "author_association": "MEMBER",
    "body": "cc @prestonvanloon ",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/565576841/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/565580542",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/4218#issuecomment-565580542",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/4218",
    "id": 565580542,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU2NTU4MDU0Mg==",
    "user": {
      "login": "prestonvanloon",
      "id": 7246818,
      "node_id": "MDQ6VXNlcjcyNDY4MTg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7246818?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/prestonvanloon",
      "html_url": "https://github.com/prestonvanloon",
      "followers_url": "https://api.github.com/users/prestonvanloon/followers",
      "following_url": "https://api.github.com/users/prestonvanloon/following{/other_user}",
      "gists_url": "https://api.github.com/users/prestonvanloon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/prestonvanloon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/prestonvanloon/subscriptions",
      "organizations_url": "https://api.github.com/users/prestonvanloon/orgs",
      "repos_url": "https://api.github.com/users/prestonvanloon/repos",
      "events_url": "https://api.github.com/users/prestonvanloon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/prestonvanloon/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-12-13T19:39:24Z",
    "updated_at": "2019-12-13T19:39:24Z",
    "author_association": "MEMBER",
    "body": "We need a regression test to validate this theory. Is the cache being\npruned?\n",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/565580542/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/565581738",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/4218#issuecomment-565581738",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/4218",
    "id": 565581738,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU2NTU4MTczOA==",
    "user": {
      "login": "terencechain",
      "id": 21316537,
      "node_id": "MDQ6VXNlcjIxMzE2NTM3",
      "avatar_url": "https://avatars.githubusercontent.com/u/21316537?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/terencechain",
      "html_url": "https://github.com/terencechain",
      "followers_url": "https://api.github.com/users/terencechain/followers",
      "following_url": "https://api.github.com/users/terencechain/following{/other_user}",
      "gists_url": "https://api.github.com/users/terencechain/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/terencechain/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/terencechain/subscriptions",
      "organizations_url": "https://api.github.com/users/terencechain/orgs",
      "repos_url": "https://api.github.com/users/terencechain/repos",
      "events_url": "https://api.github.com/users/terencechain/events{/privacy}",
      "received_events_url": "https://api.github.com/users/terencechain/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-12-13T19:42:40Z",
    "updated_at": "2019-12-13T19:42:40Z",
    "author_association": "MEMBER",
    "body": "> We need a regression test to validate this theory. Is the cache being pruned?\r\n\r\nI verified run time. There's always one of the same object that gets through 25% of the time. What do you recommend for regression testing this type of intermittent issue? ",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/565581738/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/565600338",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/4218#issuecomment-565600338",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/4218",
    "id": 565600338,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU2NTYwMDMzOA==",
    "user": {
      "login": "torfbolt",
      "id": 233423,
      "node_id": "MDQ6VXNlcjIzMzQyMw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/233423?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/torfbolt",
      "html_url": "https://github.com/torfbolt",
      "followers_url": "https://api.github.com/users/torfbolt/followers",
      "following_url": "https://api.github.com/users/torfbolt/following{/other_user}",
      "gists_url": "https://api.github.com/users/torfbolt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/torfbolt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/torfbolt/subscriptions",
      "organizations_url": "https://api.github.com/users/torfbolt/orgs",
      "repos_url": "https://api.github.com/users/torfbolt/repos",
      "events_url": "https://api.github.com/users/torfbolt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/torfbolt/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-12-13T20:38:12Z",
    "updated_at": "2019-12-13T20:38:12Z",
    "author_association": "NONE",
    "body": "If the info helps, I have sometimes seen triple and even quadruple log entries. ",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/565600338/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/565601300",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/4218#issuecomment-565601300",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/4218",
    "id": 565601300,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU2NTYwMTMwMA==",
    "user": {
      "login": "prestonvanloon",
      "id": 7246818,
      "node_id": "MDQ6VXNlcjcyNDY4MTg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7246818?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/prestonvanloon",
      "html_url": "https://github.com/prestonvanloon",
      "followers_url": "https://api.github.com/users/prestonvanloon/followers",
      "following_url": "https://api.github.com/users/prestonvanloon/following{/other_user}",
      "gists_url": "https://api.github.com/users/prestonvanloon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/prestonvanloon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/prestonvanloon/subscriptions",
      "organizations_url": "https://api.github.com/users/prestonvanloon/orgs",
      "repos_url": "https://api.github.com/users/prestonvanloon/repos",
      "events_url": "https://api.github.com/users/prestonvanloon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/prestonvanloon/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-12-13T20:41:22Z",
    "updated_at": "2019-12-13T20:41:22Z",
    "author_association": "MEMBER",
    "body": "Any unit test that proves this theory. Do multiple identical objects miss\nthe cache? How what is the root cause?\n",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/565601300/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/565602854",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/4218#issuecomment-565602854",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/4218",
    "id": 565602854,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU2NTYwMjg1NA==",
    "user": {
      "login": "terencechain",
      "id": 21316537,
      "node_id": "MDQ6VXNlcjIxMzE2NTM3",
      "avatar_url": "https://avatars.githubusercontent.com/u/21316537?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/terencechain",
      "html_url": "https://github.com/terencechain",
      "followers_url": "https://api.github.com/users/terencechain/followers",
      "following_url": "https://api.github.com/users/terencechain/following{/other_user}",
      "gists_url": "https://api.github.com/users/terencechain/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/terencechain/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/terencechain/subscriptions",
      "organizations_url": "https://api.github.com/users/terencechain/orgs",
      "repos_url": "https://api.github.com/users/terencechain/repos",
      "events_url": "https://api.github.com/users/terencechain/events{/privacy}",
      "received_events_url": "https://api.github.com/users/terencechain/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-12-13T20:46:34Z",
    "updated_at": "2019-12-13T20:46:34Z",
    "author_association": "MEMBER",
    "body": "So far unable to reproduce via unit test",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/565602854/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/565648151",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/4218#issuecomment-565648151",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/4218",
    "id": 565648151,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU2NTY0ODE1MQ==",
    "user": {
      "login": "terencechain",
      "id": 21316537,
      "node_id": "MDQ6VXNlcjIxMzE2NTM3",
      "avatar_url": "https://avatars.githubusercontent.com/u/21316537?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/terencechain",
      "html_url": "https://github.com/terencechain",
      "followers_url": "https://api.github.com/users/terencechain/followers",
      "following_url": "https://api.github.com/users/terencechain/following{/other_user}",
      "gists_url": "https://api.github.com/users/terencechain/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/terencechain/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/terencechain/subscriptions",
      "organizations_url": "https://api.github.com/users/terencechain/orgs",
      "repos_url": "https://api.github.com/users/terencechain/repos",
      "events_url": "https://api.github.com/users/terencechain/events{/privacy}",
      "received_events_url": "https://api.github.com/users/terencechain/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-12-13T23:27:34Z",
    "updated_at": "2019-12-13T23:27:34Z",
    "author_association": "MEMBER",
    "body": "Sorry I haven't been able to spend much time on it due to v0.9.2 and addressing cache feedback. Will spend more time on it this weekend",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/565648151/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/565734240",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/4218#issuecomment-565734240",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/4218",
    "id": 565734240,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU2NTczNDI0MA==",
    "user": {
      "login": "prestonvanloon",
      "id": 7246818,
      "node_id": "MDQ6VXNlcjcyNDY4MTg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7246818?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/prestonvanloon",
      "html_url": "https://github.com/prestonvanloon",
      "followers_url": "https://api.github.com/users/prestonvanloon/followers",
      "following_url": "https://api.github.com/users/prestonvanloon/following{/other_user}",
      "gists_url": "https://api.github.com/users/prestonvanloon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/prestonvanloon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/prestonvanloon/subscriptions",
      "organizations_url": "https://api.github.com/users/prestonvanloon/orgs",
      "repos_url": "https://api.github.com/users/prestonvanloon/repos",
      "events_url": "https://api.github.com/users/prestonvanloon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/prestonvanloon/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-12-14T16:59:19Z",
    "updated_at": "2019-12-14T16:59:42Z",
    "author_association": "MEMBER",
    "body": "We discussed this a bit offline. There are two parts message de-duplication. The application layer, which is outlined in this issue, checks the hash tree root of the object and if the application has seen that particular object already. The second part of de-duplication is pubsub message IDs. We currently aren’t using libp2p pubsub validation pipeline because it would require deserializing the message at least twice. As a result, any messages that are propagated forward in our regular sync will appear as new pubsub messages with new IDs. \r\n\r\nGiven that we can’t write a regression test for hash tree root checking for identical objects, this may be a problem with cache eviction, race conditions, or other problems. \r\n\r\nAction items here are:\r\n- Resolve the issue outlined here, something isn’t right to allow multiple identical messages to pass this validation. \r\n- Fork gossipsub validation pipeline to reuse existing message IDs for propagation ",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/565734240/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/568713440",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/4218#issuecomment-568713440",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/4218",
    "id": 568713440,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU2ODcxMzQ0MA==",
    "user": {
      "login": "torfbolt",
      "id": 233423,
      "node_id": "MDQ6VXNlcjIzMzQyMw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/233423?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/torfbolt",
      "html_url": "https://github.com/torfbolt",
      "followers_url": "https://api.github.com/users/torfbolt/followers",
      "following_url": "https://api.github.com/users/torfbolt/following{/other_user}",
      "gists_url": "https://api.github.com/users/torfbolt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/torfbolt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/torfbolt/subscriptions",
      "organizations_url": "https://api.github.com/users/torfbolt/orgs",
      "repos_url": "https://api.github.com/users/torfbolt/repos",
      "events_url": "https://api.github.com/users/torfbolt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/torfbolt/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-12-24T10:05:53Z",
    "updated_at": "2019-12-24T10:05:53Z",
    "author_association": "NONE",
    "body": "Haven't seen this again for a few days. Do you think #4319 fixed it?\r\n\r\nCan we close this? My guess from @terencechain 's comments would be that it's hard and probably not worth the effort to try and write a test case for this.",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/568713440/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/569094368",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/4218#issuecomment-569094368",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/4218",
    "id": 569094368,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU2OTA5NDM2OA==",
    "user": {
      "login": "rauljordan",
      "id": 5572669,
      "node_id": "MDQ6VXNlcjU1NzI2Njk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5572669?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rauljordan",
      "html_url": "https://github.com/rauljordan",
      "followers_url": "https://api.github.com/users/rauljordan/followers",
      "following_url": "https://api.github.com/users/rauljordan/following{/other_user}",
      "gists_url": "https://api.github.com/users/rauljordan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rauljordan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rauljordan/subscriptions",
      "organizations_url": "https://api.github.com/users/rauljordan/orgs",
      "repos_url": "https://api.github.com/users/rauljordan/repos",
      "events_url": "https://api.github.com/users/rauljordan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rauljordan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-12-26T17:14:09Z",
    "updated_at": "2019-12-26T17:14:09Z",
    "author_association": "CONTRIBUTOR",
    "body": "I have not observed this today with latest master after syncing to head - closing unless it comes up again",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/569094368/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
