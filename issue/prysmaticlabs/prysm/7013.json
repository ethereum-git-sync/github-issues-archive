{
  "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/7013",
  "repository_url": "https://api.github.com/repos/prysmaticlabs/prysm",
  "labels_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/7013/labels{/name}",
  "comments_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/7013/comments",
  "events_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/7013/events",
  "html_url": "https://github.com/prysmaticlabs/prysm/issues/7013",
  "id": 679776820,
  "node_id": "MDU6SXNzdWU2Nzk3NzY4MjA=",
  "number": 7013,
  "title": "Validator segfault",
  "user": {
    "login": "Bobface",
    "id": 10945014,
    "node_id": "MDQ6VXNlcjEwOTQ1MDE0",
    "avatar_url": "https://avatars.githubusercontent.com/u/10945014?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/Bobface",
    "html_url": "https://github.com/Bobface",
    "followers_url": "https://api.github.com/users/Bobface/followers",
    "following_url": "https://api.github.com/users/Bobface/following{/other_user}",
    "gists_url": "https://api.github.com/users/Bobface/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/Bobface/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/Bobface/subscriptions",
    "organizations_url": "https://api.github.com/users/Bobface/orgs",
    "repos_url": "https://api.github.com/users/Bobface/repos",
    "events_url": "https://api.github.com/users/Bobface/events{/privacy}",
    "received_events_url": "https://api.github.com/users/Bobface/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": {
    "login": "0xKiwi",
    "id": 6251510,
    "node_id": "MDQ6VXNlcjYyNTE1MTA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6251510?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/0xKiwi",
    "html_url": "https://github.com/0xKiwi",
    "followers_url": "https://api.github.com/users/0xKiwi/followers",
    "following_url": "https://api.github.com/users/0xKiwi/following{/other_user}",
    "gists_url": "https://api.github.com/users/0xKiwi/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/0xKiwi/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/0xKiwi/subscriptions",
    "organizations_url": "https://api.github.com/users/0xKiwi/orgs",
    "repos_url": "https://api.github.com/users/0xKiwi/repos",
    "events_url": "https://api.github.com/users/0xKiwi/events{/privacy}",
    "received_events_url": "https://api.github.com/users/0xKiwi/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "0xKiwi",
      "id": 6251510,
      "node_id": "MDQ6VXNlcjYyNTE1MTA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6251510?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/0xKiwi",
      "html_url": "https://github.com/0xKiwi",
      "followers_url": "https://api.github.com/users/0xKiwi/followers",
      "following_url": "https://api.github.com/users/0xKiwi/following{/other_user}",
      "gists_url": "https://api.github.com/users/0xKiwi/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/0xKiwi/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/0xKiwi/subscriptions",
      "organizations_url": "https://api.github.com/users/0xKiwi/orgs",
      "repos_url": "https://api.github.com/users/0xKiwi/repos",
      "events_url": "https://api.github.com/users/0xKiwi/events{/privacy}",
      "received_events_url": "https://api.github.com/users/0xKiwi/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2020-08-16T15:46:16Z",
  "updated_at": "2020-08-19T16:08:24Z",
  "closed_at": "2020-08-19T16:08:24Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "<!--üíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíé\r\n\r\nHellooo! üòÑ \r\n\r\nTo help us tend to your issue faster, please search our currently open issues before submitting a new one.\r\nExisting issues often contain information about workarounds, resolution, or progress updates.\r\n\r\nüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíéüíé-->\r\n\r\n# üêû Bug Report\r\n\r\n### Description\r\n\r\nThe validator crashed after some time.\r\nGit commit `859e59b6f7aa1eddc1f7abe359fd853b8f32a2cf`\r\n\r\n## üî• Error\r\n\r\n```\r\n....\r\n[2020-08-14 19:59:01] ERROR validator: Could not request attestation to sign at slot error=rpc error: code = InvalidArgument desc = invalid request: attestation slot 74638 not within attestation propagation range of 74662 to 74694 (current slot) pubKey=0xb6d4b447520b slot=74638\r\n[2020-08-14 19:59:01]  INFO validator: Previous epoch voting summary correctlyVotedHead=false correctlyVotedSource=false correctlyVotedTarget=false epoch=2332 inclusionDistance=18446744073709551615 inclusionSlot=18446744073709551615 newBalance=32.072238056 oldBalance=32.072437218 percentChange=-0.00062% percentChangeSinceStart=0.22574% pubKey=0xb6d4b447520b startBalance=32\r\n[2020-08-14 19:59:01]  INFO validator: Previous epoch aggregated voting summary attestationInclusionPct=0% correctlyVotedHeadPct=NaN% correctlyVotedSourcePct=NaN% correctlyVotedTargetPct=NaN% epoch=2332\r\n[2020-08-14 19:59:01]  INFO validator: Vote summary since launch attestationsInclusionPct=95% averageInclusionDistance=1.38 slots correctlyVotedHeadPct=99% correctlyVotedSourcePct=100% correctlyVotedTargetPct=100% numberOfEpochs=1472 pctChangeCombinedBalance=0.22637%\r\n[2020-08-14 19:59:01]  INFO validator: Attestation schedule attesters=1 pubKeys=[0xb6d4b447520b] slot=74685\r\n[2020-08-14 19:59:02]  INFO validator: Previous epoch voting summary correctlyVotedHead=false correctlyVotedSource=false correctlyVotedTarget=false epoch=2333 inclusionDistance=18446744073709551615 inclusionSlot=18446744073709551615 newBalance=32.072238056 oldBalance=32.072437218 percentChange=-0.00062% percentChangeSinceStart=0.22574% pubKey=0xb6d4b447520b startBalance=32\r\n[2020-08-14 19:59:02]  INFO validator: Previous epoch aggregated voting summary attestationInclusionPct=0% correctlyVotedHeadPct=NaN% correctlyVotedSourcePct=NaN% correctlyVotedTargetPct=NaN% epoch=2333\r\n[2020-08-14 19:59:02]  INFO validator: Vote summary since launch attestationsInclusionPct=95% averageInclusionDistance=1.38 slots correctlyVotedHeadPct=99% correctlyVotedSourcePct=100% correctlyVotedTargetPct=100% numberOfEpochs=1473 pctChangeCombinedBalance=0.22637%\r\n[2020-08-14 19:59:02]  INFO validator: Attestation schedule attesters=1 pubKeys=[0xb6d4b447520b] slot=74709\r\npanic: runtime error: invalid memory address or nil pointer dereference\r\n[signal SIGSEGV: segmentation violation code=0x1 addr=0x8 pc=0x1186808]\r\n\r\ngoroutine 144604 [running]:\r\ngithub.com/prysmaticlabs/prysm/validator/client.isNewAttSlashable(0x0, 0x8f2, 0x91d, 0x2537140)\r\n        validator/client/attest_protect.go:71 +0x38\r\ngithub.com/prysmaticlabs/prysm/validator/client.(*validator).preAttSignValidations(0xc0001266e0, 0x195a5e0, 0xc00185c570, 0xc001d8bf80, 0xb0880b5247b4d4b6, 0xa64eccf4eeabed3a, 0x23fba5c9c2cd5c4c, 0x1f15ce36258c2dc1, 0x78363613e0fa3edf, 0xde12d9dd667fbb28, ...)\r\n        validator/client/attest_protect.go:24 +0x1d9\r\ngithub.com/prysmaticlabs/prysm/validator/client.(*validator).SubmitAttestation(0xc0001266e0, 0x195a5e0, 0xc00185c570, 0x123bd, 0xb0880b5247b4d4b6, 0xa64eccf4eeabed3a, 0x23fba5c9c2cd5c4c, 0x1f15ce36258c2dc1, 0x78363613e0fa3edf, 0xde12d9dd667fbb28)\r\n        validator/client/attest.go:69 +0xc59\r\ngithub.com/prysmaticlabs/prysm/validator/client.run.func1(0xc0019187f0, 0x1971820, 0xc0001266e0, 0x195a5a0, 0xc001dc5d40, 0x123bd, 0xc0017da770, 0x880b5247b4d4b601, 0x4eccf4eeabed3ab0, 0xfba5c9c2cd5c4ca6, ...)\r\n        validator/client/runner.go:133 +0x1ea\r\ncreated by github.com/prysmaticlabs/prysm/validator/client.run\r\n        validator/client/runner.go:129 +0xd76\r\n```\r\n\r\n## üåç  Your Environment\r\n\r\n**Operating System:**\r\n\r\nUbuntu 20.04\r\n\r\n**What version of Prysm are you running? (Which release)**\r\nGit commit `859e59b6f7aa1eddc1f7abe359fd853b8f32a2cf`",
  "closed_by": {
    "login": "0xKiwi",
    "id": 6251510,
    "node_id": "MDQ6VXNlcjYyNTE1MTA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6251510?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/0xKiwi",
    "html_url": "https://github.com/0xKiwi",
    "followers_url": "https://api.github.com/users/0xKiwi/followers",
    "following_url": "https://api.github.com/users/0xKiwi/following{/other_user}",
    "gists_url": "https://api.github.com/users/0xKiwi/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/0xKiwi/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/0xKiwi/subscriptions",
    "organizations_url": "https://api.github.com/users/0xKiwi/orgs",
    "repos_url": "https://api.github.com/users/0xKiwi/repos",
    "events_url": "https://api.github.com/users/0xKiwi/events{/privacy}",
    "received_events_url": "https://api.github.com/users/0xKiwi/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/7013/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/7013/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/674948976",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/7013#issuecomment-674948976",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/7013",
    "id": 674948976,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY3NDk0ODk3Ng==",
    "user": {
      "login": "0xKiwi",
      "id": 6251510,
      "node_id": "MDQ6VXNlcjYyNTE1MTA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6251510?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/0xKiwi",
      "html_url": "https://github.com/0xKiwi",
      "followers_url": "https://api.github.com/users/0xKiwi/followers",
      "following_url": "https://api.github.com/users/0xKiwi/following{/other_user}",
      "gists_url": "https://api.github.com/users/0xKiwi/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/0xKiwi/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/0xKiwi/subscriptions",
      "organizations_url": "https://api.github.com/users/0xKiwi/orgs",
      "repos_url": "https://api.github.com/users/0xKiwi/repos",
      "events_url": "https://api.github.com/users/0xKiwi/events{/privacy}",
      "received_events_url": "https://api.github.com/users/0xKiwi/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-08-17T15:28:12Z",
    "updated_at": "2020-08-17T15:28:12Z",
    "author_association": "CONTRIBUTOR",
    "body": "Hello @Bobface , thank you for reporting this issue.\r\n\r\nThe commit you have reported to be running is pretty old, would you mind trying again from the latest head? The problem shouldn't be occurring anymore.",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/674948976/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/675303745",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/7013#issuecomment-675303745",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/7013",
    "id": 675303745,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY3NTMwMzc0NQ==",
    "user": {
      "login": "Bobface",
      "id": 10945014,
      "node_id": "MDQ6VXNlcjEwOTQ1MDE0",
      "avatar_url": "https://avatars.githubusercontent.com/u/10945014?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Bobface",
      "html_url": "https://github.com/Bobface",
      "followers_url": "https://api.github.com/users/Bobface/followers",
      "following_url": "https://api.github.com/users/Bobface/following{/other_user}",
      "gists_url": "https://api.github.com/users/Bobface/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Bobface/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Bobface/subscriptions",
      "organizations_url": "https://api.github.com/users/Bobface/orgs",
      "repos_url": "https://api.github.com/users/Bobface/repos",
      "events_url": "https://api.github.com/users/Bobface/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Bobface/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-08-18T07:18:53Z",
    "updated_at": "2020-08-18T07:18:53Z",
    "author_association": "NONE",
    "body": "Yes, I have updated to the latest head now. I'll see if it happens again!",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/675303745/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
