{
  "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/7534",
  "repository_url": "https://api.github.com/repos/prysmaticlabs/prysm",
  "labels_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/7534/labels{/name}",
  "comments_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/7534/comments",
  "events_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/7534/events",
  "html_url": "https://github.com/prysmaticlabs/prysm/issues/7534",
  "id": 721861852,
  "node_id": "MDU6SXNzdWU3MjE4NjE4NTI=",
  "number": 7534,
  "title": "Duplicate Exit Throws Error",
  "user": {
    "login": "metanull-operator",
    "id": 54516310,
    "node_id": "MDQ6VXNlcjU0NTE2MzEw",
    "avatar_url": "https://avatars.githubusercontent.com/u/54516310?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/metanull-operator",
    "html_url": "https://github.com/metanull-operator",
    "followers_url": "https://api.github.com/users/metanull-operator/followers",
    "following_url": "https://api.github.com/users/metanull-operator/following{/other_user}",
    "gists_url": "https://api.github.com/users/metanull-operator/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/metanull-operator/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/metanull-operator/subscriptions",
    "organizations_url": "https://api.github.com/users/metanull-operator/orgs",
    "repos_url": "https://api.github.com/users/metanull-operator/repos",
    "events_url": "https://api.github.com/users/metanull-operator/events{/privacy}",
    "received_events_url": "https://api.github.com/users/metanull-operator/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 802129904,
      "node_id": "MDU6TGFiZWw4MDIxMjk5MDQ=",
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/labels/Bug",
      "name": "Bug",
      "color": "ee0701",
      "default": false,
      "description": "Something isn't working"
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": {
    "login": "rkapka",
    "id": 28876818,
    "node_id": "MDQ6VXNlcjI4ODc2ODE4",
    "avatar_url": "https://avatars.githubusercontent.com/u/28876818?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/rkapka",
    "html_url": "https://github.com/rkapka",
    "followers_url": "https://api.github.com/users/rkapka/followers",
    "following_url": "https://api.github.com/users/rkapka/following{/other_user}",
    "gists_url": "https://api.github.com/users/rkapka/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/rkapka/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/rkapka/subscriptions",
    "organizations_url": "https://api.github.com/users/rkapka/orgs",
    "repos_url": "https://api.github.com/users/rkapka/repos",
    "events_url": "https://api.github.com/users/rkapka/events{/privacy}",
    "received_events_url": "https://api.github.com/users/rkapka/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "rkapka",
      "id": 28876818,
      "node_id": "MDQ6VXNlcjI4ODc2ODE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/28876818?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rkapka",
      "html_url": "https://github.com/rkapka",
      "followers_url": "https://api.github.com/users/rkapka/followers",
      "following_url": "https://api.github.com/users/rkapka/following{/other_user}",
      "gists_url": "https://api.github.com/users/rkapka/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rkapka/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rkapka/subscriptions",
      "organizations_url": "https://api.github.com/users/rkapka/orgs",
      "repos_url": "https://api.github.com/users/rkapka/repos",
      "events_url": "https://api.github.com/users/rkapka/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rkapka/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 4,
  "created_at": "2020-10-14T23:33:35Z",
  "updated_at": "2020-10-17T22:35:42Z",
  "closed_at": "2020-10-17T10:08:59Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "# üêû Bug Report\r\n\r\n### Description\r\n\r\nRunning 5 validators on Zinken, and I wanted to attempt an exit. Using prysm.sh I ran the command to exit and select 1 validator to exit. After seeing that my validator appeared on the exit queue, I ran prysm.sh again to exit my remaining validators. I selected the \"all\" option to exit all validators, not realizing that my previously exited validator is still in the list. \r\n\r\nOutput seems to indicate that the four new exits were processed correctly, but the error message around the previously-exited validator is not pretty.\r\n\r\n### Has this worked before in a previous version?\r\n\r\nNever tried it before.\r\n\r\n## üî¨ Minimal Reproduction\r\n\r\nExit one key, then exit that same key and more.\r\n\r\n\r\n## üî• Error\r\n\r\n<pre><code>\r\nIf you still want to continue with the voluntary exit, please input the passphrase from the above URL:\r\nExit my validator\r\n[2020-10-14 17:20:58]  WARN validator: You are using an insecure gRPC connection. If you are running your beacon node and validator on the same machines, you can ignore this message. If you want to know how to enable secure connections, see: https://docs.prylabs.network/docs/prysm-usage/secure-grpc\r\n[2020-10-14 17:20:58] ERROR accounts-v2: voluntary exit failed for account 0xXXXXXXXXXXXX error=rpc error: code = InvalidArgument desc = validator has already submitted an exit, which will take place at epoch: 561\r\nfailed to propose voluntary exit\r\ngithub.com/prysmaticlabs/prysm/validator/client.ProposeExit\r\n        validator/client/propose.go:157\r\ngithub.com/prysmaticlabs/prysm/validator/accounts/v2.performExit\r\n        validator/accounts/v2/accounts_exit.go:196\r\ngithub.com/prysmaticlabs/prysm/validator/accounts/v2.ExitAccountsCli\r\n        validator/accounts/v2/accounts_exit.go:61\r\ngithub.com/prysmaticlabs/prysm/validator/accounts/v2.glob..func6\r\n        validator/accounts/v2/cmd_accounts.go:160\r\ngithub.com/urfave/cli/v2.(*Command).Run\r\n        external/com_github_urfave_cli_v2/command.go:164\r\ngithub.com/urfave/cli/v2.(*App).RunAsSubcommand\r\n        external/com_github_urfave_cli_v2/app.go:427\r\ngithub.com/urfave/cli/v2.(*Command).startApp\r\n        external/com_github_urfave_cli_v2/command.go:279\r\ngithub.com/urfave/cli/v2.(*Command).Run\r\n        external/com_github_urfave_cli_v2/command.go:94\r\ngithub.com/urfave/cli/v2.(*App).RunContext\r\n        external/com_github_urfave_cli_v2/app.go:306\r\ngithub.com/urfave/cli/v2.(*App).Run\r\n        external/com_github_urfave_cli_v2/app.go:215\r\nmain.main\r\n        validator/main.go:354\r\nruntime.main\r\n        GOROOT/src/runtime/proc.go:203\r\nruntime.goexit\r\n        GOROOT/src/runtime/asm_amd64.s:1373\r\n[2020-10-14 17:20:58]  INFO accounts-v2: Voluntary exit was successful for the accounts listed publicKeys=0xXXXXXXXXXXXX, 0xXXXXXXXXXXXX, 0xXXXXXXXXXXXX, 0xXXXXXXXXXXXX\r\n</code></pre>\r\n\r\n\r\n## üåç  Your Environment\r\n\r\n**Operating System:**\r\n\r\n<pre>\r\n  <code>\r\nUbuntu 20.04\r\n  </code>\r\n</pre>\r\n\r\n**What version of Prysm are you running? (Which release)**\r\n\r\n<pre>\r\n  <code>\r\nalpha.29\r\n  </code>\r\n</pre>\r\n\r\n**Anything else relevant (validator index / public key)?**\r\n\r\n",
  "closed_by": {
    "login": "prylabs-bulldozer[bot]",
    "id": 58059840,
    "node_id": "MDM6Qm90NTgwNTk4NDA=",
    "avatar_url": "https://avatars.githubusercontent.com/in/47372?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/prylabs-bulldozer%5Bbot%5D",
    "html_url": "https://github.com/apps/prylabs-bulldozer",
    "followers_url": "https://api.github.com/users/prylabs-bulldozer%5Bbot%5D/followers",
    "following_url": "https://api.github.com/users/prylabs-bulldozer%5Bbot%5D/following{/other_user}",
    "gists_url": "https://api.github.com/users/prylabs-bulldozer%5Bbot%5D/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/prylabs-bulldozer%5Bbot%5D/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/prylabs-bulldozer%5Bbot%5D/subscriptions",
    "organizations_url": "https://api.github.com/users/prylabs-bulldozer%5Bbot%5D/orgs",
    "repos_url": "https://api.github.com/users/prylabs-bulldozer%5Bbot%5D/repos",
    "events_url": "https://api.github.com/users/prylabs-bulldozer%5Bbot%5D/events{/privacy}",
    "received_events_url": "https://api.github.com/users/prylabs-bulldozer%5Bbot%5D/received_events",
    "type": "Bot",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/7534/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/7534/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/709458648",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/7534#issuecomment-709458648",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/7534",
    "id": 709458648,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcwOTQ1ODY0OA==",
    "user": {
      "login": "rkapka",
      "id": 28876818,
      "node_id": "MDQ6VXNlcjI4ODc2ODE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/28876818?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rkapka",
      "html_url": "https://github.com/rkapka",
      "followers_url": "https://api.github.com/users/rkapka/followers",
      "following_url": "https://api.github.com/users/rkapka/following{/other_user}",
      "gists_url": "https://api.github.com/users/rkapka/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rkapka/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rkapka/subscriptions",
      "organizations_url": "https://api.github.com/users/rkapka/orgs",
      "repos_url": "https://api.github.com/users/rkapka/repos",
      "events_url": "https://api.github.com/users/rkapka/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rkapka/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-10-15T16:57:00Z",
    "updated_at": "2020-10-15T16:57:00Z",
    "author_association": "CONTRIBUTOR",
    "body": "Hi there!\r\n\r\nThis is how Prysm currently handles error logging. Because you wanted to exit a validator that had already exited, an error occurred and was logged out to the terminal. I understand that it's a bit unusual to see an error message and a success message during one command execution, but that's just how it is at the moment.\r\n\r\nWe might consider changing it in the future. Thank you for submitting the issue.",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/709458648/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/709557401",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/7534#issuecomment-709557401",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/7534",
    "id": 709557401,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcwOTU1NzQwMQ==",
    "user": {
      "login": "metanull-operator",
      "id": 54516310,
      "node_id": "MDQ6VXNlcjU0NTE2MzEw",
      "avatar_url": "https://avatars.githubusercontent.com/u/54516310?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/metanull-operator",
      "html_url": "https://github.com/metanull-operator",
      "followers_url": "https://api.github.com/users/metanull-operator/followers",
      "following_url": "https://api.github.com/users/metanull-operator/following{/other_user}",
      "gists_url": "https://api.github.com/users/metanull-operator/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/metanull-operator/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/metanull-operator/subscriptions",
      "organizations_url": "https://api.github.com/users/metanull-operator/orgs",
      "repos_url": "https://api.github.com/users/metanull-operator/repos",
      "events_url": "https://api.github.com/users/metanull-operator/events{/privacy}",
      "received_events_url": "https://api.github.com/users/metanull-operator/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-10-15T19:56:53Z",
    "updated_at": "2020-10-15T19:56:53Z",
    "author_association": "CONTRIBUTOR",
    "body": "Hi. My issue is the stack trace, not the fact that there are two error messages. Stack traces aren't particularly user friendly.",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/709557401/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/709557486",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/7534#issuecomment-709557486",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/7534",
    "id": 709557486,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcwOTU1NzQ4Ng==",
    "user": {
      "login": "metanull-operator",
      "id": 54516310,
      "node_id": "MDQ6VXNlcjU0NTE2MzEw",
      "avatar_url": "https://avatars.githubusercontent.com/u/54516310?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/metanull-operator",
      "html_url": "https://github.com/metanull-operator",
      "followers_url": "https://api.github.com/users/metanull-operator/followers",
      "following_url": "https://api.github.com/users/metanull-operator/following{/other_user}",
      "gists_url": "https://api.github.com/users/metanull-operator/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/metanull-operator/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/metanull-operator/subscriptions",
      "organizations_url": "https://api.github.com/users/metanull-operator/orgs",
      "repos_url": "https://api.github.com/users/metanull-operator/repos",
      "events_url": "https://api.github.com/users/metanull-operator/events{/privacy}",
      "received_events_url": "https://api.github.com/users/metanull-operator/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-10-15T19:57:05Z",
    "updated_at": "2020-10-15T19:57:05Z",
    "author_association": "CONTRIBUTOR",
    "body": "@rkapka ",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/709557486/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/711088918",
    "html_url": "https://github.com/prysmaticlabs/prysm/issues/7534#issuecomment-711088918",
    "issue_url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/7534",
    "id": 711088918,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcxMTA4ODkxOA==",
    "user": {
      "login": "rkapka",
      "id": 28876818,
      "node_id": "MDQ6VXNlcjI4ODc2ODE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/28876818?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rkapka",
      "html_url": "https://github.com/rkapka",
      "followers_url": "https://api.github.com/users/rkapka/followers",
      "following_url": "https://api.github.com/users/rkapka/following{/other_user}",
      "gists_url": "https://api.github.com/users/rkapka/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rkapka/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rkapka/subscriptions",
      "organizations_url": "https://api.github.com/users/rkapka/orgs",
      "repos_url": "https://api.github.com/users/rkapka/repos",
      "events_url": "https://api.github.com/users/rkapka/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rkapka/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-10-17T22:35:42Z",
    "updated_at": "2020-10-17T22:35:42Z",
    "author_association": "CONTRIBUTOR",
    "body": "Should be fixed in the next release @metanull-operator ",
    "reactions": {
      "url": "https://api.github.com/repos/prysmaticlabs/prysm/issues/comments/711088918/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
