{
  "url": "https://api.github.com/repos/trufflesuite/truffle/issues/1847",
  "repository_url": "https://api.github.com/repos/trufflesuite/truffle",
  "labels_url": "https://api.github.com/repos/trufflesuite/truffle/issues/1847/labels{/name}",
  "comments_url": "https://api.github.com/repos/trufflesuite/truffle/issues/1847/comments",
  "events_url": "https://api.github.com/repos/trufflesuite/truffle/issues/1847/events",
  "html_url": "https://github.com/trufflesuite/truffle/issues/1847",
  "id": 423962590,
  "node_id": "MDU6SXNzdWU0MjM5NjI1OTA=",
  "number": 1847,
  "title": "Compiler installation error message improvement",
  "user": {
    "login": "RobertoC27",
    "id": 8262009,
    "node_id": "MDQ6VXNlcjgyNjIwMDk=",
    "avatar_url": "https://avatars.githubusercontent.com/u/8262009?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/RobertoC27",
    "html_url": "https://github.com/RobertoC27",
    "followers_url": "https://api.github.com/users/RobertoC27/followers",
    "following_url": "https://api.github.com/users/RobertoC27/following{/other_user}",
    "gists_url": "https://api.github.com/users/RobertoC27/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/RobertoC27/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/RobertoC27/subscriptions",
    "organizations_url": "https://api.github.com/users/RobertoC27/orgs",
    "repos_url": "https://api.github.com/users/RobertoC27/repos",
    "events_url": "https://api.github.com/users/RobertoC27/events{/privacy}",
    "received_events_url": "https://api.github.com/users/RobertoC27/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 971681714,
      "node_id": "MDU6TGFiZWw5NzE2ODE3MTQ=",
      "url": "https://api.github.com/repos/trufflesuite/truffle/labels/Compiler",
      "name": "Compiler",
      "color": "b60205",
      "default": false,
      "description": ""
    },
    {
      "id": 1088150379,
      "node_id": "MDU6TGFiZWwxMDg4MTUwMzc5",
      "url": "https://api.github.com/repos/trufflesuite/truffle/labels/error%20better",
      "name": "error better",
      "color": "f27915",
      "default": false,
      "description": "issue indicates improvement to error messaging"
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2019-03-21T22:05:16Z",
  "updated_at": "2019-03-22T02:44:40Z",
  "closed_at": "2019-03-22T02:44:40Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "- [ ] I've asked for help in the [Truffle Gitter](http://gitter.im/Consensys/truffle) before filing this issue.\r\n\r\n---------------------------\r\n\r\n## Issue\r\n\r\nI'm trying to use solc version 0.5.2 but truffle fails to install it when setting it on the truffle-config.js file. I added the open zeppelin library and their contracts require solc ^0.5.2 while truffle uses 0.5.0 by default.  After updating my config file and executing `truffle compile` an error that said version 0.5.2 does not exists popped out.\r\n\r\n## Steps to Reproduce\r\n\r\nUpdate the truffle config file to set solc version to 0.5.2\r\nrun `truffle compile`\r\nrun `truffle compile --list`\r\nrun `truffle obtain --solc=0.5.2`\r\n\r\n## Expected Behavior\r\n\r\nTruffle installing required compiler version or showing a more clear error message for the failure.\r\n\r\n## Actual Results\r\nThis is what happened when trying to compile after updating my config file.\r\n![running truffle compile after updating config file](https://user-images.githubusercontent.com/8262009/54787572-bd801480-4bf1-11e9-8e8d-703b5ecd1db4.png)\r\n\r\nAfter digging in past issues I found the `truffle obtain` command\r\n\r\nNow when executing `truffle obtain --solc=0.5.2` the following happened\r\n![The real error was shown](https://user-images.githubusercontent.com/8262009/54787654-0637cd80-4bf2-11e9-9cbb-374123948202.png)\r\nAs you can see, the real error is permissions issue.\r\n Running the same with sudo fixed the issue, but I wonder if there's a way of showing the *real* error message the first time.\r\nMaybe my setup is **too obscure** and I just have to live with it, but just putting this out.\r\n\r\n## Environment\r\n**I'm working on Windows Subsystem for Linux (WSL) which I made a gist if you guys feel the need to try and recreate my environment [gist with installation instructions](https://gist.github.com/RobertoC27/5758e1f7f40185284bb669e8728b766f)**\r\n* Operating System: Windows 10 Pro\r\n* Ethereum client: Ganache\r\n* Truffle version (`truffle version`): Truffle v5.0.7 (core: 5.0.7)\r\n* node version (`node --version`):Node v10.15.3\r\n* yarn version (`yarn --version`): 1.15.2\r\n",
  "closed_by": {
    "login": "RobertoC27",
    "id": 8262009,
    "node_id": "MDQ6VXNlcjgyNjIwMDk=",
    "avatar_url": "https://avatars.githubusercontent.com/u/8262009?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/RobertoC27",
    "html_url": "https://github.com/RobertoC27",
    "followers_url": "https://api.github.com/users/RobertoC27/followers",
    "following_url": "https://api.github.com/users/RobertoC27/following{/other_user}",
    "gists_url": "https://api.github.com/users/RobertoC27/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/RobertoC27/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/RobertoC27/subscriptions",
    "organizations_url": "https://api.github.com/users/RobertoC27/orgs",
    "repos_url": "https://api.github.com/users/RobertoC27/repos",
    "events_url": "https://api.github.com/users/RobertoC27/events{/privacy}",
    "received_events_url": "https://api.github.com/users/RobertoC27/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/1847/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/trufflesuite/truffle/issues/1847/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/475427513",
    "html_url": "https://github.com/trufflesuite/truffle/issues/1847#issuecomment-475427513",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/1847",
    "id": 475427513,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ3NTQyNzUxMw==",
    "user": {
      "login": "CruzMolina",
      "id": 7537712,
      "node_id": "MDQ6VXNlcjc1Mzc3MTI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7537712?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/CruzMolina",
      "html_url": "https://github.com/CruzMolina",
      "followers_url": "https://api.github.com/users/CruzMolina/followers",
      "following_url": "https://api.github.com/users/CruzMolina/following{/other_user}",
      "gists_url": "https://api.github.com/users/CruzMolina/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/CruzMolina/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/CruzMolina/subscriptions",
      "organizations_url": "https://api.github.com/users/CruzMolina/orgs",
      "repos_url": "https://api.github.com/users/CruzMolina/repos",
      "events_url": "https://api.github.com/users/CruzMolina/events{/privacy}",
      "received_events_url": "https://api.github.com/users/CruzMolina/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-03-21T22:30:04Z",
    "updated_at": "2019-03-21T22:30:04Z",
    "author_association": "CONTRIBUTOR",
    "body": "Hey @RobertoC27 !\r\n\r\nFortunately, the permissions issue got fixed in truffle `5.0.8` via #1801. Let me know if upgrading works for you.\r\n\r\nDefinitely agree that we should have better error handling during compiler installation.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/475427513/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/475466087",
    "html_url": "https://github.com/trufflesuite/truffle/issues/1847#issuecomment-475466087",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/1847",
    "id": 475466087,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ3NTQ2NjA4Nw==",
    "user": {
      "login": "RobertoC27",
      "id": 8262009,
      "node_id": "MDQ6VXNlcjgyNjIwMDk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8262009?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/RobertoC27",
      "html_url": "https://github.com/RobertoC27",
      "followers_url": "https://api.github.com/users/RobertoC27/followers",
      "following_url": "https://api.github.com/users/RobertoC27/following{/other_user}",
      "gists_url": "https://api.github.com/users/RobertoC27/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/RobertoC27/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/RobertoC27/subscriptions",
      "organizations_url": "https://api.github.com/users/RobertoC27/orgs",
      "repos_url": "https://api.github.com/users/RobertoC27/repos",
      "events_url": "https://api.github.com/users/RobertoC27/events{/privacy}",
      "received_events_url": "https://api.github.com/users/RobertoC27/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-03-22T01:51:07Z",
    "updated_at": "2019-03-22T01:51:07Z",
    "author_association": "NONE",
    "body": "@CruzMolina  thanks for your quick response!\r\nIt works like a charm with 5.0.9 👍\r\n\r\nIf i may suggest something, I think a list of error priorities could be a good idea.\r\n\r\nSo you would have something like:\r\n1. OS errors\r\n2. Truffle errors\r\n... Insert other kind of errors\r\n3. Compiled code errors\r\n4. User input errors\r\n\r\n\r\nThe lower the number, the higher it's priority to be displayed to the end user.\r\n\r\nThat way you can determine what you can show to the user without overwhelming them with information.  \r\n",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/475466087/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
