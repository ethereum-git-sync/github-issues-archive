{
  "url": "https://api.github.com/repos/trufflesuite/truffle/issues/5856",
  "repository_url": "https://api.github.com/repos/trufflesuite/truffle",
  "labels_url": "https://api.github.com/repos/trufflesuite/truffle/issues/5856/labels{/name}",
  "comments_url": "https://api.github.com/repos/trufflesuite/truffle/issues/5856/comments",
  "events_url": "https://api.github.com/repos/trufflesuite/truffle/issues/5856/events",
  "html_url": "https://github.com/trufflesuite/truffle/issues/5856",
  "id": 1556908382,
  "node_id": "I_kwDOAkfq-c5czIle",
  "number": 5856,
  "title": "Truffle debugger hangs while stepping instruction",
  "user": {
    "login": "Poytr1",
    "id": 20534718,
    "node_id": "MDQ6VXNlcjIwNTM0NzE4",
    "avatar_url": "https://avatars.githubusercontent.com/u/20534718?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/Poytr1",
    "html_url": "https://github.com/Poytr1",
    "followers_url": "https://api.github.com/users/Poytr1/followers",
    "following_url": "https://api.github.com/users/Poytr1/following{/other_user}",
    "gists_url": "https://api.github.com/users/Poytr1/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/Poytr1/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/Poytr1/subscriptions",
    "organizations_url": "https://api.github.com/users/Poytr1/orgs",
    "repos_url": "https://api.github.com/users/Poytr1/repos",
    "events_url": "https://api.github.com/users/Poytr1/events{/privacy}",
    "received_events_url": "https://api.github.com/users/Poytr1/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 971535002,
      "node_id": "MDU6TGFiZWw5NzE1MzUwMDI=",
      "url": "https://api.github.com/repos/trufflesuite/truffle/labels/Debugger",
      "name": "Debugger",
      "color": "7911ad",
      "default": false,
      "description": ""
    },
    {
      "id": 1174994378,
      "node_id": "MDU6TGFiZWwxMTc0OTk0Mzc4",
      "url": "https://api.github.com/repos/trufflesuite/truffle/labels/codec",
      "name": "codec",
      "color": "bbe853",
      "default": false,
      "description": ""
    },
    {
      "id": 1403343142,
      "node_id": "MDU6TGFiZWwxNDAzMzQzMTQy",
      "url": "https://api.github.com/repos/trufflesuite/truffle/labels/needs%20investigated",
      "name": "needs investigated",
      "color": "b7410e",
      "default": false,
      "description": ""
    },
    {
      "id": 1675041356,
      "node_id": "MDU6TGFiZWwxNjc1MDQxMzU2",
      "url": "https://api.github.com/repos/trufflesuite/truffle/labels/priority2%20%E2%9A%A0%EF%B8%8F",
      "name": "priority2 ⚠️",
      "color": "006b75",
      "default": false,
      "description": ""
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": {
    "login": "haltman-at",
    "id": 35589221,
    "node_id": "MDQ6VXNlcjM1NTg5MjIx",
    "avatar_url": "https://avatars.githubusercontent.com/u/35589221?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/haltman-at",
    "html_url": "https://github.com/haltman-at",
    "followers_url": "https://api.github.com/users/haltman-at/followers",
    "following_url": "https://api.github.com/users/haltman-at/following{/other_user}",
    "gists_url": "https://api.github.com/users/haltman-at/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/haltman-at/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/haltman-at/subscriptions",
    "organizations_url": "https://api.github.com/users/haltman-at/orgs",
    "repos_url": "https://api.github.com/users/haltman-at/repos",
    "events_url": "https://api.github.com/users/haltman-at/events{/privacy}",
    "received_events_url": "https://api.github.com/users/haltman-at/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "haltman-at",
      "id": 35589221,
      "node_id": "MDQ6VXNlcjM1NTg5MjIx",
      "avatar_url": "https://avatars.githubusercontent.com/u/35589221?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/haltman-at",
      "html_url": "https://github.com/haltman-at",
      "followers_url": "https://api.github.com/users/haltman-at/followers",
      "following_url": "https://api.github.com/users/haltman-at/following{/other_user}",
      "gists_url": "https://api.github.com/users/haltman-at/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/haltman-at/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/haltman-at/subscriptions",
      "organizations_url": "https://api.github.com/users/haltman-at/orgs",
      "repos_url": "https://api.github.com/users/haltman-at/repos",
      "events_url": "https://api.github.com/users/haltman-at/events{/privacy}",
      "received_events_url": "https://api.github.com/users/haltman-at/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 13,
  "created_at": "2023-01-25T16:11:48Z",
  "updated_at": "2023-02-17T22:40:26Z",
  "closed_at": null,
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "- [x] I've [opened a support ticket](https://trufflesuite.zendesk.com/hc/en-us/requests/new) before filing this issue.\r\n\r\n---------------------------\r\n\r\n## Issue\r\n\r\nTruffle debugger hangs while stepping instruction\r\n\r\n## Steps to Reproduce\r\n\r\n```\r\ntruffle debug 0x65d06d2c333b3705554cbb2ee19897e385787a7745939b30dc857161e488671c --fetch-external --url localhost:8545\r\n```\r\nThen step instruction for 5232 instructions:\r\n```\r\n;5232\r\n```\r\nThen step instruction,\r\n![Screenshot 2023-01-26 at 00 08 34](https://user-images.githubusercontent.com/20534718/214615299-84388dc6-85c0-4f53-bf10-9490377e308a.png)\r\nThe debugger hangs.\r\n\r\n## Expected Behavior\r\n\r\nStep to the next instruction\r\n\r\n## Actual Results\r\n\r\nIt never returns\r\n\r\n## Environment\r\n\r\n* Operating System: MacOS\r\n* Ethereum client:\r\n* Truffle version (`truffle version`): v5.7.0\r\n* node version (`node --version`):v18.2.0\r\n* npm version (`npm --version`): 8.9.0\r\n",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/5856/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/trufflesuite/truffle/issues/5856/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/1405440209",
    "html_url": "https://github.com/trufflesuite/truffle/issues/5856#issuecomment-1405440209",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/5856",
    "id": 1405440209,
    "node_id": "IC_kwDOAkfq-c5TxVDR",
    "user": {
      "login": "eggplantzzz",
      "id": 14827965,
      "node_id": "MDQ6VXNlcjE0ODI3OTY1",
      "avatar_url": "https://avatars.githubusercontent.com/u/14827965?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eggplantzzz",
      "html_url": "https://github.com/eggplantzzz",
      "followers_url": "https://api.github.com/users/eggplantzzz/followers",
      "following_url": "https://api.github.com/users/eggplantzzz/following{/other_user}",
      "gists_url": "https://api.github.com/users/eggplantzzz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eggplantzzz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eggplantzzz/subscriptions",
      "organizations_url": "https://api.github.com/users/eggplantzzz/orgs",
      "repos_url": "https://api.github.com/users/eggplantzzz/repos",
      "events_url": "https://api.github.com/users/eggplantzzz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eggplantzzz/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-01-26T18:41:29Z",
    "updated_at": "2023-01-26T18:41:29Z",
    "author_association": "CONTRIBUTOR",
    "body": "Hey @Poytr1, thanks for reporting this! Could you let me know how long the debugger hangs? Does it ever return? I just ask as it is possible that it is performing some intense computation. Also, what client/setup are you using?",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/1405440209/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/1407671759",
    "html_url": "https://github.com/trufflesuite/truffle/issues/5856#issuecomment-1407671759",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/5856",
    "id": 1407671759,
    "node_id": "IC_kwDOAkfq-c5T513P",
    "user": {
      "login": "Poytr1",
      "id": 20534718,
      "node_id": "MDQ6VXNlcjIwNTM0NzE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/20534718?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Poytr1",
      "html_url": "https://github.com/Poytr1",
      "followers_url": "https://api.github.com/users/Poytr1/followers",
      "following_url": "https://api.github.com/users/Poytr1/following{/other_user}",
      "gists_url": "https://api.github.com/users/Poytr1/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Poytr1/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Poytr1/subscriptions",
      "organizations_url": "https://api.github.com/users/Poytr1/orgs",
      "repos_url": "https://api.github.com/users/Poytr1/repos",
      "events_url": "https://api.github.com/users/Poytr1/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Poytr1/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-01-29T14:01:20Z",
    "updated_at": "2023-01-29T14:01:20Z",
    "author_association": "NONE",
    "body": "@eggplantzzz Thanks for your quick response!\r\n\r\nI waited for several hours, but it never returned. I'm using a local erigon debug node, and here's my truffle config:\r\n```js\r\nmodule.exports = {\r\n  networks: {\r\n    development: {\r\n      host: \"127.0.0.1\",\r\n      port: 8545,\r\n      network_id: \"*\", // match any network\r\n    },\r\n  },\r\n  compilers: {\r\n    solc: {\r\n      version: \"0.8.13\"\r\n    }\r\n  }\r\n};\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/1407671759/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/1409054437",
    "html_url": "https://github.com/trufflesuite/truffle/issues/5856#issuecomment-1409054437",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/5856",
    "id": 1409054437,
    "node_id": "IC_kwDOAkfq-c5T_Hbl",
    "user": {
      "login": "eggplantzzz",
      "id": 14827965,
      "node_id": "MDQ6VXNlcjE0ODI3OTY1",
      "avatar_url": "https://avatars.githubusercontent.com/u/14827965?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eggplantzzz",
      "html_url": "https://github.com/eggplantzzz",
      "followers_url": "https://api.github.com/users/eggplantzzz/followers",
      "following_url": "https://api.github.com/users/eggplantzzz/following{/other_user}",
      "gists_url": "https://api.github.com/users/eggplantzzz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eggplantzzz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eggplantzzz/subscriptions",
      "organizations_url": "https://api.github.com/users/eggplantzzz/orgs",
      "repos_url": "https://api.github.com/users/eggplantzzz/repos",
      "events_url": "https://api.github.com/users/eggplantzzz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eggplantzzz/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-01-30T17:47:02Z",
    "updated_at": "2023-01-30T17:47:29Z",
    "author_association": "CONTRIBUTOR",
    "body": "Thanks for the added information! We'll have to take a look into this. @haltman-at ",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/1409054437/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/1409403913",
    "html_url": "https://github.com/trufflesuite/truffle/issues/5856#issuecomment-1409403913",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/5856",
    "id": 1409403913,
    "node_id": "IC_kwDOAkfq-c5UAcwJ",
    "user": {
      "login": "haltman-at",
      "id": 35589221,
      "node_id": "MDQ6VXNlcjM1NTg5MjIx",
      "avatar_url": "https://avatars.githubusercontent.com/u/35589221?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/haltman-at",
      "html_url": "https://github.com/haltman-at",
      "followers_url": "https://api.github.com/users/haltman-at/followers",
      "following_url": "https://api.github.com/users/haltman-at/following{/other_user}",
      "gists_url": "https://api.github.com/users/haltman-at/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/haltman-at/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/haltman-at/subscriptions",
      "organizations_url": "https://api.github.com/users/haltman-at/orgs",
      "repos_url": "https://api.github.com/users/haltman-at/repos",
      "events_url": "https://api.github.com/users/haltman-at/events{/privacy}",
      "received_events_url": "https://api.github.com/users/haltman-at/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-01-30T21:50:35Z",
    "updated_at": "2023-01-30T21:50:35Z",
    "author_association": "CONTRIBUTOR",
    "body": "@Poytr1 One more question -- it looks like you're debugging a verified external contract on (a forked verison of) some network.  What network?  Is that mainnet?  I was just setting up to reproduce this and realized that was never specified.  I'll assume for now that it's mainnet, but please let me know.  Thanks!",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/1409403913/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/1409410821",
    "html_url": "https://github.com/trufflesuite/truffle/issues/5856#issuecomment-1409410821",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/5856",
    "id": 1409410821,
    "node_id": "IC_kwDOAkfq-c5UAecF",
    "user": {
      "login": "haltman-at",
      "id": 35589221,
      "node_id": "MDQ6VXNlcjM1NTg5MjIx",
      "avatar_url": "https://avatars.githubusercontent.com/u/35589221?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/haltman-at",
      "html_url": "https://github.com/haltman-at",
      "followers_url": "https://api.github.com/users/haltman-at/followers",
      "following_url": "https://api.github.com/users/haltman-at/following{/other_user}",
      "gists_url": "https://api.github.com/users/haltman-at/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/haltman-at/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/haltman-at/subscriptions",
      "organizations_url": "https://api.github.com/users/haltman-at/orgs",
      "repos_url": "https://api.github.com/users/haltman-at/repos",
      "events_url": "https://api.github.com/users/haltman-at/events{/privacy}",
      "received_events_url": "https://api.github.com/users/haltman-at/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-01-30T21:55:01Z",
    "updated_at": "2023-01-30T21:55:01Z",
    "author_association": "CONTRIBUTOR",
    "body": "Well, I reproduced the problem so I guess it is mainnet! :)  Thanks for bringing this to our attention!",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/1409410821/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/1409535231",
    "html_url": "https://github.com/trufflesuite/truffle/issues/5856#issuecomment-1409535231",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/5856",
    "id": 1409535231,
    "node_id": "IC_kwDOAkfq-c5UA8z_",
    "user": {
      "login": "haltman-at",
      "id": 35589221,
      "node_id": "MDQ6VXNlcjM1NTg5MjIx",
      "avatar_url": "https://avatars.githubusercontent.com/u/35589221?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/haltman-at",
      "html_url": "https://github.com/haltman-at",
      "followers_url": "https://api.github.com/users/haltman-at/followers",
      "following_url": "https://api.github.com/users/haltman-at/following{/other_user}",
      "gists_url": "https://api.github.com/users/haltman-at/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/haltman-at/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/haltman-at/subscriptions",
      "organizations_url": "https://api.github.com/users/haltman-at/orgs",
      "repos_url": "https://api.github.com/users/haltman-at/repos",
      "events_url": "https://api.github.com/users/haltman-at/events{/privacy}",
      "received_events_url": "https://api.github.com/users/haltman-at/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-01-30T23:52:26Z",
    "updated_at": "2023-02-01T03:25:36Z",
    "author_association": "CONTRIBUTOR",
    "body": "OK, on looking into this, I'm pretty confused as to what's going on here.\r\n\r\nLet's start with what I can determine.  If you attempt to advance from the highlighted step, the debugger will attempt to decode the `checkpoints` array.  (This is because of the debugger's txlog feature, which admittedly isn't very user-visible at the moment.  However the same code would be called if you tried to view the contents of `checkpoints` with `v` instead at any point.)\r\n\r\nThe array `checkpoints` has -- at least according to what the debugger can determine -- a length of 45,040 elements.  (Each element is a struct consisting of two `uint128`s.)  Ideally there would be some way to paginate that (see issue #3858), but, that being something we've never implemented, the debugger will attempt to decode all of it.  Most of it is storage that the debugger can't currently see, mind you, so it's going to decode to question marks.\r\n\r\nAfter decoding about 900 of these -- the exact number varies -- the debugger stopds decoding and hangs.  I don't know why.  Not only does the count vary, but the exact point in the code where the hang happens seems to vary as well.  Again, I don't know why.\r\n\r\nSo I'm fairly stumped at the moment.  I don't know what's going on here.  Those are the pieces of the puzzle I can determine, however.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/1409535231/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/1409801715",
    "html_url": "https://github.com/trufflesuite/truffle/issues/5856#issuecomment-1409801715",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/5856",
    "id": 1409801715,
    "node_id": "IC_kwDOAkfq-c5UB93z",
    "user": {
      "login": "Poytr1",
      "id": 20534718,
      "node_id": "MDQ6VXNlcjIwNTM0NzE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/20534718?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Poytr1",
      "html_url": "https://github.com/Poytr1",
      "followers_url": "https://api.github.com/users/Poytr1/followers",
      "following_url": "https://api.github.com/users/Poytr1/following{/other_user}",
      "gists_url": "https://api.github.com/users/Poytr1/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Poytr1/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Poytr1/subscriptions",
      "organizations_url": "https://api.github.com/users/Poytr1/orgs",
      "repos_url": "https://api.github.com/users/Poytr1/repos",
      "events_url": "https://api.github.com/users/Poytr1/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Poytr1/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-01-31T05:53:44Z",
    "updated_at": "2023-01-31T05:53:44Z",
    "author_association": "NONE",
    "body": "Hi @haltman-at , thanks for your reply, I also tried to debug it before, and once it threw an exception (although I never repro again), it may be related\r\n```\r\n# Fatal error in ../deps/v8/src/execution.cc, line 64\r\n# Check failed: AllowJavascriptExecution::IsAllowed(isolate).\r\n```\r\n\r\nBTW, I'm curious how you debugged to where the checkpoint is being decoded, are there any instructions I can follow to debug this myself using truffle code?",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/1409801715/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/1410013167",
    "html_url": "https://github.com/trufflesuite/truffle/issues/5856#issuecomment-1410013167",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/5856",
    "id": 1410013167,
    "node_id": "IC_kwDOAkfq-c5UCxfv",
    "user": {
      "login": "Poytr1",
      "id": 20534718,
      "node_id": "MDQ6VXNlcjIwNTM0NzE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/20534718?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Poytr1",
      "html_url": "https://github.com/Poytr1",
      "followers_url": "https://api.github.com/users/Poytr1/followers",
      "following_url": "https://api.github.com/users/Poytr1/following{/other_user}",
      "gists_url": "https://api.github.com/users/Poytr1/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Poytr1/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Poytr1/subscriptions",
      "organizations_url": "https://api.github.com/users/Poytr1/orgs",
      "repos_url": "https://api.github.com/users/Poytr1/repos",
      "events_url": "https://api.github.com/users/Poytr1/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Poytr1/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-01-31T09:16:38Z",
    "updated_at": "2023-01-31T09:16:38Z",
    "author_association": "NONE",
    "body": "Ok, I repro this issue with another transaction `0xd3cd25657ddc3c580decd1641b3983553445e3c90f4687c05ae12e6031f93119`\r\n\r\n<img width=\"438\" alt=\"image\" src=\"https://user-images.githubusercontent.com/20534718/215718132-b2b3f7d3-8508-42c5-91d9-62cc2894eab1.png\">\r\n\r\nThe function is defined as below (https://github.com/Uniswap/v3-core/blob/05c10bf6d547d6121622ac51c457f93775e1df09/contracts/libraries/Oracle.sol#L78):\r\n```solidity\r\nfunction write(\r\n        Observation[65535] storage self,\r\n        uint16 index,\r\n        uint32 blockTimestamp,\r\n        int24 tick,\r\n        uint128 liquidity,\r\n        uint16 cardinality,\r\n        uint16 cardinalityNext\r\n    ) internal returns (uint16 indexUpdated, uint16 cardinalityUpdated)\r\n```\r\nwhere there's an array with 65535 elements in storage.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/1410013167/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/1411122411",
    "html_url": "https://github.com/trufflesuite/truffle/issues/5856#issuecomment-1411122411",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/5856",
    "id": 1411122411,
    "node_id": "IC_kwDOAkfq-c5UHATr",
    "user": {
      "login": "haltman-at",
      "id": 35589221,
      "node_id": "MDQ6VXNlcjM1NTg5MjIx",
      "avatar_url": "https://avatars.githubusercontent.com/u/35589221?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/haltman-at",
      "html_url": "https://github.com/haltman-at",
      "followers_url": "https://api.github.com/users/haltman-at/followers",
      "following_url": "https://api.github.com/users/haltman-at/following{/other_user}",
      "gists_url": "https://api.github.com/users/haltman-at/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/haltman-at/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/haltman-at/subscriptions",
      "organizations_url": "https://api.github.com/users/haltman-at/orgs",
      "repos_url": "https://api.github.com/users/haltman-at/repos",
      "events_url": "https://api.github.com/users/haltman-at/events{/privacy}",
      "received_events_url": "https://api.github.com/users/haltman-at/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-01-31T21:56:49Z",
    "updated_at": "2023-01-31T21:56:49Z",
    "author_association": "CONTRIBUTOR",
    "body": "> BTW, I'm curious how you debugged to where the checkpoint is being decoded, are there any instructions I can follow to debug this myself using truffle code?\r\n\r\nI mean, it's not something I would really expect a person to be able to figure out without good knowledge of the internals of Truffle Debugger.  I determined this by adding a bunch of debug logging, but without knowing how the debugger works it would have been difficult to determine where to add such logging.  I started by determining which of the debugger's 5 main submodules was hanging (it was txlog), and then I dug in further to see where the hang was occurring.  This then took me outside `debugger` proper and into `codec`, where most of the decoding occurs.  There's a lot going on in the debugger and without some foreknowledge of how it works I don't see how one would reasonably debug it.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/1411122411/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/1413277255",
    "html_url": "https://github.com/trufflesuite/truffle/issues/5856#issuecomment-1413277255",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/5856",
    "id": 1413277255,
    "node_id": "IC_kwDOAkfq-c5UPOZH",
    "user": {
      "login": "Poytr1",
      "id": 20534718,
      "node_id": "MDQ6VXNlcjIwNTM0NzE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/20534718?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Poytr1",
      "html_url": "https://github.com/Poytr1",
      "followers_url": "https://api.github.com/users/Poytr1/followers",
      "following_url": "https://api.github.com/users/Poytr1/following{/other_user}",
      "gists_url": "https://api.github.com/users/Poytr1/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Poytr1/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Poytr1/subscriptions",
      "organizations_url": "https://api.github.com/users/Poytr1/orgs",
      "repos_url": "https://api.github.com/users/Poytr1/repos",
      "events_url": "https://api.github.com/users/Poytr1/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Poytr1/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-02-02T07:37:50Z",
    "updated_at": "2023-02-02T07:37:50Z",
    "author_association": "NONE",
    "body": "Do we have a workaround to skip the decoding of these long arrays and keep the debugger going? Looking at \r\n https://github.com/trufflesuite/truffle/issues/3858 which seems to help here. Can I pick-up this issue and make a contribution to the truffle codebase? Happy to help! :)",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/1413277255/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/1426950508",
    "html_url": "https://github.com/trufflesuite/truffle/issues/5856#issuecomment-1426950508",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/5856",
    "id": 1426950508,
    "node_id": "IC_kwDOAkfq-c5VDYls",
    "user": {
      "login": "Poytr1",
      "id": 20534718,
      "node_id": "MDQ6VXNlcjIwNTM0NzE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/20534718?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Poytr1",
      "html_url": "https://github.com/Poytr1",
      "followers_url": "https://api.github.com/users/Poytr1/followers",
      "following_url": "https://api.github.com/users/Poytr1/following{/other_user}",
      "gists_url": "https://api.github.com/users/Poytr1/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Poytr1/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Poytr1/subscriptions",
      "organizations_url": "https://api.github.com/users/Poytr1/orgs",
      "repos_url": "https://api.github.com/users/Poytr1/repos",
      "events_url": "https://api.github.com/users/Poytr1/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Poytr1/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-02-12T05:59:00Z",
    "updated_at": "2023-02-12T05:59:00Z",
    "author_association": "NONE",
    "body": "Hi @haltman-at and @eggplantzzz , any updates on this issue? I'm wondering if there is any workaround to keep the debugger working instead of just hanging there. thanks for your help!",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/1426950508/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/1430124879",
    "html_url": "https://github.com/trufflesuite/truffle/issues/5856#issuecomment-1430124879",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/5856",
    "id": 1430124879,
    "node_id": "IC_kwDOAkfq-c5VPflP",
    "user": {
      "login": "haltman-at",
      "id": 35589221,
      "node_id": "MDQ6VXNlcjM1NTg5MjIx",
      "avatar_url": "https://avatars.githubusercontent.com/u/35589221?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/haltman-at",
      "html_url": "https://github.com/haltman-at",
      "followers_url": "https://api.github.com/users/haltman-at/followers",
      "following_url": "https://api.github.com/users/haltman-at/following{/other_user}",
      "gists_url": "https://api.github.com/users/haltman-at/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/haltman-at/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/haltman-at/subscriptions",
      "organizations_url": "https://api.github.com/users/haltman-at/orgs",
      "repos_url": "https://api.github.com/users/haltman-at/repos",
      "events_url": "https://api.github.com/users/haltman-at/events{/privacy}",
      "received_events_url": "https://api.github.com/users/haltman-at/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-02-14T17:35:13Z",
    "updated_at": "2023-02-14T17:35:13Z",
    "author_association": "CONTRIBUTOR",
    "body": "No, we haven't decided what to do about this yet, sorry.  There is no presently-available workaround if that's what you were wondering.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/1430124879/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/1435359298",
    "html_url": "https://github.com/trufflesuite/truffle/issues/5856#issuecomment-1435359298",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/5856",
    "id": 1435359298,
    "node_id": "IC_kwDOAkfq-c5VjdhC",
    "user": {
      "login": "haltman-at",
      "id": 35589221,
      "node_id": "MDQ6VXNlcjM1NTg5MjIx",
      "avatar_url": "https://avatars.githubusercontent.com/u/35589221?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/haltman-at",
      "html_url": "https://github.com/haltman-at",
      "followers_url": "https://api.github.com/users/haltman-at/followers",
      "following_url": "https://api.github.com/users/haltman-at/following{/other_user}",
      "gists_url": "https://api.github.com/users/haltman-at/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/haltman-at/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/haltman-at/subscriptions",
      "organizations_url": "https://api.github.com/users/haltman-at/orgs",
      "repos_url": "https://api.github.com/users/haltman-at/repos",
      "events_url": "https://api.github.com/users/haltman-at/events{/privacy}",
      "received_events_url": "https://api.github.com/users/haltman-at/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-02-17T22:40:26Z",
    "updated_at": "2023-02-17T22:40:26Z",
    "author_association": "CONTRIBUTOR",
    "body": "Hey, apologies -- we still haven't determined what we're doing about this and I'm going to be on sabbatical for the next 6 weeks, so, I'm afraid it's going to be some time before we fix this... sorry!  We'll take another look when I'm back.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/1435359298/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
