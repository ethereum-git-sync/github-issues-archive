{
  "url": "https://api.github.com/repos/trufflesuite/truffle/issues/4188",
  "repository_url": "https://api.github.com/repos/trufflesuite/truffle",
  "labels_url": "https://api.github.com/repos/trufflesuite/truffle/issues/4188/labels{/name}",
  "comments_url": "https://api.github.com/repos/trufflesuite/truffle/issues/4188/comments",
  "events_url": "https://api.github.com/repos/trufflesuite/truffle/issues/4188/events",
  "html_url": "https://github.com/trufflesuite/truffle/issues/4188",
  "id": 945625099,
  "node_id": "MDU6SXNzdWU5NDU2MjUwOTk=",
  "number": 4188,
  "title": "Truffle cannot use ganache app",
  "user": {
    "login": "Aragar199",
    "id": 14187644,
    "node_id": "MDQ6VXNlcjE0MTg3NjQ0",
    "avatar_url": "https://avatars.githubusercontent.com/u/14187644?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/Aragar199",
    "html_url": "https://github.com/Aragar199",
    "followers_url": "https://api.github.com/users/Aragar199/followers",
    "following_url": "https://api.github.com/users/Aragar199/following{/other_user}",
    "gists_url": "https://api.github.com/users/Aragar199/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/Aragar199/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/Aragar199/subscriptions",
    "organizations_url": "https://api.github.com/users/Aragar199/orgs",
    "repos_url": "https://api.github.com/users/Aragar199/repos",
    "events_url": "https://api.github.com/users/Aragar199/events{/privacy}",
    "received_events_url": "https://api.github.com/users/Aragar199/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2021-07-15T17:56:28Z",
  "updated_at": "2021-07-20T22:07:35Z",
  "closed_at": "2021-07-20T22:07:35Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "- [X] I've asked for help in the [Truffle Gitter](http://gitter.im/Consensys/truffle) before filing this issue.\r\n\r\n---------------------------\r\n\r\n## Issue\r\n\r\nIf you try to use the Ganache UI (*not* ganache-cli) on its default port of 7545, and `truffle develop` at the same time, develop indicates that it is connected to a ganache instance at port 9545,  even though there is no instance of ganache running at that port. Then when you run `test`, Truffle throws a Provider Error because it can't connect.\r\n\r\n## Steps to Reproduce\r\n\r\n1) Start Ganache UI, note the port by default is 7545\r\n2) Run `truffle develop` in a Truffle project, observe it says that develop is connected to port 9545\r\n3) Run `test`\r\n4) Observe error\r\n\r\n## Expected Behavior\r\n\r\nFor truffle develop to spin up a new ganache instance at 9545, the default develop port, and run tests against that instance. Or, in the alternative, for develop to connect to the ganache ui running at port 7545, and indicate that this is the case.\r\n\r\n## Actual Results\r\n\r\nrun `truffle develop`, then run `test`. \r\n\r\nThe error:\r\n```\r\nProviderError: \r\nCould not connect to your Ethereum client with the following parameters:\r\n    - host       > 127.0.0.1\r\n    - port       > 7545\r\n    - network_id > 5777\r\nPlease check that your Ethereum client:\r\n    - is running\r\n    - is accepting RPC connections (i.e., \"--rpc\" option is used in geth)\r\n    - is accessible over the network\r\n    - is properly configured in your Truffle configuration file (truffle-config.js)\r\n\r\n      at /usr/local/lib/node_modules/truffle/build/webpack:/packages/provider/wrapper.js:73:1\r\n      at /usr/local/lib/node_modules/truffle/build/webpack:/packages/provider/wrapper.js:102:1\r\n      at XMLHttpRequest.request.onreadystatechange (/usr/local/lib/node_modules/truffle/build/webpack:/node_modules/web3/node_modules/web3-providers-http/lib/index.js:98:1)\r\n      at XMLHttpRequestEventTarget.dispatchEvent (/usr/local/lib/node_modules/truffle/build/webpack:/node_modules/xhr2-cookies/dist/xml-http-request-event-target.js:34:1)\r\n      at XMLHttpRequest.exports.modules.996763.XMLHttpRequest._setReadyState (/usr/local/lib/node_modules/truffle/build/webpack:/node_modules/xhr2-cookies/dist/xml-http-request.js:208:1)\r\n      at XMLHttpRequest.exports.modules.996763.XMLHttpRequest._onHttpRequestError (/usr/local/lib/node_modules/truffle/build/webpack:/node_modules/xhr2-cookies/dist/xml-http-request.js:349:1)\r\n      at ClientRequest.<anonymous> (/usr/local/lib/node_modules/truffle/build/webpack:/node_modules/xhr2-cookies/dist/xml-http-request.js:252:47)\r\n      at Socket.socketOnEnd (_http_client.js:458:9)\r\n      at endReadableNT (_stream_readable.js:1241:12)\r\n      at processTicksAndRejections (internal/process/task_queues.js:84:21)\r\n```\r\n\r\n## Environment\r\n\r\n* Operating System:  macOS Big Sur v11.4\r\n* Truffle v5.4.0 (core: 5.4.0)\r\n* Solidity - ^0.6.2 (solc-js)\r\n* Node v12.22.1\r\n* Web3.js v1.4.0\r\n",
  "closed_by": {
    "login": "Aragar199",
    "id": 14187644,
    "node_id": "MDQ6VXNlcjE0MTg3NjQ0",
    "avatar_url": "https://avatars.githubusercontent.com/u/14187644?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/Aragar199",
    "html_url": "https://github.com/Aragar199",
    "followers_url": "https://api.github.com/users/Aragar199/followers",
    "following_url": "https://api.github.com/users/Aragar199/following{/other_user}",
    "gists_url": "https://api.github.com/users/Aragar199/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/Aragar199/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/Aragar199/subscriptions",
    "organizations_url": "https://api.github.com/users/Aragar199/orgs",
    "repos_url": "https://api.github.com/users/Aragar199/repos",
    "events_url": "https://api.github.com/users/Aragar199/events{/privacy}",
    "received_events_url": "https://api.github.com/users/Aragar199/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/4188/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/trufflesuite/truffle/issues/4188/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/883544954",
    "html_url": "https://github.com/trufflesuite/truffle/issues/4188#issuecomment-883544954",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/4188",
    "id": 883544954,
    "node_id": "IC_kwDOAkfq-c40qdN6",
    "user": {
      "login": "eggplantzzz",
      "id": 14827965,
      "node_id": "MDQ6VXNlcjE0ODI3OTY1",
      "avatar_url": "https://avatars.githubusercontent.com/u/14827965?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eggplantzzz",
      "html_url": "https://github.com/eggplantzzz",
      "followers_url": "https://api.github.com/users/eggplantzzz/followers",
      "following_url": "https://api.github.com/users/eggplantzzz/following{/other_user}",
      "gists_url": "https://api.github.com/users/eggplantzzz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eggplantzzz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eggplantzzz/subscriptions",
      "organizations_url": "https://api.github.com/users/eggplantzzz/orgs",
      "repos_url": "https://api.github.com/users/eggplantzzz/repos",
      "events_url": "https://api.github.com/users/eggplantzzz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eggplantzzz/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-20T16:53:06Z",
    "updated_at": "2021-07-20T16:53:06Z",
    "author_association": "CONTRIBUTOR",
    "body": "Hey @Aragar199! When you use `truffle develop`, Truffle internally spins up its own version of Ganache and uses that. If you want to connect to Ganache UI you should use `truffle console --network <networkName>` where `<networkName>` is the name of a network you have configured in your `truffle-config.js`. \r\n\r\nIncidentally, I don't get an error when I follow your steps above. Maybe you have some other things running at those ports somehow? If you restart your computer and try again, do you still get the error?",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/883544954/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/883738572",
    "html_url": "https://github.com/trufflesuite/truffle/issues/4188#issuecomment-883738572",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/4188",
    "id": 883738572,
    "node_id": "IC_kwDOAkfq-c40rMfM",
    "user": {
      "login": "Aragar199",
      "id": 14187644,
      "node_id": "MDQ6VXNlcjE0MTg3NjQ0",
      "avatar_url": "https://avatars.githubusercontent.com/u/14187644?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Aragar199",
      "html_url": "https://github.com/Aragar199",
      "followers_url": "https://api.github.com/users/Aragar199/followers",
      "following_url": "https://api.github.com/users/Aragar199/following{/other_user}",
      "gists_url": "https://api.github.com/users/Aragar199/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Aragar199/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Aragar199/subscriptions",
      "organizations_url": "https://api.github.com/users/Aragar199/orgs",
      "repos_url": "https://api.github.com/users/Aragar199/repos",
      "events_url": "https://api.github.com/users/Aragar199/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Aragar199/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-20T22:07:33Z",
    "updated_at": "2021-07-20T22:07:33Z",
    "author_association": "NONE",
    "body": "No, I don't get the error after restarting. Thanks! Closing the ticket.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/883738572/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
