{
  "url": "https://api.github.com/repos/trufflesuite/truffle/issues/2132",
  "repository_url": "https://api.github.com/repos/trufflesuite/truffle",
  "labels_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2132/labels{/name}",
  "comments_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2132/comments",
  "events_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2132/events",
  "html_url": "https://github.com/trufflesuite/truffle/issues/2132",
  "id": 461030874,
  "node_id": "MDU6SXNzdWU0NjEwMzA4NzQ=",
  "number": 2132,
  "title": "Compilation with `SMTChecker` fails",
  "user": {
    "login": "elenadimitrova",
    "id": 703848,
    "node_id": "MDQ6VXNlcjcwMzg0OA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/703848?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/elenadimitrova",
    "html_url": "https://github.com/elenadimitrova",
    "followers_url": "https://api.github.com/users/elenadimitrova/followers",
    "following_url": "https://api.github.com/users/elenadimitrova/following{/other_user}",
    "gists_url": "https://api.github.com/users/elenadimitrova/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/elenadimitrova/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/elenadimitrova/subscriptions",
    "organizations_url": "https://api.github.com/users/elenadimitrova/orgs",
    "repos_url": "https://api.github.com/users/elenadimitrova/repos",
    "events_url": "https://api.github.com/users/elenadimitrova/events{/privacy}",
    "received_events_url": "https://api.github.com/users/elenadimitrova/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 644098328,
      "node_id": "MDU6TGFiZWw2NDQwOTgzMjg=",
      "url": "https://api.github.com/repos/trufflesuite/truffle/labels/needs%20reproduced",
      "name": "needs reproduced",
      "color": "fbca04",
      "default": false,
      "description": null
    },
    {
      "id": 971681714,
      "node_id": "MDU6TGFiZWw5NzE2ODE3MTQ=",
      "url": "https://api.github.com/repos/trufflesuite/truffle/labels/Compiler",
      "name": "Compiler",
      "color": "b60205",
      "default": false,
      "description": ""
    },
    {
      "id": 1088150379,
      "node_id": "MDU6TGFiZWwxMDg4MTUwMzc5",
      "url": "https://api.github.com/repos/trufflesuite/truffle/labels/error%20better",
      "name": "error better",
      "color": "f27915",
      "default": false,
      "description": "issue indicates improvement to error messaging"
    },
    {
      "id": 1675042241,
      "node_id": "MDU6TGFiZWwxNjc1MDQyMjQx",
      "url": "https://api.github.com/repos/trufflesuite/truffle/labels/priority5%20%F0%9F%8C%80",
      "name": "priority5 ðŸŒ€",
      "color": "006b75",
      "default": false,
      "description": ""
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 5,
  "created_at": "2019-06-26T15:12:15Z",
  "updated_at": "2020-09-16T15:36:16Z",
  "closed_at": null,
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "## Issue\r\n\r\nCompilation with `SMTChecker` fails with  `InternalCompilerError`\r\n\r\n## Steps to Reproduce\r\n\r\n1. Build custom `solc` with Z3 support\r\nNote that installing Z3 for me wasn't exactly straight forward, so I've recorded the steps in point 1 here https://github.com/JoinColony/colonyNetwork/issues/547\r\n\r\n2. Switch the `truffle` compiler to use this\r\n```\r\ncompilers: {\r\n    solc: {\r\n      version: \"native\"\r\n    }\r\n  }\r\n```\r\n3. Add `pragma experimental \"SMTChecker\";` to a single contract. \r\n4. Run `truffle compile`\r\n\r\n## Expected Behavior\r\n\r\nContract compiles successfully \r\n\r\n## Actual Results\r\n\r\n```\r\n$ /Users/Elena/colonyNetwork/node_modules/.bin/truffle compile\r\n\r\nCompiling your contracts...\r\n===========================\r\n> Compiling ./contracts/Colony.sol\r\n> Compiling ./contracts/ColonyFunding.sol\r\n> Compiling ./contracts/ColonyPayment.sol\r\n> Compiling ./contracts/ColonyStorage.sol\r\n> Compiling ./contracts/ColonyTask.sol\r\n> Compiling ./contracts/PatriciaTree/Data.sol\r\n> Compiling ./contracts/PatriciaTree/IPatriciaTree.sol\r\n> Compiling ./contracts/PatriciaTree/IPatriciaTreeBase.sol\r\n> Compiling ./contracts/PatriciaTree/IPatriciaTreeNoHash.sol\r\n> Compiling ./contracts/PatriciaTree/PatriciaTree.sol\r\n> Compiling ./contracts/PatriciaTree/PatriciaTreeBase.sol\r\n> Compiling ./contracts/PatriciaTree/PatriciaTreeNoHash.sol\r\n> Compiling ./contracts/PatriciaTree/PatriciaTreeProofs.sol\r\n> Compiling ./contracts/ReputationMiningCycle.sol\r\n> Compiling ./contracts/ReputationMiningCycleRespond.sol\r\n> Compiling ./contracts/testHelpers/FunctionsNotAvailableOnColony.sol\r\n> Compiling ./contracts/testHelpers/NoLimitSubdomains.sol\r\n> Compiling ./contracts/testHelpers/TaskSkillEditing.sol\r\n\r\nInternalCompilerError:\r\n\r\nCompilation failed. See above.\r\nTruffle v5.0.18 (core: 5.0.18)\r\nNode v10.13.0\r\nerror Command failed with exit code 1.\r\n```\r\n\r\n## Environment\r\n\r\n* Operating System: OSX\r\n* Ethereum client: `ganache-cli`\r\n* Truffle version (`truffle version`): 5.0.18\r\n* node version (`node --version`): 10.12.0\r\n* npm version (`npm --version`): 6.4.1\r\n",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/2132/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2132/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/505925132",
    "html_url": "https://github.com/trufflesuite/truffle/issues/2132#issuecomment-505925132",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2132",
    "id": 505925132,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUwNTkyNTEzMg==",
    "user": {
      "login": "CruzMolina",
      "id": 7537712,
      "node_id": "MDQ6VXNlcjc1Mzc3MTI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7537712?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/CruzMolina",
      "html_url": "https://github.com/CruzMolina",
      "followers_url": "https://api.github.com/users/CruzMolina/followers",
      "following_url": "https://api.github.com/users/CruzMolina/following{/other_user}",
      "gists_url": "https://api.github.com/users/CruzMolina/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/CruzMolina/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/CruzMolina/subscriptions",
      "organizations_url": "https://api.github.com/users/CruzMolina/orgs",
      "repos_url": "https://api.github.com/users/CruzMolina/repos",
      "events_url": "https://api.github.com/users/CruzMolina/events{/privacy}",
      "received_events_url": "https://api.github.com/users/CruzMolina/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-06-26T15:26:31Z",
    "updated_at": "2019-06-26T15:28:01Z",
    "author_association": "CONTRIBUTOR",
    "body": "@elenadimitrova are you able to successfully compile your contracts using the custom `solc` outside of truffle?\r\n\r\n`InternalCompilerError` looks like a solc compiler specific error. \r\n\r\nEdit: [See item 9](https://solidity.readthedocs.io/en/v0.5.10/using-the-compiler.html?highlight=error#error-types).",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/505925132/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/505993601",
    "html_url": "https://github.com/trufflesuite/truffle/issues/2132#issuecomment-505993601",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2132",
    "id": 505993601,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUwNTk5MzYwMQ==",
    "user": {
      "login": "elenadimitrova",
      "id": 703848,
      "node_id": "MDQ6VXNlcjcwMzg0OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/703848?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/elenadimitrova",
      "html_url": "https://github.com/elenadimitrova",
      "followers_url": "https://api.github.com/users/elenadimitrova/followers",
      "following_url": "https://api.github.com/users/elenadimitrova/following{/other_user}",
      "gists_url": "https://api.github.com/users/elenadimitrova/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/elenadimitrova/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/elenadimitrova/subscriptions",
      "organizations_url": "https://api.github.com/users/elenadimitrova/orgs",
      "repos_url": "https://api.github.com/users/elenadimitrova/repos",
      "events_url": "https://api.github.com/users/elenadimitrova/events{/privacy}",
      "received_events_url": "https://api.github.com/users/elenadimitrova/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-06-26T18:31:04Z",
    "updated_at": "2019-06-26T18:31:04Z",
    "author_association": "NONE",
    "body": "Yes indeed. I logged it separately, see above. It'll be nice that we actually get the compiler internal output on error with `truffle` as reproducing it with `solc` itself is not always as straight forward. For example when running `solc --allow-paths` I have not found a way to do this sort of thing with the path `truffle compile --contracts_directory 'lib/dappsys/[!note][!stop][!proxy][!thing][!token]*.sol'`",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/505993601/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/690518330",
    "html_url": "https://github.com/trufflesuite/truffle/issues/2132#issuecomment-690518330",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2132",
    "id": 690518330,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY5MDUxODMzMA==",
    "user": {
      "login": "fxfactorial",
      "id": 3036816,
      "node_id": "MDQ6VXNlcjMwMzY4MTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3036816?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fxfactorial",
      "html_url": "https://github.com/fxfactorial",
      "followers_url": "https://api.github.com/users/fxfactorial/followers",
      "following_url": "https://api.github.com/users/fxfactorial/following{/other_user}",
      "gists_url": "https://api.github.com/users/fxfactorial/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fxfactorial/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fxfactorial/subscriptions",
      "organizations_url": "https://api.github.com/users/fxfactorial/orgs",
      "repos_url": "https://api.github.com/users/fxfactorial/repos",
      "events_url": "https://api.github.com/users/fxfactorial/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fxfactorial/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-09-10T17:02:57Z",
    "updated_at": "2020-09-10T17:02:57Z",
    "author_association": "NONE",
    "body": "Ping - has there been any update to this - would be great if it was straight forward as in truffle config the solc.version could accept something like `0.6.12+z3` or something like that \r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/690518330/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/693478055",
    "html_url": "https://github.com/trufflesuite/truffle/issues/2132#issuecomment-693478055",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2132",
    "id": 693478055,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY5MzQ3ODA1NQ==",
    "user": {
      "login": "eggplantzzz",
      "id": 14827965,
      "node_id": "MDQ6VXNlcjE0ODI3OTY1",
      "avatar_url": "https://avatars.githubusercontent.com/u/14827965?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eggplantzzz",
      "html_url": "https://github.com/eggplantzzz",
      "followers_url": "https://api.github.com/users/eggplantzzz/followers",
      "following_url": "https://api.github.com/users/eggplantzzz/following{/other_user}",
      "gists_url": "https://api.github.com/users/eggplantzzz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eggplantzzz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eggplantzzz/subscriptions",
      "organizations_url": "https://api.github.com/users/eggplantzzz/orgs",
      "repos_url": "https://api.github.com/users/eggplantzzz/repos",
      "events_url": "https://api.github.com/users/eggplantzzz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eggplantzzz/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-09-16T15:21:09Z",
    "updated_at": "2020-09-16T15:21:09Z",
    "author_association": "CONTRIBUTOR",
    "body": "I'm not sure there has been any activity on this yet. Are you saying you want to configure your own version of solc? You can indeed do that kind of thing - you can specify a path to a local solc, a docker image, whaterver solc is installed natively, or any version you can find when doing `truffle compile --list`. I don't know if this is helpful but here are the compiler config docs https://www.trufflesuite.com/docs/truffle/reference/configuration#solc",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/693478055/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/693487595",
    "html_url": "https://github.com/trufflesuite/truffle/issues/2132#issuecomment-693487595",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2132",
    "id": 693487595,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY5MzQ4NzU5NQ==",
    "user": {
      "login": "fxfactorial",
      "id": 3036816,
      "node_id": "MDQ6VXNlcjMwMzY4MTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3036816?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fxfactorial",
      "html_url": "https://github.com/fxfactorial",
      "followers_url": "https://api.github.com/users/fxfactorial/followers",
      "following_url": "https://api.github.com/users/fxfactorial/following{/other_user}",
      "gists_url": "https://api.github.com/users/fxfactorial/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fxfactorial/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fxfactorial/subscriptions",
      "organizations_url": "https://api.github.com/users/fxfactorial/orgs",
      "repos_url": "https://api.github.com/users/fxfactorial/repos",
      "events_url": "https://api.github.com/users/fxfactorial/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fxfactorial/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-09-16T15:36:16Z",
    "updated_at": "2020-09-16T15:36:16Z",
    "author_association": "NONE",
    "body": "ya - something like that - like so that truffle could compile with the version of solidity that was built with smt checking enabled\r\n\r\nwill check that doc - \r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/693487595/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
