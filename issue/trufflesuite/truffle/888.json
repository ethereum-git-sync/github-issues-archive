{
  "url": "https://api.github.com/repos/trufflesuite/truffle/issues/888",
  "repository_url": "https://api.github.com/repos/trufflesuite/truffle",
  "labels_url": "https://api.github.com/repos/trufflesuite/truffle/issues/888/labels{/name}",
  "comments_url": "https://api.github.com/repos/trufflesuite/truffle/issues/888/comments",
  "events_url": "https://api.github.com/repos/trufflesuite/truffle/issues/888/events",
  "html_url": "https://github.com/trufflesuite/truffle/issues/888",
  "id": 312323562,
  "node_id": "MDU6SXNzdWUzMTIzMjM1NjI=",
  "number": 888,
  "title": "Support resetting accounts after each test",
  "user": {
    "login": "Nick-Lucas",
    "id": 8896153,
    "node_id": "MDQ6VXNlcjg4OTYxNTM=",
    "avatar_url": "https://avatars.githubusercontent.com/u/8896153?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/Nick-Lucas",
    "html_url": "https://github.com/Nick-Lucas",
    "followers_url": "https://api.github.com/users/Nick-Lucas/followers",
    "following_url": "https://api.github.com/users/Nick-Lucas/following{/other_user}",
    "gists_url": "https://api.github.com/users/Nick-Lucas/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/Nick-Lucas/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/Nick-Lucas/subscriptions",
    "organizations_url": "https://api.github.com/users/Nick-Lucas/orgs",
    "repos_url": "https://api.github.com/users/Nick-Lucas/repos",
    "events_url": "https://api.github.com/users/Nick-Lucas/events{/privacy}",
    "received_events_url": "https://api.github.com/users/Nick-Lucas/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 230393328,
      "node_id": "MDU6TGFiZWwyMzAzOTMzMjg=",
      "url": "https://api.github.com/repos/trufflesuite/truffle/labels/enhancement",
      "name": "enhancement",
      "color": "84b6eb",
      "default": true,
      "description": null
    },
    {
      "id": 230393329,
      "node_id": "MDU6TGFiZWwyMzAzOTMzMjk=",
      "url": "https://api.github.com/repos/trufflesuite/truffle/labels/help%20wanted",
      "name": "help wanted",
      "color": "159818",
      "default": true,
      "description": null
    },
    {
      "id": 1041903922,
      "node_id": "MDU6TGFiZWwxMDQxOTAzOTIy",
      "url": "https://api.github.com/repos/trufflesuite/truffle/labels/truffle%20test",
      "name": "truffle test",
      "color": "bfdadc",
      "default": false,
      "description": ""
    },
    {
      "id": 1086852667,
      "node_id": "MDU6TGFiZWwxMDg2ODUyNjY3",
      "url": "https://api.github.com/repos/trufflesuite/truffle/labels/needs%20requirements",
      "name": "needs requirements",
      "color": "d4c5f9",
      "default": false,
      "description": "feature request is unclear"
    },
    {
      "id": 1675042518,
      "node_id": "MDU6TGFiZWwxNjc1MDQyNTE4",
      "url": "https://api.github.com/repos/trufflesuite/truffle/labels/priority6%20%F0%9F%92%AD",
      "name": "priority6 ðŸ’­",
      "color": "006b75",
      "default": false,
      "description": ""
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 22,
  "created_at": "2018-04-08T17:28:02Z",
  "updated_at": "2021-05-08T01:15:12Z",
  "closed_at": null,
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "## Issue\r\n\r\nGood tests should always start from a clean slate, and not depend on the results of previous tests. Currently the test network is reset before each `Contract` suite, and it seems there is no way to reset programmatically in tests or with some configuration.\r\n\r\n## Steps to Reproduce\r\n\r\n* Create a test file with a Contract block\r\n* Add multiple `It(...)` tests which assume a blank slate and make changes to accounts ether balances (etc)\r\n* Observe that all but the first test will fail, as the state is not blank anymore\r\n\r\n## Expected Behavior\r\n\r\nA setting or globally available function would allow for resetting of accounts, when the developer needs to start from a blank slate more regularly\r\n\r\n# Potential solution\r\n\r\nI've had a read of how truffle works, and played with a solution like the following:\r\n\r\nhttps://github.com/trufflesuite/truffle-core/blob/develop/lib/test.js#L218\r\n```javascript\r\n\t  global.resetState = function() {\r\n\t\trunner.resetState(function() { console.log(\"State Reset By Test\")  })\r\n\t  }\r\n          // OR\r\n\t  global.resetState = function() {\r\n\t\trunner.initialize(function(err) { \r\n\t\t\terr \r\n\t\t\t? console.log('Failed Resetting State') \r\n\t\t\t: console.log(\"State Reset By Test\")  }\r\n\t\t)\r\n\t  }\r\n```\r\n\r\nUnfortunately this doesn't seem to actually work, but providing a working reset method or helpers class in the global scope would open up a lot of doors for developers.",
  "closed_by": {
    "login": "stale[bot]",
    "id": 26384082,
    "node_id": "MDM6Qm90MjYzODQwODI=",
    "avatar_url": "https://avatars.githubusercontent.com/in/1724?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/stale%5Bbot%5D",
    "html_url": "https://github.com/apps/stale",
    "followers_url": "https://api.github.com/users/stale%5Bbot%5D/followers",
    "following_url": "https://api.github.com/users/stale%5Bbot%5D/following{/other_user}",
    "gists_url": "https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/stale%5Bbot%5D/subscriptions",
    "organizations_url": "https://api.github.com/users/stale%5Bbot%5D/orgs",
    "repos_url": "https://api.github.com/users/stale%5Bbot%5D/repos",
    "events_url": "https://api.github.com/users/stale%5Bbot%5D/events{/privacy}",
    "received_events_url": "https://api.github.com/users/stale%5Bbot%5D/received_events",
    "type": "Bot",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/888/reactions",
    "total_count": 6,
    "+1": 6,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/trufflesuite/truffle/issues/888/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/379845476",
    "html_url": "https://github.com/trufflesuite/truffle/issues/888#issuecomment-379845476",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/888",
    "id": 379845476,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3OTg0NTQ3Ng==",
    "user": {
      "login": "cgewecke",
      "id": 7332026,
      "node_id": "MDQ6VXNlcjczMzIwMjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7332026?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cgewecke",
      "html_url": "https://github.com/cgewecke",
      "followers_url": "https://api.github.com/users/cgewecke/followers",
      "following_url": "https://api.github.com/users/cgewecke/following{/other_user}",
      "gists_url": "https://api.github.com/users/cgewecke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cgewecke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cgewecke/subscriptions",
      "organizations_url": "https://api.github.com/users/cgewecke/orgs",
      "repos_url": "https://api.github.com/users/cgewecke/repos",
      "events_url": "https://api.github.com/users/cgewecke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cgewecke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-04-09T18:17:53Z",
    "updated_at": "2018-04-09T18:17:53Z",
    "author_association": "CONTRIBUTOR",
    "body": "@Nick-Lucas Thanks, this makes sense and is nicely expressed. In practice what people often do is manage their own contract instantiation in a `beforeEach` block. Example: \r\n\r\n```javascript\r\ncontract('SimpleContract', function(accounts){\r\n   let simpleContract;\r\n\r\n   beforeEach(async function(){\r\n     simpleContract = await SimpleContract.new();\r\n   });\r\n```\r\n\r\nAre there use cases where the strategy above isn't adequate? \r\n\r\n\r\n\r\n\r\n\r\n   ",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/379845476/reactions",
      "total_count": 3,
      "+1": 3,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/379894086",
    "html_url": "https://github.com/trufflesuite/truffle/issues/888#issuecomment-379894086",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/888",
    "id": 379894086,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3OTg5NDA4Ng==",
    "user": {
      "login": "Nick-Lucas",
      "id": 8896153,
      "node_id": "MDQ6VXNlcjg4OTYxNTM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8896153?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Nick-Lucas",
      "html_url": "https://github.com/Nick-Lucas",
      "followers_url": "https://api.github.com/users/Nick-Lucas/followers",
      "following_url": "https://api.github.com/users/Nick-Lucas/following{/other_user}",
      "gists_url": "https://api.github.com/users/Nick-Lucas/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Nick-Lucas/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Nick-Lucas/subscriptions",
      "organizations_url": "https://api.github.com/users/Nick-Lucas/orgs",
      "repos_url": "https://api.github.com/users/Nick-Lucas/repos",
      "events_url": "https://api.github.com/users/Nick-Lucas/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Nick-Lucas/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-04-09T21:06:13Z",
    "updated_at": "2018-04-09T21:06:13Z",
    "author_association": "NONE",
    "body": "Yes, to clarify, a different solution is needed to reset Ether values on the accounts. Redeploying contracts is a decent workaround for resetting application state, but if I want my contracts to receive/send Ethereum then testing this functionality is difficult without a proper blank slate for each test.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/379894086/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 1,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/379908755",
    "html_url": "https://github.com/trufflesuite/truffle/issues/888#issuecomment-379908755",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/888",
    "id": 379908755,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3OTkwODc1NQ==",
    "user": {
      "login": "cgewecke",
      "id": 7332026,
      "node_id": "MDQ6VXNlcjczMzIwMjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7332026?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cgewecke",
      "html_url": "https://github.com/cgewecke",
      "followers_url": "https://api.github.com/users/cgewecke/followers",
      "following_url": "https://api.github.com/users/cgewecke/following{/other_user}",
      "gists_url": "https://api.github.com/users/cgewecke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cgewecke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cgewecke/subscriptions",
      "organizations_url": "https://api.github.com/users/cgewecke/orgs",
      "repos_url": "https://api.github.com/users/cgewecke/repos",
      "events_url": "https://api.github.com/users/cgewecke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cgewecke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-04-09T22:06:46Z",
    "updated_at": "2018-04-09T22:06:46Z",
    "author_association": "CONTRIBUTOR",
    "body": "@Nick-Lucas Ah yes, there it is! Right in the title of your issue, sorry. Agree, this option would be nice. \r\n\r\nAn interim workaround is to fetch balances at the beginning of a test and set expectations relative to that baseline. But it would be convenient not to do this for every test. \r\n\r\nAs a note, the value of reverting at the `contract` suite level instead of per test is that it speeds things up (deploying contracts can take a while). Your point about starting from a clean slate make sense but there's also some execution overhead associated with it in this context. ",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/379908755/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/379911742",
    "html_url": "https://github.com/trufflesuite/truffle/issues/888#issuecomment-379911742",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/888",
    "id": 379911742,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3OTkxMTc0Mg==",
    "user": {
      "login": "Nick-Lucas",
      "id": 8896153,
      "node_id": "MDQ6VXNlcjg4OTYxNTM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8896153?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Nick-Lucas",
      "html_url": "https://github.com/Nick-Lucas",
      "followers_url": "https://api.github.com/users/Nick-Lucas/followers",
      "following_url": "https://api.github.com/users/Nick-Lucas/following{/other_user}",
      "gists_url": "https://api.github.com/users/Nick-Lucas/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Nick-Lucas/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Nick-Lucas/subscriptions",
      "organizations_url": "https://api.github.com/users/Nick-Lucas/orgs",
      "repos_url": "https://api.github.com/users/Nick-Lucas/repos",
      "events_url": "https://api.github.com/users/Nick-Lucas/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Nick-Lucas/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-04-09T22:20:30Z",
    "updated_at": "2018-04-09T22:21:22Z",
    "author_association": "NONE",
    "body": "Yes, I believe this is what I'll be doing for the time-being.\r\n\r\nAs far as performance, that definitely makes this an optional function call, for developers to use or ignore. The current trade-off was a good call for most purposes.\r\n\r\nI'd be happy to submit a PR for this, but my concept code wasn't actually working, so any additional guidance would be really welcome. I'm guessing it's something to do with misusing the TestRunner code",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/379911742/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/379912543",
    "html_url": "https://github.com/trufflesuite/truffle/issues/888#issuecomment-379912543",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/888",
    "id": 379912543,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3OTkxMjU0Mw==",
    "user": {
      "login": "cgewecke",
      "id": 7332026,
      "node_id": "MDQ6VXNlcjczMzIwMjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7332026?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cgewecke",
      "html_url": "https://github.com/cgewecke",
      "followers_url": "https://api.github.com/users/cgewecke/followers",
      "following_url": "https://api.github.com/users/cgewecke/following{/other_user}",
      "gists_url": "https://api.github.com/users/cgewecke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cgewecke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cgewecke/subscriptions",
      "organizations_url": "https://api.github.com/users/cgewecke/orgs",
      "repos_url": "https://api.github.com/users/cgewecke/repos",
      "events_url": "https://api.github.com/users/cgewecke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cgewecke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-04-09T22:24:09Z",
    "updated_at": "2018-04-09T22:24:09Z",
    "author_association": "CONTRIBUTOR",
    "body": "@Nick-Lucas Ok thanks! Will have a look over there and see how this might be done . . . ",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/379912543/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/380413255",
    "html_url": "https://github.com/trufflesuite/truffle/issues/888#issuecomment-380413255",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/888",
    "id": 380413255,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4MDQxMzI1NQ==",
    "user": {
      "login": "eduardonunesp",
      "id": 582516,
      "node_id": "MDQ6VXNlcjU4MjUxNg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/582516?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eduardonunesp",
      "html_url": "https://github.com/eduardonunesp",
      "followers_url": "https://api.github.com/users/eduardonunesp/followers",
      "following_url": "https://api.github.com/users/eduardonunesp/following{/other_user}",
      "gists_url": "https://api.github.com/users/eduardonunesp/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eduardonunesp/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eduardonunesp/subscriptions",
      "organizations_url": "https://api.github.com/users/eduardonunesp/orgs",
      "repos_url": "https://api.github.com/users/eduardonunesp/repos",
      "events_url": "https://api.github.com/users/eduardonunesp/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eduardonunesp/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-04-11T11:04:00Z",
    "updated_at": "2018-04-11T11:05:36Z",
    "author_association": "NONE",
    "body": "@Nick-Lucas I assume that you are using the `ganache-cli` on tests? I wonder if the `evm_snapshot` and `evm_revert` makes sense. [ganache-cli methods](https://github.com/trufflesuite/ganache-cli#implemented-methods)\r\n\r\n* `evm_snapshot` : Snapshot the state of the blockchain at the current block. Takes no parameters. Returns the integer id of the snapshot created.\r\n* `evm_revert` : Revert the state of the blockchain to a previous snapshot. Takes a single parameter, which is the snapshot id to revert to. If no snapshot id is passed it will revert to the latest snapshot. Returns true.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/380413255/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/381356602",
    "html_url": "https://github.com/trufflesuite/truffle/issues/888#issuecomment-381356602",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/888",
    "id": 381356602,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4MTM1NjYwMg==",
    "user": {
      "login": "Nick-Lucas",
      "id": 8896153,
      "node_id": "MDQ6VXNlcjg4OTYxNTM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8896153?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Nick-Lucas",
      "html_url": "https://github.com/Nick-Lucas",
      "followers_url": "https://api.github.com/users/Nick-Lucas/followers",
      "following_url": "https://api.github.com/users/Nick-Lucas/following{/other_user}",
      "gists_url": "https://api.github.com/users/Nick-Lucas/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Nick-Lucas/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Nick-Lucas/subscriptions",
      "organizations_url": "https://api.github.com/users/Nick-Lucas/orgs",
      "repos_url": "https://api.github.com/users/Nick-Lucas/repos",
      "events_url": "https://api.github.com/users/Nick-Lucas/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Nick-Lucas/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-04-14T20:03:13Z",
    "updated_at": "2018-04-14T20:03:13Z",
    "author_association": "NONE",
    "body": "Hey @eduardonunesp apologies for the slow reply, crazy end to the week!\r\n\r\nI'm using truffle's testing framework with its default provider, which I understand *is* ganache behind the scenes, but it abstracts away the API and doesn't seem to inject that into the global scope either. I've seen in the source code that snapshots are already used for the reset operation at the start of `Contract` blocks, so it does sound about right.\r\n\r\nThat said you now have me wondering if I could connect to ganache from the test code, without truffle knowing. I expect it's communicated with over the the local network so could probably call the endpoints myself?",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/381356602/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/423479174",
    "html_url": "https://github.com/trufflesuite/truffle/issues/888#issuecomment-423479174",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/888",
    "id": 423479174,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQyMzQ3OTE3NA==",
    "user": {
      "login": "justinkchen",
      "id": 1000741,
      "node_id": "MDQ6VXNlcjEwMDA3NDE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1000741?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/justinkchen",
      "html_url": "https://github.com/justinkchen",
      "followers_url": "https://api.github.com/users/justinkchen/followers",
      "following_url": "https://api.github.com/users/justinkchen/following{/other_user}",
      "gists_url": "https://api.github.com/users/justinkchen/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/justinkchen/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/justinkchen/subscriptions",
      "organizations_url": "https://api.github.com/users/justinkchen/orgs",
      "repos_url": "https://api.github.com/users/justinkchen/repos",
      "events_url": "https://api.github.com/users/justinkchen/events{/privacy}",
      "received_events_url": "https://api.github.com/users/justinkchen/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-09-21T09:53:18Z",
    "updated_at": "2018-09-21T09:53:18Z",
    "author_association": "NONE",
    "body": "I'm also having trouble resetting in between tests. (it works at the contract level of each file but I need to reset account balances more often). Was there ever a solution? I'm trying evm_snapshot and evm_revert but the revert keeps having issues it seems",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/423479174/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/423531377",
    "html_url": "https://github.com/trufflesuite/truffle/issues/888#issuecomment-423531377",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/888",
    "id": 423531377,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQyMzUzMTM3Nw==",
    "user": {
      "login": "eduardonunesp",
      "id": 582516,
      "node_id": "MDQ6VXNlcjU4MjUxNg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/582516?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eduardonunesp",
      "html_url": "https://github.com/eduardonunesp",
      "followers_url": "https://api.github.com/users/eduardonunesp/followers",
      "following_url": "https://api.github.com/users/eduardonunesp/following{/other_user}",
      "gists_url": "https://api.github.com/users/eduardonunesp/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eduardonunesp/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eduardonunesp/subscriptions",
      "organizations_url": "https://api.github.com/users/eduardonunesp/orgs",
      "repos_url": "https://api.github.com/users/eduardonunesp/repos",
      "events_url": "https://api.github.com/users/eduardonunesp/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eduardonunesp/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-09-21T13:30:00Z",
    "updated_at": "2018-09-21T13:30:14Z",
    "author_association": "NONE",
    "body": "```js\r\nconst saveState = async () => {\r\n  return await web3.currentProvider.send({\r\n    jsonrpc: \"2.0\",\r\n    method: \"evm_snapshot\",\r\n    id: 0\r\n  })\r\n}\r\n\r\nconst revertState = async (id) => {\r\n  await web3.currentProvider.send({\r\n    jsonrpc: \"2.0\",\r\n    method: \"evm_revert\",\r\n    params: [id],\r\n    id: 0\r\n  })\r\n}\r\n\r\ncontract('SomeContract', () => {\r\n  let id\r\n  beforeEach(async () => {\r\n    id = await saveState()\r\n  })\r\n\r\n  afterEach(async() => {\r\n    await revertState(id)\r\n  })\r\n})\r\n```\r\n\r\n> Note: I didn't test",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/423531377/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/440290472",
    "html_url": "https://github.com/trufflesuite/truffle/issues/888#issuecomment-440290472",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/888",
    "id": 440290472,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ0MDI5MDQ3Mg==",
    "user": {
      "login": "stale[bot]",
      "id": 26384082,
      "node_id": "MDM6Qm90MjYzODQwODI=",
      "avatar_url": "https://avatars.githubusercontent.com/in/1724?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/stale%5Bbot%5D",
      "html_url": "https://github.com/apps/stale",
      "followers_url": "https://api.github.com/users/stale%5Bbot%5D/followers",
      "following_url": "https://api.github.com/users/stale%5Bbot%5D/following{/other_user}",
      "gists_url": "https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/stale%5Bbot%5D/subscriptions",
      "organizations_url": "https://api.github.com/users/stale%5Bbot%5D/orgs",
      "repos_url": "https://api.github.com/users/stale%5Bbot%5D/repos",
      "events_url": "https://api.github.com/users/stale%5Bbot%5D/events{/privacy}",
      "received_events_url": "https://api.github.com/users/stale%5Bbot%5D/received_events",
      "type": "Bot",
      "site_admin": false
    },
    "created_at": "2018-11-20T14:23:37Z",
    "updated_at": "2018-11-20T14:23:37Z",
    "author_association": "NONE",
    "body": "Thank you for raising this issue! It has been automatically marked as stale because it has not had recent activity. It will be closed in 7 days if no further activity occurs. If you would like to keep this issue open, please respond with information about the current state of this problem.\n",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/440290472/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/441579907",
    "html_url": "https://github.com/trufflesuite/truffle/issues/888#issuecomment-441579907",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/888",
    "id": 441579907,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ0MTU3OTkwNw==",
    "user": {
      "login": "sparrowDom",
      "id": 579910,
      "node_id": "MDQ6VXNlcjU3OTkxMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/579910?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sparrowDom",
      "html_url": "https://github.com/sparrowDom",
      "followers_url": "https://api.github.com/users/sparrowDom/followers",
      "following_url": "https://api.github.com/users/sparrowDom/following{/other_user}",
      "gists_url": "https://api.github.com/users/sparrowDom/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sparrowDom/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sparrowDom/subscriptions",
      "organizations_url": "https://api.github.com/users/sparrowDom/orgs",
      "repos_url": "https://api.github.com/users/sparrowDom/repos",
      "events_url": "https://api.github.com/users/sparrowDom/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sparrowDom/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-11-26T09:52:45Z",
    "updated_at": "2018-11-26T09:52:45Z",
    "author_association": "NONE",
    "body": "Has anybody tested solution presented by @eduardonunesp? And if yes how long does it take to save/revert state?",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/441579907/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/441579922",
    "html_url": "https://github.com/trufflesuite/truffle/issues/888#issuecomment-441579922",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/888",
    "id": 441579922,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ0MTU3OTkyMg==",
    "user": {
      "login": "stale[bot]",
      "id": 26384082,
      "node_id": "MDM6Qm90MjYzODQwODI=",
      "avatar_url": "https://avatars.githubusercontent.com/in/1724?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/stale%5Bbot%5D",
      "html_url": "https://github.com/apps/stale",
      "followers_url": "https://api.github.com/users/stale%5Bbot%5D/followers",
      "following_url": "https://api.github.com/users/stale%5Bbot%5D/following{/other_user}",
      "gists_url": "https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/stale%5Bbot%5D/subscriptions",
      "organizations_url": "https://api.github.com/users/stale%5Bbot%5D/orgs",
      "repos_url": "https://api.github.com/users/stale%5Bbot%5D/repos",
      "events_url": "https://api.github.com/users/stale%5Bbot%5D/events{/privacy}",
      "received_events_url": "https://api.github.com/users/stale%5Bbot%5D/received_events",
      "type": "Bot",
      "site_admin": false
    },
    "created_at": "2018-11-26T09:52:48Z",
    "updated_at": "2018-11-26T09:52:48Z",
    "author_association": "NONE",
    "body": "Thanks for your response! This issue is no longer considered stale and someone from the Truffle team will try to respond as soon as they can.\n",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/441579922/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/451523547",
    "html_url": "https://github.com/trufflesuite/truffle/issues/888#issuecomment-451523547",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/888",
    "id": 451523547,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1MTUyMzU0Nw==",
    "user": {
      "login": "AlexanderPoschenrieder",
      "id": 4099186,
      "node_id": "MDQ6VXNlcjQwOTkxODY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4099186?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/AlexanderPoschenrieder",
      "html_url": "https://github.com/AlexanderPoschenrieder",
      "followers_url": "https://api.github.com/users/AlexanderPoschenrieder/followers",
      "following_url": "https://api.github.com/users/AlexanderPoschenrieder/following{/other_user}",
      "gists_url": "https://api.github.com/users/AlexanderPoschenrieder/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/AlexanderPoschenrieder/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/AlexanderPoschenrieder/subscriptions",
      "organizations_url": "https://api.github.com/users/AlexanderPoschenrieder/orgs",
      "repos_url": "https://api.github.com/users/AlexanderPoschenrieder/repos",
      "events_url": "https://api.github.com/users/AlexanderPoschenrieder/events{/privacy}",
      "received_events_url": "https://api.github.com/users/AlexanderPoschenrieder/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-01-04T18:13:23Z",
    "updated_at": "2019-01-04T18:13:23Z",
    "author_association": "NONE",
    "body": "> ```js\r\n> const saveState = async () => {\r\n>   return await web3.currentProvider.send({\r\n>     jsonrpc: \"2.0\",\r\n>     method: \"evm_snapshot\",\r\n>     id: 0\r\n>   })\r\n> }\r\n> \r\n> const revertState = async (id) => {\r\n>   await web3.currentProvider.send({\r\n>     jsonrpc: \"2.0\",\r\n>     method: \"evm_revert\",\r\n>     params: [id],\r\n>     id: 0\r\n>   })\r\n> }\r\n> \r\n> contract('SomeContract', () => {\r\n>   let id\r\n>   beforeEach(async () => {\r\n>     id = await saveState()\r\n>   })\r\n> \r\n>   afterEach(async() => {\r\n>     await revertState(id)\r\n>   })\r\n> })\r\n> ```\r\n> \r\n> > Note: I didn't test\r\n\r\nA little fix:\r\n```js\r\nlet lastSnapshot;\r\n\r\nconst saveState = async () => {\r\n  const { result } = await web3.currentProvider.send({\r\n    jsonrpc: '2.0',\r\n    method: 'evm_snapshot',\r\n    id: 0\r\n  });\r\n\r\n  return parseInt(result, 0);\r\n};\r\n\r\nconst revertState = async () => {\r\n  await web3.currentProvider.send({\r\n    jsonrpc: '2.0',\r\n    method: 'evm_revert',\r\n    params: lastSnapshot,\r\n    id: 0\r\n  });\r\n\r\n  lastSnapshot = await saveState();\r\n};\r\n```\r\nPuting this on a little helper and calling `saveState` on `before` function and `revertState` on `beforeEach` works pretty well.\r\n `lastSnapshot` is a little workaround because ganache-cli hangs after the second consecutive revert on the same snapshot.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/451523547/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/454894012",
    "html_url": "https://github.com/trufflesuite/truffle/issues/888#issuecomment-454894012",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/888",
    "id": 454894012,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1NDg5NDAxMg==",
    "user": {
      "login": "gnidan",
      "id": 151065,
      "node_id": "MDQ6VXNlcjE1MTA2NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/151065?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gnidan",
      "html_url": "https://github.com/gnidan",
      "followers_url": "https://api.github.com/users/gnidan/followers",
      "following_url": "https://api.github.com/users/gnidan/following{/other_user}",
      "gists_url": "https://api.github.com/users/gnidan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gnidan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gnidan/subscriptions",
      "organizations_url": "https://api.github.com/users/gnidan/orgs",
      "repos_url": "https://api.github.com/users/gnidan/repos",
      "events_url": "https://api.github.com/users/gnidan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gnidan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-01-16T18:46:24Z",
    "updated_at": "2019-01-16T18:46:24Z",
    "author_association": "MEMBER",
    "body": "We will look into specing out requirements for this. We'll need to preserve backwards compatibility while providing a nice interface for doing this. Thank you!",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/454894012/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/493201849",
    "html_url": "https://github.com/trufflesuite/truffle/issues/888#issuecomment-493201849",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/888",
    "id": 493201849,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5MzIwMTg0OQ==",
    "user": {
      "login": "stale[bot]",
      "id": 26384082,
      "node_id": "MDM6Qm90MjYzODQwODI=",
      "avatar_url": "https://avatars.githubusercontent.com/in/1724?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/stale%5Bbot%5D",
      "html_url": "https://github.com/apps/stale",
      "followers_url": "https://api.github.com/users/stale%5Bbot%5D/followers",
      "following_url": "https://api.github.com/users/stale%5Bbot%5D/following{/other_user}",
      "gists_url": "https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/stale%5Bbot%5D/subscriptions",
      "organizations_url": "https://api.github.com/users/stale%5Bbot%5D/orgs",
      "repos_url": "https://api.github.com/users/stale%5Bbot%5D/repos",
      "events_url": "https://api.github.com/users/stale%5Bbot%5D/events{/privacy}",
      "received_events_url": "https://api.github.com/users/stale%5Bbot%5D/received_events",
      "type": "Bot",
      "site_admin": false
    },
    "created_at": "2019-05-16T19:30:54Z",
    "updated_at": "2019-05-16T19:30:54Z",
    "author_association": "NONE",
    "body": "Thank you for raising this issue! It has been automatically marked as stale because it has not had recent activity. It will be closed in 7 days if no further activity occurs. If you would like to keep this issue open, please respond with information about the current state of this problem.\n",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/493201849/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/497464057",
    "html_url": "https://github.com/trufflesuite/truffle/issues/888#issuecomment-497464057",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/888",
    "id": 497464057,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5NzQ2NDA1Nw==",
    "user": {
      "login": "stale[bot]",
      "id": 26384082,
      "node_id": "MDM6Qm90MjYzODQwODI=",
      "avatar_url": "https://avatars.githubusercontent.com/in/1724?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/stale%5Bbot%5D",
      "html_url": "https://github.com/apps/stale",
      "followers_url": "https://api.github.com/users/stale%5Bbot%5D/followers",
      "following_url": "https://api.github.com/users/stale%5Bbot%5D/following{/other_user}",
      "gists_url": "https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/stale%5Bbot%5D/subscriptions",
      "organizations_url": "https://api.github.com/users/stale%5Bbot%5D/orgs",
      "repos_url": "https://api.github.com/users/stale%5Bbot%5D/repos",
      "events_url": "https://api.github.com/users/stale%5Bbot%5D/events{/privacy}",
      "received_events_url": "https://api.github.com/users/stale%5Bbot%5D/received_events",
      "type": "Bot",
      "site_admin": false
    },
    "created_at": "2019-05-30T19:57:15Z",
    "updated_at": "2019-05-30T19:57:15Z",
    "author_association": "NONE",
    "body": "There has been no new activity on this issue since it was marked as stale 7 days ago, so it is being automatically closed.  If you'd like help with this or a different problem, please open a new issue. Thanks!\n",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/497464057/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/506744058",
    "html_url": "https://github.com/trufflesuite/truffle/issues/888#issuecomment-506744058",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/888",
    "id": 506744058,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUwNjc0NDA1OA==",
    "user": {
      "login": "ejwessel",
      "id": 3590816,
      "node_id": "MDQ6VXNlcjM1OTA4MTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3590816?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ejwessel",
      "html_url": "https://github.com/ejwessel",
      "followers_url": "https://api.github.com/users/ejwessel/followers",
      "following_url": "https://api.github.com/users/ejwessel/following{/other_user}",
      "gists_url": "https://api.github.com/users/ejwessel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ejwessel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ejwessel/subscriptions",
      "organizations_url": "https://api.github.com/users/ejwessel/orgs",
      "repos_url": "https://api.github.com/users/ejwessel/repos",
      "events_url": "https://api.github.com/users/ejwessel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ejwessel/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-06-28T13:58:45Z",
    "updated_at": "2019-06-28T13:58:45Z",
    "author_association": "NONE",
    "body": "@gnidan Has there been any progress on speccing the requirements and identifying issues with backwards compatibility? \r\n\r\nAlso has @tcoulter 's position changed on not `evm_revert`ing for every test per https://github.com/trufflesuite/truffle/pull/47#issuecomment-161432778 ?\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/506744058/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/506758157",
    "html_url": "https://github.com/trufflesuite/truffle/issues/888#issuecomment-506758157",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/888",
    "id": 506758157,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUwNjc1ODE1Nw==",
    "user": {
      "login": "gnidan",
      "id": 151065,
      "node_id": "MDQ6VXNlcjE1MTA2NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/151065?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gnidan",
      "html_url": "https://github.com/gnidan",
      "followers_url": "https://api.github.com/users/gnidan/followers",
      "following_url": "https://api.github.com/users/gnidan/following{/other_user}",
      "gists_url": "https://api.github.com/users/gnidan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gnidan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gnidan/subscriptions",
      "organizations_url": "https://api.github.com/users/gnidan/orgs",
      "repos_url": "https://api.github.com/users/gnidan/repos",
      "events_url": "https://api.github.com/users/gnidan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gnidan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-06-28T14:39:06Z",
    "updated_at": "2019-06-28T14:39:06Z",
    "author_association": "MEMBER",
    "body": "Hey @ejwessel, nope, no progress yet on this specifically. CursÃ¨d Stalebot is now disabled so we won't risk this issue getting lost to history again.\r\n\r\nAs for position on this: I'd say no, Tim probably feels the same way as he used to, and I agree with him. But! Definitely we could support this as a configuration option.\r\n\r\nNot sure about team bandwidth to work on this in the near-term, so I'm going to slap the \"help wanted\" label on this issue. If anyone wants to work on a PR, I'd love to see the addition of configuration options to customize this revert behavior. Might be worth syncing up before starting work, though. If anyone's interested, let me know!",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/506758157/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/506762769",
    "html_url": "https://github.com/trufflesuite/truffle/issues/888#issuecomment-506762769",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/888",
    "id": 506762769,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUwNjc2Mjc2OQ==",
    "user": {
      "login": "ejwessel",
      "id": 3590816,
      "node_id": "MDQ6VXNlcjM1OTA4MTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3590816?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ejwessel",
      "html_url": "https://github.com/ejwessel",
      "followers_url": "https://api.github.com/users/ejwessel/followers",
      "following_url": "https://api.github.com/users/ejwessel/following{/other_user}",
      "gists_url": "https://api.github.com/users/ejwessel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ejwessel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ejwessel/subscriptions",
      "organizations_url": "https://api.github.com/users/ejwessel/orgs",
      "repos_url": "https://api.github.com/users/ejwessel/repos",
      "events_url": "https://api.github.com/users/ejwessel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ejwessel/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-06-28T14:51:53Z",
    "updated_at": "2019-06-28T14:51:53Z",
    "author_association": "NONE",
    "body": "> Definitely we could support this as a configuration option.\r\n\r\nI'd be down for this. IMO think its better than not having it.\r\n\r\n> Not sure about team bandwidth to work on this in the near-term, so I'm going to slap the \"help wanted\" label on this issue. If anyone wants to work on a PR, I'd love to see the addition of configuration options to customize this revert behavior. Might be worth syncing up before starting work, though. If anyone's interested, let me know!\r\n\r\nI just started looking at:\r\nhttps://github.com/trufflesuite/truffle/blob/master/packages/truffle-core/lib/testing/testrunner.js\r\nand it's' usage in:\r\nhttps://github.com/trufflesuite/truffle/blob/master/packages/truffle-core/lib/test.js\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/506762769/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/507510633",
    "html_url": "https://github.com/trufflesuite/truffle/issues/888#issuecomment-507510633",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/888",
    "id": 507510633,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUwNzUxMDYzMw==",
    "user": {
      "login": "ejwessel",
      "id": 3590816,
      "node_id": "MDQ6VXNlcjM1OTA4MTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3590816?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ejwessel",
      "html_url": "https://github.com/ejwessel",
      "followers_url": "https://api.github.com/users/ejwessel/followers",
      "following_url": "https://api.github.com/users/ejwessel/following{/other_user}",
      "gists_url": "https://api.github.com/users/ejwessel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ejwessel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ejwessel/subscriptions",
      "organizations_url": "https://api.github.com/users/ejwessel/orgs",
      "repos_url": "https://api.github.com/users/ejwessel/repos",
      "events_url": "https://api.github.com/users/ejwessel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ejwessel/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-07-02T04:12:12Z",
    "updated_at": "2019-07-02T04:12:12Z",
    "author_association": "NONE",
    "body": "@gnidan \r\nBeen poking around. Are either of the two files I noted earlier areas I should start with? ",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/507510633/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/834924716",
    "html_url": "https://github.com/trufflesuite/truffle/issues/888#issuecomment-834924716",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/888",
    "id": 834924716,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgzNDkyNDcxNg==",
    "user": {
      "login": "aress31",
      "id": 11601622,
      "node_id": "MDQ6VXNlcjExNjAxNjIy",
      "avatar_url": "https://avatars.githubusercontent.com/u/11601622?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/aress31",
      "html_url": "https://github.com/aress31",
      "followers_url": "https://api.github.com/users/aress31/followers",
      "following_url": "https://api.github.com/users/aress31/following{/other_user}",
      "gists_url": "https://api.github.com/users/aress31/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/aress31/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/aress31/subscriptions",
      "organizations_url": "https://api.github.com/users/aress31/orgs",
      "repos_url": "https://api.github.com/users/aress31/repos",
      "events_url": "https://api.github.com/users/aress31/events{/privacy}",
      "received_events_url": "https://api.github.com/users/aress31/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-05-08T01:08:09Z",
    "updated_at": "2021-05-08T01:08:09Z",
    "author_association": "NONE",
    "body": "Any progress on this ticket?",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/834924716/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/834926514",
    "html_url": "https://github.com/trufflesuite/truffle/issues/888#issuecomment-834926514",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/888",
    "id": 834926514,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgzNDkyNjUxNA==",
    "user": {
      "login": "aress31",
      "id": 11601622,
      "node_id": "MDQ6VXNlcjExNjAxNjIy",
      "avatar_url": "https://avatars.githubusercontent.com/u/11601622?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/aress31",
      "html_url": "https://github.com/aress31",
      "followers_url": "https://api.github.com/users/aress31/followers",
      "following_url": "https://api.github.com/users/aress31/following{/other_user}",
      "gists_url": "https://api.github.com/users/aress31/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/aress31/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/aress31/subscriptions",
      "organizations_url": "https://api.github.com/users/aress31/orgs",
      "repos_url": "https://api.github.com/users/aress31/repos",
      "events_url": "https://api.github.com/users/aress31/events{/privacy}",
      "received_events_url": "https://api.github.com/users/aress31/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-05-08T01:11:01Z",
    "updated_at": "2021-05-08T01:15:12Z",
    "author_association": "NONE",
    "body": "> @Nick-Lucas Thanks, this makes sense and is nicely expressed. In practice what people often do is manage their own contract instantiation in a `beforeEach` block. Example:\r\n> \r\n> ```js\r\n> contract('SimpleContract', function(accounts){\r\n>    let simpleContract;\r\n> \r\n>    beforeEach(async function(){\r\n>      simpleContract = await SimpleContract.new();\r\n>    });\r\n> ```\r\n> \r\n> Are there use cases where the strategy above isn't adequate?\r\n\r\nIt is not adequate if I deploy my contract like this:\r\n```js\r\nconst ERC20Deflationary = artifacts.require(\"ERC20Deflationary\");\r\n\r\nbeforeEach(async () => {\r\n  this.token = await ERC20Deflationary.deployed();\r\n});\r\n```\r\n\r\nIndeed, my contract constructor takes many arguments that are already set in `deploy.js`, repeating this code in my test suite is just adding unnecessary lines of code and I therefore prefer the `.deploy()` solution.\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/834926514/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
