{
  "url": "https://api.github.com/repos/trufflesuite/truffle/issues/804",
  "repository_url": "https://api.github.com/repos/trufflesuite/truffle",
  "labels_url": "https://api.github.com/repos/trufflesuite/truffle/issues/804/labels{/name}",
  "comments_url": "https://api.github.com/repos/trufflesuite/truffle/issues/804/comments",
  "events_url": "https://api.github.com/repos/trufflesuite/truffle/issues/804/events",
  "html_url": "https://github.com/trufflesuite/truffle/issues/804",
  "id": 298194118,
  "node_id": "MDU6SXNzdWUyOTgxOTQxMTg=",
  "number": 804,
  "title": "Issue in contract creation using sendRawTransaction?",
  "user": {
    "login": "mariam-crissi",
    "id": 20276614,
    "node_id": "MDQ6VXNlcjIwMjc2NjE0",
    "avatar_url": "https://avatars.githubusercontent.com/u/20276614?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/mariam-crissi",
    "html_url": "https://github.com/mariam-crissi",
    "followers_url": "https://api.github.com/users/mariam-crissi/followers",
    "following_url": "https://api.github.com/users/mariam-crissi/following{/other_user}",
    "gists_url": "https://api.github.com/users/mariam-crissi/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/mariam-crissi/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/mariam-crissi/subscriptions",
    "organizations_url": "https://api.github.com/users/mariam-crissi/orgs",
    "repos_url": "https://api.github.com/users/mariam-crissi/repos",
    "events_url": "https://api.github.com/users/mariam-crissi/events{/privacy}",
    "received_events_url": "https://api.github.com/users/mariam-crissi/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 6,
  "created_at": "2018-02-19T08:31:59Z",
  "updated_at": "2018-02-20T09:12:04Z",
  "closed_at": "2018-02-20T09:12:04Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "\r\n## Issue\r\n\r\n\r\nI am trying to create a new contract using sendRawTransaction().\r\n\r\n          pragma solidity ^0.4.18;\r\n          contract MultiSigWallet {\r\n                          function MultiSigWallet(address[] _owners) public {\r\n                                      for (uint i = 0; i < _owners.length; i++) {\r\n                                                 if (isOwner[_owners[i]] || _owners[i] == 0)\r\n                                                          revert();\r\n                                                 isOwner[_owners[i]] = true;\r\n                                      }\r\n                                     owners = _owners;\r\n                       }\r\n                             /*** Remaining Functions ***/\r\n         }\r\n\r\nI have array as parameters in my MultiSigWallet contract.\r\n\r\nI am using truffle framework for the development.I am trying to get the data param in rawTransaction.For this ,I have written the following code to get the data param in my js.\r\n\r\n                        var MultiSigWallet = contract(MultiSigWallet_artifacts);\r\n                        var setData = MultiSigWallet.new.getData([adminAddress,fromAddress,toAddress],{\r\n                                data: MultiSigWallet.unlinked_binary\r\n                       });\r\n                          var rawTx = {\r\n                                                \"from\":fromAddress,  //from Address\r\n                                                \"data\":setData,\r\n                                                \"gas\":3000000,\r\n                                                \"nonce\":nonce\r\n                                              }  \r\n\r\n\r\nBut it returns the following error:-\r\n\r\n            (node:15438) UnhandledPromiseRejectionWarning: TypeError: MultiSigWallet.new.getData is not a function\r\n\r\nHow can I get ```data``` param for contract creation using ```getData``` function?\r\n\r\n## Expected Behavior\r\n\r\nExpects the deployed address for the contract ```MultiSigWallet```\r\n\r\n## Actual Results\r\n\r\n      (node:15438) UnhandledPromiseRejectionWarning: TypeError: MultiSigWallet.new.getData is not a function\r\n\r\n## Environment\r\n\r\n* Operating System: Ubuntu 16.04\r\n* Truffle version: Truffle v4.0.5 (core: 4.0.5)\r\n* Ethereum client: Version: 1.8.0-unstable\r\n* node version:v9.3.0\r\n* npm version: 5.6.0\r\n",
  "closed_by": {
    "login": "mariam-crissi",
    "id": 20276614,
    "node_id": "MDQ6VXNlcjIwMjc2NjE0",
    "avatar_url": "https://avatars.githubusercontent.com/u/20276614?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/mariam-crissi",
    "html_url": "https://github.com/mariam-crissi",
    "followers_url": "https://api.github.com/users/mariam-crissi/followers",
    "following_url": "https://api.github.com/users/mariam-crissi/following{/other_user}",
    "gists_url": "https://api.github.com/users/mariam-crissi/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/mariam-crissi/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/mariam-crissi/subscriptions",
    "organizations_url": "https://api.github.com/users/mariam-crissi/orgs",
    "repos_url": "https://api.github.com/users/mariam-crissi/repos",
    "events_url": "https://api.github.com/users/mariam-crissi/events{/privacy}",
    "received_events_url": "https://api.github.com/users/mariam-crissi/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/804/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/trufflesuite/truffle/issues/804/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/366751291",
    "html_url": "https://github.com/trufflesuite/truffle/issues/804#issuecomment-366751291",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/804",
    "id": 366751291,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2Njc1MTI5MQ==",
    "user": {
      "login": "cgewecke",
      "id": 7332026,
      "node_id": "MDQ6VXNlcjczMzIwMjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7332026?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cgewecke",
      "html_url": "https://github.com/cgewecke",
      "followers_url": "https://api.github.com/users/cgewecke/followers",
      "following_url": "https://api.github.com/users/cgewecke/following{/other_user}",
      "gists_url": "https://api.github.com/users/cgewecke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cgewecke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cgewecke/subscriptions",
      "organizations_url": "https://api.github.com/users/cgewecke/orgs",
      "repos_url": "https://api.github.com/users/cgewecke/repos",
      "events_url": "https://api.github.com/users/cgewecke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cgewecke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-02-19T17:00:47Z",
    "updated_at": "2018-02-19T17:00:47Z",
    "author_association": "CONTRIBUTOR",
    "body": "@mariam-crissi The `truffle-contract` wrapper doesn't directly expose `getData`. However you can access a TruffleContract's underlying web3 object and interact with it through the`contract` property. In your case this would look like: `MultiSigWallet.contract.someMethod.getData`\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/366751291/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/366863887",
    "html_url": "https://github.com/trufflesuite/truffle/issues/804#issuecomment-366863887",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/804",
    "id": 366863887,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2Njg2Mzg4Nw==",
    "user": {
      "login": "mariam-crissi",
      "id": 20276614,
      "node_id": "MDQ6VXNlcjIwMjc2NjE0",
      "avatar_url": "https://avatars.githubusercontent.com/u/20276614?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mariam-crissi",
      "html_url": "https://github.com/mariam-crissi",
      "followers_url": "https://api.github.com/users/mariam-crissi/followers",
      "following_url": "https://api.github.com/users/mariam-crissi/following{/other_user}",
      "gists_url": "https://api.github.com/users/mariam-crissi/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mariam-crissi/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mariam-crissi/subscriptions",
      "organizations_url": "https://api.github.com/users/mariam-crissi/orgs",
      "repos_url": "https://api.github.com/users/mariam-crissi/repos",
      "events_url": "https://api.github.com/users/mariam-crissi/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mariam-crissi/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-02-20T04:28:26Z",
    "updated_at": "2018-02-20T04:28:26Z",
    "author_association": "NONE",
    "body": "@cgewecke I am trying to create a new contract instance..Is it possible to use ```MultiSigWallet.contract.new.getData(params)```?",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/366863887/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/366864336",
    "html_url": "https://github.com/trufflesuite/truffle/issues/804#issuecomment-366864336",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/804",
    "id": 366864336,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2Njg2NDMzNg==",
    "user": {
      "login": "mariam-crissi",
      "id": 20276614,
      "node_id": "MDQ6VXNlcjIwMjc2NjE0",
      "avatar_url": "https://avatars.githubusercontent.com/u/20276614?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mariam-crissi",
      "html_url": "https://github.com/mariam-crissi",
      "followers_url": "https://api.github.com/users/mariam-crissi/followers",
      "following_url": "https://api.github.com/users/mariam-crissi/following{/other_user}",
      "gists_url": "https://api.github.com/users/mariam-crissi/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mariam-crissi/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mariam-crissi/subscriptions",
      "organizations_url": "https://api.github.com/users/mariam-crissi/orgs",
      "repos_url": "https://api.github.com/users/mariam-crissi/repos",
      "events_url": "https://api.github.com/users/mariam-crissi/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mariam-crissi/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-02-20T04:32:48Z",
    "updated_at": "2018-02-20T04:32:48Z",
    "author_association": "NONE",
    "body": "@cgewecke   I have tried,but it also generates the following issue\r\n```\r\n(node:5357) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'new' of undefined\r\n\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/366864336/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/366875478",
    "html_url": "https://github.com/trufflesuite/truffle/issues/804#issuecomment-366875478",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/804",
    "id": 366875478,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2Njg3NTQ3OA==",
    "user": {
      "login": "cgewecke",
      "id": 7332026,
      "node_id": "MDQ6VXNlcjczMzIwMjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7332026?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cgewecke",
      "html_url": "https://github.com/cgewecke",
      "followers_url": "https://api.github.com/users/cgewecke/followers",
      "following_url": "https://api.github.com/users/cgewecke/following{/other_user}",
      "gists_url": "https://api.github.com/users/cgewecke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cgewecke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cgewecke/subscriptions",
      "organizations_url": "https://api.github.com/users/cgewecke/orgs",
      "repos_url": "https://api.github.com/users/cgewecke/repos",
      "events_url": "https://api.github.com/users/cgewecke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cgewecke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-02-20T06:04:34Z",
    "updated_at": "2018-02-20T06:07:53Z",
    "author_association": "CONTRIBUTOR",
    "body": "Sincere apologies @mariam-crissi I didn't read your example closely enough. I think you will need to manage this using web3 directly, although the necessary components (the binary and the ABI) are available on the artifact. If you look [here](https://github.com/ethereum/wiki/wiki/JavaScript-API#web3ethcontract) at the web3 docs, you should be able to string the calls you need together. Then once you have a contract creation receipt, you can generate a `TruffleContract` from it using `MultisigWallet.at(<receipt.contractAddress>)`. \r\n\r\nWill that work for your case?",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/366875478/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/366877349",
    "html_url": "https://github.com/trufflesuite/truffle/issues/804#issuecomment-366877349",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/804",
    "id": 366877349,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2Njg3NzM0OQ==",
    "user": {
      "login": "mariam-crissi",
      "id": 20276614,
      "node_id": "MDQ6VXNlcjIwMjc2NjE0",
      "avatar_url": "https://avatars.githubusercontent.com/u/20276614?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mariam-crissi",
      "html_url": "https://github.com/mariam-crissi",
      "followers_url": "https://api.github.com/users/mariam-crissi/followers",
      "following_url": "https://api.github.com/users/mariam-crissi/following{/other_user}",
      "gists_url": "https://api.github.com/users/mariam-crissi/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mariam-crissi/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mariam-crissi/subscriptions",
      "organizations_url": "https://api.github.com/users/mariam-crissi/orgs",
      "repos_url": "https://api.github.com/users/mariam-crissi/repos",
      "events_url": "https://api.github.com/users/mariam-crissi/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mariam-crissi/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-02-20T06:17:43Z",
    "updated_at": "2018-02-20T06:18:24Z",
    "author_association": "NONE",
    "body": "@cgewecke  As you mentioned,Shall I try with the following code?\r\n\r\n```\r\n            var MyContract = web3.eth.contract(MultiSigWallet.abi);\r\n            var contractData = MyContract.new.getData([adminAddress,fromAddress,toAddress], {data: MultiSigWallet.unlinked_binary});\r\n            console.log(contractData);\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/366877349/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/366914362",
    "html_url": "https://github.com/trufflesuite/truffle/issues/804#issuecomment-366914362",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/804",
    "id": 366914362,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2NjkxNDM2Mg==",
    "user": {
      "login": "mariam-crissi",
      "id": 20276614,
      "node_id": "MDQ6VXNlcjIwMjc2NjE0",
      "avatar_url": "https://avatars.githubusercontent.com/u/20276614?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mariam-crissi",
      "html_url": "https://github.com/mariam-crissi",
      "followers_url": "https://api.github.com/users/mariam-crissi/followers",
      "following_url": "https://api.github.com/users/mariam-crissi/following{/other_user}",
      "gists_url": "https://api.github.com/users/mariam-crissi/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mariam-crissi/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mariam-crissi/subscriptions",
      "organizations_url": "https://api.github.com/users/mariam-crissi/orgs",
      "repos_url": "https://api.github.com/users/mariam-crissi/repos",
      "events_url": "https://api.github.com/users/mariam-crissi/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mariam-crissi/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-02-20T09:12:04Z",
    "updated_at": "2018-02-20T09:12:04Z",
    "author_association": "NONE",
    "body": "@cgewecke It worked fine...Thank you for your help.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/366914362/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 1,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
