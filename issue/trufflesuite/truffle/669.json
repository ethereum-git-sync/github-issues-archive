{
  "url": "https://api.github.com/repos/trufflesuite/truffle/issues/669",
  "repository_url": "https://api.github.com/repos/trufflesuite/truffle",
  "labels_url": "https://api.github.com/repos/trufflesuite/truffle/issues/669/labels{/name}",
  "comments_url": "https://api.github.com/repos/trufflesuite/truffle/issues/669/comments",
  "events_url": "https://api.github.com/repos/trufflesuite/truffle/issues/669/events",
  "html_url": "https://github.com/trufflesuite/truffle/issues/669",
  "id": 271475408,
  "node_id": "MDU6SXNzdWUyNzE0NzU0MDg=",
  "number": 669,
  "title": "Truffle develop environment error: Error encountered, bailing. Network state unknown. Review successful transactions manually. Error: VM Exception while processing transaction: out of gas",
  "user": {
    "login": "DOkwufulueze",
    "id": 13135088,
    "node_id": "MDQ6VXNlcjEzMTM1MDg4",
    "avatar_url": "https://avatars.githubusercontent.com/u/13135088?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/DOkwufulueze",
    "html_url": "https://github.com/DOkwufulueze",
    "followers_url": "https://api.github.com/users/DOkwufulueze/followers",
    "following_url": "https://api.github.com/users/DOkwufulueze/following{/other_user}",
    "gists_url": "https://api.github.com/users/DOkwufulueze/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/DOkwufulueze/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/DOkwufulueze/subscriptions",
    "organizations_url": "https://api.github.com/users/DOkwufulueze/orgs",
    "repos_url": "https://api.github.com/users/DOkwufulueze/repos",
    "events_url": "https://api.github.com/users/DOkwufulueze/events{/privacy}",
    "received_events_url": "https://api.github.com/users/DOkwufulueze/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2017-11-06T13:29:45Z",
  "updated_at": "2017-11-06T19:11:25Z",
  "closed_at": "2017-11-06T19:10:01Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "- [x] I've asked for help in the [Truffle Gitter](http://gitter.im/Consensys/truffle) before filing this issue.\r\n\r\n---------------------------\r\n\r\n## Issue\r\n\r\nI am having the `Error: VM Exception while processing transaction: out of gas` error in truffle develop environment when trying to deploy my contracts. I have tried running truffle develop with `-l 0xfffffffffff` [I also tried with base 10 numbers] in order to increase the gas amount, but the error continues. Based on a suggestion on gitter, I also added solc configuration to enable solc optimser in `truffle.js`, but the error remains the same. Whenever the migration fails, gas usage is always at 6721975. Is there a way to increase gas amount in truffle develop?\r\n\r\n## Steps to Reproduce\r\n\r\nEnable solc optimiser in truffle.js:\r\n```js\r\nsolc: {\r\n  optimizer: {\r\n    enabled: true,\r\n    runs: 200\r\n  }\r\n}\r\n```\r\n`truffle develop`\r\n`migrate`\r\n\r\n## Expected Behavior\r\n\r\nMigrations are supposed to run without any error.\r\n\r\n## Actual Results\r\n\r\nOn truffle develop environment\r\n```js\r\nError encountered, bailing. Network state unknown. Review successful transactions manually.\r\nError: VM Exception while processing transaction: out of gas\r\n```\r\n\r\nOn truffle develop --log\r\n```js\r\ndevelop:testrpc   Transaction: 0xded244790b00b1dac381d1357998ef97685571df864005b5f164ae34a7e7073e +0ms\r\ndevelop:testrpc   Contract created: 0x0493e283832fd4265e366256be6652ebd06fc0bd +0ms\r\ndevelop:testrpc   Gas usage: 6721975 +0ms\r\ndevelop:testrpc   Block Number: 8 +0ms\r\ndevelop:testrpc   Block Time: Mon Nov 06 2017 14:11:43 GMT+0100 (WAT) +1ms\r\ndevelop:testrpc   Runtime Error: out of gas +0ms\r\ndevelop:testrpc  +0ms\r\n```\r\n## Environment\r\n\r\n* Operating System: Ubuntu 16.04 LTS\r\n* Truffle version: 4.0.0\r\n* Ethereum client: Geth 1.6.6-stable\r\n* node version: v8.5.0\r\n* npm version: 5.3.0\r\n",
  "closed_by": {
    "login": "DOkwufulueze",
    "id": 13135088,
    "node_id": "MDQ6VXNlcjEzMTM1MDg4",
    "avatar_url": "https://avatars.githubusercontent.com/u/13135088?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/DOkwufulueze",
    "html_url": "https://github.com/DOkwufulueze",
    "followers_url": "https://api.github.com/users/DOkwufulueze/followers",
    "following_url": "https://api.github.com/users/DOkwufulueze/following{/other_user}",
    "gists_url": "https://api.github.com/users/DOkwufulueze/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/DOkwufulueze/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/DOkwufulueze/subscriptions",
    "organizations_url": "https://api.github.com/users/DOkwufulueze/orgs",
    "repos_url": "https://api.github.com/users/DOkwufulueze/repos",
    "events_url": "https://api.github.com/users/DOkwufulueze/events{/privacy}",
    "received_events_url": "https://api.github.com/users/DOkwufulueze/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/669/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/trufflesuite/truffle/issues/669/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/342214556",
    "html_url": "https://github.com/trufflesuite/truffle/issues/669#issuecomment-342214556",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/669",
    "id": 342214556,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0MjIxNDU1Ng==",
    "user": {
      "login": "gnidan",
      "id": 151065,
      "node_id": "MDQ6VXNlcjE1MTA2NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/151065?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gnidan",
      "html_url": "https://github.com/gnidan",
      "followers_url": "https://api.github.com/users/gnidan/followers",
      "following_url": "https://api.github.com/users/gnidan/following{/other_user}",
      "gists_url": "https://api.github.com/users/gnidan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gnidan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gnidan/subscriptions",
      "organizations_url": "https://api.github.com/users/gnidan/orgs",
      "repos_url": "https://api.github.com/users/gnidan/repos",
      "events_url": "https://api.github.com/users/gnidan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gnidan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-11-06T17:01:30Z",
    "updated_at": "2017-11-06T17:01:30Z",
    "author_association": "MEMBER",
    "body": "@DOkwufulueze did you delete your `build/contracts/` directory after turning the optimizer back on? That might be the problem, but please let me know if that doesn't solve it. Thanks!",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/342214556/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/342253070",
    "html_url": "https://github.com/trufflesuite/truffle/issues/669#issuecomment-342253070",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/669",
    "id": 342253070,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0MjI1MzA3MA==",
    "user": {
      "login": "DOkwufulueze",
      "id": 13135088,
      "node_id": "MDQ6VXNlcjEzMTM1MDg4",
      "avatar_url": "https://avatars.githubusercontent.com/u/13135088?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/DOkwufulueze",
      "html_url": "https://github.com/DOkwufulueze",
      "followers_url": "https://api.github.com/users/DOkwufulueze/followers",
      "following_url": "https://api.github.com/users/DOkwufulueze/following{/other_user}",
      "gists_url": "https://api.github.com/users/DOkwufulueze/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/DOkwufulueze/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/DOkwufulueze/subscriptions",
      "organizations_url": "https://api.github.com/users/DOkwufulueze/orgs",
      "repos_url": "https://api.github.com/users/DOkwufulueze/repos",
      "events_url": "https://api.github.com/users/DOkwufulueze/events{/privacy}",
      "received_events_url": "https://api.github.com/users/DOkwufulueze/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-11-06T19:10:01Z",
    "updated_at": "2017-11-06T19:11:25Z",
    "author_association": "NONE",
    "body": "@gnidan, thanks for the response. Yes, I deleted the `build/contracts/` directory, but the error was still there.\r\n\r\nI have stated on gitter, my realisation that the only way to have a successful deployment is to split the contract into separate contracts. And @tcoulter has responded with news of the update on the truffle release page discussing the security concerns about turning solc optimiser on, and advising the split option if possible.\r\n\r\nSo for now, I'm simply using the split option, and all is well again.\r\n\r\nThanks again.\r\n\r\nI'll be closing this issue since it's resolved.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/342253070/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
