{
  "url": "https://api.github.com/repos/trufflesuite/truffle/issues/1258",
  "repository_url": "https://api.github.com/repos/trufflesuite/truffle",
  "labels_url": "https://api.github.com/repos/trufflesuite/truffle/issues/1258/labels{/name}",
  "comments_url": "https://api.github.com/repos/trufflesuite/truffle/issues/1258/comments",
  "events_url": "https://api.github.com/repos/trufflesuite/truffle/issues/1258/events",
  "html_url": "https://github.com/trufflesuite/truffle/issues/1258",
  "id": 358370959,
  "node_id": "MDU6SXNzdWUzNTgzNzA5NTk=",
  "number": 1258,
  "title": "test contract should be also the address that deploys the contracts",
  "user": {
    "login": "arisAlexis",
    "id": 1141823,
    "node_id": "MDQ6VXNlcjExNDE4MjM=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1141823?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/arisAlexis",
    "html_url": "https://github.com/arisAlexis",
    "followers_url": "https://api.github.com/users/arisAlexis/followers",
    "following_url": "https://api.github.com/users/arisAlexis/following{/other_user}",
    "gists_url": "https://api.github.com/users/arisAlexis/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/arisAlexis/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/arisAlexis/subscriptions",
    "organizations_url": "https://api.github.com/users/arisAlexis/orgs",
    "repos_url": "https://api.github.com/users/arisAlexis/repos",
    "events_url": "https://api.github.com/users/arisAlexis/events{/privacy}",
    "received_events_url": "https://api.github.com/users/arisAlexis/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 6,
  "created_at": "2018-09-09T11:29:10Z",
  "updated_at": "2018-09-26T18:08:58Z",
  "closed_at": "2018-09-26T18:08:58Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "## Issue\r\n\r\nThe Test contract should be the same address that deploys the contracts to be tested so that you can test ownership. There should be no reason why the deploy address and test contract address would be different?\r\n\r\n## Expected Behavior\r\n\r\nthe deployed contract's owner is the msg.sender which is the address(this) test contract address.\r\n\r\n## Actual Results\r\n\r\nYou need to redeploy the contract in a beforeAll hook if you want to set the owner correctly\r\n",
  "closed_by": {
    "login": "gnidan",
    "id": 151065,
    "node_id": "MDQ6VXNlcjE1MTA2NQ==",
    "avatar_url": "https://avatars.githubusercontent.com/u/151065?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/gnidan",
    "html_url": "https://github.com/gnidan",
    "followers_url": "https://api.github.com/users/gnidan/followers",
    "following_url": "https://api.github.com/users/gnidan/following{/other_user}",
    "gists_url": "https://api.github.com/users/gnidan/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/gnidan/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/gnidan/subscriptions",
    "organizations_url": "https://api.github.com/users/gnidan/orgs",
    "repos_url": "https://api.github.com/users/gnidan/repos",
    "events_url": "https://api.github.com/users/gnidan/events{/privacy}",
    "received_events_url": "https://api.github.com/users/gnidan/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/1258/reactions",
    "total_count": 1,
    "+1": 1,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/trufflesuite/truffle/issues/1258/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/419980986",
    "html_url": "https://github.com/trufflesuite/truffle/issues/1258#issuecomment-419980986",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/1258",
    "id": 419980986,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxOTk4MDk4Ng==",
    "user": {
      "login": "cgewecke",
      "id": 7332026,
      "node_id": "MDQ6VXNlcjczMzIwMjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7332026?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cgewecke",
      "html_url": "https://github.com/cgewecke",
      "followers_url": "https://api.github.com/users/cgewecke/followers",
      "following_url": "https://api.github.com/users/cgewecke/following{/other_user}",
      "gists_url": "https://api.github.com/users/cgewecke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cgewecke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cgewecke/subscriptions",
      "organizations_url": "https://api.github.com/users/cgewecke/orgs",
      "repos_url": "https://api.github.com/users/cgewecke/repos",
      "events_url": "https://api.github.com/users/cgewecke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cgewecke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-09-10T16:45:53Z",
    "updated_at": "2018-09-10T16:45:53Z",
    "author_association": "CONTRIBUTOR",
    "body": "@arisAlexis Could provide a clear example of the problem you're describing? Are you using solidity tests?",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/419980986/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/420036916",
    "html_url": "https://github.com/trufflesuite/truffle/issues/1258#issuecomment-420036916",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/1258",
    "id": 420036916,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQyMDAzNjkxNg==",
    "user": {
      "login": "arisAlexis",
      "id": 1141823,
      "node_id": "MDQ6VXNlcjExNDE4MjM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1141823?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/arisAlexis",
      "html_url": "https://github.com/arisAlexis",
      "followers_url": "https://api.github.com/users/arisAlexis/followers",
      "following_url": "https://api.github.com/users/arisAlexis/following{/other_user}",
      "gists_url": "https://api.github.com/users/arisAlexis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/arisAlexis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/arisAlexis/subscriptions",
      "organizations_url": "https://api.github.com/users/arisAlexis/orgs",
      "repos_url": "https://api.github.com/users/arisAlexis/repos",
      "events_url": "https://api.github.com/users/arisAlexis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/arisAlexis/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-09-10T19:47:05Z",
    "updated_at": "2018-09-10T19:47:05Z",
    "author_association": "NONE",
    "body": "Yes.\r\n\r\nThere is a contract that is deployed that is Ownable and implements the onlyOwner modifier.\r\nFor example let's say we are using Ganache on the local network. \r\n\r\nThe deployer of the contract is the first account on Ganache and that's the owner of the deployed contract.\r\n\r\nYou can't test the  functions that use the onlyOwner modifier because the Test Contract is not the owner.\r\n\r\nOf course you can redeploy it but why? The Test Contract should use the same first account from Ganache.\r\n\r\nIt is solidity based testing. ",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/420036916/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/421250338",
    "html_url": "https://github.com/trufflesuite/truffle/issues/1258#issuecomment-421250338",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/1258",
    "id": 421250338,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQyMTI1MDMzOA==",
    "user": {
      "login": "0xferit",
      "id": 3106907,
      "node_id": "MDQ6VXNlcjMxMDY5MDc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3106907?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/0xferit",
      "html_url": "https://github.com/0xferit",
      "followers_url": "https://api.github.com/users/0xferit/followers",
      "following_url": "https://api.github.com/users/0xferit/following{/other_user}",
      "gists_url": "https://api.github.com/users/0xferit/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/0xferit/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/0xferit/subscriptions",
      "organizations_url": "https://api.github.com/users/0xferit/orgs",
      "repos_url": "https://api.github.com/users/0xferit/repos",
      "events_url": "https://api.github.com/users/0xferit/events{/privacy}",
      "received_events_url": "https://api.github.com/users/0xferit/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-09-14T06:55:48Z",
    "updated_at": "2018-09-14T06:56:05Z",
    "author_association": "NONE",
    "body": "Why `{from: accounts[0]`} doesn't work? ",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/421250338/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/421301282",
    "html_url": "https://github.com/trufflesuite/truffle/issues/1258#issuecomment-421301282",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/1258",
    "id": 421301282,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQyMTMwMTI4Mg==",
    "user": {
      "login": "arisAlexis",
      "id": 1141823,
      "node_id": "MDQ6VXNlcjExNDE4MjM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1141823?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/arisAlexis",
      "html_url": "https://github.com/arisAlexis",
      "followers_url": "https://api.github.com/users/arisAlexis/followers",
      "following_url": "https://api.github.com/users/arisAlexis/following{/other_user}",
      "gists_url": "https://api.github.com/users/arisAlexis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/arisAlexis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/arisAlexis/subscriptions",
      "organizations_url": "https://api.github.com/users/arisAlexis/orgs",
      "repos_url": "https://api.github.com/users/arisAlexis/repos",
      "events_url": "https://api.github.com/users/arisAlexis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/arisAlexis/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-09-14T09:56:14Z",
    "updated_at": "2018-09-14T09:56:14Z",
    "author_association": "NONE",
    "body": "the default account of TestContract has 0 Ether while the Ganache accounts have 100ETH each.  That tells me that the private key is different and it's not the one taken from Ganache. ",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/421301282/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/421534322",
    "html_url": "https://github.com/trufflesuite/truffle/issues/1258#issuecomment-421534322",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/1258",
    "id": 421534322,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQyMTUzNDMyMg==",
    "user": {
      "login": "0xferit",
      "id": 3106907,
      "node_id": "MDQ6VXNlcjMxMDY5MDc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3106907?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/0xferit",
      "html_url": "https://github.com/0xferit",
      "followers_url": "https://api.github.com/users/0xferit/followers",
      "following_url": "https://api.github.com/users/0xferit/following{/other_user}",
      "gists_url": "https://api.github.com/users/0xferit/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/0xferit/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/0xferit/subscriptions",
      "organizations_url": "https://api.github.com/users/0xferit/orgs",
      "repos_url": "https://api.github.com/users/0xferit/repos",
      "events_url": "https://api.github.com/users/0xferit/events{/privacy}",
      "received_events_url": "https://api.github.com/users/0xferit/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-09-15T06:09:22Z",
    "updated_at": "2018-09-15T06:09:22Z",
    "author_association": "NONE",
    "body": "Oh, you mean Solidity testing. Yes it's not possible when testing with Solidity at the moment. I wrote my answer above thinking it's a JS test. ",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/421534322/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/424815637",
    "html_url": "https://github.com/trufflesuite/truffle/issues/1258#issuecomment-424815637",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/1258",
    "id": 424815637,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQyNDgxNTYzNw==",
    "user": {
      "login": "gnidan",
      "id": 151065,
      "node_id": "MDQ6VXNlcjE1MTA2NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/151065?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gnidan",
      "html_url": "https://github.com/gnidan",
      "followers_url": "https://api.github.com/users/gnidan/followers",
      "following_url": "https://api.github.com/users/gnidan/following{/other_user}",
      "gists_url": "https://api.github.com/users/gnidan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gnidan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gnidan/subscriptions",
      "organizations_url": "https://api.github.com/users/gnidan/orgs",
      "repos_url": "https://api.github.com/users/gnidan/repos",
      "events_url": "https://api.github.com/users/gnidan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gnidan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-09-26T18:08:58Z",
    "updated_at": "2018-09-26T18:08:58Z",
    "author_association": "MEMBER",
    "body": "@arisAlexis You have to use something like Zeppelin's `ClaimOwnership` or some kind of ownership transference mechanism to get what you want.\r\n\r\nAn alternative is to ensure that your contracts are all deployed via migrations - if you have a Solidity test that deploys a contract, then that Solidity test *is* the msg.sender.\r\n\r\nClosing as this is an inherent limitation. Thanks for bringing up this concern!",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/424815637/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
