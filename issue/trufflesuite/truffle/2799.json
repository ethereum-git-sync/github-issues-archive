{
  "url": "https://api.github.com/repos/trufflesuite/truffle/issues/2799",
  "repository_url": "https://api.github.com/repos/trufflesuite/truffle",
  "labels_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2799/labels{/name}",
  "comments_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2799/comments",
  "events_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2799/events",
  "html_url": "https://github.com/trufflesuite/truffle/issues/2799",
  "id": 556515047,
  "node_id": "MDU6SXNzdWU1NTY1MTUwNDc=",
  "number": 2799,
  "title": "Error message when exceeding block gas limit presents comparable numbers in different bases",
  "user": {
    "login": "wbt",
    "id": 563406,
    "node_id": "MDQ6VXNlcjU2MzQwNg==",
    "avatar_url": "https://avatars.githubusercontent.com/u/563406?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/wbt",
    "html_url": "https://github.com/wbt",
    "followers_url": "https://api.github.com/users/wbt/followers",
    "following_url": "https://api.github.com/users/wbt/following{/other_user}",
    "gists_url": "https://api.github.com/users/wbt/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/wbt/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/wbt/subscriptions",
    "organizations_url": "https://api.github.com/users/wbt/orgs",
    "repos_url": "https://api.github.com/users/wbt/repos",
    "events_url": "https://api.github.com/users/wbt/events{/privacy}",
    "received_events_url": "https://api.github.com/users/wbt/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 230393329,
      "node_id": "MDU6TGFiZWwyMzAzOTMzMjk=",
      "url": "https://api.github.com/repos/trufflesuite/truffle/labels/help%20wanted",
      "name": "help wanted",
      "color": "159818",
      "default": true,
      "description": null
    },
    {
      "id": 971536096,
      "node_id": "MDU6TGFiZWw5NzE1MzYwOTY=",
      "url": "https://api.github.com/repos/trufflesuite/truffle/labels/Migrations",
      "name": "Migrations",
      "color": "b887db",
      "default": false,
      "description": ""
    },
    {
      "id": 1426368764,
      "node_id": "MDU6TGFiZWwxNDI2MzY4NzY0",
      "url": "https://api.github.com/repos/trufflesuite/truffle/labels/good%20first%20issue",
      "name": "good first issue",
      "color": "006b75",
      "default": true,
      "description": ""
    },
    {
      "id": 1675041996,
      "node_id": "MDU6TGFiZWwxNjc1MDQxOTk2",
      "url": "https://api.github.com/repos/trufflesuite/truffle/labels/priority4%20%F0%9F%93%8B",
      "name": "priority4 ðŸ“‹",
      "color": "006b75",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2020-01-28T22:28:28Z",
  "updated_at": "2020-04-03T01:44:57Z",
  "closed_at": "2020-04-03T01:44:57Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "## Issue\r\nWhen sending more gas than the network's current block limit, the error message that comes back is confusing and can/should be clarified. \r\n\r\n## Steps to Reproduce\r\nIn truffle-config, specify a \"gas\" value which is higher than the block gas limit for the network you are connected to.  Attempt to do a basic migration or any other Truffle transaction.\r\n\r\n## Expected Behavior\r\nThe \"Block limit\" and \"Gas sent\" values are both in the same base, probably decimal.  Then the user can easily see that the \"gas sent\" number is larger than the \"block limit\" and possibly do something about it.\r\n\r\n## Actual Results\r\nAs shown in [this issue](https://github.com/trufflesuite/truffle/issues/2278):\r\n>\"Migrations\" exceeded the block limit (with a gas value you set).\r\n>   * Block limit:  0x20175c8\r\n>   * Gas sent:     6721975\r\n>   ...\r\n\r\nThe inequality between these two going the wrong way is the core issue, but using different bases obscures that comparison and makes the error harder to understand. \r\n\r\n## Environment\r\n* Truffle version (`truffle version`): 5.1.0\r\n",
  "closed_by": {
    "login": "gnidan",
    "id": 151065,
    "node_id": "MDQ6VXNlcjE1MTA2NQ==",
    "avatar_url": "https://avatars.githubusercontent.com/u/151065?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/gnidan",
    "html_url": "https://github.com/gnidan",
    "followers_url": "https://api.github.com/users/gnidan/followers",
    "following_url": "https://api.github.com/users/gnidan/following{/other_user}",
    "gists_url": "https://api.github.com/users/gnidan/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/gnidan/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/gnidan/subscriptions",
    "organizations_url": "https://api.github.com/users/gnidan/orgs",
    "repos_url": "https://api.github.com/users/gnidan/repos",
    "events_url": "https://api.github.com/users/gnidan/events{/privacy}",
    "received_events_url": "https://api.github.com/users/gnidan/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/2799/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2799/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/579774466",
    "html_url": "https://github.com/trufflesuite/truffle/issues/2799#issuecomment-579774466",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2799",
    "id": 579774466,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU3OTc3NDQ2Ng==",
    "user": {
      "login": "wbt",
      "id": 563406,
      "node_id": "MDQ6VXNlcjU2MzQwNg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/563406?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/wbt",
      "html_url": "https://github.com/wbt",
      "followers_url": "https://api.github.com/users/wbt/followers",
      "following_url": "https://api.github.com/users/wbt/following{/other_user}",
      "gists_url": "https://api.github.com/users/wbt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/wbt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/wbt/subscriptions",
      "organizations_url": "https://api.github.com/users/wbt/orgs",
      "repos_url": "https://api.github.com/users/wbt/repos",
      "events_url": "https://api.github.com/users/wbt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/wbt/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-01-29T14:15:56Z",
    "updated_at": "2020-01-29T15:59:30Z",
    "author_association": "CONTRIBUTOR",
    "body": "On further reflection, I think it would actually be better to show both numbers in both bases e.g. \r\n>\"Migrations\" exceeded the block limit (with a gas value you set).\r\n>  * Block limit: 33650120 (0x20175c8)\r\n>  * Gas sent:     6721975 (0x6691b7)\r\n\r\nideally with at least the decimal values right-aligned between rows (hard to show that in markdown outside source).\r\n\r\nIn the example copied in, the clearer message format doesn't seem consistent with the error message given, which may be a separate issue, but having comparable bases will at least help in cases where the gas sent is actually greater than the block gas limit.\r\n\r\nRelevant comment by @cgewecke [here](https://github.com/trufflesuite/truffle/issues/2353#issuecomment-526856539).",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/579774466/reactions",
      "total_count": 2,
      "+1": 2,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/579900607",
    "html_url": "https://github.com/trufflesuite/truffle/issues/2799#issuecomment-579900607",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2799",
    "id": 579900607,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU3OTkwMDYwNw==",
    "user": {
      "login": "gnidan",
      "id": 151065,
      "node_id": "MDQ6VXNlcjE1MTA2NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/151065?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gnidan",
      "html_url": "https://github.com/gnidan",
      "followers_url": "https://api.github.com/users/gnidan/followers",
      "following_url": "https://api.github.com/users/gnidan/following{/other_user}",
      "gists_url": "https://api.github.com/users/gnidan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gnidan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gnidan/subscriptions",
      "organizations_url": "https://api.github.com/users/gnidan/orgs",
      "repos_url": "https://api.github.com/users/gnidan/repos",
      "events_url": "https://api.github.com/users/gnidan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gnidan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-01-29T18:42:14Z",
    "updated_at": "2020-01-29T18:42:14Z",
    "author_association": "MEMBER",
    "body": "Yeah totally we should have both bases there.\r\n\r\n(You don't like subtracting decimal from hex numbers?? ;)",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/579900607/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
