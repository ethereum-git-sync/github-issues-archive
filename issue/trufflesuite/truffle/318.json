{
  "url": "https://api.github.com/repos/trufflesuite/truffle/issues/318",
  "repository_url": "https://api.github.com/repos/trufflesuite/truffle",
  "labels_url": "https://api.github.com/repos/trufflesuite/truffle/issues/318/labels{/name}",
  "comments_url": "https://api.github.com/repos/trufflesuite/truffle/issues/318/comments",
  "events_url": "https://api.github.com/repos/trufflesuite/truffle/issues/318/events",
  "html_url": "https://github.com/trufflesuite/truffle/issues/318",
  "id": 196527641,
  "node_id": "MDU6SXNzdWUxOTY1Mjc2NDE=",
  "number": 318,
  "title": "Get array from contract fails",
  "user": {
    "login": "felixwatts",
    "id": 818396,
    "node_id": "MDQ6VXNlcjgxODM5Ng==",
    "avatar_url": "https://avatars.githubusercontent.com/u/818396?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/felixwatts",
    "html_url": "https://github.com/felixwatts",
    "followers_url": "https://api.github.com/users/felixwatts/followers",
    "following_url": "https://api.github.com/users/felixwatts/following{/other_user}",
    "gists_url": "https://api.github.com/users/felixwatts/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/felixwatts/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/felixwatts/subscriptions",
    "organizations_url": "https://api.github.com/users/felixwatts/orgs",
    "repos_url": "https://api.github.com/users/felixwatts/repos",
    "events_url": "https://api.github.com/users/felixwatts/events{/privacy}",
    "received_events_url": "https://api.github.com/users/felixwatts/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 4,
  "created_at": "2016-12-19T21:41:25Z",
  "updated_at": "2017-01-11T19:50:41Z",
  "closed_at": "2017-01-11T19:50:41Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "- [ x] I've asked for help in the [Truffle Gitter](http://gitter.im/Consensys/truffle) before filing this issue.\r\n\r\n---------------------------\r\n\r\n## Issue\r\n\r\nIt seems impossible to read an array from contract memory using truffle js api\r\n\r\n## Steps to Reproduce\r\n\r\ncreate a contract with a public array type field. For example \r\n\r\nbytes32[] public SomeData;\r\n\r\nTry to use the generated getter method:\r\n\r\nvar contract = MyContract.deployed();   \r\ncontract.SomeData.call().then(function(someData)\r\n{\r\n console.log(someData);\r\n});\r\n\r\nalternatively create your own getter method - the result is the same\r\n\r\n## Expected Behavior\r\n\r\nAn array of items is logged to the browser console\r\n\r\n## Actual Results\r\n\r\nUnhandled exception in javascript execution\r\n\r\nUnhandled rejection BigNumber Error: new BigNumber() not a number: [object Object]\r\n    at raise (http://localhost:8080/app.js:43221:25)\r\n    at http://localhost:8080/app.js:43209:33\r\n    at new BigNumber (http://localhost:8080/app.js:42237:67)\r\n    at new BigNumber (http://localhost:8080/app.js:42247:25)\r\n    at toBigNumber (http://localhost:8080/app.js:37861:12)\r\n    at Object.toTwosComplement (http://localhost:8080/app.js:37872:21)\r\n    at SolidityTypeUInt.formatInputInt [as _inputFormatter] (http://localhost:8080/app.js:36570:38)\r\n    at SolidityTypeUInt.SolidityType.encode (http://localhost:8080/app.js:37218:17)\r\n    at http://localhost:8080/app.js:36327:29\r\n    at Array.map (native)\r\n    at SolidityCoder.encodeParams (http://localhost:8080/app.js:36326:34)\r\n    at SolidityFunction.toPayload (http://localhost:8080/app.js:39606:52)\r\n    at SolidityFunction.call (http://localhost:8080/app.js:39645:24)\r\n    at http://localhost:8080/app.js:7047:14\r\n\r\n## Environment\r\n\r\n* Operating System: Ubuntu Xenial\r\n* Truffle version: Truffle v3.0.0-4\r\n* Ethereum client: testrpc\r\n* node version: v6.9.2\r\n* npm version: 3.10.9\r\n",
  "closed_by": {
    "login": "tcoulter",
    "id": 92629,
    "node_id": "MDQ6VXNlcjkyNjI5",
    "avatar_url": "https://avatars.githubusercontent.com/u/92629?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/tcoulter",
    "html_url": "https://github.com/tcoulter",
    "followers_url": "https://api.github.com/users/tcoulter/followers",
    "following_url": "https://api.github.com/users/tcoulter/following{/other_user}",
    "gists_url": "https://api.github.com/users/tcoulter/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/tcoulter/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/tcoulter/subscriptions",
    "organizations_url": "https://api.github.com/users/tcoulter/orgs",
    "repos_url": "https://api.github.com/users/tcoulter/repos",
    "events_url": "https://api.github.com/users/tcoulter/events{/privacy}",
    "received_events_url": "https://api.github.com/users/tcoulter/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/318/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/trufflesuite/truffle/issues/318/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/269267967",
    "html_url": "https://github.com/trufflesuite/truffle/issues/318#issuecomment-269267967",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/318",
    "id": 269267967,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2OTI2Nzk2Nw==",
    "user": {
      "login": "tyleryasaka",
      "id": 6504519,
      "node_id": "MDQ6VXNlcjY1MDQ1MTk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6504519?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tyleryasaka",
      "html_url": "https://github.com/tyleryasaka",
      "followers_url": "https://api.github.com/users/tyleryasaka/followers",
      "following_url": "https://api.github.com/users/tyleryasaka/following{/other_user}",
      "gists_url": "https://api.github.com/users/tyleryasaka/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tyleryasaka/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tyleryasaka/subscriptions",
      "organizations_url": "https://api.github.com/users/tyleryasaka/orgs",
      "repos_url": "https://api.github.com/users/tyleryasaka/repos",
      "events_url": "https://api.github.com/users/tyleryasaka/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tyleryasaka/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-12-27T04:26:39Z",
    "updated_at": "2016-12-27T04:26:39Z",
    "author_association": "NONE",
    "body": "I have run into the same issue.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/269267967/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/269828313",
    "html_url": "https://github.com/trufflesuite/truffle/issues/318#issuecomment-269828313",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/318",
    "id": 269828313,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2OTgyODMxMw==",
    "user": {
      "login": "pwrstudio",
      "id": 8209990,
      "node_id": "MDQ6VXNlcjgyMDk5OTA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8209990?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pwrstudio",
      "html_url": "https://github.com/pwrstudio",
      "followers_url": "https://api.github.com/users/pwrstudio/followers",
      "following_url": "https://api.github.com/users/pwrstudio/following{/other_user}",
      "gists_url": "https://api.github.com/users/pwrstudio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pwrstudio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pwrstudio/subscriptions",
      "organizations_url": "https://api.github.com/users/pwrstudio/orgs",
      "repos_url": "https://api.github.com/users/pwrstudio/repos",
      "events_url": "https://api.github.com/users/pwrstudio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pwrstudio/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-12-30T22:14:23Z",
    "updated_at": "2016-12-30T22:14:23Z",
    "author_association": "NONE",
    "body": "Encountering the same problem trying to return non-numeric data.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/269828313/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/271965719",
    "html_url": "https://github.com/trufflesuite/truffle/issues/318#issuecomment-271965719",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/318",
    "id": 271965719,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3MTk2NTcxOQ==",
    "user": {
      "login": "marcosjbarroso82",
      "id": 12659883,
      "node_id": "MDQ6VXNlcjEyNjU5ODgz",
      "avatar_url": "https://avatars.githubusercontent.com/u/12659883?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/marcosjbarroso82",
      "html_url": "https://github.com/marcosjbarroso82",
      "followers_url": "https://api.github.com/users/marcosjbarroso82/followers",
      "following_url": "https://api.github.com/users/marcosjbarroso82/following{/other_user}",
      "gists_url": "https://api.github.com/users/marcosjbarroso82/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/marcosjbarroso82/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/marcosjbarroso82/subscriptions",
      "organizations_url": "https://api.github.com/users/marcosjbarroso82/orgs",
      "repos_url": "https://api.github.com/users/marcosjbarroso82/repos",
      "events_url": "https://api.github.com/users/marcosjbarroso82/events{/privacy}",
      "received_events_url": "https://api.github.com/users/marcosjbarroso82/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-01-11T19:15:21Z",
    "updated_at": "2017-01-11T19:15:21Z",
    "author_association": "NONE",
    "body": "I got this answer from gitter and it seems to work:\r\nmi variable is:\r\nMember[] public members;\r\n\r\nand from javascript I read it like this:\r\nfor(uint i = 0; i < members.length; i++) { //do something here }\r\n\r\nthis way I read one item at a time.\r\n\r\nI hope it helps,",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/271965719/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/271975024",
    "html_url": "https://github.com/trufflesuite/truffle/issues/318#issuecomment-271975024",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/318",
    "id": 271975024,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3MTk3NTAyNA==",
    "user": {
      "login": "tcoulter",
      "id": 92629,
      "node_id": "MDQ6VXNlcjkyNjI5",
      "avatar_url": "https://avatars.githubusercontent.com/u/92629?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tcoulter",
      "html_url": "https://github.com/tcoulter",
      "followers_url": "https://api.github.com/users/tcoulter/followers",
      "following_url": "https://api.github.com/users/tcoulter/following{/other_user}",
      "gists_url": "https://api.github.com/users/tcoulter/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tcoulter/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tcoulter/subscriptions",
      "organizations_url": "https://api.github.com/users/tcoulter/orgs",
      "repos_url": "https://api.github.com/users/tcoulter/repos",
      "events_url": "https://api.github.com/users/tcoulter/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tcoulter/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-01-11T19:50:41Z",
    "updated_at": "2017-01-11T19:50:41Z",
    "author_association": "CONTRIBUTOR",
    "body": "When you use a member variable like this:\r\n\r\n```\r\nbytes32[] public SomeData;\r\n```\r\n\r\nSolidity doesn't create a function called `SomeData` that returns an array. Instead it creates a function that takes in the array index and returns the value at that index. The generated function would look something like this:\r\n\r\n```\r\nfunction SomeData_getter(uint index) returns (bytes32) {\r\n  return SomeData[index];\r\n} \r\n```\r\n\r\nThe reason this is failing is because web3 is expecting you to pass in a parameter to your function when you run `contract.SomeData.call()` -- but you're not. It tries parsing null and fails.\r\n\r\nArguably the error message could be better here. Unfortunately this is currently how web3 processes it. \r\n\r\nI'm going to close this issue. Please create a new issue if you have questions.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/271975024/reactions",
      "total_count": 14,
      "+1": 14,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
