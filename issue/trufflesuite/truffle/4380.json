{
  "url": "https://api.github.com/repos/trufflesuite/truffle/issues/4380",
  "repository_url": "https://api.github.com/repos/trufflesuite/truffle",
  "labels_url": "https://api.github.com/repos/trufflesuite/truffle/issues/4380/labels{/name}",
  "comments_url": "https://api.github.com/repos/trufflesuite/truffle/issues/4380/comments",
  "events_url": "https://api.github.com/repos/trufflesuite/truffle/issues/4380/events",
  "html_url": "https://github.com/trufflesuite/truffle/issues/4380",
  "id": 1039754952,
  "node_id": "I_kwDOAkfq-c49-WbI",
  "number": 4380,
  "title": "\"methods\" is always empty...",
  "user": {
    "login": "JimLynchCodes",
    "id": 5354163,
    "node_id": "MDQ6VXNlcjUzNTQxNjM=",
    "avatar_url": "https://avatars.githubusercontent.com/u/5354163?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/JimLynchCodes",
    "html_url": "https://github.com/JimLynchCodes",
    "followers_url": "https://api.github.com/users/JimLynchCodes/followers",
    "following_url": "https://api.github.com/users/JimLynchCodes/following{/other_user}",
    "gists_url": "https://api.github.com/users/JimLynchCodes/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/JimLynchCodes/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/JimLynchCodes/subscriptions",
    "organizations_url": "https://api.github.com/users/JimLynchCodes/orgs",
    "repos_url": "https://api.github.com/users/JimLynchCodes/repos",
    "events_url": "https://api.github.com/users/JimLynchCodes/events{/privacy}",
    "received_events_url": "https://api.github.com/users/JimLynchCodes/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 3,
  "created_at": "2021-10-29T16:47:40Z",
  "updated_at": "2021-11-01T21:11:35Z",
  "closed_at": "2021-11-01T21:07:52Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "- [x] I've [opened a support ticket](https://trufflesuite.zendesk.com/hc/en-us/requests/new) before filing this issue.\r\n\r\n---------------------------\r\n\r\n## Issue\r\n\r\nthe created json ABI files has a \"methods\" field that is always an empty object...\r\n\r\n\r\n## Steps to Reproduce\r\n\r\njust confirmed this happens with every new project:\r\ntruffle init\r\ntruffle create all Hello\r\nadd a function to Hello contract:\r\nfunction foooo() external pure returns (string memory) {\r\n    return \"something\";\r\n  }\r\n4.  run truffle build\r\n5. Look at build/contracts/Hello.json and see that \"methods\" is just an empty object... \r\n\r\n\r\n\r\n## Expected Behavior\r\n\r\nMethods should appear in \"methods\" field\r\n\r\n## Actual Results\r\n\r\nTHEY DON'T\r\n\r\n## Environment\r\n\r\nTruffle v5.4.10 (core: 5.4.10)\r\nSolidity v0.5.16 (solc-js)\r\nNode v14.17.3\r\nWeb3.js v1.5.2\r\n npm: '6.14.13'\r\n",
  "closed_by": {
    "login": "JimLynchCodes",
    "id": 5354163,
    "node_id": "MDQ6VXNlcjUzNTQxNjM=",
    "avatar_url": "https://avatars.githubusercontent.com/u/5354163?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/JimLynchCodes",
    "html_url": "https://github.com/JimLynchCodes",
    "followers_url": "https://api.github.com/users/JimLynchCodes/followers",
    "following_url": "https://api.github.com/users/JimLynchCodes/following{/other_user}",
    "gists_url": "https://api.github.com/users/JimLynchCodes/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/JimLynchCodes/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/JimLynchCodes/subscriptions",
    "organizations_url": "https://api.github.com/users/JimLynchCodes/orgs",
    "repos_url": "https://api.github.com/users/JimLynchCodes/repos",
    "events_url": "https://api.github.com/users/JimLynchCodes/events{/privacy}",
    "received_events_url": "https://api.github.com/users/JimLynchCodes/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/4380/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/trufflesuite/truffle/issues/4380/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/955012210",
    "html_url": "https://github.com/trufflesuite/truffle/issues/4380#issuecomment-955012210",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/4380",
    "id": 955012210,
    "node_id": "IC_kwDOAkfq-c447FRy",
    "user": {
      "login": "haltman-at",
      "id": 35589221,
      "node_id": "MDQ6VXNlcjM1NTg5MjIx",
      "avatar_url": "https://avatars.githubusercontent.com/u/35589221?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/haltman-at",
      "html_url": "https://github.com/haltman-at",
      "followers_url": "https://api.github.com/users/haltman-at/followers",
      "following_url": "https://api.github.com/users/haltman-at/following{/other_user}",
      "gists_url": "https://api.github.com/users/haltman-at/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/haltman-at/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/haltman-at/subscriptions",
      "organizations_url": "https://api.github.com/users/haltman-at/orgs",
      "repos_url": "https://api.github.com/users/haltman-at/repos",
      "events_url": "https://api.github.com/users/haltman-at/events{/privacy}",
      "received_events_url": "https://api.github.com/users/haltman-at/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-10-29T19:56:16Z",
    "updated_at": "2021-10-29T19:56:16Z",
    "author_association": "CONTRIBUTOR",
    "body": "Could you explain what information you expect to appear in `methods`, other than that it would be something about the methods?  Truffle artifacts do not in fact have a `methods` field, so it's not a bug that it's missing.  As such, I'm not clear on why you expect there to be a `methods` field, what you expect it to contain, or what you intend to use this information for.\r\n\r\nNow, you say that `methods` appears as an empty object; but given that there is no `methods` field in the first place, I suspect that you are actually looking at the `methods` *subfield* of either the `devdoc` field or the `userdoc` field.  These fields will only be populated if you use [NatSpec comments](https://docs.soliditylang.org/en/v0.8.9/natspec-format.html) for documentation; if you do that, they will then contain that documentation.  Since your contract does not use NatSpec comments, it is not an error that these subfields are empty.\r\n\r\nYou might also be thinking of the `methods` property that exists on Truffle contract abstractions.  If *this* is empty, then that is certainly a bug!  However, a Truffle contract abstraction, a Javascript object, is a different thing from a Truffle artifact, a JSON file, even if the contract abstraction contains many of the fields of, and is created from, an artifact.  You will not see a contract abstraction's `method` object in the artifact JSON.  That `methods` object, of course, is created from the artifact's `abi` field, which does list the contract's methods, among other things.\r\n\r\nSo, as mentioned, it's not clear to me what you were expecting to find here.  Does the above explanation resolve your issue, or is there work still to be done here?",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/955012210/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/956591845",
    "html_url": "https://github.com/trufflesuite/truffle/issues/4380#issuecomment-956591845",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/4380",
    "id": 956591845,
    "node_id": "IC_kwDOAkfq-c45BG7l",
    "user": {
      "login": "JimLynchCodes",
      "id": 5354163,
      "node_id": "MDQ6VXNlcjUzNTQxNjM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5354163?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/JimLynchCodes",
      "html_url": "https://github.com/JimLynchCodes",
      "followers_url": "https://api.github.com/users/JimLynchCodes/followers",
      "following_url": "https://api.github.com/users/JimLynchCodes/following{/other_user}",
      "gists_url": "https://api.github.com/users/JimLynchCodes/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/JimLynchCodes/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/JimLynchCodes/subscriptions",
      "organizations_url": "https://api.github.com/users/JimLynchCodes/orgs",
      "repos_url": "https://api.github.com/users/JimLynchCodes/repos",
      "events_url": "https://api.github.com/users/JimLynchCodes/events{/privacy}",
      "received_events_url": "https://api.github.com/users/JimLynchCodes/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-11-01T21:07:52Z",
    "updated_at": "2021-11-01T21:07:52Z",
    "author_association": "CONTRIBUTOR",
    "body": "\r\nthanks @haltman-at, but I have no clue what you are talking about...\r\n\r\nMy issue was that I needed to import the Abi json **_AND_** read the \".abi\" field off of it. üëç",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/956591845/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/956597695",
    "html_url": "https://github.com/trufflesuite/truffle/issues/4380#issuecomment-956597695",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/4380",
    "id": 956597695,
    "node_id": "IC_kwDOAkfq-c45BIW_",
    "user": {
      "login": "haltman-at",
      "id": 35589221,
      "node_id": "MDQ6VXNlcjM1NTg5MjIx",
      "avatar_url": "https://avatars.githubusercontent.com/u/35589221?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/haltman-at",
      "html_url": "https://github.com/haltman-at",
      "followers_url": "https://api.github.com/users/haltman-at/followers",
      "following_url": "https://api.github.com/users/haltman-at/following{/other_user}",
      "gists_url": "https://api.github.com/users/haltman-at/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/haltman-at/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/haltman-at/subscriptions",
      "organizations_url": "https://api.github.com/users/haltman-at/orgs",
      "repos_url": "https://api.github.com/users/haltman-at/repos",
      "events_url": "https://api.github.com/users/haltman-at/events{/privacy}",
      "received_events_url": "https://api.github.com/users/haltman-at/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-11-01T21:11:35Z",
    "updated_at": "2021-11-01T21:11:35Z",
    "author_association": "CONTRIBUTOR",
    "body": "OK!  I should point out, though, that the JSON files you are looking at is *not* the ABI JSON.  It's the Truffle Artifact.  It *contains* the ABI JSON, in the `abi` field, which is what you extracted.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/956597695/reactions",
      "total_count": 2,
      "+1": 1,
      "-1": 0,
      "laugh": 1,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
