{
  "url": "https://api.github.com/repos/trufflesuite/truffle/issues/822",
  "repository_url": "https://api.github.com/repos/trufflesuite/truffle",
  "labels_url": "https://api.github.com/repos/trufflesuite/truffle/issues/822/labels{/name}",
  "comments_url": "https://api.github.com/repos/trufflesuite/truffle/issues/822/comments",
  "events_url": "https://api.github.com/repos/trufflesuite/truffle/issues/822/events",
  "html_url": "https://github.com/trufflesuite/truffle/issues/822",
  "id": 300692781,
  "node_id": "MDU6SXNzdWUzMDA2OTI3ODE=",
  "number": 822,
  "title": "Debugging unit tests",
  "user": {
    "login": "aleybovich",
    "id": 600721,
    "node_id": "MDQ6VXNlcjYwMDcyMQ==",
    "avatar_url": "https://avatars.githubusercontent.com/u/600721?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/aleybovich",
    "html_url": "https://github.com/aleybovich",
    "followers_url": "https://api.github.com/users/aleybovich/followers",
    "following_url": "https://api.github.com/users/aleybovich/following{/other_user}",
    "gists_url": "https://api.github.com/users/aleybovich/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/aleybovich/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/aleybovich/subscriptions",
    "organizations_url": "https://api.github.com/users/aleybovich/orgs",
    "repos_url": "https://api.github.com/users/aleybovich/repos",
    "events_url": "https://api.github.com/users/aleybovich/events{/privacy}",
    "received_events_url": "https://api.github.com/users/aleybovich/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 5,
  "created_at": "2018-02-27T16:08:43Z",
  "updated_at": "2018-12-05T06:56:05Z",
  "closed_at": "2018-02-27T16:38:58Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "- [x ] I've asked for help in the [Truffle Gitter](http://gitter.im/Consensys/truffle) before filing this issue.\r\n\r\n---------------------------\r\n\r\n## Issue\r\n\r\nDebugging JS unit tests\r\n\r\n## Steps to Reproduce\r\n\r\nDo you know if there is a way to debug JS unit tests for smart contracts? I use VS Code for development, and when I try to run a Mocha debugger it complains that `artifacts` is not defined. I briefly looked at truffle code, it looks like it adds `artifacts`, `contract` and some other global js variables when it runs the unit tests. Is there a way for me to add those explicitly in the JS unit test file so I could debug that unit test file? \r\n\r\n## Expected Behavior\r\n\r\nBe able to debug js unit tests\r\n\r\n## Actual Results\r\n\r\nNot able to debug unit tests as `artifacts`, `contracts` and other JS objects injected by truffle are not present when running the debug session\r\n \r\n## Environment\r\n\r\n* Operating System: Mac OSX \r\n* Ethereum client: Ganache\r\n* Truffle version (`truffle version`): 4.0.7\r\n* node version (`node --version`): 7.7.3\r\n* npm version (`npm --version`):  4.0.3 \r\n* IDE: VS Code\r\n",
  "closed_by": {
    "login": "aleybovich",
    "id": 600721,
    "node_id": "MDQ6VXNlcjYwMDcyMQ==",
    "avatar_url": "https://avatars.githubusercontent.com/u/600721?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/aleybovich",
    "html_url": "https://github.com/aleybovich",
    "followers_url": "https://api.github.com/users/aleybovich/followers",
    "following_url": "https://api.github.com/users/aleybovich/following{/other_user}",
    "gists_url": "https://api.github.com/users/aleybovich/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/aleybovich/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/aleybovich/subscriptions",
    "organizations_url": "https://api.github.com/users/aleybovich/orgs",
    "repos_url": "https://api.github.com/users/aleybovich/repos",
    "events_url": "https://api.github.com/users/aleybovich/events{/privacy}",
    "received_events_url": "https://api.github.com/users/aleybovich/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/822/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/trufflesuite/truffle/issues/822/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/368940186",
    "html_url": "https://github.com/trufflesuite/truffle/issues/822#issuecomment-368940186",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/822",
    "id": 368940186,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2ODk0MDE4Ng==",
    "user": {
      "login": "aleybovich",
      "id": 600721,
      "node_id": "MDQ6VXNlcjYwMDcyMQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/600721?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/aleybovich",
      "html_url": "https://github.com/aleybovich",
      "followers_url": "https://api.github.com/users/aleybovich/followers",
      "following_url": "https://api.github.com/users/aleybovich/following{/other_user}",
      "gists_url": "https://api.github.com/users/aleybovich/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/aleybovich/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/aleybovich/subscriptions",
      "organizations_url": "https://api.github.com/users/aleybovich/orgs",
      "repos_url": "https://api.github.com/users/aleybovich/repos",
      "events_url": "https://api.github.com/users/aleybovich/events{/privacy}",
      "received_events_url": "https://api.github.com/users/aleybovich/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-02-27T16:34:51Z",
    "updated_at": "2018-02-27T16:34:51Z",
    "author_association": "NONE",
    "body": "@lazaridiscom You are my hero - this is gonna save me hours of pulling my hair! I am going to post this question on ethereum.stackexchange.com and if you are on there you can post this answer and get points, or if you don't use it I will post the answer, so the community can use it. I know several people who were looking for this as well.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/368940186/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/368941457",
    "html_url": "https://github.com/trufflesuite/truffle/issues/822#issuecomment-368941457",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/822",
    "id": 368941457,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2ODk0MTQ1Nw==",
    "user": {
      "login": "aleybovich",
      "id": 600721,
      "node_id": "MDQ6VXNlcjYwMDcyMQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/600721?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/aleybovich",
      "html_url": "https://github.com/aleybovich",
      "followers_url": "https://api.github.com/users/aleybovich/followers",
      "following_url": "https://api.github.com/users/aleybovich/following{/other_user}",
      "gists_url": "https://api.github.com/users/aleybovich/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/aleybovich/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/aleybovich/subscriptions",
      "organizations_url": "https://api.github.com/users/aleybovich/orgs",
      "repos_url": "https://api.github.com/users/aleybovich/repos",
      "events_url": "https://api.github.com/users/aleybovich/events{/privacy}",
      "received_events_url": "https://api.github.com/users/aleybovich/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-02-27T16:38:26Z",
    "updated_at": "2018-02-27T16:38:36Z",
    "author_association": "NONE",
    "body": "@lazaridiscom sure, go ahead and answer this: https://ethereum.stackexchange.com/questions/41094/debugging-js-unit-tests-with-truffle-framework-in-vs-code\r\nI'll accept your answer",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/368941457/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/368941619",
    "html_url": "https://github.com/trufflesuite/truffle/issues/822#issuecomment-368941619",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/822",
    "id": 368941619,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2ODk0MTYxOQ==",
    "user": {
      "login": "aleybovich",
      "id": 600721,
      "node_id": "MDQ6VXNlcjYwMDcyMQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/600721?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/aleybovich",
      "html_url": "https://github.com/aleybovich",
      "followers_url": "https://api.github.com/users/aleybovich/followers",
      "following_url": "https://api.github.com/users/aleybovich/following{/other_user}",
      "gists_url": "https://api.github.com/users/aleybovich/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/aleybovich/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/aleybovich/subscriptions",
      "organizations_url": "https://api.github.com/users/aleybovich/orgs",
      "repos_url": "https://api.github.com/users/aleybovich/repos",
      "events_url": "https://api.github.com/users/aleybovich/events{/privacy}",
      "received_events_url": "https://api.github.com/users/aleybovich/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-02-27T16:38:58Z",
    "updated_at": "2018-02-27T16:38:58Z",
    "author_association": "NONE",
    "body": "Issue resolved, thanks to @lazaridiscom ",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/368941619/reactions",
      "total_count": 4,
      "+1": 4,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/375594111",
    "html_url": "https://github.com/trufflesuite/truffle/issues/822#issuecomment-375594111",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/822",
    "id": 375594111,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3NTU5NDExMQ==",
    "user": {
      "login": "serebrov",
      "id": 597640,
      "node_id": "MDQ6VXNlcjU5NzY0MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/597640?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/serebrov",
      "html_url": "https://github.com/serebrov",
      "followers_url": "https://api.github.com/users/serebrov/followers",
      "following_url": "https://api.github.com/users/serebrov/following{/other_user}",
      "gists_url": "https://api.github.com/users/serebrov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/serebrov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/serebrov/subscriptions",
      "organizations_url": "https://api.github.com/users/serebrov/orgs",
      "repos_url": "https://api.github.com/users/serebrov/repos",
      "events_url": "https://api.github.com/users/serebrov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/serebrov/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-23T09:34:09Z",
    "updated_at": "2018-03-23T09:34:09Z",
    "author_association": "NONE",
    "body": "Just for reference - the same solution above can be used to start the debugger from command line and debug in [node inspector](https://nodejs.org/en/docs/inspector/) (in Chrome dev tools):\r\n\r\n```\r\nnpm install truffle-core\r\nnode --inspect-brk ./node_modules/truffle-core/cli.js test test/test_to_debug.js\r\n```\r\n\r\n- Open `chrome://inspect` page and click the \"Open dedicated DevTools for Node\" link.\r\n- We should see the `cli.js` file with execution paused on the first line.\r\n- Add the test sources into the inspector: click the \"Filesystem\" on the left and then \"Add folder to workspace\".\r\n- Browse to the folder with tests and add it.\r\n- Open the file with the test to debug and set the breakpoint, continue the execution until it reaches the breakpoint\r\n- Now you can step through your test, inspect variables, etc",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/375594111/reactions",
      "total_count": 5,
      "+1": 5,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/439550081",
    "html_url": "https://github.com/trufflesuite/truffle/issues/822#issuecomment-439550081",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/822",
    "id": 439550081,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzOTU1MDA4MQ==",
    "user": {
      "login": "tjanson",
      "id": 532114,
      "node_id": "MDQ6VXNlcjUzMjExNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/532114?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tjanson",
      "html_url": "https://github.com/tjanson",
      "followers_url": "https://api.github.com/users/tjanson/followers",
      "following_url": "https://api.github.com/users/tjanson/following{/other_user}",
      "gists_url": "https://api.github.com/users/tjanson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tjanson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tjanson/subscriptions",
      "organizations_url": "https://api.github.com/users/tjanson/orgs",
      "repos_url": "https://api.github.com/users/tjanson/repos",
      "events_url": "https://api.github.com/users/tjanson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tjanson/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-11-16T22:35:15Z",
    "updated_at": "2018-11-16T22:35:46Z",
    "author_association": "NONE",
    "body": "I’m not sure if Truffle’s folder / project structure changed, but in any case the CLI runner is present at this path now: `node_modules/truffle/build/cli.bundled.js`. No need to install `truffle-core`.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/439550081/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
