{
  "url": "https://api.github.com/repos/trufflesuite/truffle/issues/4486",
  "repository_url": "https://api.github.com/repos/trufflesuite/truffle",
  "labels_url": "https://api.github.com/repos/trufflesuite/truffle/issues/4486/labels{/name}",
  "comments_url": "https://api.github.com/repos/trufflesuite/truffle/issues/4486/comments",
  "events_url": "https://api.github.com/repos/trufflesuite/truffle/issues/4486/events",
  "html_url": "https://github.com/trufflesuite/truffle/issues/4486",
  "id": 1070218909,
  "node_id": "I_kwDOAkfq-c4_yj6d",
  "number": 4486,
  "title": "`fetchAndCompile()` should accept multiple addresses at a time.",
  "user": {
    "login": "gnidan",
    "id": 151065,
    "node_id": "MDQ6VXNlcjE1MTA2NQ==",
    "avatar_url": "https://avatars.githubusercontent.com/u/151065?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/gnidan",
    "html_url": "https://github.com/gnidan",
    "followers_url": "https://api.github.com/users/gnidan/followers",
    "following_url": "https://api.github.com/users/gnidan/following{/other_user}",
    "gists_url": "https://api.github.com/users/gnidan/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/gnidan/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/gnidan/subscriptions",
    "organizations_url": "https://api.github.com/users/gnidan/orgs",
    "repos_url": "https://api.github.com/users/gnidan/repos",
    "events_url": "https://api.github.com/users/gnidan/events{/privacy}",
    "received_events_url": "https://api.github.com/users/gnidan/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 1675041796,
      "node_id": "MDU6TGFiZWwxNjc1MDQxNzk2",
      "url": "https://api.github.com/repos/trufflesuite/truffle/labels/priority3%20%F0%9F%94%A7",
      "name": "priority3 ðŸ”§",
      "color": "006b75",
      "default": false,
      "description": ""
    },
    {
      "id": 3628493077,
      "node_id": "LA_kwDOAkfq-c7YRmkV",
      "url": "https://api.github.com/repos/trufflesuite/truffle/labels/fetch-and-compile",
      "name": "fetch-and-compile",
      "color": "19EC49",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 3,
  "created_at": "2021-12-03T04:55:58Z",
  "updated_at": "2022-01-29T22:10:30Z",
  "closed_at": "2022-01-29T22:10:30Z",
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": "## Issue\r\n\r\n@truffle/source-fetcher respects API request rate limits by introducing a delay between the requests it makes, keeping clock state on a per-invocation basis. @truffle/fetch-and-compile's `fetchAndCompile()` currently only provides a means of accepting one address at a time, and so it provides no means by which to take advantage of this underlying source-fetcher capability.\r\n\r\nThis effectively makes this package unsuitable for the use case of fetching-and-compiling in bulk. It's a real bummer cause sometimes transactions have lots of EVM logs from different addresses and you just want the compilations for all of them, like, y'know?\r\n\r\nThe interface for this function should be expanded to also accept lists of addresses, ideally including removing duplicates from lists of non-unique addresses, and the function should ensure that API request delays properly work between requests for addresses in that list.",
  "closed_by": {
    "login": "gnidan",
    "id": 151065,
    "node_id": "MDQ6VXNlcjE1MTA2NQ==",
    "avatar_url": "https://avatars.githubusercontent.com/u/151065?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/gnidan",
    "html_url": "https://github.com/gnidan",
    "followers_url": "https://api.github.com/users/gnidan/followers",
    "following_url": "https://api.github.com/users/gnidan/following{/other_user}",
    "gists_url": "https://api.github.com/users/gnidan/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/gnidan/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/gnidan/subscriptions",
    "organizations_url": "https://api.github.com/users/gnidan/orgs",
    "repos_url": "https://api.github.com/users/gnidan/repos",
    "events_url": "https://api.github.com/users/gnidan/events{/privacy}",
    "received_events_url": "https://api.github.com/users/gnidan/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/4486/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/trufflesuite/truffle/issues/4486/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/985224693",
    "html_url": "https://github.com/trufflesuite/truffle/issues/4486#issuecomment-985224693",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/4486",
    "id": 985224693,
    "node_id": "IC_kwDOAkfq-c46uVX1",
    "user": {
      "login": "haltman-at",
      "id": 35589221,
      "node_id": "MDQ6VXNlcjM1NTg5MjIx",
      "avatar_url": "https://avatars.githubusercontent.com/u/35589221?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/haltman-at",
      "html_url": "https://github.com/haltman-at",
      "followers_url": "https://api.github.com/users/haltman-at/followers",
      "following_url": "https://api.github.com/users/haltman-at/following{/other_user}",
      "gists_url": "https://api.github.com/users/haltman-at/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/haltman-at/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/haltman-at/subscriptions",
      "organizations_url": "https://api.github.com/users/haltman-at/orgs",
      "repos_url": "https://api.github.com/users/haltman-at/repos",
      "events_url": "https://api.github.com/users/haltman-at/events{/privacy}",
      "received_events_url": "https://api.github.com/users/haltman-at/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-12-03T05:18:19Z",
    "updated_at": "2021-12-03T05:18:19Z",
    "author_association": "CONTRIBUTOR",
    "body": "Oh interesting, you want to overload the function?  I was assuming it would be a separate function.  I think that would make more sense so that you don't have to break the return type.\r\n\r\nNote that much of what you're asking for would be automatically handled by `fetch.ts` so long as you can write an appropriate recognizer. :)",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/985224693/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/985252053",
    "html_url": "https://github.com/trufflesuite/truffle/issues/4486#issuecomment-985252053",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/4486",
    "id": 985252053,
    "node_id": "IC_kwDOAkfq-c46ucDV",
    "user": {
      "login": "gnidan",
      "id": 151065,
      "node_id": "MDQ6VXNlcjE1MTA2NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/151065?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gnidan",
      "html_url": "https://github.com/gnidan",
      "followers_url": "https://api.github.com/users/gnidan/followers",
      "following_url": "https://api.github.com/users/gnidan/following{/other_user}",
      "gists_url": "https://api.github.com/users/gnidan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gnidan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gnidan/subscriptions",
      "organizations_url": "https://api.github.com/users/gnidan/orgs",
      "repos_url": "https://api.github.com/users/gnidan/repos",
      "events_url": "https://api.github.com/users/gnidan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gnidan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-12-03T06:30:13Z",
    "updated_at": "2021-12-03T06:30:13Z",
    "author_association": "MEMBER",
    "body": "Oh dang, you're right that it's hard to do this without breaking the interface. Maybe we should just do that now while the Codefi integration is fresh on everyone's mind. I'll ask internally if this is something they can be prepared to accommodate.\r\n\r\nIf we are okay with breaking the interface, then I think we should return what we have now but grouped by address in an object, as well as a convenient concatenation of all the `compilations` in a single array",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/985252053/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/1024996074",
    "html_url": "https://github.com/trufflesuite/truffle/issues/4486#issuecomment-1024996074",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/4486",
    "id": 1024996074,
    "node_id": "IC_kwDOAkfq-c49GDLq",
    "user": {
      "login": "gnidan",
      "id": 151065,
      "node_id": "MDQ6VXNlcjE1MTA2NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/151065?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gnidan",
      "html_url": "https://github.com/gnidan",
      "followers_url": "https://api.github.com/users/gnidan/followers",
      "following_url": "https://api.github.com/users/gnidan/following{/other_user}",
      "gists_url": "https://api.github.com/users/gnidan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gnidan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gnidan/subscriptions",
      "organizations_url": "https://api.github.com/users/gnidan/orgs",
      "repos_url": "https://api.github.com/users/gnidan/repos",
      "events_url": "https://api.github.com/users/gnidan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gnidan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-01-29T22:10:30Z",
    "updated_at": "2022-01-29T22:10:30Z",
    "author_association": "MEMBER",
    "body": "This is addressed and released in [Truffle v5.4.31](https://github.com/trufflesuite/truffle/releases/tag/v5.4.31).",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/1024996074/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
