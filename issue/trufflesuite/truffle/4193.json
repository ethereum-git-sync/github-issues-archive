{
  "url": "https://api.github.com/repos/trufflesuite/truffle/issues/4193",
  "repository_url": "https://api.github.com/repos/trufflesuite/truffle",
  "labels_url": "https://api.github.com/repos/trufflesuite/truffle/issues/4193/labels{/name}",
  "comments_url": "https://api.github.com/repos/trufflesuite/truffle/issues/4193/comments",
  "events_url": "https://api.github.com/repos/trufflesuite/truffle/issues/4193/events",
  "html_url": "https://github.com/trufflesuite/truffle/issues/4193",
  "id": 947935818,
  "node_id": "MDU6SXNzdWU5NDc5MzU4MTg=",
  "number": 4193,
  "title": "Duplicate import names incorrectly detected on windows 10",
  "user": {
    "login": "cds-amal",
    "id": 2529600,
    "node_id": "MDQ6VXNlcjI1Mjk2MDA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/2529600?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/cds-amal",
    "html_url": "https://github.com/cds-amal",
    "followers_url": "https://api.github.com/users/cds-amal/followers",
    "following_url": "https://api.github.com/users/cds-amal/following{/other_user}",
    "gists_url": "https://api.github.com/users/cds-amal/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/cds-amal/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/cds-amal/subscriptions",
    "organizations_url": "https://api.github.com/users/cds-amal/orgs",
    "repos_url": "https://api.github.com/users/cds-amal/repos",
    "events_url": "https://api.github.com/users/cds-amal/events{/privacy}",
    "received_events_url": "https://api.github.com/users/cds-amal/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2021-07-19T18:57:55Z",
  "updated_at": "2021-07-24T03:05:59Z",
  "closed_at": "2021-07-24T03:05:59Z",
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": "When compiling unboxed metacoin project on windows it complains that `Duplicate Contract names found for ConvertLib` \r\n\r\nSeems that there is a path.sep issue here. When `import './ConvertLib.sol';` is processed it resolves to   `'C:\\\\Users\\\\amal-admin\\\\dev\\\\mc\\\\contracts\\\\ConvertLib.sol'` which uses a different path.sep from other compilationTargets. See trace below for context\r\n\r\n```\r\n  compile compilationTargets: [\r\n  compile   'C:/Users/amal-admin/dev/mc/contracts/ConvertLib.sol',\r\n  compile   'C:/Users/amal-admin/dev/mc/contracts/MetaCoin.sol',\r\n  compile   'C:/Users/amal-admin/dev/mc/contracts/Migrations.sol',\r\n  compile   'C:\\\\Users\\\\amal-admin\\\\dev\\\\mc\\\\contracts\\\\ConvertLib.sol'\r\n  compile ] +1s\r\n```\r\n\r\n## Steps to Reproduce\r\n\r\nOn windows\r\n1. truffle unbox metacoin mc\r\n2. truffle compile\r\n\r\n## Expected Behavior\r\n\r\nThere should be no duplicate arning\r\n\r\n## Actual Results\r\n```\r\nC:\\Users\\amal-admin\\dev\\mc>truffle compile\r\n\r\nCompiling your contracts...\r\n===========================\r\n> Compiling .\\contracts\\ConvertLib.sol\r\n> Compiling .\\contracts\\MetaCoin.sol\r\n> Compiling .\\contracts\\Migrations.sol\r\n> Compiling .\\contracts\\ConvertLib.sol\r\n> Artifacts written to C:\\Users\\amal-admin\\dev\\mc\\build\\contracts\r\n> Compiled successfully using:\r\n   - solc: 0.5.16+commit.9c3226ce.Emscripten.clang\r\n\r\n\r\n> Duplicate contract names found for ConvertLib.\r\n> This can cause errors and unknown behavior. Please rename one of your contracts.\r\n```\r\n\r\n## Edited run with DEBUG=*\r\n```\r\nCompiling your contracts...\r\n===========================\r\n  compile-vyper paths: [\r\n  compile-vyper   'C:/Users/amal-admin/dev/mc/contracts/ConvertLib.sol',\r\n  compile-vyper   'C:/Users/amal-admin/dev/mc/contracts/MetaCoin.sol',\r\n  compile-vyper   'C:/Users/amal-admin/dev/mc/contracts/Migrations.sol'\r\n  compile-vyper ] +0ms\r\n  compile-vyper vyperFilesStrict: [] +6ms\r\n  compile paths: [\r\n  compile   'C:/Users/amal-admin/dev/mc/contracts/ConvertLib.sol',\r\n  compile   'C:/Users/amal-admin/dev/mc/contracts/MetaCoin.sol',\r\n  compile   'C:/Users/amal-admin/dev/mc/contracts/Migrations.sol'\r\n  compile ] +0ms\r\n  compile invoking profiler +58ms\r\n  compile:compilerSupplier soljson <ref *1> { ... } +0ms\r\n  compile-common:profiler paths: [\r\n  compile-common:profiler   'C:/Users/amal-admin/dev/mc/contracts/ConvertLib.sol',\r\n  compile-common:profiler   'C:/Users/amal-admin/dev/mc/contracts/MetaCoin.sol',\r\n  compile-common:profiler   'C:/Users/amal-admin/dev/mc/contracts/Migrations.sol'\r\n  compile-common:profiler ] +0ms\r\n  compile-common:profiler invoking requiredSources +128ms\r\n  compile-common:profiler:requiredSources allPaths: [\r\n  compile-common:profiler:requiredSources   'C:/Users/amal-admin/dev/mc/contracts/ConvertLib.sol',\r\n  compile-common:profiler:requiredSources   'C:/Users/amal-admin/dev/mc/contracts/MetaCoin.sol',\r\n  compile-common:profiler:requiredSources   'C:/Users/amal-admin/dev/mc/contracts/Migrations.sol'\r\n  compile-common:profiler:requiredSources ] +0ms\r\n  compile-common:profiler:requiredSources updatedPaths: [\r\n  compile-common:profiler:requiredSources   'C:/Users/amal-admin/dev/mc/contracts/ConvertLib.sol',\r\n  compile-common:profiler:requiredSources   'C:/Users/amal-admin/dev/mc/contracts/MetaCoin.sol',\r\n  compile-common:profiler:requiredSources   'C:/Users/amal-admin/dev/mc/contracts/Migrations.sol'\r\n  compile-common:profiler:requiredSources ] +54ms\r\n  compile-common:profiler:resolveAllSources resolveAllSources called +0ms\r\n  compile-common:profiler:getImports filePath: C:/Users/amal-admin/dev/mc/contracts/ConvertLib.sol +0ms\r\n  compile:parser errors: [\r\n  compile:parser   {\r\n  compile:parser     component: 'general',\r\n  compile:parser     formattedMessage: 'ParsedContract.sol:12:1: ParserError: Source \"__Truffle__NotFound.sol\" not found: File import callback not supported\\n' +\r\n  compile:parser       \"import '__Truffle__NotFound.sol';\\n\" +\r\n  compile:parser       '^-------------------------------^\\n',\r\n  compile:parser     message: 'Source \"__Truffle__NotFound.sol\" not found: File import callback not supported',\r\n  compile:parser     severity: 'error',\r\n  compile:parser     sourceLocation: { end: 257, file: 'ParsedContract.sol', start: 224 },\r\n  compile:parser     type: 'ParserError'\r\n  compile:parser   }\r\n  compile:parser ] +0ms\r\n  compile-common:profiler:getImports imports: [] +156ms\r\n  compile-common:profiler:resolveAllSources imports: [] +234ms\r\n  compile-common:profiler:getImports filePath: C:/Users/amal-admin/dev/mc/contracts/MetaCoin.sol +0ms\r\n  compile:parser errors: [\r\n  compile:parser   {\r\n  compile:parser     component: 'general',\r\n  compile:parser     formattedMessage: 'ParsedContract.sol:4:1: ParserError: Source \"ConvertLib.sol\" not found: File import callback not supported\\n' +\r\n  compile:parser       'import \"./ConvertLib.sol\";\\n' +\r\n  compile:parser       '^------------------------^\\n',\r\n  compile:parser     message: 'Source \"ConvertLib.sol\" not found: File import callback not supported',\r\n  compile:parser     severity: 'error',\r\n  compile:parser     sourceLocation: { end: 92, file: 'ParsedContract.sol', start: 66 },\r\n  compile:parser     type: 'ParserError'\r\n  compile:parser   },\r\n  compile:parser   {\r\n  compile:parser     component: 'general',\r\n  compile:parser     formattedMessage: 'ParsedContract.sol:38:1: ParserError: Source \"__Truffle__NotFound.sol\" not found: File import callback not supported\\n' +\r\n  compile:parser       \"import '__Truffle__NotFound.sol';\\n\" +\r\n  compile:parser       '^-------------------------------^\\n',\r\n  compile:parser     message: 'Source \"__Truffle__NotFound.sol\" not found: File import callback not supported',\r\n  compile:parser     severity: 'error',\r\n  compile:parser     sourceLocation: { end: 1066, file: 'ParsedContract.sol', start: 1033 },\r\n  compile:parser     type: 'ParserError'\r\n  compile:parser   }\r\n  compile:parser ] +47ms\r\n  compile-common:profiler:getImports imports: [ './ConvertLib.sol' ] +46ms\r\n  compile-common:profiler:resolveAllSources imports: [ 'C:\\\\Users\\\\amal-admin\\\\dev\\\\mc\\\\contracts\\\\ConvertLib.sol' ] +46ms\r\n  compile-common:profiler:getImports filePath: C:/Users/amal-admin/dev/mc/contracts/Migrations.sol +0ms\r\n  compile:parser errors: [\r\n  compile:parser   {\r\n  compile:parser     component: 'general',\r\n  compile:parser     formattedMessage: 'ParsedContract.sol:22:1: ParserError: Source \"__Truffle__NotFound.sol\" not found: File import callback not supported\\n' +\r\n  compile:parser       \"import '__Truffle__NotFound.sol';\\n\" +\r\n  compile:parser       '^-------------------------------^\\n',\r\n  compile:parser     message: 'Source \"__Truffle__NotFound.sol\" not found: File import callback not supported',\r\n  compile:parser     severity: 'error',\r\n  compile:parser     sourceLocation: { end: 413, file: 'ParsedContract.sol', start: 380 },\r\n  compile:parser     type: 'ParserError'\r\n  compile:parser   }\r\n  compile:parser ] +31ms\r\n  compile-common:profiler:getImports imports: [] +16ms\r\n  compile-common:profiler:resolveAllSources imports: [] +16ms\r\n  compile-common:profiler:getImports filePath: C:\\Users\\amal-admin\\dev\\mc\\contracts\\ConvertLib.sol +0ms\r\n  compile:parser errors: [\r\n  compile:parser   {\r\n  compile:parser     component: 'general',\r\n  compile:parser     formattedMessage: 'ParsedContract.sol:12:1: ParserError: Source \"__Truffle__NotFound.sol\" not found: File import callback not supported\\n' +\r\n  compile:parser       \"import '__Truffle__NotFound.sol';\\n\" +\r\n  compile:parser       '^-------------------------------^\\n',\r\n  compile:parser     message: 'Source \"__Truffle__NotFound.sol\" not found: File import callback not supported',\r\n  compile:parser     severity: 'error',\r\n  compile:parser     sourceLocation: { end: 257, file: 'ParsedContract.sol', start: 224 },\r\n  compile:parser     type: 'ParserError'\r\n  compile:parser   }\r\n  compile:parser ] +15ms\r\n  compile-common:profiler:getImports imports: [] +15ms\r\n  compile-common:profiler:resolveAllSources imports: [] +15ms\r\n  compile compilationTargets: [\r\n  compile   'C:/Users/amal-admin/dev/mc/contracts/ConvertLib.sol',\r\n  compile   'C:/Users/amal-admin/dev/mc/contracts/MetaCoin.sol',\r\n  compile   'C:/Users/amal-admin/dev/mc/contracts/Migrations.sol',\r\n  compile   'C:\\\\Users\\\\amal-admin\\\\dev\\\\mc\\\\contracts\\\\ConvertLib.sol'\r\n  compile ] +1s\r\n  compile Compiling Solidity +0ms\r\n  compile:compilerSupplier soljson <ref *1> { i...} +597ms\r\n> Compiling .\\contracts\\ConvertLib.sol\r\n> Compiling .\\contracts\\MetaCoin.sol\r\n> Compiling .\\contracts\\Migrations.sol\r\n> Compiling .\\contracts\\ConvertLib.sol\r\n  compile:run compilerOutput: {\r\n  compile:run   contracts: {\r\n  compile:run     '/C/Users/amal-admin/dev/mc/contracts/ConvertLib.sol': { ConvertLib: [Object] },\r\n  compile:run     '/C/Users/amal-admin/dev/mc/contracts/MetaCoin.sol': { MetaCoin: [Object] },\r\n  compile:run     '/C/Users/amal-admin/dev/mc/contracts/Migrations.sol': { Migrations: [Object] },\r\n  compile:run     'project:/contracts/ConvertLib.sol': { ConvertLib: [Object] }\r\n  compile:run   },\r\n  compile:run   sources: {\r\n  compile:run     '/C/Users/amal-admin/dev/mc/contracts/ConvertLib.sol': { ast: [Object], id: 0, legacyAST: [Object] },\r\n  compile:run     '/C/Users/amal-admin/dev/mc/contracts/MetaCoin.sol': { ast: [Object], id: 1, legacyAST: [Object] },\r\n  compile:run     '/C/Users/amal-admin/dev/mc/contracts/Migrations.sol': { ast: [Object], id: 2, legacyAST: [Object] },\r\n  compile:run     'project:/contracts/ConvertLib.sol': { ast: [Object], id: 3, legacyAST: [Object] }\r\n  compile:run   }\r\n  compile:run } +0ms\r\n  compile Solidity compiled successfully +2s\r\n> Artifacts written to C:\\Users\\amal-admin\\dev\\mc\\build\\contracts\r\n> Compiled successfully using:\r\n   - solc: 0.5.16+commit.9c3226ce.Emscripten.clang\r\n\r\n\r\n> Duplicate contract names found for ConvertLib.\r\n> This can cause errors and unknown behavior. Please rename one of your contracts.\r\n\r\n```\r\n## Environment\r\n```\r\nOS Name:                   Microsoft Windows 10 Pro\r\nOS Version:                10.0.19043 N/A Build 19043\r\n\r\nC:\\Users\\amal-admin\\dev\\mc>truffle version\r\nTruffle v5.4.1 (core: 5.4.1)\r\nSolidity v0.5.16 (solc-js)\r\nNode v14.17.3\r\nWeb3.js v1.4.0\r\n```",
  "closed_by": {
    "login": "gnidan",
    "id": 151065,
    "node_id": "MDQ6VXNlcjE1MTA2NQ==",
    "avatar_url": "https://avatars.githubusercontent.com/u/151065?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/gnidan",
    "html_url": "https://github.com/gnidan",
    "followers_url": "https://api.github.com/users/gnidan/followers",
    "following_url": "https://api.github.com/users/gnidan/following{/other_user}",
    "gists_url": "https://api.github.com/users/gnidan/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/gnidan/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/gnidan/subscriptions",
    "organizations_url": "https://api.github.com/users/gnidan/orgs",
    "repos_url": "https://api.github.com/users/gnidan/repos",
    "events_url": "https://api.github.com/users/gnidan/events{/privacy}",
    "received_events_url": "https://api.github.com/users/gnidan/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/4193/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/trufflesuite/truffle/issues/4193/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/883716816",
    "html_url": "https://github.com/trufflesuite/truffle/issues/4193#issuecomment-883716816",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/4193",
    "id": 883716816,
    "node_id": "IC_kwDOAkfq-c40rHLQ",
    "user": {
      "login": "haltman-at",
      "id": 35589221,
      "node_id": "MDQ6VXNlcjM1NTg5MjIx",
      "avatar_url": "https://avatars.githubusercontent.com/u/35589221?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/haltman-at",
      "html_url": "https://github.com/haltman-at",
      "followers_url": "https://api.github.com/users/haltman-at/followers",
      "following_url": "https://api.github.com/users/haltman-at/following{/other_user}",
      "gists_url": "https://api.github.com/users/haltman-at/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/haltman-at/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/haltman-at/subscriptions",
      "organizations_url": "https://api.github.com/users/haltman-at/orgs",
      "repos_url": "https://api.github.com/users/haltman-at/repos",
      "events_url": "https://api.github.com/users/haltman-at/events{/privacy}",
      "received_events_url": "https://api.github.com/users/haltman-at/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-20T21:21:30Z",
    "updated_at": "2021-07-20T21:21:30Z",
    "author_association": "CONTRIBUTOR",
    "body": "To be clear, those double-backslashes are actually single backslashes, right?  You just copied and pasted them out of a string literal?  That's what it looks like from the DEBUG dump you posted.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/883716816/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/885991275",
    "html_url": "https://github.com/trufflesuite/truffle/issues/4193#issuecomment-885991275",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/4193",
    "id": 885991275,
    "node_id": "IC_kwDOAkfq-c40zydr",
    "user": {
      "login": "gnidan",
      "id": 151065,
      "node_id": "MDQ6VXNlcjE1MTA2NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/151065?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gnidan",
      "html_url": "https://github.com/gnidan",
      "followers_url": "https://api.github.com/users/gnidan/followers",
      "following_url": "https://api.github.com/users/gnidan/following{/other_user}",
      "gists_url": "https://api.github.com/users/gnidan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gnidan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gnidan/subscriptions",
      "organizations_url": "https://api.github.com/users/gnidan/orgs",
      "repos_url": "https://api.github.com/users/gnidan/repos",
      "events_url": "https://api.github.com/users/gnidan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gnidan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-24T03:05:59Z",
    "updated_at": "2021-07-24T03:05:59Z",
    "author_association": "MEMBER",
    "body": "This should now be fixed in Truffle v5.4.2 (see [release notes](https://github.com/trufflesuite/truffle/releases/tag/v5.4.2)).",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/885991275/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
