{
  "url": "https://api.github.com/repos/trufflesuite/truffle/issues/2152",
  "repository_url": "https://api.github.com/repos/trufflesuite/truffle",
  "labels_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2152/labels{/name}",
  "comments_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2152/comments",
  "events_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2152/events",
  "html_url": "https://github.com/trufflesuite/truffle/issues/2152",
  "id": 463909647,
  "node_id": "MDU6SXNzdWU0NjM5MDk2NDc=",
  "number": 2152,
  "title": "Truffle Console: Print indicator when auto-resolving promise",
  "user": {
    "login": "haltman-at",
    "id": 35589221,
    "node_id": "MDQ6VXNlcjM1NTg5MjIx",
    "avatar_url": "https://avatars.githubusercontent.com/u/35589221?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/haltman-at",
    "html_url": "https://github.com/haltman-at",
    "followers_url": "https://api.github.com/users/haltman-at/followers",
    "following_url": "https://api.github.com/users/haltman-at/following{/other_user}",
    "gists_url": "https://api.github.com/users/haltman-at/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/haltman-at/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/haltman-at/subscriptions",
    "organizations_url": "https://api.github.com/users/haltman-at/orgs",
    "repos_url": "https://api.github.com/users/haltman-at/repos",
    "events_url": "https://api.github.com/users/haltman-at/events{/privacy}",
    "received_events_url": "https://api.github.com/users/haltman-at/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 230393328,
      "node_id": "MDU6TGFiZWwyMzAzOTMzMjg=",
      "url": "https://api.github.com/repos/trufflesuite/truffle/labels/enhancement",
      "name": "enhancement",
      "color": "84b6eb",
      "default": true,
      "description": null
    },
    {
      "id": 971680115,
      "node_id": "MDU6TGFiZWw5NzE2ODAxMTU=",
      "url": "https://api.github.com/repos/trufflesuite/truffle/labels/Console",
      "name": "Console",
      "color": "fbca04",
      "default": false,
      "description": ""
    },
    {
      "id": 1086852667,
      "node_id": "MDU6TGFiZWwxMDg2ODUyNjY3",
      "url": "https://api.github.com/repos/trufflesuite/truffle/labels/needs%20requirements",
      "name": "needs requirements",
      "color": "d4c5f9",
      "default": false,
      "description": "feature request is unclear"
    },
    {
      "id": 1675042518,
      "node_id": "MDU6TGFiZWwxNjc1MDQyNTE4",
      "url": "https://api.github.com/repos/trufflesuite/truffle/labels/priority6%20%F0%9F%92%AD",
      "name": "priority6 ðŸ’­",
      "color": "006b75",
      "default": false,
      "description": ""
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 1,
  "created_at": "2019-07-03T19:06:06Z",
  "updated_at": "2020-04-08T18:08:16Z",
  "closed_at": null,
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "## Issue\r\n\r\nIf an expression entered at the Truffle console evaluates to a promise, the console will automatically resolve it and print the result rather than printing the promise itself.  While helpful by itself, this can be confusing on context.  For instance, if one, forgetting an `await`, writes:\r\n\r\n`result = (await MyContract.deployed()).method()`\r\n\r\nThen `result` will hold a promise and, and the console will show the result of this promise: an object with such fields as `tx`, `receipt`, and `logs`.  So it appears that `result` has these fields.  And yet, because `result` actually holds a promise, attempting to print `result.tx`, `result.receipt`, or `receipt.logs` will confusingly yield `undefined`.  You can see the fields right there, yet you can't print them individually!\r\n\r\nIn order to mitigate this problem, it might help if, when auto-resolving and printing a promise, some indicator was printed to show that this was happening and make it clear that the actual expression that was entered evaluates to a promise rather than what it appears to evaluate to.\r\n\r\nFor instance, maybe one could print `Entered expression evaluates to promise; auto-resolving:` on a separate line before printing the resolution.\r\n\r\nAnother alternative would be to directly display the evaluated result as something like `Promise resolving to ...`, but for various reasons I like this solution less.\r\n\r\nIn any case, any indicator of this sort would make it clearer when you accidentally forgot an `await`.\r\n\r\n## Environment\r\n\r\n* Truffle version (`truffle version`): 5.0.24",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/2152/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2152/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/508293086",
    "html_url": "https://github.com/trufflesuite/truffle/issues/2152#issuecomment-508293086",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2152",
    "id": 508293086,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUwODI5MzA4Ng==",
    "user": {
      "login": "gnidan",
      "id": 151065,
      "node_id": "MDQ6VXNlcjE1MTA2NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/151065?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gnidan",
      "html_url": "https://github.com/gnidan",
      "followers_url": "https://api.github.com/users/gnidan/followers",
      "following_url": "https://api.github.com/users/gnidan/following{/other_user}",
      "gists_url": "https://api.github.com/users/gnidan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gnidan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gnidan/subscriptions",
      "organizations_url": "https://api.github.com/users/gnidan/orgs",
      "repos_url": "https://api.github.com/users/gnidan/repos",
      "events_url": "https://api.github.com/users/gnidan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gnidan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-07-04T00:07:02Z",
    "updated_at": "2019-07-04T00:07:02Z",
    "author_association": "MEMBER",
    "body": "(Requirements being coming up with the specific wording / output modification to make this more clear)",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/508293086/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
