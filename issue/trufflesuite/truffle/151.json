{
  "url": "https://api.github.com/repos/trufflesuite/truffle/issues/151",
  "repository_url": "https://api.github.com/repos/trufflesuite/truffle",
  "labels_url": "https://api.github.com/repos/trufflesuite/truffle/issues/151/labels{/name}",
  "comments_url": "https://api.github.com/repos/trufflesuite/truffle/issues/151/comments",
  "events_url": "https://api.github.com/repos/trufflesuite/truffle/issues/151/events",
  "html_url": "https://github.com/trufflesuite/truffle/issues/151",
  "id": 153194470,
  "node_id": "MDU6SXNzdWUxNTMxOTQ0NzA=",
  "number": 151,
  "title": "putting php files in the build declaration now causes a build error",
  "user": {
    "login": "msbachler",
    "id": 4311824,
    "node_id": "MDQ6VXNlcjQzMTE4MjQ=",
    "avatar_url": "https://avatars.githubusercontent.com/u/4311824?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/msbachler",
    "html_url": "https://github.com/msbachler",
    "followers_url": "https://api.github.com/users/msbachler/followers",
    "following_url": "https://api.github.com/users/msbachler/following{/other_user}",
    "gists_url": "https://api.github.com/users/msbachler/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/msbachler/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/msbachler/subscriptions",
    "organizations_url": "https://api.github.com/users/msbachler/orgs",
    "repos_url": "https://api.github.com/users/msbachler/repos",
    "events_url": "https://api.github.com/users/msbachler/events{/privacy}",
    "received_events_url": "https://api.github.com/users/msbachler/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 230393329,
      "node_id": "MDU6TGFiZWwyMzAzOTMzMjk=",
      "url": "https://api.github.com/repos/trufflesuite/truffle/labels/help%20wanted",
      "name": "help wanted",
      "color": "159818",
      "default": true,
      "description": null
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 3,
  "created_at": "2016-05-05T09:05:33Z",
  "updated_at": "2017-07-10T20:06:12Z",
  "closed_at": "2017-07-10T20:06:12Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "I have an older version of truffle (0.3.1) running on a server with dapps that use php as well as html files. This was never an issue. I just declared them in the build of the truffle json. I just got a message saying it didn't recognize the file type or something like that and it was copied to the build folder. Now, on a new server I just built which now has truffle 1.0.2 the same truffle.json causes an error message until I remove the php file declarations and then it works fine. I tried renaming it to truffle.js and adjusting the internal declaration structure to the new format (as far as I understood it), but that still caused the same error. What is the new way of declaring php or other non-html/js files in the build and have then copied appropriately. Having to copy them by hand after truffle build is annoying. The error I am getting is:\n\nTypeError: Cannot read property 'replace' of undefined\n    at DefaultBuilder.expect (/usr/local/lib/node_modules/truffle/node_modules/truffle-default-builder/index.js:276:37)\n    at DefaultBuilder.process_file (/usr/local/lib/node_modules/truffle/node_modules/truffle-default-builder/index.js:135:8)\n    at /usr/local/lib/node_modules/truffle/node_modules/truffle-default-builder/index.js:179:10\n    at /usr/local/lib/node_modules/truffle/node_modules/async/lib/async.js:375:13\n    at iterate (/usr/local/lib/node_modules/truffle/node_modules/async/lib/async.js:262:13)\n    at Object.async.forEachOfSeries.async.eachOfSeries (/usr/local/lib/node_modules/truffle/node_modules/async/lib/async.js:281:9)\n    at Object.async.inject.async.foldl.async.reduce (/usr/local/lib/node_modules/truffle/node_modules/async/lib/async.js:374:15)\n    at DefaultBuilder.process_files (/usr/local/lib/node_modules/truffle/node_modules/truffle-default-builder/index.js:169:9)\n    at DefaultBuilder.process_target (/usr/local/lib/node_modules/truffle/node_modules/truffle-default-builder/index.js:220:8)\n    at /usr/local/lib/node_modules/truffle/node_modules/truffle-default-builder/index.js:259:10\n    at /usr/local/lib/node_modules/truffle/node_modules/async/lib/async.js:181:20\n    at iterate (/usr/local/lib/node_modules/truffle/node_modules/async/lib/async.js:262:13)\n    at /usr/local/lib/node_modules/truffle/node_modules/async/lib/async.js:274:29\n    at /usr/local/lib/node_modules/truffle/node_modules/async/lib/async.js:44:16\n    at /usr/local/lib/node_modules/truffle/node_modules/mocha/node_modules/graceful-fs/graceful-fs.js:104:5\n    at /usr/local/lib/node_modules/truffle/node_modules/graceful-fs/graceful-fs.js:43:10\n    at FSReqWrap.oncomplete (fs.js:82:15)\n    at Function.module.exports.loopWhile (/usr/local/lib/node_modules/truffle/node_modules/deasync/index.js:72:22)\n    at /usr/local/lib/node_modules/truffle/node_modules/deasync/index.js:44:19\n    at runTask (/usr/local/lib/node_modules/truffle/cli.js:46:12)\n    at Object.<anonymous> (/usr/local/lib/node_modules/truffle/cli.js:331:14)\n    at Module._compile (module.js:425:26)\n    at Object.Module._extensions..js (module.js:432:10)\n    at Module.load (module.js:356:32)\n    at Function.Module._load (module.js:311:12)\n    at Function.Module.runMain (module.js:457:10)\n    at startup (node.js:136:18)\n    at node.js:972:3\n\nThanks\n\nMichelle\n",
  "closed_by": {
    "login": "tcoulter",
    "id": 92629,
    "node_id": "MDQ6VXNlcjkyNjI5",
    "avatar_url": "https://avatars.githubusercontent.com/u/92629?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/tcoulter",
    "html_url": "https://github.com/tcoulter",
    "followers_url": "https://api.github.com/users/tcoulter/followers",
    "following_url": "https://api.github.com/users/tcoulter/following{/other_user}",
    "gists_url": "https://api.github.com/users/tcoulter/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/tcoulter/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/tcoulter/subscriptions",
    "organizations_url": "https://api.github.com/users/tcoulter/orgs",
    "repos_url": "https://api.github.com/users/tcoulter/repos",
    "events_url": "https://api.github.com/users/tcoulter/events{/privacy}",
    "received_events_url": "https://api.github.com/users/tcoulter/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/151/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/trufflesuite/truffle/issues/151/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/219718949",
    "html_url": "https://github.com/trufflesuite/truffle/issues/151#issuecomment-219718949",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/151",
    "id": 219718949,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIxOTcxODk0OQ==",
    "user": {
      "login": "msbachler",
      "id": 4311824,
      "node_id": "MDQ6VXNlcjQzMTE4MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4311824?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/msbachler",
      "html_url": "https://github.com/msbachler",
      "followers_url": "https://api.github.com/users/msbachler/followers",
      "following_url": "https://api.github.com/users/msbachler/following{/other_user}",
      "gists_url": "https://api.github.com/users/msbachler/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/msbachler/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/msbachler/subscriptions",
      "organizations_url": "https://api.github.com/users/msbachler/orgs",
      "repos_url": "https://api.github.com/users/msbachler/repos",
      "events_url": "https://api.github.com/users/msbachler/events{/privacy}",
      "received_events_url": "https://api.github.com/users/msbachler/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-05-17T13:35:07Z",
    "updated_at": "2016-05-17T13:35:07Z",
    "author_association": "NONE",
    "body": "Work around: I put all php files in a subfolder inside the app folder called 'phpfiles'. I then added the following to the build section of the truffle.js:\n\n```\n\"/\": \"phpfiles/\"\n```\n\nWhen I run truffle build this puts the files inside phpfiles at the top level of the build folder so I don't have to change my reference paths to them etc. Still think it would be nice if it worked as it did before and just copied over top level files for types it didn't recognize. But this at least makes building the dapp bearable.\n",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/219718949/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/239133582",
    "html_url": "https://github.com/trufflesuite/truffle/issues/151#issuecomment-239133582",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/151",
    "id": 239133582,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzOTEzMzU4Mg==",
    "user": {
      "login": "hockeyshooter",
      "id": 960913,
      "node_id": "MDQ6VXNlcjk2MDkxMw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/960913?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hockeyshooter",
      "html_url": "https://github.com/hockeyshooter",
      "followers_url": "https://api.github.com/users/hockeyshooter/followers",
      "following_url": "https://api.github.com/users/hockeyshooter/following{/other_user}",
      "gists_url": "https://api.github.com/users/hockeyshooter/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hockeyshooter/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hockeyshooter/subscriptions",
      "organizations_url": "https://api.github.com/users/hockeyshooter/orgs",
      "repos_url": "https://api.github.com/users/hockeyshooter/repos",
      "events_url": "https://api.github.com/users/hockeyshooter/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hockeyshooter/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-08-11T11:17:17Z",
    "updated_at": "2016-08-11T11:26:03Z",
    "author_association": "NONE",
    "body": "With Truffle v2.0.6 I'm now getting PHP files copied into the build but _some_ are zero bytes. Does the same with either _build_ or _watch_, but I get an error message of a missing file with _watch_.\n",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/239133582/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/314220258",
    "html_url": "https://github.com/trufflesuite/truffle/issues/151#issuecomment-314220258",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/151",
    "id": 314220258,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxNDIyMDI1OA==",
    "user": {
      "login": "tcoulter",
      "id": 92629,
      "node_id": "MDQ6VXNlcjkyNjI5",
      "avatar_url": "https://avatars.githubusercontent.com/u/92629?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tcoulter",
      "html_url": "https://github.com/tcoulter",
      "followers_url": "https://api.github.com/users/tcoulter/followers",
      "following_url": "https://api.github.com/users/tcoulter/following{/other_user}",
      "gists_url": "https://api.github.com/users/tcoulter/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tcoulter/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tcoulter/subscriptions",
      "organizations_url": "https://api.github.com/users/tcoulter/orgs",
      "repos_url": "https://api.github.com/users/tcoulter/repos",
      "events_url": "https://api.github.com/users/tcoulter/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tcoulter/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-07-10T20:06:12Z",
    "updated_at": "2017-07-10T20:06:12Z",
    "author_association": "CONTRIBUTOR",
    "body": "Truffle default builder is no longer supported. Closing for housekeeping. ",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/314220258/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
