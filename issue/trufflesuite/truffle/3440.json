{
  "url": "https://api.github.com/repos/trufflesuite/truffle/issues/3440",
  "repository_url": "https://api.github.com/repos/trufflesuite/truffle",
  "labels_url": "https://api.github.com/repos/trufflesuite/truffle/issues/3440/labels{/name}",
  "comments_url": "https://api.github.com/repos/trufflesuite/truffle/issues/3440/comments",
  "events_url": "https://api.github.com/repos/trufflesuite/truffle/issues/3440/events",
  "html_url": "https://github.com/trufflesuite/truffle/issues/3440",
  "id": 722727815,
  "node_id": "MDU6SXNzdWU3MjI3Mjc4MTU=",
  "number": 3440,
  "title": "debugger v command throws an error inspecting solidity test transaction",
  "user": {
    "login": "cds-amal",
    "id": 2529600,
    "node_id": "MDQ6VXNlcjI1Mjk2MDA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/2529600?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/cds-amal",
    "html_url": "https://github.com/cds-amal",
    "followers_url": "https://api.github.com/users/cds-amal/followers",
    "following_url": "https://api.github.com/users/cds-amal/following{/other_user}",
    "gists_url": "https://api.github.com/users/cds-amal/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/cds-amal/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/cds-amal/subscriptions",
    "organizations_url": "https://api.github.com/users/cds-amal/orgs",
    "repos_url": "https://api.github.com/users/cds-amal/repos",
    "events_url": "https://api.github.com/users/cds-amal/events{/privacy}",
    "received_events_url": "https://api.github.com/users/cds-amal/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 1,
  "created_at": "2020-10-15T22:54:30Z",
  "updated_at": "2020-10-22T19:15:23Z",
  "closed_at": "2020-10-22T19:15:23Z",
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": "Type error thrown when using v-command in debugger\r\n```\r\n// full snippet below\r\nTypeError: Cannot read property 'kind' of undefined\r\n    at process._tickCallback (internal/process/next_tick.js:68:7)\r\n    at DebugPrinter.printVariables (/home/amal/.nvm/versions/node/v10.22.1/lib/node_modules/truffle/build/webpack:/packages/core/lib/debug/printer.js:504:1)\r\n```\r\n## Versions\r\n  Truffle (unbundled) (core: 5.1.48)\r\n  Solidity - 0.7.3 (solc-js)\r\n  Node v10.22.1\r\n  Web3.js v1.2.1\r\n\r\n## How to reproduce\r\n\r\n  - clone [this repo](https://github.com/trufflesuite/webinar-episode-01) and switch to **repro/type-error** branch\r\n  - You will need two terminals for this\r\n  - Term1: `$ truffle develop`\r\n  - Term2: `$ truffle develop --log`\r\n    - Needed to grab the last transaction\r\n  - Term1: `truffle(develop)> test`\r\n  - Copy the last transaction from Term1 and then...\r\n  - Term1: `truffle(develop)> debug <copied txn>`\r\n  - Term1: `debug(develop:0xdec48beb...)> v`\r\n  \r\n###  Result\r\n  \r\n``` sh\r\ntruffle(develop)> debug 0xdec48beb5d34a540d7de7cec2db641e4ef05acd93246f4ca18562b66655086e3\r\nStarting Truffle Debugger...\r\n\r\nAddresses affected:\r\n 0xE4C87EF3c3CEC158FA15243769B5c3a5E5cf88c8 - SimpleStorage\r\n 0x193A098F6F537021b8CE948964c59Bcb9EF302e8(UNKNOWN)\r\n 0x58774542423D3507429b09dC175E917f1E29ccd8(UNKNOWN)\r\n\r\nWarning: The source code for one or more contracts could not be found.\r\n\r\nCommands:\r\n(enter) last command entered (step next)\r\n(o) step over, (i) step into, (u) step out, (n) step next\r\n(c) continue until breakpoint\r\n(;) step instruction (include number to step multiple)\r\n(p) print instruction & state (`p [mem|cal|sto]*`; see docs for more)\r\n(l) print additional source context, (s) print stacktrace, (h) print this help\r\n(q) quit, (r) reset, (t) load new transaction, (T) unload transaction\r\n(b) add breakpoint (`b [[<source-file>:]<line-number>]`; see docs for more)\r\n(B) remove breakpoint (similar to adding, or `B all` to remove all)\r\n(+) add watch expression (`+:<expr>`), (-) remove watch expression (-:<expr>)\r\n(?) list existing watch expressions and breakpoints\r\n(v) print variables and values, (:) evaluate expression - see `v`\r\n\r\n\r\n?:\r\n\r\n1: // No source code found.\r\n\r\ndebug(develop:0xdec48beb...)> v\r\n\r\nSolidity built-ins:\r\n    msg: { data: hex'c1161cd6',\r\n           sig: 0xc1161cd6,\r\n           sender:\r\n            0x41567405Ed4F3f408a7388a28B6e510BF70383eD,\r\n           value: 0 }\r\n     tx: { origin:\r\n            0x41567405Ed4F3f408a7388a28B6e510BF70383eD,\r\n           gasprice: 20000000000 }\r\n  block: { coinbase:\r\n            0x0000000000000000000000000000000000000000,\r\n           difficulty: 0,\r\n           gaslimit: 6721975,\r\n           number: 135,\r\n           timestamp: 1602803053 }\r\nThrown:\r\nTypeError: Cannot read property 'kind' of undefined\r\n    at process._tickCallback (internal/process/next_tick.js:68:7)\r\n    at DebugPrinter.printVariables (/home/amal/.nvm/versions/node/v10.22.1/lib/node_modules/truffle/build/webpack:/packages/core/lib/debug/printer.js:504:1)\r\n    at Object.formatValue (/home/amal/.nvm/versions/node/v10.22.1/lib/node_modules/truffle/build/webpack:/packages/debug-utils/index.js:549:1)\r\n    at Object.inspect (internal/util/inspect.js:189:10)\r\n    at formatValue (internal/util/inspect.js:491:31)\r\n    at ResultInspector.[nodejs.util.inspect.custom] (/home/amal/.nvm/versions/node/v10.22.1/lib/node_modules/truffle/build/webpack:/packages/codec/dist/lib/format/utils/inspect.js:68:1)\r\ndebug(develop:0xdec48beb...)>\r\n\r\n```\r\n",
  "closed_by": {
    "login": "haltman-at",
    "id": 35589221,
    "node_id": "MDQ6VXNlcjM1NTg5MjIx",
    "avatar_url": "https://avatars.githubusercontent.com/u/35589221?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/haltman-at",
    "html_url": "https://github.com/haltman-at",
    "followers_url": "https://api.github.com/users/haltman-at/followers",
    "following_url": "https://api.github.com/users/haltman-at/following{/other_user}",
    "gists_url": "https://api.github.com/users/haltman-at/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/haltman-at/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/haltman-at/subscriptions",
    "organizations_url": "https://api.github.com/users/haltman-at/orgs",
    "repos_url": "https://api.github.com/users/haltman-at/repos",
    "events_url": "https://api.github.com/users/haltman-at/events{/privacy}",
    "received_events_url": "https://api.github.com/users/haltman-at/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/3440/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/trufflesuite/truffle/issues/3440/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/709653668",
    "html_url": "https://github.com/trufflesuite/truffle/issues/3440#issuecomment-709653668",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/3440",
    "id": 709653668,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcwOTY1MzY2OA==",
    "user": {
      "login": "haltman-at",
      "id": 35589221,
      "node_id": "MDQ6VXNlcjM1NTg5MjIx",
      "avatar_url": "https://avatars.githubusercontent.com/u/35589221?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/haltman-at",
      "html_url": "https://github.com/haltman-at",
      "followers_url": "https://api.github.com/users/haltman-at/followers",
      "following_url": "https://api.github.com/users/haltman-at/following{/other_user}",
      "gists_url": "https://api.github.com/users/haltman-at/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/haltman-at/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/haltman-at/subscriptions",
      "organizations_url": "https://api.github.com/users/haltman-at/orgs",
      "repos_url": "https://api.github.com/users/haltman-at/repos",
      "events_url": "https://api.github.com/users/haltman-at/events{/privacy}",
      "received_events_url": "https://api.github.com/users/haltman-at/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-10-16T00:11:51Z",
    "updated_at": "2020-10-16T00:11:51Z",
    "author_association": "CONTRIBUTOR",
    "body": "OK, confirming I can reproduce the error.  Will need to see what's going on here.  Thanks!",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/709653668/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
