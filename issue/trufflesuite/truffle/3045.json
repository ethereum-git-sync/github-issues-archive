{
  "url": "https://api.github.com/repos/trufflesuite/truffle/issues/3045",
  "repository_url": "https://api.github.com/repos/trufflesuite/truffle",
  "labels_url": "https://api.github.com/repos/trufflesuite/truffle/issues/3045/labels{/name}",
  "comments_url": "https://api.github.com/repos/trufflesuite/truffle/issues/3045/comments",
  "events_url": "https://api.github.com/repos/trufflesuite/truffle/issues/3045/events",
  "html_url": "https://github.com/trufflesuite/truffle/issues/3045",
  "id": 615591248,
  "node_id": "MDU6SXNzdWU2MTU1OTEyNDg=",
  "number": 3045,
  "title": "Truffle quorum extension error while submitting command with privateFor",
  "user": {
    "login": "ghost",
    "id": 10137,
    "node_id": "MDQ6VXNlcjEwMTM3",
    "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/ghost",
    "html_url": "https://github.com/ghost",
    "followers_url": "https://api.github.com/users/ghost/followers",
    "following_url": "https://api.github.com/users/ghost/following{/other_user}",
    "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/ghost/subscriptions",
    "organizations_url": "https://api.github.com/users/ghost/orgs",
    "repos_url": "https://api.github.com/users/ghost/repos",
    "events_url": "https://api.github.com/users/ghost/events{/privacy}",
    "received_events_url": "https://api.github.com/users/ghost/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 644098328,
      "node_id": "MDU6TGFiZWw2NDQwOTgzMjg=",
      "url": "https://api.github.com/repos/trufflesuite/truffle/labels/needs%20reproduced",
      "name": "needs reproduced",
      "color": "fbca04",
      "default": false,
      "description": null
    },
    {
      "id": 1403343142,
      "node_id": "MDU6TGFiZWwxNDAzMzQzMTQy",
      "url": "https://api.github.com/repos/trufflesuite/truffle/labels/needs%20investigated",
      "name": "needs investigated",
      "color": "b7410e",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2020-05-11T05:08:50Z",
  "updated_at": "2020-07-01T17:43:28Z",
  "closed_at": "2020-07-01T17:43:27Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "## Issue\r\n\r\nI was testing quorum smart contract deployment and transaction invocation using Truffle Suit. It was working fine until I ran \"npm audit fix\" to cater to error had come for npm install in my truffle project folder. Below is error listing.\r\n\r\n## Steps to Reproduce\r\n\r\n1. Download truffle pet shop example.\r\n2. Change truffle config file to map to Quorum network.\r\n3. Deploy the smart contract using truffle compile, truffle migrate.\r\n4. Run \"npm install\" to get dependency installed in pet shop directory.\r\n5. Run \"npm audit fix\" to fix the audit errors.\r\n6. Run truffle console to execute the transactions.\r\n\r\n## Expected Behavior\r\n\r\nTransaction were executing successfully but post \"npm audit fix\" it has stopped working.\r\n\r\n## Actual Results\r\n\r\n```\r\ntruffle(development)> Meme.deployed().then(function(instance) { return instance.set('QmaayjaXmVHcow5LrGpWsrbeGA1Wi62eiNtdhY3nHNf9SK', {privateFor: [\"ROAZBWtSacxXQrOe3FGAqJDyJjFePR5ce4TSIzmJ0Bc=\"]}); })\r\nUncaught:\r\nError: Transaction: 0x9f42cf453ab5c27f50fd4a61e126a1eb7ea9bb84007b4219b597ca93b4631976 exited with an error (status 0). \r\n    at evalmachine.<anonymous>:0:59\r\n    at processTicksAndRejections (internal/process/task_queues.js:97:5) {\r\n  message: 'Transaction: 0x9f42cf453ab5c27f50fd4a61e126a1eb7ea9bb84007b4219b597ca93b4631976 exited with an error (status 0). \\n' +\r\n    '     Please check that the transaction:\\n' +\r\n    '     - satisfies all conditions set by Solidity `require` statements.\\n' +\r\n    '     - does not trigger a Solidity `revert` statement.\\n',\r\n  stack: 'Error: Transaction: 0x9f42cf453ab5c27f50fd4a61e126a1eb7ea9bb84007b4219b597ca93b4631976 exited with an error (status 0). \\n' +\r\n    '    at evalmachine.<anonymous>:0:59\\n' +\r\n    '    at processTicksAndRejections (internal/process/task_queues.js:97:5)',\r\n  name: 'StatusError',\r\n  tx: '0x9f42cf453ab5c27f50fd4a61e126a1eb7ea9bb84007b4219b597ca93b4631976',\r\n  receipt: {\r\n    blockHash: '0x2a49e6cfff8116f281f86971ea978271aef19ca8a1fbcf0fc20d99d9a420f8b7',\r\n    blockNumber: 5,\r\n    contractAddress: null,\r\n    cumulativeGasUsed: 0,\r\n    from: '0xed9d02e382b34818e88b88a309c7fe71e65f419d',\r\n    gasUsed: 0,\r\n    logs: [],\r\n    logsBloom: '0x00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000',\r\n    status: false,\r\n    to: '0x9d13c6d3afe1721beef56b55d303b09e021e27ab',\r\n    transactionHash: '0x9f42cf453ab5c27f50fd4a61e126a1eb7ea9bb84007b4219b597ca93b4631976',\r\n    transactionIndex: 0,\r\n    rawLogs: []\r\n  },\r\n  reason: undefined,\r\n  hijackedStack: 'Error: Transaction: 0x9f42cf453ab5c27f50fd4a61e126a1eb7ea9bb84007b4219b597ca93b4631976 exited with an error (status 0). \\n' +\r\n    '     Please check that the transaction:\\n' +\r\n    '     - satisfies all conditions set by Solidity `require` statements.\\n' +\r\n    '     - does not trigger a Solidity `revert` statement.\\n' +\r\n    '\\n' +\r\n    '    at StatusError.ExtendableError (/Users/arjungupta/.nvm/versions/node/v12.16.1/lib/node_modules/truffle/build/webpack:/packages/error/index.js:10:1)\\n' +\r\n    '    at new StatusError (/Users/arjungupta/.nvm/versions/node/v12.16.1/lib/node_modules/truffle/build/webpack:/packages/contract/lib/statuserror.js:33:1)\\n' +\r\n    '    at Object.receipt (/Users/arjungupta/.nvm/versions/node/v12.16.1/lib/node_modules/truffle/build/webpack:/packages/contract/lib/handlers.js:124:1)\\n' +\r\n    '    at processTicksAndRejections (internal/process/task_queues.js:97:5)\\n' +\r\n    '    at Function.start (/Users/arjungupta/.nvm/versions/node/v12.16.1/lib/node_modules/truffle/build/webpack:/packages/contract/lib/override.js:49:1)'\r\n}\r\n```\r\n\r\n## Environment\r\n\r\n* Operating System: OSx\r\n* Ethereum client: \r\nGeth\r\n```\r\nVersion: 1.8.18-stable\r\nGit Commit: 685f59fb5e08bf9d26fa2b8a1effbb03355b7c4f\r\nQuorum Version: 2.5.0\r\nArchitecture: amd64\r\nProtocol Versions: [63 62]\r\nNetwork Id: 1337\r\nGo Version: go1.11.13\r\nOperating System: linux\r\nGOPATH=\r\nGOROOT=/home/travis/.gimme/versions/go1.11.13.linux.amd64\r\n```\r\n\r\n* Truffle version (`truffle version`): \r\n```\r\nTruffle v5.1.25 (core: 5.1.25)\r\nSolidity v0.5.16 (solc-js)\r\nNode v12.16.1\r\nWeb3.js v1.2.1\r\n```\r\n\r\n* node version (`node --version`): v12.16.1\r\n* npm version (`npm --version`): 6.13.4\r\n",
  "closed_by": {
    "login": "haltman-at",
    "id": 35589221,
    "node_id": "MDQ6VXNlcjM1NTg5MjIx",
    "avatar_url": "https://avatars.githubusercontent.com/u/35589221?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/haltman-at",
    "html_url": "https://github.com/haltman-at",
    "followers_url": "https://api.github.com/users/haltman-at/followers",
    "following_url": "https://api.github.com/users/haltman-at/following{/other_user}",
    "gists_url": "https://api.github.com/users/haltman-at/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/haltman-at/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/haltman-at/subscriptions",
    "organizations_url": "https://api.github.com/users/haltman-at/orgs",
    "repos_url": "https://api.github.com/users/haltman-at/repos",
    "events_url": "https://api.github.com/users/haltman-at/events{/privacy}",
    "received_events_url": "https://api.github.com/users/haltman-at/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/3045/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/trufflesuite/truffle/issues/3045/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/628148532",
    "html_url": "https://github.com/trufflesuite/truffle/issues/3045#issuecomment-628148532",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/3045",
    "id": 628148532,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYyODE0ODUzMg==",
    "user": {
      "login": "haltman-at",
      "id": 35589221,
      "node_id": "MDQ6VXNlcjM1NTg5MjIx",
      "avatar_url": "https://avatars.githubusercontent.com/u/35589221?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/haltman-at",
      "html_url": "https://github.com/haltman-at",
      "followers_url": "https://api.github.com/users/haltman-at/followers",
      "following_url": "https://api.github.com/users/haltman-at/following{/other_user}",
      "gists_url": "https://api.github.com/users/haltman-at/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/haltman-at/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/haltman-at/subscriptions",
      "organizations_url": "https://api.github.com/users/haltman-at/orgs",
      "repos_url": "https://api.github.com/users/haltman-at/repos",
      "events_url": "https://api.github.com/users/haltman-at/events{/privacy}",
      "received_events_url": "https://api.github.com/users/haltman-at/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-05-13T17:51:50Z",
    "updated_at": "2020-05-13T17:51:50Z",
    "author_association": "CONTRIBUTOR",
    "body": "Could you tell us anything about how specific this error is?  Like, does this only occur with Quorum or is it a more general problem?  Thank you!",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/628148532/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/652558128",
    "html_url": "https://github.com/trufflesuite/truffle/issues/3045#issuecomment-652558128",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/3045",
    "id": 652558128,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY1MjU1ODEyOA==",
    "user": {
      "login": "haltman-at",
      "id": 35589221,
      "node_id": "MDQ6VXNlcjM1NTg5MjIx",
      "avatar_url": "https://avatars.githubusercontent.com/u/35589221?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/haltman-at",
      "html_url": "https://github.com/haltman-at",
      "followers_url": "https://api.github.com/users/haltman-at/followers",
      "following_url": "https://api.github.com/users/haltman-at/following{/other_user}",
      "gists_url": "https://api.github.com/users/haltman-at/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/haltman-at/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/haltman-at/subscriptions",
      "organizations_url": "https://api.github.com/users/haltman-at/orgs",
      "repos_url": "https://api.github.com/users/haltman-at/repos",
      "events_url": "https://api.github.com/users/haltman-at/events{/privacy}",
      "received_events_url": "https://api.github.com/users/haltman-at/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-07-01T17:43:27Z",
    "updated_at": "2020-07-01T17:43:27Z",
    "author_association": "CONTRIBUTOR",
    "body": "OK, I think we're going to have to close this for issue maintenance.  But if there's still a problem, please do let us know and we can reopen this.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/652558128/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
