{
  "url": "https://api.github.com/repos/trufflesuite/truffle/issues/3269",
  "repository_url": "https://api.github.com/repos/trufflesuite/truffle",
  "labels_url": "https://api.github.com/repos/trufflesuite/truffle/issues/3269/labels{/name}",
  "comments_url": "https://api.github.com/repos/trufflesuite/truffle/issues/3269/comments",
  "events_url": "https://api.github.com/repos/trufflesuite/truffle/issues/3269/events",
  "html_url": "https://github.com/trufflesuite/truffle/issues/3269",
  "id": 679435531,
  "node_id": "MDU6SXNzdWU2Nzk0MzU1MzE=",
  "number": 3269,
  "title": "Detect out-of-gas in debugger to improve error messages",
  "user": {
    "login": "gnidan",
    "id": 151065,
    "node_id": "MDQ6VXNlcjE1MTA2NQ==",
    "avatar_url": "https://avatars.githubusercontent.com/u/151065?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/gnidan",
    "html_url": "https://github.com/gnidan",
    "followers_url": "https://api.github.com/users/gnidan/followers",
    "following_url": "https://api.github.com/users/gnidan/following{/other_user}",
    "gists_url": "https://api.github.com/users/gnidan/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/gnidan/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/gnidan/subscriptions",
    "organizations_url": "https://api.github.com/users/gnidan/orgs",
    "repos_url": "https://api.github.com/users/gnidan/repos",
    "events_url": "https://api.github.com/users/gnidan/events{/privacy}",
    "received_events_url": "https://api.github.com/users/gnidan/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 230393328,
      "node_id": "MDU6TGFiZWwyMzAzOTMzMjg=",
      "url": "https://api.github.com/repos/trufflesuite/truffle/labels/enhancement",
      "name": "enhancement",
      "color": "84b6eb",
      "default": true,
      "description": null
    },
    {
      "id": 971535002,
      "node_id": "MDU6TGFiZWw5NzE1MzUwMDI=",
      "url": "https://api.github.com/repos/trufflesuite/truffle/labels/Debugger",
      "name": "Debugger",
      "color": "7911ad",
      "default": false,
      "description": ""
    },
    {
      "id": 1675041996,
      "node_id": "MDU6TGFiZWwxNjc1MDQxOTk2",
      "url": "https://api.github.com/repos/trufflesuite/truffle/labels/priority4%20%F0%9F%93%8B",
      "name": "priority4 ðŸ“‹",
      "color": "006b75",
      "default": false,
      "description": ""
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 4,
  "created_at": "2020-08-14T22:36:58Z",
  "updated_at": "2020-10-01T20:58:20Z",
  "closed_at": null,
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": "Since we know how much gas is left, we should be able to deduce that we're out of gas, instead of the current message:\r\n\r\n> There was no revert message.  This may be due to an in intentional halting expression, such as assert(), revert(), or require(), or could be due to an unintentional exception such as out-of-gas exceptions.\r\n> Please inspect your transaction parameters and contract code to determine the meaning of this error.\r\n\r\nIf we use `trace.step`'s `gasCost` and `gas`, we might be able to provide a higher degree of certainty for out-of-gas errors.",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/3269/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/trufflesuite/truffle/issues/3269/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/674338093",
    "html_url": "https://github.com/trufflesuite/truffle/issues/3269#issuecomment-674338093",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/3269",
    "id": 674338093,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY3NDMzODA5Mw==",
    "user": {
      "login": "haltman-at",
      "id": 35589221,
      "node_id": "MDQ6VXNlcjM1NTg5MjIx",
      "avatar_url": "https://avatars.githubusercontent.com/u/35589221?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/haltman-at",
      "html_url": "https://github.com/haltman-at",
      "followers_url": "https://api.github.com/users/haltman-at/followers",
      "following_url": "https://api.github.com/users/haltman-at/following{/other_user}",
      "gists_url": "https://api.github.com/users/haltman-at/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/haltman-at/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/haltman-at/subscriptions",
      "organizations_url": "https://api.github.com/users/haltman-at/orgs",
      "repos_url": "https://api.github.com/users/haltman-at/repos",
      "events_url": "https://api.github.com/users/haltman-at/events{/privacy}",
      "received_events_url": "https://api.github.com/users/haltman-at/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-08-15T02:51:42Z",
    "updated_at": "2020-08-15T02:51:42Z",
    "author_association": "CONTRIBUTOR",
    "body": "Hm, do we know that `gasCost` is reliable?  I'd want to check that out before implementing this.  If it is then I guess this should be fine.\r\n\r\nThere's also the question of whether this is only checked at end of transaction or on any revert.  I suppose we'd have to do the latter if we want to to work it with the stacktraces, but that's not too bad; we cam just store that info.\r\n\r\nNotionally we could expand this system to other low-level reasons, but that probably isn't worth it because people care about the high-level reasons, not the low-level reasons, and that would be a lot harder (and low-level reasons other than out of gas, invalid instruction, and `REVERT` aren't that likely to come up in a contract compiled from a higher-level language like Solidity).",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/674338093/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/679413945",
    "html_url": "https://github.com/trufflesuite/truffle/issues/3269#issuecomment-679413945",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/3269",
    "id": 679413945,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY3OTQxMzk0NQ==",
    "user": {
      "login": "haltman-at",
      "id": 35589221,
      "node_id": "MDQ6VXNlcjM1NTg5MjIx",
      "avatar_url": "https://avatars.githubusercontent.com/u/35589221?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/haltman-at",
      "html_url": "https://github.com/haltman-at",
      "followers_url": "https://api.github.com/users/haltman-at/followers",
      "following_url": "https://api.github.com/users/haltman-at/following{/other_user}",
      "gists_url": "https://api.github.com/users/haltman-at/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/haltman-at/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/haltman-at/subscriptions",
      "organizations_url": "https://api.github.com/users/haltman-at/orgs",
      "repos_url": "https://api.github.com/users/haltman-at/repos",
      "events_url": "https://api.github.com/users/haltman-at/events{/privacy}",
      "received_events_url": "https://api.github.com/users/haltman-at/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-08-24T23:19:46Z",
    "updated_at": "2020-10-01T18:46:19Z",
    "author_association": "CONTRIBUTOR",
    "body": "Oh yeah I guess `gasCost` is reliable, I think I was confusing it with something else that's unreliable.\r\n\r\nEdit: Disregard that, it's not.  Hm.  I don't know how to do this, then.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/679413945/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/702212326",
    "html_url": "https://github.com/trufflesuite/truffle/issues/3269#issuecomment-702212326",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/3269",
    "id": 702212326,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcwMjIxMjMyNg==",
    "user": {
      "login": "laki016",
      "id": 36907096,
      "node_id": "MDQ6VXNlcjM2OTA3MDk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/36907096?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laki016",
      "html_url": "https://github.com/laki016",
      "followers_url": "https://api.github.com/users/laki016/followers",
      "following_url": "https://api.github.com/users/laki016/following{/other_user}",
      "gists_url": "https://api.github.com/users/laki016/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laki016/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laki016/subscriptions",
      "organizations_url": "https://api.github.com/users/laki016/orgs",
      "repos_url": "https://api.github.com/users/laki016/repos",
      "events_url": "https://api.github.com/users/laki016/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laki016/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-10-01T15:24:33Z",
    "updated_at": "2020-10-01T15:24:33Z",
    "author_association": "NONE",
    "body": "How can i get my smart contract and how to solve this problem?I was left without my tokens and without 0.068eth.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/702212326/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/702393915",
    "html_url": "https://github.com/trufflesuite/truffle/issues/3269#issuecomment-702393915",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/3269",
    "id": 702393915,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcwMjM5MzkxNQ==",
    "user": {
      "login": "haltman-at",
      "id": 35589221,
      "node_id": "MDQ6VXNlcjM1NTg5MjIx",
      "avatar_url": "https://avatars.githubusercontent.com/u/35589221?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/haltman-at",
      "html_url": "https://github.com/haltman-at",
      "followers_url": "https://api.github.com/users/haltman-at/followers",
      "following_url": "https://api.github.com/users/haltman-at/following{/other_user}",
      "gists_url": "https://api.github.com/users/haltman-at/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/haltman-at/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/haltman-at/subscriptions",
      "organizations_url": "https://api.github.com/users/haltman-at/orgs",
      "repos_url": "https://api.github.com/users/haltman-at/repos",
      "events_url": "https://api.github.com/users/haltman-at/events{/privacy}",
      "received_events_url": "https://api.github.com/users/haltman-at/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-10-01T20:58:20Z",
    "updated_at": "2020-10-01T20:58:20Z",
    "author_association": "CONTRIBUTOR",
    "body": "@laki016 Your comment does not seem related to this issue?  If you are having a Truffle issue, I would suggest filing a new issue report.  Thank you!",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/702393915/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
