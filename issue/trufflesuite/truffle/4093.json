{
  "url": "https://api.github.com/repos/trufflesuite/truffle/issues/4093",
  "repository_url": "https://api.github.com/repos/trufflesuite/truffle",
  "labels_url": "https://api.github.com/repos/trufflesuite/truffle/issues/4093/labels{/name}",
  "comments_url": "https://api.github.com/repos/trufflesuite/truffle/issues/4093/comments",
  "events_url": "https://api.github.com/repos/trufflesuite/truffle/issues/4093/events",
  "html_url": "https://github.com/trufflesuite/truffle/issues/4093",
  "id": 913886091,
  "node_id": "MDU6SXNzdWU5MTM4ODYwOTE=",
  "number": 4093,
  "title": "Codec & debugger should read compiler version from CBOR when not present in artifact",
  "user": {
    "login": "haltman-at",
    "id": 35589221,
    "node_id": "MDQ6VXNlcjM1NTg5MjIx",
    "avatar_url": "https://avatars.githubusercontent.com/u/35589221?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/haltman-at",
    "html_url": "https://github.com/haltman-at",
    "followers_url": "https://api.github.com/users/haltman-at/followers",
    "following_url": "https://api.github.com/users/haltman-at/following{/other_user}",
    "gists_url": "https://api.github.com/users/haltman-at/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/haltman-at/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/haltman-at/subscriptions",
    "organizations_url": "https://api.github.com/users/haltman-at/orgs",
    "repos_url": "https://api.github.com/users/haltman-at/repos",
    "events_url": "https://api.github.com/users/haltman-at/events{/privacy}",
    "received_events_url": "https://api.github.com/users/haltman-at/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 1,
  "created_at": "2021-06-07T19:25:01Z",
  "updated_at": "2021-06-12T20:35:10Z",
  "closed_at": "2021-06-12T20:35:10Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "## Issue\r\n\r\nCurrently, codec & debugger, when they need to determine the Solidity version for a particular contract, rely on it being present in the input (artifacts or compilations).  For compilations of course we always have this, but it can be missing from artifacts.\r\n\r\nHowever, in Solidity 0.5.9 and later, this information is included in the contract's CBOR, and we should use that if the information is missing from the artifact.  (We probably don't want to use it in preference to the one in the artifact, since the information in the CBOR is lower-resolution.)\r\n\r\nOne thing to beware of here: The information is stored differently depending on whether the contract was compiled with a release version of Solidity or a prerelease version.  Make sure you account for both cases.\r\n\r\n(Further note: This will only work for Solidity contracts, of course, not Yul contracts, and certainly not other languages such as Vyper.  And as mentioned, this information was only added in 0.5.9.  The CBOR info itself was added in 0.4.7, but we currently don't support Solidity older than 0.4.9.)\r\n\r\n## Environment\r\n\r\n* Truffle version (`truffle version`): 5.3.9",
  "closed_by": {
    "login": "gnidan",
    "id": 151065,
    "node_id": "MDQ6VXNlcjE1MTA2NQ==",
    "avatar_url": "https://avatars.githubusercontent.com/u/151065?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/gnidan",
    "html_url": "https://github.com/gnidan",
    "followers_url": "https://api.github.com/users/gnidan/followers",
    "following_url": "https://api.github.com/users/gnidan/following{/other_user}",
    "gists_url": "https://api.github.com/users/gnidan/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/gnidan/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/gnidan/subscriptions",
    "organizations_url": "https://api.github.com/users/gnidan/orgs",
    "repos_url": "https://api.github.com/users/gnidan/repos",
    "events_url": "https://api.github.com/users/gnidan/events{/privacy}",
    "received_events_url": "https://api.github.com/users/gnidan/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/4093/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/trufflesuite/truffle/issues/4093/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/860105463",
    "html_url": "https://github.com/trufflesuite/truffle/issues/4093#issuecomment-860105463",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/4093",
    "id": 860105463,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg2MDEwNTQ2Mw==",
    "user": {
      "login": "gnidan",
      "id": 151065,
      "node_id": "MDQ6VXNlcjE1MTA2NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/151065?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gnidan",
      "html_url": "https://github.com/gnidan",
      "followers_url": "https://api.github.com/users/gnidan/followers",
      "following_url": "https://api.github.com/users/gnidan/following{/other_user}",
      "gists_url": "https://api.github.com/users/gnidan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gnidan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gnidan/subscriptions",
      "organizations_url": "https://api.github.com/users/gnidan/orgs",
      "repos_url": "https://api.github.com/users/gnidan/repos",
      "events_url": "https://api.github.com/users/gnidan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gnidan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-06-12T20:35:10Z",
    "updated_at": "2021-06-12T20:35:10Z",
    "author_association": "MEMBER",
    "body": "Closing, released in [Truffle v5.3.10](https://github.com/trufflesuite/truffle/releases/tag/v5.3.10).",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/860105463/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
