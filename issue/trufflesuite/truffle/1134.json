{
  "url": "https://api.github.com/repos/trufflesuite/truffle/issues/1134",
  "repository_url": "https://api.github.com/repos/trufflesuite/truffle",
  "labels_url": "https://api.github.com/repos/trufflesuite/truffle/issues/1134/labels{/name}",
  "comments_url": "https://api.github.com/repos/trufflesuite/truffle/issues/1134/comments",
  "events_url": "https://api.github.com/repos/trufflesuite/truffle/issues/1134/events",
  "html_url": "https://github.com/trufflesuite/truffle/issues/1134",
  "id": 343090431,
  "node_id": "MDU6SXNzdWUzNDMwOTA0MzE=",
  "number": 1134,
  "title": "Support for \"generic external\" compiler",
  "user": {
    "login": "axic",
    "id": 20340,
    "node_id": "MDQ6VXNlcjIwMzQw",
    "avatar_url": "https://avatars.githubusercontent.com/u/20340?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/axic",
    "html_url": "https://github.com/axic",
    "followers_url": "https://api.github.com/users/axic/followers",
    "following_url": "https://api.github.com/users/axic/following{/other_user}",
    "gists_url": "https://api.github.com/users/axic/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/axic/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/axic/subscriptions",
    "organizations_url": "https://api.github.com/users/axic/orgs",
    "repos_url": "https://api.github.com/users/axic/repos",
    "events_url": "https://api.github.com/users/axic/events{/privacy}",
    "received_events_url": "https://api.github.com/users/axic/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 971681714,
      "node_id": "MDU6TGFiZWw5NzE2ODE3MTQ=",
      "url": "https://api.github.com/repos/trufflesuite/truffle/labels/Compiler",
      "name": "Compiler",
      "color": "b60205",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 26,
  "created_at": "2018-07-20T12:32:53Z",
  "updated_at": "2018-08-21T19:41:15Z",
  "closed_at": "2018-08-21T19:41:15Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "This has been a discussion with @gnidan with goal of trying to support ewasm contracts written in Rust (in particular the https://github.com/ewasm/ewasm-precompiles) and having the ability to the test them.\r\n\r\nIt seems like that a good default behaviour in regard to ABI is to assume that if no ABI is supplied then it just accepts the fallback function, e.g. the ABI JSON is as follows:\r\n```\r\n    {\r\n      \"payable\": true,\r\n      \"stateMutability\": \"payable\",\r\n      \"type\": \"fallback\"\r\n    },\r\n```\r\n\r\nThis not only applies to Rust ewasm-precompiles, but any other random compiler, which may not adhere to the ABI standard. Test cases can have their hand written encoded call data.\r\n\r\nIt would still make sense to utilise the `truffle compile` command to generate all the \"build artifacts\" for us. In order to achieve that, it seems to be possible extending the \"compilers configuration\" with something like:\r\n```\r\n\"compilers\": {\r\n  \"external\": {\r\n    \"command\": \"cargo build --release --target wasm32-unknown-unknown\",\r\n    \"targets\": [{\r\n      \"path\": \"target/wasm32-unknown-unknown/release/ewasm_precompile_ecadd.wasm\",\r\n      \"contractName\": \"ecadd\",\r\n      \"abi\": \"<path>\"\r\n    }]\r\n  }\r\n}\r\n```\r\n\r\nThe `abi` field is optional and if missing it could fall back to the above single entry \"fallback\" ABI.\r\n",
  "closed_by": {
    "login": "axic",
    "id": 20340,
    "node_id": "MDQ6VXNlcjIwMzQw",
    "avatar_url": "https://avatars.githubusercontent.com/u/20340?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/axic",
    "html_url": "https://github.com/axic",
    "followers_url": "https://api.github.com/users/axic/followers",
    "following_url": "https://api.github.com/users/axic/following{/other_user}",
    "gists_url": "https://api.github.com/users/axic/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/axic/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/axic/subscriptions",
    "organizations_url": "https://api.github.com/users/axic/orgs",
    "repos_url": "https://api.github.com/users/axic/repos",
    "events_url": "https://api.github.com/users/axic/events{/privacy}",
    "received_events_url": "https://api.github.com/users/axic/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/1134/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/trufflesuite/truffle/issues/1134/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/406588592",
    "html_url": "https://github.com/trufflesuite/truffle/issues/1134#issuecomment-406588592",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/1134",
    "id": 406588592,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwNjU4ODU5Mg==",
    "user": {
      "login": "gnidan",
      "id": 151065,
      "node_id": "MDQ6VXNlcjE1MTA2NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/151065?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gnidan",
      "html_url": "https://github.com/gnidan",
      "followers_url": "https://api.github.com/users/gnidan/followers",
      "following_url": "https://api.github.com/users/gnidan/following{/other_user}",
      "gists_url": "https://api.github.com/users/gnidan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gnidan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gnidan/subscriptions",
      "organizations_url": "https://api.github.com/users/gnidan/orgs",
      "repos_url": "https://api.github.com/users/gnidan/repos",
      "events_url": "https://api.github.com/users/gnidan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gnidan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-07-20T12:39:31Z",
    "updated_at": "2018-07-20T12:39:31Z",
    "author_association": "MEMBER",
    "body": "Here's a [likely-bad] idea:\r\n\r\n```\r\n  compilers: {\r\n    external: {\r\n      \"command\": \"cargo build ...\",\r\n      \"targets\": [{\r\n        \"path\": \"./target/(.*).wasm\"\r\n        \"contractName\": \"\\1\"\r\n        \"abi\": \"\\1-abi.json\"\r\n      }]\r\n    }\r\n  }\r\n```\r\n\r\nTo support multiple targets without knowing them ahead of time. But regular expressions? Not sure if this is good.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/406588592/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/408179525",
    "html_url": "https://github.com/trufflesuite/truffle/issues/1134#issuecomment-408179525",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/1134",
    "id": 408179525,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwODE3OTUyNQ==",
    "user": {
      "login": "gnidan",
      "id": 151065,
      "node_id": "MDQ6VXNlcjE1MTA2NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/151065?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gnidan",
      "html_url": "https://github.com/gnidan",
      "followers_url": "https://api.github.com/users/gnidan/followers",
      "following_url": "https://api.github.com/users/gnidan/following{/other_user}",
      "gists_url": "https://api.github.com/users/gnidan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gnidan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gnidan/subscriptions",
      "organizations_url": "https://api.github.com/users/gnidan/orgs",
      "repos_url": "https://api.github.com/users/gnidan/repos",
      "events_url": "https://api.github.com/users/gnidan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gnidan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-07-26T17:49:03Z",
    "updated_at": "2018-07-26T17:49:03Z",
    "author_association": "MEMBER",
    "body": "@axic Are you content to use JS testing for this? Things are getting tricky trying to get Solidity testing working with external compilers; I'm wondering whether or not this is a priority to fix.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/408179525/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/408238525",
    "html_url": "https://github.com/trufflesuite/truffle/issues/1134#issuecomment-408238525",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/1134",
    "id": 408238525,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwODIzODUyNQ==",
    "user": {
      "login": "axic",
      "id": 20340,
      "node_id": "MDQ6VXNlcjIwMzQw",
      "avatar_url": "https://avatars.githubusercontent.com/u/20340?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/axic",
      "html_url": "https://github.com/axic",
      "followers_url": "https://api.github.com/users/axic/followers",
      "following_url": "https://api.github.com/users/axic/following{/other_user}",
      "gists_url": "https://api.github.com/users/axic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/axic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/axic/subscriptions",
      "organizations_url": "https://api.github.com/users/axic/orgs",
      "repos_url": "https://api.github.com/users/axic/repos",
      "events_url": "https://api.github.com/users/axic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/axic/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-07-26T21:19:12Z",
    "updated_at": "2018-07-26T21:19:12Z",
    "author_association": "CONTRIBUTOR",
    "body": "Yes I would still be very happy to use truffle for this.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/408238525/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/408254833",
    "html_url": "https://github.com/trufflesuite/truffle/issues/1134#issuecomment-408254833",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/1134",
    "id": 408254833,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwODI1NDgzMw==",
    "user": {
      "login": "gnidan",
      "id": 151065,
      "node_id": "MDQ6VXNlcjE1MTA2NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/151065?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gnidan",
      "html_url": "https://github.com/gnidan",
      "followers_url": "https://api.github.com/users/gnidan/followers",
      "following_url": "https://api.github.com/users/gnidan/following{/other_user}",
      "gists_url": "https://api.github.com/users/gnidan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gnidan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gnidan/subscriptions",
      "organizations_url": "https://api.github.com/users/gnidan/orgs",
      "repos_url": "https://api.github.com/users/gnidan/repos",
      "events_url": "https://api.github.com/users/gnidan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gnidan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-07-26T22:29:30Z",
    "updated_at": "2018-07-26T22:29:46Z",
    "author_association": "MEMBER",
    "body": "@axic Excellent! This work is coming along nicely in #1148, nearly ready-for-review. I've had to adapt the config you specified a bit. What do you think of this:\r\n\r\n```javascript\r\n\"compilers\": {\r\n  \"external\": {\r\n    \"command\": \"cargo build --release --target wasm32-unknown-unknown\",\r\n    \"targets\": [{\r\n      \"path\": \"target/wasm32-unknown-unknown/release/*.wasm\",\r\n      \"command\": \"./scripts/process-wasm-output-to-artifact\"\r\n    }]\r\n  }\r\n}\r\n```\r\n\r\nIn this example, you'd define a script `process-wasm-output-to-artifact` that would read each matching `*.wasm`, piping to your script as stdin, and your script would print JSON to stdout that conforms to the Truffle artifact format.\r\n\r\nI believe you would only need to output `{ contractName, abi, bytecode, deployedBytecode? }`.\r\n\r\nThis makes things a bit more general, although it requires a bit of extra work on the end-user's part. I wasn't satisfied with the solution we talked about; it forces too much on Truffle's config.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/408254833/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/408489151",
    "html_url": "https://github.com/trufflesuite/truffle/issues/1134#issuecomment-408489151",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/1134",
    "id": 408489151,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwODQ4OTE1MQ==",
    "user": {
      "login": "axic",
      "id": 20340,
      "node_id": "MDQ6VXNlcjIwMzQw",
      "avatar_url": "https://avatars.githubusercontent.com/u/20340?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/axic",
      "html_url": "https://github.com/axic",
      "followers_url": "https://api.github.com/users/axic/followers",
      "following_url": "https://api.github.com/users/axic/following{/other_user}",
      "gists_url": "https://api.github.com/users/axic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/axic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/axic/subscriptions",
      "organizations_url": "https://api.github.com/users/axic/orgs",
      "repos_url": "https://api.github.com/users/axic/repos",
      "events_url": "https://api.github.com/users/axic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/axic/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-07-27T17:39:34Z",
    "updated_at": "2018-07-27T17:39:34Z",
    "author_association": "CONTRIBUTOR",
    "body": "If possible I'd propose to have both:\r\n\r\nEither `command` is specified (and nothing else is allowed) and it generates the artefacts:\r\n```\r\n\"compilers\": {\r\n  \"external\": {\r\n    \"command\": \"cargo build --release --target wasm32-unknown-unknown\",\r\n    \"targets\": [{\r\n      \"command\": \"./scripts/process-wasm-output-to-artifact\"\r\n    }]\r\n  }\r\n}\r\n```\r\n\r\nOr what the original proposal was:\r\n```\r\n\"compilers\": {\r\n  \"external\": {\r\n    \"command\": \"cargo build --release --target wasm32-unknown-unknown\",\r\n    \"targets\": [{\r\n      \"path\": \"target/wasm32-unknown-unknown/release/ewasm_precompile_ecadd.wasm\",\r\n      \"contractName\": \"ecadd\",\r\n      \"abi\": \"<path>\"\r\n    }]\r\n  }\r\n}\r\n```\r\n\r\nI still think this is generic enough and doesn't put a lot of stress on truffle, while in the majority of external cases this is exactly what the script has to do.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/408489151/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/408493466",
    "html_url": "https://github.com/trufflesuite/truffle/issues/1134#issuecomment-408493466",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/1134",
    "id": 408493466,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwODQ5MzQ2Ng==",
    "user": {
      "login": "gnidan",
      "id": 151065,
      "node_id": "MDQ6VXNlcjE1MTA2NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/151065?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gnidan",
      "html_url": "https://github.com/gnidan",
      "followers_url": "https://api.github.com/users/gnidan/followers",
      "following_url": "https://api.github.com/users/gnidan/following{/other_user}",
      "gists_url": "https://api.github.com/users/gnidan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gnidan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gnidan/subscriptions",
      "organizations_url": "https://api.github.com/users/gnidan/orgs",
      "repos_url": "https://api.github.com/users/gnidan/repos",
      "events_url": "https://api.github.com/users/gnidan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gnidan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-07-27T17:55:41Z",
    "updated_at": "2018-07-27T17:55:41Z",
    "author_association": "MEMBER",
    "body": "@axic so I'm hesitant to add specific fields to that target object, because I think it constrains the external compilation to that specific use case. I'd like to address your requirement though, of not having to write a script. What do you think of this proposal for a target object:\r\n\r\n```javascript\r\n{\r\n  \"properties\": {\r\n    \"contractName\": \"ecadd\",\r\n    /* any other artifact properties */\r\n  }\r\n  \"paths\": {\r\n    \"bytecode\": \"target/wasm/ecadd.wasm\",\r\n    \"abi\": \"ecadd.json\",\r\n    /* any other artifact properties */\r\n  }\r\n}\r\n```\r\n\r\nThis way, the artifact can be built in a generic way, without needing to add additional fields later as they're needed, _and_ we can handle the case of value-literals vs. files containing those values.\r\n\r\nRe: your point about `command` alone, I believe `path` should be optional, but I think it's still nice to have, in case there are multiple targets. I will update it so that if `path` is missing, it will run `command` with no stdin.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/408493466/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/408507230",
    "html_url": "https://github.com/trufflesuite/truffle/issues/1134#issuecomment-408507230",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/1134",
    "id": 408507230,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwODUwNzIzMA==",
    "user": {
      "login": "axic",
      "id": 20340,
      "node_id": "MDQ6VXNlcjIwMzQw",
      "avatar_url": "https://avatars.githubusercontent.com/u/20340?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/axic",
      "html_url": "https://github.com/axic",
      "followers_url": "https://api.github.com/users/axic/followers",
      "following_url": "https://api.github.com/users/axic/following{/other_user}",
      "gists_url": "https://api.github.com/users/axic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/axic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/axic/subscriptions",
      "organizations_url": "https://api.github.com/users/axic/orgs",
      "repos_url": "https://api.github.com/users/axic/repos",
      "events_url": "https://api.github.com/users/axic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/axic/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-07-27T18:48:11Z",
    "updated_at": "2018-07-27T18:48:11Z",
    "author_association": "CONTRIBUTOR",
    "body": "Isn't this proposed layout pretty much the same but with different field names? Is the benefit that this matches the layout of the artifact file? :)\r\n\r\n> I will update it so that if path is missing, it will run command with no stdin.\r\n\r\nSo\r\n- 1) if no `path` is specified it just runs the script (and in this case practically the user would only have a single array entry to `targets`),\r\n- 2) if `path` is specified the content of that is put onto stdin.\r\n\r\nFor case 2) I have a couple of questions:\r\n- Can the `command` have arguments (e.g. `./scripts/process-wasm-output-to-artifact myfile`)? \r\n- If glob is used (`*.wasm`), how will the tool know which file is streamed an when is the end of a given file? (I guess the solution to this is that the user would have multiple `target` entries running it one-by-one.)",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/408507230/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/408508939",
    "html_url": "https://github.com/trufflesuite/truffle/issues/1134#issuecomment-408508939",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/1134",
    "id": 408508939,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwODUwODkzOQ==",
    "user": {
      "login": "gnidan",
      "id": 151065,
      "node_id": "MDQ6VXNlcjE1MTA2NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/151065?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gnidan",
      "html_url": "https://github.com/gnidan",
      "followers_url": "https://api.github.com/users/gnidan/followers",
      "following_url": "https://api.github.com/users/gnidan/following{/other_user}",
      "gists_url": "https://api.github.com/users/gnidan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gnidan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gnidan/subscriptions",
      "organizations_url": "https://api.github.com/users/gnidan/orgs",
      "repos_url": "https://api.github.com/users/gnidan/repos",
      "events_url": "https://api.github.com/users/gnidan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gnidan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-07-27T18:54:35Z",
    "updated_at": "2018-07-27T18:55:54Z",
    "author_association": "MEMBER",
    "body": "> Isn't this proposed layout pretty much the same but with different field names? Is the benefit that this matches the layout of the artifact file? :)\r\n\r\nYep exactly. This way there's no need to maintain _specific_ allowed fields, it's just \"this object is used to populate the artifact directly\".\r\n\r\n> Can the command have arguments (e.g. ./scripts/process-wasm-output-to-artifact myfile)?\r\n\r\nYep, it's just gonna shell-out to that command, with the contents at `path` piped as stdin. If you want your script to do `./scripts/process <path>` (instead of stdin), well, there's always: `command: \"xargs ./scripts/process` :)\r\n\r\n> If glob is used (*.wasm), how will the tool know which file is streamed an when is the end of a given file? (I guess the solution to this is that the user would have multiple target entries running it one-by-one.)\r\n\r\nAh shoot, good point. I was thinking that the file specified by `path` would have some distinguishing information in the file contents, but that might not be true. I'm currently ambivalent about requiring multiple targets in this case, or if we want something like:\r\n\r\n```javascript\r\n{\r\n  path: \"*.wasm\",\r\n  command: \"./script/process\",\r\n  stdin: true // default\r\n}\r\n```\r\n\r\nWhere `stdin: true` means the contents get piped, and `stdin: false` means `./script/process <path>` gets invoked. This way the script can see the filename. Also this would avoid the need for `xargs`.\r\n\r\n**EDIT** Oh wait I was wrong about xargs, cause file contents. OK now I think I like the `stdin` option way more. Thoughts?",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/408508939/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/408512108",
    "html_url": "https://github.com/trufflesuite/truffle/issues/1134#issuecomment-408512108",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/1134",
    "id": 408512108,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwODUxMjEwOA==",
    "user": {
      "login": "axic",
      "id": 20340,
      "node_id": "MDQ6VXNlcjIwMzQw",
      "avatar_url": "https://avatars.githubusercontent.com/u/20340?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/axic",
      "html_url": "https://github.com/axic",
      "followers_url": "https://api.github.com/users/axic/followers",
      "following_url": "https://api.github.com/users/axic/following{/other_user}",
      "gists_url": "https://api.github.com/users/axic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/axic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/axic/subscriptions",
      "organizations_url": "https://api.github.com/users/axic/orgs",
      "repos_url": "https://api.github.com/users/axic/repos",
      "events_url": "https://api.github.com/users/axic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/axic/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-07-27T19:07:11Z",
    "updated_at": "2018-07-27T19:07:11Z",
    "author_association": "CONTRIBUTOR",
    "body": "> Yep exactly. This way there's no need to maintain specific allowed fields, it's just \"this object is used to populate the artifact directly\".\r\n\r\nI like it. I guess it also means that if the artifact format changes, this will change too.\r\n\r\n> `stdin: false` means `./script/process <path>` gets invoked.\r\n\r\nDoes that mean for glob match each of the individual files are passed one-by-one to the command?",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/408512108/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/408515031",
    "html_url": "https://github.com/trufflesuite/truffle/issues/1134#issuecomment-408515031",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/1134",
    "id": 408515031,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwODUxNTAzMQ==",
    "user": {
      "login": "gnidan",
      "id": 151065,
      "node_id": "MDQ6VXNlcjE1MTA2NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/151065?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gnidan",
      "html_url": "https://github.com/gnidan",
      "followers_url": "https://api.github.com/users/gnidan/followers",
      "following_url": "https://api.github.com/users/gnidan/following{/other_user}",
      "gists_url": "https://api.github.com/users/gnidan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gnidan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gnidan/subscriptions",
      "organizations_url": "https://api.github.com/users/gnidan/orgs",
      "repos_url": "https://api.github.com/users/gnidan/repos",
      "events_url": "https://api.github.com/users/gnidan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gnidan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-07-27T19:19:45Z",
    "updated_at": "2018-07-27T19:19:45Z",
    "author_association": "MEMBER",
    "body": "> I like it. I guess it also means that if the artifact format changes, this will change too.\r\n\r\nCorrect, although hopefully the basics like `contractName` / `abi` won't change.\r\n\r\n> Does that mean for glob match each of the individual files are passed one-by-one to the command?\r\n\r\nYep, so Truffle does the glob-expansion, rather than having the shell do it.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/408515031/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/408549789",
    "html_url": "https://github.com/trufflesuite/truffle/issues/1134#issuecomment-408549789",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/1134",
    "id": 408549789,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwODU0OTc4OQ==",
    "user": {
      "login": "gnidan",
      "id": 151065,
      "node_id": "MDQ6VXNlcjE1MTA2NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/151065?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gnidan",
      "html_url": "https://github.com/gnidan",
      "followers_url": "https://api.github.com/users/gnidan/followers",
      "following_url": "https://api.github.com/users/gnidan/following{/other_user}",
      "gists_url": "https://api.github.com/users/gnidan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gnidan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gnidan/subscriptions",
      "organizations_url": "https://api.github.com/users/gnidan/orgs",
      "repos_url": "https://api.github.com/users/gnidan/repos",
      "events_url": "https://api.github.com/users/gnidan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gnidan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-07-27T22:02:49Z",
    "updated_at": "2018-07-27T22:02:49Z",
    "author_association": "MEMBER",
    "body": "@axic I updated this a bit, renaming `paths` in the properties example to (hopefully more clear) `fileProperties`. See this [Configuration Example](https://github.com/trufflesuite/truffle/blob/d6b957ba9d7a7468de3559bf5e387e9b2e483b06/packages/truffle/test/sources/external_compile/truffle.js#L2-L22)",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/408549789/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/408556528",
    "html_url": "https://github.com/trufflesuite/truffle/issues/1134#issuecomment-408556528",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/1134",
    "id": 408556528,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwODU1NjUyOA==",
    "user": {
      "login": "axic",
      "id": 20340,
      "node_id": "MDQ6VXNlcjIwMzQw",
      "avatar_url": "https://avatars.githubusercontent.com/u/20340?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/axic",
      "html_url": "https://github.com/axic",
      "followers_url": "https://api.github.com/users/axic/followers",
      "following_url": "https://api.github.com/users/axic/following{/other_user}",
      "gists_url": "https://api.github.com/users/axic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/axic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/axic/subscriptions",
      "organizations_url": "https://api.github.com/users/axic/orgs",
      "repos_url": "https://api.github.com/users/axic/repos",
      "events_url": "https://api.github.com/users/axic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/axic/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-07-27T22:42:12Z",
    "updated_at": "2018-07-27T22:42:12Z",
    "author_association": "CONTRIBUTOR",
    "body": "Looks great! I guess it will need some explanation / tutorial / guide to make the most out of it :)",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/408556528/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/408558068",
    "html_url": "https://github.com/trufflesuite/truffle/issues/1134#issuecomment-408558068",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/1134",
    "id": 408558068,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwODU1ODA2OA==",
    "user": {
      "login": "gnidan",
      "id": 151065,
      "node_id": "MDQ6VXNlcjE1MTA2NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/151065?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gnidan",
      "html_url": "https://github.com/gnidan",
      "followers_url": "https://api.github.com/users/gnidan/followers",
      "following_url": "https://api.github.com/users/gnidan/following{/other_user}",
      "gists_url": "https://api.github.com/users/gnidan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gnidan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gnidan/subscriptions",
      "organizations_url": "https://api.github.com/users/gnidan/orgs",
      "repos_url": "https://api.github.com/users/gnidan/repos",
      "events_url": "https://api.github.com/users/gnidan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gnidan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-07-27T22:52:41Z",
    "updated_at": "2018-07-27T22:52:41Z",
    "author_association": "MEMBER",
    "body": "@axic I'm going to be away next week so I might not have time to follow-up. When I get back I'll make a real README. In the meantime, I just published NPM tag `external-compiler` if you want to start trying this out:\r\n```bash\r\nnpm uninstall -g truffle && npm install -g truffle@external-compiler\r\n```\r\n\r\nLet me know if you make any headway. Thanks!",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/408558068/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/408560730",
    "html_url": "https://github.com/trufflesuite/truffle/issues/1134#issuecomment-408560730",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/1134",
    "id": 408560730,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwODU2MDczMA==",
    "user": {
      "login": "axic",
      "id": 20340,
      "node_id": "MDQ6VXNlcjIwMzQw",
      "avatar_url": "https://avatars.githubusercontent.com/u/20340?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/axic",
      "html_url": "https://github.com/axic",
      "followers_url": "https://api.github.com/users/axic/followers",
      "following_url": "https://api.github.com/users/axic/following{/other_user}",
      "gists_url": "https://api.github.com/users/axic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/axic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/axic/subscriptions",
      "organizations_url": "https://api.github.com/users/axic/orgs",
      "repos_url": "https://api.github.com/users/axic/repos",
      "events_url": "https://api.github.com/users/axic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/axic/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-07-27T23:12:02Z",
    "updated_at": "2018-07-27T23:12:02Z",
    "author_association": "CONTRIBUTOR",
    "body": "Oh, is the `abi` still optional? If optional default to the single fallback function?",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/408560730/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/408560891",
    "html_url": "https://github.com/trufflesuite/truffle/issues/1134#issuecomment-408560891",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/1134",
    "id": 408560891,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwODU2MDg5MQ==",
    "user": {
      "login": "axic",
      "id": 20340,
      "node_id": "MDQ6VXNlcjIwMzQw",
      "avatar_url": "https://avatars.githubusercontent.com/u/20340?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/axic",
      "html_url": "https://github.com/axic",
      "followers_url": "https://api.github.com/users/axic/followers",
      "following_url": "https://api.github.com/users/axic/following{/other_user}",
      "gists_url": "https://api.github.com/users/axic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/axic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/axic/subscriptions",
      "organizations_url": "https://api.github.com/users/axic/orgs",
      "repos_url": "https://api.github.com/users/axic/repos",
      "events_url": "https://api.github.com/users/axic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/axic/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-07-27T23:13:15Z",
    "updated_at": "2018-07-27T23:13:15Z",
    "author_association": "CONTRIBUTOR",
    "body": "Also do I need to keep `truffle.js` and `truffle-config.js` in sync?",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/408560891/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/408561211",
    "html_url": "https://github.com/trufflesuite/truffle/issues/1134#issuecomment-408561211",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/1134",
    "id": 408561211,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwODU2MTIxMQ==",
    "user": {
      "login": "axic",
      "id": 20340,
      "node_id": "MDQ6VXNlcjIwMzQw",
      "avatar_url": "https://avatars.githubusercontent.com/u/20340?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/axic",
      "html_url": "https://github.com/axic",
      "followers_url": "https://api.github.com/users/axic/followers",
      "following_url": "https://api.github.com/users/axic/following{/other_user}",
      "gists_url": "https://api.github.com/users/axic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/axic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/axic/subscriptions",
      "organizations_url": "https://api.github.com/users/axic/orgs",
      "repos_url": "https://api.github.com/users/axic/repos",
      "events_url": "https://api.github.com/users/axic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/axic/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-07-27T23:15:39Z",
    "updated_at": "2018-07-27T23:15:39Z",
    "author_association": "CONTRIBUTOR",
    "body": "I've tried this but it doesn't seem to be picking it up:\r\n```\r\nmodule.exports = {\r\n  // See <http://truffleframework.com/docs/advanced/configuration>\r\n  // to customize your Truffle configuration!\r\n  compilers: {\r\n    external: {\r\n      command: \"cargo build --release --target wasm32-unknown-unknown\",\r\n    },\r\n    targets: [{\r\n      properties: {\r\n        contractName: \"ecadd\"\r\n      },\r\n      fileProperties: {\r\n        bytecode: \"target/wasm32-unknown-unknown/release/ewasm_precompile_ecadd.wasm\"\r\n      }\r\n    }]\r\n  }\r\n};\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/408561211/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/408561455",
    "html_url": "https://github.com/trufflesuite/truffle/issues/1134#issuecomment-408561455",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/1134",
    "id": 408561455,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwODU2MTQ1NQ==",
    "user": {
      "login": "axic",
      "id": 20340,
      "node_id": "MDQ6VXNlcjIwMzQw",
      "avatar_url": "https://avatars.githubusercontent.com/u/20340?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/axic",
      "html_url": "https://github.com/axic",
      "followers_url": "https://api.github.com/users/axic/followers",
      "following_url": "https://api.github.com/users/axic/following{/other_user}",
      "gists_url": "https://api.github.com/users/axic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/axic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/axic/subscriptions",
      "organizations_url": "https://api.github.com/users/axic/orgs",
      "repos_url": "https://api.github.com/users/axic/repos",
      "events_url": "https://api.github.com/users/axic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/axic/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-07-27T23:17:42Z",
    "updated_at": "2018-07-27T23:19:59Z",
    "author_association": "CONTRIBUTOR",
    "body": "Never mind, seems like my reinstall command failed. Now I am on the correct one:\r\n```\r\nTruffle v5.0.0-external-compiler.0 - a development framework for Ethereum\r\n```\r\n\r\nIt seems to be working. \r\n\r\n```\r\n    Finished \r\nrelease [optimized] target(s) in 1m 5.26s\r\nWriting artifacts to ./build/contracts\r\n```\r\n\r\nI should leave these comments on the PR I guess.\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/408561455/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/408908175",
    "html_url": "https://github.com/trufflesuite/truffle/issues/1134#issuecomment-408908175",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/1134",
    "id": 408908175,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwODkwODE3NQ==",
    "user": {
      "login": "gnidan",
      "id": 151065,
      "node_id": "MDQ6VXNlcjE1MTA2NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/151065?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gnidan",
      "html_url": "https://github.com/gnidan",
      "followers_url": "https://api.github.com/users/gnidan/followers",
      "following_url": "https://api.github.com/users/gnidan/following{/other_user}",
      "gists_url": "https://api.github.com/users/gnidan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gnidan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gnidan/subscriptions",
      "organizations_url": "https://api.github.com/users/gnidan/orgs",
      "repos_url": "https://api.github.com/users/gnidan/repos",
      "events_url": "https://api.github.com/users/gnidan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gnidan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-07-30T15:38:38Z",
    "updated_at": "2018-07-30T15:38:38Z",
    "author_association": "MEMBER",
    "body": "> Also do I need to keep truffle.js and truffle-config.js in sync?\r\n\r\n@axic that second file exists for Windows users, where running `truffle` in a project directory by default executes `./truffle.js` instead of the node_module binary. Feel free to delete one or the other. (Note there's an issue for standardizing on only one, but it's up in the air - feel free to weight in at #895)",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/408908175/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/412306413",
    "html_url": "https://github.com/trufflesuite/truffle/issues/1134#issuecomment-412306413",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/1134",
    "id": 412306413,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxMjMwNjQxMw==",
    "user": {
      "login": "gnidan",
      "id": 151065,
      "node_id": "MDQ6VXNlcjE1MTA2NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/151065?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gnidan",
      "html_url": "https://github.com/gnidan",
      "followers_url": "https://api.github.com/users/gnidan/followers",
      "following_url": "https://api.github.com/users/gnidan/following{/other_user}",
      "gists_url": "https://api.github.com/users/gnidan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gnidan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gnidan/subscriptions",
      "organizations_url": "https://api.github.com/users/gnidan/orgs",
      "repos_url": "https://api.github.com/users/gnidan/repos",
      "events_url": "https://api.github.com/users/gnidan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gnidan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-08-11T22:48:09Z",
    "updated_at": "2018-08-11T22:48:09Z",
    "author_association": "MEMBER",
    "body": "This has been merged into `next` and released on `truffle@5.0.0-next.8`\r\n\r\nPlease try it out and let me know of any problems. Thanks!\r\n\r\n```\r\nnpm uninstall -g truffle\r\nnpm install -g truffle@5.0.0-next.8\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/412306413/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/412307470",
    "html_url": "https://github.com/trufflesuite/truffle/issues/1134#issuecomment-412307470",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/1134",
    "id": 412307470,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxMjMwNzQ3MA==",
    "user": {
      "login": "axic",
      "id": 20340,
      "node_id": "MDQ6VXNlcjIwMzQw",
      "avatar_url": "https://avatars.githubusercontent.com/u/20340?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/axic",
      "html_url": "https://github.com/axic",
      "followers_url": "https://api.github.com/users/axic/followers",
      "following_url": "https://api.github.com/users/axic/following{/other_user}",
      "gists_url": "https://api.github.com/users/axic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/axic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/axic/subscriptions",
      "organizations_url": "https://api.github.com/users/axic/orgs",
      "repos_url": "https://api.github.com/users/axic/repos",
      "events_url": "https://api.github.com/users/axic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/axic/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-08-11T23:10:19Z",
    "updated_at": "2018-08-11T23:10:19Z",
    "author_association": "CONTRIBUTOR",
    "body": "Great, I get a message during deployment now:\r\n```\r\nUsing network 'test'.\r\n\r\n    Finished release [optimized] target(s) in 0.12s\r\nError: while migrating ecadd: Returned error: base fee exceeds gas limit\r\n```\r\n\r\nI guess the \"gas limit\" refers to \"block gas limit\" here?",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/412307470/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/412307836",
    "html_url": "https://github.com/trufflesuite/truffle/issues/1134#issuecomment-412307836",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/1134",
    "id": 412307836,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxMjMwNzgzNg==",
    "user": {
      "login": "gnidan",
      "id": 151065,
      "node_id": "MDQ6VXNlcjE1MTA2NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/151065?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gnidan",
      "html_url": "https://github.com/gnidan",
      "followers_url": "https://api.github.com/users/gnidan/followers",
      "following_url": "https://api.github.com/users/gnidan/following{/other_user}",
      "gists_url": "https://api.github.com/users/gnidan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gnidan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gnidan/subscriptions",
      "organizations_url": "https://api.github.com/users/gnidan/orgs",
      "repos_url": "https://api.github.com/users/gnidan/repos",
      "events_url": "https://api.github.com/users/gnidan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gnidan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-08-11T23:21:44Z",
    "updated_at": "2018-08-11T23:21:44Z",
    "author_association": "MEMBER",
    "body": "Mm @axic presumably. Seems like that error must be coming from Web3.js? I can't find it if it's coming from somewhere in Truffle. I'd expect \"out of gas\" if it was the transaction limit.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/412307836/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/413594476",
    "html_url": "https://github.com/trufflesuite/truffle/issues/1134#issuecomment-413594476",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/1134",
    "id": 413594476,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxMzU5NDQ3Ng==",
    "user": {
      "login": "lrettig",
      "id": 3316532,
      "node_id": "MDQ6VXNlcjMzMTY1MzI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3316532?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lrettig",
      "html_url": "https://github.com/lrettig",
      "followers_url": "https://api.github.com/users/lrettig/followers",
      "following_url": "https://api.github.com/users/lrettig/following{/other_user}",
      "gists_url": "https://api.github.com/users/lrettig/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lrettig/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lrettig/subscriptions",
      "organizations_url": "https://api.github.com/users/lrettig/orgs",
      "repos_url": "https://api.github.com/users/lrettig/repos",
      "events_url": "https://api.github.com/users/lrettig/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lrettig/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-08-16T15:54:08Z",
    "updated_at": "2018-08-16T15:54:08Z",
    "author_association": "CONTRIBUTOR",
    "body": "I noticed that my Wasm bytecode is correct inside the contract artifact JSON but it's being mangled inside `Migrations.json`:\r\n\r\n```\r\n> grep bytecode build/contracts/ewasm_as_wrc20.json\r\n  \"bytecode\": \"0x0061736d0100000001140460000060017f017f60027f7f017f60027f7f0002130108657468657265756d0672657475726e00030305040102000005030100010633097f0041030b7f0041080b7f0041070b7f004180808080040b7f0141000b7f0141000b7f0041080b7f0141000b7f004190010b071102066d656d6f72790200046d61696e00030a9002047e01067f200023034b0440000b2305210120012000220241012203200220034b1b6a23026a2302417f737121043f002105200420054110744b0440200420016b41ffff036a41ffff03417f737141107621022005220320022206200320064a1b2103200340004100480440200240004100480440000b0b0b2004240520010b2601017f200028020021022001200228020041007649047f200220014100746a2d000805000b0b5401037f23074504401004410124070b027f41f2002100200010010c000b21010240410021020340200241f20048450d01200120026a418801200210023a0000200241016a21020c00000b000b200141f20010000b1300230823026a2302417f73712404230424050b0b9501020041080b800172000000000000000061736d0100000001090260027f7f0060000002190108657468657265756d0c73746f7261676553746f72650000030201010503010001071102066d656d6f72790200046d61696e00010a26012401027f418005210041a005210120004104360200200141effd023602002000200110000b000000000000004188010b080800000072000000007e046e616d6501770500147e6c69622f657468657265756d2f66696e69736801267e6c69622f616c6c6f6361746f722f6172656e612f5f5f6d656d6f72795f616c6c6f63617465021a7e6c69622f61727261792f41727261793c75383e235f5f6765740313617373656d626c792f696e6465782f6d61696e04057374617274002b10736f757263654d617070696e6755524c19756e746f7563686564577261707065722e7761736d2e6d6170\",\r\n> grep bytecode build/contracts/Migrations.json\r\n  \"bytecode\": \"0x608060405234801561001057600080fd5b50336000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055506102f8806100606000396000f300608060405260043610610062576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff1680630900f01014610067578063445df0ac146100aa5780638da5cb5b146100d5578063fdacd5761461012c575b600080fd5b34801561007357600080fd5b506100a8600480360381019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190505050610159565b005b3480156100b657600080fd5b506100bf610241565b6040518082815260200191505060405180910390f35b3480156100e157600080fd5b506100ea610247565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b34801561013857600080fd5b506101576004803603810190808035906020019092919050505061026c565b005b60008060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff16141561023d578190508073ffffffffffffffffffffffffffffffffffffffff1663fdacd5766001546040518263ffffffff167c010000000000000000000000000000000000000000000000000000000002815260040180828152602001915050600060405180830381600087803b15801561022457600080fd5b505af1158015610238573d6000803e3d6000fd5b505050505b5050565b60015481565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614156102c957806001819055505b505600a165627a7a723058205e3ffec98c49efa02a755b867db84459cf3aa0b166693c9477f96b608f8e1bf30029\",\r\n```\r\n\r\nAny idea what could be causing this? ",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/413594476/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/413597414",
    "html_url": "https://github.com/trufflesuite/truffle/issues/1134#issuecomment-413597414",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/1134",
    "id": 413597414,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxMzU5NzQxNA==",
    "user": {
      "login": "axic",
      "id": 20340,
      "node_id": "MDQ6VXNlcjIwMzQw",
      "avatar_url": "https://avatars.githubusercontent.com/u/20340?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/axic",
      "html_url": "https://github.com/axic",
      "followers_url": "https://api.github.com/users/axic/followers",
      "following_url": "https://api.github.com/users/axic/following{/other_user}",
      "gists_url": "https://api.github.com/users/axic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/axic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/axic/subscriptions",
      "organizations_url": "https://api.github.com/users/axic/orgs",
      "repos_url": "https://api.github.com/users/axic/repos",
      "events_url": "https://api.github.com/users/axic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/axic/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-08-16T16:02:49Z",
    "updated_at": "2018-08-16T16:02:49Z",
    "author_association": "CONTRIBUTOR",
    "body": "@lrettig that looks a Solidity bytecode.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/413597414/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/413598795",
    "html_url": "https://github.com/trufflesuite/truffle/issues/1134#issuecomment-413598795",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/1134",
    "id": 413598795,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxMzU5ODc5NQ==",
    "user": {
      "login": "lrettig",
      "id": 3316532,
      "node_id": "MDQ6VXNlcjMzMTY1MzI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3316532?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lrettig",
      "html_url": "https://github.com/lrettig",
      "followers_url": "https://api.github.com/users/lrettig/followers",
      "following_url": "https://api.github.com/users/lrettig/following{/other_user}",
      "gists_url": "https://api.github.com/users/lrettig/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lrettig/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lrettig/subscriptions",
      "organizations_url": "https://api.github.com/users/lrettig/orgs",
      "repos_url": "https://api.github.com/users/lrettig/repos",
      "events_url": "https://api.github.com/users/lrettig/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lrettig/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-08-16T16:07:32Z",
    "updated_at": "2018-08-16T16:07:32Z",
    "author_association": "CONTRIBUTOR",
    "body": "I think that's the solc bytecode for `contracts/Migrations.sol` - I don't know enough Truffle internals to understand how migrations are handled but I suppose as long as the client speaks both EVM 1.0 and Ewasm then the migration contract could remain in solc/EVM.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/413598795/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/413643078",
    "html_url": "https://github.com/trufflesuite/truffle/issues/1134#issuecomment-413643078",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/1134",
    "id": 413643078,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxMzY0MzA3OA==",
    "user": {
      "login": "lrettig",
      "id": 3316532,
      "node_id": "MDQ6VXNlcjMzMTY1MzI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3316532?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lrettig",
      "html_url": "https://github.com/lrettig",
      "followers_url": "https://api.github.com/users/lrettig/followers",
      "following_url": "https://api.github.com/users/lrettig/following{/other_user}",
      "gists_url": "https://api.github.com/users/lrettig/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lrettig/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lrettig/subscriptions",
      "organizations_url": "https://api.github.com/users/lrettig/orgs",
      "repos_url": "https://api.github.com/users/lrettig/repos",
      "events_url": "https://api.github.com/users/lrettig/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lrettig/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-08-16T18:34:05Z",
    "updated_at": "2018-08-16T18:34:05Z",
    "author_association": "CONTRIBUTOR",
    "body": "Okay so ignore my previous question, I'm just demonstrating my ignorance about how Truffle works. I just needed to add a second migration for my contract proper. It appears to be working.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/413643078/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/414797022",
    "html_url": "https://github.com/trufflesuite/truffle/issues/1134#issuecomment-414797022",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/1134",
    "id": 414797022,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxNDc5NzAyMg==",
    "user": {
      "login": "axic",
      "id": 20340,
      "node_id": "MDQ6VXNlcjIwMzQw",
      "avatar_url": "https://avatars.githubusercontent.com/u/20340?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/axic",
      "html_url": "https://github.com/axic",
      "followers_url": "https://api.github.com/users/axic/followers",
      "following_url": "https://api.github.com/users/axic/following{/other_user}",
      "gists_url": "https://api.github.com/users/axic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/axic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/axic/subscriptions",
      "organizations_url": "https://api.github.com/users/axic/orgs",
      "repos_url": "https://api.github.com/users/axic/repos",
      "events_url": "https://api.github.com/users/axic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/axic/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-08-21T19:41:15Z",
    "updated_at": "2018-08-21T19:41:15Z",
    "author_association": "CONTRIBUTOR",
    "body": "Implemented by the 5.0 release.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/414797022/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
