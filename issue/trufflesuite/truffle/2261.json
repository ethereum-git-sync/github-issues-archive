{
  "url": "https://api.github.com/repos/trufflesuite/truffle/issues/2261",
  "repository_url": "https://api.github.com/repos/trufflesuite/truffle",
  "labels_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2261/labels{/name}",
  "comments_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2261/comments",
  "events_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2261/events",
  "html_url": "https://github.com/trufflesuite/truffle/issues/2261",
  "id": 474084202,
  "node_id": "MDU6SXNzdWU0NzQwODQyMDI=",
  "number": 2261,
  "title": "build artifacts: include flattened source code",
  "user": {
    "login": "SurfingNerd",
    "id": 4928740,
    "node_id": "MDQ6VXNlcjQ5Mjg3NDA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/4928740?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/SurfingNerd",
    "html_url": "https://github.com/SurfingNerd",
    "followers_url": "https://api.github.com/users/SurfingNerd/followers",
    "following_url": "https://api.github.com/users/SurfingNerd/following{/other_user}",
    "gists_url": "https://api.github.com/users/SurfingNerd/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/SurfingNerd/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/SurfingNerd/subscriptions",
    "organizations_url": "https://api.github.com/users/SurfingNerd/orgs",
    "repos_url": "https://api.github.com/users/SurfingNerd/repos",
    "events_url": "https://api.github.com/users/SurfingNerd/events{/privacy}",
    "received_events_url": "https://api.github.com/users/SurfingNerd/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2019-07-29T14:28:55Z",
  "updated_at": "2019-07-30T08:13:59Z",
  "closed_at": "2019-07-30T08:13:59Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "## Issue\r\n\r\nthe build artifact json files became a very valuable source of information about the compiled source code. it tracks among others the source code, the used compiler and  settings. \r\nBut it still takes some extra error prone steps to include the full, flattened source code of a specific contract (what you usually need) to get uploaded to tools like blockscout. (means: compiled flattened source code matches exactly the binary EVM result)\r\n\r\nThe idea now is to make this step more convenient and include the flattened source code as well in this compile artifact. i know, that json file is already very big, but i think the extra space is acceptable in exchange for productivity.\r\n",
  "closed_by": {
    "login": "SurfingNerd",
    "id": 4928740,
    "node_id": "MDQ6VXNlcjQ5Mjg3NDA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/4928740?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/SurfingNerd",
    "html_url": "https://github.com/SurfingNerd",
    "followers_url": "https://api.github.com/users/SurfingNerd/followers",
    "following_url": "https://api.github.com/users/SurfingNerd/following{/other_user}",
    "gists_url": "https://api.github.com/users/SurfingNerd/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/SurfingNerd/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/SurfingNerd/subscriptions",
    "organizations_url": "https://api.github.com/users/SurfingNerd/orgs",
    "repos_url": "https://api.github.com/users/SurfingNerd/repos",
    "events_url": "https://api.github.com/users/SurfingNerd/events{/privacy}",
    "received_events_url": "https://api.github.com/users/SurfingNerd/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/2261/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2261/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/516024268",
    "html_url": "https://github.com/trufflesuite/truffle/issues/2261#issuecomment-516024268",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2261",
    "id": 516024268,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUxNjAyNDI2OA==",
    "user": {
      "login": "gnidan",
      "id": 151065,
      "node_id": "MDQ6VXNlcjE1MTA2NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/151065?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gnidan",
      "html_url": "https://github.com/gnidan",
      "followers_url": "https://api.github.com/users/gnidan/followers",
      "following_url": "https://api.github.com/users/gnidan/following{/other_user}",
      "gists_url": "https://api.github.com/users/gnidan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gnidan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gnidan/subscriptions",
      "organizations_url": "https://api.github.com/users/gnidan/orgs",
      "repos_url": "https://api.github.com/users/gnidan/repos",
      "events_url": "https://api.github.com/users/gnidan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gnidan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-07-29T14:49:51Z",
    "updated_at": "2019-07-29T14:49:51Z",
    "author_association": "MEMBER",
    "body": "@SurfingNerd we have an in-progress solution to address this problem systematically. See #1718 or blogposts _Introducing Truffle DB [part 1](https://www.trufflesuite.com/blog/introducing-truffle-db-part-1)_ and _[part 2](https://www.trufflesuite.com/blog/introducing-truffle-db-part-2)_.\r\n\r\nIf you're in a hurry and can't wait for Truffle DB, there might be a compromise solution that adds this information to the artifacts via a feature flag in the project config. Still, though, there is risk that this will bring existing limitations to light. For instance, flattened source does not always compile to the same bytecode/metadata as other compilation workflows.\r\n\r\nHave you considered using [truffle-flattener](https://github.com/nomiclabs/truffle-flattener)? You might also be interested in using **truffle-compile** directly via the new lossless interface introduced in #2073 (to be released this week).",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/516024268/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/516074406",
    "html_url": "https://github.com/trufflesuite/truffle/issues/2261#issuecomment-516074406",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2261",
    "id": 516074406,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUxNjA3NDQwNg==",
    "user": {
      "login": "SurfingNerd",
      "id": 4928740,
      "node_id": "MDQ6VXNlcjQ5Mjg3NDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4928740?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/SurfingNerd",
      "html_url": "https://github.com/SurfingNerd",
      "followers_url": "https://api.github.com/users/SurfingNerd/followers",
      "following_url": "https://api.github.com/users/SurfingNerd/following{/other_user}",
      "gists_url": "https://api.github.com/users/SurfingNerd/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/SurfingNerd/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SurfingNerd/subscriptions",
      "organizations_url": "https://api.github.com/users/SurfingNerd/orgs",
      "repos_url": "https://api.github.com/users/SurfingNerd/repos",
      "events_url": "https://api.github.com/users/SurfingNerd/events{/privacy}",
      "received_events_url": "https://api.github.com/users/SurfingNerd/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-07-29T16:59:43Z",
    "updated_at": "2019-07-29T17:00:08Z",
    "author_association": "NONE",
    "body": "thank you for this fast response :) the truffle-flatterner resulted in a cylcic graph error - i did not investigate any further. \r\ngood, i have the time to wait for the next upcomming release. Maybe it brings me luck :)\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/516074406/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
