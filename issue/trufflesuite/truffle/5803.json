{
  "url": "https://api.github.com/repos/trufflesuite/truffle/issues/5803",
  "repository_url": "https://api.github.com/repos/trufflesuite/truffle",
  "labels_url": "https://api.github.com/repos/trufflesuite/truffle/issues/5803/labels{/name}",
  "comments_url": "https://api.github.com/repos/trufflesuite/truffle/issues/5803/comments",
  "events_url": "https://api.github.com/repos/trufflesuite/truffle/issues/5803/events",
  "html_url": "https://github.com/trufflesuite/truffle/issues/5803",
  "id": 1504065620,
  "node_id": "I_kwDOAkfq-c5ZpjhU",
  "number": 5803,
  "title": "Truffle doesn't deploy some smart contracts to private Ethereum network!",
  "user": {
    "login": "AlirezaEthDev",
    "id": 67728013,
    "node_id": "MDQ6VXNlcjY3NzI4MDEz",
    "avatar_url": "https://avatars.githubusercontent.com/u/67728013?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/AlirezaEthDev",
    "html_url": "https://github.com/AlirezaEthDev",
    "followers_url": "https://api.github.com/users/AlirezaEthDev/followers",
    "following_url": "https://api.github.com/users/AlirezaEthDev/following{/other_user}",
    "gists_url": "https://api.github.com/users/AlirezaEthDev/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/AlirezaEthDev/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/AlirezaEthDev/subscriptions",
    "organizations_url": "https://api.github.com/users/AlirezaEthDev/orgs",
    "repos_url": "https://api.github.com/users/AlirezaEthDev/repos",
    "events_url": "https://api.github.com/users/AlirezaEthDev/events{/privacy}",
    "received_events_url": "https://api.github.com/users/AlirezaEthDev/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 3,
  "created_at": "2022-12-20T06:44:35Z",
  "updated_at": "2022-12-21T18:30:19Z",
  "closed_at": "2022-12-21T08:11:37Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "- [ ] I've [opened a support ticket](https://trufflesuite.zendesk.com/hc/en-us/requests/new) before filing this issue.\r\n\r\n---------------------------\r\n\r\nThere are some contracts that we should deploy to a PoA based private Ethereum by Truffle. Some of them are deployed easily but some others cannot be deployed. Truffle message is \"Contract registering failed\" but it doesn't explain the issue clearly. I put truffle config and the contract migration code here but I can't share the contract code, Because the project is private.\r\n\r\ntruffle-config.js:\r\n\r\n```\r\nconst Web3=require(\"web3\");\r\n\r\n<Network name>:{\r\n      provider:function(){\r\n        return new Web3.providers.WebsocketProvider(\"ws://<ip>:<port>\");\r\n      },\r\n      network_id:\"1234\",\r\n      gas: 7000000,\r\n      gasPrice:3375000000\r\n     }\r\n```\r\n\r\nmigration.js:\r\n\r\n```\r\nconst MyContract = artifacts.require(\"./<contract>.sol\");\r\nconst Web3=require(\"web3\");\r\nconst web3=new Web3(new Web3.providers.WebsocketProvider(\"ws://192.168.10.27:8551\"));\r\n      web3.eth.personal.unlockAccount(<sender>,...,...);\r\n\r\nmodule.exports = function(deployer,network,accounts) {\r\n  let A=<value>;\r\n  deployer.deploy(MyContract, A,{from:<sender>});\r\n};\r\n```\r\n\r\n## Expected Behavior\r\n\r\nI expect Truffle deploys all my contracts not just some of them.\r\n\r\n## Actual Results\r\n\r\nSome contracts are deployed easily by Truffle but for some others this error throws:\r\n\r\n```\r\nError:  *** Deployment Failed ***\r\n\r\n    <contract> hit a require or revert statement with the following reason given:\r\n       * Contract registering failed!\r\n    \r\n        at C:\\...\\npm\\node_modules\\truffle\\build\\webpack:\\packages\\deployer\\src\\deployment.js:330:1\r\n        at processTicksAndRejections (node:internal/process/task_queues:96:5)\r\n```\r\n## Environment\r\n\r\n* Operating System: Windows Server 2019\r\n* Ethereum client: Geth v1.10.23\r\n* Truffle version (`v5.5.31 (core: 5.5.31)`):\r\n* node version (`v16.17.1`):\r\n* npm version (`8.19.2`): ",
  "closed_by": {
    "login": "AlirezaEthDev",
    "id": 67728013,
    "node_id": "MDQ6VXNlcjY3NzI4MDEz",
    "avatar_url": "https://avatars.githubusercontent.com/u/67728013?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/AlirezaEthDev",
    "html_url": "https://github.com/AlirezaEthDev",
    "followers_url": "https://api.github.com/users/AlirezaEthDev/followers",
    "following_url": "https://api.github.com/users/AlirezaEthDev/following{/other_user}",
    "gists_url": "https://api.github.com/users/AlirezaEthDev/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/AlirezaEthDev/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/AlirezaEthDev/subscriptions",
    "organizations_url": "https://api.github.com/users/AlirezaEthDev/orgs",
    "repos_url": "https://api.github.com/users/AlirezaEthDev/repos",
    "events_url": "https://api.github.com/users/AlirezaEthDev/events{/privacy}",
    "received_events_url": "https://api.github.com/users/AlirezaEthDev/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/5803/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/trufflesuite/truffle/issues/5803/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/1359919253",
    "html_url": "https://github.com/trufflesuite/truffle/issues/5803#issuecomment-1359919253",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/5803",
    "id": 1359919253,
    "node_id": "IC_kwDOAkfq-c5RDriV",
    "user": {
      "login": "haltman-at",
      "id": 35589221,
      "node_id": "MDQ6VXNlcjM1NTg5MjIx",
      "avatar_url": "https://avatars.githubusercontent.com/u/35589221?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/haltman-at",
      "html_url": "https://github.com/haltman-at",
      "followers_url": "https://api.github.com/users/haltman-at/followers",
      "following_url": "https://api.github.com/users/haltman-at/following{/other_user}",
      "gists_url": "https://api.github.com/users/haltman-at/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/haltman-at/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/haltman-at/subscriptions",
      "organizations_url": "https://api.github.com/users/haltman-at/orgs",
      "repos_url": "https://api.github.com/users/haltman-at/repos",
      "events_url": "https://api.github.com/users/haltman-at/events{/privacy}",
      "received_events_url": "https://api.github.com/users/haltman-at/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-12-20T18:01:50Z",
    "updated_at": "2022-12-20T18:01:50Z",
    "author_association": "CONTRIBUTOR",
    "body": "Notice that this error message is coming from the contracts themselves, not from Truffle -- the contract has hit a revert or require statement that caused the deployment to fail.  It's not clear that this is a Truffle issue; it would appear offhand to be an issue with your contracts, or perhaps with how you've deployed them.\r\n\r\nSimilarly, it's not possible for Truffle to more clearly explain the error here, because the error is originating from your contracts and not from Truffle.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/1359919253/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/1360984439",
    "html_url": "https://github.com/trufflesuite/truffle/issues/5803#issuecomment-1360984439",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/5803",
    "id": 1360984439,
    "node_id": "IC_kwDOAkfq-c5RHvl3",
    "user": {
      "login": "AlirezaEthDev",
      "id": 67728013,
      "node_id": "MDQ6VXNlcjY3NzI4MDEz",
      "avatar_url": "https://avatars.githubusercontent.com/u/67728013?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/AlirezaEthDev",
      "html_url": "https://github.com/AlirezaEthDev",
      "followers_url": "https://api.github.com/users/AlirezaEthDev/followers",
      "following_url": "https://api.github.com/users/AlirezaEthDev/following{/other_user}",
      "gists_url": "https://api.github.com/users/AlirezaEthDev/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/AlirezaEthDev/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/AlirezaEthDev/subscriptions",
      "organizations_url": "https://api.github.com/users/AlirezaEthDev/orgs",
      "repos_url": "https://api.github.com/users/AlirezaEthDev/repos",
      "events_url": "https://api.github.com/users/AlirezaEthDev/events{/privacy}",
      "received_events_url": "https://api.github.com/users/AlirezaEthDev/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-12-21T08:11:31Z",
    "updated_at": "2022-12-21T08:11:31Z",
    "author_association": "NONE",
    "body": "@haltman-at \r\nYes, you're right. This was because of the contract source code and I fixed it.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/1360984439/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/1361839878",
    "html_url": "https://github.com/trufflesuite/truffle/issues/5803#issuecomment-1361839878",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/5803",
    "id": 1361839878,
    "node_id": "IC_kwDOAkfq-c5RLAcG",
    "user": {
      "login": "haltman-at",
      "id": 35589221,
      "node_id": "MDQ6VXNlcjM1NTg5MjIx",
      "avatar_url": "https://avatars.githubusercontent.com/u/35589221?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/haltman-at",
      "html_url": "https://github.com/haltman-at",
      "followers_url": "https://api.github.com/users/haltman-at/followers",
      "following_url": "https://api.github.com/users/haltman-at/following{/other_user}",
      "gists_url": "https://api.github.com/users/haltman-at/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/haltman-at/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/haltman-at/subscriptions",
      "organizations_url": "https://api.github.com/users/haltman-at/orgs",
      "repos_url": "https://api.github.com/users/haltman-at/repos",
      "events_url": "https://api.github.com/users/haltman-at/events{/privacy}",
      "received_events_url": "https://api.github.com/users/haltman-at/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-12-21T18:30:19Z",
    "updated_at": "2022-12-21T18:30:19Z",
    "author_association": "CONTRIBUTOR",
    "body": "OK, great!",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/1361839878/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
