{
  "url": "https://api.github.com/repos/trufflesuite/truffle/issues/2440",
  "repository_url": "https://api.github.com/repos/trufflesuite/truffle",
  "labels_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2440/labels{/name}",
  "comments_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2440/comments",
  "events_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2440/events",
  "html_url": "https://github.com/trufflesuite/truffle/issues/2440",
  "id": 504735764,
  "node_id": "MDU6SXNzdWU1MDQ3MzU3NjQ=",
  "number": 2440,
  "title": "Why truffle npm package is distributed in a minified version?",
  "user": {
    "login": "chebykin",
    "id": 2095757,
    "node_id": "MDQ6VXNlcjIwOTU3NTc=",
    "avatar_url": "https://avatars.githubusercontent.com/u/2095757?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/chebykin",
    "html_url": "https://github.com/chebykin",
    "followers_url": "https://api.github.com/users/chebykin/followers",
    "following_url": "https://api.github.com/users/chebykin/following{/other_user}",
    "gists_url": "https://api.github.com/users/chebykin/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/chebykin/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/chebykin/subscriptions",
    "organizations_url": "https://api.github.com/users/chebykin/orgs",
    "repos_url": "https://api.github.com/users/chebykin/repos",
    "events_url": "https://api.github.com/users/chebykin/events{/privacy}",
    "received_events_url": "https://api.github.com/users/chebykin/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 5,
  "created_at": "2019-10-09T15:43:23Z",
  "updated_at": "2019-10-13T10:54:06Z",
  "closed_at": "2019-10-13T10:54:06Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "- [ no] I've asked for help in the [Truffle Gitter](http://gitter.im/Consensys/truffle) before filing this issue.\r\n\r\n---------------------------\r\n\r\n## Issue\r\n\r\nHi! I'm curious why `truffle` npm package is distributed in an already minified version? I can imagine only the following cases:\r\n\r\n- if I use it with front-end, it's a big chance that I do minification using my own `webpack` config or another tool\r\n- if I use it with `node.js`, I probably don't care about it at all\r\n- if I use it to develop Solidity contracts, I would probably like to make some hacks or debug original truffle code\r\n\r\nBut none of these cases requires minification in a first glance.\r\n\r\nI'm just stumbled into it when trying to hack truffle code right in my `node_modules` folder.\r\n",
  "closed_by": {
    "login": "chebykin",
    "id": 2095757,
    "node_id": "MDQ6VXNlcjIwOTU3NTc=",
    "avatar_url": "https://avatars.githubusercontent.com/u/2095757?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/chebykin",
    "html_url": "https://github.com/chebykin",
    "followers_url": "https://api.github.com/users/chebykin/followers",
    "following_url": "https://api.github.com/users/chebykin/following{/other_user}",
    "gists_url": "https://api.github.com/users/chebykin/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/chebykin/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/chebykin/subscriptions",
    "organizations_url": "https://api.github.com/users/chebykin/orgs",
    "repos_url": "https://api.github.com/users/chebykin/repos",
    "events_url": "https://api.github.com/users/chebykin/events{/privacy}",
    "received_events_url": "https://api.github.com/users/chebykin/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/2440/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2440/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/540109061",
    "html_url": "https://github.com/trufflesuite/truffle/issues/2440#issuecomment-540109061",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2440",
    "id": 540109061,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU0MDEwOTA2MQ==",
    "user": {
      "login": "eggplantzzz",
      "id": 14827965,
      "node_id": "MDQ6VXNlcjE0ODI3OTY1",
      "avatar_url": "https://avatars.githubusercontent.com/u/14827965?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eggplantzzz",
      "html_url": "https://github.com/eggplantzzz",
      "followers_url": "https://api.github.com/users/eggplantzzz/followers",
      "following_url": "https://api.github.com/users/eggplantzzz/following{/other_user}",
      "gists_url": "https://api.github.com/users/eggplantzzz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eggplantzzz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eggplantzzz/subscriptions",
      "organizations_url": "https://api.github.com/users/eggplantzzz/orgs",
      "repos_url": "https://api.github.com/users/eggplantzzz/repos",
      "events_url": "https://api.github.com/users/eggplantzzz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eggplantzzz/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-10-09T17:38:56Z",
    "updated_at": "2019-10-09T17:38:56Z",
    "author_association": "CONTRIBUTOR",
    "body": "Hey @chebykin! The main entry file for Truffle is actually not minified. Will you tell me why you think it is minified? Do you have something specific that you can refer me to?",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/540109061/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/540482449",
    "html_url": "https://github.com/trufflesuite/truffle/issues/2440#issuecomment-540482449",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2440",
    "id": 540482449,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU0MDQ4MjQ0OQ==",
    "user": {
      "login": "chebykin",
      "id": 2095757,
      "node_id": "MDQ6VXNlcjIwOTU3NTc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2095757?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chebykin",
      "html_url": "https://github.com/chebykin",
      "followers_url": "https://api.github.com/users/chebykin/followers",
      "following_url": "https://api.github.com/users/chebykin/following{/other_user}",
      "gists_url": "https://api.github.com/users/chebykin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chebykin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chebykin/subscriptions",
      "organizations_url": "https://api.github.com/users/chebykin/orgs",
      "repos_url": "https://api.github.com/users/chebykin/repos",
      "events_url": "https://api.github.com/users/chebykin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chebykin/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-10-10T09:25:42Z",
    "updated_at": "2019-10-10T09:25:42Z",
    "author_association": "CONTRIBUTOR",
    "body": "I'm sorry, you are right, it isn't minified. That was my mistake, I had incorrectly used this term.\r\n\r\nThe question should sound `Why almost all truffle modules are bundled into a single file?`. By the single file, I mean `node_modules/truffle/build/cli.bundled.js`.\r\n\r\nThe problem is that it's too difficult to edit a file that is over 500K lines of code. All of my code editors hang when I trying to do this ðŸ˜€.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/540482449/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/540673518",
    "html_url": "https://github.com/trufflesuite/truffle/issues/2440#issuecomment-540673518",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2440",
    "id": 540673518,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU0MDY3MzUxOA==",
    "user": {
      "login": "eggplantzzz",
      "id": 14827965,
      "node_id": "MDQ6VXNlcjE0ODI3OTY1",
      "avatar_url": "https://avatars.githubusercontent.com/u/14827965?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eggplantzzz",
      "html_url": "https://github.com/eggplantzzz",
      "followers_url": "https://api.github.com/users/eggplantzzz/followers",
      "following_url": "https://api.github.com/users/eggplantzzz/following{/other_user}",
      "gists_url": "https://api.github.com/users/eggplantzzz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eggplantzzz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eggplantzzz/subscriptions",
      "organizations_url": "https://api.github.com/users/eggplantzzz/orgs",
      "repos_url": "https://api.github.com/users/eggplantzzz/repos",
      "events_url": "https://api.github.com/users/eggplantzzz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eggplantzzz/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-10-10T16:45:40Z",
    "updated_at": "2019-10-10T16:46:24Z",
    "author_association": "CONTRIBUTOR",
    "body": "Ah ok, the bundled file is the binary that is executed. However, if you want to edit that file, you shouldn't do it directly. Instead you should make changes in the necessary packages and then rebuild that file. I can give you some more info on how to do that if you need it.\r\n\r\nIf you need any guidance on what to edit and where then feel free to ask more questions! Another thing that might help a bit for gaining an understanding of the flow of Truffle, you can check out the [CONTRIBUTING.md](https://github.com/trufflesuite/truffle/blob/develop/CONTRIBUTING.md) which contains a little bit of general information about Truffle's architecture.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/540673518/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/541086626",
    "html_url": "https://github.com/trufflesuite/truffle/issues/2440#issuecomment-541086626",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2440",
    "id": 541086626,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU0MTA4NjYyNg==",
    "user": {
      "login": "gnidan",
      "id": 151065,
      "node_id": "MDQ6VXNlcjE1MTA2NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/151065?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gnidan",
      "html_url": "https://github.com/gnidan",
      "followers_url": "https://api.github.com/users/gnidan/followers",
      "following_url": "https://api.github.com/users/gnidan/following{/other_user}",
      "gists_url": "https://api.github.com/users/gnidan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gnidan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gnidan/subscriptions",
      "organizations_url": "https://api.github.com/users/gnidan/orgs",
      "repos_url": "https://api.github.com/users/gnidan/repos",
      "events_url": "https://api.github.com/users/gnidan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gnidan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-10-11T14:25:11Z",
    "updated_at": "2019-10-11T14:25:11Z",
    "author_association": "MEMBER",
    "body": "To add: the bundle exists to provide a mechanism to ensure portability. In the past (and maybe today, even), a number of Truffle's dependencies have required native dependencies. Our solution has been to bundle into a single Node-only module.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/541086626/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/541407985",
    "html_url": "https://github.com/trufflesuite/truffle/issues/2440#issuecomment-541407985",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2440",
    "id": 541407985,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU0MTQwNzk4NQ==",
    "user": {
      "login": "chebykin",
      "id": 2095757,
      "node_id": "MDQ6VXNlcjIwOTU3NTc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2095757?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chebykin",
      "html_url": "https://github.com/chebykin",
      "followers_url": "https://api.github.com/users/chebykin/followers",
      "following_url": "https://api.github.com/users/chebykin/following{/other_user}",
      "gists_url": "https://api.github.com/users/chebykin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chebykin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chebykin/subscriptions",
      "organizations_url": "https://api.github.com/users/chebykin/orgs",
      "repos_url": "https://api.github.com/users/chebykin/repos",
      "events_url": "https://api.github.com/users/chebykin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chebykin/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-10-13T10:54:06Z",
    "updated_at": "2019-10-13T10:54:06Z",
    "author_association": "CONTRIBUTOR",
    "body": "Ok, I see that things are more complex than I thought. Thank you for the answers!\r\n\r\nIf someone is looking for including non-bundled truffle packages I found the following hack. In your `package.json` file instead of including `truffle` package into your dependencies, include `@truffle/core` and `@truffle/environment`:\r\n\r\n```javascript\r\n{\r\n    \"@truffle/core\": \"^5.0.38\",\r\n    \"@truffle/environment\": \"^0.1.14\",\r\n    ...\r\n}\r\n```\r\n\r\nI was able to compile my contracts and run test cases, but there was a problem with BN object compatibility which doesn't appear in the full bundled `truffle` version. I didn't check migrations too.\r\n\r\nI've got my answerðŸ˜Š so I'm closing the ticket. Thanks again!",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/541407985/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
