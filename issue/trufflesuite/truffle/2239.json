{
  "url": "https://api.github.com/repos/trufflesuite/truffle/issues/2239",
  "repository_url": "https://api.github.com/repos/trufflesuite/truffle",
  "labels_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2239/labels{/name}",
  "comments_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2239/comments",
  "events_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2239/events",
  "html_url": "https://github.com/trufflesuite/truffle/issues/2239",
  "id": 470807820,
  "node_id": "MDU6SXNzdWU0NzA4MDc4MjA=",
  "number": 2239,
  "title": "Contracts in a subdirectory are compiled every time running `truffle test`",
  "user": {
    "login": "samajammin",
    "id": 8097623,
    "node_id": "MDQ6VXNlcjgwOTc2MjM=",
    "avatar_url": "https://avatars.githubusercontent.com/u/8097623?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/samajammin",
    "html_url": "https://github.com/samajammin",
    "followers_url": "https://api.github.com/users/samajammin/followers",
    "following_url": "https://api.github.com/users/samajammin/following{/other_user}",
    "gists_url": "https://api.github.com/users/samajammin/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/samajammin/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/samajammin/subscriptions",
    "organizations_url": "https://api.github.com/users/samajammin/orgs",
    "repos_url": "https://api.github.com/users/samajammin/repos",
    "events_url": "https://api.github.com/users/samajammin/events{/privacy}",
    "received_events_url": "https://api.github.com/users/samajammin/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 644098328,
      "node_id": "MDU6TGFiZWw2NDQwOTgzMjg=",
      "url": "https://api.github.com/repos/trufflesuite/truffle/labels/needs%20reproduced",
      "name": "needs reproduced",
      "color": "fbca04",
      "default": false,
      "description": null
    },
    {
      "id": 1403343142,
      "node_id": "MDU6TGFiZWwxNDAzMzQzMTQy",
      "url": "https://api.github.com/repos/trufflesuite/truffle/labels/needs%20investigated",
      "name": "needs investigated",
      "color": "b7410e",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 4,
  "created_at": "2019-07-21T18:01:32Z",
  "updated_at": "2019-11-09T00:24:39Z",
  "closed_at": "2019-10-02T17:41:40Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "- [x] I've asked for help in the [Truffle Gitter](http://gitter.im/Consensys/truffle) before filing this issue.\r\n\r\n---------------------------\r\n\r\n## Issue\r\n\r\nDiscussed this with @CruzMolina  & we believe this is a separate issue from https://github.com/trufflesuite/truffle/issues/469 \r\n\r\nI have a [large number of contracts in a subdirectory for development purposes](https://github.com/sbrichards/etherswing/tree/master/contracts). I will never edit these contracts and therefore do not want to recompile them yet running `truffle test` recompiles all of these contracts every time.\r\n\r\n## Steps to Reproduce\r\n\r\n- Run `truffle compile`\r\n- Run `truffle test`\r\n\r\n## Expected Behavior\r\n\r\nMy understanding was you could prevent contracts in the contract folder from being recompiled by compiling them separately before running tests.\r\n\r\n## Actual Results\r\n\r\nWhen I:\r\n- Run `truffle compile`\r\n- Run `truffle test`\r\n\r\nAll contracts in my subdirectory are recompiled every time. Full log output here:\r\nhttps://gist.github.com/sbrichards/e057c51042bf509082bba35cb95d5498\r\n\r\n## Environment\r\n\r\n* Operating System: macOS Mojave 10.14.5.\r\n* Ethereum client: Ganache\r\n```\r\n$ truffle version\r\nTruffle v5.0.21 (core: 5.0.21)\r\nSolidity - 0.4.24 (solc-js)\r\nNode v10.13.0\r\nWeb3.js v1.0.0-beta.37\r\n```\r\n",
  "closed_by": {
    "login": "gnidan",
    "id": 151065,
    "node_id": "MDQ6VXNlcjE1MTA2NQ==",
    "avatar_url": "https://avatars.githubusercontent.com/u/151065?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/gnidan",
    "html_url": "https://github.com/gnidan",
    "followers_url": "https://api.github.com/users/gnidan/followers",
    "following_url": "https://api.github.com/users/gnidan/following{/other_user}",
    "gists_url": "https://api.github.com/users/gnidan/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/gnidan/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/gnidan/subscriptions",
    "organizations_url": "https://api.github.com/users/gnidan/orgs",
    "repos_url": "https://api.github.com/users/gnidan/repos",
    "events_url": "https://api.github.com/users/gnidan/events{/privacy}",
    "received_events_url": "https://api.github.com/users/gnidan/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/2239/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2239/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/528021918",
    "html_url": "https://github.com/trufflesuite/truffle/issues/2239#issuecomment-528021918",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2239",
    "id": 528021918,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUyODAyMTkxOA==",
    "user": {
      "login": "fainashalts",
      "id": 8952139,
      "node_id": "MDQ6VXNlcjg5NTIxMzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8952139?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fainashalts",
      "html_url": "https://github.com/fainashalts",
      "followers_url": "https://api.github.com/users/fainashalts/followers",
      "following_url": "https://api.github.com/users/fainashalts/following{/other_user}",
      "gists_url": "https://api.github.com/users/fainashalts/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fainashalts/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fainashalts/subscriptions",
      "organizations_url": "https://api.github.com/users/fainashalts/orgs",
      "repos_url": "https://api.github.com/users/fainashalts/repos",
      "events_url": "https://api.github.com/users/fainashalts/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fainashalts/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-09-04T18:16:18Z",
    "updated_at": "2019-09-04T18:16:18Z",
    "author_association": "MEMBER",
    "body": "HI @sbrichards can you upgrade to the latest Truffle version and see if you issue is fixed? @CruzMolina tried to reproduce and everything seemed ok. Thanks!",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/528021918/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/537602971",
    "html_url": "https://github.com/trufflesuite/truffle/issues/2239#issuecomment-537602971",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2239",
    "id": 537602971,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUzNzYwMjk3MQ==",
    "user": {
      "login": "gnidan",
      "id": 151065,
      "node_id": "MDQ6VXNlcjE1MTA2NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/151065?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gnidan",
      "html_url": "https://github.com/gnidan",
      "followers_url": "https://api.github.com/users/gnidan/followers",
      "following_url": "https://api.github.com/users/gnidan/following{/other_user}",
      "gists_url": "https://api.github.com/users/gnidan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gnidan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gnidan/subscriptions",
      "organizations_url": "https://api.github.com/users/gnidan/orgs",
      "repos_url": "https://api.github.com/users/gnidan/repos",
      "events_url": "https://api.github.com/users/gnidan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gnidan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-10-02T17:41:40Z",
    "updated_at": "2019-10-02T17:41:40Z",
    "author_association": "MEMBER",
    "body": "@samajammin closing this for issue maintenance... but I have a feeling this hasn't gone away so let us know if you get the chance to try a newer version!",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/537602971/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/538009343",
    "html_url": "https://github.com/trufflesuite/truffle/issues/2239#issuecomment-538009343",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2239",
    "id": 538009343,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUzODAwOTM0Mw==",
    "user": {
      "login": "olekon",
      "id": 29893822,
      "node_id": "MDQ6VXNlcjI5ODkzODIy",
      "avatar_url": "https://avatars.githubusercontent.com/u/29893822?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/olekon",
      "html_url": "https://github.com/olekon",
      "followers_url": "https://api.github.com/users/olekon/followers",
      "following_url": "https://api.github.com/users/olekon/following{/other_user}",
      "gists_url": "https://api.github.com/users/olekon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/olekon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/olekon/subscriptions",
      "organizations_url": "https://api.github.com/users/olekon/orgs",
      "repos_url": "https://api.github.com/users/olekon/repos",
      "events_url": "https://api.github.com/users/olekon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/olekon/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-10-03T16:00:12Z",
    "updated_at": "2019-10-03T16:00:12Z",
    "author_association": "NONE",
    "body": "The issue still persists in 5.0.39\r\n\r\nTruffle v5.0.39 (core: 5.0.39)\r\nSolidity - 0.5.12 (solc-js)\r\nNode v10.15.1\r\nWeb3.js v1.2.1\r\n\r\nWould it be better just to introduce a flag for truffle-config.js that if turned on would skip the compilation process at all when running `truffle test`?",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/538009343/reactions",
      "total_count": 2,
      "+1": 2,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/552041859",
    "html_url": "https://github.com/trufflesuite/truffle/issues/2239#issuecomment-552041859",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2239",
    "id": 552041859,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU1MjA0MTg1OQ==",
    "user": {
      "login": "jjgonecrypto",
      "id": 799038,
      "node_id": "MDQ6VXNlcjc5OTAzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/799038?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jjgonecrypto",
      "html_url": "https://github.com/jjgonecrypto",
      "followers_url": "https://api.github.com/users/jjgonecrypto/followers",
      "following_url": "https://api.github.com/users/jjgonecrypto/following{/other_user}",
      "gists_url": "https://api.github.com/users/jjgonecrypto/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jjgonecrypto/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jjgonecrypto/subscriptions",
      "organizations_url": "https://api.github.com/users/jjgonecrypto/orgs",
      "repos_url": "https://api.github.com/users/jjgonecrypto/repos",
      "events_url": "https://api.github.com/users/jjgonecrypto/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jjgonecrypto/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-11-09T00:24:39Z",
    "updated_at": "2019-11-09T00:24:39Z",
    "author_association": "NONE",
    "body": "I'm getting this also in CircleCI. I am caching and restoring the `build` folder  between processes - is there a `tmp` file or some such where truffle caches the last compilation time? Either way, a flag on `truffle test` seems like an easy win.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/552041859/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
