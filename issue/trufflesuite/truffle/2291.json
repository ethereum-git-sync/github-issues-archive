{
  "url": "https://api.github.com/repos/trufflesuite/truffle/issues/2291",
  "repository_url": "https://api.github.com/repos/trufflesuite/truffle",
  "labels_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2291/labels{/name}",
  "comments_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2291/comments",
  "events_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2291/events",
  "html_url": "https://github.com/trufflesuite/truffle/issues/2291",
  "id": 479927161,
  "node_id": "MDU6SXNzdWU0Nzk5MjcxNjE=",
  "number": 2291,
  "title": "Contract objects made with Contract.deployed() are missing transactionHash",
  "user": {
    "login": "haltman-at",
    "id": 35589221,
    "node_id": "MDQ6VXNlcjM1NTg5MjIx",
    "avatar_url": "https://avatars.githubusercontent.com/u/35589221?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/haltman-at",
    "html_url": "https://github.com/haltman-at",
    "followers_url": "https://api.github.com/users/haltman-at/followers",
    "following_url": "https://api.github.com/users/haltman-at/following{/other_user}",
    "gists_url": "https://api.github.com/users/haltman-at/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/haltman-at/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/haltman-at/subscriptions",
    "organizations_url": "https://api.github.com/users/haltman-at/orgs",
    "repos_url": "https://api.github.com/users/haltman-at/repos",
    "events_url": "https://api.github.com/users/haltman-at/events{/privacy}",
    "received_events_url": "https://api.github.com/users/haltman-at/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 230393328,
      "node_id": "MDU6TGFiZWwyMzAzOTMzMjg=",
      "url": "https://api.github.com/repos/trufflesuite/truffle/labels/enhancement",
      "name": "enhancement",
      "color": "84b6eb",
      "default": true,
      "description": null
    },
    {
      "id": 990823235,
      "node_id": "MDU6TGFiZWw5OTA4MjMyMzU=",
      "url": "https://api.github.com/repos/trufflesuite/truffle/labels/Contract",
      "name": "Contract",
      "color": "a1ea8f",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 3,
  "created_at": "2019-08-13T02:15:03Z",
  "updated_at": "2019-12-12T19:04:36Z",
  "closed_at": "2019-12-12T19:04:35Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "## Issue\r\n\r\nTruffle contract objects made with `Contract.new()` have a field `transactionHash` which gives the transaction hash of the contract's creation.  Contract objects made with `Contract.deployed()`, though, are missing this field (or rather it's equal to `undefined`).\r\n\r\nNote: These are not the only two ways to create contract objects.  For instance, there's also `Contract.at()`.  But it's probably not possible for `Contract.at()` to find this information in arbitrary cases.  That said, perhaps it could also still do it in cases where the information is somehow available.\r\n\r\n(Are there other ways of creating contract objects?  Those are the ones I'm familiar with...)\r\n\r\n## Steps to Reproduce\r\n\r\nDeploy a contract (let's call it `Contract`) with `truffle migrate` and then, in `truffle console`, type `await Contract.deployed()`.  The result will have its `transactionHash` field undefined.\r\n\r\n## Expected Behavior\r\n\r\nThe contract object should have its `transactionHash` field equal to the transaction hash of the contract's deployment.\r\n\r\n## Actual Results\r\n\r\nIt's undefined.\r\n\r\n## Environment\r\n\r\n* Operating System: Linux Mint 19.1 64-bit\r\n* Ethereum client: Ganache CLI v6.4.3 (ganache-core: 2.5.5)\r\n* Truffle version (`truffle version`): 5.0.31\r\n* node version (`node --version`): 10.15.3\r\n* npm version (`npm --version`): 6.4.1\r\n",
  "closed_by": {
    "login": "CruzMolina",
    "id": 7537712,
    "node_id": "MDQ6VXNlcjc1Mzc3MTI=",
    "avatar_url": "https://avatars.githubusercontent.com/u/7537712?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/CruzMolina",
    "html_url": "https://github.com/CruzMolina",
    "followers_url": "https://api.github.com/users/CruzMolina/followers",
    "following_url": "https://api.github.com/users/CruzMolina/following{/other_user}",
    "gists_url": "https://api.github.com/users/CruzMolina/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/CruzMolina/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/CruzMolina/subscriptions",
    "organizations_url": "https://api.github.com/users/CruzMolina/orgs",
    "repos_url": "https://api.github.com/users/CruzMolina/repos",
    "events_url": "https://api.github.com/users/CruzMolina/events{/privacy}",
    "received_events_url": "https://api.github.com/users/CruzMolina/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/2291/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2291/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/533684751",
    "html_url": "https://github.com/trufflesuite/truffle/issues/2291#issuecomment-533684751",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2291",
    "id": 533684751,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUzMzY4NDc1MQ==",
    "user": {
      "login": "eggplantzzz",
      "id": 14827965,
      "node_id": "MDQ6VXNlcjE0ODI3OTY1",
      "avatar_url": "https://avatars.githubusercontent.com/u/14827965?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eggplantzzz",
      "html_url": "https://github.com/eggplantzzz",
      "followers_url": "https://api.github.com/users/eggplantzzz/followers",
      "following_url": "https://api.github.com/users/eggplantzzz/following{/other_user}",
      "gists_url": "https://api.github.com/users/eggplantzzz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eggplantzzz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eggplantzzz/subscriptions",
      "organizations_url": "https://api.github.com/users/eggplantzzz/orgs",
      "repos_url": "https://api.github.com/users/eggplantzzz/repos",
      "events_url": "https://api.github.com/users/eggplantzzz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eggplantzzz/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-09-20T19:41:12Z",
    "updated_at": "2019-09-20T19:41:12Z",
    "author_association": "CONTRIBUTOR",
    "body": "So I'm proposing that the answer to this is to store a property like `creationTransactionHash` in the `networks.<id>` property in the artifact.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/533684751/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/533748905",
    "html_url": "https://github.com/trufflesuite/truffle/issues/2291#issuecomment-533748905",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2291",
    "id": 533748905,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUzMzc0ODkwNQ==",
    "user": {
      "login": "CruzMolina",
      "id": 7537712,
      "node_id": "MDQ6VXNlcjc1Mzc3MTI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7537712?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/CruzMolina",
      "html_url": "https://github.com/CruzMolina",
      "followers_url": "https://api.github.com/users/CruzMolina/followers",
      "following_url": "https://api.github.com/users/CruzMolina/following{/other_user}",
      "gists_url": "https://api.github.com/users/CruzMolina/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/CruzMolina/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/CruzMolina/subscriptions",
      "organizations_url": "https://api.github.com/users/CruzMolina/orgs",
      "repos_url": "https://api.github.com/users/CruzMolina/repos",
      "events_url": "https://api.github.com/users/CruzMolina/events{/privacy}",
      "received_events_url": "https://api.github.com/users/CruzMolina/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-09-21T00:08:36Z",
    "updated_at": "2019-09-21T00:08:36Z",
    "author_association": "CONTRIBUTOR",
    "body": "Looks like this already part of the artifact spec as `transactionHash`: https://github.com/trufflesuite/truffle/blob/develop/packages/contract-schema/spec/network-object.spec.json#L9\r\n\r\nI imagine the fix is to add the hash in same area where events are saved in the codebase.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/533748905/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/565140586",
    "html_url": "https://github.com/trufflesuite/truffle/issues/2291#issuecomment-565140586",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2291",
    "id": 565140586,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU2NTE0MDU4Ng==",
    "user": {
      "login": "CruzMolina",
      "id": 7537712,
      "node_id": "MDQ6VXNlcjc1Mzc3MTI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7537712?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/CruzMolina",
      "html_url": "https://github.com/CruzMolina",
      "followers_url": "https://api.github.com/users/CruzMolina/followers",
      "following_url": "https://api.github.com/users/CruzMolina/following{/other_user}",
      "gists_url": "https://api.github.com/users/CruzMolina/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/CruzMolina/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/CruzMolina/subscriptions",
      "organizations_url": "https://api.github.com/users/CruzMolina/orgs",
      "repos_url": "https://api.github.com/users/CruzMolina/repos",
      "events_url": "https://api.github.com/users/CruzMolina/events{/privacy}",
      "received_events_url": "https://api.github.com/users/CruzMolina/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-12-12T19:04:35Z",
    "updated_at": "2019-12-12T19:04:35Z",
    "author_association": "CONTRIBUTOR",
    "body": "Closing since I believe this has been resolved by #2466.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/565140586/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
