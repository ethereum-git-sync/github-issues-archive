{
  "url": "https://api.github.com/repos/trufflesuite/truffle/issues/1738",
  "repository_url": "https://api.github.com/repos/trufflesuite/truffle",
  "labels_url": "https://api.github.com/repos/trufflesuite/truffle/issues/1738/labels{/name}",
  "comments_url": "https://api.github.com/repos/trufflesuite/truffle/issues/1738/comments",
  "events_url": "https://api.github.com/repos/trufflesuite/truffle/issues/1738/events",
  "html_url": "https://github.com/trufflesuite/truffle/issues/1738",
  "id": 413140921,
  "node_id": "MDU6SXNzdWU0MTMxNDA5MjE=",
  "number": 1738,
  "title": "Migrations.json networks field empty",
  "user": {
    "login": "honestbonsai",
    "id": 36248745,
    "node_id": "MDQ6VXNlcjM2MjQ4NzQ1",
    "avatar_url": "https://avatars.githubusercontent.com/u/36248745?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/honestbonsai",
    "html_url": "https://github.com/honestbonsai",
    "followers_url": "https://api.github.com/users/honestbonsai/followers",
    "following_url": "https://api.github.com/users/honestbonsai/following{/other_user}",
    "gists_url": "https://api.github.com/users/honestbonsai/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/honestbonsai/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/honestbonsai/subscriptions",
    "organizations_url": "https://api.github.com/users/honestbonsai/orgs",
    "repos_url": "https://api.github.com/users/honestbonsai/repos",
    "events_url": "https://api.github.com/users/honestbonsai/events{/privacy}",
    "received_events_url": "https://api.github.com/users/honestbonsai/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 3,
  "created_at": "2019-02-21T21:53:26Z",
  "updated_at": "2019-09-09T02:10:52Z",
  "closed_at": "2019-02-27T18:53:07Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "## Issue\r\n\r\n`truffle migrate` doesnâ€™t seem to write anything to the `networks` field in `Migrations.json`. is that a bug or is `Migrations.json` treated specially apart from other deployed contracts?\r\n\r\nRelated ganache issue https://github.com/trufflesuite/ganache/issues/1128#issuecomment-466143182\r\n\r\nI could try looking into this if someone can point me in the right direction.\r\n\r\n## Steps to Reproduce\r\n\r\nSame as trufflesuite/ganache#1128\r\n\r\n## Expected Behavior\r\n\r\n`Migrations.json` `network` field shouldn't be empty. The proper address shows up in the terminal window. I'd expect the `network` field to reflect the same info.\r\n\r\n## Actual Results\r\n\r\n`network` field is empty\r\n\r\n## Environment\r\n\r\n* Operating System: Mac Mojave 10.14.2\r\n* Ethereum client:\r\n* Truffle version (`truffle version`): 5.0.0\r\n* node version (`node --version`): 10.9.0\r\n* npm version (`npm --version`): 6.4.1\r\n",
  "closed_by": {
    "login": "honestbonsai",
    "id": 36248745,
    "node_id": "MDQ6VXNlcjM2MjQ4NzQ1",
    "avatar_url": "https://avatars.githubusercontent.com/u/36248745?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/honestbonsai",
    "html_url": "https://github.com/honestbonsai",
    "followers_url": "https://api.github.com/users/honestbonsai/followers",
    "following_url": "https://api.github.com/users/honestbonsai/following{/other_user}",
    "gists_url": "https://api.github.com/users/honestbonsai/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/honestbonsai/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/honestbonsai/subscriptions",
    "organizations_url": "https://api.github.com/users/honestbonsai/orgs",
    "repos_url": "https://api.github.com/users/honestbonsai/repos",
    "events_url": "https://api.github.com/users/honestbonsai/events{/privacy}",
    "received_events_url": "https://api.github.com/users/honestbonsai/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/1738/reactions",
    "total_count": 2,
    "+1": 2,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/trufflesuite/truffle/issues/1738/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/466519319",
    "html_url": "https://github.com/trufflesuite/truffle/issues/1738#issuecomment-466519319",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/1738",
    "id": 466519319,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2NjUxOTMxOQ==",
    "user": {
      "login": "honestbonsai",
      "id": 36248745,
      "node_id": "MDQ6VXNlcjM2MjQ4NzQ1",
      "avatar_url": "https://avatars.githubusercontent.com/u/36248745?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/honestbonsai",
      "html_url": "https://github.com/honestbonsai",
      "followers_url": "https://api.github.com/users/honestbonsai/followers",
      "following_url": "https://api.github.com/users/honestbonsai/following{/other_user}",
      "gists_url": "https://api.github.com/users/honestbonsai/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/honestbonsai/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/honestbonsai/subscriptions",
      "organizations_url": "https://api.github.com/users/honestbonsai/orgs",
      "repos_url": "https://api.github.com/users/honestbonsai/repos",
      "events_url": "https://api.github.com/users/honestbonsai/events{/privacy}",
      "received_events_url": "https://api.github.com/users/honestbonsai/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-02-22T19:34:01Z",
    "updated_at": "2019-02-22T20:26:02Z",
    "author_association": "CONTRIBUTOR",
    "body": "If you log out `resolve.contracts()` here: https://github.com/trufflesuite/truffle/blob/develop/packages/truffle-migrate/migration.js#L117\r\n\r\nthere's always an empty Migrations object at the end of the array. I'm guessing that overwrites the original non-empty Migrations object.\r\n\r\n```\r\nStarting migrations...\r\n======================\r\n> Network name:    'ganache'\r\n> Network id:      5777\r\n> Block gas limit: 6721975\r\n\r\n\r\n1_initial_migration.js\r\n======================\r\n\r\n   Deploying 'Migrations'\r\n   ----------------------\r\n   > transaction hash:    0xed940c9f801389a1b8676ef45199ab52467befda3a0bf8c410c8be6e04c69515\r\n   > Blocks: 0            Seconds: 0\r\n   > contract address:    0xb7e5aDA767458702B9cCdeE90569871B4e3c9025\r\n   > account:             0x9827CfC78824baDa5c1A4802197fC5646DD8F5E3\r\n   > balance:             99.11392156\r\n   > gas used:            284908\r\n   > gas price:           20 gwei\r\n   > value sent:          0 ETH\r\n   > total cost:          0.00569816 ETH\r\n\r\n   > Saving artifacts\r\n   -------------------------------------\r\n   > Total cost:          0.00569816 ETH\r\n\r\nresolverIntercept.contracts [ 'Migrations', './Migrations' ]\r\n0 'Migrations' { '5777':\r\n   { events: {},\r\n     links: {},\r\n     address: '0xb7e5aDA767458702B9cCdeE90569871B4e3c9025',\r\n     transactionHash:\r\n      '0xed940c9f801389a1b8676ef45199ab52467befda3a0bf8c410c8be6e04c69515' } }\r\n1 'Migrations' {}\r\n\r\n2_deploy_contracts.js\r\n=====================\r\n\r\n   Replacing 'SimpleStorage'\r\n   -------------------------\r\n   > transaction hash:    0xe0c27084b279898375c9e756951b9101adbb795bd0490b0905c505550df3a777\r\n   > Blocks: 0            Seconds: 0\r\n   > contract address:    0xcED2B31b5D4537F7774470b0F9b1f6c05e759109\r\n   > account:             0x9827CfC78824baDa5c1A4802197fC5646DD8F5E3\r\n   > balance:             99.1110313\r\n   > gas used:            144513\r\n   > gas price:           20 gwei\r\n   > value sent:          0 ETH\r\n   > total cost:          0.00289026 ETH\r\n\r\n\r\n   Replacing 'TutorialToken'\r\n   -------------------------\r\n   > transaction hash:    0x8ece6ae1e9aac15de1051c0c24ff086698b9d9d9ce63d82ddc211cd577d1a064\r\n   > Blocks: 0            Seconds: 0\r\n   > contract address:    0x49f48e41a6C6b05aa82405a7786b45b6aFa297B1\r\n   > account:             0x9827CfC78824baDa5c1A4802197fC5646DD8F5E3\r\n   > balance:             99.08234308\r\n   > gas used:            1434411\r\n   > gas price:           20 gwei\r\n   > value sent:          0 ETH\r\n   > total cost:          0.02868822 ETH\r\n\r\n\r\n   Replacing 'ComplexStorage'\r\n   --------------------------\r\n   > transaction hash:    0x5f3a4649ba17f441b3b0ac46c13a28449a9d422617a2213d67de161b9f56bc9c\r\n   > Blocks: 0            Seconds: 0\r\n   > contract address:    0xef8756ffCEAc230B8B923d033C5b688155d4442B\r\n   > account:             0x9827CfC78824baDa5c1A4802197fC5646DD8F5E3\r\n   > balance:             99.05233648\r\n   > gas used:            1500330\r\n   > gas price:           20 gwei\r\n   > value sent:          0 ETH\r\n   > total cost:          0.0300066 ETH\r\n\r\n   > Saving artifacts\r\n   -------------------------------------\r\n   > Total cost:          0.06158508 ETH\r\n\r\n\r\nSummary\r\n=======\r\n> Total deployments:   4\r\n> Final cost:          0.06728324 ETH\r\n\r\nresolverIntercept.contracts [ 'SimpleStorage',\r\n  'TutorialToken',\r\n  'ComplexStorage',\r\n  './Migrations' ]\r\n0 'SimpleStorage' { '5777':\r\n   { events: {},\r\n     links: {},\r\n     address: '0xcED2B31b5D4537F7774470b0F9b1f6c05e759109',\r\n     transactionHash:\r\n      '0xe0c27084b279898375c9e756951b9101adbb795bd0490b0905c505550df3a777' } }\r\n1 'TutorialToken' { '5777':\r\n   { events:\r\n      { '0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef': [Object],\r\n        '0x8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925': [Object] },\r\n     links: {},\r\n     address: '0x49f48e41a6C6b05aa82405a7786b45b6aFa297B1',\r\n     transactionHash:\r\n      '0x8ece6ae1e9aac15de1051c0c24ff086698b9d9d9ce63d82ddc211cd577d1a064' } }\r\n2 'ComplexStorage' { '5777':\r\n   { events: {},\r\n     links: {},\r\n     address: '0xef8756ffCEAc230B8B923d033C5b688155d4442B',\r\n     transactionHash:\r\n      '0x5f3a4649ba17f441b3b0ac46c13a28449a9d422617a2213d67de161b9f56bc9c' } }\r\n3 'Migrations' {}\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/466519319/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/466533358",
    "html_url": "https://github.com/trufflesuite/truffle/issues/1738#issuecomment-466533358",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/1738",
    "id": 466533358,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2NjUzMzM1OA==",
    "user": {
      "login": "honestbonsai",
      "id": 36248745,
      "node_id": "MDQ6VXNlcjM2MjQ4NzQ1",
      "avatar_url": "https://avatars.githubusercontent.com/u/36248745?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/honestbonsai",
      "html_url": "https://github.com/honestbonsai",
      "followers_url": "https://api.github.com/users/honestbonsai/followers",
      "following_url": "https://api.github.com/users/honestbonsai/following{/other_user}",
      "gists_url": "https://api.github.com/users/honestbonsai/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/honestbonsai/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/honestbonsai/subscriptions",
      "organizations_url": "https://api.github.com/users/honestbonsai/orgs",
      "repos_url": "https://api.github.com/users/honestbonsai/repos",
      "events_url": "https://api.github.com/users/honestbonsai/events{/privacy}",
      "received_events_url": "https://api.github.com/users/honestbonsai/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-02-22T20:18:58Z",
    "updated_at": "2019-02-22T20:18:58Z",
    "author_association": "CONTRIBUTOR",
    "body": "Ok I think I solved it, will submit a PR",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/466533358/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/467984855",
    "html_url": "https://github.com/trufflesuite/truffle/issues/1738#issuecomment-467984855",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/1738",
    "id": 467984855,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2Nzk4NDg1NQ==",
    "user": {
      "login": "honestbonsai",
      "id": 36248745,
      "node_id": "MDQ6VXNlcjM2MjQ4NzQ1",
      "avatar_url": "https://avatars.githubusercontent.com/u/36248745?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/honestbonsai",
      "html_url": "https://github.com/honestbonsai",
      "followers_url": "https://api.github.com/users/honestbonsai/followers",
      "following_url": "https://api.github.com/users/honestbonsai/following{/other_user}",
      "gists_url": "https://api.github.com/users/honestbonsai/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/honestbonsai/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/honestbonsai/subscriptions",
      "organizations_url": "https://api.github.com/users/honestbonsai/orgs",
      "repos_url": "https://api.github.com/users/honestbonsai/repos",
      "events_url": "https://api.github.com/users/honestbonsai/events{/privacy}",
      "received_events_url": "https://api.github.com/users/honestbonsai/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-02-27T18:53:07Z",
    "updated_at": "2019-02-27T18:53:14Z",
    "author_association": "CONTRIBUTOR",
    "body": "Fixed by #1763",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/467984855/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
