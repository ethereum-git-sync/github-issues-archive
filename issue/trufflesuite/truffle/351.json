{
  "url": "https://api.github.com/repos/trufflesuite/truffle/issues/351",
  "repository_url": "https://api.github.com/repos/trufflesuite/truffle",
  "labels_url": "https://api.github.com/repos/trufflesuite/truffle/issues/351/labels{/name}",
  "comments_url": "https://api.github.com/repos/trufflesuite/truffle/issues/351/comments",
  "events_url": "https://api.github.com/repos/trufflesuite/truffle/issues/351/events",
  "html_url": "https://github.com/trufflesuite/truffle/issues/351",
  "id": 205932587,
  "node_id": "MDU6SXNzdWUyMDU5MzI1ODc=",
  "number": 351,
  "title": "`truffle init` in VM shared folder",
  "user": {
    "login": "xavierlepretre",
    "id": 5309374,
    "node_id": "MDQ6VXNlcjUzMDkzNzQ=",
    "avatar_url": "https://avatars.githubusercontent.com/u/5309374?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/xavierlepretre",
    "html_url": "https://github.com/xavierlepretre",
    "followers_url": "https://api.github.com/users/xavierlepretre/followers",
    "following_url": "https://api.github.com/users/xavierlepretre/following{/other_user}",
    "gists_url": "https://api.github.com/users/xavierlepretre/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/xavierlepretre/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/xavierlepretre/subscriptions",
    "organizations_url": "https://api.github.com/users/xavierlepretre/orgs",
    "repos_url": "https://api.github.com/users/xavierlepretre/repos",
    "events_url": "https://api.github.com/users/xavierlepretre/events{/privacy}",
    "received_events_url": "https://api.github.com/users/xavierlepretre/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 5,
  "created_at": "2017-02-07T16:00:37Z",
  "updated_at": "2017-02-09T17:58:21Z",
  "closed_at": "2017-02-09T17:58:21Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "- [ ] I've asked for help in the [Truffle Gitter](http://gitter.im/Consensys/truffle) before filing this issue.\r\n\r\n---------------------------\r\n\r\n## Issue\r\nWith Truffle 3.1.1, when I run `truffle init` in a folder that is shared between the VM and its host, I get an error message about `cross-device link not permitted`.\r\n\r\n## Steps to Reproduce\r\n\r\n* Create a VirtualBox VM with Ubuntu Trusty 64, in this case with Vagrant\r\n* Share a folder between host and VM, in this case named `'/home/vagrant/DAPPS` in VM\r\n* Install Truffle 3.1.1 in VM\r\n* Go to a subfolder of the shared folder in VM, in this case `'/home/vagrant/DAPPS/temp1`\r\n* run `truffle init` in VM\r\n\r\n## Expected Behavior\r\n\r\nI expect it to create the MetaCoin project.\r\n\r\n## Actual Results\r\n\r\n```sh\r\n$ truffle init\r\n        Downloading project...\r\nevents.js:160\r\n      throw er; // Unhandled 'error' event\r\n      ^\r\n\r\nError: EXDEV: cross-device link not permitted, rename '/home/vagrant/DAPPS/temp1/1486478769218-3521399717528142/truffle-init-default-master' -> '/tmp/default-11717-22397-hs20ew.pvdy8hbyb9'\r\n    at Error (native)\r\n```\r\n\r\n## Environment\r\n\r\n* Operating System:\r\n- VM: Linux vagrant-ubuntu-trusty-64 3.13.0-107-generic #154-Ubuntu SMP Tue Dec 20 09:57:27 UTC 2016 x86_64 x86_64 x86_64 GNU/Linux\r\n- Host: MacOS 10.12.3\r\n- VirtualBox 5.1.14\r\n* Truffle version: 3.1.1\r\n* Ethereum client: TestRPC 3.0.3 but should be irrelevant\r\n* node version: 6.9.5\r\n* npm version: 3.10.10\r\n",
  "closed_by": {
    "login": "tcoulter",
    "id": 92629,
    "node_id": "MDQ6VXNlcjkyNjI5",
    "avatar_url": "https://avatars.githubusercontent.com/u/92629?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/tcoulter",
    "html_url": "https://github.com/tcoulter",
    "followers_url": "https://api.github.com/users/tcoulter/followers",
    "following_url": "https://api.github.com/users/tcoulter/following{/other_user}",
    "gists_url": "https://api.github.com/users/tcoulter/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/tcoulter/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/tcoulter/subscriptions",
    "organizations_url": "https://api.github.com/users/tcoulter/orgs",
    "repos_url": "https://api.github.com/users/tcoulter/repos",
    "events_url": "https://api.github.com/users/tcoulter/events{/privacy}",
    "received_events_url": "https://api.github.com/users/tcoulter/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/351/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/trufflesuite/truffle/issues/351/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/278047852",
    "html_url": "https://github.com/trufflesuite/truffle/issues/351#issuecomment-278047852",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/351",
    "id": 278047852,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3ODA0Nzg1Mg==",
    "user": {
      "login": "tcoulter",
      "id": 92629,
      "node_id": "MDQ6VXNlcjkyNjI5",
      "avatar_url": "https://avatars.githubusercontent.com/u/92629?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tcoulter",
      "html_url": "https://github.com/tcoulter",
      "followers_url": "https://api.github.com/users/tcoulter/followers",
      "following_url": "https://api.github.com/users/tcoulter/following{/other_user}",
      "gists_url": "https://api.github.com/users/tcoulter/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tcoulter/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tcoulter/subscriptions",
      "organizations_url": "https://api.github.com/users/tcoulter/orgs",
      "repos_url": "https://api.github.com/users/tcoulter/repos",
      "events_url": "https://api.github.com/users/tcoulter/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tcoulter/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-02-07T16:11:12Z",
    "updated_at": "2017-02-07T16:11:12Z",
    "author_association": "CONTRIBUTOR",
    "body": "I've found this error on a Windows machine but I'm surprised you're seeing it on Linux. The issue is that the system-wide temp directory exists on a different physical device than your project directory. During init, the example project is downloaded to the temp directory and then moved to your project directory. I'm not entirely sure why this is an error, and why you can't have cross device links. I'll have to look further into it, but any help would be much appreciated.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/278047852/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/278078088",
    "html_url": "https://github.com/trufflesuite/truffle/issues/351#issuecomment-278078088",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/351",
    "id": 278078088,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3ODA3ODA4OA==",
    "user": {
      "login": "xavierlepretre",
      "id": 5309374,
      "node_id": "MDQ6VXNlcjUzMDkzNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5309374?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/xavierlepretre",
      "html_url": "https://github.com/xavierlepretre",
      "followers_url": "https://api.github.com/users/xavierlepretre/followers",
      "following_url": "https://api.github.com/users/xavierlepretre/following{/other_user}",
      "gists_url": "https://api.github.com/users/xavierlepretre/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/xavierlepretre/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/xavierlepretre/subscriptions",
      "organizations_url": "https://api.github.com/users/xavierlepretre/orgs",
      "repos_url": "https://api.github.com/users/xavierlepretre/repos",
      "events_url": "https://api.github.com/users/xavierlepretre/events{/privacy}",
      "received_events_url": "https://api.github.com/users/xavierlepretre/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-02-07T17:38:46Z",
    "updated_at": "2017-02-07T17:38:46Z",
    "author_association": "NONE",
    "body": "It looks like some people have covered it in at least one package:\r\n\r\n* https://www.npmjs.com/package/mv\r\n* https://www.npmjs.com/package/node-mv",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/278078088/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/278199673",
    "html_url": "https://github.com/trufflesuite/truffle/issues/351#issuecomment-278199673",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/351",
    "id": 278199673,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3ODE5OTY3Mw==",
    "user": {
      "login": "locklin",
      "id": 1262651,
      "node_id": "MDQ6VXNlcjEyNjI2NTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1262651?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/locklin",
      "html_url": "https://github.com/locklin",
      "followers_url": "https://api.github.com/users/locklin/followers",
      "following_url": "https://api.github.com/users/locklin/following{/other_user}",
      "gists_url": "https://api.github.com/users/locklin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/locklin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/locklin/subscriptions",
      "organizations_url": "https://api.github.com/users/locklin/orgs",
      "repos_url": "https://api.github.com/users/locklin/repos",
      "events_url": "https://api.github.com/users/locklin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/locklin/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-02-08T01:21:50Z",
    "updated_at": "2017-02-08T01:21:50Z",
    "author_association": "NONE",
    "body": "I actually have this issue in a stock linux-mint-17 system (my /tmp is on a different partition from /home). \r\nI thought \r\nnpm config set tmp /home/scott/tmp \r\nshould fix things, but it seems to have a hard coded /tmp somewhere in the code.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/278199673/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/278293747",
    "html_url": "https://github.com/trufflesuite/truffle/issues/351#issuecomment-278293747",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/351",
    "id": 278293747,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3ODI5Mzc0Nw==",
    "user": {
      "login": "tkeber",
      "id": 7631516,
      "node_id": "MDQ6VXNlcjc2MzE1MTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7631516?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tkeber",
      "html_url": "https://github.com/tkeber",
      "followers_url": "https://api.github.com/users/tkeber/followers",
      "following_url": "https://api.github.com/users/tkeber/following{/other_user}",
      "gists_url": "https://api.github.com/users/tkeber/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tkeber/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tkeber/subscriptions",
      "organizations_url": "https://api.github.com/users/tkeber/orgs",
      "repos_url": "https://api.github.com/users/tkeber/repos",
      "events_url": "https://api.github.com/users/tkeber/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tkeber/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-02-08T10:44:59Z",
    "updated_at": "2017-02-08T10:52:19Z",
    "author_association": "NONE",
    "body": "I saw this as well on ubuntu with /home and /tmp in different partitions.\r\n\r\nsimple workaround is to set the TEMP env var to a directory in the same partition as your project, e.g.\r\n    \r\n    TEMP=~/tmp truffle init\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/278293747/reactions",
      "total_count": 2,
      "+1": 2,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/278721089",
    "html_url": "https://github.com/trufflesuite/truffle/issues/351#issuecomment-278721089",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/351",
    "id": 278721089,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3ODcyMTA4OQ==",
    "user": {
      "login": "tcoulter",
      "id": 92629,
      "node_id": "MDQ6VXNlcjkyNjI5",
      "avatar_url": "https://avatars.githubusercontent.com/u/92629?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tcoulter",
      "html_url": "https://github.com/tcoulter",
      "followers_url": "https://api.github.com/users/tcoulter/followers",
      "following_url": "https://api.github.com/users/tcoulter/following{/other_user}",
      "gists_url": "https://api.github.com/users/tcoulter/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tcoulter/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tcoulter/subscriptions",
      "organizations_url": "https://api.github.com/users/tcoulter/orgs",
      "repos_url": "https://api.github.com/users/tcoulter/repos",
      "events_url": "https://api.github.com/users/tcoulter/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tcoulter/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-02-09T17:58:21Z",
    "updated_at": "2017-02-09T17:58:21Z",
    "author_association": "CONTRIBUTOR",
    "body": "Fixed this by creating our own temporary directory within the current working directory (I'd use the `mv` module, but unfortunately the issue is in the github downloader dependency). Since this was fixed in one of Truffle's dependencies, you can get the updated version by uninstalling then reinstalling Truffle. Truffle's version number will remain the same. \r\n\r\nCheers! Thanks for the report!",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/278721089/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
