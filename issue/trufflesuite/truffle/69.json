{
  "url": "https://api.github.com/repos/trufflesuite/truffle/issues/69",
  "repository_url": "https://api.github.com/repos/trufflesuite/truffle",
  "labels_url": "https://api.github.com/repos/trufflesuite/truffle/issues/69/labels{/name}",
  "comments_url": "https://api.github.com/repos/trufflesuite/truffle/issues/69/comments",
  "events_url": "https://api.github.com/repos/trufflesuite/truffle/issues/69/events",
  "html_url": "https://github.com/trufflesuite/truffle/issues/69",
  "id": 124130721,
  "node_id": "MDU6SXNzdWUxMjQxMzA3MjE=",
  "number": 69,
  "title": "Problems with current `master` branch.",
  "user": {
    "login": "danfinlay",
    "id": 542863,
    "node_id": "MDQ6VXNlcjU0Mjg2Mw==",
    "avatar_url": "https://avatars.githubusercontent.com/u/542863?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/danfinlay",
    "html_url": "https://github.com/danfinlay",
    "followers_url": "https://api.github.com/users/danfinlay/followers",
    "following_url": "https://api.github.com/users/danfinlay/following{/other_user}",
    "gists_url": "https://api.github.com/users/danfinlay/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/danfinlay/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/danfinlay/subscriptions",
    "organizations_url": "https://api.github.com/users/danfinlay/orgs",
    "repos_url": "https://api.github.com/users/danfinlay/repos",
    "events_url": "https://api.github.com/users/danfinlay/events{/privacy}",
    "received_events_url": "https://api.github.com/users/danfinlay/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 8,
  "created_at": "2015-12-28T21:41:04Z",
  "updated_at": "2016-02-29T04:13:16Z",
  "closed_at": "2016-01-06T22:49:25Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "Right now if I install the current `master` branch globally, running any truffle command fails with this error:\n\n```\n❯ truffle init\nTypeError: Path must be a string. Received undefined\n  at assertPath (path.js:8:11)\n  at Object.posix.join (path.js:479:5)\n```\n\nHowever, if I provide an environment argument, even in a valid truffle project, I get this error instead:\n\n```\n❯ truffle init --e development                                                                    \nCouldn't find any suitable environment. Check environment configuration.\n```\n",
  "closed_by": {
    "login": "tcoulter",
    "id": 92629,
    "node_id": "MDQ6VXNlcjkyNjI5",
    "avatar_url": "https://avatars.githubusercontent.com/u/92629?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/tcoulter",
    "html_url": "https://github.com/tcoulter",
    "followers_url": "https://api.github.com/users/tcoulter/followers",
    "following_url": "https://api.github.com/users/tcoulter/following{/other_user}",
    "gists_url": "https://api.github.com/users/tcoulter/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/tcoulter/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/tcoulter/subscriptions",
    "organizations_url": "https://api.github.com/users/tcoulter/orgs",
    "repos_url": "https://api.github.com/users/tcoulter/repos",
    "events_url": "https://api.github.com/users/tcoulter/events{/privacy}",
    "received_events_url": "https://api.github.com/users/tcoulter/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/69/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/trufflesuite/truffle/issues/69/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/168332390",
    "html_url": "https://github.com/trufflesuite/truffle/issues/69#issuecomment-168332390",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/69",
    "id": 168332390,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE2ODMzMjM5MA==",
    "user": {
      "login": "alexfisher",
      "id": 176891,
      "node_id": "MDQ6VXNlcjE3Njg5MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/176891?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexfisher",
      "html_url": "https://github.com/alexfisher",
      "followers_url": "https://api.github.com/users/alexfisher/followers",
      "following_url": "https://api.github.com/users/alexfisher/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexfisher/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexfisher/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexfisher/subscriptions",
      "organizations_url": "https://api.github.com/users/alexfisher/orgs",
      "repos_url": "https://api.github.com/users/alexfisher/repos",
      "events_url": "https://api.github.com/users/alexfisher/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexfisher/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-01-01T19:04:09Z",
    "updated_at": "2016-01-01T19:04:09Z",
    "author_association": "NONE",
    "body": "Same error here.\n",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/168332390/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/168352052",
    "html_url": "https://github.com/trufflesuite/truffle/issues/69#issuecomment-168352052",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/69",
    "id": 168352052,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE2ODM1MjA1Mg==",
    "user": {
      "login": "alexfisher",
      "id": 176891,
      "node_id": "MDQ6VXNlcjE3Njg5MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/176891?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexfisher",
      "html_url": "https://github.com/alexfisher",
      "followers_url": "https://api.github.com/users/alexfisher/followers",
      "following_url": "https://api.github.com/users/alexfisher/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexfisher/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexfisher/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexfisher/subscriptions",
      "organizations_url": "https://api.github.com/users/alexfisher/orgs",
      "repos_url": "https://api.github.com/users/alexfisher/repos",
      "events_url": "https://api.github.com/users/alexfisher/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexfisher/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-01-02T00:17:04Z",
    "updated_at": "2016-01-02T00:17:04Z",
    "author_association": "NONE",
    "body": "It looks like there might be an issue with a non-string path being sent to path.join.  I did a quick and dirty edit around line 168 of config.es6 and set config.environments.current.directory = \"\" and re-ran truffle init and it worked!\n",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/168352052/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/168353889",
    "html_url": "https://github.com/trufflesuite/truffle/issues/69#issuecomment-168353889",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/69",
    "id": 168353889,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE2ODM1Mzg4OQ==",
    "user": {
      "login": "danfinlay",
      "id": 542863,
      "node_id": "MDQ6VXNlcjU0Mjg2Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/542863?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/danfinlay",
      "html_url": "https://github.com/danfinlay",
      "followers_url": "https://api.github.com/users/danfinlay/followers",
      "following_url": "https://api.github.com/users/danfinlay/following{/other_user}",
      "gists_url": "https://api.github.com/users/danfinlay/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/danfinlay/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/danfinlay/subscriptions",
      "organizations_url": "https://api.github.com/users/danfinlay/orgs",
      "repos_url": "https://api.github.com/users/danfinlay/repos",
      "events_url": "https://api.github.com/users/danfinlay/events{/privacy}",
      "received_events_url": "https://api.github.com/users/danfinlay/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-01-02T00:58:24Z",
    "updated_at": "2016-01-02T00:58:24Z",
    "author_association": "NONE",
    "body": "Oh awesome, thanks for the tip!\n- Dan\n\n> On Jan 1, 2016, at 4:17 PM, Alex Fisher notifications@github.com wrote:\n> \n> It looks like there might be an issue with a non-string path being sent to path.join. I did a quick and dirty edit around line 168 of config.es6 and set config.environments.current.directory = \"\" and re-ran truffle init and it worked!\n> \n> —\n> Reply to this email directly or view it on GitHub.\n",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/168353889/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/168400695",
    "html_url": "https://github.com/trufflesuite/truffle/issues/69#issuecomment-168400695",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/69",
    "id": 168400695,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE2ODQwMDY5NQ==",
    "user": {
      "login": "alexfisher",
      "id": 176891,
      "node_id": "MDQ6VXNlcjE3Njg5MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/176891?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexfisher",
      "html_url": "https://github.com/alexfisher",
      "followers_url": "https://api.github.com/users/alexfisher/followers",
      "following_url": "https://api.github.com/users/alexfisher/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexfisher/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexfisher/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexfisher/subscriptions",
      "organizations_url": "https://api.github.com/users/alexfisher/orgs",
      "repos_url": "https://api.github.com/users/alexfisher/repos",
      "events_url": "https://api.github.com/users/alexfisher/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexfisher/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-01-02T15:32:08Z",
    "updated_at": "2016-01-02T15:32:08Z",
    "author_association": "NONE",
    "body": "After doing so much troubleshooting and installing/reinstalling node, nvm, and a bunch of other stuff I decided to totally remove it all and start fresh this morning and got much better results.\n\nI totally reinstalled node (LTS v 4.2.4) and ensured it was installed in my home directory instead of globally as suggested here:\n\nhttps://nodejs.org/en/blog/uncategorized/development-environment/\n\nThen I ensured npm was also set to use my home directory (when the global -g option is passed to it) as mentioned here:\n\nhttp://stackoverflow.com/questions/10081293/install-npm-into-home-directory-with-distribution-nodejs-package-ubuntu\n\nThen, I installed truffle and had zero issues running \"truffle list\" and \"truffle init\".\n\nPerhaps having used a mix of a global node install using sudo and non global stuff was causing the path and permission issues I was running into over the last couple days.  In any case, hopefully this helps anyone else that may have encountered similar issues.\n\nBack to making my way through 101 Noob Into to Programming Dapps!\n\nhttp://consensys.github.io/developers/articles/101-noob-intro/\n",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/168400695/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/169487503",
    "html_url": "https://github.com/trufflesuite/truffle/issues/69#issuecomment-169487503",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/69",
    "id": 169487503,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE2OTQ4NzUwMw==",
    "user": {
      "login": "tcoulter",
      "id": 92629,
      "node_id": "MDQ6VXNlcjkyNjI5",
      "avatar_url": "https://avatars.githubusercontent.com/u/92629?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tcoulter",
      "html_url": "https://github.com/tcoulter",
      "followers_url": "https://api.github.com/users/tcoulter/followers",
      "following_url": "https://api.github.com/users/tcoulter/following{/other_user}",
      "gists_url": "https://api.github.com/users/tcoulter/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tcoulter/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tcoulter/subscriptions",
      "organizations_url": "https://api.github.com/users/tcoulter/orgs",
      "repos_url": "https://api.github.com/users/tcoulter/repos",
      "events_url": "https://api.github.com/users/tcoulter/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tcoulter/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-01-06T22:50:42Z",
    "updated_at": "2016-01-06T22:50:42Z",
    "author_association": "CONTRIBUTOR",
    "body": "Fixed in the latest master, which will soon be pushed to npm. Note that this is major version change (0.2.x -> 0.3.0), so it comes with changes to how your dapps are structured. You can see the migration instructions here: https://github.com/ConsenSys/truffle/wiki/Migrating-from-v0.2.x-to-v0.3.0\n",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/169487503/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/169488988",
    "html_url": "https://github.com/trufflesuite/truffle/issues/69#issuecomment-169488988",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/69",
    "id": 169488988,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE2OTQ4ODk4OA==",
    "user": {
      "login": "danfinlay",
      "id": 542863,
      "node_id": "MDQ6VXNlcjU0Mjg2Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/542863?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/danfinlay",
      "html_url": "https://github.com/danfinlay",
      "followers_url": "https://api.github.com/users/danfinlay/followers",
      "following_url": "https://api.github.com/users/danfinlay/following{/other_user}",
      "gists_url": "https://api.github.com/users/danfinlay/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/danfinlay/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/danfinlay/subscriptions",
      "organizations_url": "https://api.github.com/users/danfinlay/orgs",
      "repos_url": "https://api.github.com/users/danfinlay/repos",
      "events_url": "https://api.github.com/users/danfinlay/events{/privacy}",
      "received_events_url": "https://api.github.com/users/danfinlay/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-01-06T22:57:46Z",
    "updated_at": "2016-01-06T22:57:46Z",
    "author_association": "NONE",
    "body": "Awesome, thanks!  Can’t wait to rebase my ‘develop-mode’ work onto this, and see if I can get dev/test environments running on EtherSim!On Jan 6, 2016, at 2:50 PM, Tim Coulter notifications@github.com wrote:Fixed in the latest master, which will soon be pushed to npm. Note that this is major version change (0.2.x -> 0.3.0), so it comes with changes to how your dapps are structured. You can see the migration instructions here: https://github.com/ConsenSys/truffle/wiki/Migrating-from-v0.2.x-to-v0.3.0—Reply to this email directly or view it on GitHub.\n",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/169488988/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/169502498",
    "html_url": "https://github.com/trufflesuite/truffle/issues/69#issuecomment-169502498",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/69",
    "id": 169502498,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE2OTUwMjQ5OA==",
    "user": {
      "login": "alexfisher",
      "id": 176891,
      "node_id": "MDQ6VXNlcjE3Njg5MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/176891?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexfisher",
      "html_url": "https://github.com/alexfisher",
      "followers_url": "https://api.github.com/users/alexfisher/followers",
      "following_url": "https://api.github.com/users/alexfisher/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexfisher/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexfisher/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexfisher/subscriptions",
      "organizations_url": "https://api.github.com/users/alexfisher/orgs",
      "repos_url": "https://api.github.com/users/alexfisher/repos",
      "events_url": "https://api.github.com/users/alexfisher/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexfisher/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-01-06T23:57:18Z",
    "updated_at": "2016-01-06T23:57:18Z",
    "author_association": "NONE",
    "body": "Thanks Tim!\n",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/169502498/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/190030698",
    "html_url": "https://github.com/trufflesuite/truffle/issues/69#issuecomment-190030698",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/69",
    "id": 190030698,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE5MDAzMDY5OA==",
    "user": {
      "login": "bencxr",
      "id": 141983,
      "node_id": "MDQ6VXNlcjE0MTk4Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/141983?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bencxr",
      "html_url": "https://github.com/bencxr",
      "followers_url": "https://api.github.com/users/bencxr/followers",
      "following_url": "https://api.github.com/users/bencxr/following{/other_user}",
      "gists_url": "https://api.github.com/users/bencxr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bencxr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bencxr/subscriptions",
      "organizations_url": "https://api.github.com/users/bencxr/orgs",
      "repos_url": "https://api.github.com/users/bencxr/repos",
      "events_url": "https://api.github.com/users/bencxr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bencxr/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-02-29T04:13:16Z",
    "updated_at": "2016-02-29T04:13:16Z",
    "author_association": "NONE",
    "body": "To anyone else who still hits this - I had my NODE_ENV environment set to something else, and the truffle init command isn't initializing in that situation. So make sure you don't have it set. \n",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/190030698/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
