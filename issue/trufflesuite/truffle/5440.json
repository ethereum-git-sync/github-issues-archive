{
  "url": "https://api.github.com/repos/trufflesuite/truffle/issues/5440",
  "repository_url": "https://api.github.com/repos/trufflesuite/truffle",
  "labels_url": "https://api.github.com/repos/trufflesuite/truffle/issues/5440/labels{/name}",
  "comments_url": "https://api.github.com/repos/trufflesuite/truffle/issues/5440/comments",
  "events_url": "https://api.github.com/repos/trufflesuite/truffle/issues/5440/events",
  "html_url": "https://github.com/trufflesuite/truffle/issues/5440",
  "id": 1338994505,
  "node_id": "I_kwDOAkfq-c5Pz29J",
  "number": 5440,
  "title": "[Bug in dependency] Introducing HDWalletProvider causes responses to get mixed up",
  "user": {
    "login": "abrindam",
    "id": 4054982,
    "node_id": "MDQ6VXNlcjQwNTQ5ODI=",
    "avatar_url": "https://avatars.githubusercontent.com/u/4054982?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/abrindam",
    "html_url": "https://github.com/abrindam",
    "followers_url": "https://api.github.com/users/abrindam/followers",
    "following_url": "https://api.github.com/users/abrindam/following{/other_user}",
    "gists_url": "https://api.github.com/users/abrindam/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/abrindam/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/abrindam/subscriptions",
    "organizations_url": "https://api.github.com/users/abrindam/orgs",
    "repos_url": "https://api.github.com/users/abrindam/repos",
    "events_url": "https://api.github.com/users/abrindam/events{/privacy}",
    "received_events_url": "https://api.github.com/users/abrindam/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 4,
  "created_at": "2022-08-15T13:18:26Z",
  "updated_at": "2022-08-22T17:45:48Z",
  "closed_at": "2022-08-18T17:53:25Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "- [ x ] I've [opened a support ticket](https://trufflesuite.zendesk.com/hc/en-us/requests/new) before filing this issue.\r\n\r\n---------------------------\r\n\r\n## Issue\r\n\r\nI wanted to make you aware of the following issue which I have just filed: https://github.com/MetaMask/web3-provider-engine/issues/418\r\n\r\nThis is a bug in one of your dependencies, not in your own code, but it initially looked like a Truffle problem to me, so I wanted to make sure it was on your radar. In my opinion, it is fairly serious as it is effectively a data corruption issue.\r\n\r\nI also saw that \"web3-provider-engine\" may be deprecated soon, so it may be possible they won't fix this issue. If you're considering moving off of it due to this proposed deprecation, I wanted to give you one more data point!\r\n\r\n## Steps to Reproduce\r\n\r\nPlease see the linked issue.\r\n\r\n## Expected Behavior\r\n\r\nPlease see the linked issue.\r\n\r\n## Actual Results\r\n\r\nPlease see the linked issue.\r\n\r\n## Environment\r\n\r\nPlease see the linked issue.\r\n",
  "closed_by": {
    "login": "lsqproduction",
    "id": 12772017,
    "node_id": "MDQ6VXNlcjEyNzcyMDE3",
    "avatar_url": "https://avatars.githubusercontent.com/u/12772017?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/lsqproduction",
    "html_url": "https://github.com/lsqproduction",
    "followers_url": "https://api.github.com/users/lsqproduction/followers",
    "following_url": "https://api.github.com/users/lsqproduction/following{/other_user}",
    "gists_url": "https://api.github.com/users/lsqproduction/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/lsqproduction/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/lsqproduction/subscriptions",
    "organizations_url": "https://api.github.com/users/lsqproduction/orgs",
    "repos_url": "https://api.github.com/users/lsqproduction/repos",
    "events_url": "https://api.github.com/users/lsqproduction/events{/privacy}",
    "received_events_url": "https://api.github.com/users/lsqproduction/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/5440/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/trufflesuite/truffle/issues/5440/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/1215718898",
    "html_url": "https://github.com/trufflesuite/truffle/issues/5440#issuecomment-1215718898",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/5440",
    "id": 1215718898,
    "node_id": "IC_kwDOAkfq-c5IdmXy",
    "user": {
      "login": "gnidan",
      "id": 151065,
      "node_id": "MDQ6VXNlcjE1MTA2NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/151065?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gnidan",
      "html_url": "https://github.com/gnidan",
      "followers_url": "https://api.github.com/users/gnidan/followers",
      "following_url": "https://api.github.com/users/gnidan/following{/other_user}",
      "gists_url": "https://api.github.com/users/gnidan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gnidan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gnidan/subscriptions",
      "organizations_url": "https://api.github.com/users/gnidan/orgs",
      "repos_url": "https://api.github.com/users/gnidan/repos",
      "events_url": "https://api.github.com/users/gnidan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gnidan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-08-15T19:55:58Z",
    "updated_at": "2022-08-15T19:55:58Z",
    "author_association": "MEMBER",
    "body": "Thanks for bringing this to our attention! We'll triage this and figure out next steps and post our next steps here on this issue.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/1215718898/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/1216512056",
    "html_url": "https://github.com/trufflesuite/truffle/issues/5440#issuecomment-1216512056",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/5440",
    "id": 1216512056,
    "node_id": "IC_kwDOAkfq-c5IgoA4",
    "user": {
      "login": "cliffoo",
      "id": 41348973,
      "node_id": "MDQ6VXNlcjQxMzQ4OTcz",
      "avatar_url": "https://avatars.githubusercontent.com/u/41348973?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cliffoo",
      "html_url": "https://github.com/cliffoo",
      "followers_url": "https://api.github.com/users/cliffoo/followers",
      "following_url": "https://api.github.com/users/cliffoo/following{/other_user}",
      "gists_url": "https://api.github.com/users/cliffoo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cliffoo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cliffoo/subscriptions",
      "organizations_url": "https://api.github.com/users/cliffoo/orgs",
      "repos_url": "https://api.github.com/users/cliffoo/repos",
      "events_url": "https://api.github.com/users/cliffoo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cliffoo/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-08-16T11:32:39Z",
    "updated_at": "2022-08-16T11:32:39Z",
    "author_association": "MEMBER",
    "body": "Related issue: https://github.com/trufflesuite/truffle/issues/5068",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/1216512056/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/1219772167",
    "html_url": "https://github.com/trufflesuite/truffle/issues/5440#issuecomment-1219772167",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/5440",
    "id": 1219772167,
    "node_id": "IC_kwDOAkfq-c5ItD8H",
    "user": {
      "login": "lsqproduction",
      "id": 12772017,
      "node_id": "MDQ6VXNlcjEyNzcyMDE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/12772017?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lsqproduction",
      "html_url": "https://github.com/lsqproduction",
      "followers_url": "https://api.github.com/users/lsqproduction/followers",
      "following_url": "https://api.github.com/users/lsqproduction/following{/other_user}",
      "gists_url": "https://api.github.com/users/lsqproduction/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lsqproduction/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lsqproduction/subscriptions",
      "organizations_url": "https://api.github.com/users/lsqproduction/orgs",
      "repos_url": "https://api.github.com/users/lsqproduction/repos",
      "events_url": "https://api.github.com/users/lsqproduction/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lsqproduction/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-08-18T17:53:25Z",
    "updated_at": "2022-08-18T17:53:25Z",
    "author_association": "CONTRIBUTOR",
    "body": "Thank you @abrindam, we are closing this issue as it is related to #5068. Please follow the changes there. ",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/1219772167/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/1222709441",
    "html_url": "https://github.com/trufflesuite/truffle/issues/5440#issuecomment-1222709441",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/5440",
    "id": 1222709441,
    "node_id": "IC_kwDOAkfq-c5I4RDB",
    "user": {
      "login": "abrindam",
      "id": 4054982,
      "node_id": "MDQ6VXNlcjQwNTQ5ODI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4054982?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/abrindam",
      "html_url": "https://github.com/abrindam",
      "followers_url": "https://api.github.com/users/abrindam/followers",
      "following_url": "https://api.github.com/users/abrindam/following{/other_user}",
      "gists_url": "https://api.github.com/users/abrindam/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/abrindam/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/abrindam/subscriptions",
      "organizations_url": "https://api.github.com/users/abrindam/orgs",
      "repos_url": "https://api.github.com/users/abrindam/repos",
      "events_url": "https://api.github.com/users/abrindam/events{/privacy}",
      "received_events_url": "https://api.github.com/users/abrindam/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-08-22T17:45:48Z",
    "updated_at": "2022-08-22T17:45:48Z",
    "author_association": "NONE",
    "body": "Thanks you folks for the quick response.\r\n\r\nI wanted to provided some frank but hopefully constructive feedback. This issue is particularly disturbing to me, for two reasons. \r\n\r\nFirst, the issue results in data corruption, with the effect that a blockchain query can seemingly result in completely incorrect and made-up data. There are numerous scenarios in which is this would be a major problem. While the issue is intermittent, it occurs fairly regularly with sustained use, so I would expect anyone using this framework to encounter this problem at one point or another.\r\n\r\nSecond, the issue occurs in a very fundamental part of the stack, which is the network transport layer, and represents, in my opinion, a pretty basic error in something as simple as request-response correlation. This kind of bug really shatters my confidence in the library as a whole.\r\n\r\nAs a result of the above, I will likely be dropping the use of this library and moving to an alternative.\r\n\r\nAgain, hopefully you find the feedback above constructive!",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/1222709441/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
