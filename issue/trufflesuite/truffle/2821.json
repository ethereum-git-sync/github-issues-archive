{
  "url": "https://api.github.com/repos/trufflesuite/truffle/issues/2821",
  "repository_url": "https://api.github.com/repos/trufflesuite/truffle",
  "labels_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2821/labels{/name}",
  "comments_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2821/comments",
  "events_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2821/events",
  "html_url": "https://github.com/trufflesuite/truffle/issues/2821",
  "id": 562440112,
  "node_id": "MDU6SXNzdWU1NjI0NDAxMTI=",
  "number": 2821,
  "title": "Truffle Decoder's methods for Web3 contract instances",
  "user": {
    "login": "adrianmcli",
    "id": 943555,
    "node_id": "MDQ6VXNlcjk0MzU1NQ==",
    "avatar_url": "https://avatars.githubusercontent.com/u/943555?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/adrianmcli",
    "html_url": "https://github.com/adrianmcli",
    "followers_url": "https://api.github.com/users/adrianmcli/followers",
    "following_url": "https://api.github.com/users/adrianmcli/following{/other_user}",
    "gists_url": "https://api.github.com/users/adrianmcli/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/adrianmcli/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/adrianmcli/subscriptions",
    "organizations_url": "https://api.github.com/users/adrianmcli/orgs",
    "repos_url": "https://api.github.com/users/adrianmcli/repos",
    "events_url": "https://api.github.com/users/adrianmcli/events{/privacy}",
    "received_events_url": "https://api.github.com/users/adrianmcli/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 6,
  "created_at": "2020-02-10T09:45:53Z",
  "updated_at": "2020-02-19T18:44:48Z",
  "closed_at": "2020-02-19T18:44:47Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "I was stumped for much longer than I would like to admit when I was passing in the Web3 contract instance into the decoder's `forContractInstance` instead of a Truffle contract instance.\r\n\r\nBeing that the decoder seems to use Web3 internally anyway, could we not have a convenience function, `forWeb3ContractInstance` that can allow for more ergonomic usage?",
  "closed_by": {
    "login": "gnidan",
    "id": 151065,
    "node_id": "MDQ6VXNlcjE1MTA2NQ==",
    "avatar_url": "https://avatars.githubusercontent.com/u/151065?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/gnidan",
    "html_url": "https://github.com/gnidan",
    "followers_url": "https://api.github.com/users/gnidan/followers",
    "following_url": "https://api.github.com/users/gnidan/following{/other_user}",
    "gists_url": "https://api.github.com/users/gnidan/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/gnidan/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/gnidan/subscriptions",
    "organizations_url": "https://api.github.com/users/gnidan/orgs",
    "repos_url": "https://api.github.com/users/gnidan/repos",
    "events_url": "https://api.github.com/users/gnidan/events{/privacy}",
    "received_events_url": "https://api.github.com/users/gnidan/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/2821/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2821/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/584896512",
    "html_url": "https://github.com/trufflesuite/truffle/issues/2821#issuecomment-584896512",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2821",
    "id": 584896512,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU4NDg5NjUxMg==",
    "user": {
      "login": "haltman-at",
      "id": 35589221,
      "node_id": "MDQ6VXNlcjM1NTg5MjIx",
      "avatar_url": "https://avatars.githubusercontent.com/u/35589221?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/haltman-at",
      "html_url": "https://github.com/haltman-at",
      "followers_url": "https://api.github.com/users/haltman-at/followers",
      "following_url": "https://api.github.com/users/haltman-at/following{/other_user}",
      "gists_url": "https://api.github.com/users/haltman-at/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/haltman-at/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/haltman-at/subscriptions",
      "organizations_url": "https://api.github.com/users/haltman-at/orgs",
      "repos_url": "https://api.github.com/users/haltman-at/repos",
      "events_url": "https://api.github.com/users/haltman-at/events{/privacy}",
      "received_events_url": "https://api.github.com/users/haltman-at/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-02-11T22:51:30Z",
    "updated_at": "2020-02-11T22:51:30Z",
    "author_association": "CONTRIBUTOR",
    "body": "This is not so easy as you suggest; it would not be just a convenience function.  The decoder uses Web3, yes, but it does not use Web3 contracts; it uses Web3 for functionality like looking up code or storage on the blockchain.  Now, this might be possible, but even if it's possible it might not be a good idea -- a Web3 contract just doesn't contain as much information, and I don't want to accidentally imply that a decoder built from one would be just as functional as one built from a Truffle contract (it wouldn't; it would necessarily have to return less information in a number of cases (although I haven't taken the time at the moment to determine just what cases)).\r\n\r\nAnyway, can possibly mark this down as a thing to do, but I don't think this is going to be a high priority?",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/584896512/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/585319324",
    "html_url": "https://github.com/trufflesuite/truffle/issues/2821#issuecomment-585319324",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2821",
    "id": 585319324,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU4NTMxOTMyNA==",
    "user": {
      "login": "adrianmcli",
      "id": 943555,
      "node_id": "MDQ6VXNlcjk0MzU1NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/943555?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/adrianmcli",
      "html_url": "https://github.com/adrianmcli",
      "followers_url": "https://api.github.com/users/adrianmcli/followers",
      "following_url": "https://api.github.com/users/adrianmcli/following{/other_user}",
      "gists_url": "https://api.github.com/users/adrianmcli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/adrianmcli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/adrianmcli/subscriptions",
      "organizations_url": "https://api.github.com/users/adrianmcli/orgs",
      "repos_url": "https://api.github.com/users/adrianmcli/repos",
      "events_url": "https://api.github.com/users/adrianmcli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/adrianmcli/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-02-12T17:25:23Z",
    "updated_at": "2020-02-12T17:25:23Z",
    "author_association": "CONTRIBUTOR",
    "body": "There are two alternatives if we don't want to support Web3 contract instances:\r\n\r\n1. Just pass in the JSON artifact:\r\n\r\n```js\r\nDecoder.forContractArtifact(myJsonArtifact)\r\n```\r\n\r\n2. Pass in what you need individually:\r\n\r\n```js\r\nDecoder.forCustomProps({\r\n  abi: artifact.abi,\r\n  ast: artifact.ast,\r\n  ...etc\r\n})\r\n```\r\n\r\n^ Note, I'm not happy with the naming of `forCustomProps` but it's the best I can come up with right now.\r\n\r\nI do think this is higher priority than it may seem at first, because right now you are requiring any users of `@truffle/decoder` to also install `@truffle/contract` (something that is widely known to be disliked outside of Truffle).",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/585319324/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/585424570",
    "html_url": "https://github.com/trufflesuite/truffle/issues/2821#issuecomment-585424570",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2821",
    "id": 585424570,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU4NTQyNDU3MA==",
    "user": {
      "login": "haltman-at",
      "id": 35589221,
      "node_id": "MDQ6VXNlcjM1NTg5MjIx",
      "avatar_url": "https://avatars.githubusercontent.com/u/35589221?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/haltman-at",
      "html_url": "https://github.com/haltman-at",
      "followers_url": "https://api.github.com/users/haltman-at/followers",
      "following_url": "https://api.github.com/users/haltman-at/following{/other_user}",
      "gists_url": "https://api.github.com/users/haltman-at/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/haltman-at/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/haltman-at/subscriptions",
      "organizations_url": "https://api.github.com/users/haltman-at/orgs",
      "repos_url": "https://api.github.com/users/haltman-at/repos",
      "events_url": "https://api.github.com/users/haltman-at/events{/privacy}",
      "received_events_url": "https://api.github.com/users/haltman-at/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-02-12T21:24:00Z",
    "updated_at": "2020-02-12T21:24:00Z",
    "author_association": "CONTRIBUTOR",
    "body": "> Decoder.forContractArtifact(myJsonArtifact)\r\n\r\nThis exists!  (With slightly different syntax.)  It's called `forArtifact`.  You don't need to use Truffle Contract!  However, `forArtifact` does additionally require you to supply a provider.  I just made `forContract` as a convenience so you don't have to supply a provider as well.  But you can use the more basic `forArtifact` if you're OK with artifacts but not Truffle Contract!\r\n\r\nI was honestly unaware that Truffle Contract was so unpopular outside of Truffle.  I may have to ask you about that later...",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/585424570/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/585581160",
    "html_url": "https://github.com/trufflesuite/truffle/issues/2821#issuecomment-585581160",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2821",
    "id": 585581160,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU4NTU4MTE2MA==",
    "user": {
      "login": "adrianmcli",
      "id": 943555,
      "node_id": "MDQ6VXNlcjk0MzU1NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/943555?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/adrianmcli",
      "html_url": "https://github.com/adrianmcli",
      "followers_url": "https://api.github.com/users/adrianmcli/followers",
      "following_url": "https://api.github.com/users/adrianmcli/following{/other_user}",
      "gists_url": "https://api.github.com/users/adrianmcli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/adrianmcli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/adrianmcli/subscriptions",
      "organizations_url": "https://api.github.com/users/adrianmcli/orgs",
      "repos_url": "https://api.github.com/users/adrianmcli/repos",
      "events_url": "https://api.github.com/users/adrianmcli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/adrianmcli/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-02-13T06:58:55Z",
    "updated_at": "2020-02-13T06:58:55Z",
    "author_association": "CONTRIBUTOR",
    "body": "Ah cool, that sounds much better. I'll use `forArtifact` for now then. And yes, Truffle Contract is not used at all in modern dapp development.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/585581160/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/585975845",
    "html_url": "https://github.com/trufflesuite/truffle/issues/2821#issuecomment-585975845",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2821",
    "id": 585975845,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU4NTk3NTg0NQ==",
    "user": {
      "login": "haltman-at",
      "id": 35589221,
      "node_id": "MDQ6VXNlcjM1NTg5MjIx",
      "avatar_url": "https://avatars.githubusercontent.com/u/35589221?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/haltman-at",
      "html_url": "https://github.com/haltman-at",
      "followers_url": "https://api.github.com/users/haltman-at/followers",
      "following_url": "https://api.github.com/users/haltman-at/following{/other_user}",
      "gists_url": "https://api.github.com/users/haltman-at/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/haltman-at/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/haltman-at/subscriptions",
      "organizations_url": "https://api.github.com/users/haltman-at/orgs",
      "repos_url": "https://api.github.com/users/haltman-at/repos",
      "events_url": "https://api.github.com/users/haltman-at/events{/privacy}",
      "received_events_url": "https://api.github.com/users/haltman-at/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-02-13T21:17:31Z",
    "updated_at": "2020-02-13T21:17:31Z",
    "author_association": "CONTRIBUTOR",
    "body": "Oops, clarification here: `forArtifact` slots into the role of `forContract`, not `forContractInstance`.  If you want the equivalent of `forContractInstance`, you want either `forArtifactAt` (takes an artifact, a provider, and an address) or `forDeployedArtifact` (takes an artifact and a provider; autodetects the address as the one from deployment).  Regardless, there's no requirement to pass in a Truffle Contract at any point.\r\n\r\nAnyway you can see the docs for details, this is all listed there, but thought I should point that out.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/585975845/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/588380999",
    "html_url": "https://github.com/trufflesuite/truffle/issues/2821#issuecomment-588380999",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2821",
    "id": 588380999,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU4ODM4MDk5OQ==",
    "user": {
      "login": "gnidan",
      "id": 151065,
      "node_id": "MDQ6VXNlcjE1MTA2NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/151065?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gnidan",
      "html_url": "https://github.com/gnidan",
      "followers_url": "https://api.github.com/users/gnidan/followers",
      "following_url": "https://api.github.com/users/gnidan/following{/other_user}",
      "gists_url": "https://api.github.com/users/gnidan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gnidan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gnidan/subscriptions",
      "organizations_url": "https://api.github.com/users/gnidan/orgs",
      "repos_url": "https://api.github.com/users/gnidan/repos",
      "events_url": "https://api.github.com/users/gnidan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gnidan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-02-19T18:44:47Z",
    "updated_at": "2020-02-19T18:44:47Z",
    "author_association": "MEMBER",
    "body": "Looks like the original issue here is solved, since we have `forArtifactAt` and `forDeployedArtifact`. The business about web3.eth.Contract is \"won't fix\". The business about taking an options argument seems out of scope for this ticket. Closing!\r\n\r\nThanks @adrianmcli 🙇 ",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/588380999/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
