{
  "url": "https://api.github.com/repos/trufflesuite/truffle/issues/5100",
  "repository_url": "https://api.github.com/repos/trufflesuite/truffle",
  "labels_url": "https://api.github.com/repos/trufflesuite/truffle/issues/5100/labels{/name}",
  "comments_url": "https://api.github.com/repos/trufflesuite/truffle/issues/5100/comments",
  "events_url": "https://api.github.com/repos/trufflesuite/truffle/issues/5100/events",
  "html_url": "https://github.com/trufflesuite/truffle/issues/5100",
  "id": 1231818340,
  "node_id": "I_kwDOAkfq-c5JbA5k",
  "number": 5100,
  "title": "Deprecation warnings when installing `truffle` with `create-react-app`",
  "user": {
    "login": "wiseaidev",
    "id": 62179149,
    "node_id": "MDQ6VXNlcjYyMTc5MTQ5",
    "avatar_url": "https://avatars.githubusercontent.com/u/62179149?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/wiseaidev",
    "html_url": "https://github.com/wiseaidev",
    "followers_url": "https://api.github.com/users/wiseaidev/followers",
    "following_url": "https://api.github.com/users/wiseaidev/following{/other_user}",
    "gists_url": "https://api.github.com/users/wiseaidev/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/wiseaidev/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/wiseaidev/subscriptions",
    "organizations_url": "https://api.github.com/users/wiseaidev/orgs",
    "repos_url": "https://api.github.com/users/wiseaidev/repos",
    "events_url": "https://api.github.com/users/wiseaidev/events{/privacy}",
    "received_events_url": "https://api.github.com/users/wiseaidev/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 1,
  "created_at": "2022-05-10T23:41:54Z",
  "updated_at": "2022-05-12T17:48:15Z",
  "closed_at": "2022-05-12T17:48:15Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "- [x] I've [opened a support ticket](https://trufflesuite.zendesk.com/hc/en-us/requests/new) before filing this issue.\r\n\r\n---------------------------\r\n\r\n## Issue\r\n\r\nI am getting a lot of deprecation warnings when attempting to install truffle with [Create React App](https://create-react-app.dev/) that leads to **12 high severity vulnerabilities**:\r\n\r\n```sh\r\n➜  my-app git:(main) ✗ npm install -g truffle\r\n```\r\n\r\n**Current Behaviour:**\r\n\r\n```sh \r\nEnter passphrase for key '~/.ssh/id_ed25519': (####⠂⠂⠂⠂⠂⠂⠂⠂⠂⠂⠂⠂⠂⠂) (####⠂⠂⠂⠂⠂⠂⠂⠂⠂⠂⠂⠂⠂⠂) ⠋ idealTree:multiaddr: sill fetch manifest varint@^5.0.0\r\n(####⠂⠂⠂⠂⠂⠂⠂⠂⠂⠂⠂⠂⠂⠂) ⠼ idealTree:multiaddr: sill fetch manifest varint@^5.0.0\r\n(####⠂⠂⠂⠂⠂⠂⠂⠂⠂⠂⠂⠂⠂⠂) ⠋ idealTree:multiaddr: sill fetch manifest varint@^5.0.0\r\nnpm WARN deprecated har-validator@5.1.5: this library is no longer supported\r\nnpm WARN deprecated mkdirp-promise@5.0.1: This package is broken and no longer maintained. 'mkdirp' itself supports promises now, please switch to that.\r\nnpm WARN deprecated node-pre-gyp@0.11.0: Please upgrade to @mapbox/node-pre-gyp: the non-scoped node-pre-gyp package is deprecated and only the @mapbox scoped package will recieve updates in the future\r\nnpm WARN deprecated request@2.88.2: request has been deprecated, see https://github.com/request/request/issues/3142\r\nnpm WARN deprecated ipld-raw@6.0.0: This module has been superseded by the multiformats module\r\nnpm WARN deprecated ipld-dag-cbor@0.17.1: This module has been superseded by @ipld/dag-cbor and multiformats\r\nnpm WARN deprecated ipld-dag-pb@0.20.0: This module has been superseded by @ipld/dag-pb and multiformats\r\nnpm WARN deprecated multicodec@3.2.1: This module has been superseded by the multiformats module\r\nnpm WARN deprecated multibase@3.1.2: This module has been superseded by the multiformats module\r\nnpm WARN deprecated cids@1.1.9: This module has been superseded by the multiformats module\r\nnpm WARN deprecated multicodec@0.5.7: This module has been superseded by the multiformats module\r\nnpm WARN deprecated multibase@0.6.1: This module has been superseded by the multiformats module\r\nnpm WARN deprecated multicodec@1.0.4: This module has been superseded by the multiformats module\r\nnpm WARN deprecated multibase@0.7.0: This module has been superseded by the multiformats module\r\nnpm WARN deprecated uuid@3.3.2: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\r\nnpm WARN deprecated uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\r\nnpm WARN deprecated uuid@3.2.1: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\r\nnpm WARN deprecated multibase@4.0.6: This module has been superseded by the multiformats module\r\nnpm WARN deprecated multibase@4.0.6: This module has been superseded by the multiformats module\r\nnpm WARN deprecated multicodec@2.1.3: This module has been superseded by the multiformats module\r\nnpm WARN deprecated multicodec@2.1.3: This module has been superseded by the multiformats module\r\nnpm WARN deprecated uuid@2.0.1: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\r\nnpm WARN deprecated multibase@4.0.6: This module has been superseded by the multiformats module\r\nnpm WARN deprecated multicodec@2.1.3: This module has been superseded by the multiformats module\r\nnpm WARN deprecated uuid@3.2.1: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\r\nnpm WARN deprecated cids@0.7.5: This module has been superseded by the multiformats module\r\n(##################) ⠼ reify:truffle: http fetch GET 200 https://registry.npmjs.org/truffle/-/truffle-5.5.13.tgz 67764ms (cache miss)\r\n(##################) ⠼ reify:truffle: http fetch GET 200 https://registry.npmjs.org/truffle/-/truffle-5.5.13.tgz 67764ms (cache miss)\r\n(##################) ⠼ reify:truffle: http fetch GET 200 https://registry.npmjs.org/truffle/-/truffle-5.5.13.tgz 67764ms (cache miss)\r\n(##################) ⠼ reify:truffle: http fetch GET 200 https://registry.npmjs.org/truffle/-/truffle-5.5.13.tgz 67764ms (cache miss)\r\n(##################) ⠼ reify:truffle: http fetch GET 200 https://registry.npmjs.org/truffle/-/truffle-5.5.13.tgz 67764ms (cache miss)\r\n\r\nadded 1049 packages, and audited 1050 packages in 11m\r\n\r\n93 packages are looking for funding\r\n  run `npm fund` for details\r\n\r\n12 high severity vulnerabilities\r\n```\r\n\r\nI ran `npm audit fix` and fixed these issues. But I think these libraries need versions bump or something of that sort.\r\n\r\n## Steps to Reproduce\r\n\r\n* Create a new react project with [Create React App](https://create-react-app.dev/).\r\n* cd into the project and execute the following command to install `truffle`: `npm install -g truffle`\r\n\r\n## Expected Behavior\r\n\r\nGet rid of the deprecation warnings.\r\n\r\n## Actual Results\r\n\r\nDeprecation warnings were thrown.\r\n\r\n## Environment\r\n\r\n* Operating System: Ubuntu 20.04.4 LTS\r\n* Ethereum client: Any\r\n* Truffle version (`truffle version`): v5.5.13\r\n* node version (`node --version`): v16.15.0\r\n* npm version (`npm --version`): 8.5.5\r\n\r\nEdit: Wait a sec... I am a bit skeptical about this line:\r\n\r\n```sh\r\nEnter passphrase for key '~/.ssh/id_ed25519': (####⠂⠂⠂⠂⠂⠂⠂⠂⠂⠂⠂⠂⠂⠂) (####⠂⠂⠂⠂⠂⠂⠂⠂⠂⠂⠂⠂⠂⠂) ⠋ idealTree:multiaddr: sill fetch manifest varint@^5.0.0\r\n```\r\n\r\n That's my private ssh key for Github, brah. Why it is reading it? Who gave it that permission? I am calling 911.",
  "closed_by": {
    "login": "MicaiahReid",
    "id": 17027138,
    "node_id": "MDQ6VXNlcjE3MDI3MTM4",
    "avatar_url": "https://avatars.githubusercontent.com/u/17027138?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/MicaiahReid",
    "html_url": "https://github.com/MicaiahReid",
    "followers_url": "https://api.github.com/users/MicaiahReid/followers",
    "following_url": "https://api.github.com/users/MicaiahReid/following{/other_user}",
    "gists_url": "https://api.github.com/users/MicaiahReid/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/MicaiahReid/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/MicaiahReid/subscriptions",
    "organizations_url": "https://api.github.com/users/MicaiahReid/orgs",
    "repos_url": "https://api.github.com/users/MicaiahReid/repos",
    "events_url": "https://api.github.com/users/MicaiahReid/events{/privacy}",
    "received_events_url": "https://api.github.com/users/MicaiahReid/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/5100/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/trufflesuite/truffle/issues/5100/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/1125265958",
    "html_url": "https://github.com/trufflesuite/truffle/issues/5100#issuecomment-1125265958",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/5100",
    "id": 1125265958,
    "node_id": "IC_kwDOAkfq-c5DEjIm",
    "user": {
      "login": "MicaiahReid",
      "id": 17027138,
      "node_id": "MDQ6VXNlcjE3MDI3MTM4",
      "avatar_url": "https://avatars.githubusercontent.com/u/17027138?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MicaiahReid",
      "html_url": "https://github.com/MicaiahReid",
      "followers_url": "https://api.github.com/users/MicaiahReid/followers",
      "following_url": "https://api.github.com/users/MicaiahReid/following{/other_user}",
      "gists_url": "https://api.github.com/users/MicaiahReid/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MicaiahReid/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MicaiahReid/subscriptions",
      "organizations_url": "https://api.github.com/users/MicaiahReid/orgs",
      "repos_url": "https://api.github.com/users/MicaiahReid/repos",
      "events_url": "https://api.github.com/users/MicaiahReid/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MicaiahReid/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-05-12T17:48:15Z",
    "updated_at": "2022-05-12T17:48:15Z",
    "author_association": "CONTRIBUTOR",
    "body": "@Harmouch101 Thanks for opening. This looks to be a duplicate, so I'm closing in favor of #4272.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/1125265958/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
