{
  "url": "https://api.github.com/repos/trufflesuite/truffle/issues/2843",
  "repository_url": "https://api.github.com/repos/trufflesuite/truffle",
  "labels_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2843/labels{/name}",
  "comments_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2843/comments",
  "events_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2843/events",
  "html_url": "https://github.com/trufflesuite/truffle/issues/2843",
  "id": 569084078,
  "node_id": "MDU6SXNzdWU1NjkwODQwNzg=",
  "number": 2843,
  "title": "deployer.deploy() not working with arguments and options",
  "user": {
    "login": "pizzarob",
    "id": 5282495,
    "node_id": "MDQ6VXNlcjUyODI0OTU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/5282495?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/pizzarob",
    "html_url": "https://github.com/pizzarob",
    "followers_url": "https://api.github.com/users/pizzarob/followers",
    "following_url": "https://api.github.com/users/pizzarob/following{/other_user}",
    "gists_url": "https://api.github.com/users/pizzarob/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/pizzarob/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/pizzarob/subscriptions",
    "organizations_url": "https://api.github.com/users/pizzarob/orgs",
    "repos_url": "https://api.github.com/users/pizzarob/repos",
    "events_url": "https://api.github.com/users/pizzarob/events{/privacy}",
    "received_events_url": "https://api.github.com/users/pizzarob/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 230393326,
      "node_id": "MDU6TGFiZWwyMzAzOTMzMjY=",
      "url": "https://api.github.com/repos/trufflesuite/truffle/labels/bug",
      "name": "bug",
      "color": "fc2929",
      "default": true,
      "description": null
    },
    {
      "id": 644098328,
      "node_id": "MDU6TGFiZWw2NDQwOTgzMjg=",
      "url": "https://api.github.com/repos/trufflesuite/truffle/labels/needs%20reproduced",
      "name": "needs reproduced",
      "color": "fbca04",
      "default": false,
      "description": null
    },
    {
      "id": 1403343142,
      "node_id": "MDU6TGFiZWwxNDAzMzQzMTQy",
      "url": "https://api.github.com/repos/trufflesuite/truffle/labels/needs%20investigated",
      "name": "needs investigated",
      "color": "b7410e",
      "default": false,
      "description": ""
    },
    {
      "id": 1675041996,
      "node_id": "MDU6TGFiZWwxNjc1MDQxOTk2",
      "url": "https://api.github.com/repos/trufflesuite/truffle/labels/priority4%20%F0%9F%93%8B",
      "name": "priority4 ðŸ“‹",
      "color": "006b75",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 13,
  "created_at": "2020-02-21T17:23:05Z",
  "updated_at": "2022-03-07T19:57:44Z",
  "closed_at": "2020-12-17T22:14:44Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "I have a migration file as follows. I am trying to deploy a new instance of an already deployed contract using the `overwrite` parameter, however truffle gives me the error:\r\n\r\n`Error: Invalid number of parameters for \"undefined\". Got 2 expected 1! `\r\n\r\nApparently trying to use the options object as an argument.\r\n\r\n```\r\nmodule.exports = async function (deployer, network, accounts) {\r\n  const contractAInstance = await A.deployed();\r\n  const contractBInstance = await B.deployed();\r\n\r\n  await contractBInstance.setOperator(contractAInstance.address, false);\r\n  await deployer.deploy(A, contractBInstance.address, { overwrite: true });\r\n};",
  "closed_by": {
    "login": "eggplantzzz",
    "id": 14827965,
    "node_id": "MDQ6VXNlcjE0ODI3OTY1",
    "avatar_url": "https://avatars.githubusercontent.com/u/14827965?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/eggplantzzz",
    "html_url": "https://github.com/eggplantzzz",
    "followers_url": "https://api.github.com/users/eggplantzzz/followers",
    "following_url": "https://api.github.com/users/eggplantzzz/following{/other_user}",
    "gists_url": "https://api.github.com/users/eggplantzzz/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/eggplantzzz/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/eggplantzzz/subscriptions",
    "organizations_url": "https://api.github.com/users/eggplantzzz/orgs",
    "repos_url": "https://api.github.com/users/eggplantzzz/repos",
    "events_url": "https://api.github.com/users/eggplantzzz/events{/privacy}",
    "received_events_url": "https://api.github.com/users/eggplantzzz/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/2843/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2843/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/589753154",
    "html_url": "https://github.com/trufflesuite/truffle/issues/2843#issuecomment-589753154",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2843",
    "id": 589753154,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU4OTc1MzE1NA==",
    "user": {
      "login": "pizzarob",
      "id": 5282495,
      "node_id": "MDQ6VXNlcjUyODI0OTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5282495?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pizzarob",
      "html_url": "https://github.com/pizzarob",
      "followers_url": "https://api.github.com/users/pizzarob/followers",
      "following_url": "https://api.github.com/users/pizzarob/following{/other_user}",
      "gists_url": "https://api.github.com/users/pizzarob/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pizzarob/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pizzarob/subscriptions",
      "organizations_url": "https://api.github.com/users/pizzarob/orgs",
      "repos_url": "https://api.github.com/users/pizzarob/repos",
      "events_url": "https://api.github.com/users/pizzarob/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pizzarob/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-02-21T17:28:41Z",
    "updated_at": "2020-02-21T17:29:24Z",
    "author_association": "NONE",
    "body": "**Update**\r\nAdding `from` to the options object makes the error go away\r\n\r\n`  await deployer.deploy(A, contractBInstance.address, { from: accounts[0] overwrite: true });`\r\n\r\nHowever I'd expect a new address to be given when asking for the deployed contract, but the new instance gives the same address as the old.\r\n\r\n```js\r\nconst oldInstance = await A.deployed();\r\nawait deployer.deploy(A, contractBInstance.address, { from: accounts[0] overwrite: true });\r\nconst newInstance = await A.deployed();\r\n// newInstance.address is the same as the instance before using overwrite: true\r\n// oldInstance.address === newInstance.address\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/589753154/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/591579658",
    "html_url": "https://github.com/trufflesuite/truffle/issues/2843#issuecomment-591579658",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2843",
    "id": 591579658,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU5MTU3OTY1OA==",
    "user": {
      "login": "CruzMolina",
      "id": 7537712,
      "node_id": "MDQ6VXNlcjc1Mzc3MTI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7537712?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/CruzMolina",
      "html_url": "https://github.com/CruzMolina",
      "followers_url": "https://api.github.com/users/CruzMolina/followers",
      "following_url": "https://api.github.com/users/CruzMolina/following{/other_user}",
      "gists_url": "https://api.github.com/users/CruzMolina/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/CruzMolina/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/CruzMolina/subscriptions",
      "organizations_url": "https://api.github.com/users/CruzMolina/orgs",
      "repos_url": "https://api.github.com/users/CruzMolina/repos",
      "events_url": "https://api.github.com/users/CruzMolina/events{/privacy}",
      "received_events_url": "https://api.github.com/users/CruzMolina/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-02-26T18:43:44Z",
    "updated_at": "2020-02-26T18:43:44Z",
    "author_association": "CONTRIBUTOR",
    "body": "Hey @pizza-r0b , it looks like you're trying to re-migrate a contract. What are you attempting to do with the `overwrite` property? I don't believe it's a valid truffle-related option. Have you tried using `truffle migrate --reset`? https://www.trufflesuite.com/docs/truffle/getting-started/running-migrations#command.\r\n\r\nCan you share a repo with reproduction steps?",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/591579658/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/591598003",
    "html_url": "https://github.com/trufflesuite/truffle/issues/2843#issuecomment-591598003",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2843",
    "id": 591598003,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU5MTU5ODAwMw==",
    "user": {
      "login": "pizzarob",
      "id": 5282495,
      "node_id": "MDQ6VXNlcjUyODI0OTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5282495?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pizzarob",
      "html_url": "https://github.com/pizzarob",
      "followers_url": "https://api.github.com/users/pizzarob/followers",
      "following_url": "https://api.github.com/users/pizzarob/following{/other_user}",
      "gists_url": "https://api.github.com/users/pizzarob/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pizzarob/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pizzarob/subscriptions",
      "organizations_url": "https://api.github.com/users/pizzarob/orgs",
      "repos_url": "https://api.github.com/users/pizzarob/repos",
      "events_url": "https://api.github.com/users/pizzarob/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pizzarob/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-02-26T19:21:45Z",
    "updated_at": "2020-02-26T19:22:00Z",
    "author_association": "NONE",
    "body": "@CruzMolina I am trying to re-deploy a new instance of only that contract.\r\n\r\nI think I may be using overwrite incorrectly. The docs don't do a great job explaining this.\r\n\r\n>Additionally, the last argument is an optional object that can include the key named overwrite as well as other transaction parameters such as gas and from. If overwrite is set to false, the deployer won't deploy this contract if one has already been deployed.\r\n\r\nBut I imagine I can use `--reset` and specify `overwrite: false` on all the contracts in which I do not want to be overwritten. ",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/591598003/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/591662145",
    "html_url": "https://github.com/trufflesuite/truffle/issues/2843#issuecomment-591662145",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2843",
    "id": 591662145,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU5MTY2MjE0NQ==",
    "user": {
      "login": "CruzMolina",
      "id": 7537712,
      "node_id": "MDQ6VXNlcjc1Mzc3MTI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7537712?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/CruzMolina",
      "html_url": "https://github.com/CruzMolina",
      "followers_url": "https://api.github.com/users/CruzMolina/followers",
      "following_url": "https://api.github.com/users/CruzMolina/following{/other_user}",
      "gists_url": "https://api.github.com/users/CruzMolina/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/CruzMolina/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/CruzMolina/subscriptions",
      "organizations_url": "https://api.github.com/users/CruzMolina/orgs",
      "repos_url": "https://api.github.com/users/CruzMolina/repos",
      "events_url": "https://api.github.com/users/CruzMolina/events{/privacy}",
      "received_events_url": "https://api.github.com/users/CruzMolina/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-02-26T21:49:49Z",
    "updated_at": "2020-02-26T21:49:49Z",
    "author_association": "CONTRIBUTOR",
    "body": "Ah, I see. Yeah I believe there's two bugs here, one when using the `overwrite` (it should be acceptable to only pass that as an extra param, not needing other args like `from`), and another with the `address` not being properly reset on a new deployed contract instance.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/591662145/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/593478492",
    "html_url": "https://github.com/trufflesuite/truffle/issues/2843#issuecomment-593478492",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2843",
    "id": 593478492,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU5MzQ3ODQ5Mg==",
    "user": {
      "login": "eggplantzzz",
      "id": 14827965,
      "node_id": "MDQ6VXNlcjE0ODI3OTY1",
      "avatar_url": "https://avatars.githubusercontent.com/u/14827965?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eggplantzzz",
      "html_url": "https://github.com/eggplantzzz",
      "followers_url": "https://api.github.com/users/eggplantzzz/followers",
      "following_url": "https://api.github.com/users/eggplantzzz/following{/other_user}",
      "gists_url": "https://api.github.com/users/eggplantzzz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eggplantzzz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eggplantzzz/subscriptions",
      "organizations_url": "https://api.github.com/users/eggplantzzz/orgs",
      "repos_url": "https://api.github.com/users/eggplantzzz/repos",
      "events_url": "https://api.github.com/users/eggplantzzz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eggplantzzz/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-03-02T16:06:46Z",
    "updated_at": "2020-03-02T16:06:46Z",
    "author_association": "CONTRIBUTOR",
    "body": "What is the `overwrite` option? Can anyone link to some docs?",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/593478492/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/593484384",
    "html_url": "https://github.com/trufflesuite/truffle/issues/2843#issuecomment-593484384",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2843",
    "id": 593484384,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU5MzQ4NDM4NA==",
    "user": {
      "login": "CruzMolina",
      "id": 7537712,
      "node_id": "MDQ6VXNlcjc1Mzc3MTI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7537712?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/CruzMolina",
      "html_url": "https://github.com/CruzMolina",
      "followers_url": "https://api.github.com/users/CruzMolina/followers",
      "following_url": "https://api.github.com/users/CruzMolina/following{/other_user}",
      "gists_url": "https://api.github.com/users/CruzMolina/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/CruzMolina/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/CruzMolina/subscriptions",
      "organizations_url": "https://api.github.com/users/CruzMolina/orgs",
      "repos_url": "https://api.github.com/users/CruzMolina/repos",
      "events_url": "https://api.github.com/users/CruzMolina/events{/privacy}",
      "received_events_url": "https://api.github.com/users/CruzMolina/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-03-02T16:17:57Z",
    "updated_at": "2020-03-02T16:17:57Z",
    "author_association": "CONTRIBUTOR",
    "body": "@eggplantzzz https://www.trufflesuite.com/docs/truffle/getting-started/running-migrations#deployer-deploy-contract-args-options-",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/593484384/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/593989916",
    "html_url": "https://github.com/trufflesuite/truffle/issues/2843#issuecomment-593989916",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2843",
    "id": 593989916,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU5Mzk4OTkxNg==",
    "user": {
      "login": "pizzarob",
      "id": 5282495,
      "node_id": "MDQ6VXNlcjUyODI0OTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5282495?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pizzarob",
      "html_url": "https://github.com/pizzarob",
      "followers_url": "https://api.github.com/users/pizzarob/followers",
      "following_url": "https://api.github.com/users/pizzarob/following{/other_user}",
      "gists_url": "https://api.github.com/users/pizzarob/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pizzarob/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pizzarob/subscriptions",
      "organizations_url": "https://api.github.com/users/pizzarob/orgs",
      "repos_url": "https://api.github.com/users/pizzarob/repos",
      "events_url": "https://api.github.com/users/pizzarob/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pizzarob/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-03-03T14:51:11Z",
    "updated_at": "2020-03-03T14:51:11Z",
    "author_association": "NONE",
    "body": "@CruzMolina I think you are correct about the bugs",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/593989916/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/594754726",
    "html_url": "https://github.com/trufflesuite/truffle/issues/2843#issuecomment-594754726",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2843",
    "id": 594754726,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU5NDc1NDcyNg==",
    "user": {
      "login": "gnidan",
      "id": 151065,
      "node_id": "MDQ6VXNlcjE1MTA2NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/151065?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gnidan",
      "html_url": "https://github.com/gnidan",
      "followers_url": "https://api.github.com/users/gnidan/followers",
      "following_url": "https://api.github.com/users/gnidan/following{/other_user}",
      "gists_url": "https://api.github.com/users/gnidan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gnidan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gnidan/subscriptions",
      "organizations_url": "https://api.github.com/users/gnidan/orgs",
      "repos_url": "https://api.github.com/users/gnidan/repos",
      "events_url": "https://api.github.com/users/gnidan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gnidan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-03-04T19:00:55Z",
    "updated_at": "2020-03-04T19:00:55Z",
    "author_association": "MEMBER",
    "body": "I wonder if it's a problem with the code that detects whether the last parameter is an options. It might look for `from` specifically to make that determination.\r\n\r\nMight want to look at this one at the same time as #2868 ",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/594754726/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/739083982",
    "html_url": "https://github.com/trufflesuite/truffle/issues/2843#issuecomment-739083982",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2843",
    "id": 739083982,
    "node_id": "MDEyOklzc3VlQ29tbWVudDczOTA4Mzk4Mg==",
    "user": {
      "login": "frangio",
      "id": 481465,
      "node_id": "MDQ6VXNlcjQ4MTQ2NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/481465?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/frangio",
      "html_url": "https://github.com/frangio",
      "followers_url": "https://api.github.com/users/frangio/followers",
      "following_url": "https://api.github.com/users/frangio/following{/other_user}",
      "gists_url": "https://api.github.com/users/frangio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/frangio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/frangio/subscriptions",
      "organizations_url": "https://api.github.com/users/frangio/orgs",
      "repos_url": "https://api.github.com/users/frangio/repos",
      "events_url": "https://api.github.com/users/frangio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/frangio/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-12-05T00:03:25Z",
    "updated_at": "2020-12-05T00:03:56Z",
    "author_association": "CONTRIBUTOR",
    "body": "The problem is here:\r\n\r\nhttps://github.com/trufflesuite/truffle/blob/5e6591ea0b3dd28d803677071dedbca2768ebd1d/packages/contract/lib/utils/index.js#L24-L44\r\n\r\n`overwrite` is not one of the flags that Truffle looks for to identify an options object.\r\n\r\n---\r\n\r\nI found this issue because we ran into it when the options object is empty. (https://github.com/OpenZeppelin/openzeppelin-upgrades/pull/213)\r\n\r\nIt's easy to add the `overwrite` flag to the list above, but an empty object won't be detected with the current approach. Maybe there should be a special case for empty objects, and always consider it a params object.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/739083982/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/740027298",
    "html_url": "https://github.com/trufflesuite/truffle/issues/2843#issuecomment-740027298",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2843",
    "id": 740027298,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc0MDAyNzI5OA==",
    "user": {
      "login": "eggplantzzz",
      "id": 14827965,
      "node_id": "MDQ6VXNlcjE0ODI3OTY1",
      "avatar_url": "https://avatars.githubusercontent.com/u/14827965?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eggplantzzz",
      "html_url": "https://github.com/eggplantzzz",
      "followers_url": "https://api.github.com/users/eggplantzzz/followers",
      "following_url": "https://api.github.com/users/eggplantzzz/following{/other_user}",
      "gists_url": "https://api.github.com/users/eggplantzzz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eggplantzzz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eggplantzzz/subscriptions",
      "organizations_url": "https://api.github.com/users/eggplantzzz/orgs",
      "repos_url": "https://api.github.com/users/eggplantzzz/repos",
      "events_url": "https://api.github.com/users/eggplantzzz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eggplantzzz/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-12-07T16:28:48Z",
    "updated_at": "2020-12-07T16:28:48Z",
    "author_association": "CONTRIBUTOR",
    "body": "Ah thanks @frangio for the info. I'll take a look into this and see about adding a fix!",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/740027298/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/747734261",
    "html_url": "https://github.com/trufflesuite/truffle/issues/2843#issuecomment-747734261",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2843",
    "id": 747734261,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc0NzczNDI2MQ==",
    "user": {
      "login": "eggplantzzz",
      "id": 14827965,
      "node_id": "MDQ6VXNlcjE0ODI3OTY1",
      "avatar_url": "https://avatars.githubusercontent.com/u/14827965?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eggplantzzz",
      "html_url": "https://github.com/eggplantzzz",
      "followers_url": "https://api.github.com/users/eggplantzzz/followers",
      "following_url": "https://api.github.com/users/eggplantzzz/following{/other_user}",
      "gists_url": "https://api.github.com/users/eggplantzzz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eggplantzzz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eggplantzzz/subscriptions",
      "organizations_url": "https://api.github.com/users/eggplantzzz/orgs",
      "repos_url": "https://api.github.com/users/eggplantzzz/repos",
      "events_url": "https://api.github.com/users/eggplantzzz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eggplantzzz/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-12-17T22:14:44Z",
    "updated_at": "2020-12-17T22:15:04Z",
    "author_association": "CONTRIBUTOR",
    "body": "`overwrite` was added to the whitelist in version `5.1.58`! Thanks @frangio!",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/747734261/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 1,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/1014910909",
    "html_url": "https://github.com/trufflesuite/truffle/issues/2843#issuecomment-1014910909",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2843",
    "id": 1014910909,
    "node_id": "IC_kwDOAkfq-c48fk-9",
    "user": {
      "login": "Ataye",
      "id": 3684664,
      "node_id": "MDQ6VXNlcjM2ODQ2NjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3684664?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Ataye",
      "html_url": "https://github.com/Ataye",
      "followers_url": "https://api.github.com/users/Ataye/followers",
      "following_url": "https://api.github.com/users/Ataye/following{/other_user}",
      "gists_url": "https://api.github.com/users/Ataye/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Ataye/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Ataye/subscriptions",
      "organizations_url": "https://api.github.com/users/Ataye/orgs",
      "repos_url": "https://api.github.com/users/Ataye/repos",
      "events_url": "https://api.github.com/users/Ataye/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Ataye/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-01-17T21:52:55Z",
    "updated_at": "2022-01-17T21:54:15Z",
    "author_association": "NONE",
    "body": "I'm using v5.4.26 on windows and found if I have multiple parameters and (assuming) the object detection is failing unless I add from: to the options object.\r\n\r\nContract constructor:\r\n`constructor(address _childToken, uint256 _rewardLength, uint256 _rewardRate) ERC20(\"xx\", \"xx\") `\r\n\r\nDeploy statement in migration:\r\n```\r\nawait deployer.deploy(TheContract, \r\n            ChildToken.address, \r\n            _rewardLength, \r\n            _rewardRate,\r\n            {overwrite:true, from:accounts[0]}\r\n        );\r\n```\r\n\r\nRemove from: and it works. However, a few lines above I am not getting the same error:\r\n\r\n```\r\nconstructor() ERC20(\"Child Token\", \"CTKN\")\r\nawait deployer.deploy(ChildToken, {overwrite: false});\r\n```\r\n\r\nBut I haven't made any changes to the first ChildToken contract so maybe its skipping the object parameter check?",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/1014910909/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/1061076623",
    "html_url": "https://github.com/trufflesuite/truffle/issues/2843#issuecomment-1061076623",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2843",
    "id": 1061076623,
    "node_id": "IC_kwDOAkfq-c4_Pr6P",
    "user": {
      "login": "gagichce",
      "id": 5444145,
      "node_id": "MDQ6VXNlcjU0NDQxNDU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5444145?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gagichce",
      "html_url": "https://github.com/gagichce",
      "followers_url": "https://api.github.com/users/gagichce/followers",
      "following_url": "https://api.github.com/users/gagichce/following{/other_user}",
      "gists_url": "https://api.github.com/users/gagichce/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gagichce/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gagichce/subscriptions",
      "organizations_url": "https://api.github.com/users/gagichce/orgs",
      "repos_url": "https://api.github.com/users/gagichce/repos",
      "events_url": "https://api.github.com/users/gagichce/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gagichce/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-03-07T19:56:56Z",
    "updated_at": "2022-03-07T19:57:44Z",
    "author_association": "NONE",
    "body": "I can confirm this on truffle@5.4.33:\r\n\r\nWorks: `deployer.deploy(contract, { overwrite: false, from: accounts[0] });`\r\n\r\nDoes not: `deployer.deploy(contract, { overwrite: false });`\r\n\r\nError: \r\n```\r\nError:  *** Deployment Failed ***\r\n\r\n\"contract\" -- Invalid number of parameters for \"undefined\". Got 1 expected 0!.\r\n```\r\n\r\nIt is incorrectly interpreting `{ overwrite: false }` as a constructor parameter unless `from: accounts[0]` is also included in the obj.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/1061076623/reactions",
      "total_count": 2,
      "+1": 2,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
