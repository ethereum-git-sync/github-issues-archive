{
  "url": "https://api.github.com/repos/trufflesuite/truffle/issues/863",
  "repository_url": "https://api.github.com/repos/trufflesuite/truffle",
  "labels_url": "https://api.github.com/repos/trufflesuite/truffle/issues/863/labels{/name}",
  "comments_url": "https://api.github.com/repos/trufflesuite/truffle/issues/863/comments",
  "events_url": "https://api.github.com/repos/trufflesuite/truffle/issues/863/events",
  "html_url": "https://github.com/trufflesuite/truffle/issues/863",
  "id": 307608127,
  "node_id": "MDU6SXNzdWUzMDc2MDgxMjc=",
  "number": 863,
  "title": "Transactionwasn't processed in 240 seconds!  when working with Quorum",
  "user": {
    "login": "moda20",
    "id": 23613485,
    "node_id": "MDQ6VXNlcjIzNjEzNDg1",
    "avatar_url": "https://avatars.githubusercontent.com/u/23613485?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/moda20",
    "html_url": "https://github.com/moda20",
    "followers_url": "https://api.github.com/users/moda20/followers",
    "following_url": "https://api.github.com/users/moda20/following{/other_user}",
    "gists_url": "https://api.github.com/users/moda20/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/moda20/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/moda20/subscriptions",
    "organizations_url": "https://api.github.com/users/moda20/orgs",
    "repos_url": "https://api.github.com/users/moda20/repos",
    "events_url": "https://api.github.com/users/moda20/events{/privacy}",
    "received_events_url": "https://api.github.com/users/moda20/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 8,
  "created_at": "2018-03-22T11:40:40Z",
  "updated_at": "2018-07-03T20:28:07Z",
  "closed_at": "2018-03-29T18:56:29Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "- [ ] I've asked for help in the [Truffle Gitter](http://gitter.im/Consensys/truffle) before filing this issue.\r\n\r\n---------------------------\r\n\r\n## Issue\r\n\r\nI am trying to call methods on my deployed contract with `truffle-contract`  but it doesn't return anything untill the 240 sec limit is reached and i get that error.\r\n\r\n## Steps to Reproduce\r\n\r\nI run my quorum dev network with docker-compose.\r\ni have 2 makers/voters & 2 spectators and 1 voter.\r\nrun my js script calling a function on my contract.\r\n\r\n\r\n## Expected Behavior\r\n\r\ntransaction succeeding and getting back results\r\n\r\n## Actual Results\r\n\r\npending for 240 second then getting the 240 seconds error \r\n## Environment\r\n\r\n* Operating System: Zen arch  linux\r\n* Ethereum client: quorum : Geth/v1.5.0-unstable-ddb011f3/linux/go1.8\r\n* Truffle version (`truffle version`): truffle-contract : 3.0.4\r\n* node version (`node --version`): 9.5.0\r\n* npm version (`npm --version`): 5.6.0\r\n",
  "closed_by": {
    "login": "cgewecke",
    "id": 7332026,
    "node_id": "MDQ6VXNlcjczMzIwMjY=",
    "avatar_url": "https://avatars.githubusercontent.com/u/7332026?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/cgewecke",
    "html_url": "https://github.com/cgewecke",
    "followers_url": "https://api.github.com/users/cgewecke/followers",
    "following_url": "https://api.github.com/users/cgewecke/following{/other_user}",
    "gists_url": "https://api.github.com/users/cgewecke/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/cgewecke/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/cgewecke/subscriptions",
    "organizations_url": "https://api.github.com/users/cgewecke/orgs",
    "repos_url": "https://api.github.com/users/cgewecke/repos",
    "events_url": "https://api.github.com/users/cgewecke/events{/privacy}",
    "received_events_url": "https://api.github.com/users/cgewecke/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/863/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/trufflesuite/truffle/issues/863/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/375347994",
    "html_url": "https://github.com/trufflesuite/truffle/issues/863#issuecomment-375347994",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/863",
    "id": 375347994,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3NTM0Nzk5NA==",
    "user": {
      "login": "cgewecke",
      "id": 7332026,
      "node_id": "MDQ6VXNlcjczMzIwMjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7332026?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cgewecke",
      "html_url": "https://github.com/cgewecke",
      "followers_url": "https://api.github.com/users/cgewecke/followers",
      "following_url": "https://api.github.com/users/cgewecke/following{/other_user}",
      "gists_url": "https://api.github.com/users/cgewecke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cgewecke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cgewecke/subscriptions",
      "organizations_url": "https://api.github.com/users/cgewecke/orgs",
      "repos_url": "https://api.github.com/users/cgewecke/repos",
      "events_url": "https://api.github.com/users/cgewecke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cgewecke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-22T15:28:16Z",
    "updated_at": "2018-03-22T15:28:16Z",
    "author_association": "CONTRIBUTOR",
    "body": "@moda20 It looks like this might be a compatibility issue between Quorum and `web3`.  TLDR; Quorum seals blocks too quickly for web3 to poll the transaction receipt. This issue has also affected Geth and Parity clients in fast dev mode, although both have resolved it in their own way.\r\n\r\nMore discussion over at `quorum` [here](https://github.com/jpmorganchase/quorum/issues/86#issuecomment-315965611). Ultimately this isn't something Truffle can address at the moment. We rely on `web3` 0.20.x to manage communication with the client and don't currently provide a way to substitute that service. It's possible quorum has a way to churn blocks with a small injected delay (like geth --dev) which should unstick things, not sure.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/375347994/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/375565419",
    "html_url": "https://github.com/trufflesuite/truffle/issues/863#issuecomment-375565419",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/863",
    "id": 375565419,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3NTU2NTQxOQ==",
    "user": {
      "login": "moda20",
      "id": 23613485,
      "node_id": "MDQ6VXNlcjIzNjEzNDg1",
      "avatar_url": "https://avatars.githubusercontent.com/u/23613485?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/moda20",
      "html_url": "https://github.com/moda20",
      "followers_url": "https://api.github.com/users/moda20/followers",
      "following_url": "https://api.github.com/users/moda20/following{/other_user}",
      "gists_url": "https://api.github.com/users/moda20/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/moda20/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/moda20/subscriptions",
      "organizations_url": "https://api.github.com/users/moda20/orgs",
      "repos_url": "https://api.github.com/users/moda20/repos",
      "events_url": "https://api.github.com/users/moda20/events{/privacy}",
      "received_events_url": "https://api.github.com/users/moda20/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-23T07:18:35Z",
    "updated_at": "2018-03-23T07:18:35Z",
    "author_association": "NONE",
    "body": "does web3 1.0 have this issue with quorum ? i probably have to ask elsewhere.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/375565419/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/375698975",
    "html_url": "https://github.com/trufflesuite/truffle/issues/863#issuecomment-375698975",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/863",
    "id": 375698975,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3NTY5ODk3NQ==",
    "user": {
      "login": "cgewecke",
      "id": 7332026,
      "node_id": "MDQ6VXNlcjczMzIwMjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7332026?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cgewecke",
      "html_url": "https://github.com/cgewecke",
      "followers_url": "https://api.github.com/users/cgewecke/followers",
      "following_url": "https://api.github.com/users/cgewecke/following{/other_user}",
      "gists_url": "https://api.github.com/users/cgewecke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cgewecke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cgewecke/subscriptions",
      "organizations_url": "https://api.github.com/users/cgewecke/orgs",
      "repos_url": "https://api.github.com/users/cgewecke/repos",
      "events_url": "https://api.github.com/users/cgewecke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cgewecke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-23T15:16:22Z",
    "updated_at": "2018-03-23T15:16:22Z",
    "author_association": "CONTRIBUTOR",
    "body": "@moda20 It might not because someone fixed web3 1.0 last summer to work with Parity instantseal. I wonder if there is a Quorum setting that helps with this? \r\n\r\nAlso, have you looked at the [truffle tutorial](http://truffleframework.com/tutorials/building-dapps-for-quorum-private-enterprise-blockchains) for Quorum? There's also a requirement that you specify the `privateFor` key in the migration transactions that's discussed at length there.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/375698975/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/377334059",
    "html_url": "https://github.com/trufflesuite/truffle/issues/863#issuecomment-377334059",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/863",
    "id": 377334059,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3NzMzNDA1OQ==",
    "user": {
      "login": "cgewecke",
      "id": 7332026,
      "node_id": "MDQ6VXNlcjczMzIwMjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7332026?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cgewecke",
      "html_url": "https://github.com/cgewecke",
      "followers_url": "https://api.github.com/users/cgewecke/followers",
      "following_url": "https://api.github.com/users/cgewecke/following{/other_user}",
      "gists_url": "https://api.github.com/users/cgewecke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cgewecke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cgewecke/subscriptions",
      "organizations_url": "https://api.github.com/users/cgewecke/orgs",
      "repos_url": "https://api.github.com/users/cgewecke/repos",
      "events_url": "https://api.github.com/users/cgewecke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cgewecke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-29T18:44:25Z",
    "updated_at": "2018-03-29T18:44:25Z",
    "author_association": "CONTRIBUTOR",
    "body": "@moda20 Did you ever make any headway on this? Someone with a similar issue [reported](https://github.com/trufflesuite/truffle/issues/877#issuecomment-377271215) they resolved it by running truffle migrations on the same machine as the node.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/377334059/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/377336109",
    "html_url": "https://github.com/trufflesuite/truffle/issues/863#issuecomment-377336109",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/863",
    "id": 377336109,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3NzMzNjEwOQ==",
    "user": {
      "login": "moda20",
      "id": 23613485,
      "node_id": "MDQ6VXNlcjIzNjEzNDg1",
      "avatar_url": "https://avatars.githubusercontent.com/u/23613485?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/moda20",
      "html_url": "https://github.com/moda20",
      "followers_url": "https://api.github.com/users/moda20/followers",
      "following_url": "https://api.github.com/users/moda20/following{/other_user}",
      "gists_url": "https://api.github.com/users/moda20/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/moda20/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/moda20/subscriptions",
      "organizations_url": "https://api.github.com/users/moda20/orgs",
      "repos_url": "https://api.github.com/users/moda20/repos",
      "events_url": "https://api.github.com/users/moda20/events{/privacy}",
      "received_events_url": "https://api.github.com/users/moda20/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-29T18:51:34Z",
    "updated_at": "2018-03-29T18:51:34Z",
    "author_association": "NONE",
    "body": "Actually I found out it wasn't a problem with truffle in particular but more like a problem with network configuration and nonce guessing which can be quite wrong especially when sending too many transactions from the same account in a small amount of time. I also had problems with  gasunit overflow error from the EVM  due to some bug in my contract. All of those somehow made the 240 sec timeout occur. But I still have to confirm all of that at least. ",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/377336109/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/377336863",
    "html_url": "https://github.com/trufflesuite/truffle/issues/863#issuecomment-377336863",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/863",
    "id": 377336863,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3NzMzNjg2Mw==",
    "user": {
      "login": "cgewecke",
      "id": 7332026,
      "node_id": "MDQ6VXNlcjczMzIwMjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7332026?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cgewecke",
      "html_url": "https://github.com/cgewecke",
      "followers_url": "https://api.github.com/users/cgewecke/followers",
      "following_url": "https://api.github.com/users/cgewecke/following{/other_user}",
      "gists_url": "https://api.github.com/users/cgewecke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cgewecke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cgewecke/subscriptions",
      "organizations_url": "https://api.github.com/users/cgewecke/orgs",
      "repos_url": "https://api.github.com/users/cgewecke/repos",
      "events_url": "https://api.github.com/users/cgewecke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cgewecke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-29T18:54:23Z",
    "updated_at": "2018-03-29T18:54:23Z",
    "author_association": "CONTRIBUTOR",
    "body": "@moda20 Ah interesting!! Thanks for the update. \r\n\r\nAre you ok if I close this? Happy to re-open if it seems like there's something structural about how Truffle interfaces with Quorum that needs to be addressed.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/377336863/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/377337253",
    "html_url": "https://github.com/trufflesuite/truffle/issues/863#issuecomment-377337253",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/863",
    "id": 377337253,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3NzMzNzI1Mw==",
    "user": {
      "login": "moda20",
      "id": 23613485,
      "node_id": "MDQ6VXNlcjIzNjEzNDg1",
      "avatar_url": "https://avatars.githubusercontent.com/u/23613485?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/moda20",
      "html_url": "https://github.com/moda20",
      "followers_url": "https://api.github.com/users/moda20/followers",
      "following_url": "https://api.github.com/users/moda20/following{/other_user}",
      "gists_url": "https://api.github.com/users/moda20/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/moda20/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/moda20/subscriptions",
      "organizations_url": "https://api.github.com/users/moda20/orgs",
      "repos_url": "https://api.github.com/users/moda20/repos",
      "events_url": "https://api.github.com/users/moda20/events{/privacy}",
      "received_events_url": "https://api.github.com/users/moda20/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-29T18:55:49Z",
    "updated_at": "2018-03-29T18:55:49Z",
    "author_association": "NONE",
    "body": "OK go on. ",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/377337253/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/402282741",
    "html_url": "https://github.com/trufflesuite/truffle/issues/863#issuecomment-402282741",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/863",
    "id": 402282741,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwMjI4Mjc0MQ==",
    "user": {
      "login": "lakamsani",
      "id": 3322496,
      "node_id": "MDQ6VXNlcjMzMjI0OTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3322496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lakamsani",
      "html_url": "https://github.com/lakamsani",
      "followers_url": "https://api.github.com/users/lakamsani/followers",
      "following_url": "https://api.github.com/users/lakamsani/following{/other_user}",
      "gists_url": "https://api.github.com/users/lakamsani/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lakamsani/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lakamsani/subscriptions",
      "organizations_url": "https://api.github.com/users/lakamsani/orgs",
      "repos_url": "https://api.github.com/users/lakamsani/repos",
      "events_url": "https://api.github.com/users/lakamsani/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lakamsani/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-07-03T20:28:07Z",
    "updated_at": "2018-07-03T20:28:07Z",
    "author_association": "NONE",
    "body": "Hi, I see this problem with `rinkeby.infura.io`. I have a node.js app that uses `truffle-contract` to make write multiple transactions in a short time span. Is there any way to increase this timeout or is it something fixed in web3? ",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/402282741/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
