{
  "url": "https://api.github.com/repos/trufflesuite/truffle/issues/994",
  "repository_url": "https://api.github.com/repos/trufflesuite/truffle",
  "labels_url": "https://api.github.com/repos/trufflesuite/truffle/issues/994/labels{/name}",
  "comments_url": "https://api.github.com/repos/trufflesuite/truffle/issues/994/comments",
  "events_url": "https://api.github.com/repos/trufflesuite/truffle/issues/994/events",
  "html_url": "https://github.com/trufflesuite/truffle/issues/994",
  "id": 330585904,
  "node_id": "MDU6SXNzdWUzMzA1ODU5MDQ=",
  "number": 994,
  "title": "Why do you bundle all dependencies for an npm module?",
  "user": {
    "login": "levino",
    "id": 1150767,
    "node_id": "MDQ6VXNlcjExNTA3Njc=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1150767?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/levino",
    "html_url": "https://github.com/levino",
    "followers_url": "https://api.github.com/users/levino/followers",
    "following_url": "https://api.github.com/users/levino/following{/other_user}",
    "gists_url": "https://api.github.com/users/levino/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/levino/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/levino/subscriptions",
    "organizations_url": "https://api.github.com/users/levino/orgs",
    "repos_url": "https://api.github.com/users/levino/repos",
    "events_url": "https://api.github.com/users/levino/events{/privacy}",
    "received_events_url": "https://api.github.com/users/levino/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 13,
  "created_at": "2018-06-08T09:29:43Z",
  "updated_at": "2018-06-08T15:39:05Z",
  "closed_at": "2018-06-08T15:01:16Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "On build and before publication to **npm** you create a webpack bundle, right? This bundle contains the source code of all dependencies. This is an anti pattern as far as I know. This only makes sense to me if you are bundling an application for usage in html code in the client (so if you want to publish it on a CDN but not npm). Npm packages should name their dependencies and not bundle them in. If the consumer of the package wants to use your package in the browser, they should bundle all the dependencies themselves. Anyhow I do not understand how truffle can be used in the browser.",
  "closed_by": {
    "login": "levino",
    "id": 1150767,
    "node_id": "MDQ6VXNlcjExNTA3Njc=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1150767?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/levino",
    "html_url": "https://github.com/levino",
    "followers_url": "https://api.github.com/users/levino/followers",
    "following_url": "https://api.github.com/users/levino/following{/other_user}",
    "gists_url": "https://api.github.com/users/levino/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/levino/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/levino/subscriptions",
    "organizations_url": "https://api.github.com/users/levino/orgs",
    "repos_url": "https://api.github.com/users/levino/repos",
    "events_url": "https://api.github.com/users/levino/events{/privacy}",
    "received_events_url": "https://api.github.com/users/levino/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/994/reactions",
    "total_count": 2,
    "+1": 2,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/trufflesuite/truffle/issues/994/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/395707087",
    "html_url": "https://github.com/trufflesuite/truffle/issues/994#issuecomment-395707087",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/994",
    "id": 395707087,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5NTcwNzA4Nw==",
    "user": {
      "login": "MoMannn",
      "id": 8865298,
      "node_id": "MDQ6VXNlcjg4NjUyOTg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8865298?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MoMannn",
      "html_url": "https://github.com/MoMannn",
      "followers_url": "https://api.github.com/users/MoMannn/followers",
      "following_url": "https://api.github.com/users/MoMannn/following{/other_user}",
      "gists_url": "https://api.github.com/users/MoMannn/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MoMannn/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MoMannn/subscriptions",
      "organizations_url": "https://api.github.com/users/MoMannn/orgs",
      "repos_url": "https://api.github.com/users/MoMannn/repos",
      "events_url": "https://api.github.com/users/MoMannn/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MoMannn/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-06-08T09:34:53Z",
    "updated_at": "2018-06-08T09:34:53Z",
    "author_association": "NONE",
    "body": "+1 \r\n\r\nThis is an issue I came across when trying to use a custom web3. It is very inconvenient to fork truffle just to change the web3 dependency. ",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/395707087/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/395732480",
    "html_url": "https://github.com/trufflesuite/truffle/issues/994#issuecomment-395732480",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/994",
    "id": 395732480,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5NTczMjQ4MA==",
    "user": {
      "login": "xpepermint",
      "id": 174279,
      "node_id": "MDQ6VXNlcjE3NDI3OQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/174279?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/xpepermint",
      "html_url": "https://github.com/xpepermint",
      "followers_url": "https://api.github.com/users/xpepermint/followers",
      "following_url": "https://api.github.com/users/xpepermint/following{/other_user}",
      "gists_url": "https://api.github.com/users/xpepermint/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/xpepermint/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/xpepermint/subscriptions",
      "organizations_url": "https://api.github.com/users/xpepermint/orgs",
      "repos_url": "https://api.github.com/users/xpepermint/repos",
      "events_url": "https://api.github.com/users/xpepermint/events{/privacy}",
      "received_events_url": "https://api.github.com/users/xpepermint/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-06-08T11:26:05Z",
    "updated_at": "2018-06-08T11:26:05Z",
    "author_association": "NONE",
    "body": "It would be easier if things like `web3` would be under `peerDependencies`.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/395732480/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/395752619",
    "html_url": "https://github.com/trufflesuite/truffle/issues/994#issuecomment-395752619",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/994",
    "id": 395752619,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5NTc1MjYxOQ==",
    "user": {
      "login": "cgewecke",
      "id": 7332026,
      "node_id": "MDQ6VXNlcjczMzIwMjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7332026?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cgewecke",
      "html_url": "https://github.com/cgewecke",
      "followers_url": "https://api.github.com/users/cgewecke/followers",
      "following_url": "https://api.github.com/users/cgewecke/following{/other_user}",
      "gists_url": "https://api.github.com/users/cgewecke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cgewecke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cgewecke/subscriptions",
      "organizations_url": "https://api.github.com/users/cgewecke/orgs",
      "repos_url": "https://api.github.com/users/cgewecke/repos",
      "events_url": "https://api.github.com/users/cgewecke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cgewecke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-06-08T12:57:16Z",
    "updated_at": "2018-06-08T12:57:16Z",
    "author_association": "CONTRIBUTOR",
    "body": "@Levino \r\n@MoMannn \r\n@xpepermint\r\n\r\nUnbundled truffle is available as [truffle-core](https://www.npmjs.com/package/truffle-core), which exposes a `cli.js` so it can be used as command line utility on its own.\r\n\r\nWe're migrating the project architecture to a [Lerna monorepo](https://github.com/lerna/lerna) shortly so that everything is in one place and dependencies like `web3` sit in a single location. Modifying the project should become a lot easier. I believe Truffle will continue to be published as a webpack although perhaps there should be some discussion about this. \r\n\r\nI think the decision to bundle was made more than a year ago when package-locking was less normative and semver coherence was less rigorously followed in truffle's Ethereum dependencies. It's been very effective at squashing cross-platform installation issues and speeding up installation. Truffle used to take a couple minutes to install and the issues were filled with dep problems. It now takes a few seconds - the goal was to make something that had turned into a minor nightmare super simple and reliable for new users. \r\n\r\n@xpepermint Not sure if this helps but truffle also publishes a nightly experimental build that runs web3 1.0-beta.33 under the hood. It's available on [npm as darq-truffle@next](https://www.npmjs.com/package/darq-truffle).\r\n\r\n\r\n\r\n\r\n\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/395752619/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/395755929",
    "html_url": "https://github.com/trufflesuite/truffle/issues/994#issuecomment-395755929",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/994",
    "id": 395755929,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5NTc1NTkyOQ==",
    "user": {
      "login": "xpepermint",
      "id": 174279,
      "node_id": "MDQ6VXNlcjE3NDI3OQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/174279?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/xpepermint",
      "html_url": "https://github.com/xpepermint",
      "followers_url": "https://api.github.com/users/xpepermint/followers",
      "following_url": "https://api.github.com/users/xpepermint/following{/other_user}",
      "gists_url": "https://api.github.com/users/xpepermint/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/xpepermint/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/xpepermint/subscriptions",
      "organizations_url": "https://api.github.com/users/xpepermint/orgs",
      "repos_url": "https://api.github.com/users/xpepermint/repos",
      "events_url": "https://api.github.com/users/xpepermint/events{/privacy}",
      "received_events_url": "https://api.github.com/users/xpepermint/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-06-08T13:10:32Z",
    "updated_at": "2018-06-08T13:10:32Z",
    "author_association": "NONE",
    "body": "Thanks @cgewecke for the explanation. We are using our own Web3 version thus peerDependencies would help us run that with the default Truffle version. Now we are forking truffle project to achieve that.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/395755929/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/395760086",
    "html_url": "https://github.com/trufflesuite/truffle/issues/994#issuecomment-395760086",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/994",
    "id": 395760086,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5NTc2MDA4Ng==",
    "user": {
      "login": "cgewecke",
      "id": 7332026,
      "node_id": "MDQ6VXNlcjczMzIwMjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7332026?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cgewecke",
      "html_url": "https://github.com/cgewecke",
      "followers_url": "https://api.github.com/users/cgewecke/followers",
      "following_url": "https://api.github.com/users/cgewecke/following{/other_user}",
      "gists_url": "https://api.github.com/users/cgewecke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cgewecke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cgewecke/subscriptions",
      "organizations_url": "https://api.github.com/users/cgewecke/orgs",
      "repos_url": "https://api.github.com/users/cgewecke/repos",
      "events_url": "https://api.github.com/users/cgewecke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cgewecke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-06-08T13:26:19Z",
    "updated_at": "2018-06-08T13:26:19Z",
    "author_association": "CONTRIBUTOR",
    "body": "@xpepermint Ah ok, good to know.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/395760086/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/395761163",
    "html_url": "https://github.com/trufflesuite/truffle/issues/994#issuecomment-395761163",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/994",
    "id": 395761163,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5NTc2MTE2Mw==",
    "user": {
      "login": "levino",
      "id": 1150767,
      "node_id": "MDQ6VXNlcjExNTA3Njc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1150767?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/levino",
      "html_url": "https://github.com/levino",
      "followers_url": "https://api.github.com/users/levino/followers",
      "following_url": "https://api.github.com/users/levino/following{/other_user}",
      "gists_url": "https://api.github.com/users/levino/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/levino/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/levino/subscriptions",
      "organizations_url": "https://api.github.com/users/levino/orgs",
      "repos_url": "https://api.github.com/users/levino/repos",
      "events_url": "https://api.github.com/users/levino/events{/privacy}",
      "received_events_url": "https://api.github.com/users/levino/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-06-08T13:30:08Z",
    "updated_at": "2018-06-08T13:30:08Z",
    "author_association": "NONE",
    "body": "> Thanks @cgewecke for the explanation. We are using our own Web3 version thus peerDependencies would help us run that with the default Truffle version. Now we are forking truffle project to achieve that.\r\n\r\nSorry, but I do not understand. Could you elaborate how this would help? Currently web3 is bundled into the final .bundle.js. What do the peerDependencies have to do with what ends up in the bundle when it is created before publication of truffle to npm?",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/395761163/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/395761476",
    "html_url": "https://github.com/trufflesuite/truffle/issues/994#issuecomment-395761476",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/994",
    "id": 395761476,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5NTc2MTQ3Ng==",
    "user": {
      "login": "levino",
      "id": 1150767,
      "node_id": "MDQ6VXNlcjExNTA3Njc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1150767?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/levino",
      "html_url": "https://github.com/levino",
      "followers_url": "https://api.github.com/users/levino/followers",
      "following_url": "https://api.github.com/users/levino/following{/other_user}",
      "gists_url": "https://api.github.com/users/levino/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/levino/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/levino/subscriptions",
      "organizations_url": "https://api.github.com/users/levino/orgs",
      "repos_url": "https://api.github.com/users/levino/repos",
      "events_url": "https://api.github.com/users/levino/events{/privacy}",
      "received_events_url": "https://api.github.com/users/levino/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-06-08T13:31:16Z",
    "updated_at": "2018-06-08T13:31:16Z",
    "author_association": "NONE",
    "body": "> Unbundled truffle is available as truffle-core, which exposes a cli.js so it can be used as command line utility on its own.\r\n\r\nHow about fixing the Readme of `tuffle-core` and add this information? It seems it is just the `truffle` readme.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/395761476/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/395762359",
    "html_url": "https://github.com/trufflesuite/truffle/issues/994#issuecomment-395762359",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/994",
    "id": 395762359,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5NTc2MjM1OQ==",
    "user": {
      "login": "xpepermint",
      "id": 174279,
      "node_id": "MDQ6VXNlcjE3NDI3OQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/174279?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/xpepermint",
      "html_url": "https://github.com/xpepermint",
      "followers_url": "https://api.github.com/users/xpepermint/followers",
      "following_url": "https://api.github.com/users/xpepermint/following{/other_user}",
      "gists_url": "https://api.github.com/users/xpepermint/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/xpepermint/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/xpepermint/subscriptions",
      "organizations_url": "https://api.github.com/users/xpepermint/orgs",
      "repos_url": "https://api.github.com/users/xpepermint/repos",
      "events_url": "https://api.github.com/users/xpepermint/events{/privacy}",
      "received_events_url": "https://api.github.com/users/xpepermint/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-06-08T13:34:39Z",
    "updated_at": "2018-06-08T13:34:39Z",
    "author_association": "NONE",
    "body": "@Levino yeah. Because of the webpack this is not possible. If Truffle would be a usual NodeJS project then pearDependencies should do the trick :).",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/395762359/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/395776863",
    "html_url": "https://github.com/trufflesuite/truffle/issues/994#issuecomment-395776863",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/994",
    "id": 395776863,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5NTc3Njg2Mw==",
    "user": {
      "login": "levino",
      "id": 1150767,
      "node_id": "MDQ6VXNlcjExNTA3Njc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1150767?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/levino",
      "html_url": "https://github.com/levino",
      "followers_url": "https://api.github.com/users/levino/followers",
      "following_url": "https://api.github.com/users/levino/following{/other_user}",
      "gists_url": "https://api.github.com/users/levino/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/levino/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/levino/subscriptions",
      "organizations_url": "https://api.github.com/users/levino/orgs",
      "repos_url": "https://api.github.com/users/levino/repos",
      "events_url": "https://api.github.com/users/levino/events{/privacy}",
      "received_events_url": "https://api.github.com/users/levino/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-06-08T14:23:48Z",
    "updated_at": "2018-06-08T14:24:52Z",
    "author_association": "NONE",
    "body": "But as @cgewecke says you can use your own `web3` with the following package.json for your truffle project:\r\n```json\r\n{\r\n  \"dependencies\": {\r\n    \"web3\": \"git://mycustomweb3.git\",\r\n    \"truffle-core\": \"^4.1.11\"\r\n  },\r\n  \"scripts\": {\r\n    \"test\": \"node ./node_modules/truffle-core/cli.js test\"\r\n  }\r\n}\r\n```\r\nNobody needs to make `web3` a peer dependency then anywhere. Your custom explicit dependency will overwrite the `web3` dependency of `truffle-core` as long as your custom `web3` satisfies the correct version range. This is also a solution for @MoMannn without forking truffle himself. `npm run test` should use the local `web3` version.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/395776863/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/395778116",
    "html_url": "https://github.com/trufflesuite/truffle/issues/994#issuecomment-395778116",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/994",
    "id": 395778116,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5NTc3ODExNg==",
    "user": {
      "login": "levino",
      "id": 1150767,
      "node_id": "MDQ6VXNlcjExNTA3Njc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1150767?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/levino",
      "html_url": "https://github.com/levino",
      "followers_url": "https://api.github.com/users/levino/followers",
      "following_url": "https://api.github.com/users/levino/following{/other_user}",
      "gists_url": "https://api.github.com/users/levino/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/levino/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/levino/subscriptions",
      "organizations_url": "https://api.github.com/users/levino/orgs",
      "repos_url": "https://api.github.com/users/levino/repos",
      "events_url": "https://api.github.com/users/levino/events{/privacy}",
      "received_events_url": "https://api.github.com/users/levino/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-06-08T14:27:55Z",
    "updated_at": "2018-06-08T14:29:20Z",
    "author_association": "NONE",
    "body": "> @Levino yeah. Because of the webpack this is not possible. If Truffle would be a usual NodeJS project then pearDependencies should do the trick :).\r\n\r\nI think it works this way: When you add a local dependency to `web3` the subdependency `web3` of any other dependency will be overwritten. It does not matter whether `web3` is a subdependency oder a subpeerdependency. In your `node_modules` folder will always be only one `web3`. The peer dependency thing actually does not change that much, it basically just does not make the package automatically install `web3` but forces the user to install `web3` by hand and as such picking a specific version.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/395778116/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/395787158",
    "html_url": "https://github.com/trufflesuite/truffle/issues/994#issuecomment-395787158",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/994",
    "id": 395787158,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5NTc4NzE1OA==",
    "user": {
      "login": "levino",
      "id": 1150767,
      "node_id": "MDQ6VXNlcjExNTA3Njc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1150767?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/levino",
      "html_url": "https://github.com/levino",
      "followers_url": "https://api.github.com/users/levino/followers",
      "following_url": "https://api.github.com/users/levino/following{/other_user}",
      "gists_url": "https://api.github.com/users/levino/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/levino/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/levino/subscriptions",
      "organizations_url": "https://api.github.com/users/levino/orgs",
      "repos_url": "https://api.github.com/users/levino/repos",
      "events_url": "https://api.github.com/users/levino/events{/privacy}",
      "received_events_url": "https://api.github.com/users/levino/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-06-08T14:56:44Z",
    "updated_at": "2018-06-08T14:58:31Z",
    "author_association": "NONE",
    "body": "> I think the decision to bundle was made more than a year ago when package-locking was less normative and semver coherence was less rigorously followed in truffle's Ethereum dependencies. It's been very effective at squashing cross-platform installation issues and speeding up installation. Truffle used to take a couple minutes to install and the issues were filled with dep problems. It now takes a few seconds - the goal was to make something that had turned into a minor nightmare super simple and reliable for new users.\r\n\r\nI get your point. But are there any other **high quality** projects who use this pattern? This sounds to me a little bit like a hack to solve the problem, that `truffle` has too many inapt users who do not have their sh*t together when it comes to node and npm. And as soon as people use `truffle-core` you have the same issues as before. So you kind of have a gatekeeper for the script kiddies who cannot tell their arse from their elbow but they still can end up creating annoying issues like: \"Mimimi, `truffle-core` won't build on my virus infected and misconfigured windows setup.\" I would rather say these users should not be doing any smart contract coding whatsoever. You are giving machine guns to monkeys.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/395787158/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/395788619",
    "html_url": "https://github.com/trufflesuite/truffle/issues/994#issuecomment-395788619",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/994",
    "id": 395788619,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5NTc4ODYxOQ==",
    "user": {
      "login": "levino",
      "id": 1150767,
      "node_id": "MDQ6VXNlcjExNTA3Njc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1150767?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/levino",
      "html_url": "https://github.com/levino",
      "followers_url": "https://api.github.com/users/levino/followers",
      "following_url": "https://api.github.com/users/levino/following{/other_user}",
      "gists_url": "https://api.github.com/users/levino/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/levino/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/levino/subscriptions",
      "organizations_url": "https://api.github.com/users/levino/orgs",
      "repos_url": "https://api.github.com/users/levino/repos",
      "events_url": "https://api.github.com/users/levino/events{/privacy}",
      "received_events_url": "https://api.github.com/users/levino/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-06-08T15:01:16Z",
    "updated_at": "2018-06-08T15:01:16Z",
    "author_association": "NONE",
    "body": "I guess my original issue is resolved.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/395788619/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/395800586",
    "html_url": "https://github.com/trufflesuite/truffle/issues/994#issuecomment-395800586",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/994",
    "id": 395800586,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5NTgwMDU4Ng==",
    "user": {
      "login": "cgewecke",
      "id": 7332026,
      "node_id": "MDQ6VXNlcjczMzIwMjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7332026?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cgewecke",
      "html_url": "https://github.com/cgewecke",
      "followers_url": "https://api.github.com/users/cgewecke/followers",
      "following_url": "https://api.github.com/users/cgewecke/following{/other_user}",
      "gists_url": "https://api.github.com/users/cgewecke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cgewecke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cgewecke/subscriptions",
      "organizations_url": "https://api.github.com/users/cgewecke/orgs",
      "repos_url": "https://api.github.com/users/cgewecke/repos",
      "events_url": "https://api.github.com/users/cgewecke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cgewecke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-06-08T15:39:05Z",
    "updated_at": "2018-06-08T15:39:05Z",
    "author_association": "CONTRIBUTOR",
    "body": "@levino LOL ok. \r\n\r\nJust making a note here for future reference that once we're in the monorepo we should consider publishing an un-bundled version with each release at some tag so people who prefer this have easy acccess. \r\n```shell\r\ntruffle@unpacked # or something\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/395800586/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
