{
  "url": "https://api.github.com/repos/trufflesuite/truffle/issues/792",
  "repository_url": "https://api.github.com/repos/trufflesuite/truffle",
  "labels_url": "https://api.github.com/repos/trufflesuite/truffle/issues/792/labels{/name}",
  "comments_url": "https://api.github.com/repos/trufflesuite/truffle/issues/792/comments",
  "events_url": "https://api.github.com/repos/trufflesuite/truffle/issues/792/events",
  "html_url": "https://github.com/trufflesuite/truffle/issues/792",
  "id": 295238140,
  "node_id": "MDU6SXNzdWUyOTUyMzgxNDA=",
  "number": 792,
  "title": "Error: [ethjs-abi] while decoding address data, invalid address data, invalid byte length 32",
  "user": {
    "login": "malkevych",
    "id": 13216326,
    "node_id": "MDQ6VXNlcjEzMjE2MzI2",
    "avatar_url": "https://avatars.githubusercontent.com/u/13216326?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/malkevych",
    "html_url": "https://github.com/malkevych",
    "followers_url": "https://api.github.com/users/malkevych/followers",
    "following_url": "https://api.github.com/users/malkevych/following{/other_user}",
    "gists_url": "https://api.github.com/users/malkevych/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/malkevych/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/malkevych/subscriptions",
    "organizations_url": "https://api.github.com/users/malkevych/orgs",
    "repos_url": "https://api.github.com/users/malkevych/repos",
    "events_url": "https://api.github.com/users/malkevych/events{/privacy}",
    "received_events_url": "https://api.github.com/users/malkevych/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 5,
  "created_at": "2018-02-07T18:07:27Z",
  "updated_at": "2018-10-30T13:14:57Z",
  "closed_at": "2018-02-15T15:43:16Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "- [x] I've asked for help in the [Truffle Gitter](http://gitter.im/Consensys/truffle) before filing this issue.\r\n\r\n---------------------------\r\n\r\n## Issue\r\n\r\nWhen I tries to call method \"transfer\" in erc20Token from another contract i am getting error: \r\nError: [ethjs-abi] while decoding address data, invalid address data, invalid byte length 32\r\n\r\nInteresting facts: \r\n1) in Solidity remix everything works fine.\r\n2) When I go to erc20Token implementation and comment event line like this:\r\n```\r\n  function transfer(address _to, uint256 _value) public returns (bool) {\r\n    require(_to != address(0));\r\n    require(_value <= balances[msg.sender]);\r\n\r\n    // SafeMath.sub will throw if there is not enough balance.\r\n    balances[msg.sender] = balances[msg.sender].sub(_value);\r\n    balances[_to] = balances[_to].add(_value);\r\n    //Transfer(msg.sender, msg.sender, _value);\r\n    return true;\r\n  }\r\n```\r\neverything works fine.\r\n\r\n## Steps to Reproduce\r\n\r\nERC20 token is implementation from Zeppeline.\r\n\r\nerc20Token - just ERC20 Contract \r\nB - Simple contract with function like:\r\n    ```\r\nfunction create(address user) onlyOwner public {\r\n     erc20Token.transfer(user, 10);\r\n}\r\n```\r\nWhen I try to call function \"create\" in my truffle tests I catch that error in my terminal.\r\n\r\n## Expected Behavior\r\n\r\nContract B will send 10 tokens to \"user\"\r\n\r\n## Actual Results\r\n\r\nI am getting error:\r\nError: [ethjs-abi] while decoding address data, invalid address data, invalid byte length 32\r\n    at Object.decodeAddress [as decode] (/usr/local/lib/node_modules/truffle/build/cli.bundled.js:229574:13)\r\n    at /usr/local/lib/node_modules/truffle/build/cli.bundled.js:184385:26\r\n    at Array.forEach (<anonymous>)\r\n    at decodeParams (/usr/local/lib/node_modules/truffle/build/cli.bundled.js:184378:9)\r\n    at Object.decodeEvent (/usr/local/lib/node_modules/truffle/build/cli.bundled.js:184423:10)\r\n    at /usr/local/lib/node_modules/truffle/build/cli.bundled.js:316763:41\r\n    at Array.map (<anonymous>)\r\n    at Object.decodeLogs (/usr/local/lib/node_modules/truffle/build/cli.bundled.js:316731:19)\r\n    at Object.callback (/usr/local/lib/node_modules/truffle/build/cli.bundled.js:316859:35)\r\n    at /usr/local/lib/node_modules/truffle/build/cli.bundled.js:37991:25\r\n\r\n## Environment\r\n\r\n* Operating System: \r\nmac OS X 10.13.3\r\n* Truffle version:\r\nTruffle v4.0.6 (core: 4.0.6)\r\nSolidity v0.4.19 (solc-js)\r\n* Ethereum client:\r\n* node version:\r\n* npm version: \r\nnpm: '5.6.0',\r\n",
  "closed_by": {
    "login": "cgewecke",
    "id": 7332026,
    "node_id": "MDQ6VXNlcjczMzIwMjY=",
    "avatar_url": "https://avatars.githubusercontent.com/u/7332026?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/cgewecke",
    "html_url": "https://github.com/cgewecke",
    "followers_url": "https://api.github.com/users/cgewecke/followers",
    "following_url": "https://api.github.com/users/cgewecke/following{/other_user}",
    "gists_url": "https://api.github.com/users/cgewecke/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/cgewecke/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/cgewecke/subscriptions",
    "organizations_url": "https://api.github.com/users/cgewecke/orgs",
    "repos_url": "https://api.github.com/users/cgewecke/repos",
    "events_url": "https://api.github.com/users/cgewecke/events{/privacy}",
    "received_events_url": "https://api.github.com/users/cgewecke/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/792/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/trufflesuite/truffle/issues/792/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/364784447",
    "html_url": "https://github.com/trufflesuite/truffle/issues/792#issuecomment-364784447",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/792",
    "id": 364784447,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2NDc4NDQ0Nw==",
    "user": {
      "login": "cgewecke",
      "id": 7332026,
      "node_id": "MDQ6VXNlcjczMzIwMjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7332026?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cgewecke",
      "html_url": "https://github.com/cgewecke",
      "followers_url": "https://api.github.com/users/cgewecke/followers",
      "following_url": "https://api.github.com/users/cgewecke/following{/other_user}",
      "gists_url": "https://api.github.com/users/cgewecke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cgewecke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cgewecke/subscriptions",
      "organizations_url": "https://api.github.com/users/cgewecke/orgs",
      "repos_url": "https://api.github.com/users/cgewecke/repos",
      "events_url": "https://api.github.com/users/cgewecke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cgewecke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-02-11T20:20:54Z",
    "updated_at": "2018-02-11T20:20:54Z",
    "author_association": "CONTRIBUTOR",
    "body": "@webslesar Where/how is the variable `user` being initialized before it is passed to the `create` function? Is it coming from the `accounts` array passed into the Truffle test environment or somewhere else? ",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/364784447/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/364798725",
    "html_url": "https://github.com/trufflesuite/truffle/issues/792#issuecomment-364798725",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/792",
    "id": 364798725,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2NDc5ODcyNQ==",
    "user": {
      "login": "malkevych",
      "id": 13216326,
      "node_id": "MDQ6VXNlcjEzMjE2MzI2",
      "avatar_url": "https://avatars.githubusercontent.com/u/13216326?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/malkevych",
      "html_url": "https://github.com/malkevych",
      "followers_url": "https://api.github.com/users/malkevych/followers",
      "following_url": "https://api.github.com/users/malkevych/following{/other_user}",
      "gists_url": "https://api.github.com/users/malkevych/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/malkevych/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/malkevych/subscriptions",
      "organizations_url": "https://api.github.com/users/malkevych/orgs",
      "repos_url": "https://api.github.com/users/malkevych/repos",
      "events_url": "https://api.github.com/users/malkevych/events{/privacy}",
      "received_events_url": "https://api.github.com/users/malkevych/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-02-11T23:06:54Z",
    "updated_at": "2018-02-11T23:06:54Z",
    "author_association": "NONE",
    "body": "User is from acconts. If you need i can provide sample code",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/364798725/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/364802211",
    "html_url": "https://github.com/trufflesuite/truffle/issues/792#issuecomment-364802211",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/792",
    "id": 364802211,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2NDgwMjIxMQ==",
    "user": {
      "login": "cgewecke",
      "id": 7332026,
      "node_id": "MDQ6VXNlcjczMzIwMjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7332026?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cgewecke",
      "html_url": "https://github.com/cgewecke",
      "followers_url": "https://api.github.com/users/cgewecke/followers",
      "following_url": "https://api.github.com/users/cgewecke/following{/other_user}",
      "gists_url": "https://api.github.com/users/cgewecke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cgewecke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cgewecke/subscriptions",
      "organizations_url": "https://api.github.com/users/cgewecke/orgs",
      "repos_url": "https://api.github.com/users/cgewecke/repos",
      "events_url": "https://api.github.com/users/cgewecke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cgewecke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-02-11T23:52:09Z",
    "updated_at": "2018-02-11T23:52:09Z",
    "author_association": "CONTRIBUTOR",
    "body": "@webslesar Yes, it would be helpful if you could provide an example test to reproduce this error. \r\nOut of curiosity, is it your intention to implement the Transfer event as shown above, with `msg.sender` passed in as the value for the `_to` parameter?\r\n```\r\nTransfer(msg.sender, msg.sender, _value);\r\n```\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/364802211/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/365966582",
    "html_url": "https://github.com/trufflesuite/truffle/issues/792#issuecomment-365966582",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/792",
    "id": 365966582,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2NTk2NjU4Mg==",
    "user": {
      "login": "cgewecke",
      "id": 7332026,
      "node_id": "MDQ6VXNlcjczMzIwMjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7332026?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cgewecke",
      "html_url": "https://github.com/cgewecke",
      "followers_url": "https://api.github.com/users/cgewecke/followers",
      "following_url": "https://api.github.com/users/cgewecke/following{/other_user}",
      "gists_url": "https://api.github.com/users/cgewecke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cgewecke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cgewecke/subscriptions",
      "organizations_url": "https://api.github.com/users/cgewecke/orgs",
      "repos_url": "https://api.github.com/users/cgewecke/repos",
      "events_url": "https://api.github.com/users/cgewecke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cgewecke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-02-15T15:43:16Z",
    "updated_at": "2018-02-15T15:43:16Z",
    "author_association": "CONTRIBUTOR",
    "body": "@webslesar Going to close this for house-keeping but if you're able to provide a reproducible example please feel free to re-open and we'll be more than happy to investigate. Thanks!",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/365966582/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/434295827",
    "html_url": "https://github.com/trufflesuite/truffle/issues/792#issuecomment-434295827",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/792",
    "id": 434295827,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzNDI5NTgyNw==",
    "user": {
      "login": "nklipa13",
      "id": 6116529,
      "node_id": "MDQ6VXNlcjYxMTY1Mjk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6116529?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nklipa13",
      "html_url": "https://github.com/nklipa13",
      "followers_url": "https://api.github.com/users/nklipa13/followers",
      "following_url": "https://api.github.com/users/nklipa13/following{/other_user}",
      "gists_url": "https://api.github.com/users/nklipa13/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nklipa13/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nklipa13/subscriptions",
      "organizations_url": "https://api.github.com/users/nklipa13/orgs",
      "repos_url": "https://api.github.com/users/nklipa13/repos",
      "events_url": "https://api.github.com/users/nklipa13/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nklipa13/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-10-30T13:14:57Z",
    "updated_at": "2018-10-30T13:14:57Z",
    "author_association": "NONE",
    "body": "Hey, I had same issue with this and I think that I figured out what was the problem, so basically problem is if you have event with same name in your contract (i.e. Transfer) Truffle gives you that error message. So just try changing name of your event to TransferA and it should work\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/434295827/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
