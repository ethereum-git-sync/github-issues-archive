{
  "url": "https://api.github.com/repos/trufflesuite/truffle/issues/381",
  "repository_url": "https://api.github.com/repos/trufflesuite/truffle",
  "labels_url": "https://api.github.com/repos/trufflesuite/truffle/issues/381/labels{/name}",
  "comments_url": "https://api.github.com/repos/trufflesuite/truffle/issues/381/comments",
  "events_url": "https://api.github.com/repos/trufflesuite/truffle/issues/381/events",
  "html_url": "https://github.com/trufflesuite/truffle/issues/381",
  "id": 216967037,
  "node_id": "MDU6SXNzdWUyMTY5NjcwMzc=",
  "number": 381,
  "title": "Document .request: Access RAW transaction data",
  "user": {
    "login": "recmo",
    "id": 4532328,
    "node_id": "MDQ6VXNlcjQ1MzIzMjg=",
    "avatar_url": "https://avatars.githubusercontent.com/u/4532328?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/recmo",
    "html_url": "https://github.com/recmo",
    "followers_url": "https://api.github.com/users/recmo/followers",
    "following_url": "https://api.github.com/users/recmo/following{/other_user}",
    "gists_url": "https://api.github.com/users/recmo/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/recmo/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/recmo/subscriptions",
    "organizations_url": "https://api.github.com/users/recmo/orgs",
    "repos_url": "https://api.github.com/users/recmo/repos",
    "events_url": "https://api.github.com/users/recmo/events{/privacy}",
    "received_events_url": "https://api.github.com/users/recmo/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 230393326,
      "node_id": "MDU6TGFiZWwyMzAzOTMzMjY=",
      "url": "https://api.github.com/repos/trufflesuite/truffle/labels/bug",
      "name": "bug",
      "color": "fc2929",
      "default": true,
      "description": null
    },
    {
      "id": 990819613,
      "node_id": "MDU6TGFiZWw5OTA4MTk2MTM=",
      "url": "https://api.github.com/repos/trufflesuite/truffle/labels/Docs",
      "name": "Docs",
      "color": "c5def5",
      "default": false,
      "description": ""
    },
    {
      "id": 990823235,
      "node_id": "MDU6TGFiZWw5OTA4MjMyMzU=",
      "url": "https://api.github.com/repos/trufflesuite/truffle/labels/Contract",
      "name": "Contract",
      "color": "a1ea8f",
      "default": false,
      "description": ""
    },
    {
      "id": 1675042518,
      "node_id": "MDU6TGFiZWwxNjc1MDQyNTE4",
      "url": "https://api.github.com/repos/trufflesuite/truffle/labels/priority6%20%F0%9F%92%AD",
      "name": "priority6 ðŸ’­",
      "color": "006b75",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 14,
  "created_at": "2017-03-25T11:05:55Z",
  "updated_at": "2020-08-27T21:40:07Z",
  "closed_at": "2020-08-27T21:40:07Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "- [x] I've asked for help in the [Truffle Gitter](http://gitter.im/Consensys/truffle) before filing this issue.\r\n\r\nSee: https://gitter.im/ConsenSys/truffle?at=58d4e2698fa16339540fa65e\r\n\r\n---------------------------\r\n(Further ignoring the template, which didn't seem fitting for a feature request)\r\n\r\n## Abstract\r\n\r\nThe Truffle contract API currently has no way of getting the raw transaction data of a given contract function call. The workaround is to call `MyContract.contract.myFunction.getData(...args)` but the `MyContract.contract` interface is not meant for this.\r\n\r\n## Use cases\r\n\r\nI have two production use-cases, there may be more:\r\n\r\n### Executing arbitrary transactions from wallet contracts\r\n\r\nThe standard for [forwarding contracts][1] specifies the function\r\n\r\n[1]: https://github.com/ethereum/wiki/wiki/Standardized_Contract_APIs#forwarding-contracts-eg-multisig\r\n\r\n```\r\nexecute(address _to, uint _value, bytes _data) returns (bytes32 _id)\r\n```\r\n\r\nwhere `_data` is ABI encoded transaction call data. This API is used by most MultiSig wallets and allows MultiSig wallets to call contracts. This, for example, facilitates owning tokens in a MultiSig wallet. To send one `token` from `multiSig` we do the following:\r\n\r\n```\r\nconst recipient = â€¦ // address\r\nconst amount = 1;\r\nconst innertx = token.contract.transfer.getData(recipient, amount);\r\nconst id = await multiSig.execute(token, 0, innertx);\r\n// Announce id to other co-owners for approval. Once approved, innertx will be\r\n// executed on tokenContract with msg.sender == multiSig.\r\n```\r\n\r\nOther MultiSig uses, such as owning other `Ownable` contracts requires similar code. In fact, the only thing you can do with a generic MultiSig wallet *without* using txdata is receiving and sending Ether.\r\n\r\n### Executing callbacks\r\n\r\nIn [ERC20][2] and [ERC23][3] callback mechanism are proposed where an opaque byte array can be passed to the called contract. At least [one example[4] uses this opaque byte array to encode a function call on the contract. Using it would be similar to the MultiSig example above.\r\n\r\n[2]: https://github.com/ethereum/EIPs/issues/20\r\n[3]: https://github.com/ethereum/EIPs/issues/223\r\n[4]: https://github.com/ethereum/EIPs/issues/223#issuecomment-285628187\r\n\r\n## Proposal\r\n\r\nMy ideal syntax would look like this: \r\n\r\n```\r\nconst recipient = â€¦ // address\r\nconst amount = 1;\r\nconst id = await multiSig.execute(token, 0, token.transfer(recipient, amount));\r\n```\r\n\r\nTo make this possible, I suggest making the promise returned by contract functions cancelable and adding a `rawData()` function to it. Then when a transaction promise is passed as an argument in a place where `bytes` is expected, it will be substituted by the `rawData()` and the transaction will be cancelled. (Supporting casting to `bytes4` also makes sense as this indicates functions without arguments).\r\n\r\nOr, easier, something similar to the raw contract API can de implemented:\r\n\r\n```\r\nconst recipient = â€¦ // address\r\nconst amount = 1;\r\nconst id = await multiSig.execute(token, 0, token.transfer.data(recipient, amount));\r\n```\r\n\r\n",
  "closed_by": {
    "login": "haltman-at",
    "id": 35589221,
    "node_id": "MDQ6VXNlcjM1NTg5MjIx",
    "avatar_url": "https://avatars.githubusercontent.com/u/35589221?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/haltman-at",
    "html_url": "https://github.com/haltman-at",
    "followers_url": "https://api.github.com/users/haltman-at/followers",
    "following_url": "https://api.github.com/users/haltman-at/following{/other_user}",
    "gists_url": "https://api.github.com/users/haltman-at/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/haltman-at/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/haltman-at/subscriptions",
    "organizations_url": "https://api.github.com/users/haltman-at/orgs",
    "repos_url": "https://api.github.com/users/haltman-at/repos",
    "events_url": "https://api.github.com/users/haltman-at/events{/privacy}",
    "received_events_url": "https://api.github.com/users/haltman-at/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/381/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/trufflesuite/truffle/issues/381/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/289218051",
    "html_url": "https://github.com/trufflesuite/truffle/issues/381#issuecomment-289218051",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/381",
    "id": 289218051,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4OTIxODA1MQ==",
    "user": {
      "login": "izqui",
      "id": 447328,
      "node_id": "MDQ6VXNlcjQ0NzMyOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/447328?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/izqui",
      "html_url": "https://github.com/izqui",
      "followers_url": "https://api.github.com/users/izqui/followers",
      "following_url": "https://api.github.com/users/izqui/following{/other_user}",
      "gists_url": "https://api.github.com/users/izqui/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/izqui/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/izqui/subscriptions",
      "organizations_url": "https://api.github.com/users/izqui/orgs",
      "repos_url": "https://api.github.com/users/izqui/repos",
      "events_url": "https://api.github.com/users/izqui/events{/privacy}",
      "received_events_url": "https://api.github.com/users/izqui/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-03-25T15:16:26Z",
    "updated_at": "2017-03-25T15:16:26Z",
    "author_association": "NONE",
    "body": "If I did understand correctly it, web3 already does have this API! \r\n\r\nThe equivalent of your desired `.getData` is `.request`\r\n\r\n`token.transfer.request(recipient, amount).params[0].data` will give you the data param that would be sent with that transaction.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/289218051/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/314822592",
    "html_url": "https://github.com/trufflesuite/truffle/issues/381#issuecomment-314822592",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/381",
    "id": 314822592,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxNDgyMjU5Mg==",
    "user": {
      "login": "tcoulter",
      "id": 92629,
      "node_id": "MDQ6VXNlcjkyNjI5",
      "avatar_url": "https://avatars.githubusercontent.com/u/92629?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tcoulter",
      "html_url": "https://github.com/tcoulter",
      "followers_url": "https://api.github.com/users/tcoulter/followers",
      "following_url": "https://api.github.com/users/tcoulter/following{/other_user}",
      "gists_url": "https://api.github.com/users/tcoulter/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tcoulter/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tcoulter/subscriptions",
      "organizations_url": "https://api.github.com/users/tcoulter/orgs",
      "repos_url": "https://api.github.com/users/tcoulter/repos",
      "events_url": "https://api.github.com/users/tcoulter/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tcoulter/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-07-12T16:24:46Z",
    "updated_at": "2017-07-12T16:24:46Z",
    "author_association": "CONTRIBUTOR",
    "body": "@izqui is correct - `truffle-contract` exposes the `.request` option, which gives you the information you need. \r\n\r\nAdding a TODO to document this. ",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/314822592/reactions",
      "total_count": 2,
      "+1": 2,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/467233154",
    "html_url": "https://github.com/trufflesuite/truffle/issues/381#issuecomment-467233154",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/381",
    "id": 467233154,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2NzIzMzE1NA==",
    "user": {
      "login": "AusIV",
      "id": 977954,
      "node_id": "MDQ6VXNlcjk3Nzk1NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/977954?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/AusIV",
      "html_url": "https://github.com/AusIV",
      "followers_url": "https://api.github.com/users/AusIV/followers",
      "following_url": "https://api.github.com/users/AusIV/following{/other_user}",
      "gists_url": "https://api.github.com/users/AusIV/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/AusIV/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/AusIV/subscriptions",
      "organizations_url": "https://api.github.com/users/AusIV/orgs",
      "repos_url": "https://api.github.com/users/AusIV/repos",
      "events_url": "https://api.github.com/users/AusIV/events{/privacy}",
      "received_events_url": "https://api.github.com/users/AusIV/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-02-25T23:54:06Z",
    "updated_at": "2019-02-25T23:54:06Z",
    "author_association": "NONE",
    "body": "I realize this is an old ticket to document the .request option, but when I upgraded from truffle 4.x to 5.0 `contract.method.request(args)` has started throwing:\r\n\r\n```\r\nTypeError: fn(...).request is not a function\r\n    at execute.prepareCall.then.res (project/node_modules/truffle/build/webpack:/packages/truffle-contract/lib/execute.js:390:1)\r\n```\r\n\r\nRunning:\r\n\r\n```\r\nTruffle v5.0.5 (core: 5.0.5)\r\nSolidity - 0.5.3 (solc-js)\r\nNode v8.9.4\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/467233154/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/468043311",
    "html_url": "https://github.com/trufflesuite/truffle/issues/381#issuecomment-468043311",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/381",
    "id": 468043311,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2ODA0MzMxMQ==",
    "user": {
      "login": "eggplantzzz",
      "id": 14827965,
      "node_id": "MDQ6VXNlcjE0ODI3OTY1",
      "avatar_url": "https://avatars.githubusercontent.com/u/14827965?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eggplantzzz",
      "html_url": "https://github.com/eggplantzzz",
      "followers_url": "https://api.github.com/users/eggplantzzz/followers",
      "following_url": "https://api.github.com/users/eggplantzzz/following{/other_user}",
      "gists_url": "https://api.github.com/users/eggplantzzz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eggplantzzz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eggplantzzz/subscriptions",
      "organizations_url": "https://api.github.com/users/eggplantzzz/orgs",
      "repos_url": "https://api.github.com/users/eggplantzzz/repos",
      "events_url": "https://api.github.com/users/eggplantzzz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eggplantzzz/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-02-27T21:45:41Z",
    "updated_at": "2019-02-27T21:45:41Z",
    "author_association": "CONTRIBUTOR",
    "body": "@AusIV I think you need to do `contract.request(args)`...assuming request is a function found inside your contract. Or you could do `contract.methods.request(args)`.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/468043311/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/468315544",
    "html_url": "https://github.com/trufflesuite/truffle/issues/381#issuecomment-468315544",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/381",
    "id": 468315544,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2ODMxNTU0NA==",
    "user": {
      "login": "AusIV",
      "id": 977954,
      "node_id": "MDQ6VXNlcjk3Nzk1NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/977954?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/AusIV",
      "html_url": "https://github.com/AusIV",
      "followers_url": "https://api.github.com/users/AusIV/followers",
      "following_url": "https://api.github.com/users/AusIV/following{/other_user}",
      "gists_url": "https://api.github.com/users/AusIV/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/AusIV/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/AusIV/subscriptions",
      "organizations_url": "https://api.github.com/users/AusIV/orgs",
      "repos_url": "https://api.github.com/users/AusIV/repos",
      "events_url": "https://api.github.com/users/AusIV/events{/privacy}",
      "received_events_url": "https://api.github.com/users/AusIV/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-02-28T15:28:50Z",
    "updated_at": "2019-02-28T15:28:50Z",
    "author_association": "NONE",
    "body": "If I have a contract with a method \"getVal(uint256)\", I can call it with:\r\n\r\n```\r\ncontract.getVal(1)\r\n```\r\nor \r\n```\r\ncontract.methods[\"getVal(uint256)\"](1)\r\n```\r\n\r\nMy understanding it that the `request` option on these methods should give me access to the parameters of the request without actually executing it, so if I did:\r\n\r\n```\r\nlet req = contract.getVal.request(1)\r\n```\r\nor \r\n```\r\nlet req = contract.methods[\"getVal(uint256)\"].request(1)\r\n```\r\n\r\nIt should give me an object that represents the request. Then I should be able to do `req.params[0].data` to get the function call data.\r\n\r\nIn both of the above cases the `.request` value is a defined property, but when I call it I get \r\n\r\n```\r\nTypeError: fn(...).request is not a function\r\n    at execute.prepareCall.then.res (project/node_modules/truffle/build/webpack:/packages/truffle-contract/lib/execute.js:390:1)\r\n```\r\n\r\nNote that the error is not coming directly from my call to request, but from this line: https://github.com/trufflesuite/truffle/blob/develop/packages/truffle-contract/lib/execute.js#L390",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/468315544/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/469310740",
    "html_url": "https://github.com/trufflesuite/truffle/issues/381#issuecomment-469310740",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/381",
    "id": 469310740,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2OTMxMDc0MA==",
    "user": {
      "login": "eggplantzzz",
      "id": 14827965,
      "node_id": "MDQ6VXNlcjE0ODI3OTY1",
      "avatar_url": "https://avatars.githubusercontent.com/u/14827965?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eggplantzzz",
      "html_url": "https://github.com/eggplantzzz",
      "followers_url": "https://api.github.com/users/eggplantzzz/followers",
      "following_url": "https://api.github.com/users/eggplantzzz/following{/other_user}",
      "gists_url": "https://api.github.com/users/eggplantzzz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eggplantzzz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eggplantzzz/subscriptions",
      "organizations_url": "https://api.github.com/users/eggplantzzz/orgs",
      "repos_url": "https://api.github.com/users/eggplantzzz/repos",
      "events_url": "https://api.github.com/users/eggplantzzz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eggplantzzz/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-03-04T16:10:37Z",
    "updated_at": "2019-03-04T16:10:57Z",
    "author_association": "CONTRIBUTOR",
    "body": "Oh my mistake @AusIV, yes you need to use `Contract.methods[<signature>]` to do that using `methods`.\r\nI am unfamiliar with the `request` method you are trying to use. Is that a web3 feature? I can't seem to find it documented...do you have a link?",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/469310740/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/469889111",
    "html_url": "https://github.com/trufflesuite/truffle/issues/381#issuecomment-469889111",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/381",
    "id": 469889111,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2OTg4OTExMQ==",
    "user": {
      "login": "AusIV",
      "id": 977954,
      "node_id": "MDQ6VXNlcjk3Nzk1NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/977954?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/AusIV",
      "html_url": "https://github.com/AusIV",
      "followers_url": "https://api.github.com/users/AusIV/followers",
      "following_url": "https://api.github.com/users/AusIV/following{/other_user}",
      "gists_url": "https://api.github.com/users/AusIV/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/AusIV/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/AusIV/subscriptions",
      "organizations_url": "https://api.github.com/users/AusIV/orgs",
      "repos_url": "https://api.github.com/users/AusIV/repos",
      "events_url": "https://api.github.com/users/AusIV/events{/privacy}",
      "received_events_url": "https://api.github.com/users/AusIV/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-03-05T22:44:42Z",
    "updated_at": "2019-03-05T22:44:42Z",
    "author_association": "NONE",
    "body": "This ~2 year old ticket was originally about documenting that feature. I hijacked it to say \"that feature isn't working anymore.\" It was working in truffle 4, but seemed to break in truffle 5.\r\n\r\n`contract.methods[<signature>]` is still present and still a function, but internally it tries to call another object, also titled \"request\" which is not a function.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/469889111/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/470587663",
    "html_url": "https://github.com/trufflesuite/truffle/issues/381#issuecomment-470587663",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/381",
    "id": 470587663,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ3MDU4NzY2Mw==",
    "user": {
      "login": "eggplantzzz",
      "id": 14827965,
      "node_id": "MDQ6VXNlcjE0ODI3OTY1",
      "avatar_url": "https://avatars.githubusercontent.com/u/14827965?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eggplantzzz",
      "html_url": "https://github.com/eggplantzzz",
      "followers_url": "https://api.github.com/users/eggplantzzz/followers",
      "following_url": "https://api.github.com/users/eggplantzzz/following{/other_user}",
      "gists_url": "https://api.github.com/users/eggplantzzz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eggplantzzz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eggplantzzz/subscriptions",
      "organizations_url": "https://api.github.com/users/eggplantzzz/orgs",
      "repos_url": "https://api.github.com/users/eggplantzzz/repos",
      "events_url": "https://api.github.com/users/eggplantzzz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eggplantzzz/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-03-07T16:09:59Z",
    "updated_at": "2019-03-07T16:09:59Z",
    "author_association": "CONTRIBUTOR",
    "body": "Hmm, perhaps something changed with the web3 interface. Truffle 4 uses web3@0.20.6 while Truffle 5 uses web3@1.0.0-beta.37. I'll do some more research and see what I can find.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/470587663/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/474759322",
    "html_url": "https://github.com/trufflesuite/truffle/issues/381#issuecomment-474759322",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/381",
    "id": 474759322,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ3NDc1OTMyMg==",
    "user": {
      "login": "bashalex",
      "id": 4807867,
      "node_id": "MDQ6VXNlcjQ4MDc4Njc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4807867?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bashalex",
      "html_url": "https://github.com/bashalex",
      "followers_url": "https://api.github.com/users/bashalex/followers",
      "following_url": "https://api.github.com/users/bashalex/following{/other_user}",
      "gists_url": "https://api.github.com/users/bashalex/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bashalex/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bashalex/subscriptions",
      "organizations_url": "https://api.github.com/users/bashalex/orgs",
      "repos_url": "https://api.github.com/users/bashalex/repos",
      "events_url": "https://api.github.com/users/bashalex/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bashalex/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-03-20T09:50:01Z",
    "updated_at": "2019-03-20T10:01:18Z",
    "author_association": "NONE",
    "body": "Hey @AusIV! I just faced the same issue and apparently, they indeed broke the `.request()` function in the new version. The workaround I found so far is to interact with an instance of web3.Contract that is stored within a Truffle contract instance (https://web3js.readthedocs.io/en/1.0/web3-eth-contract.html#methods-mymethod-encodeabi).\r\n```\r\nlet raw_data = contract.contract.methods.getVal(1).encodeABI();\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/474759322/reactions",
      "total_count": 7,
      "+1": 4,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 3,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/476176979",
    "html_url": "https://github.com/trufflesuite/truffle/issues/381#issuecomment-476176979",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/381",
    "id": 476176979,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ3NjE3Njk3OQ==",
    "user": {
      "login": "eggplantzzz",
      "id": 14827965,
      "node_id": "MDQ6VXNlcjE0ODI3OTY1",
      "avatar_url": "https://avatars.githubusercontent.com/u/14827965?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eggplantzzz",
      "html_url": "https://github.com/eggplantzzz",
      "followers_url": "https://api.github.com/users/eggplantzzz/followers",
      "following_url": "https://api.github.com/users/eggplantzzz/following{/other_user}",
      "gists_url": "https://api.github.com/users/eggplantzzz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eggplantzzz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eggplantzzz/subscriptions",
      "organizations_url": "https://api.github.com/users/eggplantzzz/orgs",
      "repos_url": "https://api.github.com/users/eggplantzzz/repos",
      "events_url": "https://api.github.com/users/eggplantzzz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eggplantzzz/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-03-25T12:34:44Z",
    "updated_at": "2019-03-25T12:34:44Z",
    "author_association": "CONTRIBUTOR",
    "body": "@bashalex Do you happen to know if that is a feature that they plan on fixing and maintaining going forward?",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/476176979/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/481000805",
    "html_url": "https://github.com/trufflesuite/truffle/issues/381#issuecomment-481000805",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/381",
    "id": 481000805,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ4MTAwMDgwNQ==",
    "user": {
      "login": "nachomazzara",
      "id": 7549152,
      "node_id": "MDQ6VXNlcjc1NDkxNTI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7549152?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nachomazzara",
      "html_url": "https://github.com/nachomazzara",
      "followers_url": "https://api.github.com/users/nachomazzara/followers",
      "following_url": "https://api.github.com/users/nachomazzara/following{/other_user}",
      "gists_url": "https://api.github.com/users/nachomazzara/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nachomazzara/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nachomazzara/subscriptions",
      "organizations_url": "https://api.github.com/users/nachomazzara/orgs",
      "repos_url": "https://api.github.com/users/nachomazzara/repos",
      "events_url": "https://api.github.com/users/nachomazzara/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nachomazzara/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-04-08T20:45:06Z",
    "updated_at": "2019-04-08T20:45:06Z",
    "author_association": "NONE",
    "body": "@bashalex works!\r\n\r\nBut it would be great to have it fixed again. Its feel really bad to use `myContract.contract....`",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/481000805/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/493796352",
    "html_url": "https://github.com/trufflesuite/truffle/issues/381#issuecomment-493796352",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/381",
    "id": 493796352,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5Mzc5NjM1Mg==",
    "user": {
      "login": "sirhill",
      "id": 4115788,
      "node_id": "MDQ6VXNlcjQxMTU3ODg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4115788?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sirhill",
      "html_url": "https://github.com/sirhill",
      "followers_url": "https://api.github.com/users/sirhill/followers",
      "following_url": "https://api.github.com/users/sirhill/following{/other_user}",
      "gists_url": "https://api.github.com/users/sirhill/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sirhill/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sirhill/subscriptions",
      "organizations_url": "https://api.github.com/users/sirhill/orgs",
      "repos_url": "https://api.github.com/users/sirhill/repos",
      "events_url": "https://api.github.com/users/sirhill/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sirhill/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-05-19T22:12:21Z",
    "updated_at": "2019-05-19T22:12:21Z",
    "author_association": "NONE",
    "body": "I am also having the issue in the current version of truffle:\r\n\r\n```\r\ntruffle(develop)> contract.myFunction.request()\r\nTypeError: fn(...).request is not a function\r\n    at process._tickCallback (internal/process/next_tick.js:68:7)\r\n    at execute.prepareCall.then.res (/home/node/.config/yarn/global/node_modules/truffle/build/webpack:/packages/truffle-contract/lib/execute.js:394:1)\r\n\r\ntruffle(develop)> version\r\nTruffle v5.0.18 (core: 5.0.18)\r\nSolidity - 0.5.8 (solc-js)\r\nNode v10.14.2\r\nWeb3.js v1.0.0-beta.37\r\n\r\n```\r\n\r\nThe work aroung mentionned by @bashalex works fine..\r\nThis feature is really usefull when passing commands to contracts. \r\nIt would be also really great to document it correctly and add one testcase or more covering this feature.\r\n\r\nMany thanks.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/493796352/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/497037084",
    "html_url": "https://github.com/trufflesuite/truffle/issues/381#issuecomment-497037084",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/381",
    "id": 497037084,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5NzAzNzA4NA==",
    "user": {
      "login": "gnidan",
      "id": 151065,
      "node_id": "MDQ6VXNlcjE1MTA2NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/151065?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gnidan",
      "html_url": "https://github.com/gnidan",
      "followers_url": "https://api.github.com/users/gnidan/followers",
      "following_url": "https://api.github.com/users/gnidan/following{/other_user}",
      "gists_url": "https://api.github.com/users/gnidan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gnidan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gnidan/subscriptions",
      "organizations_url": "https://api.github.com/users/gnidan/orgs",
      "repos_url": "https://api.github.com/users/gnidan/repos",
      "events_url": "https://api.github.com/users/gnidan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gnidan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-05-29T17:39:13Z",
    "updated_at": "2019-05-29T17:39:13Z",
    "author_association": "MEMBER",
    "body": "Looks like this is a bug now. The work to be done is to fix the `.request()` method that we provide in truffle-contract. Thanks for bearing with us!",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/497037084/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/682204962",
    "html_url": "https://github.com/trufflesuite/truffle/issues/381#issuecomment-682204962",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/381",
    "id": 682204962,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY4MjIwNDk2Mg==",
    "user": {
      "login": "haltman-at",
      "id": 35589221,
      "node_id": "MDQ6VXNlcjM1NTg5MjIx",
      "avatar_url": "https://avatars.githubusercontent.com/u/35589221?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/haltman-at",
      "html_url": "https://github.com/haltman-at",
      "followers_url": "https://api.github.com/users/haltman-at/followers",
      "following_url": "https://api.github.com/users/haltman-at/following{/other_user}",
      "gists_url": "https://api.github.com/users/haltman-at/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/haltman-at/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/haltman-at/subscriptions",
      "organizations_url": "https://api.github.com/users/haltman-at/orgs",
      "repos_url": "https://api.github.com/users/haltman-at/repos",
      "events_url": "https://api.github.com/users/haltman-at/events{/privacy}",
      "received_events_url": "https://api.github.com/users/haltman-at/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-08-27T21:40:07Z",
    "updated_at": "2020-08-27T21:40:07Z",
    "author_association": "CONTRIBUTOR",
    "body": "OK, closing this now.  The functionality is a little different than it used to be, but it is once again there and working!",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/682204962/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
