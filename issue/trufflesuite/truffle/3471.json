{
  "url": "https://api.github.com/repos/trufflesuite/truffle/issues/3471",
  "repository_url": "https://api.github.com/repos/trufflesuite/truffle",
  "labels_url": "https://api.github.com/repos/trufflesuite/truffle/issues/3471/labels{/name}",
  "comments_url": "https://api.github.com/repos/trufflesuite/truffle/issues/3471/comments",
  "events_url": "https://api.github.com/repos/trufflesuite/truffle/issues/3471/events",
  "html_url": "https://github.com/trufflesuite/truffle/issues/3471",
  "id": 729430998,
  "node_id": "MDU6SXNzdWU3Mjk0MzA5OTg=",
  "number": 3471,
  "title": "Client connection failure/timeout after initially being successful while running tests",
  "user": {
    "login": "rynobey",
    "id": 2112544,
    "node_id": "MDQ6VXNlcjIxMTI1NDQ=",
    "avatar_url": "https://avatars.githubusercontent.com/u/2112544?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/rynobey",
    "html_url": "https://github.com/rynobey",
    "followers_url": "https://api.github.com/users/rynobey/followers",
    "following_url": "https://api.github.com/users/rynobey/following{/other_user}",
    "gists_url": "https://api.github.com/users/rynobey/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/rynobey/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/rynobey/subscriptions",
    "organizations_url": "https://api.github.com/users/rynobey/orgs",
    "repos_url": "https://api.github.com/users/rynobey/repos",
    "events_url": "https://api.github.com/users/rynobey/events{/privacy}",
    "received_events_url": "https://api.github.com/users/rynobey/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 230393326,
      "node_id": "MDU6TGFiZWwyMzAzOTMzMjY=",
      "url": "https://api.github.com/repos/trufflesuite/truffle/labels/bug",
      "name": "bug",
      "color": "fc2929",
      "default": true,
      "description": null
    },
    {
      "id": 644098328,
      "node_id": "MDU6TGFiZWw2NDQwOTgzMjg=",
      "url": "https://api.github.com/repos/trufflesuite/truffle/labels/needs%20reproduced",
      "name": "needs reproduced",
      "color": "fbca04",
      "default": false,
      "description": null
    },
    {
      "id": 1403343142,
      "node_id": "MDU6TGFiZWwxNDAzMzQzMTQy",
      "url": "https://api.github.com/repos/trufflesuite/truffle/labels/needs%20investigated",
      "name": "needs investigated",
      "color": "b7410e",
      "default": false,
      "description": ""
    },
    {
      "id": 1675041796,
      "node_id": "MDU6TGFiZWwxNjc1MDQxNzk2",
      "url": "https://api.github.com/repos/trufflesuite/truffle/labels/priority3%20%F0%9F%94%A7",
      "name": "priority3 ðŸ”§",
      "color": "006b75",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": {
    "login": "eggplantzzz",
    "id": 14827965,
    "node_id": "MDQ6VXNlcjE0ODI3OTY1",
    "avatar_url": "https://avatars.githubusercontent.com/u/14827965?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/eggplantzzz",
    "html_url": "https://github.com/eggplantzzz",
    "followers_url": "https://api.github.com/users/eggplantzzz/followers",
    "following_url": "https://api.github.com/users/eggplantzzz/following{/other_user}",
    "gists_url": "https://api.github.com/users/eggplantzzz/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/eggplantzzz/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/eggplantzzz/subscriptions",
    "organizations_url": "https://api.github.com/users/eggplantzzz/orgs",
    "repos_url": "https://api.github.com/users/eggplantzzz/repos",
    "events_url": "https://api.github.com/users/eggplantzzz/events{/privacy}",
    "received_events_url": "https://api.github.com/users/eggplantzzz/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "eggplantzzz",
      "id": 14827965,
      "node_id": "MDQ6VXNlcjE0ODI3OTY1",
      "avatar_url": "https://avatars.githubusercontent.com/u/14827965?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eggplantzzz",
      "html_url": "https://github.com/eggplantzzz",
      "followers_url": "https://api.github.com/users/eggplantzzz/followers",
      "following_url": "https://api.github.com/users/eggplantzzz/following{/other_user}",
      "gists_url": "https://api.github.com/users/eggplantzzz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eggplantzzz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eggplantzzz/subscriptions",
      "organizations_url": "https://api.github.com/users/eggplantzzz/orgs",
      "repos_url": "https://api.github.com/users/eggplantzzz/repos",
      "events_url": "https://api.github.com/users/eggplantzzz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eggplantzzz/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 12,
  "created_at": "2020-10-26T10:12:59Z",
  "updated_at": "2023-03-23T16:47:00Z",
  "closed_at": "2023-03-23T16:46:59Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "- [ ] I've asked for help in the [Truffle Gitter](http://gitter.im/Consensys/truffle) before filing this issue.\r\n\r\n---------------------------\r\n\r\n## Issue\r\n\r\nAfter some tests pass successfully, the rest start failing with connection timeouts/failures.\r\n\r\n## Steps to Reproduce\r\n\r\nReally hard to reproduce, but seems to happen after the tests have been running for some time, and especially when trying to deploy some rather big contracts (consuming ~50 million gas).\r\n\r\n## Expected Behavior\r\n\r\nTests should pass (no connection timeout).\r\n\r\n## Actual Results\r\n\r\nAfter the first couple of tests pass successfully, the rest start failing with either\r\n```\r\nCould not connect to your Ethereum client with the following parameters:\r\n    - host       > 127.0.0.1\r\n    - port       > 8555\r\n    - network_id > *\r\nPlease check that your Ethereum client:\r\n    - is running\r\n    - is accepting RPC connections (i.e., \"--rpc\" option is used in geth)\r\n    - is accessible over the network\r\n    - is properly configured in your Truffle configuration file (truffle-config.js)\r\n```\r\nor\r\n```\r\nError: Timeout of 120000ms exceeded. For async tests and hooks, ensure \"done()\" is called; if returning a Promise, ensure it resolves.\r\n```\r\n\r\nAfter looking at the output on ganache-cli, it looks like it is being bombarded by thousands of `eth_getBlockByNumber` calls after sending a transaction, especially if the transaction consumes a lot of gas. I'm not sure, but this could possibly be related to https://github.com/trufflesuite/truffle/issues/3464 and/or https://github.com/trufflesuite/truffle/issues/3468.\r\n\r\nNote: Downgrading to truffle 5.1.49 seems to resolve the problem.\r\n\r\n## Environment\r\n\r\n* Operating System: \r\n* Ethereum client:\r\n* Truffle version (`truffle version`): 5.1.50\r\n* node version (`node --version`): 10.16.3\r\n* npm version (`npm --version`): 6.10.2\r\n",
  "closed_by": {
    "login": "cds-amal",
    "id": 2529600,
    "node_id": "MDQ6VXNlcjI1Mjk2MDA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/2529600?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/cds-amal",
    "html_url": "https://github.com/cds-amal",
    "followers_url": "https://api.github.com/users/cds-amal/followers",
    "following_url": "https://api.github.com/users/cds-amal/following{/other_user}",
    "gists_url": "https://api.github.com/users/cds-amal/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/cds-amal/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/cds-amal/subscriptions",
    "organizations_url": "https://api.github.com/users/cds-amal/orgs",
    "repos_url": "https://api.github.com/users/cds-amal/repos",
    "events_url": "https://api.github.com/users/cds-amal/events{/privacy}",
    "received_events_url": "https://api.github.com/users/cds-amal/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/3471/reactions",
    "total_count": 4,
    "+1": 4,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/trufflesuite/truffle/issues/3471/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/718108479",
    "html_url": "https://github.com/trufflesuite/truffle/issues/3471#issuecomment-718108479",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/3471",
    "id": 718108479,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcxODEwODQ3OQ==",
    "user": {
      "login": "gnidan",
      "id": 151065,
      "node_id": "MDQ6VXNlcjE1MTA2NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/151065?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gnidan",
      "html_url": "https://github.com/gnidan",
      "followers_url": "https://api.github.com/users/gnidan/followers",
      "following_url": "https://api.github.com/users/gnidan/following{/other_user}",
      "gists_url": "https://api.github.com/users/gnidan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gnidan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gnidan/subscriptions",
      "organizations_url": "https://api.github.com/users/gnidan/orgs",
      "repos_url": "https://api.github.com/users/gnidan/repos",
      "events_url": "https://api.github.com/users/gnidan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gnidan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-10-28T17:57:56Z",
    "updated_at": "2020-10-28T17:57:56Z",
    "author_association": "MEMBER",
    "body": "Hm, well #3464 just got fixed and will get released tomorrow, so if that's the cause, then you should be good.\r\n\r\nBut I suspect it's not so easy. We'll have to look into this.\r\n\r\nThanks for reporting!",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/718108479/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/718109050",
    "html_url": "https://github.com/trufflesuite/truffle/issues/3471#issuecomment-718109050",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/3471",
    "id": 718109050,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcxODEwOTA1MA==",
    "user": {
      "login": "gnidan",
      "id": 151065,
      "node_id": "MDQ6VXNlcjE1MTA2NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/151065?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gnidan",
      "html_url": "https://github.com/gnidan",
      "followers_url": "https://api.github.com/users/gnidan/followers",
      "following_url": "https://api.github.com/users/gnidan/following{/other_user}",
      "gists_url": "https://api.github.com/users/gnidan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gnidan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gnidan/subscriptions",
      "organizations_url": "https://api.github.com/users/gnidan/orgs",
      "repos_url": "https://api.github.com/users/gnidan/repos",
      "events_url": "https://api.github.com/users/gnidan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gnidan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-10-28T17:59:00Z",
    "updated_at": "2020-10-28T17:59:00Z",
    "author_association": "MEMBER",
    "body": "Oh by the way - it'd be super helpful if you could provide a repo for reproduction steps!",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/718109050/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/719321754",
    "html_url": "https://github.com/trufflesuite/truffle/issues/3471#issuecomment-719321754",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/3471",
    "id": 719321754,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcxOTMyMTc1NA==",
    "user": {
      "login": "rynobey",
      "id": 2112544,
      "node_id": "MDQ6VXNlcjIxMTI1NDQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2112544?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rynobey",
      "html_url": "https://github.com/rynobey",
      "followers_url": "https://api.github.com/users/rynobey/followers",
      "following_url": "https://api.github.com/users/rynobey/following{/other_user}",
      "gists_url": "https://api.github.com/users/rynobey/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rynobey/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rynobey/subscriptions",
      "organizations_url": "https://api.github.com/users/rynobey/orgs",
      "repos_url": "https://api.github.com/users/rynobey/repos",
      "events_url": "https://api.github.com/users/rynobey/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rynobey/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-10-30T07:03:18Z",
    "updated_at": "2020-10-30T07:03:18Z",
    "author_association": "NONE",
    "body": "Thanks @gnidan ! I will give the new release a try and report back. Unfortunately, I cannot provide the code I used to produce this problem, but if it is still happening on the latest release, I will look at making a dedicated example in a public repo for reproducing it.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/719321754/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/721242645",
    "html_url": "https://github.com/trufflesuite/truffle/issues/3471#issuecomment-721242645",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/3471",
    "id": 721242645,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcyMTI0MjY0NQ==",
    "user": {
      "login": "rynobey",
      "id": 2112544,
      "node_id": "MDQ6VXNlcjIxMTI1NDQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2112544?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rynobey",
      "html_url": "https://github.com/rynobey",
      "followers_url": "https://api.github.com/users/rynobey/followers",
      "following_url": "https://api.github.com/users/rynobey/following{/other_user}",
      "gists_url": "https://api.github.com/users/rynobey/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rynobey/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rynobey/subscriptions",
      "organizations_url": "https://api.github.com/users/rynobey/orgs",
      "repos_url": "https://api.github.com/users/rynobey/repos",
      "events_url": "https://api.github.com/users/rynobey/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rynobey/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-11-03T16:40:08Z",
    "updated_at": "2020-11-03T16:40:08Z",
    "author_association": "NONE",
    "body": "@gnidan Sadly, after trying truffle 5.1.51 the problem persists. I have created this repo that reproduces the problem for me locally: https://github.com/rynobey/test-failure-example - please let me know if it does not successfully reproduce.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/721242645/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/721913401",
    "html_url": "https://github.com/trufflesuite/truffle/issues/3471#issuecomment-721913401",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/3471",
    "id": 721913401,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcyMTkxMzQwMQ==",
    "user": {
      "login": "gnidan",
      "id": 151065,
      "node_id": "MDQ6VXNlcjE1MTA2NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/151065?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gnidan",
      "html_url": "https://github.com/gnidan",
      "followers_url": "https://api.github.com/users/gnidan/followers",
      "following_url": "https://api.github.com/users/gnidan/following{/other_user}",
      "gists_url": "https://api.github.com/users/gnidan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gnidan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gnidan/subscriptions",
      "organizations_url": "https://api.github.com/users/gnidan/orgs",
      "repos_url": "https://api.github.com/users/gnidan/repos",
      "events_url": "https://api.github.com/users/gnidan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gnidan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-11-04T18:57:36Z",
    "updated_at": "2020-11-04T18:57:36Z",
    "author_association": "MEMBER",
    "body": "Thanks for the reproduction repo @rynobey! We'll look into this and hopefully get you a resolution soon.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/721913401/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/722990609",
    "html_url": "https://github.com/trufflesuite/truffle/issues/3471#issuecomment-722990609",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/3471",
    "id": 722990609,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcyMjk5MDYwOQ==",
    "user": {
      "login": "Kerfred",
      "id": 4131401,
      "node_id": "MDQ6VXNlcjQxMzE0MDE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4131401?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Kerfred",
      "html_url": "https://github.com/Kerfred",
      "followers_url": "https://api.github.com/users/Kerfred/followers",
      "following_url": "https://api.github.com/users/Kerfred/following{/other_user}",
      "gists_url": "https://api.github.com/users/Kerfred/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Kerfred/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Kerfred/subscriptions",
      "organizations_url": "https://api.github.com/users/Kerfred/orgs",
      "repos_url": "https://api.github.com/users/Kerfred/repos",
      "events_url": "https://api.github.com/users/Kerfred/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Kerfred/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-11-06T09:59:29Z",
    "updated_at": "2020-11-06T09:59:29Z",
    "author_association": "NONE",
    "body": "Same problem (the first error message).\r\nIt works well with Truffle 5.1.49, but not with Truffle versions 5.1.50,.5.1.51 and 5.1.52.\r\n\r\nFor information, I use Ganache CLI v6.12.1 (ganache-core: 2.13.1)\r\n\r\nThe problem happens when I run a full: truffle test\r\nBut it doesn't happen if I test only the file where the error occurs.\r\nHope this will help.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/722990609/reactions",
      "total_count": 3,
      "+1": 3,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/964505031",
    "html_url": "https://github.com/trufflesuite/truffle/issues/3471#issuecomment-964505031",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/3471",
    "id": 964505031,
    "node_id": "IC_kwDOAkfq-c45fS3H",
    "user": {
      "login": "idmontie",
      "id": 412382,
      "node_id": "MDQ6VXNlcjQxMjM4Mg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/412382?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/idmontie",
      "html_url": "https://github.com/idmontie",
      "followers_url": "https://api.github.com/users/idmontie/followers",
      "following_url": "https://api.github.com/users/idmontie/following{/other_user}",
      "gists_url": "https://api.github.com/users/idmontie/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/idmontie/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/idmontie/subscriptions",
      "organizations_url": "https://api.github.com/users/idmontie/orgs",
      "repos_url": "https://api.github.com/users/idmontie/repos",
      "events_url": "https://api.github.com/users/idmontie/events{/privacy}",
      "received_events_url": "https://api.github.com/users/idmontie/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-11-09T20:20:13Z",
    "updated_at": "2021-11-09T20:20:30Z",
    "author_association": "NONE",
    "body": "I'm seeing a similar issue, but only on Windows. We have around 100 tests that all pass successfully using two different reporters (the default and eth-gas-reporter). They run and pass fine on Mac OS X (10.15.7) and on Ubuntu 20.04.3, but they will randomly fail near test 90+ on Windows 10.\r\n\r\nRunning the tests individually, they pass. Running the full test suite, we see 1 to 5 different tests randomly fail. This failure happens all the time when using the default test reporter, and we rarely see it with eth-gas-reporter.\r\n\r\nWe have `ganache-cli` running and it continues to run without errors when these tests fail. ",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/964505031/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/1009812924",
    "html_url": "https://github.com/trufflesuite/truffle/issues/3471#issuecomment-1009812924",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/3471",
    "id": 1009812924,
    "node_id": "IC_kwDOAkfq-c48MIW8",
    "user": {
      "login": "rynobey",
      "id": 2112544,
      "node_id": "MDQ6VXNlcjIxMTI1NDQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2112544?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rynobey",
      "html_url": "https://github.com/rynobey",
      "followers_url": "https://api.github.com/users/rynobey/followers",
      "following_url": "https://api.github.com/users/rynobey/following{/other_user}",
      "gists_url": "https://api.github.com/users/rynobey/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rynobey/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rynobey/subscriptions",
      "organizations_url": "https://api.github.com/users/rynobey/orgs",
      "repos_url": "https://api.github.com/users/rynobey/repos",
      "events_url": "https://api.github.com/users/rynobey/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rynobey/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-01-11T10:20:16Z",
    "updated_at": "2022-01-11T10:20:16Z",
    "author_association": "NONE",
    "body": "@gnidan is there any update regarding this issue? I have tried again using truffle@5.4.28 (with solidity-coverage@0.7.11, which uses ganache-cli@6.12.1 and ganache-core@2.13.1) but still run into the same problem (using the example here https://github.com/rynobey/test-failure-example), now with a new error\r\n```\r\n  1) Contract: TestContract\r\n       This test is exactly the same as the first test. It fails with truffle ^5.1.50 but passes on v5.1.49:\r\n     Uncaught TypeError: Cannot read property 'pop' of undefined\r\n      at CheckpointTrie._updateNode (node_modules/truffle/build/735.bundled.js:100592:28)\r\n      at /home/ryno/projects/rynobey/test-failure-example/node_modules/truffle/build/735.bundled.js:100312:21\r\n      at /home/ryno/projects/rynobey/test-failure-example/node_modules/truffle/build/735.bundled.js:100702:18\r\n      at processNode (node_modules/truffle/build/735.bundled.js:100713:18)\r\n      at /home/ryno/projects/rynobey/test-failure-example/node_modules/truffle/build/735.bundled.js:100697:9\r\n      at /home/ryno/projects/rynobey/test-failure-example/node_modules/truffle/build/735.bundled.js:100394:11\r\n      at /home/ryno/projects/rynobey/test-failure-example/node_modules/truffle/build/735.bundled.js:116232:7\r\n      at /home/ryno/projects/rynobey/test-failure-example/node_modules/truffle/build/735.bundled.js:101754:16\r\n      at replenish (node_modules/truffle/build/735.bundled.js:102287:25)\r\n      at iterateeCallback (node_modules/truffle/build/735.bundled.js:102276:17)\r\n      at /home/ryno/projects/rynobey/test-failure-example/node_modules/truffle/build/735.bundled.js:102250:16\r\n      at /home/ryno/projects/rynobey/test-failure-example/node_modules/truffle/build/735.bundled.js:116228:7\r\n      at /home/ryno/projects/rynobey/test-failure-example/node_modules/truffle/build/735.bundled.js:100369:13\r\n      at /home/ryno/projects/rynobey/test-failure-example/node_modules/truffle/build/735.bundled.js:3081:16\r\n      at /home/ryno/projects/rynobey/test-failure-example/node_modules/truffle/build/263.bundled.js:2519:15\r\n      at /home/ryno/projects/rynobey/test-failure-example/node_modules/truffle/build/263.bundled.js:2146:19\r\n      at /home/ryno/projects/rynobey/test-failure-example/node_modules/truffle/build/276.bundled.js:11246:21\r\n      at /home/ryno/projects/rynobey/test-failure-example/node_modules/truffle/build/276.bundled.js:7716:21\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/1009812924/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/1433593224",
    "html_url": "https://github.com/trufflesuite/truffle/issues/3471#issuecomment-1433593224",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/3471",
    "id": 1433593224,
    "node_id": "IC_kwDOAkfq-c5VcuWI",
    "user": {
      "login": "eggplantzzz",
      "id": 14827965,
      "node_id": "MDQ6VXNlcjE0ODI3OTY1",
      "avatar_url": "https://avatars.githubusercontent.com/u/14827965?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eggplantzzz",
      "html_url": "https://github.com/eggplantzzz",
      "followers_url": "https://api.github.com/users/eggplantzzz/followers",
      "following_url": "https://api.github.com/users/eggplantzzz/following{/other_user}",
      "gists_url": "https://api.github.com/users/eggplantzzz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eggplantzzz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eggplantzzz/subscriptions",
      "organizations_url": "https://api.github.com/users/eggplantzzz/orgs",
      "repos_url": "https://api.github.com/users/eggplantzzz/repos",
      "events_url": "https://api.github.com/users/eggplantzzz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eggplantzzz/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-02-16T19:18:23Z",
    "updated_at": "2023-02-16T19:18:23Z",
    "author_association": "CONTRIBUTOR",
    "body": "Hey @rynobey, does this still occur using the latest version of `ganache`(7.7.5)? Do note that the package name changed from `ganache-cli` to `ganache`.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/1433593224/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/1434346028",
    "html_url": "https://github.com/trufflesuite/truffle/issues/3471#issuecomment-1434346028",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/3471",
    "id": 1434346028,
    "node_id": "IC_kwDOAkfq-c5VfmIs",
    "user": {
      "login": "rynobey",
      "id": 2112544,
      "node_id": "MDQ6VXNlcjIxMTI1NDQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2112544?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rynobey",
      "html_url": "https://github.com/rynobey",
      "followers_url": "https://api.github.com/users/rynobey/followers",
      "following_url": "https://api.github.com/users/rynobey/following{/other_user}",
      "gists_url": "https://api.github.com/users/rynobey/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rynobey/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rynobey/subscriptions",
      "organizations_url": "https://api.github.com/users/rynobey/orgs",
      "repos_url": "https://api.github.com/users/rynobey/repos",
      "events_url": "https://api.github.com/users/rynobey/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rynobey/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-02-17T09:08:25Z",
    "updated_at": "2023-02-17T09:08:25Z",
    "author_association": "NONE",
    "body": "Hi @eggplantzzz ! I haven't checked this recently since we switched to hardhat a while back. I'm not sure when I will get a chance to try it with the latest versions, but will report back here if/when I do.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/1434346028/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/1435022560",
    "html_url": "https://github.com/trufflesuite/truffle/issues/3471#issuecomment-1435022560",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/3471",
    "id": 1435022560,
    "node_id": "IC_kwDOAkfq-c5ViLTg",
    "user": {
      "login": "eggplantzzz",
      "id": 14827965,
      "node_id": "MDQ6VXNlcjE0ODI3OTY1",
      "avatar_url": "https://avatars.githubusercontent.com/u/14827965?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eggplantzzz",
      "html_url": "https://github.com/eggplantzzz",
      "followers_url": "https://api.github.com/users/eggplantzzz/followers",
      "following_url": "https://api.github.com/users/eggplantzzz/following{/other_user}",
      "gists_url": "https://api.github.com/users/eggplantzzz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eggplantzzz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eggplantzzz/subscriptions",
      "organizations_url": "https://api.github.com/users/eggplantzzz/orgs",
      "repos_url": "https://api.github.com/users/eggplantzzz/repos",
      "events_url": "https://api.github.com/users/eggplantzzz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eggplantzzz/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-02-17T17:47:53Z",
    "updated_at": "2023-02-17T17:47:53Z",
    "author_association": "CONTRIBUTOR",
    "body": "Ok thanks @rynobey!",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/1435022560/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/1481533234",
    "html_url": "https://github.com/trufflesuite/truffle/issues/3471#issuecomment-1481533234",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/3471",
    "id": 1481533234,
    "node_id": "IC_kwDOAkfq-c5YTmcy",
    "user": {
      "login": "cds-amal",
      "id": 2529600,
      "node_id": "MDQ6VXNlcjI1Mjk2MDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2529600?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cds-amal",
      "html_url": "https://github.com/cds-amal",
      "followers_url": "https://api.github.com/users/cds-amal/followers",
      "following_url": "https://api.github.com/users/cds-amal/following{/other_user}",
      "gists_url": "https://api.github.com/users/cds-amal/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cds-amal/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cds-amal/subscriptions",
      "organizations_url": "https://api.github.com/users/cds-amal/orgs",
      "repos_url": "https://api.github.com/users/cds-amal/repos",
      "events_url": "https://api.github.com/users/cds-amal/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cds-amal/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-03-23T16:46:59Z",
    "updated_at": "2023-03-23T16:46:59Z",
    "author_association": "MEMBER",
    "body": "Hi @rynobey , closing this for issue maintenance, however, if you do get back with a report, we'd be happy to reopen and investigate. Thanks!",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/1481533234/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
