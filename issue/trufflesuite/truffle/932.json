{
  "url": "https://api.github.com/repos/trufflesuite/truffle/issues/932",
  "repository_url": "https://api.github.com/repos/trufflesuite/truffle",
  "labels_url": "https://api.github.com/repos/trufflesuite/truffle/issues/932/labels{/name}",
  "comments_url": "https://api.github.com/repos/trufflesuite/truffle/issues/932/comments",
  "events_url": "https://api.github.com/repos/trufflesuite/truffle/issues/932/events",
  "html_url": "https://github.com/trufflesuite/truffle/issues/932",
  "id": 319636535,
  "node_id": "MDU6SXNzdWUzMTk2MzY1MzU=",
  "number": 932,
  "title": "Handling of byte types by either truffle or web3 seems to be incorrect",
  "user": {
    "login": "barakman",
    "id": 7003246,
    "node_id": "MDQ6VXNlcjcwMDMyNDY=",
    "avatar_url": "https://avatars.githubusercontent.com/u/7003246?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/barakman",
    "html_url": "https://github.com/barakman",
    "followers_url": "https://api.github.com/users/barakman/followers",
    "following_url": "https://api.github.com/users/barakman/following{/other_user}",
    "gists_url": "https://api.github.com/users/barakman/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/barakman/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/barakman/subscriptions",
    "organizations_url": "https://api.github.com/users/barakman/orgs",
    "repos_url": "https://api.github.com/users/barakman/repos",
    "events_url": "https://api.github.com/users/barakman/events{/privacy}",
    "received_events_url": "https://api.github.com/users/barakman/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 5,
  "created_at": "2018-05-02T17:05:41Z",
  "updated_at": "2018-05-08T14:56:26Z",
  "closed_at": "2018-05-08T14:56:26Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "## Issue\r\n\r\nHandling of [byte types](http://solidity.readthedocs.io/en/develop/types.html?highlight=bytes1#fixed-size-byte-arrays) by either truffle or web3 seems to be incorrect.\r\n\r\n## Steps to Reproduce\r\n\r\nOn-Chain:\r\n```\r\ncontract MyContract {\r\n    function func(bytes4 x) public pure returns (bytes4) {\r\n        return x;\r\n    }\r\n}\r\n```\r\nOff-Chain:\r\n```\r\ncontract(\"Test\", function() {\r\n    it(\"test\", async function() {\r\n        let myContract = await artifacts.require(\"MyContract.sol\").new();\r\n        let retVal = await myContract.func(0x00012345);\r\n        console.log(retVal);\r\n    });\r\n});\r\n```\r\n\r\n## Expected Behavior\r\n\r\nPrint 0x00012345\r\n\r\n## Actual Results\r\n\r\nPrint 0x12345000\r\n\r\nIt seems that every leading zero digit in hexadecimal format (i.e., every leading chunk of 4 zero bits) is forced to become trailing somehow.\r\n\r\nThis happens on client side for sure (you may confirm it by adding `require(x == 0x12345000)` inside the on-chain function above.\r\n\r\nIt seems to be the case for other byte types as well (e.g. `bytes1`, `bytes2`, etc).\r\n\r\n## Environment\r\n\r\n* Operating System: Windows 10\r\n* Ethereum client: ganache-cli: 6.1.0\r\n* truffle version: 4.1.3\r\n* node version: 8.9.3\r\n* npm version: 5.5.1\r\n",
  "closed_by": {
    "login": "cgewecke",
    "id": 7332026,
    "node_id": "MDQ6VXNlcjczMzIwMjY=",
    "avatar_url": "https://avatars.githubusercontent.com/u/7332026?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/cgewecke",
    "html_url": "https://github.com/cgewecke",
    "followers_url": "https://api.github.com/users/cgewecke/followers",
    "following_url": "https://api.github.com/users/cgewecke/following{/other_user}",
    "gists_url": "https://api.github.com/users/cgewecke/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/cgewecke/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/cgewecke/subscriptions",
    "organizations_url": "https://api.github.com/users/cgewecke/orgs",
    "repos_url": "https://api.github.com/users/cgewecke/repos",
    "events_url": "https://api.github.com/users/cgewecke/events{/privacy}",
    "received_events_url": "https://api.github.com/users/cgewecke/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/932/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/trufflesuite/truffle/issues/932/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/386314955",
    "html_url": "https://github.com/trufflesuite/truffle/issues/932#issuecomment-386314955",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/932",
    "id": 386314955,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4NjMxNDk1NQ==",
    "user": {
      "login": "cgewecke",
      "id": 7332026,
      "node_id": "MDQ6VXNlcjczMzIwMjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7332026?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cgewecke",
      "html_url": "https://github.com/cgewecke",
      "followers_url": "https://api.github.com/users/cgewecke/followers",
      "following_url": "https://api.github.com/users/cgewecke/following{/other_user}",
      "gists_url": "https://api.github.com/users/cgewecke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cgewecke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cgewecke/subscriptions",
      "organizations_url": "https://api.github.com/users/cgewecke/orgs",
      "repos_url": "https://api.github.com/users/cgewecke/repos",
      "events_url": "https://api.github.com/users/cgewecke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cgewecke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-03T14:29:07Z",
    "updated_at": "2018-05-03T14:29:07Z",
    "author_association": "CONTRIBUTOR",
    "body": "@barakman If you quote the bytes when you pass them into the function\r\n```javascript\r\nawait myContract.func(\"0x00012345\");\r\n```\r\ndoes that resolve it? Think JS is interpreting the input as a number rather than bytes and Solidity formats these differently. It looks like `uint` is left-aligned in the word, `bytes` right-aligned, based on  encodings docs at over at solidity [here](https://solidity.readthedocs.io/en/develop/abi-spec.html#examples).",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/386314955/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/386322430",
    "html_url": "https://github.com/trufflesuite/truffle/issues/932#issuecomment-386322430",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/932",
    "id": 386322430,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4NjMyMjQzMA==",
    "user": {
      "login": "barakman",
      "id": 7003246,
      "node_id": "MDQ6VXNlcjcwMDMyNDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7003246?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/barakman",
      "html_url": "https://github.com/barakman",
      "followers_url": "https://api.github.com/users/barakman/followers",
      "following_url": "https://api.github.com/users/barakman/following{/other_user}",
      "gists_url": "https://api.github.com/users/barakman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/barakman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/barakman/subscriptions",
      "organizations_url": "https://api.github.com/users/barakman/orgs",
      "repos_url": "https://api.github.com/users/barakman/repos",
      "events_url": "https://api.github.com/users/barakman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/barakman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-03T14:50:27Z",
    "updated_at": "2018-05-03T14:50:27Z",
    "author_association": "NONE",
    "body": "@cgewecke:\r\nYes it does, thank you.\r\nThough it is not really clear to me why I should pass an ASCII string where the compiler would expect an integer (or an array of 1-byte integers).\r\nPerhaps it is my lack of understanding of the 'byte' types.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/386322430/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/386329982",
    "html_url": "https://github.com/trufflesuite/truffle/issues/932#issuecomment-386329982",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/932",
    "id": 386329982,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4NjMyOTk4Mg==",
    "user": {
      "login": "cgewecke",
      "id": 7332026,
      "node_id": "MDQ6VXNlcjczMzIwMjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7332026?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cgewecke",
      "html_url": "https://github.com/cgewecke",
      "followers_url": "https://api.github.com/users/cgewecke/followers",
      "following_url": "https://api.github.com/users/cgewecke/following{/other_user}",
      "gists_url": "https://api.github.com/users/cgewecke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cgewecke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cgewecke/subscriptions",
      "organizations_url": "https://api.github.com/users/cgewecke/orgs",
      "repos_url": "https://api.github.com/users/cgewecke/repos",
      "events_url": "https://api.github.com/users/cgewecke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cgewecke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-03T15:12:20Z",
    "updated_at": "2018-05-03T15:12:20Z",
    "author_association": "CONTRIBUTOR",
    "body": "@barakman Honestly not sure why this is either - it might be related to the issue of different byte type sizes and the way they are padded. Have just been looking at this topic this morning  and there's a StackExchange thread about it [here](https://ethereum.stackexchange.com/questions/11347/bytes-quotes-or-not)",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/386329982/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/387116683",
    "html_url": "https://github.com/trufflesuite/truffle/issues/932#issuecomment-387116683",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/932",
    "id": 387116683,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4NzExNjY4Mw==",
    "user": {
      "login": "cgewecke",
      "id": 7332026,
      "node_id": "MDQ6VXNlcjczMzIwMjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7332026?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cgewecke",
      "html_url": "https://github.com/cgewecke",
      "followers_url": "https://api.github.com/users/cgewecke/followers",
      "following_url": "https://api.github.com/users/cgewecke/following{/other_user}",
      "gists_url": "https://api.github.com/users/cgewecke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cgewecke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cgewecke/subscriptions",
      "organizations_url": "https://api.github.com/users/cgewecke/orgs",
      "repos_url": "https://api.github.com/users/cgewecke/repos",
      "events_url": "https://api.github.com/users/cgewecke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cgewecke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-07T16:10:49Z",
    "updated_at": "2018-05-07T16:10:49Z",
    "author_association": "CONTRIBUTOR",
    "body": "@barakman Is it ok if I close this?  Seems like quotes is just how web3 manages bytes. ",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/387116683/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/387348474",
    "html_url": "https://github.com/trufflesuite/truffle/issues/932#issuecomment-387348474",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/932",
    "id": 387348474,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4NzM0ODQ3NA==",
    "user": {
      "login": "barakman",
      "id": 7003246,
      "node_id": "MDQ6VXNlcjcwMDMyNDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7003246?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/barakman",
      "html_url": "https://github.com/barakman",
      "followers_url": "https://api.github.com/users/barakman/followers",
      "following_url": "https://api.github.com/users/barakman/following{/other_user}",
      "gists_url": "https://api.github.com/users/barakman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/barakman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/barakman/subscriptions",
      "organizations_url": "https://api.github.com/users/barakman/orgs",
      "repos_url": "https://api.github.com/users/barakman/repos",
      "events_url": "https://api.github.com/users/barakman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/barakman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-08T09:50:30Z",
    "updated_at": "2018-05-08T09:50:30Z",
    "author_association": "NONE",
    "body": "@cgewecke:\r\nYes, thank you for clarifying it!",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/387348474/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
