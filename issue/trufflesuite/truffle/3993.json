{
  "url": "https://api.github.com/repos/trufflesuite/truffle/issues/3993",
  "repository_url": "https://api.github.com/repos/trufflesuite/truffle",
  "labels_url": "https://api.github.com/repos/trufflesuite/truffle/issues/3993/labels{/name}",
  "comments_url": "https://api.github.com/repos/trufflesuite/truffle/issues/3993/comments",
  "events_url": "https://api.github.com/repos/trufflesuite/truffle/issues/3993/events",
  "html_url": "https://github.com/trufflesuite/truffle/issues/3993",
  "id": 864203026,
  "node_id": "MDU6SXNzdWU4NjQyMDMwMjY=",
  "number": 3993,
  "title": "How to migrate contract with address coming from Trezor ",
  "user": {
    "login": "redna11",
    "id": 18337449,
    "node_id": "MDQ6VXNlcjE4MzM3NDQ5",
    "avatar_url": "https://avatars.githubusercontent.com/u/18337449?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/redna11",
    "html_url": "https://github.com/redna11",
    "followers_url": "https://api.github.com/users/redna11/followers",
    "following_url": "https://api.github.com/users/redna11/following{/other_user}",
    "gists_url": "https://api.github.com/users/redna11/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/redna11/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/redna11/subscriptions",
    "organizations_url": "https://api.github.com/users/redna11/orgs",
    "repos_url": "https://api.github.com/users/redna11/repos",
    "events_url": "https://api.github.com/users/redna11/events{/privacy}",
    "received_events_url": "https://api.github.com/users/redna11/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 5,
  "created_at": "2021-04-21T19:36:39Z",
  "updated_at": "2022-03-30T11:25:48Z",
  "closed_at": "2022-03-30T11:25:48Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "My goal is to deploy a contract to Ethereum using truffle from an address in my Trezor device.\r\n\r\n*** what I am doing now and it works ****\r\n\r\nWhen trying to deploy to rinkeby with truffle and using a metamask address (with 3 test-ETH on it), I use the follwing code in \"truffle-config.js\":\r\n\r\n`const HDWalletProvider = require('@truffle/hdwallet-provider');\r\nconst mnemonic = 'some words ....'\r\n\r\n.\r\n.\r\n\r\n    rinkeby: {\r\n      provider: () => new HDWalletProvider(\r\n        mnemonic,\r\n        'https://rinkeby.infura.io/v3/some_infura_key',\r\n        0,\r\n        1\r\n      ),\r\n      network_id: 4, //rinkeby\r\n      skipDryRun: true\r\n    },\r\n\r\n`\r\nMigrating with the command : truffle migrate --reset --network rinkeby  works well. After importing my Trezor address to Metamask, I change the accounts param from 0 (as above) to 1 so that it references that new Trezor address and try to deploy with the same command (that Trezor account has 3 test-ETH on it also). \r\n\r\nit throws \"\"Migrations\" -- insufficient funds for gas * price + value.\"\r\n\r\nMy impression is that somehow it does not \"connect\" to the right address.\r\n\r\nIs this the correct procedure to deploy using a hardware wallet, or is there a better one? thx.\r\n\r\n\r\n",
  "closed_by": {
    "login": "cds-amal",
    "id": 2529600,
    "node_id": "MDQ6VXNlcjI1Mjk2MDA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/2529600?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/cds-amal",
    "html_url": "https://github.com/cds-amal",
    "followers_url": "https://api.github.com/users/cds-amal/followers",
    "following_url": "https://api.github.com/users/cds-amal/following{/other_user}",
    "gists_url": "https://api.github.com/users/cds-amal/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/cds-amal/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/cds-amal/subscriptions",
    "organizations_url": "https://api.github.com/users/cds-amal/orgs",
    "repos_url": "https://api.github.com/users/cds-amal/repos",
    "events_url": "https://api.github.com/users/cds-amal/events{/privacy}",
    "received_events_url": "https://api.github.com/users/cds-amal/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/3993/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/trufflesuite/truffle/issues/3993/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/828652529",
    "html_url": "https://github.com/trufflesuite/truffle/issues/3993#issuecomment-828652529",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/3993",
    "id": 828652529,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgyODY1MjUyOQ==",
    "user": {
      "login": "davidmurdoch",
      "id": 187813,
      "node_id": "MDQ6VXNlcjE4NzgxMw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/187813?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/davidmurdoch",
      "html_url": "https://github.com/davidmurdoch",
      "followers_url": "https://api.github.com/users/davidmurdoch/followers",
      "following_url": "https://api.github.com/users/davidmurdoch/following{/other_user}",
      "gists_url": "https://api.github.com/users/davidmurdoch/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/davidmurdoch/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/davidmurdoch/subscriptions",
      "organizations_url": "https://api.github.com/users/davidmurdoch/orgs",
      "repos_url": "https://api.github.com/users/davidmurdoch/repos",
      "events_url": "https://api.github.com/users/davidmurdoch/events{/privacy}",
      "received_events_url": "https://api.github.com/users/davidmurdoch/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-04-28T17:46:55Z",
    "updated_at": "2021-08-04T18:21:30Z",
    "author_association": "MEMBER",
    "body": "Connecting your hardware wallet to MetaMask has no effect on the truffle migrate as we don't currently have a way of connecting to MetaMask. We strongly recommend _against_ using your hardware mnemonic within Truffle, or anywhere else (your mnemonic really shouldn't even be digitally stored anywhere).\r\n\r\nThere are a couple of alternative solutions:\r\n\r\n * https://github.com/Web3Modal/trezor-provider this is not maintained by truffle, so you'll need to do your own due diligence to ensure it is safe to use.\r\n * you could transfer a small amount of your testnet either from your Trezor wallet to one of the accounts created by the mnemonic you use in your truffle config.\r\n\r\nJust to reiterate, you should never re-use your hardware mnemonic outside of the hardware wallet itself, as this really defeats the purpose of using it in the first place :-)\r\n\r\nThis is a known limitation of truffle and we have plans to implement a solution in the future, but nothing has been done as of yet.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/828652529/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/876908642",
    "html_url": "https://github.com/trufflesuite/truffle/issues/3993#issuecomment-876908642",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/3993",
    "id": 876908642,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg3NjkwODY0Mg==",
    "user": {
      "login": "evgenynacu",
      "id": 439188,
      "node_id": "MDQ6VXNlcjQzOTE4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/439188?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/evgenynacu",
      "html_url": "https://github.com/evgenynacu",
      "followers_url": "https://api.github.com/users/evgenynacu/followers",
      "following_url": "https://api.github.com/users/evgenynacu/following{/other_user}",
      "gists_url": "https://api.github.com/users/evgenynacu/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/evgenynacu/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/evgenynacu/subscriptions",
      "organizations_url": "https://api.github.com/users/evgenynacu/orgs",
      "repos_url": "https://api.github.com/users/evgenynacu/repos",
      "events_url": "https://api.github.com/users/evgenynacu/events{/privacy}",
      "received_events_url": "https://api.github.com/users/evgenynacu/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-09T04:43:07Z",
    "updated_at": "2021-07-09T04:43:07Z",
    "author_association": "NONE",
    "body": "We created small util for using Trezor with Truffle: https://github.com/rariblecom/trezor-provider\r\nIt's a subprovider for metamask's web3-provider-engine\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/876908642/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/892878068",
    "html_url": "https://github.com/trufflesuite/truffle/issues/3993#issuecomment-892878068",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/3993",
    "id": 892878068,
    "node_id": "IC_kwDOAkfq-c41ODz0",
    "user": {
      "login": "eggplantzzz",
      "id": 14827965,
      "node_id": "MDQ6VXNlcjE0ODI3OTY1",
      "avatar_url": "https://avatars.githubusercontent.com/u/14827965?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eggplantzzz",
      "html_url": "https://github.com/eggplantzzz",
      "followers_url": "https://api.github.com/users/eggplantzzz/followers",
      "following_url": "https://api.github.com/users/eggplantzzz/following{/other_user}",
      "gists_url": "https://api.github.com/users/eggplantzzz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eggplantzzz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eggplantzzz/subscriptions",
      "organizations_url": "https://api.github.com/users/eggplantzzz/orgs",
      "repos_url": "https://api.github.com/users/eggplantzzz/repos",
      "events_url": "https://api.github.com/users/eggplantzzz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eggplantzzz/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-08-04T18:28:47Z",
    "updated_at": "2021-08-04T18:28:47Z",
    "author_association": "CONTRIBUTOR",
    "body": "Thanks @evgenynacu for doing work in this area. We really appreciate community contributions and hope that your solution becomes accepted!\r\n\r\nHey @redna11, in the meantime we really haven't evaluated the utility that @evgenynacu created but we would encourage you to do your own research and look into it!",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/892878068/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/1057279239",
    "html_url": "https://github.com/trufflesuite/truffle/issues/3993#issuecomment-1057279239",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/3993",
    "id": 1057279239,
    "node_id": "IC_kwDOAkfq-c4_BM0H",
    "user": {
      "login": "eggplantzzz",
      "id": 14827965,
      "node_id": "MDQ6VXNlcjE0ODI3OTY1",
      "avatar_url": "https://avatars.githubusercontent.com/u/14827965?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eggplantzzz",
      "html_url": "https://github.com/eggplantzzz",
      "followers_url": "https://api.github.com/users/eggplantzzz/followers",
      "following_url": "https://api.github.com/users/eggplantzzz/following{/other_user}",
      "gists_url": "https://api.github.com/users/eggplantzzz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eggplantzzz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eggplantzzz/subscriptions",
      "organizations_url": "https://api.github.com/users/eggplantzzz/orgs",
      "repos_url": "https://api.github.com/users/eggplantzzz/repos",
      "events_url": "https://api.github.com/users/eggplantzzz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eggplantzzz/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-03-02T19:05:49Z",
    "updated_at": "2022-03-02T19:05:49Z",
    "author_association": "CONTRIBUTOR",
    "body": "Hey @redna11, so we recently released a tool that you may find helpful. If you use MetaMask with your Trezor wallet you can use Truffle Dashboard for deployments. Check out [this blogpost](https://trufflesuite.com/blog/introducing-truffle-dashboard/) for more info. Basically it lets you use MetaMask to sign your transactions when doing deployments. Let us know if this works for you, thanks!",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/1057279239/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/1083009151",
    "html_url": "https://github.com/trufflesuite/truffle/issues/3993#issuecomment-1083009151",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/3993",
    "id": 1083009151,
    "node_id": "IC_kwDOAkfq-c5AjWh_",
    "user": {
      "login": "cds-amal",
      "id": 2529600,
      "node_id": "MDQ6VXNlcjI1Mjk2MDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2529600?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cds-amal",
      "html_url": "https://github.com/cds-amal",
      "followers_url": "https://api.github.com/users/cds-amal/followers",
      "following_url": "https://api.github.com/users/cds-amal/following{/other_user}",
      "gists_url": "https://api.github.com/users/cds-amal/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cds-amal/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cds-amal/subscriptions",
      "organizations_url": "https://api.github.com/users/cds-amal/orgs",
      "repos_url": "https://api.github.com/users/cds-amal/repos",
      "events_url": "https://api.github.com/users/cds-amal/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cds-amal/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-03-30T11:25:48Z",
    "updated_at": "2022-03-30T11:25:48Z",
    "author_association": "MEMBER",
    "body": "Closing for issue maintenance",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/1083009151/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
