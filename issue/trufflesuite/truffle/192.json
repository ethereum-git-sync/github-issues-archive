{
  "url": "https://api.github.com/repos/trufflesuite/truffle/issues/192",
  "repository_url": "https://api.github.com/repos/trufflesuite/truffle",
  "labels_url": "https://api.github.com/repos/trufflesuite/truffle/issues/192/labels{/name}",
  "comments_url": "https://api.github.com/repos/trufflesuite/truffle/issues/192/comments",
  "events_url": "https://api.github.com/repos/trufflesuite/truffle/issues/192/events",
  "html_url": "https://github.com/trufflesuite/truffle/issues/192",
  "id": 164569011,
  "node_id": "MDU6SXNzdWUxNjQ1NjkwMTE=",
  "number": 192,
  "title": "Library not deployed or linked",
  "user": {
    "login": "raineorshine",
    "id": 750276,
    "node_id": "MDQ6VXNlcjc1MDI3Ng==",
    "avatar_url": "https://avatars.githubusercontent.com/u/750276?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/raineorshine",
    "html_url": "https://github.com/raineorshine",
    "followers_url": "https://api.github.com/users/raineorshine/followers",
    "following_url": "https://api.github.com/users/raineorshine/following{/other_user}",
    "gists_url": "https://api.github.com/users/raineorshine/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/raineorshine/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/raineorshine/subscriptions",
    "organizations_url": "https://api.github.com/users/raineorshine/orgs",
    "repos_url": "https://api.github.com/users/raineorshine/repos",
    "events_url": "https://api.github.com/users/raineorshine/events{/privacy}",
    "received_events_url": "https://api.github.com/users/raineorshine/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 8,
  "created_at": "2016-07-08T16:36:13Z",
  "updated_at": "2018-09-22T21:29:33Z",
  "closed_at": "2016-07-22T18:23:46Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "It took me a long time to debug this because the result of leaving out TestLib from truffle.js was that the contract compiled correctly, the tests ran, but **contract functions unexpectedly returned 0**. This only occurs when manually whisking contracts instead of using `.deployed()`.\n\n**EDIT:** I have discovered that this is due to truffle not deploying or linking the library for some reason. The address field in the whisked `TestLib.sol.js` is empty.\n\nI very narrow issue, but I am reporting it here since it is a very sneaky problem.\n\nFull repo to reproduce: https://github.com/raineorshine/truffle-192\n\n**Suggested change:** Display a useful error message when the user has omitted a library from the deploy section of their truffle.js (or automatically compile all libraries in the `contracts` folder).\n\nMetaCoin.sol:\n\n``` js\nimport 'TestLib.sol';\n\ncontract MetaCoin {\n  function MetaCoin() {\n    TestLib.Foo(); // the issue only occurs when a library function is called\n  }\n\n  function GetAnswer() constant returns(uint) {\n    return 42;\n  }\n}\n```\n\nTestLib.sol:\n\n``` js\nlibrary TestLib {\n  struct Data {\n    uint n;\n  }\n\n  function Foo() {\n  }\n}\n```\n\ntruffle.js\n\n``` js\nmodule.exports = {\n  deploy: [\n    \"MetaCoin\"\n    // missing TestLib\n  ],\n  rpc: {\n    host: \"localhost\",\n    port: 8545\n  }\n};\n```\n\ntest/metacoin.js\n\n``` js\nconst MetaCoinWhisked = require('../environments/test/contracts/MetaCoin.sol.js')\nconst Pudding = require('ether-pudding')\n\n// load Web3, pudding, and contracts\nPudding.setWeb3(web3)\nMetaCoinWhisked.load(Pudding)\n\ncontract('MetaCoin', function(accounts) {\n  it('should return answer from .deployed() contract', function() {\n    const meta = MetaCoin.deployed()\n    return meta.GetAnswer()\n      .then(data => assert.equal(data.toString(), '42'))\n  })\n})\n\ndescribe('MetaCoinWhisked', function() {\n  const accounts = web3.eth.accounts\n\n  it('should return answer from whisked contract', function() {\n    return MetaCoinWhisked.new({ from: accounts[0] })\n      .then(meta => meta.GetAnswer())\n      .then(data => assert.equal(data.toString(), '42'))\n  })\n})\n```\n",
  "closed_by": {
    "login": "tcoulter",
    "id": 92629,
    "node_id": "MDQ6VXNlcjkyNjI5",
    "avatar_url": "https://avatars.githubusercontent.com/u/92629?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/tcoulter",
    "html_url": "https://github.com/tcoulter",
    "followers_url": "https://api.github.com/users/tcoulter/followers",
    "following_url": "https://api.github.com/users/tcoulter/following{/other_user}",
    "gists_url": "https://api.github.com/users/tcoulter/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/tcoulter/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/tcoulter/subscriptions",
    "organizations_url": "https://api.github.com/users/tcoulter/orgs",
    "repos_url": "https://api.github.com/users/tcoulter/repos",
    "events_url": "https://api.github.com/users/tcoulter/events{/privacy}",
    "received_events_url": "https://api.github.com/users/tcoulter/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/192/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/trufflesuite/truffle/issues/192/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/231421022",
    "html_url": "https://github.com/trufflesuite/truffle/issues/192#issuecomment-231421022",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/192",
    "id": 231421022,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzMTQyMTAyMg==",
    "user": {
      "login": "raineorshine",
      "id": 750276,
      "node_id": "MDQ6VXNlcjc1MDI3Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/750276?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/raineorshine",
      "html_url": "https://github.com/raineorshine",
      "followers_url": "https://api.github.com/users/raineorshine/followers",
      "following_url": "https://api.github.com/users/raineorshine/following{/other_user}",
      "gists_url": "https://api.github.com/users/raineorshine/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/raineorshine/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/raineorshine/subscriptions",
      "organizations_url": "https://api.github.com/users/raineorshine/orgs",
      "repos_url": "https://api.github.com/users/raineorshine/repos",
      "events_url": "https://api.github.com/users/raineorshine/events{/privacy}",
      "received_events_url": "https://api.github.com/users/raineorshine/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-07-08T17:27:09Z",
    "updated_at": "2016-07-08T17:27:09Z",
    "author_association": "CONTRIBUTOR",
    "body": "Still major issues with this. I'm going to try moving to truffle v2, but I wish I knew what was causing the problem anyway.\n\nMy library is not getting deployed (address is blank in whisked file), even though TestLib is listed in the deploy section of truffle.js.\n\nTestLib.sol.js:\n\n``` js\n  var contract_data = {\n    abi: [{\"constant\":false,\"inputs\":[],\"name\":\"Foo\",\"outputs\":[],\"type\":\"function\"}],\n    binary: \"606060405260268060106000396000f3650301c67926cf50606060405260e060020a6000350463bfb4ebcf81146024575b6007565b00\",\n    unlinked_binary: \"606060405260268060106000396000f3650301c67926cf50606060405260e060020a6000350463bfb4ebcf81146024575b6007565b00\",\n    address: \"\", // why is this empty?\n    generated_with: \"2.0.9\",\n    contract_name: \"TestLib\"\n  };\n```\n",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/231421022/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/231427908",
    "html_url": "https://github.com/trufflesuite/truffle/issues/192#issuecomment-231427908",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/192",
    "id": 231427908,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzMTQyNzkwOA==",
    "user": {
      "login": "tcoulter",
      "id": 92629,
      "node_id": "MDQ6VXNlcjkyNjI5",
      "avatar_url": "https://avatars.githubusercontent.com/u/92629?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tcoulter",
      "html_url": "https://github.com/tcoulter",
      "followers_url": "https://api.github.com/users/tcoulter/followers",
      "following_url": "https://api.github.com/users/tcoulter/following{/other_user}",
      "gists_url": "https://api.github.com/users/tcoulter/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tcoulter/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tcoulter/subscriptions",
      "organizations_url": "https://api.github.com/users/tcoulter/orgs",
      "repos_url": "https://api.github.com/users/tcoulter/repos",
      "events_url": "https://api.github.com/users/tcoulter/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tcoulter/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-07-08T17:54:52Z",
    "updated_at": "2016-07-08T17:54:52Z",
    "author_association": "CONTRIBUTOR",
    "body": "@raineorshine I didn't see this comment you made:\n\n> Full repo to reproduce: https://github.com/raineorshine/truffle-192\n\nAwesome. This is exactly what I need in bug reports. Let me give it a shot.\n",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/231427908/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/231428823",
    "html_url": "https://github.com/trufflesuite/truffle/issues/192#issuecomment-231428823",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/192",
    "id": 231428823,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzMTQyODgyMw==",
    "user": {
      "login": "tcoulter",
      "id": 92629,
      "node_id": "MDQ6VXNlcjkyNjI5",
      "avatar_url": "https://avatars.githubusercontent.com/u/92629?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tcoulter",
      "html_url": "https://github.com/tcoulter",
      "followers_url": "https://api.github.com/users/tcoulter/followers",
      "following_url": "https://api.github.com/users/tcoulter/following{/other_user}",
      "gists_url": "https://api.github.com/users/tcoulter/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tcoulter/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tcoulter/subscriptions",
      "organizations_url": "https://api.github.com/users/tcoulter/orgs",
      "repos_url": "https://api.github.com/users/tcoulter/repos",
      "events_url": "https://api.github.com/users/tcoulter/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tcoulter/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-07-08T17:58:13Z",
    "updated_at": "2016-07-08T17:58:13Z",
    "author_association": "CONTRIBUTOR",
    "body": "Oh, I think I know this answer.\n\nYou're \"whisking\" yourself, which doesn't do any library linking. If you were to check out `MetaCoinWhisked`'s binary, it would include text like `__ConvertLib_________` in it. These are queues for the linker (i.e. Truffle) to replace that text with the actual address of the library. But since you're circumventing this process within Truffle, that text is not being replaced, effectively creating a corrupted binary. When you try to deploy a \"corrupted binary\" you won't get any error messages, just 0x, at least from geth. The TestRPC should complain though (and that's a bug in the TestRPC if it doesn't). \n",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/231428823/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/231428962",
    "html_url": "https://github.com/trufflesuite/truffle/issues/192#issuecomment-231428962",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/192",
    "id": 231428962,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzMTQyODk2Mg==",
    "user": {
      "login": "tcoulter",
      "id": 92629,
      "node_id": "MDQ6VXNlcjkyNjI5",
      "avatar_url": "https://avatars.githubusercontent.com/u/92629?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tcoulter",
      "html_url": "https://github.com/tcoulter",
      "followers_url": "https://api.github.com/users/tcoulter/followers",
      "following_url": "https://api.github.com/users/tcoulter/following{/other_user}",
      "gists_url": "https://api.github.com/users/tcoulter/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tcoulter/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tcoulter/subscriptions",
      "organizations_url": "https://api.github.com/users/tcoulter/orgs",
      "repos_url": "https://api.github.com/users/tcoulter/repos",
      "events_url": "https://api.github.com/users/tcoulter/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tcoulter/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-07-08T17:58:43Z",
    "updated_at": "2016-07-08T17:58:43Z",
    "author_association": "CONTRIBUTOR",
    "body": "This is all just conjecture. I still need to try it.\n",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/231428962/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/231438885",
    "html_url": "https://github.com/trufflesuite/truffle/issues/192#issuecomment-231438885",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/192",
    "id": 231438885,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzMTQzODg4NQ==",
    "user": {
      "login": "raineorshine",
      "id": 750276,
      "node_id": "MDQ6VXNlcjc1MDI3Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/750276?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/raineorshine",
      "html_url": "https://github.com/raineorshine",
      "followers_url": "https://api.github.com/users/raineorshine/followers",
      "following_url": "https://api.github.com/users/raineorshine/following{/other_user}",
      "gists_url": "https://api.github.com/users/raineorshine/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/raineorshine/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/raineorshine/subscriptions",
      "organizations_url": "https://api.github.com/users/raineorshine/orgs",
      "repos_url": "https://api.github.com/users/raineorshine/repos",
      "events_url": "https://api.github.com/users/raineorshine/events{/privacy}",
      "received_events_url": "https://api.github.com/users/raineorshine/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-07-08T18:36:20Z",
    "updated_at": "2016-07-08T18:36:20Z",
    "author_association": "CONTRIBUTOR",
    "body": "That makes sense, and thanks for taking a look.\n\nI got around the \"no constructor arguments\" limit of truffle v1 for a while, but eventually needed that functionality, hence whisking manually.\n",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/231438885/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/231473319",
    "html_url": "https://github.com/trufflesuite/truffle/issues/192#issuecomment-231473319",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/192",
    "id": 231473319,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzMTQ3MzMxOQ==",
    "user": {
      "login": "raineorshine",
      "id": 750276,
      "node_id": "MDQ6VXNlcjc1MDI3Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/750276?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/raineorshine",
      "html_url": "https://github.com/raineorshine",
      "followers_url": "https://api.github.com/users/raineorshine/followers",
      "following_url": "https://api.github.com/users/raineorshine/following{/other_user}",
      "gists_url": "https://api.github.com/users/raineorshine/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/raineorshine/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/raineorshine/subscriptions",
      "organizations_url": "https://api.github.com/users/raineorshine/orgs",
      "repos_url": "https://api.github.com/users/raineorshine/repos",
      "events_url": "https://api.github.com/users/raineorshine/events{/privacy}",
      "received_events_url": "https://api.github.com/users/raineorshine/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-07-08T21:09:03Z",
    "updated_at": "2016-07-08T21:09:03Z",
    "author_association": "CONTRIBUTOR",
    "body": "All working now. Here's my hacky workaround, fwiw:\n\n``` js\nimport 'babel-polyfill'\nimport requireFromString from 'require-from-string'\nimport { readFileSync } from 'fs'\nimport { join } from 'path'\nimport { merge, prop } from 'ramda'\nimport config from '../../config.js'\nimport truffleConfig from '../../truffle.js'\nconst Pudding = require('ether-pudding')\n\nconst contractPath = join(__dirname, '../../', config.paths.contracts)\n\n/** Removes the 0x from the beginning of an address */\nconst stripAddress = addressRaw => addressRaw.slice(0,2) === '0x'\n  ? addressRaw.slice(2)\n  : address.Raw\n\n/**\n  Replaces all library placeholders in the given string with addresses provided by a name -> address mapping.\n  (source: string, libraries: { name: Address }) => string\n*/\nexport const linkSource = (source = '', libraries = {}) => {\n  // match library placeholders and capture the identifier\n  const regex = /__([^_]*)_*/g\n  return source.replace(regex, (match, name) => {\n    if(!(name in libraries)) {\n      throw new Error(`Found library \"${name}\" in unlinked bytecode, but no address with that name was provided in libraries mapping.`)\n    }\n    const addressRaw = prop(name)(libraries)\n    return stripAddress(addressRaw)\n  })\n}\n\n/** Compiles all libraries specified in the libraries field of truffle.js. */\nexport const compileLibraries = async web3 => {\n\n  Pudding.setWeb3(web3)\n\n  // compile each library\n  const libraryNames = truffleConfig.libraries || []\n  const libraryInstances = await Promise.all(libraryNames.map(async libName => {\n    const Lib = require(join(contractPath, `/${libName}.sol.js`))\n    await Lib.load(Pudding)\n    const lib = await Lib.new({ from: web3.eth.accounts[0] })\n    return { name: libName, lib }\n  }))\n\n  // constructor an object mapping: name -> address\n  return libraryInstances.reduce((prev, next) => {\n    return merge(prev, {\n      [next.name]: next.lib.address\n    })\n  }, {})\n}\n\n/** Inserts the given library addresses into the whisked contract code with the given name and returns a final, linked contract constructor. */\nexport const link = async (web3, name, libraries) => {\n  Pudding.setWeb3(web3)\n  const puddingContractSource = linkSource(readFileSync(join(contractPath, `/${name}.sol.js`), 'utf-8'), libraries)\n  const Contract = requireFromString(puddingContractSource)\n  await Contract.load(Pudding)\n  return Contract\n}\n```\n\nI use it like this:\n\n``` js\nconst libraries = await compileLibraries(web3)\nconst MyContract = await link(web3, 'MyContract', libraries)\n```\n",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/231473319/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/234618931",
    "html_url": "https://github.com/trufflesuite/truffle/issues/192#issuecomment-234618931",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/192",
    "id": 234618931,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzNDYxODkzMQ==",
    "user": {
      "login": "tcoulter",
      "id": 92629,
      "node_id": "MDQ6VXNlcjkyNjI5",
      "avatar_url": "https://avatars.githubusercontent.com/u/92629?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tcoulter",
      "html_url": "https://github.com/tcoulter",
      "followers_url": "https://api.github.com/users/tcoulter/followers",
      "following_url": "https://api.github.com/users/tcoulter/following{/other_user}",
      "gists_url": "https://api.github.com/users/tcoulter/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tcoulter/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tcoulter/subscriptions",
      "organizations_url": "https://api.github.com/users/tcoulter/orgs",
      "repos_url": "https://api.github.com/users/tcoulter/repos",
      "events_url": "https://api.github.com/users/tcoulter/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tcoulter/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-07-22T18:23:46Z",
    "updated_at": "2016-07-22T18:23:46Z",
    "author_association": "CONTRIBUTOR",
    "body": "Hey @raineorshine. Is this something you still need to do with Truffle's new migration system?\n\nIf you run `deployer.link()` within a migration, even if you don't deploy that contract specifically (say, you want n MetaCoin contracts instead of a singleton), it'll link the library for you and you'll be able to use it in your application without having to do that yourself.\n\nAlso -- and this might be helpful to you -- EtherPudding 3.1.2 now manages linked libraries for you.  You can call `MyContract.link()`, passing in the library name as the first parameter and the library address as the second parameter, and it will provider you a binary that you can use for deployment. You can even change the linked address later by calling `.link()` with the same library name, and Pudding will take care of what I'm calling \"selective relinking\" for you.\n\nThere's no documentation for this feature of Pudding yet, but here's how the latest Truffle uses it: https://github.com/ConsenSys/truffle/blob/master/lib/linker.js#L24\n\nNow that I think about it, because of this new feature in EtherPudding, I'm going to close this ticket. There's now much less you have to do yourself, even if you _do_ want to continue whisking things yourself. :) \n\nCheers!\n",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/234618931/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/235098843",
    "html_url": "https://github.com/trufflesuite/truffle/issues/192#issuecomment-235098843",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/192",
    "id": 235098843,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzNTA5ODg0Mw==",
    "user": {
      "login": "raineorshine",
      "id": 750276,
      "node_id": "MDQ6VXNlcjc1MDI3Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/750276?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/raineorshine",
      "html_url": "https://github.com/raineorshine",
      "followers_url": "https://api.github.com/users/raineorshine/followers",
      "following_url": "https://api.github.com/users/raineorshine/following{/other_user}",
      "gists_url": "https://api.github.com/users/raineorshine/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/raineorshine/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/raineorshine/subscriptions",
      "organizations_url": "https://api.github.com/users/raineorshine/orgs",
      "repos_url": "https://api.github.com/users/raineorshine/repos",
      "events_url": "https://api.github.com/users/raineorshine/events{/privacy}",
      "received_events_url": "https://api.github.com/users/raineorshine/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-07-25T21:58:10Z",
    "updated_at": "2016-07-25T21:58:10Z",
    "author_association": "CONTRIBUTOR",
    "body": "Okay, thanks. Yes, all those things sound good... I might have to stick\nwith what I've got for the time being because I'm entering the phase of the\nproject where we are closing in on the alpha release, so I have more\nlimited time for refactoring or doing major upgrades and the necessary\nlearning/troubleshooting that comes with it. Thanks for your response.\nOn Fri, Jul 22, 2016 at 12:23 PM Tim Coulter notifications@github.com\nwrote:\n\n> Hey @raineorshine https://github.com/raineorshine. Is this something\n> you still need to do with Truffle's new migration system?\n> \n> If you run deployer.link() within a migration, even if you don't deploy\n> that contract specifically (say, you want n MetaCoin contracts instead of a\n> singleton), it'll link the library for you and you'll be able to use it in\n> your application without having to do that yourself.\n> \n> Also -- and this might be helpful to you -- EtherPudding 3.1.2 now manages\n> linked libraries for you. You can call MyContract.link(), passing in the\n> library name as the first parameter and the library address as the second\n> parameter, and it will provider you a binary that you can use for\n> deployment. You can even change the linked address later by calling\n> .link() with the same library name, and Pudding will take care of what\n> I'm calling \"selective relinking\" for you.\n> \n> There's no documentation for this feature of Pudding yet, but here's how\n> the latest Truffle uses it:\n> https://github.com/ConsenSys/truffle/blob/master/lib/linker.js#L24\n> \n> Now that I think about it, because of this new feature in EtherPudding,\n> I'm going to close this ticket. There's now much less you have to do\n> yourself, even if you _do_ want to continue whisking things yourself. :)\n> \n> Cheers!\n> \n> —\n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub\n> https://github.com/ConsenSys/truffle/issues/192#issuecomment-234618931,\n> or mute the thread\n> https://github.com/notifications/unsubscribe-auth/AAtyxMxRPWSNuFmmO_8mXVbNXefnylk_ks5qYQq0gaJpZM4JIMcD\n> .\n",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/235098843/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
