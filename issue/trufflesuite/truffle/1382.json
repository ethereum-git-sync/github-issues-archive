{
  "url": "https://api.github.com/repos/trufflesuite/truffle/issues/1382",
  "repository_url": "https://api.github.com/repos/trufflesuite/truffle",
  "labels_url": "https://api.github.com/repos/trufflesuite/truffle/issues/1382/labels{/name}",
  "comments_url": "https://api.github.com/repos/trufflesuite/truffle/issues/1382/comments",
  "events_url": "https://api.github.com/repos/trufflesuite/truffle/issues/1382/events",
  "html_url": "https://github.com/trufflesuite/truffle/issues/1382",
  "id": 374194544,
  "node_id": "MDU6SXNzdWUzNzQxOTQ1NDQ=",
  "number": 1382,
  "title": "Remove/obviate boilerplate files",
  "user": {
    "login": "fulldecent",
    "id": 382183,
    "node_id": "MDQ6VXNlcjM4MjE4Mw==",
    "avatar_url": "https://avatars.githubusercontent.com/u/382183?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/fulldecent",
    "html_url": "https://github.com/fulldecent",
    "followers_url": "https://api.github.com/users/fulldecent/followers",
    "following_url": "https://api.github.com/users/fulldecent/following{/other_user}",
    "gists_url": "https://api.github.com/users/fulldecent/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/fulldecent/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/fulldecent/subscriptions",
    "organizations_url": "https://api.github.com/users/fulldecent/orgs",
    "repos_url": "https://api.github.com/users/fulldecent/repos",
    "events_url": "https://api.github.com/users/fulldecent/events{/privacy}",
    "received_events_url": "https://api.github.com/users/fulldecent/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 1120350502,
      "node_id": "MDU6TGFiZWwxMTIwMzUwNTAy",
      "url": "https://api.github.com/repos/trufflesuite/truffle/labels/stale",
      "name": "stale",
      "color": "ffffff",
      "default": false,
      "description": null
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 3,
  "created_at": "2018-10-26T01:40:49Z",
  "updated_at": "2019-01-04T15:56:43Z",
  "closed_at": "2019-01-04T15:56:43Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "I loathed getting started with Truffle because there are so many files necessary to get hello world running. Then while I am learning it, I find out that these files deliver no value and are simply boilerplate.\r\n\r\nTruffle should learn to work well without these files. Copy-pasting these files into my project do not make me a better programmer, they do not help me learn anything, and they are a distraction from writing tests or doing whatever else I want to do. Sure, maybe I will want to customize some Truffle behavior in the future, but the time to do that is not when just getting started.\r\n\r\n# truffle.js\r\n\r\n```\r\nnpx truffle test\r\nCould not find suitable configuration file.\r\n```\r\n\r\nFix this error by placing the following file in truffle.js:\r\n\r\n> module.exports = {}\r\n\r\nClearly this file is not adding any value.\r\n\r\nPerhaps the reason this file is needed is because otherwise Truffle doesn't know which folder to search for contracts. But of course the obvious default is to search the current folder and subdirectories for contracts.\r\n\r\n# migrations/1*.js\r\n\r\n```\r\nnpx truffle test\r\nCompiling ./contracts/a.sol...\r\nCompiling ./contracts/b.sol...\r\nCompiling truffle/Assert.sol...\r\nError: ENOENT: no such file or directory, stat '/Users/williamentriken/Developer/su-squares-ethereum-contract/migrations'\r\n```\r\n\r\nIf you put this file into `migrations/1-boilerplate.js` the error goes away:\r\n\r\n```\r\n// This is a boilerplate file required by Truffle\r\nvar Migrations = artifacts.require('./Migrations.sol');\r\n\r\nmodule.exports = function(deployer) {\r\n  deployer.deploy(Migrations);\r\n};\r\n```\r\n\r\nI don't know what this file does and I don't care. It is the same file every project uses. I didn't wake up today wanting to write Javascript, I want to write Solidity.\r\n\r\nIf this file is missing, Truffle should gracefully default to not doing any migrations.\r\n\r\n# contracts/Migrations.sol\r\n\r\nObviously this is required because the boilerplate migration js file referenced it. So I won't bother to post the error message you get if the file is missing.\r\n\r\nYou need to put this file into `contracts/Migrations.sol`. \r\n\r\n```\r\npragma solidity ^0.4.23;\r\n// This is a boilerplate file required by Truffle\r\n\r\ncontract Migrations {\r\n  address public owner;\r\n  uint public last_completed_migration;\r\n\r\n  constructor() public {\r\n    owner = msg.sender;\r\n  }\r\n\r\n  modifier restricted() {\r\n    if (msg.sender == owner) _;\r\n  }\r\n\r\n  function setCompleted(uint completed) public restricted {\r\n    last_completed_migration = completed;\r\n  }\r\n\r\n  function upgrade(address new_address) public restricted {\r\n    Migrations upgraded = Migrations(new_address);\r\n    upgraded.setCompleted(last_completed_migration);\r\n  }\r\n}\r\n```\r\n\r\nAt least this is written in Solidity. But it doesn't look like anything I care about. Most projects are just copy-pasting this.\r\n\r\n`updated`, `setCompleted` and `restricted` don't look like functions I will call from any of my tests. So this is clearly a file I don't care about.\r\n\r\nSince my test cases do not depend on the those functions, Truffle should gracefully proceed if I do not provide this file.",
  "closed_by": {
    "login": "fulldecent",
    "id": 382183,
    "node_id": "MDQ6VXNlcjM4MjE4Mw==",
    "avatar_url": "https://avatars.githubusercontent.com/u/382183?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/fulldecent",
    "html_url": "https://github.com/fulldecent",
    "followers_url": "https://api.github.com/users/fulldecent/followers",
    "following_url": "https://api.github.com/users/fulldecent/following{/other_user}",
    "gists_url": "https://api.github.com/users/fulldecent/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/fulldecent/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/fulldecent/subscriptions",
    "organizations_url": "https://api.github.com/users/fulldecent/orgs",
    "repos_url": "https://api.github.com/users/fulldecent/repos",
    "events_url": "https://api.github.com/users/fulldecent/events{/privacy}",
    "received_events_url": "https://api.github.com/users/fulldecent/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/1382/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/trufflesuite/truffle/issues/1382/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/433267428",
    "html_url": "https://github.com/trufflesuite/truffle/issues/1382#issuecomment-433267428",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/1382",
    "id": 433267428,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzMzI2NzQyOA==",
    "user": {
      "login": "fulldecent",
      "id": 382183,
      "node_id": "MDQ6VXNlcjM4MjE4Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/382183?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fulldecent",
      "html_url": "https://github.com/fulldecent",
      "followers_url": "https://api.github.com/users/fulldecent/followers",
      "following_url": "https://api.github.com/users/fulldecent/following{/other_user}",
      "gists_url": "https://api.github.com/users/fulldecent/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fulldecent/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fulldecent/subscriptions",
      "organizations_url": "https://api.github.com/users/fulldecent/orgs",
      "repos_url": "https://api.github.com/users/fulldecent/repos",
      "events_url": "https://api.github.com/users/fulldecent/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fulldecent/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-10-26T02:39:27Z",
    "updated_at": "2018-10-26T02:39:27Z",
    "author_association": "NONE",
    "body": "P.S. Here is the minimal project I can create that works with Truffle test.\r\n\r\n```\r\n./truffle.js:// Boilerplate required, https://github.com/trufflesuite/truffle/issues/1382\r\n./migrations/1.js:// Boilerplate required, https://github.com/trufflesuite/truffle/issues/1382\r\n./migrations/1.js:module.exports = ($)=>{};\r\n./test/TestMetacoin.sol:pragma solidity ^0.4.2;\r\n./test/TestMetacoin.sol:import \"truffle/Assert.sol\";\r\n./test/TestMetacoin.sol:import \"../contracts/MetaCoin.sol\";\r\n./test/TestMetacoin.sol:contract TestMetacoin {\r\n./test/TestMetacoin.sol:  function testBal() public {\r\n./test/TestMetacoin.sol:    MetaCoin meta = new MetaCoin();\r\n./test/TestMetacoin.sol:    uint expected = 5;\r\n./test/TestMetacoin.sol:    Assert.equal(meta.getBalance(tx.origin), expected, \"Owner should have 10000 MetaCoin iitially\");\r\n./test/TestMetacoin.sol:  }\r\n./test/TestMetacoin.sol:}\r\n./contracts/MetaCoin.sol:pragma solidity ^0.4.18;\r\n./contracts/MetaCoin.sol:contract MetaCoin {\r\n./contracts/MetaCoin.sol:\tfunction getBalance(address) public pure returns(uint) {\r\n./contracts/MetaCoin.sol:\t\treturn 5;\r\n./contracts/MetaCoin.sol:\t}\r\n./contracts/MetaCoin.sol:}\r\n./contracts/Migrations.sol:pragma solidity ^0.4.23;\r\n./contracts/Migrations.sol:// Boilerplate required, https://github.com/trufflesuite/truffle/issues/1382\r\n./contracts/Migrations.sol:contract Migrations {}\r\n\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/433267428/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/451352176",
    "html_url": "https://github.com/trufflesuite/truffle/issues/1382#issuecomment-451352176",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/1382",
    "id": 451352176,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1MTM1MjE3Ng==",
    "user": {
      "login": "stale[bot]",
      "id": 26384082,
      "node_id": "MDM6Qm90MjYzODQwODI=",
      "avatar_url": "https://avatars.githubusercontent.com/in/1724?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/stale%5Bbot%5D",
      "html_url": "https://github.com/apps/stale",
      "followers_url": "https://api.github.com/users/stale%5Bbot%5D/followers",
      "following_url": "https://api.github.com/users/stale%5Bbot%5D/following{/other_user}",
      "gists_url": "https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/stale%5Bbot%5D/subscriptions",
      "organizations_url": "https://api.github.com/users/stale%5Bbot%5D/orgs",
      "repos_url": "https://api.github.com/users/stale%5Bbot%5D/repos",
      "events_url": "https://api.github.com/users/stale%5Bbot%5D/events{/privacy}",
      "received_events_url": "https://api.github.com/users/stale%5Bbot%5D/received_events",
      "type": "Bot",
      "site_admin": false
    },
    "created_at": "2019-01-04T04:40:03Z",
    "updated_at": "2019-01-04T04:40:03Z",
    "author_association": "NONE",
    "body": "Thank you for raising this issue! It has been automatically marked as stale because it has not had recent activity. It will be closed in 7 days if no further activity occurs. If you would like to keep this issue open, please respond with information about the current state of this problem.\n",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/451352176/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/451483994",
    "html_url": "https://github.com/trufflesuite/truffle/issues/1382#issuecomment-451483994",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/1382",
    "id": 451483994,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1MTQ4Mzk5NA==",
    "user": {
      "login": "fulldecent",
      "id": 382183,
      "node_id": "MDQ6VXNlcjM4MjE4Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/382183?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fulldecent",
      "html_url": "https://github.com/fulldecent",
      "followers_url": "https://api.github.com/users/fulldecent/followers",
      "following_url": "https://api.github.com/users/fulldecent/following{/other_user}",
      "gists_url": "https://api.github.com/users/fulldecent/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fulldecent/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fulldecent/subscriptions",
      "organizations_url": "https://api.github.com/users/fulldecent/orgs",
      "repos_url": "https://api.github.com/users/fulldecent/repos",
      "events_url": "https://api.github.com/users/fulldecent/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fulldecent/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-01-04T15:56:43Z",
    "updated_at": "2019-01-04T15:56:43Z",
    "author_association": "NONE",
    "body": "Thank you, this issue is resolved now. Boilerplate is no longer necessary as of Truffle 5.0.1. Only a single `truffle.js` file, which can be empty, is needed. And this is reasonable.\r\n\r\nHere is a minimal test case which demonstrates the new version works.\r\n\r\n```sh\r\nmkdir -p tmp/test tmp/contracts tmp/migrations\r\n\r\ncat > tmp/truffle.js <<EOL\r\n// Boilerplate required, https://github.com/trufflesuite/truffle/issues/1382\r\nEOL\r\n\r\ncat > tmp/test/TestMetacoin.sol <<EOL\r\npragma solidity ^0.5.0;\r\nimport \"truffle/Assert.sol\";\r\nimport \"../contracts/MetaCoin.sol\";\r\ncontract TestMetacoin {\r\n  function testBal() public {\r\n    MetaCoin meta = new MetaCoin();\r\n    uint expected = 5;\r\n    Assert.equal(meta.getBalance(tx.origin), expected, \"Owner should have 10000 MetaCoin iitially\");\r\n  }\r\n}\r\nEOL\r\n\r\ncat > tmp/contracts/MetaCoin.sol <<EOL\r\npragma solidity ^0.5.0;\r\ncontract MetaCoin {\r\n  function getBalance(address) public pure returns(uint) {\r\n    return 5;\r\n  }\r\n}\r\nEOL\r\n\r\n(cd tmp && npx truffle test)\r\nrm -rf tmp\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/451483994/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
