{
  "url": "https://api.github.com/repos/trufflesuite/truffle/issues/1207",
  "repository_url": "https://api.github.com/repos/trufflesuite/truffle",
  "labels_url": "https://api.github.com/repos/trufflesuite/truffle/issues/1207/labels{/name}",
  "comments_url": "https://api.github.com/repos/trufflesuite/truffle/issues/1207/comments",
  "events_url": "https://api.github.com/repos/trufflesuite/truffle/issues/1207/events",
  "html_url": "https://github.com/trufflesuite/truffle/issues/1207",
  "id": 352691032,
  "node_id": "MDU6SXNzdWUzNTI2OTEwMzI=",
  "number": 1207,
  "title": "Check interface compatibility before deploy",
  "user": {
    "login": "eduardonunesp",
    "id": 582516,
    "node_id": "MDQ6VXNlcjU4MjUxNg==",
    "avatar_url": "https://avatars.githubusercontent.com/u/582516?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/eduardonunesp",
    "html_url": "https://github.com/eduardonunesp",
    "followers_url": "https://api.github.com/users/eduardonunesp/followers",
    "following_url": "https://api.github.com/users/eduardonunesp/following{/other_user}",
    "gists_url": "https://api.github.com/users/eduardonunesp/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/eduardonunesp/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/eduardonunesp/subscriptions",
    "organizations_url": "https://api.github.com/users/eduardonunesp/orgs",
    "repos_url": "https://api.github.com/users/eduardonunesp/repos",
    "events_url": "https://api.github.com/users/eduardonunesp/events{/privacy}",
    "received_events_url": "https://api.github.com/users/eduardonunesp/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 971534911,
      "node_id": "MDU6TGFiZWw5NzE1MzQ5MTE=",
      "url": "https://api.github.com/repos/trufflesuite/truffle/labels/Next",
      "name": "Next",
      "color": "5319e7",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 3,
  "created_at": "2018-08-21T20:10:28Z",
  "updated_at": "2018-08-23T22:15:11Z",
  "closed_at": "2018-08-23T22:14:46Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "## Issue\r\n\r\nOn the current implementation, if you have a contract with an abstract interface and the overwritten function is implemented, but with a different arity, for instance: override the function name but not the params correctly, it will compile (perhaps this is the Solc compiler), however during the deployment it will fail with an error that doesn't say anything related to the incorrect implementation of the interface.\r\n\r\n### Error\r\n\r\n```bash\r\nError encountered, bailing. Network state unknown. Review successful transactions manually.\r\nError: The contract code couldn't be stored, please check your gas amount.\r\n```\r\n\r\n## Steps to Reproduce\r\n\r\nImplement the contracts as the example and try to deploy:\r\n\r\n```solidity\r\npragma solidity 0.4.24;\r\n\r\ninterface AbstractContract {\r\n    function supply(bool cool) external view returns (uint256);\r\n}\r\n\r\ncontract MyContract is AbstractContract {\r\n    uint256 total = 10;\r\n    \r\n    function supply() public view returns (uint256) {\r\n        return total;\r\n    }\r\n}\r\n```\r\n\r\n## Expected Behavior\r\n\r\nIt should warn that the interface isn't right like Remix does:\r\n\r\n![image](https://user-images.githubusercontent.com/582516/44426296-a1859900-a564-11e8-966c-d6735fe93fe3.png)\r\n\r\n\r\n## Actual Results\r\n\r\nAn verbose an error that leads to misunderstanding of the real issue\r\n\r\n```bash\r\nError encountered, bailing. Network state unknown. Review successful transactions manually.\r\nError: The contract code couldn't be stored, please check your gas amount.\r\n```\r\n\r\n## Environment\r\n\r\n* Operating System: `macOS 10.13.6`\r\n* Ethereum client: `ganache-cli 6.1.6`\r\n* Truffle version (`truffle version`): `Truffle v4.1.13 (core: 4.1.13)`\r\n* Solidity version: `Solidity v0.4.24 (solc-js)`\r\n* node version (`node --version`): `v8.11.4`\r\n* npm version (`npm --version`):  `6.2.0`\r\n",
  "closed_by": {
    "login": "eduardonunesp",
    "id": 582516,
    "node_id": "MDQ6VXNlcjU4MjUxNg==",
    "avatar_url": "https://avatars.githubusercontent.com/u/582516?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/eduardonunesp",
    "html_url": "https://github.com/eduardonunesp",
    "followers_url": "https://api.github.com/users/eduardonunesp/followers",
    "following_url": "https://api.github.com/users/eduardonunesp/following{/other_user}",
    "gists_url": "https://api.github.com/users/eduardonunesp/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/eduardonunesp/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/eduardonunesp/subscriptions",
    "organizations_url": "https://api.github.com/users/eduardonunesp/orgs",
    "repos_url": "https://api.github.com/users/eduardonunesp/repos",
    "events_url": "https://api.github.com/users/eduardonunesp/events{/privacy}",
    "received_events_url": "https://api.github.com/users/eduardonunesp/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/1207/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/trufflesuite/truffle/issues/1207/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/414835867",
    "html_url": "https://github.com/trufflesuite/truffle/issues/1207#issuecomment-414835867",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/1207",
    "id": 414835867,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxNDgzNTg2Nw==",
    "user": {
      "login": "cgewecke",
      "id": 7332026,
      "node_id": "MDQ6VXNlcjczMzIwMjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7332026?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cgewecke",
      "html_url": "https://github.com/cgewecke",
      "followers_url": "https://api.github.com/users/cgewecke/followers",
      "following_url": "https://api.github.com/users/cgewecke/following{/other_user}",
      "gists_url": "https://api.github.com/users/cgewecke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cgewecke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cgewecke/subscriptions",
      "organizations_url": "https://api.github.com/users/cgewecke/orgs",
      "repos_url": "https://api.github.com/users/cgewecke/repos",
      "events_url": "https://api.github.com/users/cgewecke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cgewecke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-08-21T22:00:06Z",
    "updated_at": "2018-08-21T22:00:06Z",
    "author_association": "CONTRIBUTOR",
    "body": "Hi @eduardonunesp, thanks for this issue. In the new beta of Truffle we're throwing an error for this case:\r\n```\r\nError:  *** Deployment Failed ***\r\n\r\n\"MyContract\" is an abstract contract or an interface and cannot be deployed\r\n   * Hint: just import the contract into the '.sol' file that uses it.\r\n```\r\n\r\nBut it needs to be improved to add the case you raise here, where you *thought* you implemented all the functions but made a small mistake somewhere. \r\n\r\nNB: There's a similar [issue](https://github.com/ethereum/remix/issues/665) at Remix suggesting that the error should identify at least one of the unimplemented functions. To do that we'd need to detect this case and do some AST processing on the contract in question. ",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/414835867/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/414871360",
    "html_url": "https://github.com/trufflesuite/truffle/issues/1207#issuecomment-414871360",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/1207",
    "id": 414871360,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxNDg3MTM2MA==",
    "user": {
      "login": "eduardonunesp",
      "id": 582516,
      "node_id": "MDQ6VXNlcjU4MjUxNg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/582516?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eduardonunesp",
      "html_url": "https://github.com/eduardonunesp",
      "followers_url": "https://api.github.com/users/eduardonunesp/followers",
      "following_url": "https://api.github.com/users/eduardonunesp/following{/other_user}",
      "gists_url": "https://api.github.com/users/eduardonunesp/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eduardonunesp/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eduardonunesp/subscriptions",
      "organizations_url": "https://api.github.com/users/eduardonunesp/orgs",
      "repos_url": "https://api.github.com/users/eduardonunesp/repos",
      "events_url": "https://api.github.com/users/eduardonunesp/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eduardonunesp/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-08-22T01:01:50Z",
    "updated_at": "2018-08-22T01:01:50Z",
    "author_association": "NONE",
    "body": "@cgewecke thanks for the feedback, is possible to add another hint too? isn't the best case scenario, but to warn that the interface on `MyContract` and `AbstractContract` aren't right already helps to avoid a waste of time trying to fix `gas` issues :)",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/414871360/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/415588234",
    "html_url": "https://github.com/trufflesuite/truffle/issues/1207#issuecomment-415588234",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/1207",
    "id": 415588234,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxNTU4ODIzNA==",
    "user": {
      "login": "eduardonunesp",
      "id": 582516,
      "node_id": "MDQ6VXNlcjU4MjUxNg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/582516?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eduardonunesp",
      "html_url": "https://github.com/eduardonunesp",
      "followers_url": "https://api.github.com/users/eduardonunesp/followers",
      "following_url": "https://api.github.com/users/eduardonunesp/following{/other_user}",
      "gists_url": "https://api.github.com/users/eduardonunesp/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eduardonunesp/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eduardonunesp/subscriptions",
      "organizations_url": "https://api.github.com/users/eduardonunesp/orgs",
      "repos_url": "https://api.github.com/users/eduardonunesp/repos",
      "events_url": "https://api.github.com/users/eduardonunesp/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eduardonunesp/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-08-23T22:15:11Z",
    "updated_at": "2018-08-23T22:15:11Z",
    "author_association": "NONE",
    "body": "Thanks 👍 ",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/415588234/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
