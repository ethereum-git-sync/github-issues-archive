{
  "url": "https://api.github.com/repos/trufflesuite/truffle/issues/725",
  "repository_url": "https://api.github.com/repos/trufflesuite/truffle",
  "labels_url": "https://api.github.com/repos/trufflesuite/truffle/issues/725/labels{/name}",
  "comments_url": "https://api.github.com/repos/trufflesuite/truffle/issues/725/comments",
  "events_url": "https://api.github.com/repos/trufflesuite/truffle/issues/725/events",
  "html_url": "https://github.com/trufflesuite/truffle/issues/725",
  "id": 283544464,
  "node_id": "MDU6SXNzdWUyODM1NDQ0NjQ=",
  "number": 725,
  "title": "Need to add documentation and change error message when incorrectly using inheritance",
  "user": {
    "login": "JackPickering",
    "id": 16956871,
    "node_id": "MDQ6VXNlcjE2OTU2ODcx",
    "avatar_url": "https://avatars.githubusercontent.com/u/16956871?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/JackPickering",
    "html_url": "https://github.com/JackPickering",
    "followers_url": "https://api.github.com/users/JackPickering/followers",
    "following_url": "https://api.github.com/users/JackPickering/following{/other_user}",
    "gists_url": "https://api.github.com/users/JackPickering/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/JackPickering/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/JackPickering/subscriptions",
    "organizations_url": "https://api.github.com/users/JackPickering/orgs",
    "repos_url": "https://api.github.com/users/JackPickering/repos",
    "events_url": "https://api.github.com/users/JackPickering/events{/privacy}",
    "received_events_url": "https://api.github.com/users/JackPickering/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 1,
  "created_at": "2017-12-20T12:17:04Z",
  "updated_at": "2018-04-02T18:00:13Z",
  "closed_at": "2018-04-02T18:00:13Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "- [ ] I've asked for help in the [Truffle Gitter](http://gitter.im/Consensys/truffle) before filing this issue.\r\n\r\n---------------------------\r\n\r\n## Issue\r\n\r\nThere is a lack of documentation on inheritance in solidity that does not make it obvious that the process of deploying a base contract WITH PARAMETERS, must be deployed inside the inheriting contract. \r\n\r\nThe error message that Truffle shows for this is 'Error: Please check your gas amount' which isn't remotely true and if anything, throws people off when debugging this error. \r\n\r\nI assumed that I would have to deploy the base contract, then refer to that contract and deploy my inheriting contract which would use 'is BaseContract' in the name as per the documentation. \r\n\r\nBut instead what you have to do, if just specify the inheriting contract in the migrations file and then deploy to the base contract within the constructor of the inheriting contract.\r\n\r\n## Steps to Reproduce\r\n\r\nCreate two contracts, one base which requires a parameter in constructor and on inheriting contract (doesn't have to do anything at all) which simply imports the base contract file and uses the 'is' keyword to refer to it i.e. \r\n\r\n```\r\n function InheritingContract is Base {\r\n     function Inheriting(uint256 SomeOtherVariable)\r\n     {\r\n          uint256 doSomething = SomeOtherVariable\r\n      }\r\n}\r\n```\r\n\r\nDeploy the base contract in migrations file with the parameter using: \r\n`deployer.deploy(Base, SomeVariable);`\r\n\r\nDeploy the inheriting contract afterwards using: \r\n`deployer.deploy(Inheriting, SomeOtherVariable);`\r\n\r\nThe documentation should say (somewhere in Truffles docs too) that when inheriting a base contract with params you must specify it in the constructor of the inheriting contract like so:\r\n    \r\n```\r\nfunction Inheriting(uint256 SomeVariable, uint256 SomeOtherVariable)\r\n        Base(SomeVariable)\r\n    {\r\n        uint256 doSomething = SomeOtherVariable\r\n    }\r\n```\r\n\r\nAnd then deploy the contract in migrations like so: \r\n`deployer.deploy(Inheriting, SomeVariable, SomeOtherVariable);`\r\n\r\nThis is rather important as anyone who wishes to write a worthy smart contract must split them down to keep under the block gas limit.\r\n\r\n## Expected Behavior\r\n\r\nThe contract is either deployed OR an error message showing 'Incorrectly inheriting contract'\r\n\r\n## Actual Results\r\n\r\nYou get the error 'Error: please check your gas amount'\r\n\r\n## Environment\r\n\r\n* Operating System: Mac OSX El Capitan\r\n* Truffle version: v4.0.1\r\n* Ethereum client: Geth\r\n* node version: v8.9.0\r\n* npm version: v5.6.0\r\n",
  "closed_by": {
    "login": "cgewecke",
    "id": 7332026,
    "node_id": "MDQ6VXNlcjczMzIwMjY=",
    "avatar_url": "https://avatars.githubusercontent.com/u/7332026?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/cgewecke",
    "html_url": "https://github.com/cgewecke",
    "followers_url": "https://api.github.com/users/cgewecke/followers",
    "following_url": "https://api.github.com/users/cgewecke/following{/other_user}",
    "gists_url": "https://api.github.com/users/cgewecke/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/cgewecke/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/cgewecke/subscriptions",
    "organizations_url": "https://api.github.com/users/cgewecke/orgs",
    "repos_url": "https://api.github.com/users/cgewecke/repos",
    "events_url": "https://api.github.com/users/cgewecke/events{/privacy}",
    "received_events_url": "https://api.github.com/users/cgewecke/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/725/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/trufflesuite/truffle/issues/725/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/377994973",
    "html_url": "https://github.com/trufflesuite/truffle/issues/725#issuecomment-377994973",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/725",
    "id": 377994973,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3Nzk5NDk3Mw==",
    "user": {
      "login": "cgewecke",
      "id": 7332026,
      "node_id": "MDQ6VXNlcjczMzIwMjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7332026?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cgewecke",
      "html_url": "https://github.com/cgewecke",
      "followers_url": "https://api.github.com/users/cgewecke/followers",
      "following_url": "https://api.github.com/users/cgewecke/following{/other_user}",
      "gists_url": "https://api.github.com/users/cgewecke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cgewecke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cgewecke/subscriptions",
      "organizations_url": "https://api.github.com/users/cgewecke/orgs",
      "repos_url": "https://api.github.com/users/cgewecke/repos",
      "events_url": "https://api.github.com/users/cgewecke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cgewecke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-04-02T18:00:13Z",
    "updated_at": "2018-04-02T18:00:13Z",
    "author_association": "CONTRIBUTOR",
    "body": "@JackPickering Agree this is a problem and that the message coming back from the client is uselessly cryptic. Not sure there is a straightforward fix for this other than enumerating the known causes of the error (there are many, unfortunately) in our reporting. \r\n\r\nHave opened an [issue](https://github.com/trufflesuite/truffle-migrate/issues/22) at `truffle-migrate` that covers this general topic and am linking back to this one. Closing here in order to track everything there. \r\n\r\nThanks for taking the time to articulate the cause of this error so clearly, likely very helpful to other users. ",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/377994973/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
