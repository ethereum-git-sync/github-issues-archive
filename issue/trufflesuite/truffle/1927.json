{
  "url": "https://api.github.com/repos/trufflesuite/truffle/issues/1927",
  "repository_url": "https://api.github.com/repos/trufflesuite/truffle",
  "labels_url": "https://api.github.com/repos/trufflesuite/truffle/issues/1927/labels{/name}",
  "comments_url": "https://api.github.com/repos/trufflesuite/truffle/issues/1927/comments",
  "events_url": "https://api.github.com/repos/trufflesuite/truffle/issues/1927/events",
  "html_url": "https://github.com/trufflesuite/truffle/issues/1927",
  "id": 434721291,
  "node_id": "MDU6SXNzdWU0MzQ3MjEyOTE=",
  "number": 1927,
  "title": "truffle migrate does a \"--dry-run\" by default. Can't deploy on network",
  "user": {
    "login": "mscherer82",
    "id": 1001285,
    "node_id": "MDQ6VXNlcjEwMDEyODU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1001285?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/mscherer82",
    "html_url": "https://github.com/mscherer82",
    "followers_url": "https://api.github.com/users/mscherer82/followers",
    "following_url": "https://api.github.com/users/mscherer82/following{/other_user}",
    "gists_url": "https://api.github.com/users/mscherer82/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/mscherer82/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/mscherer82/subscriptions",
    "organizations_url": "https://api.github.com/users/mscherer82/orgs",
    "repos_url": "https://api.github.com/users/mscherer82/repos",
    "events_url": "https://api.github.com/users/mscherer82/events{/privacy}",
    "received_events_url": "https://api.github.com/users/mscherer82/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 6,
  "created_at": "2019-04-18T11:25:24Z",
  "updated_at": "2019-08-08T19:08:46Z",
  "closed_at": "2019-04-27T15:03:44Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "I can't deploy on network anymore because dry-run is used by drefault. --skip-dry-run doesn't help.\r\n\r\nCommand I use:\r\n\r\n`truffle migrate --reset --network=sokol`\r\n\r\nResult I got: \r\n\r\n```\r\nMigrations dry-run (simulation)\r\n===============================\r\n> Network name:    'sokol-fork'\r\n> Network id:      77\r\n> Block gas limit: 0x7a1200\r\n```\r\n\r\nConfig:\r\n\r\n```\r\nmodule.exports = {\r\n    contracts_build_directory: process.cwd() + \"/build/eth\",\r\n    compilers: {\r\n        solc: {\r\n            version: \"0.4.25\"\r\n        }\r\n    },\r\n    solc: {\r\n        optimizer: {\r\n            enabled: true,\r\n            runs: 200\r\n        }\r\n    },\r\n    networks: {\r\n...\r\n        sokol: {\r\n            provider: () =>  new HDWalletProvider(accounts[accountName].key, \"https://sokol.poa.network/\"),\r\n            network_id: '77',\r\n            gas: 75e5,\r\n            gasPrice: gasPrice || 1e9\r\n        },\r\n...\r\n```\r\n\r\n* Operating System: windows\r\nTruffle v5.0.13 (core: 5.0.13)\r\nSolidity - 0.4.25 (solc-js)\r\nNode v8.12.0\r\nWeb3.js v1.0.0-beta.37\r\n",
  "closed_by": {
    "login": "mscherer82",
    "id": 1001285,
    "node_id": "MDQ6VXNlcjEwMDEyODU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1001285?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/mscherer82",
    "html_url": "https://github.com/mscherer82",
    "followers_url": "https://api.github.com/users/mscherer82/followers",
    "following_url": "https://api.github.com/users/mscherer82/following{/other_user}",
    "gists_url": "https://api.github.com/users/mscherer82/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/mscherer82/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/mscherer82/subscriptions",
    "organizations_url": "https://api.github.com/users/mscherer82/orgs",
    "repos_url": "https://api.github.com/users/mscherer82/repos",
    "events_url": "https://api.github.com/users/mscherer82/events{/privacy}",
    "received_events_url": "https://api.github.com/users/mscherer82/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/1927/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/trufflesuite/truffle/issues/1927/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/484530949",
    "html_url": "https://github.com/trufflesuite/truffle/issues/1927#issuecomment-484530949",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/1927",
    "id": 484530949,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ4NDUzMDk0OQ==",
    "user": {
      "login": "eggplantzzz",
      "id": 14827965,
      "node_id": "MDQ6VXNlcjE0ODI3OTY1",
      "avatar_url": "https://avatars.githubusercontent.com/u/14827965?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eggplantzzz",
      "html_url": "https://github.com/eggplantzzz",
      "followers_url": "https://api.github.com/users/eggplantzzz/followers",
      "following_url": "https://api.github.com/users/eggplantzzz/following{/other_user}",
      "gists_url": "https://api.github.com/users/eggplantzzz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eggplantzzz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eggplantzzz/subscriptions",
      "organizations_url": "https://api.github.com/users/eggplantzzz/orgs",
      "repos_url": "https://api.github.com/users/eggplantzzz/repos",
      "events_url": "https://api.github.com/users/eggplantzzz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eggplantzzz/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-04-18T14:20:07Z",
    "updated_at": "2019-04-18T15:08:46Z",
    "author_association": "CONTRIBUTOR",
    "body": "@mscherer82 Hey, yes this is a bug that we should have fixed in the next release. If you'd like to skip the dry run for now, you can add `skipDryRun: true` in your network config under `sokol`. That should skip it for you and should continue to run in the future. \r\nWith the next release you should be able to use both `skip-dry-run`(`--skip-dry-run` as a command line option) and `skipDryRun` (`--skipDryRun` on the command line) in the config to skip the dry run.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/484530949/reactions",
      "total_count": 8,
      "+1": 8,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/484536568",
    "html_url": "https://github.com/trufflesuite/truffle/issues/1927#issuecomment-484536568",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/1927",
    "id": 484536568,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ4NDUzNjU2OA==",
    "user": {
      "login": "mscherer82",
      "id": 1001285,
      "node_id": "MDQ6VXNlcjEwMDEyODU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1001285?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mscherer82",
      "html_url": "https://github.com/mscherer82",
      "followers_url": "https://api.github.com/users/mscherer82/followers",
      "following_url": "https://api.github.com/users/mscherer82/following{/other_user}",
      "gists_url": "https://api.github.com/users/mscherer82/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mscherer82/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mscherer82/subscriptions",
      "organizations_url": "https://api.github.com/users/mscherer82/orgs",
      "repos_url": "https://api.github.com/users/mscherer82/repos",
      "events_url": "https://api.github.com/users/mscherer82/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mscherer82/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-04-18T14:34:54Z",
    "updated_at": "2019-04-18T14:34:54Z",
    "author_association": "NONE",
    "body": "Thank you",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/484536568/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/487292243",
    "html_url": "https://github.com/trufflesuite/truffle/issues/1927#issuecomment-487292243",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/1927",
    "id": 487292243,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ4NzI5MjI0Mw==",
    "user": {
      "login": "mscherer82",
      "id": 1001285,
      "node_id": "MDQ6VXNlcjEwMDEyODU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1001285?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mscherer82",
      "html_url": "https://github.com/mscherer82",
      "followers_url": "https://api.github.com/users/mscherer82/followers",
      "following_url": "https://api.github.com/users/mscherer82/following{/other_user}",
      "gists_url": "https://api.github.com/users/mscherer82/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mscherer82/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mscherer82/subscriptions",
      "organizations_url": "https://api.github.com/users/mscherer82/orgs",
      "repos_url": "https://api.github.com/users/mscherer82/repos",
      "events_url": "https://api.github.com/users/mscherer82/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mscherer82/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-04-27T14:50:15Z",
    "updated_at": "2019-04-27T14:50:15Z",
    "author_association": "NONE",
    "body": "Even with the newest version 5.0.14 I'm not able to deploy anything. If I use `truffle migrate --reset --network=sokol` only a dry run is started. Is this intended? \r\nWhen using `--skipDryRun` truffle exit after compiling the contracts without any message.\r\n\r\nThis is my first migration script:\r\n\r\n```\r\nconst Migrations = artifacts.require(\"./Migrations.sol\");\r\n\r\nmodule.exports = function(deployer, network) {\r\n  deployer.then(async () => {\r\n    await deployer.deploy(Migrations);\r\n  });\r\n};\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/487292243/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/487292764",
    "html_url": "https://github.com/trufflesuite/truffle/issues/1927#issuecomment-487292764",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/1927",
    "id": 487292764,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ4NzI5Mjc2NA==",
    "user": {
      "login": "CruzMolina",
      "id": 7537712,
      "node_id": "MDQ6VXNlcjc1Mzc3MTI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7537712?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/CruzMolina",
      "html_url": "https://github.com/CruzMolina",
      "followers_url": "https://api.github.com/users/CruzMolina/followers",
      "following_url": "https://api.github.com/users/CruzMolina/following{/other_user}",
      "gists_url": "https://api.github.com/users/CruzMolina/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/CruzMolina/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/CruzMolina/subscriptions",
      "organizations_url": "https://api.github.com/users/CruzMolina/orgs",
      "repos_url": "https://api.github.com/users/CruzMolina/repos",
      "events_url": "https://api.github.com/users/CruzMolina/events{/privacy}",
      "received_events_url": "https://api.github.com/users/CruzMolina/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-04-27T14:57:28Z",
    "updated_at": "2019-04-27T14:57:28Z",
    "author_association": "CONTRIBUTOR",
    "body": "@mscherer82 What version of `truffle-hdwallet-provider` are you using? `1.0.7` has a bug in it that breaks migrations. `1.0.6` & `1.0.8` currently don't have any known issues.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/487292764/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/487293258",
    "html_url": "https://github.com/trufflesuite/truffle/issues/1927#issuecomment-487293258",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/1927",
    "id": 487293258,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ4NzI5MzI1OA==",
    "user": {
      "login": "mscherer82",
      "id": 1001285,
      "node_id": "MDQ6VXNlcjEwMDEyODU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1001285?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mscherer82",
      "html_url": "https://github.com/mscherer82",
      "followers_url": "https://api.github.com/users/mscherer82/followers",
      "following_url": "https://api.github.com/users/mscherer82/following{/other_user}",
      "gists_url": "https://api.github.com/users/mscherer82/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mscherer82/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mscherer82/subscriptions",
      "organizations_url": "https://api.github.com/users/mscherer82/orgs",
      "repos_url": "https://api.github.com/users/mscherer82/repos",
      "events_url": "https://api.github.com/users/mscherer82/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mscherer82/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-04-27T15:03:44Z",
    "updated_at": "2019-04-27T15:03:44Z",
    "author_association": "NONE",
    "body": "Thanks",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/487293258/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/519649665",
    "html_url": "https://github.com/trufflesuite/truffle/issues/1927#issuecomment-519649665",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/1927",
    "id": 519649665,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUxOTY0OTY2NQ==",
    "user": {
      "login": "xhliu",
      "id": 1017252,
      "node_id": "MDQ6VXNlcjEwMTcyNTI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1017252?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/xhliu",
      "html_url": "https://github.com/xhliu",
      "followers_url": "https://api.github.com/users/xhliu/followers",
      "following_url": "https://api.github.com/users/xhliu/following{/other_user}",
      "gists_url": "https://api.github.com/users/xhliu/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/xhliu/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/xhliu/subscriptions",
      "organizations_url": "https://api.github.com/users/xhliu/orgs",
      "repos_url": "https://api.github.com/users/xhliu/repos",
      "events_url": "https://api.github.com/users/xhliu/events{/privacy}",
      "received_events_url": "https://api.github.com/users/xhliu/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-08-08T19:08:46Z",
    "updated_at": "2019-08-08T19:08:46Z",
    "author_association": "NONE",
    "body": "Had the same issue using `truffle-hdwallet-provider@1.0.15`. Had to override with `--skip-dry-run`.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/519649665/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
