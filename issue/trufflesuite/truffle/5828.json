{
  "url": "https://api.github.com/repos/trufflesuite/truffle/issues/5828",
  "repository_url": "https://api.github.com/repos/trufflesuite/truffle",
  "labels_url": "https://api.github.com/repos/trufflesuite/truffle/issues/5828/labels{/name}",
  "comments_url": "https://api.github.com/repos/trufflesuite/truffle/issues/5828/comments",
  "events_url": "https://api.github.com/repos/trufflesuite/truffle/issues/5828/events",
  "html_url": "https://github.com/trufflesuite/truffle/issues/5828",
  "id": 1529064102,
  "node_id": "I_kwDOAkfq-c5bI6qm",
  "number": 5828,
  "title": "improve error handling when using `truffle` and you make a typo in the command part",
  "user": {
    "login": "pedro-nonfree",
    "id": 39959198,
    "node_id": "MDQ6VXNlcjM5OTU5MTk4",
    "avatar_url": "https://avatars.githubusercontent.com/u/39959198?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/pedro-nonfree",
    "html_url": "https://github.com/pedro-nonfree",
    "followers_url": "https://api.github.com/users/pedro-nonfree/followers",
    "following_url": "https://api.github.com/users/pedro-nonfree/following{/other_user}",
    "gists_url": "https://api.github.com/users/pedro-nonfree/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/pedro-nonfree/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/pedro-nonfree/subscriptions",
    "organizations_url": "https://api.github.com/users/pedro-nonfree/orgs",
    "repos_url": "https://api.github.com/users/pedro-nonfree/repos",
    "events_url": "https://api.github.com/users/pedro-nonfree/events{/privacy}",
    "received_events_url": "https://api.github.com/users/pedro-nonfree/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": {
    "login": "eggplantzzz",
    "id": 14827965,
    "node_id": "MDQ6VXNlcjE0ODI3OTY1",
    "avatar_url": "https://avatars.githubusercontent.com/u/14827965?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/eggplantzzz",
    "html_url": "https://github.com/eggplantzzz",
    "followers_url": "https://api.github.com/users/eggplantzzz/followers",
    "following_url": "https://api.github.com/users/eggplantzzz/following{/other_user}",
    "gists_url": "https://api.github.com/users/eggplantzzz/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/eggplantzzz/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/eggplantzzz/subscriptions",
    "organizations_url": "https://api.github.com/users/eggplantzzz/orgs",
    "repos_url": "https://api.github.com/users/eggplantzzz/repos",
    "events_url": "https://api.github.com/users/eggplantzzz/events{/privacy}",
    "received_events_url": "https://api.github.com/users/eggplantzzz/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "eggplantzzz",
      "id": 14827965,
      "node_id": "MDQ6VXNlcjE0ODI3OTY1",
      "avatar_url": "https://avatars.githubusercontent.com/u/14827965?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eggplantzzz",
      "html_url": "https://github.com/eggplantzzz",
      "followers_url": "https://api.github.com/users/eggplantzzz/followers",
      "following_url": "https://api.github.com/users/eggplantzzz/following{/other_user}",
      "gists_url": "https://api.github.com/users/eggplantzzz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eggplantzzz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eggplantzzz/subscriptions",
      "organizations_url": "https://api.github.com/users/eggplantzzz/orgs",
      "repos_url": "https://api.github.com/users/eggplantzzz/repos",
      "events_url": "https://api.github.com/users/eggplantzzz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eggplantzzz/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2023-01-11T13:39:59Z",
  "updated_at": "2023-01-27T00:30:04Z",
  "closed_at": "2023-01-27T00:30:03Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "- [ ] I've [opened a support ticket](https://trufflesuite.zendesk.com/hc/en-us/requests/new) before filing this issue.\r\n\r\n---------------------------\r\n\r\n## Issue\r\n\r\nWhen try to run `truffle test` and I do something like `truffle tes` or any typo you can think of, I get a very strange error, and I am not thinking that the problem is in my typo in the CLI command but in the tests or in my code.\r\n\r\nIt happened two times on me, on first time, I was debugging my tests for 30 minutes, and it magically started to work after having a break. On second time I found this problem so that's why I am filling this issue as a Developer eX``perience bug \r\n\r\n## Steps to Reproduce\r\n\r\n```\r\n[14:33:02] $ truffle tes\r\nUsing network 'development'.\r\n\r\n\r\nCompiling your contracts...\r\n===========================\r\n> Compiling ./contracts/LoraCoin.sollc-bin. Attempt #1\r\n> Compiling ./test/test_loracoin.sol\r\n> Artifacts written to /tmp/test--132834-2rdUbv0KLOxE\r\n> Compiled successfully using:\r\n   - solc: 0.8.17+commit.8df45f5f.Emscripten.clang\r\nTypeError: Cannot assign to read only property 'undefined' of object '#<Object>'\r\n    at Object.<anonymous> (/usr/lib/node_modules/truffle/build/webpack:/packages/test/dist/src/Test.js:282:1)\r\n    at Generator.next (<anonymous>)\r\n    at /usr/lib/node_modules/truffle/build/webpack:/packages/test/dist/src/Test.js:31:1\r\n    at new Promise (<anonymous>)\r\n    at exports.modules.583725.__awaiter (/usr/lib/node_modules/truffle/build/webpack:/packages/test/dist/src/Test.js:27:1)\r\n    at Object.setJSTestGlobals (/usr/lib/node_modules/truffle/build/webpack:/packages/test/dist/src/Test.js:253:1)\r\n    at Object.<anonymous> (/usr/lib/node_modules/truffle/build/webpack:/packages/test/dist/src/Test.js:149:1)\r\n    at Generator.next (<anonymous>)\r\n    at fulfilled (/usr/lib/node_modules/truffle/build/webpack:/packages/test/dist/src/Test.js:28:43)\r\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\r\nTruffle v5.6.5 (core: 5.6.5)\r\nNode v18.12.1\r\n```\r\n\r\n## Expected Behavior\r\n\r\nWhat you expected to happen.\r\n\r\n```\r\ntruffle tes command not found, run truffle --help to see the available commands for truffle\r\n```\r\n\r\n## Actual Results\r\n\r\n*See issue and steps to reproduce, or let me know if you need that I reestructure the issue*\r\n\r\n## Environment\r\n\r\n* Operating System: Debian GNU/Linux 11 (bullseye)\r\n* Ethereum client: Web3.js v1.7.4, ethers 5.7.2\r\n* Truffle version (`truffle version`): Truffle v5.6.5 (core: 5.6.5) Ganache v7.5.0 Solidity v0.5.16 (solc-js) Node v18.12.1 Web3.js v1.7.4\r\n* node version (`node --version`): v18.12.1\r\n* npm version (`npm --version`): 8.19.2\r\n",
  "closed_by": {
    "login": "haltman-at",
    "id": 35589221,
    "node_id": "MDQ6VXNlcjM1NTg5MjIx",
    "avatar_url": "https://avatars.githubusercontent.com/u/35589221?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/haltman-at",
    "html_url": "https://github.com/haltman-at",
    "followers_url": "https://api.github.com/users/haltman-at/followers",
    "following_url": "https://api.github.com/users/haltman-at/following{/other_user}",
    "gists_url": "https://api.github.com/users/haltman-at/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/haltman-at/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/haltman-at/subscriptions",
    "organizations_url": "https://api.github.com/users/haltman-at/orgs",
    "repos_url": "https://api.github.com/users/haltman-at/repos",
    "events_url": "https://api.github.com/users/haltman-at/events{/privacy}",
    "received_events_url": "https://api.github.com/users/haltman-at/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/5828/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/trufflesuite/truffle/issues/5828/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/1379432681",
    "html_url": "https://github.com/trufflesuite/truffle/issues/5828#issuecomment-1379432681",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/5828",
    "id": 1379432681,
    "node_id": "IC_kwDOAkfq-c5SOHjp",
    "user": {
      "login": "eggplantzzz",
      "id": 14827965,
      "node_id": "MDQ6VXNlcjE0ODI3OTY1",
      "avatar_url": "https://avatars.githubusercontent.com/u/14827965?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eggplantzzz",
      "html_url": "https://github.com/eggplantzzz",
      "followers_url": "https://api.github.com/users/eggplantzzz/followers",
      "following_url": "https://api.github.com/users/eggplantzzz/following{/other_user}",
      "gists_url": "https://api.github.com/users/eggplantzzz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eggplantzzz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eggplantzzz/subscriptions",
      "organizations_url": "https://api.github.com/users/eggplantzzz/orgs",
      "repos_url": "https://api.github.com/users/eggplantzzz/repos",
      "events_url": "https://api.github.com/users/eggplantzzz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eggplantzzz/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-01-11T20:16:47Z",
    "updated_at": "2023-01-11T20:16:47Z",
    "author_association": "CONTRIBUTOR",
    "body": "Ah well that is a strange one! Truffle does have some internals that attempt to interpret typo'ed commands so it is expected that it would run the test command. I'll track down what the error is and hopefully get a bug fix in soon. Thank you for reporting this!",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/1379432681/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/1405856628",
    "html_url": "https://github.com/trufflesuite/truffle/issues/5828#issuecomment-1405856628",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/5828",
    "id": 1405856628,
    "node_id": "IC_kwDOAkfq-c5Ty6t0",
    "user": {
      "login": "haltman-at",
      "id": 35589221,
      "node_id": "MDQ6VXNlcjM1NTg5MjIx",
      "avatar_url": "https://avatars.githubusercontent.com/u/35589221?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/haltman-at",
      "html_url": "https://github.com/haltman-at",
      "followers_url": "https://api.github.com/users/haltman-at/followers",
      "following_url": "https://api.github.com/users/haltman-at/following{/other_user}",
      "gists_url": "https://api.github.com/users/haltman-at/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/haltman-at/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/haltman-at/subscriptions",
      "organizations_url": "https://api.github.com/users/haltman-at/orgs",
      "repos_url": "https://api.github.com/users/haltman-at/repos",
      "events_url": "https://api.github.com/users/haltman-at/events{/privacy}",
      "received_events_url": "https://api.github.com/users/haltman-at/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-01-27T00:30:03Z",
    "updated_at": "2023-01-27T00:30:03Z",
    "author_association": "CONTRIBUTOR",
    "body": "This should be fixed in the latest release! (v5.7.4)",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/1405856628/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
