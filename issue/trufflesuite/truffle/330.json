{
  "url": "https://api.github.com/repos/trufflesuite/truffle/issues/330",
  "repository_url": "https://api.github.com/repos/trufflesuite/truffle",
  "labels_url": "https://api.github.com/repos/trufflesuite/truffle/issues/330/labels{/name}",
  "comments_url": "https://api.github.com/repos/trufflesuite/truffle/issues/330/comments",
  "events_url": "https://api.github.com/repos/trufflesuite/truffle/issues/330/events",
  "html_url": "https://github.com/trufflesuite/truffle/issues/330",
  "id": 201894846,
  "node_id": "MDU6SXNzdWUyMDE4OTQ4NDY=",
  "number": 330,
  "title": "Best practices regarding deployment",
  "user": {
    "login": "roderik",
    "id": 16780,
    "node_id": "MDQ6VXNlcjE2Nzgw",
    "avatar_url": "https://avatars.githubusercontent.com/u/16780?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/roderik",
    "html_url": "https://github.com/roderik",
    "followers_url": "https://api.github.com/users/roderik/followers",
    "following_url": "https://api.github.com/users/roderik/following{/other_user}",
    "gists_url": "https://api.github.com/users/roderik/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/roderik/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/roderik/subscriptions",
    "organizations_url": "https://api.github.com/users/roderik/orgs",
    "repos_url": "https://api.github.com/users/roderik/repos",
    "events_url": "https://api.github.com/users/roderik/events{/privacy}",
    "received_events_url": "https://api.github.com/users/roderik/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 3,
  "created_at": "2017-01-19T15:41:33Z",
  "updated_at": "2018-04-05T16:29:02Z",
  "closed_at": "2017-02-05T17:22:56Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "- [x] I've asked for help in the [Truffle Gitter](http://gitter.im/Consensys/truffle) before filing this issue.\r\n\r\n---------------------------\r\n\r\n## Issue\r\n\r\nI created a nice DAPP (react) on top of a smart contract and used the truffle solidity loader for webpack during development. Worked great with redeploys on testrpc whenever I changed anything.\r\n\r\nBut now I'm trying to deploy to something close to production, and I'm running into some issues. If I run the webpack build command, it compiles and deploys to the ropsten network using infura (ci build on circleci but also locally). Which is fine for the first time, but each build redeploys the contracts. I tried keeping the temporary artifacts between runs, but they just get deleted on build. \r\n\r\nSo I'm wondering what the best practice is in this scenario. I feel like the solidity loader in \"production mode\" should check if the contracts are deployed or not and leave them alone in some way. Or store the deployed contact addresses in the truffle.js file and fill up the sol.js files using those values. Probably with some change detection?\r\n\r\nThen again, I cannot be the only one wanting to run something on the testnet and rebuilding their frontend every now and then. I got pointed to more [manual scripts](https://github.com/swarmcity/ac-token/blob/master/deploy.js), but that seems like a step back.\r\n\r\n## Environment\r\n\r\n* Operating System: OSX / Ubuntu / Docker\r\n* Truffle version: 2.1.1\r\n* truffle-solidity-loader: 0.0.8\r\n* Ethereum client: infura\r\n* node version: 7.4\r\n* npm version: 4.0.5 / yarn 0.18.1",
  "closed_by": {
    "login": "roderik",
    "id": 16780,
    "node_id": "MDQ6VXNlcjE2Nzgw",
    "avatar_url": "https://avatars.githubusercontent.com/u/16780?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/roderik",
    "html_url": "https://github.com/roderik",
    "followers_url": "https://api.github.com/users/roderik/followers",
    "following_url": "https://api.github.com/users/roderik/following{/other_user}",
    "gists_url": "https://api.github.com/users/roderik/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/roderik/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/roderik/subscriptions",
    "organizations_url": "https://api.github.com/users/roderik/orgs",
    "repos_url": "https://api.github.com/users/roderik/repos",
    "events_url": "https://api.github.com/users/roderik/events{/privacy}",
    "received_events_url": "https://api.github.com/users/roderik/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/330/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/trufflesuite/truffle/issues/330/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/277534093",
    "html_url": "https://github.com/trufflesuite/truffle/issues/330#issuecomment-277534093",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/330",
    "id": 277534093,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3NzUzNDA5Mw==",
    "user": {
      "login": "roderik",
      "id": 16780,
      "node_id": "MDQ6VXNlcjE2Nzgw",
      "avatar_url": "https://avatars.githubusercontent.com/u/16780?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/roderik",
      "html_url": "https://github.com/roderik",
      "followers_url": "https://api.github.com/users/roderik/followers",
      "following_url": "https://api.github.com/users/roderik/following{/other_user}",
      "gists_url": "https://api.github.com/users/roderik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/roderik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/roderik/subscriptions",
      "organizations_url": "https://api.github.com/users/roderik/orgs",
      "repos_url": "https://api.github.com/users/roderik/repos",
      "events_url": "https://api.github.com/users/roderik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/roderik/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-02-05T17:22:56Z",
    "updated_at": "2017-02-05T17:22:56Z",
    "author_association": "CONTRIBUTOR",
    "body": "Solved in the new version, disregard!",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/277534093/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/378992946",
    "html_url": "https://github.com/trufflesuite/truffle/issues/330#issuecomment-378992946",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/330",
    "id": 378992946,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3ODk5Mjk0Ng==",
    "user": {
      "login": "ryana",
      "id": 16389,
      "node_id": "MDQ6VXNlcjE2Mzg5",
      "avatar_url": "https://avatars.githubusercontent.com/u/16389?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ryana",
      "html_url": "https://github.com/ryana",
      "followers_url": "https://api.github.com/users/ryana/followers",
      "following_url": "https://api.github.com/users/ryana/following{/other_user}",
      "gists_url": "https://api.github.com/users/ryana/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ryana/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ryana/subscriptions",
      "organizations_url": "https://api.github.com/users/ryana/orgs",
      "repos_url": "https://api.github.com/users/ryana/repos",
      "events_url": "https://api.github.com/users/ryana/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ryana/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-04-05T16:18:55Z",
    "updated_at": "2018-04-05T16:18:55Z",
    "author_association": "NONE",
    "body": "@roderik great explanation and thank you for filing this issue and self-closing.\r\n\r\nI came into this after Feb 5, so I've only ever known a world where this solution exists, so to enlighten me could you either explain or point me to an explanation of what this solution was? My hunch is that before Feb 5, the `build/contracts` directory didn't exist, and adding it fixed your problem.\r\n\r\nI'm running into a related problem which is that multiple contributors to a dapp keep overwriting parts of build/contracts files each time they deploy to their local testrpc. I'd like some way to keep the behavior you were initially seeking, but also ignore local deployment changes if possible to avoid messy commit histories.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/378992946/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/378996188",
    "html_url": "https://github.com/trufflesuite/truffle/issues/330#issuecomment-378996188",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/330",
    "id": 378996188,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3ODk5NjE4OA==",
    "user": {
      "login": "roderik",
      "id": 16780,
      "node_id": "MDQ6VXNlcjE2Nzgw",
      "avatar_url": "https://avatars.githubusercontent.com/u/16780?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/roderik",
      "html_url": "https://github.com/roderik",
      "followers_url": "https://api.github.com/users/roderik/followers",
      "following_url": "https://api.github.com/users/roderik/following{/other_user}",
      "gists_url": "https://api.github.com/users/roderik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/roderik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/roderik/subscriptions",
      "organizations_url": "https://api.github.com/users/roderik/orgs",
      "repos_url": "https://api.github.com/users/roderik/repos",
      "events_url": "https://api.github.com/users/roderik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/roderik/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-04-05T16:29:02Z",
    "updated_at": "2018-04-05T16:29:02Z",
    "author_association": "CONTRIBUTOR",
    "body": "I would suggest giving everyone's ganache an unique network id. That way they should not conflict.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/378996188/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
