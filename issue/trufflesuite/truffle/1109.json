{
  "url": "https://api.github.com/repos/trufflesuite/truffle/issues/1109",
  "repository_url": "https://api.github.com/repos/trufflesuite/truffle",
  "labels_url": "https://api.github.com/repos/trufflesuite/truffle/issues/1109/labels{/name}",
  "comments_url": "https://api.github.com/repos/trufflesuite/truffle/issues/1109/comments",
  "events_url": "https://api.github.com/repos/trufflesuite/truffle/issues/1109/events",
  "html_url": "https://github.com/trufflesuite/truffle/issues/1109",
  "id": 341507779,
  "node_id": "MDU6SXNzdWUzNDE1MDc3Nzk=",
  "number": 1109,
  "title": "Error: Method not found",
  "user": {
    "login": "RomanFro",
    "id": 36295362,
    "node_id": "MDQ6VXNlcjM2Mjk1MzYy",
    "avatar_url": "https://avatars.githubusercontent.com/u/36295362?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/RomanFro",
    "html_url": "https://github.com/RomanFro",
    "followers_url": "https://api.github.com/users/RomanFro/followers",
    "following_url": "https://api.github.com/users/RomanFro/following{/other_user}",
    "gists_url": "https://api.github.com/users/RomanFro/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/RomanFro/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/RomanFro/subscriptions",
    "organizations_url": "https://api.github.com/users/RomanFro/orgs",
    "repos_url": "https://api.github.com/users/RomanFro/repos",
    "events_url": "https://api.github.com/users/RomanFro/events{/privacy}",
    "received_events_url": "https://api.github.com/users/RomanFro/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 971535002,
      "node_id": "MDU6TGFiZWw5NzE1MzUwMDI=",
      "url": "https://api.github.com/repos/trufflesuite/truffle/labels/Debugger",
      "name": "Debugger",
      "color": "7911ad",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 7,
  "created_at": "2018-07-16T12:57:10Z",
  "updated_at": "2019-06-04T00:32:11Z",
  "closed_at": "2018-07-16T19:21:18Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "## Issue\r\n\r\nIssue with truffle debugger.\r\n\r\n## Steps to Reproduce\r\n\r\n`truffle debug <txId>`\r\n\r\n## Expected Behavior\r\n\r\nDebug of transaction.\r\n\r\n## Actual Results\r\n\r\n```\r\nGathering transaction data...\r\n\r\nError: Method not found\r\n    at /usr/lib/node_modules/truffle/build/webpack:/packages/truffle-debugger/dist/debugger.js:4813:1\r\n    at /usr/lib/node_modules/truffle/build/webpack:/packages/truffle-provider/wrapper.js:134:1\r\n    at XMLHttpRequest.request.onreadystatechange (/usr/lib/node_modules/truffle/build/webpack:/~/web3/lib/web3/httpprovider.js:128:1)\r\n    at XMLHttpRequestEventTarget.dispatchEvent (/usr/lib/node_modules/truffle/build/webpack:/~/xhr2/lib/xhr2.js:64:1)\r\n    at XMLHttpRequest._setReadyState (/usr/lib/node_modules/truffle/build/webpack:/~/xhr2/lib/xhr2.js:354:1)\r\n    at XMLHttpRequest._onHttpResponseEnd (/usr/lib/node_modules/truffle/build/webpack:/~/xhr2/lib/xhr2.js:509:1)\r\n    at IncomingMessage.<anonymous> (/usr/lib/node_modules/truffle/build/webpack:/~/xhr2/lib/xhr2.js:469:1)\r\n    at emitNone (events.js:111:20)\r\n    at IncomingMessage.emit (events.js:208:7)\r\n    at endReadableNT (_stream_readable.js:1064:12)\r\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\r\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)\r\ntruffle(development)> TypeError: Cannot read property 'view' of undefined\r\n    at printAddressesAffected (/usr/lib/node_modules/truffle/build/webpack:/packages/truffle-core/lib/commands/debug.js:102:1)\r\n    at /usr/lib/node_modules/truffle/build/webpack:/packages/truffle-core/lib/commands/debug.js:442:1\r\n    at <anonymous>\r\n    at process._tickDomainCallback (internal/process/next_tick.js:228:7)\r\n```\r\n\r\n## Environment\r\n\r\n* Operating System: Linux Alpine 3.6\r\n* Ethereum client: Parity 1.8.4\r\n* Truffle version (`truffle version`): Truffle v4.1.13 (core: 4.1.13)\r\n* node version (`node --version`): v8.11.3\r\n* npm version (`npm --version`):  5.10.0\r\n",
  "closed_by": {
    "login": "gnidan",
    "id": 151065,
    "node_id": "MDQ6VXNlcjE1MTA2NQ==",
    "avatar_url": "https://avatars.githubusercontent.com/u/151065?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/gnidan",
    "html_url": "https://github.com/gnidan",
    "followers_url": "https://api.github.com/users/gnidan/followers",
    "following_url": "https://api.github.com/users/gnidan/following{/other_user}",
    "gists_url": "https://api.github.com/users/gnidan/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/gnidan/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/gnidan/subscriptions",
    "organizations_url": "https://api.github.com/users/gnidan/orgs",
    "repos_url": "https://api.github.com/users/gnidan/repos",
    "events_url": "https://api.github.com/users/gnidan/events{/privacy}",
    "received_events_url": "https://api.github.com/users/gnidan/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/1109/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/trufflesuite/truffle/issues/1109/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/405352424",
    "html_url": "https://github.com/trufflesuite/truffle/issues/1109#issuecomment-405352424",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/1109",
    "id": 405352424,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwNTM1MjQyNA==",
    "user": {
      "login": "gnidan",
      "id": 151065,
      "node_id": "MDQ6VXNlcjE1MTA2NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/151065?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gnidan",
      "html_url": "https://github.com/gnidan",
      "followers_url": "https://api.github.com/users/gnidan/followers",
      "following_url": "https://api.github.com/users/gnidan/following{/other_user}",
      "gists_url": "https://api.github.com/users/gnidan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gnidan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gnidan/subscriptions",
      "organizations_url": "https://api.github.com/users/gnidan/orgs",
      "repos_url": "https://api.github.com/users/gnidan/repos",
      "events_url": "https://api.github.com/users/gnidan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gnidan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-07-16T19:21:18Z",
    "updated_at": "2018-07-16T19:21:18Z",
    "author_association": "MEMBER",
    "body": "Hi @RomanFro, thanks for bringing this up. The debugger doesn't support Parity because it doesn't provide the `debug_traceTransaction` method. Please try using geth instead.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/405352424/reactions",
      "total_count": 3,
      "+1": 3,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/409054466",
    "html_url": "https://github.com/trufflesuite/truffle/issues/1109#issuecomment-409054466",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/1109",
    "id": 409054466,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwOTA1NDQ2Ng==",
    "user": {
      "login": "kliu128",
      "id": 11365056,
      "node_id": "MDQ6VXNlcjExMzY1MDU2",
      "avatar_url": "https://avatars.githubusercontent.com/u/11365056?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kliu128",
      "html_url": "https://github.com/kliu128",
      "followers_url": "https://api.github.com/users/kliu128/followers",
      "following_url": "https://api.github.com/users/kliu128/following{/other_user}",
      "gists_url": "https://api.github.com/users/kliu128/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kliu128/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kliu128/subscriptions",
      "organizations_url": "https://api.github.com/users/kliu128/orgs",
      "repos_url": "https://api.github.com/users/kliu128/repos",
      "events_url": "https://api.github.com/users/kliu128/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kliu128/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-07-31T00:26:50Z",
    "updated_at": "2018-07-31T00:26:50Z",
    "author_association": "NONE",
    "body": "Does that mean it's impossible to debug contracts on Kovan, a Parity-only network? Is there an alternative way to debug the transaction?",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/409054466/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 1,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/487282462",
    "html_url": "https://github.com/trufflesuite/truffle/issues/1109#issuecomment-487282462",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/1109",
    "id": 487282462,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ4NzI4MjQ2Mg==",
    "user": {
      "login": "andreafspeziale",
      "id": 7680940,
      "node_id": "MDQ6VXNlcjc2ODA5NDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7680940?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/andreafspeziale",
      "html_url": "https://github.com/andreafspeziale",
      "followers_url": "https://api.github.com/users/andreafspeziale/followers",
      "following_url": "https://api.github.com/users/andreafspeziale/following{/other_user}",
      "gists_url": "https://api.github.com/users/andreafspeziale/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/andreafspeziale/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/andreafspeziale/subscriptions",
      "organizations_url": "https://api.github.com/users/andreafspeziale/orgs",
      "repos_url": "https://api.github.com/users/andreafspeziale/repos",
      "events_url": "https://api.github.com/users/andreafspeziale/events{/privacy}",
      "received_events_url": "https://api.github.com/users/andreafspeziale/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-04-27T12:33:48Z",
    "updated_at": "2019-04-27T12:33:48Z",
    "author_association": "NONE",
    "body": "@gnidan Hi! Is this still true? I can't use the debugger feature on parity nodes?",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/487282462/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/487339174",
    "html_url": "https://github.com/trufflesuite/truffle/issues/1109#issuecomment-487339174",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/1109",
    "id": 487339174,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ4NzMzOTE3NA==",
    "user": {
      "login": "gnidan",
      "id": 151065,
      "node_id": "MDQ6VXNlcjE1MTA2NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/151065?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gnidan",
      "html_url": "https://github.com/gnidan",
      "followers_url": "https://api.github.com/users/gnidan/followers",
      "following_url": "https://api.github.com/users/gnidan/following{/other_user}",
      "gists_url": "https://api.github.com/users/gnidan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gnidan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gnidan/subscriptions",
      "organizations_url": "https://api.github.com/users/gnidan/orgs",
      "repos_url": "https://api.github.com/users/gnidan/repos",
      "events_url": "https://api.github.com/users/gnidan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gnidan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-04-28T03:35:00Z",
    "updated_at": "2019-04-28T03:35:00Z",
    "author_association": "MEMBER",
    "body": "@andreafspeziale Unfortunately, no.\r\n\r\nI did some digging and found https://github.com/paritytech/parity-ethereum/issues/5727, but I'm not sure if that's seen any action since 2017.\r\n\r\nThere would be a clever workaround, i.e., to use ganache-cli's `--fork` feature (run ganache-cli with `--fork <parity-host>:<parity-port>` and have Truffle connect to that), but I just tried this out and I'm getting this exception:\r\n```\r\n...\r\n\r\nListening on 0.0.0.0:4545\r\ndebug_traceTransaction\r\nError: Given input \"�Ϭ�(P��A�Al�ZĹ^^H/S#ǯ%K�y \" is not a number.\r\n    at Object.p (.../node/v8.15.0/lib/node_modules/ganache-cli/build/ganache-core.node.cli.js:47:264131)\r\n```\r\n\r\nThis has been an elusive issue (almost two years since it was discovered, and not without attempts to resolve!), but last I heard it was supposed to be fixed in ganache-core@2.5.5: https://github.com/trufflesuite/ganache-core/issues/404. You might want to try it out yourself, but in the meantime I'll ping over there with my recent findings.\r\n\r\nI'll leave this closed for now, but it'd be nice to have an open/blocked Truffle issue specifically to add an enhancement that automatically leverages Ganache forking in cases like this.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/487339174/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/488174226",
    "html_url": "https://github.com/trufflesuite/truffle/issues/1109#issuecomment-488174226",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/1109",
    "id": 488174226,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ4ODE3NDIyNg==",
    "user": {
      "login": "gnidan",
      "id": 151065,
      "node_id": "MDQ6VXNlcjE1MTA2NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/151065?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gnidan",
      "html_url": "https://github.com/gnidan",
      "followers_url": "https://api.github.com/users/gnidan/followers",
      "following_url": "https://api.github.com/users/gnidan/following{/other_user}",
      "gists_url": "https://api.github.com/users/gnidan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gnidan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gnidan/subscriptions",
      "organizations_url": "https://api.github.com/users/gnidan/orgs",
      "repos_url": "https://api.github.com/users/gnidan/repos",
      "events_url": "https://api.github.com/users/gnidan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gnidan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-05-01T02:01:48Z",
    "updated_at": "2019-05-01T02:01:48Z",
    "author_association": "MEMBER",
    "body": "FYI: ganache-cli@6.4.4-beta.0 was just released, finally fixing the above-referenced bug! Users looking for support to debug Parity transactions: use ganache-cli's `--fork` option (see [ganache-cli usage readme](https://github.com/trufflesuite/ganache-cli#using-ganache-cli)).",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/488174226/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/498434310",
    "html_url": "https://github.com/trufflesuite/truffle/issues/1109#issuecomment-498434310",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/1109",
    "id": 498434310,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5ODQzNDMxMA==",
    "user": {
      "login": "andreafspeziale",
      "id": 7680940,
      "node_id": "MDQ6VXNlcjc2ODA5NDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7680940?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/andreafspeziale",
      "html_url": "https://github.com/andreafspeziale",
      "followers_url": "https://api.github.com/users/andreafspeziale/followers",
      "following_url": "https://api.github.com/users/andreafspeziale/following{/other_user}",
      "gists_url": "https://api.github.com/users/andreafspeziale/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/andreafspeziale/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/andreafspeziale/subscriptions",
      "organizations_url": "https://api.github.com/users/andreafspeziale/orgs",
      "repos_url": "https://api.github.com/users/andreafspeziale/repos",
      "events_url": "https://api.github.com/users/andreafspeziale/events{/privacy}",
      "received_events_url": "https://api.github.com/users/andreafspeziale/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-06-03T21:31:31Z",
    "updated_at": "2019-06-03T21:31:31Z",
    "author_association": "NONE",
    "body": "@gnidan Thanks for the input. So I should run ganache-cli with `--fork http://<parity-host>:<parity-port>` and then `truffle debug txhash`?\r\nWhat does fork mean? It uses the history of the node till that moment and then ganache will create its own chain? Should the node be a full node or something else?\r\n\r\nThanks! It's very useful (I'll do some tests)",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/498434310/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/498474478",
    "html_url": "https://github.com/trufflesuite/truffle/issues/1109#issuecomment-498474478",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/1109",
    "id": 498474478,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5ODQ3NDQ3OA==",
    "user": {
      "login": "gnidan",
      "id": 151065,
      "node_id": "MDQ6VXNlcjE1MTA2NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/151065?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gnidan",
      "html_url": "https://github.com/gnidan",
      "followers_url": "https://api.github.com/users/gnidan/followers",
      "following_url": "https://api.github.com/users/gnidan/following{/other_user}",
      "gists_url": "https://api.github.com/users/gnidan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gnidan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gnidan/subscriptions",
      "organizations_url": "https://api.github.com/users/gnidan/orgs",
      "repos_url": "https://api.github.com/users/gnidan/repos",
      "events_url": "https://api.github.com/users/gnidan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gnidan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-06-04T00:32:10Z",
    "updated_at": "2019-06-04T00:32:10Z",
    "author_association": "MEMBER",
    "body": "> What does fork mean? It uses the history of the node till that moment and then ganache will create its own chain?\r\n\r\nYep! From the point of the fork, Ganache makes new blocks. For data from the chain before that point, it defers to the underlying node. Neat, huh?\r\n\r\n> Should the node be a full node or something else?\r\n\r\nYou might need a full node to get storage info. YMMV. Let me know how it works out!",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/498474478/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
