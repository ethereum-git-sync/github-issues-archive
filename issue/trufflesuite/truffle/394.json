{
  "url": "https://api.github.com/repos/trufflesuite/truffle/issues/394",
  "repository_url": "https://api.github.com/repos/trufflesuite/truffle",
  "labels_url": "https://api.github.com/repos/trufflesuite/truffle/issues/394/labels{/name}",
  "comments_url": "https://api.github.com/repos/trufflesuite/truffle/issues/394/comments",
  "events_url": "https://api.github.com/repos/trufflesuite/truffle/issues/394/events",
  "html_url": "https://github.com/trufflesuite/truffle/issues/394",
  "id": 224282152,
  "node_id": "MDU6SXNzdWUyMjQyODIxNTI=",
  "number": 394,
  "title": "Ethereum.Quorum support",
  "user": {
    "login": "rohitgkr",
    "id": 5541550,
    "node_id": "MDQ6VXNlcjU1NDE1NTA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/5541550?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/rohitgkr",
    "html_url": "https://github.com/rohitgkr",
    "followers_url": "https://api.github.com/users/rohitgkr/followers",
    "following_url": "https://api.github.com/users/rohitgkr/following{/other_user}",
    "gists_url": "https://api.github.com/users/rohitgkr/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/rohitgkr/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/rohitgkr/subscriptions",
    "organizations_url": "https://api.github.com/users/rohitgkr/orgs",
    "repos_url": "https://api.github.com/users/rohitgkr/repos",
    "events_url": "https://api.github.com/users/rohitgkr/events{/privacy}",
    "received_events_url": "https://api.github.com/users/rohitgkr/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 6,
  "created_at": "2017-04-25T21:47:37Z",
  "updated_at": "2017-09-29T07:50:20Z",
  "closed_at": "2017-05-15T19:33:14Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "- [x] I've asked for help in the [Truffle Gitter](http://gitter.im/Consensys/truffle) before filing this issue.\r\n\r\n---------------------------\r\n\r\n## Issue\r\nIt appears that Truffle doesn't have the grammar or facility to support private transactions. In the context of Quorum (J.P Morgan's private ethereum block chain) I would like to deploy a contract into the private state of the target node using the constellation node's public key via [PrivateFor]. When will Truffle add support for Quorum which is the driver for Ethereum consortium network?\r\nCheers.",
  "closed_by": {
    "login": "tcoulter",
    "id": 92629,
    "node_id": "MDQ6VXNlcjkyNjI5",
    "avatar_url": "https://avatars.githubusercontent.com/u/92629?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/tcoulter",
    "html_url": "https://github.com/tcoulter",
    "followers_url": "https://api.github.com/users/tcoulter/followers",
    "following_url": "https://api.github.com/users/tcoulter/following{/other_user}",
    "gists_url": "https://api.github.com/users/tcoulter/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/tcoulter/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/tcoulter/subscriptions",
    "organizations_url": "https://api.github.com/users/tcoulter/orgs",
    "repos_url": "https://api.github.com/users/tcoulter/repos",
    "events_url": "https://api.github.com/users/tcoulter/events{/privacy}",
    "received_events_url": "https://api.github.com/users/tcoulter/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/394/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/trufflesuite/truffle/issues/394/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/297196273",
    "html_url": "https://github.com/trufflesuite/truffle/issues/394#issuecomment-297196273",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/394",
    "id": 297196273,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5NzE5NjI3Mw==",
    "user": {
      "login": "ajunge",
      "id": 3538255,
      "node_id": "MDQ6VXNlcjM1MzgyNTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3538255?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ajunge",
      "html_url": "https://github.com/ajunge",
      "followers_url": "https://api.github.com/users/ajunge/followers",
      "following_url": "https://api.github.com/users/ajunge/following{/other_user}",
      "gists_url": "https://api.github.com/users/ajunge/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ajunge/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ajunge/subscriptions",
      "organizations_url": "https://api.github.com/users/ajunge/orgs",
      "repos_url": "https://api.github.com/users/ajunge/repos",
      "events_url": "https://api.github.com/users/ajunge/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ajunge/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-04-25T23:42:04Z",
    "updated_at": "2017-04-25T23:42:04Z",
    "author_association": "NONE",
    "body": "Have you tried adding the privateFor parameter on the deployer?",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/297196273/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/298146754",
    "html_url": "https://github.com/trufflesuite/truffle/issues/394#issuecomment-298146754",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/394",
    "id": 298146754,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5ODE0Njc1NA==",
    "user": {
      "login": "rohitgkr",
      "id": 5541550,
      "node_id": "MDQ6VXNlcjU1NDE1NTA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5541550?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rohitgkr",
      "html_url": "https://github.com/rohitgkr",
      "followers_url": "https://api.github.com/users/rohitgkr/followers",
      "following_url": "https://api.github.com/users/rohitgkr/following{/other_user}",
      "gists_url": "https://api.github.com/users/rohitgkr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rohitgkr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rohitgkr/subscriptions",
      "organizations_url": "https://api.github.com/users/rohitgkr/orgs",
      "repos_url": "https://api.github.com/users/rohitgkr/repos",
      "events_url": "https://api.github.com/users/rohitgkr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rohitgkr/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-04-29T04:39:09Z",
    "updated_at": "2017-04-29T04:39:09Z",
    "author_association": "NONE",
    "body": "Hi @ajunge. I haven't been able to figure out how to bootstrap private for using the deployer JS object. The parameters deploy() takes are arguments for the contract constructor. Can you please provide an example call or script that can potentially address this issue? The only way I can think of is to directly use web3 API from within the deployer code. For ex -\r\nvar c = web3.eth.contract(contract.interface);\r\nc.new({\r\nprivateFor:<public key>\r\n}); \r\n\r\nIs there an equivalent version of the above that can be integrated/customised in Truffle migrations scripts? Thanks.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/298146754/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/300407202",
    "html_url": "https://github.com/trufflesuite/truffle/issues/394#issuecomment-300407202",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/394",
    "id": 300407202,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwMDQwNzIwMg==",
    "user": {
      "login": "vjrantal",
      "id": 207474,
      "node_id": "MDQ6VXNlcjIwNzQ3NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/207474?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vjrantal",
      "html_url": "https://github.com/vjrantal",
      "followers_url": "https://api.github.com/users/vjrantal/followers",
      "following_url": "https://api.github.com/users/vjrantal/following{/other_user}",
      "gists_url": "https://api.github.com/users/vjrantal/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vjrantal/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vjrantal/subscriptions",
      "organizations_url": "https://api.github.com/users/vjrantal/orgs",
      "repos_url": "https://api.github.com/users/vjrantal/repos",
      "events_url": "https://api.github.com/users/vjrantal/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vjrantal/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-05-10T08:05:57Z",
    "updated_at": "2017-05-10T08:05:57Z",
    "author_association": "NONE",
    "body": "@rohitgkr It looks like if you have a file like `2_deploy_contracts.js` in the `migrations` folder with contents like:\r\n\r\n```\r\nvar Telemetry = artifacts.require('./Telemetry.sol');\r\n\r\nmodule.exports = function(deployer) {\r\n  deployer.deploy(Telemetry, {\r\n    privateFor: ['ROAZBWtSacxXQrOe3FGAqJDyJjFePR5ce4TSIzmJ0Bc=']\r\n  });\r\n};\r\n```\r\n\r\nAbove seems to result in passing the `privateFor` property as expected when the contract is deployed.\r\n\r\nHere is a screenshot from Wireshark that shows what above ends up sending over the wire towards the JSON-RPC endpoint:\r\n\r\n<img width=\"617\" alt=\"screen shot 2017-05-10 at 11 03 22\" src=\"https://cloud.githubusercontent.com/assets/207474/25888863/68177bda-3570-11e7-8c58-979665e3253e.png\">\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/300407202/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/301579936",
    "html_url": "https://github.com/trufflesuite/truffle/issues/394#issuecomment-301579936",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/394",
    "id": 301579936,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwMTU3OTkzNg==",
    "user": {
      "login": "tcoulter",
      "id": 92629,
      "node_id": "MDQ6VXNlcjkyNjI5",
      "avatar_url": "https://avatars.githubusercontent.com/u/92629?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tcoulter",
      "html_url": "https://github.com/tcoulter",
      "followers_url": "https://api.github.com/users/tcoulter/followers",
      "following_url": "https://api.github.com/users/tcoulter/following{/other_user}",
      "gists_url": "https://api.github.com/users/tcoulter/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tcoulter/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tcoulter/subscriptions",
      "organizations_url": "https://api.github.com/users/tcoulter/orgs",
      "repos_url": "https://api.github.com/users/tcoulter/repos",
      "events_url": "https://api.github.com/users/tcoulter/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tcoulter/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-05-15T19:33:14Z",
    "updated_at": "2017-05-15T19:33:14Z",
    "author_association": "CONTRIBUTOR",
    "body": "We've launched official support for Quorum with a [tutorial here](http://truffleframework.com/tutorials/building-dapps-for-quorum-private-enterprise-blockchains). Cheers!",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/301579936/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/321779504",
    "html_url": "https://github.com/trufflesuite/truffle/issues/394#issuecomment-321779504",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/394",
    "id": 321779504,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMyMTc3OTUwNA==",
    "user": {
      "login": "wtam",
      "id": 12905616,
      "node_id": "MDQ6VXNlcjEyOTA1NjE2",
      "avatar_url": "https://avatars.githubusercontent.com/u/12905616?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/wtam",
      "html_url": "https://github.com/wtam",
      "followers_url": "https://api.github.com/users/wtam/followers",
      "following_url": "https://api.github.com/users/wtam/following{/other_user}",
      "gists_url": "https://api.github.com/users/wtam/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/wtam/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/wtam/subscriptions",
      "organizations_url": "https://api.github.com/users/wtam/orgs",
      "repos_url": "https://api.github.com/users/wtam/repos",
      "events_url": "https://api.github.com/users/wtam/events{/privacy}",
      "received_events_url": "https://api.github.com/users/wtam/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-08-11T10:31:01Z",
    "updated_at": "2017-08-11T10:50:45Z",
    "author_association": "NONE",
    "body": "Truffle migrate stuck with Quorum only when using raft.  Is it a bug in truffle?",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/321779504/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/333057007",
    "html_url": "https://github.com/trufflesuite/truffle/issues/394#issuecomment-333057007",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/394",
    "id": 333057007,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzMzA1NzAwNw==",
    "user": {
      "login": "shiqinfeng1",
      "id": 7941301,
      "node_id": "MDQ6VXNlcjc5NDEzMDE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7941301?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/shiqinfeng1",
      "html_url": "https://github.com/shiqinfeng1",
      "followers_url": "https://api.github.com/users/shiqinfeng1/followers",
      "following_url": "https://api.github.com/users/shiqinfeng1/following{/other_user}",
      "gists_url": "https://api.github.com/users/shiqinfeng1/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/shiqinfeng1/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/shiqinfeng1/subscriptions",
      "organizations_url": "https://api.github.com/users/shiqinfeng1/orgs",
      "repos_url": "https://api.github.com/users/shiqinfeng1/repos",
      "events_url": "https://api.github.com/users/shiqinfeng1/events{/privacy}",
      "received_events_url": "https://api.github.com/users/shiqinfeng1/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-09-29T07:50:20Z",
    "updated_at": "2017-09-29T07:50:20Z",
    "author_association": "NONE",
    "body": " I guess its a bug.  I got errors: \r\n```\r\nBigNumber Error: new BigNumber() not a number: [object Object]\r\n      at raise (/usr/local/lib/node_modules/truffle/build/cli.bundled.js:38210:25)\r\n      at /usr/local/lib/node_modules/truffle/build/cli.bundled.js:38198:33\r\n      at new BigNumber (/usr/local/lib/node_modules/truffle/build/cli.bundled.js:37226:67)\r\n      at new BigNumber (/usr/local/lib/node_modules/truffle/build/cli.bundled.js:37236:25)\r\n      at toBigNumber (/usr/local/lib/node_modules/truffle/build/cli.bundled.js:4152:12)\r\n      at Object.toTwosComplement (/usr/local/lib/node_modules/truffle/build/cli.bundled.js:4163:21)\r\n      at SolidityTypeUInt.formatInputInt [as _inputFormatter] (/usr/local/lib/node_modules/truffle/build/cli.bundled.js:22788:38)\r\n      at SolidityTypeUInt.SolidityType.encode (/usr/local/lib/node_modules/truffle/build/cli.bundled.js:25369:17)\r\n      at /usr/local/lib/node_modules/truffle/build/cli.bundled.js:46902:29\r\n      at Array.map (native)\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/333057007/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
