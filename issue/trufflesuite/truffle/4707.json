{
  "url": "https://api.github.com/repos/trufflesuite/truffle/issues/4707",
  "repository_url": "https://api.github.com/repos/trufflesuite/truffle",
  "labels_url": "https://api.github.com/repos/trufflesuite/truffle/issues/4707/labels{/name}",
  "comments_url": "https://api.github.com/repos/trufflesuite/truffle/issues/4707/comments",
  "events_url": "https://api.github.com/repos/trufflesuite/truffle/issues/4707/events",
  "html_url": "https://github.com/trufflesuite/truffle/issues/4707",
  "id": 1128161521,
  "node_id": "I_kwDOAkfq-c5DPmDx",
  "number": 4707,
  "title": "Line and column numberings in debugger don't account for combining characters / grapheme clusters",
  "user": {
    "login": "haltman-at",
    "id": 35589221,
    "node_id": "MDQ6VXNlcjM1NTg5MjIx",
    "avatar_url": "https://avatars.githubusercontent.com/u/35589221?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/haltman-at",
    "html_url": "https://github.com/haltman-at",
    "followers_url": "https://api.github.com/users/haltman-at/followers",
    "following_url": "https://api.github.com/users/haltman-at/following{/other_user}",
    "gists_url": "https://api.github.com/users/haltman-at/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/haltman-at/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/haltman-at/subscriptions",
    "organizations_url": "https://api.github.com/users/haltman-at/orgs",
    "repos_url": "https://api.github.com/users/haltman-at/repos",
    "events_url": "https://api.github.com/users/haltman-at/events{/privacy}",
    "received_events_url": "https://api.github.com/users/haltman-at/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 971535002,
      "node_id": "MDU6TGFiZWw5NzE1MzUwMDI=",
      "url": "https://api.github.com/repos/trufflesuite/truffle/labels/Debugger",
      "name": "Debugger",
      "color": "7911ad",
      "default": false,
      "description": ""
    },
    {
      "id": 1675042783,
      "node_id": "MDU6TGFiZWwxNjc1MDQyNzgz",
      "url": "https://api.github.com/repos/trufflesuite/truffle/labels/priority7%20%F0%9F%92%A4",
      "name": "priority7 ðŸ’¤",
      "color": "006b75",
      "default": false,
      "description": ""
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 1,
  "created_at": "2022-02-09T07:37:18Z",
  "updated_at": "2022-02-09T18:54:49Z",
  "closed_at": null,
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "## Issue\r\n\r\nNow that #4706 is merged, the debugger will no longer count an astral-plane character as two characters instead of one for the purpose of line/column numbering.  However, this still leaves potential problems when comining characters are used, since the debugger only knows about code points, not grapheme clusters.  So, we might want to have a way to get the column numberings in terms of grapheme clusters, instead of just in terms of code points.\r\n\r\nThat said, Solidity probably does things in terms of code points, not grapheme clusters, so it's possible this would have to be *in addition* to how we do things currently.  Like, we might want to report column numbers in terms of code points for most purposes, but use the grapheme-cluster numbers for the purpose of displaying the carets in the debugger?  It's the carets I was thinking of when writing this issue.  Fullwidth characters might also pose a problem here.\r\n\r\n## Environment\r\n\r\n* Truffle version (`truffle version`): 5.4.32",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/4707/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/trufflesuite/truffle/issues/4707/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/1034058246",
    "html_url": "https://github.com/trufflesuite/truffle/issues/4707#issuecomment-1034058246",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/4707",
    "id": 1034058246,
    "node_id": "IC_kwDOAkfq-c49onoG",
    "user": {
      "login": "haltman-at",
      "id": 35589221,
      "node_id": "MDQ6VXNlcjM1NTg5MjIx",
      "avatar_url": "https://avatars.githubusercontent.com/u/35589221?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/haltman-at",
      "html_url": "https://github.com/haltman-at",
      "followers_url": "https://api.github.com/users/haltman-at/followers",
      "following_url": "https://api.github.com/users/haltman-at/following{/other_user}",
      "gists_url": "https://api.github.com/users/haltman-at/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/haltman-at/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/haltman-at/subscriptions",
      "organizations_url": "https://api.github.com/users/haltman-at/orgs",
      "repos_url": "https://api.github.com/users/haltman-at/repos",
      "events_url": "https://api.github.com/users/haltman-at/events{/privacy}",
      "received_events_url": "https://api.github.com/users/haltman-at/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-02-09T18:17:16Z",
    "updated_at": "2022-02-09T18:17:16Z",
    "author_association": "CONTRIBUTOR",
    "body": "Oh, and bidirectional text, let's not forget that. :P",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/1034058246/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
