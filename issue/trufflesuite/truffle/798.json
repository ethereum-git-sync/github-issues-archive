{
  "url": "https://api.github.com/repos/trufflesuite/truffle/issues/798",
  "repository_url": "https://api.github.com/repos/trufflesuite/truffle",
  "labels_url": "https://api.github.com/repos/trufflesuite/truffle/issues/798/labels{/name}",
  "comments_url": "https://api.github.com/repos/trufflesuite/truffle/issues/798/comments",
  "events_url": "https://api.github.com/repos/trufflesuite/truffle/issues/798/events",
  "html_url": "https://github.com/trufflesuite/truffle/issues/798",
  "id": 297861522,
  "node_id": "MDU6SXNzdWUyOTc4NjE1MjI=",
  "number": 798,
  "title": "Option to default to block gas limit of connected network",
  "user": {
    "login": "JohnAllen",
    "id": 2800641,
    "node_id": "MDQ6VXNlcjI4MDA2NDE=",
    "avatar_url": "https://avatars.githubusercontent.com/u/2800641?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/JohnAllen",
    "html_url": "https://github.com/JohnAllen",
    "followers_url": "https://api.github.com/users/JohnAllen/followers",
    "following_url": "https://api.github.com/users/JohnAllen/following{/other_user}",
    "gists_url": "https://api.github.com/users/JohnAllen/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/JohnAllen/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/JohnAllen/subscriptions",
    "organizations_url": "https://api.github.com/users/JohnAllen/orgs",
    "repos_url": "https://api.github.com/users/JohnAllen/repos",
    "events_url": "https://api.github.com/users/JohnAllen/events{/privacy}",
    "received_events_url": "https://api.github.com/users/JohnAllen/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 971534911,
      "node_id": "MDU6TGFiZWw5NzE1MzQ5MTE=",
      "url": "https://api.github.com/repos/trufflesuite/truffle/labels/Next",
      "name": "Next",
      "color": "5319e7",
      "default": false,
      "description": ""
    },
    {
      "id": 971535345,
      "node_id": "MDU6TGFiZWw5NzE1MzUzNDU=",
      "url": "https://api.github.com/repos/trufflesuite/truffle/labels/Fixed",
      "name": "Fixed",
      "color": "40c989",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 6,
  "created_at": "2018-02-16T17:26:19Z",
  "updated_at": "2021-09-21T18:47:46Z",
  "closed_at": "2019-01-16T18:43:57Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "Often users of Truffle have to trial and error the right `gas` value in truffle.js.  But shouldn't there just be a default option to have gas be the current block gas limit of the network?",
  "closed_by": {
    "login": "gnidan",
    "id": 151065,
    "node_id": "MDQ6VXNlcjE1MTA2NQ==",
    "avatar_url": "https://avatars.githubusercontent.com/u/151065?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/gnidan",
    "html_url": "https://github.com/gnidan",
    "followers_url": "https://api.github.com/users/gnidan/followers",
    "following_url": "https://api.github.com/users/gnidan/following{/other_user}",
    "gists_url": "https://api.github.com/users/gnidan/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/gnidan/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/gnidan/subscriptions",
    "organizations_url": "https://api.github.com/users/gnidan/orgs",
    "repos_url": "https://api.github.com/users/gnidan/repos",
    "events_url": "https://api.github.com/users/gnidan/events{/privacy}",
    "received_events_url": "https://api.github.com/users/gnidan/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/798/reactions",
    "total_count": 2,
    "+1": 2,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/trufflesuite/truffle/issues/798/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/366591579",
    "html_url": "https://github.com/trufflesuite/truffle/issues/798#issuecomment-366591579",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/798",
    "id": 366591579,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2NjU5MTU3OQ==",
    "user": {
      "login": "cgewecke",
      "id": 7332026,
      "node_id": "MDQ6VXNlcjczMzIwMjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7332026?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cgewecke",
      "html_url": "https://github.com/cgewecke",
      "followers_url": "https://api.github.com/users/cgewecke/followers",
      "following_url": "https://api.github.com/users/cgewecke/following{/other_user}",
      "gists_url": "https://api.github.com/users/cgewecke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cgewecke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cgewecke/subscriptions",
      "organizations_url": "https://api.github.com/users/cgewecke/orgs",
      "repos_url": "https://api.github.com/users/cgewecke/repos",
      "events_url": "https://api.github.com/users/cgewecke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cgewecke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-02-19T05:22:17Z",
    "updated_at": "2018-02-19T05:22:17Z",
    "author_association": "CONTRIBUTOR",
    "body": "@JohnAllen Agree. We should be able to set this dynamically by querying the provider.  On a related note, @gnidan has recently suggested re: [truffle-contract 95](https://github.com/trufflesuite/truffle-contract/pull/95) that we estimate gas for all transactions and supply that amount when no other preference is stated. ",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/366591579/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/366753864",
    "html_url": "https://github.com/trufflesuite/truffle/issues/798#issuecomment-366753864",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/798",
    "id": 366753864,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2Njc1Mzg2NA==",
    "user": {
      "login": "gnidan",
      "id": 151065,
      "node_id": "MDQ6VXNlcjE1MTA2NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/151065?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gnidan",
      "html_url": "https://github.com/gnidan",
      "followers_url": "https://api.github.com/users/gnidan/followers",
      "following_url": "https://api.github.com/users/gnidan/following{/other_user}",
      "gists_url": "https://api.github.com/users/gnidan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gnidan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gnidan/subscriptions",
      "organizations_url": "https://api.github.com/users/gnidan/orgs",
      "repos_url": "https://api.github.com/users/gnidan/repos",
      "events_url": "https://api.github.com/users/gnidan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gnidan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-02-19T17:10:53Z",
    "updated_at": "2018-02-19T17:10:53Z",
    "author_association": "MEMBER",
    "body": "@JohnAllen note that  you likely do not want to set your transaction gas limit to be the block gas limit: on mainnet, miners will have no way of knowing ahead of time that your transaction will use anything less than the full limit, and so it will take a long time for a miner to include the transaction (thinking that the transaction will be the only one in the blockâ€”no room for other, smaller transactions with potentially higher gas price)",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/366753864/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/366828240",
    "html_url": "https://github.com/trufflesuite/truffle/issues/798#issuecomment-366828240",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/798",
    "id": 366828240,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2NjgyODI0MA==",
    "user": {
      "login": "JohnAllen",
      "id": 2800641,
      "node_id": "MDQ6VXNlcjI4MDA2NDE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2800641?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/JohnAllen",
      "html_url": "https://github.com/JohnAllen",
      "followers_url": "https://api.github.com/users/JohnAllen/followers",
      "following_url": "https://api.github.com/users/JohnAllen/following{/other_user}",
      "gists_url": "https://api.github.com/users/JohnAllen/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/JohnAllen/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/JohnAllen/subscriptions",
      "organizations_url": "https://api.github.com/users/JohnAllen/orgs",
      "repos_url": "https://api.github.com/users/JohnAllen/repos",
      "events_url": "https://api.github.com/users/JohnAllen/events{/privacy}",
      "received_events_url": "https://api.github.com/users/JohnAllen/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-02-19T23:43:41Z",
    "updated_at": "2018-02-19T23:47:52Z",
    "author_association": "NONE",
    "body": "@gnidan had the same thought.  \r\n\r\nThe vast majority of deploys are not mainnet though, and many people determine the gas their contracts will cost during dev & testing and then hard code that gas number in truffle.js once they go to deploy to mainnet (to ensure they don't spend to much if something goes wrong).  I think the vast majority know the costs involved when deploying to mainnet, as they've likely just purchased an ether or so to deploy\r\n\r\nAlso it's easy to check that the user is not deploying to mainnet.\r\n\r\nQuite a few newcomers don't even know that the block gas limit has been raised twice, so their contracts won't deploy at 4.7m or 6.7m when they could have tried 8m in the first place.\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/366828240/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/370125155",
    "html_url": "https://github.com/trufflesuite/truffle/issues/798#issuecomment-370125155",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/798",
    "id": 370125155,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3MDEyNTE1NQ==",
    "user": {
      "login": "cgewecke",
      "id": 7332026,
      "node_id": "MDQ6VXNlcjczMzIwMjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7332026?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cgewecke",
      "html_url": "https://github.com/cgewecke",
      "followers_url": "https://api.github.com/users/cgewecke/followers",
      "following_url": "https://api.github.com/users/cgewecke/following{/other_user}",
      "gists_url": "https://api.github.com/users/cgewecke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cgewecke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cgewecke/subscriptions",
      "organizations_url": "https://api.github.com/users/cgewecke/orgs",
      "repos_url": "https://api.github.com/users/cgewecke/repos",
      "events_url": "https://api.github.com/users/cgewecke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cgewecke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-03T06:56:52Z",
    "updated_at": "2018-03-03T06:56:52Z",
    "author_association": "CONTRIBUTOR",
    "body": "@JohnAllen Small update: automated fueling of deployments and method calls have been added to [truffle-contract 95](https://github.com/trufflesuite/truffle-contract/pull/95). Believe this should accomplish what you're aiming for here. Unfortunately it won't be available until the release that upgrades to `web3 1.0` comes out. \r\n\r\nThanks for pushing for this. ",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/370125155/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/454893179",
    "html_url": "https://github.com/trufflesuite/truffle/issues/798#issuecomment-454893179",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/798",
    "id": 454893179,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1NDg5MzE3OQ==",
    "user": {
      "login": "gnidan",
      "id": 151065,
      "node_id": "MDQ6VXNlcjE1MTA2NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/151065?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gnidan",
      "html_url": "https://github.com/gnidan",
      "followers_url": "https://api.github.com/users/gnidan/followers",
      "following_url": "https://api.github.com/users/gnidan/following{/other_user}",
      "gists_url": "https://api.github.com/users/gnidan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gnidan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gnidan/subscriptions",
      "organizations_url": "https://api.github.com/users/gnidan/orgs",
      "repos_url": "https://api.github.com/users/gnidan/repos",
      "events_url": "https://api.github.com/users/gnidan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gnidan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-01-16T18:43:57Z",
    "updated_at": "2019-01-16T18:43:57Z",
    "author_association": "MEMBER",
    "body": "This has been released as part of v5. Thank you!",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/454893179/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/924278554",
    "html_url": "https://github.com/trufflesuite/truffle/issues/798#issuecomment-924278554",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/798",
    "id": 924278554,
    "node_id": "IC_kwDOAkfq-c43F18a",
    "user": {
      "login": "SidSethi",
      "id": 3323835,
      "node_id": "MDQ6VXNlcjMzMjM4MzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3323835?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/SidSethi",
      "html_url": "https://github.com/SidSethi",
      "followers_url": "https://api.github.com/users/SidSethi/followers",
      "following_url": "https://api.github.com/users/SidSethi/following{/other_user}",
      "gists_url": "https://api.github.com/users/SidSethi/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/SidSethi/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SidSethi/subscriptions",
      "organizations_url": "https://api.github.com/users/SidSethi/orgs",
      "repos_url": "https://api.github.com/users/SidSethi/repos",
      "events_url": "https://api.github.com/users/SidSethi/events{/privacy}",
      "received_events_url": "https://api.github.com/users/SidSethi/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-09-21T18:47:46Z",
    "updated_at": "2021-09-21T18:47:46Z",
    "author_association": "NONE",
    "body": "To clarify, truffle v5 now allows you to default the gas limit to network block gas limit on all TX? or only deploys/migrations",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/924278554/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
