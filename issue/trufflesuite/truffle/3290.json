{
  "url": "https://api.github.com/repos/trufflesuite/truffle/issues/3290",
  "repository_url": "https://api.github.com/repos/trufflesuite/truffle",
  "labels_url": "https://api.github.com/repos/trufflesuite/truffle/issues/3290/labels{/name}",
  "comments_url": "https://api.github.com/repos/trufflesuite/truffle/issues/3290/comments",
  "events_url": "https://api.github.com/repos/trufflesuite/truffle/issues/3290/events",
  "html_url": "https://github.com/trufflesuite/truffle/issues/3290",
  "id": 684061853,
  "node_id": "MDU6SXNzdWU2ODQwNjE4NTM=",
  "number": 3290,
  "title": "truffle test hangs forever (develop:ipc:client error:  Error: connect ECONNREFUSED /tmp/truffle.test)",
  "user": {
    "login": "kevholder",
    "id": 60701112,
    "node_id": "MDQ6VXNlcjYwNzAxMTEy",
    "avatar_url": "https://avatars.githubusercontent.com/u/60701112?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/kevholder",
    "html_url": "https://github.com/kevholder",
    "followers_url": "https://api.github.com/users/kevholder/followers",
    "following_url": "https://api.github.com/users/kevholder/following{/other_user}",
    "gists_url": "https://api.github.com/users/kevholder/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/kevholder/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/kevholder/subscriptions",
    "organizations_url": "https://api.github.com/users/kevholder/orgs",
    "repos_url": "https://api.github.com/users/kevholder/repos",
    "events_url": "https://api.github.com/users/kevholder/events{/privacy}",
    "received_events_url": "https://api.github.com/users/kevholder/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 5,
  "created_at": "2020-08-22T20:20:19Z",
  "updated_at": "2020-09-02T18:12:14Z",
  "closed_at": "2020-09-02T18:12:14Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "- [ x] I've asked for help in the [Truffle Gitter](http://gitter.im/Consensys/truffle) before filing this issue.\r\n\r\n---------------------------\r\n\r\n## Issue\r\n\r\ntruffle test hangs indefinitely with the default truffle-config.js and node v14+\r\n\r\n## Steps to Reproduce\r\n\r\ntruffle init and truffle test\r\n\r\n## Expected Behavior\r\n\r\nRun tests.\r\n\r\n## Actual Results\r\n\r\n```\r\n$ DEBUG=* truffle test\r\n\r\nSecp256k1 bindings are not compiled. Pure JS implementation will be used.\r\nKeccak bindings are not compiled. Pure JS implementation will be used.\r\nKeccak bindings are not compiled. Pure JS implementation will be used.\r\nKeccak bindings are not compiled. Pure JS implementation will be used.\r\nKeccak bindings are not compiled. Pure JS implementation will be used.\r\nKeccak bindings are not compiled. Pure JS implementation will be used.\r\nKeccak bindings are not compiled. Pure JS implementation will be used.\r\nKeccak bindings are not compiled. Pure JS implementation will be used.\r\nKeccak bindings are not compiled. Pure JS implementation will be used.\r\n  develop:ipc:client requested connection to  test /tmp/truffle.test +0ms\r\n  develop:ipc:client Connecting client on Unix Socket : /tmp/truffle.test +0ms\r\n  develop:ipc:client\r\n  develop:ipc:client\r\n  develop:ipc:client ######\r\n  develop:ipc:client error:  Error: connect ECONNREFUSED /tmp/truffle.test\r\n  develop:ipc:client     at PipeConnectWrap.afterConnect [as oncomplete] (net.js:1144:16) {\r\n  develop:ipc:client   errno: -61,\r\n  develop:ipc:client   code: 'ECONNREFUSED',\r\n  develop:ipc:client   syscall: 'connect',\r\n  develop:ipc:client   address: '/tmp/truffle.test'\r\n  develop:ipc:client } +4ms\r\n  develop:ipc:client connection closed test /tmp/truffle.test 0 tries remaining of 0 +0ms\r\n  develop:ipc:client mbp exceeded connection rety amount of  or stopRetrying flag set. +0ms\r\n  develop:ipc:client requested connection to  test /tmp/truffle.test +0ms\r\n  develop:ipc:client Connecting client on Unix Socket : /tmp/truffle.test +0ms\r\n  develop:ipc:client\r\n  develop:ipc:client\r\n  develop:ipc:client ######\r\n  develop:ipc:client error:  Error: connect ECONNREFUSED /tmp/truffle.test\r\n  develop:ipc:client     at PipeConnectWrap.afterConnect [as oncomplete] (net.js:1144:16) {\r\n  develop:ipc:client   errno: -61,\r\n  develop:ipc:client   code: 'ECONNREFUSED',\r\n  develop:ipc:client   syscall: 'connect',\r\n  develop:ipc:client   address: '/tmp/truffle.test'\r\n  develop:ipc:client } +1ms\r\n  develop:ipc:client connection closed test /tmp/truffle.test Infinity tries remaining of Infinity +0ms\r\n  develop:ipc:client requested connection to  test /tmp/truffle.test +501ms\r\n  develop:ipc:client Connecting client on Unix Socket : /tmp/truffle.test +0ms\r\n  develop:ipc:client\r\n  develop:ipc:client\r\n```\r\n\r\n## Environment\r\n\r\n* Operating System:  macox \r\n\r\n```\r\ntruffle version; node --version; npm --version;\r\nTruffle v5.1.41 (core: 5.1.41)\r\nSolidity v0.5.16 (solc-js)\r\nNode v14.5.0\r\nWeb3.js v1.2.1\r\nv14.5.0\r\n6.14.5\r\n```",
  "closed_by": {
    "login": "fainashalts",
    "id": 8952139,
    "node_id": "MDQ6VXNlcjg5NTIxMzk=",
    "avatar_url": "https://avatars.githubusercontent.com/u/8952139?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/fainashalts",
    "html_url": "https://github.com/fainashalts",
    "followers_url": "https://api.github.com/users/fainashalts/followers",
    "following_url": "https://api.github.com/users/fainashalts/following{/other_user}",
    "gists_url": "https://api.github.com/users/fainashalts/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/fainashalts/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/fainashalts/subscriptions",
    "organizations_url": "https://api.github.com/users/fainashalts/orgs",
    "repos_url": "https://api.github.com/users/fainashalts/repos",
    "events_url": "https://api.github.com/users/fainashalts/events{/privacy}",
    "received_events_url": "https://api.github.com/users/fainashalts/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/3290/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/trufflesuite/truffle/issues/3290/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/678689973",
    "html_url": "https://github.com/trufflesuite/truffle/issues/3290#issuecomment-678689973",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/3290",
    "id": 678689973,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY3ODY4OTk3Mw==",
    "user": {
      "login": "kevholder",
      "id": 60701112,
      "node_id": "MDQ6VXNlcjYwNzAxMTEy",
      "avatar_url": "https://avatars.githubusercontent.com/u/60701112?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kevholder",
      "html_url": "https://github.com/kevholder",
      "followers_url": "https://api.github.com/users/kevholder/followers",
      "following_url": "https://api.github.com/users/kevholder/following{/other_user}",
      "gists_url": "https://api.github.com/users/kevholder/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kevholder/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kevholder/subscriptions",
      "organizations_url": "https://api.github.com/users/kevholder/orgs",
      "repos_url": "https://api.github.com/users/kevholder/repos",
      "events_url": "https://api.github.com/users/kevholder/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kevholder/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-08-22T20:26:18Z",
    "updated_at": "2020-08-22T20:26:39Z",
    "author_association": "NONE",
    "body": "Maybe related to this bug when starting ganache?\r\n\r\n```\r\n$ ganache-cli\r\nGanache CLI v6.10.1 (ganache-core: 2.11.2)\r\nError: Callback was already called.\r\n    at /usr/local/lib/node_modules/ganache-cli/build/ganache-core.node.cli.js:19:276\r\n    at s.<anonymous> (/usr/local/lib/node_modules/ganache-cli/build/ganache-core.node.cli.js:19:2238)\r\n    at s.emit (events.js:314:20)\r\n    at s.destroy (/usr/local/lib/node_modules/ganache-cli/build/ganache-core.node.cli.js:39:744230)\r\n    at finish (_stream_writable.js:658:14)\r\n    at processTicksAndRejections (internal/process/task_queues.js:80:21)\r\n```\r\n\r\nhttps://github.com/trufflesuite/ganache-cli/issues/732",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/678689973/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/679279284",
    "html_url": "https://github.com/trufflesuite/truffle/issues/3290#issuecomment-679279284",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/3290",
    "id": 679279284,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY3OTI3OTI4NA==",
    "user": {
      "login": "gnidan",
      "id": 151065,
      "node_id": "MDQ6VXNlcjE1MTA2NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/151065?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gnidan",
      "html_url": "https://github.com/gnidan",
      "followers_url": "https://api.github.com/users/gnidan/followers",
      "following_url": "https://api.github.com/users/gnidan/following{/other_user}",
      "gists_url": "https://api.github.com/users/gnidan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gnidan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gnidan/subscriptions",
      "organizations_url": "https://api.github.com/users/gnidan/orgs",
      "repos_url": "https://api.github.com/users/gnidan/repos",
      "events_url": "https://api.github.com/users/gnidan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gnidan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-08-24T18:01:28Z",
    "updated_at": "2020-08-24T18:01:28Z",
    "author_association": "MEMBER",
    "body": "Does `truffle develop` work for you?",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/679279284/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/681025302",
    "html_url": "https://github.com/trufflesuite/truffle/issues/3290#issuecomment-681025302",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/3290",
    "id": 681025302,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY4MTAyNTMwMg==",
    "user": {
      "login": "gnidan",
      "id": 151065,
      "node_id": "MDQ6VXNlcjE1MTA2NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/151065?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gnidan",
      "html_url": "https://github.com/gnidan",
      "followers_url": "https://api.github.com/users/gnidan/followers",
      "following_url": "https://api.github.com/users/gnidan/following{/other_user}",
      "gists_url": "https://api.github.com/users/gnidan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gnidan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gnidan/subscriptions",
      "organizations_url": "https://api.github.com/users/gnidan/orgs",
      "repos_url": "https://api.github.com/users/gnidan/repos",
      "events_url": "https://api.github.com/users/gnidan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gnidan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-08-26T17:41:00Z",
    "updated_at": "2020-08-26T17:41:00Z",
    "author_association": "MEMBER",
    "body": "FYI Truffle doesn't support Node v14 yet",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/681025302/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/683383419",
    "html_url": "https://github.com/trufflesuite/truffle/issues/3290#issuecomment-683383419",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/3290",
    "id": 683383419,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY4MzM4MzQxOQ==",
    "user": {
      "login": "codebam",
      "id": 6035884,
      "node_id": "MDQ6VXNlcjYwMzU4ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6035884?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/codebam",
      "html_url": "https://github.com/codebam",
      "followers_url": "https://api.github.com/users/codebam/followers",
      "following_url": "https://api.github.com/users/codebam/following{/other_user}",
      "gists_url": "https://api.github.com/users/codebam/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/codebam/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/codebam/subscriptions",
      "organizations_url": "https://api.github.com/users/codebam/orgs",
      "repos_url": "https://api.github.com/users/codebam/repos",
      "events_url": "https://api.github.com/users/codebam/events{/privacy}",
      "received_events_url": "https://api.github.com/users/codebam/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-08-30T06:43:31Z",
    "updated_at": "2020-08-30T06:43:31Z",
    "author_association": "NONE",
    "body": "Thanks @gnidan. Switched to LTS and worked like a charm.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/683383419/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/685908815",
    "html_url": "https://github.com/trufflesuite/truffle/issues/3290#issuecomment-685908815",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/3290",
    "id": 685908815,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY4NTkwODgxNQ==",
    "user": {
      "login": "fainashalts",
      "id": 8952139,
      "node_id": "MDQ6VXNlcjg5NTIxMzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8952139?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fainashalts",
      "html_url": "https://github.com/fainashalts",
      "followers_url": "https://api.github.com/users/fainashalts/followers",
      "following_url": "https://api.github.com/users/fainashalts/following{/other_user}",
      "gists_url": "https://api.github.com/users/fainashalts/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fainashalts/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fainashalts/subscriptions",
      "organizations_url": "https://api.github.com/users/fainashalts/orgs",
      "repos_url": "https://api.github.com/users/fainashalts/repos",
      "events_url": "https://api.github.com/users/fainashalts/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fainashalts/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-09-02T18:12:14Z",
    "updated_at": "2020-09-02T18:12:14Z",
    "author_association": "MEMBER",
    "body": "Glad it worked out @codebam! We're closing this for issue maintenance but feel free to open another issue if something comes up!",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/685908815/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
