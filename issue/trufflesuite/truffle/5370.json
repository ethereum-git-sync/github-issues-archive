{
  "url": "https://api.github.com/repos/trufflesuite/truffle/issues/5370",
  "repository_url": "https://api.github.com/repos/trufflesuite/truffle",
  "labels_url": "https://api.github.com/repos/trufflesuite/truffle/issues/5370/labels{/name}",
  "comments_url": "https://api.github.com/repos/trufflesuite/truffle/issues/5370/comments",
  "events_url": "https://api.github.com/repos/trufflesuite/truffle/issues/5370/events",
  "html_url": "https://github.com/trufflesuite/truffle/issues/5370",
  "id": 1320416047,
  "node_id": "I_kwDOAkfq-c5Os_Mv",
  "number": 5370,
  "title": "Enhancement: Fully typed @truffle/contract instances",
  "user": {
    "login": "benjamincburns",
    "id": 803016,
    "node_id": "MDQ6VXNlcjgwMzAxNg==",
    "avatar_url": "https://avatars.githubusercontent.com/u/803016?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/benjamincburns",
    "html_url": "https://github.com/benjamincburns",
    "followers_url": "https://api.github.com/users/benjamincburns/followers",
    "following_url": "https://api.github.com/users/benjamincburns/following{/other_user}",
    "gists_url": "https://api.github.com/users/benjamincburns/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/benjamincburns/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/benjamincburns/subscriptions",
    "organizations_url": "https://api.github.com/users/benjamincburns/orgs",
    "repos_url": "https://api.github.com/users/benjamincburns/repos",
    "events_url": "https://api.github.com/users/benjamincburns/events{/privacy}",
    "received_events_url": "https://api.github.com/users/benjamincburns/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 1675041996,
      "node_id": "MDU6TGFiZWwxNjc1MDQxOTk2",
      "url": "https://api.github.com/repos/trufflesuite/truffle/labels/priority4%20%F0%9F%93%8B",
      "name": "priority4 ðŸ“‹",
      "color": "006b75",
      "default": false,
      "description": ""
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 4,
  "created_at": "2022-07-28T05:33:17Z",
  "updated_at": "2022-07-29T01:15:32Z",
  "closed_at": null,
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "If we're gonna support TypeScript for smart contract dev, we should really have properly typed `@truffle/contract` instances.\r\n\r\n## Challenges\r\n\r\nThis is going to be challenging for a number of reasons, so I'm going to say up front here that we won't be making \"perfect\" the enemy of \"good enough.\" \r\n\r\nFor example, smart contract method overloading works differently from TS/JS method overloading, and there are likely to be ambiguities in generated types as a result.\r\n\r\n## Goals/strategy\r\n\r\n- generate correct types for as much of the contract as we can\r\n- accept ambiguities where we have to due to language constraints\r\n- ensure that the type checker does not prevent devs from writing valid code\r\n- minimize the need for devs to write typing boilerplate as much as possible\r\n\r\nAnd as an aside, it'd be really really nice if we could also convert [NatSpec](https://docs.soliditylang.org/en/v0.8.15/natspec-format.html) comments into [typedoc](https://typedoc.org/guides/doccomments/) for that sweet, sweet intellisense action.",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/5370/reactions",
    "total_count": 1,
    "+1": 1,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/trufflesuite/truffle/issues/5370/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/1197685527",
    "html_url": "https://github.com/trufflesuite/truffle/issues/5370#issuecomment-1197685527",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/5370",
    "id": 1197685527,
    "node_id": "IC_kwDOAkfq-c5HYzsX",
    "user": {
      "login": "benjamincburns",
      "id": 803016,
      "node_id": "MDQ6VXNlcjgwMzAxNg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/803016?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/benjamincburns",
      "html_url": "https://github.com/benjamincburns",
      "followers_url": "https://api.github.com/users/benjamincburns/followers",
      "following_url": "https://api.github.com/users/benjamincburns/following{/other_user}",
      "gists_url": "https://api.github.com/users/benjamincburns/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/benjamincburns/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/benjamincburns/subscriptions",
      "organizations_url": "https://api.github.com/users/benjamincburns/orgs",
      "repos_url": "https://api.github.com/users/benjamincburns/repos",
      "events_url": "https://api.github.com/users/benjamincburns/events{/privacy}",
      "received_events_url": "https://api.github.com/users/benjamincburns/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-07-28T05:35:58Z",
    "updated_at": "2022-07-28T05:35:58Z",
    "author_association": "CONTRIBUTOR",
    "body": "#4825 and #5124 look to be relevant",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/1197685527/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/1197688897",
    "html_url": "https://github.com/trufflesuite/truffle/issues/5370#issuecomment-1197688897",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/5370",
    "id": 1197688897,
    "node_id": "IC_kwDOAkfq-c5HY0hB",
    "user": {
      "login": "benjamincburns",
      "id": 803016,
      "node_id": "MDQ6VXNlcjgwMzAxNg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/803016?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/benjamincburns",
      "html_url": "https://github.com/benjamincburns",
      "followers_url": "https://api.github.com/users/benjamincburns/followers",
      "following_url": "https://api.github.com/users/benjamincburns/following{/other_user}",
      "gists_url": "https://api.github.com/users/benjamincburns/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/benjamincburns/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/benjamincburns/subscriptions",
      "organizations_url": "https://api.github.com/users/benjamincburns/orgs",
      "repos_url": "https://api.github.com/users/benjamincburns/repos",
      "events_url": "https://api.github.com/users/benjamincburns/events{/privacy}",
      "received_events_url": "https://api.github.com/users/benjamincburns/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-07-28T05:41:31Z",
    "updated_at": "2022-07-28T05:41:31Z",
    "author_association": "CONTRIBUTOR",
    "body": "Should also investigate using @krzkaczor's awesome [TypeChain](https://github.com/dethcrypto/TypeChain) and/or [eth-sdk](https://github.com/dethcrypto/eth-sdk)  to support this.\r\n\r\nThough I note that `eth-sdk` requires Ethers support, so it may not be directly usable, unless the work behind #5138 takes us in a direction where we have less of a core dependency on web3.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/1197688897/reactions",
      "total_count": 2,
      "+1": 2,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/1198091434",
    "html_url": "https://github.com/trufflesuite/truffle/issues/5370#issuecomment-1198091434",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/5370",
    "id": 1198091434,
    "node_id": "IC_kwDOAkfq-c5HaWyq",
    "user": {
      "login": "krzkaczor",
      "id": 1814312,
      "node_id": "MDQ6VXNlcjE4MTQzMTI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1814312?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/krzkaczor",
      "html_url": "https://github.com/krzkaczor",
      "followers_url": "https://api.github.com/users/krzkaczor/followers",
      "following_url": "https://api.github.com/users/krzkaczor/following{/other_user}",
      "gists_url": "https://api.github.com/users/krzkaczor/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/krzkaczor/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/krzkaczor/subscriptions",
      "organizations_url": "https://api.github.com/users/krzkaczor/orgs",
      "repos_url": "https://api.github.com/users/krzkaczor/repos",
      "events_url": "https://api.github.com/users/krzkaczor/events{/privacy}",
      "received_events_url": "https://api.github.com/users/krzkaczor/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-07-28T12:43:43Z",
    "updated_at": "2022-07-28T12:43:43Z",
    "author_association": "NONE",
    "body": "@benjamincburns thanks for tagging me. Just to put it out there, we do have Truffle v5 support in TypeChain already: https://github.com/dethcrypto/TypeChain/tree/master/examples/truffle-v5\r\n\r\nIt's not perfect, AFAIR migrations need to be transpiled but still, I think it's pretty good ;) ",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/1198091434/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 1,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/1198779526",
    "html_url": "https://github.com/trufflesuite/truffle/issues/5370#issuecomment-1198779526",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/5370",
    "id": 1198779526,
    "node_id": "IC_kwDOAkfq-c5Hc-yG",
    "user": {
      "login": "benjamincburns",
      "id": 803016,
      "node_id": "MDQ6VXNlcjgwMzAxNg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/803016?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/benjamincburns",
      "html_url": "https://github.com/benjamincburns",
      "followers_url": "https://api.github.com/users/benjamincburns/followers",
      "following_url": "https://api.github.com/users/benjamincburns/following{/other_user}",
      "gists_url": "https://api.github.com/users/benjamincburns/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/benjamincburns/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/benjamincburns/subscriptions",
      "organizations_url": "https://api.github.com/users/benjamincburns/orgs",
      "repos_url": "https://api.github.com/users/benjamincburns/repos",
      "events_url": "https://api.github.com/users/benjamincburns/events{/privacy}",
      "received_events_url": "https://api.github.com/users/benjamincburns/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-07-29T01:02:43Z",
    "updated_at": "2022-07-29T01:02:43Z",
    "author_association": "CONTRIBUTOR",
    "body": "> AFAIR migrations need to be transpiled\r\n\r\nThat'll change as of tomorrow's release now that #5222 is merged.\r\n\r\n> Just to put it out there, we do have Truffle v5 support in TypeChain already\r\n\r\nYep, it's really great work that you've done with TypeChain and co, @krzkaczor. We're looking to make typed contracts much more of a seamless, first-class experience than they are today, and the fact that you've got a straightforward mechanism for Truffle contract type generation is really appealing.\r\n\r\nI can't say for certain yet that we will integrate it from our side, as I haven't evaluated it for that purpose just yet. That said, if you're amenable to the idea of Truffle taking on TypeChain as a dependency, then I'll definitely be taking a good hard look. I'm a big proponent of meeting users where they are, and I gather that a bunch of our users are already making good use of TypeChain today and that they are enjoying using it.\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/1198779526/reactions",
      "total_count": 2,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 2,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
