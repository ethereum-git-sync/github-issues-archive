{
  "url": "https://api.github.com/repos/trufflesuite/truffle/issues/4016",
  "repository_url": "https://api.github.com/repos/trufflesuite/truffle",
  "labels_url": "https://api.github.com/repos/trufflesuite/truffle/issues/4016/labels{/name}",
  "comments_url": "https://api.github.com/repos/trufflesuite/truffle/issues/4016/comments",
  "events_url": "https://api.github.com/repos/trufflesuite/truffle/issues/4016/events",
  "html_url": "https://github.com/trufflesuite/truffle/issues/4016",
  "id": 876289134,
  "node_id": "MDU6SXNzdWU4NzYyODkxMzQ=",
  "number": 4016,
  "title": "Bad Requests behind a proxy since version 5.3.4",
  "user": {
    "login": "ityreh",
    "id": 13473541,
    "node_id": "MDQ6VXNlcjEzNDczNTQx",
    "avatar_url": "https://avatars.githubusercontent.com/u/13473541?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/ityreh",
    "html_url": "https://github.com/ityreh",
    "followers_url": "https://api.github.com/users/ityreh/followers",
    "following_url": "https://api.github.com/users/ityreh/following{/other_user}",
    "gists_url": "https://api.github.com/users/ityreh/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/ityreh/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/ityreh/subscriptions",
    "organizations_url": "https://api.github.com/users/ityreh/orgs",
    "repos_url": "https://api.github.com/users/ityreh/repos",
    "events_url": "https://api.github.com/users/ityreh/events{/privacy}",
    "received_events_url": "https://api.github.com/users/ityreh/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 644098328,
      "node_id": "MDU6TGFiZWw2NDQwOTgzMjg=",
      "url": "https://api.github.com/repos/trufflesuite/truffle/labels/needs%20reproduced",
      "name": "needs reproduced",
      "color": "fbca04",
      "default": false,
      "description": null
    },
    {
      "id": 1403343142,
      "node_id": "MDU6TGFiZWwxNDAzMzQzMTQy",
      "url": "https://api.github.com/repos/trufflesuite/truffle/labels/needs%20investigated",
      "name": "needs investigated",
      "color": "b7410e",
      "default": false,
      "description": ""
    },
    {
      "id": 1675041796,
      "node_id": "MDU6TGFiZWwxNjc1MDQxNzk2",
      "url": "https://api.github.com/repos/trufflesuite/truffle/labels/priority3%20%F0%9F%94%A7",
      "name": "priority3 üîß",
      "color": "006b75",
      "default": false,
      "description": ""
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 41,
  "created_at": "2021-05-05T10:08:40Z",
  "updated_at": "2023-02-14T18:40:28Z",
  "closed_at": null,
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "- [x] I've asked for help in the [Truffle Gitter](http://gitter.im/Consensys/truffle) before filing this issue.\r\n\r\n---------------------------\r\n\r\n## Issue\r\n\r\nUsing a truffle operation **on a Windows System** with truffle version `5.3.4`, that sends a HTTP request, you get a **Bad Request** Error. My Windows System is **behind a proxy**.\r\n\r\nMaybe the [switch to axios](https://github.com/trufflesuite/truffle/blob/develop/packages/compile-solidity/compilerSupplier/loadingStrategies/VersionRange.js) in `5.3.4` is causing this issue.\r\n\r\n## Steps to Reproduce\r\n\r\nUpgrade your truffle version to `5.3.4` and try to use an operation that sends a HTTP request, e.g. `truffle unbox metacoin` or in an existing project `truffle compile --list`.\r\n\r\n## Expected Behavior\r\n\r\nTruffle does not send bad requests.\r\n\r\n## Actual Results\r\n\r\nOne of the operations that sends a bad request ist `truffle compile --version`.\r\n\r\nOutput with version `5.3.4` (not working):\r\n\r\n```\r\nC:\\Temp>truffle compile --list\r\n√ó Fetching solc version list from solc-bin. Attempt #1\r\n√ó Fetching solc version list from solc-bin. Attempt #2\r\n√ó Fetching solc version list from solc-bin. Attempt #3\r\nError: Failed to complete request to: version URLs. Are you connected to the internet?\r\n\r\nError: Request failed with status code 400\r\n    at VersionRange.errors (C:\\Users\\xn06112\\AppData\\Roaming\\npm\\node_modules\\truffle\\build\\webpack:\\packages\\compile-solidity\\compilerSupplier\\loadingStrategies\\LoadingStrategy.js:66:1)\r\n    at C:\\Users\\xn06112\\AppData\\Roaming\\npm\\node_modules\\truffle\\build\\webpack:\\packages\\compile-solidity\\compilerSupplier\\loadingStrategies\\VersionRange.js:158:1\r\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\r\n    at Object.listVersions (C:\\Users\\xn06112\\AppData\\Roaming\\npm\\node_modules\\truffle\\build\\webpack:\\packages\\core\\lib\\commands\\compile.js:122:1)\r\n    at Object.run (C:\\Users\\xn06112\\AppData\\Roaming\\npm\\node_modules\\truffle\\build\\webpack:\\packages\\core\\lib\\commands\\compile.js:71:1)\r\n    at Command.run (C:\\Users\\xn06112\\AppData\\Roaming\\npm\\node_modules\\truffle\\build\\webpack:\\packages\\core\\lib\\command.js:140:1)\r\nTruffle v5.3.4 (core: 5.3.4)\r\nNode v16.1.0\r\n```\r\n\r\nOutput with version `5.3.3` (working):\r\n\r\n```\r\nC:\\Temp>truffle compile --list\r\n‚àö Fetching solc version list from solc-bin. Attempt #1\r\n[\r\n \"0.8.4\",\r\n \"0.8.3\",\r\n \"0.8.2\",\r\n \"0.8.1\",\r\n \"0.8.0\",\r\n \"0.7.6\",\r\n \"0.7.5\",\r\n \"0.7.4\",\r\n \"0.7.3\",\r\n \"0.7.2\",\r\n \".. and 77 more. Use `--all` to see full list.\"\r\n]\r\n```\r\n\r\n## Environment\r\n\r\n* Operating System: Windows 10\r\n* Ethereum client: \r\n* Truffle version (`truffle version`): 5.3.4\r\n* node version (`node --version`): 16.1.0\r\n* npm version (`npm --version`): 7.11.2\r\n",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/4016/reactions",
    "total_count": 4,
    "+1": 4,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/trufflesuite/truffle/issues/4016/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/832914230",
    "html_url": "https://github.com/trufflesuite/truffle/issues/4016#issuecomment-832914230",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/4016",
    "id": 832914230,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgzMjkxNDIzMA==",
    "user": {
      "login": "gnidan",
      "id": 151065,
      "node_id": "MDQ6VXNlcjE1MTA2NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/151065?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gnidan",
      "html_url": "https://github.com/gnidan",
      "followers_url": "https://api.github.com/users/gnidan/followers",
      "following_url": "https://api.github.com/users/gnidan/following{/other_user}",
      "gists_url": "https://api.github.com/users/gnidan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gnidan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gnidan/subscriptions",
      "organizations_url": "https://api.github.com/users/gnidan/orgs",
      "repos_url": "https://api.github.com/users/gnidan/repos",
      "events_url": "https://api.github.com/users/gnidan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gnidan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-05-05T18:30:26Z",
    "updated_at": "2021-05-05T18:30:26Z",
    "author_association": "MEMBER",
    "body": "Thanks for reporting this. We'll get this on our backlog to see what's going wrong here. You're probably right about the change to the axios library. But we'll do further digging to see if we can't fix the issue.\r\n\r\nSorry about this!",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/832914230/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/837309489",
    "html_url": "https://github.com/trufflesuite/truffle/issues/4016#issuecomment-837309489",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/4016",
    "id": 837309489,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgzNzMwOTQ4OQ==",
    "user": {
      "login": "eggplantzzz",
      "id": 14827965,
      "node_id": "MDQ6VXNlcjE0ODI3OTY1",
      "avatar_url": "https://avatars.githubusercontent.com/u/14827965?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eggplantzzz",
      "html_url": "https://github.com/eggplantzzz",
      "followers_url": "https://api.github.com/users/eggplantzzz/followers",
      "following_url": "https://api.github.com/users/eggplantzzz/following{/other_user}",
      "gists_url": "https://api.github.com/users/eggplantzzz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eggplantzzz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eggplantzzz/subscriptions",
      "organizations_url": "https://api.github.com/users/eggplantzzz/orgs",
      "repos_url": "https://api.github.com/users/eggplantzzz/repos",
      "events_url": "https://api.github.com/users/eggplantzzz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eggplantzzz/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-05-10T20:43:15Z",
    "updated_at": "2021-05-10T20:43:15Z",
    "author_association": "CONTRIBUTOR",
    "body": "I found an option for axios, `maxRedirects` which is 5 by default. I'll put in a PR to set it to 50 and perhaps this will solve the issue.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/837309489/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/839080756",
    "html_url": "https://github.com/trufflesuite/truffle/issues/4016#issuecomment-839080756",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/4016",
    "id": 839080756,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgzOTA4MDc1Ng==",
    "user": {
      "login": "eggplantzzz",
      "id": 14827965,
      "node_id": "MDQ6VXNlcjE0ODI3OTY1",
      "avatar_url": "https://avatars.githubusercontent.com/u/14827965?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eggplantzzz",
      "html_url": "https://github.com/eggplantzzz",
      "followers_url": "https://api.github.com/users/eggplantzzz/followers",
      "following_url": "https://api.github.com/users/eggplantzzz/following{/other_user}",
      "gists_url": "https://api.github.com/users/eggplantzzz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eggplantzzz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eggplantzzz/subscriptions",
      "organizations_url": "https://api.github.com/users/eggplantzzz/orgs",
      "repos_url": "https://api.github.com/users/eggplantzzz/repos",
      "events_url": "https://api.github.com/users/eggplantzzz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eggplantzzz/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-05-11T19:56:34Z",
    "updated_at": "2021-05-11T19:56:34Z",
    "author_association": "CONTRIBUTOR",
    "body": "@ityreh We just released a new version of Truffle (5.3.6). It might fix your issue, could you please upgrade and let us know whether it does? Thank you!",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/839080756/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/839652009",
    "html_url": "https://github.com/trufflesuite/truffle/issues/4016#issuecomment-839652009",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/4016",
    "id": 839652009,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgzOTY1MjAwOQ==",
    "user": {
      "login": "ityreh",
      "id": 13473541,
      "node_id": "MDQ6VXNlcjEzNDczNTQx",
      "avatar_url": "https://avatars.githubusercontent.com/u/13473541?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ityreh",
      "html_url": "https://github.com/ityreh",
      "followers_url": "https://api.github.com/users/ityreh/followers",
      "following_url": "https://api.github.com/users/ityreh/following{/other_user}",
      "gists_url": "https://api.github.com/users/ityreh/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ityreh/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ityreh/subscriptions",
      "organizations_url": "https://api.github.com/users/ityreh/orgs",
      "repos_url": "https://api.github.com/users/ityreh/repos",
      "events_url": "https://api.github.com/users/ityreh/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ityreh/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-05-12T10:13:12Z",
    "updated_at": "2021-05-12T10:13:12Z",
    "author_association": "NONE",
    "body": "@eggplantzzz thank you, but I get the same error with version `5.3.6` and after downgrading to `5.3.3` it works again.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/839652009/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/839876114",
    "html_url": "https://github.com/trufflesuite/truffle/issues/4016#issuecomment-839876114",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/4016",
    "id": 839876114,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgzOTg3NjExNA==",
    "user": {
      "login": "eggplantzzz",
      "id": 14827965,
      "node_id": "MDQ6VXNlcjE0ODI3OTY1",
      "avatar_url": "https://avatars.githubusercontent.com/u/14827965?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eggplantzzz",
      "html_url": "https://github.com/eggplantzzz",
      "followers_url": "https://api.github.com/users/eggplantzzz/followers",
      "following_url": "https://api.github.com/users/eggplantzzz/following{/other_user}",
      "gists_url": "https://api.github.com/users/eggplantzzz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eggplantzzz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eggplantzzz/subscriptions",
      "organizations_url": "https://api.github.com/users/eggplantzzz/orgs",
      "repos_url": "https://api.github.com/users/eggplantzzz/repos",
      "events_url": "https://api.github.com/users/eggplantzzz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eggplantzzz/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-05-12T15:41:09Z",
    "updated_at": "2021-05-12T15:41:09Z",
    "author_association": "CONTRIBUTOR",
    "body": "Hmm, I thought that increasing the amount of allowable redirects might solve it...I wonder what could be causing this.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/839876114/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/840040993",
    "html_url": "https://github.com/trufflesuite/truffle/issues/4016#issuecomment-840040993",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/4016",
    "id": 840040993,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg0MDA0MDk5Mw==",
    "user": {
      "login": "eggplantzzz",
      "id": 14827965,
      "node_id": "MDQ6VXNlcjE0ODI3OTY1",
      "avatar_url": "https://avatars.githubusercontent.com/u/14827965?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eggplantzzz",
      "html_url": "https://github.com/eggplantzzz",
      "followers_url": "https://api.github.com/users/eggplantzzz/followers",
      "following_url": "https://api.github.com/users/eggplantzzz/following{/other_user}",
      "gists_url": "https://api.github.com/users/eggplantzzz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eggplantzzz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eggplantzzz/subscriptions",
      "organizations_url": "https://api.github.com/users/eggplantzzz/orgs",
      "repos_url": "https://api.github.com/users/eggplantzzz/repos",
      "events_url": "https://api.github.com/users/eggplantzzz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eggplantzzz/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-05-12T19:29:03Z",
    "updated_at": "2021-05-12T19:29:03Z",
    "author_association": "CONTRIBUTOR",
    "body": "Can you tell us anything more about your setup? I'm not sure how involved it would be for us to reproduce your error. I guess we'll have to look into the axios options again and maybe compare them to what request is doing.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/840040993/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/856947939",
    "html_url": "https://github.com/trufflesuite/truffle/issues/4016#issuecomment-856947939",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/4016",
    "id": 856947939,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg1Njk0NzkzOQ==",
    "user": {
      "login": "thorstenhirsch",
      "id": 619741,
      "node_id": "MDQ6VXNlcjYxOTc0MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/619741?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/thorstenhirsch",
      "html_url": "https://github.com/thorstenhirsch",
      "followers_url": "https://api.github.com/users/thorstenhirsch/followers",
      "following_url": "https://api.github.com/users/thorstenhirsch/following{/other_user}",
      "gists_url": "https://api.github.com/users/thorstenhirsch/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/thorstenhirsch/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/thorstenhirsch/subscriptions",
      "organizations_url": "https://api.github.com/users/thorstenhirsch/orgs",
      "repos_url": "https://api.github.com/users/thorstenhirsch/repos",
      "events_url": "https://api.github.com/users/thorstenhirsch/events{/privacy}",
      "received_events_url": "https://api.github.com/users/thorstenhirsch/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-06-08T17:15:20Z",
    "updated_at": "2021-06-08T17:15:20Z",
    "author_association": "NONE",
    "body": "Hey guys, I'm a colleague of Yannick and I have the same problem. Our environment is a heavily restricted enterprise environment, but the http proxy is nothing special. All tools that use the \"http_proxy\" environment variable work with it, e.g. curl. Other tools that provide proxy settings with an \"http proxy\" option also work with it, e.g. npm.\r\n\r\nWe already know that truffle stopped working when the http client was migrated to axios. And I've found that axios has two modes regarding proxy settings:\r\n\r\n- browser mode (uses browser proxy settings)\r\n- nodejs mode: **requires a proxy object parameter**\r\n\r\nPlease see [this axios issue](https://github.com/axios/axios/issues/2072#issuecomment-609650888) for more information.\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/856947939/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/857758521",
    "html_url": "https://github.com/trufflesuite/truffle/issues/4016#issuecomment-857758521",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/4016",
    "id": 857758521,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg1Nzc1ODUyMQ==",
    "user": {
      "login": "eggplantzzz",
      "id": 14827965,
      "node_id": "MDQ6VXNlcjE0ODI3OTY1",
      "avatar_url": "https://avatars.githubusercontent.com/u/14827965?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eggplantzzz",
      "html_url": "https://github.com/eggplantzzz",
      "followers_url": "https://api.github.com/users/eggplantzzz/followers",
      "following_url": "https://api.github.com/users/eggplantzzz/following{/other_user}",
      "gists_url": "https://api.github.com/users/eggplantzzz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eggplantzzz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eggplantzzz/subscriptions",
      "organizations_url": "https://api.github.com/users/eggplantzzz/orgs",
      "repos_url": "https://api.github.com/users/eggplantzzz/repos",
      "events_url": "https://api.github.com/users/eggplantzzz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eggplantzzz/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-06-09T14:45:54Z",
    "updated_at": "2021-06-09T14:56:23Z",
    "author_association": "CONTRIBUTOR",
    "body": "Hey thanks for the information @thorstenhirsch! I'm going to look into it directly.\r\n\r\nIn this case it looks like the proxy object is used for you to customize where the request will be sent with the idea that it will be handled and sent by whatever is listening there. Does this mean in these cases that the user will be required to enter in their own custom info to use here? This doesn't seem great.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/857758521/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/857792064",
    "html_url": "https://github.com/trufflesuite/truffle/issues/4016#issuecomment-857792064",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/4016",
    "id": 857792064,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg1Nzc5MjA2NA==",
    "user": {
      "login": "thorstenhirsch",
      "id": 619741,
      "node_id": "MDQ6VXNlcjYxOTc0MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/619741?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/thorstenhirsch",
      "html_url": "https://github.com/thorstenhirsch",
      "followers_url": "https://api.github.com/users/thorstenhirsch/followers",
      "following_url": "https://api.github.com/users/thorstenhirsch/following{/other_user}",
      "gists_url": "https://api.github.com/users/thorstenhirsch/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/thorstenhirsch/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/thorstenhirsch/subscriptions",
      "organizations_url": "https://api.github.com/users/thorstenhirsch/orgs",
      "repos_url": "https://api.github.com/users/thorstenhirsch/repos",
      "events_url": "https://api.github.com/users/thorstenhirsch/events{/privacy}",
      "received_events_url": "https://api.github.com/users/thorstenhirsch/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-06-09T15:16:21Z",
    "updated_at": "2021-06-09T15:16:21Z",
    "author_association": "NONE",
    "body": "Maybe we need something like this...\r\n```\r\nif (env['http_proxy']) {\r\n  proxy = build_proxy_object(env['http_proxy']);\r\n} else {\r\n  proxy = {}\r\n}\r\naxios.get(..., proxy);\r\n```\r\nBut first I'd suggest to take a look into the code of the old http client (which was used before the migration to axios), because I think that the old one solved the task perfectly. There might be some quirks related to the http_proxy variable, because there might also be https_proxy. And I don't know which one to prefer, because in our environment there's no difference between them. Others might do.\r\n\r\nIt's a bit unfortunate that axios lacks this feature and we need to implement it ourselves. Maybe axios wasn't supposed to be run in other runtimes than the browser...?",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/857792064/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/857800505",
    "html_url": "https://github.com/trufflesuite/truffle/issues/4016#issuecomment-857800505",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/4016",
    "id": 857800505,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg1NzgwMDUwNQ==",
    "user": {
      "login": "eggplantzzz",
      "id": 14827965,
      "node_id": "MDQ6VXNlcjE0ODI3OTY1",
      "avatar_url": "https://avatars.githubusercontent.com/u/14827965?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eggplantzzz",
      "html_url": "https://github.com/eggplantzzz",
      "followers_url": "https://api.github.com/users/eggplantzzz/followers",
      "following_url": "https://api.github.com/users/eggplantzzz/following{/other_user}",
      "gists_url": "https://api.github.com/users/eggplantzzz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eggplantzzz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eggplantzzz/subscriptions",
      "organizations_url": "https://api.github.com/users/eggplantzzz/orgs",
      "repos_url": "https://api.github.com/users/eggplantzzz/repos",
      "events_url": "https://api.github.com/users/eggplantzzz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eggplantzzz/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-06-09T15:25:49Z",
    "updated_at": "2021-06-09T15:26:12Z",
    "author_association": "CONTRIBUTOR",
    "body": "Yeah this should be something that we can solve. Do you really think it has something to do with setting up the proxy object? The old lib did it by itself without any extra setup and so I would assume it should be something we can set and forget. I'll go back to the old lib and see what it does differently under the hood.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/857800505/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/858104576",
    "html_url": "https://github.com/trufflesuite/truffle/issues/4016#issuecomment-858104576",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/4016",
    "id": 858104576,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg1ODEwNDU3Ng==",
    "user": {
      "login": "eggplantzzz",
      "id": 14827965,
      "node_id": "MDQ6VXNlcjE0ODI3OTY1",
      "avatar_url": "https://avatars.githubusercontent.com/u/14827965?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eggplantzzz",
      "html_url": "https://github.com/eggplantzzz",
      "followers_url": "https://api.github.com/users/eggplantzzz/followers",
      "following_url": "https://api.github.com/users/eggplantzzz/following{/other_user}",
      "gists_url": "https://api.github.com/users/eggplantzzz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eggplantzzz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eggplantzzz/subscriptions",
      "organizations_url": "https://api.github.com/users/eggplantzzz/orgs",
      "repos_url": "https://api.github.com/users/eggplantzzz/repos",
      "events_url": "https://api.github.com/users/eggplantzzz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eggplantzzz/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-06-09T21:11:41Z",
    "updated_at": "2021-06-09T21:11:41Z",
    "author_association": "CONTRIBUTOR",
    "body": "So I did some digging with a colleague and understand a little bit better how axios and request handle some of the proxy details. request seems to have a much more robust handling of the environment variables. It looks like request handles \"http_proxy\" and \"https_proxy\" but it doesn't look for the other variants such as \"HTTPS_PROXY\".\r\n\r\nI am curious to see how your environment is set up. Would you be able to open a terminal and see which ones are populated?\r\n\r\nThat would be something like `env | grep -i \"http\"` on a mac or linux to get all the environment variables that match \"http\". Does that work on a Windows machine? You could also just open node and manually inspect those variables. Let me know which ones have values if you get a chance. That would help in narrowing down the problem and figuring out the solution.\r\n\r\nThe other possibility is that axios won't handle username/password stuff but it doesn't look like request handles that out of the box without some extra information passed to it. Truffle had a bare bones implementation that didn't include passing request any auth info.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/858104576/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/858115610",
    "html_url": "https://github.com/trufflesuite/truffle/issues/4016#issuecomment-858115610",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/4016",
    "id": 858115610,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg1ODExNTYxMA==",
    "user": {
      "login": "thorstenhirsch",
      "id": 619741,
      "node_id": "MDQ6VXNlcjYxOTc0MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/619741?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/thorstenhirsch",
      "html_url": "https://github.com/thorstenhirsch",
      "followers_url": "https://api.github.com/users/thorstenhirsch/followers",
      "following_url": "https://api.github.com/users/thorstenhirsch/following{/other_user}",
      "gists_url": "https://api.github.com/users/thorstenhirsch/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/thorstenhirsch/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/thorstenhirsch/subscriptions",
      "organizations_url": "https://api.github.com/users/thorstenhirsch/orgs",
      "repos_url": "https://api.github.com/users/thorstenhirsch/repos",
      "events_url": "https://api.github.com/users/thorstenhirsch/events{/privacy}",
      "received_events_url": "https://api.github.com/users/thorstenhirsch/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-06-09T21:29:42Z",
    "updated_at": "2021-06-09T21:29:42Z",
    "author_association": "NONE",
    "body": "I'm on Windows (unfortunately) and I've set `http_proxy=http://username:password@proxy.internal.dns:8080`. No uppercase variable and no `https_proxy`.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/858115610/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/858140585",
    "html_url": "https://github.com/trufflesuite/truffle/issues/4016#issuecomment-858140585",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/4016",
    "id": 858140585,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg1ODE0MDU4NQ==",
    "user": {
      "login": "eggplantzzz",
      "id": 14827965,
      "node_id": "MDQ6VXNlcjE0ODI3OTY1",
      "avatar_url": "https://avatars.githubusercontent.com/u/14827965?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eggplantzzz",
      "html_url": "https://github.com/eggplantzzz",
      "followers_url": "https://api.github.com/users/eggplantzzz/followers",
      "following_url": "https://api.github.com/users/eggplantzzz/following{/other_user}",
      "gists_url": "https://api.github.com/users/eggplantzzz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eggplantzzz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eggplantzzz/subscriptions",
      "organizations_url": "https://api.github.com/users/eggplantzzz/orgs",
      "repos_url": "https://api.github.com/users/eggplantzzz/repos",
      "events_url": "https://api.github.com/users/eggplantzzz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eggplantzzz/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-06-09T22:22:33Z",
    "updated_at": "2021-06-09T22:23:02Z",
    "author_association": "CONTRIBUTOR",
    "body": "What happens if you populate the `https_proxy` variable with proxy info? I wonder if axios will pick that up as the target uri specifies https protocol.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/858140585/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/858474224",
    "html_url": "https://github.com/trufflesuite/truffle/issues/4016#issuecomment-858474224",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/4016",
    "id": 858474224,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg1ODQ3NDIyNA==",
    "user": {
      "login": "thorstenhirsch",
      "id": 619741,
      "node_id": "MDQ6VXNlcjYxOTc0MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/619741?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/thorstenhirsch",
      "html_url": "https://github.com/thorstenhirsch",
      "followers_url": "https://api.github.com/users/thorstenhirsch/followers",
      "following_url": "https://api.github.com/users/thorstenhirsch/following{/other_user}",
      "gists_url": "https://api.github.com/users/thorstenhirsch/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/thorstenhirsch/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/thorstenhirsch/subscriptions",
      "organizations_url": "https://api.github.com/users/thorstenhirsch/orgs",
      "repos_url": "https://api.github.com/users/thorstenhirsch/repos",
      "events_url": "https://api.github.com/users/thorstenhirsch/events{/privacy}",
      "received_events_url": "https://api.github.com/users/thorstenhirsch/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-06-10T09:41:17Z",
    "updated_at": "2021-06-10T09:41:17Z",
    "author_association": "NONE",
    "body": "Setting `https_proxy` makes a little difference... now `truffle unbox` fails at once, no waiting, no timeout:\r\n```\r\n>truffle unbox pet-shop\r\n\r\nStarting unbox...\r\n=================\r\n\r\n‚àö Preparing to download box\r\n√ó Downloading\r\nUnbox failed!\r\n√ó Downloading\r\nUnbox failed!\r\nError: Error connecting to github.com. Please check your internet connection and try again.\r\n    at C:\\Program Files\\nodejs\\node_modules\\truffle\\build\\webpack:\\packages\\box\\dist\\lib\\utils\\unbox.js:45:1\r\n    at Generator.throw (<anonymous>)\r\n    at rejected (C:\\Program Files\\nodejs\\node_modules\\truffle\\build\\webpack:\\packages\\box\\dist\\lib\\utils\\unbox.js:6:41)\r\n    at processTicksAndRejections (internal/process/task_queues.js:93:5)\r\nTruffle v5.3.9 (core: 5.3.9)\r\nNode v14.16.1\r\n```\r\nWithout `https_proxy` the command at least is running for a few seconds before it fails (at the first \"Downloading\"). This behavior is reproducible. Unfortunately there's no difference in the output. The error and line numbers in the stack trace are exactly the same.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/858474224/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/858694644",
    "html_url": "https://github.com/trufflesuite/truffle/issues/4016#issuecomment-858694644",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/4016",
    "id": 858694644,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg1ODY5NDY0NA==",
    "user": {
      "login": "eggplantzzz",
      "id": 14827965,
      "node_id": "MDQ6VXNlcjE0ODI3OTY1",
      "avatar_url": "https://avatars.githubusercontent.com/u/14827965?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eggplantzzz",
      "html_url": "https://github.com/eggplantzzz",
      "followers_url": "https://api.github.com/users/eggplantzzz/followers",
      "following_url": "https://api.github.com/users/eggplantzzz/following{/other_user}",
      "gists_url": "https://api.github.com/users/eggplantzzz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eggplantzzz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eggplantzzz/subscriptions",
      "organizations_url": "https://api.github.com/users/eggplantzzz/orgs",
      "repos_url": "https://api.github.com/users/eggplantzzz/repos",
      "events_url": "https://api.github.com/users/eggplantzzz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eggplantzzz/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-06-10T14:56:14Z",
    "updated_at": "2021-06-10T14:56:14Z",
    "author_association": "CONTRIBUTOR",
    "body": "Hmm, ok. How easy is it to setup a proxy situation like you have there? I would love to be able to duplicate a setup like that locally here to test and hopefully solve this issue.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/858694644/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/858762105",
    "html_url": "https://github.com/trufflesuite/truffle/issues/4016#issuecomment-858762105",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/4016",
    "id": 858762105,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg1ODc2MjEwNQ==",
    "user": {
      "login": "thorstenhirsch",
      "id": 619741,
      "node_id": "MDQ6VXNlcjYxOTc0MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/619741?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/thorstenhirsch",
      "html_url": "https://github.com/thorstenhirsch",
      "followers_url": "https://api.github.com/users/thorstenhirsch/followers",
      "following_url": "https://api.github.com/users/thorstenhirsch/following{/other_user}",
      "gists_url": "https://api.github.com/users/thorstenhirsch/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/thorstenhirsch/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/thorstenhirsch/subscriptions",
      "organizations_url": "https://api.github.com/users/thorstenhirsch/orgs",
      "repos_url": "https://api.github.com/users/thorstenhirsch/repos",
      "events_url": "https://api.github.com/users/thorstenhirsch/events{/privacy}",
      "received_events_url": "https://api.github.com/users/thorstenhirsch/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-06-10T16:20:42Z",
    "updated_at": "2021-06-10T16:20:42Z",
    "author_association": "NONE",
    "body": "Unfortunately I don't know what software our http proxy server is using, but since it works with default http proxy settings on the client I guess it's something like squid. I guess you don't even need to enable user authentication to reproduce the problem.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/858762105/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/858830556",
    "html_url": "https://github.com/trufflesuite/truffle/issues/4016#issuecomment-858830556",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/4016",
    "id": 858830556,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg1ODgzMDU1Ng==",
    "user": {
      "login": "eggplantzzz",
      "id": 14827965,
      "node_id": "MDQ6VXNlcjE0ODI3OTY1",
      "avatar_url": "https://avatars.githubusercontent.com/u/14827965?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eggplantzzz",
      "html_url": "https://github.com/eggplantzzz",
      "followers_url": "https://api.github.com/users/eggplantzzz/followers",
      "following_url": "https://api.github.com/users/eggplantzzz/following{/other_user}",
      "gists_url": "https://api.github.com/users/eggplantzzz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eggplantzzz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eggplantzzz/subscriptions",
      "organizations_url": "https://api.github.com/users/eggplantzzz/orgs",
      "repos_url": "https://api.github.com/users/eggplantzzz/repos",
      "events_url": "https://api.github.com/users/eggplantzzz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eggplantzzz/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-06-10T17:42:37Z",
    "updated_at": "2021-06-10T17:42:37Z",
    "author_association": "CONTRIBUTOR",
    "body": "So we were able to cook up a minimal example proof of concept here locally using [http toolkit](https://httptoolkit.tech/). In the environment we needed to populate `http_proxy` and some certificate-related variables, but ultimately we were able to use the proxy to unbox successfully. So there must be something specific about your setup that axios doesn't jive with.\r\n\r\nThere was also no username/password-type auth involved here. The original error by the OP was 400 error which means that there is something bad about the request - this 400 might be coming from the proxy server itself? I'll keep thinking about this problem and see if I can think of any way to proceed on troubleshooting this. Let me know if you have any ideas or can get any more useful information about this issue. Thanks!",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/858830556/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/860881327",
    "html_url": "https://github.com/trufflesuite/truffle/issues/4016#issuecomment-860881327",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/4016",
    "id": 860881327,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg2MDg4MTMyNw==",
    "user": {
      "login": "thorstenhirsch",
      "id": 619741,
      "node_id": "MDQ6VXNlcjYxOTc0MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/619741?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/thorstenhirsch",
      "html_url": "https://github.com/thorstenhirsch",
      "followers_url": "https://api.github.com/users/thorstenhirsch/followers",
      "following_url": "https://api.github.com/users/thorstenhirsch/following{/other_user}",
      "gists_url": "https://api.github.com/users/thorstenhirsch/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/thorstenhirsch/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/thorstenhirsch/subscriptions",
      "organizations_url": "https://api.github.com/users/thorstenhirsch/orgs",
      "repos_url": "https://api.github.com/users/thorstenhirsch/repos",
      "events_url": "https://api.github.com/users/thorstenhirsch/events{/privacy}",
      "received_events_url": "https://api.github.com/users/thorstenhirsch/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-06-14T18:01:14Z",
    "updated_at": "2021-06-14T18:01:14Z",
    "author_association": "NONE",
    "body": "I think [the bug behind this pull request](https://github.com/axios/axios/pull/3159) is causing the 400 error. We've exactly the same setup: our https_proxy is reached via http. So if axios creates an https request it's the wrong protocol for an http listener, thus 400 is expected.\r\n\r\nUnfortunately the PR hasn't been merged into axios, yet.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/860881327/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/860961923",
    "html_url": "https://github.com/trufflesuite/truffle/issues/4016#issuecomment-860961923",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/4016",
    "id": 860961923,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg2MDk2MTkyMw==",
    "user": {
      "login": "thorstenhirsch",
      "id": 619741,
      "node_id": "MDQ6VXNlcjYxOTc0MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/619741?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/thorstenhirsch",
      "html_url": "https://github.com/thorstenhirsch",
      "followers_url": "https://api.github.com/users/thorstenhirsch/followers",
      "following_url": "https://api.github.com/users/thorstenhirsch/following{/other_user}",
      "gists_url": "https://api.github.com/users/thorstenhirsch/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/thorstenhirsch/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/thorstenhirsch/subscriptions",
      "organizations_url": "https://api.github.com/users/thorstenhirsch/orgs",
      "repos_url": "https://api.github.com/users/thorstenhirsch/repos",
      "events_url": "https://api.github.com/users/thorstenhirsch/events{/privacy}",
      "received_events_url": "https://api.github.com/users/thorstenhirsch/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-06-14T20:13:00Z",
    "updated_at": "2021-06-14T20:21:04Z",
    "author_association": "NONE",
    "body": "Alright, I did some further investigation and it seems like it's already fixed in the latest version of axios thanks to [this commit](https://github.com/axios/axios/commit/c7329fefc890050edd51e40e469a154d0117fc55). So we only need to update the dependencies from axios v0.20.0 to v0.21.1.\r\n\r\nedit: I see that packages/*/package.json already depend on axios v0.21.1 (`\"axios\": \"^0.21.1\"`), but `npm i -g truffle` results in an installation with `node_modules/axios` that contains a package.json with v0.20.0.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/860961923/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/861676091",
    "html_url": "https://github.com/trufflesuite/truffle/issues/4016#issuecomment-861676091",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/4016",
    "id": 861676091,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg2MTY3NjA5MQ==",
    "user": {
      "login": "eggplantzzz",
      "id": 14827965,
      "node_id": "MDQ6VXNlcjE0ODI3OTY1",
      "avatar_url": "https://avatars.githubusercontent.com/u/14827965?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eggplantzzz",
      "html_url": "https://github.com/eggplantzzz",
      "followers_url": "https://api.github.com/users/eggplantzzz/followers",
      "following_url": "https://api.github.com/users/eggplantzzz/following{/other_user}",
      "gists_url": "https://api.github.com/users/eggplantzzz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eggplantzzz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eggplantzzz/subscriptions",
      "organizations_url": "https://api.github.com/users/eggplantzzz/orgs",
      "repos_url": "https://api.github.com/users/eggplantzzz/repos",
      "events_url": "https://api.github.com/users/eggplantzzz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eggplantzzz/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-06-15T17:08:27Z",
    "updated_at": "2021-06-15T17:21:48Z",
    "author_association": "CONTRIBUTOR",
    "body": "Oh sweet! That PR should fix this issue you think? Did you ever narrow down exactly what was causing it?\r\n\r\nI'll go ahead and put in a PR to update this. Thanks for helping me troubleshoot this issue @thorstenhirsch!",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/861676091/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/861732804",
    "html_url": "https://github.com/trufflesuite/truffle/issues/4016#issuecomment-861732804",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/4016",
    "id": 861732804,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg2MTczMjgwNA==",
    "user": {
      "login": "eggplantzzz",
      "id": 14827965,
      "node_id": "MDQ6VXNlcjE0ODI3OTY1",
      "avatar_url": "https://avatars.githubusercontent.com/u/14827965?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eggplantzzz",
      "html_url": "https://github.com/eggplantzzz",
      "followers_url": "https://api.github.com/users/eggplantzzz/followers",
      "following_url": "https://api.github.com/users/eggplantzzz/following{/other_user}",
      "gists_url": "https://api.github.com/users/eggplantzzz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eggplantzzz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eggplantzzz/subscriptions",
      "organizations_url": "https://api.github.com/users/eggplantzzz/orgs",
      "repos_url": "https://api.github.com/users/eggplantzzz/repos",
      "events_url": "https://api.github.com/users/eggplantzzz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eggplantzzz/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-06-15T18:23:42Z",
    "updated_at": "2021-06-15T18:23:52Z",
    "author_association": "CONTRIBUTOR",
    "body": "@thorstenhirsch I just checked and Truffle is actually using version `0.21.1` of axios. There is a dependency that uses version `0.20.0` but the unboxing portion of Truffle uses `0.21.1`. I verified this by logging out the `package.json` where it is required in `packages/box`. \r\n\r\nWhat happens is that Truffle gets bundled by webpack and that bundled file ends up getting run when you do `truffle <command>`. I'll have to take a look at the PR you referenced a bit ago to see if that sheds light.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/861732804/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/861795167",
    "html_url": "https://github.com/trufflesuite/truffle/issues/4016#issuecomment-861795167",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/4016",
    "id": 861795167,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg2MTc5NTE2Nw==",
    "user": {
      "login": "eggplantzzz",
      "id": 14827965,
      "node_id": "MDQ6VXNlcjE0ODI3OTY1",
      "avatar_url": "https://avatars.githubusercontent.com/u/14827965?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eggplantzzz",
      "html_url": "https://github.com/eggplantzzz",
      "followers_url": "https://api.github.com/users/eggplantzzz/followers",
      "following_url": "https://api.github.com/users/eggplantzzz/following{/other_user}",
      "gists_url": "https://api.github.com/users/eggplantzzz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eggplantzzz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eggplantzzz/subscriptions",
      "organizations_url": "https://api.github.com/users/eggplantzzz/orgs",
      "repos_url": "https://api.github.com/users/eggplantzzz/repos",
      "events_url": "https://api.github.com/users/eggplantzzz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eggplantzzz/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-06-15T20:04:47Z",
    "updated_at": "2021-06-15T20:04:47Z",
    "author_association": "CONTRIBUTOR",
    "body": "I'm still doing some research on this. I wonder if it has something to do with the fact that the target specifies `https` protocol and your proxy uses `http`. Hmmm...",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/861795167/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/872120800",
    "html_url": "https://github.com/trufflesuite/truffle/issues/4016#issuecomment-872120800",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/4016",
    "id": 872120800,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg3MjEyMDgwMA==",
    "user": {
      "login": "Jason5Lee",
      "id": 25118271,
      "node_id": "MDQ6VXNlcjI1MTE4Mjcx",
      "avatar_url": "https://avatars.githubusercontent.com/u/25118271?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Jason5Lee",
      "html_url": "https://github.com/Jason5Lee",
      "followers_url": "https://api.github.com/users/Jason5Lee/followers",
      "following_url": "https://api.github.com/users/Jason5Lee/following{/other_user}",
      "gists_url": "https://api.github.com/users/Jason5Lee/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Jason5Lee/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Jason5Lee/subscriptions",
      "organizations_url": "https://api.github.com/users/Jason5Lee/orgs",
      "repos_url": "https://api.github.com/users/Jason5Lee/repos",
      "events_url": "https://api.github.com/users/Jason5Lee/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Jason5Lee/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-01T10:26:33Z",
    "updated_at": "2021-07-01T10:26:33Z",
    "author_association": "NONE",
    "body": "Having this issue in 5.3.12",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/872120800/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/896081750",
    "html_url": "https://github.com/trufflesuite/truffle/issues/4016#issuecomment-896081750",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/4016",
    "id": 896081750,
    "node_id": "IC_kwDOAkfq-c41aR9W",
    "user": {
      "login": "tonguyengit",
      "id": 33964756,
      "node_id": "MDQ6VXNlcjMzOTY0NzU2",
      "avatar_url": "https://avatars.githubusercontent.com/u/33964756?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tonguyengit",
      "html_url": "https://github.com/tonguyengit",
      "followers_url": "https://api.github.com/users/tonguyengit/followers",
      "following_url": "https://api.github.com/users/tonguyengit/following{/other_user}",
      "gists_url": "https://api.github.com/users/tonguyengit/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tonguyengit/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tonguyengit/subscriptions",
      "organizations_url": "https://api.github.com/users/tonguyengit/orgs",
      "repos_url": "https://api.github.com/users/tonguyengit/repos",
      "events_url": "https://api.github.com/users/tonguyengit/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tonguyengit/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-08-10T14:32:57Z",
    "updated_at": "2021-08-10T14:32:57Z",
    "author_association": "NONE",
    "body": "It is still a problem in Truffle v5.4.5",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/896081750/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/925042214",
    "html_url": "https://github.com/trufflesuite/truffle/issues/4016#issuecomment-925042214",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/4016",
    "id": 925042214,
    "node_id": "IC_kwDOAkfq-c43IwYm",
    "user": {
      "login": "meremST",
      "id": 48981596,
      "node_id": "MDQ6VXNlcjQ4OTgxNTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/48981596?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/meremST",
      "html_url": "https://github.com/meremST",
      "followers_url": "https://api.github.com/users/meremST/followers",
      "following_url": "https://api.github.com/users/meremST/following{/other_user}",
      "gists_url": "https://api.github.com/users/meremST/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/meremST/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/meremST/subscriptions",
      "organizations_url": "https://api.github.com/users/meremST/orgs",
      "repos_url": "https://api.github.com/users/meremST/repos",
      "events_url": "https://api.github.com/users/meremST/events{/privacy}",
      "received_events_url": "https://api.github.com/users/meremST/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-09-22T15:31:51Z",
    "updated_at": "2021-09-22T15:31:51Z",
    "author_association": "NONE",
    "body": "Hello, I still have this issue with linux in Truffle v5.4.11",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/925042214/reactions",
      "total_count": 3,
      "+1": 3,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/927546545",
    "html_url": "https://github.com/trufflesuite/truffle/issues/4016#issuecomment-927546545",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/4016",
    "id": 927546545,
    "node_id": "IC_kwDOAkfq-c43STyx",
    "user": {
      "login": "UISebastian",
      "id": 89785839,
      "node_id": "MDQ6VXNlcjg5Nzg1ODM5",
      "avatar_url": "https://avatars.githubusercontent.com/u/89785839?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/UISebastian",
      "html_url": "https://github.com/UISebastian",
      "followers_url": "https://api.github.com/users/UISebastian/followers",
      "following_url": "https://api.github.com/users/UISebastian/following{/other_user}",
      "gists_url": "https://api.github.com/users/UISebastian/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/UISebastian/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/UISebastian/subscriptions",
      "organizations_url": "https://api.github.com/users/UISebastian/orgs",
      "repos_url": "https://api.github.com/users/UISebastian/repos",
      "events_url": "https://api.github.com/users/UISebastian/events{/privacy}",
      "received_events_url": "https://api.github.com/users/UISebastian/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-09-27T05:36:37Z",
    "updated_at": "2021-09-27T05:36:37Z",
    "author_association": "NONE",
    "body": "Hello, i am also running into this problem on Windows with Truffle v5.4.11",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/927546545/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/962428907",
    "html_url": "https://github.com/trufflesuite/truffle/issues/4016#issuecomment-962428907",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/4016",
    "id": 962428907,
    "node_id": "IC_kwDOAkfq-c45XX_r",
    "user": {
      "login": "nyg",
      "id": 784863,
      "node_id": "MDQ6VXNlcjc4NDg2Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/784863?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nyg",
      "html_url": "https://github.com/nyg",
      "followers_url": "https://api.github.com/users/nyg/followers",
      "following_url": "https://api.github.com/users/nyg/following{/other_user}",
      "gists_url": "https://api.github.com/users/nyg/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nyg/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nyg/subscriptions",
      "organizations_url": "https://api.github.com/users/nyg/orgs",
      "repos_url": "https://api.github.com/users/nyg/repos",
      "events_url": "https://api.github.com/users/nyg/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nyg/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-11-06T10:11:00Z",
    "updated_at": "2021-11-06T10:11:00Z",
    "author_association": "NONE",
    "body": "Same issue for me with the latest version. I use the `docker` option to bypass this problem:\r\n\r\n```\r\ncompilers: {\r\n  solc: {\r\n    version: \"0.8.9\",\r\n    docker: true,  \r\n  }\r\n}\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/962428907/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/962459903",
    "html_url": "https://github.com/trufflesuite/truffle/issues/4016#issuecomment-962459903",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/4016",
    "id": 962459903,
    "node_id": "IC_kwDOAkfq-c45Xfj_",
    "user": {
      "login": "cds-amal",
      "id": 2529600,
      "node_id": "MDQ6VXNlcjI1Mjk2MDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2529600?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cds-amal",
      "html_url": "https://github.com/cds-amal",
      "followers_url": "https://api.github.com/users/cds-amal/followers",
      "following_url": "https://api.github.com/users/cds-amal/following{/other_user}",
      "gists_url": "https://api.github.com/users/cds-amal/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cds-amal/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cds-amal/subscriptions",
      "organizations_url": "https://api.github.com/users/cds-amal/orgs",
      "repos_url": "https://api.github.com/users/cds-amal/repos",
      "events_url": "https://api.github.com/users/cds-amal/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cds-amal/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-11-06T14:29:36Z",
    "updated_at": "2021-11-06T14:29:36Z",
    "author_association": "MEMBER",
    "body": "@nyg, @UISebastian can you run the unbox command with DEBUG enabled and share the output? `DEBUG=* truffle unbox <the box you want>`",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/962459903/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/963900449",
    "html_url": "https://github.com/trufflesuite/truffle/issues/4016#issuecomment-963900449",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/4016",
    "id": 963900449,
    "node_id": "IC_kwDOAkfq-c45c_Qh",
    "user": {
      "login": "nyg",
      "id": 784863,
      "node_id": "MDQ6VXNlcjc4NDg2Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/784863?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nyg",
      "html_url": "https://github.com/nyg",
      "followers_url": "https://api.github.com/users/nyg/followers",
      "following_url": "https://api.github.com/users/nyg/following{/other_user}",
      "gists_url": "https://api.github.com/users/nyg/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nyg/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nyg/subscriptions",
      "organizations_url": "https://api.github.com/users/nyg/orgs",
      "repos_url": "https://api.github.com/users/nyg/repos",
      "events_url": "https://api.github.com/users/nyg/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nyg/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-11-09T08:00:55Z",
    "updated_at": "2021-11-09T08:00:55Z",
    "author_association": "NONE",
    "body": "@cds-amal Thanks for looking into it! :) Here you go:\r\n\r\n```\r\n$ mkdir test && cd test\r\n$ npm init -y && npm i truffle\r\n$ DEBUG=* npx truffle unbox metacoin metacoin\r\n2021-11-09T07:49:41.275Z core:config-migration Truffle files need to be migrated\r\n2021-11-09T07:49:41.296Z core:command:run Truffle data migration failed: Error: Cannot find module '/home/xyz/.config/truffle/config.json' at webpackEmptyContext (/home/xyz/Documents/x/test/node_modules/truffle/build/webpack:/packages/core/lib|sync:2:1) at Object.migrateGlobalConfig (/home/xyz/Documents/x/test/node_modules/truffle/build/webpack:/packages/core/lib/config-migration.js:47:25) at Object.migrateTruffleDataIfNecessary (/home/xyz/Documents/x/test/node_modules/truffle/build/webpack:/packages/core/lib/config-migration.js:34:1) at Command.run (/home/xyz/Documents/x/test/node_modules/truffle/build/webpack:/packages/core/lib/command.js:85:1) at Object.586806 (/home/xyz/Documents/x/test/node_modules/truffle/build/webpack:/packages/core/cli.js:57:1) at __webpack_require__ (/home/xyz/Documents/x/test/node_modules/truffle/build/webpack:/webpack/bootstrap:18:1) at __webpack_require__.x (/home/xyz/Documents/x/test/node_modules/truffle/build/webpack:/webpack/bootstrap:36:1) at Function.__webpack_require__.x (/home/xyz/Documents/x/test/node_modules/truffle/build/webpack:/webpack/runtime/startup chunk dependencies:37:1) at /home/xyz/Documents/x/test/node_modules/truffle/build/webpack:/webpack/startup:3:1 at Object.<anonymous> (/home/xyz/Documents/x/test/node_modules/truffle/build/cli.bundled.js:633:12) at Module._compile (node:internal/modules/cjs/loader:1095:14) at Object.Module._extensions..js (node:internal/modules/cjs/loader:1147:10) at Module.load (node:internal/modules/cjs/loader:975:32) at Function.Module._load (node:internal/modules/cjs/loader:822:12) at Function.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:81:12) at node:internal/main/run_main_module:17:47 { code: 'MODULE_NOT_FOUND' }\r\n2021-11-09T07:49:41.341Z unbox { in: 'metacoin', out: 'https://github.com:truffle-box/metacoin-box' }\r\n\r\nStarting unbox...\r\n=================\r\n\r\n- Preparing to download box\r\n‚úî Preparing to download box\r\n- Downloading\r\n2021-11-09T07:49:41.347Z follow-redirects options {\r\n  maxRedirects: 50,\r\n  maxBodyLength: 10485760,\r\n  protocol: 'http:',\r\n  path: 'https://raw.githubusercontent.com/truffle-box/metacoin-box/master/truffle-box.json',\r\n  method: 'HEAD',\r\n  headers: {\r\n    Accept: 'application/json, text/plain, */*',\r\n    'User-Agent': 'axios/0.21.1',\r\n    host: 'raw.githubusercontent.com'\r\n  },\r\n  agent: undefined,\r\n  agents: { http: undefined, https: undefined },\r\n  auth: undefined,\r\n  hostname: '<ip of proxy>',\r\n  port: '<port of proxy>',\r\n  host: '<ip of proxy>',\r\n  beforeRedirect: [Function: beforeRedirect],\r\n  nativeProtocols: {\r\n    'http:': {\r\n      _connectionListener: [Function: connectionListener],\r\n      METHODS: [Array],\r\n      STATUS_CODES: [Object],\r\n      Agent: [Function],\r\n      ClientRequest: [Function: ClientRequest],\r\n      IncomingMessage: [Function: IncomingMessage],\r\n      OutgoingMessage: [Function: OutgoingMessage],\r\n      Server: [Function: Server],\r\n      ServerResponse: [Function: ServerResponse],\r\n      createServer: [Function: createServer],\r\n      validateHeaderName: [Function: __node_internal_],\r\n      validateHeaderValue: [Function: __node_internal_],\r\n      get: [Function: get],\r\n      request: [Function: request],\r\n      maxHeaderSize: [Getter],\r\n      globalAgent: [Getter/Setter]\r\n    },\r\n    'https:': {\r\n      Agent: [Function: Agent],\r\n      globalAgent: [Agent],\r\n      Server: [Function: Server],\r\n      createServer: [Function: createServer],\r\n      get: [Function: get],\r\n      request: [Function: request]\r\n    }\r\n  }\r\n}\r\n‚úñ Downloading\r\nUnbox failed!\r\n‚úñ Downloading\r\nUnbox failed!\r\nError: Error connecting to https://raw.githubusercontent.com/truffle-box/metacoin-box/master/truffle-box.json. Please check your internet connection and try again.\r\n\r\nsocket hang up\r\n    at connResetException (node:internal/errors:691:14)\r\n    at Socket.socketOnEnd (node:_http_client:471:23)\r\n    at Socket.emit (node:events:402:35)\r\n    at endReadableNT (node:internal/streams/readable:1340:12)\r\n    at processTicksAndRejections (node:internal/process/task_queues:83:21)\r\nTruffle v5.4.18 (core: 5.4.18)\r\nNode v17.0.1\r\n```\r\n\r\nI see that the Axios version is still 0.21.1. Looking at the previous comments, the issue may have been fixed in more recent versions (it might just be a question of updating the dependency).",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/963900449/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/977296008",
    "html_url": "https://github.com/trufflesuite/truffle/issues/4016#issuecomment-977296008",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/4016",
    "id": 977296008,
    "node_id": "IC_kwDOAkfq-c46QFqI",
    "user": {
      "login": "JiechengZhao",
      "id": 3647317,
      "node_id": "MDQ6VXNlcjM2NDczMTc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3647317?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/JiechengZhao",
      "html_url": "https://github.com/JiechengZhao",
      "followers_url": "https://api.github.com/users/JiechengZhao/followers",
      "following_url": "https://api.github.com/users/JiechengZhao/following{/other_user}",
      "gists_url": "https://api.github.com/users/JiechengZhao/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/JiechengZhao/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/JiechengZhao/subscriptions",
      "organizations_url": "https://api.github.com/users/JiechengZhao/orgs",
      "repos_url": "https://api.github.com/users/JiechengZhao/repos",
      "events_url": "https://api.github.com/users/JiechengZhao/events{/privacy}",
      "received_events_url": "https://api.github.com/users/JiechengZhao/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-11-23T23:55:08Z",
    "updated_at": "2021-11-23T23:57:42Z",
    "author_association": "CONTRIBUTOR",
    "body": "the same:\r\n```\r\njiecheng@Jiecheng-Linux-CUDA:~/workspace/learn/MetaCoin$ DEBUG=* truffle unbox metacoin\r\n  unbox { in: 'metacoin', out: 'https://github.com:truffle-box/metacoin-box' } +0ms\r\n\r\nStarting unbox...\r\n=================\r\n\r\n‚úî Preparing to download box\r\n‚†ã Downloading  follow-redirects options {\r\n  maxRedirects: 50,\r\n  maxBodyLength: 10485760,\r\n  protocol: 'http:',\r\n  path: 'https://raw.githubusercontent.com/truffle-box/metacoin-box/master/truffle-box.json',\r\n  method: 'HEAD',\r\n  headers: {\r\n    Accept: 'application/json, text/plain, */*',\r\n    'User-Agent': 'axios/0.21.1',\r\n    host: 'raw.githubusercontent.com'\r\n  },\r\n  agent: undefined,\r\n  agents: { http: undefined, https: undefined },\r\n  auth: undefined,\r\n  hostname: '127.0.0.1',\r\n  port: '12333',\r\n  host: '127.0.0.1',\r\n  beforeRedirect: [Function: beforeRedirect],\r\n  nativeProtocols: {\r\n    'http:': {\r\n      _connectionListener: [Function: connectionListener],\r\n      METHODS: [Array],\r\n      STATUS_CODES: [Object],\r\n      Agent: [Function],\r\n      ClientRequest: [Function: ClientRequest],\r\n      IncomingMessage: [Function: IncomingMessage],\r\n      OutgoingMessage: [Function: OutgoingMessage],\r\n      Server: [Function: Server],\r\n      ServerResponse: [Function: ServerResponse],\r\n      createServer: [Function: createServer],\r\n      validateHeaderName: [Function: __node_internal_],\r\n      validateHeaderValue: [Function: __node_internal_],\r\n      get: [Function: get],\r\n      request: [Function: request],\r\n      maxHeaderSize: [Getter],\r\n      globalAgent: [Getter/Setter]\r\n    },\r\n    'https:': {\r\n      Agent: [Function: Agent],\r\n      globalAgent: [Agent],\r\n      Server: [Function: Server],\r\n      createServer: [Function: createServer],\r\n      get: [Function: get],\r\n      request: [Function: request]\r\n    }\r\n  }\r\n} +0ms\r\n‚úñ Downloading\r\nUnbox failed!\r\n‚úñ Downloading\r\nUnbox failed!\r\nError: Error connecting to https://raw.githubusercontent.com/truffle-box/metacoin-box/master/truffle-box.json. Please check your internet connection and try again.\r\n\r\nRequest failed with status code 500\r\n    at createError (/home/jiecheng/.nvm/versions/node/v16.11.1/lib/node_modules/truffle/build/webpack:/node_modules/axios/lib/core/createError.js:16:1)\r\n    at settle (/home/jiecheng/.nvm/versions/node/v16.11.1/lib/node_modules/truffle/build/webpack:/node_modules/axios/lib/core/settle.js:17:1)\r\n    at IncomingMessage.handleStreamEnd (/home/jiecheng/.nvm/versions/node/v16.11.1/lib/node_modules/truffle/build/webpack:/node_modules/axios/lib/adapters/http.js:260:1)\r\n    at IncomingMessage.emit (node:events:402:35)\r\n    at endReadableNT (node:internal/streams/readable:1343:12)\r\n    at processTicksAndRejections (node:internal/process/task_queues:83:21)\r\nTruffle v5.4.21 (core: 5.4.21)\r\nNode v16.11.1\r\njiecheng@Jiecheng-Linux-CUDA:~/workspace/learn/MetaCoin$ \r\n\r\n\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/977296008/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
