{
  "url": "https://api.github.com/repos/trufflesuite/truffle/issues/2802",
  "repository_url": "https://api.github.com/repos/trufflesuite/truffle",
  "labels_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2802/labels{/name}",
  "comments_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2802/comments",
  "events_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2802/events",
  "html_url": "https://github.com/trufflesuite/truffle/issues/2802",
  "id": 556984342,
  "node_id": "MDU6SXNzdWU1NTY5ODQzNDI=",
  "number": 2802,
  "title": "Tezos truffle-contract returns BigNumber instead of BN",
  "user": {
    "login": "tcoulter",
    "id": 92629,
    "node_id": "MDQ6VXNlcjkyNjI5",
    "avatar_url": "https://avatars.githubusercontent.com/u/92629?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/tcoulter",
    "html_url": "https://github.com/tcoulter",
    "followers_url": "https://api.github.com/users/tcoulter/followers",
    "following_url": "https://api.github.com/users/tcoulter/following{/other_user}",
    "gists_url": "https://api.github.com/users/tcoulter/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/tcoulter/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/tcoulter/subscriptions",
    "organizations_url": "https://api.github.com/users/tcoulter/orgs",
    "repos_url": "https://api.github.com/users/tcoulter/repos",
    "events_url": "https://api.github.com/users/tcoulter/events{/privacy}",
    "received_events_url": "https://api.github.com/users/tcoulter/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 1086852667,
      "node_id": "MDU6TGFiZWwxMDg2ODUyNjY3",
      "url": "https://api.github.com/repos/trufflesuite/truffle/labels/needs%20requirements",
      "name": "needs requirements",
      "color": "d4c5f9",
      "default": false,
      "description": "feature request is unclear"
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 6,
  "created_at": "2020-01-29T16:43:59Z",
  "updated_at": "2022-12-07T18:34:03Z",
  "closed_at": null,
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "In the `alphaTez` branch, I noticed today that the Tezos version of `truffle-contract` returns BigNumber objects instead of BN. As a matter of standardizing our output, we should move to BN. \r\n\r\nSteps to reproduce:\r\n\r\n1. Get the `alphaTez` branch and `yarn`, `yarn bootstrap`, etc. (referred to as `truffle` below)\r\n2. Create a new project using the `truffle unbox tezos-example` box. Make sure you have all the Tezos requirements (e.g., Docker) installed before continuing. \r\n3. In the project, fire up `truffle console`, then run `deploy`. After that, follow the commands below. You'll see that when reading data from `.storage()`, we get BigNumber output for integers.\r\n\r\n```\r\ntruffle(development)> let instance = await SimpleStorage.deployed()\r\ntruffle(development)> await instance.storage()\r\nBigNumber { s: 1, e: 0, c: [ 2 ] }\r\n```",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/2802/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2802/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/579907657",
    "html_url": "https://github.com/trufflesuite/truffle/issues/2802#issuecomment-579907657",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2802",
    "id": 579907657,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU3OTkwNzY1Nw==",
    "user": {
      "login": "gnidan",
      "id": 151065,
      "node_id": "MDQ6VXNlcjE1MTA2NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/151065?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gnidan",
      "html_url": "https://github.com/gnidan",
      "followers_url": "https://api.github.com/users/gnidan/followers",
      "following_url": "https://api.github.com/users/gnidan/following{/other_user}",
      "gists_url": "https://api.github.com/users/gnidan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gnidan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gnidan/subscriptions",
      "organizations_url": "https://api.github.com/users/gnidan/orgs",
      "repos_url": "https://api.github.com/users/gnidan/repos",
      "events_url": "https://api.github.com/users/gnidan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gnidan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-01-29T18:59:36Z",
    "updated_at": "2020-01-29T18:59:36Z",
    "author_association": "MEMBER",
    "body": "@haltman-at asks: do we even use the `numberFormat` mechanism for Tezos right now?",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/579907657/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/579908892",
    "html_url": "https://github.com/trufflesuite/truffle/issues/2802#issuecomment-579908892",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2802",
    "id": 579908892,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU3OTkwODg5Mg==",
    "user": {
      "login": "gnidan",
      "id": 151065,
      "node_id": "MDQ6VXNlcjE1MTA2NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/151065?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gnidan",
      "html_url": "https://github.com/gnidan",
      "followers_url": "https://api.github.com/users/gnidan/followers",
      "following_url": "https://api.github.com/users/gnidan/following{/other_user}",
      "gists_url": "https://api.github.com/users/gnidan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gnidan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gnidan/subscriptions",
      "organizations_url": "https://api.github.com/users/gnidan/orgs",
      "repos_url": "https://api.github.com/users/gnidan/repos",
      "events_url": "https://api.github.com/users/gnidan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gnidan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-01-29T19:02:35Z",
    "updated_at": "2020-01-29T19:02:35Z",
    "author_association": "MEMBER",
    "body": "These are my take on requirements:\r\n\r\n- Truffle **must** respect the number reformat mechanism\r\n- Truffle **should** use the same default, no matter what chain",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/579908892/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/580007265",
    "html_url": "https://github.com/trufflesuite/truffle/issues/2802#issuecomment-580007265",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2802",
    "id": 580007265,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU4MDAwNzI2NQ==",
    "user": {
      "login": "CruzMolina",
      "id": 7537712,
      "node_id": "MDQ6VXNlcjc1Mzc3MTI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7537712?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/CruzMolina",
      "html_url": "https://github.com/CruzMolina",
      "followers_url": "https://api.github.com/users/CruzMolina/followers",
      "following_url": "https://api.github.com/users/CruzMolina/following{/other_user}",
      "gists_url": "https://api.github.com/users/CruzMolina/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/CruzMolina/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/CruzMolina/subscriptions",
      "organizations_url": "https://api.github.com/users/CruzMolina/orgs",
      "repos_url": "https://api.github.com/users/CruzMolina/repos",
      "events_url": "https://api.github.com/users/CruzMolina/events{/privacy}",
      "received_events_url": "https://api.github.com/users/CruzMolina/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-01-29T23:14:27Z",
    "updated_at": "2020-01-29T23:14:27Z",
    "author_association": "CONTRIBUTOR",
    "body": "Since Tezos does not currently support views, Tezos contract instances are not hooked up to appropriately utilize the `numberFormat` mechanism.\r\n\r\nFurthermore, the current formatter expects an ABI (`methodABI.outputs`) and LIGO does not currently provide a ready-made ABI for contracts.\r\n\r\nThe good(?) news is that because the only \"view\" we need to handle currently is a `storage` call, it might not be too difficult to write a michelson json storage number formatter to specifically handle this.\r\n\r\nThere may be another alternative down the road where Taquito eventually allows us to set their encoder to format numbers as `BN`s.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/580007265/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/580017544",
    "html_url": "https://github.com/trufflesuite/truffle/issues/2802#issuecomment-580017544",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2802",
    "id": 580017544,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU4MDAxNzU0NA==",
    "user": {
      "login": "haltman-at",
      "id": 35589221,
      "node_id": "MDQ6VXNlcjM1NTg5MjIx",
      "avatar_url": "https://avatars.githubusercontent.com/u/35589221?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/haltman-at",
      "html_url": "https://github.com/haltman-at",
      "followers_url": "https://api.github.com/users/haltman-at/followers",
      "following_url": "https://api.github.com/users/haltman-at/following{/other_user}",
      "gists_url": "https://api.github.com/users/haltman-at/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/haltman-at/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/haltman-at/subscriptions",
      "organizations_url": "https://api.github.com/users/haltman-at/orgs",
      "repos_url": "https://api.github.com/users/haltman-at/repos",
      "events_url": "https://api.github.com/users/haltman-at/events{/privacy}",
      "received_events_url": "https://api.github.com/users/haltman-at/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-01-29T23:48:45Z",
    "updated_at": "2020-01-29T23:48:45Z",
    "author_association": "CONTRIBUTOR",
    "body": "Ugh, the current formatter expects an ABI?  Ugh, I hadn't realized... what a mess.  With any luck I'll redo all this before too long, but who knows how long that'll take...\r\n\r\nOne thing worth noting, we currently support three values for `numberFormat`: `BN`, `BigNumber`, and `string`.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/580017544/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/1094359970",
    "html_url": "https://github.com/trufflesuite/truffle/issues/2802#issuecomment-1094359970",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2802",
    "id": 1094359970,
    "node_id": "IC_kwDOAkfq-c5BOpui",
    "user": {
      "login": "dvkam",
      "id": 82422481,
      "node_id": "MDQ6VXNlcjgyNDIyNDgx",
      "avatar_url": "https://avatars.githubusercontent.com/u/82422481?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dvkam",
      "html_url": "https://github.com/dvkam",
      "followers_url": "https://api.github.com/users/dvkam/followers",
      "following_url": "https://api.github.com/users/dvkam/following{/other_user}",
      "gists_url": "https://api.github.com/users/dvkam/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dvkam/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dvkam/subscriptions",
      "organizations_url": "https://api.github.com/users/dvkam/orgs",
      "repos_url": "https://api.github.com/users/dvkam/repos",
      "events_url": "https://api.github.com/users/dvkam/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dvkam/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-04-10T20:09:09Z",
    "updated_at": "2022-04-10T20:09:09Z",
    "author_association": "NONE",
    "body": "Also here, Tezos does support views now.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/1094359970/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/1341404967",
    "html_url": "https://github.com/trufflesuite/truffle/issues/2802#issuecomment-1341404967",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2802",
    "id": 1341404967,
    "node_id": "IC_kwDOAkfq-c5P9Dcn",
    "user": {
      "login": "BearCooder",
      "id": 104575503,
      "node_id": "U_kgDOBjuyDw",
      "avatar_url": "https://avatars.githubusercontent.com/u/104575503?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/BearCooder",
      "html_url": "https://github.com/BearCooder",
      "followers_url": "https://api.github.com/users/BearCooder/followers",
      "following_url": "https://api.github.com/users/BearCooder/following{/other_user}",
      "gists_url": "https://api.github.com/users/BearCooder/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/BearCooder/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/BearCooder/subscriptions",
      "organizations_url": "https://api.github.com/users/BearCooder/orgs",
      "repos_url": "https://api.github.com/users/BearCooder/repos",
      "events_url": "https://api.github.com/users/BearCooder/events{/privacy}",
      "received_events_url": "https://api.github.com/users/BearCooder/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-12-07T18:34:03Z",
    "updated_at": "2022-12-07T18:34:03Z",
    "author_association": "NONE",
    "body": "Hello @haltman-at & @fainashalts can you please make a statement as to why Tezos support is not a priority anymore? To be honest it leaves a bad taste after the big announcement od Tezos support in Truffle ([Twitter](https://twitter.com/trufflesuite/status/1250486441341304835) and [Blogpost](https://trufflesuite.com/blog/branching-out-announcing-tezos-support-in-truffle/)) over two years ago. The funny thing is the support didnt last long, less than a year later Truffle started to ghost all issues and update requests on github or stated to do it later.. why the sudden change back then?\r\n\r\nAt least make either make it official and announce that you are not supporting Tezos anymore or at least update Tezos Truffle to current protocol standard. I dont know maybe its a failure on the communication side, maybe Truffle @tcoulter and Tezos Foundation @drchrispinnock need to talk but the current state is unfortunate.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/1341404967/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
