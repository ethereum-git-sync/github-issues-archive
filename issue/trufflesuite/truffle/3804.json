{
  "url": "https://api.github.com/repos/trufflesuite/truffle/issues/3804",
  "repository_url": "https://api.github.com/repos/trufflesuite/truffle",
  "labels_url": "https://api.github.com/repos/trufflesuite/truffle/issues/3804/labels{/name}",
  "comments_url": "https://api.github.com/repos/trufflesuite/truffle/issues/3804/comments",
  "events_url": "https://api.github.com/repos/trufflesuite/truffle/issues/3804/events",
  "html_url": "https://github.com/trufflesuite/truffle/issues/3804",
  "id": 810633877,
  "node_id": "MDU6SXNzdWU4MTA2MzM4Nzc=",
  "number": 3804,
  "title": "Compile Error on apple M1 ",
  "user": {
    "login": "UnsignedInt8",
    "id": 15274326,
    "node_id": "MDQ6VXNlcjE1Mjc0MzI2",
    "avatar_url": "https://avatars.githubusercontent.com/u/15274326?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/UnsignedInt8",
    "html_url": "https://github.com/UnsignedInt8",
    "followers_url": "https://api.github.com/users/UnsignedInt8/followers",
    "following_url": "https://api.github.com/users/UnsignedInt8/following{/other_user}",
    "gists_url": "https://api.github.com/users/UnsignedInt8/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/UnsignedInt8/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/UnsignedInt8/subscriptions",
    "organizations_url": "https://api.github.com/users/UnsignedInt8/orgs",
    "repos_url": "https://api.github.com/users/UnsignedInt8/repos",
    "events_url": "https://api.github.com/users/UnsignedInt8/events{/privacy}",
    "received_events_url": "https://api.github.com/users/UnsignedInt8/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 644098328,
      "node_id": "MDU6TGFiZWw2NDQwOTgzMjg=",
      "url": "https://api.github.com/repos/trufflesuite/truffle/labels/needs%20reproduced",
      "name": "needs reproduced",
      "color": "fbca04",
      "default": false,
      "description": null
    },
    {
      "id": 1403343142,
      "node_id": "MDU6TGFiZWwxNDAzMzQzMTQy",
      "url": "https://api.github.com/repos/trufflesuite/truffle/labels/needs%20investigated",
      "name": "needs investigated",
      "color": "b7410e",
      "default": false,
      "description": ""
    },
    {
      "id": 3372778465,
      "node_id": "MDU6TGFiZWwzMzcyNzc4NDY1",
      "url": "https://api.github.com/repos/trufflesuite/truffle/labels/M1",
      "name": "M1",
      "color": "3D0264",
      "default": false,
      "description": "Issues related to M1 Macbooks"
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 8,
  "created_at": "2021-02-18T00:11:03Z",
  "updated_at": "2022-04-21T18:24:45Z",
  "closed_at": "2022-04-21T18:24:44Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "- [ ] I've asked for help in the [Truffle Gitter](http://gitter.im/Consensys/truffle) before filing this issue.\r\n\r\n---------------------------\r\n\r\n## Issue\r\n\r\nFatal error when compiling contracts on M1 MacBook \r\n\r\n## Steps to Reproduce\r\n\r\n```\r\n> truffle compile\r\n```\r\n\r\n## Expected Behavior\r\n\r\nCompile contracts without errors\r\n\r\n## Actual Results\r\n\r\n```\r\n\r\n✗ truffle compile\r\n\r\nCompiling your contracts...\r\n===========================\r\n\r\n\r\n#\r\n# Fatal error in , line 0\r\n# Check failed: allocator->SetPermissions(reinterpret_cast<void*>(region.begin()), region.size(), PageAllocator::kNoAccess).\r\n#\r\n#\r\n#\r\n#FailureMessage Object: 0x16f385648\r\n 1: 0x100b69044 node::NodePlatform::GetStackTracePrinter()::$_3::__invoke() [/opt/homebrew/bin/node]\r\n 2: 0x1014f0fdc V8_Fatal(char const*, ...) [/opt/homebrew/bin/node]\r\n 3: 0x1010da3b8 v8::internal::wasm::WasmCodeAllocator::GetNumCodeSpaces() const [/opt/homebrew/bin/node]\r\n 4: 0x1010da258 v8::internal::wasm::WasmCodeAllocator::FreeCode(v8::internal::Vector<v8::internal::wasm::WasmCode* const>) [/opt/homebrew/bin/node]\r\n 5: 0x1010dd0a8 v8::internal::wasm::NativeModule::FreeCode(v8::internal::Vector<v8::internal::wasm::WasmCode* const>) [/opt/homebrew/bin/node]\r\n 6: 0x1010eac2c v8::internal::wasm::WasmEngine::FreeDeadCodeLocked(std::__1::unordered_map<v8::internal::wasm::NativeModule*, std::__1::vector<v8::internal::wasm::WasmCode*, std::__1::allocator<v8::internal::wasm::WasmCode*> >, std::__1::hash<v8::internal::wasm::NativeModule*>, std::__1::equal_to<v8::internal::wasm::NativeModule*>, std::__1::allocator<std::__1::pair<v8::internal::wasm::NativeModule* const, std::__1::vector<v8::internal::wasm::WasmCode*, std::__1::allocator<v8::internal::wasm::WasmCode*> > > > > const&) [/opt/homebrew/bin/node]\r\n 7: 0x1010e8c4c v8::internal::wasm::WasmEngine::PotentiallyFinishCurrentGC() [/opt/homebrew/bin/node]\r\n 8: 0x1010e9e88 v8::internal::wasm::WasmEngine::ReportLiveCodeForGC(v8::internal::Isolate*, v8::internal::Vector<v8::internal::wasm::WasmCode*>) [/opt/homebrew/bin/node]\r\n 9: 0x1010ea178 v8::internal::wasm::WasmEngine::ReportLiveCodeFromStackForGC(v8::internal::Isolate*) [/opt/homebrew/bin/node]\r\n10: 0x100d4df04 v8::internal::StackGuard::HandleInterrupts() [/opt/homebrew/bin/node]\r\n11: 0x1010347a8 v8::internal::Runtime_WasmStackGuard(int, unsigned long*, v8::internal::Isolate*) [/opt/homebrew/bin/node]\r\n12: 0x10125f7ec Builtins_CEntry_Return1_DontSaveFPRegs_ArgvOnStack_NoBuiltinExit [/opt/homebrew/bin/node]\r\n13: 0x16104b6711b0 \r\n14: 0x16104d7b4b20 \r\n15: 0x16104ad20280 \r\n16: 0x16104b5d4a1c \r\n17: 0x16104d31bf70 \r\n18: 0x1e306abd3108 \r\n19: 0x1011f84f4 Builtins_InterpreterEntryTrampoline [/opt/homebrew/bin/node]\r\n20: 0x161049ae309c \r\n21: 0x16104e1c659c \r\n22: 0x16104d3192a4 \r\n23: 0x1e306abcadd0 \r\n24: 0x1011f84f4 Builtins_InterpreterEntryTrampoline [/opt/homebrew/bin/node]\r\n25: 0x161049ae2dbc \r\n26: 0x16104e939bfc \r\n27: 0x16104d3192a4 \r\n28: 0x1e306abcadd0 \r\n29: 0x1011f84f4 Builtins_InterpreterEntryTrampoline [/opt/homebrew/bin/node]\r\n30: 0x161049ae2dbc \r\n31: 0x16104e79afc0 \r\n32: 0x16104d3193a4 \r\n33: 0x1e306abcb060 \r\n34: 0x1011f84f4 Builtins_InterpreterEntryTrampoline [/opt/homebrew/bin/node]\r\n35: 0x161049ae2b9c \r\n36: 0x16104e6f37e0 \r\n37: 0x16104d3192a4 \r\n38: 0x1e306abcadd0 \r\n39: 0x1011f84f4 Builtins_InterpreterEntryTrampoline [/opt/homebrew/bin/node]\r\n40: 0x161049ae2dbc \r\n41: 0x16104e73518c \r\n42: 0x16104d3191b8 \r\n43: 0x1e306abcabc0 \r\n44: 0x1011f84f4 Builtins_InterpreterEntryTrampoline [/opt/homebrew/bin/node]\r\n45: 0x161049ae2ff0 \r\n46: 0x16104e8923a4 \r\n47: 0x16104d3191b8 \r\n48: 0x1e306abcabc0 \r\n49: 0x1011f84f4 Builtins_InterpreterEntryTrampoline [/opt/homebrew/bin/node]\r\n50: 0x161049ae2ff0 \r\n51: 0x16104e1c81dc \r\n52: 0x16104d3192a4 \r\n53: 0x1e306abcadd0 \r\n54: 0x1011f84f4 Builtins_InterpreterEntryTrampoline [/opt/homebrew/bin/node]\r\n55: 0x161049ae2dbc \r\n56: 0x16104e939bfc \r\n57: 0x16104d3192a4 \r\n58: 0x1e306abcadd0 \r\n59: 0x1011f84f4 Builtins_InterpreterEntryTrampoline [/opt/homebrew/bin/node]\r\n60: 0x161049ae2dbc \r\n61: 0x16104e79afc0 \r\n62: 0x16104d3193a4 \r\n63: 0x1e306abcb060 \r\n64: 0x1011f84f4 Builtins_InterpreterEntryTrampoline [/opt/homebrew/bin/node]\r\n65: 0x161049ae2b9c \r\n66: 0x16104e6f37e0 \r\n67: 0x16104d3192a4 \r\n68: 0x1e306abcadd0 \r\n69: 0x1011f84f4 Builtins_InterpreterEntryTrampoline [/opt/homebrew/bin/node]\r\n70: 0x161049ae2dbc \r\n71: 0x16104e7359d0 \r\n72: 0x16104d3191b8 \r\n73: 0x1e306abcabc0 \r\n74: 0x1011f84f4 Builtins_InterpreterEntryTrampoline [/opt/homebrew/bin/node]\r\n75: 0x161049ae2ff0 \r\n76: 0x16104e8923a4 \r\n77: 0x16104d3191b8 \r\n78: 0x1e306abcabc0 \r\n79: 0x1011f84f4 Builtins_InterpreterEntryTrampoline [/opt/homebrew/bin/node]\r\n80: 0x161049ae2ff0 \r\n81: 0x16104e1c81dc \r\n82: 0x16104d3192a4 \r\n83: 0x1e306abcadd0 \r\n84: 0x1011f84f4 Builtins_InterpreterEntryTrampoline [/opt/homebrew/bin/node]\r\n85: 0x161049ae2dbc \r\n86: 0x16104e939bfc \r\n87: 0x16104d3192a4 \r\n88: 0x1e306abcadd0 \r\n89: 0x1011f84f4 Builtins_InterpreterEntryTrampoline [/opt/homebrew/bin/node]\r\n90: 0x161049ae2dbc \r\n91: 0x16104e79afc0 \r\n92: 0x16104d3193a4 \r\n93: 0x1e306abcb060 \r\n94: 0x1011f84f4 Builtins_InterpreterEntryTrampoline [/opt/homebrew/bin/node]\r\n95: 0x161049ae2b9c \r\n96: 0x16104e6f37e0 \r\n97: 0x16104d3192a4 \r\n98: 0x1e306abcadd0 \r\n99: 0x1011f84f4 Builtins_InterpreterEntryTrampoline [/opt/homebrew/bin/node]\r\n100: 0x161049ae2dbc \r\n101: 0x16104e865184 \r\n102: 0x16104d3193a4 \r\n103: 0x1e306abcb060 \r\n104: 0x1011f84f4 Builtins_InterpreterEntryTrampoline [/opt/homebrew/bin/node]\r\n105: 0x161049ae2b9c \r\n106: 0x16104e1465dc \r\n107: 0x16104d3192a4 \r\n108: 0x1e306abcadd0 \r\n109: 0x1011f84f4 Builtins_InterpreterEntryTrampoline [/opt/homebrew/bin/node]\r\n110: 0x161049ae2dbc \r\n111: 0x16104ac48b1c \r\n112: 0x16104d3191b8 \r\n113: 0x1e306abcabc0 \r\n114: 0x1011f84f4 Builtins_InterpreterEntryTrampoline [/opt/homebrew/bin/node]\r\n115: 0x161049ae2ff0 \r\n116: 0x16104e6c6290 \r\n117: 0x16104d3192a4 \r\n118: 0x1e306abcadd0 \r\n119: 0x1011f84f4 Builtins_InterpreterEntryTrampoline [/opt/homebrew/bin/node]\r\n120: 0x161049ae2dbc \r\n121: 0x1610499b93b0 \r\n122: 0x16104d3192a4 \r\n123: 0x1e306abcadd0 \r\n124: 0x1011f84f4 Builtins_InterpreterEntryTrampoline [/opt/homebrew/bin/node]\r\n125: 0x161049ae2dbc \r\n126: 0x16104cf883dc \r\n127: 0x16104d3191b8 \r\n128: 0x1e306abcabc0 \r\n129: 0x1011f84f4 Builtins_InterpreterEntryTrampoline [/opt/homebrew/bin/node]\r\n130: 0x161049ae2ff0 \r\n131: 0x16104ac4d8e4 \r\n132: 0x16104d3192a4 \r\n133: 0x1e306abcadd0 \r\n134: 0x1011f84f4 Builtins_InterpreterEntryTrampoline [/opt/homebrew/bin/node]\r\n135: 0x161049ae2dbc \r\n136: 0x16104e35c854 \r\n137: 0x16104c7be008 \r\n138: 0x16104d31c7b8 \r\n139: 0x1e306abca618 \r\n140: 0x1011f84f4 Builtins_InterpreterEntryTrampoline [/opt/homebrew/bin/node]\r\n141: 0x161049ae3180 \r\n142: 0x16104f36252c \r\n143: 0x16104d3192a4 \r\n144: 0x1e306abcadd0 \r\n145: 0x1011f84f4 Builtins_InterpreterEntryTrampoline [/opt/homebrew/bin/node]\r\n146: 0x161049ae2dbc \r\n147: 0x16104e515998 \r\n148: 0x16104e51e2ac \r\n149: 0x161049c8609c \r\n150: 0x1e306abca618 \r\n151: 0x1011f84f4 Builtins_InterpreterEntryTrampoline [/opt/homebrew/bin/node]\r\n152: 0x1011f84f4 Builtins_InterpreterEntryTrampoline [/opt/homebrew/bin/node]\r\n153: 0x1011efb24 Builtins_ArgumentsAdaptorTrampoline [/opt/homebrew/bin/node]\r\n154: 0x1011f84f4 Builtins_InterpreterEntryTrampoline [/opt/homebrew/bin/node]\r\n155: 0x1011f84f4 Builtins_InterpreterEntryTrampoline [/opt/homebrew/bin/node]\r\n156: 0x1011f84f4 Builtins_InterpreterEntryTrampoline [/opt/homebrew/bin/node]\r\n157: 0x1011efb24 Builtins_ArgumentsAdaptorTrampoline [/opt/homebrew/bin/node]\r\n158: 0x1011f84f4 Builtins_InterpreterEntryTrampoline [/opt/homebrew/bin/node]\r\n159: 0x1011f84f4 Builtins_InterpreterEntryTrampoline [/opt/homebrew/bin/node]\r\n160: 0x1011f84f4 Builtins_InterpreterEntryTrampoline [/opt/homebrew/bin/node]\r\n161: 0x101226dbc Builtins_GeneratorPrototypeNext [/opt/homebrew/bin/node]\r\n162: 0x1011f84f4 Builtins_InterpreterEntryTrampoline [/opt/homebrew/bin/node]\r\n163: 0x1012a9b44 Builtins_PromiseConstructor [/opt/homebrew/bin/node]\r\n164: 0x1011f510c Builtins_JSBuiltinsConstructStub [/opt/homebrew/bin/node]\r\n165: 0x1012e9d74 Builtins_ConstructHandler [/opt/homebrew/bin/node]\r\n166: 0x1011f84f4 Builtins_InterpreterEntryTrampoline [/opt/homebrew/bin/node]\r\n167: 0x1011f84f4 Builtins_InterpreterEntryTrampoline [/opt/homebrew/bin/node]\r\n168: 0x1011f84f4 Builtins_InterpreterEntryTrampoline [/opt/homebrew/bin/node]\r\n169: 0x101226dbc Builtins_GeneratorPrototypeNext [/opt/homebrew/bin/node]\r\n170: 0x1011f84f4 Builtins_InterpreterEntryTrampoline [/opt/homebrew/bin/node]\r\n171: 0x1012aba7c Builtins_PromiseFulfillReactionJob [/opt/homebrew/bin/node]\r\n172: 0x101217668 Builtins_RunMicrotasks [/opt/homebrew/bin/node]\r\n173: 0x1011f5c88 Builtins_JSRunMicrotasksEntry [/opt/homebrew/bin/node]\r\n174: 0x148008000 \r\n[1]    39755 trace trap  truffle compile\r\n\r\n\r\n```\r\n\r\n## Environment\r\n\r\n* Operating System: Big Sur 11.2.1 (20D74)\r\n* Ethereum client: geth 1.9.25\r\n* Truffle version (`truffle version`): 5.1.65/5.1.66\r\n* node version (`node --version`): 15.7.0\r\n* npm version (`npm --version`): 7.4.3\r\n",
  "closed_by": {
    "login": "haltman-at",
    "id": 35589221,
    "node_id": "MDQ6VXNlcjM1NTg5MjIx",
    "avatar_url": "https://avatars.githubusercontent.com/u/35589221?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/haltman-at",
    "html_url": "https://github.com/haltman-at",
    "followers_url": "https://api.github.com/users/haltman-at/followers",
    "following_url": "https://api.github.com/users/haltman-at/following{/other_user}",
    "gists_url": "https://api.github.com/users/haltman-at/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/haltman-at/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/haltman-at/subscriptions",
    "organizations_url": "https://api.github.com/users/haltman-at/orgs",
    "repos_url": "https://api.github.com/users/haltman-at/repos",
    "events_url": "https://api.github.com/users/haltman-at/events{/privacy}",
    "received_events_url": "https://api.github.com/users/haltman-at/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/3804/reactions",
    "total_count": 1,
    "+1": 1,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/trufflesuite/truffle/issues/3804/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/787405567",
    "html_url": "https://github.com/trufflesuite/truffle/issues/3804#issuecomment-787405567",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/3804",
    "id": 787405567,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc4NzQwNTU2Nw==",
    "user": {
      "login": "UnsignedInt8",
      "id": 15274326,
      "node_id": "MDQ6VXNlcjE1Mjc0MzI2",
      "avatar_url": "https://avatars.githubusercontent.com/u/15274326?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/UnsignedInt8",
      "html_url": "https://github.com/UnsignedInt8",
      "followers_url": "https://api.github.com/users/UnsignedInt8/followers",
      "following_url": "https://api.github.com/users/UnsignedInt8/following{/other_user}",
      "gists_url": "https://api.github.com/users/UnsignedInt8/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/UnsignedInt8/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/UnsignedInt8/subscriptions",
      "organizations_url": "https://api.github.com/users/UnsignedInt8/orgs",
      "repos_url": "https://api.github.com/users/UnsignedInt8/repos",
      "events_url": "https://api.github.com/users/UnsignedInt8/events{/privacy}",
      "received_events_url": "https://api.github.com/users/UnsignedInt8/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-02-28T06:47:48Z",
    "updated_at": "2021-02-28T06:47:48Z",
    "author_association": "NONE",
    "body": "Fixed at 5.2.0",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/787405567/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/787457378",
    "html_url": "https://github.com/trufflesuite/truffle/issues/3804#issuecomment-787457378",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/3804",
    "id": 787457378,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc4NzQ1NzM3OA==",
    "user": {
      "login": "mintotsai",
      "id": 1557318,
      "node_id": "MDQ6VXNlcjE1NTczMTg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1557318?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mintotsai",
      "html_url": "https://github.com/mintotsai",
      "followers_url": "https://api.github.com/users/mintotsai/followers",
      "following_url": "https://api.github.com/users/mintotsai/following{/other_user}",
      "gists_url": "https://api.github.com/users/mintotsai/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mintotsai/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mintotsai/subscriptions",
      "organizations_url": "https://api.github.com/users/mintotsai/orgs",
      "repos_url": "https://api.github.com/users/mintotsai/repos",
      "events_url": "https://api.github.com/users/mintotsai/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mintotsai/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-02-28T14:02:57Z",
    "updated_at": "2021-02-28T14:02:57Z",
    "author_association": "NONE",
    "body": "Hi, I seem to still be running into the same issue on v5.2.0. I may be missing a step.\r\n\r\n```\r\n% truffle version\r\n\r\nTruffle v5.2.0 (core: 5.2.0)\r\nSolidity - >=0.6.0 <0.8.0 (solc-js)\r\nNode v15.8.0\r\nWeb3.js v1.2.9\r\n```\r\n\r\n```\r\n% truffle compile\r\n\r\n\r\nCompiling your contracts...\r\n===========================\r\n✔ Fetching solc version list from solc-bin. Attempt #1\r\n> Compiling ./contracts/Token.sol\r\n⠼ Fetching solc version list from solc-bin. Attempt #1\r\n\r\n#\r\n# Fatal error in , line 0\r\n# Check failed: allocator->SetPermissions(reinterpret_cast<void*>(region.begin()), region.size(), PageAllocator::kNoAccess).\r\n#\r\n#\r\n#\r\n#FailureMessage Object: 0x16dc927c8\r\n 1: 0x10225d104 node::NodePlatform::GetStackTracePrinter()::$_3::__invoke() [/opt/homebrew/bin/node]\r\n 2: 0x102be8054 V8_Fatal(char const*, ...) [/opt/homebrew/bin/node]\r\n 3: 0x1027d1358 v8::internal::wasm::WasmCodeAllocator::GetNumCodeSpaces() const [/opt/homebrew/bin/node]\r\n 4: 0x1027d11f8 v8::internal::wasm::WasmCodeAllocator::FreeCode(v8::internal::Vector<v8::internal::wasm::WasmCode* const>) [/opt/homebrew/bin/node]\r\n 5: 0x1027d4048 v8::internal::wasm::NativeModule::FreeCode(v8::internal::Vector<v8::internal::wasm::WasmCode* const>) [/opt/homebrew/bin/node]\r\n 6: 0x1027e1bcc v8::internal::wasm::WasmEngine::FreeDeadCodeLocked(std::__1::unordered_map<v8::internal::wasm::NativeModule*, std::__1::vector<v8::internal::wasm::WasmCode*, std::__1::allocator<v8::internal::wasm::WasmCode*> >, std::__1::hash<v8::internal::wasm::NativeModule*>, std::__1::equal_to<v8::internal::wasm::NativeModule*>, std::__1::allocator<std::__1::pair<v8::internal::wasm::NativeModule* const, std::__1::vector<v8::internal::wasm::WasmCode*, std::__1::allocator<v8::internal::wasm::WasmCode*> > > > > const&) [/opt/homebrew/bin/node]\r\n 7: 0x1027dfbec v8::internal::wasm::WasmEngine::PotentiallyFinishCurrentGC() [/opt/homebrew/bin/node]\r\n 8: 0x1027e0e28 v8::internal::wasm::WasmEngine::ReportLiveCodeForGC(v8::internal::Isolate*, v8::internal::Vector<v8::internal::wasm::WasmCode*>) [/opt/homebrew/bin/node]\r\n 9: 0x1027e3548 v8::internal::wasm::(anonymous namespace)::WasmGCForegroundTask::RunInternal() [/opt/homebrew/bin/node]\r\n10: 0x10225bbc0 node::PerIsolatePlatformData::RunForegroundTask(std::__1::unique_ptr<v8::Task, std::__1::default_delete<v8::Task> >) [/opt/homebrew/bin/node]\r\n11: 0x10225acb4 node::PerIsolatePlatformData::FlushForegroundTasksInternal() [/opt/homebrew/bin/node]\r\n12: 0x1028d61a4 uv__async_io [/opt/homebrew/bin/node]\r\n13: 0x1028e5d18 uv__io_poll [/opt/homebrew/bin/node]\r\n14: 0x1028d65c4 uv_run [/opt/homebrew/bin/node]\r\n15: 0x102168a88 node::SpinEventLoop(node::Environment*) [/opt/homebrew/bin/node]\r\n16: 0x102239224 node::NodeMainInstance::Run(node::EnvSerializeInfo const*) [/opt/homebrew/bin/node]\r\n17: 0x1021dcce4 node::Start(int, char**) [/opt/homebrew/bin/node]\r\n18: 0x19a4f5f34 start [/usr/lib/system/libdyld.dylib]\r\n^Czsh: killed     truffle compile\r\n```\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/787457378/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/788534411",
    "html_url": "https://github.com/trufflesuite/truffle/issues/3804#issuecomment-788534411",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/3804",
    "id": 788534411,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc4ODUzNDQxMQ==",
    "user": {
      "login": "UnsignedInt8",
      "id": 15274326,
      "node_id": "MDQ6VXNlcjE1Mjc0MzI2",
      "avatar_url": "https://avatars.githubusercontent.com/u/15274326?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/UnsignedInt8",
      "html_url": "https://github.com/UnsignedInt8",
      "followers_url": "https://api.github.com/users/UnsignedInt8/followers",
      "following_url": "https://api.github.com/users/UnsignedInt8/following{/other_user}",
      "gists_url": "https://api.github.com/users/UnsignedInt8/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/UnsignedInt8/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/UnsignedInt8/subscriptions",
      "organizations_url": "https://api.github.com/users/UnsignedInt8/orgs",
      "repos_url": "https://api.github.com/users/UnsignedInt8/repos",
      "events_url": "https://api.github.com/users/UnsignedInt8/events{/privacy}",
      "received_events_url": "https://api.github.com/users/UnsignedInt8/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-03-02T02:47:06Z",
    "updated_at": "2021-03-02T02:47:06Z",
    "author_association": "NONE",
    "body": "> Hi, I seem to still be running into the same issue on v5.2.0. I may be missing a step.\r\n> \r\n> ```\r\n> % truffle version\r\n> \r\n> Truffle v5.2.0 (core: 5.2.0)\r\n> Solidity - >=0.6.0 <0.8.0 (solc-js)\r\n> Node v15.8.0\r\n> Web3.js v1.2.9\r\n> ```\r\n> \r\n> ```\r\n> % truffle compile\r\n> \r\n> \r\n> Compiling your contracts...\r\n> ===========================\r\n> ✔ Fetching solc version list from solc-bin. Attempt #1\r\n> > Compiling ./contracts/Token.sol\r\n> ⠼ Fetching solc version list from solc-bin. Attempt #1\r\n> \r\n> #\r\n> # Fatal error in , line 0\r\n> # Check failed: allocator->SetPermissions(reinterpret_cast<void*>(region.begin()), region.size(), PageAllocator::kNoAccess).\r\n> #\r\n> #\r\n> #\r\n> #FailureMessage Object: 0x16dc927c8\r\n>  1: 0x10225d104 node::NodePlatform::GetStackTracePrinter()::$_3::__invoke() [/opt/homebrew/bin/node]\r\n>  2: 0x102be8054 V8_Fatal(char const*, ...) [/opt/homebrew/bin/node]\r\n>  3: 0x1027d1358 v8::internal::wasm::WasmCodeAllocator::GetNumCodeSpaces() const [/opt/homebrew/bin/node]\r\n>  4: 0x1027d11f8 v8::internal::wasm::WasmCodeAllocator::FreeCode(v8::internal::Vector<v8::internal::wasm::WasmCode* const>) [/opt/homebrew/bin/node]\r\n>  5: 0x1027d4048 v8::internal::wasm::NativeModule::FreeCode(v8::internal::Vector<v8::internal::wasm::WasmCode* const>) [/opt/homebrew/bin/node]\r\n>  6: 0x1027e1bcc v8::internal::wasm::WasmEngine::FreeDeadCodeLocked(std::__1::unordered_map<v8::internal::wasm::NativeModule*, std::__1::vector<v8::internal::wasm::WasmCode*, std::__1::allocator<v8::internal::wasm::WasmCode*> >, std::__1::hash<v8::internal::wasm::NativeModule*>, std::__1::equal_to<v8::internal::wasm::NativeModule*>, std::__1::allocator<std::__1::pair<v8::internal::wasm::NativeModule* const, std::__1::vector<v8::internal::wasm::WasmCode*, std::__1::allocator<v8::internal::wasm::WasmCode*> > > > > const&) [/opt/homebrew/bin/node]\r\n>  7: 0x1027dfbec v8::internal::wasm::WasmEngine::PotentiallyFinishCurrentGC() [/opt/homebrew/bin/node]\r\n>  8: 0x1027e0e28 v8::internal::wasm::WasmEngine::ReportLiveCodeForGC(v8::internal::Isolate*, v8::internal::Vector<v8::internal::wasm::WasmCode*>) [/opt/homebrew/bin/node]\r\n>  9: 0x1027e3548 v8::internal::wasm::(anonymous namespace)::WasmGCForegroundTask::RunInternal() [/opt/homebrew/bin/node]\r\n> 10: 0x10225bbc0 node::PerIsolatePlatformData::RunForegroundTask(std::__1::unique_ptr<v8::Task, std::__1::default_delete<v8::Task> >) [/opt/homebrew/bin/node]\r\n> 11: 0x10225acb4 node::PerIsolatePlatformData::FlushForegroundTasksInternal() [/opt/homebrew/bin/node]\r\n> 12: 0x1028d61a4 uv__async_io [/opt/homebrew/bin/node]\r\n> 13: 0x1028e5d18 uv__io_poll [/opt/homebrew/bin/node]\r\n> 14: 0x1028d65c4 uv_run [/opt/homebrew/bin/node]\r\n> 15: 0x102168a88 node::SpinEventLoop(node::Environment*) [/opt/homebrew/bin/node]\r\n> 16: 0x102239224 node::NodeMainInstance::Run(node::EnvSerializeInfo const*) [/opt/homebrew/bin/node]\r\n> 17: 0x1021dcce4 node::Start(int, char**) [/opt/homebrew/bin/node]\r\n> 18: 0x19a4f5f34 start [/usr/lib/system/libdyld.dylib]\r\n> ^Czsh: killed     truffle compile\r\n> ```\r\n\r\nyou can update node to 15.9.0",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/788534411/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/788602832",
    "html_url": "https://github.com/trufflesuite/truffle/issues/3804#issuecomment-788602832",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/3804",
    "id": 788602832,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc4ODYwMjgzMg==",
    "user": {
      "login": "gnidan",
      "id": 151065,
      "node_id": "MDQ6VXNlcjE1MTA2NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/151065?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gnidan",
      "html_url": "https://github.com/gnidan",
      "followers_url": "https://api.github.com/users/gnidan/followers",
      "following_url": "https://api.github.com/users/gnidan/following{/other_user}",
      "gists_url": "https://api.github.com/users/gnidan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gnidan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gnidan/subscriptions",
      "organizations_url": "https://api.github.com/users/gnidan/orgs",
      "repos_url": "https://api.github.com/users/gnidan/repos",
      "events_url": "https://api.github.com/users/gnidan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gnidan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-03-02T05:23:25Z",
    "updated_at": "2021-03-02T05:23:25Z",
    "author_association": "MEMBER",
    "body": "Sounds like this is still an issue, since Truffle shouldn't require Node v15!",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/788602832/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/789971473",
    "html_url": "https://github.com/trufflesuite/truffle/issues/3804#issuecomment-789971473",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/3804",
    "id": 789971473,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc4OTk3MTQ3Mw==",
    "user": {
      "login": "eshaben",
      "id": 26533957,
      "node_id": "MDQ6VXNlcjI2NTMzOTU3",
      "avatar_url": "https://avatars.githubusercontent.com/u/26533957?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eshaben",
      "html_url": "https://github.com/eshaben",
      "followers_url": "https://api.github.com/users/eshaben/followers",
      "following_url": "https://api.github.com/users/eshaben/following{/other_user}",
      "gists_url": "https://api.github.com/users/eshaben/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eshaben/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eshaben/subscriptions",
      "organizations_url": "https://api.github.com/users/eshaben/orgs",
      "repos_url": "https://api.github.com/users/eshaben/repos",
      "events_url": "https://api.github.com/users/eshaben/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eshaben/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-03-03T18:49:06Z",
    "updated_at": "2021-03-03T18:49:06Z",
    "author_association": "NONE",
    "body": "@UnsignedInt8 thanks for reporting the issue and we'll look into this!",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/789971473/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/794909510",
    "html_url": "https://github.com/trufflesuite/truffle/issues/3804#issuecomment-794909510",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/3804",
    "id": 794909510,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc5NDkwOTUxMA==",
    "user": {
      "login": "oishun1112",
      "id": 40849624,
      "node_id": "MDQ6VXNlcjQwODQ5NjI0",
      "avatar_url": "https://avatars.githubusercontent.com/u/40849624?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/oishun1112",
      "html_url": "https://github.com/oishun1112",
      "followers_url": "https://api.github.com/users/oishun1112/followers",
      "following_url": "https://api.github.com/users/oishun1112/following{/other_user}",
      "gists_url": "https://api.github.com/users/oishun1112/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/oishun1112/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/oishun1112/subscriptions",
      "organizations_url": "https://api.github.com/users/oishun1112/orgs",
      "repos_url": "https://api.github.com/users/oishun1112/repos",
      "events_url": "https://api.github.com/users/oishun1112/events{/privacy}",
      "received_events_url": "https://api.github.com/users/oishun1112/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-03-10T05:32:17Z",
    "updated_at": "2021-03-10T05:32:17Z",
    "author_association": "NONE",
    "body": "I got the same one and was fixed by updating to v5.2.3",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/794909510/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/893509175",
    "html_url": "https://github.com/trufflesuite/truffle/issues/3804#issuecomment-893509175",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/3804",
    "id": 893509175,
    "node_id": "IC_kwDOAkfq-c41Qd43",
    "user": {
      "login": "eggplantzzz",
      "id": 14827965,
      "node_id": "MDQ6VXNlcjE0ODI3OTY1",
      "avatar_url": "https://avatars.githubusercontent.com/u/14827965?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eggplantzzz",
      "html_url": "https://github.com/eggplantzzz",
      "followers_url": "https://api.github.com/users/eggplantzzz/followers",
      "following_url": "https://api.github.com/users/eggplantzzz/following{/other_user}",
      "gists_url": "https://api.github.com/users/eggplantzzz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eggplantzzz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eggplantzzz/subscriptions",
      "organizations_url": "https://api.github.com/users/eggplantzzz/orgs",
      "repos_url": "https://api.github.com/users/eggplantzzz/repos",
      "events_url": "https://api.github.com/users/eggplantzzz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eggplantzzz/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-08-05T14:33:37Z",
    "updated_at": "2021-08-05T14:33:37Z",
    "author_association": "CONTRIBUTOR",
    "body": "Can anyone here verify that this is/isn't an issue on the latest Truffle (currently 5.4.3)? I'm trying to see if this is still an issue for some people as I cannot reproduce it. If it is still an issue and you have reproduction steps that consistently cause this that would be super helpful!",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/893509175/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/1105607110",
    "html_url": "https://github.com/trufflesuite/truffle/issues/3804#issuecomment-1105607110",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/3804",
    "id": 1105607110,
    "node_id": "IC_kwDOAkfq-c5B5jnG",
    "user": {
      "login": "haltman-at",
      "id": 35589221,
      "node_id": "MDQ6VXNlcjM1NTg5MjIx",
      "avatar_url": "https://avatars.githubusercontent.com/u/35589221?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/haltman-at",
      "html_url": "https://github.com/haltman-at",
      "followers_url": "https://api.github.com/users/haltman-at/followers",
      "following_url": "https://api.github.com/users/haltman-at/following{/other_user}",
      "gists_url": "https://api.github.com/users/haltman-at/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/haltman-at/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/haltman-at/subscriptions",
      "organizations_url": "https://api.github.com/users/haltman-at/orgs",
      "repos_url": "https://api.github.com/users/haltman-at/repos",
      "events_url": "https://api.github.com/users/haltman-at/events{/privacy}",
      "received_events_url": "https://api.github.com/users/haltman-at/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-04-21T18:24:44Z",
    "updated_at": "2022-04-21T18:24:44Z",
    "author_association": "CONTRIBUTOR",
    "body": "Closing this for issue maintenance.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/1105607110/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
