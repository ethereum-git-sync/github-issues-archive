{
  "url": "https://api.github.com/repos/trufflesuite/truffle/issues/3360",
  "repository_url": "https://api.github.com/repos/trufflesuite/truffle",
  "labels_url": "https://api.github.com/repos/trufflesuite/truffle/issues/3360/labels{/name}",
  "comments_url": "https://api.github.com/repos/trufflesuite/truffle/issues/3360/comments",
  "events_url": "https://api.github.com/repos/trufflesuite/truffle/issues/3360/events",
  "html_url": "https://github.com/trufflesuite/truffle/issues/3360",
  "id": 700844495,
  "node_id": "MDU6SXNzdWU3MDA4NDQ0OTU=",
  "number": 3360,
  "title": "contract.function() txReceipt is missing logs",
  "user": {
    "login": "ghost",
    "id": 10137,
    "node_id": "MDQ6VXNlcjEwMTM3",
    "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/ghost",
    "html_url": "https://github.com/ghost",
    "followers_url": "https://api.github.com/users/ghost/followers",
    "following_url": "https://api.github.com/users/ghost/following{/other_user}",
    "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/ghost/subscriptions",
    "organizations_url": "https://api.github.com/users/ghost/orgs",
    "repos_url": "https://api.github.com/users/ghost/repos",
    "events_url": "https://api.github.com/users/ghost/events{/privacy}",
    "received_events_url": "https://api.github.com/users/ghost/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2020-09-14T07:21:31Z",
  "updated_at": "2020-10-21T18:19:24Z",
  "closed_at": "2020-10-21T18:19:23Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "contract.function() txReceipt is missing logs. the logs appear to be in `rawLogs` but no explanation on how to easily parse them, or why they're not already parsed in the first place.",
  "closed_by": {
    "login": "haltman-at",
    "id": 35589221,
    "node_id": "MDQ6VXNlcjM1NTg5MjIx",
    "avatar_url": "https://avatars.githubusercontent.com/u/35589221?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/haltman-at",
    "html_url": "https://github.com/haltman-at",
    "followers_url": "https://api.github.com/users/haltman-at/followers",
    "following_url": "https://api.github.com/users/haltman-at/following{/other_user}",
    "gists_url": "https://api.github.com/users/haltman-at/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/haltman-at/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/haltman-at/subscriptions",
    "organizations_url": "https://api.github.com/users/haltman-at/orgs",
    "repos_url": "https://api.github.com/users/haltman-at/repos",
    "events_url": "https://api.github.com/users/haltman-at/events{/privacy}",
    "received_events_url": "https://api.github.com/users/haltman-at/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/3360/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/trufflesuite/truffle/issues/3360/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/693567604",
    "html_url": "https://github.com/trufflesuite/truffle/issues/3360#issuecomment-693567604",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/3360",
    "id": 693567604,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY5MzU2NzYwNA==",
    "user": {
      "login": "haltman-at",
      "id": 35589221,
      "node_id": "MDQ6VXNlcjM1NTg5MjIx",
      "avatar_url": "https://avatars.githubusercontent.com/u/35589221?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/haltman-at",
      "html_url": "https://github.com/haltman-at",
      "followers_url": "https://api.github.com/users/haltman-at/followers",
      "following_url": "https://api.github.com/users/haltman-at/following{/other_user}",
      "gists_url": "https://api.github.com/users/haltman-at/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/haltman-at/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/haltman-at/subscriptions",
      "organizations_url": "https://api.github.com/users/haltman-at/orgs",
      "repos_url": "https://api.github.com/users/haltman-at/repos",
      "events_url": "https://api.github.com/users/haltman-at/events{/privacy}",
      "received_events_url": "https://api.github.com/users/haltman-at/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-09-16T18:00:11Z",
    "updated_at": "2020-09-16T18:00:11Z",
    "author_association": "CONTRIBUTOR",
    "body": "Hi!  Without more information, it's not really possible to say what's going on here.  I can speak about the problem in general terms, but we'd need more information to understand what's going on specifically.\r\n\r\nAnyway, why would a log appear encoded in `rawLogs` but not appear decoded in `logs`?  Well, it would mean that Truffle was not able to decode that particular log.  Currently, Truffle Contract uses the ethers library for decoding logs; we're planning to replace this in the future with our own improved decoding library, but that's still a ways off.  (We have started using it in Truffle Test, though. :) )\r\n\r\nSo, why would Truffle Contract fail to decode a log?  There are two main reasons:\r\n1. Anonymous events.  Truffle Contract currently can't identify anonymous events, as they have no selector to identify them.\r\n2. Library events.  A contract could call a library function that emits an event.  This could be either an internal or an external call; the result will be the same, as events emitted from a contract that is delegatecalled will appear to originate from the original contract that delegatecalled it.  Because these events do not appear in the ABI of the contract that is emitting them (or that appears to be emitting them), but rather appear in the ABI of the library that was called, ethers cannot locate their ABI entries in order to decode the log.\r\n\r\nI believe there are also some other less common cases where this could occur, involving doing some unusual things with event inheritance; and of course it can occur if you do various abstraction-breaking things.\r\n\r\nSo, most likely the reason you are not seeing the decoded logs is due to one of the two issues above, either anonymous events or library events.  If you want a more specific diagnosis, though, you'll have to provide more information.\r\n\r\nHope that's helpful!",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/693567604/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/713773320",
    "html_url": "https://github.com/trufflesuite/truffle/issues/3360#issuecomment-713773320",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/3360",
    "id": 713773320,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcxMzc3MzMyMA==",
    "user": {
      "login": "haltman-at",
      "id": 35589221,
      "node_id": "MDQ6VXNlcjM1NTg5MjIx",
      "avatar_url": "https://avatars.githubusercontent.com/u/35589221?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/haltman-at",
      "html_url": "https://github.com/haltman-at",
      "followers_url": "https://api.github.com/users/haltman-at/followers",
      "following_url": "https://api.github.com/users/haltman-at/following{/other_user}",
      "gists_url": "https://api.github.com/users/haltman-at/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/haltman-at/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/haltman-at/subscriptions",
      "organizations_url": "https://api.github.com/users/haltman-at/orgs",
      "repos_url": "https://api.github.com/users/haltman-at/repos",
      "events_url": "https://api.github.com/users/haltman-at/events{/privacy}",
      "received_events_url": "https://api.github.com/users/haltman-at/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-10-21T18:19:23Z",
    "updated_at": "2020-10-21T18:19:23Z",
    "author_association": "CONTRIBUTOR",
    "body": "OK, we're going to close this for issue maintenance, but please let us know if you have more information on this.  Thank you!",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/713773320/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
