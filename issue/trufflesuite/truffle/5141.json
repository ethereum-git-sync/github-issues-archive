{
  "url": "https://api.github.com/repos/trufflesuite/truffle/issues/5141",
  "repository_url": "https://api.github.com/repos/trufflesuite/truffle",
  "labels_url": "https://api.github.com/repos/trufflesuite/truffle/issues/5141/labels{/name}",
  "comments_url": "https://api.github.com/repos/trufflesuite/truffle/issues/5141/comments",
  "events_url": "https://api.github.com/repos/trufflesuite/truffle/issues/5141/events",
  "html_url": "https://github.com/trufflesuite/truffle/issues/5141",
  "id": 1247952579,
  "node_id": "I_kwDOAkfq-c5KYj7D",
  "number": 5141,
  "title": "Add feature to deploy a contract at a specific address",
  "user": {
    "login": "leiiiooo",
    "id": 17199087,
    "node_id": "MDQ6VXNlcjE3MTk5MDg3",
    "avatar_url": "https://avatars.githubusercontent.com/u/17199087?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/leiiiooo",
    "html_url": "https://github.com/leiiiooo",
    "followers_url": "https://api.github.com/users/leiiiooo/followers",
    "following_url": "https://api.github.com/users/leiiiooo/following{/other_user}",
    "gists_url": "https://api.github.com/users/leiiiooo/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/leiiiooo/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/leiiiooo/subscriptions",
    "organizations_url": "https://api.github.com/users/leiiiooo/orgs",
    "repos_url": "https://api.github.com/users/leiiiooo/repos",
    "events_url": "https://api.github.com/users/leiiiooo/events{/privacy}",
    "received_events_url": "https://api.github.com/users/leiiiooo/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 1086852667,
      "node_id": "MDU6TGFiZWwxMDg2ODUyNjY3",
      "url": "https://api.github.com/repos/trufflesuite/truffle/labels/needs%20requirements",
      "name": "needs requirements",
      "color": "d4c5f9",
      "default": false,
      "description": "feature request is unclear"
    },
    {
      "id": 1675041996,
      "node_id": "MDU6TGFiZWwxNjc1MDQxOTk2",
      "url": "https://api.github.com/repos/trufflesuite/truffle/labels/priority4%20%F0%9F%93%8B",
      "name": "priority4 ðŸ“‹",
      "color": "006b75",
      "default": false,
      "description": ""
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 14,
  "created_at": "2022-05-25T11:24:48Z",
  "updated_at": "2022-07-21T17:52:13Z",
  "closed_at": null,
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "I am developing a contract, which can be easily developed using Truffle Suite. But I am having a problem when I am writing unit tests. Here is the pseudo-code of the function.\r\n```\r\nfunction(bytes calldata signature) external {\r\n      bytes32 hash = keccak256(\r\n            abi.encodePacked(\r\n                a,\r\n                b,\r\n                c,\r\n                address(this)\r\n            )\r\n        );\r\n        address recovered = ECDSA.recover(hash, signature);\r\n}\r\n```\r\n\r\nBut then I run into a problem, I can't know the address of the contract in advance when I generate the signature, the address of the contract will be different for different people, on different computers when I run the unit test.\r\n\r\nI think we need such a feature to facilitate writing unit tests.\r\n\r\nFor example.\r\n```\r\nMyContract.fixedAddress(myAddress);\r\n```\r\n\r\nThe address we get when we call `address(this)` inside the contract is the address we configured. It is also convenient to use Java code or other languages to generate this signature. ðŸ¤”",
  "closed_by": {
    "login": "cliffoo",
    "id": 41348973,
    "node_id": "MDQ6VXNlcjQxMzQ4OTcz",
    "avatar_url": "https://avatars.githubusercontent.com/u/41348973?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/cliffoo",
    "html_url": "https://github.com/cliffoo",
    "followers_url": "https://api.github.com/users/cliffoo/followers",
    "following_url": "https://api.github.com/users/cliffoo/following{/other_user}",
    "gists_url": "https://api.github.com/users/cliffoo/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/cliffoo/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/cliffoo/subscriptions",
    "organizations_url": "https://api.github.com/users/cliffoo/orgs",
    "repos_url": "https://api.github.com/users/cliffoo/repos",
    "events_url": "https://api.github.com/users/cliffoo/events{/privacy}",
    "received_events_url": "https://api.github.com/users/cliffoo/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/5141/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/trufflesuite/truffle/issues/5141/timeline",
  "performed_via_github_app": null,
  "state_reason": "reopened"
}
[
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/1138868887",
    "html_url": "https://github.com/trufflesuite/truffle/issues/5141#issuecomment-1138868887",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/5141",
    "id": 1138868887,
    "node_id": "IC_kwDOAkfq-c5D4cKX",
    "user": {
      "login": "dongmingh",
      "id": 17034559,
      "node_id": "MDQ6VXNlcjE3MDM0NTU5",
      "avatar_url": "https://avatars.githubusercontent.com/u/17034559?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dongmingh",
      "html_url": "https://github.com/dongmingh",
      "followers_url": "https://api.github.com/users/dongmingh/followers",
      "following_url": "https://api.github.com/users/dongmingh/following{/other_user}",
      "gists_url": "https://api.github.com/users/dongmingh/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dongmingh/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dongmingh/subscriptions",
      "organizations_url": "https://api.github.com/users/dongmingh/orgs",
      "repos_url": "https://api.github.com/users/dongmingh/repos",
      "events_url": "https://api.github.com/users/dongmingh/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dongmingh/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-05-26T18:07:31Z",
    "updated_at": "2022-05-26T18:15:26Z",
    "author_association": "CONTRIBUTOR",
    "body": "@leiiiooo thanks for submitting this issue.  Are you looking for a way to find out the deployment address of the contract in advance or are you looking to control a deployment address?  Please specify more precisely what you intend to be able to do.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/1138868887/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/1141590463",
    "html_url": "https://github.com/trufflesuite/truffle/issues/5141#issuecomment-1141590463",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/5141",
    "id": 1141590463,
    "node_id": "IC_kwDOAkfq-c5EC0m_",
    "user": {
      "login": "leiiiooo",
      "id": 17199087,
      "node_id": "MDQ6VXNlcjE3MTk5MDg3",
      "avatar_url": "https://avatars.githubusercontent.com/u/17199087?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/leiiiooo",
      "html_url": "https://github.com/leiiiooo",
      "followers_url": "https://api.github.com/users/leiiiooo/followers",
      "following_url": "https://api.github.com/users/leiiiooo/following{/other_user}",
      "gists_url": "https://api.github.com/users/leiiiooo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/leiiiooo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/leiiiooo/subscriptions",
      "organizations_url": "https://api.github.com/users/leiiiooo/orgs",
      "repos_url": "https://api.github.com/users/leiiiooo/repos",
      "events_url": "https://api.github.com/users/leiiiooo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/leiiiooo/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-05-31T01:56:16Z",
    "updated_at": "2022-05-31T01:56:16Z",
    "author_association": "NONE",
    "body": "Thank you for your reply. I am looking for a way to control a deployment address because as shown in the code above, I need to know the deployment address of this contract in advance because I need to calculate this signature in java code and I need to run this part of the logic check in unit tests, so it would be better to provide a mock method, for example using `Truffle. mockContractAddress(myAddress)`. That way this contract address is known and controllable even if I allow as many unit tests as I want.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/1141590463/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/1145182105",
    "html_url": "https://github.com/trufflesuite/truffle/issues/5141#issuecomment-1145182105",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/5141",
    "id": 1145182105,
    "node_id": "IC_kwDOAkfq-c5EQheZ",
    "user": {
      "login": "davidmurdoch",
      "id": 187813,
      "node_id": "MDQ6VXNlcjE4NzgxMw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/187813?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/davidmurdoch",
      "html_url": "https://github.com/davidmurdoch",
      "followers_url": "https://api.github.com/users/davidmurdoch/followers",
      "following_url": "https://api.github.com/users/davidmurdoch/following{/other_user}",
      "gists_url": "https://api.github.com/users/davidmurdoch/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/davidmurdoch/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/davidmurdoch/subscriptions",
      "organizations_url": "https://api.github.com/users/davidmurdoch/orgs",
      "repos_url": "https://api.github.com/users/davidmurdoch/repos",
      "events_url": "https://api.github.com/users/davidmurdoch/events{/privacy}",
      "received_events_url": "https://api.github.com/users/davidmurdoch/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-06-02T18:28:40Z",
    "updated_at": "2022-06-02T18:28:40Z",
    "author_association": "MEMBER",
    "body": "Hey @leiiiooo, you _can_ determine the address at which a contract will be deployed if you know the address and nonce of the account that is sending the contract creation transaction. See https://ethereum.stackexchange.com/a/761/44640 for how to do this\n\nAs an alternative, as of Ganache 7.0.3 you can use a new RPC method, `evm_setAccountCode`, to set the contract code at a specific address. See https://github.com/trufflesuite/ganache/releases/tag/v7.0.3#user-content-7.0.3-new-features for details.\n\nFor now, we'll leave this feature request issue open in order to gauge community interest in the idea.\n\nLet us know if you have any other questions.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/1145182105/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/1146743764",
    "html_url": "https://github.com/trufflesuite/truffle/issues/5141#issuecomment-1146743764",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/5141",
    "id": 1146743764,
    "node_id": "IC_kwDOAkfq-c5EWevU",
    "user": {
      "login": "leiiiooo",
      "id": 17199087,
      "node_id": "MDQ6VXNlcjE3MTk5MDg3",
      "avatar_url": "https://avatars.githubusercontent.com/u/17199087?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/leiiiooo",
      "html_url": "https://github.com/leiiiooo",
      "followers_url": "https://api.github.com/users/leiiiooo/followers",
      "following_url": "https://api.github.com/users/leiiiooo/following{/other_user}",
      "gists_url": "https://api.github.com/users/leiiiooo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/leiiiooo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/leiiiooo/subscriptions",
      "organizations_url": "https://api.github.com/users/leiiiooo/orgs",
      "repos_url": "https://api.github.com/users/leiiiooo/repos",
      "events_url": "https://api.github.com/users/leiiiooo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/leiiiooo/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-06-05T05:16:22Z",
    "updated_at": "2022-06-05T05:16:22Z",
    "author_association": "NONE",
    "body": "@davidmurdoch thank you very much for your reply, I think this proposal (https://github.com/trufflesuite/ganache/pull/2337) is very interesting and necessary to make it very easy to write some unit test code. I will try to use Ganache v7.0.3. Thanks again for your reply.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/1146743764/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/1147096031",
    "html_url": "https://github.com/trufflesuite/truffle/issues/5141#issuecomment-1147096031",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/5141",
    "id": 1147096031,
    "node_id": "IC_kwDOAkfq-c5EX0vf",
    "user": {
      "login": "leiiiooo",
      "id": 17199087,
      "node_id": "MDQ6VXNlcjE3MTk5MDg3",
      "avatar_url": "https://avatars.githubusercontent.com/u/17199087?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/leiiiooo",
      "html_url": "https://github.com/leiiiooo",
      "followers_url": "https://api.github.com/users/leiiiooo/followers",
      "following_url": "https://api.github.com/users/leiiiooo/following{/other_user}",
      "gists_url": "https://api.github.com/users/leiiiooo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/leiiiooo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/leiiiooo/subscriptions",
      "organizations_url": "https://api.github.com/users/leiiiooo/orgs",
      "repos_url": "https://api.github.com/users/leiiiooo/repos",
      "events_url": "https://api.github.com/users/leiiiooo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/leiiiooo/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-06-06T06:29:29Z",
    "updated_at": "2022-06-06T06:29:29Z",
    "author_association": "NONE",
    "body": "Here is my test code, I am trying to understand the meaning of `Contract.at()` function.\r\nAs you can see, I have insert the code to `mockAddress`, but when I call the `Hello.at(mockAddress)` function, it throws exception `Error: Cannot create instance of Hello; no code at address 0xe2d3A739EFFCd3A99387d015E260eEFAc72EBea1`. Feel really strange. Any idea, where am I wrong?\r\n```\r\nconst Hello = artifacts.require(\"hello/Hello\");\r\ncontract(\"Hello test code\", async function () {\r\n  it(\"Contract.at\", async function () {\r\n    const mockAddress = \"0xe2d3A739EFFCd3A99387d015E260eEFAc72EBea1\";\r\n    const code =\r\n      \"0x6080604052348015600f57600080fd5b50603f80601d6000396000f3fe6080604052600080fdfea264697066735822122017a2ce05533e864d9273119636089adc9ee39f4de7f45ce1cf3d069a136fe25d64736f6c634300080e0033\";\r\n    const setStatus = await provider.request({\r\n      method: \"evm_setAccountCode\",\r\n      params: [mockAddress, code],\r\n    });\r\n    assert.strictEqual(setStatus, true);\r\n    const getCode = await provider.request({\r\n      method: \"eth_getCode\",\r\n      params: [mockAddress],\r\n    });\r\n    assert.strictEqual(code, getCode);\r\n    let mockContract = await Hello.at(mockAddress);\r\n  });\r\n});\r\n```\r\n```\r\nError: Cannot create instance of Hello; no code at address 0xe2d3A739EFFCd3A99387d015E260eEFAc72EBea1\r\n      at Object.checkCode (node_modules/truffle/build/webpack:/packages/contract/lib/utils/index.js:272:1)\r\n      at Function.at (node_modules/truffle/build/webpack:/packages/contract/lib/contract/constructorMethods.js:73:1)\r\n      at processTicksAndRejections (node:internal/process/task_queues:96:5)\r\n      at Context.<anonymous> (test/merchant/Hello.test.js:21:24)\r\n```\r\n\r\nIt looks like the Contract.at() function, is not very easy to use. I think it would be more convenient if the new function could be extended. `Contract.new([params],{targetAddress: \"0xaddress\"})`",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/1147096031/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/1148699302",
    "html_url": "https://github.com/trufflesuite/truffle/issues/5141#issuecomment-1148699302",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/5141",
    "id": 1148699302,
    "node_id": "IC_kwDOAkfq-c5Ed8Km",
    "user": {
      "login": "cliffoo",
      "id": 41348973,
      "node_id": "MDQ6VXNlcjQxMzQ4OTcz",
      "avatar_url": "https://avatars.githubusercontent.com/u/41348973?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cliffoo",
      "html_url": "https://github.com/cliffoo",
      "followers_url": "https://api.github.com/users/cliffoo/followers",
      "following_url": "https://api.github.com/users/cliffoo/following{/other_user}",
      "gists_url": "https://api.github.com/users/cliffoo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cliffoo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cliffoo/subscriptions",
      "organizations_url": "https://api.github.com/users/cliffoo/orgs",
      "repos_url": "https://api.github.com/users/cliffoo/repos",
      "events_url": "https://api.github.com/users/cliffoo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cliffoo/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-06-07T13:45:56Z",
    "updated_at": "2022-06-07T13:45:56Z",
    "author_association": "MEMBER",
    "body": "Hi @leiiiooo, I don't think `Contract.at` is where the problem is. You can use `web3.eth.getCode` to verify that `evm_setAccountCode` succeeded before calling `Contract.at`.\r\nCould you try this and let me know if it works? Thanks!\r\n```js\r\nawait web3.currentProvider.send({\r\n  method: \"evm_setAccountCode\",\r\n  params: [addr, bytecode]\r\n})\r\n```\r\n`web3` is available in the test context with the correct provider.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/1148699302/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/1149550258",
    "html_url": "https://github.com/trufflesuite/truffle/issues/5141#issuecomment-1149550258",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/5141",
    "id": 1149550258,
    "node_id": "IC_kwDOAkfq-c5EhL6y",
    "user": {
      "login": "leiiiooo",
      "id": 17199087,
      "node_id": "MDQ6VXNlcjE3MTk5MDg3",
      "avatar_url": "https://avatars.githubusercontent.com/u/17199087?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/leiiiooo",
      "html_url": "https://github.com/leiiiooo",
      "followers_url": "https://api.github.com/users/leiiiooo/followers",
      "following_url": "https://api.github.com/users/leiiiooo/following{/other_user}",
      "gists_url": "https://api.github.com/users/leiiiooo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/leiiiooo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/leiiiooo/subscriptions",
      "organizations_url": "https://api.github.com/users/leiiiooo/orgs",
      "repos_url": "https://api.github.com/users/leiiiooo/repos",
      "events_url": "https://api.github.com/users/leiiiooo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/leiiiooo/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-06-08T07:14:32Z",
    "updated_at": "2022-06-08T07:15:00Z",
    "author_association": "NONE",
    "body": "@cliffoo Hi, here is the code for your mentioned function. In the first step, I can read the code and print it, second step, I try to call `evm_setAccountCode` after that I try to call `getCode` again, seems nothing happened. Always 0x \r\n```\r\nit(\"byte code test\", async function () {\r\n  let helloInstance: HelloInstance = await Hello.new();\r\n  let address: string = helloInstance.address;\r\n  let addressCode = await web3.eth.getCode(address);\r\n  console.log(\"addressCode: --- \" + addressCode);\r\n  let newAddress = \"0xddfabcdc4d8ffc6d5beaf154f18b778f892a0740\";\r\n  await (web3.currentProvider as any).send({\r\n    method: \"evm_setAccountCode\",\r\n    params: [newAddress, addressCode],\r\n  });\r\n  let newAddressCode = await web3.eth.getCode(newAddress);\r\n  console.log(\"newAddressCode: --- \" + newAddressCode);\r\n});\r\n```\r\n```\r\nContract: Hello test code\r\naddressCode: --- 0x608060405234801561001057600080fd5b50600436106100415760003560e01c8063594f4d4a14610046578063b954e8a814610076578063fd5afcc114610092575b600080fd5b610060600480360381019061005b9190610134565b6100c2565b60405161006d919061017c565b60405180910390f35b610090600480360381019061008b9190610134565b6100c9565b005b6100ac60048036038101906100a79190610134565b6100cc565b6040516100b9919061017c565b60405180910390f35b6000919050565b50565b600060019050919050565b600080fd5b60007fffffffffffffffff00000000000000000000000000000000000000000000000082169050919050565b610111816100dc565b811461011c57600080fd5b50565b60008135905061012e81610108565b92915050565b60006020828403121561014a576101496100d7565b5b60006101588482850161011f565b91505092915050565b60008115159050919050565b61017681610161565b82525050565b6000602082019050610191600083018461016d565b9291505056fea2646970667358221220d77f282d34daca82dc75a8eeb088d3d83938a7e2bd8bdadc419ea177d026788f64736f6c634300080e0033\r\n    1) byte code test\r\nnewAddressCode: --- 0x\r\n    2) byte code test\r\n    > No events were emitted\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/1149550258/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/1149834849",
    "html_url": "https://github.com/trufflesuite/truffle/issues/5141#issuecomment-1149834849",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/5141",
    "id": 1149834849,
    "node_id": "IC_kwDOAkfq-c5EiRZh",
    "user": {
      "login": "davidmurdoch",
      "id": 187813,
      "node_id": "MDQ6VXNlcjE4NzgxMw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/187813?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/davidmurdoch",
      "html_url": "https://github.com/davidmurdoch",
      "followers_url": "https://api.github.com/users/davidmurdoch/followers",
      "following_url": "https://api.github.com/users/davidmurdoch/following{/other_user}",
      "gists_url": "https://api.github.com/users/davidmurdoch/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/davidmurdoch/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/davidmurdoch/subscriptions",
      "organizations_url": "https://api.github.com/users/davidmurdoch/orgs",
      "repos_url": "https://api.github.com/users/davidmurdoch/repos",
      "events_url": "https://api.github.com/users/davidmurdoch/events{/privacy}",
      "received_events_url": "https://api.github.com/users/davidmurdoch/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-06-08T12:12:39Z",
    "updated_at": "2022-06-08T12:12:39Z",
    "author_association": "MEMBER",
    "body": "What version of ganache are you using?",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/1149834849/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/1149883222",
    "html_url": "https://github.com/trufflesuite/truffle/issues/5141#issuecomment-1149883222",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/5141",
    "id": 1149883222,
    "node_id": "IC_kwDOAkfq-c5EidNW",
    "user": {
      "login": "leiiiooo",
      "id": 17199087,
      "node_id": "MDQ6VXNlcjE3MTk5MDg3",
      "avatar_url": "https://avatars.githubusercontent.com/u/17199087?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/leiiiooo",
      "html_url": "https://github.com/leiiiooo",
      "followers_url": "https://api.github.com/users/leiiiooo/followers",
      "following_url": "https://api.github.com/users/leiiiooo/following{/other_user}",
      "gists_url": "https://api.github.com/users/leiiiooo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/leiiiooo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/leiiiooo/subscriptions",
      "organizations_url": "https://api.github.com/users/leiiiooo/orgs",
      "repos_url": "https://api.github.com/users/leiiiooo/repos",
      "events_url": "https://api.github.com/users/leiiiooo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/leiiiooo/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-06-08T12:59:25Z",
    "updated_at": "2022-06-08T12:59:25Z",
    "author_association": "NONE",
    "body": "Here are my deps. ðŸ¤”\r\n```\r\n\"devDependencies\": {\r\n  \"@openzeppelin/test-helpers\": \"0.5.15\",\r\n  \"@typechain/truffle-v5\": \"8.0.0\",\r\n  \"@types/bn.js\": \"5.1.0\",\r\n  \"@types/chai\": \"4.3.1\",\r\n  \"@types/mocha\": \"9.1.1\",\r\n  \"@types/node\": \"^17.0.40\",\r\n  \"@types/shelljs\": \"0.8.11\",\r\n  \"chai\": \"4.3.6\",\r\n  \"ganache\": \"7.0.5\",\r\n  \"mocha\": \"10.0.0\",\r\n  \"shelljs\": \"0.8.5\",\r\n  \"solidity-coverage\": \"0.8.0-rc.1\",\r\n  \"ts-node\": \"10.8.1\",\r\n  \"typechain\": \"8.0.0\",\r\n  \"typescript\": \"4.7.3\"\r\n},\r\n\"dependencies\": {\r\n  \"@openzeppelin/contracts\": \"4.6.0\",\r\n  \"solc\": \"0.8.14\",\r\n  \"truffle\": \"5.5.15\",\r\n  \"truffle-flattener\": \"^1.6.0\"\r\n}\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/1149883222/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/1149888483",
    "html_url": "https://github.com/trufflesuite/truffle/issues/5141#issuecomment-1149888483",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/5141",
    "id": 1149888483,
    "node_id": "IC_kwDOAkfq-c5Eiefj",
    "user": {
      "login": "davidmurdoch",
      "id": 187813,
      "node_id": "MDQ6VXNlcjE4NzgxMw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/187813?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/davidmurdoch",
      "html_url": "https://github.com/davidmurdoch",
      "followers_url": "https://api.github.com/users/davidmurdoch/followers",
      "following_url": "https://api.github.com/users/davidmurdoch/following{/other_user}",
      "gists_url": "https://api.github.com/users/davidmurdoch/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/davidmurdoch/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/davidmurdoch/subscriptions",
      "organizations_url": "https://api.github.com/users/davidmurdoch/orgs",
      "repos_url": "https://api.github.com/users/davidmurdoch/repos",
      "events_url": "https://api.github.com/users/davidmurdoch/events{/privacy}",
      "received_events_url": "https://api.github.com/users/davidmurdoch/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-06-08T13:03:35Z",
    "updated_at": "2022-06-08T13:03:35Z",
    "author_association": "MEMBER",
    "body": "Can you update Ganache to the latest version, 7.2.0, and try again?",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/1149888483/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/1149936397",
    "html_url": "https://github.com/trufflesuite/truffle/issues/5141#issuecomment-1149936397",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/5141",
    "id": 1149936397,
    "node_id": "IC_kwDOAkfq-c5EiqMN",
    "user": {
      "login": "leiiiooo",
      "id": 17199087,
      "node_id": "MDQ6VXNlcjE3MTk5MDg3",
      "avatar_url": "https://avatars.githubusercontent.com/u/17199087?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/leiiiooo",
      "html_url": "https://github.com/leiiiooo",
      "followers_url": "https://api.github.com/users/leiiiooo/followers",
      "following_url": "https://api.github.com/users/leiiiooo/following{/other_user}",
      "gists_url": "https://api.github.com/users/leiiiooo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/leiiiooo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/leiiiooo/subscriptions",
      "organizations_url": "https://api.github.com/users/leiiiooo/orgs",
      "repos_url": "https://api.github.com/users/leiiiooo/repos",
      "events_url": "https://api.github.com/users/leiiiooo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/leiiiooo/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-06-08T13:45:01Z",
    "updated_at": "2022-06-08T13:45:01Z",
    "author_association": "NONE",
    "body": "Sad, the same.\r\n```\r\n> Everything is up to date, there is nothing to compile.\r\n\r\n\r\n  Contract: Hello test code\r\naddressCode: --- 0x608060405234801561001057600080fd5b50600436106100415760003560e01c8063594f4d4a14610046578063b954e8a814610076578063fd5afcc114610092575b600080fd5b610060600480360381019061005b9190610134565b6100c2565b60405161006d919061017c565b60405180910390f35b610090600480360381019061008b9190610134565b6100c9565b005b6100ac60048036038101906100a79190610134565b6100cc565b6040516100b9919061017c565b60405180910390f35b6000919050565b50565b600060019050919050565b600080fd5b60007fffffffffffffffff00000000000000000000000000000000000000000000000082169050919050565b610111816100dc565b811461011c57600080fd5b50565b60008135905061012e81610108565b92915050565b60006020828403121561014a576101496100d7565b5b60006101588482850161011f565b91505092915050565b60008115159050919050565b61017681610161565b82525050565b6000602082019050610191600083018461016d565b9291505056fea2646970667358221220d77f282d34daca82dc75a8eeb088d3d83938a7e2bd8bdadc419ea177d026788f64736f6c634300080e0033\r\n    1) byte code test\r\nnewAddressCode: --- 0x\r\n    2) byte code test\r\n    > No events were emitted\r\n\r\n\r\n  0 passing (521ms)\r\n  2 failing\r\n\r\n  1) Contract: Hello test code\r\n       byte code test:\r\n     Uncaught TypeError: callback is not a function\r\n      at /Users/user/leiiiooo/project/android/company/R2-D2/node_modules/truffle/build/webpack:/packages/provider/wrapper.js:119:1\r\n      at XMLHttpRequest.request.onreadystatechange (node_modules/truffle/build/webpack:/node_modules/web3/node_modules/web3-providers-http/lib/index.js:98:1)\r\n      at XMLHttpRequestEventTarget.dispatchEvent (node_modules/truffle/build/webpack:/node_modules/xhr2-cookies/dist/xml-http-request-event-target.js:34:1)\r\n      at XMLHttpRequest.exports.modules.996763.XMLHttpRequest._setReadyState (node_modules/truffle/build/webpack:/node_modules/xhr2-cookies/dist/xml-http-request.js:208:1)\r\n      at XMLHttpRequest.exports.modules.996763.XMLHttpRequest._onHttpResponseEnd (node_modules/truffle/build/webpack:/node_modules/xhr2-cookies/dist/xml-http-request.js:318:1)\r\n      at IncomingMessage.<anonymous> (node_modules/truffle/build/webpack:/node_modules/xhr2-cookies/dist/xml-http-request.js:289:48)\r\n      at IncomingMessage.emit (node:events:402:35)\r\n      at endReadableNT (node:internal/streams/readable:1343:12)\r\n      at processTicksAndRejections (node:internal/process/task_queues:83:21)\r\n\r\n  2) Contract: Hello test code\r\n       byte code test:\r\n     Error: done() called multiple times in test <Contract: Hello test code byte code test> of file /Users/user/leiiiooo/project/android/company/R2-D2/test/MerchantWallet.test.js\r\n      at processTicksAndRejections (node:internal/process/task_queues:96:5)\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/1149936397/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/1150047067",
    "html_url": "https://github.com/trufflesuite/truffle/issues/5141#issuecomment-1150047067",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/5141",
    "id": 1150047067,
    "node_id": "IC_kwDOAkfq-c5EjFNb",
    "user": {
      "login": "cliffoo",
      "id": 41348973,
      "node_id": "MDQ6VXNlcjQxMzQ4OTcz",
      "avatar_url": "https://avatars.githubusercontent.com/u/41348973?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cliffoo",
      "html_url": "https://github.com/cliffoo",
      "followers_url": "https://api.github.com/users/cliffoo/followers",
      "following_url": "https://api.github.com/users/cliffoo/following{/other_user}",
      "gists_url": "https://api.github.com/users/cliffoo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cliffoo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cliffoo/subscriptions",
      "organizations_url": "https://api.github.com/users/cliffoo/orgs",
      "repos_url": "https://api.github.com/users/cliffoo/repos",
      "events_url": "https://api.github.com/users/cliffoo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cliffoo/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-06-08T15:08:54Z",
    "updated_at": "2022-06-08T15:08:54Z",
    "author_association": "MEMBER",
    "body": "Hey @leiiiooo, so you need to provide a callback to `web3.currentProvider.send` as the second param.\r\n\r\nHere's a [working example](https://github.com/cliffoo/truffle-starter/blob/reprod-0-provider-rpc/test/simple_storage_test.js) that wraps it and returns a promise. Also as David mentioned, make sure you're running the latest version of Ganache. Give it a try!",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/1150047067/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/1150080885",
    "html_url": "https://github.com/trufflesuite/truffle/issues/5141#issuecomment-1150080885",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/5141",
    "id": 1150080885,
    "node_id": "IC_kwDOAkfq-c5EjNd1",
    "user": {
      "login": "leiiiooo",
      "id": 17199087,
      "node_id": "MDQ6VXNlcjE3MTk5MDg3",
      "avatar_url": "https://avatars.githubusercontent.com/u/17199087?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/leiiiooo",
      "html_url": "https://github.com/leiiiooo",
      "followers_url": "https://api.github.com/users/leiiiooo/followers",
      "following_url": "https://api.github.com/users/leiiiooo/following{/other_user}",
      "gists_url": "https://api.github.com/users/leiiiooo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/leiiiooo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/leiiiooo/subscriptions",
      "organizations_url": "https://api.github.com/users/leiiiooo/orgs",
      "repos_url": "https://api.github.com/users/leiiiooo/repos",
      "events_url": "https://api.github.com/users/leiiiooo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/leiiiooo/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-06-08T15:37:16Z",
    "updated_at": "2022-06-08T15:37:16Z",
    "author_association": "NONE",
    "body": "Yep, your codes are acceptable. ðŸ¤” MAY be the root cause is the plugin `solidity-coverage`. It does not support the newest version of Ganache. In my code, when I call `evm_setAccountCode`, it will give me `undefined`. @cgewecke Do you have any good ideas about this? ðŸ¤”",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/1150080885/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/1177953937",
    "html_url": "https://github.com/trufflesuite/truffle/issues/5141#issuecomment-1177953937",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/5141",
    "id": 1177953937,
    "node_id": "IC_kwDOAkfq-c5GNiaR",
    "user": {
      "login": "cliffoo",
      "id": 41348973,
      "node_id": "MDQ6VXNlcjQxMzQ4OTcz",
      "avatar_url": "https://avatars.githubusercontent.com/u/41348973?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cliffoo",
      "html_url": "https://github.com/cliffoo",
      "followers_url": "https://api.github.com/users/cliffoo/followers",
      "following_url": "https://api.github.com/users/cliffoo/following{/other_user}",
      "gists_url": "https://api.github.com/users/cliffoo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cliffoo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cliffoo/subscriptions",
      "organizations_url": "https://api.github.com/users/cliffoo/orgs",
      "repos_url": "https://api.github.com/users/cliffoo/repos",
      "events_url": "https://api.github.com/users/cliffoo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cliffoo/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-07-07T17:14:48Z",
    "updated_at": "2022-07-07T17:14:48Z",
    "author_association": "MEMBER",
    "body": "Closing for Issue Maintenance.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/1177953937/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
