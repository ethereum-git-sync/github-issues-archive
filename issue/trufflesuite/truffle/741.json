{
  "url": "https://api.github.com/repos/trufflesuite/truffle/issues/741",
  "repository_url": "https://api.github.com/repos/trufflesuite/truffle",
  "labels_url": "https://api.github.com/repos/trufflesuite/truffle/issues/741/labels{/name}",
  "comments_url": "https://api.github.com/repos/trufflesuite/truffle/issues/741/comments",
  "events_url": "https://api.github.com/repos/trufflesuite/truffle/issues/741/events",
  "html_url": "https://github.com/trufflesuite/truffle/issues/741",
  "id": 287084881,
  "node_id": "MDU6SXNzdWUyODcwODQ4ODE=",
  "number": 741,
  "title": "Specify order of truffle tests",
  "user": {
    "login": "JackPickering",
    "id": 16956871,
    "node_id": "MDQ6VXNlcjE2OTU2ODcx",
    "avatar_url": "https://avatars.githubusercontent.com/u/16956871?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/JackPickering",
    "html_url": "https://github.com/JackPickering",
    "followers_url": "https://api.github.com/users/JackPickering/followers",
    "following_url": "https://api.github.com/users/JackPickering/following{/other_user}",
    "gists_url": "https://api.github.com/users/JackPickering/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/JackPickering/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/JackPickering/subscriptions",
    "organizations_url": "https://api.github.com/users/JackPickering/orgs",
    "repos_url": "https://api.github.com/users/JackPickering/repos",
    "events_url": "https://api.github.com/users/JackPickering/events{/privacy}",
    "received_events_url": "https://api.github.com/users/JackPickering/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 12,
  "created_at": "2018-01-09T13:15:50Z",
  "updated_at": "2018-01-19T00:30:40Z",
  "closed_at": "2018-01-19T00:30:40Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "- [x] I've asked for help in the [Truffle Gitter](http://gitter.im/Consensys/truffle) before filing this issue.\r\n\r\n---------------------------\r\n\r\n## Issue\r\n\r\nWhy cant we specify an order in which we'd like our test files to be executed? I found a closed issue which reads 'because test files shouldn't depend on each other' which just isn't true. \r\n\r\nThey may not depend on each other but they may depend on other factors i.e. I have 4 files A,B,C,D.\r\n\r\nA, B, C and D all require start times in the form of a timestamp.  \r\n\r\nFile A has 4 stages which are 1 day in length, to test this file I must test each stage, to test each stage I must 'time travel' to the next stage (by making my dev blockchain think its mined a days worth of blocks). \r\n\r\nNow that I have tested each stage I am 4 days in the future. \r\n\r\nHow do I now test file B if the I have to specify a timestamp as to when this will be? \r\n\r\nAs if I attempt to set a timestamp to 4 days after file A was meant to have started and file C 4 days after that, Truffle could run the test files in a random order and run C, B then A which would mean my timestamps for each instance are now incorrect and throw an invalid opcode error. \r\n\r\nTest files may not be dependent on each other, but as they are depending on a common development chain I believe it is necessary to be able to order them on demand. \r\n  ",
  "closed_by": {
    "login": "cgewecke",
    "id": 7332026,
    "node_id": "MDQ6VXNlcjczMzIwMjY=",
    "avatar_url": "https://avatars.githubusercontent.com/u/7332026?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/cgewecke",
    "html_url": "https://github.com/cgewecke",
    "followers_url": "https://api.github.com/users/cgewecke/followers",
    "following_url": "https://api.github.com/users/cgewecke/following{/other_user}",
    "gists_url": "https://api.github.com/users/cgewecke/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/cgewecke/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/cgewecke/subscriptions",
    "organizations_url": "https://api.github.com/users/cgewecke/orgs",
    "repos_url": "https://api.github.com/users/cgewecke/repos",
    "events_url": "https://api.github.com/users/cgewecke/events{/privacy}",
    "received_events_url": "https://api.github.com/users/cgewecke/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/741/reactions",
    "total_count": 1,
    "+1": 1,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/trufflesuite/truffle/issues/741/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/356287966",
    "html_url": "https://github.com/trufflesuite/truffle/issues/741#issuecomment-356287966",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/741",
    "id": 356287966,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1NjI4Nzk2Ng==",
    "user": {
      "login": "chuacw",
      "id": 1757930,
      "node_id": "MDQ6VXNlcjE3NTc5MzA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1757930?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chuacw",
      "html_url": "https://github.com/chuacw",
      "followers_url": "https://api.github.com/users/chuacw/followers",
      "following_url": "https://api.github.com/users/chuacw/following{/other_user}",
      "gists_url": "https://api.github.com/users/chuacw/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chuacw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chuacw/subscriptions",
      "organizations_url": "https://api.github.com/users/chuacw/orgs",
      "repos_url": "https://api.github.com/users/chuacw/repos",
      "events_url": "https://api.github.com/users/chuacw/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chuacw/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-01-09T13:46:31Z",
    "updated_at": "2018-01-09T13:46:31Z",
    "author_association": "NONE",
    "body": "Use evm_increaseTime to set or increase the current time to a point in future.\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/356287966/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/356298461",
    "html_url": "https://github.com/trufflesuite/truffle/issues/741#issuecomment-356298461",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/741",
    "id": 356298461,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1NjI5ODQ2MQ==",
    "user": {
      "login": "JackPickering",
      "id": 16956871,
      "node_id": "MDQ6VXNlcjE2OTU2ODcx",
      "avatar_url": "https://avatars.githubusercontent.com/u/16956871?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/JackPickering",
      "html_url": "https://github.com/JackPickering",
      "followers_url": "https://api.github.com/users/JackPickering/followers",
      "following_url": "https://api.github.com/users/JackPickering/following{/other_user}",
      "gists_url": "https://api.github.com/users/JackPickering/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/JackPickering/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/JackPickering/subscriptions",
      "organizations_url": "https://api.github.com/users/JackPickering/orgs",
      "repos_url": "https://api.github.com/users/JackPickering/repos",
      "events_url": "https://api.github.com/users/JackPickering/events{/privacy}",
      "received_events_url": "https://api.github.com/users/JackPickering/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-01-09T14:26:58Z",
    "updated_at": "2018-01-09T14:28:24Z",
    "author_association": "NONE",
    "body": "I do that, but my problem isnt with increasing time, its not knowing which test will run first (i.e. i could test A in month 1, B in month2, C in month 3 and D in month 4) \r\n\r\nBut to make sure each test only lasts 1 month and the stages work correctly, I must specify a time stamp for the start of each sale, i.e. \r\nA = January 1st\r\nB = February 1st\r\nC = March 1st\r\nD = April 1st\r\n\r\nWhat do I do now if my tests run in reverse order? D wont start for 4 months and by the time it gets to test 1 it will have increased time 4 times to month 4 therefore A would have finished failing all of my tests.\r\n  ",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/356298461/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/356298746",
    "html_url": "https://github.com/trufflesuite/truffle/issues/741#issuecomment-356298746",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/741",
    "id": 356298746,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1NjI5ODc0Ng==",
    "user": {
      "login": "JackPickering",
      "id": 16956871,
      "node_id": "MDQ6VXNlcjE2OTU2ODcx",
      "avatar_url": "https://avatars.githubusercontent.com/u/16956871?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/JackPickering",
      "html_url": "https://github.com/JackPickering",
      "followers_url": "https://api.github.com/users/JackPickering/followers",
      "following_url": "https://api.github.com/users/JackPickering/following{/other_user}",
      "gists_url": "https://api.github.com/users/JackPickering/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/JackPickering/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/JackPickering/subscriptions",
      "organizations_url": "https://api.github.com/users/JackPickering/orgs",
      "repos_url": "https://api.github.com/users/JackPickering/repos",
      "events_url": "https://api.github.com/users/JackPickering/events{/privacy}",
      "received_events_url": "https://api.github.com/users/JackPickering/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-01-09T14:27:54Z",
    "updated_at": "2018-01-09T14:27:54Z",
    "author_association": "NONE",
    "body": "I got round this by changing my contract to start the sales on the 'latest' block in the chain. But seen as though I have to change my contract to suit the tests I feel like this is a quick fix issue which can be fixed by a simple configuration specification in order to allow people to specify in what order the test files are ran...",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/356298746/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/356303357",
    "html_url": "https://github.com/trufflesuite/truffle/issues/741#issuecomment-356303357",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/741",
    "id": 356303357,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1NjMwMzM1Nw==",
    "user": {
      "login": "chuacw",
      "id": 1757930,
      "node_id": "MDQ6VXNlcjE3NTc5MzA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1757930?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chuacw",
      "html_url": "https://github.com/chuacw",
      "followers_url": "https://api.github.com/users/chuacw/followers",
      "following_url": "https://api.github.com/users/chuacw/following{/other_user}",
      "gists_url": "https://api.github.com/users/chuacw/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chuacw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chuacw/subscriptions",
      "organizations_url": "https://api.github.com/users/chuacw/orgs",
      "repos_url": "https://api.github.com/users/chuacw/repos",
      "events_url": "https://api.github.com/users/chuacw/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chuacw/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-01-09T14:43:55Z",
    "updated_at": "2018-01-09T14:43:55Z",
    "author_association": "NONE",
    "body": "Well, you can name your files with a 1-digit numeric prefix, if you have less than 10 files, in ascending order of execution.\r\neg, 1_this_first.js, 2_next.js, etc.\r\n\r\nThey will be executed in that order, the file with the lowest numerical prefix will be executed first.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/356303357/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/356324830",
    "html_url": "https://github.com/trufflesuite/truffle/issues/741#issuecomment-356324830",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/741",
    "id": 356324830,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1NjMyNDgzMA==",
    "user": {
      "login": "JackPickering",
      "id": 16956871,
      "node_id": "MDQ6VXNlcjE2OTU2ODcx",
      "avatar_url": "https://avatars.githubusercontent.com/u/16956871?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/JackPickering",
      "html_url": "https://github.com/JackPickering",
      "followers_url": "https://api.github.com/users/JackPickering/followers",
      "following_url": "https://api.github.com/users/JackPickering/following{/other_user}",
      "gists_url": "https://api.github.com/users/JackPickering/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/JackPickering/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/JackPickering/subscriptions",
      "organizations_url": "https://api.github.com/users/JackPickering/orgs",
      "repos_url": "https://api.github.com/users/JackPickering/repos",
      "events_url": "https://api.github.com/users/JackPickering/events{/privacy}",
      "received_events_url": "https://api.github.com/users/JackPickering/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-01-09T15:53:13Z",
    "updated_at": "2018-01-09T15:53:13Z",
    "author_association": "NONE",
    "body": "Thats what it used to do, but it not longer does that, I have 1_, 2_, 3_ prefixes before my filenames and it still executes in random order",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/356324830/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/356324961",
    "html_url": "https://github.com/trufflesuite/truffle/issues/741#issuecomment-356324961",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/741",
    "id": 356324961,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1NjMyNDk2MQ==",
    "user": {
      "login": "JackPickering",
      "id": 16956871,
      "node_id": "MDQ6VXNlcjE2OTU2ODcx",
      "avatar_url": "https://avatars.githubusercontent.com/u/16956871?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/JackPickering",
      "html_url": "https://github.com/JackPickering",
      "followers_url": "https://api.github.com/users/JackPickering/followers",
      "following_url": "https://api.github.com/users/JackPickering/following{/other_user}",
      "gists_url": "https://api.github.com/users/JackPickering/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/JackPickering/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/JackPickering/subscriptions",
      "organizations_url": "https://api.github.com/users/JackPickering/orgs",
      "repos_url": "https://api.github.com/users/JackPickering/repos",
      "events_url": "https://api.github.com/users/JackPickering/events{/privacy}",
      "received_events_url": "https://api.github.com/users/JackPickering/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-01-09T15:53:36Z",
    "updated_at": "2018-01-09T15:53:36Z",
    "author_association": "NONE",
    "body": "All of these are still quick fixes to a seemingly simply change on Truffles end",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/356324961/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/357323264",
    "html_url": "https://github.com/trufflesuite/truffle/issues/741#issuecomment-357323264",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/741",
    "id": 357323264,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1NzMyMzI2NA==",
    "user": {
      "login": "SCBuergel",
      "id": 11379673,
      "node_id": "MDQ6VXNlcjExMzc5Njcz",
      "avatar_url": "https://avatars.githubusercontent.com/u/11379673?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/SCBuergel",
      "html_url": "https://github.com/SCBuergel",
      "followers_url": "https://api.github.com/users/SCBuergel/followers",
      "following_url": "https://api.github.com/users/SCBuergel/following{/other_user}",
      "gists_url": "https://api.github.com/users/SCBuergel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/SCBuergel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SCBuergel/subscriptions",
      "organizations_url": "https://api.github.com/users/SCBuergel/orgs",
      "repos_url": "https://api.github.com/users/SCBuergel/repos",
      "events_url": "https://api.github.com/users/SCBuergel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/SCBuergel/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-01-12T18:54:56Z",
    "updated_at": "2018-01-12T18:54:56Z",
    "author_association": "NONE",
    "body": ">They will be executed in that order, the file with the lowest numerical prefix will be executed first.\r\n\r\n@chuacw our tests are being executed in arbitrary order and that order changes from one test to another. IMO integration tests with complex dependencies are surfacing a lot more crucial issues than simple unit tests and therefore this feature would be highly relevant for smart contract security in general.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/357323264/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/357355283",
    "html_url": "https://github.com/trufflesuite/truffle/issues/741#issuecomment-357355283",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/741",
    "id": 357355283,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1NzM1NTI4Mw==",
    "user": {
      "login": "cgewecke",
      "id": 7332026,
      "node_id": "MDQ6VXNlcjczMzIwMjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7332026?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cgewecke",
      "html_url": "https://github.com/cgewecke",
      "followers_url": "https://api.github.com/users/cgewecke/followers",
      "following_url": "https://api.github.com/users/cgewecke/following{/other_user}",
      "gists_url": "https://api.github.com/users/cgewecke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cgewecke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cgewecke/subscriptions",
      "organizations_url": "https://api.github.com/users/cgewecke/orgs",
      "repos_url": "https://api.github.com/users/cgewecke/repos",
      "events_url": "https://api.github.com/users/cgewecke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cgewecke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-01-12T21:12:33Z",
    "updated_at": "2018-01-14T11:39:04Z",
    "author_association": "CONTRIBUTOR",
    "body": "@JackPickering @SCBuergel - Have looked into this a bit and it seems like:\r\n+ mocha executes test suites serially\r\n+ on linux and mac Truffle ingests tests files in in alphabetical order\r\n+ on windows, that order isn't guaranteed.\r\n+ Truffle maintains the file ordering as it defines mocha suites. \r\n\r\nThat said, it's possible tests executing in arbitrary order might be caused by not returning promise chains to Mocha / not using the `done` method. \r\n\r\n@JackPickering - could you see if this problem goes away if you return `.then` promise chains like [this in Capped_ICO](https://github.com/JackPickering/Capped_ICO/blob/master/test/7Crowdsale_Stages_Test.js#L119-L129)  as below? This step doesn't need to be taken for async / await tests. \r\n\r\n```javascript\r\nit('executes serially', function(){\r\n  return myAsyncMethod().then(function(){\r\n      return anotherAsyncMethod().then( .... etc .. \r\n})\r\n``` \r\n\r\n[Guide](http://tobyho.com/2015/12/16/mocha-with-promises/) to promises in Mocha. \r\n\r\n[Edited for accuracy because initial comment confused the division of labor between truffle and mocha]",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/357355283/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/357360821",
    "html_url": "https://github.com/trufflesuite/truffle/issues/741#issuecomment-357360821",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/741",
    "id": 357360821,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1NzM2MDgyMQ==",
    "user": {
      "login": "SCBuergel",
      "id": 11379673,
      "node_id": "MDQ6VXNlcjExMzc5Njcz",
      "avatar_url": "https://avatars.githubusercontent.com/u/11379673?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/SCBuergel",
      "html_url": "https://github.com/SCBuergel",
      "followers_url": "https://api.github.com/users/SCBuergel/followers",
      "following_url": "https://api.github.com/users/SCBuergel/following{/other_user}",
      "gists_url": "https://api.github.com/users/SCBuergel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/SCBuergel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SCBuergel/subscriptions",
      "organizations_url": "https://api.github.com/users/SCBuergel/orgs",
      "repos_url": "https://api.github.com/users/SCBuergel/repos",
      "events_url": "https://api.github.com/users/SCBuergel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/SCBuergel/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-01-12T21:35:38Z",
    "updated_at": "2018-01-12T21:35:38Z",
    "author_association": "NONE",
    "body": "Thank you for providing all these insights @cgewecke.\r\n\r\n> on linux and mac it executes them in alphabetical order\r\n\r\nNo, I'm on mac and the order seems to be random at times (it is mostly ok, hard to reproduce when it's not).\r\n\r\n> That said, it's possible tests executing in arbitrary order might be caused by not returning promise chains to Mocha / not using the done method.\r\n\r\nI always break all my fingers when working with promises, hence I'm doing async/await. Maybe that adds to the problem.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/357360821/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 1,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/357506041",
    "html_url": "https://github.com/trufflesuite/truffle/issues/741#issuecomment-357506041",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/741",
    "id": 357506041,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1NzUwNjA0MQ==",
    "user": {
      "login": "cgewecke",
      "id": 7332026,
      "node_id": "MDQ6VXNlcjczMzIwMjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7332026?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cgewecke",
      "html_url": "https://github.com/cgewecke",
      "followers_url": "https://api.github.com/users/cgewecke/followers",
      "following_url": "https://api.github.com/users/cgewecke/following{/other_user}",
      "gists_url": "https://api.github.com/users/cgewecke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cgewecke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cgewecke/subscriptions",
      "organizations_url": "https://api.github.com/users/cgewecke/orgs",
      "repos_url": "https://api.github.com/users/cgewecke/repos",
      "events_url": "https://api.github.com/users/cgewecke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cgewecke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-01-14T11:47:17Z",
    "updated_at": "2018-01-14T11:47:17Z",
    "author_association": "CONTRIBUTOR",
    "body": "@SCBuergel Thanks for the kind words. I don't think my analysis is correct on reflection. Dropped promises shouldn't change the execution order of the suites - they should just result in the test executing synchronously. The only relevant case I've seen in the issues at mocha is where someone makes their describe an async function, which could happen by accident. This merits more investigation . . .",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/357506041/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/357743106",
    "html_url": "https://github.com/trufflesuite/truffle/issues/741#issuecomment-357743106",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/741",
    "id": 357743106,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1Nzc0MzEwNg==",
    "user": {
      "login": "cgewecke",
      "id": 7332026,
      "node_id": "MDQ6VXNlcjczMzIwMjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7332026?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cgewecke",
      "html_url": "https://github.com/cgewecke",
      "followers_url": "https://api.github.com/users/cgewecke/followers",
      "following_url": "https://api.github.com/users/cgewecke/following{/other_user}",
      "gists_url": "https://api.github.com/users/cgewecke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cgewecke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cgewecke/subscriptions",
      "organizations_url": "https://api.github.com/users/cgewecke/orgs",
      "repos_url": "https://api.github.com/users/cgewecke/repos",
      "events_url": "https://api.github.com/users/cgewecke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cgewecke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-01-15T17:16:51Z",
    "updated_at": "2018-01-15T17:16:51Z",
    "author_association": "CONTRIBUTOR",
    "body": "@JackPickering If you could point me in the direction of a public repo where this problem is reproducible it would be helpful. At the moment when I look around at various  projects in CI that use Truffle 4 I see all their tests running in strict alphabetical order (on Linux) without variance.  See [zeppelin-solidity](https://travis-ci.org/OpenZeppelin/zeppelin-solidity/jobs/324185757).\r\n\r\nIf your project is private, could you check to see whether you have accidentally defined any `describe` blocks within the tests as `async function`? Thanks!",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/357743106/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/358828312",
    "html_url": "https://github.com/trufflesuite/truffle/issues/741#issuecomment-358828312",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/741",
    "id": 358828312,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1ODgyODMxMg==",
    "user": {
      "login": "cgewecke",
      "id": 7332026,
      "node_id": "MDQ6VXNlcjczMzIwMjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7332026?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cgewecke",
      "html_url": "https://github.com/cgewecke",
      "followers_url": "https://api.github.com/users/cgewecke/followers",
      "following_url": "https://api.github.com/users/cgewecke/following{/other_user}",
      "gists_url": "https://api.github.com/users/cgewecke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cgewecke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cgewecke/subscriptions",
      "organizations_url": "https://api.github.com/users/cgewecke/orgs",
      "repos_url": "https://api.github.com/users/cgewecke/repos",
      "events_url": "https://api.github.com/users/cgewecke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cgewecke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-01-19T00:30:40Z",
    "updated_at": "2018-01-19T00:30:40Z",
    "author_association": "CONTRIBUTOR",
    "body": "I've looked some more and I'm not seeing this in the CI records of any other Truffle projects that use Truffle 4. So, reluctantly closing but please re-open or ping here if anyone has a reproducible case. ",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/358828312/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
