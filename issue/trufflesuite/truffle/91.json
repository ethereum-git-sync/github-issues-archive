{
  "url": "https://api.github.com/repos/trufflesuite/truffle/issues/91",
  "repository_url": "https://api.github.com/repos/trufflesuite/truffle",
  "labels_url": "https://api.github.com/repos/trufflesuite/truffle/issues/91/labels{/name}",
  "comments_url": "https://api.github.com/repos/trufflesuite/truffle/issues/91/comments",
  "events_url": "https://api.github.com/repos/trufflesuite/truffle/issues/91/events",
  "html_url": "https://github.com/trufflesuite/truffle/issues/91",
  "id": 133162148,
  "node_id": "MDU6SXNzdWUxMzMxNjIxNDg=",
  "number": 91,
  "title": "Compilation Error: Expected identifier uint[2][] memory arrayOfPairs = new uint[2][](size);",
  "user": {
    "login": "MeLoco1",
    "id": 4593491,
    "node_id": "MDQ6VXNlcjQ1OTM0OTE=",
    "avatar_url": "https://avatars.githubusercontent.com/u/4593491?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/MeLoco1",
    "html_url": "https://github.com/MeLoco1",
    "followers_url": "https://api.github.com/users/MeLoco1/followers",
    "following_url": "https://api.github.com/users/MeLoco1/following{/other_user}",
    "gists_url": "https://api.github.com/users/MeLoco1/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/MeLoco1/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/MeLoco1/subscriptions",
    "organizations_url": "https://api.github.com/users/MeLoco1/orgs",
    "repos_url": "https://api.github.com/users/MeLoco1/repos",
    "events_url": "https://api.github.com/users/MeLoco1/events{/privacy}",
    "received_events_url": "https://api.github.com/users/MeLoco1/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 5,
  "created_at": "2016-02-12T05:40:39Z",
  "updated_at": "2016-07-22T17:58:32Z",
  "closed_at": "2016-07-22T17:58:32Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "I took example contract from here http://solidity.readthedocs.org/en/latest/types.html?highlight=type%20conversion#arrays\n`contract ArrayContract {\n  uint[2**20] m_aLotOfIntegers;\n  // Note that the following is not a pair of arrays but an array of pairs.\n  bool[2][] m_pairsOfFlags;\n  // newPairs is stored in memory - the default for function arguments\n  function setAllFlagPairs(bool[2][] newPairs) {\n    // assignment to a storage array replaces the complete array\n    m_pairsOfFlags = newPairs;\n  }\n  function setFlagPair(uint index, bool flagA, bool flagB) {\n    // access to a non-existing index will throw an exception\n    m_pairsOfFlags[index][0] = flagA;\n    m_pairsOfFlags[index][1] = flagB;\n  }\n  function changeFlagArraySize(uint newSize) {\n    // if the new size is smaller, removed array elements will be cleared\n    m_pairsOfFlags.length = newSize;\n  }\n  function clear() {\n    // these clear the arrays completely\n    delete m_pairsOfFlags;\n    delete m_aLotOfIntegers;\n    // identical effect here\n    m_pairsOfFlags.length = 0;\n  }\n  bytes m_byteData;\n  function byteArrays(bytes data) {\n    // byte arrays (\"bytes\") are different as they are stored without padding,\n    // but can be treated identical to \"uint8[]\"\n    m_byteData = data;\n    m_byteData.length += 7;\n    m_byteData[3] = 8;\n    delete m_byteData[2];\n  }\n  function addFlag(bool[2] flag) returns (uint) {\n    return m_pairsOfFlags.push(flag);\n  }\n  function createMemoryArray(uint size) returns (bytes) {\n    // Dynamic memory arrays are created using`new`:\n    uint[2][] memory arrayOfPairs = new uint[2][](size);\n    // Create a dynamic byte array:\n    bytes memory b = new bytes(200);\n    for (uint i = 0; i < b.length; i++)\n      b[i] = byte(i);\n    return b;\n  }\n}`\n\nOn attempt to compile the contract I get an error:\nCompiling ./contracts/ArrayContract.sol...\nError compiling ./contracts/ArrayContract.sol:\n\n:30:45: Error: Expected identifier\n        uint[2][] memory arrayOfPairs = new uint[2][](size);\n\nThis contract successfully compiled here: https://www.etherchain.org/solc\n\n--vtruffle --version\nTruffle v0.3.1 - a development framework for Ethereum\n\n testrpc\nEthereumJS TestRPC v0.1.1\n",
  "closed_by": {
    "login": "tcoulter",
    "id": 92629,
    "node_id": "MDQ6VXNlcjkyNjI5",
    "avatar_url": "https://avatars.githubusercontent.com/u/92629?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/tcoulter",
    "html_url": "https://github.com/tcoulter",
    "followers_url": "https://api.github.com/users/tcoulter/followers",
    "following_url": "https://api.github.com/users/tcoulter/following{/other_user}",
    "gists_url": "https://api.github.com/users/tcoulter/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/tcoulter/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/tcoulter/subscriptions",
    "organizations_url": "https://api.github.com/users/tcoulter/orgs",
    "repos_url": "https://api.github.com/users/tcoulter/repos",
    "events_url": "https://api.github.com/users/tcoulter/events{/privacy}",
    "received_events_url": "https://api.github.com/users/tcoulter/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/91/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/trufflesuite/truffle/issues/91/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/183499058",
    "html_url": "https://github.com/trufflesuite/truffle/issues/91#issuecomment-183499058",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/91",
    "id": 183499058,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE4MzQ5OTA1OA==",
    "user": {
      "login": "tcoulter",
      "id": 92629,
      "node_id": "MDQ6VXNlcjkyNjI5",
      "avatar_url": "https://avatars.githubusercontent.com/u/92629?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tcoulter",
      "html_url": "https://github.com/tcoulter",
      "followers_url": "https://api.github.com/users/tcoulter/followers",
      "following_url": "https://api.github.com/users/tcoulter/following{/other_user}",
      "gists_url": "https://api.github.com/users/tcoulter/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tcoulter/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tcoulter/subscriptions",
      "organizations_url": "https://api.github.com/users/tcoulter/orgs",
      "repos_url": "https://api.github.com/users/tcoulter/repos",
      "events_url": "https://api.github.com/users/tcoulter/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tcoulter/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-02-12T21:44:44Z",
    "updated_at": "2016-02-12T21:44:44Z",
    "author_association": "CONTRIBUTOR",
    "body": "I'm surprised this compiles:\n\n```\nuint[2][] memory arrayOfPairs = new uint[2];\n```\n\nUnless that's a bad copy paste. Because it looks like you're trying to instantiate a new single-dimensional array and store it in a variable defined as a multi-dimensional array.\n",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/183499058/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/183499322",
    "html_url": "https://github.com/trufflesuite/truffle/issues/91#issuecomment-183499322",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/91",
    "id": 183499322,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE4MzQ5OTMyMg==",
    "user": {
      "login": "tcoulter",
      "id": 92629,
      "node_id": "MDQ6VXNlcjkyNjI5",
      "avatar_url": "https://avatars.githubusercontent.com/u/92629?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tcoulter",
      "html_url": "https://github.com/tcoulter",
      "followers_url": "https://api.github.com/users/tcoulter/followers",
      "following_url": "https://api.github.com/users/tcoulter/following{/other_user}",
      "gists_url": "https://api.github.com/users/tcoulter/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tcoulter/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tcoulter/subscriptions",
      "organizations_url": "https://api.github.com/users/tcoulter/orgs",
      "repos_url": "https://api.github.com/users/tcoulter/repos",
      "events_url": "https://api.github.com/users/tcoulter/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tcoulter/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-02-12T21:45:16Z",
    "updated_at": "2016-02-12T21:45:16Z",
    "author_association": "CONTRIBUTOR",
    "body": "But - Solidity arrays are weird, so I wouldn't be surprised if I'm wrong.\n",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/183499322/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/183599647",
    "html_url": "https://github.com/trufflesuite/truffle/issues/91#issuecomment-183599647",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/91",
    "id": 183599647,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE4MzU5OTY0Nw==",
    "user": {
      "login": "MeLoco1",
      "id": 4593491,
      "node_id": "MDQ6VXNlcjQ1OTM0OTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4593491?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MeLoco1",
      "html_url": "https://github.com/MeLoco1",
      "followers_url": "https://api.github.com/users/MeLoco1/followers",
      "following_url": "https://api.github.com/users/MeLoco1/following{/other_user}",
      "gists_url": "https://api.github.com/users/MeLoco1/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MeLoco1/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MeLoco1/subscriptions",
      "organizations_url": "https://api.github.com/users/MeLoco1/orgs",
      "repos_url": "https://api.github.com/users/MeLoco1/repos",
      "events_url": "https://api.github.com/users/MeLoco1/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MeLoco1/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-02-13T05:48:41Z",
    "updated_at": "2016-02-13T05:48:41Z",
    "author_association": "NONE",
    "body": "This copy pasted the output from the command line. In contract it looks like this:\n\n```\nfunction createMemoryArray(uint size) returns (bytes) {\n\n// Dynamic memory arrays are created using `new`:\nuint[2][] memory arrayOfPairs = new uint[2][](size);\n\n// Create a dynamic byte array:\nbytes memory b = new bytes(200);\nfor (uint i = 0; i < b.length; i++)\n  b[i] = byte(i);\nreturn b;\n}\n```\n\nIt is an example from solidity array specification\nhttp://solidity.readthedocs.org/en/latest/types.html?highlight=type%20conversion#arrays\n",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/183599647/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/187544564",
    "html_url": "https://github.com/trufflesuite/truffle/issues/91#issuecomment-187544564",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/91",
    "id": 187544564,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE4NzU0NDU2NA==",
    "user": {
      "login": "MeLoco1",
      "id": 4593491,
      "node_id": "MDQ6VXNlcjQ1OTM0OTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4593491?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MeLoco1",
      "html_url": "https://github.com/MeLoco1",
      "followers_url": "https://api.github.com/users/MeLoco1/followers",
      "following_url": "https://api.github.com/users/MeLoco1/following{/other_user}",
      "gists_url": "https://api.github.com/users/MeLoco1/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MeLoco1/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MeLoco1/subscriptions",
      "organizations_url": "https://api.github.com/users/MeLoco1/orgs",
      "repos_url": "https://api.github.com/users/MeLoco1/repos",
      "events_url": "https://api.github.com/users/MeLoco1/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MeLoco1/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-02-23T05:30:10Z",
    "updated_at": "2016-02-23T05:30:10Z",
    "author_association": "NONE",
    "body": "That's really an issue. Check the contract:\n `\n    contract MultiAssetContract {\n\n```\nstruct Asset {\n    bytes32 symbol;\n    uint8 baseUnit;\n    bytes32 name;\n    bytes32 description;\n    mapping (address => uint) index;\n    address[] holders;\n    uint[] amounts;\n}\n\nmapping(bytes32 => uint) public assetIndex;\nAsset[] public assets;\n\nfunction issueAsset() returns (bool) {\n    bytes32 symbol = \"LCC\";\n\n    if (assetIndex[symbol] > 0) {\n        return false;\n    }\n    uint pos = assets.length++;\n\n    assets[pos] = Asset({\n        symbol: symbol,\n        holders: new address[](2),\n        amounts: new uint[](2),\n        name: \"Coin\",\n        description: \"My coins\",\n        baseUnit: 1\n    });\n\n    return true;\n}\n}\n```\n\n`\n\nit successfully has been compiled in https://chriseth.github.io/browser-solidity/\nand works in Ethereum network. \nHowever `truffle compile` fails with:\n\nError compiling ./contracts/MultiAssetContract.sol:\n\n:27:26: Error: Expected identifier\n            holders: new address[](2),\n                         ^ \n",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/187544564/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/234612591",
    "html_url": "https://github.com/trufflesuite/truffle/issues/91#issuecomment-234612591",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/91",
    "id": 234612591,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzNDYxMjU5MQ==",
    "user": {
      "login": "tcoulter",
      "id": 92629,
      "node_id": "MDQ6VXNlcjkyNjI5",
      "avatar_url": "https://avatars.githubusercontent.com/u/92629?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tcoulter",
      "html_url": "https://github.com/tcoulter",
      "followers_url": "https://api.github.com/users/tcoulter/followers",
      "following_url": "https://api.github.com/users/tcoulter/following{/other_user}",
      "gists_url": "https://api.github.com/users/tcoulter/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tcoulter/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tcoulter/subscriptions",
      "organizations_url": "https://api.github.com/users/tcoulter/orgs",
      "repos_url": "https://api.github.com/users/tcoulter/repos",
      "events_url": "https://api.github.com/users/tcoulter/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tcoulter/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-07-22T17:58:32Z",
    "updated_at": "2016-07-22T17:58:32Z",
    "author_association": "CONTRIBUTOR",
    "body": "My response to this has been long overdue. This compile fine now on Truffle 2.0. My guess is that since this was reported, solc has been upgraded many times, which fixed the issue. Let me know if you still run into it. Thanks!\n",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/234612591/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
