{
  "url": "https://api.github.com/repos/trufflesuite/truffle/issues/2903",
  "repository_url": "https://api.github.com/repos/trufflesuite/truffle",
  "labels_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2903/labels{/name}",
  "comments_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2903/comments",
  "events_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2903/events",
  "html_url": "https://github.com/trufflesuite/truffle/issues/2903",
  "id": 584749786,
  "node_id": "MDU6SXNzdWU1ODQ3NDk3ODY=",
  "number": 2903,
  "title": "add   \"networkType\": \"quorum\" for non migrated contract in kaleido quorum network",
  "user": {
    "login": "EmanHerawy",
    "id": 10674070,
    "node_id": "MDQ6VXNlcjEwNjc0MDcw",
    "avatar_url": "https://avatars.githubusercontent.com/u/10674070?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/EmanHerawy",
    "html_url": "https://github.com/EmanHerawy",
    "followers_url": "https://api.github.com/users/EmanHerawy/followers",
    "following_url": "https://api.github.com/users/EmanHerawy/following{/other_user}",
    "gists_url": "https://api.github.com/users/EmanHerawy/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/EmanHerawy/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/EmanHerawy/subscriptions",
    "organizations_url": "https://api.github.com/users/EmanHerawy/orgs",
    "repos_url": "https://api.github.com/users/EmanHerawy/repos",
    "events_url": "https://api.github.com/users/EmanHerawy/events{/privacy}",
    "received_events_url": "https://api.github.com/users/EmanHerawy/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 1675042241,
      "node_id": "MDU6TGFiZWwxNjc1MDQyMjQx",
      "url": "https://api.github.com/repos/trufflesuite/truffle/labels/priority5%20%F0%9F%8C%80",
      "name": "priority5 üåÄ",
      "color": "006b75",
      "default": false,
      "description": ""
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 3,
  "created_at": "2020-03-19T23:05:46Z",
  "updated_at": "2022-05-26T18:49:45Z",
  "closed_at": null,
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "- [ ] I've asked for help in the [Truffle Gitter](http://gitter.im/Consensys/truffle) before filing this issue.\r\n\r\n---------------------------\r\n\r\n## Issue\r\nHi all,\r\nI'm developing a react native app using ( kaleido quorum network , truffle and truffle-contract & web3js) but it doesn't work well with non migrated contract \r\nin the front end , if i'm calling any migrated contract , it works fine .\r\n\r\nWhat the issue is, in broad strokes.\r\n I'm using factory contract to create new contract \" these contract are not migrated \" whenever I try to call them , I found this issue \r\n\r\n![image](https://user-images.githubusercontent.com/10674070/77121658-61d6aa00-6a44-11ea-983c-eb66fb994c76.png)\r\n\r\n## How I could solve it \r\nI have updated the contract artifacts by adding `\"networkType\": \"quorum\"` , and it works fine now \r\n- migrated contract [https://github.com/Yallah-Clean/yc-smart-contract/blob/master/build/contracts/YallaCleanToken.json#L1070](url)\r\n- non migrated contract [https://github.com/Yallah-Clean/yc-smart-contract/blob/master/build/contracts/UserWallet.json#L8091](url)\r\n\r\n## Environment\r\n\r\n* Operating System: \r\n* Ethereum client:\r\n* Truffle version (`truffle version`): Truffle v5.1.9\r\n* node version (`node --version`): node v10.18.1 \r\n* npm version (`npm --version`): npm v6.13.4\r\n\r\nI'm not sure what is the best way to solve the issue, I was thinking of forcing compilation when migration and adjust the artifacts  based on the migration network config but I found that this is not the best solution as we sometimes we need to migrate the files to multiple networks . this issue is just to save other developers time , if anyone has encountered the same problem \r\n",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/2903/reactions",
    "total_count": 1,
    "+1": 1,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2903/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/601465525",
    "html_url": "https://github.com/trufflesuite/truffle/issues/2903#issuecomment-601465525",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2903",
    "id": 601465525,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYwMTQ2NTUyNQ==",
    "user": {
      "login": "nubiaprince",
      "id": 6148021,
      "node_id": "MDQ6VXNlcjYxNDgwMjE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6148021?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nubiaprince",
      "html_url": "https://github.com/nubiaprince",
      "followers_url": "https://api.github.com/users/nubiaprince/followers",
      "following_url": "https://api.github.com/users/nubiaprince/following{/other_user}",
      "gists_url": "https://api.github.com/users/nubiaprince/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nubiaprince/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nubiaprince/subscriptions",
      "organizations_url": "https://api.github.com/users/nubiaprince/orgs",
      "repos_url": "https://api.github.com/users/nubiaprince/repos",
      "events_url": "https://api.github.com/users/nubiaprince/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nubiaprince/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-03-19T23:40:35Z",
    "updated_at": "2020-03-19T23:40:35Z",
    "author_association": "NONE",
    "body": "Good job @EmanHerawy \r\nKeep going üëçüèº",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/601465525/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 1,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/603984953",
    "html_url": "https://github.com/trufflesuite/truffle/issues/2903#issuecomment-603984953",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2903",
    "id": 603984953,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYwMzk4NDk1Mw==",
    "user": {
      "login": "gnidan",
      "id": 151065,
      "node_id": "MDQ6VXNlcjE1MTA2NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/151065?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gnidan",
      "html_url": "https://github.com/gnidan",
      "followers_url": "https://api.github.com/users/gnidan/followers",
      "following_url": "https://api.github.com/users/gnidan/following{/other_user}",
      "gists_url": "https://api.github.com/users/gnidan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gnidan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gnidan/subscriptions",
      "organizations_url": "https://api.github.com/users/gnidan/orgs",
      "repos_url": "https://api.github.com/users/gnidan/repos",
      "events_url": "https://api.github.com/users/gnidan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gnidan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-03-25T17:42:00Z",
    "updated_at": "2020-03-25T17:42:00Z",
    "author_association": "MEMBER",
    "body": "Interesting problem, thanks for bringing to our attention!\r\n\r\nI think the solution here is non-trivial, since that `networkType` field shouldn't necessarily live in that location - for instance, the same contract could be used for both `quorum` and `ethereum` network types, so `networkType` should theoretically be a property per-network.\r\n\r\nI think we should wait to add this field to the artifacts until we can move it to the right place. In the meantime, you might be stuck with the workaround of manually putting it there (sorry!).\r\n\r\nPutting this on our backlog to revisit in the near/mid future. Thanks again!",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/603984953/reactions",
      "total_count": 2,
      "+1": 2,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/605376605",
    "html_url": "https://github.com/trufflesuite/truffle/issues/2903#issuecomment-605376605",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2903",
    "id": 605376605,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYwNTM3NjYwNQ==",
    "user": {
      "login": "EmanHerawy",
      "id": 10674070,
      "node_id": "MDQ6VXNlcjEwNjc0MDcw",
      "avatar_url": "https://avatars.githubusercontent.com/u/10674070?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/EmanHerawy",
      "html_url": "https://github.com/EmanHerawy",
      "followers_url": "https://api.github.com/users/EmanHerawy/followers",
      "following_url": "https://api.github.com/users/EmanHerawy/following{/other_user}",
      "gists_url": "https://api.github.com/users/EmanHerawy/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/EmanHerawy/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/EmanHerawy/subscriptions",
      "organizations_url": "https://api.github.com/users/EmanHerawy/orgs",
      "repos_url": "https://api.github.com/users/EmanHerawy/repos",
      "events_url": "https://api.github.com/users/EmanHerawy/events{/privacy}",
      "received_events_url": "https://api.github.com/users/EmanHerawy/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-03-28T01:43:28Z",
    "updated_at": "2020-03-28T01:43:28Z",
    "author_association": "NONE",
    "body": "> Interesting problem, thanks for bringing to our attention!\r\n> \r\n> I think the solution here is non-trivial, since that `networkType` field shouldn't necessarily live in that location - for instance, the same contract could be used for both `quorum` and `ethereum` network types, so `networkType` should theoretically be a property per-network.\r\n> \r\n> I think we should wait to add this field to the artifacts until we can move it to the right place. In the meantime, you might be stuck with the workaround of manually putting it there (sorry!).\r\n> \r\n> Putting this on our backlog to revisit in the near/mid future. Thanks again!\r\n\r\nThanks for your decent reply!\r\nI Would love to help in fixing this if someone just guide me & I'm thinking of two ways of fixing :\r\n1- fix it in `truffle-contract`  ( something like add the network type with the provider) , in my opnion this is better and easier \r\n2- fix it in contract artifacts , by adding `networkType` in each network deploy and force compile with each migration  ( because we might need to deploy the same contract to different networks )and that require adjusting the `truffle-contract` as well to get this value from this nested object .\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/605376605/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
