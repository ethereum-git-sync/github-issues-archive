{
  "url": "https://api.github.com/repos/trufflesuite/truffle/issues/1912",
  "repository_url": "https://api.github.com/repos/trufflesuite/truffle",
  "labels_url": "https://api.github.com/repos/trufflesuite/truffle/issues/1912/labels{/name}",
  "comments_url": "https://api.github.com/repos/trufflesuite/truffle/issues/1912/comments",
  "events_url": "https://api.github.com/repos/trufflesuite/truffle/issues/1912/events",
  "html_url": "https://github.com/trufflesuite/truffle/issues/1912",
  "id": 433436928,
  "node_id": "MDU6SXNzdWU0MzM0MzY5Mjg=",
  "number": 1912,
  "title": "Security audit fail due to fixed tar dependency",
  "user": {
    "login": "wbt",
    "id": 563406,
    "node_id": "MDQ6VXNlcjU2MzQwNg==",
    "avatar_url": "https://avatars.githubusercontent.com/u/563406?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/wbt",
    "html_url": "https://github.com/wbt",
    "followers_url": "https://api.github.com/users/wbt/followers",
    "following_url": "https://api.github.com/users/wbt/following{/other_user}",
    "gists_url": "https://api.github.com/users/wbt/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/wbt/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/wbt/subscriptions",
    "organizations_url": "https://api.github.com/users/wbt/orgs",
    "repos_url": "https://api.github.com/users/wbt/repos",
    "events_url": "https://api.github.com/users/wbt/events{/privacy}",
    "received_events_url": "https://api.github.com/users/wbt/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 1125012066,
      "node_id": "MDU6TGFiZWwxMTI1MDEyMDY2",
      "url": "https://api.github.com/repos/trufflesuite/truffle/labels/on%20hold",
      "name": "on hold",
      "color": "c0d8f7",
      "default": false,
      "description": ""
    },
    {
      "id": 1289161117,
      "node_id": "MDU6TGFiZWwxMjg5MTYxMTE3",
      "url": "https://api.github.com/repos/trufflesuite/truffle/labels/web3",
      "name": "web3",
      "color": "477aef",
      "default": false,
      "description": ""
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 8,
  "created_at": "2019-04-15T19:14:25Z",
  "updated_at": "2019-07-03T15:07:04Z",
  "closed_at": null,
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "## Issue\r\nInstalling the latest truffle-contract produces security audit failures.\r\n\r\n## Steps to Reproduce\r\n0. Run `npm uninstall truffle-contract`\r\n1. Run `npm install truffle-contract`\r\n2. npm reports `+ truffle-contract@4.0.11`\r\n\r\n## Expected Behavior\r\nNo more output after that.\r\n\r\n## Actual Results\r\nnpm reports that it found vulnerabilities in the installed package.  \r\n`npm audit` gives details, such as: \r\n\r\n> High            Arbitrary File Overwrite\r\n> Package         tar\r\n> Patched in      >=4.4.2\r\n> Dependency of   truffle-contract\r\n> Path            truffle-contract > web3 > web3-bzz > swarm-js > tar.gz > tar\r\n> More info       https://npmjs.com/advisories/803\r\n\r\nIt [looks like](https://github.com/ethereum/web3.js/issues/2116) this is fixed in web3 v1.0.0-beta.38, so the fix might be just updating the dependency to a later version (also via the `truffle-interface-adapter` dependency).  However, I'm not sure how much else that might [break](https://github.com/ethereum/web3.js/issues/2679) so this is not a well-tested PR.\r\n\r\n## Environment\r\n* Operating System: Win 10 Pro\r\n* node version (`node --version`): 9.3.0\r\n* npm version (`npm --version`): 6.9.0\r\n",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/1912/reactions",
    "total_count": 4,
    "+1": 4,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/trufflesuite/truffle/issues/1912/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/484548588",
    "html_url": "https://github.com/trufflesuite/truffle/issues/1912#issuecomment-484548588",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/1912",
    "id": 484548588,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ4NDU0ODU4OA==",
    "user": {
      "login": "eggplantzzz",
      "id": 14827965,
      "node_id": "MDQ6VXNlcjE0ODI3OTY1",
      "avatar_url": "https://avatars.githubusercontent.com/u/14827965?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eggplantzzz",
      "html_url": "https://github.com/eggplantzzz",
      "followers_url": "https://api.github.com/users/eggplantzzz/followers",
      "following_url": "https://api.github.com/users/eggplantzzz/following{/other_user}",
      "gists_url": "https://api.github.com/users/eggplantzzz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eggplantzzz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eggplantzzz/subscriptions",
      "organizations_url": "https://api.github.com/users/eggplantzzz/orgs",
      "repos_url": "https://api.github.com/users/eggplantzzz/repos",
      "events_url": "https://api.github.com/users/eggplantzzz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eggplantzzz/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-04-18T15:07:01Z",
    "updated_at": "2019-04-18T15:07:01Z",
    "author_association": "CONTRIBUTOR",
    "body": "@wbt There has been a big discussion concerning web3 over the past few months. We would love to use the most recent web3 but there have been some big breaking changes in the last ~14 releases and they are too big for us to keep up with at the moment.\r\n\r\nHopefully we will be able to get all these resolved in the near future. You can check [this](https://github.com/ethereum/web3.js/issues/2684) out to get some more of the story.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/484548588/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/489182281",
    "html_url": "https://github.com/trufflesuite/truffle/issues/1912#issuecomment-489182281",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/1912",
    "id": 489182281,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ4OTE4MjI4MQ==",
    "user": {
      "login": "frangio",
      "id": 481465,
      "node_id": "MDQ6VXNlcjQ4MTQ2NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/481465?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/frangio",
      "html_url": "https://github.com/frangio",
      "followers_url": "https://api.github.com/users/frangio/followers",
      "following_url": "https://api.github.com/users/frangio/following{/other_user}",
      "gists_url": "https://api.github.com/users/frangio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/frangio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/frangio/subscriptions",
      "organizations_url": "https://api.github.com/users/frangio/orgs",
      "repos_url": "https://api.github.com/users/frangio/repos",
      "events_url": "https://api.github.com/users/frangio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/frangio/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-05-03T17:48:27Z",
    "updated_at": "2019-05-03T17:48:27Z",
    "author_association": "CONTRIBUTOR",
    "body": "@eggplantzzz Any updates on this? All repositories depending on Truffle are getting security alerts.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/489182281/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/489195546",
    "html_url": "https://github.com/trufflesuite/truffle/issues/1912#issuecomment-489195546",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/1912",
    "id": 489195546,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ4OTE5NTU0Ng==",
    "user": {
      "login": "wbt",
      "id": 563406,
      "node_id": "MDQ6VXNlcjU2MzQwNg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/563406?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/wbt",
      "html_url": "https://github.com/wbt",
      "followers_url": "https://api.github.com/users/wbt/followers",
      "following_url": "https://api.github.com/users/wbt/following{/other_user}",
      "gists_url": "https://api.github.com/users/wbt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/wbt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/wbt/subscriptions",
      "organizations_url": "https://api.github.com/users/wbt/orgs",
      "repos_url": "https://api.github.com/users/wbt/repos",
      "events_url": "https://api.github.com/users/wbt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/wbt/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-05-03T18:30:17Z",
    "updated_at": "2019-05-03T18:30:17Z",
    "author_association": "CONTRIBUTOR",
    "body": "@frangio There's an [open PR](https://github.com/trufflesuite/truffle/pull/1852) by @eggplantzzz to upgrade web3 to the beta53, but as noted above there are some big breaking changes.  There is at this time still unresolved discussion about how the version of Truffle incorporating that PR should be marked, to signal if users have to make changes in their code or not.  \r\n\r\nTruffle developers don't want to go up just one version in the 1.0.0-beta series (from 37 to 38) and deal with just the changes in that step, until they're making a big jump and dealing with all the breaking changes in all those intermediate steps, plus whatever other changes they've been waiting on for that next marker increment.  \r\n\r\nFor now, we are supposed to just accept that advances in what is described as technology for secure immutable data and secure decentralized interaction will bring security problems that can't be quickly fixed due to bottleneck centralization in the development process & governance. \r\n\r\nHowever, if you'd like to fix that bug in a fork, I'm guessing some security-sensitive developers might appreciate it! ",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/489195546/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/489229316",
    "html_url": "https://github.com/trufflesuite/truffle/issues/1912#issuecomment-489229316",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/1912",
    "id": 489229316,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ4OTIyOTMxNg==",
    "user": {
      "login": "frangio",
      "id": 481465,
      "node_id": "MDQ6VXNlcjQ4MTQ2NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/481465?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/frangio",
      "html_url": "https://github.com/frangio",
      "followers_url": "https://api.github.com/users/frangio/followers",
      "following_url": "https://api.github.com/users/frangio/following{/other_user}",
      "gists_url": "https://api.github.com/users/frangio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/frangio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/frangio/subscriptions",
      "organizations_url": "https://api.github.com/users/frangio/orgs",
      "repos_url": "https://api.github.com/users/frangio/repos",
      "events_url": "https://api.github.com/users/frangio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/frangio/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-05-03T20:27:19Z",
    "updated_at": "2019-05-03T20:27:19Z",
    "author_association": "CONTRIBUTOR",
    "body": "It's certainly a possibility that everyone will begin using their own fork soon... I don't want that to happen, it should be fixed upstream, but I see that it's a complex situation.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/489229316/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/492290806",
    "html_url": "https://github.com/trufflesuite/truffle/issues/1912#issuecomment-492290806",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/1912",
    "id": 492290806,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5MjI5MDgwNg==",
    "user": {
      "login": "nivida",
      "id": 1699173,
      "node_id": "MDQ6VXNlcjE2OTkxNzM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1699173?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nivida",
      "html_url": "https://github.com/nivida",
      "followers_url": "https://api.github.com/users/nivida/followers",
      "following_url": "https://api.github.com/users/nivida/following{/other_user}",
      "gists_url": "https://api.github.com/users/nivida/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nivida/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nivida/subscriptions",
      "organizations_url": "https://api.github.com/users/nivida/orgs",
      "repos_url": "https://api.github.com/users/nivida/repos",
      "events_url": "https://api.github.com/users/nivida/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nivida/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-05-14T15:36:39Z",
    "updated_at": "2019-05-14T15:36:47Z",
    "author_association": "NONE",
    "body": "We do currently discuss the breaking changes in the issue https://github.com/ethereum/web3.js/issues/2786 of web3.js. @frangio ",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/492290806/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/501408337",
    "html_url": "https://github.com/trufflesuite/truffle/issues/1912#issuecomment-501408337",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/1912",
    "id": 501408337,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUwMTQwODMzNw==",
    "user": {
      "login": "wbt",
      "id": 563406,
      "node_id": "MDQ6VXNlcjU2MzQwNg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/563406?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/wbt",
      "html_url": "https://github.com/wbt",
      "followers_url": "https://api.github.com/users/wbt/followers",
      "following_url": "https://api.github.com/users/wbt/following{/other_user}",
      "gists_url": "https://api.github.com/users/wbt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/wbt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/wbt/subscriptions",
      "organizations_url": "https://api.github.com/users/wbt/orgs",
      "repos_url": "https://api.github.com/users/wbt/repos",
      "events_url": "https://api.github.com/users/wbt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/wbt/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-06-12T18:51:26Z",
    "updated_at": "2019-06-12T18:51:26Z",
    "author_association": "CONTRIBUTOR",
    "body": "@frangio Any update on if you want to move forward with developing a fork that uses web3-beta38 or otherwise fixes the issue?  The on-hold status tag indicates we should not expect an \"upstream\" fix in Truffle anytime soon. ",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/501408337/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/503593298",
    "html_url": "https://github.com/trufflesuite/truffle/issues/1912#issuecomment-503593298",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/1912",
    "id": 503593298,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUwMzU5MzI5OA==",
    "user": {
      "login": "eggplantzzz",
      "id": 14827965,
      "node_id": "MDQ6VXNlcjE0ODI3OTY1",
      "avatar_url": "https://avatars.githubusercontent.com/u/14827965?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eggplantzzz",
      "html_url": "https://github.com/eggplantzzz",
      "followers_url": "https://api.github.com/users/eggplantzzz/followers",
      "following_url": "https://api.github.com/users/eggplantzzz/following{/other_user}",
      "gists_url": "https://api.github.com/users/eggplantzzz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eggplantzzz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eggplantzzz/subscriptions",
      "organizations_url": "https://api.github.com/users/eggplantzzz/orgs",
      "repos_url": "https://api.github.com/users/eggplantzzz/repos",
      "events_url": "https://api.github.com/users/eggplantzzz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eggplantzzz/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-06-19T14:47:57Z",
    "updated_at": "2019-06-19T14:48:13Z",
    "author_association": "CONTRIBUTOR",
    "body": "@wbt So I think we are still getting some of this web3 stuff straightened out and should have a plan for moving forward on this in the near future. Sorry for not being able to say more with certainty but hang tight!",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/503593298/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/508133730",
    "html_url": "https://github.com/trufflesuite/truffle/issues/1912#issuecomment-508133730",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/1912",
    "id": 508133730,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUwODEzMzczMA==",
    "user": {
      "login": "wbt",
      "id": 563406,
      "node_id": "MDQ6VXNlcjU2MzQwNg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/563406?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/wbt",
      "html_url": "https://github.com/wbt",
      "followers_url": "https://api.github.com/users/wbt/followers",
      "following_url": "https://api.github.com/users/wbt/following{/other_user}",
      "gists_url": "https://api.github.com/users/wbt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/wbt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/wbt/subscriptions",
      "organizations_url": "https://api.github.com/users/wbt/orgs",
      "repos_url": "https://api.github.com/users/wbt/repos",
      "events_url": "https://api.github.com/users/wbt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/wbt/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-07-03T15:07:04Z",
    "updated_at": "2019-07-03T15:07:04Z",
    "author_association": "CONTRIBUTOR",
    "body": "For some additional context: [this](https://github.com/ethereum/web3.js/issues/2266) is a big thing that broke in beta.38, so just going up one version in the beta series does not seem to be a feasible solution even on a fork.  That was [fixed](https://github.com/ethereum/web3.js/pull/2426) on Feb. 28 which went into [beta.47](https://github.com/ethereum/web3.js/releases/tag/v1.0.0-beta.47).  \r\n\r\n[Apparently](https://github.com/ethereum/web3.js/issues/2116) the fix for this issue was part of a very [large merge](https://github.com/ethereum/web3.js/pull/2000) breaking other things too; [small](https://opensource.zalando.com/blog/2017/10/small-pull-requests/) [pull](https://sourcediving.com/a-practical-guide-to-small-and-easy-to-review-pull-requests-a7f04a01d5d5) [requests](https://medium.com/bestseller-e-commerce-technology/5-small-things-to-improve-your-pull-request-3210d0722c09) are **not** how things work in web3.  There are [too many commits in that PR](https://github.com/ethereum/web3.js/pull/2000/commits) for GitHub to display, making it a bit harder to isolate which of hundreds of commits to hundreds of files was the subset fixing this specific security issue. ",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/508133730/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
