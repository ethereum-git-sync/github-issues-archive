{
  "url": "https://api.github.com/repos/trufflesuite/truffle/issues/66",
  "repository_url": "https://api.github.com/repos/trufflesuite/truffle",
  "labels_url": "https://api.github.com/repos/trufflesuite/truffle/issues/66/labels{/name}",
  "comments_url": "https://api.github.com/repos/trufflesuite/truffle/issues/66/comments",
  "events_url": "https://api.github.com/repos/trufflesuite/truffle/issues/66/events",
  "html_url": "https://github.com/trufflesuite/truffle/issues/66",
  "id": 123590962,
  "node_id": "MDU6SXNzdWUxMjM1OTA5NjI=",
  "number": 66,
  "title": "Truffle is probably producing transpiled code that fails in Firefox",
  "user": {
    "login": "johnmcdowall",
    "id": 237175,
    "node_id": "MDQ6VXNlcjIzNzE3NQ==",
    "avatar_url": "https://avatars.githubusercontent.com/u/237175?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/johnmcdowall",
    "html_url": "https://github.com/johnmcdowall",
    "followers_url": "https://api.github.com/users/johnmcdowall/followers",
    "following_url": "https://api.github.com/users/johnmcdowall/following{/other_user}",
    "gists_url": "https://api.github.com/users/johnmcdowall/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/johnmcdowall/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/johnmcdowall/subscriptions",
    "organizations_url": "https://api.github.com/users/johnmcdowall/orgs",
    "repos_url": "https://api.github.com/users/johnmcdowall/repos",
    "events_url": "https://api.github.com/users/johnmcdowall/events{/privacy}",
    "received_events_url": "https://api.github.com/users/johnmcdowall/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 3,
  "created_at": "2015-12-23T02:13:19Z",
  "updated_at": "2016-02-17T23:59:25Z",
  "closed_at": "2016-02-17T23:59:25Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "If you take a look at `ether-pudding`'s build output on line 40:\n\nhttps://github.com/ConsenSys/ether-pudding/blob/master/build/ether-pudding.js#L40\n\nYou'll see a `Symbol.iterator` - this is not supported in Firefox as of yet. \n\nI think the solution is that Babel needs to be called here https://github.com/ConsenSys/truffle/blob/master/lib/processors/babel.es6#L6 with the option of`'stage': 0` added to the options hash. \n\nTrying to test it out but can't get Truffle to build locally at the moment. \n",
  "closed_by": {
    "login": "tcoulter",
    "id": 92629,
    "node_id": "MDQ6VXNlcjkyNjI5",
    "avatar_url": "https://avatars.githubusercontent.com/u/92629?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/tcoulter",
    "html_url": "https://github.com/tcoulter",
    "followers_url": "https://api.github.com/users/tcoulter/followers",
    "following_url": "https://api.github.com/users/tcoulter/following{/other_user}",
    "gists_url": "https://api.github.com/users/tcoulter/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/tcoulter/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/tcoulter/subscriptions",
    "organizations_url": "https://api.github.com/users/tcoulter/orgs",
    "repos_url": "https://api.github.com/users/tcoulter/repos",
    "events_url": "https://api.github.com/users/tcoulter/events{/privacy}",
    "received_events_url": "https://api.github.com/users/tcoulter/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/66/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/trufflesuite/truffle/issues/66/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/166956113",
    "html_url": "https://github.com/trufflesuite/truffle/issues/66#issuecomment-166956113",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/66",
    "id": 166956113,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE2Njk1NjExMw==",
    "user": {
      "login": "tcoulter",
      "id": 92629,
      "node_id": "MDQ6VXNlcjkyNjI5",
      "avatar_url": "https://avatars.githubusercontent.com/u/92629?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tcoulter",
      "html_url": "https://github.com/tcoulter",
      "followers_url": "https://api.github.com/users/tcoulter/followers",
      "following_url": "https://api.github.com/users/tcoulter/following{/other_user}",
      "gists_url": "https://api.github.com/users/tcoulter/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tcoulter/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tcoulter/subscriptions",
      "organizations_url": "https://api.github.com/users/tcoulter/orgs",
      "repos_url": "https://api.github.com/users/tcoulter/repos",
      "events_url": "https://api.github.com/users/tcoulter/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tcoulter/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-12-23T17:50:53Z",
    "updated_at": "2015-12-23T17:50:53Z",
    "author_association": "CONTRIBUTOR",
    "body": "Will add this anyway. I'd rather compile completely down to ES5, and if this is the way to do it, then that's what we should do.\n\nI've always wondering what that Symbol.iterator stuff is...\n",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/166956113/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/166960795",
    "html_url": "https://github.com/trufflesuite/truffle/issues/66#issuecomment-166960795",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/66",
    "id": 166960795,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE2Njk2MDc5NQ==",
    "user": {
      "login": "tcoulter",
      "id": 92629,
      "node_id": "MDQ6VXNlcjkyNjI5",
      "avatar_url": "https://avatars.githubusercontent.com/u/92629?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tcoulter",
      "html_url": "https://github.com/tcoulter",
      "followers_url": "https://api.github.com/users/tcoulter/followers",
      "following_url": "https://api.github.com/users/tcoulter/following{/other_user}",
      "gists_url": "https://api.github.com/users/tcoulter/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tcoulter/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tcoulter/subscriptions",
      "organizations_url": "https://api.github.com/users/tcoulter/orgs",
      "repos_url": "https://api.github.com/users/tcoulter/repos",
      "events_url": "https://api.github.com/users/tcoulter/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tcoulter/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-12-23T18:08:45Z",
    "updated_at": "2015-12-23T18:08:45Z",
    "author_association": "CONTRIBUTOR",
    "body": "Alright, with `stage: 0` set `Symbol.iterator` still exists in the code, but it looks like they add a shim for it, using this code:\n\n```\n/**\n * Copyright 2013-2015, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule getIteratorFn\n * @typechecks static-only\n */\n\n'use strict';\n\n/* global Symbol */\nvar ITERATOR_SYMBOL = typeof Symbol === 'function' && Symbol.iterator;\nvar FAUX_ITERATOR_SYMBOL = '@@iterator'; // Before Symbol spec.\n\n/**\n * Returns the iterator method function contained on the iterable object.\n *\n * Be sure to invoke the function with the iterable as context:\n *\n *     var iteratorFn = getIteratorFn(myIterable);\n *     if (iteratorFn) {\n *       var iterator = iteratorFn.call(myIterable);\n *       ...\n *     }\n *\n * @param {?object} maybeIterable\n * @return {?function}\n */\nfunction getIteratorFn(maybeIterable) {\n  var iteratorFn = maybeIterable && (\n    (ITERATOR_SYMBOL && maybeIterable[ITERATOR_SYMBOL] || maybeIterable[FAUX_ITERATOR_SYMBOL])\n  );\n  if (typeof iteratorFn === 'function') {\n    return iteratorFn;\n  }\n}\n\nmodule.exports = getIteratorFn;\n```\n\nI haven't spent any time trying to grok what it does, but I'll try removing `stage: 0`, reproducing the firefox issue and then putting it back. If it fixes firefox, it goes in!\n",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/166960795/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/185465794",
    "html_url": "https://github.com/trufflesuite/truffle/issues/66#issuecomment-185465794",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/66",
    "id": 185465794,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE4NTQ2NTc5NA==",
    "user": {
      "login": "tcoulter",
      "id": 92629,
      "node_id": "MDQ6VXNlcjkyNjI5",
      "avatar_url": "https://avatars.githubusercontent.com/u/92629?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tcoulter",
      "html_url": "https://github.com/tcoulter",
      "followers_url": "https://api.github.com/users/tcoulter/followers",
      "following_url": "https://api.github.com/users/tcoulter/following{/other_user}",
      "gists_url": "https://api.github.com/users/tcoulter/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tcoulter/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tcoulter/subscriptions",
      "organizations_url": "https://api.github.com/users/tcoulter/orgs",
      "repos_url": "https://api.github.com/users/tcoulter/repos",
      "events_url": "https://api.github.com/users/tcoulter/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tcoulter/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-02-17T23:59:25Z",
    "updated_at": "2016-02-17T23:59:25Z",
    "author_association": "CONTRIBUTOR",
    "body": "Regarding Pudding, es6 has been completely removed from the codebase, and so `Symbol` doesn't even show up in the bundled code (it's even using webpack now): https://github.com/ConsenSys/ether-pudding/blob/master/dist/ether-pudding.js\n\nI'm not necessarily sure if that applies to Truffle's default build system and how it handles other es6 files. That said, that build system is being phased out, and people should use their own build system instead. I'm considering this one closed/fixed.\n",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/185465794/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
