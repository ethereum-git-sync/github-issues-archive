{
  "url": "https://api.github.com/repos/trufflesuite/truffle/issues/2756",
  "repository_url": "https://api.github.com/repos/trufflesuite/truffle",
  "labels_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2756/labels{/name}",
  "comments_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2756/comments",
  "events_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2756/events",
  "html_url": "https://github.com/trufflesuite/truffle/issues/2756",
  "id": 549389864,
  "node_id": "MDU6SXNzdWU1NDkzODk4NjQ=",
  "number": 2756,
  "title": "Unhelpful error message when name of contract does not match file name",
  "user": {
    "login": "adrianmcli",
    "id": 943555,
    "node_id": "MDQ6VXNlcjk0MzU1NQ==",
    "avatar_url": "https://avatars.githubusercontent.com/u/943555?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/adrianmcli",
    "html_url": "https://github.com/adrianmcli",
    "followers_url": "https://api.github.com/users/adrianmcli/followers",
    "following_url": "https://api.github.com/users/adrianmcli/following{/other_user}",
    "gists_url": "https://api.github.com/users/adrianmcli/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/adrianmcli/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/adrianmcli/subscriptions",
    "organizations_url": "https://api.github.com/users/adrianmcli/orgs",
    "repos_url": "https://api.github.com/users/adrianmcli/repos",
    "events_url": "https://api.github.com/users/adrianmcli/events{/privacy}",
    "received_events_url": "https://api.github.com/users/adrianmcli/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 230393326,
      "node_id": "MDU6TGFiZWwyMzAzOTMzMjY=",
      "url": "https://api.github.com/repos/trufflesuite/truffle/labels/bug",
      "name": "bug",
      "color": "fc2929",
      "default": true,
      "description": null
    },
    {
      "id": 1088150379,
      "node_id": "MDU6TGFiZWwxMDg4MTUwMzc5",
      "url": "https://api.github.com/repos/trufflesuite/truffle/labels/error%20better",
      "name": "error better",
      "color": "f27915",
      "default": false,
      "description": "issue indicates improvement to error messaging"
    },
    {
      "id": 1403343142,
      "node_id": "MDU6TGFiZWwxNDAzMzQzMTQy",
      "url": "https://api.github.com/repos/trufflesuite/truffle/labels/needs%20investigated",
      "name": "needs investigated",
      "color": "b7410e",
      "default": false,
      "description": ""
    },
    {
      "id": 1675041996,
      "node_id": "MDU6TGFiZWwxNjc1MDQxOTk2",
      "url": "https://api.github.com/repos/trufflesuite/truffle/labels/priority4%20%F0%9F%93%8B",
      "name": "priority4 ðŸ“‹",
      "color": "006b75",
      "default": false,
      "description": ""
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 4,
  "created_at": "2020-01-14T07:42:17Z",
  "updated_at": "2020-01-16T21:46:49Z",
  "closed_at": null,
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "When the name of a contract does not match the name of the file, the resulting error upon migration is:\r\n\r\n```\r\nError: Could not find artifacts for MyToken from any sources\r\n```\r\n\r\nThat doesn't exactly show or suggest what could be wrong. I propose that we add a suggestion to the error:\r\n\r\n```\r\nError: Could not find artifacts for MyToken from any sources. You might want to check that your contract name matches its file name.\r\n```\r\n\r\nSomething like that or similar would aid in the developer experience, especially for newbies.\r\n\r\nRelevant: https://github.com/trufflesuite/truffle/issues/606#issuecomment-368224536",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/2756/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2756/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/574796723",
    "html_url": "https://github.com/trufflesuite/truffle/issues/2756#issuecomment-574796723",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2756",
    "id": 574796723,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU3NDc5NjcyMw==",
    "user": {
      "login": "gnidan",
      "id": 151065,
      "node_id": "MDQ6VXNlcjE1MTA2NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/151065?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gnidan",
      "html_url": "https://github.com/gnidan",
      "followers_url": "https://api.github.com/users/gnidan/followers",
      "following_url": "https://api.github.com/users/gnidan/following{/other_user}",
      "gists_url": "https://api.github.com/users/gnidan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gnidan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gnidan/subscriptions",
      "organizations_url": "https://api.github.com/users/gnidan/orgs",
      "repos_url": "https://api.github.com/users/gnidan/repos",
      "events_url": "https://api.github.com/users/gnidan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gnidan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-01-15T18:44:09Z",
    "updated_at": "2020-01-15T18:44:09Z",
    "author_association": "MEMBER",
    "body": "Good suggestion @adrianmcli.\r\n\r\nFYI the canonical way to use `artifacts.require(...)` is to specify a _contract name_, not a _file name_. I think this is probably the source of confusion, although there are likely edge cases with subdirectories involved.\r\n\r\nMarking this as bug/error-better.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/574796723/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/574797479",
    "html_url": "https://github.com/trufflesuite/truffle/issues/2756#issuecomment-574797479",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2756",
    "id": 574797479,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU3NDc5NzQ3OQ==",
    "user": {
      "login": "gnidan",
      "id": 151065,
      "node_id": "MDQ6VXNlcjE1MTA2NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/151065?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gnidan",
      "html_url": "https://github.com/gnidan",
      "followers_url": "https://api.github.com/users/gnidan/followers",
      "following_url": "https://api.github.com/users/gnidan/following{/other_user}",
      "gists_url": "https://api.github.com/users/gnidan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gnidan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gnidan/subscriptions",
      "organizations_url": "https://api.github.com/users/gnidan/orgs",
      "repos_url": "https://api.github.com/users/gnidan/repos",
      "events_url": "https://api.github.com/users/gnidan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gnidan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-01-15T18:46:00Z",
    "updated_at": "2020-01-15T18:46:00Z",
    "author_association": "MEMBER",
    "body": "Note: the error probably should say something like:\r\n\r\n```\r\nError: Could not find artifacts for ./helpers/FeedsClient.sol from any sources. For best results, please specify the contract name instead of the file name.\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/574797479/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/574989660",
    "html_url": "https://github.com/trufflesuite/truffle/issues/2756#issuecomment-574989660",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2756",
    "id": 574989660,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU3NDk4OTY2MA==",
    "user": {
      "login": "adrianmcli",
      "id": 943555,
      "node_id": "MDQ6VXNlcjk0MzU1NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/943555?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/adrianmcli",
      "html_url": "https://github.com/adrianmcli",
      "followers_url": "https://api.github.com/users/adrianmcli/followers",
      "following_url": "https://api.github.com/users/adrianmcli/following{/other_user}",
      "gists_url": "https://api.github.com/users/adrianmcli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/adrianmcli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/adrianmcli/subscriptions",
      "organizations_url": "https://api.github.com/users/adrianmcli/orgs",
      "repos_url": "https://api.github.com/users/adrianmcli/repos",
      "events_url": "https://api.github.com/users/adrianmcli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/adrianmcli/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-01-16T05:27:32Z",
    "updated_at": "2020-01-16T05:27:32Z",
    "author_association": "CONTRIBUTOR",
    "body": "@gnidan Yeah that error is better.\r\n\r\nFor what it's worth, I didn't know that `artifacts.require()` refers to a contract name. In my mind (and I assume many others), the word \"require\" is most closely associated with CommonJS module `require` statements which are usually file paths.\r\n\r\nI wonder if it would be better in the future to call it something else, like `requireContract` or `importFrom` or something else.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/574989660/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/575362101",
    "html_url": "https://github.com/trufflesuite/truffle/issues/2756#issuecomment-575362101",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2756",
    "id": 575362101,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU3NTM2MjEwMQ==",
    "user": {
      "login": "gnidan",
      "id": 151065,
      "node_id": "MDQ6VXNlcjE1MTA2NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/151065?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gnidan",
      "html_url": "https://github.com/gnidan",
      "followers_url": "https://api.github.com/users/gnidan/followers",
      "following_url": "https://api.github.com/users/gnidan/following{/other_user}",
      "gists_url": "https://api.github.com/users/gnidan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gnidan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gnidan/subscriptions",
      "organizations_url": "https://api.github.com/users/gnidan/orgs",
      "repos_url": "https://api.github.com/users/gnidan/repos",
      "events_url": "https://api.github.com/users/gnidan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gnidan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-01-16T21:46:49Z",
    "updated_at": "2020-01-16T21:46:49Z",
    "author_association": "MEMBER",
    "body": "> For what it's worth, I didn't know that artifacts.require() refers to a contract name. In my mind (and I assume many others)\r\n\r\nI think this probably is due in part to the fact that it used to be the filename, not the contract name, but that's just not meaningful, primarily since files can define more than one contract.\r\n\r\nI don't think I like that longer name, but I'm not sure what other solution there is, other than maintaining the compatibility of allowing filenames.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/575362101/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
