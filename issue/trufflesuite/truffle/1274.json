{
  "url": "https://api.github.com/repos/trufflesuite/truffle/issues/1274",
  "repository_url": "https://api.github.com/repos/trufflesuite/truffle",
  "labels_url": "https://api.github.com/repos/trufflesuite/truffle/issues/1274/labels{/name}",
  "comments_url": "https://api.github.com/repos/trufflesuite/truffle/issues/1274/comments",
  "events_url": "https://api.github.com/repos/trufflesuite/truffle/issues/1274/events",
  "html_url": "https://github.com/trufflesuite/truffle/issues/1274",
  "id": 361015922,
  "node_id": "MDU6SXNzdWUzNjEwMTU5MjI=",
  "number": 1274,
  "title": "Compiler configuration could support not only paths but https URLs (V5)",
  "user": {
    "login": "axic",
    "id": 20340,
    "node_id": "MDQ6VXNlcjIwMzQw",
    "avatar_url": "https://avatars.githubusercontent.com/u/20340?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/axic",
    "html_url": "https://github.com/axic",
    "followers_url": "https://api.github.com/users/axic/followers",
    "following_url": "https://api.github.com/users/axic/following{/other_user}",
    "gists_url": "https://api.github.com/users/axic/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/axic/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/axic/subscriptions",
    "organizations_url": "https://api.github.com/users/axic/orgs",
    "repos_url": "https://api.github.com/users/axic/repos",
    "events_url": "https://api.github.com/users/axic/events{/privacy}",
    "received_events_url": "https://api.github.com/users/axic/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 1086852667,
      "node_id": "MDU6TGFiZWwxMDg2ODUyNjY3",
      "url": "https://api.github.com/repos/trufflesuite/truffle/labels/needs%20requirements",
      "name": "needs requirements",
      "color": "d4c5f9",
      "default": false,
      "description": "feature request is unclear"
    },
    {
      "id": 1086853036,
      "node_id": "MDU6TGFiZWwxMDg2ODUzMDM2",
      "url": "https://api.github.com/repos/trufflesuite/truffle/labels/needs%20test%20steps",
      "name": "needs test steps",
      "color": "b73a6a",
      "default": false,
      "description": "more test steps are needed"
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": {
    "login": "eggplantzzz",
    "id": 14827965,
    "node_id": "MDQ6VXNlcjE0ODI3OTY1",
    "avatar_url": "https://avatars.githubusercontent.com/u/14827965?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/eggplantzzz",
    "html_url": "https://github.com/eggplantzzz",
    "followers_url": "https://api.github.com/users/eggplantzzz/followers",
    "following_url": "https://api.github.com/users/eggplantzzz/following{/other_user}",
    "gists_url": "https://api.github.com/users/eggplantzzz/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/eggplantzzz/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/eggplantzzz/subscriptions",
    "organizations_url": "https://api.github.com/users/eggplantzzz/orgs",
    "repos_url": "https://api.github.com/users/eggplantzzz/repos",
    "events_url": "https://api.github.com/users/eggplantzzz/events{/privacy}",
    "received_events_url": "https://api.github.com/users/eggplantzzz/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "eggplantzzz",
      "id": 14827965,
      "node_id": "MDQ6VXNlcjE0ODI3OTY1",
      "avatar_url": "https://avatars.githubusercontent.com/u/14827965?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eggplantzzz",
      "html_url": "https://github.com/eggplantzzz",
      "followers_url": "https://api.github.com/users/eggplantzzz/followers",
      "following_url": "https://api.github.com/users/eggplantzzz/following{/other_user}",
      "gists_url": "https://api.github.com/users/eggplantzzz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eggplantzzz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eggplantzzz/subscriptions",
      "organizations_url": "https://api.github.com/users/eggplantzzz/orgs",
      "repos_url": "https://api.github.com/users/eggplantzzz/repos",
      "events_url": "https://api.github.com/users/eggplantzzz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eggplantzzz/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 5,
  "created_at": "2018-09-17T19:47:18Z",
  "updated_at": "2018-11-30T17:57:43Z",
  "closed_at": "2018-11-30T17:57:43Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "According to the [0.5.0 release notes](https://github.com/trufflesuite/truffle/releases/tag/v5.0.0-beta.0) there are different ways to select a compiler version.\r\n\r\nUsing a version number\r\n```\r\n  solc: {\r\n    version: \"0.4.22\",\r\n  }\r\n```\r\nonly seems to work with releases, and `truffle compile --list --all` also only lists them.\r\n\r\nIt would be nice to support nightly releases (in some cases), though it may be a bad idea supporting that easily via the above feature.\r\n\r\nHowever, truffle also supports specifying a path, such as `version: \"/home/test/mycompiler.js\"`, which I think could be extended to be a URL:\r\n- `file:///home/test/mycompiler.js`\r\n- `https://solc-bin.ethereum.org/bin/soljson-v0.4.26-nightly.2018.9.13+commit.8b089cc8.js`\r\n\r\nIn this case it could be used for nightlies and specific compiler versions (such as one with Z3 included), yet it requires a bit more work from the user compared to just dropping in a number and as a result should discourage randomly selecting a prerelease.",
  "closed_by": {
    "login": "eggplantzzz",
    "id": 14827965,
    "node_id": "MDQ6VXNlcjE0ODI3OTY1",
    "avatar_url": "https://avatars.githubusercontent.com/u/14827965?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/eggplantzzz",
    "html_url": "https://github.com/eggplantzzz",
    "followers_url": "https://api.github.com/users/eggplantzzz/followers",
    "following_url": "https://api.github.com/users/eggplantzzz/following{/other_user}",
    "gists_url": "https://api.github.com/users/eggplantzzz/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/eggplantzzz/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/eggplantzzz/subscriptions",
    "organizations_url": "https://api.github.com/users/eggplantzzz/orgs",
    "repos_url": "https://api.github.com/users/eggplantzzz/repos",
    "events_url": "https://api.github.com/users/eggplantzzz/events{/privacy}",
    "received_events_url": "https://api.github.com/users/eggplantzzz/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/1274/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/trufflesuite/truffle/issues/1274/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/422158269",
    "html_url": "https://github.com/trufflesuite/truffle/issues/1274#issuecomment-422158269",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/1274",
    "id": 422158269,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQyMjE1ODI2OQ==",
    "user": {
      "login": "gnidan",
      "id": 151065,
      "node_id": "MDQ6VXNlcjE1MTA2NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/151065?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gnidan",
      "html_url": "https://github.com/gnidan",
      "followers_url": "https://api.github.com/users/gnidan/followers",
      "following_url": "https://api.github.com/users/gnidan/following{/other_user}",
      "gists_url": "https://api.github.com/users/gnidan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gnidan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gnidan/subscriptions",
      "organizations_url": "https://api.github.com/users/gnidan/orgs",
      "repos_url": "https://api.github.com/users/gnidan/repos",
      "events_url": "https://api.github.com/users/gnidan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gnidan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-09-17T20:25:27Z",
    "updated_at": "2018-09-17T20:25:27Z",
    "author_association": "MEMBER",
    "body": "Hm this should be supported (https://github.com/trufflesuite/truffle/blob/next/packages/truffle-compile/compilerSupplier.js#L72)\r\n\r\nWill look into why this isn't working. Thanks!",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/422158269/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/422184934",
    "html_url": "https://github.com/trufflesuite/truffle/issues/1274#issuecomment-422184934",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/1274",
    "id": 422184934,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQyMjE4NDkzNA==",
    "user": {
      "login": "gnidan",
      "id": 151065,
      "node_id": "MDQ6VXNlcjE1MTA2NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/151065?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gnidan",
      "html_url": "https://github.com/gnidan",
      "followers_url": "https://api.github.com/users/gnidan/followers",
      "following_url": "https://api.github.com/users/gnidan/following{/other_user}",
      "gists_url": "https://api.github.com/users/gnidan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gnidan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gnidan/subscriptions",
      "organizations_url": "https://api.github.com/users/gnidan/orgs",
      "repos_url": "https://api.github.com/users/gnidan/repos",
      "events_url": "https://api.github.com/users/gnidan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gnidan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-09-17T21:55:45Z",
    "updated_at": "2018-09-17T21:55:45Z",
    "author_association": "MEMBER",
    "body": "From conversation with @axic offline: there might also be an issue with how CompilerSupplier is wrapping `soljson`. It seems that truffle-compile is not working correctly with raw `soljson` values, and instead only works with the full `solcjs` pre-built wrapper.\r\n\r\nThis should not be necessary because of the `solcWrap` functionality in that package (invoked [here](https://github.com/trufflesuite/truffle/blob/next/packages/truffle-compile/compilerSupplier.js#L411), definition [here](https://github.com/trufflesuite/truffle/blob/next/packages/truffle-compile/solcWrap.js)).\r\n\r\nBeyond that, it might be possible to use the wrapping functionality provided by `solcjs` natively, by calling `require('solc/wrapper')(require('/path/to/soljson'))`, although this might not work within the confines of the bundled version of Truffle. (@cgewecke would know why the `solcWrap` file exists in the first place.)\r\n\r\n[This project](https://github.com/ewasm/sentinel-governance) has a Truffle project set up with the config pointing to the desired `soljson` URL (`https://`). This config is not working, and instead [this branch](https://github.com/ewasm/sentinel-governance/tree/truffle-workaround) has a workaround.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/422184934/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/422488833",
    "html_url": "https://github.com/trufflesuite/truffle/issues/1274#issuecomment-422488833",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/1274",
    "id": 422488833,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQyMjQ4ODgzMw==",
    "user": {
      "login": "cgewecke",
      "id": 7332026,
      "node_id": "MDQ6VXNlcjczMzIwMjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7332026?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cgewecke",
      "html_url": "https://github.com/cgewecke",
      "followers_url": "https://api.github.com/users/cgewecke/followers",
      "following_url": "https://api.github.com/users/cgewecke/following{/other_user}",
      "gists_url": "https://api.github.com/users/cgewecke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cgewecke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cgewecke/subscriptions",
      "organizations_url": "https://api.github.com/users/cgewecke/orgs",
      "repos_url": "https://api.github.com/users/cgewecke/repos",
      "events_url": "https://api.github.com/users/cgewecke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cgewecke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-09-18T17:56:29Z",
    "updated_at": "2018-09-18T17:56:29Z",
    "author_association": "CONTRIBUTOR",
    "body": "@axic @gnidan \r\n\r\nNot sure if this is helpful but it *is* currently possible to get a list of nightlies and to pull one from solc-bin:\r\n```shell\r\ntruffle compile --list prereleases --all\r\n[\r\n ...\r\n \"0.4.25-nightly.2018.9.10+commit.86d85025\",\r\n \"0.4.25-nightly.2018.9.11+commit.d66e956a\",\r\n \"0.4.25-nightly.2018.9.12+commit.9214c7c3\",\r\n \"0.4.25-nightly.2018.9.13+commit.15c8c0d2\",\r\n \"0.4.26-nightly.2018.9.13+commit.8b089cc8\",\r\n \"0.4.26-nightly.2018.9.17+commit.2409986c\",\r\n \"0.4.26-nightly.2018.9.18+commit.fcb48bce\"\r\n]\r\n```\r\nTests for that [here](https://github.com/trufflesuite/truffle/blob/next/packages/truffle-compile/test/test_supplier.js#L127-L143). \r\n\r\n`getByUrl` assumes you'll a version string (like the ones above) and the Supplier manages the url path construction.\r\n\r\n`solcWrap` is borrowed from the solc module and provides the correct interface to npm `require` because versions published to solc-bin target a browser-based environment (like remix). The wrap was broken out like this in the hope of avoiding a full `require('solc')` statement just to access it. When [profiling the supplier](https://github.com/trufflesuite/truffle-compile/pull/67) it looked like that statement on its own takes > 1 second to execute. ",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/422488833/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/422495020",
    "html_url": "https://github.com/trufflesuite/truffle/issues/1274#issuecomment-422495020",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/1274",
    "id": 422495020,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQyMjQ5NTAyMA==",
    "user": {
      "login": "axic",
      "id": 20340,
      "node_id": "MDQ6VXNlcjIwMzQw",
      "avatar_url": "https://avatars.githubusercontent.com/u/20340?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/axic",
      "html_url": "https://github.com/axic",
      "followers_url": "https://api.github.com/users/axic/followers",
      "following_url": "https://api.github.com/users/axic/following{/other_user}",
      "gists_url": "https://api.github.com/users/axic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/axic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/axic/subscriptions",
      "organizations_url": "https://api.github.com/users/axic/orgs",
      "repos_url": "https://api.github.com/users/axic/repos",
      "events_url": "https://api.github.com/users/axic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/axic/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-09-18T18:15:51Z",
    "updated_at": "2018-09-18T18:16:17Z",
    "author_association": "CONTRIBUTOR",
    "body": "~~I could have sworn I have tried this yesterday and it didn't list preleases.~~\r\n\r\nI see what the problem was, tried `--list --preleases`. It seems to be working with `compile` too.\r\n\r\nI have two suggestions:\r\n- add some progress indicator when soljson is being downloaded the first time (I see it caches it after)\r\n- improve the release notes / documentation about using prereleases\r\n\r\nThis issue can be closed otherwise. Thank you!",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/422495020/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/422509549",
    "html_url": "https://github.com/trufflesuite/truffle/issues/1274#issuecomment-422509549",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/1274",
    "id": 422509549,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQyMjUwOTU0OQ==",
    "user": {
      "login": "cgewecke",
      "id": 7332026,
      "node_id": "MDQ6VXNlcjczMzIwMjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7332026?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cgewecke",
      "html_url": "https://github.com/cgewecke",
      "followers_url": "https://api.github.com/users/cgewecke/followers",
      "following_url": "https://api.github.com/users/cgewecke/following{/other_user}",
      "gists_url": "https://api.github.com/users/cgewecke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cgewecke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cgewecke/subscriptions",
      "organizations_url": "https://api.github.com/users/cgewecke/orgs",
      "repos_url": "https://api.github.com/users/cgewecke/repos",
      "events_url": "https://api.github.com/users/cgewecke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cgewecke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-09-18T19:01:45Z",
    "updated_at": "2018-09-18T19:01:45Z",
    "author_association": "CONTRIBUTOR",
    "body": "> add some progress indicator when soljson is being downloaded the first time (I see it caches it after)\r\n\r\nYes completely agree - we have this open at #1132. \r\n\r\n> improve the release notes / documentation about using prereleases\r\n\r\nThis command is documented in the release notes, but maybe we should have good examples for all the possibilities in the config as well. There's also ongoing work on #1262 which will looks like it will improve the help command a lot as well. ",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/422509549/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
