{
  "url": "https://api.github.com/repos/trufflesuite/truffle/issues/6066",
  "repository_url": "https://api.github.com/repos/trufflesuite/truffle",
  "labels_url": "https://api.github.com/repos/trufflesuite/truffle/issues/6066/labels{/name}",
  "comments_url": "https://api.github.com/repos/trufflesuite/truffle/issues/6066/comments",
  "events_url": "https://api.github.com/repos/trufflesuite/truffle/issues/6066/events",
  "html_url": "https://github.com/trufflesuite/truffle/issues/6066",
  "id": 1737739852,
  "node_id": "I_kwDOAkfq-c5nk85M",
  "number": 6066,
  "title": "Cannot compile contracts in v5.9.1",
  "user": {
    "login": "calebyouki",
    "id": 86040155,
    "node_id": "MDQ6VXNlcjg2MDQwMTU1",
    "avatar_url": "https://avatars.githubusercontent.com/u/86040155?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/calebyouki",
    "html_url": "https://github.com/calebyouki",
    "followers_url": "https://api.github.com/users/calebyouki/followers",
    "following_url": "https://api.github.com/users/calebyouki/following{/other_user}",
    "gists_url": "https://api.github.com/users/calebyouki/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/calebyouki/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/calebyouki/subscriptions",
    "organizations_url": "https://api.github.com/users/calebyouki/orgs",
    "repos_url": "https://api.github.com/users/calebyouki/repos",
    "events_url": "https://api.github.com/users/calebyouki/events{/privacy}",
    "received_events_url": "https://api.github.com/users/calebyouki/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 4,
  "created_at": "2023-06-02T08:47:53Z",
  "updated_at": "2023-06-05T17:24:52Z",
  "closed_at": null,
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "- [x] I've [opened a support ticket](https://trufflesuite.zendesk.com/hc/en-us/requests/new) before filing this issue.\r\n\r\n---------------------------\r\n\r\n## Issue\r\n\r\nWhen trying to compile contracts programmatically in v5.9.1, the 'Resolver is not a constructor' error is thrown.\r\n\r\n## Steps to Reproduce\r\n\r\nWith truffle v5.9.1 and default test config, run the following command in Javascript:\r\n`await truffle.contracts.compile(config);`\r\n\r\n## Expected Behavior\r\n\r\nContract is compiled successfully.\r\n\r\n## Actual Results\r\n\r\nThe following error is thrown:\r\n`TypeError: Resolver is not a constructor\r\n    at prepareConfig (/xxx/node_modules/truffle/build/webpack:/packages/workflow-compile/legacy/index.js:28:1)\r\n    at Object.compile (/xxx/node_modules/truffle/build/webpack:/packages/workflow-compile/legacy/index.js:64:1)\r\n    at plugin (/xxx/plugins/truffle.plugin.js:88:32)\r\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\r\n    at run (/xxx/debug.js:11:5)`\r\n\r\nError seems to be coming from this [line](https://github.com/trufflesuite/truffle/blob/v5.9.1/packages/workflow-compile/legacy/index.js#L28).\r\n\r\n## Environment\r\n\r\n* Operating System: Linux\r\n* Ethereum client: ganache-core v2.13.2\r\n* Truffle version (`truffle version`): v5.9.1\r\n* node version (`node --version`): v16.18.1\r\n* npm version (`npm --version`): 8.19.2\r\n",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/6066/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/trufflesuite/truffle/issues/6066/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/1573959415",
    "html_url": "https://github.com/trufflesuite/truffle/issues/6066#issuecomment-1573959415",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/6066",
    "id": 1573959415,
    "node_id": "IC_kwDOAkfq-c5d0Lb3",
    "user": {
      "login": "haltman-at",
      "id": 35589221,
      "node_id": "MDQ6VXNlcjM1NTg5MjIx",
      "avatar_url": "https://avatars.githubusercontent.com/u/35589221?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/haltman-at",
      "html_url": "https://github.com/haltman-at",
      "followers_url": "https://api.github.com/users/haltman-at/followers",
      "following_url": "https://api.github.com/users/haltman-at/following{/other_user}",
      "gists_url": "https://api.github.com/users/haltman-at/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/haltman-at/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/haltman-at/subscriptions",
      "organizations_url": "https://api.github.com/users/haltman-at/orgs",
      "repos_url": "https://api.github.com/users/haltman-at/repos",
      "events_url": "https://api.github.com/users/haltman-at/events{/privacy}",
      "received_events_url": "https://api.github.com/users/haltman-at/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-06-02T15:54:23Z",
    "updated_at": "2023-06-02T15:54:23Z",
    "author_association": "CONTRIBUTOR",
    "body": "Could you provide more detailed reproduction information?  Do you perhaps have a reproduction project we could check out?  Thank you!\r\n\r\n(Some particular things I'm confused about -- when you say \"execute the following command in Javascript\", where?  What is the `truffle` variable here, and what context is this running in?  Thanks!)",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/1573959415/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/1575092369",
    "html_url": "https://github.com/trufflesuite/truffle/issues/6066#issuecomment-1575092369",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/6066",
    "id": 1575092369,
    "node_id": "IC_kwDOAkfq-c5d4gCR",
    "user": {
      "login": "covendev",
      "id": 24976226,
      "node_id": "MDQ6VXNlcjI0OTc2MjI2",
      "avatar_url": "https://avatars.githubusercontent.com/u/24976226?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/covendev",
      "html_url": "https://github.com/covendev",
      "followers_url": "https://api.github.com/users/covendev/followers",
      "following_url": "https://api.github.com/users/covendev/following{/other_user}",
      "gists_url": "https://api.github.com/users/covendev/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/covendev/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/covendev/subscriptions",
      "organizations_url": "https://api.github.com/users/covendev/orgs",
      "repos_url": "https://api.github.com/users/covendev/repos",
      "events_url": "https://api.github.com/users/covendev/events{/privacy}",
      "received_events_url": "https://api.github.com/users/covendev/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-06-03T17:41:57Z",
    "updated_at": "2023-06-03T17:44:22Z",
    "author_association": "NONE",
    "body": "To add on here, I'm facing a similar issue as well while deploying to linea testnet:\r\n\r\n *** Deployment Failed ***\r\n\"CloudNineNFTProject\" hit an invalid opcode while deploying. Try:\r\n   * Verifying that your constructor params satisfy all assert conditions.\r\n   * Verifying your constructor code doesn't access an array out of bounds.\r\n   * Adding reason strings to your assert statements.\r\nExiting: Review successful transactions manually by checking the transaction hashes above on Etherscan.\r\nError:  *** Deployment Failed ***\r\n\"CloudNineNFTProject\" hit an invalid opcode while deploying. Try:\r\n   * Verifying that your constructor params satisfy all assert conditions.\r\n   * Verifying your constructor code doesn't access an array out of bounds.\r\n   * Adding reason strings to your assert statements.\r\n    at Users/.nvm/versions/node/v18.16.0/lib/node_modules/truffle/build/webpack:/packages/deployer/src/deployment.js:330:1\r\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\r\nTruffle v5.9.3 (core: 5.9.3)\r\nNode v18.16.0\r\n\r\nwhile running the following command - truffle migrate --network linea",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/1575092369/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/1576251270",
    "html_url": "https://github.com/trufflesuite/truffle/issues/6066#issuecomment-1576251270",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/6066",
    "id": 1576251270,
    "node_id": "IC_kwDOAkfq-c5d86-G",
    "user": {
      "login": "calebyouki",
      "id": 86040155,
      "node_id": "MDQ6VXNlcjg2MDQwMTU1",
      "avatar_url": "https://avatars.githubusercontent.com/u/86040155?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/calebyouki",
      "html_url": "https://github.com/calebyouki",
      "followers_url": "https://api.github.com/users/calebyouki/followers",
      "following_url": "https://api.github.com/users/calebyouki/following{/other_user}",
      "gists_url": "https://api.github.com/users/calebyouki/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/calebyouki/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/calebyouki/subscriptions",
      "organizations_url": "https://api.github.com/users/calebyouki/orgs",
      "repos_url": "https://api.github.com/users/calebyouki/repos",
      "events_url": "https://api.github.com/users/calebyouki/events{/privacy}",
      "received_events_url": "https://api.github.com/users/calebyouki/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-06-05T07:47:03Z",
    "updated_at": "2023-06-05T07:47:03Z",
    "author_association": "NONE",
    "body": "> Could you provide more detailed reproduction information? Do you perhaps have a reproduction project we could check out? Thank you!\r\n> \r\n> (Some particular things I'm confused about -- when you say \"execute the following command in Javascript\", where? What is the `truffle` variable here, and what context is this running in? Thanks!)\r\n\r\nHi @haltman-at , I am currently importing the truffle library using `const truffle = require(\"truffle\");`\r\n\r\nI am running it in a similar context (with similar config) as this [file](https://github.com/sc-forks/solidity-coverage/blob/0.7.22/plugins/truffle.plugin.js#L100).\r\n\r\nBtw, I also experience the same issue when running with the latest v5.9.3.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/1576251270/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/1577188936",
    "html_url": "https://github.com/trufflesuite/truffle/issues/6066#issuecomment-1577188936",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/6066",
    "id": 1577188936,
    "node_id": "IC_kwDOAkfq-c5eAf5I",
    "user": {
      "login": "haltman-at",
      "id": 35589221,
      "node_id": "MDQ6VXNlcjM1NTg5MjIx",
      "avatar_url": "https://avatars.githubusercontent.com/u/35589221?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/haltman-at",
      "html_url": "https://github.com/haltman-at",
      "followers_url": "https://api.github.com/users/haltman-at/followers",
      "following_url": "https://api.github.com/users/haltman-at/following{/other_user}",
      "gists_url": "https://api.github.com/users/haltman-at/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/haltman-at/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/haltman-at/subscriptions",
      "organizations_url": "https://api.github.com/users/haltman-at/orgs",
      "repos_url": "https://api.github.com/users/haltman-at/repos",
      "events_url": "https://api.github.com/users/haltman-at/events{/privacy}",
      "received_events_url": "https://api.github.com/users/haltman-at/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-06-05T17:24:52Z",
    "updated_at": "2023-06-05T17:24:52Z",
    "author_association": "CONTRIBUTOR",
    "body": "@covendev, your issue would appear to be unrelated.  I suggest opening a new issue if you want to discuss that.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/1577188936/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
