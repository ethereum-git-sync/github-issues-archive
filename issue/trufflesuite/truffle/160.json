{
  "url": "https://api.github.com/repos/trufflesuite/truffle/issues/160",
  "repository_url": "https://api.github.com/repos/trufflesuite/truffle",
  "labels_url": "https://api.github.com/repos/trufflesuite/truffle/issues/160/labels{/name}",
  "comments_url": "https://api.github.com/repos/trufflesuite/truffle/issues/160/comments",
  "events_url": "https://api.github.com/repos/trufflesuite/truffle/issues/160/events",
  "html_url": "https://github.com/trufflesuite/truffle/issues/160",
  "id": 155627525,
  "node_id": "MDU6SXNzdWUxNTU2Mjc1MjU=",
  "number": 160,
  "title": "Exception 'new BigNumber() not a base 16 number' being raised after a unit test fails",
  "user": {
    "login": "thiagodelgado111",
    "id": 1891013,
    "node_id": "MDQ6VXNlcjE4OTEwMTM=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1891013?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/thiagodelgado111",
    "html_url": "https://github.com/thiagodelgado111",
    "followers_url": "https://api.github.com/users/thiagodelgado111/followers",
    "following_url": "https://api.github.com/users/thiagodelgado111/following{/other_user}",
    "gists_url": "https://api.github.com/users/thiagodelgado111/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/thiagodelgado111/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/thiagodelgado111/subscriptions",
    "organizations_url": "https://api.github.com/users/thiagodelgado111/orgs",
    "repos_url": "https://api.github.com/users/thiagodelgado111/repos",
    "events_url": "https://api.github.com/users/thiagodelgado111/events{/privacy}",
    "received_events_url": "https://api.github.com/users/thiagodelgado111/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 1,
  "created_at": "2016-05-18T23:58:25Z",
  "updated_at": "2016-07-22T17:30:41Z",
  "closed_at": "2016-07-22T17:30:41Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "### Truffle and OS info\n\nMac OS X 10.11.4\nTruffle v1.0.3 \n### Expected behavior\n\nThe test fails and if there are logs to show, truffle print them out in console\n### Actual behavior\n\nTruffle crashes and print out the stacktrace below for what it seemingly is a web3 problem.\n### Stacktrace\n\n> /home/ubuntu/nvm/versions/node/v5.5.0/lib/node_modules/truffle/node_modules/solc/bin/soljson-latest.js:1\n> (function (exports, require, module, __filename, __dirname) { var Module;if(!Module)Module=(typeof Module!==\"undefined\"?Module:null)||{};var moduleOverrides={};for(var key in Module){if(Module.hasOwnProperty(key)){moduleOverrides[key]=Module[key]}}var ENVIRONMENT_IS_WEB=typeof window===\"object\";var ENVIRONMENT_IS_WORKER=typeof importScripts===\"function\";var ENVIRONMENT_IS_NODE=typeof process===\"object\"&&typeof require===\"function\"&&!ENVIRONMENT_IS_WEB&&!ENVIRONMENT_IS_WORKER;var ENVIRONMENT_IS_SHELL=!ENVIRONMENT_IS_WEB&&!ENVIRONMENT_IS_NODE&&!ENVIRONMENT_IS_WORKER;if(ENVIRONMENT_IS_NODE){if(!Module[\"print\"])Module[\"print\"]=function print(x){process[\"stdout\"].write(x+\"\\n\")};if(!Module[\"printErr\"])Module[\"printErr\"]=function printErr(x){process[\"stderr\"].write(x+\"\\n\")};var nodeFS=require(\"fs\");var nodePath=require(\"path\");Module[\"read\"]=function read(filename,binary){filename=nodePath[\"normalize\"](filename\n> BigNumber Error: new BigNumber() not a base 16 number: \n>     at raise (/home/ubuntu/nvm/versions/node/v5.5.0/lib/node_modules/truffle/node_modules/web3/node_modules/bignumber.js/bignumber.js:1177:25)\n>     at /home/ubuntu/nvm/versions/node/v5.5.0/lib/node_modules/truffle/node_modules/web3/node_modules/bignumber.js/bignumber.js:1165:33\n>     at new BigNumber (/home/ubuntu/nvm/versions/node/v5.5.0/lib/node_modules/truffle/node_modules/web3/node_modules/bignumber.js/bignumber.js:212:28)\n>     at [object Object].formatOutputString [as _outputFormatter](/home/ubuntu/nvm/versions/node/v5.5.0/lib/node_modules/truffle/node_modules/web3/lib/solidity/formatters.js:217:19)\n>     at /home/ubuntu/nvm/versions/node/v5.5.0/lib/node_modules/truffle/node_modules/web3/lib/solidity/type.js:237:25\n>     at [object Object].SolidityType.decode (/home/ubuntu/nvm/versions/node/v5.5.0/lib/node_modules/truffle/node_modules/web3/lib/solidity/type.js:238:11)\n>     at /home/ubuntu/nvm/versions/node/v5.5.0/lib/node_modules/truffle/node_modules/web3/lib/solidity/coder.js:219:29\n>     at Array.map (native)\n>     at [object Object].SolidityCoder.decodeParams (/home/ubuntu/nvm/versions/node/v5.5.0/lib/node_modules/truffle/node_modules/web3/lib/solidity/coder.js:218:26)\n### How to reproduce\n\nRun `truffle test` with a unit test where the TX fails without raising events.\n### Details\n\nI've tested it using web3.js 0.16.0 and it seems to print out the \"Events emitted\" message with no events, but it doesn't crash anymore. Testing against TestRPC it works. \n",
  "closed_by": {
    "login": "tcoulter",
    "id": 92629,
    "node_id": "MDQ6VXNlcjkyNjI5",
    "avatar_url": "https://avatars.githubusercontent.com/u/92629?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/tcoulter",
    "html_url": "https://github.com/tcoulter",
    "followers_url": "https://api.github.com/users/tcoulter/followers",
    "following_url": "https://api.github.com/users/tcoulter/following{/other_user}",
    "gists_url": "https://api.github.com/users/tcoulter/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/tcoulter/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/tcoulter/subscriptions",
    "organizations_url": "https://api.github.com/users/tcoulter/orgs",
    "repos_url": "https://api.github.com/users/tcoulter/repos",
    "events_url": "https://api.github.com/users/tcoulter/events{/privacy}",
    "received_events_url": "https://api.github.com/users/tcoulter/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/160/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/trufflesuite/truffle/issues/160/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/234605651",
    "html_url": "https://github.com/trufflesuite/truffle/issues/160#issuecomment-234605651",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/160",
    "id": 234605651,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzNDYwNTY1MQ==",
    "user": {
      "login": "tcoulter",
      "id": 92629,
      "node_id": "MDQ6VXNlcjkyNjI5",
      "avatar_url": "https://avatars.githubusercontent.com/u/92629?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tcoulter",
      "html_url": "https://github.com/tcoulter",
      "followers_url": "https://api.github.com/users/tcoulter/followers",
      "following_url": "https://api.github.com/users/tcoulter/following{/other_user}",
      "gists_url": "https://api.github.com/users/tcoulter/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tcoulter/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tcoulter/subscriptions",
      "organizations_url": "https://api.github.com/users/tcoulter/orgs",
      "repos_url": "https://api.github.com/users/tcoulter/repos",
      "events_url": "https://api.github.com/users/tcoulter/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tcoulter/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-07-22T17:30:41Z",
    "updated_at": "2016-07-22T17:30:41Z",
    "author_association": "CONTRIBUTOR",
    "body": "Hi @thiagodelgado111, I suspect this is an issue with what you're passing to a contract function that expects a BigNumber. It's hard to tell without code however.\n\nSince this was on Truffle 1.0, can you upgrade to Truffle 2.0 and tell me if you still have the issue? I'm going to close this issue for housekeeping reasons but please reopen and command if you have issues. Thanks!\n",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/234605651/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
