{
  "url": "https://api.github.com/repos/trufflesuite/truffle/issues/2688",
  "repository_url": "https://api.github.com/repos/trufflesuite/truffle",
  "labels_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2688/labels{/name}",
  "comments_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2688/comments",
  "events_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2688/events",
  "html_url": "https://github.com/trufflesuite/truffle/issues/2688",
  "id": 538109753,
  "node_id": "MDU6SXNzdWU1MzgxMDk3NTM=",
  "number": 2688,
  "title": "Upgrading Web3 >= 1.2.2",
  "user": {
    "login": "cgewecke",
    "id": 7332026,
    "node_id": "MDQ6VXNlcjczMzIwMjY=",
    "avatar_url": "https://avatars.githubusercontent.com/u/7332026?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/cgewecke",
    "html_url": "https://github.com/cgewecke",
    "followers_url": "https://api.github.com/users/cgewecke/followers",
    "following_url": "https://api.github.com/users/cgewecke/following{/other_user}",
    "gists_url": "https://api.github.com/users/cgewecke/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/cgewecke/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/cgewecke/subscriptions",
    "organizations_url": "https://api.github.com/users/cgewecke/orgs",
    "repos_url": "https://api.github.com/users/cgewecke/repos",
    "events_url": "https://api.github.com/users/cgewecke/events{/privacy}",
    "received_events_url": "https://api.github.com/users/cgewecke/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 1675041996,
      "node_id": "MDU6TGFiZWwxNjc1MDQxOTk2",
      "url": "https://api.github.com/repos/trufflesuite/truffle/labels/priority4%20%F0%9F%93%8B",
      "name": "priority4 ðŸ“‹",
      "color": "006b75",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 21,
  "created_at": "2019-12-15T21:36:40Z",
  "updated_at": "2020-12-09T17:25:12Z",
  "closed_at": "2020-12-01T17:10:51Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "This is a tracking issue for changes necessary at Truffle to upgrade Web3 above 1.2.1. \r\n\r\n**Resolve #2654**\r\n\r\nIn #2654, users with long-running test suites saw performance reduction and random ganache disconnection in Truffle versions which use Web3 1.2.2. \r\n\r\nBased on experiments with some of the projects reporting the bug,  I think the underlying issue is the way that truffle/contract manages confirmations handling in combination with a fix in Web3 1.2.2 for broken behavior in that feature.\r\n\r\nIn Web3 1.2.1 and below, confirmations over http (incorrectly) fire once per second, 24 times, without querying the client.  1.2.2 fixes this by block polling and emitting if  **a new block has been mined**. ([See code][2]). Note that polling only occurs if a conf handler is attached. The number of confirmations the handler should wait for is [configurable][4]. \r\n\r\nTruffle contract automatically attaches confirmation handlers for all transactions here:\r\n\r\nhttps://github.com/trufflesuite/truffle/blob/99add8f5e47586030a44a999bcfb287224e304e1/packages/contract/lib/handlers.js#L44\r\n\r\nThis means that in a unit test context with thousands of txs, each one will incur a large number of additional background block polling requests. In addition, truffle `evm_reverts` between the tests suites, affecting the block number values relevant for polling. It looks like the combination of these swamps ganache with unnecessary calls, slows things down a lot, and creates instability.\r\n\r\nOne solution might be to disable confirmation handling in unit tests (where it's rarely used). It could be opt-in.\r\n\r\n[2]: https://github.com/ethereum/web3.js/blob/1.x/packages/web3-core-method/src/index.js#L295-L317\r\n[4]: https://web3js.readthedocs.io/en/v1.2.4/web3-eth.html?highlight=confirmations#transactionconfirmationblocks\r\n\r\n**Resolve #2657**\r\n\r\n#2657 has TS  errors in the HDWalletProvider unit tests. These result from HDWalletProvider not implementing some parts of the Web3 HTTPProvider interface. There are notes about the interface in [2657 comment][3].\r\n\r\n[3]: https://github.com/trufflesuite/truffle/pull/2657#issuecomment-563010729\r\n\r\nIf the above seems unclear / incorrect / incomplete or there's anything that could be fixed at Web3 to help with this, please just ping. \r\n\r\n## Environment\r\n\r\n* Operating System: \r\n* Ethereum client:\r\n* Truffle version (`truffle version`):\r\n* node version (`node --version`):\r\n* npm version (`npm --version`): \r\n",
  "closed_by": {
    "login": "cgewecke",
    "id": 7332026,
    "node_id": "MDQ6VXNlcjczMzIwMjY=",
    "avatar_url": "https://avatars.githubusercontent.com/u/7332026?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/cgewecke",
    "html_url": "https://github.com/cgewecke",
    "followers_url": "https://api.github.com/users/cgewecke/followers",
    "following_url": "https://api.github.com/users/cgewecke/following{/other_user}",
    "gists_url": "https://api.github.com/users/cgewecke/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/cgewecke/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/cgewecke/subscriptions",
    "organizations_url": "https://api.github.com/users/cgewecke/orgs",
    "repos_url": "https://api.github.com/users/cgewecke/repos",
    "events_url": "https://api.github.com/users/cgewecke/events{/privacy}",
    "received_events_url": "https://api.github.com/users/cgewecke/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/2688/reactions",
    "total_count": 2,
    "+1": 2,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2688/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/618999841",
    "html_url": "https://github.com/trufflesuite/truffle/issues/2688#issuecomment-618999841",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2688",
    "id": 618999841,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxODk5OTg0MQ==",
    "user": {
      "login": "nogo10",
      "id": 12584335,
      "node_id": "MDQ6VXNlcjEyNTg0MzM1",
      "avatar_url": "https://avatars.githubusercontent.com/u/12584335?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nogo10",
      "html_url": "https://github.com/nogo10",
      "followers_url": "https://api.github.com/users/nogo10/followers",
      "following_url": "https://api.github.com/users/nogo10/following{/other_user}",
      "gists_url": "https://api.github.com/users/nogo10/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nogo10/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nogo10/subscriptions",
      "organizations_url": "https://api.github.com/users/nogo10/orgs",
      "repos_url": "https://api.github.com/users/nogo10/repos",
      "events_url": "https://api.github.com/users/nogo10/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nogo10/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-04-24T13:12:09Z",
    "updated_at": "2020-04-24T13:12:09Z",
    "author_association": "NONE",
    "body": "A few packages have not been upgraded\r\n\r\n-- truffle-config@1.1.16\r\n     `-- truffle-provider@0.1.16\r\n      +-- truffle-interface-adapter@0.2.5\r\n      | `-- web3@1.2.1 \r\n       `-- web3@1.2.1 \r\n",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/618999841/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/709879003",
    "html_url": "https://github.com/trufflesuite/truffle/issues/2688#issuecomment-709879003",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2688",
    "id": 709879003,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcwOTg3OTAwMw==",
    "user": {
      "login": "elenadimitrova",
      "id": 703848,
      "node_id": "MDQ6VXNlcjcwMzg0OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/703848?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/elenadimitrova",
      "html_url": "https://github.com/elenadimitrova",
      "followers_url": "https://api.github.com/users/elenadimitrova/followers",
      "following_url": "https://api.github.com/users/elenadimitrova/following{/other_user}",
      "gists_url": "https://api.github.com/users/elenadimitrova/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/elenadimitrova/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/elenadimitrova/subscriptions",
      "organizations_url": "https://api.github.com/users/elenadimitrova/orgs",
      "repos_url": "https://api.github.com/users/elenadimitrova/repos",
      "events_url": "https://api.github.com/users/elenadimitrova/events{/privacy}",
      "received_events_url": "https://api.github.com/users/elenadimitrova/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-10-16T07:32:49Z",
    "updated_at": "2020-10-16T07:32:49Z",
    "author_association": "NONE",
    "body": "Now that we have `ganache-cli` accepting `--chainId` option can we prioritise pushing `web3` up to at least 1.2.2 as `getChainId` was introduced there and we can't do proper transaction replay attack protection as per EIP-155 without it. ",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/709879003/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/717522317",
    "html_url": "https://github.com/trufflesuite/truffle/issues/2688#issuecomment-717522317",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2688",
    "id": 717522317,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcxNzUyMjMxNw==",
    "user": {
      "login": "cgewecke",
      "id": 7332026,
      "node_id": "MDQ6VXNlcjczMzIwMjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7332026?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cgewecke",
      "html_url": "https://github.com/cgewecke",
      "followers_url": "https://api.github.com/users/cgewecke/followers",
      "following_url": "https://api.github.com/users/cgewecke/following{/other_user}",
      "gists_url": "https://api.github.com/users/cgewecke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cgewecke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cgewecke/subscriptions",
      "organizations_url": "https://api.github.com/users/cgewecke/orgs",
      "repos_url": "https://api.github.com/users/cgewecke/repos",
      "events_url": "https://api.github.com/users/cgewecke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cgewecke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-10-27T20:34:03Z",
    "updated_at": "2020-10-27T20:34:03Z",
    "author_association": "CONTRIBUTOR",
    "body": "via #3446",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/717522317/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/719047665",
    "html_url": "https://github.com/trufflesuite/truffle/issues/2688#issuecomment-719047665",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2688",
    "id": 719047665,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcxOTA0NzY2NQ==",
    "user": {
      "login": "cgewecke",
      "id": 7332026,
      "node_id": "MDQ6VXNlcjczMzIwMjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7332026?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cgewecke",
      "html_url": "https://github.com/cgewecke",
      "followers_url": "https://api.github.com/users/cgewecke/followers",
      "following_url": "https://api.github.com/users/cgewecke/following{/other_user}",
      "gists_url": "https://api.github.com/users/cgewecke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cgewecke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cgewecke/subscriptions",
      "organizations_url": "https://api.github.com/users/cgewecke/orgs",
      "repos_url": "https://api.github.com/users/cgewecke/repos",
      "events_url": "https://api.github.com/users/cgewecke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cgewecke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-10-29T21:57:31Z",
    "updated_at": "2020-10-29T21:57:31Z",
    "author_association": "CONTRIBUTOR",
    "body": "Re-opening, I think the confirmations handler problem is still live. Sorry.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/719047665/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/719629940",
    "html_url": "https://github.com/trufflesuite/truffle/issues/2688#issuecomment-719629940",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2688",
    "id": 719629940,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcxOTYyOTk0MA==",
    "user": {
      "login": "eggplantzzz",
      "id": 14827965,
      "node_id": "MDQ6VXNlcjE0ODI3OTY1",
      "avatar_url": "https://avatars.githubusercontent.com/u/14827965?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eggplantzzz",
      "html_url": "https://github.com/eggplantzzz",
      "followers_url": "https://api.github.com/users/eggplantzzz/followers",
      "following_url": "https://api.github.com/users/eggplantzzz/following{/other_user}",
      "gists_url": "https://api.github.com/users/eggplantzzz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eggplantzzz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eggplantzzz/subscriptions",
      "organizations_url": "https://api.github.com/users/eggplantzzz/orgs",
      "repos_url": "https://api.github.com/users/eggplantzzz/repos",
      "events_url": "https://api.github.com/users/eggplantzzz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eggplantzzz/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-10-30T15:42:56Z",
    "updated_at": "2020-10-30T15:42:56Z",
    "author_association": "CONTRIBUTOR",
    "body": "@cgewecke Can you link to any repos that are experiencing this issue so that we can test against it/them?",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/719629940/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/719691732",
    "html_url": "https://github.com/trufflesuite/truffle/issues/2688#issuecomment-719691732",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2688",
    "id": 719691732,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcxOTY5MTczMg==",
    "user": {
      "login": "jjgonecrypto",
      "id": 799038,
      "node_id": "MDQ6VXNlcjc5OTAzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/799038?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jjgonecrypto",
      "html_url": "https://github.com/jjgonecrypto",
      "followers_url": "https://api.github.com/users/jjgonecrypto/followers",
      "following_url": "https://api.github.com/users/jjgonecrypto/following{/other_user}",
      "gists_url": "https://api.github.com/users/jjgonecrypto/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jjgonecrypto/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jjgonecrypto/subscriptions",
      "organizations_url": "https://api.github.com/users/jjgonecrypto/orgs",
      "repos_url": "https://api.github.com/users/jjgonecrypto/repos",
      "events_url": "https://api.github.com/users/jjgonecrypto/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jjgonecrypto/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-10-30T17:30:28Z",
    "updated_at": "2020-10-30T17:30:28Z",
    "author_association": "NONE",
    "body": "@eggplantzzz we seem to be hitting it in Synthetix after upgrading ganache-core and it's transitive deps.\r\n\r\nhttps://github.com/Synthetixio/synthetix (on `develop` branch)\r\n\r\nSee [CI output for running `solidity-coverage`](https://app.circleci.com/pipelines/github/Synthetixio/synthetix/4256/workflows/cdbc1b68-a170-431d-9491-a1b0c20947da/jobs/30371)\r\n\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/719691732/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/719708104",
    "html_url": "https://github.com/trufflesuite/truffle/issues/2688#issuecomment-719708104",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2688",
    "id": 719708104,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcxOTcwODEwNA==",
    "user": {
      "login": "eggplantzzz",
      "id": 14827965,
      "node_id": "MDQ6VXNlcjE0ODI3OTY1",
      "avatar_url": "https://avatars.githubusercontent.com/u/14827965?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eggplantzzz",
      "html_url": "https://github.com/eggplantzzz",
      "followers_url": "https://api.github.com/users/eggplantzzz/followers",
      "following_url": "https://api.github.com/users/eggplantzzz/following{/other_user}",
      "gists_url": "https://api.github.com/users/eggplantzzz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eggplantzzz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eggplantzzz/subscriptions",
      "organizations_url": "https://api.github.com/users/eggplantzzz/orgs",
      "repos_url": "https://api.github.com/users/eggplantzzz/repos",
      "events_url": "https://api.github.com/users/eggplantzzz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eggplantzzz/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-10-30T17:58:49Z",
    "updated_at": "2020-10-30T17:58:49Z",
    "author_association": "CONTRIBUTOR",
    "body": "@justinjmoses What version of Truffle are you using? Are you just running Ganache, configuring Truffle to connect, and then running `truffle test --network <ganacheNetwork>`?",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/719708104/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/719819704",
    "html_url": "https://github.com/trufflesuite/truffle/issues/2688#issuecomment-719819704",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2688",
    "id": 719819704,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcxOTgxOTcwNA==",
    "user": {
      "login": "jjgonecrypto",
      "id": 799038,
      "node_id": "MDQ6VXNlcjc5OTAzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/799038?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jjgonecrypto",
      "html_url": "https://github.com/jjgonecrypto",
      "followers_url": "https://api.github.com/users/jjgonecrypto/followers",
      "following_url": "https://api.github.com/users/jjgonecrypto/following{/other_user}",
      "gists_url": "https://api.github.com/users/jjgonecrypto/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jjgonecrypto/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jjgonecrypto/subscriptions",
      "organizations_url": "https://api.github.com/users/jjgonecrypto/orgs",
      "repos_url": "https://api.github.com/users/jjgonecrypto/repos",
      "events_url": "https://api.github.com/users/jjgonecrypto/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jjgonecrypto/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-10-30T22:01:44Z",
    "updated_at": "2020-10-30T22:01:44Z",
    "author_association": "NONE",
    "body": "@eggplantzzz We're going through `solidity-coverage` to run truffle - https://github.com/sc-forks/solidity-coverage/blob/master/package.json#L28 and actually running it all through buidler. Though @cgewecke had mentioned he thinks it's coming in via `builder-truffle5` - https://github.com/nomiclabs/hardhat/blob/buidler-truffle5-v1.3.4/packages/buidler-truffle5/package.json#L36 - which is using a fork of truffle-contract - https://github.com/nomiclabs/truffle/blob/master/packages/contract/package.json",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/719819704/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/719859928",
    "html_url": "https://github.com/trufflesuite/truffle/issues/2688#issuecomment-719859928",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2688",
    "id": 719859928,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcxOTg1OTkyOA==",
    "user": {
      "login": "cgewecke",
      "id": 7332026,
      "node_id": "MDQ6VXNlcjczMzIwMjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7332026?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cgewecke",
      "html_url": "https://github.com/cgewecke",
      "followers_url": "https://api.github.com/users/cgewecke/followers",
      "following_url": "https://api.github.com/users/cgewecke/following{/other_user}",
      "gists_url": "https://api.github.com/users/cgewecke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cgewecke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cgewecke/subscriptions",
      "organizations_url": "https://api.github.com/users/cgewecke/orgs",
      "repos_url": "https://api.github.com/users/cgewecke/repos",
      "events_url": "https://api.github.com/users/cgewecke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cgewecke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-10-31T00:53:27Z",
    "updated_at": "2020-10-31T00:59:14Z",
    "author_association": "CONTRIBUTOR",
    "body": "Hi @eggplantzzz Ganache is being launched as a server within a Truffle plugin like this:\r\n```js\r\nawait pify(server.listen)(port);\r\n```\r\n\r\nWill try to do some additional testing over the weekend to see if commenting out the confirmations handler attachment line stabilizes things at Synthetix.  \r\n\r\nAs noted in the opening comment in this issue, attaching that handler now results in a large number of additional eth_getBlockNumber requests  *per transaction*. In Web3 1.2.1 confirmations over http was broken and didn't query the client to make sure the block had changed before firing a conf.\r\n\r\nThe relevant code at Web3 is [here][1] and [here][2]\r\n\r\n[1]: https://github.com/ethereum/web3.js/blob/1.x/packages/web3-core-method/src/index.js#L550-L552\r\n[2]:https://github.com/ethereum/web3.js/blob/edf481d37ed0c4c4caae7a25619704010ac3639e/packages/web3-core-method/src/index.js#L305-L331\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/719859928/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/720712521",
    "html_url": "https://github.com/trufflesuite/truffle/issues/2688#issuecomment-720712521",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2688",
    "id": 720712521,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcyMDcxMjUyMQ==",
    "user": {
      "login": "cgewecke",
      "id": 7332026,
      "node_id": "MDQ6VXNlcjczMzIwMjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7332026?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cgewecke",
      "html_url": "https://github.com/cgewecke",
      "followers_url": "https://api.github.com/users/cgewecke/followers",
      "following_url": "https://api.github.com/users/cgewecke/following{/other_user}",
      "gists_url": "https://api.github.com/users/cgewecke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cgewecke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cgewecke/subscriptions",
      "organizations_url": "https://api.github.com/users/cgewecke/orgs",
      "repos_url": "https://api.github.com/users/cgewecke/repos",
      "events_url": "https://api.github.com/users/cgewecke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cgewecke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-11-02T20:41:16Z",
    "updated_at": "2020-11-02T20:41:16Z",
    "author_association": "CONTRIBUTOR",
    "body": "@eggplantzzz \r\n\r\nResults of the synthetix repo experiment are:\r\n\r\n+ [example of a failing run][1] using @truffle/contract's current state\r\n+ two back-to-back [passing runs][2] using an @truffle/contract fork with [just this line][3] commented out\r\n\r\n[1]: https://app.circleci.com/pipelines/github/Synthetixio/synthetix/4284/workflows/1d503b64-4c91-4086-96bd-79e43cebf639/jobs/30768\r\n[2]: https://github.com/cgewecke/synthetix/pull/2\r\n[3]: https://github.com/trufflesuite/truffle/blob/748d904938cc39c69a2c5fe0f642304d9e8331d6/packages/contract/lib/handlers.js#L47\r\n\r\nIf you click into the CI jobs you can see current truffle/contract running much more slowly: only about ~half the tests execute over 55min (and they crash).\r\n\r\nThe passing jobs complete all tests in ~40min. \r\n\r\n\r\n ",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/720712521/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/722555605",
    "html_url": "https://github.com/trufflesuite/truffle/issues/2688#issuecomment-722555605",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2688",
    "id": 722555605,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcyMjU1NTYwNQ==",
    "user": {
      "login": "eggplantzzz",
      "id": 14827965,
      "node_id": "MDQ6VXNlcjE0ODI3OTY1",
      "avatar_url": "https://avatars.githubusercontent.com/u/14827965?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eggplantzzz",
      "html_url": "https://github.com/eggplantzzz",
      "followers_url": "https://api.github.com/users/eggplantzzz/followers",
      "following_url": "https://api.github.com/users/eggplantzzz/following{/other_user}",
      "gists_url": "https://api.github.com/users/eggplantzzz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eggplantzzz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eggplantzzz/subscriptions",
      "organizations_url": "https://api.github.com/users/eggplantzzz/orgs",
      "repos_url": "https://api.github.com/users/eggplantzzz/repos",
      "events_url": "https://api.github.com/users/eggplantzzz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eggplantzzz/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-11-05T18:23:29Z",
    "updated_at": "2020-11-05T18:28:45Z",
    "author_association": "CONTRIBUTOR",
    "body": "@cgewecke So is this something that it will be possible for me to reproduce locally? Since the number of confirmations is configurable, is it a possible solution to pass in a provider with it configured to 0 for testing? Just a thought.\r\n\r\nI'm not sure if that solution makes sense, to be honest I'm not familiar with the way `@truffle/contract` deals with those handlers and how they work with everything. Let me know if you have a project that would allow me to experiment and test this.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/722555605/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/722575988",
    "html_url": "https://github.com/trufflesuite/truffle/issues/2688#issuecomment-722575988",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2688",
    "id": 722575988,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcyMjU3NTk4OA==",
    "user": {
      "login": "cgewecke",
      "id": 7332026,
      "node_id": "MDQ6VXNlcjczMzIwMjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7332026?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cgewecke",
      "html_url": "https://github.com/cgewecke",
      "followers_url": "https://api.github.com/users/cgewecke/followers",
      "following_url": "https://api.github.com/users/cgewecke/following{/other_user}",
      "gists_url": "https://api.github.com/users/cgewecke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cgewecke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cgewecke/subscriptions",
      "organizations_url": "https://api.github.com/users/cgewecke/orgs",
      "repos_url": "https://api.github.com/users/cgewecke/repos",
      "events_url": "https://api.github.com/users/cgewecke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cgewecke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-11-05T18:59:48Z",
    "updated_at": "2020-11-05T19:07:29Z",
    "author_association": "CONTRIBUTOR",
    "body": "> is this something that it will be possible for me to reproduce locally\r\n\r\n@eggplantzzz \r\n\r\nIt's challenging to reproduce as a simple test because it only becomes a problem at scale e.g with test suites that run for several minutes. \r\n\r\nMaybe by running transactions in a loop and watching the log output from a separate ganache instance? You should see abnormally large numbers of `eth_getBlockNumber` requests. \r\n\r\n[EDIT]\r\n\r\nThe number of confirmations to poll for is configurable via \r\n+ [web3.eth.transactionConfirmationBlocks][1] (provider) \r\n+ [web3.eth.Contract.transactionConfirmationBlocks][1] (... or per contract)\r\n\r\n\r\n[1]: https://web3js.readthedocs.io/en/v1.3.0/web3-eth.html#transactionconfirmationblocks\r\n[2]: https://web3js.readthedocs.io/en/v1.3.0/web3-eth-contract.html#transactionconfirmationblocks\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/722575988/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/724089464",
    "html_url": "https://github.com/trufflesuite/truffle/issues/2688#issuecomment-724089464",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2688",
    "id": 724089464,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcyNDA4OTQ2NA==",
    "user": {
      "login": "cgewecke",
      "id": 7332026,
      "node_id": "MDQ6VXNlcjczMzIwMjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7332026?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cgewecke",
      "html_url": "https://github.com/cgewecke",
      "followers_url": "https://api.github.com/users/cgewecke/followers",
      "following_url": "https://api.github.com/users/cgewecke/following{/other_user}",
      "gists_url": "https://api.github.com/users/cgewecke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cgewecke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cgewecke/subscriptions",
      "organizations_url": "https://api.github.com/users/cgewecke/orgs",
      "repos_url": "https://api.github.com/users/cgewecke/repos",
      "events_url": "https://api.github.com/users/cgewecke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cgewecke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-11-09T15:35:40Z",
    "updated_at": "2020-11-09T15:35:40Z",
    "author_association": "CONTRIBUTOR",
    "body": "Believe another example of this problem has been reported at https://github.com/trufflesuite/ganache-cli/issues/702#issuecomment-723816610",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/724089464/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/724496114",
    "html_url": "https://github.com/trufflesuite/truffle/issues/2688#issuecomment-724496114",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2688",
    "id": 724496114,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcyNDQ5NjExNA==",
    "user": {
      "login": "MaxFeldman1",
      "id": 41549906,
      "node_id": "MDQ6VXNlcjQxNTQ5OTA2",
      "avatar_url": "https://avatars.githubusercontent.com/u/41549906?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MaxFeldman1",
      "html_url": "https://github.com/MaxFeldman1",
      "followers_url": "https://api.github.com/users/MaxFeldman1/followers",
      "following_url": "https://api.github.com/users/MaxFeldman1/following{/other_user}",
      "gists_url": "https://api.github.com/users/MaxFeldman1/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MaxFeldman1/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MaxFeldman1/subscriptions",
      "organizations_url": "https://api.github.com/users/MaxFeldman1/orgs",
      "repos_url": "https://api.github.com/users/MaxFeldman1/repos",
      "events_url": "https://api.github.com/users/MaxFeldman1/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MaxFeldman1/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-11-10T06:42:24Z",
    "updated_at": "2020-11-10T06:42:45Z",
    "author_association": "NONE",
    "body": "This just started happening for me when I load a transaction into truffle debug after my project reached some size, it does not happen when I debug transactions from smaller projects",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/724496114/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/724497578",
    "html_url": "https://github.com/trufflesuite/truffle/issues/2688#issuecomment-724497578",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2688",
    "id": 724497578,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcyNDQ5NzU3OA==",
    "user": {
      "login": "MaxFeldman1",
      "id": 41549906,
      "node_id": "MDQ6VXNlcjQxNTQ5OTA2",
      "avatar_url": "https://avatars.githubusercontent.com/u/41549906?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MaxFeldman1",
      "html_url": "https://github.com/MaxFeldman1",
      "followers_url": "https://api.github.com/users/MaxFeldman1/followers",
      "following_url": "https://api.github.com/users/MaxFeldman1/following{/other_user}",
      "gists_url": "https://api.github.com/users/MaxFeldman1/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MaxFeldman1/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MaxFeldman1/subscriptions",
      "organizations_url": "https://api.github.com/users/MaxFeldman1/orgs",
      "repos_url": "https://api.github.com/users/MaxFeldman1/repos",
      "events_url": "https://api.github.com/users/MaxFeldman1/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MaxFeldman1/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-11-10T06:43:58Z",
    "updated_at": "2020-11-10T06:49:37Z",
    "author_association": "NONE",
    "body": "I don't know that it has anything to do with the amount/size of tests perhaps it has something to do with the total amount of bytecode/abi complexity within the project\r\n\r\nI am getting this with Truffle v5.1.30",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/724497578/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/724763440",
    "html_url": "https://github.com/trufflesuite/truffle/issues/2688#issuecomment-724763440",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2688",
    "id": 724763440,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcyNDc2MzQ0MA==",
    "user": {
      "login": "eggplantzzz",
      "id": 14827965,
      "node_id": "MDQ6VXNlcjE0ODI3OTY1",
      "avatar_url": "https://avatars.githubusercontent.com/u/14827965?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eggplantzzz",
      "html_url": "https://github.com/eggplantzzz",
      "followers_url": "https://api.github.com/users/eggplantzzz/followers",
      "following_url": "https://api.github.com/users/eggplantzzz/following{/other_user}",
      "gists_url": "https://api.github.com/users/eggplantzzz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eggplantzzz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eggplantzzz/subscriptions",
      "organizations_url": "https://api.github.com/users/eggplantzzz/orgs",
      "repos_url": "https://api.github.com/users/eggplantzzz/repos",
      "events_url": "https://api.github.com/users/eggplantzzz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eggplantzzz/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-11-10T15:09:30Z",
    "updated_at": "2020-11-10T15:09:30Z",
    "author_association": "CONTRIBUTOR",
    "body": "Thanks for all the info guys, I'm going to meet with @gnidan and see if we can figure out a solution to this problem.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/724763440/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/725065567",
    "html_url": "https://github.com/trufflesuite/truffle/issues/2688#issuecomment-725065567",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2688",
    "id": 725065567,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcyNTA2NTU2Nw==",
    "user": {
      "login": "MaxFeldman1",
      "id": 41549906,
      "node_id": "MDQ6VXNlcjQxNTQ5OTA2",
      "avatar_url": "https://avatars.githubusercontent.com/u/41549906?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MaxFeldman1",
      "html_url": "https://github.com/MaxFeldman1",
      "followers_url": "https://api.github.com/users/MaxFeldman1/followers",
      "following_url": "https://api.github.com/users/MaxFeldman1/following{/other_user}",
      "gists_url": "https://api.github.com/users/MaxFeldman1/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MaxFeldman1/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MaxFeldman1/subscriptions",
      "organizations_url": "https://api.github.com/users/MaxFeldman1/orgs",
      "repos_url": "https://api.github.com/users/MaxFeldman1/repos",
      "events_url": "https://api.github.com/users/MaxFeldman1/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MaxFeldman1/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-11-11T01:16:18Z",
    "updated_at": "2020-11-11T01:16:18Z",
    "author_association": "NONE",
    "body": "I tried with geth and could not reproduce for me this seems to be specific to ganache",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/725065567/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/735028508",
    "html_url": "https://github.com/trufflesuite/truffle/issues/2688#issuecomment-735028508",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2688",
    "id": 735028508,
    "node_id": "MDEyOklzc3VlQ29tbWVudDczNTAyODUwOA==",
    "user": {
      "login": "gnidan",
      "id": 151065,
      "node_id": "MDQ6VXNlcjE1MTA2NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/151065?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gnidan",
      "html_url": "https://github.com/gnidan",
      "followers_url": "https://api.github.com/users/gnidan/followers",
      "following_url": "https://api.github.com/users/gnidan/following{/other_user}",
      "gists_url": "https://api.github.com/users/gnidan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gnidan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gnidan/subscriptions",
      "organizations_url": "https://api.github.com/users/gnidan/orgs",
      "repos_url": "https://api.github.com/users/gnidan/repos",
      "events_url": "https://api.github.com/users/gnidan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gnidan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-11-28T02:13:54Z",
    "updated_at": "2020-11-28T02:13:54Z",
    "author_association": "MEMBER",
    "body": "The workaround in #3566 has been released in https://github.com/trufflesuite/truffle/releases/tag/v5.1.55",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/735028508/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/736639231",
    "html_url": "https://github.com/trufflesuite/truffle/issues/2688#issuecomment-736639231",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2688",
    "id": 736639231,
    "node_id": "MDEyOklzc3VlQ29tbWVudDczNjYzOTIzMQ==",
    "user": {
      "login": "eggplantzzz",
      "id": 14827965,
      "node_id": "MDQ6VXNlcjE0ODI3OTY1",
      "avatar_url": "https://avatars.githubusercontent.com/u/14827965?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eggplantzzz",
      "html_url": "https://github.com/eggplantzzz",
      "followers_url": "https://api.github.com/users/eggplantzzz/followers",
      "following_url": "https://api.github.com/users/eggplantzzz/following{/other_user}",
      "gists_url": "https://api.github.com/users/eggplantzzz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eggplantzzz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eggplantzzz/subscriptions",
      "organizations_url": "https://api.github.com/users/eggplantzzz/orgs",
      "repos_url": "https://api.github.com/users/eggplantzzz/repos",
      "events_url": "https://api.github.com/users/eggplantzzz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eggplantzzz/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-12-01T15:49:19Z",
    "updated_at": "2020-12-01T15:50:06Z",
    "author_association": "CONTRIBUTOR",
    "body": "@cgewecke or @MaxFeldman1 can either of you confirm that the workaround mentioned above fixes this problem?\r\n\r\nWe didn't really think it was great to disable the confirmation listener across the board so you basically configure `networks['myNetwork'].disableConfirmationListener = true` in `truffle-config.js` to turn it off for your testing network config.\r\n\r\nSo for example in `truffle-config.js`:\r\n```\r\nmodule.exports = {\r\n  ... // some config stuff\r\n  networks: {\r\n    testNetwork: {\r\n      host: <host>,\r\n      port: <port>,\r\n      network_id: \"*\",\r\n      disableConfirmationListener: true\r\n    },\r\n    ... // rest of config stuff\r\n};\r\n```\r\nIf you want it to apply to the default test network (where you won't have to run Ganache separately) then you can name it \"test\" and that is what Truffle will use while testing.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/736639231/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/736691255",
    "html_url": "https://github.com/trufflesuite/truffle/issues/2688#issuecomment-736691255",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2688",
    "id": 736691255,
    "node_id": "MDEyOklzc3VlQ29tbWVudDczNjY5MTI1NQ==",
    "user": {
      "login": "cgewecke",
      "id": 7332026,
      "node_id": "MDQ6VXNlcjczMzIwMjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7332026?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cgewecke",
      "html_url": "https://github.com/cgewecke",
      "followers_url": "https://api.github.com/users/cgewecke/followers",
      "following_url": "https://api.github.com/users/cgewecke/following{/other_user}",
      "gists_url": "https://api.github.com/users/cgewecke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cgewecke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cgewecke/subscriptions",
      "organizations_url": "https://api.github.com/users/cgewecke/orgs",
      "repos_url": "https://api.github.com/users/cgewecke/repos",
      "events_url": "https://api.github.com/users/cgewecke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cgewecke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-12-01T17:10:51Z",
    "updated_at": "2020-12-01T17:10:51Z",
    "author_association": "CONTRIBUTOR",
    "body": "Sorry, yes the fix LGTM. Thanks! Closing. \r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/736691255/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/741921703",
    "html_url": "https://github.com/trufflesuite/truffle/issues/2688#issuecomment-741921703",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2688",
    "id": 741921703,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc0MTkyMTcwMw==",
    "user": {
      "login": "eggplantzzz",
      "id": 14827965,
      "node_id": "MDQ6VXNlcjE0ODI3OTY1",
      "avatar_url": "https://avatars.githubusercontent.com/u/14827965?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eggplantzzz",
      "html_url": "https://github.com/eggplantzzz",
      "followers_url": "https://api.github.com/users/eggplantzzz/followers",
      "following_url": "https://api.github.com/users/eggplantzzz/following{/other_user}",
      "gists_url": "https://api.github.com/users/eggplantzzz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eggplantzzz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eggplantzzz/subscriptions",
      "organizations_url": "https://api.github.com/users/eggplantzzz/orgs",
      "repos_url": "https://api.github.com/users/eggplantzzz/repos",
      "events_url": "https://api.github.com/users/eggplantzzz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eggplantzzz/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-12-09T17:25:12Z",
    "updated_at": "2020-12-09T17:25:12Z",
    "author_association": "CONTRIBUTOR",
    "body": "Thanks @cgewecke!",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/741921703/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
