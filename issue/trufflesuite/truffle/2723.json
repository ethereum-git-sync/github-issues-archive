{
  "url": "https://api.github.com/repos/trufflesuite/truffle/issues/2723",
  "repository_url": "https://api.github.com/repos/trufflesuite/truffle",
  "labels_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2723/labels{/name}",
  "comments_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2723/comments",
  "events_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2723/events",
  "html_url": "https://github.com/trufflesuite/truffle/issues/2723",
  "id": 545764907,
  "node_id": "MDU6SXNzdWU1NDU3NjQ5MDc=",
  "number": 2723,
  "title": "Getting a typeError when running `truffle test` after update",
  "user": {
    "login": "Amxx",
    "id": 2432299,
    "node_id": "MDQ6VXNlcjI0MzIyOTk=",
    "avatar_url": "https://avatars.githubusercontent.com/u/2432299?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/Amxx",
    "html_url": "https://github.com/Amxx",
    "followers_url": "https://api.github.com/users/Amxx/followers",
    "following_url": "https://api.github.com/users/Amxx/following{/other_user}",
    "gists_url": "https://api.github.com/users/Amxx/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/Amxx/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/Amxx/subscriptions",
    "organizations_url": "https://api.github.com/users/Amxx/orgs",
    "repos_url": "https://api.github.com/users/Amxx/repos",
    "events_url": "https://api.github.com/users/Amxx/events{/privacy}",
    "received_events_url": "https://api.github.com/users/Amxx/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 230393326,
      "node_id": "MDU6TGFiZWwyMzAzOTMzMjY=",
      "url": "https://api.github.com/repos/trufflesuite/truffle/labels/bug",
      "name": "bug",
      "color": "fc2929",
      "default": true,
      "description": null
    },
    {
      "id": 644098328,
      "node_id": "MDU6TGFiZWw2NDQwOTgzMjg=",
      "url": "https://api.github.com/repos/trufflesuite/truffle/labels/needs%20reproduced",
      "name": "needs reproduced",
      "color": "fbca04",
      "default": false,
      "description": null
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 16,
  "created_at": "2020-01-06T14:48:32Z",
  "updated_at": "2020-04-01T17:40:20Z",
  "closed_at": "2020-03-13T02:00:07Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "Coming back from vacations, I just updated my truffle install from v5.1.4 to v5.1.7.\r\n\r\nWhen running truffle tests (that used to work) I'm now getting:\r\n\r\n```\r\n  \"before all\" hook: prepare suite:\r\n     TypeError: Cannot read property 'typeClass' of undefined\r\n      at abiSizeAndAllocate (node_modules/truffle/build/webpack:/packages/codec/dist/lib/abi-data/allocate/index.js:91:1)\r\n      at abiSizeAndAllocate (node_modules/truffle/build/webpack:/packages/codec/dist/lib/abi-data/allocate/index.js:199:65)\r\n      at allocateMembers (node_modules/truffle/build/webpack:/packages/codec/dist/lib/abi-data/allocate/index.js:60:63)\r\n      at allocateDataArguments (node_modules/truffle/build/webpack:/packages/codec/dist/lib/abi-data/allocate/index.js:370:1)\r\n      at allocateCalldataAndReturndata (node_modules/truffle/build/webpack:/packages/codec/dist/lib/abi-data/allocate/index.js:301:60)\r\n      at getCalldataAllocationsForContract (node_modules/truffle/build/webpack:/packages/codec/dist/lib/abi-data/allocate/index.js:525:1)\r\n      at Object.getCalldataAllocations (node_modules/truffle/build/webpack:/packages/codec/dist/lib/abi-data/allocate/index.js:563:1)\r\n      at new WireDecoder (node_modules/truffle/build/webpack:/packages/decoder/dist/decoders.js:189:1)\r\n      at Object.<anonymous> (node_modules/truffle/build/webpack:/packages/decoder/dist/index.js:213:1)\r\n      at step (node_modules/truffle/build/webpack:/packages/decoder/dist/index.js:164:1)\r\n      at Object.next (node_modules/truffle/build/webpack:/packages/decoder/dist/index.js:145:45)\r\n      at /home/amxx/Work/iExec/code/PoCo-dev/node_modules/truffle/build/webpack:/packages/decoder/dist/index.js:139:1\r\n      at new Promise (<anonymous>)\r\n      at __awaiter (node_modules/truffle/build/webpack:/packages/decoder/dist/index.js:135:1)\r\n      at Object.forProject (node_modules/truffle/build/webpack:/packages/decoder/dist/index.js:211:1)\r\n      at TestRunner.initialize (node_modules/truffle/build/webpack:/packages/core/lib/testing/testrunner.js:80:1)\r\n      at process._tickCallback (internal/process/next_tick.js:68:7)\r\n\r\n```",
  "closed_by": {
    "login": "haltman-at",
    "id": 35589221,
    "node_id": "MDQ6VXNlcjM1NTg5MjIx",
    "avatar_url": "https://avatars.githubusercontent.com/u/35589221?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/haltman-at",
    "html_url": "https://github.com/haltman-at",
    "followers_url": "https://api.github.com/users/haltman-at/followers",
    "following_url": "https://api.github.com/users/haltman-at/following{/other_user}",
    "gists_url": "https://api.github.com/users/haltman-at/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/haltman-at/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/haltman-at/subscriptions",
    "organizations_url": "https://api.github.com/users/haltman-at/orgs",
    "repos_url": "https://api.github.com/users/haltman-at/repos",
    "events_url": "https://api.github.com/users/haltman-at/events{/privacy}",
    "received_events_url": "https://api.github.com/users/haltman-at/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/2723/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2723/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/571199766",
    "html_url": "https://github.com/trufflesuite/truffle/issues/2723#issuecomment-571199766",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2723",
    "id": 571199766,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU3MTE5OTc2Ng==",
    "user": {
      "login": "gnidan",
      "id": 151065,
      "node_id": "MDQ6VXNlcjE1MTA2NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/151065?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gnidan",
      "html_url": "https://github.com/gnidan",
      "followers_url": "https://api.github.com/users/gnidan/followers",
      "following_url": "https://api.github.com/users/gnidan/following{/other_user}",
      "gists_url": "https://api.github.com/users/gnidan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gnidan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gnidan/subscriptions",
      "organizations_url": "https://api.github.com/users/gnidan/orgs",
      "repos_url": "https://api.github.com/users/gnidan/repos",
      "events_url": "https://api.github.com/users/gnidan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gnidan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-01-06T16:10:39Z",
    "updated_at": "2020-01-06T16:10:39Z",
    "author_association": "MEMBER",
    "body": "Looks like something's gone awry with our decoder. @haltman-at might be able to help if you provide some reproduction steps. Sorry about that!",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/571199766/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/573346138",
    "html_url": "https://github.com/trufflesuite/truffle/issues/2723#issuecomment-573346138",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2723",
    "id": 573346138,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU3MzM0NjEzOA==",
    "user": {
      "login": "gnidan",
      "id": 151065,
      "node_id": "MDQ6VXNlcjE1MTA2NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/151065?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gnidan",
      "html_url": "https://github.com/gnidan",
      "followers_url": "https://api.github.com/users/gnidan/followers",
      "following_url": "https://api.github.com/users/gnidan/following{/other_user}",
      "gists_url": "https://api.github.com/users/gnidan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gnidan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gnidan/subscriptions",
      "organizations_url": "https://api.github.com/users/gnidan/orgs",
      "repos_url": "https://api.github.com/users/gnidan/repos",
      "events_url": "https://api.github.com/users/gnidan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gnidan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-01-11T19:17:49Z",
    "updated_at": "2020-01-11T19:17:49Z",
    "author_association": "MEMBER",
    "body": "@Amxx [writes on twitter](https://twitter.com/amxx/status/1216048040404049922) that this is still broken in v5.1.8",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/573346138/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/574809528",
    "html_url": "https://github.com/trufflesuite/truffle/issues/2723#issuecomment-574809528",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2723",
    "id": 574809528,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU3NDgwOTUyOA==",
    "user": {
      "login": "gnidan",
      "id": 151065,
      "node_id": "MDQ6VXNlcjE1MTA2NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/151065?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gnidan",
      "html_url": "https://github.com/gnidan",
      "followers_url": "https://api.github.com/users/gnidan/followers",
      "following_url": "https://api.github.com/users/gnidan/following{/other_user}",
      "gists_url": "https://api.github.com/users/gnidan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gnidan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gnidan/subscriptions",
      "organizations_url": "https://api.github.com/users/gnidan/orgs",
      "repos_url": "https://api.github.com/users/gnidan/repos",
      "events_url": "https://api.github.com/users/gnidan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gnidan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-01-15T19:07:53Z",
    "updated_at": "2020-01-15T19:07:53Z",
    "author_association": "MEMBER",
    "body": "Hey @Amxx can we get reproduction steps? Pretty please?",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/574809528/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/587029953",
    "html_url": "https://github.com/trufflesuite/truffle/issues/2723#issuecomment-587029953",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2723",
    "id": 587029953,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU4NzAyOTk1Mw==",
    "user": {
      "login": "Amxx",
      "id": 2432299,
      "node_id": "MDQ6VXNlcjI0MzIyOTk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2432299?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Amxx",
      "html_url": "https://github.com/Amxx",
      "followers_url": "https://api.github.com/users/Amxx/followers",
      "following_url": "https://api.github.com/users/Amxx/following{/other_user}",
      "gists_url": "https://api.github.com/users/Amxx/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Amxx/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Amxx/subscriptions",
      "organizations_url": "https://api.github.com/users/Amxx/orgs",
      "repos_url": "https://api.github.com/users/Amxx/repos",
      "events_url": "https://api.github.com/users/Amxx/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Amxx/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-02-17T14:52:09Z",
    "updated_at": "2020-02-17T14:52:09Z",
    "author_association": "NONE",
    "body": "Using 5.1.4 was ok for now, but it's looking like it's not going to support my transition to ^0.6.0.\r\n\r\n@gnidan The code that triggers that is not public, but I could send you an archive with it",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/587029953/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/588035464",
    "html_url": "https://github.com/trufflesuite/truffle/issues/2723#issuecomment-588035464",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2723",
    "id": 588035464,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU4ODAzNTQ2NA==",
    "user": {
      "login": "Amxx",
      "id": 2432299,
      "node_id": "MDQ6VXNlcjI0MzIyOTk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2432299?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Amxx",
      "html_url": "https://github.com/Amxx",
      "followers_url": "https://api.github.com/users/Amxx/followers",
      "following_url": "https://api.github.com/users/Amxx/following{/other_user}",
      "gists_url": "https://api.github.com/users/Amxx/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Amxx/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Amxx/subscriptions",
      "organizations_url": "https://api.github.com/users/Amxx/orgs",
      "repos_url": "https://api.github.com/users/Amxx/repos",
      "events_url": "https://api.github.com/users/Amxx/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Amxx/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-02-19T04:55:50Z",
    "updated_at": "2020-02-19T04:55:50Z",
    "author_association": "NONE",
    "body": "I deleted all the tests except for one empty `it`. I also removed all the migrations scripts. Error still happens.\r\n\r\n- `truffle compile` → ok\r\n- `truffle deploy` → ok\r\n- `truffle test` → error\r\n\r\nObviously, if I removed all my contracts the error disappears. So something is wrong ith my contracts being there, even if I don't deploy them / import them in test scripts.\r\n\r\nWhat email can I send the archive to?",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/588035464/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/588393226",
    "html_url": "https://github.com/trufflesuite/truffle/issues/2723#issuecomment-588393226",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2723",
    "id": 588393226,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU4ODM5MzIyNg==",
    "user": {
      "login": "gnidan",
      "id": 151065,
      "node_id": "MDQ6VXNlcjE1MTA2NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/151065?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gnidan",
      "html_url": "https://github.com/gnidan",
      "followers_url": "https://api.github.com/users/gnidan/followers",
      "following_url": "https://api.github.com/users/gnidan/following{/other_user}",
      "gists_url": "https://api.github.com/users/gnidan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gnidan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gnidan/subscriptions",
      "organizations_url": "https://api.github.com/users/gnidan/orgs",
      "repos_url": "https://api.github.com/users/gnidan/repos",
      "events_url": "https://api.github.com/users/gnidan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gnidan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-02-19T19:07:05Z",
    "updated_at": "2020-02-19T19:07:05Z",
    "author_association": "MEMBER",
    "body": "@Amxx thank you! Please send to gnidan@trufflesuite.com :)",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/588393226/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/594349379",
    "html_url": "https://github.com/trufflesuite/truffle/issues/2723#issuecomment-594349379",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2723",
    "id": 594349379,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU5NDM0OTM3OQ==",
    "user": {
      "login": "haltman-at",
      "id": 35589221,
      "node_id": "MDQ6VXNlcjM1NTg5MjIx",
      "avatar_url": "https://avatars.githubusercontent.com/u/35589221?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/haltman-at",
      "html_url": "https://github.com/haltman-at",
      "followers_url": "https://api.github.com/users/haltman-at/followers",
      "following_url": "https://api.github.com/users/haltman-at/following{/other_user}",
      "gists_url": "https://api.github.com/users/haltman-at/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/haltman-at/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/haltman-at/subscriptions",
      "organizations_url": "https://api.github.com/users/haltman-at/orgs",
      "repos_url": "https://api.github.com/users/haltman-at/repos",
      "events_url": "https://api.github.com/users/haltman-at/events{/privacy}",
      "received_events_url": "https://api.github.com/users/haltman-at/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-03-04T06:24:54Z",
    "updated_at": "2020-03-04T06:34:04Z",
    "author_association": "CONTRIBUTOR",
    "body": "OK, I've put up #2871 to address this; sorry about the delay, was working on some other things.\r\n\r\nA bit of explanation for everyone else -- on inspecting the reproduction example, it turned out that this is actually a Solidity problem; the Solidity compiler was emitting ill-formed ABIs. We can't really fix that -- and it will have to be fixed, for obvious reasons! -- but I can at least add this workaround that should at least get the tests working again.  (And, to be clear, it *does* get the test in the reproduction example working!)",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/594349379/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/594895788",
    "html_url": "https://github.com/trufflesuite/truffle/issues/2723#issuecomment-594895788",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2723",
    "id": 594895788,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU5NDg5NTc4OA==",
    "user": {
      "login": "gnidan",
      "id": 151065,
      "node_id": "MDQ6VXNlcjE1MTA2NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/151065?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gnidan",
      "html_url": "https://github.com/gnidan",
      "followers_url": "https://api.github.com/users/gnidan/followers",
      "following_url": "https://api.github.com/users/gnidan/following{/other_user}",
      "gists_url": "https://api.github.com/users/gnidan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gnidan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gnidan/subscriptions",
      "organizations_url": "https://api.github.com/users/gnidan/orgs",
      "repos_url": "https://api.github.com/users/gnidan/repos",
      "events_url": "https://api.github.com/users/gnidan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gnidan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-03-04T22:27:56Z",
    "updated_at": "2020-03-04T22:27:56Z",
    "author_association": "MEMBER",
    "body": "That fix will go out in the release tomorrow!",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/594895788/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/595418567",
    "html_url": "https://github.com/trufflesuite/truffle/issues/2723#issuecomment-595418567",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2723",
    "id": 595418567,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU5NTQxODU2Nw==",
    "user": {
      "login": "eggplantzzz",
      "id": 14827965,
      "node_id": "MDQ6VXNlcjE0ODI3OTY1",
      "avatar_url": "https://avatars.githubusercontent.com/u/14827965?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eggplantzzz",
      "html_url": "https://github.com/eggplantzzz",
      "followers_url": "https://api.github.com/users/eggplantzzz/followers",
      "following_url": "https://api.github.com/users/eggplantzzz/following{/other_user}",
      "gists_url": "https://api.github.com/users/eggplantzzz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eggplantzzz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eggplantzzz/subscriptions",
      "organizations_url": "https://api.github.com/users/eggplantzzz/orgs",
      "repos_url": "https://api.github.com/users/eggplantzzz/repos",
      "events_url": "https://api.github.com/users/eggplantzzz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eggplantzzz/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-03-05T19:58:21Z",
    "updated_at": "2020-03-05T19:58:21Z",
    "author_association": "CONTRIBUTOR",
    "body": "A fix should be in the latest Truffle (https://github.com/trufflesuite/truffle/releases/tag/v5.1.16).\r\n\r\nLet us know if this doesn't solve this issue and we'll be happy to re-open!",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/595418567/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/595992817",
    "html_url": "https://github.com/trufflesuite/truffle/issues/2723#issuecomment-595992817",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2723",
    "id": 595992817,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU5NTk5MjgxNw==",
    "user": {
      "login": "haltman-at",
      "id": 35589221,
      "node_id": "MDQ6VXNlcjM1NTg5MjIx",
      "avatar_url": "https://avatars.githubusercontent.com/u/35589221?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/haltman-at",
      "html_url": "https://github.com/haltman-at",
      "followers_url": "https://api.github.com/users/haltman-at/followers",
      "following_url": "https://api.github.com/users/haltman-at/following{/other_user}",
      "gists_url": "https://api.github.com/users/haltman-at/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/haltman-at/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/haltman-at/subscriptions",
      "organizations_url": "https://api.github.com/users/haltman-at/orgs",
      "repos_url": "https://api.github.com/users/haltman-at/repos",
      "events_url": "https://api.github.com/users/haltman-at/events{/privacy}",
      "received_events_url": "https://api.github.com/users/haltman-at/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-03-06T22:31:50Z",
    "updated_at": "2020-03-06T22:31:50Z",
    "author_association": "CONTRIBUTOR",
    "body": "Reopening issue per @Amxx's comments in email.  @Amxx, could you tell us what error messages you're getting now?  Thank you!",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/595992817/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/596031251",
    "html_url": "https://github.com/trufflesuite/truffle/issues/2723#issuecomment-596031251",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2723",
    "id": 596031251,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU5NjAzMTI1MQ==",
    "user": {
      "login": "haltman-at",
      "id": 35589221,
      "node_id": "MDQ6VXNlcjM1NTg5MjIx",
      "avatar_url": "https://avatars.githubusercontent.com/u/35589221?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/haltman-at",
      "html_url": "https://github.com/haltman-at",
      "followers_url": "https://api.github.com/users/haltman-at/followers",
      "following_url": "https://api.github.com/users/haltman-at/following{/other_user}",
      "gists_url": "https://api.github.com/users/haltman-at/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/haltman-at/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/haltman-at/subscriptions",
      "organizations_url": "https://api.github.com/users/haltman-at/orgs",
      "repos_url": "https://api.github.com/users/haltman-at/repos",
      "events_url": "https://api.github.com/users/haltman-at/events{/privacy}",
      "received_events_url": "https://api.github.com/users/haltman-at/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-03-07T01:51:05Z",
    "updated_at": "2020-03-07T01:51:05Z",
    "author_association": "CONTRIBUTOR",
    "body": "OK, just put up a PR #2873 with a (partial?) fix for this; see that PR for more information.  Note that while this problem is basically our fault due to failure to gracefully handle an AST node ID collision, you might want to report to Solidity that there was an AST node ID collision at all, because my understanding is that that AST node IDs are supposed to be unique within a single compilation.  (And I assume that you compiled the whole project at once, like I did, seeing as we got the same error.)\r\n\r\n(Specifically: Both the contract `ERC1538Proxy`, and the struct `IexecLibCore_v5.Resource`, somehow ended up with an ID of 290.)\r\n\r\nI'm actually still getting errors on some tests (not all, thankfully!) when I try to test your project, but these errors don't look like they're our fault, so I'm not sure if there's anything for us to do about them.  Specifically I'm getting:\r\n\r\n```\r\n     TypeError: Cannot read property 'slice' of undefined\r\n      at Object.fromPrivate (/home/sniffnoy/truffle/truffle/node_modules/eth-lib/lib/account.js:29:38)\r\n      at Accounts.privateKeyToAccount (/home/sniffnoy/truffle/truffle/node_modules/web3-eth-accounts/src/index.js:129:46)\r\n      at new iExecAgent (utils/odb-tools.js:214:23)\r\n      at Context.before (test/ERC1154/resultFor.js:71:21)\r\n      at process._tickCallback (internal/process/next_tick.js:68:7)\r\n```\r\n\r\non a number of tests.  But like I said I don't think that's a Truffle issue...",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/596031251/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/598511607",
    "html_url": "https://github.com/trufflesuite/truffle/issues/2723#issuecomment-598511607",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2723",
    "id": 598511607,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU5ODUxMTYwNw==",
    "user": {
      "login": "haltman-at",
      "id": 35589221,
      "node_id": "MDQ6VXNlcjM1NTg5MjIx",
      "avatar_url": "https://avatars.githubusercontent.com/u/35589221?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/haltman-at",
      "html_url": "https://github.com/haltman-at",
      "followers_url": "https://api.github.com/users/haltman-at/followers",
      "following_url": "https://api.github.com/users/haltman-at/following{/other_user}",
      "gists_url": "https://api.github.com/users/haltman-at/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/haltman-at/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/haltman-at/subscriptions",
      "organizations_url": "https://api.github.com/users/haltman-at/orgs",
      "repos_url": "https://api.github.com/users/haltman-at/repos",
      "events_url": "https://api.github.com/users/haltman-at/events{/privacy}",
      "received_events_url": "https://api.github.com/users/haltman-at/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-03-13T02:00:07Z",
    "updated_at": "2020-03-13T02:00:07Z",
    "author_association": "CONTRIBUTOR",
    "body": "OK, the fix is released, so I'm closing this again.  Let us know if there are still problems.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/598511607/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/606731338",
    "html_url": "https://github.com/trufflesuite/truffle/issues/2723#issuecomment-606731338",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2723",
    "id": 606731338,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYwNjczMTMzOA==",
    "user": {
      "login": "andy-mcewan-artos-io",
      "id": 33836852,
      "node_id": "MDQ6VXNlcjMzODM2ODUy",
      "avatar_url": "https://avatars.githubusercontent.com/u/33836852?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/andy-mcewan-artos-io",
      "html_url": "https://github.com/andy-mcewan-artos-io",
      "followers_url": "https://api.github.com/users/andy-mcewan-artos-io/followers",
      "following_url": "https://api.github.com/users/andy-mcewan-artos-io/following{/other_user}",
      "gists_url": "https://api.github.com/users/andy-mcewan-artos-io/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/andy-mcewan-artos-io/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/andy-mcewan-artos-io/subscriptions",
      "organizations_url": "https://api.github.com/users/andy-mcewan-artos-io/orgs",
      "repos_url": "https://api.github.com/users/andy-mcewan-artos-io/repos",
      "events_url": "https://api.github.com/users/andy-mcewan-artos-io/events{/privacy}",
      "received_events_url": "https://api.github.com/users/andy-mcewan-artos-io/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-03-31T16:21:59Z",
    "updated_at": "2020-03-31T16:21:59Z",
    "author_association": "NONE",
    "body": "I'm seeing this error now too but want to actually use the contracts that are causing the ID clash, so I don't think that upgrading truffle will help.\r\n\r\nHas anyone actually reported this as a bug on Solidity? I can't find it being mentioned anywhere but here.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/606731338/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/606763750",
    "html_url": "https://github.com/trufflesuite/truffle/issues/2723#issuecomment-606763750",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2723",
    "id": 606763750,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYwNjc2Mzc1MA==",
    "user": {
      "login": "haltman-at",
      "id": 35589221,
      "node_id": "MDQ6VXNlcjM1NTg5MjIx",
      "avatar_url": "https://avatars.githubusercontent.com/u/35589221?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/haltman-at",
      "html_url": "https://github.com/haltman-at",
      "followers_url": "https://api.github.com/users/haltman-at/followers",
      "following_url": "https://api.github.com/users/haltman-at/following{/other_user}",
      "gists_url": "https://api.github.com/users/haltman-at/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/haltman-at/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/haltman-at/subscriptions",
      "organizations_url": "https://api.github.com/users/haltman-at/orgs",
      "repos_url": "https://api.github.com/users/haltman-at/repos",
      "events_url": "https://api.github.com/users/haltman-at/events{/privacy}",
      "received_events_url": "https://api.github.com/users/haltman-at/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-03-31T17:23:00Z",
    "updated_at": "2020-03-31T17:23:00Z",
    "author_association": "CONTRIBUTOR",
    "body": "> I'm seeing this error now too but want to actually use the contracts that are causing the ID clash, so I don't think that upgrading truffle will help.\r\n\r\nUpgrading Truffle is still what you want to do here, I think.  Again, the upgraded version will better handle the ID clash rather than erroring out.  You should be able to use the contracts just fine.  The ID clash just means that the decoder (used for decoding test events, for instance) will return slightly less information.  You don't need a contract's AST ID for most uses.\r\n\r\nNow, if you're getting the *original* error, then, well, first of all you should still upgrade Truffle so you can avoid errors.  But yes, if it's the original error, with malformed ABIs rather than an ID clash, then you have more of a problem; as mentioned, you could manually edit the ABIs as a workaround?  Upgrading Truffle won't somehow prevent you from using this stuff though.\r\n\r\n> Has anyone actually reported this as a bug on Solidity? I can't find it being mentioned anywhere but here.\r\n\r\nUnfortunately no as far as I'm aware (both of these, both the malformed ABI and the ID clash).  I encouraged @Amxx to report them but I don't believe he did.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/606763750/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/607120970",
    "html_url": "https://github.com/trufflesuite/truffle/issues/2723#issuecomment-607120970",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2723",
    "id": 607120970,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYwNzEyMDk3MA==",
    "user": {
      "login": "andy-mcewan-artos-io",
      "id": 33836852,
      "node_id": "MDQ6VXNlcjMzODM2ODUy",
      "avatar_url": "https://avatars.githubusercontent.com/u/33836852?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/andy-mcewan-artos-io",
      "html_url": "https://github.com/andy-mcewan-artos-io",
      "followers_url": "https://api.github.com/users/andy-mcewan-artos-io/followers",
      "following_url": "https://api.github.com/users/andy-mcewan-artos-io/following{/other_user}",
      "gists_url": "https://api.github.com/users/andy-mcewan-artos-io/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/andy-mcewan-artos-io/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/andy-mcewan-artos-io/subscriptions",
      "organizations_url": "https://api.github.com/users/andy-mcewan-artos-io/orgs",
      "repos_url": "https://api.github.com/users/andy-mcewan-artos-io/repos",
      "events_url": "https://api.github.com/users/andy-mcewan-artos-io/events{/privacy}",
      "received_events_url": "https://api.github.com/users/andy-mcewan-artos-io/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-04-01T08:50:08Z",
    "updated_at": "2020-04-01T08:50:08Z",
    "author_association": "NONE",
    "body": "I've upgraded truffle and the error has gone. I'm adding new files which are not yet being run in tests so I'm not sure if the problem is the ID clash or bad ABI just yet - I had a quick look and couldn't see anything obvious. I guess I'll see what happens when I use them. Thanks for the help so far, anyway.\r\n\r\nAs for the Solidity bug report, as you seem to understand the problem in depth better than anyone else on this thread, I think you are the best person to raise the bug yourself. Please link to here if you do so the rest of us who don't understand it as well can keep track :)",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/607120970/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/607392162",
    "html_url": "https://github.com/trufflesuite/truffle/issues/2723#issuecomment-607392162",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2723",
    "id": 607392162,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYwNzM5MjE2Mg==",
    "user": {
      "login": "haltman-at",
      "id": 35589221,
      "node_id": "MDQ6VXNlcjM1NTg5MjIx",
      "avatar_url": "https://avatars.githubusercontent.com/u/35589221?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/haltman-at",
      "html_url": "https://github.com/haltman-at",
      "followers_url": "https://api.github.com/users/haltman-at/followers",
      "following_url": "https://api.github.com/users/haltman-at/following{/other_user}",
      "gists_url": "https://api.github.com/users/haltman-at/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/haltman-at/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/haltman-at/subscriptions",
      "organizations_url": "https://api.github.com/users/haltman-at/orgs",
      "repos_url": "https://api.github.com/users/haltman-at/repos",
      "events_url": "https://api.github.com/users/haltman-at/events{/privacy}",
      "received_events_url": "https://api.github.com/users/haltman-at/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-04-01T17:39:57Z",
    "updated_at": "2020-04-01T17:40:20Z",
    "author_association": "CONTRIBUTOR",
    "body": "Well, I mentioned it to them on their Gitter, but I didn't open an issue because I'd be missing one key thing: A reproduction example!  (I couldn't use Amxx's because his was sent to us privately.)  So, it would be better if you could open the issue.  But if you have a reproduction example, I suppose I could do it.\r\n\r\nAs for telling the two errors apart... yeah, they don't really belong in the same thread; sometimes unrelated errors just end up grouped like that. :-/  They don't actually resemble each other, just the new error message (from the ID clash) never got posted here because some of this discussion was conducted with Amxx in email.\r\n\r\nThe error that resulted from the ID clash -- copying it in from Amxx's email -- looked like this:\r\n\r\n```\r\n     TypeError: Cannot read property 'find' of undefined\r\n      at linearizedBaseContracts.reduce (node_modules/truffle/build/webpack:/packages/codec/dist/lib/abi-data/allocate/index.js:263:1)\r\n      at Array.reduce (<anonymous>)\r\n      at allocateCalldataAndReturndata (node_modules/truffle/build/webpack:/packages/codec/dist/lib/abi-data/allocate/index.js:253:1)\r\n      at getCalldataAllocationsForContract (node_modules/truffle/build/webpack:/packages/codec/dist/lib/abi-data/allocate/index.js:530:1)\r\n      at Object.getCalldataAllocations (node_modules/truffle/build/webpack:/packages/codec/dist/lib/abi-data/allocate/index.js:568:1)\r\n      at new WireDecoder (node_modules/truffle/build/webpack:/packages/decoder/dist/decoders.js:203:1)\r\n      at Object.<anonymous> (node_modules/truffle/build/webpack:/packages/decoder/dist/index.js:223:1)\r\n      at step (node_modules/truffle/build/webpack:/packages/decoder/dist/index.js:164:1)\r\n      at Object.next (node_modules/truffle/build/webpack:/packages/decoder/dist/index.js:145:45)\r\n      at /home/amxx/Work/iExec/code/_archive/node_modules/truffle/build/webpack:/packages/decoder/dist/index.js:139:1\r\n      at new Promise (<anonymous>)\r\n      at __awaiter (node_modules/truffle/build/webpack:/packages/decoder/dist/index.js:135:1)\r\n      at Object.forProject (node_modules/truffle/build/webpack:/packages/decoder/dist/index.js:219:1)\r\n      at TestRunner.initialize (node_modules/truffle/build/webpack:/packages/core/lib/testing/testrunner.js:84:1)\r\n      at process._tickCallback (internal/process/next_tick.js:68:7)\r\n```\r\n\r\nSo, if you were getting the first of these errors, rather than the second, it's more likely a bad ABI.\r\n\r\nAnyway, I would encourage you to submit the issue yourself (or @Amxx, I would still encourage you to do so, with both issues!) but if you can send us a reproduction example I might have time to inspect it and submit the issue.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/607392162/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
