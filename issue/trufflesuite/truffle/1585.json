{
  "url": "https://api.github.com/repos/trufflesuite/truffle/issues/1585",
  "repository_url": "https://api.github.com/repos/trufflesuite/truffle",
  "labels_url": "https://api.github.com/repos/trufflesuite/truffle/issues/1585/labels{/name}",
  "comments_url": "https://api.github.com/repos/trufflesuite/truffle/issues/1585/comments",
  "events_url": "https://api.github.com/repos/trufflesuite/truffle/issues/1585/events",
  "html_url": "https://github.com/trufflesuite/truffle/issues/1585",
  "id": 393929418,
  "node_id": "MDU6SXNzdWUzOTM5Mjk0MTg=",
  "number": 1585,
  "title": "Docs not clear on what web3 version to use",
  "user": {
    "login": "wbt",
    "id": 563406,
    "node_id": "MDQ6VXNlcjU2MzQwNg==",
    "avatar_url": "https://avatars.githubusercontent.com/u/563406?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/wbt",
    "html_url": "https://github.com/wbt",
    "followers_url": "https://api.github.com/users/wbt/followers",
    "following_url": "https://api.github.com/users/wbt/following{/other_user}",
    "gists_url": "https://api.github.com/users/wbt/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/wbt/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/wbt/subscriptions",
    "organizations_url": "https://api.github.com/users/wbt/orgs",
    "repos_url": "https://api.github.com/users/wbt/repos",
    "events_url": "https://api.github.com/users/wbt/events{/privacy}",
    "received_events_url": "https://api.github.com/users/wbt/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 4,
  "created_at": "2018-12-24T20:52:58Z",
  "updated_at": "2022-08-11T18:18:29Z",
  "closed_at": "2022-08-11T18:18:29Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "- [x] I've asked for help in the [Truffle Gitter](http://gitter.im/Consensys/truffle) before filing this issue.\r\n\r\n---------------------------\r\n\r\nCongratulations on reaching v5!  The documentation hasn't quite caught up yet, so here's an Issue towards improvement.  \r\n\r\n## Issue\r\nI'm attempting browser use of [truffle-contract](https://github.com/trufflesuite/truffle/tree/master/packages/truffle-contract).  The \"Browser usage\" section of documentation there includes an example with the line `<script type=\"text/javascript\" src=\"./path/to/web3.min.js\"></script>` which means I need to provide a path to the version of web3 that the new version of Truffle expects to find.  \r\n\r\nAccording to the [Release Notes](https://github.com/trufflesuite/truffle/releases/tag/v5.0.0), this version of Truffle requires updating to [Web3.js v1.0](https://web3js.readthedocs.io/en/1.0/index.html), a breaking change.  That page that links to has a clear note up top saying \r\n>\"This documentation is work in progress and web3.js 1.0 is not yet released!\"  \r\n\r\nFrom that, the Truffle v5 release seems a little bit premature and might confuse users.  I'll ignore that from here forward.   \r\n[Lower](https://web3js.readthedocs.io/en/1.0/getting-started.html#adding-web3-js) on that documentation page, there are instructions for \"adding web3.js\" which say `npm install web3` or link `dist/web3.min.js`.\r\n\r\nI don't see any `dist` or `web3.min.js` in the any of the `node_modules` subfolders.  The [dist/web3.min.js on ethereum/web3.js (1.0 branch)](https://github.com/ethereum/web3.js/blob/1.0/dist/web3.min.js) was last updated 4 months ago and reports v1.0.0-beta.36. Files in the `develop` branch either there or in [Truffle's web3 fork](https://github.com/trufflesuite/web3.js/tree/develop/dist) were updated 20 days ago and report version 0.20.7 (see e.g. https://github.com/trufflesuite/web3.js/blob/develop/lib/version.json or https://github.com/trufflesuite/web3.js/blob/develop/dist/web3.js#L2476 ).\r\n\r\nThe Truffle [changelog](https://github.com/trufflesuite/truffle/releases/tag/v5.0.0#user-content-changelog-since-5-0-0-beta-2) lists PR#1495 (Use truffle web3 fork) as well as PR #1513 (going the other way, specifying 1.0.0-beta.37).  \r\n\r\nWhen I go into the node_modules\\web3-eth resulting from `npm install web3` I see a README.md saying I should run `npm run-script build-all` in the web3.js repository.  However, when I clone that repo and `cd` to it, then run `npm run-script build-all` I just get an NPM error `missing script: build-all`. Running `npm install gulp -g` shows success but doesn't fix that. \r\n\r\nAs I installed truffle globally (per the clear [instruction](https://truffleframework.com/truffle), I tried looking in the global installed node_modules/truffle directory (`C:\\Users\\me\\AppData\\Local\\node\\node_modules\\truffle`) but there is no web3 found there.\r\n\r\n## Steps to Reproduce\r\n1. Determine via changelog that Truffle v5 is supposed to use web3 v1.0.0-beta37.\r\n2. Attempt to locate a JS file with that version of web3.\r\n3. Fail.\r\n\r\n## Expected Behavior\r\nDocumentation is clear about where to get or how to successfully build the version of web3 that is supposed to be used with the latest Truffle.  Ideally, that version is marked as released software, instead of having a major release dependent on an unreleased beta. \r\n\r\n## Environment\r\n\r\n* Operating System: Windows 10 Pro\r\n* Truffle version (`truffle version`): 5.0.0\r\n* node version (`node --version`): 9.3.0\r\n* npm version (`npm --version`): 6.5.0\r\n",
  "closed_by": {
    "login": "eggplantzzz",
    "id": 14827965,
    "node_id": "MDQ6VXNlcjE0ODI3OTY1",
    "avatar_url": "https://avatars.githubusercontent.com/u/14827965?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/eggplantzzz",
    "html_url": "https://github.com/eggplantzzz",
    "followers_url": "https://api.github.com/users/eggplantzzz/followers",
    "following_url": "https://api.github.com/users/eggplantzzz/following{/other_user}",
    "gists_url": "https://api.github.com/users/eggplantzzz/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/eggplantzzz/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/eggplantzzz/subscriptions",
    "organizations_url": "https://api.github.com/users/eggplantzzz/orgs",
    "repos_url": "https://api.github.com/users/eggplantzzz/repos",
    "events_url": "https://api.github.com/users/eggplantzzz/events{/privacy}",
    "received_events_url": "https://api.github.com/users/eggplantzzz/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/1585/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/trufflesuite/truffle/issues/1585/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/450556518",
    "html_url": "https://github.com/trufflesuite/truffle/issues/1585#issuecomment-450556518",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/1585",
    "id": 450556518,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1MDU1NjUxOA==",
    "user": {
      "login": "sarbogast",
      "id": 143758,
      "node_id": "MDQ6VXNlcjE0Mzc1OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/143758?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sarbogast",
      "html_url": "https://github.com/sarbogast",
      "followers_url": "https://api.github.com/users/sarbogast/followers",
      "following_url": "https://api.github.com/users/sarbogast/following{/other_user}",
      "gists_url": "https://api.github.com/users/sarbogast/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sarbogast/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sarbogast/subscriptions",
      "organizations_url": "https://api.github.com/users/sarbogast/orgs",
      "repos_url": "https://api.github.com/users/sarbogast/repos",
      "events_url": "https://api.github.com/users/sarbogast/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sarbogast/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-12-30T12:09:08Z",
    "updated_at": "2018-12-30T12:09:08Z",
    "author_association": "NONE",
    "body": "I agree. And maybe the truffle version command should show which version of web3 Truffle uses internally so that we can be sure to use the same version of web3 in a web client as the one used in tests for example.\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/450556518/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/468372481",
    "html_url": "https://github.com/trufflesuite/truffle/issues/1585#issuecomment-468372481",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/1585",
    "id": 468372481,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2ODM3MjQ4MQ==",
    "user": {
      "login": "dryruner",
      "id": 1220361,
      "node_id": "MDQ6VXNlcjEyMjAzNjE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1220361?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dryruner",
      "html_url": "https://github.com/dryruner",
      "followers_url": "https://api.github.com/users/dryruner/followers",
      "following_url": "https://api.github.com/users/dryruner/following{/other_user}",
      "gists_url": "https://api.github.com/users/dryruner/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dryruner/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dryruner/subscriptions",
      "organizations_url": "https://api.github.com/users/dryruner/orgs",
      "repos_url": "https://api.github.com/users/dryruner/repos",
      "events_url": "https://api.github.com/users/dryruner/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dryruner/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-02-28T17:57:09Z",
    "updated_at": "2019-02-28T17:57:09Z",
    "author_association": "NONE",
    "body": "How do we manually set/config web3 version in truffle?  I.e. I do not want to use 1.0.0.xxx.beta, how to use 0.20.7 instead?",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/468372481/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/469323691",
    "html_url": "https://github.com/trufflesuite/truffle/issues/1585#issuecomment-469323691",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/1585",
    "id": 469323691,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2OTMyMzY5MQ==",
    "user": {
      "login": "eggplantzzz",
      "id": 14827965,
      "node_id": "MDQ6VXNlcjE0ODI3OTY1",
      "avatar_url": "https://avatars.githubusercontent.com/u/14827965?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eggplantzzz",
      "html_url": "https://github.com/eggplantzzz",
      "followers_url": "https://api.github.com/users/eggplantzzz/followers",
      "following_url": "https://api.github.com/users/eggplantzzz/following{/other_user}",
      "gists_url": "https://api.github.com/users/eggplantzzz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eggplantzzz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eggplantzzz/subscriptions",
      "organizations_url": "https://api.github.com/users/eggplantzzz/orgs",
      "repos_url": "https://api.github.com/users/eggplantzzz/repos",
      "events_url": "https://api.github.com/users/eggplantzzz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eggplantzzz/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-03-04T16:43:24Z",
    "updated_at": "2019-03-04T16:43:24Z",
    "author_association": "CONTRIBUTOR",
    "body": "@testrain Truffle version 5 uses version 1.0.0-beta.37 and needs to use this version. If you need to use a version less than 1.** you can use the previous version of Truffle (v4.1.15) although it is currently unmaintained as of last December.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/469323691/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/1212337717",
    "html_url": "https://github.com/trufflesuite/truffle/issues/1585#issuecomment-1212337717",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/1585",
    "id": 1212337717,
    "node_id": "IC_kwDOAkfq-c5IQs41",
    "user": {
      "login": "eggplantzzz",
      "id": 14827965,
      "node_id": "MDQ6VXNlcjE0ODI3OTY1",
      "avatar_url": "https://avatars.githubusercontent.com/u/14827965?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eggplantzzz",
      "html_url": "https://github.com/eggplantzzz",
      "followers_url": "https://api.github.com/users/eggplantzzz/followers",
      "following_url": "https://api.github.com/users/eggplantzzz/following{/other_user}",
      "gists_url": "https://api.github.com/users/eggplantzzz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eggplantzzz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eggplantzzz/subscriptions",
      "organizations_url": "https://api.github.com/users/eggplantzzz/orgs",
      "repos_url": "https://api.github.com/users/eggplantzzz/repos",
      "events_url": "https://api.github.com/users/eggplantzzz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eggplantzzz/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-08-11T18:18:29Z",
    "updated_at": "2022-08-11T18:18:29Z",
    "author_association": "CONTRIBUTOR",
    "body": "Closing this as we no longer require a separate script tag to load web3.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/1212337717/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
