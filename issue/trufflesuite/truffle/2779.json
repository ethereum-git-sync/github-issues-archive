{
  "url": "https://api.github.com/repos/trufflesuite/truffle/issues/2779",
  "repository_url": "https://api.github.com/repos/trufflesuite/truffle",
  "labels_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2779/labels{/name}",
  "comments_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2779/comments",
  "events_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2779/events",
  "html_url": "https://github.com/trufflesuite/truffle/issues/2779",
  "id": 553964163,
  "node_id": "MDU6SXNzdWU1NTM5NjQxNjM=",
  "number": 2779,
  "title": "could not deploy the contract in Quorum network",
  "user": {
    "login": "vishnutm",
    "id": 30982642,
    "node_id": "MDQ6VXNlcjMwOTgyNjQy",
    "avatar_url": "https://avatars.githubusercontent.com/u/30982642?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/vishnutm",
    "html_url": "https://github.com/vishnutm",
    "followers_url": "https://api.github.com/users/vishnutm/followers",
    "following_url": "https://api.github.com/users/vishnutm/following{/other_user}",
    "gists_url": "https://api.github.com/users/vishnutm/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/vishnutm/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/vishnutm/subscriptions",
    "organizations_url": "https://api.github.com/users/vishnutm/orgs",
    "repos_url": "https://api.github.com/users/vishnutm/repos",
    "events_url": "https://api.github.com/users/vishnutm/events{/privacy}",
    "received_events_url": "https://api.github.com/users/vishnutm/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 5,
  "created_at": "2020-01-23T06:31:05Z",
  "updated_at": "2020-03-04T18:55:26Z",
  "closed_at": "2020-03-04T18:54:18Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "**Issue**\r\nI'm trying to use truffle on Quorum, i build a 3 node setup from the using raft consensus. But i can not depoly a contract in that network\r\n\r\n**3Node setup:**\r\n./startnode1.sh\r\n./startnode2.sh\r\n./startnode3.sh\r\n\r\nMy smart contract in truffle is \r\n```solidity\r\npragma solidity ^0.5.0;\r\n\r\ncontract SimpleStorage {\r\n  uint public storedData;\r\n\r\n  constructor(uint initVal) public {\r\n    storedData = initVal;\r\n  }\r\n\r\n  function set(uint x) public {\r\n    storedData = x;\r\n  }\r\n\r\n  function get() view public returns (uint retVal) {\r\n    return storedData;\r\n  }\r\n}\r\n```\r\n\r\nafter compiling the smart contract . i copy the abi and byte code public-contract.js \r\n```javascript\r\na = eth.accounts[0];\r\nweb3.eth.defaultAccount = a;\r\n\r\n// abi and bytecode generated from simplestorage.sol:\r\n// > solcjs --bin --abi simplestorage.sol\r\n\"abi\" = [\r\n  {\r\n    inputs: [],\r\n    payable: false,\r\n    stateMutability: \"nonpayable\",\r\n    type: \"constructor\"\r\n  },\r\n  {\r\n    constant: true,\r\n    inputs: [],\r\n    name: \"last_completed_migration\",\r\n    outputs: [\r\n      {\r\n        internalType: \"uint256\",\r\n        name: \"\",\r\n        type: \"uint256\"\r\n      }\r\n    ],\r\n    payable: false,\r\n    stateMutability: \"view\",\r\n    type: \"function\"\r\n  },\r\n  {\r\n    constant: true,\r\n    inputs: [],\r\n    name: \"owner\",\r\n    outputs: [\r\n      {\r\n        internalType: \"address\",\r\n        name: \"\",\r\n        type: \"address\"\r\n      }\r\n    ],\r\n    payable: false,\r\n    stateMutability: \"view\",\r\n    type: \"function\"\r\n  },\r\n  {\r\n    constant: false,\r\n    inputs: [\r\n      {\r\n        internalType: \"uint256\",\r\n        name: \"completed\",\r\n        type: \"uint256\"\r\n      }\r\n    ],\r\n    name: \"setCompleted\",\r\n    outputs: [],\r\n    payable: false,\r\n    stateMutability: \"nonpayable\",\r\n    type: \"function\"\r\n  },\r\n  {\r\n    constant: false,\r\n    inputs: [\r\n      {\r\n        internalType: \"address\",\r\n        name: \"new_address\",\r\n        type: \"address\"\r\n      }\r\n    ],\r\n    name: \"upgrade\",\r\n    outputs: [],\r\n    payable: false,\r\n    stateMutability: \"nonpayable\",\r\n    type: \"function\"\r\n  }\r\n];\r\n\r\nvar bytecode =\r\n  \"0x608060405234801561001057600080fd5b50336000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055506102b7806100606000396000f3fe608060405234801561001057600080fd5b506004361061004c5760003560e01c80630900f01014610051578063445df0ac146100955780638da5cb5b146100b3578063fdacd576146100fd575b600080fd5b6100936004803603602081101561006757600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff16906020019092919050505061012b565b005b61009d6101f7565b6040518082815260200191505060405180910390f35b6100bb6101fd565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b6101296004803603602081101561011357600080fd5b8101908080359060200190929190505050610222565b005b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614156101f45760008190508073ffffffffffffffffffffffffffffffffffffffff1663fdacd5766001546040518263ffffffff1660e01b815260040180828152602001915050600060405180830381600087803b1580156101da57600080fd5b505af11580156101ee573d6000803e3d6000fd5b50505050505b50565b60015481565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff16141561027f57806001819055505b5056fea265627a7a7231582009f44aafb2cd64c2bed2f4eeee0f2550b0b7f731d231fd1354f52fcba565eeb064736f6c634300050c0032\";\r\n\r\nvar simpleContract = web3.eth.contract(abi);\r\nvar simple = simpleContract.new(\r\n  42,\r\n  { from: web3.eth.accounts[0], data: bytecode, gas: 0x47b760 },\r\n  function(e, contract) {\r\n    if (e) {\r\n      console.log(\"err creating contract\", e);\r\n    } else {\r\n      if (!contract.address) {\r\n        console.log(\r\n          \"Contract transaction send: TransactionHash: \" +\r\n            contract.transactionHash +\r\n            \" waiting to be mined...\"\r\n        );\r\n      } else {\r\n        console.log(\"Contract mined! Address: \" + contract.address);\r\n        console.log(contract);\r\n      }\r\n    }\r\n  }\r\n);\r\n```\r\n\r\nwhen truffle migrate it . it generate the error like this\r\n\r\n**truffle migrate --reset**\r\n```\r\nCompiling your contracts...\r\n===========================\r\n> Compiling ./contracts/SimpleStorage.sol\r\n> Artifacts written to /home/vishnu/NetObjex/quorum/fromscratch/qutruffle/build/contracts\r\n> Compiled successfully using:\r\n   - solc: 0.5.0+commit.1d4f565a.Emscripten.clang\r\n\r\nRunning migration: 1_initial_migration.js\r\nDeploying Migrations...\r\nMigrations: 0x76527e53747a15589c156a4F15574bdEBf3858d0\r\nSaving successful migration to network...\r\nError encountered, bailing. Network state unknown. Review successful transactions manually.\r\nTransaction: 0x38bdc1220bc3821832505c50cd491e52f5d1729d1680d98859b717884ea271ec exited with an error (status 0) after consuming all gas.\r\n     Please check that the transaction:\r\n     - satisfies all conditions set by Solidity `assert` statements.\r\n     - has enough gas to execute the full transaction.\r\n     - does not trigger an invalid opcode by other means (ex: accessing an array out of bounds).\r\nTruffle v5.0.14 (core: 5.0.14)\r\nNode v12.14.0\r\n```\r\n**Enviornment**:\r\n\r\n Operating System: Ubuntu 18.04.3 LTS\r\nQuorum geth version : Geth/v1.8.18-stable-51e1f635(quorum-v2.4.0),\r\nTruffle version ; Truffle v5.0.14 (core: 5.0.14),\r\nSolidity v0.5.0 (solc-js)\r\nNode v12.14.0\r\nWeb3.js v1.0.0-beta.37\r\n\r\n\r\n\r\n\r\n",
  "closed_by": {
    "login": "gnidan",
    "id": 151065,
    "node_id": "MDQ6VXNlcjE1MTA2NQ==",
    "avatar_url": "https://avatars.githubusercontent.com/u/151065?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/gnidan",
    "html_url": "https://github.com/gnidan",
    "followers_url": "https://api.github.com/users/gnidan/followers",
    "following_url": "https://api.github.com/users/gnidan/following{/other_user}",
    "gists_url": "https://api.github.com/users/gnidan/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/gnidan/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/gnidan/subscriptions",
    "organizations_url": "https://api.github.com/users/gnidan/orgs",
    "repos_url": "https://api.github.com/users/gnidan/repos",
    "events_url": "https://api.github.com/users/gnidan/events{/privacy}",
    "received_events_url": "https://api.github.com/users/gnidan/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/2779/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2779/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/579455537",
    "html_url": "https://github.com/trufflesuite/truffle/issues/2779#issuecomment-579455537",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2779",
    "id": 579455537,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU3OTQ1NTUzNw==",
    "user": {
      "login": "EmanHerawy",
      "id": 10674070,
      "node_id": "MDQ6VXNlcjEwNjc0MDcw",
      "avatar_url": "https://avatars.githubusercontent.com/u/10674070?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/EmanHerawy",
      "html_url": "https://github.com/EmanHerawy",
      "followers_url": "https://api.github.com/users/EmanHerawy/followers",
      "following_url": "https://api.github.com/users/EmanHerawy/following{/other_user}",
      "gists_url": "https://api.github.com/users/EmanHerawy/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/EmanHerawy/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/EmanHerawy/subscriptions",
      "organizations_url": "https://api.github.com/users/EmanHerawy/orgs",
      "repos_url": "https://api.github.com/users/EmanHerawy/repos",
      "events_url": "https://api.github.com/users/EmanHerawy/events{/privacy}",
      "received_events_url": "https://api.github.com/users/EmanHerawy/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-01-28T21:05:51Z",
    "updated_at": "2020-01-28T21:05:51Z",
    "author_association": "NONE",
    "body": "Hi, How does your truffle.js / truffle-config.js look like ?\r\nTo use Quorum, you must modify your network in truffle-config.js to include a parameter type set to \"quorum\"\r\n`      type: 'quorum' // needed for Truffle to support Quorum`\r\nplease check this https://www.trufflesuite.com/docs/truffle/distributed-ledger-support/working-with-quorum\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/579455537/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/579898606",
    "html_url": "https://github.com/trufflesuite/truffle/issues/2779#issuecomment-579898606",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2779",
    "id": 579898606,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU3OTg5ODYwNg==",
    "user": {
      "login": "gnidan",
      "id": 151065,
      "node_id": "MDQ6VXNlcjE1MTA2NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/151065?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gnidan",
      "html_url": "https://github.com/gnidan",
      "followers_url": "https://api.github.com/users/gnidan/followers",
      "following_url": "https://api.github.com/users/gnidan/following{/other_user}",
      "gists_url": "https://api.github.com/users/gnidan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gnidan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gnidan/subscriptions",
      "organizations_url": "https://api.github.com/users/gnidan/orgs",
      "repos_url": "https://api.github.com/users/gnidan/repos",
      "events_url": "https://api.github.com/users/gnidan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gnidan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-01-29T18:37:13Z",
    "updated_at": "2020-01-29T18:37:13Z",
    "author_association": "MEMBER",
    "body": "@eggplantzzz suggests that there might be a problem with the tutorial. Can anyway verify whether this tutorial is up-to-date or not?",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/579898606/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/579898825",
    "html_url": "https://github.com/trufflesuite/truffle/issues/2779#issuecomment-579898825",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2779",
    "id": 579898825,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU3OTg5ODgyNQ==",
    "user": {
      "login": "gnidan",
      "id": 151065,
      "node_id": "MDQ6VXNlcjE1MTA2NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/151065?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gnidan",
      "html_url": "https://github.com/gnidan",
      "followers_url": "https://api.github.com/users/gnidan/followers",
      "following_url": "https://api.github.com/users/gnidan/following{/other_user}",
      "gists_url": "https://api.github.com/users/gnidan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gnidan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gnidan/subscriptions",
      "organizations_url": "https://api.github.com/users/gnidan/orgs",
      "repos_url": "https://api.github.com/users/gnidan/repos",
      "events_url": "https://api.github.com/users/gnidan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gnidan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-01-29T18:37:42Z",
    "updated_at": "2020-01-29T18:37:42Z",
    "author_association": "MEMBER",
    "body": "@vishnutm also, you might have more luck with Node v10 instead of Node v12",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/579898825/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/594749659",
    "html_url": "https://github.com/trufflesuite/truffle/issues/2779#issuecomment-594749659",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2779",
    "id": 594749659,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU5NDc0OTY1OQ==",
    "user": {
      "login": "gnidan",
      "id": 151065,
      "node_id": "MDQ6VXNlcjE1MTA2NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/151065?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gnidan",
      "html_url": "https://github.com/gnidan",
      "followers_url": "https://api.github.com/users/gnidan/followers",
      "following_url": "https://api.github.com/users/gnidan/following{/other_user}",
      "gists_url": "https://api.github.com/users/gnidan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gnidan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gnidan/subscriptions",
      "organizations_url": "https://api.github.com/users/gnidan/orgs",
      "repos_url": "https://api.github.com/users/gnidan/repos",
      "events_url": "https://api.github.com/users/gnidan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gnidan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-03-04T18:54:18Z",
    "updated_at": "2020-03-04T18:54:18Z",
    "author_association": "MEMBER",
    "body": "Closing this for issue maintenance and since no one knows what's going on. ðŸ˜„ \r\n\r\nThanks! Let us know if you know what's going on, and I'll happily re-open!",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/594749659/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/594750478",
    "html_url": "https://github.com/trufflesuite/truffle/issues/2779#issuecomment-594750478",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2779",
    "id": 594750478,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU5NDc1MDQ3OA==",
    "user": {
      "login": "CruzMolina",
      "id": 7537712,
      "node_id": "MDQ6VXNlcjc1Mzc3MTI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7537712?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/CruzMolina",
      "html_url": "https://github.com/CruzMolina",
      "followers_url": "https://api.github.com/users/CruzMolina/followers",
      "following_url": "https://api.github.com/users/CruzMolina/following{/other_user}",
      "gists_url": "https://api.github.com/users/CruzMolina/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/CruzMolina/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/CruzMolina/subscriptions",
      "organizations_url": "https://api.github.com/users/CruzMolina/orgs",
      "repos_url": "https://api.github.com/users/CruzMolina/repos",
      "events_url": "https://api.github.com/users/CruzMolina/events{/privacy}",
      "received_events_url": "https://api.github.com/users/CruzMolina/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-03-04T18:55:26Z",
    "updated_at": "2020-03-04T18:55:26Z",
    "author_association": "CONTRIBUTOR",
    "body": "Hey @vishnutm!\r\n\r\nIf you can share a repo with reproduction steps, would be happy to re-open and look into this. \r\n\r\nThanks!",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/594750478/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
