{
  "url": "https://api.github.com/repos/trufflesuite/truffle/issues/1791",
  "repository_url": "https://api.github.com/repos/trufflesuite/truffle",
  "labels_url": "https://api.github.com/repos/trufflesuite/truffle/issues/1791/labels{/name}",
  "comments_url": "https://api.github.com/repos/trufflesuite/truffle/issues/1791/comments",
  "events_url": "https://api.github.com/repos/trufflesuite/truffle/issues/1791/events",
  "html_url": "https://github.com/trufflesuite/truffle/issues/1791",
  "id": 417332653,
  "node_id": "MDU6SXNzdWU0MTczMzI2NTM=",
  "number": 1791,
  "title": "artifact.require from node_modules",
  "user": {
    "login": "Amxx",
    "id": 2432299,
    "node_id": "MDQ6VXNlcjI0MzIyOTk=",
    "avatar_url": "https://avatars.githubusercontent.com/u/2432299?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/Amxx",
    "html_url": "https://github.com/Amxx",
    "followers_url": "https://api.github.com/users/Amxx/followers",
    "following_url": "https://api.github.com/users/Amxx/following{/other_user}",
    "gists_url": "https://api.github.com/users/Amxx/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/Amxx/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/Amxx/subscriptions",
    "organizations_url": "https://api.github.com/users/Amxx/orgs",
    "repos_url": "https://api.github.com/users/Amxx/repos",
    "events_url": "https://api.github.com/users/Amxx/events{/privacy}",
    "received_events_url": "https://api.github.com/users/Amxx/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 230393326,
      "node_id": "MDU6TGFiZWwyMzAzOTMzMjY=",
      "url": "https://api.github.com/repos/trufflesuite/truffle/labels/bug",
      "name": "bug",
      "color": "fc2929",
      "default": true,
      "description": null
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2019-03-05T14:42:57Z",
  "updated_at": "2019-03-05T19:37:07Z",
  "closed_at": "2019-03-05T19:37:07Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "Context\r\n======\r\n\r\nAs everyone, I have smart contract sources which path is `./contract/xxx.sol`. Once compiled, the artefact is placed in `./build/contract/xxx.json`. If I want to deploy it, I just do `artifact.require(\"xxx\")` to import it and then use the deployer. Simple stuff!\r\n\r\nThen I have smart contracts in dependencies. The solidity source is in `./node_modules/somerepo/contract/yyy.sol` and the artifact is precompiled in `./node_modules/somerepo/build/contract/yyy.json`. So far, I've been able to deploy them during the migration step by doing `artifact.require(\"somerepo/yyy\")` and then use the deployer on the imported artefact.\r\n\r\nIssue\r\n====\r\n\r\nAfter upgrading from truffle `5.0.5` to `5.0.6`, I am no longer able to deploy contracts objects in dependencies. This can be precompiled token contracts used for testing, ENS registrars and solvers (again for testing) ... you get it, they are essential to setting up test environments!\r\n\r\nQuestion\r\n=======\r\n\r\n- Can this feature come back ?\r\n- or can we have a better documentation of artifact.require if it's still possible but not documented how to do it.",
  "closed_by": {
    "login": "gnidan",
    "id": 151065,
    "node_id": "MDQ6VXNlcjE1MTA2NQ==",
    "avatar_url": "https://avatars.githubusercontent.com/u/151065?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/gnidan",
    "html_url": "https://github.com/gnidan",
    "followers_url": "https://api.github.com/users/gnidan/followers",
    "following_url": "https://api.github.com/users/gnidan/following{/other_user}",
    "gists_url": "https://api.github.com/users/gnidan/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/gnidan/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/gnidan/subscriptions",
    "organizations_url": "https://api.github.com/users/gnidan/orgs",
    "repos_url": "https://api.github.com/users/gnidan/repos",
    "events_url": "https://api.github.com/users/gnidan/events{/privacy}",
    "received_events_url": "https://api.github.com/users/gnidan/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/1791/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/trufflesuite/truffle/issues/1791/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/469726051",
    "html_url": "https://github.com/trufflesuite/truffle/issues/1791#issuecomment-469726051",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/1791",
    "id": 469726051,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2OTcyNjA1MQ==",
    "user": {
      "login": "gnidan",
      "id": 151065,
      "node_id": "MDQ6VXNlcjE1MTA2NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/151065?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gnidan",
      "html_url": "https://github.com/gnidan",
      "followers_url": "https://api.github.com/users/gnidan/followers",
      "following_url": "https://api.github.com/users/gnidan/following{/other_user}",
      "gists_url": "https://api.github.com/users/gnidan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gnidan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gnidan/subscriptions",
      "organizations_url": "https://api.github.com/users/gnidan/orgs",
      "repos_url": "https://api.github.com/users/gnidan/repos",
      "events_url": "https://api.github.com/users/gnidan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gnidan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-03-05T15:34:21Z",
    "updated_at": "2019-03-05T15:34:21Z",
    "author_association": "MEMBER",
    "body": "Oh shoot! I broke this! I'll fix it it today and it will go out with the next release. Thanks for the heads up.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/469726051/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/469828074",
    "html_url": "https://github.com/trufflesuite/truffle/issues/1791#issuecomment-469828074",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/1791",
    "id": 469828074,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2OTgyODA3NA==",
    "user": {
      "login": "gnidan",
      "id": 151065,
      "node_id": "MDQ6VXNlcjE1MTA2NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/151065?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gnidan",
      "html_url": "https://github.com/gnidan",
      "followers_url": "https://api.github.com/users/gnidan/followers",
      "following_url": "https://api.github.com/users/gnidan/following{/other_user}",
      "gists_url": "https://api.github.com/users/gnidan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gnidan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gnidan/subscriptions",
      "organizations_url": "https://api.github.com/users/gnidan/orgs",
      "repos_url": "https://api.github.com/users/gnidan/repos",
      "events_url": "https://api.github.com/users/gnidan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gnidan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-03-05T19:37:07Z",
    "updated_at": "2019-03-05T19:37:07Z",
    "author_association": "MEMBER",
    "body": "@Amxx we just published a fix in Truffle v5.0.7. Closing this because I'm an optimist. Could you try it out and let me know if that solves the issue? Thanks!",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/469828074/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
