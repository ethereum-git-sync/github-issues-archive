{
  "url": "https://api.github.com/repos/trufflesuite/truffle/issues/346",
  "repository_url": "https://api.github.com/repos/trufflesuite/truffle",
  "labels_url": "https://api.github.com/repos/trufflesuite/truffle/issues/346/labels{/name}",
  "comments_url": "https://api.github.com/repos/trufflesuite/truffle/issues/346/comments",
  "events_url": "https://api.github.com/repos/trufflesuite/truffle/issues/346/events",
  "html_url": "https://github.com/trufflesuite/truffle/issues/346",
  "id": 205453374,
  "node_id": "MDU6SXNzdWUyMDU0NTMzNzQ=",
  "number": 346,
  "title": "No way to provide mocha command-line options",
  "user": {
    "login": "raineorshine",
    "id": 750276,
    "node_id": "MDQ6VXNlcjc1MDI3Ng==",
    "avatar_url": "https://avatars.githubusercontent.com/u/750276?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/raineorshine",
    "html_url": "https://github.com/raineorshine",
    "followers_url": "https://api.github.com/users/raineorshine/followers",
    "following_url": "https://api.github.com/users/raineorshine/following{/other_user}",
    "gists_url": "https://api.github.com/users/raineorshine/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/raineorshine/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/raineorshine/subscriptions",
    "organizations_url": "https://api.github.com/users/raineorshine/orgs",
    "repos_url": "https://api.github.com/users/raineorshine/repos",
    "events_url": "https://api.github.com/users/raineorshine/events{/privacy}",
    "received_events_url": "https://api.github.com/users/raineorshine/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 9,
  "created_at": "2017-02-05T20:52:56Z",
  "updated_at": "2021-02-18T18:53:09Z",
  "closed_at": "2017-02-05T21:40:50Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "- [x] I've asked for help in the [Truffle Gitter](http://gitter.im/Consensys/truffle) before filing this issue.\r\n\r\n---------------------------\r\n\r\n## Issue\r\n\r\nThe way that truffle runs mocha disallows `babel-core/register` and `babel-polyfill` (needed for async/await, e.g.). This functionality [cannot be achieved with mocha's programmatic options](https://github.com/mochajs/mocha/issues/1220).\r\n\r\n`truffle test` used to provide `--` as a way to pass arguments to mocha, iirc. That appears to not be possible any more.\r\n\r\n## Steps to Reproduce\r\n\r\n```sh\r\ntruffle test -- --compilers js:babel-core/register\r\n```\r\n\r\nI am using a babel config of:\r\n```js\r\n{\r\n  \"presets\": [\r\n    \"es2015\"\r\n  ],\r\n  \"plugins\": [\r\n    \"transform-async-to-generator\"\r\n  ]\r\n}\r\n```\r\n\r\n## Expected Behavior\r\n\r\nTests should run with babel's runtime transformations.\r\n\r\n## Actual Results\r\n\r\n```\r\nUsing network 'development'.\r\n\r\n  0 passing (1ms)\r\n```\r\n\r\n## Possible Solution\r\n\r\nPresumably being able to pass command line arguments through to mocha would fix the issue, so that truffle test would behave like `mocha --compilers js:babel-core/register`.\r\n\r\nAlternatively, adding these two lines of code to truffle's `./cli.js` solves the problem:\r\n\r\n```js\r\nrequire('babel-core/register')\r\nrequire('babel-polyfill')\r\n```\r\n\r\nObviously not every user wants this, so it would have to be conditional. What would be the best way to re-enable this functionality? Thanks!\r\n\r\n## Environment\r\n\r\n* Operating System: OSX\r\n* Truffle version: 3.1.1\r\n* Ethereum client: N/A\r\n* node version: 7.0.4\r\n* npm version: 4.0.5\r\n",
  "closed_by": {
    "login": "raineorshine",
    "id": 750276,
    "node_id": "MDQ6VXNlcjc1MDI3Ng==",
    "avatar_url": "https://avatars.githubusercontent.com/u/750276?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/raineorshine",
    "html_url": "https://github.com/raineorshine",
    "followers_url": "https://api.github.com/users/raineorshine/followers",
    "following_url": "https://api.github.com/users/raineorshine/following{/other_user}",
    "gists_url": "https://api.github.com/users/raineorshine/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/raineorshine/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/raineorshine/subscriptions",
    "organizations_url": "https://api.github.com/users/raineorshine/orgs",
    "repos_url": "https://api.github.com/users/raineorshine/repos",
    "events_url": "https://api.github.com/users/raineorshine/events{/privacy}",
    "received_events_url": "https://api.github.com/users/raineorshine/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/346/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/trufflesuite/truffle/issues/346/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/277550515",
    "html_url": "https://github.com/trufflesuite/truffle/issues/346#issuecomment-277550515",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/346",
    "id": 277550515,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3NzU1MDUxNQ==",
    "user": {
      "login": "tcoulter",
      "id": 92629,
      "node_id": "MDQ6VXNlcjkyNjI5",
      "avatar_url": "https://avatars.githubusercontent.com/u/92629?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tcoulter",
      "html_url": "https://github.com/tcoulter",
      "followers_url": "https://api.github.com/users/tcoulter/followers",
      "following_url": "https://api.github.com/users/tcoulter/following{/other_user}",
      "gists_url": "https://api.github.com/users/tcoulter/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tcoulter/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tcoulter/subscriptions",
      "organizations_url": "https://api.github.com/users/tcoulter/orgs",
      "repos_url": "https://api.github.com/users/tcoulter/repos",
      "events_url": "https://api.github.com/users/tcoulter/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tcoulter/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-02-05T21:22:17Z",
    "updated_at": "2017-02-05T21:22:17Z",
    "author_association": "CONTRIBUTOR",
    "body": "Have your tried adding the babel-register `require` in your truffle.js\nfile? Truffle relied on babel previously but it caused more harm than good.\nI'd prefer not making babel a dependency of Truffle.\n\nOn Feb 5, 2017 12:52 PM, \"Raine Revere\" <notifications@github.com> wrote:\n\n>\n>    - I've asked for help in the Truffle Gitter\n>    <http://gitter.im/Consensys/truffle> before filing this issue.\n>\n> ------------------------------\n> Issue\n>\n> The way that truffle runs mocha disallows babel-core/register and\n> babel-polyfill (needed for async/await, e.g.). This functionality cannot\n> be achieved with mocha's programmatic options\n> <https://github.com/mochajs/mocha/issues/1220>.\n>\n> truffle test used to provide -- as a way to pass arguments to mocha,\n> iirc. That appears to not be possible any more.\n> Steps to Reproduce\n>\n> truffle test -- --compilers js:babel-core/register\n>\n> I am using a babel config of:\n>\n> {\n>   \"presets\": [\n>     \"es2015\"\n>   ],\n>   \"plugins\": [\n>     \"transform-async-to-generator\"\n>   ]\n> }\n>\n> Expected Behavior\n>\n> Tests should run with babel's runtime transformations.\n> Actual Results\n>\n> Using network 'development'.\n>\n>   0 passing (1ms)\n>\n> Possible Solution\n>\n> Presumably being able to pass command line arguments through to mocha\n> would fix the issue, so that truffle test would behave like mocha\n> --compilers js:babel-core/register.\n>\n> Alternatively, adding these two lines of code to truffle's ./cli.js\n> solves the problem:\n>\n> require('babel-core/register')require('babel-polyfill')\n>\n> Obviously not every user wants this, so it would have to be conditional.\n> What would be the best way to re-enable this functionality? Thanks!\n> Environment\n>\n>    - Operating System: OSX\n>    - Truffle version: 3.1.1\n>    - Ethereum client: N/A\n>    - node version: 7.0.4\n>    - npm version: 4.0.5\n>\n> â€”\n> You are receiving this because you are subscribed to this thread.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/ConsenSys/truffle/issues/346>, or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/AAFp1Tbhgs19QBckKJcC_pm_JtI3aPOFks5rZjaogaJpZM4L3n16>\n> .\n>\n",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/277550515/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/277550664",
    "html_url": "https://github.com/trufflesuite/truffle/issues/346#issuecomment-277550664",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/346",
    "id": 277550664,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3NzU1MDY2NA==",
    "user": {
      "login": "tcoulter",
      "id": 92629,
      "node_id": "MDQ6VXNlcjkyNjI5",
      "avatar_url": "https://avatars.githubusercontent.com/u/92629?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tcoulter",
      "html_url": "https://github.com/tcoulter",
      "followers_url": "https://api.github.com/users/tcoulter/followers",
      "following_url": "https://api.github.com/users/tcoulter/following{/other_user}",
      "gists_url": "https://api.github.com/users/tcoulter/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tcoulter/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tcoulter/subscriptions",
      "organizations_url": "https://api.github.com/users/tcoulter/orgs",
      "repos_url": "https://api.github.com/users/tcoulter/repos",
      "events_url": "https://api.github.com/users/tcoulter/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tcoulter/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-02-05T21:24:19Z",
    "updated_at": "2017-02-05T21:24:19Z",
    "author_association": "CONTRIBUTOR",
    "body": "Also, Truffle doesn't call mocha via the command line. Instead, it does it\nprogrammatically. You can alter the mocha configuration via the `mocha` key\nin your Truffle configuration file.\nhttp://truffleframework.com/docs/advanced/configuration#mocha\n\nOn Feb 5, 2017 1:22 PM, \"Tim Coulter\" <tim@timothyjcoulter.com> wrote:\n\n> Have your tried adding the babel-register `require` in your truffle.js\n> file? Truffle relied on babel previously but it caused more harm than good.\n> I'd prefer not making babel a dependency of Truffle.\n>\n> On Feb 5, 2017 12:52 PM, \"Raine Revere\" <notifications@github.com> wrote:\n>\n>>\n>>    - I've asked for help in the Truffle Gitter\n>>    <http://gitter.im/Consensys/truffle> before filing this issue.\n>>\n>> ------------------------------\n>> Issue\n>>\n>> The way that truffle runs mocha disallows babel-core/register and\n>> babel-polyfill (needed for async/await, e.g.). This functionality cannot\n>> be achieved with mocha's programmatic options\n>> <https://github.com/mochajs/mocha/issues/1220>.\n>>\n>> truffle test used to provide -- as a way to pass arguments to mocha,\n>> iirc. That appears to not be possible any more.\n>> Steps to Reproduce\n>>\n>> truffle test -- --compilers js:babel-core/register\n>>\n>> I am using a babel config of:\n>>\n>> {\n>>   \"presets\": [\n>>     \"es2015\"\n>>   ],\n>>   \"plugins\": [\n>>     \"transform-async-to-generator\"\n>>   ]\n>> }\n>>\n>> Expected Behavior\n>>\n>> Tests should run with babel's runtime transformations.\n>> Actual Results\n>>\n>> Using network 'development'.\n>>\n>>   0 passing (1ms)\n>>\n>> Possible Solution\n>>\n>> Presumably being able to pass command line arguments through to mocha\n>> would fix the issue, so that truffle test would behave like mocha\n>> --compilers js:babel-core/register.\n>>\n>> Alternatively, adding these two lines of code to truffle's ./cli.js\n>> solves the problem:\n>>\n>> require('babel-core/register')require('babel-polyfill')\n>>\n>> Obviously not every user wants this, so it would have to be conditional.\n>> What would be the best way to re-enable this functionality? Thanks!\n>> Environment\n>>\n>>    - Operating System: OSX\n>>    - Truffle version: 3.1.1\n>>    - Ethereum client: N/A\n>>    - node version: 7.0.4\n>>    - npm version: 4.0.5\n>>\n>> â€”\n>> You are receiving this because you are subscribed to this thread.\n>> Reply to this email directly, view it on GitHub\n>> <https://github.com/ConsenSys/truffle/issues/346>, or mute the thread\n>> <https://github.com/notifications/unsubscribe-auth/AAFp1Tbhgs19QBckKJcC_pm_JtI3aPOFks5rZjaogaJpZM4L3n16>\n>> .\n>>\n>\n",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/277550664/reactions",
      "total_count": 3,
      "+1": 3,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/277551876",
    "html_url": "https://github.com/trufflesuite/truffle/issues/346#issuecomment-277551876",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/346",
    "id": 277551876,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3NzU1MTg3Ng==",
    "user": {
      "login": "raineorshine",
      "id": 750276,
      "node_id": "MDQ6VXNlcjc1MDI3Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/750276?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/raineorshine",
      "html_url": "https://github.com/raineorshine",
      "followers_url": "https://api.github.com/users/raineorshine/followers",
      "following_url": "https://api.github.com/users/raineorshine/following{/other_user}",
      "gists_url": "https://api.github.com/users/raineorshine/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/raineorshine/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/raineorshine/subscriptions",
      "organizations_url": "https://api.github.com/users/raineorshine/orgs",
      "repos_url": "https://api.github.com/users/raineorshine/repos",
      "events_url": "https://api.github.com/users/raineorshine/events{/privacy}",
      "received_events_url": "https://api.github.com/users/raineorshine/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-02-05T21:40:50Z",
    "updated_at": "2017-02-05T21:40:50Z",
    "author_association": "CONTRIBUTOR",
    "body": "It works! ðŸ˜ƒ",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/277551876/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/277553124",
    "html_url": "https://github.com/trufflesuite/truffle/issues/346#issuecomment-277553124",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/346",
    "id": 277553124,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3NzU1MzEyNA==",
    "user": {
      "login": "tcoulter",
      "id": 92629,
      "node_id": "MDQ6VXNlcjkyNjI5",
      "avatar_url": "https://avatars.githubusercontent.com/u/92629?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tcoulter",
      "html_url": "https://github.com/tcoulter",
      "followers_url": "https://api.github.com/users/tcoulter/followers",
      "following_url": "https://api.github.com/users/tcoulter/following{/other_user}",
      "gists_url": "https://api.github.com/users/tcoulter/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tcoulter/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tcoulter/subscriptions",
      "organizations_url": "https://api.github.com/users/tcoulter/orgs",
      "repos_url": "https://api.github.com/users/tcoulter/repos",
      "events_url": "https://api.github.com/users/tcoulter/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tcoulter/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-02-05T21:58:37Z",
    "updated_at": "2017-02-05T21:58:37Z",
    "author_association": "CONTRIBUTOR",
    "body": "Yay! I need to write docs for this use case...\n\nOn Feb 5, 2017 1:40 PM, \"Raine Revere\" <notifications@github.com> wrote:\n\n> Closed #346 <https://github.com/ConsenSys/truffle/issues/346>.\n>\n> â€”\n> You are receiving this because you commented.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/ConsenSys/truffle/issues/346#event-949567922>, or mute\n> the thread\n> <https://github.com/notifications/unsubscribe-auth/AAFp1RtgvE7qQvdIqAIlWD-XRjNH63L0ks5rZkHigaJpZM4L3n16>\n> .\n>\n",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/277553124/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/388631874",
    "html_url": "https://github.com/trufflesuite/truffle/issues/346#issuecomment-388631874",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/346",
    "id": 388631874,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4ODYzMTg3NA==",
    "user": {
      "login": "tomerweisman",
      "id": 17765396,
      "node_id": "MDQ6VXNlcjE3NzY1Mzk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/17765396?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tomerweisman",
      "html_url": "https://github.com/tomerweisman",
      "followers_url": "https://api.github.com/users/tomerweisman/followers",
      "following_url": "https://api.github.com/users/tomerweisman/following{/other_user}",
      "gists_url": "https://api.github.com/users/tomerweisman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tomerweisman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tomerweisman/subscriptions",
      "organizations_url": "https://api.github.com/users/tomerweisman/orgs",
      "repos_url": "https://api.github.com/users/tomerweisman/repos",
      "events_url": "https://api.github.com/users/tomerweisman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tomerweisman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-13T14:41:00Z",
    "updated_at": "2018-05-13T14:41:00Z",
    "author_association": "NONE",
    "body": "@raineorshine \r\nHi. can you please provide the truffle.js, or any configuration files that worked for you? \r\n",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/388631874/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/388642922",
    "html_url": "https://github.com/trufflesuite/truffle/issues/346#issuecomment-388642922",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/346",
    "id": 388642922,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4ODY0MjkyMg==",
    "user": {
      "login": "cgewecke",
      "id": 7332026,
      "node_id": "MDQ6VXNlcjczMzIwMjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7332026?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cgewecke",
      "html_url": "https://github.com/cgewecke",
      "followers_url": "https://api.github.com/users/cgewecke/followers",
      "following_url": "https://api.github.com/users/cgewecke/following{/other_user}",
      "gists_url": "https://api.github.com/users/cgewecke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cgewecke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cgewecke/subscriptions",
      "organizations_url": "https://api.github.com/users/cgewecke/orgs",
      "repos_url": "https://api.github.com/users/cgewecke/repos",
      "events_url": "https://api.github.com/users/cgewecke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cgewecke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-13T17:31:25Z",
    "updated_at": "2018-05-13T17:31:25Z",
    "author_association": "CONTRIBUTOR",
    "body": "@tomerweisman Here's an example that tells mocha to consume a third-party reporter. Equivalent to:\r\n```shell\r\nmocha --reporter <reporter-name> --reporter-options <options>\r\n```\r\n\r\n```javascript\r\nmodule.exports = {\r\n  networks: {\r\n    ...etc...\r\n  },\r\n  mocha: {\r\n    reporter: 'super-test',\r\n    reporterOptions : {\r\n      extraEmojis: false,\r\n    }\r\n  }\r\n};\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/388642922/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/388780877",
    "html_url": "https://github.com/trufflesuite/truffle/issues/346#issuecomment-388780877",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/346",
    "id": 388780877,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4ODc4MDg3Nw==",
    "user": {
      "login": "tomerweisman",
      "id": 17765396,
      "node_id": "MDQ6VXNlcjE3NzY1Mzk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/17765396?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tomerweisman",
      "html_url": "https://github.com/tomerweisman",
      "followers_url": "https://api.github.com/users/tomerweisman/followers",
      "following_url": "https://api.github.com/users/tomerweisman/following{/other_user}",
      "gists_url": "https://api.github.com/users/tomerweisman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tomerweisman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tomerweisman/subscriptions",
      "organizations_url": "https://api.github.com/users/tomerweisman/orgs",
      "repos_url": "https://api.github.com/users/tomerweisman/repos",
      "events_url": "https://api.github.com/users/tomerweisman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tomerweisman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-14T11:10:54Z",
    "updated_at": "2018-05-14T11:10:54Z",
    "author_association": "NONE",
    "body": "@cgewecke this for the example. my problem is that I cant get truffle (mocha) to recognize ES6 \"import\" syntax. \r\nIve added the following dependencies in **package.json**:\r\n`\"devDependencies\": {\r\n    \"babel-polyfill\": \"^6.26.0\",\r\n    \"babel-preset-es2015\": \"^6.24.1\",\r\n    \"babel-preset-stage-2\": \"^6.24.1\",\r\n    \"babel-preset-stage-3\": \"^6.24.1\",\r\n    \"babel-register\": \"^6.26.0\",\r\n    \"solidity-coverage\": \"^0.5.0\"\r\n  }`\r\n\r\nand have this **.babelrc** file: \r\n`{\r\n  \"presets\": [\"es2015\", \"stage-2\", \"stage-3\"]\r\n}`\r\n\r\nand **truffle-config.js** file:\r\n`require('babel-register')({\r\n    ignore: /node_modules\\/(?!zeppelin-solidity)/\r\n});\r\nrequire('babel-polyfill');`\r\n\r\n\r\nTruffle v4.1.8 (core: 4.1.8)\r\nSolidity v0.4.23 (solc-js)\r\n\r\nI wanted @raineorshine to share the config files that worked for her\r\nAny idea how to solve? \r\n\r\nthanks\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/388780877/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/392108438",
    "html_url": "https://github.com/trufflesuite/truffle/issues/346#issuecomment-392108438",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/346",
    "id": 392108438,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5MjEwODQzOA==",
    "user": {
      "login": "mtomov",
      "id": 1651750,
      "node_id": "MDQ6VXNlcjE2NTE3NTA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1651750?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mtomov",
      "html_url": "https://github.com/mtomov",
      "followers_url": "https://api.github.com/users/mtomov/followers",
      "following_url": "https://api.github.com/users/mtomov/following{/other_user}",
      "gists_url": "https://api.github.com/users/mtomov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mtomov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mtomov/subscriptions",
      "organizations_url": "https://api.github.com/users/mtomov/orgs",
      "repos_url": "https://api.github.com/users/mtomov/repos",
      "events_url": "https://api.github.com/users/mtomov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mtomov/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-25T16:17:20Z",
    "updated_at": "2018-05-25T16:17:20Z",
    "author_association": "NONE",
    "body": "Hey @tomerweisman  - thanks so much - your `truffle-config.js` example totally allowed me to do the same thing you're after!\r\n\r\nI have the same `.babelrc` and `package.json` files, but placed the `require('babel..` in `truffle.js` instead.\r\n\r\nTry changing `zeppelin-solidity` to `openzeppelin-solidity` as well. \r\n\r\nThanks again!\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/392108438/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/781561359",
    "html_url": "https://github.com/trufflesuite/truffle/issues/346#issuecomment-781561359",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/346",
    "id": 781561359,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc4MTU2MTM1OQ==",
    "user": {
      "login": "rrthomas",
      "id": 17382,
      "node_id": "MDQ6VXNlcjE3Mzgy",
      "avatar_url": "https://avatars.githubusercontent.com/u/17382?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rrthomas",
      "html_url": "https://github.com/rrthomas",
      "followers_url": "https://api.github.com/users/rrthomas/followers",
      "following_url": "https://api.github.com/users/rrthomas/following{/other_user}",
      "gists_url": "https://api.github.com/users/rrthomas/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rrthomas/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rrthomas/subscriptions",
      "organizations_url": "https://api.github.com/users/rrthomas/orgs",
      "repos_url": "https://api.github.com/users/rrthomas/repos",
      "events_url": "https://api.github.com/users/rrthomas/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rrthomas/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-02-18T18:51:33Z",
    "updated_at": "2021-02-18T18:53:09Z",
    "author_association": "NONE",
    "body": "I found this issue while trying to get source map support to work with `nyc` while wrapping `truffle test`. (I have checked that nyc is generating source maps!)\r\n\r\nIt seems that although you can use `require` as a key in a mocha configuration file, you cannot use it as part of an `options` object passed to `new Mocha()`, which is how truffle uses its settings object; at least, it is not documented in the list at https://mochajs.org/api/mocha#Mocha, and if I add a setting like `\"require\": \"non-existent-module\"` to my `mocha` settings object in `truffle-config.js`, I don't get an error, which suggests that the setting is not used.\r\n\r\nAdding the programmatic invocation of `source-map-support` as documented at https://www.npmjs.com/package/source-map-support, namely, `require('source-map-support').install();` to `truffle-config.js` does not work either. (This is expected, as the `source-map-support` documentation says that this call must be placed \"at the top of the compiled file\".)",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/781561359/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
