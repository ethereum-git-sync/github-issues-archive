{
  "url": "https://api.github.com/repos/trufflesuite/truffle/issues/3104",
  "repository_url": "https://api.github.com/repos/trufflesuite/truffle",
  "labels_url": "https://api.github.com/repos/trufflesuite/truffle/issues/3104/labels{/name}",
  "comments_url": "https://api.github.com/repos/trufflesuite/truffle/issues/3104/comments",
  "events_url": "https://api.github.com/repos/trufflesuite/truffle/issues/3104/events",
  "html_url": "https://github.com/trufflesuite/truffle/issues/3104",
  "id": 638162176,
  "node_id": "MDU6SXNzdWU2MzgxNjIxNzY=",
  "number": 3104,
  "title": "Can not install truffle",
  "user": {
    "login": "narendrabluecrest",
    "id": 64847989,
    "node_id": "MDQ6VXNlcjY0ODQ3OTg5",
    "avatar_url": "https://avatars.githubusercontent.com/u/64847989?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/narendrabluecrest",
    "html_url": "https://github.com/narendrabluecrest",
    "followers_url": "https://api.github.com/users/narendrabluecrest/followers",
    "following_url": "https://api.github.com/users/narendrabluecrest/following{/other_user}",
    "gists_url": "https://api.github.com/users/narendrabluecrest/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/narendrabluecrest/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/narendrabluecrest/subscriptions",
    "organizations_url": "https://api.github.com/users/narendrabluecrest/orgs",
    "repos_url": "https://api.github.com/users/narendrabluecrest/repos",
    "events_url": "https://api.github.com/users/narendrabluecrest/events{/privacy}",
    "received_events_url": "https://api.github.com/users/narendrabluecrest/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 5,
  "created_at": "2020-06-13T13:27:41Z",
  "updated_at": "2020-06-23T00:13:04Z",
  "closed_at": "2020-06-22T18:36:02Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "Node and npm version are as given below\r\nnkt@nkt-OptiPlex-3020:~$ node -v\r\nv12.18.0\r\nnkt@nkt-OptiPlex-3020:~$ nodejs -v\r\nv10.21.0\r\nnkt@nkt-OptiPlex-3020:~$ npm -v\r\n6.14.4\r\n\r\n\r\nI am getting the below mentioned errors after running the command\r\n\r\nnkt@nkt-OptiPlex-3020:~$ npm install -g truffle\r\nnpm ERR! prepareGitDep 1> \r\nnpm ERR! prepareGitDep > undefined prepare /home/nkt/truffle\r\nnpm ERR! prepareGitDep > lerna run prepare --stream --concurrency=1\r\nnpm ERR! prepareGitDep \r\nnpm ERR! prepareGitDep @truffle/blockchain-utils: yarn run v1.22.4\r\nnpm ERR! prepareGitDep @truffle/blockchain-utils: $ yarn build\r\nnpm ERR! prepareGitDep @truffle/blockchain-utils: $ tsc\r\nnpm ERR! prepareGitDep @truffle/blockchain-utils: info Visit https://yarnpkg.com/en/docs/cli/run for documentation about this command.\r\nnpm ERR! prepareGitDep @truffle/blockchain-utils: info Visit https://yarnpkg.com/en/docs/cli/run for documentation about this command.\r\nnpm ERR! prepareGitDep \r\nnpm ERR! prepareGitDep 2> npm WARN install Usage of the `--dev` option is deprecated. Use `--only=dev` instead.\r\nnpm ERR! prepareGitDep lerna notice cli v3.22.1\r\nnpm ERR! prepareGitDep lerna info versioning independent\r\nnpm ERR! prepareGitDep lerna info Executing command in 14 packages: \"yarn run prepare\"\r\nnpm ERR! prepareGitDep @truffle/blockchain-utils: /bin/sh: 1: tsc: not found\r\nnpm ERR! prepareGitDep @truffle/blockchain-utils: error Command failed with exit code 127.\r\nnpm ERR! prepareGitDep @truffle/blockchain-utils: error Command failed with exit code 127.\r\nnpm ERR! prepareGitDep lerna ERR! yarn run prepare exited 127 in '@truffle/blockchain-utils'\r\nnpm ERR! prepareGitDep lerna WARN complete Waiting for 1 child process to exit. CTRL-C to exit immediately.\r\nnpm ERR! prepareGitDep npm ERR! code ELIFECYCLE\r\nnpm ERR! prepareGitDep npm ERR! syscall spawn\r\nnpm ERR! prepareGitDep npm ERR! file sh\r\nnpm ERR! prepareGitDep npm ERR! errno ENOENT\r\nnpm ERR! prepareGitDep npm ERR! undefined prepare: `lerna run prepare --stream --concurrency=1`\r\nnpm ERR! prepareGitDep npm ERR! spawn ENOENT\r\nnpm ERR! prepareGitDep npm ERR! \r\nnpm ERR! prepareGitDep npm ERR! Failed at the undefined prepare script.\r\nnpm ERR! prepareGitDep npm ERR! This is probably not a problem with npm. There is likely additional logging output above.\r\nnpm ERR! prepareGitDep \r\nnpm ERR! prepareGitDep npm ERR! A complete log of this run can be found in:\r\nnpm ERR! prepareGitDep npm ERR!     /home/nkt/.npm/_logs/2020-06-13T13_22_07_616Z-debug.log\r\nnpm ERR! prepareGitDep \r\nnpm ERR! code 1\r\nnpm ERR! null: npm exited with code 1 while attempting to build undefined. Clone the repository manually and run 'npm install' in it for more information.\r\n\r\nnpm ERR! A complete log of this run can be found in:\r\nnpm ERR!     /home/nkt/.npm/_logs/2020-06-13T13_22_07_708Z-debug.log\r\n",
  "closed_by": {
    "login": "CruzMolina",
    "id": 7537712,
    "node_id": "MDQ6VXNlcjc1Mzc3MTI=",
    "avatar_url": "https://avatars.githubusercontent.com/u/7537712?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/CruzMolina",
    "html_url": "https://github.com/CruzMolina",
    "followers_url": "https://api.github.com/users/CruzMolina/followers",
    "following_url": "https://api.github.com/users/CruzMolina/following{/other_user}",
    "gists_url": "https://api.github.com/users/CruzMolina/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/CruzMolina/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/CruzMolina/subscriptions",
    "organizations_url": "https://api.github.com/users/CruzMolina/orgs",
    "repos_url": "https://api.github.com/users/CruzMolina/repos",
    "events_url": "https://api.github.com/users/CruzMolina/events{/privacy}",
    "received_events_url": "https://api.github.com/users/CruzMolina/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/3104/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/trufflesuite/truffle/issues/3104/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/645434050",
    "html_url": "https://github.com/trufflesuite/truffle/issues/3104#issuecomment-645434050",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/3104",
    "id": 645434050,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY0NTQzNDA1MA==",
    "user": {
      "login": "CruzMolina",
      "id": 7537712,
      "node_id": "MDQ6VXNlcjc1Mzc3MTI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7537712?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/CruzMolina",
      "html_url": "https://github.com/CruzMolina",
      "followers_url": "https://api.github.com/users/CruzMolina/followers",
      "following_url": "https://api.github.com/users/CruzMolina/following{/other_user}",
      "gists_url": "https://api.github.com/users/CruzMolina/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/CruzMolina/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/CruzMolina/subscriptions",
      "organizations_url": "https://api.github.com/users/CruzMolina/orgs",
      "repos_url": "https://api.github.com/users/CruzMolina/repos",
      "events_url": "https://api.github.com/users/CruzMolina/events{/privacy}",
      "received_events_url": "https://api.github.com/users/CruzMolina/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-06-17T15:08:44Z",
    "updated_at": "2020-06-17T15:08:44Z",
    "author_association": "CONTRIBUTOR",
    "body": "Hi @narendrabluecrest !\r\n\r\nCan you run `npm config ls` and `npm config get unsafe-perm` and share your output?",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/645434050/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/645519266",
    "html_url": "https://github.com/trufflesuite/truffle/issues/3104#issuecomment-645519266",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/3104",
    "id": 645519266,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY0NTUxOTI2Ng==",
    "user": {
      "login": "fainashalts",
      "id": 8952139,
      "node_id": "MDQ6VXNlcjg5NTIxMzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8952139?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fainashalts",
      "html_url": "https://github.com/fainashalts",
      "followers_url": "https://api.github.com/users/fainashalts/followers",
      "following_url": "https://api.github.com/users/fainashalts/following{/other_user}",
      "gists_url": "https://api.github.com/users/fainashalts/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fainashalts/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fainashalts/subscriptions",
      "organizations_url": "https://api.github.com/users/fainashalts/orgs",
      "repos_url": "https://api.github.com/users/fainashalts/repos",
      "events_url": "https://api.github.com/users/fainashalts/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fainashalts/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-06-17T17:38:05Z",
    "updated_at": "2020-06-17T17:38:05Z",
    "author_association": "MEMBER",
    "body": "There's a chance this is due to needing to have git installed. Can you make sure you have git installed on your machine and see if that fixes the issue?",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/645519266/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/647698728",
    "html_url": "https://github.com/trufflesuite/truffle/issues/3104#issuecomment-647698728",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/3104",
    "id": 647698728,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY0NzY5ODcyOA==",
    "user": {
      "login": "CruzMolina",
      "id": 7537712,
      "node_id": "MDQ6VXNlcjc1Mzc3MTI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7537712?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/CruzMolina",
      "html_url": "https://github.com/CruzMolina",
      "followers_url": "https://api.github.com/users/CruzMolina/followers",
      "following_url": "https://api.github.com/users/CruzMolina/following{/other_user}",
      "gists_url": "https://api.github.com/users/CruzMolina/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/CruzMolina/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/CruzMolina/subscriptions",
      "organizations_url": "https://api.github.com/users/CruzMolina/orgs",
      "repos_url": "https://api.github.com/users/CruzMolina/repos",
      "events_url": "https://api.github.com/users/CruzMolina/events{/privacy}",
      "received_events_url": "https://api.github.com/users/CruzMolina/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-06-22T18:29:06Z",
    "updated_at": "2020-06-22T18:29:06Z",
    "author_association": "CONTRIBUTOR",
    "body": "Ran into this issue and the stack trace led me to `nvm`.\r\nSourcing the alias appropriately resolved the issue.\r\n\r\nI'm guessing this must be an issue with `npm`. Maybe the alias or something with the installation/setup of `npm`.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/647698728/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/647701873",
    "html_url": "https://github.com/trufflesuite/truffle/issues/3104#issuecomment-647701873",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/3104",
    "id": 647701873,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY0NzcwMTg3Mw==",
    "user": {
      "login": "CruzMolina",
      "id": 7537712,
      "node_id": "MDQ6VXNlcjc1Mzc3MTI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7537712?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/CruzMolina",
      "html_url": "https://github.com/CruzMolina",
      "followers_url": "https://api.github.com/users/CruzMolina/followers",
      "following_url": "https://api.github.com/users/CruzMolina/following{/other_user}",
      "gists_url": "https://api.github.com/users/CruzMolina/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/CruzMolina/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/CruzMolina/subscriptions",
      "organizations_url": "https://api.github.com/users/CruzMolina/orgs",
      "repos_url": "https://api.github.com/users/CruzMolina/repos",
      "events_url": "https://api.github.com/users/CruzMolina/events{/privacy}",
      "received_events_url": "https://api.github.com/users/CruzMolina/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-06-22T18:36:02Z",
    "updated_at": "2020-06-22T18:36:02Z",
    "author_association": "CONTRIBUTOR",
    "body": "Closing this as a duplicate of #3100.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/647701873/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/647831420",
    "html_url": "https://github.com/trufflesuite/truffle/issues/3104#issuecomment-647831420",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/3104",
    "id": 647831420,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY0NzgzMTQyMA==",
    "user": {
      "login": "CruzMolina",
      "id": 7537712,
      "node_id": "MDQ6VXNlcjc1Mzc3MTI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7537712?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/CruzMolina",
      "html_url": "https://github.com/CruzMolina",
      "followers_url": "https://api.github.com/users/CruzMolina/followers",
      "following_url": "https://api.github.com/users/CruzMolina/following{/other_user}",
      "gists_url": "https://api.github.com/users/CruzMolina/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/CruzMolina/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/CruzMolina/subscriptions",
      "organizations_url": "https://api.github.com/users/CruzMolina/orgs",
      "repos_url": "https://api.github.com/users/CruzMolina/repos",
      "events_url": "https://api.github.com/users/CruzMolina/events{/privacy}",
      "received_events_url": "https://api.github.com/users/CruzMolina/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-06-23T00:13:03Z",
    "updated_at": "2020-06-23T00:13:03Z",
    "author_association": "CONTRIBUTOR",
    "body": "@narendrabluecrest , do you happen to have the `truffle` monorepo cloned locally when you run into this issue?",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/647831420/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
