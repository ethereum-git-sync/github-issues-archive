{
  "url": "https://api.github.com/repos/trufflesuite/truffle/issues/2090",
  "repository_url": "https://api.github.com/repos/trufflesuite/truffle",
  "labels_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2090/labels{/name}",
  "comments_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2090/comments",
  "events_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2090/events",
  "html_url": "https://github.com/trufflesuite/truffle/issues/2090",
  "id": 454153402,
  "node_id": "MDU6SXNzdWU0NTQxNTM0MDI=",
  "number": 2090,
  "title": "Export 'chai' into test globals and include common extensions for usability",
  "user": {
    "login": "andvgal",
    "id": 6080632,
    "node_id": "MDQ6VXNlcjYwODA2MzI=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6080632?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/andvgal",
    "html_url": "https://github.com/andvgal",
    "followers_url": "https://api.github.com/users/andvgal/followers",
    "following_url": "https://api.github.com/users/andvgal/following{/other_user}",
    "gists_url": "https://api.github.com/users/andvgal/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/andvgal/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/andvgal/subscriptions",
    "organizations_url": "https://api.github.com/users/andvgal/orgs",
    "repos_url": "https://api.github.com/users/andvgal/repos",
    "events_url": "https://api.github.com/users/andvgal/events{/privacy}",
    "received_events_url": "https://api.github.com/users/andvgal/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 1675041356,
      "node_id": "MDU6TGFiZWwxNjc1MDQxMzU2",
      "url": "https://api.github.com/repos/trufflesuite/truffle/labels/priority2%20%E2%9A%A0%EF%B8%8F",
      "name": "priority2 ⚠️",
      "color": "006b75",
      "default": false,
      "description": ""
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 18,
  "created_at": "2019-06-10T12:47:33Z",
  "updated_at": "2022-12-08T18:57:42Z",
  "closed_at": null,
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "- [x] I've asked for help in the [Truffle Gitter](http://gitter.im/Consensys/truffle) before filing this issue.\r\n\r\n---------------------------\r\n\r\n## Issue\r\n\r\nRelated #1458 \r\nA simple fix is to add one line at https://github.com/trufflesuite/truffle/blob/8013923d4a25585981d86858f4d979ac1f001fb4/packages/truffle-core/lib/test.js#L237\r\n\r\n## Steps to Reproduce\r\n\r\nUse `chai` directly in any test.\r\n\r\n## Expected Behavior\r\n\r\nGlobal identifier `chai` must be accessible.\r\n\r\n## Actual Results\r\n\r\nOnly `chai.expect` and `chai.assert` are exported.\r\n\r\n## Environment\r\n\r\n* Operating System:  N/A\r\n* Ethereum client: N/A\r\n* Truffle version (`truffle version`): Truffle v5.0.21 (core: 5.0.21)\r\n* node version (`node --version`): N/A\r\n* npm version (`npm --version`):  N/A\r\n",
  "closed_by": {
    "login": "gnidan",
    "id": 151065,
    "node_id": "MDQ6VXNlcjE1MTA2NQ==",
    "avatar_url": "https://avatars.githubusercontent.com/u/151065?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/gnidan",
    "html_url": "https://github.com/gnidan",
    "followers_url": "https://api.github.com/users/gnidan/followers",
    "following_url": "https://api.github.com/users/gnidan/following{/other_user}",
    "gists_url": "https://api.github.com/users/gnidan/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/gnidan/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/gnidan/subscriptions",
    "organizations_url": "https://api.github.com/users/gnidan/orgs",
    "repos_url": "https://api.github.com/users/gnidan/repos",
    "events_url": "https://api.github.com/users/gnidan/events{/privacy}",
    "received_events_url": "https://api.github.com/users/gnidan/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/2090/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2090/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/501380632",
    "html_url": "https://github.com/trufflesuite/truffle/issues/2090#issuecomment-501380632",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2090",
    "id": 501380632,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUwMTM4MDYzMg==",
    "user": {
      "login": "gnidan",
      "id": 151065,
      "node_id": "MDQ6VXNlcjE1MTA2NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/151065?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gnidan",
      "html_url": "https://github.com/gnidan",
      "followers_url": "https://api.github.com/users/gnidan/followers",
      "following_url": "https://api.github.com/users/gnidan/following{/other_user}",
      "gists_url": "https://api.github.com/users/gnidan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gnidan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gnidan/subscriptions",
      "organizations_url": "https://api.github.com/users/gnidan/orgs",
      "repos_url": "https://api.github.com/users/gnidan/repos",
      "events_url": "https://api.github.com/users/gnidan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gnidan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-06-12T17:39:45Z",
    "updated_at": "2019-06-12T17:39:45Z",
    "author_association": "MEMBER",
    "body": "After some discussion, I think the better approach is for users to `require(\"chai\")` manually. Putting it in the global space feels like scope creep. We'd like to remove globals from `truffle test`, ultimately.\r\n\r\nClosing this, but feel free to offer a counter-argument. (I don't feel too strongly). Anyway, thanks for raising this!",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/501380632/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/501382230",
    "html_url": "https://github.com/trufflesuite/truffle/issues/2090#issuecomment-501382230",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2090",
    "id": 501382230,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUwMTM4MjIzMA==",
    "user": {
      "login": "andvgal",
      "id": 6080632,
      "node_id": "MDQ6VXNlcjYwODA2MzI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6080632?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/andvgal",
      "html_url": "https://github.com/andvgal",
      "followers_url": "https://api.github.com/users/andvgal/followers",
      "following_url": "https://api.github.com/users/andvgal/following{/other_user}",
      "gists_url": "https://api.github.com/users/andvgal/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/andvgal/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/andvgal/subscriptions",
      "organizations_url": "https://api.github.com/users/andvgal/orgs",
      "repos_url": "https://api.github.com/users/andvgal/repos",
      "events_url": "https://api.github.com/users/andvgal/events{/privacy}",
      "received_events_url": "https://api.github.com/users/andvgal/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-06-12T17:44:19Z",
    "updated_at": "2019-06-12T17:45:09Z",
    "author_association": "NONE",
    "body": "@gnidan  It seems @schuma7 and me could not emphasis on the problem: Truffle bundles own `chai` copy and it is NOT importable through `require('chai')`. So, it's not possible to install custom plugins.\r\n\r\n```\r\nError: Cannot find module 'chai'\r\n    at Function.Module._resolveFilename (module.js:548:15)\r\n    at Function.Module._load (module.js:475:25)\r\n    at Module.require (module.js:597:17)\r\n    at require (internal/module.js:11:18) \r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/501382230/reactions",
      "total_count": 2,
      "+1": 2,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/501390604",
    "html_url": "https://github.com/trufflesuite/truffle/issues/2090#issuecomment-501390604",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2090",
    "id": 501390604,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUwMTM5MDYwNA==",
    "user": {
      "login": "CruzMolina",
      "id": 7537712,
      "node_id": "MDQ6VXNlcjc1Mzc3MTI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7537712?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/CruzMolina",
      "html_url": "https://github.com/CruzMolina",
      "followers_url": "https://api.github.com/users/CruzMolina/followers",
      "following_url": "https://api.github.com/users/CruzMolina/following{/other_user}",
      "gists_url": "https://api.github.com/users/CruzMolina/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/CruzMolina/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/CruzMolina/subscriptions",
      "organizations_url": "https://api.github.com/users/CruzMolina/orgs",
      "repos_url": "https://api.github.com/users/CruzMolina/repos",
      "events_url": "https://api.github.com/users/CruzMolina/events{/privacy}",
      "received_events_url": "https://api.github.com/users/CruzMolina/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-06-12T18:06:28Z",
    "updated_at": "2019-06-12T18:06:28Z",
    "author_association": "CONTRIBUTOR",
    "body": "Thanks for that info @andvgal . Reopening since it sounds like we should proceed with removing the injected `chai` globals.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/501390604/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/501392818",
    "html_url": "https://github.com/trufflesuite/truffle/issues/2090#issuecomment-501392818",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2090",
    "id": 501392818,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUwMTM5MjgxOA==",
    "user": {
      "login": "andvgal",
      "id": 6080632,
      "node_id": "MDQ6VXNlcjYwODA2MzI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6080632?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/andvgal",
      "html_url": "https://github.com/andvgal",
      "followers_url": "https://api.github.com/users/andvgal/followers",
      "following_url": "https://api.github.com/users/andvgal/following{/other_user}",
      "gists_url": "https://api.github.com/users/andvgal/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/andvgal/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/andvgal/subscriptions",
      "organizations_url": "https://api.github.com/users/andvgal/orgs",
      "repos_url": "https://api.github.com/users/andvgal/repos",
      "events_url": "https://api.github.com/users/andvgal/events{/privacy}",
      "received_events_url": "https://api.github.com/users/andvgal/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-06-12T18:12:38Z",
    "updated_at": "2019-06-12T18:12:38Z",
    "author_association": "NONE",
    "body": "@CruzMolina as Truffle uses a bit own `contract()` API for test declaration, I doubt it's possible to just remove injected `chai`. Also, it would break a lot of projects in field.\r\n\r\nAs there is zero benefit of locally installed `chai` import in current tests, I believe there will be no conflict. So, injecting this global won't break the majority of projects. So, it can be a safe and quick solution.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/501392818/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/503590209",
    "html_url": "https://github.com/trufflesuite/truffle/issues/2090#issuecomment-503590209",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2090",
    "id": 503590209,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUwMzU5MDIwOQ==",
    "user": {
      "login": "eggplantzzz",
      "id": 14827965,
      "node_id": "MDQ6VXNlcjE0ODI3OTY1",
      "avatar_url": "https://avatars.githubusercontent.com/u/14827965?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eggplantzzz",
      "html_url": "https://github.com/eggplantzzz",
      "followers_url": "https://api.github.com/users/eggplantzzz/followers",
      "following_url": "https://api.github.com/users/eggplantzzz/following{/other_user}",
      "gists_url": "https://api.github.com/users/eggplantzzz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eggplantzzz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eggplantzzz/subscriptions",
      "organizations_url": "https://api.github.com/users/eggplantzzz/orgs",
      "repos_url": "https://api.github.com/users/eggplantzzz/repos",
      "events_url": "https://api.github.com/users/eggplantzzz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eggplantzzz/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-06-19T14:40:33Z",
    "updated_at": "2019-06-19T14:40:54Z",
    "author_association": "CONTRIBUTOR",
    "body": "@andvgal I could import it into my test files just fine. I just installed it with npm and added it to the dependencies section in the `package.json`. Afterwards I was able to require it in my js tests. Can you tell me exactly what you are doing when you get the `module not found` error so I can recreate your situation?",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/503590209/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/503599759",
    "html_url": "https://github.com/trufflesuite/truffle/issues/2090#issuecomment-503599759",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2090",
    "id": 503599759,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUwMzU5OTc1OQ==",
    "user": {
      "login": "andvgal",
      "id": 6080632,
      "node_id": "MDQ6VXNlcjYwODA2MzI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6080632?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/andvgal",
      "html_url": "https://github.com/andvgal",
      "followers_url": "https://api.github.com/users/andvgal/followers",
      "following_url": "https://api.github.com/users/andvgal/following{/other_user}",
      "gists_url": "https://api.github.com/users/andvgal/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/andvgal/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/andvgal/subscriptions",
      "organizations_url": "https://api.github.com/users/andvgal/orgs",
      "repos_url": "https://api.github.com/users/andvgal/repos",
      "events_url": "https://api.github.com/users/andvgal/events{/privacy}",
      "received_events_url": "https://api.github.com/users/andvgal/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-06-19T15:03:44Z",
    "updated_at": "2019-06-19T15:03:44Z",
    "author_association": "NONE",
    "body": "@eggplantzzz I am not installing `chai` separately as the one used by Truffle is not getting exposed. If you install a separate `chai` instance, you need to override `assert` and `except` globals to support custom plugins.\r\n\r\nOf course, it is a solution, but it would just break all use cases in field. Based on the semver requirements, such change should not happen neither for patch nor for minor releases.\r\n\r\nIn short, I support your idea of getting rid of embedded chai, but development culture requires to postpone that to Truffle 6.x\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/503599759/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/508661339",
    "html_url": "https://github.com/trufflesuite/truffle/issues/2090#issuecomment-508661339",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2090",
    "id": 508661339,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUwODY2MTMzOQ==",
    "user": {
      "login": "d10r",
      "id": 5479136,
      "node_id": "MDQ6VXNlcjU0NzkxMzY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5479136?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/d10r",
      "html_url": "https://github.com/d10r",
      "followers_url": "https://api.github.com/users/d10r/followers",
      "following_url": "https://api.github.com/users/d10r/following{/other_user}",
      "gists_url": "https://api.github.com/users/d10r/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/d10r/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/d10r/subscriptions",
      "organizations_url": "https://api.github.com/users/d10r/orgs",
      "repos_url": "https://api.github.com/users/d10r/repos",
      "events_url": "https://api.github.com/users/d10r/events{/privacy}",
      "received_events_url": "https://api.github.com/users/d10r/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-07-05T07:32:00Z",
    "updated_at": "2019-07-05T07:36:18Z",
    "author_association": "CONTRIBUTOR",
    "body": "I support that. Example for why:\r\nSince truffle switched to the more promise based web3 1.0, it's often useful to add [chai-as-promised](https://www.chaijs.com/plugins/chai-as-promised/) in order to more elegantly handle promise returning methods in tests.  \r\nSetting that up however requires access to the global `chai` instance ([example](https://github.com/lab10-coop/artis-bridge-contracts/blob/ARTIS/test/setup.js)). Because of that, many truffle projects bundle their own chai. That's something I don't feel comfortable to do, because it's not clear to me if/which issues may or may not arise by shadowing the pre-injected chai instance like that.\r\n\r\nOriginally I wanted to propose including `chai-as-promised` in the pre-injected chai. Maybe that's something which could already be done in truffle v5 without breaking anything.\r\nHowever after finding this issue, I now believe that a cleaner solution would be to either give access to the global chai object or remove it from truffle altogether.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/508661339/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/600783965",
    "html_url": "https://github.com/trufflesuite/truffle/issues/2090#issuecomment-600783965",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2090",
    "id": 600783965,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYwMDc4Mzk2NQ==",
    "user": {
      "login": "eggplantzzz",
      "id": 14827965,
      "node_id": "MDQ6VXNlcjE0ODI3OTY1",
      "avatar_url": "https://avatars.githubusercontent.com/u/14827965?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eggplantzzz",
      "html_url": "https://github.com/eggplantzzz",
      "followers_url": "https://api.github.com/users/eggplantzzz/followers",
      "following_url": "https://api.github.com/users/eggplantzzz/following{/other_user}",
      "gists_url": "https://api.github.com/users/eggplantzzz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eggplantzzz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eggplantzzz/subscriptions",
      "organizations_url": "https://api.github.com/users/eggplantzzz/orgs",
      "repos_url": "https://api.github.com/users/eggplantzzz/repos",
      "events_url": "https://api.github.com/users/eggplantzzz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eggplantzzz/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-03-18T18:11:04Z",
    "updated_at": "2020-03-18T18:11:04Z",
    "author_association": "CONTRIBUTOR",
    "body": "If there is anything actionable on this subject for version 6, then we'll have to have a discussion and talk about specifications for the work.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/600783965/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/613076632",
    "html_url": "https://github.com/trufflesuite/truffle/issues/2090#issuecomment-613076632",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2090",
    "id": 613076632,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxMzA3NjYzMg==",
    "user": {
      "login": "Lohann",
      "id": 4323004,
      "node_id": "MDQ6VXNlcjQzMjMwMDQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4323004?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Lohann",
      "html_url": "https://github.com/Lohann",
      "followers_url": "https://api.github.com/users/Lohann/followers",
      "following_url": "https://api.github.com/users/Lohann/following{/other_user}",
      "gists_url": "https://api.github.com/users/Lohann/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Lohann/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Lohann/subscriptions",
      "organizations_url": "https://api.github.com/users/Lohann/orgs",
      "repos_url": "https://api.github.com/users/Lohann/repos",
      "events_url": "https://api.github.com/users/Lohann/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Lohann/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-04-13T20:16:10Z",
    "updated_at": "2020-04-17T17:31:39Z",
    "author_association": "NONE",
    "body": "I'm done... I was trying to use [chai-bn](https://www.chaijs.com/plugins/bn-chai/) plugin to make my life easier, but realized that it is impossible using truffle. I'll do the [same as OpenZeppelin](https://github.com/OpenZeppelin/openzeppelin-contracts/pull/2007), throw truffle into the garbage and use [openzeppelin-test-environment](https://github.com/OpenZeppelin/openzeppelin-test-environment) for unit testing.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/613076632/reactions",
      "total_count": 5,
      "+1": 3,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 1,
      "eyes": 1
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/720651406",
    "html_url": "https://github.com/trufflesuite/truffle/issues/2090#issuecomment-720651406",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2090",
    "id": 720651406,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcyMDY1MTQwNg==",
    "user": {
      "login": "nonseodion",
      "id": 38128301,
      "node_id": "MDQ6VXNlcjM4MTI4MzAx",
      "avatar_url": "https://avatars.githubusercontent.com/u/38128301?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nonseodion",
      "html_url": "https://github.com/nonseodion",
      "followers_url": "https://api.github.com/users/nonseodion/followers",
      "following_url": "https://api.github.com/users/nonseodion/following{/other_user}",
      "gists_url": "https://api.github.com/users/nonseodion/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nonseodion/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nonseodion/subscriptions",
      "organizations_url": "https://api.github.com/users/nonseodion/orgs",
      "repos_url": "https://api.github.com/users/nonseodion/repos",
      "events_url": "https://api.github.com/users/nonseodion/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nonseodion/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-11-02T18:36:19Z",
    "updated_at": "2020-11-02T18:36:19Z",
    "author_association": "NONE",
    "body": "Funny, but I stumbled here because of that same issue Lohan.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/720651406/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 1
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/782860869",
    "html_url": "https://github.com/trufflesuite/truffle/issues/2090#issuecomment-782860869",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2090",
    "id": 782860869,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc4Mjg2MDg2OQ==",
    "user": {
      "login": "hswopeams",
      "id": 42716568,
      "node_id": "MDQ6VXNlcjQyNzE2NTY4",
      "avatar_url": "https://avatars.githubusercontent.com/u/42716568?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hswopeams",
      "html_url": "https://github.com/hswopeams",
      "followers_url": "https://api.github.com/users/hswopeams/followers",
      "following_url": "https://api.github.com/users/hswopeams/following{/other_user}",
      "gists_url": "https://api.github.com/users/hswopeams/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hswopeams/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hswopeams/subscriptions",
      "organizations_url": "https://api.github.com/users/hswopeams/orgs",
      "repos_url": "https://api.github.com/users/hswopeams/repos",
      "events_url": "https://api.github.com/users/hswopeams/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hswopeams/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-02-21T13:47:03Z",
    "updated_at": "2021-02-21T13:47:03Z",
    "author_association": "NONE",
    "body": "I also have the same problem. I can't use the chain-bn or bn-chain plugins without installing chai separately, but I don't know what affect installing it separately will have on the truffle framework since it includes a version of chai already.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/782860869/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/883638307",
    "html_url": "https://github.com/trufflesuite/truffle/issues/2090#issuecomment-883638307",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2090",
    "id": 883638307,
    "node_id": "IC_kwDOAkfq-c40q0Aj",
    "user": {
      "login": "gnidan",
      "id": 151065,
      "node_id": "MDQ6VXNlcjE1MTA2NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/151065?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gnidan",
      "html_url": "https://github.com/gnidan",
      "followers_url": "https://api.github.com/users/gnidan/followers",
      "following_url": "https://api.github.com/users/gnidan/following{/other_user}",
      "gists_url": "https://api.github.com/users/gnidan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gnidan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gnidan/subscriptions",
      "organizations_url": "https://api.github.com/users/gnidan/orgs",
      "repos_url": "https://api.github.com/users/gnidan/repos",
      "events_url": "https://api.github.com/users/gnidan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gnidan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-20T19:26:32Z",
    "updated_at": "2021-07-20T19:26:32Z",
    "author_association": "MEMBER",
    "body": "@Lohann please refrain from using insults in this repository.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/883638307/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/890356965",
    "html_url": "https://github.com/trufflesuite/truffle/issues/2090#issuecomment-890356965",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2090",
    "id": 890356965,
    "node_id": "IC_kwDOAkfq-c41EcTl",
    "user": {
      "login": "MartinSchere",
      "id": 61954243,
      "node_id": "MDQ6VXNlcjYxOTU0MjQz",
      "avatar_url": "https://avatars.githubusercontent.com/u/61954243?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MartinSchere",
      "html_url": "https://github.com/MartinSchere",
      "followers_url": "https://api.github.com/users/MartinSchere/followers",
      "following_url": "https://api.github.com/users/MartinSchere/following{/other_user}",
      "gists_url": "https://api.github.com/users/MartinSchere/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MartinSchere/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MartinSchere/subscriptions",
      "organizations_url": "https://api.github.com/users/MartinSchere/orgs",
      "repos_url": "https://api.github.com/users/MartinSchere/repos",
      "events_url": "https://api.github.com/users/MartinSchere/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MartinSchere/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-31T14:31:09Z",
    "updated_at": "2021-07-31T14:31:09Z",
    "author_association": "NONE",
    "body": "Please accept the pull request. A framework that relies on BigNumbers should be able to provide a testing suite supporting them.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/890356965/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/904266207",
    "html_url": "https://github.com/trufflesuite/truffle/issues/2090#issuecomment-904266207",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2090",
    "id": 904266207,
    "node_id": "IC_kwDOAkfq-c415gHf",
    "user": {
      "login": "taylor8294",
      "id": 6105031,
      "node_id": "MDQ6VXNlcjYxMDUwMzE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6105031?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/taylor8294",
      "html_url": "https://github.com/taylor8294",
      "followers_url": "https://api.github.com/users/taylor8294/followers",
      "following_url": "https://api.github.com/users/taylor8294/following{/other_user}",
      "gists_url": "https://api.github.com/users/taylor8294/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/taylor8294/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/taylor8294/subscriptions",
      "organizations_url": "https://api.github.com/users/taylor8294/orgs",
      "repos_url": "https://api.github.com/users/taylor8294/repos",
      "events_url": "https://api.github.com/users/taylor8294/events{/privacy}",
      "received_events_url": "https://api.github.com/users/taylor8294/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-08-24T02:14:12Z",
    "updated_at": "2021-08-24T02:51:50Z",
    "author_association": "NONE",
    "body": "Having had to deal with this problem myself, and the lack of movement on this for over two years, I can really understand Lohann's frustration on this. Seems a really clear omission on Truffle's part to make this most common of use cases unnecessarily difficult.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/904266207/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 1,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/1330814217",
    "html_url": "https://github.com/trufflesuite/truffle/issues/2090#issuecomment-1330814217",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2090",
    "id": 1330814217,
    "node_id": "IC_kwDOAkfq-c5PUp0J",
    "user": {
      "login": "xluckydegen",
      "id": 116631887,
      "node_id": "U_kgDOBvOpTw",
      "avatar_url": "https://avatars.githubusercontent.com/u/116631887?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/xluckydegen",
      "html_url": "https://github.com/xluckydegen",
      "followers_url": "https://api.github.com/users/xluckydegen/followers",
      "following_url": "https://api.github.com/users/xluckydegen/following{/other_user}",
      "gists_url": "https://api.github.com/users/xluckydegen/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/xluckydegen/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/xluckydegen/subscriptions",
      "organizations_url": "https://api.github.com/users/xluckydegen/orgs",
      "repos_url": "https://api.github.com/users/xluckydegen/repos",
      "events_url": "https://api.github.com/users/xluckydegen/events{/privacy}",
      "received_events_url": "https://api.github.com/users/xluckydegen/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-11-29T15:19:23Z",
    "updated_at": "2022-11-29T15:19:23Z",
    "author_association": "NONE",
    "body": "Is there ay news about this issue? I also would like to use chai-bn to compare BN in the test framework",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/1330814217/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 1
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/1339921280",
    "html_url": "https://github.com/trufflesuite/truffle/issues/2090#issuecomment-1339921280",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2090",
    "id": 1339921280,
    "node_id": "IC_kwDOAkfq-c5P3ZOA",
    "user": {
      "login": "eggplantzzz",
      "id": 14827965,
      "node_id": "MDQ6VXNlcjE0ODI3OTY1",
      "avatar_url": "https://avatars.githubusercontent.com/u/14827965?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eggplantzzz",
      "html_url": "https://github.com/eggplantzzz",
      "followers_url": "https://api.github.com/users/eggplantzzz/followers",
      "following_url": "https://api.github.com/users/eggplantzzz/following{/other_user}",
      "gists_url": "https://api.github.com/users/eggplantzzz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eggplantzzz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eggplantzzz/subscriptions",
      "organizations_url": "https://api.github.com/users/eggplantzzz/orgs",
      "repos_url": "https://api.github.com/users/eggplantzzz/repos",
      "events_url": "https://api.github.com/users/eggplantzzz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eggplantzzz/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-12-06T19:47:10Z",
    "updated_at": "2022-12-06T19:47:10Z",
    "author_association": "CONTRIBUTOR",
    "body": "@xluckydegen I think as of right now we're not going to do anything about this. Can you not install chai-bn separately and import it yourself for your use-case?",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/1339921280/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 1,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/1340494901",
    "html_url": "https://github.com/trufflesuite/truffle/issues/2090#issuecomment-1340494901",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2090",
    "id": 1340494901,
    "node_id": "IC_kwDOAkfq-c5P5lQ1",
    "user": {
      "login": "xluckydegen",
      "id": 116631887,
      "node_id": "U_kgDOBvOpTw",
      "avatar_url": "https://avatars.githubusercontent.com/u/116631887?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/xluckydegen",
      "html_url": "https://github.com/xluckydegen",
      "followers_url": "https://api.github.com/users/xluckydegen/followers",
      "following_url": "https://api.github.com/users/xluckydegen/following{/other_user}",
      "gists_url": "https://api.github.com/users/xluckydegen/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/xluckydegen/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/xluckydegen/subscriptions",
      "organizations_url": "https://api.github.com/users/xluckydegen/orgs",
      "repos_url": "https://api.github.com/users/xluckydegen/repos",
      "events_url": "https://api.github.com/users/xluckydegen/events{/privacy}",
      "received_events_url": "https://api.github.com/users/xluckydegen/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-12-07T07:10:30Z",
    "updated_at": "2022-12-07T07:10:30Z",
    "author_association": "NONE",
    "body": "> @xluckydegen I think as of right now we're not going to do anything about this. Can you not install chai-bn separately and import it yourself for your use-case?\r\n\r\nThis is exactly what I wanted to do but didn't figure out a way how to access chai object to import it. But in the end I decided to use hardhat instead of truffle because there were no such issues.\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/1340494901/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 1
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/1343184808",
    "html_url": "https://github.com/trufflesuite/truffle/issues/2090#issuecomment-1343184808",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2090",
    "id": 1343184808,
    "node_id": "IC_kwDOAkfq-c5QD1-o",
    "user": {
      "login": "gnidan",
      "id": 151065,
      "node_id": "MDQ6VXNlcjE1MTA2NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/151065?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gnidan",
      "html_url": "https://github.com/gnidan",
      "followers_url": "https://api.github.com/users/gnidan/followers",
      "following_url": "https://api.github.com/users/gnidan/following{/other_user}",
      "gists_url": "https://api.github.com/users/gnidan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gnidan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gnidan/subscriptions",
      "organizations_url": "https://api.github.com/users/gnidan/orgs",
      "repos_url": "https://api.github.com/users/gnidan/repos",
      "events_url": "https://api.github.com/users/gnidan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gnidan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-12-08T18:52:09Z",
    "updated_at": "2022-12-08T18:56:21Z",
    "author_association": "MEMBER",
    "body": "Despite [my 2019 comment](https://github.com/trufflesuite/truffle/issues/2090#issuecomment-501380632) suggesting that Truffle probably should not expose its own chai globals, I think that, so long as we do provide these assertions, we probably should also provide the normal extensions (like chai-bn).\n\n@haltman-at reports that we do provide an `isAddress` assertion extension ourselves today :)\n\nFor what it's worth, today we provide chai's `assert` and `expect` as globals, but not `chai` itself.\n\nMaybe we should treat this issue as needing review of these globals and associated assertion extensions. Seems likely harmless to include `chai` itself, and likely quite beneficial to include some of the most common Ethereum-related extensions.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/1343184808/reactions",
      "total_count": 2,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 2,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
