{
  "url": "https://api.github.com/repos/trufflesuite/truffle/issues/638",
  "repository_url": "https://api.github.com/repos/trufflesuite/truffle",
  "labels_url": "https://api.github.com/repos/trufflesuite/truffle/issues/638/labels{/name}",
  "comments_url": "https://api.github.com/repos/trufflesuite/truffle/issues/638/comments",
  "events_url": "https://api.github.com/repos/trufflesuite/truffle/issues/638/events",
  "html_url": "https://github.com/trufflesuite/truffle/issues/638",
  "id": 268159356,
  "node_id": "MDU6SXNzdWUyNjgxNTkzNTY=",
  "number": 638,
  "title": "Periodically have to destroy build directory",
  "user": {
    "login": "illuzen",
    "id": 6833917,
    "node_id": "MDQ6VXNlcjY4MzM5MTc=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6833917?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/illuzen",
    "html_url": "https://github.com/illuzen",
    "followers_url": "https://api.github.com/users/illuzen/followers",
    "following_url": "https://api.github.com/users/illuzen/following{/other_user}",
    "gists_url": "https://api.github.com/users/illuzen/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/illuzen/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/illuzen/subscriptions",
    "organizations_url": "https://api.github.com/users/illuzen/orgs",
    "repos_url": "https://api.github.com/users/illuzen/repos",
    "events_url": "https://api.github.com/users/illuzen/events{/privacy}",
    "received_events_url": "https://api.github.com/users/illuzen/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 6,
  "created_at": "2017-10-24T19:36:10Z",
  "updated_at": "2018-03-30T01:54:52Z",
  "closed_at": "2018-03-30T01:54:51Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "- [*] I've asked for help in the [Truffle Gitter](http://gitter.im/Consensys/truffle) before filing this issue.\r\n\r\n---------------------------\r\n\r\n## Issue\r\n\r\nMany times I will try to deploy and I get \r\n\r\n```\r\nError encountered, bailing. Network state unknown. Review successful transactions manually.\r\nError: The contract code couldn't be stored, please check your gas amount.\r\n    at Object.callback (/usr/local/lib/node_modules/truffle/build/cli.bundled.js:218485:46)\r\n    at /usr/local/lib/node_modules/truffle/build/cli.bundled.js:34886:25\r\n    at /usr/local/lib/node_modules/truffle/build/cli.bundled.js:220423:9\r\n    at /usr/local/lib/node_modules/truffle/build/cli.bundled.js:72910:11\r\n    at /usr/local/lib/node_modules/truffle/build/cli.bundled.js:204149:9\r\n    at XMLHttpRequest.request.onreadystatechange (/usr/local/lib/node_modules/truffle/build/cli.bundled.js:205574:13)\r\n    at XMLHttpRequestEventTarget.dispatchEvent (/usr/local/lib/node_modules/truffle/build/cli.bundled.js:73069:18)\r\n    at XMLHttpRequest._setReadyState (/usr/local/lib/node_modules/truffle/build/cli.bundled.js:73359:12)\r\n    at XMLHttpRequest._onHttpResponseEnd (/usr/local/lib/node_modules/truffle/build/cli.bundled.js:73514:12)\r\n    at IncomingMessage.<anonymous> (/usr/local/lib/node_modules/truffle/build/cli.bundled.js:73474:24)\r\n\r\n```\r\n\r\nIf I then rm -r build/ and redeploy, it deploys fine. I believe this is related to\r\n\r\nhttps://github.com/trufflesuite/truffle/issues/637\r\n\r\nOperating System: OSX 10.12.6\r\nTruffle version: Truffle v3.4.11\r\nEthereum client: geth 1.7.2\r\nnode version: v7.7.4\r\nnpm version: 5.5.1",
  "closed_by": {
    "login": "cgewecke",
    "id": 7332026,
    "node_id": "MDQ6VXNlcjczMzIwMjY=",
    "avatar_url": "https://avatars.githubusercontent.com/u/7332026?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/cgewecke",
    "html_url": "https://github.com/cgewecke",
    "followers_url": "https://api.github.com/users/cgewecke/followers",
    "following_url": "https://api.github.com/users/cgewecke/following{/other_user}",
    "gists_url": "https://api.github.com/users/cgewecke/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/cgewecke/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/cgewecke/subscriptions",
    "organizations_url": "https://api.github.com/users/cgewecke/orgs",
    "repos_url": "https://api.github.com/users/cgewecke/repos",
    "events_url": "https://api.github.com/users/cgewecke/events{/privacy}",
    "received_events_url": "https://api.github.com/users/cgewecke/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/638/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/trufflesuite/truffle/issues/638/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/339110312",
    "html_url": "https://github.com/trufflesuite/truffle/issues/638#issuecomment-339110312",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/638",
    "id": 339110312,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzOTExMDMxMg==",
    "user": {
      "login": "fvictorio",
      "id": 417134,
      "node_id": "MDQ6VXNlcjQxNzEzNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417134?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fvictorio",
      "html_url": "https://github.com/fvictorio",
      "followers_url": "https://api.github.com/users/fvictorio/followers",
      "following_url": "https://api.github.com/users/fvictorio/following{/other_user}",
      "gists_url": "https://api.github.com/users/fvictorio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fvictorio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fvictorio/subscriptions",
      "organizations_url": "https://api.github.com/users/fvictorio/orgs",
      "repos_url": "https://api.github.com/users/fvictorio/repos",
      "events_url": "https://api.github.com/users/fvictorio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fvictorio/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-10-24T19:50:17Z",
    "updated_at": "2017-10-24T19:50:17Z",
    "author_association": "NONE",
    "body": "Do you have that error when using a testnet or testrpc?\r\n\r\nThis may be obvious advice, but just in case: I've got that error before when using geth and a testnet because the node was not fully synced yet. Maybe in the time that it took you to remove the directory the node finished syncing? Just a wild guess.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/339110312/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/339190751",
    "html_url": "https://github.com/trufflesuite/truffle/issues/638#issuecomment-339190751",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/638",
    "id": 339190751,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzOTE5MDc1MQ==",
    "user": {
      "login": "illuzen",
      "id": 6833917,
      "node_id": "MDQ6VXNlcjY4MzM5MTc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6833917?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/illuzen",
      "html_url": "https://github.com/illuzen",
      "followers_url": "https://api.github.com/users/illuzen/followers",
      "following_url": "https://api.github.com/users/illuzen/following{/other_user}",
      "gists_url": "https://api.github.com/users/illuzen/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/illuzen/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/illuzen/subscriptions",
      "organizations_url": "https://api.github.com/users/illuzen/orgs",
      "repos_url": "https://api.github.com/users/illuzen/repos",
      "events_url": "https://api.github.com/users/illuzen/events{/privacy}",
      "received_events_url": "https://api.github.com/users/illuzen/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-10-25T02:03:54Z",
    "updated_at": "2017-10-25T02:03:54Z",
    "author_association": "NONE",
    "body": "Private network, using geth 1.7.2. My node is the only node. And the problem is consistent, I have to do it every time. I've been unable to reproduce this with small contracts, so I think it's a subtle bug that only emerges beyond a certain level of code complexity. Please ask more questions to help me track this down.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/339190751/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/342689551",
    "html_url": "https://github.com/trufflesuite/truffle/issues/638#issuecomment-342689551",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/638",
    "id": 342689551,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0MjY4OTU1MQ==",
    "user": {
      "login": "davesag",
      "id": 387098,
      "node_id": "MDQ6VXNlcjM4NzA5OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/387098?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/davesag",
      "html_url": "https://github.com/davesag",
      "followers_url": "https://api.github.com/users/davesag/followers",
      "following_url": "https://api.github.com/users/davesag/following{/other_user}",
      "gists_url": "https://api.github.com/users/davesag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/davesag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/davesag/subscriptions",
      "organizations_url": "https://api.github.com/users/davesag/orgs",
      "repos_url": "https://api.github.com/users/davesag/repos",
      "events_url": "https://api.github.com/users/davesag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/davesag/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-11-08T02:24:39Z",
    "updated_at": "2017-11-08T02:24:39Z",
    "author_association": "NONE",
    "body": "Interesting.  I hit an issue yesterday to which the solution was also just to nuke the `build` folder and recompile. Ref https://ethereum.stackexchange.com/questions/30064/casting-from-msg-sender-address-to-a-contract-compiles-but-causes-test-failure/30154#30154",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/342689551/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/344661637",
    "html_url": "https://github.com/trufflesuite/truffle/issues/638#issuecomment-344661637",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/638",
    "id": 344661637,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0NDY2MTYzNw==",
    "user": {
      "login": "owocki",
      "id": 513929,
      "node_id": "MDQ6VXNlcjUxMzkyOQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/513929?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/owocki",
      "html_url": "https://github.com/owocki",
      "followers_url": "https://api.github.com/users/owocki/followers",
      "following_url": "https://api.github.com/users/owocki/following{/other_user}",
      "gists_url": "https://api.github.com/users/owocki/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/owocki/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/owocki/subscriptions",
      "organizations_url": "https://api.github.com/users/owocki/orgs",
      "repos_url": "https://api.github.com/users/owocki/repos",
      "events_url": "https://api.github.com/users/owocki/events{/privacy}",
      "received_events_url": "https://api.github.com/users/owocki/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-11-15T17:11:46Z",
    "updated_at": "2017-11-15T17:12:15Z",
    "author_association": "NONE",
    "body": "Is anyone able to create reproduction steps for this issue?  Looks like the OG desc has some good stuff on it, but it'd be helpful for me to know exactly how to repro.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/344661637/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/344807700",
    "html_url": "https://github.com/trufflesuite/truffle/issues/638#issuecomment-344807700",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/638",
    "id": 344807700,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0NDgwNzcwMA==",
    "user": {
      "login": "illuzen",
      "id": 6833917,
      "node_id": "MDQ6VXNlcjY4MzM5MTc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6833917?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/illuzen",
      "html_url": "https://github.com/illuzen",
      "followers_url": "https://api.github.com/users/illuzen/followers",
      "following_url": "https://api.github.com/users/illuzen/following{/other_user}",
      "gists_url": "https://api.github.com/users/illuzen/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/illuzen/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/illuzen/subscriptions",
      "organizations_url": "https://api.github.com/users/illuzen/orgs",
      "repos_url": "https://api.github.com/users/illuzen/repos",
      "events_url": "https://api.github.com/users/illuzen/events{/privacy}",
      "received_events_url": "https://api.github.com/users/illuzen/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-11-16T03:51:34Z",
    "updated_at": "2017-11-16T03:51:34Z",
    "author_association": "NONE",
    "body": "I think it comes from creating two contracts in two different files, say A.sol and B.sol and then having an abstract contract in A.sol with the name \"B\". We started appending numbers to the abstract contract names so they don't collide and it seems to workaround.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/344807700/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/377423342",
    "html_url": "https://github.com/trufflesuite/truffle/issues/638#issuecomment-377423342",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/638",
    "id": 377423342,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3NzQyMzM0Mg==",
    "user": {
      "login": "cgewecke",
      "id": 7332026,
      "node_id": "MDQ6VXNlcjczMzIwMjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7332026?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cgewecke",
      "html_url": "https://github.com/cgewecke",
      "followers_url": "https://api.github.com/users/cgewecke/followers",
      "following_url": "https://api.github.com/users/cgewecke/following{/other_user}",
      "gists_url": "https://api.github.com/users/cgewecke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cgewecke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cgewecke/subscriptions",
      "organizations_url": "https://api.github.com/users/cgewecke/orgs",
      "repos_url": "https://api.github.com/users/cgewecke/repos",
      "events_url": "https://api.github.com/users/cgewecke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cgewecke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-30T01:54:51Z",
    "updated_at": "2018-03-30T01:54:51Z",
    "author_association": "CONTRIBUTOR",
    "body": "@illuzen Apologies for this - believe it's fixed in `4.1.5`. Thanks for reporting.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/377423342/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
