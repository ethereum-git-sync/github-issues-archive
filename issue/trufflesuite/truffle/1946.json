{
  "url": "https://api.github.com/repos/trufflesuite/truffle/issues/1946",
  "repository_url": "https://api.github.com/repos/trufflesuite/truffle",
  "labels_url": "https://api.github.com/repos/trufflesuite/truffle/issues/1946/labels{/name}",
  "comments_url": "https://api.github.com/repos/trufflesuite/truffle/issues/1946/comments",
  "events_url": "https://api.github.com/repos/trufflesuite/truffle/issues/1946/events",
  "html_url": "https://github.com/trufflesuite/truffle/issues/1946",
  "id": 436440961,
  "node_id": "MDU6SXNzdWU0MzY0NDA5NjE=",
  "number": 1946,
  "title": "debug error - TypeError: Cannot read property 'toTwos' of undefined",
  "user": {
    "login": "flockonus",
    "id": 165553,
    "node_id": "MDQ6VXNlcjE2NTU1Mw==",
    "avatar_url": "https://avatars.githubusercontent.com/u/165553?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/flockonus",
    "html_url": "https://github.com/flockonus",
    "followers_url": "https://api.github.com/users/flockonus/followers",
    "following_url": "https://api.github.com/users/flockonus/following{/other_user}",
    "gists_url": "https://api.github.com/users/flockonus/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/flockonus/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/flockonus/subscriptions",
    "organizations_url": "https://api.github.com/users/flockonus/orgs",
    "repos_url": "https://api.github.com/users/flockonus/repos",
    "events_url": "https://api.github.com/users/flockonus/events{/privacy}",
    "received_events_url": "https://api.github.com/users/flockonus/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 3,
  "created_at": "2019-04-24T00:08:32Z",
  "updated_at": "2019-04-25T00:30:10Z",
  "closed_at": "2019-04-25T00:30:10Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "- [ ] I've asked for help in the [Truffle Gitter](http://gitter.im/Consensys/truffle) before filing this issue.\r\n\r\n---------------------------\r\n\r\n## Issue\r\n\r\nAn error pops up when debugging against a contract in Rinkeby.\r\n\r\nSorry i can't share the source code yet, but the project is unpublished.\r\n\r\n## Steps to Reproduce\r\n\r\nRunning console with:\r\n\r\n```\r\nWEB3_URL=<some url> PRIV=<priv key> FROM_ADDRESS=<pub addr> yarn run truffle console --network rinkeby\r\n```\r\n\r\n## Expected Behavior\r\n\r\nSee the whole stack trace as expected from debug.\r\n\r\n## Actual Results\r\n\r\n```\r\ndebug(rinkeby:0x885bcbfc...)>\r\n\r\nGateKeeper.sol:\r\n\r\n112:         address t = tournament.addr;\r\n113:         // tournament must be open\r\n114:         require(Tournament1(t).isBuyOpen(), \"buy must be open\");\r\n                     ^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n\r\ndebug(rinkeby:0x885bcbfc...)>\r\nTypeError: Cannot read property 'toTwos' of undefined\r\n    at Object.toBytes (/workspace/project/node_modules/truffle/build/webpack:/packages/truffle-decode-utils/dist/conversion.js:130:1)\r\n    at /workspace/project/node_modules/truffle/build/webpack:/packages/truffle-debugger/dist/debugger.js:1871:23\r\n    at Array.map (<anonymous>)\r\n    at /workspace/project/node_modules/truffle/build/webpack:/packages/truffle-debugger/dist/debugger.js:1870:126\r\n    at /workspace/project/node_modules/truffle/build/webpack:/~/reselect/es/index.js:70:1\r\n    at /workspace/project/node_modules/truffle/build/webpack:/~/reselect/es/index.js:30:1\r\n    at /workspace/project/node_modules/truffle/build/webpack:/~/reselect/es/index.js:84:1\r\n    at /workspace/project/node_modules/truffle/build/webpack:/~/reselect/es/index.js:30:1\r\n    at /workspace/project/node_modules/truffle/build/webpack:/~/reselect/es/index.js:80:1\r\n    at Function.<anonymous> (/workspace/project/node_modules/truffle/build/webpack:/~/reselect/es/index.js:30:1)\r\n    at /workspace/project/node_modules/truffle/build/webpack:/~/reselect-tree/index.js:209:1\r\n    at /workspace/project/node_modules/truffle/build/webpack:/~/reselect/es/index.js:80:1\r\n    at /workspace/project/node_modules/truffle/build/webpack:/~/reselect/es/index.js:30:1\r\n    at runSelectEffect (/workspace/project/node_modules/truffle/build/webpack:/~/@redux-saga/core/dist/redux-saga-core.esm.js:730:1)\r\n    at runEffect (/workspace/project/node_modules/truffle/build/webpack:/~/@redux-saga/core/dist/redux-saga-core.esm.js:1198:1)\r\n    at digestEffect (/workspace/project/node_modules/truffle/build/webpack:/~/@redux-saga/core/dist/redux-saga-core.esm.js:1265:1)\r\n    at next (/workspace/project/node_modules/truffle/build/webpack:/~/@redux-saga/core/dist/redux-saga-core.esm.js:1155:1)\r\n    at currCb (/workspace/project/node_modules/truffle/build/webpack:/~/@redux-saga/core/dist/redux-saga-core.esm.js:1245:1)\r\n    at runSelectEffect (/workspace/project/node_modules/truffle/build/webpack:/~/@redux-saga/core/dist/redux-saga-core.esm.js:731:1)\r\n    at runEffect (/workspace/project/node_modules/truffle/build/webpack:/~/@redux-saga/core/dist/redux-saga-core.esm.js:1198:1)\r\n    at digestEffect (/workspace/project/node_modules/truffle/build/webpack:/~/@redux-saga/core/dist/redux-saga-core.esm.js:1265:1)\r\n    at next (/workspace/project/node_modules/truffle/build/webpack:/~/@redux-saga/core/dist/redux-saga-core.esm.js:1155:1)\r\n    at proc (/workspace/project/node_modules/truffle/build/webpack:/~/@redux-saga/core/dist/redux-saga-core.esm.js:1102:1)\r\n    at /workspace/project/node_modules/truffle/build/webpack:/~/@redux-saga/core/dist/redux-saga-core.esm.js:585:1\r\n    at immediately (/workspace/project/node_modules/truffle/build/webpack:/~/@redux-saga/core/dist/redux-saga-core.esm.js:56:1)\r\n    at runForkEffect (/workspace/project/node_modules/truffle/build/webpack:/~/@redux-saga/core/dist/redux-saga-core.esm.js:584:1)\r\n    at runEffect (/workspace/project/node_modules/truffle/build/webpack:/~/@redux-saga/core/dist/redux-saga-core.esm.js:1198:1)\r\n    at digestEffect (/workspace/project/node_modules/truffle/build/webpack:/~/@redux-saga/core/dist/redux-saga-core.esm.js:1265:1)\r\n    at next (/workspace/project/node_modules/truffle/build/webpack:/~/@redux-saga/core/dist/redux-saga-core.esm.js:1155:1)\r\n    at currCb (/workspace/project/node_modules/truffle/build/webpack:/~/@redux-saga/core/dist/redux-saga-core.esm.js:1245:1)\r\n    at takeCb (/workspace/project/node_modules/truffle/build/webpack:/~/@redux-saga/core/dist/redux-saga-core.esm.js:503:1)\r\n    at put (/workspace/project/node_modules/truffle/build/webpack:/~/@redux-saga/core/dist/redux-saga-core.esm.js:339:1)\r\n    at Object.chan.put (/workspace/project/node_modules/truffle/build/webpack:/~/@redux-saga/core/dist/redux-saga-core.esm.js:371:1)\r\n    at /workspace/project/node_modules/truffle/build/webpack:/~/@redux-saga/core/dist/redux-saga-core.esm.js:1410:1\r\n    at dispatch (/workspace/project/node_modules/truffle/build/webpack:/~/redux/es/applyMiddleware.js:35:1)\r\n    at /workspace/project/node_modules/truffle/build/webpack:/~/@redux-saga/core/dist/chunk-e922c950.js:122:1\r\n    at /workspace/project/node_modules/truffle/build/webpack:/~/@redux-saga/core/dist/redux-saga-core.esm.js:472:1\r\n    at exec (/workspace/project/node_modules/truffle/build/webpack:/~/@redux-saga/core/dist/redux-saga-core.esm.js:31:1)\r\n    at flush (/workspace/project/node_modules/truffle/build/webpack:/~/@redux-saga/core/dist/redux-saga-core.esm.js:87:1)\r\n    at asap (/workspace/project/node_modules/truffle/build/webpack:/~/@redux-saga/core/dist/redux-saga-core.esm.js:46:1)\r\nThe above error occurred in task tickSaga\r\n    created by takeEvery(TICK, tickSaga)\r\n    created by data.saga\r\n    created by session.saga\r\nTasks cancelled due to error:\r\ntakeEvery(TICK, tickSaga)\r\ncontroller.saga\r\nevm.saga\r\nsolidity.saga\r\ntrace.saga\r\nweb3.saga\r\n\r\n```\r\n\r\n## Environment\r\n\r\n* Operating System: mac os\r\n* Ethereum client:\r\n```\r\ncompilers: {\r\n    solc: {\r\n      // where do we get to know the latest we can use?\r\n      version: '0.5.6',\r\n      settings: {\r\n        evmVersion: 'constantinople',\r\n        optimizer: {\r\n          enabled: true,\r\n          runs: 200,\r\n        },\r\n      },\r\n    },\r\n  },\r\n```\r\n* Truffle version (`truffle version`): 5.0.12\r\n* node version (`node --version`): tried v11.4.0,  v12.0.0\r\n* npm version (`npm --version`): \r\n",
  "closed_by": {
    "login": "flockonus",
    "id": 165553,
    "node_id": "MDQ6VXNlcjE2NTU1Mw==",
    "avatar_url": "https://avatars.githubusercontent.com/u/165553?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/flockonus",
    "html_url": "https://github.com/flockonus",
    "followers_url": "https://api.github.com/users/flockonus/followers",
    "following_url": "https://api.github.com/users/flockonus/following{/other_user}",
    "gists_url": "https://api.github.com/users/flockonus/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/flockonus/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/flockonus/subscriptions",
    "organizations_url": "https://api.github.com/users/flockonus/orgs",
    "repos_url": "https://api.github.com/users/flockonus/repos",
    "events_url": "https://api.github.com/users/flockonus/events{/privacy}",
    "received_events_url": "https://api.github.com/users/flockonus/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/1946/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/trufflesuite/truffle/issues/1946/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/486360202",
    "html_url": "https://github.com/trufflesuite/truffle/issues/1946#issuecomment-486360202",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/1946",
    "id": 486360202,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ4NjM2MDIwMg==",
    "user": {
      "login": "haltman-at",
      "id": 35589221,
      "node_id": "MDQ6VXNlcjM1NTg5MjIx",
      "avatar_url": "https://avatars.githubusercontent.com/u/35589221?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/haltman-at",
      "html_url": "https://github.com/haltman-at",
      "followers_url": "https://api.github.com/users/haltman-at/followers",
      "following_url": "https://api.github.com/users/haltman-at/following{/other_user}",
      "gists_url": "https://api.github.com/users/haltman-at/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/haltman-at/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/haltman-at/subscriptions",
      "organizations_url": "https://api.github.com/users/haltman-at/orgs",
      "repos_url": "https://api.github.com/users/haltman-at/repos",
      "events_url": "https://api.github.com/users/haltman-at/events{/privacy}",
      "received_events_url": "https://api.github.com/users/haltman-at/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-04-24T17:57:08Z",
    "updated_at": "2019-04-24T17:57:08Z",
    "author_association": "CONTRIBUTOR",
    "body": "So, trying to make sense of what you posted -- I notice the prompt is blank.  What debugger command was it that you ran that caused this error?  What is `n`, step next?  (If you never entered anything, this would be the default.)  Thanks!\r\n\r\nAlso, while the original project is not public, it would be very helpful if you could perhaps provide a stripped-down example that still results in the bug.  In any case, I'll look into it.  Thanks!",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/486360202/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/486363116",
    "html_url": "https://github.com/trufflesuite/truffle/issues/1946#issuecomment-486363116",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/1946",
    "id": 486363116,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ4NjM2MzExNg==",
    "user": {
      "login": "haltman-at",
      "id": 35589221,
      "node_id": "MDQ6VXNlcjM1NTg5MjIx",
      "avatar_url": "https://avatars.githubusercontent.com/u/35589221?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/haltman-at",
      "html_url": "https://github.com/haltman-at",
      "followers_url": "https://api.github.com/users/haltman-at/followers",
      "following_url": "https://api.github.com/users/haltman-at/following{/other_user}",
      "gists_url": "https://api.github.com/users/haltman-at/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/haltman-at/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/haltman-at/subscriptions",
      "organizations_url": "https://api.github.com/users/haltman-at/orgs",
      "repos_url": "https://api.github.com/users/haltman-at/repos",
      "events_url": "https://api.github.com/users/haltman-at/events{/privacy}",
      "received_events_url": "https://api.github.com/users/haltman-at/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-04-24T18:05:10Z",
    "updated_at": "2019-04-24T18:51:55Z",
    "author_association": "CONTRIBUTOR",
    "body": "By the way, in the meantime you might want to try with truffle 5.0.13, just to check if that fixes it.  (Edit: Make that 5.0.14, I suppose. :) )",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/486363116/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 1,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/486475430",
    "html_url": "https://github.com/trufflesuite/truffle/issues/1946#issuecomment-486475430",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/1946",
    "id": 486475430,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ4NjQ3NTQzMA==",
    "user": {
      "login": "flockonus",
      "id": 165553,
      "node_id": "MDQ6VXNlcjE2NTU1Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/165553?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/flockonus",
      "html_url": "https://github.com/flockonus",
      "followers_url": "https://api.github.com/users/flockonus/followers",
      "following_url": "https://api.github.com/users/flockonus/following{/other_user}",
      "gists_url": "https://api.github.com/users/flockonus/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/flockonus/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/flockonus/subscriptions",
      "organizations_url": "https://api.github.com/users/flockonus/orgs",
      "repos_url": "https://api.github.com/users/flockonus/repos",
      "events_url": "https://api.github.com/users/flockonus/events{/privacy}",
      "received_events_url": "https://api.github.com/users/flockonus/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-04-25T00:30:10Z",
    "updated_at": "2019-04-25T00:30:10Z",
    "author_association": "NONE",
    "body": "You guys are shipping at great speed ðŸš€ \r\n\r\nRunning it against 5.0.14 made the issue go away and I could debug, thank you ðŸ™‡ ",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/486475430/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
