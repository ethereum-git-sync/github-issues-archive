{
  "url": "https://api.github.com/repos/trufflesuite/truffle/issues/1705",
  "repository_url": "https://api.github.com/repos/trufflesuite/truffle",
  "labels_url": "https://api.github.com/repos/trufflesuite/truffle/issues/1705/labels{/name}",
  "comments_url": "https://api.github.com/repos/trufflesuite/truffle/issues/1705/comments",
  "events_url": "https://api.github.com/repos/trufflesuite/truffle/issues/1705/events",
  "html_url": "https://github.com/trufflesuite/truffle/issues/1705",
  "id": 407939561,
  "node_id": "MDU6SXNzdWU0MDc5Mzk1NjE=",
  "number": 1705,
  "title": "2 versions of mocha in package.json",
  "user": {
    "login": "WyseNynja",
    "id": 624221,
    "node_id": "MDQ6VXNlcjYyNDIyMQ==",
    "avatar_url": "https://avatars.githubusercontent.com/u/624221?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/WyseNynja",
    "html_url": "https://github.com/WyseNynja",
    "followers_url": "https://api.github.com/users/WyseNynja/followers",
    "following_url": "https://api.github.com/users/WyseNynja/following{/other_user}",
    "gists_url": "https://api.github.com/users/WyseNynja/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/WyseNynja/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/WyseNynja/subscriptions",
    "organizations_url": "https://api.github.com/users/WyseNynja/orgs",
    "repos_url": "https://api.github.com/users/WyseNynja/repos",
    "events_url": "https://api.github.com/users/WyseNynja/events{/privacy}",
    "received_events_url": "https://api.github.com/users/WyseNynja/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 1041903922,
      "node_id": "MDU6TGFiZWwxMDQxOTAzOTIy",
      "url": "https://api.github.com/repos/trufflesuite/truffle/labels/truffle%20test",
      "name": "truffle test",
      "color": "bfdadc",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 5,
  "created_at": "2019-02-07T23:13:19Z",
  "updated_at": "2020-10-07T17:53:57Z",
  "closed_at": "2020-10-07T17:53:57Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "https://github.com/trufflesuite/truffle/blob/develop/packages/truffle/package.json#L8 has ` \"^4.1.0\",`\r\n\r\nhttps://github.com/trufflesuite/truffle/blob/develop/packages/truffle/package.json#L25 has `\"5.2.0\",`\r\n\r\nIs this intentional? It seems odd to have two versions defined in package.json.",
  "closed_by": {
    "login": "haltman-at",
    "id": 35589221,
    "node_id": "MDQ6VXNlcjM1NTg5MjIx",
    "avatar_url": "https://avatars.githubusercontent.com/u/35589221?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/haltman-at",
    "html_url": "https://github.com/haltman-at",
    "followers_url": "https://api.github.com/users/haltman-at/followers",
    "following_url": "https://api.github.com/users/haltman-at/following{/other_user}",
    "gists_url": "https://api.github.com/users/haltman-at/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/haltman-at/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/haltman-at/subscriptions",
    "organizations_url": "https://api.github.com/users/haltman-at/orgs",
    "repos_url": "https://api.github.com/users/haltman-at/repos",
    "events_url": "https://api.github.com/users/haltman-at/events{/privacy}",
    "received_events_url": "https://api.github.com/users/haltman-at/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/1705/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/trufflesuite/truffle/issues/1705/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/461715742",
    "html_url": "https://github.com/trufflesuite/truffle/issues/1705#issuecomment-461715742",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/1705",
    "id": 461715742,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2MTcxNTc0Mg==",
    "user": {
      "login": "gnidan",
      "id": 151065,
      "node_id": "MDQ6VXNlcjE1MTA2NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/151065?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gnidan",
      "html_url": "https://github.com/gnidan",
      "followers_url": "https://api.github.com/users/gnidan/followers",
      "following_url": "https://api.github.com/users/gnidan/following{/other_user}",
      "gists_url": "https://api.github.com/users/gnidan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gnidan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gnidan/subscriptions",
      "organizations_url": "https://api.github.com/users/gnidan/orgs",
      "repos_url": "https://api.github.com/users/gnidan/repos",
      "events_url": "https://api.github.com/users/gnidan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gnidan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-02-08T07:34:06Z",
    "updated_at": "2019-02-08T07:34:06Z",
    "author_association": "MEMBER",
    "body": "One of the mochas is for Truffle's internal test suite and the other for `truffle test`.\r\n\r\nI've been hesitant to bother remedying this, mostly because:\r\n- `truffle test` has a lot of legacy code, so it's risky to upgrade mocha with breaking changes\r\n- lack of urgency (I don't remember many other mentions of this discrepancy). \r\n- the plan is to generalize `truffle test` to support any framework on the order of \"pretty soon\", so it has appeared to be a naturally temporary problem\r\n\r\nBut, it might be trivially easy to do the upgrade, and my reasoning thus unsound. Or just plain invalid for reasons I'm missing. Either way, my attempts at judicious laziness aside, I would prefer these versions be in sync!\r\n\r\nIf you feel like taking a stab at this, I'd be happy to help sort out any trickiness you encounter in a PR.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/461715742/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/463517846",
    "html_url": "https://github.com/trufflesuite/truffle/issues/1705#issuecomment-463517846",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/1705",
    "id": 463517846,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2MzUxNzg0Ng==",
    "user": {
      "login": "WyseNynja",
      "id": 624221,
      "node_id": "MDQ6VXNlcjYyNDIyMQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/624221?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/WyseNynja",
      "html_url": "https://github.com/WyseNynja",
      "followers_url": "https://api.github.com/users/WyseNynja/followers",
      "following_url": "https://api.github.com/users/WyseNynja/following{/other_user}",
      "gists_url": "https://api.github.com/users/WyseNynja/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/WyseNynja/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/WyseNynja/subscriptions",
      "organizations_url": "https://api.github.com/users/WyseNynja/orgs",
      "repos_url": "https://api.github.com/users/WyseNynja/repos",
      "events_url": "https://api.github.com/users/WyseNynja/events{/privacy}",
      "received_events_url": "https://api.github.com/users/WyseNynja/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-02-14T07:12:29Z",
    "updated_at": "2019-02-14T07:12:29Z",
    "author_association": "NONE",
    "body": "Which mocha is used for which test suite?\r\n\r\nMocha's CHANGELOG looks like it has good documentation for breaking changes. The only breaking change for 4 to 5 is about dropping support for IE9 and IE10 which I think is unlikely to break truffle.  Upgrading up to mocha 6 has more breaking changes listed.\r\n\r\nhttps://github.com/mochajs/mocha/blob/master/CHANGELOG.md#boom-breaking-change's\r\n\r\nI'll test this change against my project and see what happens.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/463517846/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/502978571",
    "html_url": "https://github.com/trufflesuite/truffle/issues/1705#issuecomment-502978571",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/1705",
    "id": 502978571,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUwMjk3ODU3MQ==",
    "user": {
      "login": "boolafish",
      "id": 6198848,
      "node_id": "MDQ6VXNlcjYxOTg4NDg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6198848?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/boolafish",
      "html_url": "https://github.com/boolafish",
      "followers_url": "https://api.github.com/users/boolafish/followers",
      "following_url": "https://api.github.com/users/boolafish/following{/other_user}",
      "gists_url": "https://api.github.com/users/boolafish/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/boolafish/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/boolafish/subscriptions",
      "organizations_url": "https://api.github.com/users/boolafish/orgs",
      "repos_url": "https://api.github.com/users/boolafish/repos",
      "events_url": "https://api.github.com/users/boolafish/events{/privacy}",
      "received_events_url": "https://api.github.com/users/boolafish/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-06-18T07:14:16Z",
    "updated_at": "2019-06-18T07:14:16Z",
    "author_association": "NONE",
    "body": "To upvote this issue, it seems like mocha 4 has a dependency (`diff`) that might have security issue and need to be updated:\r\nhttps://snyk.io/node-js/mocha\r\n\r\nWe are getting GitHub security alert because having truffle as dependency.\r\nhttps://github.com/omisego/plasma-contracts/network/alert/package-lock.json/diff/open\r\n```\r\n└─┬ truffle@5.0.21\r\n  └─┬ mocha@4.1.0\r\n    └── diff@3.3.1\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/502978571/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/503636091",
    "html_url": "https://github.com/trufflesuite/truffle/issues/1705#issuecomment-503636091",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/1705",
    "id": 503636091,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUwMzYzNjA5MQ==",
    "user": {
      "login": "eggplantzzz",
      "id": 14827965,
      "node_id": "MDQ6VXNlcjE0ODI3OTY1",
      "avatar_url": "https://avatars.githubusercontent.com/u/14827965?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eggplantzzz",
      "html_url": "https://github.com/eggplantzzz",
      "followers_url": "https://api.github.com/users/eggplantzzz/followers",
      "following_url": "https://api.github.com/users/eggplantzzz/following{/other_user}",
      "gists_url": "https://api.github.com/users/eggplantzzz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eggplantzzz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eggplantzzz/subscriptions",
      "organizations_url": "https://api.github.com/users/eggplantzzz/orgs",
      "repos_url": "https://api.github.com/users/eggplantzzz/repos",
      "events_url": "https://api.github.com/users/eggplantzzz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eggplantzzz/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-06-19T16:34:45Z",
    "updated_at": "2019-06-19T16:36:03Z",
    "author_association": "CONTRIBUTOR",
    "body": "It looks like version 4 of mocha was removed from the dev dependencies section of truffle. I believe that this issue can be closed...?\r\n\r\nUpdate: Actually it looks like the deployer uses version 4. I'll go ahead and try to upgrade Truffle to use version 6 of mocha.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/503636091/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/705097788",
    "html_url": "https://github.com/trufflesuite/truffle/issues/1705#issuecomment-705097788",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/1705",
    "id": 705097788,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcwNTA5Nzc4OA==",
    "user": {
      "login": "haltman-at",
      "id": 35589221,
      "node_id": "MDQ6VXNlcjM1NTg5MjIx",
      "avatar_url": "https://avatars.githubusercontent.com/u/35589221?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/haltman-at",
      "html_url": "https://github.com/haltman-at",
      "followers_url": "https://api.github.com/users/haltman-at/followers",
      "following_url": "https://api.github.com/users/haltman-at/following{/other_user}",
      "gists_url": "https://api.github.com/users/haltman-at/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/haltman-at/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/haltman-at/subscriptions",
      "organizations_url": "https://api.github.com/users/haltman-at/orgs",
      "repos_url": "https://api.github.com/users/haltman-at/repos",
      "events_url": "https://api.github.com/users/haltman-at/events{/privacy}",
      "received_events_url": "https://api.github.com/users/haltman-at/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-10-07T17:53:57Z",
    "updated_at": "2020-10-07T17:53:57Z",
    "author_association": "CONTRIBUTOR",
    "body": "This seems to have been fixed long ago, closing.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/705097788/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
