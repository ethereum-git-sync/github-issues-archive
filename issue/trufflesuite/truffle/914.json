{
  "url": "https://api.github.com/repos/trufflesuite/truffle/issues/914",
  "repository_url": "https://api.github.com/repos/trufflesuite/truffle",
  "labels_url": "https://api.github.com/repos/trufflesuite/truffle/issues/914/labels{/name}",
  "comments_url": "https://api.github.com/repos/trufflesuite/truffle/issues/914/comments",
  "events_url": "https://api.github.com/repos/trufflesuite/truffle/issues/914/events",
  "html_url": "https://github.com/trufflesuite/truffle/issues/914",
  "id": 317067869,
  "node_id": "MDU6SXNzdWUzMTcwNjc4Njk=",
  "number": 914,
  "title": "Error with `from` in tests",
  "user": {
    "login": "auser",
    "id": 529,
    "node_id": "MDQ6VXNlcjUyOQ==",
    "avatar_url": "https://avatars.githubusercontent.com/u/529?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/auser",
    "html_url": "https://github.com/auser",
    "followers_url": "https://api.github.com/users/auser/followers",
    "following_url": "https://api.github.com/users/auser/following{/other_user}",
    "gists_url": "https://api.github.com/users/auser/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/auser/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/auser/subscriptions",
    "organizations_url": "https://api.github.com/users/auser/orgs",
    "repos_url": "https://api.github.com/users/auser/repos",
    "events_url": "https://api.github.com/users/auser/events{/privacy}",
    "received_events_url": "https://api.github.com/users/auser/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 22,
  "created_at": "2018-04-24T04:39:41Z",
  "updated_at": "2018-04-26T21:05:58Z",
  "closed_at": "2018-04-24T19:48:49Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "- [x] I've asked for help in the [Truffle Gitter](http://gitter.im/Consensys/truffle) before filing this issue.\r\n\r\n---------------------------\r\n\r\n## Issue\r\n\r\nWhen running tests with the `{from: account}` is ignored in tests. I have debugged it through the `SolidityFunction.prototype.sendTransaction` function where there are _two_ options objects with the argument I pass in the test and the default options (I assume).\r\n\r\nRegardless, the `{from: account}` is ignored (see the github repo below).\r\n\r\nMore debugging. I updated the `sendTransaction()` function with a `console.log`:\r\n\r\n```javascript\r\nSolidityFunction.prototype.execute = function () {\r\n    var transaction = !this._constant;\r\n\r\n\tconsole.log('execute ------->', transaction, Array.prototype.slice.call(arguments))\r\n\r\n    // send transaction\r\n    if (transaction) {\r\n        return this.sendTransaction.apply(this, Array.prototype.slice.call(arguments));\r\n    }\r\n\r\n    // call\r\n    return this.call.apply(this, Array.prototype.slice.call(arguments));\r\n};\r\n```\r\n\r\nThis results in: ![](https://d.pr/i/2eyiQF.png)\r\n\r\nNotice the second `{from}` options object. The first `{from}` options object contains the address I am passing in while the second one contains the `accounts[0]` address.\r\n\r\n## Steps to Reproduce\r\n\r\n```bash\r\ngit clone https://github.com/auser/truffle-bug\r\nnpm install\r\n```\r\n\r\nIn one terminal, run `ganache`:\r\n\r\n```bash\r\nnpm run ganache\r\n```\r\nIn another, run the test:\r\n\r\n```bash\r\n./node_modules/.bin/truffle test --network development test/multisig/testMultiSig.js\r\n```\r\n\r\n## Expected Behavior\r\n\r\nI expect the `msg.sender` address to be the address I pass in instead of the default account (`accounts[0]`). \r\n\r\n## Actual Results\r\n\r\nThe `msg.sender` value is the default account (`accounts[0]`) instead of the address I pass in using the `from` option.\r\n\r\n## Environment\r\n\r\n* Operating System: OSX High Sierra\r\n* Ethereum client: truffle test\r\n* Truffle version (`truffle version`):\r\nTruffle v4.1.5 (core: 4.1.5)\r\nSolidity v0.4.21 (solc-js)\r\n* node version (`node --version`):\r\nv9.5.0\r\n* npm version (`npm --version`): 5.8.0\r\n\r\n",
  "closed_by": {
    "login": "auser",
    "id": 529,
    "node_id": "MDQ6VXNlcjUyOQ==",
    "avatar_url": "https://avatars.githubusercontent.com/u/529?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/auser",
    "html_url": "https://github.com/auser",
    "followers_url": "https://api.github.com/users/auser/followers",
    "following_url": "https://api.github.com/users/auser/following{/other_user}",
    "gists_url": "https://api.github.com/users/auser/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/auser/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/auser/subscriptions",
    "organizations_url": "https://api.github.com/users/auser/orgs",
    "repos_url": "https://api.github.com/users/auser/repos",
    "events_url": "https://api.github.com/users/auser/events{/privacy}",
    "received_events_url": "https://api.github.com/users/auser/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/914/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/trufflesuite/truffle/issues/914/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/383972942",
    "html_url": "https://github.com/trufflesuite/truffle/issues/914#issuecomment-383972942",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/914",
    "id": 383972942,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4Mzk3Mjk0Mg==",
    "user": {
      "login": "cgewecke",
      "id": 7332026,
      "node_id": "MDQ6VXNlcjczMzIwMjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7332026?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cgewecke",
      "html_url": "https://github.com/cgewecke",
      "followers_url": "https://api.github.com/users/cgewecke/followers",
      "following_url": "https://api.github.com/users/cgewecke/following{/other_user}",
      "gists_url": "https://api.github.com/users/cgewecke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cgewecke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cgewecke/subscriptions",
      "organizations_url": "https://api.github.com/users/cgewecke/orgs",
      "repos_url": "https://api.github.com/users/cgewecke/repos",
      "events_url": "https://api.github.com/users/cgewecke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cgewecke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-04-24T15:21:56Z",
    "updated_at": "2018-04-24T15:21:56Z",
    "author_association": "CONTRIBUTOR",
    "body": "@auser I made a simple test case to try and reproduce but got expected behavior:\r\n\r\n**Contract**\r\n```javascript\r\npragma solidity ^0.4.21;\r\n\r\ncontract Senders {\r\n  event IdentityOfSender(address sender);\r\n\r\n  function who() public {\r\n    emit IdentityOfSender(msg.sender);\r\n  }\r\n}\r\n```\r\n\r\n**Tests**\r\n```javascript\r\nconst Senders = artifacts.require('Senders');\r\n\r\ncontract('Senders', function(accounts){\r\n  let instance;\r\n\r\n  before(async () => instance = await Senders.new());\r\n\r\n  it('should send from account[0]', async function(){\r\n    const result = await instance.who();  // <--- No `from` param, uses account[0]\r\n    assert(result.logs[0].args.sender === accounts[0])\r\n  });\r\n\r\n  it('should send from account[1]', async function(){\r\n    const result = await instance.who({from: accounts[1]});\r\n    assert(result.logs[0].args.sender === accounts[1])\r\n  })\r\n})\r\n```\r\n\r\nIf you have a chance could you identify what is different about your case from the case above?",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/383972942/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/383977258",
    "html_url": "https://github.com/trufflesuite/truffle/issues/914#issuecomment-383977258",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/914",
    "id": 383977258,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4Mzk3NzI1OA==",
    "user": {
      "login": "auser",
      "id": 529,
      "node_id": "MDQ6VXNlcjUyOQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/529?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/auser",
      "html_url": "https://github.com/auser",
      "followers_url": "https://api.github.com/users/auser/followers",
      "following_url": "https://api.github.com/users/auser/following{/other_user}",
      "gists_url": "https://api.github.com/users/auser/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/auser/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/auser/subscriptions",
      "organizations_url": "https://api.github.com/users/auser/orgs",
      "repos_url": "https://api.github.com/users/auser/repos",
      "events_url": "https://api.github.com/users/auser/events{/privacy}",
      "received_events_url": "https://api.github.com/users/auser/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-04-24T15:34:08Z",
    "updated_at": "2018-04-24T15:34:08Z",
    "author_association": "NONE",
    "body": "If you clone the repo, the issue occurs in there and itâ€™s been reproduced by @emmonspired in the gitter channel. \r\n\r\nDid you see the screenshot from above describing the issue? It seems the second from object overwrites the first. ",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/383977258/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/383980818",
    "html_url": "https://github.com/trufflesuite/truffle/issues/914#issuecomment-383980818",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/914",
    "id": 383980818,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4Mzk4MDgxOA==",
    "user": {
      "login": "cgewecke",
      "id": 7332026,
      "node_id": "MDQ6VXNlcjczMzIwMjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7332026?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cgewecke",
      "html_url": "https://github.com/cgewecke",
      "followers_url": "https://api.github.com/users/cgewecke/followers",
      "following_url": "https://api.github.com/users/cgewecke/following{/other_user}",
      "gists_url": "https://api.github.com/users/cgewecke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cgewecke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cgewecke/subscriptions",
      "organizations_url": "https://api.github.com/users/cgewecke/orgs",
      "repos_url": "https://api.github.com/users/cgewecke/repos",
      "events_url": "https://api.github.com/users/cgewecke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cgewecke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-04-24T15:43:57Z",
    "updated_at": "2018-04-24T15:43:57Z",
    "author_association": "CONTRIBUTOR",
    "body": "@auser Why are there two `from` objects? I'm having trouble understanding where this problem originates. The `truffle-contract` behavior seems correct.  Could you try to reproduce this using the simplest possible example so we can isolate the source of the issue?",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/383980818/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/383981989",
    "html_url": "https://github.com/trufflesuite/truffle/issues/914#issuecomment-383981989",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/914",
    "id": 383981989,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4Mzk4MTk4OQ==",
    "user": {
      "login": "auser",
      "id": 529,
      "node_id": "MDQ6VXNlcjUyOQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/529?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/auser",
      "html_url": "https://github.com/auser",
      "followers_url": "https://api.github.com/users/auser/followers",
      "following_url": "https://api.github.com/users/auser/following{/other_user}",
      "gists_url": "https://api.github.com/users/auser/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/auser/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/auser/subscriptions",
      "organizations_url": "https://api.github.com/users/auser/orgs",
      "repos_url": "https://api.github.com/users/auser/repos",
      "events_url": "https://api.github.com/users/auser/events{/privacy}",
      "received_events_url": "https://api.github.com/users/auser/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-04-24T15:47:27Z",
    "updated_at": "2018-04-24T15:47:27Z",
    "author_association": "NONE",
    "body": "@cgewecke I'm not sure why there are two from objects... that was from me digging into the compiled/bundled source of truffle to try to find out what is going on.\r\n\r\nThere is a single contract in the repo with a test case that demonstrates the issue (https://github.com/auser/truffle-bug/blob/master/contracts/multiSig/MultiSig.sol#L152). ",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/383981989/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/383983513",
    "html_url": "https://github.com/trufflesuite/truffle/issues/914#issuecomment-383983513",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/914",
    "id": 383983513,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4Mzk4MzUxMw==",
    "user": {
      "login": "cgewecke",
      "id": 7332026,
      "node_id": "MDQ6VXNlcjczMzIwMjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7332026?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cgewecke",
      "html_url": "https://github.com/cgewecke",
      "followers_url": "https://api.github.com/users/cgewecke/followers",
      "following_url": "https://api.github.com/users/cgewecke/following{/other_user}",
      "gists_url": "https://api.github.com/users/cgewecke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cgewecke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cgewecke/subscriptions",
      "organizations_url": "https://api.github.com/users/cgewecke/orgs",
      "repos_url": "https://api.github.com/users/cgewecke/repos",
      "events_url": "https://api.github.com/users/cgewecke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cgewecke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-04-24T15:52:00Z",
    "updated_at": "2018-04-24T15:52:00Z",
    "author_association": "CONTRIBUTOR",
    "body": "> Could you try to reproduce this using the simplest possible example so we can isolate the source of the issue?\r\n\r\nThere isn't a shortcut here I'm sorry - you have a simple example in my response above. Modify it to reproduce, thank you. ",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/383983513/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/383985047",
    "html_url": "https://github.com/trufflesuite/truffle/issues/914#issuecomment-383985047",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/914",
    "id": 383985047,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4Mzk4NTA0Nw==",
    "user": {
      "login": "auser",
      "id": 529,
      "node_id": "MDQ6VXNlcjUyOQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/529?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/auser",
      "html_url": "https://github.com/auser",
      "followers_url": "https://api.github.com/users/auser/followers",
      "following_url": "https://api.github.com/users/auser/following{/other_user}",
      "gists_url": "https://api.github.com/users/auser/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/auser/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/auser/subscriptions",
      "organizations_url": "https://api.github.com/users/auser/orgs",
      "repos_url": "https://api.github.com/users/auser/repos",
      "events_url": "https://api.github.com/users/auser/events{/privacy}",
      "received_events_url": "https://api.github.com/users/auser/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-04-24T15:56:01Z",
    "updated_at": "2018-04-24T16:22:41Z",
    "author_association": "NONE",
    "body": "@cgewecke okay, I created a branch called `simplification` (https://github.com/auser/truffle-bug/tree/simplification) that reproduces the behavior. \r\n\r\nThe contract method:\r\n\r\n```solidity\r\npragma solidity ^0.4.18;\r\n\r\ncontract MultiSig {\r\n    event MultiSigSigned(uint index, address signer);\r\n\r\n    function sign(uint index)\r\n        public\r\n    {\r\n        emit MultiSigSigned(index, msg.sender);\r\n    }\r\n}\r\n```\r\n\r\nThe javascript test:\r\n\r\n```javascript\r\nconst th = require('../lib/testHelper');\r\nconst should = th.should();\r\n\r\nconst MultiSig = artifacts.require('./MultiSig');\r\n\r\ncontract('MultiSig', ([owner, user1]) => {\r\n  let multisig;\r\n\r\n  beforeEach(async () => {\r\n    multisig = await MultiSig.new();\r\n  });\r\n\r\n  describe('events', async () => {\r\n\r\n    it('fires MultiSigSigned when signed', async () => {\r\n      const {logs} = await multisig.sign(0, {from: user1});\r\n      logs.length.should.equal(1);\r\n      logs[0].event.should.equal('MultiSigSigned');\r\n      logs[0].args.index.should.be.bignumber.equal(0);\r\n\r\n      logs[0].args.signer.should.equal(user1);\r\n    });\r\n\r\n  });\r\n});\r\n```\r\n\r\nIn addition, I'm using the local truffle version from the repo (`./node_modules/.bin/truffle test --network development test/multisig/testMultiSig.js`)\r\n\r\n```\r\nTruffle v4.1.7 (core: 4.1.7)\r\nSolidity v0.4.23 (solc-js)\r\n```\r\n\r\nAnd the issue occurs on my globally installed truffle (`truffle test --network development test/multisig/testMultiSig.js`):\r\n\r\n```\r\nTruffle v4.1.5 (core: 4.1.5)\r\nSolidity v0.4.21 (solc-js)\r\n```\r\n\r\nFYI: I'm not trying to find a shortcut here, hence why I created a repo to demonstrate the issue. I wanted a way to demonstrate the issue in a reproducible way.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/383985047/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/384013264",
    "html_url": "https://github.com/trufflesuite/truffle/issues/914#issuecomment-384013264",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/914",
    "id": 384013264,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4NDAxMzI2NA==",
    "user": {
      "login": "auser",
      "id": 529,
      "node_id": "MDQ6VXNlcjUyOQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/529?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/auser",
      "html_url": "https://github.com/auser",
      "followers_url": "https://api.github.com/users/auser/followers",
      "following_url": "https://api.github.com/users/auser/following{/other_user}",
      "gists_url": "https://api.github.com/users/auser/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/auser/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/auser/subscriptions",
      "organizations_url": "https://api.github.com/users/auser/orgs",
      "repos_url": "https://api.github.com/users/auser/repos",
      "events_url": "https://api.github.com/users/auser/events{/privacy}",
      "received_events_url": "https://api.github.com/users/auser/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-04-24T17:23:02Z",
    "updated_at": "2018-04-24T17:23:02Z",
    "author_association": "NONE",
    "body": "Bump: @cgewecke any idea?",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/384013264/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/384014056",
    "html_url": "https://github.com/trufflesuite/truffle/issues/914#issuecomment-384014056",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/914",
    "id": 384014056,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4NDAxNDA1Ng==",
    "user": {
      "login": "cgewecke",
      "id": 7332026,
      "node_id": "MDQ6VXNlcjczMzIwMjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7332026?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cgewecke",
      "html_url": "https://github.com/cgewecke",
      "followers_url": "https://api.github.com/users/cgewecke/followers",
      "following_url": "https://api.github.com/users/cgewecke/following{/other_user}",
      "gists_url": "https://api.github.com/users/cgewecke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cgewecke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cgewecke/subscriptions",
      "organizations_url": "https://api.github.com/users/cgewecke/orgs",
      "repos_url": "https://api.github.com/users/cgewecke/repos",
      "events_url": "https://api.github.com/users/cgewecke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cgewecke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-04-24T17:25:25Z",
    "updated_at": "2018-04-24T17:25:25Z",
    "author_association": "CONTRIBUTOR",
    "body": "@auser Thanks! That looks good - it's going a bit before I can get back to this, this morning. Apologies",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/384014056/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/384017377",
    "html_url": "https://github.com/trufflesuite/truffle/issues/914#issuecomment-384017377",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/914",
    "id": 384017377,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4NDAxNzM3Nw==",
    "user": {
      "login": "auser",
      "id": 529,
      "node_id": "MDQ6VXNlcjUyOQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/529?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/auser",
      "html_url": "https://github.com/auser",
      "followers_url": "https://api.github.com/users/auser/followers",
      "following_url": "https://api.github.com/users/auser/following{/other_user}",
      "gists_url": "https://api.github.com/users/auser/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/auser/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/auser/subscriptions",
      "organizations_url": "https://api.github.com/users/auser/orgs",
      "repos_url": "https://api.github.com/users/auser/repos",
      "events_url": "https://api.github.com/users/auser/events{/privacy}",
      "received_events_url": "https://api.github.com/users/auser/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-04-24T17:35:59Z",
    "updated_at": "2018-04-24T18:56:00Z",
    "author_association": "NONE",
    "body": "@cgewecke okay... anything I can look at while you're gone. This is really kind of a blocker for me right now :(\r\n\r\nA little more digging into the `SolidityFunction.prototype.sendTransaction` function seems like it's getting called with three arguments where the last object takes precedence over the first several:\r\n\r\n```bash\r\n# from console.log(payload, arguments)\r\n{ '0': 0,\r\n  '1': { from: '0x6704fbfcd5ef766b287262fa2281c105d57246a6' },\r\n  '2': \r\n   { from: '0xdf08f82de32b8d460adbe8d72043e3a7e25a3b39',\r\n     gas: 6721975,\r\n     gasPrice: 100000000000,\r\n     to: '0x9b557777be33a8a2fe6af93e017a0d139b439e5d',\r\n     data: '0x2fb1b25f0000000000000000000000000000000000000000000000000000000000000000' }\r\n```\r\n\r\nYeah, I believe I found where the error is occurring, but I'm not sure what the fix would be. It's happening in `SolidityFunction.prototype.sendTransaction()` on this line:\r\n\r\n```javascript\r\nSolidityFunction.prototype.toPayload = function (args) {\r\n    var options = {};\r\n\r\n    /// <!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\r\n    // There are _two_ objects passed in in the `args` variable here and only the last one\r\n    // is taken as the `options` return value\r\n    if (args.length > this._inputTypes.length && utils.isObject(args[args.length -1])) {\r\n        options = args[args.length - 1];\r\n    }\r\n    // !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\r\n    this.validateArgs(args);\r\n    options.to = this._address;\r\n    options.data = '0x' + this.signature() + coder.encodeParams(this._inputTypes, args);\r\n\r\n    return options;\r\n};\r\n\r\n```\r\n\r\n![](https://d.pr/i/qJQ7yj.png)\r\n\r\nWould the fix be allowing the second **two** arguments be object options and merging them in as a single argument? Are there any adverse side-effects this could have that I'm not considering?\r\n\r\nAlternatively, you could merge all of the option objects in that function, the earlier objects taking precedence over the later ones. \r\n\r\n## Update: Proposed solution\r\n\r\n```javascript\r\n/**\r\n * Should be used to create payload from arguments\r\n *\r\n * @method toPayload\r\n * @param {Array} solidity function params\r\n * @param {Object} optional payload options\r\n */\r\nSolidityFunction.prototype.toPayload = function (args) {\r\n    var options = {};\r\n    if (args.length > this._inputTypes.length && utils.isObject(args[args.length -1])) {\r\n\t\toptions = args.reduceRight(function(sum, arg) {\r\n\t\t\treturn (utils.isObject(arg) ? Object.assign(sum, arg) : sum);\r\n\t\t}, {})\r\n        // options = args[args.length - 1];\r\n    }\r\n    this.validateArgs(args);\r\n    options.to = this._address;\r\n    options.data = '0x' + this.signature() + coder.encodeParams(this._inputTypes, args);\r\n\r\n    return options;\r\n};\r\n```\r\n\r\n(This, by the way fixes the issue for me)",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/384017377/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/384050317",
    "html_url": "https://github.com/trufflesuite/truffle/issues/914#issuecomment-384050317",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/914",
    "id": 384050317,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4NDA1MDMxNw==",
    "user": {
      "login": "cgewecke",
      "id": 7332026,
      "node_id": "MDQ6VXNlcjczMzIwMjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7332026?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cgewecke",
      "html_url": "https://github.com/cgewecke",
      "followers_url": "https://api.github.com/users/cgewecke/followers",
      "following_url": "https://api.github.com/users/cgewecke/following{/other_user}",
      "gists_url": "https://api.github.com/users/cgewecke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cgewecke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cgewecke/subscriptions",
      "organizations_url": "https://api.github.com/users/cgewecke/orgs",
      "repos_url": "https://api.github.com/users/cgewecke/repos",
      "events_url": "https://api.github.com/users/cgewecke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cgewecke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-04-24T19:24:04Z",
    "updated_at": "2018-04-24T19:24:33Z",
    "author_association": "CONTRIBUTOR",
    "body": "@auser I ran your example, modifying it slightly as below. (Have left the `.sol` untouched)\r\n```javascript\r\nconst MultiSig = artifacts.require('./MultiSig');\r\n\r\ncontract('MultiSig', ([owner, user1]) => {\r\n  let multisig;\r\n\r\n  beforeEach(async () => {\r\n    multisig = await MultiSig.new();\r\n  });\r\n\r\n  describe('events', async () => {\r\n\r\n    it('fires MultiSigSigned when signed', async () => {\r\n      const {logs} = await multisig.sign(0, {from: user1});\r\n      console.log('owner --> ' + owner);\r\n      console.log('user1 --> ' + user1);\r\n      console.log('Logs --> ' + JSON.stringify(logs, null, ' '));\r\n    });\r\n\r\n  });\r\n});\r\n```\r\n**Output**\r\n```javascript\r\nowner --> 0x627306090abab3a6e1400e9345bc60c78a8bef57\r\nuser1 --> 0xf17f52151ebef6c7334fad080c5704d77216b732\r\nLogs --> [\r\n {\r\n  \"logIndex\": 0,\r\n  \"transactionIndex\": 0,\r\n  \"transactionHash\": \"0x34c2a5a2f0cf70bfa51a082464971d740945641b8f89ca11e7f8cd2467ab0cf6\",\r\n  \"blockHash\": \"0xe0e10452242bf3a2f6cd9e2f11d7b4eaed9341b6a6e78b62b51a51e2f8e786c4\",\r\n  \"blockNumber\": 4,\r\n  \"address\": \"0x345ca3e014aaf5dca488057592ee47305d9b3e10\",\r\n  \"type\": \"mined\",\r\n  \"event\": \"MultiSigSigned\",\r\n  \"args\": {\r\n   \"index\": \"0\",\r\n   \"signer\": \"0xf17f52151ebef6c7334fad080c5704d77216b732\"\r\n  }\r\n }\r\n]\r\n```\r\n\r\nThis looks correct to me. Output is the same on `4.1.5` and `4.1.7`. Is it possible that one of your versions has broken during debugging? Another possibility is that I'm running the default ganache-client (with deterministic addresses) and you're launching it separately and specifying duplicate addresses? ",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/384050317/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/384051754",
    "html_url": "https://github.com/trufflesuite/truffle/issues/914#issuecomment-384051754",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/914",
    "id": 384051754,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4NDA1MTc1NA==",
    "user": {
      "login": "auser",
      "id": 529,
      "node_id": "MDQ6VXNlcjUyOQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/529?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/auser",
      "html_url": "https://github.com/auser",
      "followers_url": "https://api.github.com/users/auser/followers",
      "following_url": "https://api.github.com/users/auser/following{/other_user}",
      "gists_url": "https://api.github.com/users/auser/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/auser/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/auser/subscriptions",
      "organizations_url": "https://api.github.com/users/auser/orgs",
      "repos_url": "https://api.github.com/users/auser/repos",
      "events_url": "https://api.github.com/users/auser/events{/privacy}",
      "received_events_url": "https://api.github.com/users/auser/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-04-24T19:29:09Z",
    "updated_at": "2018-04-24T19:30:01Z",
    "author_association": "NONE",
    "body": "Yeah, I'm running ganache as a server (https://github.com/auser/truffle-bug/blob/master/ganache.js and https://github.com/auser/truffle-bug/blob/master/scripts/ganache-cli.js) with deterministic addresses as well. Hm.\r\n\r\nAnd I'm only editing the `node_modules/truffle/build/cli.bundled.js` file in repo, which doesn't touch the global one. This debug repo is a clone ish of my other repo where I first noticed this error.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/384051754/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/384053262",
    "html_url": "https://github.com/trufflesuite/truffle/issues/914#issuecomment-384053262",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/914",
    "id": 384053262,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4NDA1MzI2Mg==",
    "user": {
      "login": "auser",
      "id": 529,
      "node_id": "MDQ6VXNlcjUyOQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/529?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/auser",
      "html_url": "https://github.com/auser",
      "followers_url": "https://api.github.com/users/auser/followers",
      "following_url": "https://api.github.com/users/auser/following{/other_user}",
      "gists_url": "https://api.github.com/users/auser/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/auser/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/auser/subscriptions",
      "organizations_url": "https://api.github.com/users/auser/orgs",
      "repos_url": "https://api.github.com/users/auser/repos",
      "events_url": "https://api.github.com/users/auser/events{/privacy}",
      "received_events_url": "https://api.github.com/users/auser/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-04-24T19:34:24Z",
    "updated_at": "2018-04-24T19:34:24Z",
    "author_association": "NONE",
    "body": "I think the error really has to do with the fact that _two_ objects are being passed in as `arguments`. \r\n\r\nThe output of `Array.prototype.slice.call(arguments)` is:\r\n\r\n```javascript\r\n/**\r\nSolidityFunction.prototype.execute = function () {\r\n    var transaction = !this._constant;\r\n\r\n\tconsole.log('execute ------->', transaction, Array.prototype.slice.call(arguments))\r\n\r\n    // send transaction\r\n    if (transaction) {\r\n        return this.sendTransaction.apply(this, Array.prototype.slice.call(arguments));\r\n    }\r\n\r\n    // call\r\n    return this.call.apply(this, Array.prototype.slice.call(arguments));\r\n}; \r\n**/\r\nexecute -------> true [ 0,\r\n  { from: '0x6704fbfcd5ef766b287262fa2281c105d57246a6' },\r\n  { from: '0xdf08f82de32b8d460adbe8d72043e3a7e25a3b39',\r\n    gas: 6721975,\r\n    gasPrice: 100000000000 },\r\n  [Function: callback] ]\r\n```\r\n\r\nAnd the `sendTransaction()` payload:\r\n\r\n```javascript\r\n{ from: '0xdf08f82de32b8d460adbe8d72043e3a7e25a3b39',\r\n  gas: 6721975,\r\n  gasPrice: 100000000000,\r\n  to: '0xa6421a7f48498cee3aeb6428a8a2dd5faa3ace2f',\r\n  data: '0x2fb1b25f0000000000000000000000000000000000000000000000000000000000000000' }\r\n```\r\n\r\nNotice the `{from: address}` resolves to the latter object vs. the one I passed in (I think the latter object is like default options?).",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/384053262/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/384053750",
    "html_url": "https://github.com/trufflesuite/truffle/issues/914#issuecomment-384053750",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/914",
    "id": 384053750,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4NDA1Mzc1MA==",
    "user": {
      "login": "cgewecke",
      "id": 7332026,
      "node_id": "MDQ6VXNlcjczMzIwMjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7332026?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cgewecke",
      "html_url": "https://github.com/cgewecke",
      "followers_url": "https://api.github.com/users/cgewecke/followers",
      "following_url": "https://api.github.com/users/cgewecke/following{/other_user}",
      "gists_url": "https://api.github.com/users/cgewecke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cgewecke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cgewecke/subscriptions",
      "organizations_url": "https://api.github.com/users/cgewecke/orgs",
      "repos_url": "https://api.github.com/users/cgewecke/repos",
      "events_url": "https://api.github.com/users/cgewecke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cgewecke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-04-24T19:36:14Z",
    "updated_at": "2018-04-24T19:36:14Z",
    "author_association": "CONTRIBUTOR",
    "body": "@auser That makes sense, but it's just not clear how you're getting into that state. Your test case seems to run ok. . . ",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/384053750/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/384053869",
    "html_url": "https://github.com/trufflesuite/truffle/issues/914#issuecomment-384053869",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/914",
    "id": 384053869,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4NDA1Mzg2OQ==",
    "user": {
      "login": "auser",
      "id": 529,
      "node_id": "MDQ6VXNlcjUyOQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/529?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/auser",
      "html_url": "https://github.com/auser",
      "followers_url": "https://api.github.com/users/auser/followers",
      "following_url": "https://api.github.com/users/auser/following{/other_user}",
      "gists_url": "https://api.github.com/users/auser/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/auser/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/auser/subscriptions",
      "organizations_url": "https://api.github.com/users/auser/orgs",
      "repos_url": "https://api.github.com/users/auser/repos",
      "events_url": "https://api.github.com/users/auser/events{/privacy}",
      "received_events_url": "https://api.github.com/users/auser/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-04-24T19:36:38Z",
    "updated_at": "2018-04-24T19:36:38Z",
    "author_association": "NONE",
    "body": "Also, @cgewecke is the non-bundled source open-source?",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/384053869/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/384053993",
    "html_url": "https://github.com/trufflesuite/truffle/issues/914#issuecomment-384053993",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/914",
    "id": 384053993,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4NDA1Mzk5Mw==",
    "user": {
      "login": "auser",
      "id": 529,
      "node_id": "MDQ6VXNlcjUyOQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/529?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/auser",
      "html_url": "https://github.com/auser",
      "followers_url": "https://api.github.com/users/auser/followers",
      "following_url": "https://api.github.com/users/auser/following{/other_user}",
      "gists_url": "https://api.github.com/users/auser/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/auser/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/auser/subscriptions",
      "organizations_url": "https://api.github.com/users/auser/orgs",
      "repos_url": "https://api.github.com/users/auser/repos",
      "events_url": "https://api.github.com/users/auser/events{/privacy}",
      "received_events_url": "https://api.github.com/users/auser/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-04-24T19:37:02Z",
    "updated_at": "2018-04-24T19:37:02Z",
    "author_association": "NONE",
    "body": "@cgewecke yeah, I'm not sure... why would there be _two_ objects being passed in as `arguments`? Is that intentional?",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/384053993/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/384054867",
    "html_url": "https://github.com/trufflesuite/truffle/issues/914#issuecomment-384054867",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/914",
    "id": 384054867,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4NDA1NDg2Nw==",
    "user": {
      "login": "cgewecke",
      "id": 7332026,
      "node_id": "MDQ6VXNlcjczMzIwMjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7332026?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cgewecke",
      "html_url": "https://github.com/cgewecke",
      "followers_url": "https://api.github.com/users/cgewecke/followers",
      "following_url": "https://api.github.com/users/cgewecke/following{/other_user}",
      "gists_url": "https://api.github.com/users/cgewecke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cgewecke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cgewecke/subscriptions",
      "organizations_url": "https://api.github.com/users/cgewecke/orgs",
      "repos_url": "https://api.github.com/users/cgewecke/repos",
      "events_url": "https://api.github.com/users/cgewecke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cgewecke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-04-24T19:40:24Z",
    "updated_at": "2018-04-24T19:40:57Z",
    "author_association": "CONTRIBUTOR",
    "body": "Yes everything's open-source, the bundle is just a webpack of the entire project. I think you're looking at the wrong level. You've modified the source somewhere, but another person with a clean truffle can't reproduce the problem with your test. Rip out truffle and put it back in again?",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/384054867/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/384055106",
    "html_url": "https://github.com/trufflesuite/truffle/issues/914#issuecomment-384055106",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/914",
    "id": 384055106,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4NDA1NTEwNg==",
    "user": {
      "login": "auser",
      "id": 529,
      "node_id": "MDQ6VXNlcjUyOQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/529?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/auser",
      "html_url": "https://github.com/auser",
      "followers_url": "https://api.github.com/users/auser/followers",
      "following_url": "https://api.github.com/users/auser/following{/other_user}",
      "gists_url": "https://api.github.com/users/auser/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/auser/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/auser/subscriptions",
      "organizations_url": "https://api.github.com/users/auser/orgs",
      "repos_url": "https://api.github.com/users/auser/repos",
      "events_url": "https://api.github.com/users/auser/events{/privacy}",
      "received_events_url": "https://api.github.com/users/auser/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-04-24T19:41:16Z",
    "updated_at": "2018-04-24T19:41:16Z",
    "author_association": "NONE",
    "body": "@cgewecke I know, I was digging through it to try to find the issue. ",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/384055106/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/384055764",
    "html_url": "https://github.com/trufflesuite/truffle/issues/914#issuecomment-384055764",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/914",
    "id": 384055764,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4NDA1NTc2NA==",
    "user": {
      "login": "auser",
      "id": 529,
      "node_id": "MDQ6VXNlcjUyOQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/529?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/auser",
      "html_url": "https://github.com/auser",
      "followers_url": "https://api.github.com/users/auser/followers",
      "following_url": "https://api.github.com/users/auser/following{/other_user}",
      "gists_url": "https://api.github.com/users/auser/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/auser/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/auser/subscriptions",
      "organizations_url": "https://api.github.com/users/auser/orgs",
      "repos_url": "https://api.github.com/users/auser/repos",
      "events_url": "https://api.github.com/users/auser/events{/privacy}",
      "received_events_url": "https://api.github.com/users/auser/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-04-24T19:43:33Z",
    "updated_at": "2018-04-24T19:43:33Z",
    "author_association": "NONE",
    "body": "@cgewecke I've removed my `node_modules/` and reinstalled. I've also copied and pasted your test code over mine and the issue is still happening. Could this be a ganache issue?\r\n\r\n![](https://d.pr/i/wUYx4O.png)\r\n\r\nI know it's working for you, but definitely not working for me (cleaned truffle install).",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/384055764/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/384057222",
    "html_url": "https://github.com/trufflesuite/truffle/issues/914#issuecomment-384057222",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/914",
    "id": 384057222,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4NDA1NzIyMg==",
    "user": {
      "login": "auser",
      "id": 529,
      "node_id": "MDQ6VXNlcjUyOQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/529?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/auser",
      "html_url": "https://github.com/auser",
      "followers_url": "https://api.github.com/users/auser/followers",
      "following_url": "https://api.github.com/users/auser/following{/other_user}",
      "gists_url": "https://api.github.com/users/auser/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/auser/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/auser/subscriptions",
      "organizations_url": "https://api.github.com/users/auser/orgs",
      "repos_url": "https://api.github.com/users/auser/repos",
      "events_url": "https://api.github.com/users/auser/events{/privacy}",
      "received_events_url": "https://api.github.com/users/auser/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-04-24T19:48:49Z",
    "updated_at": "2018-04-24T19:48:49Z",
    "author_association": "NONE",
    "body": "@cgewecke I think I found an issue? When I remove the line:\r\n\r\n```javascript\r\nBigNumber.config({ ERRORS: false, ROUNDING_MODE: BigNumber.ROUND_UP })\r\n```\r\nfrom my `test/lib/testHelper.js` it works... what the heck? Why would that break it?\r\n\r\nApologies... I'm not sure why that would have any affect? Thanks for your help... I'm so confused. Why would `BigNumber` in chai have any non-sense with how arguments are received in truffle contracts... \r\n\r\nI'll close this due to the fact that it's a local setup issue. I think?",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/384057222/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/384057828",
    "html_url": "https://github.com/trufflesuite/truffle/issues/914#issuecomment-384057828",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/914",
    "id": 384057828,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4NDA1NzgyOA==",
    "user": {
      "login": "cgewecke",
      "id": 7332026,
      "node_id": "MDQ6VXNlcjczMzIwMjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7332026?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cgewecke",
      "html_url": "https://github.com/cgewecke",
      "followers_url": "https://api.github.com/users/cgewecke/followers",
      "following_url": "https://api.github.com/users/cgewecke/following{/other_user}",
      "gists_url": "https://api.github.com/users/cgewecke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cgewecke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cgewecke/subscriptions",
      "organizations_url": "https://api.github.com/users/cgewecke/orgs",
      "repos_url": "https://api.github.com/users/cgewecke/repos",
      "events_url": "https://api.github.com/users/cgewecke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cgewecke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-04-24T19:50:45Z",
    "updated_at": "2018-04-24T19:50:45Z",
    "author_association": "CONTRIBUTOR",
    "body": "Oh yeah that's super weird! No worries, glad it worked.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/384057828/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/384780341",
    "html_url": "https://github.com/trufflesuite/truffle/issues/914#issuecomment-384780341",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/914",
    "id": 384780341,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4NDc4MDM0MQ==",
    "user": {
      "login": "emmonspired",
      "id": 25904353,
      "node_id": "MDQ6VXNlcjI1OTA0MzUz",
      "avatar_url": "https://avatars.githubusercontent.com/u/25904353?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/emmonspired",
      "html_url": "https://github.com/emmonspired",
      "followers_url": "https://api.github.com/users/emmonspired/followers",
      "following_url": "https://api.github.com/users/emmonspired/following{/other_user}",
      "gists_url": "https://api.github.com/users/emmonspired/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/emmonspired/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/emmonspired/subscriptions",
      "organizations_url": "https://api.github.com/users/emmonspired/orgs",
      "repos_url": "https://api.github.com/users/emmonspired/repos",
      "events_url": "https://api.github.com/users/emmonspired/events{/privacy}",
      "received_events_url": "https://api.github.com/users/emmonspired/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-04-26T20:35:17Z",
    "updated_at": "2018-04-26T20:35:17Z",
    "author_association": "NONE",
    "body": "Very confusing why the line with BigNumber would have any effect @auser - was there any more clarity that came from this @cgewecke ?\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/384780341/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/384788895",
    "html_url": "https://github.com/trufflesuite/truffle/issues/914#issuecomment-384788895",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/914",
    "id": 384788895,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4NDc4ODg5NQ==",
    "user": {
      "login": "cgewecke",
      "id": 7332026,
      "node_id": "MDQ6VXNlcjczMzIwMjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7332026?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cgewecke",
      "html_url": "https://github.com/cgewecke",
      "followers_url": "https://api.github.com/users/cgewecke/followers",
      "following_url": "https://api.github.com/users/cgewecke/following{/other_user}",
      "gists_url": "https://api.github.com/users/cgewecke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cgewecke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cgewecke/subscriptions",
      "organizations_url": "https://api.github.com/users/cgewecke/orgs",
      "repos_url": "https://api.github.com/users/cgewecke/repos",
      "events_url": "https://api.github.com/users/cgewecke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cgewecke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-04-26T21:05:58Z",
    "updated_at": "2018-04-26T21:05:58Z",
    "author_association": "CONTRIBUTOR",
    "body": "@emmonspired No, I'm not sure what's going on here. If you discover something please report. It's possible there's a compatibility issue between `chai-bignumber` (at some version) and truffle. Zeppelin is [using](https://github.com/OpenZeppelin/openzeppelin-solidity/blob/master/package.json#L47) them in combination without any obvious issues. They're at:\r\n```\r\ntruffle: 4.1.5\r\nchai-bignumber: ^2.0.0\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/384788895/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
