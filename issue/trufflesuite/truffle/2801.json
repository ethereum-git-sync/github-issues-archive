{
  "url": "https://api.github.com/repos/trufflesuite/truffle/issues/2801",
  "repository_url": "https://api.github.com/repos/trufflesuite/truffle",
  "labels_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2801/labels{/name}",
  "comments_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2801/comments",
  "events_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2801/events",
  "html_url": "https://github.com/trufflesuite/truffle/issues/2801",
  "id": 556653896,
  "node_id": "MDU6SXNzdWU1NTY2NTM4OTY=",
  "number": 2801,
  "title": "nonce-like issues with Tezos contract? ",
  "user": {
    "login": "tcoulter",
    "id": 92629,
    "node_id": "MDQ6VXNlcjkyNjI5",
    "avatar_url": "https://avatars.githubusercontent.com/u/92629?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/tcoulter",
    "html_url": "https://github.com/tcoulter",
    "followers_url": "https://api.github.com/users/tcoulter/followers",
    "following_url": "https://api.github.com/users/tcoulter/following{/other_user}",
    "gists_url": "https://api.github.com/users/tcoulter/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/tcoulter/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/tcoulter/subscriptions",
    "organizations_url": "https://api.github.com/users/tcoulter/orgs",
    "repos_url": "https://api.github.com/users/tcoulter/repos",
    "events_url": "https://api.github.com/users/tcoulter/events{/privacy}",
    "received_events_url": "https://api.github.com/users/tcoulter/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 3,
  "created_at": "2020-01-29T05:53:18Z",
  "updated_at": "2022-12-07T18:34:25Z",
  "closed_at": null,
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "In the `alphaTez` branch, in a console, I pressed Ctrl+C while a call to a contract function was executing. I forgot to add `await`, so I \"quit it\" to send the request again.\r\n\r\nOn the second request, I got an error from the blockchain node suggesting it expected `962`, but got `961`. I tried the request again, and it failed in the same way. Eventually the transaction succeeded. This suggests a nonce-like state issue recorded in `truffle-contract` somewhere, much like we had in the past with Ethereum, that eventually fixes itself due to what I'd guess is some state check finally succeeding (totally guessing here). Is this helpful? \r\n\r\nSteps to reproduce:\r\n\r\n1. In the console, call some function on a Tezos contract abstraction, like `instance.main(3)`, preferably against a really slow testnet.\r\n2. After a second or two, press Ctrl-C.\r\n3. Try calling the function on the abstraction again. It should fail like the image below.\r\n4. Wait a while, or keep trying. It'll eventually succeed. \r\n\r\n![image](https://user-images.githubusercontent.com/92629/73331112-9cc41a80-4217-11ea-8007-60dc61d98e44.png)\r\n",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/2801/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2801/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/579853226",
    "html_url": "https://github.com/trufflesuite/truffle/issues/2801#issuecomment-579853226",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2801",
    "id": 579853226,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU3OTg1MzIyNg==",
    "user": {
      "login": "CruzMolina",
      "id": 7537712,
      "node_id": "MDQ6VXNlcjc1Mzc3MTI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7537712?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/CruzMolina",
      "html_url": "https://github.com/CruzMolina",
      "followers_url": "https://api.github.com/users/CruzMolina/followers",
      "following_url": "https://api.github.com/users/CruzMolina/following{/other_user}",
      "gists_url": "https://api.github.com/users/CruzMolina/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/CruzMolina/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/CruzMolina/subscriptions",
      "organizations_url": "https://api.github.com/users/CruzMolina/orgs",
      "repos_url": "https://api.github.com/users/CruzMolina/repos",
      "events_url": "https://api.github.com/users/CruzMolina/events{/privacy}",
      "received_events_url": "https://api.github.com/users/CruzMolina/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-01-29T16:53:25Z",
    "updated_at": "2020-01-29T16:53:25Z",
    "author_association": "CONTRIBUTOR",
    "body": "Unfortunately this appears to be a known issue with the current implementation of Tezos.\r\n\r\nSee ecadlabs/taquito#213, https://gitlab.com/tezos/tezos/issues/644, & https://gitlab.com/tezos/tezos/issues/36.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/579853226/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/1094359779",
    "html_url": "https://github.com/trufflesuite/truffle/issues/2801#issuecomment-1094359779",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2801",
    "id": 1094359779,
    "node_id": "IC_kwDOAkfq-c5BOprj",
    "user": {
      "login": "dvkam",
      "id": 82422481,
      "node_id": "MDQ6VXNlcjgyNDIyNDgx",
      "avatar_url": "https://avatars.githubusercontent.com/u/82422481?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dvkam",
      "html_url": "https://github.com/dvkam",
      "followers_url": "https://api.github.com/users/dvkam/followers",
      "following_url": "https://api.github.com/users/dvkam/following{/other_user}",
      "gists_url": "https://api.github.com/users/dvkam/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dvkam/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dvkam/subscriptions",
      "organizations_url": "https://api.github.com/users/dvkam/orgs",
      "repos_url": "https://api.github.com/users/dvkam/repos",
      "events_url": "https://api.github.com/users/dvkam/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dvkam/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-04-10T20:07:52Z",
    "updated_at": "2022-04-10T20:07:52Z",
    "author_association": "NONE",
    "body": "The issue 644 is at least fixed now",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/1094359779/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/1341405343",
    "html_url": "https://github.com/trufflesuite/truffle/issues/2801#issuecomment-1341405343",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/2801",
    "id": 1341405343,
    "node_id": "IC_kwDOAkfq-c5P9Dif",
    "user": {
      "login": "BearCooder",
      "id": 104575503,
      "node_id": "U_kgDOBjuyDw",
      "avatar_url": "https://avatars.githubusercontent.com/u/104575503?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/BearCooder",
      "html_url": "https://github.com/BearCooder",
      "followers_url": "https://api.github.com/users/BearCooder/followers",
      "following_url": "https://api.github.com/users/BearCooder/following{/other_user}",
      "gists_url": "https://api.github.com/users/BearCooder/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/BearCooder/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/BearCooder/subscriptions",
      "organizations_url": "https://api.github.com/users/BearCooder/orgs",
      "repos_url": "https://api.github.com/users/BearCooder/repos",
      "events_url": "https://api.github.com/users/BearCooder/events{/privacy}",
      "received_events_url": "https://api.github.com/users/BearCooder/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-12-07T18:34:24Z",
    "updated_at": "2022-12-07T18:34:24Z",
    "author_association": "NONE",
    "body": "Hello @haltman-at & @fainashalts can you please make a statement as to why Tezos support is not a priority anymore? To be honest it leaves a bad taste after the big announcement od Tezos support in Truffle ([Twitter](https://twitter.com/trufflesuite/status/1250486441341304835) and [Blogpost](https://trufflesuite.com/blog/branching-out-announcing-tezos-support-in-truffle/)) over two years ago. The funny thing is the support didnt last long, less than a year later Truffle started to ghost all issues and update requests on github or stated to do it later.. why the sudden change back then?\r\n\r\nAt least make either make it official and announce that you are not supporting Tezos anymore or at least update Tezos Truffle to current protocol standard. I dont know maybe its a failure on the communication side, maybe Truffle @tcoulter and Tezos Foundation @drchrispinnock need to talk but the current state is unfortunate.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/1341405343/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
