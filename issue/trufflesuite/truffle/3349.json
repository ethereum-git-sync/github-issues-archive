{
  "url": "https://api.github.com/repos/trufflesuite/truffle/issues/3349",
  "repository_url": "https://api.github.com/repos/trufflesuite/truffle",
  "labels_url": "https://api.github.com/repos/trufflesuite/truffle/issues/3349/labels{/name}",
  "comments_url": "https://api.github.com/repos/trufflesuite/truffle/issues/3349/comments",
  "events_url": "https://api.github.com/repos/trufflesuite/truffle/issues/3349/events",
  "html_url": "https://github.com/trufflesuite/truffle/issues/3349",
  "id": 696166084,
  "node_id": "MDU6SXNzdWU2OTYxNjYwODQ=",
  "number": 3349,
  "title": "Truffle console: Assignments involving an await return undefined",
  "user": {
    "login": "haltman-at",
    "id": 35589221,
    "node_id": "MDQ6VXNlcjM1NTg5MjIx",
    "avatar_url": "https://avatars.githubusercontent.com/u/35589221?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/haltman-at",
    "html_url": "https://github.com/haltman-at",
    "followers_url": "https://api.github.com/users/haltman-at/followers",
    "following_url": "https://api.github.com/users/haltman-at/following{/other_user}",
    "gists_url": "https://api.github.com/users/haltman-at/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/haltman-at/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/haltman-at/subscriptions",
    "organizations_url": "https://api.github.com/users/haltman-at/orgs",
    "repos_url": "https://api.github.com/users/haltman-at/repos",
    "events_url": "https://api.github.com/users/haltman-at/events{/privacy}",
    "received_events_url": "https://api.github.com/users/haltman-at/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 230393326,
      "node_id": "MDU6TGFiZWwyMzAzOTMzMjY=",
      "url": "https://api.github.com/repos/trufflesuite/truffle/labels/bug",
      "name": "bug",
      "color": "fc2929",
      "default": true,
      "description": null
    },
    {
      "id": 1675041356,
      "node_id": "MDU6TGFiZWwxNjc1MDQxMzU2",
      "url": "https://api.github.com/repos/trufflesuite/truffle/labels/priority2%20%E2%9A%A0%EF%B8%8F",
      "name": "priority2 ⚠️",
      "color": "006b75",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": {
    "login": "haltman-at",
    "id": 35589221,
    "node_id": "MDQ6VXNlcjM1NTg5MjIx",
    "avatar_url": "https://avatars.githubusercontent.com/u/35589221?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/haltman-at",
    "html_url": "https://github.com/haltman-at",
    "followers_url": "https://api.github.com/users/haltman-at/followers",
    "following_url": "https://api.github.com/users/haltman-at/following{/other_user}",
    "gists_url": "https://api.github.com/users/haltman-at/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/haltman-at/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/haltman-at/subscriptions",
    "organizations_url": "https://api.github.com/users/haltman-at/orgs",
    "repos_url": "https://api.github.com/users/haltman-at/repos",
    "events_url": "https://api.github.com/users/haltman-at/events{/privacy}",
    "received_events_url": "https://api.github.com/users/haltman-at/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "haltman-at",
      "id": 35589221,
      "node_id": "MDQ6VXNlcjM1NTg5MjIx",
      "avatar_url": "https://avatars.githubusercontent.com/u/35589221?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/haltman-at",
      "html_url": "https://github.com/haltman-at",
      "followers_url": "https://api.github.com/users/haltman-at/followers",
      "following_url": "https://api.github.com/users/haltman-at/following{/other_user}",
      "gists_url": "https://api.github.com/users/haltman-at/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/haltman-at/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/haltman-at/subscriptions",
      "organizations_url": "https://api.github.com/users/haltman-at/orgs",
      "repos_url": "https://api.github.com/users/haltman-at/repos",
      "events_url": "https://api.github.com/users/haltman-at/events{/privacy}",
      "received_events_url": "https://api.github.com/users/haltman-at/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 15,
  "created_at": "2020-09-08T20:45:56Z",
  "updated_at": "2022-07-15T22:16:38Z",
  "closed_at": "2022-07-15T22:16:37Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "## Issue\r\n\r\nIn Truffle Console, if you enter an assignment expression, and the right-hand-side involves an `await`, the return value incorrectly shows as `undefined`.\r\n\r\nBoth the assignment and the `await` seems to be necessary.  For instance, both `x = 3` and `await 3` correctly show `3`; however, `x = await 3` shows `undefined`.\r\n\r\nThis also happens in more complicated assignments involving `await`, such as `x = (await 3) + 1`.  Of course, note that more complicated expressions like this may not work at all, as per #1546!  Indeed I assume this issue is probably related to #1546 somehow... (but maybe it's easier to fix?  IDK).\r\n\r\n## Steps to Reproduce\r\n\r\nOpen `truffle console` in a Truffle project.\r\n\r\nEnter:\r\n\r\n`x = await 3`\r\n\r\n`x = (await 3) + 1`\r\n\r\n## Expected Behavior\r\n\r\nThe return values should be `3` and `4`, respectively.\r\n\r\n## Actual Results\r\n\r\nThe return values are both `undefined`.\r\n\r\n## Environment\r\n\r\n* Operating System: Release Linux Mint 20 Ulyana 64-bit\r\n* Ethereum client: Ganache CLI v6.10.1 (ganache-core: 2.11.2)\r\n* Truffle version (`truffle version`): 5.1.41\r\n* node version (`node --version`): v10.15.3\r\n* npm version (`npm --version`): 6.14.5",
  "closed_by": {
    "login": "cliffoo",
    "id": 41348973,
    "node_id": "MDQ6VXNlcjQxMzQ4OTcz",
    "avatar_url": "https://avatars.githubusercontent.com/u/41348973?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/cliffoo",
    "html_url": "https://github.com/cliffoo",
    "followers_url": "https://api.github.com/users/cliffoo/followers",
    "following_url": "https://api.github.com/users/cliffoo/following{/other_user}",
    "gists_url": "https://api.github.com/users/cliffoo/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/cliffoo/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/cliffoo/subscriptions",
    "organizations_url": "https://api.github.com/users/cliffoo/orgs",
    "repos_url": "https://api.github.com/users/cliffoo/repos",
    "events_url": "https://api.github.com/users/cliffoo/events{/privacy}",
    "received_events_url": "https://api.github.com/users/cliffoo/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/3349/reactions",
    "total_count": 1,
    "+1": 1,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/trufflesuite/truffle/issues/3349/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/858177745",
    "html_url": "https://github.com/trufflesuite/truffle/issues/3349#issuecomment-858177745",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/3349",
    "id": 858177745,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg1ODE3Nzc0NQ==",
    "user": {
      "login": "cds-amal",
      "id": 2529600,
      "node_id": "MDQ6VXNlcjI1Mjk2MDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2529600?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cds-amal",
      "html_url": "https://github.com/cds-amal",
      "followers_url": "https://api.github.com/users/cds-amal/followers",
      "following_url": "https://api.github.com/users/cds-amal/following{/other_user}",
      "gists_url": "https://api.github.com/users/cds-amal/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cds-amal/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cds-amal/subscriptions",
      "organizations_url": "https://api.github.com/users/cds-amal/orgs",
      "repos_url": "https://api.github.com/users/cds-amal/repos",
      "events_url": "https://api.github.com/users/cds-amal/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cds-amal/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-06-09T23:59:37Z",
    "updated_at": "2021-06-09T23:59:37Z",
    "author_association": "MEMBER",
    "body": "@haltman-at , It looks like the result of the [global variable cleanup](https://github.com/trufflesuite/truffle/blob/b9464617370f906094c35b5f871f498a3649b3d2/packages/core/lib/console.js#L258) for our top-level await workaround. That [`void` operator](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/void) captures the result of delete and returns undefined",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/858177745/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 1
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/858228964",
    "html_url": "https://github.com/trufflesuite/truffle/issues/3349#issuecomment-858228964",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/3349",
    "id": 858228964,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg1ODIyODk2NA==",
    "user": {
      "login": "haltman-at",
      "id": 35589221,
      "node_id": "MDQ6VXNlcjM1NTg5MjIx",
      "avatar_url": "https://avatars.githubusercontent.com/u/35589221?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/haltman-at",
      "html_url": "https://github.com/haltman-at",
      "followers_url": "https://api.github.com/users/haltman-at/followers",
      "following_url": "https://api.github.com/users/haltman-at/following{/other_user}",
      "gists_url": "https://api.github.com/users/haltman-at/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/haltman-at/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/haltman-at/subscriptions",
      "organizations_url": "https://api.github.com/users/haltman-at/orgs",
      "repos_url": "https://api.github.com/users/haltman-at/repos",
      "events_url": "https://api.github.com/users/haltman-at/events{/privacy}",
      "received_events_url": "https://api.github.com/users/haltman-at/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-06-10T02:21:51Z",
    "updated_at": "2021-06-10T02:21:51Z",
    "author_association": "CONTRIBUTOR",
    "body": "So now that the problem has finally been identified, the question is whether to use a targeted fix that just fixes this, or, since we no longer support Node 8, to just rewrite all this to use `--experimental-repl-await` and finally fix #1546 in its entirety.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/858228964/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/858284531",
    "html_url": "https://github.com/trufflesuite/truffle/issues/3349#issuecomment-858284531",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/3349",
    "id": 858284531,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg1ODI4NDUzMQ==",
    "user": {
      "login": "cds-amal",
      "id": 2529600,
      "node_id": "MDQ6VXNlcjI1Mjk2MDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2529600?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cds-amal",
      "html_url": "https://github.com/cds-amal",
      "followers_url": "https://api.github.com/users/cds-amal/followers",
      "following_url": "https://api.github.com/users/cds-amal/following{/other_user}",
      "gists_url": "https://api.github.com/users/cds-amal/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cds-amal/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cds-amal/subscriptions",
      "organizations_url": "https://api.github.com/users/cds-amal/orgs",
      "repos_url": "https://api.github.com/users/cds-amal/repos",
      "events_url": "https://api.github.com/users/cds-amal/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cds-amal/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-06-10T04:12:09Z",
    "updated_at": "2021-06-10T04:12:09Z",
    "author_association": "MEMBER",
    "body": "`--experimental-repl-await` looks cool! Will have to verify if it handle's the repl module",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/858284531/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/858940382",
    "html_url": "https://github.com/trufflesuite/truffle/issues/3349#issuecomment-858940382",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/3349",
    "id": 858940382,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg1ODk0MDM4Mg==",
    "user": {
      "login": "eggplantzzz",
      "id": 14827965,
      "node_id": "MDQ6VXNlcjE0ODI3OTY1",
      "avatar_url": "https://avatars.githubusercontent.com/u/14827965?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eggplantzzz",
      "html_url": "https://github.com/eggplantzzz",
      "followers_url": "https://api.github.com/users/eggplantzzz/followers",
      "following_url": "https://api.github.com/users/eggplantzzz/following{/other_user}",
      "gists_url": "https://api.github.com/users/eggplantzzz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eggplantzzz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eggplantzzz/subscriptions",
      "organizations_url": "https://api.github.com/users/eggplantzzz/orgs",
      "repos_url": "https://api.github.com/users/eggplantzzz/repos",
      "events_url": "https://api.github.com/users/eggplantzzz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eggplantzzz/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-06-10T19:16:23Z",
    "updated_at": "2021-06-10T19:16:35Z",
    "author_association": "CONTRIBUTOR",
    "body": "I would love to get rid of the parsing done on the Truffle side to deal with `await`! Can we do this?",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/858940382/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/859005264",
    "html_url": "https://github.com/trufflesuite/truffle/issues/3349#issuecomment-859005264",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/3349",
    "id": 859005264,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg1OTAwNTI2NA==",
    "user": {
      "login": "gnidan",
      "id": 151065,
      "node_id": "MDQ6VXNlcjE1MTA2NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/151065?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gnidan",
      "html_url": "https://github.com/gnidan",
      "followers_url": "https://api.github.com/users/gnidan/followers",
      "following_url": "https://api.github.com/users/gnidan/following{/other_user}",
      "gists_url": "https://api.github.com/users/gnidan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gnidan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gnidan/subscriptions",
      "organizations_url": "https://api.github.com/users/gnidan/orgs",
      "repos_url": "https://api.github.com/users/gnidan/repos",
      "events_url": "https://api.github.com/users/gnidan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gnidan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-06-10T20:06:19Z",
    "updated_at": "2021-06-10T20:06:19Z",
    "author_association": "MEMBER",
    "body": "Unfortunately, there's no way of doing `--experimental-repl-await` via the `require(\"repl\")` _library interface_.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/859005264/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/859005890",
    "html_url": "https://github.com/trufflesuite/truffle/issues/3349#issuecomment-859005890",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/3349",
    "id": 859005890,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg1OTAwNTg5MA==",
    "user": {
      "login": "haltman-at",
      "id": 35589221,
      "node_id": "MDQ6VXNlcjM1NTg5MjIx",
      "avatar_url": "https://avatars.githubusercontent.com/u/35589221?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/haltman-at",
      "html_url": "https://github.com/haltman-at",
      "followers_url": "https://api.github.com/users/haltman-at/followers",
      "following_url": "https://api.github.com/users/haltman-at/following{/other_user}",
      "gists_url": "https://api.github.com/users/haltman-at/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/haltman-at/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/haltman-at/subscriptions",
      "organizations_url": "https://api.github.com/users/haltman-at/orgs",
      "repos_url": "https://api.github.com/users/haltman-at/repos",
      "events_url": "https://api.github.com/users/haltman-at/events{/privacy}",
      "received_events_url": "https://api.github.com/users/haltman-at/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-06-10T20:06:51Z",
    "updated_at": "2021-06-10T20:06:51Z",
    "author_association": "CONTRIBUTOR",
    "body": "Damn. OK, I guess targeted solution it'll have to be then, and #1546 will just remain open...",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/859005890/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/859050734",
    "html_url": "https://github.com/trufflesuite/truffle/issues/3349#issuecomment-859050734",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/3349",
    "id": 859050734,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg1OTA1MDczNA==",
    "user": {
      "login": "cds-amal",
      "id": 2529600,
      "node_id": "MDQ6VXNlcjI1Mjk2MDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2529600?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cds-amal",
      "html_url": "https://github.com/cds-amal",
      "followers_url": "https://api.github.com/users/cds-amal/followers",
      "following_url": "https://api.github.com/users/cds-amal/following{/other_user}",
      "gists_url": "https://api.github.com/users/cds-amal/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cds-amal/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cds-amal/subscriptions",
      "organizations_url": "https://api.github.com/users/cds-amal/orgs",
      "repos_url": "https://api.github.com/users/cds-amal/repos",
      "events_url": "https://api.github.com/users/cds-amal/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cds-amal/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-06-10T20:46:05Z",
    "updated_at": "2021-06-10T20:46:05Z",
    "author_association": "MEMBER",
    "body": "actually, this may not be true @gnidan . I just ran a test and it works for v10, 12, & 14",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/859050734/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/859142317",
    "html_url": "https://github.com/trufflesuite/truffle/issues/3349#issuecomment-859142317",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/3349",
    "id": 859142317,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg1OTE0MjMxNw==",
    "user": {
      "login": "haltman-at",
      "id": 35589221,
      "node_id": "MDQ6VXNlcjM1NTg5MjIx",
      "avatar_url": "https://avatars.githubusercontent.com/u/35589221?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/haltman-at",
      "html_url": "https://github.com/haltman-at",
      "followers_url": "https://api.github.com/users/haltman-at/followers",
      "following_url": "https://api.github.com/users/haltman-at/following{/other_user}",
      "gists_url": "https://api.github.com/users/haltman-at/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/haltman-at/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/haltman-at/subscriptions",
      "organizations_url": "https://api.github.com/users/haltman-at/orgs",
      "repos_url": "https://api.github.com/users/haltman-at/repos",
      "events_url": "https://api.github.com/users/haltman-at/events{/privacy}",
      "received_events_url": "https://api.github.com/users/haltman-at/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-06-10T23:06:05Z",
    "updated_at": "2021-06-10T23:06:05Z",
    "author_association": "CONTRIBUTOR",
    "body": "@cds-amal, I think that statement needs some elaboration!\r\n\r\nWhat Amal actually did is *not* to somehow pass the equivalent of the `--experimental-repl-await` flag to the `repl` library, but rather to pass the *actual* `--experimental-repl-await` flag to the instance of Node that's running Truffle!  That is to say, we could add it to the shebang line in `@truffle/core`!\r\n\r\nIt's a little unclear whether this suffices for our purposes, but it just might... after all, it's not like we create a REPL from any other package!",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/859142317/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 1,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/880804590",
    "html_url": "https://github.com/trufflesuite/truffle/issues/3349#issuecomment-880804590",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/3349",
    "id": 880804590,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg4MDgwNDU5MA==",
    "user": {
      "login": "cds-amal",
      "id": 2529600,
      "node_id": "MDQ6VXNlcjI1Mjk2MDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2529600?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cds-amal",
      "html_url": "https://github.com/cds-amal",
      "followers_url": "https://api.github.com/users/cds-amal/followers",
      "following_url": "https://api.github.com/users/cds-amal/following{/other_user}",
      "gists_url": "https://api.github.com/users/cds-amal/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cds-amal/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cds-amal/subscriptions",
      "organizations_url": "https://api.github.com/users/cds-amal/orgs",
      "repos_url": "https://api.github.com/users/cds-amal/repos",
      "events_url": "https://api.github.com/users/cds-amal/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cds-amal/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-15T15:44:51Z",
    "updated_at": "2021-07-15T15:44:51Z",
    "author_association": "MEMBER",
    "body": "@haltman-at you're correct. The outer node process receives the `--experimental-repl-await`, benefiting from its features but those benefits are not passed on to the `repl` library when using a custom eval function.\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/880804590/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/880908025",
    "html_url": "https://github.com/trufflesuite/truffle/issues/3349#issuecomment-880908025",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/3349",
    "id": 880908025,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg4MDkwODAyNQ==",
    "user": {
      "login": "haltman-at",
      "id": 35589221,
      "node_id": "MDQ6VXNlcjM1NTg5MjIx",
      "avatar_url": "https://avatars.githubusercontent.com/u/35589221?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/haltman-at",
      "html_url": "https://github.com/haltman-at",
      "followers_url": "https://api.github.com/users/haltman-at/followers",
      "following_url": "https://api.github.com/users/haltman-at/following{/other_user}",
      "gists_url": "https://api.github.com/users/haltman-at/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/haltman-at/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/haltman-at/subscriptions",
      "organizations_url": "https://api.github.com/users/haltman-at/orgs",
      "repos_url": "https://api.github.com/users/haltman-at/repos",
      "events_url": "https://api.github.com/users/haltman-at/events{/privacy}",
      "received_events_url": "https://api.github.com/users/haltman-at/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-15T18:09:18Z",
    "updated_at": "2021-07-15T18:09:18Z",
    "author_association": "CONTRIBUTOR",
    "body": "Oh, so it doesn't work after all?  Damn, that's disappointing...",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/880908025/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/1007892549",
    "html_url": "https://github.com/trufflesuite/truffle/issues/3349#issuecomment-1007892549",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/3349",
    "id": 1007892549,
    "node_id": "IC_kwDOAkfq-c48EzhF",
    "user": {
      "login": "haltman-at",
      "id": 35589221,
      "node_id": "MDQ6VXNlcjM1NTg5MjIx",
      "avatar_url": "https://avatars.githubusercontent.com/u/35589221?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/haltman-at",
      "html_url": "https://github.com/haltman-at",
      "followers_url": "https://api.github.com/users/haltman-at/followers",
      "following_url": "https://api.github.com/users/haltman-at/following{/other_user}",
      "gists_url": "https://api.github.com/users/haltman-at/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/haltman-at/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/haltman-at/subscriptions",
      "organizations_url": "https://api.github.com/users/haltman-at/orgs",
      "repos_url": "https://api.github.com/users/haltman-at/repos",
      "events_url": "https://api.github.com/users/haltman-at/events{/privacy}",
      "received_events_url": "https://api.github.com/users/haltman-at/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-01-08T05:56:09Z",
    "updated_at": "2022-01-08T05:56:09Z",
    "author_association": "CONTRIBUTOR",
    "body": "Btw, apparently as of Node 16, `--experimental-repl-await` is no longer experimental and is now the default.  So, uh, once we only support Node 16 and later (whenever that might be), then we'll finally be able to get rid of all our special `await`-handling code. :P",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/1007892549/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/1046151980",
    "html_url": "https://github.com/trufflesuite/truffle/issues/3349#issuecomment-1046151980",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/3349",
    "id": 1046151980,
    "node_id": "IC_kwDOAkfq-c4-WwMs",
    "user": {
      "login": "mdg215199",
      "id": 39094712,
      "node_id": "MDQ6VXNlcjM5MDk0NzEy",
      "avatar_url": "https://avatars.githubusercontent.com/u/39094712?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mdg215199",
      "html_url": "https://github.com/mdg215199",
      "followers_url": "https://api.github.com/users/mdg215199/followers",
      "following_url": "https://api.github.com/users/mdg215199/following{/other_user}",
      "gists_url": "https://api.github.com/users/mdg215199/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mdg215199/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mdg215199/subscriptions",
      "organizations_url": "https://api.github.com/users/mdg215199/orgs",
      "repos_url": "https://api.github.com/users/mdg215199/repos",
      "events_url": "https://api.github.com/users/mdg215199/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mdg215199/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-02-20T03:29:37Z",
    "updated_at": "2022-02-20T03:29:37Z",
    "author_association": "NONE",
    "body": "This is still an issue, is there any way to be able to use the the truffle console?  From what i'm reading... i think truffle console is pretty much half pointless at the moment?  Or, am i reading this wrong",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/1046151980/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/1046279174",
    "html_url": "https://github.com/trufflesuite/truffle/issues/3349#issuecomment-1046279174",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/3349",
    "id": 1046279174,
    "node_id": "IC_kwDOAkfq-c4-XPQG",
    "user": {
      "login": "cds-amal",
      "id": 2529600,
      "node_id": "MDQ6VXNlcjI1Mjk2MDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2529600?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cds-amal",
      "html_url": "https://github.com/cds-amal",
      "followers_url": "https://api.github.com/users/cds-amal/followers",
      "following_url": "https://api.github.com/users/cds-amal/following{/other_user}",
      "gists_url": "https://api.github.com/users/cds-amal/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cds-amal/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cds-amal/subscriptions",
      "organizations_url": "https://api.github.com/users/cds-amal/orgs",
      "repos_url": "https://api.github.com/users/cds-amal/repos",
      "events_url": "https://api.github.com/users/cds-amal/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cds-amal/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-02-20T17:00:11Z",
    "updated_at": "2022-02-20T17:00:11Z",
    "author_association": "MEMBER",
    "body": "`truffle console` and `truffle develop` starts a configured node REPL to interact with and observe smart contracts. These are useful things for developing and learning about contracts you write and interact with. The issue, tracked here, has to do with how the node REPL displays when executing a top level await. At most, it is a minor inconvenience that shouldn't detract from interacting with smart contracts.\r\n\r\nCheck out Filip's use of truffle console in [this video series](https://www.youtube.com/watch?v=ZaqAwOzEiQ8)",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/1046279174/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/1046301713",
    "html_url": "https://github.com/trufflesuite/truffle/issues/3349#issuecomment-1046301713",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/3349",
    "id": 1046301713,
    "node_id": "IC_kwDOAkfq-c4-XUwR",
    "user": {
      "login": "mdg215199",
      "id": 39094712,
      "node_id": "MDQ6VXNlcjM5MDk0NzEy",
      "avatar_url": "https://avatars.githubusercontent.com/u/39094712?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mdg215199",
      "html_url": "https://github.com/mdg215199",
      "followers_url": "https://api.github.com/users/mdg215199/followers",
      "following_url": "https://api.github.com/users/mdg215199/following{/other_user}",
      "gists_url": "https://api.github.com/users/mdg215199/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mdg215199/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mdg215199/subscriptions",
      "organizations_url": "https://api.github.com/users/mdg215199/orgs",
      "repos_url": "https://api.github.com/users/mdg215199/repos",
      "events_url": "https://api.github.com/users/mdg215199/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mdg215199/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-02-20T19:08:51Z",
    "updated_at": "2022-02-20T19:08:51Z",
    "author_association": "NONE",
    "body": "Thank you for the video, I had to watch it a second time, as the first, I was skipping through instead of fully watching the last part of it.  Absolutely solved the issue I was having.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/1046301713/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 1,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/1185990280",
    "html_url": "https://github.com/trufflesuite/truffle/issues/3349#issuecomment-1185990280",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/3349",
    "id": 1185990280,
    "node_id": "IC_kwDOAkfq-c5GsMaI",
    "user": {
      "login": "cliffoo",
      "id": 41348973,
      "node_id": "MDQ6VXNlcjQxMzQ4OTcz",
      "avatar_url": "https://avatars.githubusercontent.com/u/41348973?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cliffoo",
      "html_url": "https://github.com/cliffoo",
      "followers_url": "https://api.github.com/users/cliffoo/followers",
      "following_url": "https://api.github.com/users/cliffoo/following{/other_user}",
      "gists_url": "https://api.github.com/users/cliffoo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cliffoo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cliffoo/subscriptions",
      "organizations_url": "https://api.github.com/users/cliffoo/orgs",
      "repos_url": "https://api.github.com/users/cliffoo/repos",
      "events_url": "https://api.github.com/users/cliffoo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cliffoo/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-07-15T22:16:37Z",
    "updated_at": "2022-07-15T22:16:37Z",
    "author_association": "MEMBER",
    "body": "Fixed in [pull#5270](https://github.com/trufflesuite/truffle/pull/5270) and in the [latest release v5.5.22](https://github.com/trufflesuite/truffle/releases/tag/v5.5.22). Thanks @haltman-at!",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/1185990280/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
