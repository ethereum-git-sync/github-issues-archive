{
  "url": "https://api.github.com/repos/trufflesuite/truffle/issues/4241",
  "repository_url": "https://api.github.com/repos/trufflesuite/truffle",
  "labels_url": "https://api.github.com/repos/trufflesuite/truffle/issues/4241/labels{/name}",
  "comments_url": "https://api.github.com/repos/trufflesuite/truffle/issues/4241/comments",
  "events_url": "https://api.github.com/repos/trufflesuite/truffle/issues/4241/events",
  "html_url": "https://github.com/trufflesuite/truffle/issues/4241",
  "id": 963725807,
  "node_id": "MDU6SXNzdWU5NjM3MjU4MDc=",
  "number": 4241,
  "title": "Conflict with MongoDB and 'window.crypto.getRandomValues'",
  "user": {
    "login": "Gredys",
    "id": 5391713,
    "node_id": "MDQ6VXNlcjUzOTE3MTM=",
    "avatar_url": "https://avatars.githubusercontent.com/u/5391713?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/Gredys",
    "html_url": "https://github.com/Gredys",
    "followers_url": "https://api.github.com/users/Gredys/followers",
    "following_url": "https://api.github.com/users/Gredys/following{/other_user}",
    "gists_url": "https://api.github.com/users/Gredys/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/Gredys/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/Gredys/subscriptions",
    "organizations_url": "https://api.github.com/users/Gredys/orgs",
    "repos_url": "https://api.github.com/users/Gredys/repos",
    "events_url": "https://api.github.com/users/Gredys/events{/privacy}",
    "received_events_url": "https://api.github.com/users/Gredys/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 1675041996,
      "node_id": "MDU6TGFiZWwxNjc1MDQxOTk2",
      "url": "https://api.github.com/repos/trufflesuite/truffle/labels/priority4%20%F0%9F%93%8B",
      "name": "priority4 📋",
      "color": "006b75",
      "default": false,
      "description": ""
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": {
    "login": "eggplantzzz",
    "id": 14827965,
    "node_id": "MDQ6VXNlcjE0ODI3OTY1",
    "avatar_url": "https://avatars.githubusercontent.com/u/14827965?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/eggplantzzz",
    "html_url": "https://github.com/eggplantzzz",
    "followers_url": "https://api.github.com/users/eggplantzzz/followers",
    "following_url": "https://api.github.com/users/eggplantzzz/following{/other_user}",
    "gists_url": "https://api.github.com/users/eggplantzzz/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/eggplantzzz/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/eggplantzzz/subscriptions",
    "organizations_url": "https://api.github.com/users/eggplantzzz/orgs",
    "repos_url": "https://api.github.com/users/eggplantzzz/repos",
    "events_url": "https://api.github.com/users/eggplantzzz/events{/privacy}",
    "received_events_url": "https://api.github.com/users/eggplantzzz/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "eggplantzzz",
      "id": 14827965,
      "node_id": "MDQ6VXNlcjE0ODI3OTY1",
      "avatar_url": "https://avatars.githubusercontent.com/u/14827965?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eggplantzzz",
      "html_url": "https://github.com/eggplantzzz",
      "followers_url": "https://api.github.com/users/eggplantzzz/followers",
      "following_url": "https://api.github.com/users/eggplantzzz/following{/other_user}",
      "gists_url": "https://api.github.com/users/eggplantzzz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eggplantzzz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eggplantzzz/subscriptions",
      "organizations_url": "https://api.github.com/users/eggplantzzz/orgs",
      "repos_url": "https://api.github.com/users/eggplantzzz/repos",
      "events_url": "https://api.github.com/users/eggplantzzz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eggplantzzz/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 9,
  "created_at": "2021-08-09T07:35:22Z",
  "updated_at": "2022-03-16T18:21:29Z",
  "closed_at": null,
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "## Issue\r\n\r\nWhen trying to call insert method to MongoDB in migration deploy callback it raises stack overflow exception on calling `getRandomValues` in crypto bundle.\r\n\r\n```\r\nRangeError: Maximum call stack size exceeded\r\n    at Object.getRandomValues (C:\\...\\Truffle\\node_modules\\truffle\\build\\webpack:\\node_modules\\get-random-values\\index.js:5:1)\r\n    at Object.getRandomValues (C:\\....\\Truffle\\node_modules\\truffle\\build\\webpack:\\node_modules\\get-random-values\\index.js:6:1)\r\n    at Object.getRandomValues (C:\\....\\Truffle\\node_modules\\truffle\\build\\webpack:\\node_modules\\get-random-values\\index.js:6:1)\r\n...\r\n    at Object.getRandomValues (C:\\....\\Truffle\\node_modules\\truffle\\build\\webpack:\\node_modules\\get-random-values\\index.js:6:1)\r\nTruffle v5.4.3 (core: 5.4.3)\r\nNode v14.17.1\r\n\r\n```\r\n\r\n## Steps to Reproduce\r\n\r\n1. Initialize fresh truffle project\r\n2. Install MongoDB\r\n3. Try to save anything to DB in migration callback method\r\n\r\n## Expected Behavior\r\n\r\nData will be inserted correctly without exceptions rised by truffle bundles\r\n\r\n## Actual Results\r\n\r\nException when trying to save anything to DB.\r\nTruffle bundles `getRandomValues` method that utilizes crypto bundle. (file `853.bundled.js`)\r\nBut in same time method `getRandomValues` === `crypto.getRandomValues`  and this leading to infinite loop.\r\n\r\n## Environment\r\n\r\n* Operating System:  Windows 10\r\n* Ethereum client: Hyperledger Besu\r\n* Truffle version (`truffle version`): Truffle v5.4.3 (core: 5.4.3)\r\n* node version (`node --version`): Node v14.17.1\r\n* npm version (`npm --version`):  7.20.0\r\n\r\n## Additional information\r\n\r\nAdding code (between double start symbols **) to supplied bundle (`853.bundled.js`) fixes issue.\r\n```\r\nfunction getRandomValues(buf) {\r\n  if (window.crypto && window.crypto.getRandomValues **&& window.crypto !== this**) {\r\n    return window.crypto.getRandomValues(buf);\r\n  }\r\n```",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/4241/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/trufflesuite/truffle/issues/4241/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/897029029",
    "html_url": "https://github.com/trufflesuite/truffle/issues/4241#issuecomment-897029029",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/4241",
    "id": 897029029,
    "node_id": "IC_kwDOAkfq-c41d5Ol",
    "user": {
      "login": "fainashalts",
      "id": 8952139,
      "node_id": "MDQ6VXNlcjg5NTIxMzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8952139?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fainashalts",
      "html_url": "https://github.com/fainashalts",
      "followers_url": "https://api.github.com/users/fainashalts/followers",
      "following_url": "https://api.github.com/users/fainashalts/following{/other_user}",
      "gists_url": "https://api.github.com/users/fainashalts/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fainashalts/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fainashalts/subscriptions",
      "organizations_url": "https://api.github.com/users/fainashalts/orgs",
      "repos_url": "https://api.github.com/users/fainashalts/repos",
      "events_url": "https://api.github.com/users/fainashalts/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fainashalts/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-08-11T17:52:51Z",
    "updated_at": "2021-08-11T17:52:51Z",
    "author_association": "MEMBER",
    "body": "Hi @Gredys thanks for bringing this to our attention! Do you have a specific git repo we can look at or more reproduction steps so we can dig in further? \r\n\r\nJust to verify, what environment are you running this in? Are you attempting to run your code in the browser or are you in a node environment?",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/897029029/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/897073051",
    "html_url": "https://github.com/trufflesuite/truffle/issues/4241#issuecomment-897073051",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/4241",
    "id": 897073051,
    "node_id": "IC_kwDOAkfq-c41eD-b",
    "user": {
      "login": "Gredys",
      "id": 5391713,
      "node_id": "MDQ6VXNlcjUzOTE3MTM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5391713?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Gredys",
      "html_url": "https://github.com/Gredys",
      "followers_url": "https://api.github.com/users/Gredys/followers",
      "following_url": "https://api.github.com/users/Gredys/following{/other_user}",
      "gists_url": "https://api.github.com/users/Gredys/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Gredys/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Gredys/subscriptions",
      "organizations_url": "https://api.github.com/users/Gredys/orgs",
      "repos_url": "https://api.github.com/users/Gredys/repos",
      "events_url": "https://api.github.com/users/Gredys/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Gredys/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-08-11T18:58:48Z",
    "updated_at": "2021-08-11T18:58:48Z",
    "author_association": "NONE",
    "body": "Hello @fainashalts .\r\nI will create simple repo example and send it to you a bit later.\r\nI was doing everything from phpstorm teminal, so its basically node environment.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/897073051/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/903338777",
    "html_url": "https://github.com/trufflesuite/truffle/issues/4241#issuecomment-903338777",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/4241",
    "id": 903338777,
    "node_id": "IC_kwDOAkfq-c4119sZ",
    "user": {
      "login": "Gredys",
      "id": 5391713,
      "node_id": "MDQ6VXNlcjUzOTE3MTM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5391713?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Gredys",
      "html_url": "https://github.com/Gredys",
      "followers_url": "https://api.github.com/users/Gredys/followers",
      "following_url": "https://api.github.com/users/Gredys/following{/other_user}",
      "gists_url": "https://api.github.com/users/Gredys/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Gredys/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Gredys/subscriptions",
      "organizations_url": "https://api.github.com/users/Gredys/orgs",
      "repos_url": "https://api.github.com/users/Gredys/repos",
      "events_url": "https://api.github.com/users/Gredys/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Gredys/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-08-22T22:21:38Z",
    "updated_at": "2021-08-22T22:21:38Z",
    "author_association": "NONE",
    "body": "Sorry. Was busy few weeks. Tomorrow gonna create this example.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/903338777/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/906492745",
    "html_url": "https://github.com/trufflesuite/truffle/issues/4241#issuecomment-906492745",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/4241",
    "id": 906492745,
    "node_id": "IC_kwDOAkfq-c42B_tJ",
    "user": {
      "login": "eggplantzzz",
      "id": 14827965,
      "node_id": "MDQ6VXNlcjE0ODI3OTY1",
      "avatar_url": "https://avatars.githubusercontent.com/u/14827965?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eggplantzzz",
      "html_url": "https://github.com/eggplantzzz",
      "followers_url": "https://api.github.com/users/eggplantzzz/followers",
      "following_url": "https://api.github.com/users/eggplantzzz/following{/other_user}",
      "gists_url": "https://api.github.com/users/eggplantzzz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eggplantzzz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eggplantzzz/subscriptions",
      "organizations_url": "https://api.github.com/users/eggplantzzz/orgs",
      "repos_url": "https://api.github.com/users/eggplantzzz/repos",
      "events_url": "https://api.github.com/users/eggplantzzz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eggplantzzz/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-08-26T15:03:56Z",
    "updated_at": "2021-08-26T15:03:56Z",
    "author_association": "CONTRIBUTOR",
    "body": "Hey @Gredys just let us know when you have a simple example that we can test against and we'll try and figure out a solution!",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/906492745/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/912465300",
    "html_url": "https://github.com/trufflesuite/truffle/issues/4241#issuecomment-912465300",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/4241",
    "id": 912465300,
    "node_id": "IC_kwDOAkfq-c42Yx2U",
    "user": {
      "login": "Gredys",
      "id": 5391713,
      "node_id": "MDQ6VXNlcjUzOTE3MTM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5391713?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Gredys",
      "html_url": "https://github.com/Gredys",
      "followers_url": "https://api.github.com/users/Gredys/followers",
      "following_url": "https://api.github.com/users/Gredys/following{/other_user}",
      "gists_url": "https://api.github.com/users/Gredys/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Gredys/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Gredys/subscriptions",
      "organizations_url": "https://api.github.com/users/Gredys/orgs",
      "repos_url": "https://api.github.com/users/Gredys/repos",
      "events_url": "https://api.github.com/users/Gredys/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Gredys/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-09-03T11:24:11Z",
    "updated_at": "2021-09-03T11:25:53Z",
    "author_association": "NONE",
    "body": "@eggplantzzz I am really sorry for wasting your time. Here is an example project - [truffle-issue-4241](https://github.com/Gredys/truffle-issue-4241)\r\n\r\nI used Ganache and local instance of MongoDB with evertying set on default.\r\n\r\nExample output of my migration log\r\n```\r\nWindows [Version 10.0.19043.1202]\r\n(c) Корпорация Майкрософт (Microsoft Corporation). Все права защищены.\r\n\r\nC:\\Projects\\Hexoid\\truffle-issue-4241>truffle migrate --reset\r\n\r\nCompiling your contracts...\r\n===========================\r\n> Everything is up to date, there is nothing to compile.\r\n\r\n\r\n\r\nStarting migrations...\r\n======================\r\n> Network name:    'ganache'\r\n> Network id:      5777\r\n> Block gas limit: 6721975 (0x6691b7)\r\n\r\n\r\n1_initial_migration.js\r\n======================\r\n\r\n   Replacing 'Migrations'\r\n   ----------------------\r\n   > transaction hash:    0x75d3bb2fff3399c84c3da64786fc46c79f15a5fa041c453c8793014464896603\r\n   > Blocks: 0            Seconds: 0\r\n   > contract address:    0xDA020de8E6B75d1Ce7eA3d88Ce2B84090F6919Ca\r\n   > block number:        10\r\n   > block timestamp:     1630668183\r\n   > account:             0xF7812ee8DcefCaA506E1824A3944B0c65CFCb97b\r\n   > balance:             99.9675956\r\n   > gas used:            191943 (0x2edc7)\r\n   > gas price:           20 gwei\r\n   > value sent:          0 ETH\r\n   > total cost:          0.00383886 ETH\r\n\r\n\r\nRangeError: Maximum call stack size exceeded\r\n    at Object.getRandomValues (C:\\Users\\Hexoid\\AppData\\Roaming\\npm\\node_modules\\truffle\\build\\webpack:\\node_modules\\get-random-values\\index.js:5:1)\r\n    at Object.getRandomValues (C:\\Users\\Hexoid\\AppData\\Roaming\\npm\\node_modules\\truffle\\build\\webpack:\\node_modules\\get-random-values\\index.js:6:1)\r\n    at Object.getRandomValues (C:\\Users\\Hexoid\\AppData\\Roaming\\npm\\node_modules\\truffle\\build\\webpack:\\node_modules\\get-random-values\\index.js:6:1)\r\n    at Object.getRandomValues (C:\\Users\\Hexoid\\AppData\\Roaming\\npm\\node_modules\\truffle\\build\\webpack:\\node_modules\\get-random-values\\index.js:6:1)\r\n    at Object.getRandomValues (C:\\Users\\Hexoid\\AppData\\Roaming\\npm\\node_modules\\truffle\\build\\webpack:\\node_modules\\get-random-values\\index.js:6:1)\r\n    at Object.getRandomValues (C:\\Users\\Hexoid\\AppData\\Roaming\\npm\\node_modules\\truffle\\build\\webpack:\\node_modules\\get-random-values\\index.js:6:1)\r\n    at Object.getRandomValues (C:\\Users\\Hexoid\\AppData\\Roaming\\npm\\node_modules\\truffle\\build\\webpack:\\node_modules\\get-random-values\\index.js:6:1)\r\n    at Object.getRandomValues (C:\\Users\\Hexoid\\AppData\\Roaming\\npm\\node_modules\\truffle\\build\\webpack:\\node_modules\\get-random-values\\index.js:6:1)\r\n    at Object.getRandomValues (C:\\Users\\Hexoid\\AppData\\Roaming\\npm\\node_modules\\truffle\\build\\webpack:\\node_modules\\get-random-values\\index.js:6:1)\r\n    at Object.getRandomValues (C:\\Users\\Hexoid\\AppData\\Roaming\\npm\\node_modules\\truffle\\build\\webpack:\\node_modules\\get-random-values\\index.js:6:1)\r\n    at Object.getRandomValues (C:\\Users\\Hexoid\\AppData\\Roaming\\npm\\node_modules\\truffle\\build\\webpack:\\node_modules\\get-random-values\\index.js:6:1)\r\n    at Object.getRandomValues (C:\\Users\\Hexoid\\AppData\\Roaming\\npm\\node_modules\\truffle\\build\\webpack:\\node_modules\\get-random-values\\index.js:6:1)\r\n    at Object.getRandomValues (C:\\Users\\Hexoid\\AppData\\Roaming\\npm\\node_modules\\truffle\\build\\webpack:\\node_modules\\get-random-values\\index.js:6:1)\r\n    at Object.getRandomValues (C:\\Users\\Hexoid\\AppData\\Roaming\\npm\\node_modules\\truffle\\build\\webpack:\\node_modules\\get-random-values\\index.js:6:1)\r\n    at Object.getRandomValues (C:\\Users\\Hexoid\\AppData\\Roaming\\npm\\node_modules\\truffle\\build\\webpack:\\node_modules\\get-random-values\\index.js:6:1)\r\n    at Object.getRandomValues (C:\\Users\\Hexoid\\AppData\\Roaming\\npm\\node_modules\\truffle\\build\\webpack:\\node_modules\\get-random-values\\index.js:6:1)\r\n    at Object.getRandomValues (C:\\Users\\Hexoid\\AppData\\Roaming\\npm\\node_modules\\truffle\\build\\webpack:\\node_modules\\get-random-values\\index.js:6:1)\r\n    at Object.getRandomValues (C:\\Users\\Hexoid\\AppData\\Roaming\\npm\\node_modules\\truffle\\build\\webpack:\\node_modules\\get-random-values\\index.js:6:1)\r\n    at Object.getRandomValues (C:\\Users\\Hexoid\\AppData\\Roaming\\npm\\node_modules\\truffle\\build\\webpack:\\node_modules\\get-random-values\\index.js:6:1)\r\n    at Object.getRandomValues (C:\\Users\\Hexoid\\AppData\\Roaming\\npm\\node_modules\\truffle\\build\\webpack:\\node_modules\\get-random-values\\index.js:6:1)\r\n    at Object.getRandomValues (C:\\Users\\Hexoid\\AppData\\Roaming\\npm\\node_modules\\truffle\\build\\webpack:\\node_modules\\get-random-values\\index.js:6:1)\r\n    at Object.getRandomValues (C:\\Users\\Hexoid\\AppData\\Roaming\\npm\\node_modules\\truffle\\build\\webpack:\\node_modules\\get-random-values\\index.js:6:1)\r\nTruffle v5.4.1 (core: 5.4.1)\r\nNode v14.17.1\r\n\r\nC:\\Projects\\Hexoid\\truffle-issue-4241>\r\n```\r\n\r\nCommand used to get this issue - `truffle migrate --reset` (work same without `--reset`, it used only to force migration run)",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/912465300/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/916454577",
    "html_url": "https://github.com/trufflesuite/truffle/issues/4241#issuecomment-916454577",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/4241",
    "id": 916454577,
    "node_id": "IC_kwDOAkfq-c42n_yx",
    "user": {
      "login": "eggplantzzz",
      "id": 14827965,
      "node_id": "MDQ6VXNlcjE0ODI3OTY1",
      "avatar_url": "https://avatars.githubusercontent.com/u/14827965?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eggplantzzz",
      "html_url": "https://github.com/eggplantzzz",
      "followers_url": "https://api.github.com/users/eggplantzzz/followers",
      "following_url": "https://api.github.com/users/eggplantzzz/following{/other_user}",
      "gists_url": "https://api.github.com/users/eggplantzzz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eggplantzzz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eggplantzzz/subscriptions",
      "organizations_url": "https://api.github.com/users/eggplantzzz/orgs",
      "repos_url": "https://api.github.com/users/eggplantzzz/repos",
      "events_url": "https://api.github.com/users/eggplantzzz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eggplantzzz/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-09-09T21:36:14Z",
    "updated_at": "2021-09-09T21:40:24Z",
    "author_association": "CONTRIBUTOR",
    "body": "No problem at all, thanks for reporting it. I'll try and look into this for you!\r\n\r\nSo to reproduce the error just run the migrations? Can you give me specific steps to take?",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/916454577/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/916957791",
    "html_url": "https://github.com/trufflesuite/truffle/issues/4241#issuecomment-916957791",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/4241",
    "id": 916957791,
    "node_id": "IC_kwDOAkfq-c42p6pf",
    "user": {
      "login": "Gredys",
      "id": 5391713,
      "node_id": "MDQ6VXNlcjUzOTE3MTM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5391713?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Gredys",
      "html_url": "https://github.com/Gredys",
      "followers_url": "https://api.github.com/users/Gredys/followers",
      "following_url": "https://api.github.com/users/Gredys/following{/other_user}",
      "gists_url": "https://api.github.com/users/Gredys/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Gredys/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Gredys/subscriptions",
      "organizations_url": "https://api.github.com/users/Gredys/orgs",
      "repos_url": "https://api.github.com/users/Gredys/repos",
      "events_url": "https://api.github.com/users/Gredys/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Gredys/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-09-10T14:42:24Z",
    "updated_at": "2021-09-10T14:42:24Z",
    "author_association": "NONE",
    "body": "1. Download and start MongoDB with default settings (make sure port is same as in `1_initial_migration.js` file)\r\n2. Download and start Ganache with default settings\r\n3. Download repository and try to migrate it\r\n\r\nOnce migration script will output information about current migration (Contract) - script will try to save that infomation in MongoDB and you will get call stack exception.\r\n\r\nP.S. Sorry for my language knowing :D",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/916957791/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/917154094",
    "html_url": "https://github.com/trufflesuite/truffle/issues/4241#issuecomment-917154094",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/4241",
    "id": 917154094,
    "node_id": "IC_kwDOAkfq-c42qqku",
    "user": {
      "login": "eggplantzzz",
      "id": 14827965,
      "node_id": "MDQ6VXNlcjE0ODI3OTY1",
      "avatar_url": "https://avatars.githubusercontent.com/u/14827965?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eggplantzzz",
      "html_url": "https://github.com/eggplantzzz",
      "followers_url": "https://api.github.com/users/eggplantzzz/followers",
      "following_url": "https://api.github.com/users/eggplantzzz/following{/other_user}",
      "gists_url": "https://api.github.com/users/eggplantzzz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eggplantzzz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eggplantzzz/subscriptions",
      "organizations_url": "https://api.github.com/users/eggplantzzz/orgs",
      "repos_url": "https://api.github.com/users/eggplantzzz/repos",
      "events_url": "https://api.github.com/users/eggplantzzz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eggplantzzz/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-09-10T19:24:06Z",
    "updated_at": "2021-09-10T19:24:06Z",
    "author_association": "CONTRIBUTOR",
    "body": "Thanks @Gredys! And you are fine :)",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/917154094/reactions",
      "total_count": 2,
      "+1": 1,
      "-1": 0,
      "laugh": 1,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/1043122559",
    "html_url": "https://github.com/trufflesuite/truffle/issues/4241#issuecomment-1043122559",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/4241",
    "id": 1043122559,
    "node_id": "IC_kwDOAkfq-c4-LMl_",
    "user": {
      "login": "eggplantzzz",
      "id": 14827965,
      "node_id": "MDQ6VXNlcjE0ODI3OTY1",
      "avatar_url": "https://avatars.githubusercontent.com/u/14827965?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eggplantzzz",
      "html_url": "https://github.com/eggplantzzz",
      "followers_url": "https://api.github.com/users/eggplantzzz/followers",
      "following_url": "https://api.github.com/users/eggplantzzz/following{/other_user}",
      "gists_url": "https://api.github.com/users/eggplantzzz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eggplantzzz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eggplantzzz/subscriptions",
      "organizations_url": "https://api.github.com/users/eggplantzzz/orgs",
      "repos_url": "https://api.github.com/users/eggplantzzz/repos",
      "events_url": "https://api.github.com/users/eggplantzzz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eggplantzzz/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-02-17T16:03:05Z",
    "updated_at": "2022-02-17T16:56:16Z",
    "author_association": "CONTRIBUTOR",
    "body": "I think webpack recommends a different fix for the missing crypto lib problem. Check out KorbinianKuhn's answer [here](https://github.com/digitalbazaar/forge/issues/908). They recommend to use crypto-browserify to shim that library. You can see the errors that webpack gives that prescribe this on [this stack overflow issue](https://stackoverflow.com/questions/70429654/webpack-5-errors-cannot-resolve-crypto-http-and-https-in-reactjs-proje). Perhaps that will resolve this issue if we can implement that in place of the shim currently in Truffle. \r\n\r\nhttps://github.com/trufflesuite/truffle/blob/develop/packages/core/cli.js#L6-L10\r\nhttps://github.com/trufflesuite/truffle/blob/develop/packages/core/lib/console-child.js#L7-L11",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/1043122559/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
