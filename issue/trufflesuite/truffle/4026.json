{
  "url": "https://api.github.com/repos/trufflesuite/truffle/issues/4026",
  "repository_url": "https://api.github.com/repos/trufflesuite/truffle",
  "labels_url": "https://api.github.com/repos/trufflesuite/truffle/issues/4026/labels{/name}",
  "comments_url": "https://api.github.com/repos/trufflesuite/truffle/issues/4026/comments",
  "events_url": "https://api.github.com/repos/trufflesuite/truffle/issues/4026/events",
  "html_url": "https://github.com/trufflesuite/truffle/issues/4026",
  "id": 885464920,
  "node_id": "MDU6SXNzdWU4ODU0NjQ5MjA=",
  "number": 4026,
  "title": "Better display of error context in debugger",
  "user": {
    "login": "haltman-at",
    "id": 35589221,
    "node_id": "MDQ6VXNlcjM1NTg5MjIx",
    "avatar_url": "https://avatars.githubusercontent.com/u/35589221?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/haltman-at",
    "html_url": "https://github.com/haltman-at",
    "followers_url": "https://api.github.com/users/haltman-at/followers",
    "following_url": "https://api.github.com/users/haltman-at/following{/other_user}",
    "gists_url": "https://api.github.com/users/haltman-at/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/haltman-at/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/haltman-at/subscriptions",
    "organizations_url": "https://api.github.com/users/haltman-at/orgs",
    "repos_url": "https://api.github.com/users/haltman-at/repos",
    "events_url": "https://api.github.com/users/haltman-at/events{/privacy}",
    "received_events_url": "https://api.github.com/users/haltman-at/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 230393328,
      "node_id": "MDU6TGFiZWwyMzAzOTMzMjg=",
      "url": "https://api.github.com/repos/trufflesuite/truffle/labels/enhancement",
      "name": "enhancement",
      "color": "84b6eb",
      "default": true,
      "description": null
    },
    {
      "id": 971535002,
      "node_id": "MDU6TGFiZWw5NzE1MzUwMDI=",
      "url": "https://api.github.com/repos/trufflesuite/truffle/labels/Debugger",
      "name": "Debugger",
      "color": "7911ad",
      "default": false,
      "description": ""
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 1,
  "created_at": "2021-05-11T00:30:32Z",
  "updated_at": "2021-05-21T04:55:49Z",
  "closed_at": null,
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "## Issue\r\n\r\nRight now, the debugger doesn't do a great job of displaying the context when an error occurs.  It will show you a stacktrace and the location where it occurred, and you can press `s` again to repeat this with more source context, but that's it.\r\n\r\nThis is a little confusing if you expect that stepping ought to end *on* the error.  But in fact it goes past it, to the end of the trace; indeed, until we reach the end of the trace, we can't *know* that we had the right error earlier, so it's not really possible to identify the correct error ahead of time and stop there.\r\n\r\nIt's also not great for getting further information about the error, like, what were the values of the variables at the time?\r\n\r\nIdeally, we could have the debugger reset to where the error occurred.  However, right now, the debugger isn't rewindable (#3854).  So, instead, we could have the debugger remember relevant information from the error context (such as variable values) and print it at the end.\r\n\r\nA stopgap solution for now might be to simply have the debugger remember on what step the error occurred, and offer to return to that step.\r\n\r\n## Environment\r\n\r\n* Truffle version (`truffle version`): 5.3.5",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/4026/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/trufflesuite/truffle/issues/4026/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/845652488",
    "html_url": "https://github.com/trufflesuite/truffle/issues/4026#issuecomment-845652488",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/4026",
    "id": 845652488,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg0NTY1MjQ4OA==",
    "user": {
      "login": "haltman-at",
      "id": 35589221,
      "node_id": "MDQ6VXNlcjM1NTg5MjIx",
      "avatar_url": "https://avatars.githubusercontent.com/u/35589221?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/haltman-at",
      "html_url": "https://github.com/haltman-at",
      "followers_url": "https://api.github.com/users/haltman-at/followers",
      "following_url": "https://api.github.com/users/haltman-at/following{/other_user}",
      "gists_url": "https://api.github.com/users/haltman-at/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/haltman-at/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/haltman-at/subscriptions",
      "organizations_url": "https://api.github.com/users/haltman-at/orgs",
      "repos_url": "https://api.github.com/users/haltman-at/repos",
      "events_url": "https://api.github.com/users/haltman-at/events{/privacy}",
      "received_events_url": "https://api.github.com/users/haltman-at/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-05-21T04:55:48Z",
    "updated_at": "2021-05-21T04:55:48Z",
    "author_association": "CONTRIBUTOR",
    "body": "Note: #4029 has now been released as a stopgap solution to this, but I'm going to leave this open for now.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/845652488/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
