{
  "url": "https://api.github.com/repos/trufflesuite/truffle/issues/1001",
  "repository_url": "https://api.github.com/repos/trufflesuite/truffle",
  "labels_url": "https://api.github.com/repos/trufflesuite/truffle/issues/1001/labels{/name}",
  "comments_url": "https://api.github.com/repos/trufflesuite/truffle/issues/1001/comments",
  "events_url": "https://api.github.com/repos/trufflesuite/truffle/issues/1001/events",
  "html_url": "https://github.com/trufflesuite/truffle/issues/1001",
  "id": 331365048,
  "node_id": "MDU6SXNzdWUzMzEzNjUwNDg=",
  "number": 1001,
  "title": "Testing assert/required using ThrowProxy",
  "user": {
    "login": "marcosmartinez7",
    "id": 14795944,
    "node_id": "MDQ6VXNlcjE0Nzk1OTQ0",
    "avatar_url": "https://avatars.githubusercontent.com/u/14795944?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/marcosmartinez7",
    "html_url": "https://github.com/marcosmartinez7",
    "followers_url": "https://api.github.com/users/marcosmartinez7/followers",
    "following_url": "https://api.github.com/users/marcosmartinez7/following{/other_user}",
    "gists_url": "https://api.github.com/users/marcosmartinez7/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/marcosmartinez7/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/marcosmartinez7/subscriptions",
    "organizations_url": "https://api.github.com/users/marcosmartinez7/orgs",
    "repos_url": "https://api.github.com/users/marcosmartinez7/repos",
    "events_url": "https://api.github.com/users/marcosmartinez7/events{/privacy}",
    "received_events_url": "https://api.github.com/users/marcosmartinez7/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 16,
  "created_at": "2018-06-11T21:56:47Z",
  "updated_at": "2019-03-27T15:28:22Z",
  "closed_at": null,
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "Hi, im trying to test the requires of a Smart Contract using just solidity according to this article:\r\n\r\nhttp://truffleframework.com/tutorials/testing-for-throws-in-solidity-tests\r\n\r\nThis is the contract, the throw proxy contract and the test:\r\n\r\n```\r\n\r\n/* Testing with solidity tests. */\r\n\r\nimport \"truffle/Assert.sol\";\r\nimport \"truffle/DeployedAddresses.sol\";\r\nimport \"../contracts/MyContract.sol\";\r\n\r\ncontract TestMyContract {\r\n\r\nfunction testInitialStoredValue() {\r\n    MyContract mycontract = new MyContract();\r\n\r\n    uint expected = 24;\r\n\r\n    Assert.equal(mycontract.mynumber(), expected, \"First number set should be 24.\");\r\n}\r\n\r\nfunction testTheThrow() {\r\n    MyContract mycontract = new MyContract(); \r\n\r\n    ThrowProxy throwproxy = new ThrowProxy(address(mycontract)); \r\n    uint num = 7;\r\n    MyContract(address(throwproxy)).storeNum(num);\r\n\r\n    bool r = throwproxy.execute.gas(200000)(); \r\n\r\n    Assert.isFalse(r, \"Should be false because is should throw!\");\r\n\r\n}\r\n\r\nfunction testNoThrow() {\r\n    MyContract mycontract = new MyContract(); \r\n\r\n    ThrowProxy throwproxy = new ThrowProxy(address(mycontract)); \r\n\r\n    MyContract(address(throwproxy)).storeNum(22);\r\n\r\n    bool r = throwproxy.execute.gas(200000)(); \r\n\r\n    Assert.isTrue(r, \"Should be true because is should throw!\");\r\n\r\n}\r\n\r\n}\r\n\r\n// Proxy contract for testing throws\r\ncontract ThrowProxy {\r\n  address public target;\r\n  bytes data;\r\n\r\n  function ThrowProxy(address _target) {\r\n    target = _target;\r\n  }\r\n\r\n  //prime the data using the fallback function.\r\n  function() {\r\n    data = msg.data;\r\n  }\r\n\r\n  function execute() returns (bool) {\r\n    return target.call(data);\r\n  }\r\n}\r\n```\r\n\r\nIf i run the tests i get this error:\r\n\r\n![2](https://user-images.githubusercontent.com/14795944/41259154-f5679576-6da8-11e8-801c-784cb99d29a8.png)\r\n\r\n\r\nIf i chang the storeNum function to void from \r\n\r\n```\r\n function storeNum(uint mynum)\r\n        public\r\n        returns (bool success)\r\n    {\r\n     require(mynum > 10);\r\n     mynumber = mynum; \r\n     return true;    \r\n    }\r\n\r\n```\r\nto\r\n\r\n```\r\n function storeNum(uint mynum)\r\n        public\r\n    {\r\n     require(mynum > 10);\r\n     mynumber = mynum; \r\n     return true;    \r\n    }\r\n\r\n```\r\n\r\nthe tests works..\r\n\r\nAny ideas? \r\n\r\nIm using Truffle v4.1.11 ",
  "closed_by": {
    "login": "stale[bot]",
    "id": 26384082,
    "node_id": "MDM6Qm90MjYzODQwODI=",
    "avatar_url": "https://avatars.githubusercontent.com/in/1724?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/stale%5Bbot%5D",
    "html_url": "https://github.com/apps/stale",
    "followers_url": "https://api.github.com/users/stale%5Bbot%5D/followers",
    "following_url": "https://api.github.com/users/stale%5Bbot%5D/following{/other_user}",
    "gists_url": "https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/stale%5Bbot%5D/subscriptions",
    "organizations_url": "https://api.github.com/users/stale%5Bbot%5D/orgs",
    "repos_url": "https://api.github.com/users/stale%5Bbot%5D/repos",
    "events_url": "https://api.github.com/users/stale%5Bbot%5D/events{/privacy}",
    "received_events_url": "https://api.github.com/users/stale%5Bbot%5D/received_events",
    "type": "Bot",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/1001/reactions",
    "total_count": 3,
    "+1": 3,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/trufflesuite/truffle/issues/1001/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/396401910",
    "html_url": "https://github.com/trufflesuite/truffle/issues/1001#issuecomment-396401910",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/1001",
    "id": 396401910,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5NjQwMTkxMA==",
    "user": {
      "login": "marcosmartinez7",
      "id": 14795944,
      "node_id": "MDQ6VXNlcjE0Nzk1OTQ0",
      "avatar_url": "https://avatars.githubusercontent.com/u/14795944?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/marcosmartinez7",
      "html_url": "https://github.com/marcosmartinez7",
      "followers_url": "https://api.github.com/users/marcosmartinez7/followers",
      "following_url": "https://api.github.com/users/marcosmartinez7/following{/other_user}",
      "gists_url": "https://api.github.com/users/marcosmartinez7/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/marcosmartinez7/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/marcosmartinez7/subscriptions",
      "organizations_url": "https://api.github.com/users/marcosmartinez7/orgs",
      "repos_url": "https://api.github.com/users/marcosmartinez7/repos",
      "events_url": "https://api.github.com/users/marcosmartinez7/events{/privacy}",
      "received_events_url": "https://api.github.com/users/marcosmartinez7/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-06-11T22:03:41Z",
    "updated_at": "2018-06-11T22:03:41Z",
    "author_association": "NONE",
    "body": "I have tried also with another functions that returns other types and the problem is the same, it only works for void functions\r\n\r\nany ideas? \r\n\r\nthanks",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/396401910/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/396613400",
    "html_url": "https://github.com/trufflesuite/truffle/issues/1001#issuecomment-396613400",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/1001",
    "id": 396613400,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5NjYxMzQwMA==",
    "user": {
      "login": "cgewecke",
      "id": 7332026,
      "node_id": "MDQ6VXNlcjczMzIwMjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7332026?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cgewecke",
      "html_url": "https://github.com/cgewecke",
      "followers_url": "https://api.github.com/users/cgewecke/followers",
      "following_url": "https://api.github.com/users/cgewecke/following{/other_user}",
      "gists_url": "https://api.github.com/users/cgewecke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cgewecke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cgewecke/subscriptions",
      "organizations_url": "https://api.github.com/users/cgewecke/orgs",
      "repos_url": "https://api.github.com/users/cgewecke/repos",
      "events_url": "https://api.github.com/users/cgewecke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cgewecke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-06-12T14:38:12Z",
    "updated_at": "2018-06-12T14:38:12Z",
    "author_association": "CONTRIBUTOR",
    "body": "@marcosmartinez7 This is super interesting - the ThrowProxy article was written a while ago and I wonder if recent changes at solidity have added that constraint. Will ask around this morning and see if anyone knows the answer to this question. \r\n\r\nOut of curiosity - do your transactional methods need return signatures? If they're used within Solidity they will automatically return `true` if they run without raising an exception and false otherwise. ",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/396613400/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 1,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/396619004",
    "html_url": "https://github.com/trufflesuite/truffle/issues/1001#issuecomment-396619004",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/1001",
    "id": 396619004,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5NjYxOTAwNA==",
    "user": {
      "login": "marcosmartinez7",
      "id": 14795944,
      "node_id": "MDQ6VXNlcjE0Nzk1OTQ0",
      "avatar_url": "https://avatars.githubusercontent.com/u/14795944?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/marcosmartinez7",
      "html_url": "https://github.com/marcosmartinez7",
      "followers_url": "https://api.github.com/users/marcosmartinez7/followers",
      "following_url": "https://api.github.com/users/marcosmartinez7/following{/other_user}",
      "gists_url": "https://api.github.com/users/marcosmartinez7/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/marcosmartinez7/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/marcosmartinez7/subscriptions",
      "organizations_url": "https://api.github.com/users/marcosmartinez7/orgs",
      "repos_url": "https://api.github.com/users/marcosmartinez7/repos",
      "events_url": "https://api.github.com/users/marcosmartinez7/events{/privacy}",
      "received_events_url": "https://api.github.com/users/marcosmartinez7/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-06-12T14:53:50Z",
    "updated_at": "2018-06-12T14:57:48Z",
    "author_association": "NONE",
    "body": "Hi @cgewecke , thanks for the answer. \r\n\r\nThere is a couple of recent (aprox 5 months ago) articles and github repos using this aproach so thats an option, i dont know if it is a constraint or the proxy aproach just doesnt work now. \r\n\r\nI really apreciate if you can research about this! \r\n\r\nAbout the methods, the code that i have posted here is just an example, but the Smart contract that i am working on is from a third party and i cannot change it, but it has the return signatures. I will ask them about that because i didnt know that they automatically return true. \r\n\r\nThanks!",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/396619004/reactions",
      "total_count": 2,
      "+1": 2,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/397482686",
    "html_url": "https://github.com/trufflesuite/truffle/issues/1001#issuecomment-397482686",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/1001",
    "id": 397482686,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5NzQ4MjY4Ng==",
    "user": {
      "login": "marcosmartinez7",
      "id": 14795944,
      "node_id": "MDQ6VXNlcjE0Nzk1OTQ0",
      "avatar_url": "https://avatars.githubusercontent.com/u/14795944?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/marcosmartinez7",
      "html_url": "https://github.com/marcosmartinez7",
      "followers_url": "https://api.github.com/users/marcosmartinez7/followers",
      "following_url": "https://api.github.com/users/marcosmartinez7/following{/other_user}",
      "gists_url": "https://api.github.com/users/marcosmartinez7/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/marcosmartinez7/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/marcosmartinez7/subscriptions",
      "organizations_url": "https://api.github.com/users/marcosmartinez7/orgs",
      "repos_url": "https://api.github.com/users/marcosmartinez7/repos",
      "events_url": "https://api.github.com/users/marcosmartinez7/events{/privacy}",
      "received_events_url": "https://api.github.com/users/marcosmartinez7/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-06-15T01:00:59Z",
    "updated_at": "2018-06-15T01:00:59Z",
    "author_association": "NONE",
    "body": "@cgewecke any news? The aproach that i have taken is to wrap all the functions that arent void functions in a test contract that expose that functions in a void way.. it is not something im proud of but works :/",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/397482686/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/397490806",
    "html_url": "https://github.com/trufflesuite/truffle/issues/1001#issuecomment-397490806",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/1001",
    "id": 397490806,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5NzQ5MDgwNg==",
    "user": {
      "login": "cgewecke",
      "id": 7332026,
      "node_id": "MDQ6VXNlcjczMzIwMjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7332026?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cgewecke",
      "html_url": "https://github.com/cgewecke",
      "followers_url": "https://api.github.com/users/cgewecke/followers",
      "following_url": "https://api.github.com/users/cgewecke/following{/other_user}",
      "gists_url": "https://api.github.com/users/cgewecke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cgewecke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cgewecke/subscriptions",
      "organizations_url": "https://api.github.com/users/cgewecke/orgs",
      "repos_url": "https://api.github.com/users/cgewecke/repos",
      "events_url": "https://api.github.com/users/cgewecke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cgewecke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-06-15T01:57:47Z",
    "updated_at": "2018-06-15T01:58:50Z",
    "author_association": "CONTRIBUTOR",
    "body": "@marcosmartinez7 I asked the @gnidan (another engineer here - he's recently written a solidity debugger and is intimately familiar with Solidity internals :) He was surprised by this behavior.\r\n\r\nBelow is all the information I can find about `address.call` in the Soldity docs (from [here](https://solidity.readthedocs.io/en/v0.4.20/types.html?highlight=.call#members-of-addresses)):\r\n\r\n>to interface with contracts that do not adhere to the ABI, the function call is provided which takes an arbitrary number of arguments of any type. These arguments are padded to 32 bytes and concatenated. One exception is the case where the first argument is encoded to exactly four bytes. In this case, it is not padded to allow the use of function signatures here.\r\n```\r\naddress nameReg = 0x72ba7d8e73fe8eb666ea66babc8116a41bfb10e2;\r\nnameReg.call(\"register\", \"MyName\");\r\nnameReg.call(bytes4(keccak256(\"fun(uint256)\")), a);\r\n```\r\n> call returns a boolean indicating whether the invoked function terminated (true) or caused an EVM exception (false). It is not possible to access the actual data returned (for this we would need to know the encoding and size in advance).\r\n\r\nThere's nothing in the [release notes](https://github.com/ethereum/solidity/releases) at Solidity that makes this clearer. \r\n\r\nThe only other thing I can think of that might be related is [this thread](https://github.com/ethereum/solidity/issues/4116) at Solidity which addresses recent changes in the way return call values are handled. \r\n\r\nIf you find anything out, please report. Will leave this issue open in the interim and thanks for the work-around, that's very helpful.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/397490806/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/415740469",
    "html_url": "https://github.com/trufflesuite/truffle/issues/1001#issuecomment-415740469",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/1001",
    "id": 415740469,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxNTc0MDQ2OQ==",
    "user": {
      "login": "schemar",
      "id": 1196244,
      "node_id": "MDQ6VXNlcjExOTYyNDQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1196244?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/schemar",
      "html_url": "https://github.com/schemar",
      "followers_url": "https://api.github.com/users/schemar/followers",
      "following_url": "https://api.github.com/users/schemar/following{/other_user}",
      "gists_url": "https://api.github.com/users/schemar/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/schemar/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/schemar/subscriptions",
      "organizations_url": "https://api.github.com/users/schemar/orgs",
      "repos_url": "https://api.github.com/users/schemar/repos",
      "events_url": "https://api.github.com/users/schemar/events{/privacy}",
      "received_events_url": "https://api.github.com/users/schemar/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-08-24T12:10:42Z",
    "updated_at": "2018-08-24T12:10:42Z",
    "author_association": "NONE",
    "body": "Just wanted to chime in and say that I have the same problem and am also using wrapper contracts now. It appears the problem is that the fallback function does not have a return value, right?",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/415740469/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/436910758",
    "html_url": "https://github.com/trufflesuite/truffle/issues/1001#issuecomment-436910758",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/1001",
    "id": 436910758,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzNjkxMDc1OA==",
    "user": {
      "login": "stale[bot]",
      "id": 26384082,
      "node_id": "MDM6Qm90MjYzODQwODI=",
      "avatar_url": "https://avatars.githubusercontent.com/in/1724?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/stale%5Bbot%5D",
      "html_url": "https://github.com/apps/stale",
      "followers_url": "https://api.github.com/users/stale%5Bbot%5D/followers",
      "following_url": "https://api.github.com/users/stale%5Bbot%5D/following{/other_user}",
      "gists_url": "https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/stale%5Bbot%5D/subscriptions",
      "organizations_url": "https://api.github.com/users/stale%5Bbot%5D/orgs",
      "repos_url": "https://api.github.com/users/stale%5Bbot%5D/repos",
      "events_url": "https://api.github.com/users/stale%5Bbot%5D/events{/privacy}",
      "received_events_url": "https://api.github.com/users/stale%5Bbot%5D/received_events",
      "type": "Bot",
      "site_admin": false
    },
    "created_at": "2018-11-08T08:21:48Z",
    "updated_at": "2018-11-08T08:21:48Z",
    "author_association": "NONE",
    "body": "Thank you for raising this issue! It has been automatically marked as stale because it has not had recent activity. It will be closed in 7 days if no further activity occurs. If you would like to keep this issue open, please respond with information about the current state of this problem.\n",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/436910758/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/438969520",
    "html_url": "https://github.com/trufflesuite/truffle/issues/1001#issuecomment-438969520",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/1001",
    "id": 438969520,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzODk2OTUyMA==",
    "user": {
      "login": "stale[bot]",
      "id": 26384082,
      "node_id": "MDM6Qm90MjYzODQwODI=",
      "avatar_url": "https://avatars.githubusercontent.com/in/1724?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/stale%5Bbot%5D",
      "html_url": "https://github.com/apps/stale",
      "followers_url": "https://api.github.com/users/stale%5Bbot%5D/followers",
      "following_url": "https://api.github.com/users/stale%5Bbot%5D/following{/other_user}",
      "gists_url": "https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/stale%5Bbot%5D/subscriptions",
      "organizations_url": "https://api.github.com/users/stale%5Bbot%5D/orgs",
      "repos_url": "https://api.github.com/users/stale%5Bbot%5D/repos",
      "events_url": "https://api.github.com/users/stale%5Bbot%5D/events{/privacy}",
      "received_events_url": "https://api.github.com/users/stale%5Bbot%5D/received_events",
      "type": "Bot",
      "site_admin": false
    },
    "created_at": "2018-11-15T09:10:01Z",
    "updated_at": "2018-11-15T09:10:01Z",
    "author_association": "NONE",
    "body": "There has been no new activity on this issue since it was marked as stale 7 days ago, so it is being automatically closed.  If you'd like help with this or a different problem, please open a new issue. Thanks!\n",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/438969520/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/450562152",
    "html_url": "https://github.com/trufflesuite/truffle/issues/1001#issuecomment-450562152",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/1001",
    "id": 450562152,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1MDU2MjE1Mg==",
    "user": {
      "login": "rmlopes",
      "id": 423404,
      "node_id": "MDQ6VXNlcjQyMzQwNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/423404?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rmlopes",
      "html_url": "https://github.com/rmlopes",
      "followers_url": "https://api.github.com/users/rmlopes/followers",
      "following_url": "https://api.github.com/users/rmlopes/following{/other_user}",
      "gists_url": "https://api.github.com/users/rmlopes/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rmlopes/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rmlopes/subscriptions",
      "organizations_url": "https://api.github.com/users/rmlopes/orgs",
      "repos_url": "https://api.github.com/users/rmlopes/repos",
      "events_url": "https://api.github.com/users/rmlopes/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rmlopes/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-12-30T13:52:06Z",
    "updated_at": "2018-12-30T13:52:06Z",
    "author_association": "NONE",
    "body": "Sorry for bumping up this. I have been struggling with this issue for a couple of days now. It looks like as long as any modifier is used the ThrowProxy will fail as described. Using Solidity v0.5.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/450562152/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/450575513",
    "html_url": "https://github.com/trufflesuite/truffle/issues/1001#issuecomment-450575513",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/1001",
    "id": 450575513,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1MDU3NTUxMw==",
    "user": {
      "login": "stale[bot]",
      "id": 26384082,
      "node_id": "MDM6Qm90MjYzODQwODI=",
      "avatar_url": "https://avatars.githubusercontent.com/in/1724?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/stale%5Bbot%5D",
      "html_url": "https://github.com/apps/stale",
      "followers_url": "https://api.github.com/users/stale%5Bbot%5D/followers",
      "following_url": "https://api.github.com/users/stale%5Bbot%5D/following{/other_user}",
      "gists_url": "https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/stale%5Bbot%5D/subscriptions",
      "organizations_url": "https://api.github.com/users/stale%5Bbot%5D/orgs",
      "repos_url": "https://api.github.com/users/stale%5Bbot%5D/repos",
      "events_url": "https://api.github.com/users/stale%5Bbot%5D/events{/privacy}",
      "received_events_url": "https://api.github.com/users/stale%5Bbot%5D/received_events",
      "type": "Bot",
      "site_admin": false
    },
    "created_at": "2018-12-30T17:36:51Z",
    "updated_at": "2018-12-30T17:36:51Z",
    "author_association": "NONE",
    "body": "Thanks for your response! This issue is no longer considered stale and someone from the Truffle team will try to respond as soon as they can.\n",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/450575513/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/475812032",
    "html_url": "https://github.com/trufflesuite/truffle/issues/1001#issuecomment-475812032",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/1001",
    "id": 475812032,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ3NTgxMjAzMg==",
    "user": {
      "login": "sleepingevil",
      "id": 9592130,
      "node_id": "MDQ6VXNlcjk1OTIxMzA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9592130?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sleepingevil",
      "html_url": "https://github.com/sleepingevil",
      "followers_url": "https://api.github.com/users/sleepingevil/followers",
      "following_url": "https://api.github.com/users/sleepingevil/following{/other_user}",
      "gists_url": "https://api.github.com/users/sleepingevil/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sleepingevil/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sleepingevil/subscriptions",
      "organizations_url": "https://api.github.com/users/sleepingevil/orgs",
      "repos_url": "https://api.github.com/users/sleepingevil/repos",
      "events_url": "https://api.github.com/users/sleepingevil/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sleepingevil/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-03-22T23:14:05Z",
    "updated_at": "2019-03-22T23:14:05Z",
    "author_association": "NONE",
    "body": "I'm having the exact same issue in a JavaScript test, using truffle 5.0.9.\r\n\r\nfunction I'm testing:\r\n\r\n```\r\nfunction transfer (address _to, uint256 _value) public returns (bool success) {\r\n        require(balanceOf[msg.sender] >= _value);\r\n\r\n        balanceOf[msg.sender] -= _value;\r\n        balanceOf[_to] += _value;\r\n\r\n        emit Transfer(msg.sender, _to, _value);\r\n\r\n        return true;\r\n    }\r\n```\r\n\r\nMy test:\r\n\r\n```\r\nit('returns false for an unsuccessful transfer', () => MyToken.deployed().then(async function (instance) {\r\n        const success = await instance.transfer.call(accounts[1], 1000001, { from: accounts[0] });\r\n\r\n        assert.equal(success, false, 'success didn\\'t equal false');\r\n    }));\r\n```\r\n\r\nExpected behavior:\r\n\r\nThe test passes.\r\n\r\nActual behavior:\r\n\r\nThe test fails with an error thrown: `Returned error: VM Exception while processing transaction: revert`",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/475812032/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/476572126",
    "html_url": "https://github.com/trufflesuite/truffle/issues/1001#issuecomment-476572126",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/1001",
    "id": 476572126,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ3NjU3MjEyNg==",
    "user": {
      "login": "eggplantzzz",
      "id": 14827965,
      "node_id": "MDQ6VXNlcjE0ODI3OTY1",
      "avatar_url": "https://avatars.githubusercontent.com/u/14827965?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eggplantzzz",
      "html_url": "https://github.com/eggplantzzz",
      "followers_url": "https://api.github.com/users/eggplantzzz/followers",
      "following_url": "https://api.github.com/users/eggplantzzz/following{/other_user}",
      "gists_url": "https://api.github.com/users/eggplantzzz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eggplantzzz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eggplantzzz/subscriptions",
      "organizations_url": "https://api.github.com/users/eggplantzzz/orgs",
      "repos_url": "https://api.github.com/users/eggplantzzz/repos",
      "events_url": "https://api.github.com/users/eggplantzzz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eggplantzzz/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-03-26T10:50:14Z",
    "updated_at": "2019-03-26T10:50:14Z",
    "author_association": "CONTRIBUTOR",
    "body": "@sleepingevil So that is currently the correct behavior when a require fails. So if you want to test it, you could put in a try/catch and test against the error that is thrown. So it would be something like this...\r\n```\r\ntry {\r\n  myContract.methodThatReverts.call();\r\n} catch (error) {\r\n  let result = error === isWhatIExpectItToBe;\r\n  assert(result);\r\n}\r\n```\r\nI hope that helps!",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/476572126/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/476646119",
    "html_url": "https://github.com/trufflesuite/truffle/issues/1001#issuecomment-476646119",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/1001",
    "id": 476646119,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ3NjY0NjExOQ==",
    "user": {
      "login": "marcosmartinez7",
      "id": 14795944,
      "node_id": "MDQ6VXNlcjE0Nzk1OTQ0",
      "avatar_url": "https://avatars.githubusercontent.com/u/14795944?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/marcosmartinez7",
      "html_url": "https://github.com/marcosmartinez7",
      "followers_url": "https://api.github.com/users/marcosmartinez7/followers",
      "following_url": "https://api.github.com/users/marcosmartinez7/following{/other_user}",
      "gists_url": "https://api.github.com/users/marcosmartinez7/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/marcosmartinez7/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/marcosmartinez7/subscriptions",
      "organizations_url": "https://api.github.com/users/marcosmartinez7/orgs",
      "repos_url": "https://api.github.com/users/marcosmartinez7/repos",
      "events_url": "https://api.github.com/users/marcosmartinez7/events{/privacy}",
      "received_events_url": "https://api.github.com/users/marcosmartinez7/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-03-26T13:47:18Z",
    "updated_at": "2019-03-26T13:47:18Z",
    "author_association": "NONE",
    "body": "@eggplantzzz No, thats not the correct behaviour in Solidity. Also, there is no try-catch block in Solidity. The code that youre posting here is a js test.",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/476646119/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/477064270",
    "html_url": "https://github.com/trufflesuite/truffle/issues/1001#issuecomment-477064270",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/1001",
    "id": 477064270,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ3NzA2NDI3MA==",
    "user": {
      "login": "sleepingevil",
      "id": 9592130,
      "node_id": "MDQ6VXNlcjk1OTIxMzA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9592130?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sleepingevil",
      "html_url": "https://github.com/sleepingevil",
      "followers_url": "https://api.github.com/users/sleepingevil/followers",
      "following_url": "https://api.github.com/users/sleepingevil/following{/other_user}",
      "gists_url": "https://api.github.com/users/sleepingevil/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sleepingevil/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sleepingevil/subscriptions",
      "organizations_url": "https://api.github.com/users/sleepingevil/orgs",
      "repos_url": "https://api.github.com/users/sleepingevil/repos",
      "events_url": "https://api.github.com/users/sleepingevil/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sleepingevil/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-03-27T09:41:22Z",
    "updated_at": "2019-03-27T09:41:22Z",
    "author_association": "NONE",
    "body": "@eggplantzzz: @marcosmartinez7 is right. This is not the expected behaviour. [ERC20 specification](https://eips.ethereum.org/EIPS/eip-20) requires the transfer method of a token to:\r\n- Throw if the sender doesn't have sufficient balance\r\n- Return a boolean\r\n\r\nI'm trying to test the return value in this case, not the exception thrown.\r\n\r\nAccording to the [throw testing documentation](https://truffleframework.com/tutorials/testing-for-throws-in-solidity-tests), you can do this in Solidity with ThrowProxy. You can also test it with `contract.transfer.call(...)` in javascript, which will not execute the transaction, but it will just make the method return its return value for testing purposes.\r\n\r\nBoth in Solidity and JavaScript this behavior is not as described, as the method throws a VM exception (revert).\r\n\r\nI posted JS code here, because the expected and actual behavior are the same in both programming languages, which makes me believe that the root cause is the same. Please advise me if I should create a separate issue for the JS one (I'm just trying to avoid having duplicate issues in github).",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/477064270/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/477182351",
    "html_url": "https://github.com/trufflesuite/truffle/issues/1001#issuecomment-477182351",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/1001",
    "id": 477182351,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ3NzE4MjM1MQ==",
    "user": {
      "login": "eggplantzzz",
      "id": 14827965,
      "node_id": "MDQ6VXNlcjE0ODI3OTY1",
      "avatar_url": "https://avatars.githubusercontent.com/u/14827965?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eggplantzzz",
      "html_url": "https://github.com/eggplantzzz",
      "followers_url": "https://api.github.com/users/eggplantzzz/followers",
      "following_url": "https://api.github.com/users/eggplantzzz/following{/other_user}",
      "gists_url": "https://api.github.com/users/eggplantzzz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eggplantzzz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eggplantzzz/subscriptions",
      "organizations_url": "https://api.github.com/users/eggplantzzz/orgs",
      "repos_url": "https://api.github.com/users/eggplantzzz/repos",
      "events_url": "https://api.github.com/users/eggplantzzz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eggplantzzz/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-03-27T14:31:28Z",
    "updated_at": "2019-03-27T14:50:30Z",
    "author_association": "CONTRIBUTOR",
    "body": "@marcosmartinez7 Sorry, I was answering @sleepingevil.\r\n\r\nFrom the Solidity docs it states that an exception occurs when the value in a require statement evaluates to `false`.\r\nhttps://solidity.readthedocs.io/en/v0.5.7/control-structures.html#error-handling-assert-require-revert-and-exceptions\r\n\r\nI guess regardless of the specs, just from looking at the Solidity code it seems like it is behaving as I would expect Solidity to behave. `throw` seems to have been removed as of Solidity 0.5.0. Am I missing something?",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/477182351/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/477209468",
    "html_url": "https://github.com/trufflesuite/truffle/issues/1001#issuecomment-477209468",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/1001",
    "id": 477209468,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ3NzIwOTQ2OA==",
    "user": {
      "login": "sleepingevil",
      "id": 9592130,
      "node_id": "MDQ6VXNlcjk1OTIxMzA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9592130?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sleepingevil",
      "html_url": "https://github.com/sleepingevil",
      "followers_url": "https://api.github.com/users/sleepingevil/followers",
      "following_url": "https://api.github.com/users/sleepingevil/following{/other_user}",
      "gists_url": "https://api.github.com/users/sleepingevil/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sleepingevil/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sleepingevil/subscriptions",
      "organizations_url": "https://api.github.com/users/sleepingevil/orgs",
      "repos_url": "https://api.github.com/users/sleepingevil/repos",
      "events_url": "https://api.github.com/users/sleepingevil/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sleepingevil/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-03-27T15:28:22Z",
    "updated_at": "2019-03-27T15:28:22Z",
    "author_association": "NONE",
    "body": "@eggplantzzz Actually, I think I'm missing something. :)\r\n\r\nNormally, if a function throws an exception, I'd expect it to stop executing, and don't return anything.\r\n\r\nHowever, I was under the assumption that in Solidity, if a function has a boolean return value, it will still return `false` even if it throws. \r\n\r\nI assumed, because that's exactly what happens in this [tutorial](https://www.youtube.com/watch?v=XdKv5uwEk5A) that I was watching. Apparently that was the incorrect behavior in the version of truffle used in the video, and what we have in truffle 5 today is correct.\r\n\r\nThanks for the help clearing the confusion!",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/477209468/reactions",
      "total_count": 3,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 3,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
