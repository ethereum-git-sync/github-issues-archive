{
  "url": "https://api.github.com/repos/trufflesuite/truffle/issues/4159",
  "repository_url": "https://api.github.com/repos/trufflesuite/truffle",
  "labels_url": "https://api.github.com/repos/trufflesuite/truffle/issues/4159/labels{/name}",
  "comments_url": "https://api.github.com/repos/trufflesuite/truffle/issues/4159/comments",
  "events_url": "https://api.github.com/repos/trufflesuite/truffle/issues/4159/events",
  "html_url": "https://github.com/trufflesuite/truffle/issues/4159",
  "id": 939226316,
  "node_id": "MDU6SXNzdWU5MzkyMjYzMTY=",
  "number": 4159,
  "title": "TypeError: Cannot read property '0' of null",
  "user": {
    "login": "Kaleb47",
    "id": 63081938,
    "node_id": "MDQ6VXNlcjYzMDgxOTM4",
    "avatar_url": "https://avatars.githubusercontent.com/u/63081938?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/Kaleb47",
    "html_url": "https://github.com/Kaleb47",
    "followers_url": "https://api.github.com/users/Kaleb47/followers",
    "following_url": "https://api.github.com/users/Kaleb47/following{/other_user}",
    "gists_url": "https://api.github.com/users/Kaleb47/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/Kaleb47/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/Kaleb47/subscriptions",
    "organizations_url": "https://api.github.com/users/Kaleb47/orgs",
    "repos_url": "https://api.github.com/users/Kaleb47/repos",
    "events_url": "https://api.github.com/users/Kaleb47/events{/privacy}",
    "received_events_url": "https://api.github.com/users/Kaleb47/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2021-07-07T20:13:39Z",
  "updated_at": "2022-02-09T19:26:51Z",
  "closed_at": "2022-02-09T19:26:51Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "- [ ] I've asked for help in the [Truffle Gitter](http://gitter.im/Consensys/truffle) before filing this issue.\r\n\r\n---------------------------\r\n\r\n## Issue\r\n\r\nTo put it simply, all of smart contracts were compiled successfully, but I think there might be something wrong with my test.js file because it might be missing a certain property.\r\n\r\n## Steps to Reproduce\r\n\r\n```npx truffle compile``` the following smart contracts from the repo  ```gnosis/dx-price-oracle```:\r\n```DutchXPriceOracle.sol```\r\n```IDutchX.sol```\r\n```Migrations.sol```\r\n```MockContracts.sol```\r\n\r\nNext run ```npx truffle test```.\r\n\r\nPlease provide the shortest amount of steps to reproduce your issue.\r\n\r\n## Expected Behavior\r\n\r\n```\r\nnpx truffle test\r\n1071\r\n1072Using gas limit: 6500 K\r\n1073Using gas price: 10 Gwei\r\n1074Optimizer enabled: true\r\n1075Using default mnemonic: true\r\n1076Using default mnemonic\r\n1077- Fetching solc version list from solc-bin\r\n1078- Downloading compiler\r\n1079Compiling ./contracts/DutchXPriceOracle.sol...\r\n1080Compiling ./contracts/IDutchX.sol...\r\n1081Compiling ./contracts/Imports.sol...\r\n1082Compiling ./contracts/Migrations.sol...\r\n1083Compiling ./contracts/WhitelistPriceOracle.sol...\r\n1084Compiling @gnosis.pm/dx-contracts/contracts/DutchExchange.sol...\r\n1085Compiling @gnosis.pm/dx-contracts/contracts/DutchExchangeHelper.sol...\r\n1086Compiling @gnosis.pm/dx-contracts/contracts/DutchExchangeProxy.sol...\r\n1087Compiling @gnosis.pm/dx-contracts/contracts/DxDevDependencies.sol...\r\n1088Compiling @gnosis.pm/dx-contracts/contracts/Oracle/DSAuth.sol...\r\n1089Compiling @gnosis.pm/dx-contracts/contracts/Oracle/DSMath.sol...\r\n1090Compiling @gnosis.pm/dx-contracts/contracts/Oracle/DSNote.sol...\r\n1091Compiling @gnosis.pm/dx-contracts/contracts/Oracle/DSThing.sol...\r\n1092Compiling @gnosis.pm/dx-contracts/contracts/Oracle/DSValue.sol...\r\n1093Compiling @gnosis.pm/dx-contracts/contracts/Oracle/Medianizer.sol...\r\n1094Compiling @gnosis.pm/dx-contracts/contracts/Oracle/PriceFeed.sol...\r\n1095Compiling @gnosis.pm/dx-contracts/contracts/Oracle/PriceOracleInterface.sol...\r\n1096Compiling @gnosis.pm/dx-contracts/contracts/TokenFRT.sol...\r\n1097Compiling @gnosis.pm/dx-contracts/contracts/TokenFRTProxy.sol...\r\n1098Compiling @gnosis.pm/dx-contracts/contracts/base/AuctioneerManaged.sol...\r\n1099Compiling @gnosis.pm/dx-contracts/contracts/base/DxMath.sol...\r\n1100Compiling @gnosis.pm/dx-contracts/contracts/base/DxUpgrade.sol...\r\n1101Compiling @gnosis.pm/dx-contracts/contracts/base/EthOracle.sol...\r\n1102Compiling @gnosis.pm/dx-contracts/contracts/base/SafeTransfer.sol...\r\n1103Compiling @gnosis.pm/dx-contracts/contracts/base/TokenWhitelist.sol...\r\n1104Compiling @gnosis.pm/gno-token/contracts/TokenGNO.sol...\r\n1105Compiling @gnosis.pm/mock-contract/contracts/MockContract.sol...\r\n1106Compiling @gnosis.pm/owl-token/contracts/OWLAirdrop.sol...\r\n1107Compiling @gnosis.pm/owl-token/contracts/TokenOWL.sol...\r\n1108Compiling @gnosis.pm/owl-token/contracts/TokenOWLProxy.sol...\r\n1109Compiling @gnosis.pm/util-contracts/contracts/EtherToken.sol...\r\n1110Compiling @gnosis.pm/util-contracts/contracts/GnosisStandardToken.sol...\r\n1111Compiling @gnosis.pm/util-contracts/contracts/Math.sol...\r\n1112Compiling @gnosis.pm/util-contracts/contracts/Proxy.sol...\r\n1113Compiling @gnosis.pm/util-contracts/contracts/Token.sol...\r\n1114Deploying DutchX MockContract\r\n1115Deploy DutchXPriceOracle using the mock DutchX:\r\n1116  - Mock DutchX address: 0x28a1252dA7C56953a579CdB4a486f64696BdEBfD\r\n1117  - Mock WETH address: 0x0000000000000000000000000000000000000001\r\n1118\r\n1119Deploy WhitelistPriceOracle using the mock DutchX:\r\n1120  - Mock DutchX address: 0x28a1252dA7C56953a579CdB4a486f64696BdEBfD\r\n1121  - Mock WETH address: 0x0000000000000000000000000000000000000001\r\n1122\r\n1123\r\n1124  Contract: DutchXPriceOracle\r\n1125~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n1126[ { auctionIndex: 0,\r\n1127    num: 554194827840,\r\n1128    den: 12358446813,\r\n1129    clearingTime: 1552570934 },\r\n1130  { auctionIndex: 1,\r\n1131    num: 126270548826,\r\n1132    den: 384320833039,\r\n1133    clearingTime: 1552605877 },\r\n1134  { auctionIndex: 2,\r\n1135    num: 531621722047,\r\n1136    den: 485222699792,\r\n1137    clearingTime: 1552646252 },\r\n1138  { auctionIndex: 3,\r\n1139    num: 694476422673,\r\n1140    den: 994097048096,\r\n1141    clearingTime: 1552672647 },\r\n1142  { auctionIndex: 4,\r\n1143    num: 633489716929,\r\n1144    den: 109901959035,\r\n1145    clearingTime: 1552704387 },\r\n1146  { auctionIndex: 5,\r\n1147    num: 486169460458,\r\n1148    den: 392151037123,\r\n1149    clearingTime: 1552749696 },\r\n1150  { auctionIndex: 6,\r\n1151    num: 852316326969,\r\n1152    den: 12925318719,\r\n1153    clearingTime: 1552797546 },\r\n1154  { auctionIndex: 7,\r\n1155    num: 419814186045,\r\n1156    den: 950224204100,\r\n1157    clearingTime: 1552824430 },\r\n1158  { auctionIndex: 8,\r\n1159    num: 969939934433,\r\n1160    den: 145790060406,\r\n1161    clearingTime: 1552848580 },\r\n1162  { auctionIndex: 9,\r\n1163    num: 995510544674,\r\n1164    den: 794003675439,\r\n1165    clearingTime: 1552873047 },\r\n1166  { auctionIndex: 10,\r\n1167    num: 554921678996,\r\n1168    den: 454000654762,\r\n1169    clearingTime: 1552886142 },\r\n1170  { auctionIndex: 11,\r\n1171    num: 800743921022,\r\n1172    den: 51215561556,\r\n1173    clearingTime: 1552899552 },\r\n1174  { auctionIndex: 12,\r\n1175    num: 355496762229,\r\n1176    den: 969308717759,\r\n1177    clearingTime: 1552910336 },\r\n1178  { auctionIndex: 13,\r\n1179    num: 735939905745,\r\n1180    den: 514571985417,\r\n1181    clearingTime: 1552945601 },\r\n1182  { auctionIndex: 14,\r\n1183    num: 727428966115,\r\n1184    den: 394998814054,\r\n1185    clearingTime: 1552962944 },\r\n1186  { auctionIndex: 15,\r\n1187    num: 250468786299,\r\n1188    den: 276750443041,\r\n1189    clearingTime: 1552995814 },\r\n1190  { auctionIndex: 16,\r\n1191    num: 156201826830,\r\n1192    den: 921318016628,\r\n1193    clearingTime: 1553016097 },\r\n1194  { auctionIndex: 17,\r\n1195    num: 883145068037,\r\n1196    den: 56833206366,\r\n1197    clearingTime: 1553045990 },\r\n1198  { auctionIndex: 18,\r\n1199    num: 488656740230,\r\n1200    den: 74391876942,\r\n1201    clearingTime: 1553090819 },\r\n1202  { auctionIndex: 19,\r\n1203    num: 46376008215,\r\n1204    den: 180708149733,\r\n1205    clearingTime: 1553139642 },\r\n1206  { auctionIndex: 20,\r\n1207    num: 486814695241,\r\n1208    den: 486105362195,\r\n1209    clearingTime: 1553150606 },\r\n1210  { auctionIndex: 21,\r\n1211    num: 225262630278,\r\n1212    den: 711152553528,\r\n1213    clearingTime: 1553165830 },\r\n1214  { auctionIndex: 22,\r\n1215    num: 84521609265,\r\n1216    den: 140081766517,\r\n1217    clearingTime: 1553206614 },\r\n1218  { auctionIndex: 23,\r\n1219    num: 908739501085,\r\n1220    den: 416888072691,\r\n1221    clearingTime: 1553247453 },\r\n1222  { auctionIndex: 24,\r\n1223    num: 284866699308,\r\n1224    den: 638815636096,\r\n1225    clearingTime: 1553289671 },\r\n1226  { auctionIndex: 25,\r\n1227    num: 489890233117,\r\n1228    den: 260685249621,\r\n1229    clearingTime: 1553301435 },\r\n1230  { auctionIndex: 26,\r\n1231    num: 762914410952,\r\n1232    den: 541649499901,\r\n1233    clearingTime: 1553340872 },\r\n1234  { auctionIndex: 27,\r\n1235    num: 204685720912,\r\n1236    den: 111826402848,\r\n1237    clearingTime: 1553374725 },\r\n1238  { auctionIndex: 28,\r\n1239    num: 31684951624,\r\n1240    den: 735575080277,\r\n1241    clearingTime: 1553409232 },\r\n1242  { auctionIndex: 29,\r\n1243    num: 353668176049,\r\n1244    den: 933934499192,\r\n1245    clearingTime: 1553453459 },\r\n1246  { auctionIndex: 30,\r\n1247    num: 958829304947,\r\n1248    den: 235240689246,\r\n1249    clearingTime: 1553474175 },\r\n1250  { auctionIndex: 31,\r\n1251    num: 629862866868,\r\n1252    den: 625342083076,\r\n1253    clearingTime: 1553507613 },\r\n1254  { auctionIndex: 32,\r\n1255    num: 420554378555,\r\n1256    den: 108752612255,\r\n1257    clearingTime: 1553518682 },\r\n1258  { auctionIndex: 33,\r\n1259    num: 222859488388,\r\n1260    den: 141120029080,\r\n1261    clearingTime: 1553568769 },\r\n1262  { auctionIndex: 34,\r\n1263    num: 405547414770,\r\n1264    den: 711418049891,\r\n1265    clearingTime: 1553590337 },\r\n1266  { auctionIndex: 35,\r\n1267    num: 892624563047,\r\n1268    den: 778185483763,\r\n1269    clearingTime: 1553610664 },\r\n1270  { auctionIndex: 36,\r\n1271    num: 455118865986,\r\n1272    den: 70398968650,\r\n1273    clearingTime: 1553659340 },\r\n1274  { auctionIndex: 37,\r\n1275    num: 538166884016,\r\n1276    den: 775489836117,\r\n1277    clearingTime: 1553688390 },\r\n1278  { auctionIndex: 38,\r\n1279    num: 580185320543,\r\n1280    den: 426861804732,\r\n1281    clearingTime: 1553725887 },\r\n1282  { auctionIndex: 39,\r\n1283    num: 449998843423,\r\n1284    den: 83701178457,\r\n1285    clearingTime: 1553763424 },\r\n1286  { auctionIndex: 40,\r\n1287    num: 256363960983,\r\n1288    den: 431974853527,\r\n1289    clearingTime: 1553809437 },\r\n1290  { auctionIndex: 41,\r\n1291    num: 220390608314,\r\n1292    den: 778962251110,\r\n1293    clearingTime: 1553842010 },\r\n1294  { auctionIndex: 42,\r\n1295    num: 897267491405,\r\n1296    den: 544497941418,\r\n1297    clearingTime: 1553865116 },\r\n1298  { auctionIndex: 43,\r\n1299    num: 661775835387,\r\n1300    den: 649441994298,\r\n1301    clearingTime: 1553878150 },\r\n1302  { auctionIndex: 44,\r\n1303    num: 320730794680,\r\n1304    den: 45506905727,\r\n1305    clearingTime: 1553901344 },\r\n1306  { auctionIndex: 45,\r\n1307    num: 633503832629,\r\n1308    den: 972539858935,\r\n1309    clearingTime: 1553949126 },\r\n1310  { auctionIndex: 46,\r\n1311    num: 816070300128,\r\n1312    den: 829855682455,\r\n1313    clearingTime: 1553980139 },\r\n1314  { auctionIndex: 47,\r\n1315    num: 57775694823,\r\n1316    den: 152147276915,\r\n1317    clearingTime: 1553995936 },\r\n1318  { auctionIndex: 48,\r\n1319    num: 670141643328,\r\n1320    den: 989932630838,\r\n1321    clearingTime: 1554040914 },\r\n1322  { auctionIndex: 49,\r\n1323    num: 773513364094,\r\n1324    den: 61847915087,\r\n1325    clearingTime: 1554063138 } ]\r\n1326~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n1327    ✓ getPrice() correct (705ms)\r\n1328    ✓ getPriceCustom() correct (9367ms)\r\n1329    ✓ getPricesAndMedian() correct (16588ms)\r\n1330    ✓ isWhitelisted() correct (205ms)\r\n1331    ✓ isSmaller() correct (87ms)\r\n1332    ✓ computeAuctionIndex() correct (6346ms)\r\n1333\r\n1334\r\n1335  6 passing (40s)\r\n1336\r\n1337 The command \"npm test\" exited with 0.\r\n```\r\n## Actual Results\r\n\r\n```\r\nUsing gas limit: 6500 K\r\nUsing gas price: 10 Gwei\r\nOptimizer enabled: true\r\nUsing default mnemonic: true\r\nUsing default mnemonic\r\nUsing network 'development'.\r\n\r\n\r\nCompiling your contracts...\r\n===========================\r\n> Compiling ./contracts/MockContracts.sol\r\nTypeError: Cannot read property '0' of null\r\n    at detectErrors (/Users/kalebamarante/node_modules/truffle/build/webpack:/packages/compile-solidity/run.js:293:61)\r\n    at run (/Users/kalebamarante/node_modules/truffle/build/webpack:/packages/compile-solidity/run.js:37:29)\r\n    at Object.sourcesWithDependencies (/Users/kalebamarante/node_modules/truffle/build/webpack:/packages/compile-solidity/index.js:78:49)\r\n    at necessary (/Users/kalebamarante/node_modules/truffle/build/webpack:/packages/compile-solidity/index.js:40:1)\r\n    at /Users/kalebamarante/node_modules/truffle/build/webpack:/packages/workflow-compile/index.js:38:1\r\n    at async Promise.all (index 0)\r\n    at compile (/Users/kalebamarante/node_modules/truffle/build/webpack:/packages/workflow-compile/index.js:28:1)\r\n    at Object.compile (/Users/kalebamarante/node_modules/truffle/build/webpack:/packages/workflow-compile/index.js:67:38)\r\n    at Object.compileAndSave (/Users/kalebamarante/node_modules/truffle/build/webpack:/packages/workflow-compile/index.js:92:38)\r\n    at Object.compileContractsWithTestFilesIfNeeded (/Users/kalebamarante/node_modules/truffle/build/webpack:/packages/core/lib/test.js:247:38)\r\n    at Object.run (/Users/kalebamarante/node_modules/truffle/build/webpack:/packages/core/lib/test.js:105:27)\r\nTruffle v5.1.45 (core: 5.1.45)\r\nNode v16.4.0\r\n```\r\n\r\n\r\n## Environment\r\n\r\n* Operating System: Mac OS\r\n* Ethereum client: Web3js\r\n* Truffle version (`truffle version`): 7:18:1\r\n* node version (`node --version`): 16:4:0\r\n* npm version (`npm --version`):  7.18.1\r\n",
  "closed_by": {
    "login": "haltman-at",
    "id": 35589221,
    "node_id": "MDQ6VXNlcjM1NTg5MjIx",
    "avatar_url": "https://avatars.githubusercontent.com/u/35589221?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/haltman-at",
    "html_url": "https://github.com/haltman-at",
    "followers_url": "https://api.github.com/users/haltman-at/followers",
    "following_url": "https://api.github.com/users/haltman-at/following{/other_user}",
    "gists_url": "https://api.github.com/users/haltman-at/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/haltman-at/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/haltman-at/subscriptions",
    "organizations_url": "https://api.github.com/users/haltman-at/orgs",
    "repos_url": "https://api.github.com/users/haltman-at/repos",
    "events_url": "https://api.github.com/users/haltman-at/events{/privacy}",
    "received_events_url": "https://api.github.com/users/haltman-at/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/4159/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/trufflesuite/truffle/issues/4159/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/875916469",
    "html_url": "https://github.com/trufflesuite/truffle/issues/4159#issuecomment-875916469",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/4159",
    "id": 875916469,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg3NTkxNjQ2OQ==",
    "user": {
      "login": "haltman-at",
      "id": 35589221,
      "node_id": "MDQ6VXNlcjM1NTg5MjIx",
      "avatar_url": "https://avatars.githubusercontent.com/u/35589221?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/haltman-at",
      "html_url": "https://github.com/haltman-at",
      "followers_url": "https://api.github.com/users/haltman-at/followers",
      "following_url": "https://api.github.com/users/haltman-at/following{/other_user}",
      "gists_url": "https://api.github.com/users/haltman-at/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/haltman-at/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/haltman-at/subscriptions",
      "organizations_url": "https://api.github.com/users/haltman-at/orgs",
      "repos_url": "https://api.github.com/users/haltman-at/repos",
      "events_url": "https://api.github.com/users/haltman-at/events{/privacy}",
      "received_events_url": "https://api.github.com/users/haltman-at/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-07T20:38:37Z",
    "updated_at": "2021-07-07T20:38:37Z",
    "author_association": "CONTRIBUTOR",
    "body": "Hm, that shouldn't happen.  Do you have a reproduction example we could inspect?  Thank you!",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/875916469/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/1034115476",
    "html_url": "https://github.com/trufflesuite/truffle/issues/4159#issuecomment-1034115476",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/4159",
    "id": 1034115476,
    "node_id": "IC_kwDOAkfq-c49o1mU",
    "user": {
      "login": "haltman-at",
      "id": 35589221,
      "node_id": "MDQ6VXNlcjM1NTg5MjIx",
      "avatar_url": "https://avatars.githubusercontent.com/u/35589221?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/haltman-at",
      "html_url": "https://github.com/haltman-at",
      "followers_url": "https://api.github.com/users/haltman-at/followers",
      "following_url": "https://api.github.com/users/haltman-at/following{/other_user}",
      "gists_url": "https://api.github.com/users/haltman-at/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/haltman-at/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/haltman-at/subscriptions",
      "organizations_url": "https://api.github.com/users/haltman-at/orgs",
      "repos_url": "https://api.github.com/users/haltman-at/repos",
      "events_url": "https://api.github.com/users/haltman-at/events{/privacy}",
      "received_events_url": "https://api.github.com/users/haltman-at/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-02-09T19:26:51Z",
    "updated_at": "2022-02-09T19:26:51Z",
    "author_association": "CONTRIBUTOR",
    "body": "Closing this for issue maintenance, but please let us know if there's still a problem, thanks!",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/1034115476/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
