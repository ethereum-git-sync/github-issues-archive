{
  "url": "https://api.github.com/repos/trufflesuite/truffle/issues/1543",
  "repository_url": "https://api.github.com/repos/trufflesuite/truffle",
  "labels_url": "https://api.github.com/repos/trufflesuite/truffle/issues/1543/labels{/name}",
  "comments_url": "https://api.github.com/repos/trufflesuite/truffle/issues/1543/comments",
  "events_url": "https://api.github.com/repos/trufflesuite/truffle/issues/1543/events",
  "html_url": "https://github.com/trufflesuite/truffle/issues/1543",
  "id": 391324058,
  "node_id": "MDU6SXNzdWUzOTEzMjQwNTg=",
  "number": 1543,
  "title": "Accommodate broken support for Quorum/other chains via `--legacy` flags to use old code",
  "user": {
    "login": "gnidan",
    "id": 151065,
    "node_id": "MDQ6VXNlcjE1MTA2NQ==",
    "avatar_url": "https://avatars.githubusercontent.com/u/151065?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/gnidan",
    "html_url": "https://github.com/gnidan",
    "followers_url": "https://api.github.com/users/gnidan/followers",
    "following_url": "https://api.github.com/users/gnidan/following{/other_user}",
    "gists_url": "https://api.github.com/users/gnidan/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/gnidan/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/gnidan/subscriptions",
    "organizations_url": "https://api.github.com/users/gnidan/orgs",
    "repos_url": "https://api.github.com/users/gnidan/repos",
    "events_url": "https://api.github.com/users/gnidan/events{/privacy}",
    "received_events_url": "https://api.github.com/users/gnidan/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 1205502427,
      "node_id": "MDU6TGFiZWwxMjA1NTAyNDI3",
      "url": "https://api.github.com/repos/trufflesuite/truffle/labels/Enterprise",
      "name": "Enterprise",
      "color": "b8def2",
      "default": false,
      "description": ""
    },
    {
      "id": 1205502598,
      "node_id": "MDU6TGFiZWwxMjA1NTAyNTk4",
      "url": "https://api.github.com/repos/trufflesuite/truffle/labels/Quorum",
      "name": "Quorum",
      "color": "a5f7dd",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": {
    "login": "mikeseese",
    "id": 549323,
    "node_id": "MDQ6VXNlcjU0OTMyMw==",
    "avatar_url": "https://avatars.githubusercontent.com/u/549323?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/mikeseese",
    "html_url": "https://github.com/mikeseese",
    "followers_url": "https://api.github.com/users/mikeseese/followers",
    "following_url": "https://api.github.com/users/mikeseese/following{/other_user}",
    "gists_url": "https://api.github.com/users/mikeseese/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/mikeseese/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/mikeseese/subscriptions",
    "organizations_url": "https://api.github.com/users/mikeseese/orgs",
    "repos_url": "https://api.github.com/users/mikeseese/repos",
    "events_url": "https://api.github.com/users/mikeseese/events{/privacy}",
    "received_events_url": "https://api.github.com/users/mikeseese/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "mikeseese",
      "id": 549323,
      "node_id": "MDQ6VXNlcjU0OTMyMw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/549323?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mikeseese",
      "html_url": "https://github.com/mikeseese",
      "followers_url": "https://api.github.com/users/mikeseese/followers",
      "following_url": "https://api.github.com/users/mikeseese/following{/other_user}",
      "gists_url": "https://api.github.com/users/mikeseese/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mikeseese/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mikeseese/subscriptions",
      "organizations_url": "https://api.github.com/users/mikeseese/orgs",
      "repos_url": "https://api.github.com/users/mikeseese/repos",
      "events_url": "https://api.github.com/users/mikeseese/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mikeseese/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 5,
  "created_at": "2018-12-15T00:39:19Z",
  "updated_at": "2019-03-21T22:46:23Z",
  "closed_at": "2019-03-14T17:53:19Z",
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": "Discovered by @CruzMolina and @EdsonAlcala: Quorum support in Truffle seems to be broken with the new migrations system.\n\nThis is most directly observed in the failing `web3.eth.getBlock()` call on [this line](https://github.com/trufflesuite/truffle/blob/next/packages/truffle-migrate/migration.js#L186), where web3.js fails to decode the blog gas limit due to a web3-internal `bn.toNumber()` call (`Error: Number can only safely store up to 53 bits`), but there may be other problems.\n\nAs a last-minute effort to maintain Quorum support, @CruzMolina has proposed the idea of a legacy system, to take the code on `develop` and wire it up as an alternative for `truffle migrate` and `truffle test`.",
  "closed_by": {
    "login": "mikeseese",
    "id": 549323,
    "node_id": "MDQ6VXNlcjU0OTMyMw==",
    "avatar_url": "https://avatars.githubusercontent.com/u/549323?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/mikeseese",
    "html_url": "https://github.com/mikeseese",
    "followers_url": "https://api.github.com/users/mikeseese/followers",
    "following_url": "https://api.github.com/users/mikeseese/following{/other_user}",
    "gists_url": "https://api.github.com/users/mikeseese/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/mikeseese/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/mikeseese/subscriptions",
    "organizations_url": "https://api.github.com/users/mikeseese/orgs",
    "repos_url": "https://api.github.com/users/mikeseese/repos",
    "events_url": "https://api.github.com/users/mikeseese/events{/privacy}",
    "received_events_url": "https://api.github.com/users/mikeseese/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/1543/reactions",
    "total_count": 1,
    "+1": 1,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/trufflesuite/truffle/issues/1543/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/462251006",
    "html_url": "https://github.com/trufflesuite/truffle/issues/1543#issuecomment-462251006",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/1543",
    "id": 462251006,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2MjI1MTAwNg==",
    "user": {
      "login": "melnikaite",
      "id": 900724,
      "node_id": "MDQ6VXNlcjkwMDcyNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/900724?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/melnikaite",
      "html_url": "https://github.com/melnikaite",
      "followers_url": "https://api.github.com/users/melnikaite/followers",
      "following_url": "https://api.github.com/users/melnikaite/following{/other_user}",
      "gists_url": "https://api.github.com/users/melnikaite/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/melnikaite/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/melnikaite/subscriptions",
      "organizations_url": "https://api.github.com/users/melnikaite/orgs",
      "repos_url": "https://api.github.com/users/melnikaite/repos",
      "events_url": "https://api.github.com/users/melnikaite/events{/privacy}",
      "received_events_url": "https://api.github.com/users/melnikaite/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-02-11T08:38:25Z",
    "updated_at": "2019-02-11T08:38:25Z",
    "author_association": "NONE",
    "body": "Have a look at this approach https://stackoverflow.com/a/54595252/1099933",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/462251006/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/463328419",
    "html_url": "https://github.com/trufflesuite/truffle/issues/1543#issuecomment-463328419",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/1543",
    "id": 463328419,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2MzMyODQxOQ==",
    "user": {
      "login": "mikeseese",
      "id": 549323,
      "node_id": "MDQ6VXNlcjU0OTMyMw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/549323?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mikeseese",
      "html_url": "https://github.com/mikeseese",
      "followers_url": "https://api.github.com/users/mikeseese/followers",
      "following_url": "https://api.github.com/users/mikeseese/following{/other_user}",
      "gists_url": "https://api.github.com/users/mikeseese/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mikeseese/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mikeseese/subscriptions",
      "organizations_url": "https://api.github.com/users/mikeseese/orgs",
      "repos_url": "https://api.github.com/users/mikeseese/repos",
      "events_url": "https://api.github.com/users/mikeseese/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mikeseese/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-02-13T19:13:55Z",
    "updated_at": "2019-02-13T19:13:55Z",
    "author_association": "CONTRIBUTOR",
    "body": "Thanks @melnikaite for the suggestion! The approach taken in #1544 to support this issue covers other potential vectors where the \"old\" version of web3 (`0.20.x`) is needed than just this specific case with Quorum\r\n\r\nWith that said, your approach may come in handy with some future work around this issue, and we'll keep it in mind! Thanks again!",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/463328419/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/472991969",
    "html_url": "https://github.com/trufflesuite/truffle/issues/1543#issuecomment-472991969",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/1543",
    "id": 472991969,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ3Mjk5MTk2OQ==",
    "user": {
      "login": "mikeseese",
      "id": 549323,
      "node_id": "MDQ6VXNlcjU0OTMyMw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/549323?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mikeseese",
      "html_url": "https://github.com/mikeseese",
      "followers_url": "https://api.github.com/users/mikeseese/followers",
      "following_url": "https://api.github.com/users/mikeseese/following{/other_user}",
      "gists_url": "https://api.github.com/users/mikeseese/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mikeseese/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mikeseese/subscriptions",
      "organizations_url": "https://api.github.com/users/mikeseese/orgs",
      "repos_url": "https://api.github.com/users/mikeseese/repos",
      "events_url": "https://api.github.com/users/mikeseese/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mikeseese/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-03-14T18:02:12Z",
    "updated_at": "2019-03-14T18:02:12Z",
    "author_association": "CONTRIBUTOR",
    "body": "#1806 fixes this issue. The original issue was due to large timestamps, not large gas limits (#1809 addresses large gas limits).\r\n\r\nThis will go into the next release of Truffle. The fix addressed here will now let you use Truffle v5 with the Quorum tutorial found [here](https://truffleframework.com/tutorials/building-dapps-for-quorum-private-enterprise-blockchains).\r\n\r\nThe documentation on the above tutorial and the [official docs](https://truffleframework.com/docs) will be updated before the release.\r\n\r\nGoing forward, you'll be able to specify `type: \"quorum\"` in your `truffle(-config)?.js` network, like such:\r\n```\r\n...,\r\nnetworks: {\r\n  development: {\r\n    type: \"quorum\",\r\n    ...\r\n  }\r\n}\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/472991969/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/475375952",
    "html_url": "https://github.com/trufflesuite/truffle/issues/1543#issuecomment-475375952",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/1543",
    "id": 475375952,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ3NTM3NTk1Mg==",
    "user": {
      "login": "mikeseese",
      "id": 549323,
      "node_id": "MDQ6VXNlcjU0OTMyMw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/549323?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mikeseese",
      "html_url": "https://github.com/mikeseese",
      "followers_url": "https://api.github.com/users/mikeseese/followers",
      "following_url": "https://api.github.com/users/mikeseese/following{/other_user}",
      "gists_url": "https://api.github.com/users/mikeseese/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mikeseese/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mikeseese/subscriptions",
      "organizations_url": "https://api.github.com/users/mikeseese/orgs",
      "repos_url": "https://api.github.com/users/mikeseese/repos",
      "events_url": "https://api.github.com/users/mikeseese/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mikeseese/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-03-21T19:44:57Z",
    "updated_at": "2019-03-21T19:44:57Z",
    "author_association": "CONTRIBUTOR",
    "body": "This has been released in https://github.com/trufflesuite/truffle/releases/tag/v5.0.9",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/475375952/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/475431368",
    "html_url": "https://github.com/trufflesuite/truffle/issues/1543#issuecomment-475431368",
    "issue_url": "https://api.github.com/repos/trufflesuite/truffle/issues/1543",
    "id": 475431368,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ3NTQzMTM2OA==",
    "user": {
      "login": "mikeseese",
      "id": 549323,
      "node_id": "MDQ6VXNlcjU0OTMyMw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/549323?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mikeseese",
      "html_url": "https://github.com/mikeseese",
      "followers_url": "https://api.github.com/users/mikeseese/followers",
      "following_url": "https://api.github.com/users/mikeseese/following{/other_user}",
      "gists_url": "https://api.github.com/users/mikeseese/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mikeseese/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mikeseese/subscriptions",
      "organizations_url": "https://api.github.com/users/mikeseese/orgs",
      "repos_url": "https://api.github.com/users/mikeseese/repos",
      "events_url": "https://api.github.com/users/mikeseese/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mikeseese/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-03-21T22:46:23Z",
    "updated_at": "2019-03-21T22:46:23Z",
    "author_association": "CONTRIBUTOR",
    "body": "Please let us know if you have any issues or questions! You can [read documentation on the necessary changes to use Quorum here](https://truffleframework.com/docs/truffle/getting-started/working-with-quorum).",
    "reactions": {
      "url": "https://api.github.com/repos/trufflesuite/truffle/issues/comments/475431368/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
