{
  "url": "https://api.github.com/repos/foundry-rs/foundry/issues/4816",
  "repository_url": "https://api.github.com/repos/foundry-rs/foundry",
  "labels_url": "https://api.github.com/repos/foundry-rs/foundry/issues/4816/labels{/name}",
  "comments_url": "https://api.github.com/repos/foundry-rs/foundry/issues/4816/comments",
  "events_url": "https://api.github.com/repos/foundry-rs/foundry/issues/4816/events",
  "html_url": "https://github.com/foundry-rs/foundry/issues/4816",
  "id": 1681683442,
  "node_id": "I_kwDOGBlvNc5kPHPy",
  "number": 4816,
  "title": "feat (cheatcode) send raw signed tx",
  "user": {
    "login": "wighawag",
    "id": 790580,
    "node_id": "MDQ6VXNlcjc5MDU4MA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/790580?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/wighawag",
    "html_url": "https://github.com/wighawag",
    "followers_url": "https://api.github.com/users/wighawag/followers",
    "following_url": "https://api.github.com/users/wighawag/following{/other_user}",
    "gists_url": "https://api.github.com/users/wighawag/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/wighawag/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/wighawag/subscriptions",
    "organizations_url": "https://api.github.com/users/wighawag/orgs",
    "repos_url": "https://api.github.com/users/wighawag/repos",
    "events_url": "https://api.github.com/users/wighawag/events{/privacy}",
    "received_events_url": "https://api.github.com/users/wighawag/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 3593644820,
      "node_id": "LA_kwDOGBlvNc7WMqsU",
      "url": "https://api.github.com/repos/foundry-rs/foundry/labels/T-feature",
      "name": "T-feature",
      "color": "BFD4F2",
      "default": false,
      "description": "Type: feature"
    },
    {
      "id": 3703752787,
      "node_id": "LA_kwDOGBlvNc7cwshT",
      "url": "https://api.github.com/repos/foundry-rs/foundry/labels/C-forge",
      "name": "C-forge",
      "color": "5319E7",
      "default": false,
      "description": "Command: forge"
    },
    {
      "id": 3703752960,
      "node_id": "LA_kwDOGBlvNc7cwskA",
      "url": "https://api.github.com/repos/foundry-rs/foundry/labels/A-cheatcodes",
      "name": "A-cheatcodes",
      "color": "FBCA04",
      "default": false,
      "description": "Area: cheatcodes"
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": {
    "login": "teddav",
    "id": 9486739,
    "node_id": "MDQ6VXNlcjk0ODY3Mzk=",
    "avatar_url": "https://avatars.githubusercontent.com/u/9486739?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/teddav",
    "html_url": "https://github.com/teddav",
    "followers_url": "https://api.github.com/users/teddav/followers",
    "following_url": "https://api.github.com/users/teddav/following{/other_user}",
    "gists_url": "https://api.github.com/users/teddav/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/teddav/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/teddav/subscriptions",
    "organizations_url": "https://api.github.com/users/teddav/orgs",
    "repos_url": "https://api.github.com/users/teddav/repos",
    "events_url": "https://api.github.com/users/teddav/events{/privacy}",
    "received_events_url": "https://api.github.com/users/teddav/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "teddav",
      "id": 9486739,
      "node_id": "MDQ6VXNlcjk0ODY3Mzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9486739?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/teddav",
      "html_url": "https://github.com/teddav",
      "followers_url": "https://api.github.com/users/teddav/followers",
      "following_url": "https://api.github.com/users/teddav/following{/other_user}",
      "gists_url": "https://api.github.com/users/teddav/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/teddav/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/teddav/subscriptions",
      "organizations_url": "https://api.github.com/users/teddav/orgs",
      "repos_url": "https://api.github.com/users/teddav/repos",
      "events_url": "https://api.github.com/users/teddav/events{/privacy}",
      "received_events_url": "https://api.github.com/users/teddav/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 1,
  "created_at": "2023-04-24T16:57:33Z",
  "updated_at": "2023-05-08T17:19:36Z",
  "closed_at": null,
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "### Component\n\nForge\n\n### Describe the feature you would like\n\nit would be great to have the ability to send raw signed tx in soldity.\r\n\r\nOne use case is the ability to deploy contract using Nick's method (like the create2 factory used by forge)\r\n\r\n\n\n### Additional context\n\n_No response_",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/4816/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/foundry-rs/foundry/issues/4816/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1538750086",
    "html_url": "https://github.com/foundry-rs/foundry/issues/4816#issuecomment-1538750086",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/4816",
    "id": 1538750086,
    "node_id": "IC_kwDOGBlvNc5bt3aG",
    "user": {
      "login": "teddav",
      "id": 9486739,
      "node_id": "MDQ6VXNlcjk0ODY3Mzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9486739?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/teddav",
      "html_url": "https://github.com/teddav",
      "followers_url": "https://api.github.com/users/teddav/followers",
      "following_url": "https://api.github.com/users/teddav/following{/other_user}",
      "gists_url": "https://api.github.com/users/teddav/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/teddav/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/teddav/subscriptions",
      "organizations_url": "https://api.github.com/users/teddav/orgs",
      "repos_url": "https://api.github.com/users/teddav/repos",
      "events_url": "https://api.github.com/users/teddav/events{/privacy}",
      "received_events_url": "https://api.github.com/users/teddav/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-05-08T17:18:23Z",
    "updated_at": "2023-05-08T17:18:23Z",
    "author_association": "CONTRIBUTOR",
    "body": "I just started working on this issue but I have a few questions.  \r\nI created a `sendRawTransaction(bytes)` cheatcode that takes as input the signed transaction.\r\nThe bytes are then converted to a TransactionRequest with `TransactionRequest::decode_signed_rlp` and then I want to apply the transaction to the current state but I can't figure out how to do that.\r\n\r\nI looked at how `vm.transact` is implemented and tried something similar.  \r\nIn the `Backend` I created a `transact_from_tx` function that applies the tx to the current DB with `self.inspect_ref`.\r\nThe problem is that I need to merge the current JournalState to the DB. Why?  \r\nLet's say I want to use `vm.sendRawTransaction` for simple tx where account A sends 1 wei to account B.\r\nThe problem is A doesnt have any balance, so I use vm.deal() just before using `vm.sendRawTransaction()`  \r\nBut this is only recorded to the JournalState and not the DB, and when trying to apply a transaction (with `transact()` or `commit()`) it checks the state of the DB so the balance of A is 0. \r\n\r\nMaybe there is a simpler way to implement that. Any help would be appreciated ðŸ˜Š\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1538750086/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
