{
  "url": "https://api.github.com/repos/foundry-rs/foundry/issues/5047",
  "repository_url": "https://api.github.com/repos/foundry-rs/foundry",
  "labels_url": "https://api.github.com/repos/foundry-rs/foundry/issues/5047/labels{/name}",
  "comments_url": "https://api.github.com/repos/foundry-rs/foundry/issues/5047/comments",
  "events_url": "https://api.github.com/repos/foundry-rs/foundry/issues/5047/events",
  "html_url": "https://github.com/foundry-rs/foundry/issues/5047",
  "id": 1726331546,
  "node_id": "I_kwDOGBlvNc5m5bqa",
  "number": 5047,
  "title": "Resuming a multi chain deployment leads to: The application panicked (crashed). Message:  to have been filled with a proper rpc",
  "user": {
    "login": "0xTimepunk",
    "id": 45543880,
    "node_id": "MDQ6VXNlcjQ1NTQzODgw",
    "avatar_url": "https://avatars.githubusercontent.com/u/45543880?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/0xTimepunk",
    "html_url": "https://github.com/0xTimepunk",
    "followers_url": "https://api.github.com/users/0xTimepunk/followers",
    "following_url": "https://api.github.com/users/0xTimepunk/following{/other_user}",
    "gists_url": "https://api.github.com/users/0xTimepunk/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/0xTimepunk/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/0xTimepunk/subscriptions",
    "organizations_url": "https://api.github.com/users/0xTimepunk/orgs",
    "repos_url": "https://api.github.com/users/0xTimepunk/repos",
    "events_url": "https://api.github.com/users/0xTimepunk/events{/privacy}",
    "received_events_url": "https://api.github.com/users/0xTimepunk/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 3334394228,
      "node_id": "MDU6TGFiZWwzMzM0Mzk0MjI4",
      "url": "https://api.github.com/repos/foundry-rs/foundry/labels/T-bug",
      "name": "T-bug",
      "color": "d73a4a",
      "default": false,
      "description": "Type: bug"
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 3,
  "created_at": "2023-05-25T18:55:08Z",
  "updated_at": "2023-05-31T15:47:45Z",
  "closed_at": null,
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "### Component\n\nForge\n\n### Have you ensured that all of these are up to date?\n\n- [X] Foundry\n- [X] Foundryup\n\n### What version of Foundry are you on?\n\nforge 0.2.0 (a26edce 2023-05-25T00:12:21.044857000Z)\n\n### What command(s) is the bug in?\n\nforge script script/Test.Mainnet.Deploy.s.sol \\     --resume \\     --multi \\     --slow \\     -vvvv\n\n### Operating System\n\nmacOS (Apple Silicon)\n\n### Describe the bug\n\nI am trying to do a multiChain deployment to three chains. I am trying to do this with the following command\r\n\r\n```\r\nforge script script/Test.Mainnet.Deploy.s.sol \\\r\n    --broadcast \\\r\n    --slow \\\r\n    -vvvv\r\n```\r\n\r\nSome transactions failed in Polygon, probably due to block re-rogs. I wanted to retry them, so I decided to run the following script:\r\n\r\n```\r\nforge script script/Test.Mainnet.Deploy.s.sol \\\r\n    --resume \\\r\n    --multi \\\r\n    -vvvv\r\n```\r\n\r\nAnd I get the following error\r\n```\r\nThe application panicked (crashed).\r\nMessage:  to have been filled with a proper rpc\r\nLocation: cli/src/cmd/forge/script/sequence.rs:362\r\n\r\nThis is a bug. Consider reporting it at https://github.com/foundry-rs/foundry\r\n\r\n  ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ BACKTRACE ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━\r\n   1: __mh_execute_header<unknown>\r\n      at <unknown source file>:<unknown line>\r\n   2: __mh_execute_header<unknown>\r\n      at <unknown source file>:<unknown line>\r\n   3: __mh_execute_header<unknown>\r\n      at <unknown source file>:<unknown line>\r\n   4: __mh_execute_header<unknown>\r\n      at <unknown source file>:<unknown line>\r\n   5: __mh_execute_header<unknown>\r\n      at <unknown source file>:<unknown line>\r\n   6: __mh_execute_header<unknown>\r\n      at <unknown source file>:<unknown line>\r\n   7: __mh_execute_header<unknown>\r\n      at <unknown source file>:<unknown line>\r\n   8: __mh_execute_header<unknown>\r\n      at <unknown source file>:<unknown line>\r\n   9: __mh_execute_header<unknown>\r\n      at <unknown source file>:<unknown line>\r\n  10: __mh_execute_header<unknown>\r\n      at <unknown source file>:<unknown line>\r\n  11: __mh_execute_header<unknown>\r\n      at <unknown source file>:<unknown line>\r\n  12: __mh_execute_header<unknown>\r\n      at <unknown source file>:<unknown line>\r\n  13: __mh_execute_header<unknown>\r\n      at <unknown source file>:<unknown line>\r\n  14: __mh_execute_header<unknown>\r\n      at <unknown source file>:<unknown line>\r\n  15: __mh_execute_header<unknown>\r\n      at <unknown source file>:<unknown line>\r\n  16: __mh_execute_header<unknown>\r\n      at <unknown source file>:<unknown line>\r\n  17: __mh_execute_header<unknown>\r\n      at <unknown source file>:<unknown line>\r\n  18: __mh_execute_header<unknown>\r\n      at <unknown source file>:<unknown line>\r\n  19: __mh_execute_header<unknown>\r\n      at <unknown source file>:<unknown line>\r\n  20: __mh_execute_header<unknown>\r\n      at <unknown source file>:<unknown line>\r\n  21: __mh_execute_header<unknown>\r\n      at <unknown source file>:<unknown line>\r\n\r\nRun with COLORBT_SHOW_HIDDEN=1 environment variable to disable frame filtering.\r\nutils/run_script_mainnet.sh: line 12: 95185 Abort trap: 6           forge script script/Test.Mainnet.Deploy.s.sol --resume --multi\r\n```\r\n\r\n\r\n\r\n",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/5047/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/foundry-rs/foundry/issues/5047/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1563638785",
    "html_url": "https://github.com/foundry-rs/foundry/issues/5047#issuecomment-1563638785",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/5047",
    "id": 1563638785,
    "node_id": "IC_kwDOGBlvNc5dMzwB",
    "user": {
      "login": "Evalir",
      "id": 26014927,
      "node_id": "MDQ6VXNlcjI2MDE0OTI3",
      "avatar_url": "https://avatars.githubusercontent.com/u/26014927?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Evalir",
      "html_url": "https://github.com/Evalir",
      "followers_url": "https://api.github.com/users/Evalir/followers",
      "following_url": "https://api.github.com/users/Evalir/following{/other_user}",
      "gists_url": "https://api.github.com/users/Evalir/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Evalir/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Evalir/subscriptions",
      "organizations_url": "https://api.github.com/users/Evalir/orgs",
      "repos_url": "https://api.github.com/users/Evalir/repos",
      "events_url": "https://api.github.com/users/Evalir/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Evalir/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-05-25T23:49:37Z",
    "updated_at": "2023-05-25T23:51:29Z",
    "author_association": "MEMBER",
    "body": "cc @mattsse looks like a regression from #4892, will investigate ",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1563638785/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1564213231",
    "html_url": "https://github.com/foundry-rs/foundry/issues/5047#issuecomment-1564213231",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/5047",
    "id": 1564213231,
    "node_id": "IC_kwDOGBlvNc5dO__v",
    "user": {
      "login": "0xTimepunk",
      "id": 45543880,
      "node_id": "MDQ6VXNlcjQ1NTQzODgw",
      "avatar_url": "https://avatars.githubusercontent.com/u/45543880?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/0xTimepunk",
      "html_url": "https://github.com/0xTimepunk",
      "followers_url": "https://api.github.com/users/0xTimepunk/followers",
      "following_url": "https://api.github.com/users/0xTimepunk/following{/other_user}",
      "gists_url": "https://api.github.com/users/0xTimepunk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/0xTimepunk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/0xTimepunk/subscriptions",
      "organizations_url": "https://api.github.com/users/0xTimepunk/orgs",
      "repos_url": "https://api.github.com/users/0xTimepunk/repos",
      "events_url": "https://api.github.com/users/0xTimepunk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/0xTimepunk/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-05-26T10:58:00Z",
    "updated_at": "2023-05-26T10:58:00Z",
    "author_association": "NONE",
    "body": "> cc @mattsse looks like a regression from #4892, will investigate\r\n\r\nThanks for commenting @Evalir. \r\n\r\nAlso, we are not sure in the first place why so many transactions were not even processed in our script. On Polygon it was obvious what the problem was, but for BSC and AVAX it's as if the script stopped midway with no apparent reason.\r\n\r\nAre multi-chain deployments fully working and if not what are their limitations?",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1564213231/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1567314665",
    "html_url": "https://github.com/foundry-rs/foundry/issues/5047#issuecomment-1567314665",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/5047",
    "id": 1567314665,
    "node_id": "IC_kwDOGBlvNc5da1Lp",
    "user": {
      "login": "devanoneth",
      "id": 89424366,
      "node_id": "MDQ6VXNlcjg5NDI0MzY2",
      "avatar_url": "https://avatars.githubusercontent.com/u/89424366?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/devanoneth",
      "html_url": "https://github.com/devanoneth",
      "followers_url": "https://api.github.com/users/devanoneth/followers",
      "following_url": "https://api.github.com/users/devanoneth/following{/other_user}",
      "gists_url": "https://api.github.com/users/devanoneth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/devanoneth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/devanoneth/subscriptions",
      "organizations_url": "https://api.github.com/users/devanoneth/orgs",
      "repos_url": "https://api.github.com/users/devanoneth/repos",
      "events_url": "https://api.github.com/users/devanoneth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/devanoneth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-05-29T16:09:22Z",
    "updated_at": "2023-05-29T16:09:47Z",
    "author_association": "CONTRIBUTOR",
    "body": "Happy to also take a look. @0xTimepunk is the repo public anywhere? It can help with reproducing + I'd like to add a regression test once we get it fixed. Thanks.",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1567314665/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 1,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
