{
  "url": "https://api.github.com/repos/foundry-rs/foundry/issues/4094",
  "repository_url": "https://api.github.com/repos/foundry-rs/foundry",
  "labels_url": "https://api.github.com/repos/foundry-rs/foundry/issues/4094/labels{/name}",
  "comments_url": "https://api.github.com/repos/foundry-rs/foundry/issues/4094/comments",
  "events_url": "https://api.github.com/repos/foundry-rs/foundry/issues/4094/events",
  "html_url": "https://github.com/foundry-rs/foundry/issues/4094",
  "id": 1533581892,
  "node_id": "I_kwDOGBlvNc5baJpE",
  "number": 4094,
  "title": "`anvil` fails forking with optimism bedrock release",
  "user": {
    "login": "dbeal-eth",
    "id": 2107457,
    "node_id": "MDQ6VXNlcjIxMDc0NTc=",
    "avatar_url": "https://avatars.githubusercontent.com/u/2107457?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/dbeal-eth",
    "html_url": "https://github.com/dbeal-eth",
    "followers_url": "https://api.github.com/users/dbeal-eth/followers",
    "following_url": "https://api.github.com/users/dbeal-eth/following{/other_user}",
    "gists_url": "https://api.github.com/users/dbeal-eth/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/dbeal-eth/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/dbeal-eth/subscriptions",
    "organizations_url": "https://api.github.com/users/dbeal-eth/orgs",
    "repos_url": "https://api.github.com/users/dbeal-eth/repos",
    "events_url": "https://api.github.com/users/dbeal-eth/events{/privacy}",
    "received_events_url": "https://api.github.com/users/dbeal-eth/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 3334394228,
      "node_id": "MDU6TGFiZWwzMzM0Mzk0MjI4",
      "url": "https://api.github.com/repos/foundry-rs/foundry/labels/T-bug",
      "name": "T-bug",
      "color": "d73a4a",
      "default": false,
      "description": "Type: bug"
    },
    {
      "id": 4077188949,
      "node_id": "LA_kwDOGBlvNc7zBPdV",
      "url": "https://api.github.com/repos/foundry-rs/foundry/labels/C-anvil",
      "name": "C-anvil",
      "color": "5319E7",
      "default": false,
      "description": "Command: anvil"
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 10,
  "created_at": "2023-01-15T00:55:36Z",
  "updated_at": "2023-02-27T13:12:21Z",
  "closed_at": null,
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "### Component\n\nAnvil\n\n### Have you ensured that all of these are up to date?\n\n- [X] Foundry\n- [X] Foundryup\n\n### What version of Foundry are you on?\n\nforge 0.2.0 (b2baca3 2023-01-15T00:04:04.57358143Z)\n\n### What command(s) is the bug in?\n\nanvil --fork-url https://goerli.optimism.io\n\n### Operating System\n\nLinux\n\n### Describe the bug\n\nOptimism has recently completed their optimism bedrock release on goerli. However, forking this network now yields an error in anvil when attempting to do certain RPC calls against the node:\r\n\r\n```\r\ncode: 'NONCE_EXPIRED',\r\n  error: Error: processing response error (body=\"{\\\"jsonrpc\\\":\\\"2.0\\\",\\\"id\\\":49,\\\"error\\\":{\\\"code\\\":-32603,\\\"message\\\":\\\"Fork Error: JsonRpcClientError(SerdeJson { err: Error(\\\\\\\"missing field `v`\\\\\\\", line: 1, column: 2201), text: \\\\\\\"{\\\\\\\\\\\\\\\"baseFeePerGas\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"0x31\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"difficulty\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"0x0\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"extraData\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"0x\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"gasLimit\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"0x17d7840\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"gasUsed\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"0x1fee7\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"hash\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"0x35861edb0814f1688e949c63729ac877988775396d33c7e3ab8d06f9c2c9543f\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"logsBloom\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"0x00000000000000000020000008000000000000000000000000080000000000000000100000000020000000000000000000000000000200000000000000000000000000000000000000000001002000000000000001000000000000000000000000000000020000000000000000000800000000000000000000000000000000000000000000000000000000000000000400000480000000000000000100000000000000001000000000000000000000000000000000000000000000000000000000000000040000000000000000000000004000000000000000000000000820000000000000000000000010000000000000000000000000000000000000000000\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"miner\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"0x4200000000000000000000000000000000000011\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"mixHash\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"0x1f56f11d6c1f4b6889758ead9d9a6d3e13ae70fdeb524003043eb1d74730d198\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"nonce\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"0x0000000000000000\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"number\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"0x3f7199\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"parentHash\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"0x18095cd3a925b82d8f5581d4017d452197c40b8efa055cc67f393631f59e7cf3\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"receiptsRoot\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"0x387bf3d3631899f3879212522e70dc9ec3d2393335529baf20ad12150140b088\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"sha3Uncles\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"0x1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"size\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"0x663\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"stateRoot\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"0x8c44887db7808b97df1c2b708e7a33d15e024eae2f439eb7cc7dd0159ff7c355\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"timestamp\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"0x63c34d96\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"totalDifficulty\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"0x0\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"transactions\\\\\\\\\\\\\\\":[{\\\\\\\\\\\\\\\"blockHash\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"0x35861edb0814f1688e949c63729ac877988775396d33c7e3ab8d06f9c2c9543f\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"blockNumber\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"0x3f7199\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"from\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"0xdeaddeaddeaddeaddeaddeaddeaddeaddead0001\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"gas\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"0x8f0d180\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"hash\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"0x59010723b292b38c06592588fe571d8eec8bbd866668d5472f8aaf1b1ce041e0\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"input\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"0x015d8eb900000000000000000000000000000000000000000000000000000000007ed7eb0000000000000000000000000000000000000000000000000000000063c34d7000000000000000000000000000000000000000000000000000000000372c502ba813d0a707335db70f1fb42a6408bfb12a1308d24e571483512afda1906bca85000000000000000000000000000000000000000000000000000000000000000a0000000000000000000000007431310e026b69bfc676c0013e12a1a11411eec9000000000000000000000000000000000000000000000000000000000000083400000000000000000000000000000000000000000000000000000000000f4240\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"nonce\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"0x0\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"to\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"0x4200000000000000000000000000000000000015\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"transactionIndex\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"0x0\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"type\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"0x7e\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"value\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"0x0\\\\\\\\\\\\\\\"},{\\\\\\\\\\\\\\\"accessList\\\\\\\\\\\\\\\":[],\\\\\\\\\\\\\\\"blockHash\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"0x35861edb0814f1688e949c63729ac877988775396d33c7e3ab8d06f9c2c9543f\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"blockNumber\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"0x3f7199\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"chainId\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"0x1a4\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"from\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"0x48ed4a64892ab8f9a399b92aeb8a97527acdb092\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"gas\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"0x7a120\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"gasPrice\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"0xb2d05e00\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"hash\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"0xd67bfe8f2dc8ced1921384d91693cc9c8682fb2ac3c5cb84aa25f7889cc3c2a0\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"input\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"0xc9807539000000000000000000000000000000000000000000000000000000000000008000000000000000000000000000000000000000000000000000000000000001c00000000000000000000000000000000000000000000000000000000000000220000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001200000000000000000000000430ba4e77ffb3509e3b9f79077c401a10000027103000102030400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000600000000000000000000000000000000000000000000000000000000000000005000000000000000000000000000000000000000000000000000000000000007d000000000000000000000000000000000000000000000000000000000000007d000000000000000000000000000000000000000000000000000000000000007d000000000000000000000000000000000000000000000000000000000000007d000000000000000000000000000000000000000000000000000000000000007d0000000000000000000000000000000000000000000000000000000000000002a67a46d9aff68582e84544609324fae2d5881e08c6411628932c5d04cb48c217408a890c9ef11d338c4fb7d521e00ba3fd82237ea75809c9d400f4653b3066e000000000000000000000000000000000000000000000000000000000000000025fa9efbb8c704d15c5a591ed462f6f8f16bc86a3df6ed6374e58c63b0b36016f6f87719a1ba9465d9bc6ec7d2e14d1e3ec8550ef4598f1937dafe26da594954f\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"maxFeePerGas\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"0xb2d05e1d\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"maxPriorityFeePerGas\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"0xb2d05dcf\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"nonce\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"0x1ee\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"r\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"0x808bf13e38dde1c5419fc1b5fbabf17e5e6a20ab6212617d6d9a51d219043bf8\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"s\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"0x396593e44656b19c74cf01b9a91e88ca1231433bf67975b471e29d0ad5317fb1\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"to\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"0x88fd8759c83786b1e11a4b6a6ae15414252827e0\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"transactionIndex\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"0x1\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"type\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"0x2\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"v\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"0x0\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"value\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"0x0\\\\\\\\\\\\\\\"}],\\\\\\\\\\\\\\\"transactionsRoot\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"0x8b37e49b0f7eb3445985b1d4619b1265d0a8ea39f7b925b15f8d04eda33a2689\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"uncles\\\\\\\\\\\\\\\":[]}\\\\\\\" })\\\"}}\", error={\"code\":-32603}, requestBody=\"{\\\"method\\\":\\\"eth_getBlockByNumber\\\",\\\"params\\\":[\\\"latest\\\",false],\\\"id\\\":49,\\\"jsonrpc\\\":\\\"2.0\\\"}\", requestMethod=\"POST\", url=\"http://127.0.0.1:8545\", code=SERVER_ERROR, version=web/5.7.1)\r\n      at Logger.makeError (/home/daniel/code/synthetix-v3/node_modules/@ethersproject/logger/src.ts/index.ts:269:28)\r\n      at Logger.throwError (/home/daniel/code/synthetix-v3/node_modules/@ethersproject/logger/src.ts/index.ts:281:20)\r\n      at /home/daniel/code/synthetix-v3/node_modules/@ethersproject/web/src.ts/index.ts:341:28\r\n      at step (/home/daniel/code/synthetix-v3/node_modules/@ethersproject/web/lib/index.js:33:23)\r\n      at Object.next (/home/daniel/code/synthetix-v3/node_modules/@ethersproject/web/lib/index.js:14:53)\r\n      at fulfilled (/home/daniel/code/synthetix-v3/node_modules/@ethersproject/web/lib/index.js:5:58)\r\n      at processTicksAndRejections (node:internal/process/task_queues:95:5\r\n```\r\n\r\nwhen I remove the forked network deployment option from my tool, deployment works as expected with no error, so I believe this is some sort of a spec issue with anvil.",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/4094/reactions",
    "total_count": 2,
    "+1": 2,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/foundry-rs/foundry/issues/4094/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1383020827",
    "html_url": "https://github.com/foundry-rs/foundry/issues/4094#issuecomment-1383020827",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/4094",
    "id": 1383020827,
    "node_id": "IC_kwDOGBlvNc5Sbzkb",
    "user": {
      "login": "mattsse",
      "id": 19890894,
      "node_id": "MDQ6VXNlcjE5ODkwODk0",
      "avatar_url": "https://avatars.githubusercontent.com/u/19890894?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mattsse",
      "html_url": "https://github.com/mattsse",
      "followers_url": "https://api.github.com/users/mattsse/followers",
      "following_url": "https://api.github.com/users/mattsse/following{/other_user}",
      "gists_url": "https://api.github.com/users/mattsse/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mattsse/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mattsse/subscriptions",
      "organizations_url": "https://api.github.com/users/mattsse/orgs",
      "repos_url": "https://api.github.com/users/mattsse/repos",
      "events_url": "https://api.github.com/users/mattsse/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mattsse/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-01-15T01:47:03Z",
    "updated_at": "2023-01-15T01:47:03Z",
    "author_association": "MEMBER",
    "body": "> missing field `v`\r\n\r\nlooks like the `v` field of tx is missing when requesting a full block? could you please check?",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1383020827/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1383077579",
    "html_url": "https://github.com/foundry-rs/foundry/issues/4094#issuecomment-1383077579",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/4094",
    "id": 1383077579,
    "node_id": "IC_kwDOGBlvNc5ScBbL",
    "user": {
      "login": "dbeal-eth",
      "id": 2107457,
      "node_id": "MDQ6VXNlcjIxMDc0NTc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2107457?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dbeal-eth",
      "html_url": "https://github.com/dbeal-eth",
      "followers_url": "https://api.github.com/users/dbeal-eth/followers",
      "following_url": "https://api.github.com/users/dbeal-eth/following{/other_user}",
      "gists_url": "https://api.github.com/users/dbeal-eth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dbeal-eth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dbeal-eth/subscriptions",
      "organizations_url": "https://api.github.com/users/dbeal-eth/orgs",
      "repos_url": "https://api.github.com/users/dbeal-eth/repos",
      "events_url": "https://api.github.com/users/dbeal-eth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dbeal-eth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-01-15T07:28:12Z",
    "updated_at": "2023-01-15T07:30:29Z",
    "author_association": "CONTRIBUTOR",
    "body": " @mattsse  I apologize. I should have provided more detailed reproduction instructions. Please use the following below instructions to reproduce the error:\r\n\r\n1. Run `anvil --fork-url https://goerli.optimism.io/`\r\n2. In another terminal, run `curl --data '{\"jsonrpc\":\"2.0\",\"method\": \"eth_getBlockByNumber\", \"params\":[\"latest\",false], \"id\":1}' -H \"Content-Type: application/json\" http://localhost:8545`. As you can see I am just running `eth_getBlockByNumber`, shouldn't be a problematic call (ex. try running it on mainnet)\r\n\r\n3. Get error\r\n```\r\n➜  ~ curl --data '{\"jsonrpc\":\"2.0\",\"method\": \"eth_getBlockByNumber\", \"params\":[\"latest\",false], \"id\":1}' -H \"Content-Type: application/json\" http://localhost:8545\r\n{\"jsonrpc\":\"2.0\",\"id\":1,\"error\":{\"code\":-32603,\"message\":\"Fork Error: JsonRpcClientError(SerdeJson { err: Error(\\\"missing field `v`\\\", line: 1, column: 2197), text: \\\"{\\\\\\\"baseFeePerGas\\\\\\\":\\\\\\\"0x31\\\\\\\",\\\\\\\"difficulty\\\\\\\":\\\\\\\"0x0\\\\\\\",\\\\\\\"extraData\\\\\\\":\\\\\\\"0x\\\\\\\",\\\\\\\"gasLimit\\\\\\\":\\\\\\\"0x17d7840\\\\\\\",\\\\\\\"gasUsed\\\\\\\":\\\\\\\"0x0\\\\\\\",\\\\\\\"hash\\\\\\\":\\\\\\\"0xd9994194f532633d3da9590ed06ecd9d00ddf33b80d0510648a370844e7b699e\\\\\\\",\\\\\\\"logsBloom\\\\\\\":\\\\\\\"0x00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000\\\\\\\",\\\\\\\"miner\\\\\\\":\\\\\\\"0x4200000000000000000000000000000000000011\\\\\\\",\\\\\\\"mixHash\\\\\\\":\\\\\\\"0x14e3841946dabe002df5411b8e2a01ed8a7ceb8e245f99c7e78bdc00014896aa\\\\\\\",\\\\\\\"nonce\\\\\\\":\\\\\\\"0x0000000000000000\\\\\\\",\\\\\\\"number\\\\\\\":\\\\\\\"0x3f9fe0\\\\\\\",\\\\\\\"parentHash\\\\\\\":\\\\\\\"0xad12872dc42abed21bf7d8f7c08ad74875b380dd9130e4c063661cbe521054be\\\\\\\",\\\\\\\"receiptsRoot\\\\\\\":\\\\\\\"0x3fd774ff8fe515813d7a8f9d3748e58e857bc002823a458a93be90a3bc2e0894\\\\\\\",\\\\\\\"sha3Uncles\\\\\\\":\\\\\\\"0x1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347\\\\\\\",\\\\\\\"size\\\\\\\":\\\\\\\"0x364\\\\\\\",\\\\\\\"stateRoot\\\\\\\":\\\\\\\"0xd662b1dd1ac83785480e944c4884265b7a967b7e60199b66e36bb624ce49f895\\\\\\\",\\\\\\\"timestamp\\\\\\\":\\\\\\\"0x63c3aa24\\\\\\\",\\\\\\\"totalDifficulty\\\\\\\":\\\\\\\"0x0\\\\\\\",\\\\\\\"transactions\\\\\\\":[{\\\\\\\"blockHash\\\\\\\":\\\\\\\"0xd9994194f532633d3da9590ed06ecd9d00ddf33b80d0510648a370844e7b699e\\\\\\\",\\\\\\\"blockNumber\\\\\\\":\\\\\\\"0x3f9fe0\\\\\\\",\\\\\\\"from\\\\\\\":\\\\\\\"0xdeaddeaddeaddeaddeaddeaddeaddeaddead0001\\\\\\\",\\\\\\\"gas\\\\\\\":\\\\\\\"0x8f0d180\\\\\\\",\\\\\\\"hash\\\\\\\":\\\\\\\"0x1d3e150ca62bd71a058e617750bc213d59b3f08e969fed913228465d8ca84c93\\\\\\\",\\\\\\\"input\\\\\\\":\\\\\\\"0x015d8eb900000000000000000000000000000000000000000000000000000000007ede0b0000000000000000000000000000000000000000000000000000000063c3aa04000000000000000000000000000000000000000000000000000000000000000a6584c306e51e9bf8f2990d19ee0b57a26d8b3eebb26b1c2d137b4518696c276600000000000000000000000000000000000000000000000000000000000000020000000000000000000000007431310e026b69bfc676c0013e12a1a11411eec9000000000000000000000000000000000000000000000000000000000000083400000000000000000000000000000000000000000000000000000000000f4240\\\\\\\",\\\\\\\"nonce\\\\\\\":\\\\\\\"0x0\\\\\\\",\\\\\\\"to\\\\\\\":\\\\\\\"0x4200000000000000000000000000000000000015\\\\\\\",\\\\\\\"transactionIndex\\\\\\\":\\\\\\\"0x0\\\\\\\",\\\\\\\"type\\\\\\\":\\\\\\\"0x7e\\\\\\\",\\\\\\\"value\\\\\\\":\\\\\\\"0x0\\\\\\\"}],\\\\\\\"transactionsRoot\\\\\\\":\\\\\\\"0xfe1d1ca0a544327fc851df7d5ccadb64ef3546778488ef82efde93b30de2f3ed\\\\\\\",\\\\\\\"uncles\\\\\\\":[]}\\\" })\"}}\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1383077579/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1383120563",
    "html_url": "https://github.com/foundry-rs/foundry/issues/4094#issuecomment-1383120563",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/4094",
    "id": 1383120563,
    "node_id": "IC_kwDOGBlvNc5ScL6z",
    "user": {
      "login": "mattsse",
      "id": 19890894,
      "node_id": "MDQ6VXNlcjE5ODkwODk0",
      "avatar_url": "https://avatars.githubusercontent.com/u/19890894?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mattsse",
      "html_url": "https://github.com/mattsse",
      "followers_url": "https://api.github.com/users/mattsse/followers",
      "following_url": "https://api.github.com/users/mattsse/following{/other_user}",
      "gists_url": "https://api.github.com/users/mattsse/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mattsse/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mattsse/subscriptions",
      "organizations_url": "https://api.github.com/users/mattsse/orgs",
      "repos_url": "https://api.github.com/users/mattsse/repos",
      "events_url": "https://api.github.com/users/mattsse/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mattsse/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-01-15T11:03:41Z",
    "updated_at": "2023-01-15T11:03:41Z",
    "author_association": "MEMBER",
    "body": "the transaction object of the request is missing some parts:\r\n\r\n```\r\n curl --data '{\"jsonrpc\":\"2.0\",\"method\": \"eth_getBlockByNumber\", \"params\":[\"latest\",true], \"id\":1}' -H \"Content-Type: application/json\" https://goerli.optimism.io/ | jq\r\n```\r\n\r\nhence the `missing field v` error",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1383120563/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1383231316",
    "html_url": "https://github.com/foundry-rs/foundry/issues/4094#issuecomment-1383231316",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/4094",
    "id": 1383231316,
    "node_id": "IC_kwDOGBlvNc5Scm9U",
    "user": {
      "login": "dbeal-eth",
      "id": 2107457,
      "node_id": "MDQ6VXNlcjIxMDc0NTc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2107457?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dbeal-eth",
      "html_url": "https://github.com/dbeal-eth",
      "followers_url": "https://api.github.com/users/dbeal-eth/followers",
      "following_url": "https://api.github.com/users/dbeal-eth/following{/other_user}",
      "gists_url": "https://api.github.com/users/dbeal-eth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dbeal-eth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dbeal-eth/subscriptions",
      "organizations_url": "https://api.github.com/users/dbeal-eth/orgs",
      "repos_url": "https://api.github.com/users/dbeal-eth/repos",
      "events_url": "https://api.github.com/users/dbeal-eth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dbeal-eth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-01-15T19:26:29Z",
    "updated_at": "2023-01-15T19:27:10Z",
    "author_association": "CONTRIBUTOR",
    "body": "> the transaction object of the request is missing some parts:\r\n> \r\n> ```\r\n>  curl --data '{\"jsonrpc\":\"2.0\",\"method\": \"eth_getBlockByNumber\", \"params\":[\"latest\",true], \"id\":1}' -H \"Content-Type: application/json\" https://goerli.optimism.io/ | jq\r\n> ```\r\n> \r\n> hence the `missing field v` error\r\n\r\nwhen I copy and run the same command you sent in my terminal I get no error, but only if i replace `https://goerli.optimism.io/` in the above call with `http://localhost:8545`, I get the error. what do you mean \"hence the `missing field v` error\"?",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1383231316/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1385912247",
    "html_url": "https://github.com/foundry-rs/foundry/issues/4094#issuecomment-1385912247",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/4094",
    "id": 1385912247,
    "node_id": "IC_kwDOGBlvNc5Sm1e3",
    "user": {
      "login": "tynes",
      "id": 6626818,
      "node_id": "MDQ6VXNlcjY2MjY4MTg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6626818?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tynes",
      "html_url": "https://github.com/tynes",
      "followers_url": "https://api.github.com/users/tynes/followers",
      "following_url": "https://api.github.com/users/tynes/following{/other_user}",
      "gists_url": "https://api.github.com/users/tynes/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tynes/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tynes/subscriptions",
      "organizations_url": "https://api.github.com/users/tynes/orgs",
      "repos_url": "https://api.github.com/users/tynes/repos",
      "events_url": "https://api.github.com/users/tynes/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tynes/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-01-17T19:03:48Z",
    "updated_at": "2023-01-17T19:03:48Z",
    "author_association": "CONTRIBUTOR",
    "body": "The problem here is the special deposit transaction type, see [here](https://github.com/ethereum-optimism/optimism/blob/develop/specs/deposits.md#the-deposited-transaction-type) for its spec. I suppose we will need to implement that tx type in `ethers-rs`, another problem is that there is a diff to the state transition function for handling L1 to L2 txs (they never revert their value change) as well as the fee payment logic",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1385912247/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1386287162",
    "html_url": "https://github.com/foundry-rs/foundry/issues/4094#issuecomment-1386287162",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/4094",
    "id": 1386287162,
    "node_id": "IC_kwDOGBlvNc5SoRA6",
    "user": {
      "login": "mattsse",
      "id": 19890894,
      "node_id": "MDQ6VXNlcjE5ODkwODk0",
      "avatar_url": "https://avatars.githubusercontent.com/u/19890894?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mattsse",
      "html_url": "https://github.com/mattsse",
      "followers_url": "https://api.github.com/users/mattsse/followers",
      "following_url": "https://api.github.com/users/mattsse/following{/other_user}",
      "gists_url": "https://api.github.com/users/mattsse/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mattsse/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mattsse/subscriptions",
      "organizations_url": "https://api.github.com/users/mattsse/orgs",
      "repos_url": "https://api.github.com/users/mattsse/repos",
      "events_url": "https://api.github.com/users/mattsse/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mattsse/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-01-18T00:33:04Z",
    "updated_at": "2023-01-18T00:33:04Z",
    "author_association": "MEMBER",
    "body": "oh, TIL\r\n\r\n@gakonst this would require changes for the ethers `Transaction` rpc type (no signature info)",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1386287162/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1386315020",
    "html_url": "https://github.com/foundry-rs/foundry/issues/4094#issuecomment-1386315020",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/4094",
    "id": 1386315020,
    "node_id": "IC_kwDOGBlvNc5SoX0M",
    "user": {
      "login": "gakonst",
      "id": 17802178,
      "node_id": "MDQ6VXNlcjE3ODAyMTc4",
      "avatar_url": "https://avatars.githubusercontent.com/u/17802178?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gakonst",
      "html_url": "https://github.com/gakonst",
      "followers_url": "https://api.github.com/users/gakonst/followers",
      "following_url": "https://api.github.com/users/gakonst/following{/other_user}",
      "gists_url": "https://api.github.com/users/gakonst/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gakonst/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gakonst/subscriptions",
      "organizations_url": "https://api.github.com/users/gakonst/orgs",
      "repos_url": "https://api.github.com/users/gakonst/repos",
      "events_url": "https://api.github.com/users/gakonst/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gakonst/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-01-18T01:06:57Z",
    "updated_at": "2023-01-18T01:06:57Z",
    "author_association": "MEMBER",
    "body": "Can we add an `other: HashMap<String, Value>` type as catch-all, similar to the Arbitrum types?",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1386315020/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1386323560",
    "html_url": "https://github.com/foundry-rs/foundry/issues/4094#issuecomment-1386323560",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/4094",
    "id": 1386323560,
    "node_id": "IC_kwDOGBlvNc5SoZ5o",
    "user": {
      "login": "mattsse",
      "id": 19890894,
      "node_id": "MDQ6VXNlcjE5ODkwODk0",
      "avatar_url": "https://avatars.githubusercontent.com/u/19890894?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mattsse",
      "html_url": "https://github.com/mattsse",
      "followers_url": "https://api.github.com/users/mattsse/followers",
      "following_url": "https://api.github.com/users/mattsse/following{/other_user}",
      "gists_url": "https://api.github.com/users/mattsse/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mattsse/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mattsse/subscriptions",
      "organizations_url": "https://api.github.com/users/mattsse/orgs",
      "repos_url": "https://api.github.com/users/mattsse/repos",
      "events_url": "https://api.github.com/users/mattsse/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mattsse/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-01-18T01:15:32Z",
    "updated_at": "2023-01-18T01:15:32Z",
    "author_association": "MEMBER",
    "body": "we already have `OtherFields`:\r\n\r\nhttps://github.com/gakonst/ethers-rs/blob/eaaa01a7d6d7da93fa359dc5113c545d37442dcf/ethers-core/src/types/transaction/response.rs#L121\r\n\r\nbut this new `Transaction` type lacks signature fields which are mandatory which is causing the error `missing field v`\r\n\r\nhttps://github.com/gakonst/ethers-rs/blob/eaaa01a7d6d7da93fa359dc5113c545d37442dcf/ethers-core/src/types/transaction/response.rs#L58-L67\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1386323560/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1396290286",
    "html_url": "https://github.com/foundry-rs/foundry/issues/4094#issuecomment-1396290286",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/4094",
    "id": 1396290286,
    "node_id": "IC_kwDOGBlvNc5TObLu",
    "user": {
      "login": "gakonst",
      "id": 17802178,
      "node_id": "MDQ6VXNlcjE3ODAyMTc4",
      "avatar_url": "https://avatars.githubusercontent.com/u/17802178?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gakonst",
      "html_url": "https://github.com/gakonst",
      "followers_url": "https://api.github.com/users/gakonst/followers",
      "following_url": "https://api.github.com/users/gakonst/following{/other_user}",
      "gists_url": "https://api.github.com/users/gakonst/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gakonst/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gakonst/subscriptions",
      "organizations_url": "https://api.github.com/users/gakonst/orgs",
      "repos_url": "https://api.github.com/users/gakonst/repos",
      "events_url": "https://api.github.com/users/gakonst/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gakonst/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-01-19T00:38:39Z",
    "updated_at": "2023-01-19T00:40:25Z",
    "author_association": "MEMBER",
    "body": "Let's make them `#[serde(default)]` if they're missing? I _really_ don't want to make it an `Option`. This maybe highglihts that we should start moving to `enum Transaction` for the responses as well? Here it's a new EIP2718 transaction type",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1396290286/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1396737208",
    "html_url": "https://github.com/foundry-rs/foundry/issues/4094#issuecomment-1396737208",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/4094",
    "id": 1396737208,
    "node_id": "IC_kwDOGBlvNc5TQIS4",
    "user": {
      "login": "mattsse",
      "id": 19890894,
      "node_id": "MDQ6VXNlcjE5ODkwODk0",
      "avatar_url": "https://avatars.githubusercontent.com/u/19890894?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mattsse",
      "html_url": "https://github.com/mattsse",
      "followers_url": "https://api.github.com/users/mattsse/followers",
      "following_url": "https://api.github.com/users/mattsse/following{/other_user}",
      "gists_url": "https://api.github.com/users/mattsse/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mattsse/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mattsse/subscriptions",
      "organizations_url": "https://api.github.com/users/mattsse/orgs",
      "repos_url": "https://api.github.com/users/mattsse/repos",
      "events_url": "https://api.github.com/users/mattsse/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mattsse/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-01-19T10:17:16Z",
    "updated_at": "2023-01-19T10:17:16Z",
    "author_association": "MEMBER",
    "body": "that should work",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1396737208/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
