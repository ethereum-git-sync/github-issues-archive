{
  "url": "https://api.github.com/repos/foundry-rs/foundry/issues/3432",
  "repository_url": "https://api.github.com/repos/foundry-rs/foundry",
  "labels_url": "https://api.github.com/repos/foundry-rs/foundry/issues/3432/labels{/name}",
  "comments_url": "https://api.github.com/repos/foundry-rs/foundry/issues/3432/comments",
  "events_url": "https://api.github.com/repos/foundry-rs/foundry/issues/3432/events",
  "html_url": "https://github.com/foundry-rs/foundry/issues/3432",
  "id": 1393547765,
  "node_id": "I_kwDOGBlvNc5TD9n1",
  "number": 3432,
  "title": "Wrong conversion for large numbers using cast --to-base",
  "user": {
    "login": "ChmielewskiKamil",
    "id": 45183584,
    "node_id": "MDQ6VXNlcjQ1MTgzNTg0",
    "avatar_url": "https://avatars.githubusercontent.com/u/45183584?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/ChmielewskiKamil",
    "html_url": "https://github.com/ChmielewskiKamil",
    "followers_url": "https://api.github.com/users/ChmielewskiKamil/followers",
    "following_url": "https://api.github.com/users/ChmielewskiKamil/following{/other_user}",
    "gists_url": "https://api.github.com/users/ChmielewskiKamil/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/ChmielewskiKamil/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/ChmielewskiKamil/subscriptions",
    "organizations_url": "https://api.github.com/users/ChmielewskiKamil/orgs",
    "repos_url": "https://api.github.com/users/ChmielewskiKamil/repos",
    "events_url": "https://api.github.com/users/ChmielewskiKamil/events{/privacy}",
    "received_events_url": "https://api.github.com/users/ChmielewskiKamil/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 3334394228,
      "node_id": "MDU6TGFiZWwzMzM0Mzk0MjI4",
      "url": "https://api.github.com/repos/foundry-rs/foundry/labels/T-bug",
      "name": "T-bug",
      "color": "d73a4a",
      "default": false,
      "description": "Type: bug"
    },
    {
      "id": 3334394235,
      "node_id": "MDU6TGFiZWwzMzM0Mzk0MjM1",
      "url": "https://api.github.com/repos/foundry-rs/foundry/labels/good%20first%20issue",
      "name": "good first issue",
      "color": "0052CC",
      "default": true,
      "description": "Good for newcomers"
    },
    {
      "id": 3703752609,
      "node_id": "LA_kwDOGBlvNc7cwseh",
      "url": "https://api.github.com/repos/foundry-rs/foundry/labels/C-cast",
      "name": "C-cast",
      "color": "5319E7",
      "default": false,
      "description": "Command: cast"
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2022-10-01T20:51:02Z",
  "updated_at": "2022-10-04T10:23:43Z",
  "closed_at": "2022-10-04T10:23:43Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "### Component\n\nCast\n\n### Have you ensured that all of these are up to date?\n\n- [X] Foundry\n- [X] Foundryup\n\n### What version of Foundry are you on?\n\nforge 0.2.0 (82a74a6 2022-10-01T00:07:32.126813Z)\n\n### What command(s) is the bug in?\n\ncast --to-base\n\n### Operating System\n\nmacOS (Apple Silicon)\n\n### Describe the bug\n\nI've been converting some hexadecimal values to their decimal representation using `cast --to-base --base-in hex <hex_number_here> dec` and I've come across an edge case. \r\n\r\nWhen converting a number `0xf5e22612a5c856807346a40b329664fb393e6ea0e585bd34cffc9f59a50353bd` using this function:\r\n`cast --to-base --base-in hex 0xf5e22612a5c856807346a40b329664fb393e6ea0e585bd34cffc9f59a50353bd dec`\r\nCast returns this number: \r\n`4575871128676855007339919353037476534578906390080791836095212952491927579715`\r\n\r\nThe returned value is wrong. If you insert this hex value into any online hex to decimal converter [like this one](https://codebeautify.org/decimal-hex-converter) or [this one](https://www.rapidtables.com/convert/number/hex-to-decimal.html) the returned value is:\r\n`111216218108639340416231065655650431318691078275559772203362371055421202060221` \r\nThis number in scientific notation is `1.1121621810863934e+77`. \r\n\r\nThe max value of uint256 is `1.157920892373162e+77`, so our problematic number is smaller than the `max_uint256`.\r\n\r\nAre there any constraints when it comes to the size of the number to convert it successfully?\r\n\r\nI've done some testing and it turns out that any number that is raised to the power of 77 is problematic.\r\n\r\nI might be missing something really obvious.\r\nThanks!",
  "closed_by": {
    "login": "mattsse",
    "id": 19890894,
    "node_id": "MDQ6VXNlcjE5ODkwODk0",
    "avatar_url": "https://avatars.githubusercontent.com/u/19890894?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/mattsse",
    "html_url": "https://github.com/mattsse",
    "followers_url": "https://api.github.com/users/mattsse/followers",
    "following_url": "https://api.github.com/users/mattsse/following{/other_user}",
    "gists_url": "https://api.github.com/users/mattsse/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/mattsse/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/mattsse/subscriptions",
    "organizations_url": "https://api.github.com/users/mattsse/orgs",
    "repos_url": "https://api.github.com/users/mattsse/repos",
    "events_url": "https://api.github.com/users/mattsse/events{/privacy}",
    "received_events_url": "https://api.github.com/users/mattsse/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/3432/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/foundry-rs/foundry/issues/3432/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1266313688",
    "html_url": "https://github.com/foundry-rs/foundry/issues/3432#issuecomment-1266313688",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/3432",
    "id": 1266313688,
    "node_id": "IC_kwDOGBlvNc5LemnY",
    "user": {
      "login": "DaniPopes",
      "id": 57450786,
      "node_id": "MDQ6VXNlcjU3NDUwNzg2",
      "avatar_url": "https://avatars.githubusercontent.com/u/57450786?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/DaniPopes",
      "html_url": "https://github.com/DaniPopes",
      "followers_url": "https://api.github.com/users/DaniPopes/followers",
      "following_url": "https://api.github.com/users/DaniPopes/following{/other_user}",
      "gists_url": "https://api.github.com/users/DaniPopes/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/DaniPopes/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/DaniPopes/subscriptions",
      "organizations_url": "https://api.github.com/users/DaniPopes/orgs",
      "repos_url": "https://api.github.com/users/DaniPopes/repos",
      "events_url": "https://api.github.com/users/DaniPopes/events{/privacy}",
      "received_events_url": "https://api.github.com/users/DaniPopes/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-10-04T02:27:39Z",
    "updated_at": "2022-10-04T02:46:40Z",
    "author_association": "CONTRIBUTOR",
    "body": "Your number overflows since it's greater than `I256::MAX` which is ~`5.8e76` and we formatted all numbers that were being converted to decimal base using `I256`. Thanks for the issue!",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1266313688/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 1,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1266463663",
    "html_url": "https://github.com/foundry-rs/foundry/issues/3432#issuecomment-1266463663",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/3432",
    "id": 1266463663,
    "node_id": "IC_kwDOGBlvNc5LfLOv",
    "user": {
      "login": "ChmielewskiKamil",
      "id": 45183584,
      "node_id": "MDQ6VXNlcjQ1MTgzNTg0",
      "avatar_url": "https://avatars.githubusercontent.com/u/45183584?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ChmielewskiKamil",
      "html_url": "https://github.com/ChmielewskiKamil",
      "followers_url": "https://api.github.com/users/ChmielewskiKamil/followers",
      "following_url": "https://api.github.com/users/ChmielewskiKamil/following{/other_user}",
      "gists_url": "https://api.github.com/users/ChmielewskiKamil/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ChmielewskiKamil/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ChmielewskiKamil/subscriptions",
      "organizations_url": "https://api.github.com/users/ChmielewskiKamil/orgs",
      "repos_url": "https://api.github.com/users/ChmielewskiKamil/repos",
      "events_url": "https://api.github.com/users/ChmielewskiKamil/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ChmielewskiKamil/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-10-04T06:35:28Z",
    "updated_at": "2022-10-04T06:35:28Z",
    "author_association": "NONE",
    "body": "I am glad that I could be of some help. Thanks!\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1266463663/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
