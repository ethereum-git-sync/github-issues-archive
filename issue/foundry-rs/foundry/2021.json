{
  "url": "https://api.github.com/repos/foundry-rs/foundry/issues/2021",
  "repository_url": "https://api.github.com/repos/foundry-rs/foundry",
  "labels_url": "https://api.github.com/repos/foundry-rs/foundry/issues/2021/labels{/name}",
  "comments_url": "https://api.github.com/repos/foundry-rs/foundry/issues/2021/comments",
  "events_url": "https://api.github.com/repos/foundry-rs/foundry/issues/2021/events",
  "html_url": "https://github.com/foundry-rs/foundry/issues/2021",
  "id": 1275868556,
  "node_id": "I_kwDOGBlvNc5MDDWM",
  "number": 2021,
  "title": "Installation error on Windows",
  "user": {
    "login": "Leutwiler",
    "id": 93873392,
    "node_id": "U_kgDOBZhk8A",
    "avatar_url": "https://avatars.githubusercontent.com/u/93873392?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/Leutwiler",
    "html_url": "https://github.com/Leutwiler",
    "followers_url": "https://api.github.com/users/Leutwiler/followers",
    "following_url": "https://api.github.com/users/Leutwiler/following{/other_user}",
    "gists_url": "https://api.github.com/users/Leutwiler/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/Leutwiler/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/Leutwiler/subscriptions",
    "organizations_url": "https://api.github.com/users/Leutwiler/orgs",
    "repos_url": "https://api.github.com/users/Leutwiler/repos",
    "events_url": "https://api.github.com/users/Leutwiler/events{/privacy}",
    "received_events_url": "https://api.github.com/users/Leutwiler/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 3334394228,
      "node_id": "MDU6TGFiZWwzMzM0Mzk0MjI4",
      "url": "https://api.github.com/repos/foundry-rs/foundry/labels/T-bug",
      "name": "T-bug",
      "color": "d73a4a",
      "default": false,
      "description": "Type: bug"
    },
    {
      "id": 3756509527,
      "node_id": "LA_kwDOGBlvNc7f58lX",
      "url": "https://api.github.com/repos/foundry-rs/foundry/labels/A-releases",
      "name": "A-releases",
      "color": "FBCA04",
      "default": false,
      "description": "Area: releases/packaging"
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": {
    "login": "onbjerg",
    "id": 8862627,
    "node_id": "MDQ6VXNlcjg4NjI2Mjc=",
    "avatar_url": "https://avatars.githubusercontent.com/u/8862627?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/onbjerg",
    "html_url": "https://github.com/onbjerg",
    "followers_url": "https://api.github.com/users/onbjerg/followers",
    "following_url": "https://api.github.com/users/onbjerg/following{/other_user}",
    "gists_url": "https://api.github.com/users/onbjerg/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/onbjerg/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/onbjerg/subscriptions",
    "organizations_url": "https://api.github.com/users/onbjerg/orgs",
    "repos_url": "https://api.github.com/users/onbjerg/repos",
    "events_url": "https://api.github.com/users/onbjerg/events{/privacy}",
    "received_events_url": "https://api.github.com/users/onbjerg/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "onbjerg",
      "id": 8862627,
      "node_id": "MDQ6VXNlcjg4NjI2Mjc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8862627?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/onbjerg",
      "html_url": "https://github.com/onbjerg",
      "followers_url": "https://api.github.com/users/onbjerg/followers",
      "following_url": "https://api.github.com/users/onbjerg/following{/other_user}",
      "gists_url": "https://api.github.com/users/onbjerg/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/onbjerg/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/onbjerg/subscriptions",
      "organizations_url": "https://api.github.com/users/onbjerg/orgs",
      "repos_url": "https://api.github.com/users/onbjerg/repos",
      "events_url": "https://api.github.com/users/onbjerg/events{/privacy}",
      "received_events_url": "https://api.github.com/users/onbjerg/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 1,
  "created_at": "2022-06-18T19:39:20Z",
  "updated_at": "2022-07-25T15:00:34Z",
  "closed_at": "2022-07-25T15:00:34Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "### Component\n\nOther (please describe)\n\n### Have you ensured that all of these are up to date?\n\n- [X] Foundry\n- [X] Foundryup\n\n### What version of Foundry are you on?\n\n_No response_\n\n### What command(s) is the bug in?\n\ncargo install --git https://github.com/foundry-rs/foundry foundry-cli anvil --bins --locked\n\n### Operating System\n\nWindows\n\n### Describe the bug\n\nThe first time I've tried to install Foundry some months ago on Windows 10, I've faced the following error message:\r\n\r\n`failed to run custom build command for ring v0.16.20`\r\n\r\nThis message appeared during the installation process after running the Windows installation command which is shown in the Foundry Book:\r\n```\r\ncargo install --git https://github.com/foundry-rs/foundry foundry-cli anvil --bins --locked\r\n```\r\n\r\nWhen I first saw this bug, I decided to go to the Foundry Support telegram group and ask how it could be fixed. By that time, @onbjerg helped me and these were the recommendations that he said that I should try in order to be able to install Foundry (the methods are presented in the real sequence).\r\n\r\n1) Make sure to have Rust installed\r\n\r\n2) Make sure to have Msvc build tools installed: https://docs.microsoft.com/en-us/windows/dev-environment/rust/setup#install-visual-studio-recommended-or-the-microsoft-c-build-tools\r\n\r\n3) Try the following command:  rustup set default-host x86_64-pc-windows-msvc\r\n\r\nBefore going to the fourth recommendation, which actually was the one that solved my problem when I had it, Oliver asked for my `rustup show`, which returned:\r\n```\r\nDefault host: x86_64-pc-windows-msvc\r\nrustup home:  C:\\Users\\andrey\\.rustup\r\n\r\ninstalled toolchains\r\n--------------------\r\n\r\nstable-x86_64-pc-windows-gnu (default)\r\nstable-x86_64-pc-windows-msvc\r\n\r\nactive toolchain\r\n----------------\r\n\r\nstable-x86_64-pc-windows-gnu (default)\r\nrustc 1.59.0 (9d1b2106e 2022-02-23)\r\n```\r\n4) Try the following command: rustup default stable-x86_64-pc-windows-msvc\r\n\r\nThis fourth step solved the problem! After typing the above line, I wrote the `cargo install` command again and everything worked fine.\r\n\r\nI don't exactly know how much every step is correlated to one another, that's why I'm providing the full explanation instead of just sending the fourth step in this issue :)\r\n\r\nI decided to open this issue because yesterday another person had the same issued I had had in the past and he asked for a solution in our telegram group. I don't know exactly what causes this error, but as there are still many Windows users out there, I think this bug should be fixed, so it doesn't scare away newcomers who run Windows.\r\n\r\nYou can see the complete error message in this picture which was recently posted by other person who had the same issue (Evergreen) on the Foundry Support telegram group:\r\n![image](https://user-images.githubusercontent.com/93873392/174452967-73c59f20-3e66-4ae5-829b-68849f835986.png)",
  "closed_by": {
    "login": "Leutwiler",
    "id": 93873392,
    "node_id": "U_kgDOBZhk8A",
    "avatar_url": "https://avatars.githubusercontent.com/u/93873392?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/Leutwiler",
    "html_url": "https://github.com/Leutwiler",
    "followers_url": "https://api.github.com/users/Leutwiler/followers",
    "following_url": "https://api.github.com/users/Leutwiler/following{/other_user}",
    "gists_url": "https://api.github.com/users/Leutwiler/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/Leutwiler/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/Leutwiler/subscriptions",
    "organizations_url": "https://api.github.com/users/Leutwiler/orgs",
    "repos_url": "https://api.github.com/users/Leutwiler/repos",
    "events_url": "https://api.github.com/users/Leutwiler/events{/privacy}",
    "received_events_url": "https://api.github.com/users/Leutwiler/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/2021/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/foundry-rs/foundry/issues/2021/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1159574648",
    "html_url": "https://github.com/foundry-rs/foundry/issues/2021#issuecomment-1159574648",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/2021",
    "id": 1159574648,
    "node_id": "IC_kwDOGBlvNc5FHbR4",
    "user": {
      "login": "onbjerg",
      "id": 8862627,
      "node_id": "MDQ6VXNlcjg4NjI2Mjc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8862627?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/onbjerg",
      "html_url": "https://github.com/onbjerg",
      "followers_url": "https://api.github.com/users/onbjerg/followers",
      "following_url": "https://api.github.com/users/onbjerg/following{/other_user}",
      "gists_url": "https://api.github.com/users/onbjerg/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/onbjerg/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/onbjerg/subscriptions",
      "organizations_url": "https://api.github.com/users/onbjerg/orgs",
      "repos_url": "https://api.github.com/users/onbjerg/repos",
      "events_url": "https://api.github.com/users/onbjerg/events{/privacy}",
      "received_events_url": "https://api.github.com/users/onbjerg/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-06-18T22:19:42Z",
    "updated_at": "2022-06-18T22:19:42Z",
    "author_association": "MEMBER",
    "body": "I think the issue is that some people might be using the GNU toolchain without having those tools installed, so the general advice/requirements would be:\r\n\r\n1. Install Rust using rustup\r\n2. Make sure to have MSVC build tools installed (Rust needs this)\r\n3. Install the MSVC toolchain: `rustup default x86_64-pc-windows-msvc`\r\n\r\nMore generally though, we should get Windows builds working again so no one has to compile from source if they don't want to",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1159574648/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
