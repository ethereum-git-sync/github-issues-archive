{
  "url": "https://api.github.com/repos/foundry-rs/foundry/issues/1193",
  "repository_url": "https://api.github.com/repos/foundry-rs/foundry",
  "labels_url": "https://api.github.com/repos/foundry-rs/foundry/issues/1193/labels{/name}",
  "comments_url": "https://api.github.com/repos/foundry-rs/foundry/issues/1193/comments",
  "events_url": "https://api.github.com/repos/foundry-rs/foundry/issues/1193/events",
  "html_url": "https://github.com/foundry-rs/foundry/issues/1193",
  "id": 1191979003,
  "node_id": "I_kwDOGBlvNc5HDCf7",
  "number": 1193,
  "title": "`cast` should parse/format returned values instead of showing everything as hex",
  "user": {
    "login": "mds1",
    "id": 17163988,
    "node_id": "MDQ6VXNlcjE3MTYzOTg4",
    "avatar_url": "https://avatars.githubusercontent.com/u/17163988?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/mds1",
    "html_url": "https://github.com/mds1",
    "followers_url": "https://api.github.com/users/mds1/followers",
    "following_url": "https://api.github.com/users/mds1/following{/other_user}",
    "gists_url": "https://api.github.com/users/mds1/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/mds1/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/mds1/subscriptions",
    "organizations_url": "https://api.github.com/users/mds1/orgs",
    "repos_url": "https://api.github.com/users/mds1/repos",
    "events_url": "https://api.github.com/users/mds1/events{/privacy}",
    "received_events_url": "https://api.github.com/users/mds1/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 3334394235,
      "node_id": "MDU6TGFiZWwzMzM0Mzk0MjM1",
      "url": "https://api.github.com/repos/foundry-rs/foundry/labels/good%20first%20issue",
      "name": "good first issue",
      "color": "0052CC",
      "default": true,
      "description": "Good for newcomers"
    },
    {
      "id": 3593644820,
      "node_id": "LA_kwDOGBlvNc7WMqsU",
      "url": "https://api.github.com/repos/foundry-rs/foundry/labels/T-feature",
      "name": "T-feature",
      "color": "BFD4F2",
      "default": false,
      "description": "Type: feature"
    },
    {
      "id": 3703752609,
      "node_id": "LA_kwDOGBlvNc7cwseh",
      "url": "https://api.github.com/repos/foundry-rs/foundry/labels/C-cast",
      "name": "C-cast",
      "color": "5319E7",
      "default": false,
      "description": "Command: cast"
    },
    {
      "id": 3759719580,
      "node_id": "LA_kwDOGBlvNc7gGMSc",
      "url": "https://api.github.com/repos/foundry-rs/foundry/labels/P-normal",
      "name": "P-normal",
      "color": "D93F0B",
      "default": false,
      "description": "Priority: normal"
    },
    {
      "id": 3759720552,
      "node_id": "LA_kwDOGBlvNc7gGMho",
      "url": "https://api.github.com/repos/foundry-rs/foundry/labels/D-easy",
      "name": "D-easy",
      "color": "0E8A16",
      "default": false,
      "description": "Difficulty: easy"
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 3,
  "created_at": "2022-04-04T15:41:42Z",
  "updated_at": "2022-04-16T15:53:01Z",
  "closed_at": "2022-04-16T15:53:00Z",
  "author_association": "COLLABORATOR",
  "active_lock_reason": null,
  "body": "### Component\n\nCast\n\n### Describe the feature you would like\n\nNotice how seth displays decimal for things like block numbers, whereas cast shows everything in hex with unnecessary quotes around it. I'm not sure if the formatting is part of the JSON RPC spec, or custom, but this seems to apply to most `cast commands`\r\n\r\n### `cast block`\r\n\r\n```\r\n$ cast block latest timestamp\r\n0x624b1157\r\n```\r\n\r\n```\r\n$ seth block latest timestamp\r\n1649086807\r\n```\r\n\r\n### `cast tx`\r\n\r\n```\r\n$ cast tx 0xbedc92801b8a7128898f484006f9e9fb795630f1826f35dd3544db38c07594ab --rpc-url $ARBITRUM_RPC_URL\r\nblockHash            \"0x918b0fbe7235f5a058890653f82c5e483ff0bbd1c84668e930e19b424e034540\"\r\nblockNumber          \"0x8a4058\"\r\nfrom                 \"0x22222b7c879e6c09690d1e5eb10437e68987882c\"\r\ngas                  \"0x0\"\r\ngasPrice             \"0x0\"\r\nhash                 \"0xbedc92801b8a7128898f484006f9e9fb795630f1826f35dd3544db38c07594ab\"\r\ninput                \"0x679b6ded00000000000000000000000022222b7c879e6c09690d1e5eb10437e68987882c0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000411479445100000000000000000000000022222b7c879e6c09690d1e5eb10437e68987882c00000000000000000000000022222b7c879e6c09690d1e5eb10437e68987882c0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000000\"\r\nnonce                \"0x0\"\r\nr                    \"0x0\"\r\ns                    \"0x0\"\r\nto                   \"0x000000000000000000000000000000000000006e\"\r\ntransactionIndex     \"0x5\"\r\nv                    \"0x0\"\r\nvalue                \"0xb1a2bc2ec50000\"\r\n```\r\n\r\n```\r\n$ seth tx 0xbedc92801b8a7128898f484006f9e9fb795630f1826f35dd3544db38c07594ab --rpc-url $ARBITRUM_RPC_URL\r\narbSubType              null\r\narbType                 9\r\nblockHash               0x918b0fbe7235f5a058890653f82c5e483ff0bbd1c84668e930e19b424e034540\r\nblockNumber             9060440\r\nfrom                    0x22222b7c879e6c09690d1e5eb10437e68987882c\r\ngas                     0\r\ngasPrice                0\r\nhash                    0xbedc92801b8a7128898f484006f9e9fb795630f1826f35dd3544db38c07594ab\r\nindexInParent           null\r\ninput                   0x679b6ded00000000000000000000000022222b7c879e6c09690d1e5eb10437e68987882c0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000411479445100000000000000000000000022222b7c879e6c09690d1e5eb10437e68987882c00000000000000000000000022222b7c879e6c09690d1e5eb10437e68987882c0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000000\r\nl1BlockNumber           14502213\r\nl1SequenceNumber        0x80000000000000000000000000000000000000000000000000000000000602b5\r\nnonce                   0\r\nparentRequestId         null\r\nr                       0\r\ns                       0\r\nto                      0x000000000000000000000000000000000000006e\r\ntransactionIndex        5\r\nv                       0\r\nvalue                   50000000000000000\r\n```\n\n### Additional context\n\n_No response_",
  "closed_by": {
    "login": "mds1",
    "id": 17163988,
    "node_id": "MDQ6VXNlcjE3MTYzOTg4",
    "avatar_url": "https://avatars.githubusercontent.com/u/17163988?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/mds1",
    "html_url": "https://github.com/mds1",
    "followers_url": "https://api.github.com/users/mds1/followers",
    "following_url": "https://api.github.com/users/mds1/following{/other_user}",
    "gists_url": "https://api.github.com/users/mds1/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/mds1/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/mds1/subscriptions",
    "organizations_url": "https://api.github.com/users/mds1/orgs",
    "repos_url": "https://api.github.com/users/mds1/repos",
    "events_url": "https://api.github.com/users/mds1/events{/privacy}",
    "received_events_url": "https://api.github.com/users/mds1/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/1193/reactions",
    "total_count": 3,
    "+1": 3,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/foundry-rs/foundry/issues/1193/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1089708370",
    "html_url": "https://github.com/foundry-rs/foundry/issues/1193#issuecomment-1089708370",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/1193",
    "id": 1089708370,
    "node_id": "IC_kwDOGBlvNc5A86FS",
    "user": {
      "login": "Bind",
      "id": 4602930,
      "node_id": "MDQ6VXNlcjQ2MDI5MzA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4602930?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Bind",
      "html_url": "https://github.com/Bind",
      "followers_url": "https://api.github.com/users/Bind/followers",
      "following_url": "https://api.github.com/users/Bind/following{/other_user}",
      "gists_url": "https://api.github.com/users/Bind/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Bind/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Bind/subscriptions",
      "organizations_url": "https://api.github.com/users/Bind/orgs",
      "repos_url": "https://api.github.com/users/Bind/repos",
      "events_url": "https://api.github.com/users/Bind/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Bind/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-04-06T02:51:41Z",
    "updated_at": "2022-04-06T02:51:41Z",
    "author_association": "CONTRIBUTOR",
    "body": "Hallo, starting to poke around the foundry code base a bit more and this seems like a good issue to tackle. \r\n\r\n[$ cast tx ...](https://github.com/gakonst/foundry/blob/6130af7d3fd581c22b42d232011fa1576bfc6ac0/cast/src/lib.rs#L520) \r\nSeems the problem is the `Transaction` type is casted to a json `Value` which erases the typing information and then the json gets printed.  That typing information should drive the logic for rendering. Simplest solution would be to use a trait. \r\n\r\nMy approach would be something like...\r\n- [ ] trait toTable{...} (or some other name)\r\n- [ ] impl toTable for Transaction{...}\r\n- [ ] replace [else statement](https://github.com/gakonst/foundry/blob/6130af7d3fd581c22b42d232011fa1576bfc6ac0/cast/src/lib.rs#L542) with `transaction_result.toTable()`\r\n- [ ] Reorganize json parsing to still respect `to_json` flag\r\n\r\nLet me know if this seems reasonable and I'll have something submitted soon!\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1089708370/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1100584475",
    "html_url": "https://github.com/foundry-rs/foundry/issues/1193#issuecomment-1100584475",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/1193",
    "id": 1100584475,
    "node_id": "IC_kwDOGBlvNc5BmZYb",
    "user": {
      "login": "onbjerg",
      "id": 8862627,
      "node_id": "MDQ6VXNlcjg4NjI2Mjc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8862627?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/onbjerg",
      "html_url": "https://github.com/onbjerg",
      "followers_url": "https://api.github.com/users/onbjerg/followers",
      "following_url": "https://api.github.com/users/onbjerg/following{/other_user}",
      "gists_url": "https://api.github.com/users/onbjerg/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/onbjerg/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/onbjerg/subscriptions",
      "organizations_url": "https://api.github.com/users/onbjerg/orgs",
      "repos_url": "https://api.github.com/users/onbjerg/repos",
      "events_url": "https://api.github.com/users/onbjerg/events{/privacy}",
      "received_events_url": "https://api.github.com/users/onbjerg/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-04-16T06:17:24Z",
    "updated_at": "2022-04-16T06:17:24Z",
    "author_association": "MEMBER",
    "body": "Was this fixed in #1253? (thanks @Bind!)",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1100584475/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 1,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1100695203",
    "html_url": "https://github.com/foundry-rs/foundry/issues/1193#issuecomment-1100695203",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/1193",
    "id": 1100695203,
    "node_id": "IC_kwDOGBlvNc5Bm0aj",
    "user": {
      "login": "mds1",
      "id": 17163988,
      "node_id": "MDQ6VXNlcjE3MTYzOTg4",
      "avatar_url": "https://avatars.githubusercontent.com/u/17163988?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mds1",
      "html_url": "https://github.com/mds1",
      "followers_url": "https://api.github.com/users/mds1/followers",
      "following_url": "https://api.github.com/users/mds1/following{/other_user}",
      "gists_url": "https://api.github.com/users/mds1/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mds1/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mds1/subscriptions",
      "organizations_url": "https://api.github.com/users/mds1/orgs",
      "repos_url": "https://api.github.com/users/mds1/repos",
      "events_url": "https://api.github.com/users/mds1/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mds1/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-04-16T15:53:00Z",
    "updated_at": "2022-04-16T15:53:00Z",
    "author_association": "COLLABORATOR",
    "body": "Yep, closing! \r\n\r\nThanks for implementing @Bind 🙌",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1100695203/reactions",
      "total_count": 2,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 2,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
