{
  "url": "https://api.github.com/repos/foundry-rs/foundry/issues/3720",
  "repository_url": "https://api.github.com/repos/foundry-rs/foundry",
  "labels_url": "https://api.github.com/repos/foundry-rs/foundry/issues/3720/labels{/name}",
  "comments_url": "https://api.github.com/repos/foundry-rs/foundry/issues/3720/comments",
  "events_url": "https://api.github.com/repos/foundry-rs/foundry/issues/3720/events",
  "html_url": "https://github.com/foundry-rs/foundry/issues/3720",
  "id": 1456883035,
  "node_id": "I_kwDOGBlvNc5W1kVb",
  "number": 3720,
  "title": "forge update - Unable to find revision in submodule path",
  "user": {
    "login": "mits87",
    "id": 605186,
    "node_id": "MDQ6VXNlcjYwNTE4Ng==",
    "avatar_url": "https://avatars.githubusercontent.com/u/605186?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/mits87",
    "html_url": "https://github.com/mits87",
    "followers_url": "https://api.github.com/users/mits87/followers",
    "following_url": "https://api.github.com/users/mits87/following{/other_user}",
    "gists_url": "https://api.github.com/users/mits87/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/mits87/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/mits87/subscriptions",
    "organizations_url": "https://api.github.com/users/mits87/orgs",
    "repos_url": "https://api.github.com/users/mits87/repos",
    "events_url": "https://api.github.com/users/mits87/events{/privacy}",
    "received_events_url": "https://api.github.com/users/mits87/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 3334394228,
      "node_id": "MDU6TGFiZWwzMzM0Mzk0MjI4",
      "url": "https://api.github.com/repos/foundry-rs/foundry/labels/T-bug",
      "name": "T-bug",
      "color": "d73a4a",
      "default": false,
      "description": "Type: bug"
    },
    {
      "id": 3703752787,
      "node_id": "LA_kwDOGBlvNc7cwshT",
      "url": "https://api.github.com/repos/foundry-rs/foundry/labels/C-forge",
      "name": "C-forge",
      "color": "5319E7",
      "default": false,
      "description": "Command: forge"
    },
    {
      "id": 3777100092,
      "node_id": "LA_kwDOGBlvNc7hIfk8",
      "url": "https://api.github.com/repos/foundry-rs/foundry/labels/Cmd-forge-pm",
      "name": "Cmd-forge-pm",
      "color": "006B75",
      "default": false,
      "description": "Command: forge install/update/remove"
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 16,
  "created_at": "2022-11-20T12:20:59Z",
  "updated_at": "2023-11-09T15:23:02Z",
  "closed_at": null,
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "### Component\r\n\r\nForge\r\n\r\n### Have you ensured that all of these are up to date?\r\n\r\n- [X] Foundry\r\n- [X] Foundryup\r\n\r\n### What version of Foundry are you on?\r\n\r\n0.2.0\r\n\r\n### What command(s) is the bug in?\r\n\r\nforge update\r\n\r\n### Operating System\r\n\r\nmacOS (Apple Silicon)\r\n\r\n### Describe the bug\r\n\r\nHi there!\r\n\r\nI've just started using foundry as a replacement of the hardhat (I really love the foundry idea ❤️ ).\r\nI'm following the [documentation](https://book.getfoundry.sh/projects/dependencies#removing-dependencies) and I realized that I have a small issue with `forge update`.\r\n\r\nBasically I installed openzeppelin contracts:\r\n```\r\nforge install openzeppelin/openzeppelin-contracts\r\n```\r\n\r\nand if I execute a command `forge update` then I get an error:\r\n```\r\nError:\r\nfatal: Unable to find refs/remotes/origin/v4.8.0 revision in submodule path 'lib/openzeppelin-contracts'\r\n```\r\n\r\nThe `git submodule status` returns:\r\n```\r\n a24d813f6bd4ab40e07e8ba940dbbe9cca03f9cd lib/forge-std (v1.1.0-4-ga24d813)\r\n 49c0e4370d0cc50ea6090709e3835a3091e33ee2 lib/openzeppelin-contracts (v4.8.0)\r\n```\r\n\r\nAny idea what I'm doing wrong?",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/3720/reactions",
    "total_count": 3,
    "+1": 3,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/foundry-rs/foundry/issues/3720/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1323344661",
    "html_url": "https://github.com/foundry-rs/foundry/issues/3720#issuecomment-1323344661",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/3720",
    "id": 1323344661,
    "node_id": "IC_kwDOGBlvNc5O4KMV",
    "user": {
      "login": "rkrasiuk",
      "id": 25429261,
      "node_id": "MDQ6VXNlcjI1NDI5MjYx",
      "avatar_url": "https://avatars.githubusercontent.com/u/25429261?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rkrasiuk",
      "html_url": "https://github.com/rkrasiuk",
      "followers_url": "https://api.github.com/users/rkrasiuk/followers",
      "following_url": "https://api.github.com/users/rkrasiuk/following{/other_user}",
      "gists_url": "https://api.github.com/users/rkrasiuk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rkrasiuk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rkrasiuk/subscriptions",
      "organizations_url": "https://api.github.com/users/rkrasiuk/orgs",
      "repos_url": "https://api.github.com/users/rkrasiuk/repos",
      "events_url": "https://api.github.com/users/rkrasiuk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rkrasiuk/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-11-22T09:15:45Z",
    "updated_at": "2022-11-22T09:15:45Z",
    "author_association": "COLLABORATOR",
    "body": "@mattsse everybody seems to reference [this](https://stackoverflow.com/questions/7605469/git-submodules-pulling-into-a-new-clone-of-the-super-project/8573310#8573310) as a solution. my best guess - conflicting submodules? v4.8.0 has also `forge-std` as dep",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1323344661/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1323385172",
    "html_url": "https://github.com/foundry-rs/foundry/issues/3720#issuecomment-1323385172",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/3720",
    "id": 1323385172,
    "node_id": "IC_kwDOGBlvNc5O4UFU",
    "user": {
      "login": "rkrasiuk",
      "id": 25429261,
      "node_id": "MDQ6VXNlcjI1NDI5MjYx",
      "avatar_url": "https://avatars.githubusercontent.com/u/25429261?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rkrasiuk",
      "html_url": "https://github.com/rkrasiuk",
      "followers_url": "https://api.github.com/users/rkrasiuk/followers",
      "following_url": "https://api.github.com/users/rkrasiuk/following{/other_user}",
      "gists_url": "https://api.github.com/users/rkrasiuk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rkrasiuk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rkrasiuk/subscriptions",
      "organizations_url": "https://api.github.com/users/rkrasiuk/orgs",
      "repos_url": "https://api.github.com/users/rkrasiuk/repos",
      "events_url": "https://api.github.com/users/rkrasiuk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rkrasiuk/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-11-22T09:47:32Z",
    "updated_at": "2022-11-22T10:09:41Z",
    "author_association": "COLLABORATOR",
    "body": "@mattsse after more investigation, i think the issue is the `branch` specification in the `.gitmodules`. some comments:\r\n\r\n1. `submodule set-branch` only adds the entry in `.gitmodules` file, no additional magic behind the scenes. the submodule still points to the same commit at which it was added. [stackoverflow](https://stackoverflow.com/a/18797720)\r\n2. from the same stackoverflow answer: `branch` entry accepts branch name only. tags and shas are not supported.\r\n3. some magical attempts to properly [update submodules](https://stackoverflow.com/a/18799234)",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1323385172/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1323435033",
    "html_url": "https://github.com/foundry-rs/foundry/issues/3720#issuecomment-1323435033",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/3720",
    "id": 1323435033,
    "node_id": "IC_kwDOGBlvNc5O4gQZ",
    "user": {
      "login": "mattsse",
      "id": 19890894,
      "node_id": "MDQ6VXNlcjE5ODkwODk0",
      "avatar_url": "https://avatars.githubusercontent.com/u/19890894?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mattsse",
      "html_url": "https://github.com/mattsse",
      "followers_url": "https://api.github.com/users/mattsse/followers",
      "following_url": "https://api.github.com/users/mattsse/following{/other_user}",
      "gists_url": "https://api.github.com/users/mattsse/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mattsse/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mattsse/subscriptions",
      "organizations_url": "https://api.github.com/users/mattsse/orgs",
      "repos_url": "https://api.github.com/users/mattsse/repos",
      "events_url": "https://api.github.com/users/mattsse/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mattsse/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-11-22T10:26:22Z",
    "updated_at": "2022-11-22T10:26:22Z",
    "author_association": "MEMBER",
    "body": "hmm, interesting, how do we fix this in the update command?",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1323435033/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1323474913",
    "html_url": "https://github.com/foundry-rs/foundry/issues/3720#issuecomment-1323474913",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/3720",
    "id": 1323474913,
    "node_id": "IC_kwDOGBlvNc5O4p_h",
    "user": {
      "login": "rkrasiuk",
      "id": 25429261,
      "node_id": "MDQ6VXNlcjI1NDI5MjYx",
      "avatar_url": "https://avatars.githubusercontent.com/u/25429261?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rkrasiuk",
      "html_url": "https://github.com/rkrasiuk",
      "followers_url": "https://api.github.com/users/rkrasiuk/followers",
      "following_url": "https://api.github.com/users/rkrasiuk/following{/other_user}",
      "gists_url": "https://api.github.com/users/rkrasiuk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rkrasiuk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rkrasiuk/subscriptions",
      "organizations_url": "https://api.github.com/users/rkrasiuk/orgs",
      "repos_url": "https://api.github.com/users/rkrasiuk/repos",
      "events_url": "https://api.github.com/users/rkrasiuk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rkrasiuk/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-11-22T10:47:19Z",
    "updated_at": "2022-11-22T10:47:25Z",
    "author_association": "COLLABORATOR",
    "body": "@mattsse didn't find a way to update the module without removing the branch entry in the `.gitmodules`",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1323474913/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1323498047",
    "html_url": "https://github.com/foundry-rs/foundry/issues/3720#issuecomment-1323498047",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/3720",
    "id": 1323498047,
    "node_id": "IC_kwDOGBlvNc5O4vo_",
    "user": {
      "login": "mattsse",
      "id": 19890894,
      "node_id": "MDQ6VXNlcjE5ODkwODk0",
      "avatar_url": "https://avatars.githubusercontent.com/u/19890894?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mattsse",
      "html_url": "https://github.com/mattsse",
      "followers_url": "https://api.github.com/users/mattsse/followers",
      "following_url": "https://api.github.com/users/mattsse/following{/other_user}",
      "gists_url": "https://api.github.com/users/mattsse/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mattsse/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mattsse/subscriptions",
      "organizations_url": "https://api.github.com/users/mattsse/orgs",
      "repos_url": "https://api.github.com/users/mattsse/repos",
      "events_url": "https://api.github.com/users/mattsse/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mattsse/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-11-22T11:05:44Z",
    "updated_at": "2022-11-22T11:05:44Z",
    "author_association": "MEMBER",
    "body": "this sounds very cursed. I think I introduced this by checkout out the latest semver tag.",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1323498047/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1324959549",
    "html_url": "https://github.com/foundry-rs/foundry/issues/3720#issuecomment-1324959549",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/3720",
    "id": 1324959549,
    "node_id": "IC_kwDOGBlvNc5O-Uc9",
    "user": {
      "login": "mds1",
      "id": 17163988,
      "node_id": "MDQ6VXNlcjE3MTYzOTg4",
      "avatar_url": "https://avatars.githubusercontent.com/u/17163988?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mds1",
      "html_url": "https://github.com/mds1",
      "followers_url": "https://api.github.com/users/mds1/followers",
      "following_url": "https://api.github.com/users/mds1/following{/other_user}",
      "gists_url": "https://api.github.com/users/mds1/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mds1/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mds1/subscriptions",
      "organizations_url": "https://api.github.com/users/mds1/orgs",
      "repos_url": "https://api.github.com/users/mds1/repos",
      "events_url": "https://api.github.com/users/mds1/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mds1/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-11-23T12:07:31Z",
    "updated_at": "2022-11-23T12:07:31Z",
    "author_association": "COLLABORATOR",
    "body": "> how do we fix this in the update command?\r\n\r\nperhaps `forge update` basically work by removing the old version and reinstalling the new version, instead of updating? I don't have anything concrete to repro, but I do this often cause sometimes updating doesn't work as expected. It's a bit clunky, but should work fine and be more robust\r\n\r\nrelated, `forge update` should allow a tag/commit/branch to be specified when only updating one dep (this may be already supported, not sure)",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1324959549/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1364544092",
    "html_url": "https://github.com/foundry-rs/foundry/issues/3720#issuecomment-1364544092",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/3720",
    "id": 1364544092,
    "node_id": "IC_kwDOGBlvNc5RVUpc",
    "user": {
      "login": "1-om",
      "id": 85337186,
      "node_id": "MDQ6VXNlcjg1MzM3MTg2",
      "avatar_url": "https://avatars.githubusercontent.com/u/85337186?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/1-om",
      "html_url": "https://github.com/1-om",
      "followers_url": "https://api.github.com/users/1-om/followers",
      "following_url": "https://api.github.com/users/1-om/following{/other_user}",
      "gists_url": "https://api.github.com/users/1-om/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/1-om/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/1-om/subscriptions",
      "organizations_url": "https://api.github.com/users/1-om/orgs",
      "repos_url": "https://api.github.com/users/1-om/repos",
      "events_url": "https://api.github.com/users/1-om/events{/privacy}",
      "received_events_url": "https://api.github.com/users/1-om/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-12-24T15:17:15Z",
    "updated_at": "2022-12-25T20:36:12Z",
    "author_association": "NONE",
    "body": "I am getting this even without installing any libraries, i.e., in a new default project.\r\n\r\n```\r\n> forge update\r\nError: \r\nfatal: Unable to find refs/remotes/origin/v1.2.0 revision in submodule path 'lib/forge-std'\r\n\r\n> git submodule status\r\n eb980e1d4f0e8173ec27da77297ae411840c8ccb lib/forge-std (v1.2.0)\r\n \r\n> cd lib/forge-std\r\n> git status\r\nHEAD detached at v1.2.0\r\nnothing to commit, working tree clean\r\n ```",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1364544092/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1367324646",
    "html_url": "https://github.com/foundry-rs/foundry/issues/3720#issuecomment-1367324646",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/3720",
    "id": 1367324646,
    "node_id": "IC_kwDOGBlvNc5Rf7fm",
    "user": {
      "login": "Genesis3800",
      "id": 56264430,
      "node_id": "MDQ6VXNlcjU2MjY0NDMw",
      "avatar_url": "https://avatars.githubusercontent.com/u/56264430?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Genesis3800",
      "html_url": "https://github.com/Genesis3800",
      "followers_url": "https://api.github.com/users/Genesis3800/followers",
      "following_url": "https://api.github.com/users/Genesis3800/following{/other_user}",
      "gists_url": "https://api.github.com/users/Genesis3800/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Genesis3800/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Genesis3800/subscriptions",
      "organizations_url": "https://api.github.com/users/Genesis3800/orgs",
      "repos_url": "https://api.github.com/users/Genesis3800/repos",
      "events_url": "https://api.github.com/users/Genesis3800/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Genesis3800/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-12-29T13:33:09Z",
    "updated_at": "2022-12-29T13:33:09Z",
    "author_association": "NONE",
    "body": "As of 29 Dec 2022, I am too facing this issue.\r\nCannot run `forge update` to update all dependencies, also cannot run `forge update lib/openzeppelin-contracts` to update particular dependency.",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1367324646/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1374114869",
    "html_url": "https://github.com/foundry-rs/foundry/issues/3720#issuecomment-1374114869",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/3720",
    "id": 1374114869,
    "node_id": "IC_kwDOGBlvNc5R51Q1",
    "user": {
      "login": "AStox",
      "id": 6720265,
      "node_id": "MDQ6VXNlcjY3MjAyNjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6720265?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/AStox",
      "html_url": "https://github.com/AStox",
      "followers_url": "https://api.github.com/users/AStox/followers",
      "following_url": "https://api.github.com/users/AStox/following{/other_user}",
      "gists_url": "https://api.github.com/users/AStox/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/AStox/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/AStox/subscriptions",
      "organizations_url": "https://api.github.com/users/AStox/orgs",
      "repos_url": "https://api.github.com/users/AStox/repos",
      "events_url": "https://api.github.com/users/AStox/events{/privacy}",
      "received_events_url": "https://api.github.com/users/AStox/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-01-06T20:48:20Z",
    "updated_at": "2023-01-06T20:48:20Z",
    "author_association": "NONE",
    "body": "I'm also encountering this issue, and can reproduce it in a brand new forge project by running:\r\n```\r\n> forge init\r\n> forge update\r\nfatal: Needed a single revision\r\nUnable to find current origin/v1.2.0 revision in submodule path 'lib/forge-std'\r\n```\r\nThe workaround as of right now seems to be removing and reinstalling my submodules.",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1374114869/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1425931821",
    "html_url": "https://github.com/foundry-rs/foundry/issues/3720#issuecomment-1425931821",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/3720",
    "id": 1425931821,
    "node_id": "IC_kwDOGBlvNc5U_f4t",
    "user": {
      "login": "0xMySt1c",
      "id": 101825630,
      "node_id": "U_kgDOBhG8Xg",
      "avatar_url": "https://avatars.githubusercontent.com/u/101825630?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/0xMySt1c",
      "html_url": "https://github.com/0xMySt1c",
      "followers_url": "https://api.github.com/users/0xMySt1c/followers",
      "following_url": "https://api.github.com/users/0xMySt1c/following{/other_user}",
      "gists_url": "https://api.github.com/users/0xMySt1c/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/0xMySt1c/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/0xMySt1c/subscriptions",
      "organizations_url": "https://api.github.com/users/0xMySt1c/orgs",
      "repos_url": "https://api.github.com/users/0xMySt1c/repos",
      "events_url": "https://api.github.com/users/0xMySt1c/events{/privacy}",
      "received_events_url": "https://api.github.com/users/0xMySt1c/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-02-10T15:03:56Z",
    "updated_at": "2023-02-10T15:03:56Z",
    "author_association": "NONE",
    "body": "bump \r\nrunning into this with open zeppelin\r\nUnable to find refs/remotes/origin/v4.4.1 revision in submodule path 'lib/openzeppelin-contracts'",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1425931821/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1426012440",
    "html_url": "https://github.com/foundry-rs/foundry/issues/3720#issuecomment-1426012440",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/3720",
    "id": 1426012440,
    "node_id": "IC_kwDOGBlvNc5U_zkY",
    "user": {
      "login": "mattsse",
      "id": 19890894,
      "node_id": "MDQ6VXNlcjE5ODkwODk0",
      "avatar_url": "https://avatars.githubusercontent.com/u/19890894?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mattsse",
      "html_url": "https://github.com/mattsse",
      "followers_url": "https://api.github.com/users/mattsse/followers",
      "following_url": "https://api.github.com/users/mattsse/following{/other_user}",
      "gists_url": "https://api.github.com/users/mattsse/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mattsse/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mattsse/subscriptions",
      "organizations_url": "https://api.github.com/users/mattsse/orgs",
      "repos_url": "https://api.github.com/users/mattsse/repos",
      "events_url": "https://api.github.com/users/mattsse/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mattsse/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-02-10T15:57:34Z",
    "updated_at": "2023-02-10T15:57:34Z",
    "author_association": "MEMBER",
    "body": "rn forge update just does\r\n\r\n```\r\ngit submodule update --init --remote\r\n``` \r\n\r\nunclear what this error even means. I think this is somehow related to the git tag of the dependency but no idea honestly.\r\n\r\nSo not sure what to actually do on `forge update`",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1426012440/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1426221808",
    "html_url": "https://github.com/foundry-rs/foundry/issues/3720#issuecomment-1426221808",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/3720",
    "id": 1426221808,
    "node_id": "IC_kwDOGBlvNc5VAmrw",
    "user": {
      "login": "RohanNero",
      "id": 100052099,
      "node_id": "U_kgDOBfasgw",
      "avatar_url": "https://avatars.githubusercontent.com/u/100052099?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/RohanNero",
      "html_url": "https://github.com/RohanNero",
      "followers_url": "https://api.github.com/users/RohanNero/followers",
      "following_url": "https://api.github.com/users/RohanNero/following{/other_user}",
      "gists_url": "https://api.github.com/users/RohanNero/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/RohanNero/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/RohanNero/subscriptions",
      "organizations_url": "https://api.github.com/users/RohanNero/orgs",
      "repos_url": "https://api.github.com/users/RohanNero/repos",
      "events_url": "https://api.github.com/users/RohanNero/events{/privacy}",
      "received_events_url": "https://api.github.com/users/RohanNero/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-02-10T19:06:16Z",
    "updated_at": "2023-02-10T19:06:16Z",
    "author_association": "NONE",
    "body": "facing the same issue while following along [here](https://book.getfoundry.sh/projects/dependencies)\r\n cannot use `forge update` or `forge update lib/solmate`",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1426221808/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1472434150",
    "html_url": "https://github.com/foundry-rs/foundry/issues/3720#issuecomment-1472434150",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/3720",
    "id": 1472434150,
    "node_id": "IC_kwDOGBlvNc5Xw4_m",
    "user": {
      "login": "ZrowGz",
      "id": 80988768,
      "node_id": "MDQ6VXNlcjgwOTg4NzY4",
      "avatar_url": "https://avatars.githubusercontent.com/u/80988768?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ZrowGz",
      "html_url": "https://github.com/ZrowGz",
      "followers_url": "https://api.github.com/users/ZrowGz/followers",
      "following_url": "https://api.github.com/users/ZrowGz/following{/other_user}",
      "gists_url": "https://api.github.com/users/ZrowGz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ZrowGz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ZrowGz/subscriptions",
      "organizations_url": "https://api.github.com/users/ZrowGz/orgs",
      "repos_url": "https://api.github.com/users/ZrowGz/repos",
      "events_url": "https://api.github.com/users/ZrowGz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ZrowGz/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-03-16T17:43:45Z",
    "updated_at": "2023-04-13T00:25:16Z",
    "author_association": "NONE",
    "body": "I removed the branch specification from within the .gitmodules file and it was able to update again. Unfortunately, this means it won't continue to track the version I started with, but I suppose this is just how it will have to be for now.\r\n\r\nedit: Just had this issue crop up again on a new computer, found Option 3 on [this](https://9to5answer.com/git-submodule-update-init-gives-error-fatal-needed-a-single-revision-unable-to-find-current-revision-in-submodule-path) site to be quite useful in resolving.",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1472434150/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1683324352",
    "html_url": "https://github.com/foundry-rs/foundry/issues/3720#issuecomment-1683324352",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/3720",
    "id": 1683324352,
    "node_id": "IC_kwDOGBlvNc5kVX3A",
    "user": {
      "login": "phenix3443",
      "id": 1721532,
      "node_id": "MDQ6VXNlcjE3MjE1MzI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1721532?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/phenix3443",
      "html_url": "https://github.com/phenix3443",
      "followers_url": "https://api.github.com/users/phenix3443/followers",
      "following_url": "https://api.github.com/users/phenix3443/following{/other_user}",
      "gists_url": "https://api.github.com/users/phenix3443/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/phenix3443/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/phenix3443/subscriptions",
      "organizations_url": "https://api.github.com/users/phenix3443/orgs",
      "repos_url": "https://api.github.com/users/phenix3443/repos",
      "events_url": "https://api.github.com/users/phenix3443/events{/privacy}",
      "received_events_url": "https://api.github.com/users/phenix3443/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-08-18T04:11:00Z",
    "updated_at": "2023-08-18T04:11:00Z",
    "author_association": "NONE",
    "body": "face same issue, git submodules should not do what package managers do.",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1683324352/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1687984481",
    "html_url": "https://github.com/foundry-rs/foundry/issues/3720#issuecomment-1687984481",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/3720",
    "id": 1687984481,
    "node_id": "IC_kwDOGBlvNc5knJlh",
    "user": {
      "login": "gosuto-inzasheru",
      "id": 2835259,
      "node_id": "MDQ6VXNlcjI4MzUyNTk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2835259?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gosuto-inzasheru",
      "html_url": "https://github.com/gosuto-inzasheru",
      "followers_url": "https://api.github.com/users/gosuto-inzasheru/followers",
      "following_url": "https://api.github.com/users/gosuto-inzasheru/following{/other_user}",
      "gists_url": "https://api.github.com/users/gosuto-inzasheru/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gosuto-inzasheru/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gosuto-inzasheru/subscriptions",
      "organizations_url": "https://api.github.com/users/gosuto-inzasheru/orgs",
      "repos_url": "https://api.github.com/users/gosuto-inzasheru/repos",
      "events_url": "https://api.github.com/users/gosuto-inzasheru/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gosuto-inzasheru/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-08-22T11:12:54Z",
    "updated_at": "2023-08-22T11:47:10Z",
    "author_association": "NONE",
    "body": "i think the only real solution to this is to keep a persistent _branch_ for every tag/release in each submodule. that branch can then be specified in the `.gitmodules` file under `branch = `, eg `branch = release/v1.6.0`.\r\n\r\nas noted before unfortunately the submodules functionality does not allow pinning to tags or commits.\r\n\r\nfor `forge-std` we could implement this ourselves, but for external dependencies it just depends on how they manage their branches, releases and tags.",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1687984481/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1804038288",
    "html_url": "https://github.com/foundry-rs/foundry/issues/3720#issuecomment-1804038288",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/3720",
    "id": 1804038288,
    "node_id": "IC_kwDOGBlvNc5rh3CQ",
    "user": {
      "login": "dkuppitz",
      "id": 572377,
      "node_id": "MDQ6VXNlcjU3MjM3Nw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/572377?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dkuppitz",
      "html_url": "https://github.com/dkuppitz",
      "followers_url": "https://api.github.com/users/dkuppitz/followers",
      "following_url": "https://api.github.com/users/dkuppitz/following{/other_user}",
      "gists_url": "https://api.github.com/users/dkuppitz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dkuppitz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dkuppitz/subscriptions",
      "organizations_url": "https://api.github.com/users/dkuppitz/orgs",
      "repos_url": "https://api.github.com/users/dkuppitz/repos",
      "events_url": "https://api.github.com/users/dkuppitz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dkuppitz/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-11-09T15:23:01Z",
    "updated_at": "2023-11-09T15:23:01Z",
    "author_association": "NONE",
    "body": "```bash\r\n➜  forge update\r\nfatal: Needed a single revision\r\nUnable to find current origin/master revision in submodule path 'lib/erc4626-tests'\r\nFailed to recurse into submodule path 'lib/openzeppelin-contracts-upgradeable'\r\nError: \r\ngit submodule exited with code 1\r\n```\r\n\r\nOpenZeppelin has not specified a branch in the `erc4626-tests` submodule. `erc4626-tests` does not have a `master` branch, it's `main`. Seems like `forge update` simply assumes that no branch specification means `master`.",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1804038288/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
