{
  "url": "https://api.github.com/repos/foundry-rs/foundry/issues/4172",
  "repository_url": "https://api.github.com/repos/foundry-rs/foundry",
  "labels_url": "https://api.github.com/repos/foundry-rs/foundry/issues/4172/labels{/name}",
  "comments_url": "https://api.github.com/repos/foundry-rs/foundry/issues/4172/comments",
  "events_url": "https://api.github.com/repos/foundry-rs/foundry/issues/4172/events",
  "html_url": "https://github.com/foundry-rs/foundry/issues/4172",
  "id": 1556617252,
  "node_id": "I_kwDOGBlvNc5cyBgk",
  "number": 4172,
  "title": "Ability to read private immutables",
  "user": {
    "login": "iFrostizz",
    "id": 51274081,
    "node_id": "MDQ6VXNlcjUxMjc0MDgx",
    "avatar_url": "https://avatars.githubusercontent.com/u/51274081?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/iFrostizz",
    "html_url": "https://github.com/iFrostizz",
    "followers_url": "https://api.github.com/users/iFrostizz/followers",
    "following_url": "https://api.github.com/users/iFrostizz/following{/other_user}",
    "gists_url": "https://api.github.com/users/iFrostizz/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/iFrostizz/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/iFrostizz/subscriptions",
    "organizations_url": "https://api.github.com/users/iFrostizz/orgs",
    "repos_url": "https://api.github.com/users/iFrostizz/repos",
    "events_url": "https://api.github.com/users/iFrostizz/events{/privacy}",
    "received_events_url": "https://api.github.com/users/iFrostizz/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 3593644820,
      "node_id": "LA_kwDOGBlvNc7WMqsU",
      "url": "https://api.github.com/repos/foundry-rs/foundry/labels/T-feature",
      "name": "T-feature",
      "color": "BFD4F2",
      "default": false,
      "description": "Type: feature"
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 3,
  "created_at": "2023-01-25T13:02:49Z",
  "updated_at": "2023-12-02T14:31:25Z",
  "closed_at": null,
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "### Component\n\nForge\n\n### Describe the feature you would like\n\nIt is currently impossible to read private immutable variables in Foundry because of how they work.\r\nImmutables are, similarly to constants, inlined in the bytecode directly and `PUSH`ed where they are needed.\r\nThe issue is that immutables are, as opposed to constants, not known before the contract construction.\r\nThis makes them, even more tricky to read if private. Because that would imply reading the code and parsing what's of interest, making it not scalable as the code change, or optimizations.\r\n\r\nExample:\r\n\r\n```solidity\r\ncontract HardToRead {\r\n    uint256 private immutable val;\r\n    \r\n    constructor(uint256 _val) {\r\n        val = _val;\r\n    }\r\n}\r\n```\r\n\r\nMy proposition would be to add a cheatcode to read immutables, and constants directly from the code called `codeLoad` (very open to propositions).\r\nIt would work by using the solc output, probably the bytecode to source code mapping in order to generate bindings for the immutables and constants that are defined in the contract and expose them through the cheatcode.\n\n### Additional context\n\n_No response_",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/4172/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/foundry-rs/foundry/issues/4172/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1403573946",
    "html_url": "https://github.com/foundry-rs/foundry/issues/4172#issuecomment-1403573946",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/4172",
    "id": 1403573946,
    "node_id": "IC_kwDOGBlvNc5TqNa6",
    "user": {
      "login": "iFrostizz",
      "id": 51274081,
      "node_id": "MDQ6VXNlcjUxMjc0MDgx",
      "avatar_url": "https://avatars.githubusercontent.com/u/51274081?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/iFrostizz",
      "html_url": "https://github.com/iFrostizz",
      "followers_url": "https://api.github.com/users/iFrostizz/followers",
      "following_url": "https://api.github.com/users/iFrostizz/following{/other_user}",
      "gists_url": "https://api.github.com/users/iFrostizz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/iFrostizz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/iFrostizz/subscriptions",
      "organizations_url": "https://api.github.com/users/iFrostizz/orgs",
      "repos_url": "https://api.github.com/users/iFrostizz/repos",
      "events_url": "https://api.github.com/users/iFrostizz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/iFrostizz/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-01-25T13:02:59Z",
    "updated_at": "2023-01-25T13:02:59Z",
    "author_association": "CONTRIBUTOR",
    "body": "I'm happy to take this one",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1403573946/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1837132980",
    "html_url": "https://github.com/foundry-rs/foundry/issues/4172#issuecomment-1837132980",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/4172",
    "id": 1837132980,
    "node_id": "IC_kwDOGBlvNc5tgGy0",
    "user": {
      "login": "spaceh3ad",
      "id": 52543683,
      "node_id": "MDQ6VXNlcjUyNTQzNjgz",
      "avatar_url": "https://avatars.githubusercontent.com/u/52543683?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/spaceh3ad",
      "html_url": "https://github.com/spaceh3ad",
      "followers_url": "https://api.github.com/users/spaceh3ad/followers",
      "following_url": "https://api.github.com/users/spaceh3ad/following{/other_user}",
      "gists_url": "https://api.github.com/users/spaceh3ad/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/spaceh3ad/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/spaceh3ad/subscriptions",
      "organizations_url": "https://api.github.com/users/spaceh3ad/orgs",
      "repos_url": "https://api.github.com/users/spaceh3ad/repos",
      "events_url": "https://api.github.com/users/spaceh3ad/events{/privacy}",
      "received_events_url": "https://api.github.com/users/spaceh3ad/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-12-02T12:07:58Z",
    "updated_at": "2023-12-02T12:07:58Z",
    "author_association": "NONE",
    "body": "Did you take it? :D",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1837132980/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1837161817",
    "html_url": "https://github.com/foundry-rs/foundry/issues/4172#issuecomment-1837161817",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/4172",
    "id": 1837161817,
    "node_id": "IC_kwDOGBlvNc5tgN1Z",
    "user": {
      "login": "iFrostizz",
      "id": 51274081,
      "node_id": "MDQ6VXNlcjUxMjc0MDgx",
      "avatar_url": "https://avatars.githubusercontent.com/u/51274081?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/iFrostizz",
      "html_url": "https://github.com/iFrostizz",
      "followers_url": "https://api.github.com/users/iFrostizz/followers",
      "following_url": "https://api.github.com/users/iFrostizz/following{/other_user}",
      "gists_url": "https://api.github.com/users/iFrostizz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/iFrostizz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/iFrostizz/subscriptions",
      "organizations_url": "https://api.github.com/users/iFrostizz/orgs",
      "repos_url": "https://api.github.com/users/iFrostizz/repos",
      "events_url": "https://api.github.com/users/iFrostizz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/iFrostizz/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-12-02T14:31:23Z",
    "updated_at": "2023-12-02T14:31:23Z",
    "author_association": "CONTRIBUTOR",
    "body": "Nope @spaceh3ad !",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1837161817/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
