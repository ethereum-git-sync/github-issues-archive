{
  "url": "https://api.github.com/repos/foundry-rs/foundry/issues/2382",
  "repository_url": "https://api.github.com/repos/foundry-rs/foundry",
  "labels_url": "https://api.github.com/repos/foundry-rs/foundry/issues/2382/labels{/name}",
  "comments_url": "https://api.github.com/repos/foundry-rs/foundry/issues/2382/comments",
  "events_url": "https://api.github.com/repos/foundry-rs/foundry/issues/2382/events",
  "html_url": "https://github.com/foundry-rs/foundry/issues/2382",
  "id": 1309431037,
  "node_id": "I_kwDOGBlvNc5ODFT9",
  "number": 2382,
  "title": "Anvil: Address already in use",
  "user": {
    "login": "supernovahs",
    "id": 91280922,
    "node_id": "MDQ6VXNlcjkxMjgwOTIy",
    "avatar_url": "https://avatars.githubusercontent.com/u/91280922?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/supernovahs",
    "html_url": "https://github.com/supernovahs",
    "followers_url": "https://api.github.com/users/supernovahs/followers",
    "following_url": "https://api.github.com/users/supernovahs/following{/other_user}",
    "gists_url": "https://api.github.com/users/supernovahs/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/supernovahs/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/supernovahs/subscriptions",
    "organizations_url": "https://api.github.com/users/supernovahs/orgs",
    "repos_url": "https://api.github.com/users/supernovahs/repos",
    "events_url": "https://api.github.com/users/supernovahs/events{/privacy}",
    "received_events_url": "https://api.github.com/users/supernovahs/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 3334394228,
      "node_id": "MDU6TGFiZWwzMzM0Mzk0MjI4",
      "url": "https://api.github.com/repos/foundry-rs/foundry/labels/T-bug",
      "name": "T-bug",
      "color": "d73a4a",
      "default": false,
      "description": "Type: bug"
    },
    {
      "id": 4077188949,
      "node_id": "LA_kwDOGBlvNc7zBPdV",
      "url": "https://api.github.com/repos/foundry-rs/foundry/labels/C-anvil",
      "name": "C-anvil",
      "color": "5319E7",
      "default": false,
      "description": "Command: anvil"
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 6,
  "created_at": "2022-07-19T12:15:08Z",
  "updated_at": "2023-05-17T10:30:11Z",
  "closed_at": "2022-07-20T07:09:05Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "### Component\n\nAnvil\n\n### Have you ensured that all of these are up to date?\n\n- [ ] Foundry\n- [ ] Foundryup\n\n### What version of Foundry are you on?\n\nforge 0.2.0 (44f3a4b 2022-07-18T00:10:06.735136619Z)\n\n### What command(s) is the bug in?\n\nanvil\n\n### Operating System\n\nLinux\n\n### Describe the bug\n\nRan `anvil ` and it worked. \r\nBut when I closed it, and try to re-run it , the compiler says Address already in use. Even though it's not. \r\n\r\nHere's the full compiler message\r\n`thread 'main' panicked at 'error binding to 127.0.0.1:8545: error creating server listener: Address already in use (os error 98)', /home/runner/.cargo/registry/src/github.com-1ecc6299db9ec823/hyper-0.14.18/src/server/server.rs:87:17\r\nnote: run with `RUST_BACKTRACE=1` environment variable to display a backtrace\r\nAborted (core dumped)`\r\n",
  "closed_by": {
    "login": "supernovahs",
    "id": 91280922,
    "node_id": "MDQ6VXNlcjkxMjgwOTIy",
    "avatar_url": "https://avatars.githubusercontent.com/u/91280922?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/supernovahs",
    "html_url": "https://github.com/supernovahs",
    "followers_url": "https://api.github.com/users/supernovahs/followers",
    "following_url": "https://api.github.com/users/supernovahs/following{/other_user}",
    "gists_url": "https://api.github.com/users/supernovahs/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/supernovahs/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/supernovahs/subscriptions",
    "organizations_url": "https://api.github.com/users/supernovahs/orgs",
    "repos_url": "https://api.github.com/users/supernovahs/repos",
    "events_url": "https://api.github.com/users/supernovahs/events{/privacy}",
    "received_events_url": "https://api.github.com/users/supernovahs/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/2382/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/foundry-rs/foundry/issues/2382/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1189038983",
    "html_url": "https://github.com/foundry-rs/foundry/issues/2382#issuecomment-1189038983",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/2382",
    "id": 1189038983,
    "node_id": "IC_kwDOGBlvNc5G30uH",
    "user": {
      "login": "onbjerg",
      "id": 8862627,
      "node_id": "MDQ6VXNlcjg4NjI2Mjc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8862627?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/onbjerg",
      "html_url": "https://github.com/onbjerg",
      "followers_url": "https://api.github.com/users/onbjerg/followers",
      "following_url": "https://api.github.com/users/onbjerg/following{/other_user}",
      "gists_url": "https://api.github.com/users/onbjerg/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/onbjerg/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/onbjerg/subscriptions",
      "organizations_url": "https://api.github.com/users/onbjerg/orgs",
      "repos_url": "https://api.github.com/users/onbjerg/repos",
      "events_url": "https://api.github.com/users/onbjerg/events{/privacy}",
      "received_events_url": "https://api.github.com/users/onbjerg/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-07-19T13:14:30Z",
    "updated_at": "2022-07-19T13:14:30Z",
    "author_association": "MEMBER",
    "body": "Can you run `sudo lsof -i -P -n | grep LISTEN` and find port 8545 and tell me what process is using it?",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1189038983/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1189855100",
    "html_url": "https://github.com/foundry-rs/foundry/issues/2382#issuecomment-1189855100",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/2382",
    "id": 1189855100,
    "node_id": "IC_kwDOGBlvNc5G6798",
    "user": {
      "login": "supernovahs",
      "id": 91280922,
      "node_id": "MDQ6VXNlcjkxMjgwOTIy",
      "avatar_url": "https://avatars.githubusercontent.com/u/91280922?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/supernovahs",
      "html_url": "https://github.com/supernovahs",
      "followers_url": "https://api.github.com/users/supernovahs/followers",
      "following_url": "https://api.github.com/users/supernovahs/following{/other_user}",
      "gists_url": "https://api.github.com/users/supernovahs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/supernovahs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/supernovahs/subscriptions",
      "organizations_url": "https://api.github.com/users/supernovahs/orgs",
      "repos_url": "https://api.github.com/users/supernovahs/repos",
      "events_url": "https://api.github.com/users/supernovahs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/supernovahs/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-07-20T05:47:50Z",
    "updated_at": "2022-07-20T05:47:50Z",
    "author_association": "NONE",
    "body": "anvil     248229     supernovahs    9u  IPv4 1872227      0t0  TCP 127.0.0.1:8545 (LISTEN)",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1189855100/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1189899347",
    "html_url": "https://github.com/foundry-rs/foundry/issues/2382#issuecomment-1189899347",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/2382",
    "id": 1189899347,
    "node_id": "IC_kwDOGBlvNc5G7GxT",
    "user": {
      "login": "onbjerg",
      "id": 8862627,
      "node_id": "MDQ6VXNlcjg4NjI2Mjc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8862627?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/onbjerg",
      "html_url": "https://github.com/onbjerg",
      "followers_url": "https://api.github.com/users/onbjerg/followers",
      "following_url": "https://api.github.com/users/onbjerg/following{/other_user}",
      "gists_url": "https://api.github.com/users/onbjerg/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/onbjerg/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/onbjerg/subscriptions",
      "organizations_url": "https://api.github.com/users/onbjerg/orgs",
      "repos_url": "https://api.github.com/users/onbjerg/repos",
      "events_url": "https://api.github.com/users/onbjerg/events{/privacy}",
      "received_events_url": "https://api.github.com/users/onbjerg/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-07-20T06:54:46Z",
    "updated_at": "2022-07-20T06:54:46Z",
    "author_association": "MEMBER",
    "body": "It looks like it's still running - any chance you are running it in another window, or you are using Foundry Hardhat? You can kill the process manually and it should be fine again. I'm on Linux and I don't have this issue, so seems to be local to you in some capacity",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1189899347/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1189910544",
    "html_url": "https://github.com/foundry-rs/foundry/issues/2382#issuecomment-1189910544",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/2382",
    "id": 1189910544,
    "node_id": "IC_kwDOGBlvNc5G7JgQ",
    "user": {
      "login": "supernovahs",
      "id": 91280922,
      "node_id": "MDQ6VXNlcjkxMjgwOTIy",
      "avatar_url": "https://avatars.githubusercontent.com/u/91280922?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/supernovahs",
      "html_url": "https://github.com/supernovahs",
      "followers_url": "https://api.github.com/users/supernovahs/followers",
      "following_url": "https://api.github.com/users/supernovahs/following{/other_user}",
      "gists_url": "https://api.github.com/users/supernovahs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/supernovahs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/supernovahs/subscriptions",
      "organizations_url": "https://api.github.com/users/supernovahs/orgs",
      "repos_url": "https://api.github.com/users/supernovahs/repos",
      "events_url": "https://api.github.com/users/supernovahs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/supernovahs/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-07-20T07:09:05Z",
    "updated_at": "2022-07-20T07:09:05Z",
    "author_association": "NONE",
    "body": "I am not running in another window nor in foundry hardhat .\r\nManually killing worked. Thanks\r\nNow it seems to work fine. ",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1189910544/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1197562186",
    "html_url": "https://github.com/foundry-rs/foundry/issues/2382#issuecomment-1197562186",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/2382",
    "id": 1197562186,
    "node_id": "IC_kwDOGBlvNc5HYVlK",
    "user": {
      "login": "aiman9411",
      "id": 58276919,
      "node_id": "MDQ6VXNlcjU4Mjc2OTE5",
      "avatar_url": "https://avatars.githubusercontent.com/u/58276919?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/aiman9411",
      "html_url": "https://github.com/aiman9411",
      "followers_url": "https://api.github.com/users/aiman9411/followers",
      "following_url": "https://api.github.com/users/aiman9411/following{/other_user}",
      "gists_url": "https://api.github.com/users/aiman9411/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/aiman9411/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/aiman9411/subscriptions",
      "organizations_url": "https://api.github.com/users/aiman9411/orgs",
      "repos_url": "https://api.github.com/users/aiman9411/repos",
      "events_url": "https://api.github.com/users/aiman9411/events{/privacy}",
      "received_events_url": "https://api.github.com/users/aiman9411/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-07-28T01:56:37Z",
    "updated_at": "2022-07-28T01:56:37Z",
    "author_association": "NONE",
    "body": "In my case, I'm using macOS and received this error message when I was about to deploy my contract to local testnet:\r\n`error sending request for url (http://localhost:8545/): error trying to connect: dns error: failed to lookup address information: nodename nor servname provided, or not known`\r\n\r\nWhen I run `anvil --port 8545`, I received the similar message:\r\n`thread 'main' panicked at 'error binding to 127.0.0.1:8545: error creating server listener: Address already in use (os error 48)', /Users/runner/.cargo/registry/src/github.com-1ecc6299db9ec823/hyper-0.14.18/src/server/server.rs:87:17`\r\n\r\nI killed the process manually but then still received similar error message. Any idea to help me with this? ",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1197562186/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1551143308",
    "html_url": "https://github.com/foundry-rs/foundry/issues/2382#issuecomment-1551143308",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/2382",
    "id": 1551143308,
    "node_id": "IC_kwDOGBlvNc5cdJGM",
    "user": {
      "login": "ltfschoen",
      "id": 6226175,
      "node_id": "MDQ6VXNlcjYyMjYxNzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6226175?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ltfschoen",
      "html_url": "https://github.com/ltfschoen",
      "followers_url": "https://api.github.com/users/ltfschoen/followers",
      "following_url": "https://api.github.com/users/ltfschoen/following{/other_user}",
      "gists_url": "https://api.github.com/users/ltfschoen/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ltfschoen/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ltfschoen/subscriptions",
      "organizations_url": "https://api.github.com/users/ltfschoen/orgs",
      "repos_url": "https://api.github.com/users/ltfschoen/repos",
      "events_url": "https://api.github.com/users/ltfschoen/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ltfschoen/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-05-17T10:30:11Z",
    "updated_at": "2023-05-17T10:30:11Z",
    "author_association": "NONE",
    "body": "> error binding to 127.0.0.1:8545: error creating server listener: Address already in use\r\n\r\nmaybe you had also setup a proxy target or hmr to also use 127.0.0.1:8545",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1551143308/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
