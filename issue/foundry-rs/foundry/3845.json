{
  "url": "https://api.github.com/repos/foundry-rs/foundry/issues/3845",
  "repository_url": "https://api.github.com/repos/foundry-rs/foundry",
  "labels_url": "https://api.github.com/repos/foundry-rs/foundry/issues/3845/labels{/name}",
  "comments_url": "https://api.github.com/repos/foundry-rs/foundry/issues/3845/comments",
  "events_url": "https://api.github.com/repos/foundry-rs/foundry/issues/3845/events",
  "html_url": "https://github.com/foundry-rs/foundry/issues/3845",
  "id": 1480151893,
  "node_id": "I_kwDOGBlvNc5YOVNV",
  "number": 3845,
  "title": "Add a cheatcode to skip tests on condition, with clear output",
  "user": {
    "login": "alcueca",
    "id": 38806121,
    "node_id": "MDQ6VXNlcjM4ODA2MTIx",
    "avatar_url": "https://avatars.githubusercontent.com/u/38806121?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/alcueca",
    "html_url": "https://github.com/alcueca",
    "followers_url": "https://api.github.com/users/alcueca/followers",
    "following_url": "https://api.github.com/users/alcueca/following{/other_user}",
    "gists_url": "https://api.github.com/users/alcueca/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/alcueca/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/alcueca/subscriptions",
    "organizations_url": "https://api.github.com/users/alcueca/orgs",
    "repos_url": "https://api.github.com/users/alcueca/repos",
    "events_url": "https://api.github.com/users/alcueca/events{/privacy}",
    "received_events_url": "https://api.github.com/users/alcueca/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 3593644820,
      "node_id": "LA_kwDOGBlvNc7WMqsU",
      "url": "https://api.github.com/repos/foundry-rs/foundry/labels/T-feature",
      "name": "T-feature",
      "color": "BFD4F2",
      "default": false,
      "description": "Type: feature"
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2022-12-06T20:48:29Z",
  "updated_at": "2022-12-07T10:24:47Z",
  "closed_at": "2022-12-07T10:24:47Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "### Component\n\nForge\n\n### Describe the feature you would like\n\nWhen coding a test harness for live contracts, it is not possible to know in advance the state the the smart contracts will be in. Therefore, some tests will make sense, and others will not.\r\n\r\nFor example, we might have a set of tests that make sense on a given uninitialized contract, but once the contract is initialized it would make more sense to skip those tests and move on to the next ones in the same file.\r\n\r\nThere is an easy workaround in making the test return if a certain condition is met, with a console log to say that the test was skipped. However, in the output it still comes as PASS and that might lead to confusion.\r\n\r\nI would very much prefer if the test would show as SKIP, and maybe even in the summary at the end (\"67 passed, 32 skipped, 0 failed\", for example).\n\n### Additional context\n\nIn [this test file](https://github.com/yieldprotocol/strategy-v2/blob/6bb7c7f73340537053c6a147b207b91139741c4f/test/StrategyHarness.t.sol#L237), this test only makes sense in the contract is in an EJECTED state after the setup function.",
  "closed_by": {
    "login": "alcueca",
    "id": 38806121,
    "node_id": "MDQ6VXNlcjM4ODA2MTIx",
    "avatar_url": "https://avatars.githubusercontent.com/u/38806121?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/alcueca",
    "html_url": "https://github.com/alcueca",
    "followers_url": "https://api.github.com/users/alcueca/followers",
    "following_url": "https://api.github.com/users/alcueca/following{/other_user}",
    "gists_url": "https://api.github.com/users/alcueca/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/alcueca/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/alcueca/subscriptions",
    "organizations_url": "https://api.github.com/users/alcueca/orgs",
    "repos_url": "https://api.github.com/users/alcueca/repos",
    "events_url": "https://api.github.com/users/alcueca/events{/privacy}",
    "received_events_url": "https://api.github.com/users/alcueca/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/3845/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/foundry-rs/foundry/issues/3845/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1340272710",
    "html_url": "https://github.com/foundry-rs/foundry/issues/3845#issuecomment-1340272710",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/3845",
    "id": 1340272710,
    "node_id": "IC_kwDOGBlvNc5P4vBG",
    "user": {
      "login": "mds1",
      "id": 17163988,
      "node_id": "MDQ6VXNlcjE3MTYzOTg4",
      "avatar_url": "https://avatars.githubusercontent.com/u/17163988?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mds1",
      "html_url": "https://github.com/mds1",
      "followers_url": "https://api.github.com/users/mds1/followers",
      "following_url": "https://api.github.com/users/mds1/following{/other_user}",
      "gists_url": "https://api.github.com/users/mds1/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mds1/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mds1/subscriptions",
      "organizations_url": "https://api.github.com/users/mds1/orgs",
      "repos_url": "https://api.github.com/users/mds1/repos",
      "events_url": "https://api.github.com/users/mds1/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mds1/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-12-07T02:04:56Z",
    "updated_at": "2022-12-07T02:05:26Z",
    "author_association": "COLLABORATOR",
    "body": "Agreed this would be useful, I think `vm.skip(bool)` or `vm.skipTest(bool)` is the best UX here. Also a duplicate of https://github.com/foundry-rs/foundry/issues/1123 if you want to move the discussion there",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1340272710/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1340717823",
    "html_url": "https://github.com/foundry-rs/foundry/issues/3845#issuecomment-1340717823",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/3845",
    "id": 1340717823,
    "node_id": "IC_kwDOGBlvNc5P6br_",
    "user": {
      "login": "alcueca",
      "id": 38806121,
      "node_id": "MDQ6VXNlcjM4ODA2MTIx",
      "avatar_url": "https://avatars.githubusercontent.com/u/38806121?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alcueca",
      "html_url": "https://github.com/alcueca",
      "followers_url": "https://api.github.com/users/alcueca/followers",
      "following_url": "https://api.github.com/users/alcueca/following{/other_user}",
      "gists_url": "https://api.github.com/users/alcueca/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alcueca/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alcueca/subscriptions",
      "organizations_url": "https://api.github.com/users/alcueca/orgs",
      "repos_url": "https://api.github.com/users/alcueca/repos",
      "events_url": "https://api.github.com/users/alcueca/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alcueca/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-12-07T10:24:47Z",
    "updated_at": "2022-12-07T10:24:47Z",
    "author_association": "NONE",
    "body": "Moving to #1123, thanks @mds1!",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1340717823/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
