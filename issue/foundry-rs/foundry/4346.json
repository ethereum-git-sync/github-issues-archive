{
  "url": "https://api.github.com/repos/foundry-rs/foundry/issues/4346",
  "repository_url": "https://api.github.com/repos/foundry-rs/foundry",
  "labels_url": "https://api.github.com/repos/foundry-rs/foundry/issues/4346/labels{/name}",
  "comments_url": "https://api.github.com/repos/foundry-rs/foundry/issues/4346/comments",
  "events_url": "https://api.github.com/repos/foundry-rs/foundry/issues/4346/events",
  "html_url": "https://github.com/foundry-rs/foundry/issues/4346",
  "id": 1582657325,
  "node_id": "I_kwDOGBlvNc5eVW8t",
  "number": 4346,
  "title": "resume not working",
  "user": {
    "login": "sakulstra",
    "id": 4396533,
    "node_id": "MDQ6VXNlcjQzOTY1MzM=",
    "avatar_url": "https://avatars.githubusercontent.com/u/4396533?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/sakulstra",
    "html_url": "https://github.com/sakulstra",
    "followers_url": "https://api.github.com/users/sakulstra/followers",
    "following_url": "https://api.github.com/users/sakulstra/following{/other_user}",
    "gists_url": "https://api.github.com/users/sakulstra/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/sakulstra/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/sakulstra/subscriptions",
    "organizations_url": "https://api.github.com/users/sakulstra/orgs",
    "repos_url": "https://api.github.com/users/sakulstra/repos",
    "events_url": "https://api.github.com/users/sakulstra/events{/privacy}",
    "received_events_url": "https://api.github.com/users/sakulstra/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 3334394228,
      "node_id": "MDU6TGFiZWwzMzM0Mzk0MjI4",
      "url": "https://api.github.com/repos/foundry-rs/foundry/labels/T-bug",
      "name": "T-bug",
      "color": "d73a4a",
      "default": false,
      "description": "Type: bug"
    },
    {
      "id": 3703752787,
      "node_id": "LA_kwDOGBlvNc7cwshT",
      "url": "https://api.github.com/repos/foundry-rs/foundry/labels/C-forge",
      "name": "C-forge",
      "color": "5319E7",
      "default": false,
      "description": "Command: forge"
    },
    {
      "id": 4182991461,
      "node_id": "LA_kwDOGBlvNc75U2Jl",
      "url": "https://api.github.com/repos/foundry-rs/foundry/labels/Cmd-forge-script",
      "name": "Cmd-forge-script",
      "color": "006B75",
      "default": false,
      "description": "Command: forge script"
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 6,
  "created_at": "2023-02-13T16:19:35Z",
  "updated_at": "2023-03-06T22:56:02Z",
  "closed_at": "2023-03-06T22:55:24Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "### Component\r\n\r\nForge\r\n\r\n### Have you ensured that all of these are up to date?\r\n\r\n- [X] Foundry\r\n- [X] Foundryup\r\n\r\n### What version of Foundry are you on?\r\n\r\nforge 0.2.0 (550c548 2023-02-13T00:11:18.976721967Z)\r\n\r\n### What command(s) is the bug in?\r\n\r\nforge script\r\n\r\n### Operating System\r\n\r\nLinux\r\n\r\n### Describe the bug\r\n\r\nHello, i've a rather complex script consisting of 20+transactions.\r\n\r\nWhen trying to deploy I had issues with my prc, so needed to cancel and later tried to `--resume` via resume flag which resulted in multiple interesting issues.\r\n\r\nIn the original script i had this:\r\n```Makefile\r\nforge script scripts/DeployPayloads.s.sol:DeployPolygon --rpc-url polygon --broadcast --legacy --ledger --mnemonic-indexes ${MNEMONIC_INDEX} --sender ${LEDGER_SENDER} --verify -vvvv --slow\r\n```\r\n\r\nWhen altering it to `--resume`:\r\n```Makefile\r\nforge script scripts/DeployPayloads.s.sol:DeployPolygon --rpc-url polygon --broadcast --legacy --ledger --mnemonic-indexes ${MNEMONIC_INDEX} --sender ${LEDGER_SENDER} --verify -vvvv --slow --resume\r\n```\r\n\r\nit started failing with:\r\n```sh\r\nError: \r\nInvalid provider url: polygon\r\n```\r\nSo it seems when using `resume` alias are no longer resolved.\r\n\r\nSo I altered:\r\n```Makefile\r\nforge script scripts/DeployPayloads.s.sol:DeployPolygon --rpc-url https://somerpc --broadcast --legacy --ledger --mnemonic-indexes ${MNEMONIC_INDEX} --sender ${LEDGER_SENDER} --verify -vvvv --slow --resume\r\n```\r\n\r\nWhich resulted in the txn failing as\r\n```sh\r\nError: \r\nEOA nonce changed unexpectedly while sending transactions. Expected 12 got 13 from provider.\r\n```\r\n\r\n### List of issues:\r\n- [x] `resume` does not support `alias`\r\n- [ ] `--verify` only picks up key when using `alias` \r\n- [ ] `--verify` does not warn when not verifying\r\n- [x] `--resume` on optimism leads to chainId `0` obviously breaking deployments\r\n- [ ] libraries are deployed twice https://github.com/foundry-rs/foundry/issues/4339\r\n- [ ] contracts relying on libraries, will show as \"--multi or compiler version change error`, although they are not\r\n- [ ] using `libraries` in `toml` seems to be ignored when doing `--verify --resume`\r\n- [ ] using `--libraries` does not support passing multiple libraries\r\n- [x] on optimism it seems like randomly `chainId` is becoming `0` leading to failed txns\r\n\r\nRelated repository: https://github.com/bgd-labs/proposal-3.0.1-upgrade\r\n\r\nManaged to create a reliable reproduction here: \r\nhttps://github.com/bgd-labs/proposal-3.0.1-upgrade/compare/feat/reproduction?expand=1#diff-afe25b31c5d0bce8029443a399e490d5b684a15c14016d79d26bab23dc87721bR298\r\nInitializing the aToken will always result in chainId 0 issue.",
  "closed_by": {
    "login": "sakulstra",
    "id": 4396533,
    "node_id": "MDQ6VXNlcjQzOTY1MzM=",
    "avatar_url": "https://avatars.githubusercontent.com/u/4396533?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/sakulstra",
    "html_url": "https://github.com/sakulstra",
    "followers_url": "https://api.github.com/users/sakulstra/followers",
    "following_url": "https://api.github.com/users/sakulstra/following{/other_user}",
    "gists_url": "https://api.github.com/users/sakulstra/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/sakulstra/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/sakulstra/subscriptions",
    "organizations_url": "https://api.github.com/users/sakulstra/orgs",
    "repos_url": "https://api.github.com/users/sakulstra/repos",
    "events_url": "https://api.github.com/users/sakulstra/events{/privacy}",
    "received_events_url": "https://api.github.com/users/sakulstra/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/4346/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/foundry-rs/foundry/issues/4346/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1429332329",
    "html_url": "https://github.com/foundry-rs/foundry/issues/4346#issuecomment-1429332329",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/4346",
    "id": 1429332329,
    "node_id": "IC_kwDOGBlvNc5VMeFp",
    "user": {
      "login": "sakulstra",
      "id": 4396533,
      "node_id": "MDQ6VXNlcjQzOTY1MzM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4396533?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sakulstra",
      "html_url": "https://github.com/sakulstra",
      "followers_url": "https://api.github.com/users/sakulstra/followers",
      "following_url": "https://api.github.com/users/sakulstra/following{/other_user}",
      "gists_url": "https://api.github.com/users/sakulstra/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sakulstra/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sakulstra/subscriptions",
      "organizations_url": "https://api.github.com/users/sakulstra/orgs",
      "repos_url": "https://api.github.com/users/sakulstra/repos",
      "events_url": "https://api.github.com/users/sakulstra/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sakulstra/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-02-14T08:37:55Z",
    "updated_at": "2023-02-14T08:37:55Z",
    "author_association": "CONTRIBUTOR",
    "body": "Some related inconsistencies:\r\nI didn't manage to resume, so redeployed from scratch.\r\nAs I used ${POLYGON_RPC} this time (forgot to change back), `--verify` didn't actually verify as:\r\n```\r\n[etherscan]\r\npolygon={key=\"${ETHERSCAN_API_KEY_POLYGON}\",chainId=137}\r\n```\r\nWas no longer resolved. While at one hand that kind of understandable (no longer using alias), at the other hand it isn't as it could have been selected via `chainId`, no?\r\n\r\nAlso it took me quite some time to figure out that this is the reason as `--verify` didn't error or sth. It was just ignored.",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1429332329/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1429526314",
    "html_url": "https://github.com/foundry-rs/foundry/issues/4346#issuecomment-1429526314",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/4346",
    "id": 1429526314,
    "node_id": "IC_kwDOGBlvNc5VNNcq",
    "user": {
      "login": "sakulstra",
      "id": 4396533,
      "node_id": "MDQ6VXNlcjQzOTY1MzM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4396533?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sakulstra",
      "html_url": "https://github.com/sakulstra",
      "followers_url": "https://api.github.com/users/sakulstra/followers",
      "following_url": "https://api.github.com/users/sakulstra/following{/other_user}",
      "gists_url": "https://api.github.com/users/sakulstra/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sakulstra/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sakulstra/subscriptions",
      "organizations_url": "https://api.github.com/users/sakulstra/orgs",
      "repos_url": "https://api.github.com/users/sakulstra/repos",
      "events_url": "https://api.github.com/users/sakulstra/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sakulstra/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-02-14T10:57:18Z",
    "updated_at": "2023-02-14T12:40:35Z",
    "author_association": "CONTRIBUTOR",
    "body": "Facing another fancy error here :sweat_smile: (same script different chain)\r\n\r\n> We haven't found any matching bytecode for the following contracts: [0x1d69c48a35ddd241e72a31db0e637676d89fc553, 0x15196d30bc37d2fc5c718ffcd9d7687d76f3ad1f, 0x3e05eb6e12a3c9ed5e46a710bcf052efd6d73fbd].\r\nThis may occur when resuming a verification, but the underlying source code or compiler version has changed.\r\n\r\nThis happened right after deployment with `--verify` (no resume or similar)\r\n\r\nI then tried the same with `--resume` (just verifying as everything was deployed already) and the error changed to:\r\n> We haven't found any matching bytecode for the following contracts: [0x15196d30bc37d2fc5c718ffcd9d7687d76f3ad1f].\r\nThis may occur when resuming a verification, but the underlying source code or compiler version has changed.\r\n\r\nSo without any change, two more contracts verified :tada: \r\n\r\nThird one I didn't manage to verify this way.\r\nSeems like it might be related to it using libraries & a constructor.\r\n\r\nTried to manually verify via libraries flag:\r\n```\r\nforge verify-contract 0x15196d30bc37d2fc5c718ffcd9d7687d76f3ad1f --chain-id 42161 /home/sakulstra/Documents/bgd/proposal-3.0.1-upgrade/lib/aave-v3-core/contracts/protocol/pool/L2Pool.sol:L2Pool --constructor-args $(cast abi-encode \"constructor(address)\" \"0xa97684ead0e402dC232d5A977953DF7ECBaB3CDb\") --libraries \"lib/aave-v3-core/contracts/protocol/libraries/logic/BorrowLogic.sol:BorrowLogic:0xd1b3e25fd7c8ae7caddc6f71b461b79cd4ddcfa3\",\"lib/aave-v3-core/contracts/protocol/libraries/logic/BridgeLogic.sol:BridgeLogic:0xfe76366a986b72c3f2923e05e6ba07b7de5401e4\" --watch <key>\r\nStart verifying contract `0x15196d30bc37d2fc5c718ffcd9d7687d76f3ad1f` deployed on arbitrum\r\nError: \r\nfailed to parse, too many arguments passed: BorrowLogic\r\n```\r\nIs there a way to put multiple libraries?\r\nI also tried via `libraries: string[]` toml config.\r\n```\r\nlibraries = [\r\n  \"lib/aave-v3-core/contracts/protocol/libraries/logic/BorrowLogic.sol:BorrowLogic:0xd1b3e25fd7c8ae7caddc6f71b461b79cd4ddcfa3\",\r\n  \"lib/aave-v3-core/contracts/protocol/libraries/logic/BridgeLogic.sol:BridgeLogic:0xfe76366a986b72c3f2923e05e6ba07b7de5401e4\",\r\n  \"lib/aave-v3-core/contracts/protocol/libraries/logic/ConfiguratorLogic.sol:ConfiguratorLogic:0xaa84d489f71d2a8d71e992143a2de8b3aa54aaa9\",\r\n  \"lib/aave-v3-core/contracts/protocol/libraries/logic/EModeLogic.sol:EModeLogic:0x70bf6ec6fca41a7d08dcbb9909985ac0a4510b5e\",\r\n  \"lib/aave-v3-core/contracts/protocol/libraries/logic/FlashLoanLogic.sol:FlashLoanLogic:0x1d69c48a35ddd241e72a31db0e637676d89fc553\",\r\n  \"lib/aave-v3-core/contracts/protocol/libraries/logic/LiquidationLogic.sol:LiquidationLogic:0x398808db36da6ba4e30d4fb88d72c3473921bc6e\",\r\n  \"lib/aave-v3-core/contracts/protocol/libraries/logic/PoolLogic.sol:PoolLogic:0x8be473dcfa93132658821e67cbeb684ec8ea2e74\",\r\n  \"lib/aave-v3-core/contracts/protocol/libraries/logic/SupplyLogic.sol:SupplyLogic:0xb04280b09f47cfd81906817505f24cefe1ba86d2\"\r\n]\r\n```\r\nbut idk if that's being picked up as verification says `NOTOK`\r\n\r\nedit: i think this might also be related to libraries being deployed multiple times, so the addresses in `run-latest.json` libraries section might not be the ones ones in the deployment.\r\n\r\n\r\nSomewhat related to https://github.com/foundry-rs/foundry/issues/4060 i think",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1429526314/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1429604169",
    "html_url": "https://github.com/foundry-rs/foundry/issues/4346#issuecomment-1429604169",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/4346",
    "id": 1429604169,
    "node_id": "IC_kwDOGBlvNc5VNgdJ",
    "user": {
      "login": "sakulstra",
      "id": 4396533,
      "node_id": "MDQ6VXNlcjQzOTY1MzM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4396533?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sakulstra",
      "html_url": "https://github.com/sakulstra",
      "followers_url": "https://api.github.com/users/sakulstra/followers",
      "following_url": "https://api.github.com/users/sakulstra/following{/other_user}",
      "gists_url": "https://api.github.com/users/sakulstra/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sakulstra/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sakulstra/subscriptions",
      "organizations_url": "https://api.github.com/users/sakulstra/orgs",
      "repos_url": "https://api.github.com/users/sakulstra/repos",
      "events_url": "https://api.github.com/users/sakulstra/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sakulstra/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-02-14T11:44:37Z",
    "updated_at": "2023-02-14T14:35:42Z",
    "author_association": "CONTRIBUTOR",
    "body": "Argh, another funny issue :/\r\n\r\nOn optimism at some point in scripts seems like chainId is turning `0` which will lead to ledger trying to sign on network 0, which obviously fails.\r\n\r\nWhen trying to resume it still tried to submit with `network: 0`. supplying `--chain 10` seems to be ignored.\r\n\r\n<details>\r\n  <summary>dump</summary>\r\n\r\n```json\r\n\"receipts\": [\r\n    {\r\n      \"transactionHash\": \"0x761f408ad19798326b2bb27dcb6569d710361721840c972b1cee780bd456234e\",\r\n      \"transactionIndex\": \"0x0\",\r\n      \"blockHash\": \"0x31ec60babff7f735af91fe2ab3dba7c5bb0cb53933c74591d01551652c605e2a\",\r\n      \"blockNumber\": \"0x46d74c2\",\r\n      \"from\": \"0x076d6da60aAAC6c97A8a0fE8057f9564203Ee545\",\r\n      \"to\": null,\r\n      \"cumulativeGasUsed\": \"0x403808\",\r\n      \"gasUsed\": \"0x403808\",\r\n      \"contractAddress\": \"0x31A239f3e39c5D8BA6B201bA81ed584492Ae960F\",\r\n      \"logs\": [],\r\n      \"status\": \"0x1\",\r\n      \"logsBloom\": \"0x00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000\"\r\n    },\r\n    {\r\n      \"transactionHash\": \"0xd97c227ca8922f8a1f8876f497ab5798c20dc893982400f2ce66ec4657b8c815\",\r\n      \"transactionIndex\": \"0x0\",\r\n      \"blockHash\": \"0xb5132ff48ddc332ec762adcca7a9a48e2b80ed503778c8bb06c1cbaa1fd550e3\",\r\n      \"blockNumber\": \"0x46d74fd\",\r\n      \"from\": \"0x076d6da60aAAC6c97A8a0fE8057f9564203Ee545\",\r\n      \"to\": \"0x31A239f3e39c5D8BA6B201bA81ed584492Ae960F\",\r\n      \"cumulativeGasUsed\": \"0x16407\",\r\n      \"gasUsed\": \"0x16407\",\r\n      \"contractAddress\": null,\r\n      \"logs\": [],\r\n      \"status\": \"0x1\",\r\n      \"logsBloom\": \"0x00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000\"\r\n    },\r\n    {\r\n      \"transactionHash\": \"0x9f9efbda7d1fa201525c9a49f7e81b1ecf17d66a4674f029f2a5cc2da99e7621\",\r\n      \"transactionIndex\": \"0x0\",\r\n      \"blockHash\": \"0x16ebac154398e4419f6e6ad20d70054387461457cee268c75b2c69ff6c980373\",\r\n      \"blockNumber\": \"0x46d751a\",\r\n      \"from\": \"0x076d6da60aAAC6c97A8a0fE8057f9564203Ee545\",\r\n      \"to\": null,\r\n      \"cumulativeGasUsed\": \"0x3c65a2\",\r\n      \"gasUsed\": \"0x3c65a2\",\r\n      \"contractAddress\": \"0xe63eAf6DAb1045689BD3a332bC596FfcF54A5C88\",\r\n      \"logs\": [],\r\n      \"status\": \"0x1\",\r\n      \"logsBloom\": \"0x00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000\"\r\n    },\r\n    {\r\n      \"transactionHash\": \"0x53dbb880b88c070c689feaedf87fe70e10a874f397e32875bbbcc4cf892f9281\",\r\n      \"transactionIndex\": \"0x0\",\r\n      \"blockHash\": \"0x01e3e4cdafa88c3475f821dfe4d58700bfa82f25f84efd4fd62a0c71f5701026\",\r\n      \"blockNumber\": \"0x46d7534\",\r\n      \"from\": \"0x076d6da60aAAC6c97A8a0fE8057f9564203Ee545\",\r\n      \"to\": \"0xe63eAf6DAb1045689BD3a332bC596FfcF54A5C88\",\r\n      \"cumulativeGasUsed\": \"0x17873\",\r\n      \"gasUsed\": \"0x17873\",\r\n      \"contractAddress\": null,\r\n      \"logs\": [],\r\n      \"status\": \"0x1\",\r\n      \"logsBloom\": \"0x00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000\"\r\n    },\r\n    {\r\n      \"transactionHash\": \"0xb10ecca12b5a4184cea7e4b5bd9ec81806bded3015df80782e08b5e655deab88\",\r\n      \"transactionIndex\": \"0x0\",\r\n      \"blockHash\": \"0x065ff8e8d56fe6215983f54c676f61074a2798d4a4f3509e5cb785ee4483a0c2\",\r\n      \"blockNumber\": \"0x46d7560\",\r\n      \"from\": \"0x076d6da60aAAC6c97A8a0fE8057f9564203Ee545\",\r\n      \"to\": null,\r\n      \"cumulativeGasUsed\": \"0x22ae65\",\r\n      \"gasUsed\": \"0x22ae65\",\r\n      \"contractAddress\": \"0x90127A46207e97e4205db5CCC1Ec9D6D43633FD4\",\r\n      \"logs\": [],\r\n      \"status\": \"0x1\",\r\n      \"logsBloom\": \"0x00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000\"\r\n    },\r\n    {\r\n      \"transactionHash\": \"0x16045697446c1a663f1098e270c3195a2c4cde0dca5c32c5bdb70b086cb9c07c\",\r\n      \"transactionIndex\": \"0x0\",\r\n      \"blockHash\": \"0x80cc470be9453f34dc6a327a83961913b7eb9e3a10f4f4a1bb14017c2d76b9d0\",\r\n      \"blockNumber\": \"0x46d7582\",\r\n      \"from\": \"0x076d6da60aAAC6c97A8a0fE8057f9564203Ee545\",\r\n      \"to\": null,\r\n      \"cumulativeGasUsed\": \"0x23c308\",\r\n      \"gasUsed\": \"0x23c308\",\r\n      \"contractAddress\": \"0x3cd1dFB81C50A5300C60a181ED145a7286d81e0a\",\r\n      \"logs\": [],\r\n      \"status\": \"0x1\",\r\n      \"logsBloom\": \"0x00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000\"\r\n    }\r\n  ],\r\n  \"libraries\": [\r\n    \"lib/aave-v3-core/contracts/protocol/libraries/logic/BorrowLogic.sol:BorrowLogic:0xd1b3e25fd7c8ae7caddc6f71b461b79cd4ddcfa3\",\r\n    \"lib/aave-v3-core/contracts/protocol/libraries/logic/BridgeLogic.sol:BridgeLogic:0xfe76366a986b72c3f2923e05e6ba07b7de5401e4\",\r\n    \"lib/aave-v3-core/contracts/protocol/libraries/logic/ConfiguratorLogic.sol:ConfiguratorLogic:0xaa84d489f71d2a8d71e992143a2de8b3aa54aaa9\",\r\n    \"lib/aave-v3-core/contracts/protocol/libraries/logic/EModeLogic.sol:EModeLogic:0x70bf6ec6fca41a7d08dcbb9909985ac0a4510b5e\",\r\n    \"lib/aave-v3-core/contracts/protocol/libraries/logic/FlashLoanLogic.sol:FlashLoanLogic:0x1d69c48a35ddd241e72a31db0e637676d89fc553\",\r\n    \"lib/aave-v3-core/contracts/protocol/libraries/logic/LiquidationLogic.sol:LiquidationLogic:0x398808db36da6ba4e30d4fb88d72c3473921bc6e\",\r\n    \"lib/aave-v3-core/contracts/protocol/libraries/logic/PoolLogic.sol:PoolLogic:0x8be473dcfa93132658821e67cbeb684ec8ea2e74\",\r\n    \"lib/aave-v3-core/contracts/protocol/libraries/logic/SupplyLogic.sol:SupplyLogic:0xb04280b09f47cfd81906817505f24cefe1ba86d2\"\r\n  ],\r\n  \"pending\": [],\r\n  \"path\": \"/home/sakulstra/Documents/bgd/proposal-3.0.1-upgrade/broadcast/DeployPayloads.s.sol/10/run-latest.json\",\r\n  \"returns\": {},\r\n  \"timestamp\": 1676381126,\r\n  \"chain\": 10,\r\n  \"multi\": false,\r\n  \"commit\": \"35345c7\"\r\n```\r\n</details>",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1429604169/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1429690956",
    "html_url": "https://github.com/foundry-rs/foundry/issues/4346#issuecomment-1429690956",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/4346",
    "id": 1429690956,
    "node_id": "IC_kwDOGBlvNc5VN1pM",
    "user": {
      "login": "hexonaut",
      "id": 588921,
      "node_id": "MDQ6VXNlcjU4ODkyMQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/588921?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hexonaut",
      "html_url": "https://github.com/hexonaut",
      "followers_url": "https://api.github.com/users/hexonaut/followers",
      "following_url": "https://api.github.com/users/hexonaut/following{/other_user}",
      "gists_url": "https://api.github.com/users/hexonaut/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hexonaut/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hexonaut/subscriptions",
      "organizations_url": "https://api.github.com/users/hexonaut/orgs",
      "repos_url": "https://api.github.com/users/hexonaut/repos",
      "events_url": "https://api.github.com/users/hexonaut/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hexonaut/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-02-14T12:45:08Z",
    "updated_at": "2023-02-14T12:45:08Z",
    "author_association": "CONTRIBUTOR",
    "body": "I have similar issues with an Aave deployment which consists of 100+ transactions. If I don't attach the `--slow` flag (one tx at a time) then the script command almost always gets into a bad state where I have to `--resume` and often it just doesn't work with errors similar to @sakulstra has shown above.",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1429690956/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1438281269",
    "html_url": "https://github.com/foundry-rs/foundry/issues/4346#issuecomment-1438281269",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/4346",
    "id": 1438281269,
    "node_id": "IC_kwDOGBlvNc5Vum41",
    "user": {
      "login": "rkrasiuk",
      "id": 25429261,
      "node_id": "MDQ6VXNlcjI1NDI5MjYx",
      "avatar_url": "https://avatars.githubusercontent.com/u/25429261?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rkrasiuk",
      "html_url": "https://github.com/rkrasiuk",
      "followers_url": "https://api.github.com/users/rkrasiuk/followers",
      "following_url": "https://api.github.com/users/rkrasiuk/following{/other_user}",
      "gists_url": "https://api.github.com/users/rkrasiuk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rkrasiuk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rkrasiuk/subscriptions",
      "organizations_url": "https://api.github.com/users/rkrasiuk/orgs",
      "repos_url": "https://api.github.com/users/rkrasiuk/repos",
      "events_url": "https://api.github.com/users/rkrasiuk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rkrasiuk/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-02-21T11:01:32Z",
    "updated_at": "2023-02-21T11:01:32Z",
    "author_association": "COLLABORATOR",
    "body": "@joshieDo PTAL",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1438281269/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1457172672",
    "html_url": "https://github.com/foundry-rs/foundry/issues/4346#issuecomment-1457172672",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/4346",
    "id": 1457172672,
    "node_id": "IC_kwDOGBlvNc5W2rDA",
    "user": {
      "login": "sakulstra",
      "id": 4396533,
      "node_id": "MDQ6VXNlcjQzOTY1MzM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4396533?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sakulstra",
      "html_url": "https://github.com/sakulstra",
      "followers_url": "https://api.github.com/users/sakulstra/followers",
      "following_url": "https://api.github.com/users/sakulstra/following{/other_user}",
      "gists_url": "https://api.github.com/users/sakulstra/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sakulstra/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sakulstra/subscriptions",
      "organizations_url": "https://api.github.com/users/sakulstra/orgs",
      "repos_url": "https://api.github.com/users/sakulstra/repos",
      "events_url": "https://api.github.com/users/sakulstra/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sakulstra/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-03-06T22:55:24Z",
    "updated_at": "2023-03-06T22:56:02Z",
    "author_association": "CONTRIBUTOR",
    "body": "Closing this as in the end seems like a lot of these issues are in fact duplicates (or now have dedicated issues)\r\n- [x] optimism chainId 0 was resolved in https://github.com/foundry-rs/foundry/pull/4477\r\n- [ ] resume not working with alias is reported in #4401, which might be resolved in https://github.com/foundry-rs/foundry/issues/4484 ?\r\n- [ ] all the other issues are inherited by https://github.com/foundry-rs/foundry/issues/4339 or https://github.com/foundry-rs/foundry/issues/4443#issuecomment-1457171444 actually. ",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1457172672/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
