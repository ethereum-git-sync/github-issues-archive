{
  "url": "https://api.github.com/repos/foundry-rs/foundry/issues/4300",
  "repository_url": "https://api.github.com/repos/foundry-rs/foundry",
  "labels_url": "https://api.github.com/repos/foundry-rs/foundry/issues/4300/labels{/name}",
  "comments_url": "https://api.github.com/repos/foundry-rs/foundry/issues/4300/comments",
  "events_url": "https://api.github.com/repos/foundry-rs/foundry/issues/4300/events",
  "html_url": "https://github.com/foundry-rs/foundry/issues/4300",
  "id": 1575031843,
  "node_id": "I_kwDOGBlvNc5d4RQj",
  "number": 4300,
  "title": "feat: Add \"after-all\" hook for testing",
  "user": {
    "login": "lucas-manuel",
    "id": 44272939,
    "node_id": "MDQ6VXNlcjQ0MjcyOTM5",
    "avatar_url": "https://avatars.githubusercontent.com/u/44272939?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/lucas-manuel",
    "html_url": "https://github.com/lucas-manuel",
    "followers_url": "https://api.github.com/users/lucas-manuel/followers",
    "following_url": "https://api.github.com/users/lucas-manuel/following{/other_user}",
    "gists_url": "https://api.github.com/users/lucas-manuel/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/lucas-manuel/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/lucas-manuel/subscriptions",
    "organizations_url": "https://api.github.com/users/lucas-manuel/orgs",
    "repos_url": "https://api.github.com/users/lucas-manuel/repos",
    "events_url": "https://api.github.com/users/lucas-manuel/events{/privacy}",
    "received_events_url": "https://api.github.com/users/lucas-manuel/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 3593644820,
      "node_id": "LA_kwDOGBlvNc7WMqsU",
      "url": "https://api.github.com/repos/foundry-rs/foundry/labels/T-feature",
      "name": "T-feature",
      "color": "BFD4F2",
      "default": false,
      "description": "Type: feature"
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2023-02-07T21:14:19Z",
  "updated_at": "2023-05-18T15:33:32Z",
  "closed_at": null,
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "### Component\r\n\r\nForge\r\n\r\n### Describe the feature you would like\r\n\r\nIn `forge` testing it would be very helpful to have a hook that runs at the end of each test. This would allow for:\r\n- Single logging of metrics as outlined in this [issue](https://github.com/foundry-rs/foundry/issues/3607) as an intermediate measure until native internal metrics are implemented.\r\n- Post fuzz campaign testing (e.g., close out all positions and assert all funds are able to exit the system) (both fuzzing and invariant testing).\r\n\r\n### Additional context\r\n\r\n_No response_",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/4300/reactions",
    "total_count": 2,
    "+1": 2,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/foundry-rs/foundry/issues/4300/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1447463993",
    "html_url": "https://github.com/foundry-rs/foundry/issues/4300#issuecomment-1447463993",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/4300",
    "id": 1447463993,
    "node_id": "IC_kwDOGBlvNc5WRow5",
    "user": {
      "login": "mds1",
      "id": 17163988,
      "node_id": "MDQ6VXNlcjE3MTYzOTg4",
      "avatar_url": "https://avatars.githubusercontent.com/u/17163988?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mds1",
      "html_url": "https://github.com/mds1",
      "followers_url": "https://api.github.com/users/mds1/followers",
      "following_url": "https://api.github.com/users/mds1/following{/other_user}",
      "gists_url": "https://api.github.com/users/mds1/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mds1/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mds1/subscriptions",
      "organizations_url": "https://api.github.com/users/mds1/orgs",
      "repos_url": "https://api.github.com/users/mds1/repos",
      "events_url": "https://api.github.com/users/mds1/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mds1/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-02-28T02:14:52Z",
    "updated_at": "2023-02-28T02:14:52Z",
    "author_association": "COLLABORATOR",
    "body": "Just noting that contrary to the issue name, this does not have to be exclusive to invariant tests, and can apply to all tests. However in that case some use cases such as logging don't apply. So we may need multiple functions like `afterInvariant`,  `afterFuzz`, and `afterConcrete`. But that feels a but cluttered, so maybe there's a single `afterAll(TestType)` with overloads. Needs some though here",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1447463993/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1465291588",
    "html_url": "https://github.com/foundry-rs/foundry/issues/4300#issuecomment-1465291588",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/4300",
    "id": 1465291588,
    "node_id": "IC_kwDOGBlvNc5XVpNE",
    "user": {
      "login": "lucas-manuel",
      "id": 44272939,
      "node_id": "MDQ6VXNlcjQ0MjcyOTM5",
      "avatar_url": "https://avatars.githubusercontent.com/u/44272939?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lucas-manuel",
      "html_url": "https://github.com/lucas-manuel",
      "followers_url": "https://api.github.com/users/lucas-manuel/followers",
      "following_url": "https://api.github.com/users/lucas-manuel/following{/other_user}",
      "gists_url": "https://api.github.com/users/lucas-manuel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lucas-manuel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lucas-manuel/subscriptions",
      "organizations_url": "https://api.github.com/users/lucas-manuel/orgs",
      "repos_url": "https://api.github.com/users/lucas-manuel/repos",
      "events_url": "https://api.github.com/users/lucas-manuel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lucas-manuel/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-03-12T20:24:28Z",
    "updated_at": "2023-03-12T20:24:28Z",
    "author_association": "NONE",
    "body": "Up to you but I wouldn't mind a one size fits all personally",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1465291588/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
