{
  "url": "https://api.github.com/repos/foundry-rs/foundry/issues/3861",
  "repository_url": "https://api.github.com/repos/foundry-rs/foundry",
  "labels_url": "https://api.github.com/repos/foundry-rs/foundry/issues/3861/labels{/name}",
  "comments_url": "https://api.github.com/repos/foundry-rs/foundry/issues/3861/comments",
  "events_url": "https://api.github.com/repos/foundry-rs/foundry/issues/3861/events",
  "html_url": "https://github.com/foundry-rs/foundry/issues/3861",
  "id": 1485502558,
  "node_id": "I_kwDOGBlvNc5Yivhe",
  "number": 3861,
  "title": "Cannot verify contracts on polygonscan",
  "user": {
    "login": "ankitchiplunkar",
    "id": 5904910,
    "node_id": "MDQ6VXNlcjU5MDQ5MTA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/5904910?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/ankitchiplunkar",
    "html_url": "https://github.com/ankitchiplunkar",
    "followers_url": "https://api.github.com/users/ankitchiplunkar/followers",
    "following_url": "https://api.github.com/users/ankitchiplunkar/following{/other_user}",
    "gists_url": "https://api.github.com/users/ankitchiplunkar/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/ankitchiplunkar/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/ankitchiplunkar/subscriptions",
    "organizations_url": "https://api.github.com/users/ankitchiplunkar/orgs",
    "repos_url": "https://api.github.com/users/ankitchiplunkar/repos",
    "events_url": "https://api.github.com/users/ankitchiplunkar/events{/privacy}",
    "received_events_url": "https://api.github.com/users/ankitchiplunkar/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 3334394228,
      "node_id": "MDU6TGFiZWwzMzM0Mzk0MjI4",
      "url": "https://api.github.com/repos/foundry-rs/foundry/labels/T-bug",
      "name": "T-bug",
      "color": "d73a4a",
      "default": false,
      "description": "Type: bug"
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": {
    "login": "mattsse",
    "id": 19890894,
    "node_id": "MDQ6VXNlcjE5ODkwODk0",
    "avatar_url": "https://avatars.githubusercontent.com/u/19890894?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/mattsse",
    "html_url": "https://github.com/mattsse",
    "followers_url": "https://api.github.com/users/mattsse/followers",
    "following_url": "https://api.github.com/users/mattsse/following{/other_user}",
    "gists_url": "https://api.github.com/users/mattsse/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/mattsse/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/mattsse/subscriptions",
    "organizations_url": "https://api.github.com/users/mattsse/orgs",
    "repos_url": "https://api.github.com/users/mattsse/repos",
    "events_url": "https://api.github.com/users/mattsse/events{/privacy}",
    "received_events_url": "https://api.github.com/users/mattsse/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "mattsse",
      "id": 19890894,
      "node_id": "MDQ6VXNlcjE5ODkwODk0",
      "avatar_url": "https://avatars.githubusercontent.com/u/19890894?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mattsse",
      "html_url": "https://github.com/mattsse",
      "followers_url": "https://api.github.com/users/mattsse/followers",
      "following_url": "https://api.github.com/users/mattsse/following{/other_user}",
      "gists_url": "https://api.github.com/users/mattsse/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mattsse/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mattsse/subscriptions",
      "organizations_url": "https://api.github.com/users/mattsse/orgs",
      "repos_url": "https://api.github.com/users/mattsse/repos",
      "events_url": "https://api.github.com/users/mattsse/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mattsse/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 14,
  "created_at": "2022-12-08T22:19:30Z",
  "updated_at": "2023-05-04T17:10:53Z",
  "closed_at": "2023-03-17T09:27:19Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "### Component\n\nForge\n\n### Have you ensured that all of these are up to date?\n\n- [X] Foundry\n- [X] Foundryup\n\n### What version of Foundry are you on?\n\nforge 0.2.0 (6d94a10 2022-11-04T12:50:41.208303Z)\n\n### What command(s) is the bug in?\n\nforge verify-contract --chain-id=137 0x9ddc69d076c67c7e5deeaa1dd39666f2c4a5a7b1 src/Counter.sol:Counter\n\n### Operating System\n\nmacOS (Apple Silicon)\n\n### Describe the bug\n\nDeployed the contract which comes via `forge init` on polygon mainnet\r\nTrying to verify contract on polygonscan, via 2 methods\r\n\r\n### Fails with \"Invalid API Key\" when using polygonscan api key\r\n```\r\nforge verify-contract --chain-id=137 0x9ddc69d076c67c7e5deeaa1dd39666f2c4a5a7b1 src/Counter.sol:Counter\r\nStart verifying contract `0x9ddc69d076c67c7e5deeaa1dd39666f2c4a5a7b1` deployed on polygon\r\n\r\nSubmitting verification for [src/Counter.sol:Counter] \"0x9DDc69D076c67C7E5DeEaA1Dd39666f2c4A5A7B1\".\r\nEncountered an error verifying this contract:\r\nResponse: `NOTOK`\r\nDetails: `Invalid API Key`\r\n```\r\n\r\n### Fails with \"Etherscan could not detect the deployment\" using etherscan api key\r\n```\r\nforge verify-contract --chain-id=137 0x9ddc69d076c67c7e5deeaa1dd39666f2c4a5a7b1 src/Counter.sol:Counter\r\nStart verifying contract `0x9ddc69d076c67c7e5deeaa1dd39666f2c4a5a7b1` deployed on polygon\r\n\r\nSubmitting verification for [src/Counter.sol:Counter] \"0x9DDc69D076c67C7E5DeEaA1Dd39666f2c4A5A7B1\".\r\n\r\nSubmitting verification for [src/Counter.sol:Counter] \"0x9DDc69D076c67C7E5DeEaA1Dd39666f2c4A5A7B1\".\r\n\r\nSubmitting verification for [src/Counter.sol:Counter] \"0x9DDc69D076c67C7E5DeEaA1Dd39666f2c4A5A7B1\".\r\n\r\nSubmitting verification for [src/Counter.sol:Counter] \"0x9DDc69D076c67C7E5DeEaA1Dd39666f2c4A5A7B1\".\r\n\r\nSubmitting verification for [src/Counter.sol:Counter] \"0x9DDc69D076c67C7E5DeEaA1Dd39666f2c4A5A7B1\".\r\n\r\nSubmitting verification for [src/Counter.sol:Counter] \"0x9DDc69D076c67C7E5DeEaA1Dd39666f2c4A5A7B1\".\r\nError:\r\nEtherscan could not detect the deployment.\r\n```",
  "closed_by": {
    "login": "mattsse",
    "id": 19890894,
    "node_id": "MDQ6VXNlcjE5ODkwODk0",
    "avatar_url": "https://avatars.githubusercontent.com/u/19890894?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/mattsse",
    "html_url": "https://github.com/mattsse",
    "followers_url": "https://api.github.com/users/mattsse/followers",
    "following_url": "https://api.github.com/users/mattsse/following{/other_user}",
    "gists_url": "https://api.github.com/users/mattsse/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/mattsse/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/mattsse/subscriptions",
    "organizations_url": "https://api.github.com/users/mattsse/orgs",
    "repos_url": "https://api.github.com/users/mattsse/repos",
    "events_url": "https://api.github.com/users/mattsse/events{/privacy}",
    "received_events_url": "https://api.github.com/users/mattsse/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/3861/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/foundry-rs/foundry/issues/3861/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1362744175",
    "html_url": "https://github.com/foundry-rs/foundry/issues/3861#issuecomment-1362744175",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/3861",
    "id": 1362744175,
    "node_id": "IC_kwDOGBlvNc5ROdNv",
    "user": {
      "login": "rkrasiuk",
      "id": 25429261,
      "node_id": "MDQ6VXNlcjI1NDI5MjYx",
      "avatar_url": "https://avatars.githubusercontent.com/u/25429261?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rkrasiuk",
      "html_url": "https://github.com/rkrasiuk",
      "followers_url": "https://api.github.com/users/rkrasiuk/followers",
      "following_url": "https://api.github.com/users/rkrasiuk/following{/other_user}",
      "gists_url": "https://api.github.com/users/rkrasiuk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rkrasiuk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rkrasiuk/subscriptions",
      "organizations_url": "https://api.github.com/users/rkrasiuk/orgs",
      "repos_url": "https://api.github.com/users/rkrasiuk/repos",
      "events_url": "https://api.github.com/users/rkrasiuk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rkrasiuk/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-12-22T11:47:39Z",
    "updated_at": "2022-12-22T11:47:39Z",
    "author_association": "COLLABORATOR",
    "body": "hey @ankitchiplunkar, regarding the second error, did you attempt to verify right after deployment? also, have you tried rerunning the command since you opened the issue? ",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1362744175/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1365877763",
    "html_url": "https://github.com/foundry-rs/foundry/issues/3861#issuecomment-1365877763",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/3861",
    "id": 1365877763,
    "node_id": "IC_kwDOGBlvNc5RaaQD",
    "user": {
      "login": "ankitchiplunkar",
      "id": 5904910,
      "node_id": "MDQ6VXNlcjU5MDQ5MTA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5904910?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ankitchiplunkar",
      "html_url": "https://github.com/ankitchiplunkar",
      "followers_url": "https://api.github.com/users/ankitchiplunkar/followers",
      "following_url": "https://api.github.com/users/ankitchiplunkar/following{/other_user}",
      "gists_url": "https://api.github.com/users/ankitchiplunkar/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ankitchiplunkar/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ankitchiplunkar/subscriptions",
      "organizations_url": "https://api.github.com/users/ankitchiplunkar/orgs",
      "repos_url": "https://api.github.com/users/ankitchiplunkar/repos",
      "events_url": "https://api.github.com/users/ankitchiplunkar/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ankitchiplunkar/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-12-27T12:48:13Z",
    "updated_at": "2022-12-27T12:48:13Z",
    "author_association": "NONE",
    "body": "have not retried after opening it. will try again later\n\nOn Thu, 22 Dec 2022 at 11:47, Roman Krasiuk ***@***.***>\nwrote:\n\n> hey @ankitchiplunkar <https://github.com/ankitchiplunkar>, regarding the\n> second error, did you attempt to verify right after deployment? also, have\n> you tried rerunning the command since you opened the issue?\n>\n> —\n> Reply to this email directly, view it on GitHub\n> <https://github.com/foundry-rs/foundry/issues/3861#issuecomment-1362744175>,\n> or unsubscribe\n> <https://github.com/notifications/unsubscribe-auth/ABNBUDS3WCI7XLGYRRQOCM3WOQ5WLANCNFSM6AAAAAASYU2ISQ>\n> .\n> You are receiving this because you were mentioned.Message ID:\n> ***@***.***>\n>\n\n\n-- \nRegards\nAnkit Chiplunkar\n",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1365877763/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1379434662",
    "html_url": "https://github.com/foundry-rs/foundry/issues/3861#issuecomment-1379434662",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/3861",
    "id": 1379434662,
    "node_id": "IC_kwDOGBlvNc5SOICm",
    "user": {
      "login": "Oighty",
      "id": 90539730,
      "node_id": "MDQ6VXNlcjkwNTM5NzMw",
      "avatar_url": "https://avatars.githubusercontent.com/u/90539730?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Oighty",
      "html_url": "https://github.com/Oighty",
      "followers_url": "https://api.github.com/users/Oighty/followers",
      "following_url": "https://api.github.com/users/Oighty/following{/other_user}",
      "gists_url": "https://api.github.com/users/Oighty/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Oighty/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Oighty/subscriptions",
      "organizations_url": "https://api.github.com/users/Oighty/orgs",
      "repos_url": "https://api.github.com/users/Oighty/repos",
      "events_url": "https://api.github.com/users/Oighty/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Oighty/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-01-11T20:18:29Z",
    "updated_at": "2023-01-11T20:21:50Z",
    "author_association": "CONTRIBUTOR",
    "body": "I've run across this recently as well. Etherscan has different domains and api endpoints.\r\n\r\nFor Polygon, you have to use the polygonscan.com domain. You need to sign-up there and get an API key. Then, you can pass that API key and a specific verifier url for the right block explorer.\r\n\r\n```\r\nforge verify-contract --verifier-url https://api.polygonscan.com/api/ ADDRESS PATH_TO_CONTRACT $POLYGONSCAN_KEY\r\n```\r\n\r\nPolygon Mainnet: https://api.polygonscan.com/api/\r\nPolygon Mumbai: https://api-testnet.polygonscan.com/api/\r\n\r\nYou can find this info in the [Polygonscan docs](https://docs.polygonscan.com/getting-started/endpoint-urls). Similar for other chains.\r\n\r\nFoundry may route to the right API, but make sure you have a key for that API. I generally pass the URL directly if I'm having issues to make sure it's going where I expect.",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1379434662/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 1,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1401217909",
    "html_url": "https://github.com/foundry-rs/foundry/issues/3861#issuecomment-1401217909",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/3861",
    "id": 1401217909,
    "node_id": "IC_kwDOGBlvNc5ThON1",
    "user": {
      "login": "appleseed-iii",
      "id": 80423742,
      "node_id": "MDQ6VXNlcjgwNDIzNzQy",
      "avatar_url": "https://avatars.githubusercontent.com/u/80423742?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/appleseed-iii",
      "html_url": "https://github.com/appleseed-iii",
      "followers_url": "https://api.github.com/users/appleseed-iii/followers",
      "following_url": "https://api.github.com/users/appleseed-iii/following{/other_user}",
      "gists_url": "https://api.github.com/users/appleseed-iii/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/appleseed-iii/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/appleseed-iii/subscriptions",
      "organizations_url": "https://api.github.com/users/appleseed-iii/orgs",
      "repos_url": "https://api.github.com/users/appleseed-iii/repos",
      "events_url": "https://api.github.com/users/appleseed-iii/events{/privacy}",
      "received_events_url": "https://api.github.com/users/appleseed-iii/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-01-24T00:50:23Z",
    "updated_at": "2023-01-24T00:50:23Z",
    "author_association": "CONTRIBUTOR",
    "body": "king @Oighty, thanks for the pro tip. I had everything right but the verifier url 😭 ",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1401217909/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1401724015",
    "html_url": "https://github.com/foundry-rs/foundry/issues/3861#issuecomment-1401724015",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/3861",
    "id": 1401724015,
    "node_id": "IC_kwDOGBlvNc5TjJxv",
    "user": {
      "login": "mattsse",
      "id": 19890894,
      "node_id": "MDQ6VXNlcjE5ODkwODk0",
      "avatar_url": "https://avatars.githubusercontent.com/u/19890894?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mattsse",
      "html_url": "https://github.com/mattsse",
      "followers_url": "https://api.github.com/users/mattsse/followers",
      "following_url": "https://api.github.com/users/mattsse/following{/other_user}",
      "gists_url": "https://api.github.com/users/mattsse/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mattsse/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mattsse/subscriptions",
      "organizations_url": "https://api.github.com/users/mattsse/orgs",
      "repos_url": "https://api.github.com/users/mattsse/repos",
      "events_url": "https://api.github.com/users/mattsse/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mattsse/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-01-24T10:49:46Z",
    "updated_at": "2023-01-24T10:49:46Z",
    "author_association": "MEMBER",
    "body": "hmm, we should have the polygon specific urls configured by default:\r\n\r\nhttps://github.com/gakonst/ethers-rs/blob/0116130b879760e63a3b571cbbd5d7a65992aa18/ethers-core/src/types/chain.rs#L254-L257",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1401724015/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1414567471",
    "html_url": "https://github.com/foundry-rs/foundry/issues/3861#issuecomment-1414567471",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/3861",
    "id": 1414567471,
    "node_id": "IC_kwDOGBlvNc5UUJYv",
    "user": {
      "login": "larryob",
      "id": 9146641,
      "node_id": "MDQ6VXNlcjkxNDY2NDE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9146641?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/larryob",
      "html_url": "https://github.com/larryob",
      "followers_url": "https://api.github.com/users/larryob/followers",
      "following_url": "https://api.github.com/users/larryob/following{/other_user}",
      "gists_url": "https://api.github.com/users/larryob/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/larryob/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/larryob/subscriptions",
      "organizations_url": "https://api.github.com/users/larryob/orgs",
      "repos_url": "https://api.github.com/users/larryob/repos",
      "events_url": "https://api.github.com/users/larryob/events{/privacy}",
      "received_events_url": "https://api.github.com/users/larryob/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-02-03T00:56:08Z",
    "updated_at": "2023-02-03T00:56:08Z",
    "author_association": "NONE",
    "body": "@ankitchiplunkar @mattsse This works if you add the polygonscan key at the end of the command. It seems you need the polygonscan key even if it is set in your `foundry.toml`. This [issue](https://github.com/foundry-rs/foundry/issues/3560) may be relevant.",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1414567471/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1470950487",
    "html_url": "https://github.com/foundry-rs/foundry/issues/3861#issuecomment-1470950487",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/3861",
    "id": 1470950487,
    "node_id": "IC_kwDOGBlvNc5XrOxX",
    "user": {
      "login": "ryanio",
      "id": 22116,
      "node_id": "MDQ6VXNlcjIyMTE2",
      "avatar_url": "https://avatars.githubusercontent.com/u/22116?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ryanio",
      "html_url": "https://github.com/ryanio",
      "followers_url": "https://api.github.com/users/ryanio/followers",
      "following_url": "https://api.github.com/users/ryanio/following{/other_user}",
      "gists_url": "https://api.github.com/users/ryanio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ryanio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ryanio/subscriptions",
      "organizations_url": "https://api.github.com/users/ryanio/orgs",
      "repos_url": "https://api.github.com/users/ryanio/repos",
      "events_url": "https://api.github.com/users/ryanio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ryanio/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-03-15T22:57:09Z",
    "updated_at": "2023-03-15T22:57:09Z",
    "author_association": "NONE",
    "body": "+1 thanks @larryob works for me by passing in the key at the end, even though i added an `[etherscan]` section",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1470950487/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1470995407",
    "html_url": "https://github.com/foundry-rs/foundry/issues/3861#issuecomment-1470995407",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/3861",
    "id": 1470995407,
    "node_id": "IC_kwDOGBlvNc5XrZvP",
    "user": {
      "login": "mattsse",
      "id": 19890894,
      "node_id": "MDQ6VXNlcjE5ODkwODk0",
      "avatar_url": "https://avatars.githubusercontent.com/u/19890894?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mattsse",
      "html_url": "https://github.com/mattsse",
      "followers_url": "https://api.github.com/users/mattsse/followers",
      "following_url": "https://api.github.com/users/mattsse/following{/other_user}",
      "gists_url": "https://api.github.com/users/mattsse/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mattsse/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mattsse/subscriptions",
      "organizations_url": "https://api.github.com/users/mattsse/orgs",
      "repos_url": "https://api.github.com/users/mattsse/repos",
      "events_url": "https://api.github.com/users/mattsse/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mattsse/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-03-15T23:53:10Z",
    "updated_at": "2023-03-15T23:53:10Z",
    "author_association": "MEMBER",
    "body": "@ryanio It would be very helpful if you could provide your foundry.toml file and the command that you were using and what was unexpected, not clear to me what should be improved otherwise.\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1470995407/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1471004368",
    "html_url": "https://github.com/foundry-rs/foundry/issues/3861#issuecomment-1471004368",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/3861",
    "id": 1471004368,
    "node_id": "IC_kwDOGBlvNc5Xrb7Q",
    "user": {
      "login": "ryanio",
      "id": 22116,
      "node_id": "MDQ6VXNlcjIyMTE2",
      "avatar_url": "https://avatars.githubusercontent.com/u/22116?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ryanio",
      "html_url": "https://github.com/ryanio",
      "followers_url": "https://api.github.com/users/ryanio/followers",
      "following_url": "https://api.github.com/users/ryanio/following{/other_user}",
      "gists_url": "https://api.github.com/users/ryanio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ryanio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ryanio/subscriptions",
      "organizations_url": "https://api.github.com/users/ryanio/orgs",
      "repos_url": "https://api.github.com/users/ryanio/repos",
      "events_url": "https://api.github.com/users/ryanio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ryanio/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-03-16T00:03:02Z",
    "updated_at": "2023-03-16T00:03:02Z",
    "author_association": "NONE",
    "body": "@mattsse yes for sure thanks, hope this helps:\r\n\r\nfoundry.toml:\r\n```\r\n[etherscan]\r\npolygon = { key = \"${POLYGONSCAN_API_KEY}\" }\r\n```\r\n\r\nResult:\r\n\r\n```\r\n> forge verify-contract $ADDRESS $LOCATION --chain polygon\r\nStart verifying contract `0x000000008924d42d98026c656545c3c1fb3ad31c` deployed on polygon\r\n\r\nSubmitting verification for [src/clones/ERC721SeaDropCloneFactory.sol:ERC721SeaDropCloneFactory] \"0x000000008924D42d98026C656545c3c1fb3ad31C\".\r\nEncountered an error verifying this contract:\r\nResponse: `NOTOK`\r\nDetails: `Invalid API Key`\r\n\r\n> forge verify-contract $ADDRESS $LOCATION --chain polygon $POLYGONSCAN_API_KEY\r\nStart verifying contract `0x000000008924d42d98026c656545c3c1fb3ad31c` deployed on polygon\r\n\r\nSubmitting verification for [src/clones/ERC721SeaDropCloneFactory.sol:ERC721SeaDropCloneFactory] \"0x000000008924D42d98026C656545c3c1fb3ad31C\".\r\nContract source code already verified\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1471004368/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1471006657",
    "html_url": "https://github.com/foundry-rs/foundry/issues/3861#issuecomment-1471006657",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/3861",
    "id": 1471006657,
    "node_id": "IC_kwDOGBlvNc5XrcfB",
    "user": {
      "login": "mattsse",
      "id": 19890894,
      "node_id": "MDQ6VXNlcjE5ODkwODk0",
      "avatar_url": "https://avatars.githubusercontent.com/u/19890894?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mattsse",
      "html_url": "https://github.com/mattsse",
      "followers_url": "https://api.github.com/users/mattsse/followers",
      "following_url": "https://api.github.com/users/mattsse/following{/other_user}",
      "gists_url": "https://api.github.com/users/mattsse/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mattsse/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mattsse/subscriptions",
      "organizations_url": "https://api.github.com/users/mattsse/orgs",
      "repos_url": "https://api.github.com/users/mattsse/repos",
      "events_url": "https://api.github.com/users/mattsse/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mattsse/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-03-16T00:05:15Z",
    "updated_at": "2023-03-16T00:05:15Z",
    "author_association": "MEMBER",
    "body": "tysm will debug!",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1471006657/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1471016953",
    "html_url": "https://github.com/foundry-rs/foundry/issues/3861#issuecomment-1471016953",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/3861",
    "id": 1471016953,
    "node_id": "IC_kwDOGBlvNc5Xre_5",
    "user": {
      "login": "ryanio",
      "id": 22116,
      "node_id": "MDQ6VXNlcjIyMTE2",
      "avatar_url": "https://avatars.githubusercontent.com/u/22116?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ryanio",
      "html_url": "https://github.com/ryanio",
      "followers_url": "https://api.github.com/users/ryanio/followers",
      "following_url": "https://api.github.com/users/ryanio/following{/other_user}",
      "gists_url": "https://api.github.com/users/ryanio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ryanio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ryanio/subscriptions",
      "organizations_url": "https://api.github.com/users/ryanio/orgs",
      "repos_url": "https://api.github.com/users/ryanio/repos",
      "events_url": "https://api.github.com/users/ryanio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ryanio/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-03-16T00:17:06Z",
    "updated_at": "2023-03-16T00:17:06Z",
    "author_association": "NONE",
    "body": "ah oh no I did a foundryup and now the working example above no longer works for me 🤔  can't get it working in any way now\r\n\r\n```\r\n➜  forge verify-contract $ADDRESS $LOCATION --chain polygon $POLYGONSCAN_API_KEY\r\nerror: unexpected argument 'JHX2YWJSK5XHTNFS4RPEM18JC2TJIZK2RD' found\r\n\r\n---\r\n\r\n➜  forge verify-contract $ADDRESS $LOCATION --chain polygon\r\nStart verifying contract `0x000000008924d42d98026c656545c3c1fb3ad31c` deployed on polygon\r\nError:\r\nETHERSCAN_API_KEY must be set\r\n\r\n➜ echo $ETHERSCAN_API_KEY\r\nJHX2YWJSK5XHTNFS4RPEM18JC2TJIZK2RD (modified from my original key to not leak)\r\n\r\n➜  forge verify-contract $ADDRESS $LOCATION --chain polygon --etherscan-api-key $POLYGONSCAN_API_KEY\r\nStart verifying contract `0x000000008924d42d98026c656545c3c1fb3ad31c` deployed on polygon\r\nError:\r\nETHERSCAN_API_KEY must be set\r\n\r\n➜  ETHERSCAN_API_KEY=\"JHX2YWJSK5XHTNFS4RPEM18JC2TJIZK2RD\" forge verify-contract $ADDRESS $LOCATION --chain polygon\r\nStart verifying contract `0x000000008924d42d98026c656545c3c1fb3ad31c` deployed on polygon\r\nError:\r\nETHERSCAN_API_KEY must be set\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1471016953/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1534860190",
    "html_url": "https://github.com/foundry-rs/foundry/issues/3861#issuecomment-1534860190",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/3861",
    "id": 1534860190,
    "node_id": "IC_kwDOGBlvNc5bfBue",
    "user": {
      "login": "tkowalczyk",
      "id": 1682564,
      "node_id": "MDQ6VXNlcjE2ODI1NjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1682564?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tkowalczyk",
      "html_url": "https://github.com/tkowalczyk",
      "followers_url": "https://api.github.com/users/tkowalczyk/followers",
      "following_url": "https://api.github.com/users/tkowalczyk/following{/other_user}",
      "gists_url": "https://api.github.com/users/tkowalczyk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tkowalczyk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tkowalczyk/subscriptions",
      "organizations_url": "https://api.github.com/users/tkowalczyk/orgs",
      "repos_url": "https://api.github.com/users/tkowalczyk/repos",
      "events_url": "https://api.github.com/users/tkowalczyk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tkowalczyk/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-05-04T14:13:58Z",
    "updated_at": "2023-05-04T14:13:58Z",
    "author_association": "NONE",
    "body": "@mattsse it is fixed already? I am not able to verify contract on mumbai, getting:\r\n\r\n```\r\nEncountered an error verifying this contract:\r\nResponse: `NOTOK`\r\nDetails: `Invalid API Key`\r\n```\r\n\r\nwhen run:\r\n\r\n```\r\nforge verify-contract --compiler-version v0.8.18+commit.87f61d96 --verifier-url https://api-testnet.polygonscan.com/api/ $contract ./src/MyERC.sol:MyERC ${POLYGONSCAN_API_KEY} --chain mumbai\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1534860190/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1535024084",
    "html_url": "https://github.com/foundry-rs/foundry/issues/3861#issuecomment-1535024084",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/3861",
    "id": 1535024084,
    "node_id": "IC_kwDOGBlvNc5bfpvU",
    "user": {
      "login": "ryanio",
      "id": 22116,
      "node_id": "MDQ6VXNlcjIyMTE2",
      "avatar_url": "https://avatars.githubusercontent.com/u/22116?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ryanio",
      "html_url": "https://github.com/ryanio",
      "followers_url": "https://api.github.com/users/ryanio/followers",
      "following_url": "https://api.github.com/users/ryanio/following{/other_user}",
      "gists_url": "https://api.github.com/users/ryanio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ryanio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ryanio/subscriptions",
      "organizations_url": "https://api.github.com/users/ryanio/orgs",
      "repos_url": "https://api.github.com/users/ryanio/repos",
      "events_url": "https://api.github.com/users/ryanio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ryanio/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-05-04T16:14:29Z",
    "updated_at": "2023-05-04T16:14:29Z",
    "author_association": "NONE",
    "body": "@tkowalczyk try passing the key to the cmd with `--etherscan-api-key`, it was changed to that recently",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1535024084/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1535116384",
    "html_url": "https://github.com/foundry-rs/foundry/issues/3861#issuecomment-1535116384",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/3861",
    "id": 1535116384,
    "node_id": "IC_kwDOGBlvNc5bgARg",
    "user": {
      "login": "tkowalczyk",
      "id": 1682564,
      "node_id": "MDQ6VXNlcjE2ODI1NjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1682564?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tkowalczyk",
      "html_url": "https://github.com/tkowalczyk",
      "followers_url": "https://api.github.com/users/tkowalczyk/followers",
      "following_url": "https://api.github.com/users/tkowalczyk/following{/other_user}",
      "gists_url": "https://api.github.com/users/tkowalczyk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tkowalczyk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tkowalczyk/subscriptions",
      "organizations_url": "https://api.github.com/users/tkowalczyk/orgs",
      "repos_url": "https://api.github.com/users/tkowalczyk/repos",
      "events_url": "https://api.github.com/users/tkowalczyk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tkowalczyk/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-05-04T17:10:52Z",
    "updated_at": "2023-05-04T17:10:52Z",
    "author_association": "NONE",
    "body": "> --etherscan-api-key\r\n\r\nThank you @ryanio now it is working.",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1535116384/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 1,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
