{
  "url": "https://api.github.com/repos/foundry-rs/foundry/issues/1961",
  "repository_url": "https://api.github.com/repos/foundry-rs/foundry",
  "labels_url": "https://api.github.com/repos/foundry-rs/foundry/issues/1961/labels{/name}",
  "comments_url": "https://api.github.com/repos/foundry-rs/foundry/issues/1961/comments",
  "events_url": "https://api.github.com/repos/foundry-rs/foundry/issues/1961/events",
  "html_url": "https://github.com/foundry-rs/foundry/issues/1961",
  "id": 1271332507,
  "node_id": "I_kwDOGBlvNc5Lxv6b",
  "number": 1961,
  "title": "Tracking: Coverage",
  "user": {
    "login": "onbjerg",
    "id": 8862627,
    "node_id": "MDQ6VXNlcjg4NjI2Mjc=",
    "avatar_url": "https://avatars.githubusercontent.com/u/8862627?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/onbjerg",
    "html_url": "https://github.com/onbjerg",
    "followers_url": "https://api.github.com/users/onbjerg/followers",
    "following_url": "https://api.github.com/users/onbjerg/following{/other_user}",
    "gists_url": "https://api.github.com/users/onbjerg/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/onbjerg/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/onbjerg/subscriptions",
    "organizations_url": "https://api.github.com/users/onbjerg/orgs",
    "repos_url": "https://api.github.com/users/onbjerg/repos",
    "events_url": "https://api.github.com/users/onbjerg/events{/privacy}",
    "received_events_url": "https://api.github.com/users/onbjerg/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 3703752787,
      "node_id": "LA_kwDOGBlvNc7cwshT",
      "url": "https://api.github.com/repos/foundry-rs/foundry/labels/C-forge",
      "name": "C-forge",
      "color": "5319E7",
      "default": false,
      "description": "Command: forge"
    },
    {
      "id": 3746533612,
      "node_id": "LA_kwDOGBlvNc7fT5Ds",
      "url": "https://api.github.com/repos/foundry-rs/foundry/labels/T-meta",
      "name": "T-meta",
      "color": "BFD4F2",
      "default": false,
      "description": "Type: meta"
    },
    {
      "id": 4233058229,
      "node_id": "LA_kwDOGBlvNc78T1e1",
      "url": "https://api.github.com/repos/foundry-rs/foundry/labels/Cmd-forge-coverage",
      "name": "Cmd-forge-coverage",
      "color": "006B75",
      "default": false,
      "description": "Command: forge coverage"
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": {
    "login": "onbjerg",
    "id": 8862627,
    "node_id": "MDQ6VXNlcjg4NjI2Mjc=",
    "avatar_url": "https://avatars.githubusercontent.com/u/8862627?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/onbjerg",
    "html_url": "https://github.com/onbjerg",
    "followers_url": "https://api.github.com/users/onbjerg/followers",
    "following_url": "https://api.github.com/users/onbjerg/following{/other_user}",
    "gists_url": "https://api.github.com/users/onbjerg/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/onbjerg/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/onbjerg/subscriptions",
    "organizations_url": "https://api.github.com/users/onbjerg/orgs",
    "repos_url": "https://api.github.com/users/onbjerg/repos",
    "events_url": "https://api.github.com/users/onbjerg/events{/privacy}",
    "received_events_url": "https://api.github.com/users/onbjerg/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "onbjerg",
      "id": 8862627,
      "node_id": "MDQ6VXNlcjg4NjI2Mjc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8862627?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/onbjerg",
      "html_url": "https://github.com/onbjerg",
      "followers_url": "https://api.github.com/users/onbjerg/followers",
      "following_url": "https://api.github.com/users/onbjerg/following{/other_user}",
      "gists_url": "https://api.github.com/users/onbjerg/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/onbjerg/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/onbjerg/subscriptions",
      "organizations_url": "https://api.github.com/users/onbjerg/orgs",
      "repos_url": "https://api.github.com/users/onbjerg/repos",
      "events_url": "https://api.github.com/users/onbjerg/events{/privacy}",
      "received_events_url": "https://api.github.com/users/onbjerg/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": {
    "url": "https://api.github.com/repos/foundry-rs/foundry/milestones/1",
    "html_url": "https://github.com/foundry-rs/foundry/milestone/1",
    "labels_url": "https://api.github.com/repos/foundry-rs/foundry/milestones/1/labels",
    "id": 8140456,
    "node_id": "MI_kwDOGBlvNc4AfDao",
    "number": 1,
    "title": "v1.0.0",
    "description": "",
    "creator": {
      "login": "onbjerg",
      "id": 8862627,
      "node_id": "MDQ6VXNlcjg4NjI2Mjc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8862627?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/onbjerg",
      "html_url": "https://github.com/onbjerg",
      "followers_url": "https://api.github.com/users/onbjerg/followers",
      "following_url": "https://api.github.com/users/onbjerg/following{/other_user}",
      "gists_url": "https://api.github.com/users/onbjerg/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/onbjerg/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/onbjerg/subscriptions",
      "organizations_url": "https://api.github.com/users/onbjerg/orgs",
      "repos_url": "https://api.github.com/users/onbjerg/repos",
      "events_url": "https://api.github.com/users/onbjerg/events{/privacy}",
      "received_events_url": "https://api.github.com/users/onbjerg/received_events",
      "type": "User",
      "site_admin": false
    },
    "open_issues": 10,
    "closed_issues": 125,
    "state": "open",
    "created_at": "2022-06-28T08:15:32Z",
    "updated_at": "2023-05-12T14:44:03Z",
    "due_on": null,
    "closed_at": null
  },
  "comments": 6,
  "created_at": "2022-06-14T20:34:53Z",
  "updated_at": "2023-02-12T19:32:02Z",
  "closed_at": null,
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": "There's still some missing features and improvements for coverage:\r\n\r\n**Data/functionality**\r\n\r\n- [x] #1962\r\n- [ ] #1963\r\n- [x] #1964\r\n- [x] #1967\r\n- [x] #1965\r\n\r\n**User facing**\r\n\r\n- [ ] #1966\r\n\r\n**Misc**\r\n\r\n- [x] #1969\r\n- [ ] #1968",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/1961/reactions",
    "total_count": 12,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 3,
    "confused": 0,
    "heart": 9,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/foundry-rs/foundry/issues/1961/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1186079156",
    "html_url": "https://github.com/foundry-rs/foundry/issues/1961#issuecomment-1186079156",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/1961",
    "id": 1186079156,
    "node_id": "IC_kwDOGBlvNc5GsiG0",
    "user": {
      "login": "aahna-ashina",
      "id": 95955389,
      "node_id": "U_kgDOBbgpvQ",
      "avatar_url": "https://avatars.githubusercontent.com/u/95955389?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/aahna-ashina",
      "html_url": "https://github.com/aahna-ashina",
      "followers_url": "https://api.github.com/users/aahna-ashina/followers",
      "following_url": "https://api.github.com/users/aahna-ashina/following{/other_user}",
      "gists_url": "https://api.github.com/users/aahna-ashina/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/aahna-ashina/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/aahna-ashina/subscriptions",
      "organizations_url": "https://api.github.com/users/aahna-ashina/orgs",
      "repos_url": "https://api.github.com/users/aahna-ashina/repos",
      "events_url": "https://api.github.com/users/aahna-ashina/events{/privacy}",
      "received_events_url": "https://api.github.com/users/aahna-ashina/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-07-16T03:34:45Z",
    "updated_at": "2022-07-16T03:35:27Z",
    "author_association": "NONE",
    "body": "@onbjerg When I run `forge coverage` at https://github.com/nation3/court, I get this error:\r\n\r\n```\r\ncould not find anchor: no matching instruction in range CollateralAgreementFramework:3834:2:7\r\n```\r\n\r\n```\r\nforge coverage \r\nwarning: Unknown section [default] found in foundry.toml. This notation for profiles has been deprecated and may result in the profile not being registered in future versions. Please use [profile.default] instead or run `forge config --fix`.\r\nwarning: Unknown section [default] found in lib/solmate/foundry.toml. This notation for profiles has been deprecated and may result in the profile not being registered in future versions. Please use [profile.default] instead or run `forge config --fix`.\r\nwarning: Unknown section [intense] found in lib/solmate/foundry.toml. This notation for profiles has been deprecated and may result in the profile not being registered in future versions. Please use [profile.default] instead or run `forge config --fix`.\r\n[⠒] Compiling...\r\n[⠒] Compiling 11 files with 0.8.14\r\n[⠑] Solc 0.8.14 finished in 992.33ms\r\nCompiler run successful\r\nAnalysing contracts...\r\nError: \r\ncould not find anchor: no matching instruction in range CollateralAgreementFramework:3834:2:7\r\n```\r\n\r\nDoes `could not find anchor` mean that we are missing some code coverage configuration in our project?\r\n\r\n```\r\nforge --version\r\nforge 0.2.0 (37e4376 2022-07-16T00:05:51.461078Z)\r\n```\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1186079156/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1186261583",
    "html_url": "https://github.com/foundry-rs/foundry/issues/1961#issuecomment-1186261583",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/1961",
    "id": 1186261583,
    "node_id": "IC_kwDOGBlvNc5GtOpP",
    "user": {
      "login": "onbjerg",
      "id": 8862627,
      "node_id": "MDQ6VXNlcjg4NjI2Mjc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8862627?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/onbjerg",
      "html_url": "https://github.com/onbjerg",
      "followers_url": "https://api.github.com/users/onbjerg/followers",
      "following_url": "https://api.github.com/users/onbjerg/following{/other_user}",
      "gists_url": "https://api.github.com/users/onbjerg/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/onbjerg/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/onbjerg/subscriptions",
      "organizations_url": "https://api.github.com/users/onbjerg/orgs",
      "repos_url": "https://api.github.com/users/onbjerg/repos",
      "events_url": "https://api.github.com/users/onbjerg/events{/privacy}",
      "received_events_url": "https://api.github.com/users/onbjerg/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-07-16T18:36:15Z",
    "updated_at": "2022-07-16T18:36:15Z",
    "author_association": "MEMBER",
    "body": "Please check the other issues on coverage - this is not on your side, but coverage is not stable yet, so there are edge cases that are not covered. This is one edge case where it could not find an opcode that matches the source range, so we fail and return instead of showing a potentially incorrect coverage report",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1186261583/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1218870865",
    "html_url": "https://github.com/foundry-rs/foundry/issues/1961#issuecomment-1218870865",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/1961",
    "id": 1218870865,
    "node_id": "IC_kwDOGBlvNc5Ipn5R",
    "user": {
      "login": "aahna-ashina",
      "id": 95955389,
      "node_id": "U_kgDOBbgpvQ",
      "avatar_url": "https://avatars.githubusercontent.com/u/95955389?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/aahna-ashina",
      "html_url": "https://github.com/aahna-ashina",
      "followers_url": "https://api.github.com/users/aahna-ashina/followers",
      "following_url": "https://api.github.com/users/aahna-ashina/following{/other_user}",
      "gists_url": "https://api.github.com/users/aahna-ashina/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/aahna-ashina/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/aahna-ashina/subscriptions",
      "organizations_url": "https://api.github.com/users/aahna-ashina/orgs",
      "repos_url": "https://api.github.com/users/aahna-ashina/repos",
      "events_url": "https://api.github.com/users/aahna-ashina/events{/privacy}",
      "received_events_url": "https://api.github.com/users/aahna-ashina/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-08-18T01:27:27Z",
    "updated_at": "2022-08-18T07:39:24Z",
    "author_association": "NONE",
    "body": "@onbjerg Is there a way to exclude `*.sol` files in the `test/` folder when running `forge coverage`?",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1218870865/reactions",
      "total_count": 3,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 3
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1219107365",
    "html_url": "https://github.com/foundry-rs/foundry/issues/1961#issuecomment-1219107365",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/1961",
    "id": 1219107365,
    "node_id": "IC_kwDOGBlvNc5Iqhol",
    "user": {
      "login": "elenadimitrova",
      "id": 703848,
      "node_id": "MDQ6VXNlcjcwMzg0OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/703848?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/elenadimitrova",
      "html_url": "https://github.com/elenadimitrova",
      "followers_url": "https://api.github.com/users/elenadimitrova/followers",
      "following_url": "https://api.github.com/users/elenadimitrova/following{/other_user}",
      "gists_url": "https://api.github.com/users/elenadimitrova/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/elenadimitrova/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/elenadimitrova/subscriptions",
      "organizations_url": "https://api.github.com/users/elenadimitrova/orgs",
      "repos_url": "https://api.github.com/users/elenadimitrova/repos",
      "events_url": "https://api.github.com/users/elenadimitrova/events{/privacy}",
      "received_events_url": "https://api.github.com/users/elenadimitrova/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-08-18T06:57:04Z",
    "updated_at": "2022-08-18T07:41:04Z",
    "author_association": "NONE",
    "body": "@aahna-ashina I had the same question and what I ended up doing is exclude them in `codecov.yml` instead with:\r\n```\r\nignore:\r\n  - \"./tests/\"\r\n ```",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1219107365/reactions",
      "total_count": 3,
      "+1": 2,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 1,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1368823521",
    "html_url": "https://github.com/foundry-rs/foundry/issues/1961#issuecomment-1368823521",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/1961",
    "id": 1368823521,
    "node_id": "IC_kwDOGBlvNc5Rlpbh",
    "user": {
      "login": "PaulRBerg",
      "id": 8782666,
      "node_id": "MDQ6VXNlcjg3ODI2NjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8782666?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/PaulRBerg",
      "html_url": "https://github.com/PaulRBerg",
      "followers_url": "https://api.github.com/users/PaulRBerg/followers",
      "following_url": "https://api.github.com/users/PaulRBerg/following{/other_user}",
      "gists_url": "https://api.github.com/users/PaulRBerg/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/PaulRBerg/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/PaulRBerg/subscriptions",
      "organizations_url": "https://api.github.com/users/PaulRBerg/orgs",
      "repos_url": "https://api.github.com/users/PaulRBerg/repos",
      "events_url": "https://api.github.com/users/PaulRBerg/events{/privacy}",
      "received_events_url": "https://api.github.com/users/PaulRBerg/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-01-02T10:35:39Z",
    "updated_at": "2023-02-01T13:06:23Z",
    "author_association": "CONTRIBUTOR",
    "body": "Thanks @elenadimitrova, great idea to ignore the tests in Codecov directly.\r\n\r\nHowever, it should be possible to do this with Forge itself - ideally, there would be a `--ignore` flag in the `forge coverage` command.\r\n\r\nI created an issue to track this as a feature request: https://github.com/foundry-rs/foundry/issues/4006.\r\n\r\n**Update**: it looks like it is not possible to ignore globs on all coverage tracking platforms - for instance, [Coveralls](https://coveralls.io/) doesn't offer this feature. Thus, it would be really helpful for Foundry to have an `--ignore` flag.",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1368823521/reactions",
      "total_count": 3,
      "+1": 3,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1427113699",
    "html_url": "https://github.com/foundry-rs/foundry/issues/1961#issuecomment-1427113699",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/1961",
    "id": 1427113699,
    "node_id": "IC_kwDOGBlvNc5VEAbj",
    "user": {
      "login": "PaulRBerg",
      "id": 8782666,
      "node_id": "MDQ6VXNlcjg3ODI2NjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8782666?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/PaulRBerg",
      "html_url": "https://github.com/PaulRBerg",
      "followers_url": "https://api.github.com/users/PaulRBerg/followers",
      "following_url": "https://api.github.com/users/PaulRBerg/following{/other_user}",
      "gists_url": "https://api.github.com/users/PaulRBerg/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/PaulRBerg/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/PaulRBerg/subscriptions",
      "organizations_url": "https://api.github.com/users/PaulRBerg/orgs",
      "repos_url": "https://api.github.com/users/PaulRBerg/repos",
      "events_url": "https://api.github.com/users/PaulRBerg/events{/privacy}",
      "received_events_url": "https://api.github.com/users/PaulRBerg/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-02-12T19:32:01Z",
    "updated_at": "2023-02-12T19:32:01Z",
    "author_association": "CONTRIBUTOR",
    "body": "I have recently discovered several bugs in the coverage command. Posting here for cross-reference:\r\n\r\n- [ ] https://github.com/foundry-rs/foundry/issues/4294\r\n- [ ]  https://github.com/foundry-rs/foundry/issues/4305\r\n- [ ]  https://github.com/foundry-rs/foundry/issues/4309\r\n- [ ]  https://github.com/foundry-rs/foundry/issues/4310\r\n- [ ]  https://github.com/foundry-rs/foundry/issues/4311\r\n- [ ]  https://github.com/foundry-rs/foundry/issues/4314\r\n- [ ]  https://github.com/foundry-rs/foundry/issues/4315\r\n- [ ]  https://github.com/foundry-rs/foundry/issues/4316",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1427113699/reactions",
      "total_count": 5,
      "+1": 3,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 2,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
