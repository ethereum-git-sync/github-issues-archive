{
  "url": "https://api.github.com/repos/foundry-rs/foundry/issues/6600",
  "repository_url": "https://api.github.com/repos/foundry-rs/foundry",
  "labels_url": "https://api.github.com/repos/foundry-rs/foundry/issues/6600/labels{/name}",
  "comments_url": "https://api.github.com/repos/foundry-rs/foundry/issues/6600/comments",
  "events_url": "https://api.github.com/repos/foundry-rs/foundry/issues/6600/events",
  "html_url": "https://github.com/foundry-rs/foundry/issues/6600",
  "id": 2041450722,
  "node_id": "I_kwDOGBlvNc55rhDi",
  "number": 6600,
  "title": "An unformatted output mode",
  "user": {
    "login": "CodeSandwich",
    "id": 26183680,
    "node_id": "MDQ6VXNlcjI2MTgzNjgw",
    "avatar_url": "https://avatars.githubusercontent.com/u/26183680?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/CodeSandwich",
    "html_url": "https://github.com/CodeSandwich",
    "followers_url": "https://api.github.com/users/CodeSandwich/followers",
    "following_url": "https://api.github.com/users/CodeSandwich/following{/other_user}",
    "gists_url": "https://api.github.com/users/CodeSandwich/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/CodeSandwich/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/CodeSandwich/subscriptions",
    "organizations_url": "https://api.github.com/users/CodeSandwich/orgs",
    "repos_url": "https://api.github.com/users/CodeSandwich/repos",
    "events_url": "https://api.github.com/users/CodeSandwich/events{/privacy}",
    "received_events_url": "https://api.github.com/users/CodeSandwich/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 3593644820,
      "node_id": "LA_kwDOGBlvNc7WMqsU",
      "url": "https://api.github.com/repos/foundry-rs/foundry/labels/T-feature",
      "name": "T-feature",
      "color": "BFD4F2",
      "default": false,
      "description": "Type: feature"
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 5,
  "created_at": "2023-12-14T10:56:15Z",
  "updated_at": "2023-12-14T18:18:02Z",
  "closed_at": null,
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "### Component\r\n\r\nOther (please describe)\r\n\r\n### Describe the feature you would like\r\n\r\nFoundry is a great tool for running operations manually, but it's sometimes problematic to automate. The main problem is the output format, it's tailored for reading, so it often needs extra processing, and it sometimes changes to further improve readability. Some examples of problems I've encountered when writing scripts using foundry:\r\n\r\n- `cast call` to a function returning a string prints its value in quotes, which need to be stripped\r\n- `cast call` to a function returning a number may or may not print the output twice, the second time in the scientific notation (see https://github.com/foundry-rs/foundry/issues/6598)\r\n- `forge create` prints the whole deployment report with the transaction hash, the deployer address and the compilation result, but scripts usually only need the deployed address, which needs to be extracted\r\n\r\nIt would be great to have a mode that would keep the output simple and stable for the automation, with no decorations for easier reading.\r\n\r\nSome commands have the `--json` option, for example `forge create`. It's inconvenient, because it requires piping the output through a `jq` script, but it's a viable workaround. This option isn't available everywhere, for example `cast call` doesn't support it.\r\n\r\n### Additional context\r\n\r\n_No response_",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/6600/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/foundry-rs/foundry/issues/6600/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1856127813",
    "html_url": "https://github.com/foundry-rs/foundry/issues/6600#issuecomment-1856127813",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/6600",
    "id": 1856127813,
    "node_id": "IC_kwDOGBlvNc5uokNF",
    "user": {
      "login": "mds1",
      "id": 17163988,
      "node_id": "MDQ6VXNlcjE3MTYzOTg4",
      "avatar_url": "https://avatars.githubusercontent.com/u/17163988?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mds1",
      "html_url": "https://github.com/mds1",
      "followers_url": "https://api.github.com/users/mds1/followers",
      "following_url": "https://api.github.com/users/mds1/following{/other_user}",
      "gists_url": "https://api.github.com/users/mds1/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mds1/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mds1/subscriptions",
      "organizations_url": "https://api.github.com/users/mds1/orgs",
      "repos_url": "https://api.github.com/users/mds1/repos",
      "events_url": "https://api.github.com/users/mds1/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mds1/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-12-14T16:08:00Z",
    "updated_at": "2023-12-14T16:08:00Z",
    "author_association": "COLLABORATOR",
    "body": "I agree cast in general needs some cleanup, I suspect there's a lot of other inconsistencies. To start, I think the default return values from `cast call` should never have quotes, and when there's multiple data it should be comma-separated or in some other machine-friendly format. As we do with other commands like `forge inspect`, we can add a `--pretty` or `--verbose` flag to get more human friendly output",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1856127813/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1856189226",
    "html_url": "https://github.com/foundry-rs/foundry/issues/6600#issuecomment-1856189226",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/6600",
    "id": 1856189226,
    "node_id": "IC_kwDOGBlvNc5uozMq",
    "user": {
      "login": "CodeSandwich",
      "id": 26183680,
      "node_id": "MDQ6VXNlcjI2MTgzNjgw",
      "avatar_url": "https://avatars.githubusercontent.com/u/26183680?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/CodeSandwich",
      "html_url": "https://github.com/CodeSandwich",
      "followers_url": "https://api.github.com/users/CodeSandwich/followers",
      "following_url": "https://api.github.com/users/CodeSandwich/following{/other_user}",
      "gists_url": "https://api.github.com/users/CodeSandwich/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/CodeSandwich/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/CodeSandwich/subscriptions",
      "organizations_url": "https://api.github.com/users/CodeSandwich/orgs",
      "repos_url": "https://api.github.com/users/CodeSandwich/repos",
      "events_url": "https://api.github.com/users/CodeSandwich/events{/privacy}",
      "received_events_url": "https://api.github.com/users/CodeSandwich/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-12-14T16:45:12Z",
    "updated_at": "2023-12-14T16:45:12Z",
    "author_association": "CONTRIBUTOR",
    "body": "I think that the defaults should be human friendly, as it is now. When the user manually executes a command, they probably won't remember, won't bother to type or simply won't have the knowledge to add the extra parameter, and they will be stuck with the unfriendly output. Scripts on the other hands are written with more care and preparation, and usually only once, so adding a flag won't be that annoying.",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1856189226/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1856261929",
    "html_url": "https://github.com/foundry-rs/foundry/issues/6600#issuecomment-1856261929",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/6600",
    "id": 1856261929,
    "node_id": "IC_kwDOGBlvNc5upE8p",
    "user": {
      "login": "mds1",
      "id": 17163988,
      "node_id": "MDQ6VXNlcjE3MTYzOTg4",
      "avatar_url": "https://avatars.githubusercontent.com/u/17163988?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mds1",
      "html_url": "https://github.com/mds1",
      "followers_url": "https://api.github.com/users/mds1/followers",
      "following_url": "https://api.github.com/users/mds1/following{/other_user}",
      "gists_url": "https://api.github.com/users/mds1/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mds1/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mds1/subscriptions",
      "organizations_url": "https://api.github.com/users/mds1/orgs",
      "repos_url": "https://api.github.com/users/mds1/repos",
      "events_url": "https://api.github.com/users/mds1/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mds1/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-12-14T17:21:12Z",
    "updated_at": "2023-12-14T17:21:12Z",
    "author_association": "COLLABORATOR",
    "body": "> I think that the defaults should be human friendly, as it is now.\r\n\r\nI don't feel strongly here, but AFAIK this was a breaking change which is why it should be reverted. Once we have a v1, we can make the default change to human friendly at that point. Other commands like `forge inspect` currently default to non-prettified outputs and require `--pretty`, and consistency between commands is the least surprising UX",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1856261929/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1856276746",
    "html_url": "https://github.com/foundry-rs/foundry/issues/6600#issuecomment-1856276746",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/6600",
    "id": 1856276746,
    "node_id": "IC_kwDOGBlvNc5upIkK",
    "user": {
      "login": "Inphi",
      "id": 3516807,
      "node_id": "MDQ6VXNlcjM1MTY4MDc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3516807?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Inphi",
      "html_url": "https://github.com/Inphi",
      "followers_url": "https://api.github.com/users/Inphi/followers",
      "following_url": "https://api.github.com/users/Inphi/following{/other_user}",
      "gists_url": "https://api.github.com/users/Inphi/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Inphi/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Inphi/subscriptions",
      "organizations_url": "https://api.github.com/users/Inphi/orgs",
      "repos_url": "https://api.github.com/users/Inphi/repos",
      "events_url": "https://api.github.com/users/Inphi/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Inphi/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-12-14T17:31:43Z",
    "updated_at": "2023-12-14T17:31:43Z",
    "author_association": "CONTRIBUTOR",
    "body": "In general, tools should default to use `--pretty`, otherwise humans have to add that flag every time in a cli. Whereas in a script, the human only has to specify `--raw` once.\r\nSo I'd go as far as to modify `forge inspect` to be `--pretty` by default. But also in favor of maintaining consistency, if that isn't desired, by adding a `--pretty`  option for `cast` commands.",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1856276746/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1856358303",
    "html_url": "https://github.com/foundry-rs/foundry/issues/6600#issuecomment-1856358303",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/6600",
    "id": 1856358303,
    "node_id": "IC_kwDOGBlvNc5upcef",
    "user": {
      "login": "mds1",
      "id": 17163988,
      "node_id": "MDQ6VXNlcjE3MTYzOTg4",
      "avatar_url": "https://avatars.githubusercontent.com/u/17163988?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mds1",
      "html_url": "https://github.com/mds1",
      "followers_url": "https://api.github.com/users/mds1/followers",
      "following_url": "https://api.github.com/users/mds1/following{/other_user}",
      "gists_url": "https://api.github.com/users/mds1/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mds1/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mds1/subscriptions",
      "organizations_url": "https://api.github.com/users/mds1/orgs",
      "repos_url": "https://api.github.com/users/mds1/repos",
      "events_url": "https://api.github.com/users/mds1/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mds1/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-12-14T18:18:01Z",
    "updated_at": "2023-12-14T18:18:01Z",
    "author_association": "COLLABORATOR",
    "body": "Agreed that human readable is a better default, but will defer to forge maintainers if they're ok with the pre-v1 breaking change that would be required to keep consistency across commands",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1856358303/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
