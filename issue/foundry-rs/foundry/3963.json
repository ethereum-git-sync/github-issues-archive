{
  "url": "https://api.github.com/repos/foundry-rs/foundry/issues/3963",
  "repository_url": "https://api.github.com/repos/foundry-rs/foundry",
  "labels_url": "https://api.github.com/repos/foundry-rs/foundry/issues/3963/labels{/name}",
  "comments_url": "https://api.github.com/repos/foundry-rs/foundry/issues/3963/comments",
  "events_url": "https://api.github.com/repos/foundry-rs/foundry/issues/3963/events",
  "html_url": "https://github.com/foundry-rs/foundry/issues/3963",
  "id": 1510889388,
  "node_id": "I_kwDOGBlvNc5aDles",
  "number": 3963,
  "title": "Support for Zero Knowledge Proof generation from external source, like Javascript/WASM",
  "user": {
    "login": "shekohex",
    "id": 14620076,
    "node_id": "MDQ6VXNlcjE0NjIwMDc2",
    "avatar_url": "https://avatars.githubusercontent.com/u/14620076?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/shekohex",
    "html_url": "https://github.com/shekohex",
    "followers_url": "https://api.github.com/users/shekohex/followers",
    "following_url": "https://api.github.com/users/shekohex/following{/other_user}",
    "gists_url": "https://api.github.com/users/shekohex/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/shekohex/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/shekohex/subscriptions",
    "organizations_url": "https://api.github.com/users/shekohex/orgs",
    "repos_url": "https://api.github.com/users/shekohex/repos",
    "events_url": "https://api.github.com/users/shekohex/events{/privacy}",
    "received_events_url": "https://api.github.com/users/shekohex/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 3593644820,
      "node_id": "LA_kwDOGBlvNc7WMqsU",
      "url": "https://api.github.com/repos/foundry-rs/foundry/labels/T-feature",
      "name": "T-feature",
      "color": "BFD4F2",
      "default": false,
      "description": "Type: feature"
    },
    {
      "id": 3703752787,
      "node_id": "LA_kwDOGBlvNc7cwshT",
      "url": "https://api.github.com/repos/foundry-rs/foundry/labels/C-forge",
      "name": "C-forge",
      "color": "5319E7",
      "default": false,
      "description": "Command: forge"
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 4,
  "created_at": "2022-12-26T11:57:37Z",
  "updated_at": "2023-07-31T14:30:29Z",
  "closed_at": null,
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "### Component\n\nForge\n\n### Describe the feature you would like\n\nThe title say it all, currently, what stops us at @webb-tools from switching to use foundry for our contract tests (which by the way, from GitHub Actions, it takes up to 56m to complete) is that our protocol is based on Zero Knowledge proof generation/verification, our code for generating these proofs are currently written in Javascript, which wraps some other WASM code from Circom.\r\n\r\nSo back to the original question, how we can do such thing like Generating ZKP inside solidity? Do we have to write it in say Rust, and expose that as FFI? what the workflow would look like? \r\n\n\n### Additional context\n\n- Example Test: https://github.com/webb-tools/protocol-solidity/blob/56ad8f5e24e8aff09fd25498490824e22f9ef05d/packages/contracts/test/vanchor/vanchor.test.ts#L272\r\n- Our Circom Proving Manager: https://github.com/webb-tools/webb.js/blob/0b864f7f6c46f6f9e246d234c19496a055306fd6/packages/sdk-core/src/proving/circom/proving-manager.ts\r\n- Our Circuits: https://github.com/webb-tools/protocol-solidity/tree/main/circuits",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/3963/reactions",
    "total_count": 1,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 1
  },
  "timeline_url": "https://api.github.com/repos/foundry-rs/foundry/issues/3963/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1367055744",
    "html_url": "https://github.com/foundry-rs/foundry/issues/3963#issuecomment-1367055744",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/3963",
    "id": 1367055744,
    "node_id": "IC_kwDOGBlvNc5Re52A",
    "user": {
      "login": "joshieDo",
      "id": 93316087,
      "node_id": "U_kgDOBY_j9w",
      "avatar_url": "https://avatars.githubusercontent.com/u/93316087?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/joshieDo",
      "html_url": "https://github.com/joshieDo",
      "followers_url": "https://api.github.com/users/joshieDo/followers",
      "following_url": "https://api.github.com/users/joshieDo/following{/other_user}",
      "gists_url": "https://api.github.com/users/joshieDo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/joshieDo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/joshieDo/subscriptions",
      "organizations_url": "https://api.github.com/users/joshieDo/orgs",
      "repos_url": "https://api.github.com/users/joshieDo/repos",
      "events_url": "https://api.github.com/users/joshieDo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/joshieDo/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-12-29T03:59:24Z",
    "updated_at": "2022-12-29T03:59:24Z",
    "author_association": "COLLABORATOR",
    "body": "> 56m to complete\r\n\r\nouch\r\n\r\n> for generating these proofs are currently written in Javascript, which wraps some other WASM code from Circom.\r\n\r\nYou can indeed use `ffi` to call the proof generation script, and then either \"consume\" it as hex or json, up to you. I don't see why it wouldn't work. Feel free to tag me on the tg channel and I'd be more than happy to help.\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1367055744/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1371349129",
    "html_url": "https://github.com/foundry-rs/foundry/issues/3963#issuecomment-1371349129",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/3963",
    "id": 1371349129,
    "node_id": "IC_kwDOGBlvNc5RvSCJ",
    "user": {
      "login": "rkrasiuk",
      "id": 25429261,
      "node_id": "MDQ6VXNlcjI1NDI5MjYx",
      "avatar_url": "https://avatars.githubusercontent.com/u/25429261?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rkrasiuk",
      "html_url": "https://github.com/rkrasiuk",
      "followers_url": "https://api.github.com/users/rkrasiuk/followers",
      "following_url": "https://api.github.com/users/rkrasiuk/following{/other_user}",
      "gists_url": "https://api.github.com/users/rkrasiuk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rkrasiuk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rkrasiuk/subscriptions",
      "organizations_url": "https://api.github.com/users/rkrasiuk/orgs",
      "repos_url": "https://api.github.com/users/rkrasiuk/repos",
      "events_url": "https://api.github.com/users/rkrasiuk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rkrasiuk/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-01-04T19:48:32Z",
    "updated_at": "2023-01-04T19:48:32Z",
    "author_association": "COLLABORATOR",
    "body": "@shekohex did you have any luck using ffi for proof generation?",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1371349129/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1372295191",
    "html_url": "https://github.com/foundry-rs/foundry/issues/3963#issuecomment-1372295191",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/3963",
    "id": 1372295191,
    "node_id": "IC_kwDOGBlvNc5Ry5AX",
    "user": {
      "login": "shekohex",
      "id": 14620076,
      "node_id": "MDQ6VXNlcjE0NjIwMDc2",
      "avatar_url": "https://avatars.githubusercontent.com/u/14620076?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/shekohex",
      "html_url": "https://github.com/shekohex",
      "followers_url": "https://api.github.com/users/shekohex/followers",
      "following_url": "https://api.github.com/users/shekohex/following{/other_user}",
      "gists_url": "https://api.github.com/users/shekohex/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/shekohex/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/shekohex/subscriptions",
      "organizations_url": "https://api.github.com/users/shekohex/orgs",
      "repos_url": "https://api.github.com/users/shekohex/repos",
      "events_url": "https://api.github.com/users/shekohex/events{/privacy}",
      "received_events_url": "https://api.github.com/users/shekohex/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-01-05T14:33:18Z",
    "updated_at": "2023-01-05T14:33:18Z",
    "author_association": "NONE",
    "body": "> @shekohex did you have any luck using ffi for proof generation?\r\n\r\nNot yet, we are like in the research phase in that area! also, right now we are trying to use [ark-circom](https://github.com/gakonst/ark-circom) more, so that we can write our FFI in rust too.",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1372295191/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1658485305",
    "html_url": "https://github.com/foundry-rs/foundry/issues/3963#issuecomment-1658485305",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/3963",
    "id": 1658485305,
    "node_id": "IC_kwDOGBlvNc5i2no5",
    "user": {
      "login": "wagmiwiz",
      "id": 2362887,
      "node_id": "MDQ6VXNlcjIzNjI4ODc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2362887?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/wagmiwiz",
      "html_url": "https://github.com/wagmiwiz",
      "followers_url": "https://api.github.com/users/wagmiwiz/followers",
      "following_url": "https://api.github.com/users/wagmiwiz/following{/other_user}",
      "gists_url": "https://api.github.com/users/wagmiwiz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/wagmiwiz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/wagmiwiz/subscriptions",
      "organizations_url": "https://api.github.com/users/wagmiwiz/orgs",
      "repos_url": "https://api.github.com/users/wagmiwiz/repos",
      "events_url": "https://api.github.com/users/wagmiwiz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/wagmiwiz/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-07-31T14:30:29Z",
    "updated_at": "2023-07-31T14:30:29Z",
    "author_association": "NONE",
    "body": "Does anyone have some examples of using Foundry toolbelt for managing/testing ZK based projects (using Circom)? Specifically interested in how to generate proofs for use in tests etc.",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1658485305/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
