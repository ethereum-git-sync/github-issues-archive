{
  "url": "https://api.github.com/repos/foundry-rs/foundry/issues/4195",
  "repository_url": "https://api.github.com/repos/foundry-rs/foundry",
  "labels_url": "https://api.github.com/repos/foundry-rs/foundry/issues/4195/labels{/name}",
  "comments_url": "https://api.github.com/repos/foundry-rs/foundry/issues/4195/comments",
  "events_url": "https://api.github.com/repos/foundry-rs/foundry/issues/4195/events",
  "html_url": "https://github.com/foundry-rs/foundry/issues/4195",
  "id": 1558718481,
  "node_id": "I_kwDOGBlvNc5c6CgR",
  "number": 4195,
  "title": "feat(forge): flag to print only console logs in traces",
  "user": {
    "login": "PaulRBerg",
    "id": 8782666,
    "node_id": "MDQ6VXNlcjg3ODI2NjY=",
    "avatar_url": "https://avatars.githubusercontent.com/u/8782666?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/PaulRBerg",
    "html_url": "https://github.com/PaulRBerg",
    "followers_url": "https://api.github.com/users/PaulRBerg/followers",
    "following_url": "https://api.github.com/users/PaulRBerg/following{/other_user}",
    "gists_url": "https://api.github.com/users/PaulRBerg/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/PaulRBerg/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/PaulRBerg/subscriptions",
    "organizations_url": "https://api.github.com/users/PaulRBerg/orgs",
    "repos_url": "https://api.github.com/users/PaulRBerg/repos",
    "events_url": "https://api.github.com/users/PaulRBerg/events{/privacy}",
    "received_events_url": "https://api.github.com/users/PaulRBerg/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 3593644820,
      "node_id": "LA_kwDOGBlvNc7WMqsU",
      "url": "https://api.github.com/repos/foundry-rs/foundry/labels/T-feature",
      "name": "T-feature",
      "color": "BFD4F2",
      "default": false,
      "description": "Type: feature"
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 6,
  "created_at": "2023-01-26T20:14:42Z",
  "updated_at": "2023-02-28T14:48:01Z",
  "closed_at": "2023-02-28T02:02:22Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "### Component\n\nForge\n\n### Describe the feature you would like\n\nThere are several scenarios where it would be useful to be able to filter out all traces except console logs, just to name a few:\r\n\r\n1. Debugging a failing test and focusing on console logs (there are cases where the test set-up proces so many test traces that logs get hidden).\r\n2. Printing an [invariant call summary](https://github.com/lucas-manuel/invariant-examples/blob/d6b4f06d7ebe0bbaebcfd666fb00433d30ab28da/test/WrappedTests.t.sol#L87-L101) and wanting to see only the call summary.\n\n### Additional context\n\nI just bumped into case 2 now, here's how it looks:\r\n\r\n<img width=\"1728\" alt=\"Screenshot 2023-01-26 at 10 06 58 PM\" src=\"https://user-images.githubusercontent.com/8782666/214940662-fb75270a-1569-40c1-9a9d-facb4aabcbcf.png\">\r\n\r\nThe actual call summary is overshadowed by the test traces.",
  "closed_by": {
    "login": "mds1",
    "id": 17163988,
    "node_id": "MDQ6VXNlcjE3MTYzOTg4",
    "avatar_url": "https://avatars.githubusercontent.com/u/17163988?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/mds1",
    "html_url": "https://github.com/mds1",
    "followers_url": "https://api.github.com/users/mds1/followers",
    "following_url": "https://api.github.com/users/mds1/following{/other_user}",
    "gists_url": "https://api.github.com/users/mds1/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/mds1/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/mds1/subscriptions",
    "organizations_url": "https://api.github.com/users/mds1/orgs",
    "repos_url": "https://api.github.com/users/mds1/repos",
    "events_url": "https://api.github.com/users/mds1/events{/privacy}",
    "received_events_url": "https://api.github.com/users/mds1/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/4195/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/foundry-rs/foundry/issues/4195/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1407403781",
    "html_url": "https://github.com/foundry-rs/foundry/issues/4195#issuecomment-1407403781",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/4195",
    "id": 1407403781,
    "node_id": "IC_kwDOGBlvNc5T40cF",
    "user": {
      "login": "0xPhaze",
      "id": 103113487,
      "node_id": "U_kgDOBiVjDw",
      "avatar_url": "https://avatars.githubusercontent.com/u/103113487?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/0xPhaze",
      "html_url": "https://github.com/0xPhaze",
      "followers_url": "https://api.github.com/users/0xPhaze/followers",
      "following_url": "https://api.github.com/users/0xPhaze/following{/other_user}",
      "gists_url": "https://api.github.com/users/0xPhaze/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/0xPhaze/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/0xPhaze/subscriptions",
      "organizations_url": "https://api.github.com/users/0xPhaze/orgs",
      "repos_url": "https://api.github.com/users/0xPhaze/repos",
      "events_url": "https://api.github.com/users/0xPhaze/events{/privacy}",
      "received_events_url": "https://api.github.com/users/0xPhaze/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-01-28T13:53:24Z",
    "updated_at": "2023-01-28T13:53:24Z",
    "author_association": "NONE",
    "body": "I was also thinking that having the option to filter logs would be nice, but just to make sure: have you tried getting rid of some of those v's in `-vvv` regarding 2.? \r\n\r\nAnd not sure I understand 1. You want only the console.log traces to be shown? My first thought was to get rid of all console log call traces and only show the traces not relevant to debugging.",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1407403781/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1407484526",
    "html_url": "https://github.com/foundry-rs/foundry/issues/4195#issuecomment-1407484526",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/4195",
    "id": 1407484526,
    "node_id": "IC_kwDOGBlvNc5T5IJu",
    "user": {
      "login": "PaulRBerg",
      "id": 8782666,
      "node_id": "MDQ6VXNlcjg3ODI2NjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8782666?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/PaulRBerg",
      "html_url": "https://github.com/PaulRBerg",
      "followers_url": "https://api.github.com/users/PaulRBerg/followers",
      "following_url": "https://api.github.com/users/PaulRBerg/following{/other_user}",
      "gists_url": "https://api.github.com/users/PaulRBerg/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/PaulRBerg/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/PaulRBerg/subscriptions",
      "organizations_url": "https://api.github.com/users/PaulRBerg/orgs",
      "repos_url": "https://api.github.com/users/PaulRBerg/repos",
      "events_url": "https://api.github.com/users/PaulRBerg/events{/privacy}",
      "received_events_url": "https://api.github.com/users/PaulRBerg/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-01-28T20:46:01Z",
    "updated_at": "2023-01-28T20:46:01Z",
    "author_association": "CONTRIBUTOR",
    "body": "> have you tried getting rid of some of those v's in `-vvv` regarding 2.?\r\n\r\nYes. Using only three `v`s does lower the number of information shown but it doesn't but it doesn't do it in full. To use my [Foundry template]() as en example:\r\n\r\n```text\r\nRunning 1 test for test/Foo.t.sol:FooTest\r\n[FAIL. Reason: Assertion failed.] test_Example() (gas: 30971)\r\nLogs:\r\n  Hello World\r\n\r\nTraces:\r\n  [30971] FooTest::test_Example()\r\n    ├─ [0] console::log(Hello World) [staticcall]\r\n    │   └─ ← ()\r\n    ├─ emit Log(err: Error: Assertion Failed)\r\n    ├─ [0] VM::store(VM: [0x7109709ECfa91a80626fF3989D68f67F5b1DD12D], 0x6661696c65640000000000000000000000000000000000000000000000000000, 0x0000000000000000000000000000000000000000000000000000000000000001)\r\n    │   └─ ← ()\r\n    └─ ← ()\r\n\r\nTest result: FAILED. 0 passed; 1 failed; finished in 299.00µs\r\n\r\nFailing tests:\r\nEncountered 1 failing test in test/Foo.t.sol:FooTest\r\n[FAIL. Reason: Assertion failed.] test_Example() (gas: 30971)\r\n```\r\n\r\nMy feature request is to be able to hide everything except the console logs.\r\n\r\n\r\n> You want only the console.log traces to be shown?\r\n\r\nYup. I want to hone in on the variables that I am console logging.",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1407484526/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1447452979",
    "html_url": "https://github.com/foundry-rs/foundry/issues/4195#issuecomment-1447452979",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/4195",
    "id": 1447452979,
    "node_id": "IC_kwDOGBlvNc5WRmEz",
    "user": {
      "login": "mds1",
      "id": 17163988,
      "node_id": "MDQ6VXNlcjE3MTYzOTg4",
      "avatar_url": "https://avatars.githubusercontent.com/u/17163988?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mds1",
      "html_url": "https://github.com/mds1",
      "followers_url": "https://api.github.com/users/mds1/followers",
      "following_url": "https://api.github.com/users/mds1/following{/other_user}",
      "gists_url": "https://api.github.com/users/mds1/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mds1/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mds1/subscriptions",
      "organizations_url": "https://api.github.com/users/mds1/orgs",
      "repos_url": "https://api.github.com/users/mds1/repos",
      "events_url": "https://api.github.com/users/mds1/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mds1/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-02-28T02:02:22Z",
    "updated_at": "2023-02-28T02:02:22Z",
    "author_association": "COLLABORATOR",
    "body": "This can be done using just two v's, `-vv`, as shown below\r\n\r\n<img width=\"1680\" alt=\"image\" src=\"https://user-images.githubusercontent.com/17163988/221733759-189ee18d-cdf1-4974-bf5f-38619d5c670e.png\">\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1447452979/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1447674480",
    "html_url": "https://github.com/foundry-rs/foundry/issues/4195#issuecomment-1447674480",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/4195",
    "id": 1447674480,
    "node_id": "IC_kwDOGBlvNc5WScJw",
    "user": {
      "login": "PaulRBerg",
      "id": 8782666,
      "node_id": "MDQ6VXNlcjg3ODI2NjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8782666?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/PaulRBerg",
      "html_url": "https://github.com/PaulRBerg",
      "followers_url": "https://api.github.com/users/PaulRBerg/followers",
      "following_url": "https://api.github.com/users/PaulRBerg/following{/other_user}",
      "gists_url": "https://api.github.com/users/PaulRBerg/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/PaulRBerg/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/PaulRBerg/subscriptions",
      "organizations_url": "https://api.github.com/users/PaulRBerg/orgs",
      "repos_url": "https://api.github.com/users/PaulRBerg/repos",
      "events_url": "https://api.github.com/users/PaulRBerg/events{/privacy}",
      "received_events_url": "https://api.github.com/users/PaulRBerg/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-02-28T06:54:44Z",
    "updated_at": "2023-02-28T06:55:07Z",
    "author_association": "CONTRIBUTOR",
    "body": "My feature request was to be able to hide everything, including the status of the tests (\"PASS\", \"FAIL\"), except for the console logs.\n\n`-vv` or `-v` don't do that.",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1447674480/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1448289171",
    "html_url": "https://github.com/foundry-rs/foundry/issues/4195#issuecomment-1448289171",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/4195",
    "id": 1448289171,
    "node_id": "IC_kwDOGBlvNc5WUyOT",
    "user": {
      "login": "mds1",
      "id": 17163988,
      "node_id": "MDQ6VXNlcjE3MTYzOTg4",
      "avatar_url": "https://avatars.githubusercontent.com/u/17163988?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mds1",
      "html_url": "https://github.com/mds1",
      "followers_url": "https://api.github.com/users/mds1/followers",
      "following_url": "https://api.github.com/users/mds1/following{/other_user}",
      "gists_url": "https://api.github.com/users/mds1/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mds1/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mds1/subscriptions",
      "organizations_url": "https://api.github.com/users/mds1/orgs",
      "repos_url": "https://api.github.com/users/mds1/repos",
      "events_url": "https://api.github.com/users/mds1/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mds1/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-02-28T14:33:08Z",
    "updated_at": "2023-02-28T14:33:08Z",
    "author_association": "COLLABORATOR",
    "body": "Oh from the original comment it sounded like hiding traces and not logs. This feels like a bit of a footgun because if you have only logs, you don't know test status, don't know which test(s) logs are from, etc. But you can likely accomplish this with `forge test --silent --json | jq '..|.decoded_logs?'` or something similar (prob need to tweak the jq part a bit)",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1448289171/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1448314175",
    "html_url": "https://github.com/foundry-rs/foundry/issues/4195#issuecomment-1448314175",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/4195",
    "id": 1448314175,
    "node_id": "IC_kwDOGBlvNc5WU4U_",
    "user": {
      "login": "PaulRBerg",
      "id": 8782666,
      "node_id": "MDQ6VXNlcjg3ODI2NjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8782666?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/PaulRBerg",
      "html_url": "https://github.com/PaulRBerg",
      "followers_url": "https://api.github.com/users/PaulRBerg/followers",
      "following_url": "https://api.github.com/users/PaulRBerg/following{/other_user}",
      "gists_url": "https://api.github.com/users/PaulRBerg/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/PaulRBerg/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/PaulRBerg/subscriptions",
      "organizations_url": "https://api.github.com/users/PaulRBerg/orgs",
      "repos_url": "https://api.github.com/users/PaulRBerg/repos",
      "events_url": "https://api.github.com/users/PaulRBerg/events{/privacy}",
      "received_events_url": "https://api.github.com/users/PaulRBerg/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-02-28T14:48:00Z",
    "updated_at": "2023-02-28T14:48:00Z",
    "author_association": "CONTRIBUTOR",
    "body": "> This feels like a bit of a footgun\r\n\r\nFootgunality is sort of unrelated in this context because you'd first see which test failed, and then you'd hone in on that particular test.\r\n\r\n> But you can likely accomplish this with `forge test --silent --json | jq '..|.decoded_logs?'`\r\n\r\nThanks, I'll try that!",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1448314175/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
