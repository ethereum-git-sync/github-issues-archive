{
  "url": "https://api.github.com/repos/foundry-rs/foundry/issues/3201",
  "repository_url": "https://api.github.com/repos/foundry-rs/foundry",
  "labels_url": "https://api.github.com/repos/foundry-rs/foundry/issues/3201/labels{/name}",
  "comments_url": "https://api.github.com/repos/foundry-rs/foundry/issues/3201/comments",
  "events_url": "https://api.github.com/repos/foundry-rs/foundry/issues/3201/events",
  "html_url": "https://github.com/foundry-rs/foundry/issues/3201",
  "id": 1372098901,
  "node_id": "I_kwDOGBlvNc5RyJFV",
  "number": 3201,
  "title": "Configuration with libraries will affect all contracts' creationCode",
  "user": {
    "login": "ZhimaoL",
    "id": 21219146,
    "node_id": "MDQ6VXNlcjIxMjE5MTQ2",
    "avatar_url": "https://avatars.githubusercontent.com/u/21219146?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/ZhimaoL",
    "html_url": "https://github.com/ZhimaoL",
    "followers_url": "https://api.github.com/users/ZhimaoL/followers",
    "following_url": "https://api.github.com/users/ZhimaoL/following{/other_user}",
    "gists_url": "https://api.github.com/users/ZhimaoL/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/ZhimaoL/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/ZhimaoL/subscriptions",
    "organizations_url": "https://api.github.com/users/ZhimaoL/orgs",
    "repos_url": "https://api.github.com/users/ZhimaoL/repos",
    "events_url": "https://api.github.com/users/ZhimaoL/events{/privacy}",
    "received_events_url": "https://api.github.com/users/ZhimaoL/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 3334394231,
      "node_id": "MDU6TGFiZWwzMzM0Mzk0MjMx",
      "url": "https://api.github.com/repos/foundry-rs/foundry/labels/A-docs",
      "name": "A-docs",
      "color": "FBCA04",
      "default": false,
      "description": "Area: docs"
    },
    {
      "id": 3593644820,
      "node_id": "LA_kwDOGBlvNc7WMqsU",
      "url": "https://api.github.com/repos/foundry-rs/foundry/labels/T-feature",
      "name": "T-feature",
      "color": "BFD4F2",
      "default": false,
      "description": "Type: feature"
    },
    {
      "id": 3703752787,
      "node_id": "LA_kwDOGBlvNc7cwshT",
      "url": "https://api.github.com/repos/foundry-rs/foundry/labels/C-forge",
      "name": "C-forge",
      "color": "5319E7",
      "default": false,
      "description": "Command: forge"
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 1,
  "created_at": "2022-09-13T23:04:39Z",
  "updated_at": "2022-09-18T23:59:50Z",
  "closed_at": "2022-09-18T23:59:50Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "### Component\n\nForge\n\n### Describe the feature you would like\n\nAdd more descriptions on README to illustrate the expected behavior of \"libraries\" setting.\r\n\r\nWhen deploying our contracts using create2, we couldn't produce deterministic addresses across different networks.\r\n\r\nEventually found out it was caused by [libraries](https://book.getfoundry.sh/reference/config/solidity-compiler#libraries) which will change the result for all\r\n`type(somecontract).creationCode.`\r\n\r\nNot sure if this is the expected behavior, maybe add more description on the handbook will be better?\n\n### Additional context\n\n_No response_",
  "closed_by": {
    "login": "onbjerg",
    "id": 8862627,
    "node_id": "MDQ6VXNlcjg4NjI2Mjc=",
    "avatar_url": "https://avatars.githubusercontent.com/u/8862627?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/onbjerg",
    "html_url": "https://github.com/onbjerg",
    "followers_url": "https://api.github.com/users/onbjerg/followers",
    "following_url": "https://api.github.com/users/onbjerg/following{/other_user}",
    "gists_url": "https://api.github.com/users/onbjerg/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/onbjerg/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/onbjerg/subscriptions",
    "organizations_url": "https://api.github.com/users/onbjerg/orgs",
    "repos_url": "https://api.github.com/users/onbjerg/repos",
    "events_url": "https://api.github.com/users/onbjerg/events{/privacy}",
    "received_events_url": "https://api.github.com/users/onbjerg/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/3201/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/foundry-rs/foundry/issues/3201/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1250415651",
    "html_url": "https://github.com/foundry-rs/foundry/issues/3201#issuecomment-1250415651",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/3201",
    "id": 1250415651,
    "node_id": "IC_kwDOGBlvNc5Kh9Qj",
    "user": {
      "login": "onbjerg",
      "id": 8862627,
      "node_id": "MDQ6VXNlcjg4NjI2Mjc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8862627?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/onbjerg",
      "html_url": "https://github.com/onbjerg",
      "followers_url": "https://api.github.com/users/onbjerg/followers",
      "following_url": "https://api.github.com/users/onbjerg/following{/other_user}",
      "gists_url": "https://api.github.com/users/onbjerg/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/onbjerg/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/onbjerg/subscriptions",
      "organizations_url": "https://api.github.com/users/onbjerg/orgs",
      "repos_url": "https://api.github.com/users/onbjerg/repos",
      "events_url": "https://api.github.com/users/onbjerg/events{/privacy}",
      "received_events_url": "https://api.github.com/users/onbjerg/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-09-18T23:59:50Z",
    "updated_at": "2022-09-18T23:59:50Z",
    "author_association": "MEMBER",
    "body": "This is expected. When you link a library it replaces placeholder segments of the bytecode with concrete addresses. If the libraries are not deployed to the same address across all networks, then the bytecode will also change, resulting in a different address for your contracts. I'm closing this since it's not a bug, but if you think it would be helpful to clarify, feel free to open an issue in the book repository",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1250415651/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
