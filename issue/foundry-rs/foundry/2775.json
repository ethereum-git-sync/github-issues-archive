{
  "url": "https://api.github.com/repos/foundry-rs/foundry/issues/2775",
  "repository_url": "https://api.github.com/repos/foundry-rs/foundry",
  "labels_url": "https://api.github.com/repos/foundry-rs/foundry/issues/2775/labels{/name}",
  "comments_url": "https://api.github.com/repos/foundry-rs/foundry/issues/2775/comments",
  "events_url": "https://api.github.com/repos/foundry-rs/foundry/issues/2775/events",
  "html_url": "https://github.com/foundry-rs/foundry/issues/2775",
  "id": 1338957893,
  "node_id": "I_kwDOGBlvNc5PzuBF",
  "number": 2775,
  "title": "Trx to new contract failed with UNPREDICTABLE_GAS_LIMIT error",
  "user": {
    "login": "yoavigra",
    "id": 23295337,
    "node_id": "MDQ6VXNlcjIzMjk1MzM3",
    "avatar_url": "https://avatars.githubusercontent.com/u/23295337?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/yoavigra",
    "html_url": "https://github.com/yoavigra",
    "followers_url": "https://api.github.com/users/yoavigra/followers",
    "following_url": "https://api.github.com/users/yoavigra/following{/other_user}",
    "gists_url": "https://api.github.com/users/yoavigra/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/yoavigra/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/yoavigra/subscriptions",
    "organizations_url": "https://api.github.com/users/yoavigra/orgs",
    "repos_url": "https://api.github.com/users/yoavigra/repos",
    "events_url": "https://api.github.com/users/yoavigra/events{/privacy}",
    "received_events_url": "https://api.github.com/users/yoavigra/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 3334394228,
      "node_id": "MDU6TGFiZWwzMzM0Mzk0MjI4",
      "url": "https://api.github.com/repos/foundry-rs/foundry/labels/T-bug",
      "name": "T-bug",
      "color": "d73a4a",
      "default": false,
      "description": "Type: bug"
    },
    {
      "id": 4077188949,
      "node_id": "LA_kwDOGBlvNc7zBPdV",
      "url": "https://api.github.com/repos/foundry-rs/foundry/labels/C-anvil",
      "name": "C-anvil",
      "color": "5319E7",
      "default": false,
      "description": "Command: anvil"
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 9,
  "created_at": "2022-08-15T12:47:16Z",
  "updated_at": "2022-10-27T18:55:26Z",
  "closed_at": null,
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "### Component\n\nAnvil\n\n### Have you ensured that all of these are up to date?\n\n- [ ] Foundry\n- [ ] Foundryup\n\n### What version of Foundry are you on?\n\n_No response_\n\n### What command(s) is the bug in?\n\n_No response_\n\n### Operating System\n\n_No response_\n\n### Describe the bug\n\nHi, we are using the latest docker Anvil version, and we notice a difference between hardhat and anvil behavior when sending trx to newly deployed contract:\r\n\r\nwe deploy contact using ethers contract factory:\r\n<img width=\"944\" alt=\"image\" src=\"https://user-images.githubusercontent.com/23295337/184637365-c87b7a08-7dba-4f49-ac29-6d228830da4d.png\">\r\n\r\nwhen we send trx to the contract, we see that the trx got reverted with the following error :\r\nError: cannot estimate gas; transaction may fail or may require manual gas limit\r\n\r\nthe same code works when we switched using hardhat\r\n",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/2775/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/foundry-rs/foundry/issues/2775/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1214976315",
    "html_url": "https://github.com/foundry-rs/foundry/issues/2775#issuecomment-1214976315",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/2775",
    "id": 1214976315,
    "node_id": "IC_kwDOGBlvNc5IaxE7",
    "user": {
      "login": "mattsse",
      "id": 19890894,
      "node_id": "MDQ6VXNlcjE5ODkwODk0",
      "avatar_url": "https://avatars.githubusercontent.com/u/19890894?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mattsse",
      "html_url": "https://github.com/mattsse",
      "followers_url": "https://api.github.com/users/mattsse/followers",
      "following_url": "https://api.github.com/users/mattsse/following{/other_user}",
      "gists_url": "https://api.github.com/users/mattsse/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mattsse/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mattsse/subscriptions",
      "organizations_url": "https://api.github.com/users/mattsse/orgs",
      "repos_url": "https://api.github.com/users/mattsse/repos",
      "events_url": "https://api.github.com/users/mattsse/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mattsse/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-08-15T12:53:27Z",
    "updated_at": "2022-08-15T12:53:27Z",
    "author_association": "MEMBER",
    "body": "> Error: cannot estimate gas; transaction may fail or may require manual gas limit\r\n\r\nthis sounds like this happens because estimation fails?\r\n\r\n> when we send trx to the contract, we see that the trx got reverted with the following error :\r\n\r\ndo you mean the create tx, or tx to that deployed contract?\r\n\r\nany way for me to reproduce this?\r\n\r\ncould you try running with verbose logs `RUST_LOG=backend,api anvil`",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1214976315/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1214991298",
    "html_url": "https://github.com/foundry-rs/foundry/issues/2775#issuecomment-1214991298",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/2775",
    "id": 1214991298,
    "node_id": "IC_kwDOGBlvNc5Ia0vC",
    "user": {
      "login": "yoavigra",
      "id": 23295337,
      "node_id": "MDQ6VXNlcjIzMjk1MzM3",
      "avatar_url": "https://avatars.githubusercontent.com/u/23295337?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/yoavigra",
      "html_url": "https://github.com/yoavigra",
      "followers_url": "https://api.github.com/users/yoavigra/followers",
      "following_url": "https://api.github.com/users/yoavigra/following{/other_user}",
      "gists_url": "https://api.github.com/users/yoavigra/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/yoavigra/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/yoavigra/subscriptions",
      "organizations_url": "https://api.github.com/users/yoavigra/orgs",
      "repos_url": "https://api.github.com/users/yoavigra/repos",
      "events_url": "https://api.github.com/users/yoavigra/events{/privacy}",
      "received_events_url": "https://api.github.com/users/yoavigra/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-08-15T13:06:56Z",
    "updated_at": "2022-08-15T13:06:56Z",
    "author_association": "NONE",
    "body": "Thx @mattsse for the quick response. ill add the flag and add the logs.\r\nWe deployed the contract successfully, connect to it with a signer and then we create a trx (that got reverted) by calling one of our contract's method.",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1214991298/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1215000265",
    "html_url": "https://github.com/foundry-rs/foundry/issues/2775#issuecomment-1215000265",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/2775",
    "id": 1215000265,
    "node_id": "IC_kwDOGBlvNc5Ia27J",
    "user": {
      "login": "yoavigra",
      "id": 23295337,
      "node_id": "MDQ6VXNlcjIzMjk1MzM3",
      "avatar_url": "https://avatars.githubusercontent.com/u/23295337?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/yoavigra",
      "html_url": "https://github.com/yoavigra",
      "followers_url": "https://api.github.com/users/yoavigra/followers",
      "following_url": "https://api.github.com/users/yoavigra/following{/other_user}",
      "gists_url": "https://api.github.com/users/yoavigra/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/yoavigra/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/yoavigra/subscriptions",
      "organizations_url": "https://api.github.com/users/yoavigra/orgs",
      "repos_url": "https://api.github.com/users/yoavigra/repos",
      "events_url": "https://api.github.com/users/yoavigra/events{/privacy}",
      "received_events_url": "https://api.github.com/users/yoavigra/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-08-15T13:15:20Z",
    "updated_at": "2022-08-15T18:08:37Z",
    "author_association": "NONE",
    "body": "From the logs, we can see that the contract was deployed successfully:\r\n\r\n```\r\n\u001B[2m2022-08-15T13:09:01.496450Z\u001B[0m \u001B[35mTRACE\u001B[0m \u001B[2mbackend\u001B[0m\u001B[2m:\u001B[0m New contract deployed: at Some(0x1343248cbd4e291c6979e70a138f4c774e902561)\r\n```\r\n\r\nand here are the logs for the reverted trx:\r\n\r\n```\r\nm2022-08-15T13:09:04.923828Z\u001B[0m \u001B[35mTRACE\u001B[0m \u001B[2mbackend\u001B[0m\u001B[2m:\u001B[0m transaction_by_hash=0x45f04a836cb9b189dd7ee8038b49389896a549bca523eeb6f553dded9d135356\r\n\u001B[2m2022-08-15T13:09:04.923993Z\u001B[0m \u001B[35mTRACE\u001B[0m \u001B[2mbackend::fork\u001B[0m\u001B[2m:\u001B[0m transaction_by_hash=0x45f04a836cb9b189dd7ee8038b49389896a549bca523eeb6f553dded9d135356\r\n\u001B[2m2022-08-15T13:09:04.953616Z\u001B[0m \u001B[35mTRACE\u001B[0m \u001B[2mbackend\u001B[0m\u001B[2m:\u001B[0m [0x45f04a836cb9b189dd7ee8038b49389896a549bca523eeb6f553dded9d135356] executing\r\n\u001B[2m2022-08-15T13:09:04.953688Z\u001B[0m \u001B[35mTRACE\u001B[0m \u001B[2mbackend\u001B[0m\u001B[2m:\u001B[0m [0x45f04a836cb9b189dd7ee8038b49389896a549bca523eeb6f553dded9d135356] executed with out=Call(b\"\"), gas =21432\r\n\u001B[2m2022-08-15T13:09:04.953696Z\u001B[0m \u001B[35mTRACE\u001B[0m \u001B[2mbackend::executor\u001B[0m\u001B[2m:\u001B[0m transacted [0x45f04a836cb9b189dd7ee8038b49389896a549bca523eeb6f553dded9d135356], result: Stop gas 21432\r\n\u001B[2m2022-08-15T13:09:04.962833Z\u001B[0m \u001B[35mTRACE\u001B[0m \u001B[2mbackend\u001B[0m\u001B[2m:\u001B[0m creating new block with 1 transactions\r\n\u001B[2m2022-08-15T13:09:04.962890Z\u001B[0m \u001B[35mTRACE\u001B[0m \u001B[2mbackend\u001B[0m\u001B[2m:\u001B[0m [0x45f04a836cb9b189dd7ee8038b49389896a549bca523eeb6f553dded9d135356] executing\r\n\u001B[2m2022-08-15T13:09:04.962952Z\u001B[0m \u001B[35mTRACE\u001B[0m \u001B[2mbackend\u001B[0m\u001B[2m:\u001B[0m [0x45f04a836cb9b189dd7ee8038b49389896a549bca523eeb6f553dded9d135356] executed with out=Call(b\"\"), gas =21432\r\n\u001B[2m2022-08-15T13:09:04.962964Z\u001B[0m \u001B[35mTRACE\u001B[0m \u001B[2mbackend::executor\u001B[0m\u001B[2m:\u001B[0m transacted [0x45f04a836cb9b189dd7ee8038b49389896a549bca523eeb6f553dded9d135356], result: Stop gas 21432\r\n\u001B[2m2022-08-15T13:09:04.963034Z\u001B[0m \u001B[35mTRACE\u001B[0m \u001B[2mbackend\u001B[0m\u001B[2m:\u001B[0m Mined block 15166318 with 1 tx [0x45f04a836cb9b189dd7ee8038b49389896a549bca523eeb6f553dded9d135356]\r\n\u001B[2m2022-08-15T13:09:04.963049Z\u001B[0m \u001B[35mTRACE\u001B[0m \u001B[2mbackend::fees\u001B[0m\u001B[2m:\u001B[0m updated base fee 2035532466\r\n\u001B[2m2022-08-15T13:09:06.986596Z\u001B[0m \u001B[35mTRACE\u001B[0m \u001B[2mbackend\u001B[0m\u001B[2m:\u001B[0m creating new block with 0 transactions\r\n\u001B[2m2022-08-15T13:09:06.986684Z\u001B[0m \u001B[35mTRACE\u001B[0m \u001B[2mbackend\u001B[0m\u001B[2m:\u001B[0m Mined block 15166319 with 0 tx []\r\n\u001B[2m2022-08-15T13:09:06.986700Z\u001B[0m \u001B[35mTRACE\u001B[0m \u001B[2mbackend::fees\u001B[0m\u001B[2m:\u001B[0m updated base fee 1781090907\r\n\u001B[2m2022-08-15T13:09:08.988220Z\u001B[0m \u001B[35mTRACE\u001B[0m \u001B[2mbackend\u001B[0m\u001B[2m:\u001B[0m transaction_by_hash=0x45f04a836cb9b189dd7ee8038b49389896a549bca523eeb6f553dded9d135356\r\n\u001B[2m2022-08-15T13:09:09.015122Z\u001B[0m \u001B[35mTRACE\u001B[0m \u001B[2mbackend\u001B[0m\u001B[2m:\u001B[0m call return Revert out: Call(b\"\") gas 26097\r\n\u001B[2m2022-08-15T13:09:09.016035Z\u001B[0m \u001B[35mTRACE\u001B[0m \u001B[2mbackend\u001B[0m\u001B[2m:\u001B[0m creating new block with 0 transactions\r\n\u001B[2m2022-08-15T13:09:09.016122Z\u001B[0m \u001B[35mTRACE\u001B[0m \u001B[2mbackend\u001B[0m\u001B[2m:\u001B[0m Mined block 15166320 with 0 tx []\r\n\u001B[2m2022-08-15T13:09:09.016139Z\u001B[0m \u001B[35mTRACE\u001B[0m \u001B[2mbackend::fees\u001B[0m\u001B[2m:\u001B[0m updated base fee 1558454543\r\n```\r\n\r\nAdding the full logs txt file:\r\n[terminal-result.txt](https://github.com/foundry-rs/foundry/files/9337417/terminal-result.txt)\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1215000265/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1215227916",
    "html_url": "https://github.com/foundry-rs/foundry/issues/2775#issuecomment-1215227916",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/2775",
    "id": 1215227916,
    "node_id": "IC_kwDOGBlvNc5IbugM",
    "user": {
      "login": "mattsse",
      "id": 19890894,
      "node_id": "MDQ6VXNlcjE5ODkwODk0",
      "avatar_url": "https://avatars.githubusercontent.com/u/19890894?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mattsse",
      "html_url": "https://github.com/mattsse",
      "followers_url": "https://api.github.com/users/mattsse/followers",
      "following_url": "https://api.github.com/users/mattsse/following{/other_user}",
      "gists_url": "https://api.github.com/users/mattsse/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mattsse/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mattsse/subscriptions",
      "organizations_url": "https://api.github.com/users/mattsse/orgs",
      "repos_url": "https://api.github.com/users/mattsse/repos",
      "events_url": "https://api.github.com/users/mattsse/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mattsse/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-08-15T15:57:13Z",
    "updated_at": "2022-08-15T15:57:13Z",
    "author_association": "MEMBER",
    "body": "so the call definitely reverts\r\n\r\n> call return Revert out: Call(b\"\") gas 26097\r\n\r\nany reason the call of the contract would revert?",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1215227916/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1216579837",
    "html_url": "https://github.com/foundry-rs/foundry/issues/2775#issuecomment-1216579837",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/2775",
    "id": 1216579837,
    "node_id": "IC_kwDOGBlvNc5Ig4j9",
    "user": {
      "login": "yoavigra",
      "id": 23295337,
      "node_id": "MDQ6VXNlcjIzMjk1MzM3",
      "avatar_url": "https://avatars.githubusercontent.com/u/23295337?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/yoavigra",
      "html_url": "https://github.com/yoavigra",
      "followers_url": "https://api.github.com/users/yoavigra/followers",
      "following_url": "https://api.github.com/users/yoavigra/following{/other_user}",
      "gists_url": "https://api.github.com/users/yoavigra/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/yoavigra/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/yoavigra/subscriptions",
      "organizations_url": "https://api.github.com/users/yoavigra/orgs",
      "repos_url": "https://api.github.com/users/yoavigra/repos",
      "events_url": "https://api.github.com/users/yoavigra/events{/privacy}",
      "received_events_url": "https://api.github.com/users/yoavigra/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-08-16T12:38:16Z",
    "updated_at": "2022-08-16T12:38:16Z",
    "author_association": "NONE",
    "body": "We continue to actively investigate why this call might fail. the fact is that the same exact code running on hardhat, so we assume it might be related to the fact we are using one of the provided hardhat accounts (0xf39fd6e51aad88f6f4ce6ab8827279cfffb92266) as a signer. ill update when we will have additional insights",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1216579837/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1216644684",
    "html_url": "https://github.com/foundry-rs/foundry/issues/2775#issuecomment-1216644684",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/2775",
    "id": 1216644684,
    "node_id": "IC_kwDOGBlvNc5IhIZM",
    "user": {
      "login": "mattsse",
      "id": 19890894,
      "node_id": "MDQ6VXNlcjE5ODkwODk0",
      "avatar_url": "https://avatars.githubusercontent.com/u/19890894?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mattsse",
      "html_url": "https://github.com/mattsse",
      "followers_url": "https://api.github.com/users/mattsse/followers",
      "following_url": "https://api.github.com/users/mattsse/following{/other_user}",
      "gists_url": "https://api.github.com/users/mattsse/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mattsse/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mattsse/subscriptions",
      "organizations_url": "https://api.github.com/users/mattsse/orgs",
      "repos_url": "https://api.github.com/users/mattsse/repos",
      "events_url": "https://api.github.com/users/mattsse/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mattsse/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-08-16T13:32:33Z",
    "updated_at": "2022-08-16T13:32:33Z",
    "author_association": "MEMBER",
    "body": "> 0xf39fd6e51aad88f6f4ce6ab8827279cfffb92266\r\n\r\nthat's also an anvil dev account (anvil uses same mnemonic as hh)",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1216644684/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1221536568",
    "html_url": "https://github.com/foundry-rs/foundry/issues/2775#issuecomment-1221536568",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/2775",
    "id": 1221536568,
    "node_id": "IC_kwDOGBlvNc5Izys4",
    "user": {
      "login": "kubmichael",
      "id": 102899381,
      "node_id": "U_kgDOBiIetQ",
      "avatar_url": "https://avatars.githubusercontent.com/u/102899381?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kubmichael",
      "html_url": "https://github.com/kubmichael",
      "followers_url": "https://api.github.com/users/kubmichael/followers",
      "following_url": "https://api.github.com/users/kubmichael/following{/other_user}",
      "gists_url": "https://api.github.com/users/kubmichael/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kubmichael/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kubmichael/subscriptions",
      "organizations_url": "https://api.github.com/users/kubmichael/orgs",
      "repos_url": "https://api.github.com/users/kubmichael/repos",
      "events_url": "https://api.github.com/users/kubmichael/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kubmichael/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-08-21T12:30:59Z",
    "updated_at": "2022-08-21T12:30:59Z",
    "author_association": "CONTRIBUTOR",
    "body": "@mattsse , hey, is there are any updates on this issue or do you want some additional info from us that can help to investigate ?",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1221536568/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1221597089",
    "html_url": "https://github.com/foundry-rs/foundry/issues/2775#issuecomment-1221597089",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/2775",
    "id": 1221597089,
    "node_id": "IC_kwDOGBlvNc5I0Beh",
    "user": {
      "login": "mattsse",
      "id": 19890894,
      "node_id": "MDQ6VXNlcjE5ODkwODk0",
      "avatar_url": "https://avatars.githubusercontent.com/u/19890894?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mattsse",
      "html_url": "https://github.com/mattsse",
      "followers_url": "https://api.github.com/users/mattsse/followers",
      "following_url": "https://api.github.com/users/mattsse/following{/other_user}",
      "gists_url": "https://api.github.com/users/mattsse/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mattsse/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mattsse/subscriptions",
      "organizations_url": "https://api.github.com/users/mattsse/orgs",
      "repos_url": "https://api.github.com/users/mattsse/repos",
      "events_url": "https://api.github.com/users/mattsse/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mattsse/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-08-21T18:22:10Z",
    "updated_at": "2022-08-21T18:23:35Z",
    "author_association": "MEMBER",
    "body": "would need more context, ideally a repro, because this is an error that's thrown in `ethers-js`\r\n\r\nskimmed ethers-js and this is thrown when gas_limit is null and estimating gas fails for whatever reason:\r\n\r\n[if (tx.gasLimit == null) {](https://github.com/ethers-io/ethers.js/blob/01b5badbb616b29fd8b69ef7c3cc3833062da3d7/packages/abstract-signer/src.ts/index.ts#L295-L307)\r\n\r\nwhich would mean that estimating gas returns an error,\r\n\r\ncould you perhaps try test this via ethers what estimating the call returns?",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1221597089/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1293937574",
    "html_url": "https://github.com/foundry-rs/foundry/issues/2775#issuecomment-1293937574",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/2775",
    "id": 1293937574,
    "node_id": "IC_kwDOGBlvNc5NH-um",
    "user": {
      "login": "kubmichael",
      "id": 102899381,
      "node_id": "U_kgDOBiIetQ",
      "avatar_url": "https://avatars.githubusercontent.com/u/102899381?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kubmichael",
      "html_url": "https://github.com/kubmichael",
      "followers_url": "https://api.github.com/users/kubmichael/followers",
      "following_url": "https://api.github.com/users/kubmichael/following{/other_user}",
      "gists_url": "https://api.github.com/users/kubmichael/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kubmichael/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kubmichael/subscriptions",
      "organizations_url": "https://api.github.com/users/kubmichael/orgs",
      "repos_url": "https://api.github.com/users/kubmichael/repos",
      "events_url": "https://api.github.com/users/kubmichael/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kubmichael/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-10-27T18:55:26Z",
    "updated_at": "2022-10-27T18:55:26Z",
    "author_association": "CONTRIBUTOR",
    "body": "@mattsse, hey sorry for late response, issue can be related to bug that we observed during deploy contract, \r\n```\r\n   const ctr = new ethers.ContractFactory(abi, bytecode, account);\r\n   var deployed = await ctr.deploy(a, a, 1000000);  //  deployed.address - no contract deployed here\r\n   const a = await deployed.deployTransaction.wait() //a.contractAddress - contains contract code\r\n```\r\nit can be related to mining policies, because we didn't see issue with auto mine mode, but it  reproducible almost 100% with interval mining, but it is also can be coincidence\r\nHope it helps or if it is different issue, I can open a new one\r\n10x\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1293937574/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
