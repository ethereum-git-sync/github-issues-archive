{
  "url": "https://api.github.com/repos/foundry-rs/foundry/issues/2358",
  "repository_url": "https://api.github.com/repos/foundry-rs/foundry",
  "labels_url": "https://api.github.com/repos/foundry-rs/foundry/issues/2358/labels{/name}",
  "comments_url": "https://api.github.com/repos/foundry-rs/foundry/issues/2358/comments",
  "events_url": "https://api.github.com/repos/foundry-rs/foundry/issues/2358/events",
  "html_url": "https://github.com/foundry-rs/foundry/issues/2358",
  "id": 1307260964,
  "node_id": "I_kwDOGBlvNc5N6zgk",
  "number": 2358,
  "title": "Docker: provide image with a baseOS other than alpine",
  "user": {
    "login": "dmfxyz",
    "id": 100147743,
    "node_id": "U_kgDOBfgiHw",
    "avatar_url": "https://avatars.githubusercontent.com/u/100147743?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/dmfxyz",
    "html_url": "https://github.com/dmfxyz",
    "followers_url": "https://api.github.com/users/dmfxyz/followers",
    "following_url": "https://api.github.com/users/dmfxyz/following{/other_user}",
    "gists_url": "https://api.github.com/users/dmfxyz/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/dmfxyz/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/dmfxyz/subscriptions",
    "organizations_url": "https://api.github.com/users/dmfxyz/orgs",
    "repos_url": "https://api.github.com/users/dmfxyz/repos",
    "events_url": "https://api.github.com/users/dmfxyz/events{/privacy}",
    "received_events_url": "https://api.github.com/users/dmfxyz/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 3756509527,
      "node_id": "LA_kwDOGBlvNc7f58lX",
      "url": "https://api.github.com/repos/foundry-rs/foundry/labels/A-releases",
      "name": "A-releases",
      "color": "FBCA04",
      "default": false,
      "description": "Area: releases/packaging"
    },
    {
      "id": 3759719790,
      "node_id": "LA_kwDOGBlvNc7gGMVu",
      "url": "https://api.github.com/repos/foundry-rs/foundry/labels/P-low",
      "name": "P-low",
      "color": "D93F0B",
      "default": false,
      "description": "Priority: low"
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 13,
  "created_at": "2022-07-18T00:46:34Z",
  "updated_at": "2023-05-21T11:40:02Z",
  "closed_at": null,
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "### Component\n\nOther (please describe)\n\n### Describe the feature you would like\n\nAn additional docker image should be published with a baseOS such as debian or ubuntu. The Alpine image is good for small consistent builds, but providing an image with a more widely used OS would be helpful for more complicated docker use cases.\r\n\r\nThe image can also install `solc` either via inheriting the solc docker image or through more standard install channels, rather than the more complicated install required for using Alpine's `musl`. \n\n### Additional context\n\n_No response_",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/2358/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/foundry-rs/foundry/issues/2358/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1186648577",
    "html_url": "https://github.com/foundry-rs/foundry/issues/2358#issuecomment-1186648577",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/2358",
    "id": 1186648577,
    "node_id": "IC_kwDOGBlvNc5GutIB",
    "user": {
      "login": "dmfxyz",
      "id": 100147743,
      "node_id": "U_kgDOBfgiHw",
      "avatar_url": "https://avatars.githubusercontent.com/u/100147743?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dmfxyz",
      "html_url": "https://github.com/dmfxyz",
      "followers_url": "https://api.github.com/users/dmfxyz/followers",
      "following_url": "https://api.github.com/users/dmfxyz/following{/other_user}",
      "gists_url": "https://api.github.com/users/dmfxyz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dmfxyz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dmfxyz/subscriptions",
      "organizations_url": "https://api.github.com/users/dmfxyz/orgs",
      "repos_url": "https://api.github.com/users/dmfxyz/repos",
      "events_url": "https://api.github.com/users/dmfxyz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dmfxyz/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-07-18T00:46:56Z",
    "updated_at": "2022-07-18T00:46:56Z",
    "author_association": "CONTRIBUTOR",
    "body": "cc @sambacha and others -- any thoughts on debian v.s. ubuntu?",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1186648577/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1186650523",
    "html_url": "https://github.com/foundry-rs/foundry/issues/2358#issuecomment-1186650523",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/2358",
    "id": 1186650523,
    "node_id": "IC_kwDOGBlvNc5Gutmb",
    "user": {
      "login": "sambacha",
      "id": 32783916,
      "node_id": "MDQ6VXNlcjMyNzgzOTE2",
      "avatar_url": "https://avatars.githubusercontent.com/u/32783916?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sambacha",
      "html_url": "https://github.com/sambacha",
      "followers_url": "https://api.github.com/users/sambacha/followers",
      "following_url": "https://api.github.com/users/sambacha/following{/other_user}",
      "gists_url": "https://api.github.com/users/sambacha/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sambacha/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sambacha/subscriptions",
      "organizations_url": "https://api.github.com/users/sambacha/orgs",
      "repos_url": "https://api.github.com/users/sambacha/repos",
      "events_url": "https://api.github.com/users/sambacha/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sambacha/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-07-18T00:52:25Z",
    "updated_at": "2022-07-18T00:52:25Z",
    "author_association": "CONTRIBUTOR",
    "body": "Technically there is no reason why you couldn't just download the existing binary build and use that in the container image. You would have to add git but that would be it. The other thing possibly is ensuring same kernel as the underlying instance used to build the binary which is the github action container.\n\nThe multi stage container image can be additionally defined in a docker-bake.hcl file. \n\n\nAlternative to this approach is leveraging docker in the current build process as opposed to the github action workflow of using a provided instance. This could be leveraged for the purposes of caching build incremental stages to be used across branches potentially \n\n",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1186650523/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1217188815",
    "html_url": "https://github.com/foundry-rs/foundry/issues/2358#issuecomment-1217188815",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/2358",
    "id": 1217188815,
    "node_id": "IC_kwDOGBlvNc5IjNPP",
    "user": {
      "login": "sambacha",
      "id": 32783916,
      "node_id": "MDQ6VXNlcjMyNzgzOTE2",
      "avatar_url": "https://avatars.githubusercontent.com/u/32783916?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sambacha",
      "html_url": "https://github.com/sambacha",
      "followers_url": "https://api.github.com/users/sambacha/followers",
      "following_url": "https://api.github.com/users/sambacha/following{/other_user}",
      "gists_url": "https://api.github.com/users/sambacha/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sambacha/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sambacha/subscriptions",
      "organizations_url": "https://api.github.com/users/sambacha/orgs",
      "repos_url": "https://api.github.com/users/sambacha/repos",
      "events_url": "https://api.github.com/users/sambacha/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sambacha/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-08-16T21:33:17Z",
    "updated_at": "2022-08-16T21:33:17Z",
    "author_association": "CONTRIBUTOR",
    "body": "Have posted an issue that addresses some issues with running anvil in a container environment https://github.com/foundry-rs/foundry/issues/2806",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1217188815/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1463011482",
    "html_url": "https://github.com/foundry-rs/foundry/issues/2358#issuecomment-1463011482",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/2358",
    "id": 1463011482,
    "node_id": "IC_kwDOGBlvNc5XM8ia",
    "user": {
      "login": "dboreham",
      "id": 1649760,
      "node_id": "MDQ6VXNlcjE2NDk3NjA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1649760?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dboreham",
      "html_url": "https://github.com/dboreham",
      "followers_url": "https://api.github.com/users/dboreham/followers",
      "following_url": "https://api.github.com/users/dboreham/following{/other_user}",
      "gists_url": "https://api.github.com/users/dboreham/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dboreham/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dboreham/subscriptions",
      "organizations_url": "https://api.github.com/users/dboreham/orgs",
      "repos_url": "https://api.github.com/users/dboreham/repos",
      "events_url": "https://api.github.com/users/dboreham/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dboreham/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-03-10T00:00:33Z",
    "updated_at": "2023-03-10T00:00:33Z",
    "author_association": "NONE",
    "body": "I'm also interested in this due to wanting an ARM architecture image. I found that the Apline base image, or more accurately the glibc it uses doesn't build on aarm64.",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1463011482/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1554186663",
    "html_url": "https://github.com/foundry-rs/foundry/issues/2358#issuecomment-1554186663",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/2358",
    "id": 1554186663,
    "node_id": "IC_kwDOGBlvNc5cowGn",
    "user": {
      "login": "restlessronin",
      "id": 88921269,
      "node_id": "MDQ6VXNlcjg4OTIxMjY5",
      "avatar_url": "https://avatars.githubusercontent.com/u/88921269?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/restlessronin",
      "html_url": "https://github.com/restlessronin",
      "followers_url": "https://api.github.com/users/restlessronin/followers",
      "following_url": "https://api.github.com/users/restlessronin/following{/other_user}",
      "gists_url": "https://api.github.com/users/restlessronin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/restlessronin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/restlessronin/subscriptions",
      "organizations_url": "https://api.github.com/users/restlessronin/orgs",
      "repos_url": "https://api.github.com/users/restlessronin/repos",
      "events_url": "https://api.github.com/users/restlessronin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/restlessronin/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-05-19T07:53:22Z",
    "updated_at": "2023-05-19T07:53:22Z",
    "author_association": "NONE",
    "body": "I'm using a multi-stage build to include the foundry binaries in a node image (has to be alpine). I'm using the resulting image as a VS Code devcontainer.\r\n\r\nwithin the devcontainer forge is unable to install any dependencies because \"github.com\" is not getting resolved. I know that alpine is supposed to have DNS resolution issues (it's one reason many of the projects I work on have moved to debian slim), and I'm wondering if that's what's going on here.\r\n\r\nI would love to have an ubuntu/debian alternative for development. alpine is probably fine for production. I'm happy to work on the PR if it's something that's of interest.",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1554186663/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1554597688",
    "html_url": "https://github.com/foundry-rs/foundry/issues/2358#issuecomment-1554597688",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/2358",
    "id": 1554597688,
    "node_id": "IC_kwDOGBlvNc5cqUc4",
    "user": {
      "login": "dboreham",
      "id": 1649760,
      "node_id": "MDQ6VXNlcjE2NDk3NjA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1649760?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dboreham",
      "html_url": "https://github.com/dboreham",
      "followers_url": "https://api.github.com/users/dboreham/followers",
      "following_url": "https://api.github.com/users/dboreham/following{/other_user}",
      "gists_url": "https://api.github.com/users/dboreham/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dboreham/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dboreham/subscriptions",
      "organizations_url": "https://api.github.com/users/dboreham/orgs",
      "repos_url": "https://api.github.com/users/dboreham/repos",
      "events_url": "https://api.github.com/users/dboreham/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dboreham/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-05-19T13:44:35Z",
    "updated_at": "2023-05-19T13:44:35Z",
    "author_association": "NONE",
    "body": "The comment above jogged my memory on this issue. In the meantime I created a Dockerfile for Ubuntu which we are using successfully. It has the nice side effect that aarm64 works. \r\n\r\nhttps://github.com/dboreham/foundry/blob/cerc-release/Dockerfile-debian",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1554597688/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1554706174",
    "html_url": "https://github.com/foundry-rs/foundry/issues/2358#issuecomment-1554706174",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/2358",
    "id": 1554706174,
    "node_id": "IC_kwDOGBlvNc5cqu7-",
    "user": {
      "login": "restlessronin",
      "id": 88921269,
      "node_id": "MDQ6VXNlcjg4OTIxMjY5",
      "avatar_url": "https://avatars.githubusercontent.com/u/88921269?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/restlessronin",
      "html_url": "https://github.com/restlessronin",
      "followers_url": "https://api.github.com/users/restlessronin/followers",
      "following_url": "https://api.github.com/users/restlessronin/following{/other_user}",
      "gists_url": "https://api.github.com/users/restlessronin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/restlessronin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/restlessronin/subscriptions",
      "organizations_url": "https://api.github.com/users/restlessronin/orgs",
      "repos_url": "https://api.github.com/users/restlessronin/repos",
      "events_url": "https://api.github.com/users/restlessronin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/restlessronin/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-05-19T14:49:06Z",
    "updated_at": "2023-05-19T15:55:27Z",
    "author_association": "NONE",
    "body": "> The comment above jogged my memory on this issue. In the meantime I created a Dockerfile for Ubuntu which we are using successfully. It has the nice side effect that aarm64 works.\r\n> \r\n> https://github.com/dboreham/foundry/blob/cerc-release/Dockerfile-debian\r\n\r\nThanks for the quick response. I had just started work on my own Debian dockerfile and this will save me time. Are you able to build this dockerfile on macos? I'm having trouble with that. The actual cargo build process is taking a looong time (> 40 minutes) on my MacAir M1, and it's not completing by virtue of getting (multiple) SIGKILL signal(s). Is there some timeout that might be causing this? To be fair, the debian dockerfile I was working on was having the exact same issue.\r\n\r\nEDIT. I especially like how you use the rust image for the first stage of the build. seems like that's something the official dockerfile should use as well.",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1554706174/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1554797747",
    "html_url": "https://github.com/foundry-rs/foundry/issues/2358#issuecomment-1554797747",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/2358",
    "id": 1554797747,
    "node_id": "IC_kwDOGBlvNc5crFSz",
    "user": {
      "login": "dboreham",
      "id": 1649760,
      "node_id": "MDQ6VXNlcjE2NDk3NjA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1649760?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dboreham",
      "html_url": "https://github.com/dboreham",
      "followers_url": "https://api.github.com/users/dboreham/followers",
      "following_url": "https://api.github.com/users/dboreham/following{/other_user}",
      "gists_url": "https://api.github.com/users/dboreham/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dboreham/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dboreham/subscriptions",
      "organizations_url": "https://api.github.com/users/dboreham/orgs",
      "repos_url": "https://api.github.com/users/dboreham/repos",
      "events_url": "https://api.github.com/users/dboreham/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dboreham/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-05-19T16:06:09Z",
    "updated_at": "2023-05-19T16:06:09Z",
    "author_association": "NONE",
    "body": "> Thanks for the quick response. I had just started work on my own Debian dockerfile and this will save me time. Are you able to build this dockerfile on macos? \r\n\r\nI believe it does build on macos based on colleagues not complaining, but my mac is in another location so I can't check rn. I am generally building on Linux. One thing that might be relevant is that I don't get along with the newfangled buildkit docker build mechanism, so I have it globally disabled. That might explain the difference.\r\n\r\nWe build the image with this script:\r\nhttps://github.com/cerc-io/stack-orchestrator/blob/main/app/data/container-build/cerc-foundry/build.sh\r\n\r\nAnd some environment variables (including `DOCKER_BUILDKIT=0`) defined here:\r\nhttps://github.com/cerc-io/stack-orchestrator/blob/main/app/build_containers.py#L93\r\n\r\nThe equivalent bare docker command should look something like:\r\n\r\n```\r\n$ DOCKER_BUILDKIT=0 docker build -t myorg/foundry:test -f ~/my_project/foundry/Dockerfile-debian ./foundry \r\n```\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1554797747/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1555033943",
    "html_url": "https://github.com/foundry-rs/foundry/issues/2358#issuecomment-1555033943",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/2358",
    "id": 1555033943,
    "node_id": "IC_kwDOGBlvNc5cr-9X",
    "user": {
      "login": "restlessronin",
      "id": 88921269,
      "node_id": "MDQ6VXNlcjg4OTIxMjY5",
      "avatar_url": "https://avatars.githubusercontent.com/u/88921269?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/restlessronin",
      "html_url": "https://github.com/restlessronin",
      "followers_url": "https://api.github.com/users/restlessronin/followers",
      "following_url": "https://api.github.com/users/restlessronin/following{/other_user}",
      "gists_url": "https://api.github.com/users/restlessronin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/restlessronin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/restlessronin/subscriptions",
      "organizations_url": "https://api.github.com/users/restlessronin/orgs",
      "repos_url": "https://api.github.com/users/restlessronin/repos",
      "events_url": "https://api.github.com/users/restlessronin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/restlessronin/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-05-19T17:56:23Z",
    "updated_at": "2023-05-19T17:56:23Z",
    "author_association": "NONE",
    "body": "I tried building the image on the mac without success. tried both with and without buildkit. I'm getting this error message\r\n```\r\nerror: could not compile `chisel`\r\n\r\nCaused by:\r\n  process didn't exit successfully: `rustc --crate-name chisel --edition=2021 chisel/src/bin/chisel.rs --error-format=json --json=diagnostic-rendered-ansi,artifacts,future-incompat --crate-type bin --emit=dep-info,link -C opt-level=s -C panic=abort -C lto=fat -C codegen-units=1 -C debuginfo=0 -C metadata=658c69e56c8aab7f -C extra-filename=-658c69e56c8aab7f --out-dir /opt/foundry/target/release/deps -C strip=symbols -L dependency=/opt/foundry/target/release/deps --extern bytes=/opt/foundry/target/release/deps/libbytes-869a7e814bcd8a56.rlib --extern chisel=/opt/foundry/target/release/deps/libchisel-449e9bc336a9ea56.rlib --extern clap=/opt/foundry/target/release/deps/libclap-06bc9c63832084cd.rlib --extern dirs=/opt/foundry/target/release/deps/libdirs-1ed11cfbd75b6525.rlib --extern ethers=/opt/foundry/target/release/deps/libethers-a6720983bc43e76f.rlib --extern ethers_solc=/opt/foundry/target/release/deps/libethers_solc-85b023c2b09db0e4.rlib --extern eyre=/opt/foundry/target/release/deps/libeyre-4b95cdfcca21da03.rlib --extern forge=/opt/foundry/target/release/deps/libforge-2334b267d445e747.rlib --extern forge_fmt=/opt/foundry/target/release/deps/libforge_fmt-95d8f5082c14fbe9.rlib --extern foundry_cli=/opt/foundry/target/release/deps/libfoundry_cli-8cd2ec41e5c3e508.rlib --extern foundry_common=/opt/foundry/target/release/deps/libfoundry_common-6a72742d0921fa66.rlib --extern foundry_config=/opt/foundry/target/release/deps/libfoundry_config-1c7715c4d255562a.rlib --extern foundry_evm=/opt/foundry/target/release/deps/libfoundry_evm-707da9e6497fccf1.rlib --extern regex=/opt/foundry/target/release/deps/libregex-12987167d57b7417.rlib --extern reqwest=/opt/foundry/target/release/deps/libreqwest-843e521918a31ae5.rlib --extern revm=/opt/foundry/target/release/deps/librevm-1a45a8a38264ea6e.rlib --extern rustyline=/opt/foundry/target/release/deps/librustyline-f9c27fdc2222faf3.rlib --extern semver=/opt/foundry/target/release/deps/libsemver-6cb7a215443a1609.rlib --extern serde=/opt/foundry/target/release/deps/libserde-01a40712e066ccde.rlib --extern serde_json=/opt/foundry/target/release/deps/libserde_json-7b20c297a369cf1a.rlib --extern solang_parser=/opt/foundry/target/release/deps/libsolang_parser-3e7ac28671f99851.rlib --extern strum=/opt/foundry/target/release/deps/libstrum-fcd0ca9a2ff710b2.rlib --extern time=/opt/foundry/target/release/deps/libtime-6f69082fe90bd259.rlib --extern tokio=/opt/foundry/target/release/deps/libtokio-c632dbf509de05f1.rlib --extern yansi=/opt/foundry/target/release/deps/libyansi-8566a9302a7fd272.rlib -L native=/opt/foundry/target/release/build/ring-7578e67c233d9ce7/out -L native=/opt/foundry/target/release/build/hidapi-rusb-b0137340eb0996d7/out -L native=/opt/foundry/target/release/build/libusb1-sys-420c35fad0324e67/out -L native=/opt/foundry/target/release/build/secp256k1-sys-ff70be01f7d15f46/out` (signal: 9, SIGKILL: kill)\r\nwarning: build failed, waiting for other jobs to finish...\r\n```\r\nand similar messages for compilation of `foundry-cli`.\r\n\r\nI'm unsure if this is MacOs related. I'll see if I can try building on a linux box and see how far that goes.",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1555033943/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1555086647",
    "html_url": "https://github.com/foundry-rs/foundry/issues/2358#issuecomment-1555086647",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/2358",
    "id": 1555086647,
    "node_id": "IC_kwDOGBlvNc5csL03",
    "user": {
      "login": "dboreham",
      "id": 1649760,
      "node_id": "MDQ6VXNlcjE2NDk3NjA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1649760?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dboreham",
      "html_url": "https://github.com/dboreham",
      "followers_url": "https://api.github.com/users/dboreham/followers",
      "following_url": "https://api.github.com/users/dboreham/following{/other_user}",
      "gists_url": "https://api.github.com/users/dboreham/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dboreham/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dboreham/subscriptions",
      "organizations_url": "https://api.github.com/users/dboreham/orgs",
      "repos_url": "https://api.github.com/users/dboreham/repos",
      "events_url": "https://api.github.com/users/dboreham/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dboreham/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-05-19T18:43:16Z",
    "updated_at": "2023-05-19T18:43:16Z",
    "author_association": "NONE",
    "body": "Ohhh...actually this rings a bell now. The problem isn't related to macos, rather it's due to Rust being a resource pig. You should find that if you increase the memory allocated to the Docker Linux VM (or run on a bigger machine), then the problem will go away. We had to publish a pre-built image for low-end mac users for this exact reason. It's here if anyone needs it: https://git.vdb.to/cerc-io/-/packages/container/foundry/latest",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1555086647/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1555736968",
    "html_url": "https://github.com/foundry-rs/foundry/issues/2358#issuecomment-1555736968",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/2358",
    "id": 1555736968,
    "node_id": "IC_kwDOGBlvNc5cuqmI",
    "user": {
      "login": "restlessronin",
      "id": 88921269,
      "node_id": "MDQ6VXNlcjg4OTIxMjY5",
      "avatar_url": "https://avatars.githubusercontent.com/u/88921269?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/restlessronin",
      "html_url": "https://github.com/restlessronin",
      "followers_url": "https://api.github.com/users/restlessronin/followers",
      "following_url": "https://api.github.com/users/restlessronin/following{/other_user}",
      "gists_url": "https://api.github.com/users/restlessronin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/restlessronin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/restlessronin/subscriptions",
      "organizations_url": "https://api.github.com/users/restlessronin/orgs",
      "repos_url": "https://api.github.com/users/restlessronin/repos",
      "events_url": "https://api.github.com/users/restlessronin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/restlessronin/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-05-20T06:54:49Z",
    "updated_at": "2023-05-20T06:54:49Z",
    "author_association": "NONE",
    "body": "I'm trying to use the pre-built image you linked, but it's a \"linux/amd64\" image. I'm getting QEMU errors on my M1 when I try to run `forge` from the image.",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1555736968/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1555915115",
    "html_url": "https://github.com/foundry-rs/foundry/issues/2358#issuecomment-1555915115",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/2358",
    "id": 1555915115,
    "node_id": "IC_kwDOGBlvNc5cvWFr",
    "user": {
      "login": "dboreham",
      "id": 1649760,
      "node_id": "MDQ6VXNlcjE2NDk3NjA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1649760?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dboreham",
      "html_url": "https://github.com/dboreham",
      "followers_url": "https://api.github.com/users/dboreham/followers",
      "following_url": "https://api.github.com/users/dboreham/following{/other_user}",
      "gists_url": "https://api.github.com/users/dboreham/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dboreham/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dboreham/subscriptions",
      "organizations_url": "https://api.github.com/users/dboreham/orgs",
      "repos_url": "https://api.github.com/users/dboreham/repos",
      "events_url": "https://api.github.com/users/dboreham/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dboreham/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-05-20T13:45:37Z",
    "updated_at": "2023-05-20T13:45:37Z",
    "author_association": "NONE",
    "body": "I can push an aarm64 image.",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1555915115/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1555951572",
    "html_url": "https://github.com/foundry-rs/foundry/issues/2358#issuecomment-1555951572",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/2358",
    "id": 1555951572,
    "node_id": "IC_kwDOGBlvNc5cve_U",
    "user": {
      "login": "restlessronin",
      "id": 88921269,
      "node_id": "MDQ6VXNlcjg4OTIxMjY5",
      "avatar_url": "https://avatars.githubusercontent.com/u/88921269?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/restlessronin",
      "html_url": "https://github.com/restlessronin",
      "followers_url": "https://api.github.com/users/restlessronin/followers",
      "following_url": "https://api.github.com/users/restlessronin/following{/other_user}",
      "gists_url": "https://api.github.com/users/restlessronin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/restlessronin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/restlessronin/subscriptions",
      "organizations_url": "https://api.github.com/users/restlessronin/orgs",
      "repos_url": "https://api.github.com/users/restlessronin/repos",
      "events_url": "https://api.github.com/users/restlessronin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/restlessronin/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-05-20T16:55:55Z",
    "updated_at": "2023-05-21T11:40:02Z",
    "author_association": "NONE",
    "body": "Thanks.  I wound up building a multi-arch image on a hosted container, it's on docker hub at https://hub.docker.com/r/restlessronin/foundry.\r\n\r\nIt seems to work fine as part of a multi-stage dockerfile used as a VS Code devcontainer. Also works on M1.",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1555951572/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
