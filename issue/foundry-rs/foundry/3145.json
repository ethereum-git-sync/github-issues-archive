{
  "url": "https://api.github.com/repos/foundry-rs/foundry/issues/3145",
  "repository_url": "https://api.github.com/repos/foundry-rs/foundry",
  "labels_url": "https://api.github.com/repos/foundry-rs/foundry/issues/3145/labels{/name}",
  "comments_url": "https://api.github.com/repos/foundry-rs/foundry/issues/3145/comments",
  "events_url": "https://api.github.com/repos/foundry-rs/foundry/issues/3145/events",
  "html_url": "https://github.com/foundry-rs/foundry/issues/3145",
  "id": 1367765730,
  "node_id": "I_kwDOGBlvNc5RhnLi",
  "number": 3145,
  "title": "Forge Script could not estimate Gas",
  "user": {
    "login": "MiguelBits",
    "id": 15989933,
    "node_id": "MDQ6VXNlcjE1OTg5OTMz",
    "avatar_url": "https://avatars.githubusercontent.com/u/15989933?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/MiguelBits",
    "html_url": "https://github.com/MiguelBits",
    "followers_url": "https://api.github.com/users/MiguelBits/followers",
    "following_url": "https://api.github.com/users/MiguelBits/following{/other_user}",
    "gists_url": "https://api.github.com/users/MiguelBits/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/MiguelBits/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/MiguelBits/subscriptions",
    "organizations_url": "https://api.github.com/users/MiguelBits/orgs",
    "repos_url": "https://api.github.com/users/MiguelBits/repos",
    "events_url": "https://api.github.com/users/MiguelBits/events{/privacy}",
    "received_events_url": "https://api.github.com/users/MiguelBits/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 3334394228,
      "node_id": "MDU6TGFiZWwzMzM0Mzk0MjI4",
      "url": "https://api.github.com/repos/foundry-rs/foundry/labels/T-bug",
      "name": "T-bug",
      "color": "d73a4a",
      "default": false,
      "description": "Type: bug"
    },
    {
      "id": 3703752787,
      "node_id": "LA_kwDOGBlvNc7cwshT",
      "url": "https://api.github.com/repos/foundry-rs/foundry/labels/C-forge",
      "name": "C-forge",
      "color": "5319E7",
      "default": false,
      "description": "Command: forge"
    },
    {
      "id": 4182991461,
      "node_id": "LA_kwDOGBlvNc75U2Jl",
      "url": "https://api.github.com/repos/foundry-rs/foundry/labels/Cmd-forge-script",
      "name": "Cmd-forge-script",
      "color": "006B75",
      "default": false,
      "description": "Command: forge script"
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 4,
  "created_at": "2022-09-08T19:53:43Z",
  "updated_at": "2023-04-11T22:12:51Z",
  "closed_at": "2023-04-11T22:12:51Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "So I am forking olympus, and using forge scripts to deploy it.   \r\nIt says transaction could not estimate gas, when deploying too many events. I comment them out and it works.    \r\nHow can I not get this error? Would rather not change the olympus codebase.  \r\nIt also uses my Ethereum to deploy all contracts, my when it reaches the fail point it does not revert",
  "closed_by": {
    "login": "mds1",
    "id": 17163988,
    "node_id": "MDQ6VXNlcjE3MTYzOTg4",
    "avatar_url": "https://avatars.githubusercontent.com/u/17163988?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/mds1",
    "html_url": "https://github.com/mds1",
    "followers_url": "https://api.github.com/users/mds1/followers",
    "following_url": "https://api.github.com/users/mds1/following{/other_user}",
    "gists_url": "https://api.github.com/users/mds1/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/mds1/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/mds1/subscriptions",
    "organizations_url": "https://api.github.com/users/mds1/orgs",
    "repos_url": "https://api.github.com/users/mds1/repos",
    "events_url": "https://api.github.com/users/mds1/events{/privacy}",
    "received_events_url": "https://api.github.com/users/mds1/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/3145/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/foundry-rs/foundry/issues/3145/timeline",
  "performed_via_github_app": null,
  "state_reason": "not_planned"
}
[
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1241921851",
    "html_url": "https://github.com/foundry-rs/foundry/issues/3145#issuecomment-1241921851",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/3145",
    "id": 1241921851,
    "node_id": "IC_kwDOGBlvNc5KBjk7",
    "user": {
      "login": "MiguelBits",
      "id": 15989933,
      "node_id": "MDQ6VXNlcjE1OTg5OTMz",
      "avatar_url": "https://avatars.githubusercontent.com/u/15989933?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MiguelBits",
      "html_url": "https://github.com/MiguelBits",
      "followers_url": "https://api.github.com/users/MiguelBits/followers",
      "following_url": "https://api.github.com/users/MiguelBits/following{/other_user}",
      "gists_url": "https://api.github.com/users/MiguelBits/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MiguelBits/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MiguelBits/subscriptions",
      "organizations_url": "https://api.github.com/users/MiguelBits/orgs",
      "repos_url": "https://api.github.com/users/MiguelBits/repos",
      "events_url": "https://api.github.com/users/MiguelBits/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MiguelBits/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-09-08T19:54:55Z",
    "updated_at": "2022-09-08T19:55:14Z",
    "author_association": "NONE",
    "body": "```// SPDX-License-Identifier: UNLICENSED\r\npragma solidity ^0.7.5;\r\n\r\nimport \"forge-std/Script.sol\";\r\nimport \"../src/BondDepositor.sol\";\r\nimport \"../src/OlympusAuthority.sol\";\r\nimport \"../src/interfaces/IOlympusAuthority.sol\";\r\nimport \"../src/interfaces/IgOHM.sol\";\r\nimport \"../src/interfaces/IERC20.sol\";\r\nimport \"../src/Staking.sol\";\r\nimport \"../src/interfaces/IStaking.sol\";\r\nimport \"../src/Treasury.sol\";\r\nimport \"../src/interfaces/ITreasury.sol\";\r\nimport \"../src/governance/gOHM.sol\";\r\nimport \"../src/sOlympusERC20.sol\";\r\nimport \"../src/OlympusERC20.sol\";\r\n\r\n//forge script script/DeployContract.s.sol:DeployBondScript --rpc-url $ARBITRUM_RINKEBY_RPC_URL  --private-key $PRIVATE_KEY --broadcast -vvvv\r\n\r\ncontract DeployBondScript is Script {\r\n\r\n    OlympusBondDepositoryV2 bondDepositor;\r\n    OlympusAuthority authority;\r\n    OlympusStaking staking;\r\n    OlympusTreasury treasury;\r\n    gOHM gohm;\r\n    sOlympus sohm;\r\n    OlympusERC20Token ohm;\r\n\r\n    //authority arguments\r\n    address governer = address(1);\r\n    address guardian = address(2);\r\n    address policy = address(3);\r\n    address vault = address(4);\r\n\r\n    //staking arguments\r\n    uint256 epochLength = 0;\r\n    uint256 firstEpochNumber = 0;\r\n    uint256 firstEpochTime = 0;\r\n\r\n    //treasury arguments\r\n    uint256 timelock = 0;\r\n\r\n    function setUp() public {}\r\n\r\n    function run() public {\r\n        vm.startBroadcast();\r\n\r\n        //Deploy ohm\r\n        ohm = new OlympusERC20Token(governer);\r\n\r\n        //Deploy sOhm\r\n        sohm = new sOlympus();\r\n\r\n        //Deploy gOhm\r\n        gohm = new gOHM(governer, address(sohm));\r\n\r\n        //Deploy Staking TODO: init arguments\r\n        staking = new OlympusStaking(address(ohm), address(sohm), address(gohm), epochLength, firstEpochNumber, firstEpochTime, address(authority));\r\n\r\n        // Deploy the Authority\r\n        authority = new OlympusAuthority(msg.sender, msg.sender, msg.sender, msg.sender);\r\n\r\n        //Deploy Treasury\r\n        treasury = new OlympusTreasury(address(ohm), timelock, address(authority));\r\n\r\n        // Deploy the bond contract\r\n        bondDepositor = new OlympusBondDepositoryV2(IOlympusAuthority(address(authority)), IERC20(address(ohm)), IgOHM(address(gohm)), IStaking(address(staking)), ITreasury(address(treasury)));\r\n\r\n        console2.log(\"ohm address: \", address(ohm));\r\n        console2.log(\"sohm address: \", address(sohm));\r\n        console2.log(\"gohm address: \", address(gohm));\r\n        console2.log(\"staking address: \", address(staking));\r\n        console2.log(\"authority address: \", address(authority));\r\n        console2.log(\"treasury address: \", address(treasury));\r\n        console2.log(\"bondDepositor address: \", address(bondDepositor));\r\n\r\n        vm.stopBroadcast();\r\n    }\r\n}\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1241921851/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1241922645",
    "html_url": "https://github.com/foundry-rs/foundry/issues/3145#issuecomment-1241922645",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/3145",
    "id": 1241922645,
    "node_id": "IC_kwDOGBlvNc5KBjxV",
    "user": {
      "login": "onbjerg",
      "id": 8862627,
      "node_id": "MDQ6VXNlcjg4NjI2Mjc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8862627?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/onbjerg",
      "html_url": "https://github.com/onbjerg",
      "followers_url": "https://api.github.com/users/onbjerg/followers",
      "following_url": "https://api.github.com/users/onbjerg/following{/other_user}",
      "gists_url": "https://api.github.com/users/onbjerg/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/onbjerg/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/onbjerg/subscriptions",
      "organizations_url": "https://api.github.com/users/onbjerg/orgs",
      "repos_url": "https://api.github.com/users/onbjerg/repos",
      "events_url": "https://api.github.com/users/onbjerg/events{/privacy}",
      "received_events_url": "https://api.github.com/users/onbjerg/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-09-09T12:34:07Z",
    "updated_at": "2022-09-09T12:34:07Z",
    "author_association": "MEMBER",
    "body": "Please don't open issues unrelated to the book in the book repository",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1241922645/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1241937120",
    "html_url": "https://github.com/foundry-rs/foundry/issues/3145#issuecomment-1241937120",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/3145",
    "id": 1241937120,
    "node_id": "IC_kwDOGBlvNc5KBnTg",
    "user": {
      "login": "mattsse",
      "id": 19890894,
      "node_id": "MDQ6VXNlcjE5ODkwODk0",
      "avatar_url": "https://avatars.githubusercontent.com/u/19890894?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mattsse",
      "html_url": "https://github.com/mattsse",
      "followers_url": "https://api.github.com/users/mattsse/followers",
      "following_url": "https://api.github.com/users/mattsse/following{/other_user}",
      "gists_url": "https://api.github.com/users/mattsse/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mattsse/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mattsse/subscriptions",
      "organizations_url": "https://api.github.com/users/mattsse/orgs",
      "repos_url": "https://api.github.com/users/mattsse/repos",
      "events_url": "https://api.github.com/users/mattsse/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mattsse/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-09-09T12:49:18Z",
    "updated_at": "2022-09-09T12:49:18Z",
    "author_association": "MEMBER",
    "body": "could please elaborate a bit more on the issue you're facing from reading this it's not perfectly clear to me I'm afraid\r\n\r\n> So I am forking olympus, and using forge scripts to deploy it.\r\n\r\non arbitrum?\r\n\r\n> It says transaction could not estimate gas, when deploying too many events. I comment them out and it works.\r\n\r\nwhat's the error? what command?\r\n\r\n> It also uses my Ethereum to deploy all contracts, my when it reaches the fail point it does not revert\r\n\r\nwhat's the fail point? it succeeds but there should be an error? ",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1241937120/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1504195178",
    "html_url": "https://github.com/foundry-rs/foundry/issues/3145#issuecomment-1504195178",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/3145",
    "id": 1504195178,
    "node_id": "IC_kwDOGBlvNc5ZqDJq",
    "user": {
      "login": "mds1",
      "id": 17163988,
      "node_id": "MDQ6VXNlcjE3MTYzOTg4",
      "avatar_url": "https://avatars.githubusercontent.com/u/17163988?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mds1",
      "html_url": "https://github.com/mds1",
      "followers_url": "https://api.github.com/users/mds1/followers",
      "following_url": "https://api.github.com/users/mds1/following{/other_user}",
      "gists_url": "https://api.github.com/users/mds1/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mds1/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mds1/subscriptions",
      "organizations_url": "https://api.github.com/users/mds1/orgs",
      "repos_url": "https://api.github.com/users/mds1/repos",
      "events_url": "https://api.github.com/users/mds1/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mds1/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-04-11T22:12:51Z",
    "updated_at": "2023-04-11T22:12:51Z",
    "author_association": "COLLABORATOR",
    "body": "Going to close this as stale.\r\n\r\n@MiguelBits if you can answer @mattsse's questions and provide a repo we can clone/run to reproduce that would be great, and we can reopen",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1504195178/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
