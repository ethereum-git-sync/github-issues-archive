{
  "url": "https://api.github.com/repos/foundry-rs/foundry/issues/3871",
  "repository_url": "https://api.github.com/repos/foundry-rs/foundry",
  "labels_url": "https://api.github.com/repos/foundry-rs/foundry/issues/3871/labels{/name}",
  "comments_url": "https://api.github.com/repos/foundry-rs/foundry/issues/3871/comments",
  "events_url": "https://api.github.com/repos/foundry-rs/foundry/issues/3871/events",
  "html_url": "https://github.com/foundry-rs/foundry/issues/3871",
  "id": 1489780400,
  "node_id": "I_kwDOGBlvNc5YzD6w",
  "number": 3871,
  "title": "Add `rpcUrls` non-throwing variant",
  "user": {
    "login": "adhusson",
    "id": 2977,
    "node_id": "MDQ6VXNlcjI5Nzc=",
    "avatar_url": "https://avatars.githubusercontent.com/u/2977?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/adhusson",
    "html_url": "https://github.com/adhusson",
    "followers_url": "https://api.github.com/users/adhusson/followers",
    "following_url": "https://api.github.com/users/adhusson/following{/other_user}",
    "gists_url": "https://api.github.com/users/adhusson/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/adhusson/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/adhusson/subscriptions",
    "organizations_url": "https://api.github.com/users/adhusson/orgs",
    "repos_url": "https://api.github.com/users/adhusson/repos",
    "events_url": "https://api.github.com/users/adhusson/events{/privacy}",
    "received_events_url": "https://api.github.com/users/adhusson/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 3593644820,
      "node_id": "LA_kwDOGBlvNc7WMqsU",
      "url": "https://api.github.com/repos/foundry-rs/foundry/labels/T-feature",
      "name": "T-feature",
      "color": "BFD4F2",
      "default": false,
      "description": "Type: feature"
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2022-12-11T10:21:10Z",
  "updated_at": "2022-12-13T10:51:24Z",
  "closed_at": null,
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "### Component\n\nForge\n\n### Describe the feature you would like\n\nAdd a parameter to `rpcUrl[Structs]*` to not throw when an entry is not found.\r\n\r\n## Rationale\r\nBy default, foundry lazy-loads all `[rpc_endpoint]` entries, but those 2 cheatcodes prevent loading only the well-defined entries.\r\n\r\n## Example interface\r\n```solidity\r\n// Returns all readable working rpc urls and their aliases `[alias, url][]`, and aliases that could not be read `[alias,error]`.\r\nfunction rpcUrlsNoRevert() external view returns (string[2][] memory urls,string[2][] memory failed);\r\n// Returns all readable rpc urls and their aliases as structs, and aliases that could not be read with the error in the `url` field.\r\nfunction rpcUrlStructsNoRevert() external view returns (Rpc[] memory urls, Rpc[] memory failed);\r\n```\n\n### Additional context\n\n_No response_",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/3871/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/foundry-rs/foundry/issues/3871/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1347022939",
    "html_url": "https://github.com/foundry-rs/foundry/issues/3871#issuecomment-1347022939",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/3871",
    "id": 1347022939,
    "node_id": "IC_kwDOGBlvNc5QSfBb",
    "user": {
      "login": "mds1",
      "id": 17163988,
      "node_id": "MDQ6VXNlcjE3MTYzOTg4",
      "avatar_url": "https://avatars.githubusercontent.com/u/17163988?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mds1",
      "html_url": "https://github.com/mds1",
      "followers_url": "https://api.github.com/users/mds1/followers",
      "following_url": "https://api.github.com/users/mds1/following{/other_user}",
      "gists_url": "https://api.github.com/users/mds1/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mds1/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mds1/subscriptions",
      "organizations_url": "https://api.github.com/users/mds1/orgs",
      "repos_url": "https://api.github.com/users/mds1/repos",
      "events_url": "https://api.github.com/users/mds1/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mds1/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-12-12T18:28:06Z",
    "updated_at": "2022-12-12T18:28:06Z",
    "author_association": "COLLABORATOR",
    "body": "Should we just change the existing `rpcUrls` methods to only return aliases which have defined URLs in the toml? So if there is an env var, but that env var is not set, that alias should not be returned in `vm.rpcUrls`. This would remove the need for https://github.com/foundry-rs/forge-std/pull/247, and feels like better behavior anyway? @mattsse @adhusson wdyt? ",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1347022939/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1348177142",
    "html_url": "https://github.com/foundry-rs/foundry/issues/3871#issuecomment-1348177142",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/3871",
    "id": 1348177142,
    "node_id": "IC_kwDOGBlvNc5QW4z2",
    "user": {
      "login": "adhusson",
      "id": 2977,
      "node_id": "MDQ6VXNlcjI5Nzc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2977?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/adhusson",
      "html_url": "https://github.com/adhusson",
      "followers_url": "https://api.github.com/users/adhusson/followers",
      "following_url": "https://api.github.com/users/adhusson/following{/other_user}",
      "gists_url": "https://api.github.com/users/adhusson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/adhusson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/adhusson/subscriptions",
      "organizations_url": "https://api.github.com/users/adhusson/orgs",
      "repos_url": "https://api.github.com/users/adhusson/repos",
      "events_url": "https://api.github.com/users/adhusson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/adhusson/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-12-13T10:51:24Z",
    "updated_at": "2022-12-13T10:51:24Z",
    "author_association": "CONTRIBUTOR",
    "body": "Yes foundry-rs/forge-std#247 becoming too unwieldy was my motivation here :) For completeness it seems good to leave a way to detect unreadable aliases but otherwise ok with your suggestion.",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1348177142/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
