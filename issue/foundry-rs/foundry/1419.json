{
  "url": "https://api.github.com/repos/foundry-rs/foundry/issues/1419",
  "repository_url": "https://api.github.com/repos/foundry-rs/foundry",
  "labels_url": "https://api.github.com/repos/foundry-rs/foundry/issues/1419/labels{/name}",
  "comments_url": "https://api.github.com/repos/foundry-rs/foundry/issues/1419/comments",
  "events_url": "https://api.github.com/repos/foundry-rs/foundry/issues/1419/events",
  "html_url": "https://github.com/foundry-rs/foundry/issues/1419",
  "id": 1215846430,
  "node_id": "I_kwDOGBlvNc5IeFge",
  "number": 1419,
  "title": "Testing forge. Artifacts not found.",
  "user": {
    "login": "bitcoinmeetups",
    "id": 2834754,
    "node_id": "MDQ6VXNlcjI4MzQ3NTQ=",
    "avatar_url": "https://avatars.githubusercontent.com/u/2834754?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/bitcoinmeetups",
    "html_url": "https://github.com/bitcoinmeetups",
    "followers_url": "https://api.github.com/users/bitcoinmeetups/followers",
    "following_url": "https://api.github.com/users/bitcoinmeetups/following{/other_user}",
    "gists_url": "https://api.github.com/users/bitcoinmeetups/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/bitcoinmeetups/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/bitcoinmeetups/subscriptions",
    "organizations_url": "https://api.github.com/users/bitcoinmeetups/orgs",
    "repos_url": "https://api.github.com/users/bitcoinmeetups/repos",
    "events_url": "https://api.github.com/users/bitcoinmeetups/events{/privacy}",
    "received_events_url": "https://api.github.com/users/bitcoinmeetups/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 3334394237,
      "node_id": "MDU6TGFiZWwzMzM0Mzk0MjM3",
      "url": "https://api.github.com/repos/foundry-rs/foundry/labels/T-question",
      "name": "T-question",
      "color": "BFD4F2",
      "default": false,
      "description": "Type: question"
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 7,
  "created_at": "2022-04-26T11:56:34Z",
  "updated_at": "2022-05-02T10:51:43Z",
  "closed_at": "2022-05-02T10:51:43Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "Hello,\r\n\r\nI'm BM. A very nice and polite guy.\r\n\r\nI started testing foundry forge today. Looks interesting.\r\n\r\nIssue:\r\n\r\nI built the contract. Contract passes. Get json files in out directory. However when I try to deploy I get \"no artifact found\" error each time.\r\n\r\nIn general, what is best practice for quickly building and deploying a test contract? I can provide more info and output but maybe you have a link to a helloworld build and deploy in the book somewhere. I didn't see it though after reading for an hour or two.",
  "closed_by": {
    "login": "onbjerg",
    "id": 8862627,
    "node_id": "MDQ6VXNlcjg4NjI2Mjc=",
    "avatar_url": "https://avatars.githubusercontent.com/u/8862627?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/onbjerg",
    "html_url": "https://github.com/onbjerg",
    "followers_url": "https://api.github.com/users/onbjerg/followers",
    "following_url": "https://api.github.com/users/onbjerg/following{/other_user}",
    "gists_url": "https://api.github.com/users/onbjerg/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/onbjerg/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/onbjerg/subscriptions",
    "organizations_url": "https://api.github.com/users/onbjerg/orgs",
    "repos_url": "https://api.github.com/users/onbjerg/repos",
    "events_url": "https://api.github.com/users/onbjerg/events{/privacy}",
    "received_events_url": "https://api.github.com/users/onbjerg/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/1419/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/foundry-rs/foundry/issues/1419/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1109759847",
    "html_url": "https://github.com/foundry-rs/foundry/issues/1419#issuecomment-1109759847",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/1419",
    "id": 1109759847,
    "node_id": "IC_kwDOGBlvNc5CJZdn",
    "user": {
      "login": "mattsse",
      "id": 19890894,
      "node_id": "MDQ6VXNlcjE5ODkwODk0",
      "avatar_url": "https://avatars.githubusercontent.com/u/19890894?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mattsse",
      "html_url": "https://github.com/mattsse",
      "followers_url": "https://api.github.com/users/mattsse/followers",
      "following_url": "https://api.github.com/users/mattsse/following{/other_user}",
      "gists_url": "https://api.github.com/users/mattsse/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mattsse/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mattsse/subscriptions",
      "organizations_url": "https://api.github.com/users/mattsse/orgs",
      "repos_url": "https://api.github.com/users/mattsse/repos",
      "events_url": "https://api.github.com/users/mattsse/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mattsse/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-04-26T12:53:37Z",
    "updated_at": "2022-04-26T12:54:39Z",
    "author_association": "MEMBER",
    "body": "thanks for raising this,\r\n\r\nhow do you run `forge create`? it expects the path to contract as `src/FileName.sol:ContractName`?\r\n\r\ncould you check if this matches an artifact compiled with `forge build`?\r\n\r\nDid you have a look at the book: https://book.getfoundry.sh/forge/deploying.html?highlight=create#deploying",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1109759847/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1110573714",
    "html_url": "https://github.com/foundry-rs/foundry/issues/1419#issuecomment-1110573714",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/1419",
    "id": 1110573714,
    "node_id": "IC_kwDOGBlvNc5CMgKS",
    "user": {
      "login": "bitcoinmeetups",
      "id": 2834754,
      "node_id": "MDQ6VXNlcjI4MzQ3NTQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2834754?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bitcoinmeetups",
      "html_url": "https://github.com/bitcoinmeetups",
      "followers_url": "https://api.github.com/users/bitcoinmeetups/followers",
      "following_url": "https://api.github.com/users/bitcoinmeetups/following{/other_user}",
      "gists_url": "https://api.github.com/users/bitcoinmeetups/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bitcoinmeetups/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bitcoinmeetups/subscriptions",
      "organizations_url": "https://api.github.com/users/bitcoinmeetups/orgs",
      "repos_url": "https://api.github.com/users/bitcoinmeetups/repos",
      "events_url": "https://api.github.com/users/bitcoinmeetups/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bitcoinmeetups/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-04-27T05:56:00Z",
    "updated_at": "2022-04-27T05:56:39Z",
    "author_association": "NONE",
    "body": "This is how I do it at the moment (yes I have read that documentation but I still can't get it to connect to the artifacts).\r\n\r\n1. Make a new directory called forgetest3\r\n2. Init it with forge init. However, then I get an almost empty contract in the src folder so I delete it.\r\n3. Copy one of my previously flattened contracts called TEST2_flatten.sol to forgetest3/src\r\n4. Input forge build\r\n5. Output:\r\nCompiler run successful (with warnings)\r\nwarning[2462]: Warning: Visibility for constructor is ignored. If you want the contract to be non-deployable, making it \"abstract\" is sufficient.\r\n    --> /home/pi/web3/f3/src/TEST2_flatten.sol:1735:5:\r\n     |\r\n1735 |     constructor() public\r\n     |     ^ (Relevant source part starts here and spans across multiple lines).\r\n\r\n6. Now I have a corresponding folder in the out directory called TEST2_flatten.sol. That directory is full of json files, presumably the artifacts.\r\n7. Input: forge create --rpc-url https://polygon-mainnet.g.alchemy.com/v2/123 --private-key 123 src/TEST2_flatten.sol:TEST2_flatten\r\n8. Output: No files changed, compilation skipped\r\nError:\r\n   0: No artifact found for `/home/pi/web3/f3/src/TEST2_flatten.sol:TEST2_flatten`\r\n\r\nLocation:\r\n   cli/src/cmd/utils.rs:81\r\n\r\nBacktrace omitted. Run with RUST_BACKTRACE=1 environment variable to display it.\r\nRun with RUST_BACKTRACE=full to include source snippets.",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1110573714/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1110752659",
    "html_url": "https://github.com/foundry-rs/foundry/issues/1419#issuecomment-1110752659",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/1419",
    "id": 1110752659,
    "node_id": "IC_kwDOGBlvNc5CNL2T",
    "user": {
      "login": "mattsse",
      "id": 19890894,
      "node_id": "MDQ6VXNlcjE5ODkwODk0",
      "avatar_url": "https://avatars.githubusercontent.com/u/19890894?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mattsse",
      "html_url": "https://github.com/mattsse",
      "followers_url": "https://api.github.com/users/mattsse/followers",
      "following_url": "https://api.github.com/users/mattsse/following{/other_user}",
      "gists_url": "https://api.github.com/users/mattsse/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mattsse/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mattsse/subscriptions",
      "organizations_url": "https://api.github.com/users/mattsse/orgs",
      "repos_url": "https://api.github.com/users/mattsse/repos",
      "events_url": "https://api.github.com/users/mattsse/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mattsse/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-04-27T09:04:25Z",
    "updated_at": "2022-04-27T09:04:25Z",
    "author_association": "MEMBER",
    "body": "thanks, this is helpful. what's the name of the contract you want to deploy?\r\nCould you perhaps share your cache file? (you can remove the bytecode if you want)",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1110752659/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1110889805",
    "html_url": "https://github.com/foundry-rs/foundry/issues/1419#issuecomment-1110889805",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/1419",
    "id": 1110889805,
    "node_id": "IC_kwDOGBlvNc5CNtVN",
    "user": {
      "login": "bitcoinmeetups",
      "id": 2834754,
      "node_id": "MDQ6VXNlcjI4MzQ3NTQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2834754?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bitcoinmeetups",
      "html_url": "https://github.com/bitcoinmeetups",
      "followers_url": "https://api.github.com/users/bitcoinmeetups/followers",
      "following_url": "https://api.github.com/users/bitcoinmeetups/following{/other_user}",
      "gists_url": "https://api.github.com/users/bitcoinmeetups/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bitcoinmeetups/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bitcoinmeetups/subscriptions",
      "organizations_url": "https://api.github.com/users/bitcoinmeetups/orgs",
      "repos_url": "https://api.github.com/users/bitcoinmeetups/repos",
      "events_url": "https://api.github.com/users/bitcoinmeetups/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bitcoinmeetups/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-04-27T11:28:56Z",
    "updated_at": "2022-04-27T11:29:14Z",
    "author_association": "NONE",
    "body": "Source of the TEST2_flatten.sol contract (as far as I remember this template used to work last time I tried to build and deploy it with the goweb/web3 tool).\r\n\r\nhttps://github.com/bitcoinmeetups/gituploads/blob/master/TEST2_flatten.sol",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1110889805/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1110896808",
    "html_url": "https://github.com/foundry-rs/foundry/issues/1419#issuecomment-1110896808",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/1419",
    "id": 1110896808,
    "node_id": "IC_kwDOGBlvNc5CNvCo",
    "user": {
      "login": "bitcoinmeetups",
      "id": 2834754,
      "node_id": "MDQ6VXNlcjI4MzQ3NTQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2834754?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bitcoinmeetups",
      "html_url": "https://github.com/bitcoinmeetups",
      "followers_url": "https://api.github.com/users/bitcoinmeetups/followers",
      "following_url": "https://api.github.com/users/bitcoinmeetups/following{/other_user}",
      "gists_url": "https://api.github.com/users/bitcoinmeetups/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bitcoinmeetups/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bitcoinmeetups/subscriptions",
      "organizations_url": "https://api.github.com/users/bitcoinmeetups/orgs",
      "repos_url": "https://api.github.com/users/bitcoinmeetups/repos",
      "events_url": "https://api.github.com/users/bitcoinmeetups/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bitcoinmeetups/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-04-27T11:37:06Z",
    "updated_at": "2022-04-27T11:37:06Z",
    "author_association": "NONE",
    "body": "Here is the cache file:\r\n\r\nhttps://github.com/bitcoinmeetups/gituploads/blob/master/solidity-files-cache.json",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1110896808/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1111304983",
    "html_url": "https://github.com/foundry-rs/foundry/issues/1419#issuecomment-1111304983",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/1419",
    "id": 1111304983,
    "node_id": "IC_kwDOGBlvNc5CPSsX",
    "user": {
      "login": "mattsse",
      "id": 19890894,
      "node_id": "MDQ6VXNlcjE5ODkwODk0",
      "avatar_url": "https://avatars.githubusercontent.com/u/19890894?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mattsse",
      "html_url": "https://github.com/mattsse",
      "followers_url": "https://api.github.com/users/mattsse/followers",
      "following_url": "https://api.github.com/users/mattsse/following{/other_user}",
      "gists_url": "https://api.github.com/users/mattsse/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mattsse/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mattsse/subscriptions",
      "organizations_url": "https://api.github.com/users/mattsse/orgs",
      "repos_url": "https://api.github.com/users/mattsse/repos",
      "events_url": "https://api.github.com/users/mattsse/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mattsse/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-04-27T17:46:41Z",
    "updated_at": "2022-04-27T17:47:11Z",
    "author_association": "MEMBER",
    "body": "oh I see the issue,\r\nthere's now `TEST2_flatten` contract in the solidity file.\r\n`forge create` expects `<solidity file>:<contract name>` because there can be multiple contracts in a single file, like your `TEST2_flatten.sol`\r\n\r\nso the last part must be the name of the contract you want to deploy.",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1111304983/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1114719300",
    "html_url": "https://github.com/foundry-rs/foundry/issues/1419#issuecomment-1114719300",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/1419",
    "id": 1114719300,
    "node_id": "IC_kwDOGBlvNc5CcURE",
    "user": {
      "login": "onbjerg",
      "id": 8862627,
      "node_id": "MDQ6VXNlcjg4NjI2Mjc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8862627?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/onbjerg",
      "html_url": "https://github.com/onbjerg",
      "followers_url": "https://api.github.com/users/onbjerg/followers",
      "following_url": "https://api.github.com/users/onbjerg/following{/other_user}",
      "gists_url": "https://api.github.com/users/onbjerg/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/onbjerg/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/onbjerg/subscriptions",
      "organizations_url": "https://api.github.com/users/onbjerg/orgs",
      "repos_url": "https://api.github.com/users/onbjerg/repos",
      "events_url": "https://api.github.com/users/onbjerg/events{/privacy}",
      "received_events_url": "https://api.github.com/users/onbjerg/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-05-02T10:51:43Z",
    "updated_at": "2022-05-02T10:51:43Z",
    "author_association": "MEMBER",
    "body": "Closing because this is solved\r\n\r\nAs @mattsse pointed out above, you must specify the contract via: `<path>:<contract name>`. For example, if you wanted to deploy the `CAT` contract in your flattened file, you would specify `./src/TEST2_flatten.sol:CAT` :smile: ",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1114719300/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
