{
  "url": "https://api.github.com/repos/foundry-rs/foundry/issues/6142",
  "repository_url": "https://api.github.com/repos/foundry-rs/foundry",
  "labels_url": "https://api.github.com/repos/foundry-rs/foundry/issues/6142/labels{/name}",
  "comments_url": "https://api.github.com/repos/foundry-rs/foundry/issues/6142/comments",
  "events_url": "https://api.github.com/repos/foundry-rs/foundry/issues/6142/events",
  "html_url": "https://github.com/foundry-rs/foundry/issues/6142",
  "id": 1965346770,
  "node_id": "I_kwDOGBlvNc51JM_S",
  "number": 6142,
  "title": "forge test can't find the contract which is not in the same folder as foundry.toml and test/test.sol",
  "user": {
    "login": "jiajieey",
    "id": 114006145,
    "node_id": "U_kgDOBsuYgQ",
    "avatar_url": "https://avatars.githubusercontent.com/u/114006145?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/jiajieey",
    "html_url": "https://github.com/jiajieey",
    "followers_url": "https://api.github.com/users/jiajieey/followers",
    "following_url": "https://api.github.com/users/jiajieey/following{/other_user}",
    "gists_url": "https://api.github.com/users/jiajieey/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/jiajieey/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/jiajieey/subscriptions",
    "organizations_url": "https://api.github.com/users/jiajieey/orgs",
    "repos_url": "https://api.github.com/users/jiajieey/repos",
    "events_url": "https://api.github.com/users/jiajieey/events{/privacy}",
    "received_events_url": "https://api.github.com/users/jiajieey/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 3334394228,
      "node_id": "MDU6TGFiZWwzMzM0Mzk0MjI4",
      "url": "https://api.github.com/repos/foundry-rs/foundry/labels/T-bug",
      "name": "T-bug",
      "color": "d73a4a",
      "default": false,
      "description": "Type: bug"
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 1,
  "created_at": "2023-10-27T11:43:16Z",
  "updated_at": "2023-11-02T20:38:41Z",
  "closed_at": "2023-11-02T20:38:40Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "### Component\r\n\r\nForge\r\n\r\n### Have you ensured that all of these are up to date?\r\n\r\n- [X] Foundry\r\n- [X] Foundryup\r\n\r\n### What version of Foundry are you on?\r\n\r\nforge 0.2.0 (58a2729 2023-05-15T00:04:23.550925000Z)\r\n\r\n### What command(s) is the bug in?\r\n\r\nforge test\r\n\r\n### Operating System\r\n\r\nmacOS (Apple Silicon)\r\n\r\n### Describe the bug\r\n\r\nMy contract file is in `/Users/j/Library/CloudStorage/OneDrive/n/nd/blockchain_assets/contracts/p/contract.sol`.\r\nMy test file is in `/Users/j/Library/CloudStorage/OneDrive/n/nd/contract_unit_tests/p/test/contract_t.sol`\r\nIn the test file, I import contract file using:\r\n`import \"../../../blockchain_assets/contracts/p/contract.sol\";`\r\nWhen i run `forge test`,\r\nI get error:\r\n`Source \"blockchain_assets/contracts/p/t.sol\" not found: File not found. Searched the following locations: \"/Users/j/Library/CloudStorage/OneDrive/n/nd/contract_unit_tests/p\".\r\n --> test/plonk_vk_jellyfish_t.sol:6:1:\r\n  |\r\n6 | import \"../../../blockchain_assets/contracts/p/contract.sol\";`\r\nBut if i use the full path of contract.sol, i won't get this error.\r\n\r\nI also checked fs-permission in `/Users/j/Library/CloudStorage/OneDrive/n/nd/contract_unit_tests/p/foundry.toml`, \r\nI have\r\n```\r\n fs_permissions = [{ access = \"read\", path = \"./\"},\r\n{ access = \"read\", path = \"../../blockchain_assets/contracts/p/\"}]\r\n```\r\n, if I understand it correctly, this should give forge permission to read all files in blockchain_assets/contracts/p.\r\n\r\nThe problem is that \r\nwhen contract sits in  ./nd/blockchain_assets/contracts/p/contract.sol, \r\ntest is in ./nd/contract_unit_tests/p/test/contract_t.sol\r\nfoundry.toml is in ./nd/contract_unit_tests/p/foundry.toml, \r\nhow can I import contract in the test.sol with relative path?\r\nThank you!\r\n",
  "closed_by": {
    "login": "Evalir",
    "id": 26014927,
    "node_id": "MDQ6VXNlcjI2MDE0OTI3",
    "avatar_url": "https://avatars.githubusercontent.com/u/26014927?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/Evalir",
    "html_url": "https://github.com/Evalir",
    "followers_url": "https://api.github.com/users/Evalir/followers",
    "following_url": "https://api.github.com/users/Evalir/following{/other_user}",
    "gists_url": "https://api.github.com/users/Evalir/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/Evalir/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/Evalir/subscriptions",
    "organizations_url": "https://api.github.com/users/Evalir/orgs",
    "repos_url": "https://api.github.com/users/Evalir/repos",
    "events_url": "https://api.github.com/users/Evalir/events{/privacy}",
    "received_events_url": "https://api.github.com/users/Evalir/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/6142/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/foundry-rs/foundry/issues/6142/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1791505977",
    "html_url": "https://github.com/foundry-rs/foundry/issues/6142#issuecomment-1791505977",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/6142",
    "id": 1791505977,
    "node_id": "IC_kwDOGBlvNc5qyDY5",
    "user": {
      "login": "Evalir",
      "id": 26014927,
      "node_id": "MDQ6VXNlcjI2MDE0OTI3",
      "avatar_url": "https://avatars.githubusercontent.com/u/26014927?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Evalir",
      "html_url": "https://github.com/Evalir",
      "followers_url": "https://api.github.com/users/Evalir/followers",
      "following_url": "https://api.github.com/users/Evalir/following{/other_user}",
      "gists_url": "https://api.github.com/users/Evalir/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Evalir/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Evalir/subscriptions",
      "organizations_url": "https://api.github.com/users/Evalir/orgs",
      "repos_url": "https://api.github.com/users/Evalir/repos",
      "events_url": "https://api.github.com/users/Evalir/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Evalir/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-11-02T20:38:24Z",
    "updated_at": "2023-11-02T20:38:24Z",
    "author_association": "MEMBER",
    "body": "This is more of a question than a bug‚Äîyou have a custom setup for contract locations and need to set up your remappings accordingly. We'd recommend not deviating much from the default layout as it can make your submodules ugly.\n\nFor more info on this, let's please take the convo to the foundry TG chat, thank you! üôè",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1791505977/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
