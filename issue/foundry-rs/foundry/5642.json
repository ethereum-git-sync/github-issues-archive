{
  "url": "https://api.github.com/repos/foundry-rs/foundry/issues/5642",
  "repository_url": "https://api.github.com/repos/foundry-rs/foundry",
  "labels_url": "https://api.github.com/repos/foundry-rs/foundry/issues/5642/labels{/name}",
  "comments_url": "https://api.github.com/repos/foundry-rs/foundry/issues/5642/comments",
  "events_url": "https://api.github.com/repos/foundry-rs/foundry/issues/5642/events",
  "html_url": "https://github.com/foundry-rs/foundry/issues/5642",
  "id": 1852800155,
  "node_id": "I_kwDOGBlvNc5ub3yb",
  "number": 5642,
  "title": "Support for Library Linking in Solidity",
  "user": {
    "login": "mshakeg",
    "id": 40227090,
    "node_id": "MDQ6VXNlcjQwMjI3MDkw",
    "avatar_url": "https://avatars.githubusercontent.com/u/40227090?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/mshakeg",
    "html_url": "https://github.com/mshakeg",
    "followers_url": "https://api.github.com/users/mshakeg/followers",
    "following_url": "https://api.github.com/users/mshakeg/following{/other_user}",
    "gists_url": "https://api.github.com/users/mshakeg/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/mshakeg/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/mshakeg/subscriptions",
    "organizations_url": "https://api.github.com/users/mshakeg/orgs",
    "repos_url": "https://api.github.com/users/mshakeg/repos",
    "events_url": "https://api.github.com/users/mshakeg/events{/privacy}",
    "received_events_url": "https://api.github.com/users/mshakeg/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 3593644820,
      "node_id": "LA_kwDOGBlvNc7WMqsU",
      "url": "https://api.github.com/repos/foundry-rs/foundry/labels/T-feature",
      "name": "T-feature",
      "color": "BFD4F2",
      "default": false,
      "description": "Type: feature"
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2023-08-16T08:53:38Z",
  "updated_at": "2023-09-11T14:03:35Z",
  "closed_at": "2023-09-11T14:03:34Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "### Component\n\nForge\n\n### Describe the feature you would like\n\nAllow for dynamic library linking within Solidity by adding a `libraries` field to the contract creation syntax. This would enable linking libraries to contracts during deployment, akin to how it's done in Hardhat. The proposed syntax would be:\r\n\r\n```solidity\r\nstring[] memory myContractLibraries = ['src/libraries/MyLibrary.sol:MyLibrary: 0x1230000000000000000000000000000000000abc'];\r\nMyContract myContract = new MyContract{libraries: myContractLibraries}();\r\n```\n\n### Additional context\n\nI initially asked [a question on the ethereum stackexchange](https://ethereum.stackexchange.com/q/153411/86303)\r\n\r\nThe proposed syntax adheres to existing practices within Foundry, requiring a list of strings in the format `<libraryPath>:<libraryName>:<libraryAddress>`.\r\n\r\nThis solution aims to bring Foundry's capabilities in line with other popular development environments while maintaining its unique all-Solidity approach.",
  "closed_by": {
    "login": "Evalir",
    "id": 26014927,
    "node_id": "MDQ6VXNlcjI2MDE0OTI3",
    "avatar_url": "https://avatars.githubusercontent.com/u/26014927?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/Evalir",
    "html_url": "https://github.com/Evalir",
    "followers_url": "https://api.github.com/users/Evalir/followers",
    "following_url": "https://api.github.com/users/Evalir/following{/other_user}",
    "gists_url": "https://api.github.com/users/Evalir/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/Evalir/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/Evalir/subscriptions",
    "organizations_url": "https://api.github.com/users/Evalir/orgs",
    "repos_url": "https://api.github.com/users/Evalir/repos",
    "events_url": "https://api.github.com/users/Evalir/events{/privacy}",
    "received_events_url": "https://api.github.com/users/Evalir/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/5642/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/foundry-rs/foundry/issues/5642/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1684919739",
    "html_url": "https://github.com/foundry-rs/foundry/issues/5642#issuecomment-1684919739",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/5642",
    "id": 1684919739,
    "node_id": "IC_kwDOGBlvNc5kbdW7",
    "user": {
      "login": "mshakeg",
      "id": 40227090,
      "node_id": "MDQ6VXNlcjQwMjI3MDkw",
      "avatar_url": "https://avatars.githubusercontent.com/u/40227090?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mshakeg",
      "html_url": "https://github.com/mshakeg",
      "followers_url": "https://api.github.com/users/mshakeg/followers",
      "following_url": "https://api.github.com/users/mshakeg/following{/other_user}",
      "gists_url": "https://api.github.com/users/mshakeg/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mshakeg/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mshakeg/subscriptions",
      "organizations_url": "https://api.github.com/users/mshakeg/orgs",
      "repos_url": "https://api.github.com/users/mshakeg/repos",
      "events_url": "https://api.github.com/users/mshakeg/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mshakeg/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-08-19T11:06:19Z",
    "updated_at": "2023-08-19T11:06:19Z",
    "author_association": "NONE",
    "body": "I initially created this issue due to experiencing a problem to similar to that described in #4049\r\n\r\nHowever, I have since come up with a temporary workaround, regardless I've confirmed that the expected behaviour would be for foundry to deploy all libraries that a contract depends on and link those libraries automatically before deploying.\r\n\r\nHowever, I still think the ask in this issue would be helpful in the case that the libraries have already been deployed at known addresses and so developers can avoid deploying duplicate libraries. I also like the idea of foundry using deterministic CREATE2 deploys of libraries as [explained here](https://github.com/foundry-rs/foundry/issues/4443#issuecomment-1602250083).\r\n\r\nThis issue seems related to #3664",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1684919739/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1713956056",
    "html_url": "https://github.com/foundry-rs/foundry/issues/5642#issuecomment-1713956056",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/5642",
    "id": 1713956056,
    "node_id": "IC_kwDOGBlvNc5mKOTY",
    "user": {
      "login": "Evalir",
      "id": 26014927,
      "node_id": "MDQ6VXNlcjI2MDE0OTI3",
      "avatar_url": "https://avatars.githubusercontent.com/u/26014927?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Evalir",
      "html_url": "https://github.com/Evalir",
      "followers_url": "https://api.github.com/users/Evalir/followers",
      "following_url": "https://api.github.com/users/Evalir/following{/other_user}",
      "gists_url": "https://api.github.com/users/Evalir/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Evalir/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Evalir/subscriptions",
      "organizations_url": "https://api.github.com/users/Evalir/orgs",
      "repos_url": "https://api.github.com/users/Evalir/repos",
      "events_url": "https://api.github.com/users/Evalir/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Evalir/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-09-11T14:03:34Z",
    "updated_at": "2023-09-11T14:03:34Z",
    "author_association": "MEMBER",
    "body": "Yep ackâ€”I think we want this on a cheatcode so we don't have to hijack solidity's syntax ðŸ˜„ Will close to unify these requests on #3664",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1713956056/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
