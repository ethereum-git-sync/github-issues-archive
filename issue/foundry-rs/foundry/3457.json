{
  "url": "https://api.github.com/repos/foundry-rs/foundry/issues/3457",
  "repository_url": "https://api.github.com/repos/foundry-rs/foundry",
  "labels_url": "https://api.github.com/repos/foundry-rs/foundry/issues/3457/labels{/name}",
  "comments_url": "https://api.github.com/repos/foundry-rs/foundry/issues/3457/comments",
  "events_url": "https://api.github.com/repos/foundry-rs/foundry/issues/3457/events",
  "html_url": "https://github.com/foundry-rs/foundry/issues/3457",
  "id": 1397763875,
  "node_id": "I_kwDOGBlvNc5TUC8j",
  "number": 3457,
  "title": "Parsing .env fails silently and inconsistently with ZSH and Bash",
  "user": {
    "login": "espendk",
    "id": 3458856,
    "node_id": "MDQ6VXNlcjM0NTg4NTY=",
    "avatar_url": "https://avatars.githubusercontent.com/u/3458856?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/espendk",
    "html_url": "https://github.com/espendk",
    "followers_url": "https://api.github.com/users/espendk/followers",
    "following_url": "https://api.github.com/users/espendk/following{/other_user}",
    "gists_url": "https://api.github.com/users/espendk/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/espendk/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/espendk/subscriptions",
    "organizations_url": "https://api.github.com/users/espendk/orgs",
    "repos_url": "https://api.github.com/users/espendk/repos",
    "events_url": "https://api.github.com/users/espendk/events{/privacy}",
    "received_events_url": "https://api.github.com/users/espendk/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 3593644820,
      "node_id": "LA_kwDOGBlvNc7WMqsU",
      "url": "https://api.github.com/repos/foundry-rs/foundry/labels/T-feature",
      "name": "T-feature",
      "color": "BFD4F2",
      "default": false,
      "description": "Type: feature"
    },
    {
      "id": 3703752787,
      "node_id": "LA_kwDOGBlvNc7cwshT",
      "url": "https://api.github.com/repos/foundry-rs/foundry/labels/C-forge",
      "name": "C-forge",
      "color": "5319E7",
      "default": false,
      "description": "Command: forge"
    },
    {
      "id": 3759719790,
      "node_id": "LA_kwDOGBlvNc7gGMVu",
      "url": "https://api.github.com/repos/foundry-rs/foundry/labels/P-low",
      "name": "P-low",
      "color": "D93F0B",
      "default": false,
      "description": "Priority: low"
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 3,
  "created_at": "2022-10-05T13:05:49Z",
  "updated_at": "2022-10-12T08:34:27Z",
  "closed_at": null,
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "### Component\n\nForge\n\n### Describe the feature you would like\n\nIt would be great if Forge would follow symlinks when reading .env files. Currently, it appears that .env symlinks are ignored.\n\n### Additional context\n\nIf I create a symlink to a .env file (eg using `ln -s ../.env .env`) outside of the project folder, then Forge ignores the .env file.\r\nIf I instead copy the same file (`cp -s ../.env .env`) into the project folder, Forge reads it. But this means I have multiple copies of my .env file that must be maintained.",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/3457/reactions",
    "total_count": 1,
    "+1": 1,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/foundry-rs/foundry/issues/3457/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1272385483",
    "html_url": "https://github.com/foundry-rs/foundry/issues/3457#issuecomment-1272385483",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/3457",
    "id": 1272385483,
    "node_id": "IC_kwDOGBlvNc5L1w_L",
    "user": {
      "login": "iFrostizz",
      "id": 51274081,
      "node_id": "MDQ6VXNlcjUxMjc0MDgx",
      "avatar_url": "https://avatars.githubusercontent.com/u/51274081?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/iFrostizz",
      "html_url": "https://github.com/iFrostizz",
      "followers_url": "https://api.github.com/users/iFrostizz/followers",
      "following_url": "https://api.github.com/users/iFrostizz/following{/other_user}",
      "gists_url": "https://api.github.com/users/iFrostizz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/iFrostizz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/iFrostizz/subscriptions",
      "organizations_url": "https://api.github.com/users/iFrostizz/orgs",
      "repos_url": "https://api.github.com/users/iFrostizz/repos",
      "events_url": "https://api.github.com/users/iFrostizz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/iFrostizz/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-10-08T19:43:54Z",
    "updated_at": "2022-10-08T19:43:54Z",
    "author_association": "CONTRIBUTOR",
    "body": "Cannot reproduce, did you sourced the symlinked .env file ?\r\n![image](https://user-images.githubusercontent.com/51274081/194724730-addb53a5-d318-4e47-9cf6-6c03881b7293.png)\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1272385483/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1274336314",
    "html_url": "https://github.com/foundry-rs/foundry/issues/3457#issuecomment-1274336314",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/3457",
    "id": 1274336314,
    "node_id": "IC_kwDOGBlvNc5L9NQ6",
    "user": {
      "login": "espendk",
      "id": 3458856,
      "node_id": "MDQ6VXNlcjM0NTg4NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3458856?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/espendk",
      "html_url": "https://github.com/espendk",
      "followers_url": "https://api.github.com/users/espendk/followers",
      "following_url": "https://api.github.com/users/espendk/following{/other_user}",
      "gists_url": "https://api.github.com/users/espendk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/espendk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/espendk/subscriptions",
      "organizations_url": "https://api.github.com/users/espendk/orgs",
      "repos_url": "https://api.github.com/users/espendk/repos",
      "events_url": "https://api.github.com/users/espendk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/espendk/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-10-11T08:50:39Z",
    "updated_at": "2022-10-11T08:50:55Z",
    "author_association": "NONE",
    "body": "Sorry, further experiments revealed that the problem was caused by the following line in the .env file, not symlinks:\r\n\r\n```shell\r\nexport PRIVATE_KEY_MNEMONIC=test test test test test test test test test test test junk\r\n```\r\n\r\nZSH and Bash source this without failing and interprets that line as `PRIVATE_KEY_MNEMONIC=test`:\r\n\r\n```shell\r\n❯ cat >.env\r\nexport PRIVATE_KEY_MNEMONIC=test test test test test test test test test test test junk\r\n❯ source .env\r\n❯ printenv PRIVATE_KEY_MNEMONIC\r\ntest\r\n```\r\n\r\nClearly, the above .env file is flawed as there should have been quotes around the mnemonic.\r\nBut it would be good if Forge either interpreted .env consistently with shells such as ZSH and Bash or would print an error message instead of failing silently to read the .env file.\r\n\r\nI've renamed the issue to reflect this.",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1274336314/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1274447109",
    "html_url": "https://github.com/foundry-rs/foundry/issues/3457#issuecomment-1274447109",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/3457",
    "id": 1274447109,
    "node_id": "IC_kwDOGBlvNc5L9oUF",
    "user": {
      "login": "mattsse",
      "id": 19890894,
      "node_id": "MDQ6VXNlcjE5ODkwODk0",
      "avatar_url": "https://avatars.githubusercontent.com/u/19890894?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mattsse",
      "html_url": "https://github.com/mattsse",
      "followers_url": "https://api.github.com/users/mattsse/followers",
      "following_url": "https://api.github.com/users/mattsse/following{/other_user}",
      "gists_url": "https://api.github.com/users/mattsse/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mattsse/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mattsse/subscriptions",
      "organizations_url": "https://api.github.com/users/mattsse/orgs",
      "repos_url": "https://api.github.com/users/mattsse/repos",
      "events_url": "https://api.github.com/users/mattsse/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mattsse/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-10-11T10:04:50Z",
    "updated_at": "2022-10-11T10:04:50Z",
    "author_association": "MEMBER",
    "body": "the [dotenv](https://crates.io/crates/dotenv) dependency we're using has its limitations, this is raised from time to time.\r\n\r\nNot a priority to get this fixed at this point, since this would require writing an entirely new parser. ",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1274447109/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
