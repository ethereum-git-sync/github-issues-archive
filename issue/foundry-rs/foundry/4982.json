{
  "url": "https://api.github.com/repos/foundry-rs/foundry/issues/4982",
  "repository_url": "https://api.github.com/repos/foundry-rs/foundry",
  "labels_url": "https://api.github.com/repos/foundry-rs/foundry/issues/4982/labels{/name}",
  "comments_url": "https://api.github.com/repos/foundry-rs/foundry/issues/4982/comments",
  "events_url": "https://api.github.com/repos/foundry-rs/foundry/issues/4982/events",
  "html_url": "https://github.com/foundry-rs/foundry/issues/4982",
  "id": 1716559945,
  "node_id": "I_kwDOGBlvNc5mUKBJ",
  "number": 4982,
  "title": "vm.prank() stopped working after update",
  "user": {
    "login": "hananbeer",
    "id": 63053861,
    "node_id": "MDQ6VXNlcjYzMDUzODYx",
    "avatar_url": "https://avatars.githubusercontent.com/u/63053861?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/hananbeer",
    "html_url": "https://github.com/hananbeer",
    "followers_url": "https://api.github.com/users/hananbeer/followers",
    "following_url": "https://api.github.com/users/hananbeer/following{/other_user}",
    "gists_url": "https://api.github.com/users/hananbeer/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/hananbeer/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/hananbeer/subscriptions",
    "organizations_url": "https://api.github.com/users/hananbeer/orgs",
    "repos_url": "https://api.github.com/users/hananbeer/repos",
    "events_url": "https://api.github.com/users/hananbeer/events{/privacy}",
    "received_events_url": "https://api.github.com/users/hananbeer/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 3334394228,
      "node_id": "MDU6TGFiZWwzMzM0Mzk0MjI4",
      "url": "https://api.github.com/repos/foundry-rs/foundry/labels/T-bug",
      "name": "T-bug",
      "color": "d73a4a",
      "default": false,
      "description": "Type: bug"
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 3,
  "created_at": "2023-05-19T03:45:19Z",
  "updated_at": "2023-06-02T00:42:02Z",
  "closed_at": "2023-06-02T00:42:02Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "### Component\r\n\r\nForge\r\n\r\n### Have you ensured that all of these are up to date?\r\n\r\n- [X] Foundry\r\n- [X] Foundryup\r\n\r\n### What version of Foundry are you on?\r\n\r\nforge 0.2.0 (31fcf5a 2023-05-19T00:04:19.980323193Z) (same Linux & Mac)\r\n\r\n### What command(s) is the bug in?\r\n\r\nforge test\r\n\r\n### Operating System\r\n\r\nLinux\r\n\r\n### Describe the bug\r\n\r\nupdate: sorry I'm in a rush to catch a flight and didn't manage to find the exact cause of the bug.\r\nbut this fact remains: my tests began to break on mac & linux but not on windows. something to do with vm.prank not registering properly.\r\n\r\nI assume this is vm.prank because my error says:\r\n[FAIL. Reason: No prank in progress to stop]\r\n\r\n---\r\n\r\noddly this also started occurring on mac after updating foundry, but strangely enough not on windows.\r\nI've updated all three of those several times, deleted foundry manually then tried again, cleared env vars... always same results. linux & mac fail, windows works normally.\r\n\r\nmy windows version is:\r\nforge 0.2.0 (bb62e3c 2023-03-15T09:18:40.7502879Z)\r\n\r\n\r\n(update: I downgraded manually and now it's working again)\r\n",
  "closed_by": {
    "login": "Evalir",
    "id": 26014927,
    "node_id": "MDQ6VXNlcjI2MDE0OTI3",
    "avatar_url": "https://avatars.githubusercontent.com/u/26014927?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/Evalir",
    "html_url": "https://github.com/Evalir",
    "followers_url": "https://api.github.com/users/Evalir/followers",
    "following_url": "https://api.github.com/users/Evalir/following{/other_user}",
    "gists_url": "https://api.github.com/users/Evalir/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/Evalir/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/Evalir/subscriptions",
    "organizations_url": "https://api.github.com/users/Evalir/orgs",
    "repos_url": "https://api.github.com/users/Evalir/repos",
    "events_url": "https://api.github.com/users/Evalir/events{/privacy}",
    "received_events_url": "https://api.github.com/users/Evalir/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/4982/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/foundry-rs/foundry/issues/4982/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1554756350",
    "html_url": "https://github.com/foundry-rs/foundry/issues/4982#issuecomment-1554756350",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/4982",
    "id": 1554756350,
    "node_id": "IC_kwDOGBlvNc5cq7L-",
    "user": {
      "login": "mds1",
      "id": 17163988,
      "node_id": "MDQ6VXNlcjE3MTYzOTg4",
      "avatar_url": "https://avatars.githubusercontent.com/u/17163988?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mds1",
      "html_url": "https://github.com/mds1",
      "followers_url": "https://api.github.com/users/mds1/followers",
      "following_url": "https://api.github.com/users/mds1/following{/other_user}",
      "gists_url": "https://api.github.com/users/mds1/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mds1/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mds1/subscriptions",
      "organizations_url": "https://api.github.com/users/mds1/orgs",
      "repos_url": "https://api.github.com/users/mds1/repos",
      "events_url": "https://api.github.com/users/mds1/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mds1/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-05-19T15:29:18Z",
    "updated_at": "2023-05-19T15:29:18Z",
    "author_association": "COLLABORATOR",
    "body": "There have recently been breaking changes to how pranks works, you can find more info on recent breaking changes here: https://github.com/foundry-rs/foundry/blob/master/CHANGELOG.md\r\n\r\nNot totally sure if that is related to your issue, if you can share code to reproduce that would be really helpful. cc'ing @Evalir since this seems related to prank updates",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1554756350/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1554769949",
    "html_url": "https://github.com/foundry-rs/foundry/issues/4982#issuecomment-1554769949",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/4982",
    "id": 1554769949,
    "node_id": "IC_kwDOGBlvNc5cq-gd",
    "user": {
      "login": "Evalir",
      "id": 26014927,
      "node_id": "MDQ6VXNlcjI2MDE0OTI3",
      "avatar_url": "https://avatars.githubusercontent.com/u/26014927?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Evalir",
      "html_url": "https://github.com/Evalir",
      "followers_url": "https://api.github.com/users/Evalir/followers",
      "following_url": "https://api.github.com/users/Evalir/following{/other_user}",
      "gists_url": "https://api.github.com/users/Evalir/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Evalir/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Evalir/subscriptions",
      "organizations_url": "https://api.github.com/users/Evalir/orgs",
      "repos_url": "https://api.github.com/users/Evalir/repos",
      "events_url": "https://api.github.com/users/Evalir/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Evalir/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-05-19T15:41:19Z",
    "updated_at": "2023-05-19T15:41:19Z",
    "author_association": "COLLABORATOR",
    "body": "Hey! Indeedâ€”some minimal repro would be truly helpful",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1554769949/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1572964666",
    "html_url": "https://github.com/foundry-rs/foundry/issues/4982#issuecomment-1572964666",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/4982",
    "id": 1572964666,
    "node_id": "IC_kwDOGBlvNc5dwYk6",
    "user": {
      "login": "Evalir",
      "id": 26014927,
      "node_id": "MDQ6VXNlcjI2MDE0OTI3",
      "avatar_url": "https://avatars.githubusercontent.com/u/26014927?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Evalir",
      "html_url": "https://github.com/Evalir",
      "followers_url": "https://api.github.com/users/Evalir/followers",
      "following_url": "https://api.github.com/users/Evalir/following{/other_user}",
      "gists_url": "https://api.github.com/users/Evalir/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Evalir/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Evalir/subscriptions",
      "organizations_url": "https://api.github.com/users/Evalir/orgs",
      "repos_url": "https://api.github.com/users/Evalir/repos",
      "events_url": "https://api.github.com/users/Evalir/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Evalir/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-06-02T00:42:02Z",
    "updated_at": "2023-06-02T00:42:02Z",
    "author_association": "COLLABORATOR",
    "body": "Haven't been able to reproduce and this error hasn't resurfaced in other issuesâ€”will close for now.",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1572964666/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
