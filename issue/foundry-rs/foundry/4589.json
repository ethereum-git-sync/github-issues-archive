{
  "url": "https://api.github.com/repos/foundry-rs/foundry/issues/4589",
  "repository_url": "https://api.github.com/repos/foundry-rs/foundry",
  "labels_url": "https://api.github.com/repos/foundry-rs/foundry/issues/4589/labels{/name}",
  "comments_url": "https://api.github.com/repos/foundry-rs/foundry/issues/4589/comments",
  "events_url": "https://api.github.com/repos/foundry-rs/foundry/issues/4589/events",
  "html_url": "https://github.com/foundry-rs/foundry/issues/4589",
  "id": 1629172778,
  "node_id": "I_kwDOGBlvNc5hGzQq",
  "number": 4589,
  "title": "Add support for combination of `vm.expectRevert` and (failing) `deployCode`",
  "user": {
    "login": "fubhy",
    "id": 1172528,
    "node_id": "MDQ6VXNlcjExNzI1Mjg=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1172528?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/fubhy",
    "html_url": "https://github.com/fubhy",
    "followers_url": "https://api.github.com/users/fubhy/followers",
    "following_url": "https://api.github.com/users/fubhy/following{/other_user}",
    "gists_url": "https://api.github.com/users/fubhy/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/fubhy/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/fubhy/subscriptions",
    "organizations_url": "https://api.github.com/users/fubhy/orgs",
    "repos_url": "https://api.github.com/users/fubhy/repos",
    "events_url": "https://api.github.com/users/fubhy/events{/privacy}",
    "received_events_url": "https://api.github.com/users/fubhy/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 3593644820,
      "node_id": "LA_kwDOGBlvNc7WMqsU",
      "url": "https://api.github.com/repos/foundry-rs/foundry/labels/T-feature",
      "name": "T-feature",
      "color": "BFD4F2",
      "default": false,
      "description": "Type: feature"
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 0,
  "created_at": "2023-03-17T11:46:41Z",
  "updated_at": "2023-03-17T11:47:41Z",
  "closed_at": null,
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "### Component\r\n\r\nForge\r\n\r\n### Describe the feature you would like\r\n\r\nIt's currently not possible to pair a `deployCode` with `vm.expectRevert`. It also doesn't work to use `testFail` in this case.\r\n\r\nWe are forced to use `deployCode` to get around version constraints (our tests are solc 0.8.17 and some of our code is 0.6.12). We'd like to test some validation constraints in the constructor of one of our (old) contracts.\r\n\r\n### Additional context\r\n\r\nOne workaround would be to create a mock factory contract and use `deployCode` on that one and then deploy the tested contract through that mock factory ... but that seems a bit unwieldy.",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/4589/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/foundry-rs/foundry/issues/4589/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[

]
