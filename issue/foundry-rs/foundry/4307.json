{
  "url": "https://api.github.com/repos/foundry-rs/foundry/issues/4307",
  "repository_url": "https://api.github.com/repos/foundry-rs/foundry",
  "labels_url": "https://api.github.com/repos/foundry-rs/foundry/issues/4307/labels{/name}",
  "comments_url": "https://api.github.com/repos/foundry-rs/foundry/issues/4307/comments",
  "events_url": "https://api.github.com/repos/foundry-rs/foundry/issues/4307/events",
  "html_url": "https://github.com/foundry-rs/foundry/issues/4307",
  "id": 1576029514,
  "node_id": "I_kwDOGBlvNc5d8E1K",
  "number": 4307,
  "title": "Getting \"FAIL. Reason: path error:\" when using json objects in memory",
  "user": {
    "login": "gbalabasquer",
    "id": 12644398,
    "node_id": "MDQ6VXNlcjEyNjQ0Mzk4",
    "avatar_url": "https://avatars.githubusercontent.com/u/12644398?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/gbalabasquer",
    "html_url": "https://github.com/gbalabasquer",
    "followers_url": "https://api.github.com/users/gbalabasquer/followers",
    "following_url": "https://api.github.com/users/gbalabasquer/following{/other_user}",
    "gists_url": "https://api.github.com/users/gbalabasquer/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/gbalabasquer/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/gbalabasquer/subscriptions",
    "organizations_url": "https://api.github.com/users/gbalabasquer/orgs",
    "repos_url": "https://api.github.com/users/gbalabasquer/repos",
    "events_url": "https://api.github.com/users/gbalabasquer/events{/privacy}",
    "received_events_url": "https://api.github.com/users/gbalabasquer/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 3334394228,
      "node_id": "MDU6TGFiZWwzMzM0Mzk0MjI4",
      "url": "https://api.github.com/repos/foundry-rs/foundry/labels/T-bug",
      "name": "T-bug",
      "color": "d73a4a",
      "default": false,
      "description": "Type: bug"
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 6,
  "created_at": "2023-02-08T12:26:51Z",
  "updated_at": "2023-02-16T19:42:12Z",
  "closed_at": "2023-02-13T15:03:54Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "### Component\n\nForge\n\n### Have you ensured that all of these are up to date?\n\n- [ ] Foundry\n- [ ] Foundryup\n\n### What version of Foundry are you on?\n\nforge 0.2.0 (249538f 2023-02-08T00:12:05.805004Z)\n\n### What command(s) is the bug in?\n\nforge test\n\n### Operating System\n\nmacOS (Apple Silicon)\n\n### Describe the bug\n\nUsing the latest version of `forge` and cloning: https://github.com/makerdao/dss-test you can reproduce this issue.\r\n\r\nSet these env variables `FOUNDRY_ROOT_CHAINID = 1`, `MAINNET_RPC_URL`, `OPTIMISM_RPC_URL`, `ARBITRUM_ONE_RPC_URL` and `ARBITRUM_NOVA_RPC_URL`.\r\nThen, run `make test`.\r\n\r\nThis issue didn't exist in `forge 0.2.0 (cd7850b 2023-02-02T00:05:14.844624Z)`",
  "closed_by": {
    "login": "gbalabasquer",
    "id": 12644398,
    "node_id": "MDQ6VXNlcjEyNjQ0Mzk4",
    "avatar_url": "https://avatars.githubusercontent.com/u/12644398?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/gbalabasquer",
    "html_url": "https://github.com/gbalabasquer",
    "followers_url": "https://api.github.com/users/gbalabasquer/followers",
    "following_url": "https://api.github.com/users/gbalabasquer/following{/other_user}",
    "gists_url": "https://api.github.com/users/gbalabasquer/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/gbalabasquer/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/gbalabasquer/subscriptions",
    "organizations_url": "https://api.github.com/users/gbalabasquer/orgs",
    "repos_url": "https://api.github.com/users/gbalabasquer/repos",
    "events_url": "https://api.github.com/users/gbalabasquer/events{/privacy}",
    "received_events_url": "https://api.github.com/users/gbalabasquer/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/4307/reactions",
    "total_count": 1,
    "+1": 1,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/foundry-rs/foundry/issues/4307/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1422543870",
    "html_url": "https://github.com/foundry-rs/foundry/issues/4307#issuecomment-1422543870",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/4307",
    "id": 1422543870,
    "node_id": "IC_kwDOGBlvNc5Uykv-",
    "user": {
      "login": "mattsse",
      "id": 19890894,
      "node_id": "MDQ6VXNlcjE5ODkwODk0",
      "avatar_url": "https://avatars.githubusercontent.com/u/19890894?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mattsse",
      "html_url": "https://github.com/mattsse",
      "followers_url": "https://api.github.com/users/mattsse/followers",
      "following_url": "https://api.github.com/users/mattsse/following{/other_user}",
      "gists_url": "https://api.github.com/users/mattsse/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mattsse/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mattsse/subscriptions",
      "organizations_url": "https://api.github.com/users/mattsse/orgs",
      "repos_url": "https://api.github.com/users/mattsse/repos",
      "events_url": "https://api.github.com/users/mattsse/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mattsse/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-02-08T12:49:29Z",
    "updated_at": "2023-02-08T12:49:29Z",
    "author_association": "MEMBER",
    "body": "cc @odyslam ",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1422543870/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1422891066",
    "html_url": "https://github.com/foundry-rs/foundry/issues/4307#issuecomment-1422891066",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/4307",
    "id": 1422891066,
    "node_id": "IC_kwDOGBlvNc5Uz5g6",
    "user": {
      "login": "gbalabasquer",
      "id": 12644398,
      "node_id": "MDQ6VXNlcjEyNjQ0Mzk4",
      "avatar_url": "https://avatars.githubusercontent.com/u/12644398?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gbalabasquer",
      "html_url": "https://github.com/gbalabasquer",
      "followers_url": "https://api.github.com/users/gbalabasquer/followers",
      "following_url": "https://api.github.com/users/gbalabasquer/following{/other_user}",
      "gists_url": "https://api.github.com/users/gbalabasquer/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gbalabasquer/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gbalabasquer/subscriptions",
      "organizations_url": "https://api.github.com/users/gbalabasquer/orgs",
      "repos_url": "https://api.github.com/users/gbalabasquer/repos",
      "events_url": "https://api.github.com/users/gbalabasquer/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gbalabasquer/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-02-08T16:23:33Z",
    "updated_at": "2023-02-08T16:23:33Z",
    "author_association": "NONE",
    "body": "I guess you are already know, but just in case, I found the commit that introduced it: https://github.com/foundry-rs/foundry/commit/4b5303dae3c833c856ff106474a3f0da8e02d22a",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1422891066/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 1,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1427990305",
    "html_url": "https://github.com/foundry-rs/foundry/issues/4307#issuecomment-1427990305",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/4307",
    "id": 1427990305,
    "node_id": "IC_kwDOGBlvNc5VHWch",
    "user": {
      "login": "hexonaut",
      "id": 588921,
      "node_id": "MDQ6VXNlcjU4ODkyMQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/588921?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hexonaut",
      "html_url": "https://github.com/hexonaut",
      "followers_url": "https://api.github.com/users/hexonaut/followers",
      "following_url": "https://api.github.com/users/hexonaut/following{/other_user}",
      "gists_url": "https://api.github.com/users/hexonaut/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hexonaut/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hexonaut/subscriptions",
      "organizations_url": "https://api.github.com/users/hexonaut/orgs",
      "repos_url": "https://api.github.com/users/hexonaut/repos",
      "events_url": "https://api.github.com/users/hexonaut/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hexonaut/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-02-13T14:02:27Z",
    "updated_at": "2023-02-13T14:03:31Z",
    "author_association": "CONTRIBUTOR",
    "body": "Ah this issue is because I reference JSON fields without the leading `.` just because it's cleaner. This previously was working and now it's not. Is this intention or a bug? If it's intentional we can change all the code.",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1427990305/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1428076910",
    "html_url": "https://github.com/foundry-rs/foundry/issues/4307#issuecomment-1428076910",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/4307",
    "id": 1428076910,
    "node_id": "IC_kwDOGBlvNc5VHrlu",
    "user": {
      "login": "hexonaut",
      "id": 588921,
      "node_id": "MDQ6VXNlcjU4ODkyMQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/588921?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hexonaut",
      "html_url": "https://github.com/hexonaut",
      "followers_url": "https://api.github.com/users/hexonaut/followers",
      "following_url": "https://api.github.com/users/hexonaut/following{/other_user}",
      "gists_url": "https://api.github.com/users/hexonaut/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hexonaut/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hexonaut/subscriptions",
      "organizations_url": "https://api.github.com/users/hexonaut/orgs",
      "repos_url": "https://api.github.com/users/hexonaut/repos",
      "events_url": "https://api.github.com/users/hexonaut/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hexonaut/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-02-13T14:56:38Z",
    "updated_at": "2023-02-13T14:56:38Z",
    "author_association": "CONTRIBUTOR",
    "body": "Talked to @odyslam and I think we can close this issue. We were using json pathing incorrectly by not prepending a `.` for accessing root object.",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1428076910/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1428095268",
    "html_url": "https://github.com/foundry-rs/foundry/issues/4307#issuecomment-1428095268",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/4307",
    "id": 1428095268,
    "node_id": "IC_kwDOGBlvNc5VHwEk",
    "user": {
      "login": "gbalabasquer",
      "id": 12644398,
      "node_id": "MDQ6VXNlcjEyNjQ0Mzk4",
      "avatar_url": "https://avatars.githubusercontent.com/u/12644398?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gbalabasquer",
      "html_url": "https://github.com/gbalabasquer",
      "followers_url": "https://api.github.com/users/gbalabasquer/followers",
      "following_url": "https://api.github.com/users/gbalabasquer/following{/other_user}",
      "gists_url": "https://api.github.com/users/gbalabasquer/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gbalabasquer/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gbalabasquer/subscriptions",
      "organizations_url": "https://api.github.com/users/gbalabasquer/orgs",
      "repos_url": "https://api.github.com/users/gbalabasquer/repos",
      "events_url": "https://api.github.com/users/gbalabasquer/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gbalabasquer/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-02-13T15:03:54Z",
    "updated_at": "2023-02-13T15:03:54Z",
    "author_association": "NONE",
    "body": "Closing it!",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1428095268/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1433618282",
    "html_url": "https://github.com/foundry-rs/foundry/issues/4307#issuecomment-1433618282",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/4307",
    "id": 1433618282,
    "node_id": "IC_kwDOGBlvNc5Vc0dq",
    "user": {
      "login": "Valentin-Seehausen",
      "id": 10600295,
      "node_id": "MDQ6VXNlcjEwNjAwMjk1",
      "avatar_url": "https://avatars.githubusercontent.com/u/10600295?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Valentin-Seehausen",
      "html_url": "https://github.com/Valentin-Seehausen",
      "followers_url": "https://api.github.com/users/Valentin-Seehausen/followers",
      "following_url": "https://api.github.com/users/Valentin-Seehausen/following{/other_user}",
      "gists_url": "https://api.github.com/users/Valentin-Seehausen/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Valentin-Seehausen/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Valentin-Seehausen/subscriptions",
      "organizations_url": "https://api.github.com/users/Valentin-Seehausen/orgs",
      "repos_url": "https://api.github.com/users/Valentin-Seehausen/repos",
      "events_url": "https://api.github.com/users/Valentin-Seehausen/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Valentin-Seehausen/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-02-16T19:42:12Z",
    "updated_at": "2023-02-16T19:42:12Z",
    "author_association": "NONE",
    "body": "For anyone else wondering how to change their codebase, this is the reference code: https://book.getfoundry.sh/cheatcodes/parse-json#how-to-use-stdjson\r\n\r\nShould be something like this:\r\n\r\n```\r\nbytes memory transactionDetails = json.parseRaw(\".transactions[0].tx\");\r\n// Or, if you use a variable:\r\nbytes memory data = json.parseRaw(string.concat(\".\", name));\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1433618282/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
