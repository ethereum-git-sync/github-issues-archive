{
  "url": "https://api.github.com/repos/foundry-rs/foundry/issues/4473",
  "repository_url": "https://api.github.com/repos/foundry-rs/foundry",
  "labels_url": "https://api.github.com/repos/foundry-rs/foundry/issues/4473/labels{/name}",
  "comments_url": "https://api.github.com/repos/foundry-rs/foundry/issues/4473/comments",
  "events_url": "https://api.github.com/repos/foundry-rs/foundry/issues/4473/events",
  "html_url": "https://github.com/foundry-rs/foundry/issues/4473",
  "id": 1609064071,
  "node_id": "I_kwDOGBlvNc5f6F6H",
  "number": 4473,
  "title": "Can't compile after update forge-std to 1.5",
  "user": {
    "login": "0xDmtri",
    "id": 33504992,
    "node_id": "MDQ6VXNlcjMzNTA0OTky",
    "avatar_url": "https://avatars.githubusercontent.com/u/33504992?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/0xDmtri",
    "html_url": "https://github.com/0xDmtri",
    "followers_url": "https://api.github.com/users/0xDmtri/followers",
    "following_url": "https://api.github.com/users/0xDmtri/following{/other_user}",
    "gists_url": "https://api.github.com/users/0xDmtri/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/0xDmtri/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/0xDmtri/subscriptions",
    "organizations_url": "https://api.github.com/users/0xDmtri/orgs",
    "repos_url": "https://api.github.com/users/0xDmtri/repos",
    "events_url": "https://api.github.com/users/0xDmtri/events{/privacy}",
    "received_events_url": "https://api.github.com/users/0xDmtri/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 3334394228,
      "node_id": "MDU6TGFiZWwzMzM0Mzk0MjI4",
      "url": "https://api.github.com/repos/foundry-rs/foundry/labels/T-bug",
      "name": "T-bug",
      "color": "d73a4a",
      "default": false,
      "description": "Type: bug"
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 3,
  "created_at": "2023-03-03T18:12:54Z",
  "updated_at": "2023-03-03T22:41:50Z",
  "closed_at": null,
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "### Component\r\n\r\nForge\r\n\r\n### Have you ensured that all of these are up to date?\r\n\r\n- [X] Foundry\r\n- [X] Foundryup\r\n\r\n### What version of Foundry are you on?\r\n\r\nforge 0.2.0 (f96e0ba 2023-03-03T01:47:26.815053Z)\r\n\r\n### What command(s) is the bug in?\r\n\r\nforge build\r\n\r\n### Operating System\r\n\r\nmacOS (Apple Silicon)\r\n\r\n### Describe the bug\r\n\r\nFirst of all, I wanted to bump my deps, and ran `forge update` as I usually do (was running 1.1.0), which resulted in an error of git submodules. So to cure it I simply `forge remove && forge install`. And then after that I started getting this error on build:\r\n\r\nCompiler run failed\r\nYulException: Variable _28 is 1 too deep in the stack [ JUNK JUNK _28 _3 _18 memPtr_2 srcEnd _22 src _2 _21 _23 _25 dst memPtr_3 srcEnd_1 src_1 dst_1 value_2 ]\r\nmemoryguard was present.\r\n\r\nI even tried removing other deps and compiling pure solidity but I would still get this error. Any ideas? \r\n\r\n\r\nP.S. I do have Yul in my code and I do know that I have to use `--via-ir` :)",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/4473/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/foundry-rs/foundry/issues/4473/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1454022605",
    "html_url": "https://github.com/foundry-rs/foundry/issues/4473#issuecomment-1454022605",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/4473",
    "id": 1454022605,
    "node_id": "IC_kwDOGBlvNc5Wqp_N",
    "user": {
      "login": "mattsse",
      "id": 19890894,
      "node_id": "MDQ6VXNlcjE5ODkwODk0",
      "avatar_url": "https://avatars.githubusercontent.com/u/19890894?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mattsse",
      "html_url": "https://github.com/mattsse",
      "followers_url": "https://api.github.com/users/mattsse/followers",
      "following_url": "https://api.github.com/users/mattsse/following{/other_user}",
      "gists_url": "https://api.github.com/users/mattsse/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mattsse/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mattsse/subscriptions",
      "organizations_url": "https://api.github.com/users/mattsse/orgs",
      "repos_url": "https://api.github.com/users/mattsse/repos",
      "events_url": "https://api.github.com/users/mattsse/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mattsse/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-03-03T19:27:29Z",
    "updated_at": "2023-03-03T19:27:29Z",
    "author_association": "MEMBER",
    "body": "this is thrown by solc.\r\ncould be that some recent changes affected your stack.\r\nbut hard to tell without additional context. ",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1454022605/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1454206419",
    "html_url": "https://github.com/foundry-rs/foundry/issues/4473#issuecomment-1454206419",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/4473",
    "id": 1454206419,
    "node_id": "IC_kwDOGBlvNc5WrW3T",
    "user": {
      "login": "0xDmtri",
      "id": 33504992,
      "node_id": "MDQ6VXNlcjMzNTA0OTky",
      "avatar_url": "https://avatars.githubusercontent.com/u/33504992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/0xDmtri",
      "html_url": "https://github.com/0xDmtri",
      "followers_url": "https://api.github.com/users/0xDmtri/followers",
      "following_url": "https://api.github.com/users/0xDmtri/following{/other_user}",
      "gists_url": "https://api.github.com/users/0xDmtri/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/0xDmtri/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/0xDmtri/subscriptions",
      "organizations_url": "https://api.github.com/users/0xDmtri/orgs",
      "repos_url": "https://api.github.com/users/0xDmtri/repos",
      "events_url": "https://api.github.com/users/0xDmtri/events{/privacy}",
      "received_events_url": "https://api.github.com/users/0xDmtri/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-03-03T22:23:07Z",
    "updated_at": "2023-03-03T22:23:07Z",
    "author_association": "NONE",
    "body": "> this is thrown by solc. could be that some recent changes affected your stack. but hard to tell without additional context.\r\n\r\nYeah, makes sense, so weird tho, works with 1.1.1 but doesnt with 1.5.0, same compiler. Everything is the same lol. Possibly 1.5.0 has changed some args for Solc? ",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1454206419/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1454222497",
    "html_url": "https://github.com/foundry-rs/foundry/issues/4473#issuecomment-1454222497",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/4473",
    "id": 1454222497,
    "node_id": "IC_kwDOGBlvNc5Wrayh",
    "user": {
      "login": "0xDmtri",
      "id": 33504992,
      "node_id": "MDQ6VXNlcjMzNTA0OTky",
      "avatar_url": "https://avatars.githubusercontent.com/u/33504992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/0xDmtri",
      "html_url": "https://github.com/0xDmtri",
      "followers_url": "https://api.github.com/users/0xDmtri/followers",
      "following_url": "https://api.github.com/users/0xDmtri/following{/other_user}",
      "gists_url": "https://api.github.com/users/0xDmtri/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/0xDmtri/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/0xDmtri/subscriptions",
      "organizations_url": "https://api.github.com/users/0xDmtri/orgs",
      "repos_url": "https://api.github.com/users/0xDmtri/repos",
      "events_url": "https://api.github.com/users/0xDmtri/events{/privacy}",
      "received_events_url": "https://api.github.com/users/0xDmtri/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-03-03T22:41:03Z",
    "updated_at": "2023-03-03T22:41:50Z",
    "author_association": "NONE",
    "body": "> this is thrown by solc. could be that some recent changes affected your stack. but hard to tell without additional context.\r\n\r\nMassive LoL, idk why, but if I comment out anything within those two tests (i commented out one of the `console2.log()`), it fucking works lol. I dont see massive stack usage there tbh...\r\n\r\n<img width=\"1037\" alt=\"Screenshot 2023-03-03 at 10 36 26 PM\" src=\"https://user-images.githubusercontent.com/33504992/222845055-e081fe31-3d65-40c6-b813-8552515e65fd.png\">\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1454222497/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
