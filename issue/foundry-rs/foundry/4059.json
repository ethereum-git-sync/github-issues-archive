{
  "url": "https://api.github.com/repos/foundry-rs/foundry/issues/4059",
  "repository_url": "https://api.github.com/repos/foundry-rs/foundry",
  "labels_url": "https://api.github.com/repos/foundry-rs/foundry/issues/4059/labels{/name}",
  "comments_url": "https://api.github.com/repos/foundry-rs/foundry/issues/4059/comments",
  "events_url": "https://api.github.com/repos/foundry-rs/foundry/issues/4059/events",
  "html_url": "https://github.com/foundry-rs/foundry/issues/4059",
  "id": 1525867514,
  "node_id": "I_kwDOGBlvNc5a8uP6",
  "number": 4059,
  "title": "Error message tell you if it's an integer overflow OR underflow error",
  "user": {
    "login": "jhweintraub",
    "id": 26035072,
    "node_id": "MDQ6VXNlcjI2MDM1MDcy",
    "avatar_url": "https://avatars.githubusercontent.com/u/26035072?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/jhweintraub",
    "html_url": "https://github.com/jhweintraub",
    "followers_url": "https://api.github.com/users/jhweintraub/followers",
    "following_url": "https://api.github.com/users/jhweintraub/following{/other_user}",
    "gists_url": "https://api.github.com/users/jhweintraub/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/jhweintraub/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/jhweintraub/subscriptions",
    "organizations_url": "https://api.github.com/users/jhweintraub/orgs",
    "repos_url": "https://api.github.com/users/jhweintraub/repos",
    "events_url": "https://api.github.com/users/jhweintraub/events{/privacy}",
    "received_events_url": "https://api.github.com/users/jhweintraub/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 3334394235,
      "node_id": "MDU6TGFiZWwzMzM0Mzk0MjM1",
      "url": "https://api.github.com/repos/foundry-rs/foundry/labels/good%20first%20issue",
      "name": "good first issue",
      "color": "0052CC",
      "default": true,
      "description": "Good for newcomers"
    },
    {
      "id": 3394555740,
      "node_id": "LA_kwDOGBlvNc7KVM9c",
      "url": "https://api.github.com/repos/foundry-rs/foundry/labels/A-evm",
      "name": "A-evm",
      "color": "FBCA04",
      "default": false,
      "description": "Area: EVM"
    },
    {
      "id": 3593644820,
      "node_id": "LA_kwDOGBlvNc7WMqsU",
      "url": "https://api.github.com/repos/foundry-rs/foundry/labels/T-feature",
      "name": "T-feature",
      "color": "BFD4F2",
      "default": false,
      "description": "Type: feature"
    },
    {
      "id": 3703752787,
      "node_id": "LA_kwDOGBlvNc7cwshT",
      "url": "https://api.github.com/repos/foundry-rs/foundry/labels/C-forge",
      "name": "C-forge",
      "color": "5319E7",
      "default": false,
      "description": "Command: forge"
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 4,
  "created_at": "2023-01-09T15:58:39Z",
  "updated_at": "2023-06-25T10:55:37Z",
  "closed_at": null,
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "### Component\n\nForge\n\n### Describe the feature you would like\n\nWhen an arithmetic operation occurs outside of an unchecked block the system will revert due to an arithmetic error ```[FAIL. Reason: Arithmetic over/underflow]```. This can be due to either a subtraction underflowing zero or an operation overflowing the maximum integer overflowing the maximum int value allocated. I would like the error message to be slightly more informative, telling me if the issue was due to an integer overflowing or if it was due to an integer underflowing. This would make identifying the location of the bug as well as the reason much simpler. It would also be helpful if the error message could include data such as the values that caused the error. For example, \"Integer underflowed, a - b\" and then showing what the inputs to the opcode were similar to how a failed assertion displays the information.\r\n\n\n### Additional context\n\n_No response_",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/4059/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/foundry-rs/foundry/issues/4059/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1508504096",
    "html_url": "https://github.com/foundry-rs/foundry/issues/4059#issuecomment-1508504096",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/4059",
    "id": 1508504096,
    "node_id": "IC_kwDOGBlvNc5Z6fIg",
    "user": {
      "login": "lucaprov1989",
      "id": 19309416,
      "node_id": "MDQ6VXNlcjE5MzA5NDE2",
      "avatar_url": "https://avatars.githubusercontent.com/u/19309416?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lucaprov1989",
      "html_url": "https://github.com/lucaprov1989",
      "followers_url": "https://api.github.com/users/lucaprov1989/followers",
      "following_url": "https://api.github.com/users/lucaprov1989/following{/other_user}",
      "gists_url": "https://api.github.com/users/lucaprov1989/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lucaprov1989/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lucaprov1989/subscriptions",
      "organizations_url": "https://api.github.com/users/lucaprov1989/orgs",
      "repos_url": "https://api.github.com/users/lucaprov1989/repos",
      "events_url": "https://api.github.com/users/lucaprov1989/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lucaprov1989/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-04-14T13:27:33Z",
    "updated_at": "2023-04-14T13:27:33Z",
    "author_association": "NONE",
    "body": "I would love to take this up!\r\n\r\n @mattsse any directions are welcome!",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1508504096/reactions",
      "total_count": 2,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 2,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1596190806",
    "html_url": "https://github.com/foundry-rs/foundry/issues/4059#issuecomment-1596190806",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/4059",
    "id": 1596190806,
    "node_id": "IC_kwDOGBlvNc5fI_BW",
    "user": {
      "login": "andyrobert3",
      "id": 15076300,
      "node_id": "MDQ6VXNlcjE1MDc2MzAw",
      "avatar_url": "https://avatars.githubusercontent.com/u/15076300?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/andyrobert3",
      "html_url": "https://github.com/andyrobert3",
      "followers_url": "https://api.github.com/users/andyrobert3/followers",
      "following_url": "https://api.github.com/users/andyrobert3/following{/other_user}",
      "gists_url": "https://api.github.com/users/andyrobert3/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/andyrobert3/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/andyrobert3/subscriptions",
      "organizations_url": "https://api.github.com/users/andyrobert3/orgs",
      "repos_url": "https://api.github.com/users/andyrobert3/repos",
      "events_url": "https://api.github.com/users/andyrobert3/events{/privacy}",
      "received_events_url": "https://api.github.com/users/andyrobert3/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-06-18T15:58:40Z",
    "updated_at": "2023-06-18T15:58:40Z",
    "author_association": "CONTRIBUTOR",
    "body": "@mattsse \r\n\r\nAny directions are welcome, some questions before I go deeper into this: \r\n1. Does the compiler provide the relevant warnings to differentiate between overflow & underflow?\r\n2. If so, where in the repository are the different errors thrown and handled?\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1596190806/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1603890002",
    "html_url": "https://github.com/foundry-rs/foundry/issues/4059#issuecomment-1603890002",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/4059",
    "id": 1603890002,
    "node_id": "IC_kwDOGBlvNc5fmWtS",
    "user": {
      "login": "andyrobert3",
      "id": 15076300,
      "node_id": "MDQ6VXNlcjE1MDc2MzAw",
      "avatar_url": "https://avatars.githubusercontent.com/u/15076300?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/andyrobert3",
      "html_url": "https://github.com/andyrobert3",
      "followers_url": "https://api.github.com/users/andyrobert3/followers",
      "following_url": "https://api.github.com/users/andyrobert3/following{/other_user}",
      "gists_url": "https://api.github.com/users/andyrobert3/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/andyrobert3/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/andyrobert3/subscriptions",
      "organizations_url": "https://api.github.com/users/andyrobert3/orgs",
      "repos_url": "https://api.github.com/users/andyrobert3/repos",
      "events_url": "https://api.github.com/users/andyrobert3/events{/privacy}",
      "received_events_url": "https://api.github.com/users/andyrobert3/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-06-23T08:03:56Z",
    "updated_at": "2023-06-23T08:03:56Z",
    "author_association": "CONTRIBUTOR",
    "body": "@Evalir any thoughts here",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1603890002/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1606024905",
    "html_url": "https://github.com/foundry-rs/foundry/issues/4059#issuecomment-1606024905",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/4059",
    "id": 1606024905,
    "node_id": "IC_kwDOGBlvNc5fuf7J",
    "user": {
      "login": "mds1",
      "id": 17163988,
      "node_id": "MDQ6VXNlcjE3MTYzOTg4",
      "avatar_url": "https://avatars.githubusercontent.com/u/17163988?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mds1",
      "html_url": "https://github.com/mds1",
      "followers_url": "https://api.github.com/users/mds1/followers",
      "following_url": "https://api.github.com/users/mds1/following{/other_user}",
      "gists_url": "https://api.github.com/users/mds1/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mds1/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mds1/subscriptions",
      "organizations_url": "https://api.github.com/users/mds1/orgs",
      "repos_url": "https://api.github.com/users/mds1/repos",
      "events_url": "https://api.github.com/users/mds1/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mds1/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-06-25T10:55:37Z",
    "updated_at": "2023-06-25T10:55:37Z",
    "author_association": "COLLABORATOR",
    "body": "I don't think this is going to be easy. Solidity provides a single [panic code](https://docs.soliditylang.org/en/latest/control-structures.html#panic-via-assert-and-error-via-require), 0x11, to indicate both overflow and underflow. Therefore you'll have to use source maps to map bytecode locations back to source code locations and look at the source code to determine the specific error. This is basically how coverage works. And if you're going to do that, you may as well generalize this to instead print the line number that triggered any revert, instead of only handling the overflow case",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1606024905/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
