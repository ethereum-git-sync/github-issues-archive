{
  "url": "https://api.github.com/repos/foundry-rs/foundry/issues/5994",
  "repository_url": "https://api.github.com/repos/foundry-rs/foundry",
  "labels_url": "https://api.github.com/repos/foundry-rs/foundry/issues/5994/labels{/name}",
  "comments_url": "https://api.github.com/repos/foundry-rs/foundry/issues/5994/comments",
  "events_url": "https://api.github.com/repos/foundry-rs/foundry/issues/5994/events",
  "html_url": "https://github.com/foundry-rs/foundry/issues/5994",
  "id": 1928754982,
  "node_id": "I_kwDOGBlvNc5y9ncm",
  "number": 5994,
  "title": "Add engine API to anvil",
  "user": {
    "login": "roninjin10",
    "id": 35039927,
    "node_id": "MDQ6VXNlcjM1MDM5OTI3",
    "avatar_url": "https://avatars.githubusercontent.com/u/35039927?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/roninjin10",
    "html_url": "https://github.com/roninjin10",
    "followers_url": "https://api.github.com/users/roninjin10/followers",
    "following_url": "https://api.github.com/users/roninjin10/following{/other_user}",
    "gists_url": "https://api.github.com/users/roninjin10/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/roninjin10/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/roninjin10/subscriptions",
    "organizations_url": "https://api.github.com/users/roninjin10/orgs",
    "repos_url": "https://api.github.com/users/roninjin10/repos",
    "events_url": "https://api.github.com/users/roninjin10/events{/privacy}",
    "received_events_url": "https://api.github.com/users/roninjin10/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 3593644820,
      "node_id": "LA_kwDOGBlvNc7WMqsU",
      "url": "https://api.github.com/repos/foundry-rs/foundry/labels/T-feature",
      "name": "T-feature",
      "color": "BFD4F2",
      "default": false,
      "description": "Type: feature"
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 4,
  "created_at": "2023-10-05T17:31:30Z",
  "updated_at": "2023-10-17T13:51:15Z",
  "closed_at": null,
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "### Component\n\nAnvil\n\n### Describe the feature you would like\n\nThe Engine API is currently in RETH but not supported in anvil. Adding the engine API to anvil would be generally useful. For example, it would allow Anvil to work seamlessly within a multichain OP-chain devnet running on top of anvil. Without the engine api this must be hacked around.\n\n### Additional context\n\nSome links about OP node and engine api:\r\n- https://github.com/ethereum/execution-apis/blob/main/src/engine/README.md\r\n",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/5994/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/foundry-rs/foundry/issues/5994/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1766155973",
    "html_url": "https://github.com/foundry-rs/foundry/issues/5994#issuecomment-1766155973",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/5994",
    "id": 1766155973,
    "node_id": "IC_kwDOGBlvNc5pRWbF",
    "user": {
      "login": "mattsse",
      "id": 19890894,
      "node_id": "MDQ6VXNlcjE5ODkwODk0",
      "avatar_url": "https://avatars.githubusercontent.com/u/19890894?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mattsse",
      "html_url": "https://github.com/mattsse",
      "followers_url": "https://api.github.com/users/mattsse/followers",
      "following_url": "https://api.github.com/users/mattsse/following{/other_user}",
      "gists_url": "https://api.github.com/users/mattsse/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mattsse/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mattsse/subscriptions",
      "organizations_url": "https://api.github.com/users/mattsse/orgs",
      "repos_url": "https://api.github.com/users/mattsse/repos",
      "events_url": "https://api.github.com/users/mattsse/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mattsse/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-10-17T10:44:34Z",
    "updated_at": "2023-10-17T10:58:46Z",
    "author_association": "MEMBER",
    "body": "> Adding the engine API to anvil would be generally useful. For example, it would allow Anvil to work seamlessly within a multichain OP-chain devnet running on top of anvil.\r\n\r\nyou want support for this in anvil so you have a node and still have all the cheat endpoints?\r\notherwise op-reth would be an option\r\n\r\nI think we can add this as an opt-in feature, I can see how this could be useful. But could you elaborate on how this would be used?",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1766155973/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1766175762",
    "html_url": "https://github.com/foundry-rs/foundry/issues/5994#issuecomment-1766175762",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/5994",
    "id": 1766175762,
    "node_id": "IC_kwDOGBlvNc5pRbQS",
    "user": {
      "login": "Evalir",
      "id": 26014927,
      "node_id": "MDQ6VXNlcjI2MDE0OTI3",
      "avatar_url": "https://avatars.githubusercontent.com/u/26014927?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Evalir",
      "html_url": "https://github.com/Evalir",
      "followers_url": "https://api.github.com/users/Evalir/followers",
      "following_url": "https://api.github.com/users/Evalir/following{/other_user}",
      "gists_url": "https://api.github.com/users/Evalir/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Evalir/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Evalir/subscriptions",
      "organizations_url": "https://api.github.com/users/Evalir/orgs",
      "repos_url": "https://api.github.com/users/Evalir/repos",
      "events_url": "https://api.github.com/users/Evalir/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Evalir/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-10-17T10:57:56Z",
    "updated_at": "2023-10-17T10:57:56Z",
    "author_association": "MEMBER",
    "body": "Agree here with mattsseâ€”this could be useful, we just need to scope it properly.",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1766175762/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1766360063",
    "html_url": "https://github.com/foundry-rs/foundry/issues/5994#issuecomment-1766360063",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/5994",
    "id": 1766360063,
    "node_id": "IC_kwDOGBlvNc5pSIP_",
    "user": {
      "login": "roninjin10",
      "id": 35039927,
      "node_id": "MDQ6VXNlcjM1MDM5OTI3",
      "avatar_url": "https://avatars.githubusercontent.com/u/35039927?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/roninjin10",
      "html_url": "https://github.com/roninjin10",
      "followers_url": "https://api.github.com/users/roninjin10/followers",
      "following_url": "https://api.github.com/users/roninjin10/following{/other_user}",
      "gists_url": "https://api.github.com/users/roninjin10/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/roninjin10/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/roninjin10/subscriptions",
      "organizations_url": "https://api.github.com/users/roninjin10/orgs",
      "repos_url": "https://api.github.com/users/roninjin10/repos",
      "events_url": "https://api.github.com/users/roninjin10/events{/privacy}",
      "received_events_url": "https://api.github.com/users/roninjin10/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-10-17T12:53:13Z",
    "updated_at": "2023-10-17T12:53:13Z",
    "author_association": "CONTRIBUTOR",
    "body": "@mattsse exactly! We want to be able to do everything anvil does like cheat endpoints and state dumps within a multichain devnet. We also are looking to contribute helping add this.\r\n\r\nLink to issue: https://github.com/ethereum-optimism/mocktimism/issues/5\r\nLink to product document and eng doc: https://github.com/ethereum-optimism/mocktimism/issues/1\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1766360063/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1766464251",
    "html_url": "https://github.com/foundry-rs/foundry/issues/5994#issuecomment-1766464251",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/5994",
    "id": 1766464251,
    "node_id": "IC_kwDOGBlvNc5pShr7",
    "user": {
      "login": "mattsse",
      "id": 19890894,
      "node_id": "MDQ6VXNlcjE5ODkwODk0",
      "avatar_url": "https://avatars.githubusercontent.com/u/19890894?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mattsse",
      "html_url": "https://github.com/mattsse",
      "followers_url": "https://api.github.com/users/mattsse/followers",
      "following_url": "https://api.github.com/users/mattsse/following{/other_user}",
      "gists_url": "https://api.github.com/users/mattsse/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mattsse/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mattsse/subscriptions",
      "organizations_url": "https://api.github.com/users/mattsse/orgs",
      "repos_url": "https://api.github.com/users/mattsse/repos",
      "events_url": "https://api.github.com/users/mattsse/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mattsse/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-10-17T13:51:14Z",
    "updated_at": "2023-10-17T13:51:14Z",
    "author_association": "MEMBER",
    "body": "okay, actually I think this shouldn't be too complex,\r\n\r\nbasically new_payload buffers received blocks\r\nFCU then executes the block(s) and updates the state\r\n\r\nthere are def some limitations when it comes to full validation etc, but getting the newpayload and fcu endpoints working (optimistically without full validation) should be doable.",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1766464251/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
