{
  "url": "https://api.github.com/repos/foundry-rs/foundry/issues/840",
  "repository_url": "https://api.github.com/repos/foundry-rs/foundry",
  "labels_url": "https://api.github.com/repos/foundry-rs/foundry/issues/840/labels{/name}",
  "comments_url": "https://api.github.com/repos/foundry-rs/foundry/issues/840/comments",
  "events_url": "https://api.github.com/repos/foundry-rs/foundry/issues/840/events",
  "html_url": "https://github.com/foundry-rs/foundry/issues/840",
  "id": 1159128470,
  "node_id": "I_kwDOGBlvNc5FFuWW",
  "number": 840,
  "title": "Check for environment variables in .env files",
  "user": {
    "login": "pmdaly",
    "id": 8229664,
    "node_id": "MDQ6VXNlcjgyMjk2NjQ=",
    "avatar_url": "https://avatars.githubusercontent.com/u/8229664?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/pmdaly",
    "html_url": "https://github.com/pmdaly",
    "followers_url": "https://api.github.com/users/pmdaly/followers",
    "following_url": "https://api.github.com/users/pmdaly/following{/other_user}",
    "gists_url": "https://api.github.com/users/pmdaly/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/pmdaly/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/pmdaly/subscriptions",
    "organizations_url": "https://api.github.com/users/pmdaly/orgs",
    "repos_url": "https://api.github.com/users/pmdaly/repos",
    "events_url": "https://api.github.com/users/pmdaly/events{/privacy}",
    "received_events_url": "https://api.github.com/users/pmdaly/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 3593644820,
      "node_id": "LA_kwDOGBlvNc7WMqsU",
      "url": "https://api.github.com/repos/foundry-rs/foundry/labels/T-feature",
      "name": "T-feature",
      "color": "BFD4F2",
      "default": false,
      "description": "Type: feature"
    },
    {
      "id": 3703752787,
      "node_id": "LA_kwDOGBlvNc7cwshT",
      "url": "https://api.github.com/repos/foundry-rs/foundry/labels/C-forge",
      "name": "C-forge",
      "color": "5319E7",
      "default": false,
      "description": "Command: forge"
    },
    {
      "id": 3759719790,
      "node_id": "LA_kwDOGBlvNc7gGMVu",
      "url": "https://api.github.com/repos/foundry-rs/foundry/labels/P-low",
      "name": "P-low",
      "color": "D93F0B",
      "default": false,
      "description": "Priority: low"
    },
    {
      "id": 3759720552,
      "node_id": "LA_kwDOGBlvNc7gGMho",
      "url": "https://api.github.com/repos/foundry-rs/foundry/labels/D-easy",
      "name": "D-easy",
      "color": "0E8A16",
      "default": false,
      "description": "Difficulty: easy"
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 3,
  "created_at": "2022-03-04T01:00:10Z",
  "updated_at": "2022-08-03T18:56:34Z",
  "closed_at": "2022-08-03T18:56:34Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "### Component\n\nForge\n\n### Describe the feature you would like\n\nIt's common to use a different RPC per project and to additionally not want it public.  The current method for supplying an rpc is to either add it to foundry.toml, set it in the session, or set it in some profile config file like .zshrc, .profile etc.   It's common to version control the toml file so placing the rpc in there isn't ideal and using a globally set env var makes it messy to work with multiple projects.  \r\n\r\nProposed solution: in addition to checking default config, foundry.toml and env vars, add an additional check to see if vars are stored in the project's .env file if it exists.  I'm not even sure the rpc should be an option in the toml file.  \n\n### Additional context\n\n_No response_",
  "closed_by": {
    "login": "gakonst",
    "id": 17802178,
    "node_id": "MDQ6VXNlcjE3ODAyMTc4",
    "avatar_url": "https://avatars.githubusercontent.com/u/17802178?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/gakonst",
    "html_url": "https://github.com/gakonst",
    "followers_url": "https://api.github.com/users/gakonst/followers",
    "following_url": "https://api.github.com/users/gakonst/following{/other_user}",
    "gists_url": "https://api.github.com/users/gakonst/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/gakonst/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/gakonst/subscriptions",
    "organizations_url": "https://api.github.com/users/gakonst/orgs",
    "repos_url": "https://api.github.com/users/gakonst/repos",
    "events_url": "https://api.github.com/users/gakonst/events{/privacy}",
    "received_events_url": "https://api.github.com/users/gakonst/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/840/reactions",
    "total_count": 2,
    "+1": 2,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/foundry-rs/foundry/issues/840/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1059091426",
    "html_url": "https://github.com/foundry-rs/foundry/issues/840#issuecomment-1059091426",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/840",
    "id": 1059091426,
    "node_id": "IC_kwDOGBlvNc4_IHPi",
    "user": {
      "login": "odyslam",
      "id": 13405632,
      "node_id": "MDQ6VXNlcjEzNDA1NjMy",
      "avatar_url": "https://avatars.githubusercontent.com/u/13405632?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/odyslam",
      "html_url": "https://github.com/odyslam",
      "followers_url": "https://api.github.com/users/odyslam/followers",
      "following_url": "https://api.github.com/users/odyslam/following{/other_user}",
      "gists_url": "https://api.github.com/users/odyslam/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/odyslam/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/odyslam/subscriptions",
      "organizations_url": "https://api.github.com/users/odyslam/orgs",
      "repos_url": "https://api.github.com/users/odyslam/repos",
      "events_url": "https://api.github.com/users/odyslam/events{/privacy}",
      "received_events_url": "https://api.github.com/users/odyslam/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-03-04T11:45:05Z",
    "updated_at": "2022-03-04T11:45:05Z",
    "author_association": "CONTRIBUTOR",
    "body": "Adding a `.env` file that's not a proper bash script (as is .dapprc) but a simple .env file should be easy enough. There is a relevant crate for this. \r\n\r\nThat being said, perhaps it's better to do `source .env && ...` and use makefile ",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1059091426/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1172975670",
    "html_url": "https://github.com/foundry-rs/foundry/issues/840#issuecomment-1172975670",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/840",
    "id": 1172975670,
    "node_id": "IC_kwDOGBlvNc5F6jA2",
    "user": {
      "login": "sambacha",
      "id": 32783916,
      "node_id": "MDQ6VXNlcjMyNzgzOTE2",
      "avatar_url": "https://avatars.githubusercontent.com/u/32783916?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sambacha",
      "html_url": "https://github.com/sambacha",
      "followers_url": "https://api.github.com/users/sambacha/followers",
      "following_url": "https://api.github.com/users/sambacha/following{/other_user}",
      "gists_url": "https://api.github.com/users/sambacha/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sambacha/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sambacha/subscriptions",
      "organizations_url": "https://api.github.com/users/sambacha/orgs",
      "repos_url": "https://api.github.com/users/sambacha/repos",
      "events_url": "https://api.github.com/users/sambacha/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sambacha/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-07-02T23:01:52Z",
    "updated_at": "2022-07-02T23:01:52Z",
    "author_association": "CONTRIBUTOR",
    "body": "> Adding a `.env` file that's not a proper bash script (as is .dapprc) but a simple .env file should be easy enough. There is a relevant crate for this. \n> \n> \n> \n> That being said, perhaps it's better to do `source .env && ...` and use makefile \n\nFinally. Yes. Instead though upgrade to justfile, https://github.com/sambacha/foundry-scripts/blob/master/justfile\n\nBid Makefile adios yes. \n\nThis justfile will correctly load your .env file. It also offers some convenience scripts.\n\n\nJust \n\n```bash\njust build\n",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1172975670/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1202274396",
    "html_url": "https://github.com/foundry-rs/foundry/issues/840#issuecomment-1202274396",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/840",
    "id": 1202274396,
    "node_id": "IC_kwDOGBlvNc5HqUBc",
    "user": {
      "login": "sakulstra",
      "id": 4396533,
      "node_id": "MDQ6VXNlcjQzOTY1MzM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4396533?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sakulstra",
      "html_url": "https://github.com/sakulstra",
      "followers_url": "https://api.github.com/users/sakulstra/followers",
      "following_url": "https://api.github.com/users/sakulstra/following{/other_user}",
      "gists_url": "https://api.github.com/users/sakulstra/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sakulstra/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sakulstra/subscriptions",
      "organizations_url": "https://api.github.com/users/sakulstra/orgs",
      "repos_url": "https://api.github.com/users/sakulstra/repos",
      "events_url": "https://api.github.com/users/sakulstra/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sakulstra/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-08-02T09:57:08Z",
    "updated_at": "2022-08-02T09:57:58Z",
    "author_association": "CONTRIBUTOR",
    "body": "Just want to second that `.env` file support would be great.\r\nHave started using foundry two months ago and already faced projects using:\r\n- npm scripts with cross-env package calling foundry\r\n- shell scripts for everything\r\n- readme docs (asking the dev to write ` forge test --fork-url https://eth-mainnet.alchemyapi.io/v2/<apiKey> --fork-block-number 15006652 -vv ` and similar)\r\n- makefiles\r\n\r\nAll of these seem to essentially be workarounds for getting `.env` into `foundry` / `foundry.toml` (as i get it while the toml supports env variables `[rpc_endpoints] mainnet = \"${RPC_MAINNET}\"` you have to source them before as it doesn't read `.env` automatically.\r\n\r\nWould love to see native `.env` support to increase consistency across projects & decrease custom build solutions where ppl can just run `foundry test` and things work.",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1202274396/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
