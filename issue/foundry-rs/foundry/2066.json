{
  "url": "https://api.github.com/repos/foundry-rs/foundry/issues/2066",
  "repository_url": "https://api.github.com/repos/foundry-rs/foundry",
  "labels_url": "https://api.github.com/repos/foundry-rs/foundry/issues/2066/labels{/name}",
  "comments_url": "https://api.github.com/repos/foundry-rs/foundry/issues/2066/comments",
  "events_url": "https://api.github.com/repos/foundry-rs/foundry/issues/2066/events",
  "html_url": "https://github.com/foundry-rs/foundry/issues/2066",
  "id": 1280039558,
  "node_id": "I_kwDOGBlvNc5MS9qG",
  "number": 2066,
  "title": "Forge compiles all test contracts when specified to only use one contract.",
  "user": {
    "login": "pedrommaiaa",
    "id": 100535780,
    "node_id": "U_kgDOBf4N5A",
    "avatar_url": "https://avatars.githubusercontent.com/u/100535780?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/pedrommaiaa",
    "html_url": "https://github.com/pedrommaiaa",
    "followers_url": "https://api.github.com/users/pedrommaiaa/followers",
    "following_url": "https://api.github.com/users/pedrommaiaa/following{/other_user}",
    "gists_url": "https://api.github.com/users/pedrommaiaa/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/pedrommaiaa/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/pedrommaiaa/subscriptions",
    "organizations_url": "https://api.github.com/users/pedrommaiaa/orgs",
    "repos_url": "https://api.github.com/users/pedrommaiaa/repos",
    "events_url": "https://api.github.com/users/pedrommaiaa/events{/privacy}",
    "received_events_url": "https://api.github.com/users/pedrommaiaa/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 3334394228,
      "node_id": "MDU6TGFiZWwzMzM0Mzk0MjI4",
      "url": "https://api.github.com/repos/foundry-rs/foundry/labels/T-bug",
      "name": "T-bug",
      "color": "d73a4a",
      "default": false,
      "description": "Type: bug"
    },
    {
      "id": 3593644915,
      "node_id": "LA_kwDOGBlvNc7WMqtz",
      "url": "https://api.github.com/repos/foundry-rs/foundry/labels/Cmd-forge-test",
      "name": "Cmd-forge-test",
      "color": "006B75",
      "default": false,
      "description": "Command: forge test"
    },
    {
      "id": 3703752787,
      "node_id": "LA_kwDOGBlvNc7cwshT",
      "url": "https://api.github.com/repos/foundry-rs/foundry/labels/C-forge",
      "name": "C-forge",
      "color": "5319E7",
      "default": false,
      "description": "Command: forge"
    },
    {
      "id": 3777098561,
      "node_id": "LA_kwDOGBlvNc7hIfNB",
      "url": "https://api.github.com/repos/foundry-rs/foundry/labels/Cmd-forge-build",
      "name": "Cmd-forge-build",
      "color": "006B75",
      "default": false,
      "description": "Command: forge build"
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": {
    "login": "mattsse",
    "id": 19890894,
    "node_id": "MDQ6VXNlcjE5ODkwODk0",
    "avatar_url": "https://avatars.githubusercontent.com/u/19890894?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/mattsse",
    "html_url": "https://github.com/mattsse",
    "followers_url": "https://api.github.com/users/mattsse/followers",
    "following_url": "https://api.github.com/users/mattsse/following{/other_user}",
    "gists_url": "https://api.github.com/users/mattsse/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/mattsse/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/mattsse/subscriptions",
    "organizations_url": "https://api.github.com/users/mattsse/orgs",
    "repos_url": "https://api.github.com/users/mattsse/repos",
    "events_url": "https://api.github.com/users/mattsse/events{/privacy}",
    "received_events_url": "https://api.github.com/users/mattsse/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "mattsse",
      "id": 19890894,
      "node_id": "MDQ6VXNlcjE5ODkwODk0",
      "avatar_url": "https://avatars.githubusercontent.com/u/19890894?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mattsse",
      "html_url": "https://github.com/mattsse",
      "followers_url": "https://api.github.com/users/mattsse/followers",
      "following_url": "https://api.github.com/users/mattsse/following{/other_user}",
      "gists_url": "https://api.github.com/users/mattsse/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mattsse/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mattsse/subscriptions",
      "organizations_url": "https://api.github.com/users/mattsse/orgs",
      "repos_url": "https://api.github.com/users/mattsse/repos",
      "events_url": "https://api.github.com/users/mattsse/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mattsse/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 3,
  "created_at": "2022-06-22T12:04:48Z",
  "updated_at": "2022-08-23T16:41:38Z",
  "closed_at": null,
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "### Component\n\nForge\n\n### Have you ensured that all of these are up to date?\n\n- [X] Foundry\n- [X] Foundryup\n\n### What version of Foundry are you on?\n\nforge 0.2.0 (935c113 2022-06-22T00:14:50.974796Z)\n\n### What command(s) is the bug in?\n\nforge test --match-contract <CONTRACT_NAME>\n\n### Operating System\n\nmacOS (Apple Silicon)\n\n### Describe the bug\n\nI'm not sure if this is intended behavior or not but would be nice if when using `forge test --match-contract <CONTRACT_NAME>` the only test contract that is compiled is the contract mentioned and all the necessary imports.\r\n\r\nThis is how the situation unfolded for me:\r\n\r\nI made a change in a function in contract `A.sol` and I have two test contracts `BTest.sol` and `CTest.sol` both with tests using that function, I'm aware that tests in contract `CTest.sol` will fail to compile so I wanted to only test contract `BTest.sol`. Because forge compiles all contracts at the same time I'm unable to test `BTest.sol` without fixing `CTest.sol`.",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/2066/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/foundry-rs/foundry/issues/2066/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1163029422",
    "html_url": "https://github.com/foundry-rs/foundry/issues/2066#issuecomment-1163029422",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/2066",
    "id": 1163029422,
    "node_id": "IC_kwDOGBlvNc5FUmuu",
    "user": {
      "login": "mattsse",
      "id": 19890894,
      "node_id": "MDQ6VXNlcjE5ODkwODk0",
      "avatar_url": "https://avatars.githubusercontent.com/u/19890894?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mattsse",
      "html_url": "https://github.com/mattsse",
      "followers_url": "https://api.github.com/users/mattsse/followers",
      "following_url": "https://api.github.com/users/mattsse/following{/other_user}",
      "gists_url": "https://api.github.com/users/mattsse/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mattsse/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mattsse/subscriptions",
      "organizations_url": "https://api.github.com/users/mattsse/orgs",
      "repos_url": "https://api.github.com/users/mattsse/repos",
      "events_url": "https://api.github.com/users/mattsse/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mattsse/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-06-22T12:21:15Z",
    "updated_at": "2022-06-22T12:21:15Z",
    "author_association": "MEMBER",
    "body": "I see, \r\nthe contract filter is applied after the project is compiled.\r\n\r\nfiltering before we compile is not that trivial because of dependencies that may be in conflict with the filter.\r\n\r\nBut I guess for test contracts it shouldn't be that problematic since those usually only inherit.\r\n\r\nthis is the first time this came up, so have to think about if support for this scenario is worth adding.\r\n\r\na current workaround would be to use two test folders and two profiles so you can test separately via `FOUNDRY_PROFILE=b forge test`",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1163029422/reactions",
      "total_count": 2,
      "+1": 2,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1163140405",
    "html_url": "https://github.com/foundry-rs/foundry/issues/2066#issuecomment-1163140405",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/2066",
    "id": 1163140405,
    "node_id": "IC_kwDOGBlvNc5FVB01",
    "user": {
      "login": "pedrommaiaa",
      "id": 100535780,
      "node_id": "U_kgDOBf4N5A",
      "avatar_url": "https://avatars.githubusercontent.com/u/100535780?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pedrommaiaa",
      "html_url": "https://github.com/pedrommaiaa",
      "followers_url": "https://api.github.com/users/pedrommaiaa/followers",
      "following_url": "https://api.github.com/users/pedrommaiaa/following{/other_user}",
      "gists_url": "https://api.github.com/users/pedrommaiaa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pedrommaiaa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pedrommaiaa/subscriptions",
      "organizations_url": "https://api.github.com/users/pedrommaiaa/orgs",
      "repos_url": "https://api.github.com/users/pedrommaiaa/repos",
      "events_url": "https://api.github.com/users/pedrommaiaa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pedrommaiaa/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-06-22T14:02:28Z",
    "updated_at": "2022-06-22T14:02:28Z",
    "author_association": "CONTRIBUTOR",
    "body": "Awesome! Feel free to close this issue if you decide that support won't be added. Would be good to add this to the foundry book if anyone has a similar issue.",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1163140405/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1212400560",
    "html_url": "https://github.com/foundry-rs/foundry/issues/2066#issuecomment-1212400560",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/2066",
    "id": 1212400560,
    "node_id": "IC_kwDOGBlvNc5IQ8Ow",
    "user": {
      "login": "onbjerg",
      "id": 8862627,
      "node_id": "MDQ6VXNlcjg4NjI2Mjc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8862627?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/onbjerg",
      "html_url": "https://github.com/onbjerg",
      "followers_url": "https://api.github.com/users/onbjerg/followers",
      "following_url": "https://api.github.com/users/onbjerg/following{/other_user}",
      "gists_url": "https://api.github.com/users/onbjerg/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/onbjerg/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/onbjerg/subscriptions",
      "organizations_url": "https://api.github.com/users/onbjerg/orgs",
      "repos_url": "https://api.github.com/users/onbjerg/repos",
      "events_url": "https://api.github.com/users/onbjerg/events{/privacy}",
      "received_events_url": "https://api.github.com/users/onbjerg/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-08-11T19:29:33Z",
    "updated_at": "2022-08-11T19:29:33Z",
    "author_association": "MEMBER",
    "body": "Related to sparse mode which had some bugs",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1212400560/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
