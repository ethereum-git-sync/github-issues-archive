{
  "url": "https://api.github.com/repos/foundry-rs/foundry/issues/5624",
  "repository_url": "https://api.github.com/repos/foundry-rs/foundry",
  "labels_url": "https://api.github.com/repos/foundry-rs/foundry/issues/5624/labels{/name}",
  "comments_url": "https://api.github.com/repos/foundry-rs/foundry/issues/5624/comments",
  "events_url": "https://api.github.com/repos/foundry-rs/foundry/issues/5624/events",
  "html_url": "https://github.com/foundry-rs/foundry/issues/5624",
  "id": 1849812189,
  "node_id": "I_kwDOGBlvNc5uQeTd",
  "number": 5624,
  "title": "The function parameter names are the same, but the return value is different. There will be an error",
  "user": {
    "login": "SolExpDB",
    "id": 138878504,
    "node_id": "U_kgDOCEceKA",
    "avatar_url": "https://avatars.githubusercontent.com/u/138878504?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/SolExpDB",
    "html_url": "https://github.com/SolExpDB",
    "followers_url": "https://api.github.com/users/SolExpDB/followers",
    "following_url": "https://api.github.com/users/SolExpDB/following{/other_user}",
    "gists_url": "https://api.github.com/users/SolExpDB/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/SolExpDB/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/SolExpDB/subscriptions",
    "organizations_url": "https://api.github.com/users/SolExpDB/orgs",
    "repos_url": "https://api.github.com/users/SolExpDB/repos",
    "events_url": "https://api.github.com/users/SolExpDB/events{/privacy}",
    "received_events_url": "https://api.github.com/users/SolExpDB/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 3334394228,
      "node_id": "MDU6TGFiZWwzMzM0Mzk0MjI4",
      "url": "https://api.github.com/repos/foundry-rs/foundry/labels/T-bug",
      "name": "T-bug",
      "color": "d73a4a",
      "default": false,
      "description": "Type: bug"
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 1,
  "created_at": "2023-08-14T13:47:41Z",
  "updated_at": "2023-08-14T23:23:53Z",
  "closed_at": "2023-08-14T23:23:53Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "### Component\r\n\r\nForge\r\n\r\n### Have you ensured that all of these are up to date?\r\n\r\n- [X] Foundry\r\n- [ ] Foundryup\r\n\r\n### What version of Foundry are you on?\r\n\r\nforge 0.2.0 (dffdfde 2023-08-14T00:21:17.235733800Z)\r\n\r\n### What command(s) is the bug in?\r\n\r\n forge test --contracts exchange.sol\r\n\r\n### Operating System\r\n\r\nWindows\r\n\r\n### Describe the bug\r\n\r\n\"The same function parameter name, but different return values.\r\nFor the 'exchange' function of the Curve pool, the 2.x version does not have a return value. The 3.x version has a return value. If I combine the two contract interface files into one file, there will be an error.\"\r\n\r\nFor example：\r\n 2.x version:   \r\n       function exchange(int128 i, int128 j, uint256 dx, uint256 min_dy) external payable;\r\n\r\n 3.x version:  \r\n       function exchange(int128 i, int128 j, uint256 dx, uint256 min_dy) external payable returns (uint256);\r\n\r\n![屏幕截图 2023-08-14 214437](https://github.com/foundry-rs/foundry/assets/138878504/f67b259a-5df7-4e80-8565-628eff737f79)\r\n",
  "closed_by": {
    "login": "mds1",
    "id": 17163988,
    "node_id": "MDQ6VXNlcjE3MTYzOTg4",
    "avatar_url": "https://avatars.githubusercontent.com/u/17163988?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/mds1",
    "html_url": "https://github.com/mds1",
    "followers_url": "https://api.github.com/users/mds1/followers",
    "following_url": "https://api.github.com/users/mds1/following{/other_user}",
    "gists_url": "https://api.github.com/users/mds1/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/mds1/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/mds1/subscriptions",
    "organizations_url": "https://api.github.com/users/mds1/orgs",
    "repos_url": "https://api.github.com/users/mds1/repos",
    "events_url": "https://api.github.com/users/mds1/events{/privacy}",
    "received_events_url": "https://api.github.com/users/mds1/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/5624/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/foundry-rs/foundry/issues/5624/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1678217532",
    "html_url": "https://github.com/foundry-rs/foundry/issues/5624#issuecomment-1678217532",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/5624",
    "id": 1678217532,
    "node_id": "IC_kwDOGBlvNc5kB5E8",
    "user": {
      "login": "mds1",
      "id": 17163988,
      "node_id": "MDQ6VXNlcjE3MTYzOTg4",
      "avatar_url": "https://avatars.githubusercontent.com/u/17163988?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mds1",
      "html_url": "https://github.com/mds1",
      "followers_url": "https://api.github.com/users/mds1/followers",
      "following_url": "https://api.github.com/users/mds1/following{/other_user}",
      "gists_url": "https://api.github.com/users/mds1/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mds1/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mds1/subscriptions",
      "organizations_url": "https://api.github.com/users/mds1/orgs",
      "repos_url": "https://api.github.com/users/mds1/repos",
      "events_url": "https://api.github.com/users/mds1/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mds1/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-08-14T23:23:31Z",
    "updated_at": "2023-08-14T23:23:48Z",
    "author_association": "COLLABORATOR",
    "body": "This error is from solidity, and it's telling you that the `exchange` function is defined twice, but one version has a return value and the other does not. Functions are uniquely identified by their selector, and function selectors are computed from the function name and input arguments, not their return data, so you cannot have two functions with the same input but different return data.\r\n\r\nCheck out the solidity docs for more info on function selectors. This duplicate definition is a problem because when you call `.exchange`, solidity won't know whether it should expect a uint256 to be returned, or if nothing should be returned\r\n\r\nClosing since this is not a foundry issue :)",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1678217532/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
