{
  "url": "https://api.github.com/repos/foundry-rs/foundry/issues/5593",
  "repository_url": "https://api.github.com/repos/foundry-rs/foundry",
  "labels_url": "https://api.github.com/repos/foundry-rs/foundry/issues/5593/labels{/name}",
  "comments_url": "https://api.github.com/repos/foundry-rs/foundry/issues/5593/comments",
  "events_url": "https://api.github.com/repos/foundry-rs/foundry/issues/5593/events",
  "html_url": "https://github.com/foundry-rs/foundry/issues/5593",
  "id": 1845912579,
  "node_id": "I_kwDOGBlvNc5uBmQD",
  "number": 5593,
  "title": "`ContractRunner` seems to be broken on ubuntu",
  "user": {
    "login": "seunlanlege",
    "id": 16494314,
    "node_id": "MDQ6VXNlcjE2NDk0MzE0",
    "avatar_url": "https://avatars.githubusercontent.com/u/16494314?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/seunlanlege",
    "html_url": "https://github.com/seunlanlege",
    "followers_url": "https://api.github.com/users/seunlanlege/followers",
    "following_url": "https://api.github.com/users/seunlanlege/following{/other_user}",
    "gists_url": "https://api.github.com/users/seunlanlege/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/seunlanlege/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/seunlanlege/subscriptions",
    "organizations_url": "https://api.github.com/users/seunlanlege/orgs",
    "repos_url": "https://api.github.com/users/seunlanlege/repos",
    "events_url": "https://api.github.com/users/seunlanlege/events{/privacy}",
    "received_events_url": "https://api.github.com/users/seunlanlege/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 3334394228,
      "node_id": "MDU6TGFiZWwzMzM0Mzk0MjI4",
      "url": "https://api.github.com/repos/foundry-rs/foundry/labels/T-bug",
      "name": "T-bug",
      "color": "d73a4a",
      "default": false,
      "description": "Type: bug"
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 4,
  "created_at": "2023-08-10T21:17:32Z",
  "updated_at": "2023-08-10T21:30:59Z",
  "closed_at": "2023-08-10T21:28:33Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "### Component\n\nForge\n\n### Have you ensured that all of these are up to date?\n\n- [X] Foundry\n- [X] Foundryup\n\n### What version of Foundry are you on?\n\n_No response_\n\n### What command(s) is the bug in?\n\n_No response_\n\n### Operating System\n\nLinux\n\n### Describe the bug\n\nTried to use forge to deploy a contract for testing locally\r\n\r\nGot this instead in TestSetup.reason: \"EvmError: NotActivated\"\r\n\r\nversion: https://github.com/foundry-rs/foundry?rev=25d3ce7ca1eed4a9f1776103185e4221e8fa0a11\r\n\r\ntrace logs\r\n\r\n```\r\n2023-08-10T21:03:50.490818Z TRACE forge::runner: Setting test contract setup=true\r\n2023-08-10T21:03:50.490838Z TRACE foundry_evm::executor: setting account balance address=0x1804c8ab1f12e6bbf3894d4083f33e07309d1f38 amount=115792089237316195423570985008687907853269984665640564039457584007913129639935\r\n2023-08-10T21:03:50.490892Z TRACE foundry_evm::executor: setting account balance address=0x1804c8ab1f12e6bbf3894d4083f33e07309d1f38 amount=115792089237316195423570985008687907853269984665640564039457584007913129639935\r\n2023-08-10T21:03:50.490941Z TRACE foundry_evm::executor: deploying contract sender=0x1804c8ab1f12e6bbf3894d4083f33e07309d1f38\r\n2023-08-10T21:03:50.490967Z TRACE foundry_evm::executor::backend: setting caller account acc=0x1804c8ab1f12e6bbf3894d4083f33e07309d1f38\r\n2023-08-10T21:03:50.490977Z TRACE foundry_evm::executor::backend: allow cheatcode access account=0x1804c8ab1f12e6bbf3894d4083f33e07309d1f38\r\n2023-08-10T21:03:50.490992Z TRACE foundry_evm::executor::backend: setting precompile id\r\n2023-08-10T21:03:50.491057Z TRACE foundry_evm::executor::backend: setting test account acc=0x5b73c5498c1e3b4dba84de0f1833c4a029d90519\r\n2023-08-10T21:03:50.491068Z TRACE foundry_evm::executor::backend: add persistent account account=0x5b73c5498c1e3b4dba84de0f1833c4a029d90519\r\n2023-08-10T21:03:50.491079Z TRACE foundry_evm::executor::backend: allow cheatcode access account=0x5b73c5498c1e3b4dba84de0f1833c4a029d90519\r\n2023-08-10T21:03:50.491384Z TRACE foundry_evm::executor::backend: allow cheatcode access account=0x7fa9385be102ac3eac297483dd6233d62b3e1496\r\n[src/forge.rs:197] single_runner.errors = Some(\r\n    Contract {\r\n        constructor: None,\r\n        functions: {},\r\n        events: {},\r\n        errors: {},\r\n        receive: false,\r\n        fallback: false,\r\n    },\r\n)\r\n[src/forge.rs:199] &reason = Some(\r\n    \"EvmError: NotActivated\",\r\n)\r\n[src/forge.rs:200] &address = 0x0000000000000000000000000000000000000000\r\n2023-08-10T21:03:50.502636Z TRACE foundry_evm::executor::backend: setting caller account acc=0x1804c8ab1f12e6bbf3894d4083f33e07309d1f38\r\n2023-08-10T21:03:50.502657Z TRACE foundry_evm::executor::backend: allow cheatcode access account=0x1804c8ab1f12e6bbf3894d4083f33e07309d1f38\r\n2023-08-10T21:03:50.502668Z TRACE foundry_evm::executor::backend: setting precompile id\r\n2023-08-10T21:03:50.502675Z TRACE foundry_evm::executor::backend: setting test account acc=0x0000000000000000000000000000000000000000\r\n2023-08-10T21:03:50.502684Z TRACE foundry_evm::executor::backend: remove persistent account account=0x5b73c5498c1e3b4dba84de0f1833c4a029d90519\r\n2023-08-10T21:03:50.502697Z TRACE foundry_evm::executor::backend: revoke cheatcode access account=0x0000000000000000000000000000000000000000\r\n2023-08-10T21:03:50.502706Z TRACE foundry_evm::executor::backend: add persistent account account=0x0000000000000000000000000000000000000000\r\n2023-08-10T21:03:50.502715Z TRACE foundry_evm::executor::backend: allow cheatcode access account=0x0000000000000000000000000000000000000000\r\nthread 'merkle_mountain_range::test_random_mmr' panicked at src/merkle_mountain_range.rs:221:6:\r\ncalled `Result::unwrap()` on an `Err` value: AbiError(DecodingError(InvalidName(\"please ensure the contract and method you're calling exist! failed to decode empty bytes. if you're using jsonrpc this is likely due to jsonrpc returning `0x` in case contract or method don't exist\")))\r\n2023-08-10T21:03:50.502898Z TRACE fork::multi: initiating shutdown\r\n2023-08-10T21:03:50.502992Z TRACE fork::multi: received shutdown signal\r\n2023-08-10T21:03:50.503048Z TRACE fork::cache: multifork backend shutdown\r\n2023-08-10T21:03:50.503076Z TRACE fork::multi: request channel closed\r\n2023-08-10T21:03:50.503090Z TRACE fork::multi: completed\r\n```",
  "closed_by": {
    "login": "seunlanlege",
    "id": 16494314,
    "node_id": "MDQ6VXNlcjE2NDk0MzE0",
    "avatar_url": "https://avatars.githubusercontent.com/u/16494314?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/seunlanlege",
    "html_url": "https://github.com/seunlanlege",
    "followers_url": "https://api.github.com/users/seunlanlege/followers",
    "following_url": "https://api.github.com/users/seunlanlege/following{/other_user}",
    "gists_url": "https://api.github.com/users/seunlanlege/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/seunlanlege/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/seunlanlege/subscriptions",
    "organizations_url": "https://api.github.com/users/seunlanlege/orgs",
    "repos_url": "https://api.github.com/users/seunlanlege/repos",
    "events_url": "https://api.github.com/users/seunlanlege/events{/privacy}",
    "received_events_url": "https://api.github.com/users/seunlanlege/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/5593/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/foundry-rs/foundry/issues/5593/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1673937011",
    "html_url": "https://github.com/foundry-rs/foundry/issues/5593#issuecomment-1673937011",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/5593",
    "id": 1673937011,
    "node_id": "IC_kwDOGBlvNc5jxkBz",
    "user": {
      "login": "mattsse",
      "id": 19890894,
      "node_id": "MDQ6VXNlcjE5ODkwODk0",
      "avatar_url": "https://avatars.githubusercontent.com/u/19890894?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mattsse",
      "html_url": "https://github.com/mattsse",
      "followers_url": "https://api.github.com/users/mattsse/followers",
      "following_url": "https://api.github.com/users/mattsse/following{/other_user}",
      "gists_url": "https://api.github.com/users/mattsse/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mattsse/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mattsse/subscriptions",
      "organizations_url": "https://api.github.com/users/mattsse/orgs",
      "repos_url": "https://api.github.com/users/mattsse/repos",
      "events_url": "https://api.github.com/users/mattsse/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mattsse/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-08-10T21:21:44Z",
    "updated_at": "2023-08-10T21:21:44Z",
    "author_association": "MEMBER",
    "body": "cc @Evalir \r\n\r\ndoes your contract use push0?\r\n\r\nwhat's your configured evm_version?\r\nmaybe you're on Paris, but actually require shanghai?",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1673937011/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1673943929",
    "html_url": "https://github.com/foundry-rs/foundry/issues/5593#issuecomment-1673943929",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/5593",
    "id": 1673943929,
    "node_id": "IC_kwDOGBlvNc5jxlt5",
    "user": {
      "login": "seunlanlege",
      "id": 16494314,
      "node_id": "MDQ6VXNlcjE2NDk0MzE0",
      "avatar_url": "https://avatars.githubusercontent.com/u/16494314?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/seunlanlege",
      "html_url": "https://github.com/seunlanlege",
      "followers_url": "https://api.github.com/users/seunlanlege/followers",
      "following_url": "https://api.github.com/users/seunlanlege/following{/other_user}",
      "gists_url": "https://api.github.com/users/seunlanlege/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/seunlanlege/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/seunlanlege/subscriptions",
      "organizations_url": "https://api.github.com/users/seunlanlege/orgs",
      "repos_url": "https://api.github.com/users/seunlanlege/repos",
      "events_url": "https://api.github.com/users/seunlanlege/events{/privacy}",
      "received_events_url": "https://api.github.com/users/seunlanlege/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-08-10T21:28:33Z",
    "updated_at": "2023-08-10T21:28:33Z",
    "author_association": "CONTRIBUTOR",
    "body": "duplicate of https://github.com/foundry-rs/foundry/issues/4988",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1673943929/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1673945610",
    "html_url": "https://github.com/foundry-rs/foundry/issues/5593#issuecomment-1673945610",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/5593",
    "id": 1673945610,
    "node_id": "IC_kwDOGBlvNc5jxmIK",
    "user": {
      "login": "Evalir",
      "id": 26014927,
      "node_id": "MDQ6VXNlcjI2MDE0OTI3",
      "avatar_url": "https://avatars.githubusercontent.com/u/26014927?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Evalir",
      "html_url": "https://github.com/Evalir",
      "followers_url": "https://api.github.com/users/Evalir/followers",
      "following_url": "https://api.github.com/users/Evalir/following{/other_user}",
      "gists_url": "https://api.github.com/users/Evalir/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Evalir/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Evalir/subscriptions",
      "organizations_url": "https://api.github.com/users/Evalir/orgs",
      "repos_url": "https://api.github.com/users/Evalir/repos",
      "events_url": "https://api.github.com/users/Evalir/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Evalir/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-08-10T21:30:19Z",
    "updated_at": "2023-08-10T21:30:19Z",
    "author_association": "MEMBER",
    "body": "right @seunlanlege — so the issue is solved? just to confirm",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1673945610/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1673946312",
    "html_url": "https://github.com/foundry-rs/foundry/issues/5593#issuecomment-1673946312",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/5593",
    "id": 1673946312,
    "node_id": "IC_kwDOGBlvNc5jxmTI",
    "user": {
      "login": "seunlanlege",
      "id": 16494314,
      "node_id": "MDQ6VXNlcjE2NDk0MzE0",
      "avatar_url": "https://avatars.githubusercontent.com/u/16494314?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/seunlanlege",
      "html_url": "https://github.com/seunlanlege",
      "followers_url": "https://api.github.com/users/seunlanlege/followers",
      "following_url": "https://api.github.com/users/seunlanlege/following{/other_user}",
      "gists_url": "https://api.github.com/users/seunlanlege/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/seunlanlege/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/seunlanlege/subscriptions",
      "organizations_url": "https://api.github.com/users/seunlanlege/orgs",
      "repos_url": "https://api.github.com/users/seunlanlege/repos",
      "events_url": "https://api.github.com/users/seunlanlege/events{/privacy}",
      "received_events_url": "https://api.github.com/users/seunlanlege/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-08-10T21:30:59Z",
    "updated_at": "2023-08-10T21:30:59Z",
    "author_association": "CONTRIBUTOR",
    "body": "Yes it is resolved @Evalir thanks!",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1673946312/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 1,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
