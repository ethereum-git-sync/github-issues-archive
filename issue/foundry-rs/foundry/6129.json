{
  "url": "https://api.github.com/repos/foundry-rs/foundry/issues/6129",
  "repository_url": "https://api.github.com/repos/foundry-rs/foundry",
  "labels_url": "https://api.github.com/repos/foundry-rs/foundry/issues/6129/labels{/name}",
  "comments_url": "https://api.github.com/repos/foundry-rs/foundry/issues/6129/comments",
  "events_url": "https://api.github.com/repos/foundry-rs/foundry/issues/6129/events",
  "html_url": "https://github.com/foundry-rs/foundry/issues/6129",
  "id": 1964199197,
  "node_id": "I_kwDOGBlvNc51E00d",
  "number": 6129,
  "title": "forge test --gas-report not reporting certain contracts",
  "user": {
    "login": "0xth0mas",
    "id": 35287002,
    "node_id": "MDQ6VXNlcjM1Mjg3MDAy",
    "avatar_url": "https://avatars.githubusercontent.com/u/35287002?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/0xth0mas",
    "html_url": "https://github.com/0xth0mas",
    "followers_url": "https://api.github.com/users/0xth0mas/followers",
    "following_url": "https://api.github.com/users/0xth0mas/following{/other_user}",
    "gists_url": "https://api.github.com/users/0xth0mas/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/0xth0mas/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/0xth0mas/subscriptions",
    "organizations_url": "https://api.github.com/users/0xth0mas/orgs",
    "repos_url": "https://api.github.com/users/0xth0mas/repos",
    "events_url": "https://api.github.com/users/0xth0mas/events{/privacy}",
    "received_events_url": "https://api.github.com/users/0xth0mas/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 3334394228,
      "node_id": "MDU6TGFiZWwzMzM0Mzk0MjI4",
      "url": "https://api.github.com/repos/foundry-rs/foundry/labels/T-bug",
      "name": "T-bug",
      "color": "d73a4a",
      "default": false,
      "description": "Type: bug"
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": {
    "login": "mattsse",
    "id": 19890894,
    "node_id": "MDQ6VXNlcjE5ODkwODk0",
    "avatar_url": "https://avatars.githubusercontent.com/u/19890894?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/mattsse",
    "html_url": "https://github.com/mattsse",
    "followers_url": "https://api.github.com/users/mattsse/followers",
    "following_url": "https://api.github.com/users/mattsse/following{/other_user}",
    "gists_url": "https://api.github.com/users/mattsse/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/mattsse/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/mattsse/subscriptions",
    "organizations_url": "https://api.github.com/users/mattsse/orgs",
    "repos_url": "https://api.github.com/users/mattsse/repos",
    "events_url": "https://api.github.com/users/mattsse/events{/privacy}",
    "received_events_url": "https://api.github.com/users/mattsse/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "mattsse",
      "id": 19890894,
      "node_id": "MDQ6VXNlcjE5ODkwODk0",
      "avatar_url": "https://avatars.githubusercontent.com/u/19890894?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mattsse",
      "html_url": "https://github.com/mattsse",
      "followers_url": "https://api.github.com/users/mattsse/followers",
      "following_url": "https://api.github.com/users/mattsse/following{/other_user}",
      "gists_url": "https://api.github.com/users/mattsse/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mattsse/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mattsse/subscriptions",
      "organizations_url": "https://api.github.com/users/mattsse/orgs",
      "repos_url": "https://api.github.com/users/mattsse/repos",
      "events_url": "https://api.github.com/users/mattsse/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mattsse/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2023-10-26T19:03:14Z",
  "updated_at": "2023-10-26T21:40:29Z",
  "closed_at": null,
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "### Component\n\nForge\n\n### Have you ensured that all of these are up to date?\n\n- [X] Foundry\n- [X] Foundryup\n\n### What version of Foundry are you on?\n\nforge 0.2.0 (a839414 2023-10-26T09:23:09.940495000Z)\n\n### What command(s) is the bug in?\n\nforge test --gas-report\n\n### Operating System\n\nWindows\n\n### Describe the bug\n\nI am working on proof of concept custom bytecode contracts where all of the functions are stubbed out so that the contract can be compiled/verified on block explorers with a generated ABI but the runtime bytecode is assembled in the constructor based on constructor arguments.\r\n\r\nTests run successfully and report gas total gas consumption for the tests but when attempting to run the gas report there is no report generated for the contract.\r\n\r\nI created an example project using the default Counters contract that follows the same design pattern being applied to the proof of concept contracts that I am working on. In the example the default Counters contract runs tests and generates a gas report as expected however the BytecodeCounters contract will run tests and not generate a gas report.\r\n\r\nhttps://github.com/0xth0mas/foundry-bytecode-gas-report-example",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/6129/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/foundry-rs/foundry/issues/6129/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1781741869",
    "html_url": "https://github.com/foundry-rs/foundry/issues/6129#issuecomment-1781741869",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/6129",
    "id": 1781741869,
    "node_id": "IC_kwDOGBlvNc5qMzkt",
    "user": {
      "login": "mattsse",
      "id": 19890894,
      "node_id": "MDQ6VXNlcjE5ODkwODk0",
      "avatar_url": "https://avatars.githubusercontent.com/u/19890894?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mattsse",
      "html_url": "https://github.com/mattsse",
      "followers_url": "https://api.github.com/users/mattsse/followers",
      "following_url": "https://api.github.com/users/mattsse/following{/other_user}",
      "gists_url": "https://api.github.com/users/mattsse/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mattsse/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mattsse/subscriptions",
      "organizations_url": "https://api.github.com/users/mattsse/orgs",
      "repos_url": "https://api.github.com/users/mattsse/repos",
      "events_url": "https://api.github.com/users/mattsse/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mattsse/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-10-26T19:05:29Z",
    "updated_at": "2023-10-26T19:05:29Z",
    "author_association": "MEMBER",
    "body": "thanks for the repro will investigate",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1781741869/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 1,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1781932227",
    "html_url": "https://github.com/foundry-rs/foundry/issues/6129#issuecomment-1781932227",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/6129",
    "id": 1781932227,
    "node_id": "IC_kwDOGBlvNc5qNiDD",
    "user": {
      "login": "mds1",
      "id": 17163988,
      "node_id": "MDQ6VXNlcjE3MTYzOTg4",
      "avatar_url": "https://avatars.githubusercontent.com/u/17163988?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mds1",
      "html_url": "https://github.com/mds1",
      "followers_url": "https://api.github.com/users/mds1/followers",
      "following_url": "https://api.github.com/users/mds1/following{/other_user}",
      "gists_url": "https://api.github.com/users/mds1/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mds1/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mds1/subscriptions",
      "organizations_url": "https://api.github.com/users/mds1/orgs",
      "repos_url": "https://api.github.com/users/mds1/repos",
      "events_url": "https://api.github.com/users/mds1/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mds1/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-10-26T21:40:28Z",
    "updated_at": "2023-10-26T21:40:28Z",
    "author_association": "COLLABORATOR",
    "body": "@mattsse fyi some related issues:\r\n- https://github.com/foundry-rs/foundry/issues/6019\r\n- https://github.com/foundry-rs/foundry/issues/2287",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1781932227/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
