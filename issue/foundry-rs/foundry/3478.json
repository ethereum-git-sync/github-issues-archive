{
  "url": "https://api.github.com/repos/foundry-rs/foundry/issues/3478",
  "repository_url": "https://api.github.com/repos/foundry-rs/foundry",
  "labels_url": "https://api.github.com/repos/foundry-rs/foundry/issues/3478/labels{/name}",
  "comments_url": "https://api.github.com/repos/foundry-rs/foundry/issues/3478/comments",
  "events_url": "https://api.github.com/repos/foundry-rs/foundry/issues/3478/events",
  "html_url": "https://github.com/foundry-rs/foundry/issues/3478",
  "id": 1405622040,
  "node_id": "I_kwDOGBlvNc5TyBcY",
  "number": 3478,
  "title": "Memory/storage leak in long test",
  "user": {
    "login": "kubmichael",
    "id": 102899381,
    "node_id": "U_kgDOBiIetQ",
    "avatar_url": "https://avatars.githubusercontent.com/u/102899381?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/kubmichael",
    "html_url": "https://github.com/kubmichael",
    "followers_url": "https://api.github.com/users/kubmichael/followers",
    "following_url": "https://api.github.com/users/kubmichael/following{/other_user}",
    "gists_url": "https://api.github.com/users/kubmichael/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/kubmichael/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/kubmichael/subscriptions",
    "organizations_url": "https://api.github.com/users/kubmichael/orgs",
    "repos_url": "https://api.github.com/users/kubmichael/repos",
    "events_url": "https://api.github.com/users/kubmichael/events{/privacy}",
    "received_events_url": "https://api.github.com/users/kubmichael/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 3334394228,
      "node_id": "MDU6TGFiZWwzMzM0Mzk0MjI4",
      "url": "https://api.github.com/repos/foundry-rs/foundry/labels/T-bug",
      "name": "T-bug",
      "color": "d73a4a",
      "default": false,
      "description": "Type: bug"
    },
    {
      "id": 4077188949,
      "node_id": "LA_kwDOGBlvNc7zBPdV",
      "url": "https://api.github.com/repos/foundry-rs/foundry/labels/C-anvil",
      "name": "C-anvil",
      "color": "5319E7",
      "default": false,
      "description": "Command: anvil"
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": {
    "login": "mattsse",
    "id": 19890894,
    "node_id": "MDQ6VXNlcjE5ODkwODk0",
    "avatar_url": "https://avatars.githubusercontent.com/u/19890894?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/mattsse",
    "html_url": "https://github.com/mattsse",
    "followers_url": "https://api.github.com/users/mattsse/followers",
    "following_url": "https://api.github.com/users/mattsse/following{/other_user}",
    "gists_url": "https://api.github.com/users/mattsse/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/mattsse/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/mattsse/subscriptions",
    "organizations_url": "https://api.github.com/users/mattsse/orgs",
    "repos_url": "https://api.github.com/users/mattsse/repos",
    "events_url": "https://api.github.com/users/mattsse/events{/privacy}",
    "received_events_url": "https://api.github.com/users/mattsse/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "mattsse",
      "id": 19890894,
      "node_id": "MDQ6VXNlcjE5ODkwODk0",
      "avatar_url": "https://avatars.githubusercontent.com/u/19890894?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mattsse",
      "html_url": "https://github.com/mattsse",
      "followers_url": "https://api.github.com/users/mattsse/followers",
      "following_url": "https://api.github.com/users/mattsse/following{/other_user}",
      "gists_url": "https://api.github.com/users/mattsse/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mattsse/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mattsse/subscriptions",
      "organizations_url": "https://api.github.com/users/mattsse/orgs",
      "repos_url": "https://api.github.com/users/mattsse/repos",
      "events_url": "https://api.github.com/users/mattsse/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mattsse/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 24,
  "created_at": "2022-10-12T06:06:12Z",
  "updated_at": "2023-05-26T20:45:01Z",
  "closed_at": null,
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "### Component\r\n\r\nAnvil\r\n\r\n### Have you ensured that all of these are up to date?\r\n\r\n- [X] Foundry\r\n- [X] Foundryup\r\n\r\n### What version of Foundry are you on?\r\n\r\n_No response_\r\n\r\n### What command(s) is the bug in?\r\n\r\n_No response_\r\n\r\n### Operating System\r\n\r\nLinux\r\n\r\n### Describe the bug\r\n\r\nHey, I run a long test with 10K blocks on anvil.\r\nAfter some time I saw that memory and and storage usage of anvil has increased drastically.\r\nI found that anvil is keeping mined blocks at file system as json files, also after digging in code, I think that blocks also kept in memory.\r\nIs it intentional? Can I limit in some way number of blocks that kept in memory or at file system ?\r\nCan I configure where to keep those files?\r\n\r\nThanks",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/3478/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/foundry-rs/foundry/issues/3478/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1275930269",
    "html_url": "https://github.com/foundry-rs/foundry/issues/3478#issuecomment-1275930269",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/3478",
    "id": 1275930269,
    "node_id": "IC_kwDOGBlvNc5MDSad",
    "user": {
      "login": "mattsse",
      "id": 19890894,
      "node_id": "MDQ6VXNlcjE5ODkwODk0",
      "avatar_url": "https://avatars.githubusercontent.com/u/19890894?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mattsse",
      "html_url": "https://github.com/mattsse",
      "followers_url": "https://api.github.com/users/mattsse/followers",
      "following_url": "https://api.github.com/users/mattsse/following{/other_user}",
      "gists_url": "https://api.github.com/users/mattsse/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mattsse/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mattsse/subscriptions",
      "organizations_url": "https://api.github.com/users/mattsse/orgs",
      "repos_url": "https://api.github.com/users/mattsse/repos",
      "events_url": "https://api.github.com/users/mattsse/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mattsse/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-10-12T10:16:44Z",
    "updated_at": "2022-10-12T10:16:44Z",
    "author_association": "MEMBER",
    "body": "we keep the entire state in memory but cache history states on disk, however, there's still overhead.\r\n\r\nthere are currently no options to configure this, but this could be added very easily, including whether to keep the historic state at all, which should decrease memory footprint.\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1275930269/reactions",
      "total_count": 4,
      "+1": 3,
      "-1": 0,
      "laugh": 0,
      "hooray": 1,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1276164662",
    "html_url": "https://github.com/foundry-rs/foundry/issues/3478#issuecomment-1276164662",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/3478",
    "id": 1276164662,
    "node_id": "IC_kwDOGBlvNc5MELo2",
    "user": {
      "login": "kubmichael",
      "id": 102899381,
      "node_id": "U_kgDOBiIetQ",
      "avatar_url": "https://avatars.githubusercontent.com/u/102899381?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kubmichael",
      "html_url": "https://github.com/kubmichael",
      "followers_url": "https://api.github.com/users/kubmichael/followers",
      "following_url": "https://api.github.com/users/kubmichael/following{/other_user}",
      "gists_url": "https://api.github.com/users/kubmichael/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kubmichael/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kubmichael/subscriptions",
      "organizations_url": "https://api.github.com/users/kubmichael/orgs",
      "repos_url": "https://api.github.com/users/kubmichael/repos",
      "events_url": "https://api.github.com/users/kubmichael/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kubmichael/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-10-12T13:20:20Z",
    "updated_at": "2022-10-12T13:20:20Z",
    "author_association": "CONTRIBUTOR",
    "body": "configuration option will be very helpful. ",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1276164662/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1276233985",
    "html_url": "https://github.com/foundry-rs/foundry/issues/3478#issuecomment-1276233985",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/3478",
    "id": 1276233985,
    "node_id": "IC_kwDOGBlvNc5MEckB",
    "user": {
      "login": "yhayun",
      "id": 25058984,
      "node_id": "MDQ6VXNlcjI1MDU4OTg0",
      "avatar_url": "https://avatars.githubusercontent.com/u/25058984?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/yhayun",
      "html_url": "https://github.com/yhayun",
      "followers_url": "https://api.github.com/users/yhayun/followers",
      "following_url": "https://api.github.com/users/yhayun/following{/other_user}",
      "gists_url": "https://api.github.com/users/yhayun/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/yhayun/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/yhayun/subscriptions",
      "organizations_url": "https://api.github.com/users/yhayun/orgs",
      "repos_url": "https://api.github.com/users/yhayun/repos",
      "events_url": "https://api.github.com/users/yhayun/events{/privacy}",
      "received_events_url": "https://api.github.com/users/yhayun/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-10-12T14:02:00Z",
    "updated_at": "2022-10-12T14:02:00Z",
    "author_association": "NONE",
    "body": "+1 on adding an option to configure this option - the memory/storage footprint is significant ",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1276233985/reactions",
      "total_count": 2,
      "+1": 2,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1276798684",
    "html_url": "https://github.com/foundry-rs/foundry/issues/3478#issuecomment-1276798684",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/3478",
    "id": 1276798684,
    "node_id": "IC_kwDOGBlvNc5MGmbc",
    "user": {
      "login": "wminshew",
      "id": 9845502,
      "node_id": "MDQ6VXNlcjk4NDU1MDI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9845502?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/wminshew",
      "html_url": "https://github.com/wminshew",
      "followers_url": "https://api.github.com/users/wminshew/followers",
      "following_url": "https://api.github.com/users/wminshew/following{/other_user}",
      "gists_url": "https://api.github.com/users/wminshew/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/wminshew/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/wminshew/subscriptions",
      "organizations_url": "https://api.github.com/users/wminshew/orgs",
      "repos_url": "https://api.github.com/users/wminshew/repos",
      "events_url": "https://api.github.com/users/wminshew/events{/privacy}",
      "received_events_url": "https://api.github.com/users/wminshew/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-10-12T22:30:16Z",
    "updated_at": "2022-10-12T22:30:16Z",
    "author_association": "NONE",
    "body": "I think this might be related but I've noticed the tests in https://github.com/0xSplits/splits-liquid slow down significantly after  a few runs & eventually just start intermittently failing `[FAIL. Reason: EvmError: FatalExternalError] testCan_distributeToMaxUniqueHolders() (gas: 9223372036854754743)` (normal success case is ~110m gas?)",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1276798684/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1277656634",
    "html_url": "https://github.com/foundry-rs/foundry/issues/3478#issuecomment-1277656634",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/3478",
    "id": 1277656634,
    "node_id": "IC_kwDOGBlvNc5MJ346",
    "user": {
      "login": "Arieg419",
      "id": 8246234,
      "node_id": "MDQ6VXNlcjgyNDYyMzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8246234?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Arieg419",
      "html_url": "https://github.com/Arieg419",
      "followers_url": "https://api.github.com/users/Arieg419/followers",
      "following_url": "https://api.github.com/users/Arieg419/following{/other_user}",
      "gists_url": "https://api.github.com/users/Arieg419/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Arieg419/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Arieg419/subscriptions",
      "organizations_url": "https://api.github.com/users/Arieg419/orgs",
      "repos_url": "https://api.github.com/users/Arieg419/repos",
      "events_url": "https://api.github.com/users/Arieg419/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Arieg419/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-10-13T13:56:46Z",
    "updated_at": "2022-10-13T13:56:46Z",
    "author_association": "NONE",
    "body": "+1 on adding this - this would be super impactful and significantly improve performance on long-running simulations.",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1277656634/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1279142084",
    "html_url": "https://github.com/foundry-rs/foundry/issues/3478#issuecomment-1279142084",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/3478",
    "id": 1279142084,
    "node_id": "IC_kwDOGBlvNc5MPijE",
    "user": {
      "login": "gakonst",
      "id": 17802178,
      "node_id": "MDQ6VXNlcjE3ODAyMTc4",
      "avatar_url": "https://avatars.githubusercontent.com/u/17802178?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gakonst",
      "html_url": "https://github.com/gakonst",
      "followers_url": "https://api.github.com/users/gakonst/followers",
      "following_url": "https://api.github.com/users/gakonst/following{/other_user}",
      "gists_url": "https://api.github.com/users/gakonst/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gakonst/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gakonst/subscriptions",
      "organizations_url": "https://api.github.com/users/gakonst/orgs",
      "repos_url": "https://api.github.com/users/gakonst/repos",
      "events_url": "https://api.github.com/users/gakonst/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gakonst/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-10-14T15:15:53Z",
    "updated_at": "2022-10-14T15:15:53Z",
    "author_association": "MEMBER",
    "body": "Can folks check if running tests with #3488 fixes it?",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1279142084/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1280284145",
    "html_url": "https://github.com/foundry-rs/foundry/issues/3478#issuecomment-1280284145",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/3478",
    "id": 1280284145,
    "node_id": "IC_kwDOGBlvNc5MT5Xx",
    "user": {
      "login": "paco0x",
      "id": 6123425,
      "node_id": "MDQ6VXNlcjYxMjM0MjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6123425?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/paco0x",
      "html_url": "https://github.com/paco0x",
      "followers_url": "https://api.github.com/users/paco0x/followers",
      "following_url": "https://api.github.com/users/paco0x/following{/other_user}",
      "gists_url": "https://api.github.com/users/paco0x/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/paco0x/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/paco0x/subscriptions",
      "organizations_url": "https://api.github.com/users/paco0x/orgs",
      "repos_url": "https://api.github.com/users/paco0x/repos",
      "events_url": "https://api.github.com/users/paco0x/events{/privacy}",
      "received_events_url": "https://api.github.com/users/paco0x/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-10-17T04:50:12Z",
    "updated_at": "2022-10-17T06:27:16Z",
    "author_association": "NONE",
    "body": "> Can folks check if running tests with #3488 fixes it?\r\n\r\nHi @gakonst, this issue still exists. I tested with the `--prune-history` flag,  memory usage is still increasing with txs running. It consumes 12.7 G memory with about 55k txs executed on my end:\r\n\r\n<img width=\"1322\" alt=\"CleanShot 2022-10-17 at 12 31 25@2x\" src=\"https://user-images.githubusercontent.com/6123425/196091741-6c50ec2d-c9be-49fb-9427-450f200f3d7a.png\">\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1280284145/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1280917118",
    "html_url": "https://github.com/foundry-rs/foundry/issues/3478#issuecomment-1280917118",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/3478",
    "id": 1280917118,
    "node_id": "IC_kwDOGBlvNc5MWT5-",
    "user": {
      "login": "gakonst",
      "id": 17802178,
      "node_id": "MDQ6VXNlcjE3ODAyMTc4",
      "avatar_url": "https://avatars.githubusercontent.com/u/17802178?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gakonst",
      "html_url": "https://github.com/gakonst",
      "followers_url": "https://api.github.com/users/gakonst/followers",
      "following_url": "https://api.github.com/users/gakonst/following{/other_user}",
      "gists_url": "https://api.github.com/users/gakonst/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gakonst/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gakonst/subscriptions",
      "organizations_url": "https://api.github.com/users/gakonst/orgs",
      "repos_url": "https://api.github.com/users/gakonst/repos",
      "events_url": "https://api.github.com/users/gakonst/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gakonst/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-10-17T14:04:49Z",
    "updated_at": "2022-10-17T14:04:49Z",
    "author_association": "MEMBER",
    "body": "@mattsse can u take a look here?",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1280917118/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1280923344",
    "html_url": "https://github.com/foundry-rs/foundry/issues/3478#issuecomment-1280923344",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/3478",
    "id": 1280923344,
    "node_id": "IC_kwDOGBlvNc5MWVbQ",
    "user": {
      "login": "mattsse",
      "id": 19890894,
      "node_id": "MDQ6VXNlcjE5ODkwODk0",
      "avatar_url": "https://avatars.githubusercontent.com/u/19890894?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mattsse",
      "html_url": "https://github.com/mattsse",
      "followers_url": "https://api.github.com/users/mattsse/followers",
      "following_url": "https://api.github.com/users/mattsse/following{/other_user}",
      "gists_url": "https://api.github.com/users/mattsse/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mattsse/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mattsse/subscriptions",
      "organizations_url": "https://api.github.com/users/mattsse/orgs",
      "repos_url": "https://api.github.com/users/mattsse/repos",
      "events_url": "https://api.github.com/users/mattsse/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mattsse/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-10-17T14:09:19Z",
    "updated_at": "2022-10-17T14:09:19Z",
    "author_association": "MEMBER",
    "body": "@paco0x how can I reproduce this?",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1280923344/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1281150448",
    "html_url": "https://github.com/foundry-rs/foundry/issues/3478#issuecomment-1281150448",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/3478",
    "id": 1281150448,
    "node_id": "IC_kwDOGBlvNc5MXM3w",
    "user": {
      "login": "paco0x",
      "id": 6123425,
      "node_id": "MDQ6VXNlcjYxMjM0MjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6123425?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/paco0x",
      "html_url": "https://github.com/paco0x",
      "followers_url": "https://api.github.com/users/paco0x/followers",
      "following_url": "https://api.github.com/users/paco0x/following{/other_user}",
      "gists_url": "https://api.github.com/users/paco0x/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/paco0x/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/paco0x/subscriptions",
      "organizations_url": "https://api.github.com/users/paco0x/orgs",
      "repos_url": "https://api.github.com/users/paco0x/repos",
      "events_url": "https://api.github.com/users/paco0x/events{/privacy}",
      "received_events_url": "https://api.github.com/users/paco0x/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-10-17T16:37:26Z",
    "updated_at": "2022-10-17T16:45:15Z",
    "author_association": "NONE",
    "body": "> @paco0x how can I reproduce this?\r\n\r\nI'm running a simulation script that replays thousands of historical txs on Uniswap V3 in a forked network. \r\n\r\nSorry, the code cannot share here but I assume the issue is not related to any specified contract. All the APIs used in this script are:\r\n\r\n```\r\nanvil_setBalance\r\nanvil_impersonateAccount\r\nanvil_setStorageAt\r\nanvil_setCode\r\nevm_setNextBlockTimestamp\r\neth_call\r\neth_sendTransaction\r\n```\r\n\r\nWith the transactions being executed in this forked network, the memory footprint of `anvil` also grows. And finally, the system got OOM.\r\n\r\nAs aforementioned, `anvil` is started with `--prune-history` and the memory usage is about 12.7G after 55k tx executed.\r\n\r\nI also tried to call `anvil_reset` after the memory usage explosion. And the memory usage didn't reduce after the call, which is also unexpected.",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1281150448/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1371116944",
    "html_url": "https://github.com/foundry-rs/foundry/issues/3478#issuecomment-1371116944",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/3478",
    "id": 1371116944,
    "node_id": "IC_kwDOGBlvNc5RuZWQ",
    "user": {
      "login": "0xalecks",
      "id": 99347981,
      "node_id": "U_kgDOBevuDQ",
      "avatar_url": "https://avatars.githubusercontent.com/u/99347981?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/0xalecks",
      "html_url": "https://github.com/0xalecks",
      "followers_url": "https://api.github.com/users/0xalecks/followers",
      "following_url": "https://api.github.com/users/0xalecks/following{/other_user}",
      "gists_url": "https://api.github.com/users/0xalecks/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/0xalecks/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/0xalecks/subscriptions",
      "organizations_url": "https://api.github.com/users/0xalecks/orgs",
      "repos_url": "https://api.github.com/users/0xalecks/repos",
      "events_url": "https://api.github.com/users/0xalecks/events{/privacy}",
      "received_events_url": "https://api.github.com/users/0xalecks/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-01-04T16:04:05Z",
    "updated_at": "2023-01-04T16:04:05Z",
    "author_association": "NONE",
    "body": "We're also seeing memory issues while using a local subgraph trying to index a large set of events. Eventually Anvil stops responding.",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1371116944/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1371166507",
    "html_url": "https://github.com/foundry-rs/foundry/issues/3478#issuecomment-1371166507",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/3478",
    "id": 1371166507,
    "node_id": "IC_kwDOGBlvNc5Rulcr",
    "user": {
      "login": "gakonst",
      "id": 17802178,
      "node_id": "MDQ6VXNlcjE3ODAyMTc4",
      "avatar_url": "https://avatars.githubusercontent.com/u/17802178?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gakonst",
      "html_url": "https://github.com/gakonst",
      "followers_url": "https://api.github.com/users/gakonst/followers",
      "following_url": "https://api.github.com/users/gakonst/following{/other_user}",
      "gists_url": "https://api.github.com/users/gakonst/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gakonst/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gakonst/subscriptions",
      "organizations_url": "https://api.github.com/users/gakonst/orgs",
      "repos_url": "https://api.github.com/users/gakonst/repos",
      "events_url": "https://api.github.com/users/gakonst/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gakonst/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-01-04T16:44:07Z",
    "updated_at": "2023-01-04T16:44:28Z",
    "author_association": "MEMBER",
    "body": "Would like to see a repro please, hard to debug otherwise! Thanks and appreciate the help/understanding.\r\n\r\nDid you use the fix from https://github.com/foundry-rs/foundry/pull/3836? ",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1371166507/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1373631074",
    "html_url": "https://github.com/foundry-rs/foundry/issues/3478#issuecomment-1373631074",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/3478",
    "id": 1373631074,
    "node_id": "IC_kwDOGBlvNc5R3_Ji",
    "user": {
      "login": "marshall-bean",
      "id": 121885685,
      "node_id": "U_kgDOB0PT9Q",
      "avatar_url": "https://avatars.githubusercontent.com/u/121885685?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/marshall-bean",
      "html_url": "https://github.com/marshall-bean",
      "followers_url": "https://api.github.com/users/marshall-bean/followers",
      "following_url": "https://api.github.com/users/marshall-bean/following{/other_user}",
      "gists_url": "https://api.github.com/users/marshall-bean/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/marshall-bean/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/marshall-bean/subscriptions",
      "organizations_url": "https://api.github.com/users/marshall-bean/orgs",
      "repos_url": "https://api.github.com/users/marshall-bean/repos",
      "events_url": "https://api.github.com/users/marshall-bean/events{/privacy}",
      "received_events_url": "https://api.github.com/users/marshall-bean/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-01-06T13:34:13Z",
    "updated_at": "2023-01-06T13:34:39Z",
    "author_association": "NONE",
    "body": "> Would like to see a repro please, hard to debug otherwise! Thanks and appreciate the help/understanding.\r\n> \r\n> Did you use the fix from #3836?\r\n\r\nI'm working with @0xalecks on this. Repro steps are here: https://gist.github.com/0xalecks/b42bc64302043b16cfe6e9464eadcb5f\r\n\r\nI tried the fix in #3836 but did not notice any improvement. Thanks.",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1373631074/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1373631738",
    "html_url": "https://github.com/foundry-rs/foundry/issues/3478#issuecomment-1373631738",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/3478",
    "id": 1373631738,
    "node_id": "IC_kwDOGBlvNc5R3_T6",
    "user": {
      "login": "gakonst",
      "id": 17802178,
      "node_id": "MDQ6VXNlcjE3ODAyMTc4",
      "avatar_url": "https://avatars.githubusercontent.com/u/17802178?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gakonst",
      "html_url": "https://github.com/gakonst",
      "followers_url": "https://api.github.com/users/gakonst/followers",
      "following_url": "https://api.github.com/users/gakonst/following{/other_user}",
      "gists_url": "https://api.github.com/users/gakonst/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gakonst/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gakonst/subscriptions",
      "organizations_url": "https://api.github.com/users/gakonst/orgs",
      "repos_url": "https://api.github.com/users/gakonst/repos",
      "events_url": "https://api.github.com/users/gakonst/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gakonst/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-01-06T13:34:56Z",
    "updated_at": "2023-01-06T13:34:56Z",
    "author_association": "MEMBER",
    "body": "Got it - will investigate, ty for the repro. \r\n\r\nWhat paremeter did you set for `transaction-block-keeper`?\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1373631738/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1373632921",
    "html_url": "https://github.com/foundry-rs/foundry/issues/3478#issuecomment-1373632921",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/3478",
    "id": 1373632921,
    "node_id": "IC_kwDOGBlvNc5R3_mZ",
    "user": {
      "login": "marshall-bean",
      "id": 121885685,
      "node_id": "U_kgDOB0PT9Q",
      "avatar_url": "https://avatars.githubusercontent.com/u/121885685?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/marshall-bean",
      "html_url": "https://github.com/marshall-bean",
      "followers_url": "https://api.github.com/users/marshall-bean/followers",
      "following_url": "https://api.github.com/users/marshall-bean/following{/other_user}",
      "gists_url": "https://api.github.com/users/marshall-bean/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/marshall-bean/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/marshall-bean/subscriptions",
      "organizations_url": "https://api.github.com/users/marshall-bean/orgs",
      "repos_url": "https://api.github.com/users/marshall-bean/repos",
      "events_url": "https://api.github.com/users/marshall-bean/events{/privacy}",
      "received_events_url": "https://api.github.com/users/marshall-bean/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-01-06T13:36:12Z",
    "updated_at": "2023-01-06T13:36:12Z",
    "author_association": "NONE",
    "body": "> Got it - will investigate, ty for the repro.\r\n> \r\n> What paremeter did you set for `transaction-block-keeper`?\r\n\r\nI tried `--transaction-block-keeper 100` just as a SWAG. If there's something more appropriate I can try a different value.",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1373632921/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1387329191",
    "html_url": "https://github.com/foundry-rs/foundry/issues/3478#issuecomment-1387329191",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/3478",
    "id": 1387329191,
    "node_id": "IC_kwDOGBlvNc5SsPan",
    "user": {
      "login": "0xalecks",
      "id": 99347981,
      "node_id": "U_kgDOBevuDQ",
      "avatar_url": "https://avatars.githubusercontent.com/u/99347981?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/0xalecks",
      "html_url": "https://github.com/0xalecks",
      "followers_url": "https://api.github.com/users/0xalecks/followers",
      "following_url": "https://api.github.com/users/0xalecks/following{/other_user}",
      "gists_url": "https://api.github.com/users/0xalecks/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/0xalecks/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/0xalecks/subscriptions",
      "organizations_url": "https://api.github.com/users/0xalecks/orgs",
      "repos_url": "https://api.github.com/users/0xalecks/repos",
      "events_url": "https://api.github.com/users/0xalecks/events{/privacy}",
      "received_events_url": "https://api.github.com/users/0xalecks/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-01-18T16:13:47Z",
    "updated_at": "2023-01-18T16:13:47Z",
    "author_association": "NONE",
    "body": "Any updates on this? We're on hold waiting to see if this is something that might be fixed in Anvil or if we have to switch to a completely different solution. 🙏 \r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1387329191/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1396205331",
    "html_url": "https://github.com/foundry-rs/foundry/issues/3478#issuecomment-1396205331",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/3478",
    "id": 1396205331,
    "node_id": "IC_kwDOGBlvNc5TOGcT",
    "user": {
      "login": "gakonst",
      "id": 17802178,
      "node_id": "MDQ6VXNlcjE3ODAyMTc4",
      "avatar_url": "https://avatars.githubusercontent.com/u/17802178?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gakonst",
      "html_url": "https://github.com/gakonst",
      "followers_url": "https://api.github.com/users/gakonst/followers",
      "following_url": "https://api.github.com/users/gakonst/following{/other_user}",
      "gists_url": "https://api.github.com/users/gakonst/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gakonst/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gakonst/subscriptions",
      "organizations_url": "https://api.github.com/users/gakonst/orgs",
      "repos_url": "https://api.github.com/users/gakonst/repos",
      "events_url": "https://api.github.com/users/gakonst/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gakonst/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-01-18T22:59:42Z",
    "updated_at": "2023-01-18T23:00:12Z",
    "author_association": "MEMBER",
    "body": "We'll take a pass this week - thanks! @mattsse PTAL, [repro here](https://gist.github.com/0xalecks/b42bc64302043b16cfe6e9464eadcb5f)\r\n\r\nWas hoping somebody would've given some more debug information by now vs assuming we'll do all the debugging end to end^^",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1396205331/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1396795981",
    "html_url": "https://github.com/foundry-rs/foundry/issues/3478#issuecomment-1396795981",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/3478",
    "id": 1396795981,
    "node_id": "IC_kwDOGBlvNc5TQWpN",
    "user": {
      "login": "mattsse",
      "id": 19890894,
      "node_id": "MDQ6VXNlcjE5ODkwODk0",
      "avatar_url": "https://avatars.githubusercontent.com/u/19890894?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mattsse",
      "html_url": "https://github.com/mattsse",
      "followers_url": "https://api.github.com/users/mattsse/followers",
      "following_url": "https://api.github.com/users/mattsse/following{/other_user}",
      "gists_url": "https://api.github.com/users/mattsse/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mattsse/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mattsse/subscriptions",
      "organizations_url": "https://api.github.com/users/mattsse/orgs",
      "repos_url": "https://api.github.com/users/mattsse/repos",
      "events_url": "https://api.github.com/users/mattsse/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mattsse/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-01-19T11:03:07Z",
    "updated_at": "2023-01-19T11:05:47Z",
    "author_association": "MEMBER",
    "body": "@marshall-bean sorry for the wait.\r\n\r\nI tried to replicate this but the `add-dev-graph-node` seems to be gone:\r\n\r\n> fatal: Remote branch add-dev-graph-node not found in upstream origin\r\n\r\ndoes this also happen on master?\r\n\r\ncould you perhaps please also try with the `--prune-history` flag",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1396795981/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1397336590",
    "html_url": "https://github.com/foundry-rs/foundry/issues/3478#issuecomment-1397336590",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/3478",
    "id": 1397336590,
    "node_id": "IC_kwDOGBlvNc5TSaoO",
    "user": {
      "login": "marshall-bean",
      "id": 121885685,
      "node_id": "U_kgDOB0PT9Q",
      "avatar_url": "https://avatars.githubusercontent.com/u/121885685?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/marshall-bean",
      "html_url": "https://github.com/marshall-bean",
      "followers_url": "https://api.github.com/users/marshall-bean/followers",
      "following_url": "https://api.github.com/users/marshall-bean/following{/other_user}",
      "gists_url": "https://api.github.com/users/marshall-bean/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/marshall-bean/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/marshall-bean/subscriptions",
      "organizations_url": "https://api.github.com/users/marshall-bean/orgs",
      "repos_url": "https://api.github.com/users/marshall-bean/repos",
      "events_url": "https://api.github.com/users/marshall-bean/events{/privacy}",
      "received_events_url": "https://api.github.com/users/marshall-bean/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-01-19T17:20:06Z",
    "updated_at": "2023-01-19T17:20:06Z",
    "author_association": "NONE",
    "body": "> @marshall-bean sorry for the wait.\r\n> \r\n> I tried to replicate this but the `add-dev-graph-node` seems to be gone:\r\n> \r\n> > fatal: Remote branch add-dev-graph-node not found in upstream origin\r\n> \r\n> does this also happen on master?\r\n> \r\n> could you perhaps please also try with the `--prune-history` flag\r\n\r\nYes is also happens on master, apologies. Please let me know if you have any further issues reproducing.\r\n\r\nI can try again with `--prune-history` if you think that will help. \r\n",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1397336590/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1397528169",
    "html_url": "https://github.com/foundry-rs/foundry/issues/3478#issuecomment-1397528169",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/3478",
    "id": 1397528169,
    "node_id": "IC_kwDOGBlvNc5TTJZp",
    "user": {
      "login": "gakonst",
      "id": 17802178,
      "node_id": "MDQ6VXNlcjE3ODAyMTc4",
      "avatar_url": "https://avatars.githubusercontent.com/u/17802178?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gakonst",
      "html_url": "https://github.com/gakonst",
      "followers_url": "https://api.github.com/users/gakonst/followers",
      "following_url": "https://api.github.com/users/gakonst/following{/other_user}",
      "gists_url": "https://api.github.com/users/gakonst/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gakonst/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gakonst/subscriptions",
      "organizations_url": "https://api.github.com/users/gakonst/orgs",
      "repos_url": "https://api.github.com/users/gakonst/repos",
      "events_url": "https://api.github.com/users/gakonst/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gakonst/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-01-19T20:00:55Z",
    "updated_at": "2023-01-19T20:00:55Z",
    "author_association": "MEMBER",
    "body": "Yeah pls give it a shot @marshall-bean ",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1397528169/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1397559691",
    "html_url": "https://github.com/foundry-rs/foundry/issues/3478#issuecomment-1397559691",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/3478",
    "id": 1397559691,
    "node_id": "IC_kwDOGBlvNc5TTRGL",
    "user": {
      "login": "mattsse",
      "id": 19890894,
      "node_id": "MDQ6VXNlcjE5ODkwODk0",
      "avatar_url": "https://avatars.githubusercontent.com/u/19890894?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mattsse",
      "html_url": "https://github.com/mattsse",
      "followers_url": "https://api.github.com/users/mattsse/followers",
      "following_url": "https://api.github.com/users/mattsse/following{/other_user}",
      "gists_url": "https://api.github.com/users/mattsse/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mattsse/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mattsse/subscriptions",
      "organizations_url": "https://api.github.com/users/mattsse/orgs",
      "repos_url": "https://api.github.com/users/mattsse/repos",
      "events_url": "https://api.github.com/users/mattsse/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mattsse/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-01-19T20:29:36Z",
    "updated_at": "2023-01-19T20:29:36Z",
    "author_association": "MEMBER",
    "body": "I failed to get it working on first try, start timed out...\r\n\r\ncan try again in a bit",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1397559691/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1398605754",
    "html_url": "https://github.com/foundry-rs/foundry/issues/3478#issuecomment-1398605754",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/3478",
    "id": 1398605754,
    "node_id": "IC_kwDOGBlvNc5TXQe6",
    "user": {
      "login": "marshall-bean",
      "id": 121885685,
      "node_id": "U_kgDOB0PT9Q",
      "avatar_url": "https://avatars.githubusercontent.com/u/121885685?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/marshall-bean",
      "html_url": "https://github.com/marshall-bean",
      "followers_url": "https://api.github.com/users/marshall-bean/followers",
      "following_url": "https://api.github.com/users/marshall-bean/following{/other_user}",
      "gists_url": "https://api.github.com/users/marshall-bean/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/marshall-bean/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/marshall-bean/subscriptions",
      "organizations_url": "https://api.github.com/users/marshall-bean/orgs",
      "repos_url": "https://api.github.com/users/marshall-bean/repos",
      "events_url": "https://api.github.com/users/marshall-bean/events{/privacy}",
      "received_events_url": "https://api.github.com/users/marshall-bean/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-01-20T16:06:47Z",
    "updated_at": "2023-01-20T16:06:53Z",
    "author_association": "NONE",
    "body": "> Yeah pls give it a shot @marshall-bean\r\n\r\nWe tested this out yesterday and found that `--prune-history` seems to have solved the memory issue for us. We can consider this resolved from our POV, thank you.",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1398605754/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 1,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1398610301",
    "html_url": "https://github.com/foundry-rs/foundry/issues/3478#issuecomment-1398610301",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/3478",
    "id": 1398610301,
    "node_id": "IC_kwDOGBlvNc5TXRl9",
    "user": {
      "login": "mattsse",
      "id": 19890894,
      "node_id": "MDQ6VXNlcjE5ODkwODk0",
      "avatar_url": "https://avatars.githubusercontent.com/u/19890894?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mattsse",
      "html_url": "https://github.com/mattsse",
      "followers_url": "https://api.github.com/users/mattsse/followers",
      "following_url": "https://api.github.com/users/mattsse/following{/other_user}",
      "gists_url": "https://api.github.com/users/mattsse/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mattsse/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mattsse/subscriptions",
      "organizations_url": "https://api.github.com/users/mattsse/orgs",
      "repos_url": "https://api.github.com/users/mattsse/repos",
      "events_url": "https://api.github.com/users/mattsse/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mattsse/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-01-20T16:10:18Z",
    "updated_at": "2023-01-20T16:10:18Z",
    "author_association": "MEMBER",
    "body": "great, so this seems to be an issue with the default limits for historic state that we keep in memory.\r\n\r\nI guess we can make this smarter and auto adjust best on some estimation",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1398610301/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1398785071",
    "html_url": "https://github.com/foundry-rs/foundry/issues/3478#issuecomment-1398785071",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/3478",
    "id": 1398785071,
    "node_id": "IC_kwDOGBlvNc5TX8Qv",
    "user": {
      "login": "gakonst",
      "id": 17802178,
      "node_id": "MDQ6VXNlcjE3ODAyMTc4",
      "avatar_url": "https://avatars.githubusercontent.com/u/17802178?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gakonst",
      "html_url": "https://github.com/gakonst",
      "followers_url": "https://api.github.com/users/gakonst/followers",
      "following_url": "https://api.github.com/users/gakonst/following{/other_user}",
      "gists_url": "https://api.github.com/users/gakonst/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gakonst/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gakonst/subscriptions",
      "organizations_url": "https://api.github.com/users/gakonst/orgs",
      "repos_url": "https://api.github.com/users/gakonst/repos",
      "events_url": "https://api.github.com/users/gakonst/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gakonst/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-01-20T18:36:22Z",
    "updated_at": "2023-01-20T18:36:22Z",
    "author_association": "MEMBER",
    "body": "I guess we could turn prune history and max transaction keeper on by default with some reasonable bounds?",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1398785071/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
