{
  "url": "https://api.github.com/repos/foundry-rs/foundry/issues/1988",
  "repository_url": "https://api.github.com/repos/foundry-rs/foundry",
  "labels_url": "https://api.github.com/repos/foundry-rs/foundry/issues/1988/labels{/name}",
  "comments_url": "https://api.github.com/repos/foundry-rs/foundry/issues/1988/comments",
  "events_url": "https://api.github.com/repos/foundry-rs/foundry/issues/1988/events",
  "html_url": "https://github.com/foundry-rs/foundry/issues/1988",
  "id": 1272941239,
  "node_id": "I_kwDOGBlvNc5L34q3",
  "number": 1988,
  "title": "Single command foundry deploy",
  "user": {
    "login": "ShravanSunder",
    "id": 5294949,
    "node_id": "MDQ6VXNlcjUyOTQ5NDk=",
    "avatar_url": "https://avatars.githubusercontent.com/u/5294949?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/ShravanSunder",
    "html_url": "https://github.com/ShravanSunder",
    "followers_url": "https://api.github.com/users/ShravanSunder/followers",
    "following_url": "https://api.github.com/users/ShravanSunder/following{/other_user}",
    "gists_url": "https://api.github.com/users/ShravanSunder/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/ShravanSunder/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/ShravanSunder/subscriptions",
    "organizations_url": "https://api.github.com/users/ShravanSunder/orgs",
    "repos_url": "https://api.github.com/users/ShravanSunder/repos",
    "events_url": "https://api.github.com/users/ShravanSunder/events{/privacy}",
    "received_events_url": "https://api.github.com/users/ShravanSunder/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 3593644820,
      "node_id": "LA_kwDOGBlvNc7WMqsU",
      "url": "https://api.github.com/repos/foundry-rs/foundry/labels/T-feature",
      "name": "T-feature",
      "color": "BFD4F2",
      "default": false,
      "description": "Type: feature"
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 4,
  "created_at": "2022-06-16T01:40:42Z",
  "updated_at": "2022-06-16T15:29:22Z",
  "closed_at": "2022-06-16T10:33:45Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "### Component\n\nForge\n\n### Describe the feature you would like\n\nIt would be extremely useful to have a `foundry deploy` command that works similar to `hardhat deploy`\r\nIt would work like this:\r\n- load and run all `foundry scripts` (.sol script files) in a `deploy` folder. (run then in order based on name such as 00_deploy_uniswap)\r\n- Run the script based on sender or mneomonic_path / index\r\n- capture all the brodcasts for `create` transaction and the deployed `address`. \r\n- output them into a single export file so that they can be used by a front export.  The existing broadcast file would not be modified.\r\n\r\nI'm learning rust, i'm willing to work on this.    @gakonst  Let me know if the proposal makes sense?  Would be happy to try it out.  \n\n### Additional context\n\n_No response_",
  "closed_by": {
    "login": "ShravanSunder",
    "id": 5294949,
    "node_id": "MDQ6VXNlcjUyOTQ5NDk=",
    "avatar_url": "https://avatars.githubusercontent.com/u/5294949?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/ShravanSunder",
    "html_url": "https://github.com/ShravanSunder",
    "followers_url": "https://api.github.com/users/ShravanSunder/followers",
    "following_url": "https://api.github.com/users/ShravanSunder/following{/other_user}",
    "gists_url": "https://api.github.com/users/ShravanSunder/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/ShravanSunder/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/ShravanSunder/subscriptions",
    "organizations_url": "https://api.github.com/users/ShravanSunder/orgs",
    "repos_url": "https://api.github.com/users/ShravanSunder/repos",
    "events_url": "https://api.github.com/users/ShravanSunder/events{/privacy}",
    "received_events_url": "https://api.github.com/users/ShravanSunder/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/1988/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/foundry-rs/foundry/issues/1988/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1157194975",
    "html_url": "https://github.com/foundry-rs/foundry/issues/1988#issuecomment-1157194975",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/1988",
    "id": 1157194975,
    "node_id": "IC_kwDOGBlvNc5E-WTf",
    "user": {
      "login": "gakonst",
      "id": 17802178,
      "node_id": "MDQ6VXNlcjE3ODAyMTc4",
      "avatar_url": "https://avatars.githubusercontent.com/u/17802178?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gakonst",
      "html_url": "https://github.com/gakonst",
      "followers_url": "https://api.github.com/users/gakonst/followers",
      "following_url": "https://api.github.com/users/gakonst/following{/other_user}",
      "gists_url": "https://api.github.com/users/gakonst/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gakonst/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gakonst/subscriptions",
      "organizations_url": "https://api.github.com/users/gakonst/orgs",
      "repos_url": "https://api.github.com/users/gakonst/repos",
      "events_url": "https://api.github.com/users/gakonst/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gakonst/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-06-16T03:34:29Z",
    "updated_at": "2022-06-16T03:34:29Z",
    "author_association": "MEMBER",
    "body": "I think I'm leaning against having multiple scripts for a single deployment, due to how our --resume functionality works.\r\n\r\n@joshieDo cc",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1157194975/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1157422867",
    "html_url": "https://github.com/foundry-rs/foundry/issues/1988#issuecomment-1157422867",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/1988",
    "id": 1157422867,
    "node_id": "IC_kwDOGBlvNc5E_N8T",
    "user": {
      "login": "joshieDo",
      "id": 93316087,
      "node_id": "U_kgDOBY_j9w",
      "avatar_url": "https://avatars.githubusercontent.com/u/93316087?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/joshieDo",
      "html_url": "https://github.com/joshieDo",
      "followers_url": "https://api.github.com/users/joshieDo/followers",
      "following_url": "https://api.github.com/users/joshieDo/following{/other_user}",
      "gists_url": "https://api.github.com/users/joshieDo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/joshieDo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/joshieDo/subscriptions",
      "organizations_url": "https://api.github.com/users/joshieDo/orgs",
      "repos_url": "https://api.github.com/users/joshieDo/repos",
      "events_url": "https://api.github.com/users/joshieDo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/joshieDo/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-06-16T09:11:15Z",
    "updated_at": "2022-06-16T09:13:15Z",
    "author_association": "COLLABORATOR",
    "body": "I honestly don't understand much of the added value here. Why just not divide those steps between different functions/contracts and unify them under one `deploy()` function ? \r\n\r\nWhat do you feel is lacking on this approach that yours would help with?\r\n\r\n> Run the script based on sender or mneomonic_path / index\r\n> capture all the brodcasts for create transaction and the deployed address.\r\n\r\nYou already have this on the current iteration. Although most people seem to be using `startBroadcast()`, `startBroadcast(address)` does exist.\r\n\r\n> output them into a single export file so that they can be used by a front export. The existing broadcast file would not be modified.\r\n\r\nyou can always backup the latest broadcast file, and even if the latest gets overwritten, we always keep the previous log in the `broadcast/` folder, with its timestamp.",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1157422867/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1157504714",
    "html_url": "https://github.com/foundry-rs/foundry/issues/1988#issuecomment-1157504714",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/1988",
    "id": 1157504714,
    "node_id": "IC_kwDOGBlvNc5E_h7K",
    "user": {
      "login": "ShravanSunder",
      "id": 5294949,
      "node_id": "MDQ6VXNlcjUyOTQ5NDk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5294949?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ShravanSunder",
      "html_url": "https://github.com/ShravanSunder",
      "followers_url": "https://api.github.com/users/ShravanSunder/followers",
      "following_url": "https://api.github.com/users/ShravanSunder/following{/other_user}",
      "gists_url": "https://api.github.com/users/ShravanSunder/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ShravanSunder/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ShravanSunder/subscriptions",
      "organizations_url": "https://api.github.com/users/ShravanSunder/orgs",
      "repos_url": "https://api.github.com/users/ShravanSunder/repos",
      "events_url": "https://api.github.com/users/ShravanSunder/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ShravanSunder/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-06-16T10:33:45Z",
    "updated_at": "2022-06-16T10:33:45Z",
    "author_association": "NONE",
    "body": "Hey all, thanks for the comments.  I think the point about unifying under one deploy function makes a lot of sense.  And so does filtering broadcast.  \r\n\r\nI'll try out the suggested method and close this case for now!\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1157504714/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1157797221",
    "html_url": "https://github.com/foundry-rs/foundry/issues/1988#issuecomment-1157797221",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/1988",
    "id": 1157797221,
    "node_id": "IC_kwDOGBlvNc5FApVl",
    "user": {
      "login": "gakonst",
      "id": 17802178,
      "node_id": "MDQ6VXNlcjE3ODAyMTc4",
      "avatar_url": "https://avatars.githubusercontent.com/u/17802178?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gakonst",
      "html_url": "https://github.com/gakonst",
      "followers_url": "https://api.github.com/users/gakonst/followers",
      "following_url": "https://api.github.com/users/gakonst/following{/other_user}",
      "gists_url": "https://api.github.com/users/gakonst/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gakonst/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gakonst/subscriptions",
      "organizations_url": "https://api.github.com/users/gakonst/orgs",
      "repos_url": "https://api.github.com/users/gakonst/repos",
      "events_url": "https://api.github.com/users/gakonst/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gakonst/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-06-16T15:29:21Z",
    "updated_at": "2022-06-16T15:29:21Z",
    "author_association": "MEMBER",
    "body": "Yep - I think the script feature is basically done at this point and covers every use case. Big big kudos to @brockelmore and @joshieDo ",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1157797221/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
