{
  "url": "https://api.github.com/repos/foundry-rs/foundry/issues/3988",
  "repository_url": "https://api.github.com/repos/foundry-rs/foundry",
  "labels_url": "https://api.github.com/repos/foundry-rs/foundry/issues/3988/labels{/name}",
  "comments_url": "https://api.github.com/repos/foundry-rs/foundry/issues/3988/comments",
  "events_url": "https://api.github.com/repos/foundry-rs/foundry/issues/3988/events",
  "html_url": "https://github.com/foundry-rs/foundry/issues/3988",
  "id": 1513851512,
  "node_id": "I_kwDOGBlvNc5aO4p4",
  "number": 3988,
  "title": "Document how `forge script` works",
  "user": {
    "login": "CodeSandwich",
    "id": 26183680,
    "node_id": "MDQ6VXNlcjI2MTgzNjgw",
    "avatar_url": "https://avatars.githubusercontent.com/u/26183680?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/CodeSandwich",
    "html_url": "https://github.com/CodeSandwich",
    "followers_url": "https://api.github.com/users/CodeSandwich/followers",
    "following_url": "https://api.github.com/users/CodeSandwich/following{/other_user}",
    "gists_url": "https://api.github.com/users/CodeSandwich/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/CodeSandwich/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/CodeSandwich/subscriptions",
    "organizations_url": "https://api.github.com/users/CodeSandwich/orgs",
    "repos_url": "https://api.github.com/users/CodeSandwich/repos",
    "events_url": "https://api.github.com/users/CodeSandwich/events{/privacy}",
    "received_events_url": "https://api.github.com/users/CodeSandwich/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 3334394231,
      "node_id": "MDU6TGFiZWwzMzM0Mzk0MjMx",
      "url": "https://api.github.com/repos/foundry-rs/foundry/labels/A-docs",
      "name": "A-docs",
      "color": "FBCA04",
      "default": false,
      "description": "Area: docs"
    },
    {
      "id": 3593644820,
      "node_id": "LA_kwDOGBlvNc7WMqsU",
      "url": "https://api.github.com/repos/foundry-rs/foundry/labels/T-feature",
      "name": "T-feature",
      "color": "BFD4F2",
      "default": false,
      "description": "Type: feature"
    },
    {
      "id": 4182991461,
      "node_id": "LA_kwDOGBlvNc75U2Jl",
      "url": "https://api.github.com/repos/foundry-rs/foundry/labels/Cmd-forge-script",
      "name": "Cmd-forge-script",
      "color": "006B75",
      "default": false,
      "description": "Command: forge script"
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 1,
  "created_at": "2022-12-29T15:48:11Z",
  "updated_at": "2023-01-05T06:27:50Z",
  "closed_at": "2023-01-05T06:27:49Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "### Component\r\n\r\nDocumentation\r\n\r\n### Describe the feature you would like\r\n\r\n`forge script` is a non-trivial tool and it needs better documentation of what it's actually doing.\r\n\r\nThe existing docs are very basic, it's just a dry command description, an extremely basic tutorial and a short section about best practices. From the docs I know that there's a local EVM involved, a fork of the network, some messages are packed into transactions and sent, but some logic is executed only locally. It's unclear how it's run, or what exactly happens when `vm.broadcast` is called. Does it send a transaction right away, or does it wait for the script to end assuming that running them on the blockchain will yield the same results? What's the data flow between what's on the local EVM inside the script and what's on the actual blockchain? Can I batch broadcasted transactions to make them safer and cheaper? Can I see the real effects of the broadcasted transactions in the script? Will its results be verified on Etherscan? There's the problem of simulating of transactions, which may end up being frontrun and probably collapse the entire deployment process, why is it like this and how to work with it? How to write unit tests, does `vm.broadcast` have any effects for them?\r\n\r\nThe questions don't seem to end, but they all are probably easy to answer when you understand how `forge script` runs, it's probably quite simple, but it needs to be documented. TBH I still don't understand how it works, and I don't feel confident writing scripts, that's why I've opened this issue.\r\n\r\n### Additional context\r\n\r\n_No response_",
  "closed_by": {
    "login": "joshieDo",
    "id": 93316087,
    "node_id": "U_kgDOBY_j9w",
    "avatar_url": "https://avatars.githubusercontent.com/u/93316087?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/joshieDo",
    "html_url": "https://github.com/joshieDo",
    "followers_url": "https://api.github.com/users/joshieDo/followers",
    "following_url": "https://api.github.com/users/joshieDo/following{/other_user}",
    "gists_url": "https://api.github.com/users/joshieDo/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/joshieDo/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/joshieDo/subscriptions",
    "organizations_url": "https://api.github.com/users/joshieDo/orgs",
    "repos_url": "https://api.github.com/users/joshieDo/repos",
    "events_url": "https://api.github.com/users/joshieDo/events{/privacy}",
    "received_events_url": "https://api.github.com/users/joshieDo/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/3988/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/foundry-rs/foundry/issues/3988/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1371832052",
    "html_url": "https://github.com/foundry-rs/foundry/issues/3988#issuecomment-1371832052",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/3988",
    "id": 1371832052,
    "node_id": "IC_kwDOGBlvNc5RxH70",
    "user": {
      "login": "joshieDo",
      "id": 93316087,
      "node_id": "U_kgDOBY_j9w",
      "avatar_url": "https://avatars.githubusercontent.com/u/93316087?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/joshieDo",
      "html_url": "https://github.com/joshieDo",
      "followers_url": "https://api.github.com/users/joshieDo/followers",
      "following_url": "https://api.github.com/users/joshieDo/following{/other_user}",
      "gists_url": "https://api.github.com/users/joshieDo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/joshieDo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/joshieDo/subscriptions",
      "organizations_url": "https://api.github.com/users/joshieDo/orgs",
      "repos_url": "https://api.github.com/users/joshieDo/repos",
      "events_url": "https://api.github.com/users/joshieDo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/joshieDo/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-01-05T06:27:49Z",
    "updated_at": "2023-01-05T06:27:49Z",
    "author_association": "COLLABORATOR",
    "body": "see the linked PR into `book`.\r\n\r\nclosing it here and moving the discussion there",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1371832052/reactions",
      "total_count": 2,
      "+1": 2,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
