{
  "url": "https://api.github.com/repos/foundry-rs/foundry/issues/5483",
  "repository_url": "https://api.github.com/repos/foundry-rs/foundry",
  "labels_url": "https://api.github.com/repos/foundry-rs/foundry/issues/5483/labels{/name}",
  "comments_url": "https://api.github.com/repos/foundry-rs/foundry/issues/5483/comments",
  "events_url": "https://api.github.com/repos/foundry-rs/foundry/issues/5483/events",
  "html_url": "https://github.com/foundry-rs/foundry/issues/5483",
  "id": 1824478931,
  "node_id": "I_kwDOGBlvNc5sv1bT",
  "number": 5483,
  "title": "Windows Build From Source Installation Speed",
  "user": {
    "login": "pcaversaccio",
    "id": 25297591,
    "node_id": "MDQ6VXNlcjI1Mjk3NTkx",
    "avatar_url": "https://avatars.githubusercontent.com/u/25297591?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/pcaversaccio",
    "html_url": "https://github.com/pcaversaccio",
    "followers_url": "https://api.github.com/users/pcaversaccio/followers",
    "following_url": "https://api.github.com/users/pcaversaccio/following{/other_user}",
    "gists_url": "https://api.github.com/users/pcaversaccio/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/pcaversaccio/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/pcaversaccio/subscriptions",
    "organizations_url": "https://api.github.com/users/pcaversaccio/orgs",
    "repos_url": "https://api.github.com/users/pcaversaccio/repos",
    "events_url": "https://api.github.com/users/pcaversaccio/events{/privacy}",
    "received_events_url": "https://api.github.com/users/pcaversaccio/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 3593644820,
      "node_id": "LA_kwDOGBlvNc7WMqsU",
      "url": "https://api.github.com/repos/foundry-rs/foundry/labels/T-feature",
      "name": "T-feature",
      "color": "BFD4F2",
      "default": false,
      "description": "Type: feature"
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2023-07-27T14:18:18Z",
  "updated_at": "2023-07-28T08:09:20Z",
  "closed_at": null,
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "### Component\r\n\r\nOther (please describe)\r\n\r\n### Describe the feature you would like\r\n\r\nThe current installation time on Windows OS (i.e. building Foundry from source) is crazy long. In order to replicate the normal installation behaviour, you can run the following GH CI action on any test repo:\r\n\r\n```yml\r\nname: ðŸ›  Test Native Windows Foundry Build\r\n\r\non: [workflow_dispatch]\r\n\r\njobs:\r\n  build:\r\n    name: Foundry\r\n    runs-on: windows-latest\r\n\r\n    steps:\r\n      - name: Checkout\r\n        uses: actions/checkout@v3\r\n\r\n      - name: Set up Rust\r\n        uses: actions-rs/toolchain@v1\r\n        with:\r\n          toolchain: stable\r\n\r\n      - name: Build Foundry from source\r\n        run: cargo install --git https://github.com/foundry-rs/foundry --profile local --force foundry-cli anvil chisel\r\n```\r\n\r\n![image](https://github.com/foundry-rs/foundry/assets/25297591/501b56c5-7ba9-4d9a-9f53-a066d3b357a9)\r\n\r\nFor `foundry-cli`, `anvil`, and `chisel` together you usually have +90mins build time, which is honestly not acceptable. WSL works of course as an alternative, but I would like to still discuss potential remediations here.\r\n\r\n\r\n### Additional context\r\n\r\nMy current local installation time:\r\n\r\n![image](https://github.com/foundry-rs/foundry/assets/25297591/de787972-1c15-40b8-86d1-258ecdc6fa2e)\r\n",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/5483/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/foundry-rs/foundry/issues/5483/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1653996376",
    "html_url": "https://github.com/foundry-rs/foundry/issues/5483#issuecomment-1653996376",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/5483",
    "id": 1653996376,
    "node_id": "IC_kwDOGBlvNc5ilftY",
    "user": {
      "login": "DaniPopes",
      "id": 57450786,
      "node_id": "MDQ6VXNlcjU3NDUwNzg2",
      "avatar_url": "https://avatars.githubusercontent.com/u/57450786?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/DaniPopes",
      "html_url": "https://github.com/DaniPopes",
      "followers_url": "https://api.github.com/users/DaniPopes/followers",
      "following_url": "https://api.github.com/users/DaniPopes/following{/other_user}",
      "gists_url": "https://api.github.com/users/DaniPopes/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/DaniPopes/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/DaniPopes/subscriptions",
      "organizations_url": "https://api.github.com/users/DaniPopes/orgs",
      "repos_url": "https://api.github.com/users/DaniPopes/repos",
      "events_url": "https://api.github.com/users/DaniPopes/events{/privacy}",
      "received_events_url": "https://api.github.com/users/DaniPopes/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-07-27T16:55:47Z",
    "updated_at": "2023-07-27T16:58:00Z",
    "author_association": "CONTRIBUTOR",
    "body": "You can use the pre-compiled binaries for your CI, but here's our timings:\r\n- 15~30m on our release CI (https://github.com/foundry-rs/foundry/actions/workflows/release.yml), which is similar to Mac OS and Linux\r\n  1. https://github.com/foundry-rs/foundry/actions/runs/5674980978/job/15379491694\r\n  2. https://github.com/foundry-rs/foundry/actions/runs/5656217152/job/15322824126\r\n- 2:11m on my machine with `cargo b --bins --profile local`\r\n\r\nIn general Rust binaries are slow to compile, even more so when done with optimizations.\r\nWe can maybe shave off a few minutes on top of that, but this is probably the best you'll get",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1653996376/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1655241345",
    "html_url": "https://github.com/foundry-rs/foundry/issues/5483#issuecomment-1655241345",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/5483",
    "id": 1655241345,
    "node_id": "IC_kwDOGBlvNc5iqPqB",
    "user": {
      "login": "pcaversaccio",
      "id": 25297591,
      "node_id": "MDQ6VXNlcjI1Mjk3NTkx",
      "avatar_url": "https://avatars.githubusercontent.com/u/25297591?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pcaversaccio",
      "html_url": "https://github.com/pcaversaccio",
      "followers_url": "https://api.github.com/users/pcaversaccio/followers",
      "following_url": "https://api.github.com/users/pcaversaccio/following{/other_user}",
      "gists_url": "https://api.github.com/users/pcaversaccio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pcaversaccio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pcaversaccio/subscriptions",
      "organizations_url": "https://api.github.com/users/pcaversaccio/orgs",
      "repos_url": "https://api.github.com/users/pcaversaccio/repos",
      "events_url": "https://api.github.com/users/pcaversaccio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pcaversaccio/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-07-28T08:09:20Z",
    "updated_at": "2023-07-28T08:09:20Z",
    "author_association": "CONTRIBUTOR",
    "body": "thanks for the references, and I'm aware of the slow Rust compilation time. All I'm saying is that 30min is still a lot compared to `foundryup` and I'm not sure how much can be shaved off, but whatever can be shaved off should be done imo.",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1655241345/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
