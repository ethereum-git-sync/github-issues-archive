{
  "url": "https://api.github.com/repos/foundry-rs/foundry/issues/6152",
  "repository_url": "https://api.github.com/repos/foundry-rs/foundry",
  "labels_url": "https://api.github.com/repos/foundry-rs/foundry/issues/6152/labels{/name}",
  "comments_url": "https://api.github.com/repos/foundry-rs/foundry/issues/6152/comments",
  "events_url": "https://api.github.com/repos/foundry-rs/foundry/issues/6152/events",
  "html_url": "https://github.com/foundry-rs/foundry/issues/6152",
  "id": 1966167158,
  "node_id": "I_kwDOGBlvNc51MVR2",
  "number": 6152,
  "title": "Foundryup: Error opening archive: Unrecognized archive format",
  "user": {
    "login": "gnkz",
    "id": 6633835,
    "node_id": "MDQ6VXNlcjY2MzM4MzU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6633835?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/gnkz",
    "html_url": "https://github.com/gnkz",
    "followers_url": "https://api.github.com/users/gnkz/followers",
    "following_url": "https://api.github.com/users/gnkz/following{/other_user}",
    "gists_url": "https://api.github.com/users/gnkz/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/gnkz/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/gnkz/subscriptions",
    "organizations_url": "https://api.github.com/users/gnkz/orgs",
    "repos_url": "https://api.github.com/users/gnkz/repos",
    "events_url": "https://api.github.com/users/gnkz/events{/privacy}",
    "received_events_url": "https://api.github.com/users/gnkz/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 3334394228,
      "node_id": "MDU6TGFiZWwzMzM0Mzk0MjI4",
      "url": "https://api.github.com/repos/foundry-rs/foundry/labels/T-bug",
      "name": "T-bug",
      "color": "d73a4a",
      "default": false,
      "description": "Type: bug"
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 4,
  "created_at": "2023-10-27T20:41:44Z",
  "updated_at": "2023-10-28T02:12:31Z",
  "closed_at": "2023-10-28T02:12:31Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "### Component\n\nFoundryup\n\n### Have you ensured that all of these are up to date?\n\n- [ ] Foundry\n- [ ] Foundryup\n\n### What version of Foundry are you on?\n\nforge 0.2.0 (9fd44a7 2023-10-26T00:23:32.602895000Z)\n\n### What command(s) is the bug in?\n\nfoundryup\n\n### Operating System\n\nmacOS (Apple Silicon)\n\n### Describe the bug\n\nWhen running `foundryup` I'm getting this error\r\n\r\n```\r\nfoundryup: installing foundry (version nightly, tag nightly-4422d671b39d11788731f51e67896e305503ea6c)\r\nfoundryup: downloading latest forge, cast and anvil\r\n############################################################################################################################################## 100.0%\r\ntar: Error opening archive: Unrecognized archive format\r\nfoundryup: downloading manpages\r\n############################################################################################################################################## 100.0%\r\ntar: Error opening archive: Unrecognized archive format\r\nfoundryup: installed - forge 0.2.0 (9fd44a7 2023-10-26T00:23:32.602895000Z)\r\nfoundryup: installed - cast 0.2.0 (9fd44a7 2023-10-26T00:23:32.882582000Z)\r\nfoundryup: installed - anvil 0.2.0 (9fd44a7 2023-10-26T00:23:33.029728000Z)\r\nfoundryup: done\r\n```",
  "closed_by": {
    "login": "mattsse",
    "id": 19890894,
    "node_id": "MDQ6VXNlcjE5ODkwODk0",
    "avatar_url": "https://avatars.githubusercontent.com/u/19890894?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/mattsse",
    "html_url": "https://github.com/mattsse",
    "followers_url": "https://api.github.com/users/mattsse/followers",
    "following_url": "https://api.github.com/users/mattsse/following{/other_user}",
    "gists_url": "https://api.github.com/users/mattsse/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/mattsse/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/mattsse/subscriptions",
    "organizations_url": "https://api.github.com/users/mattsse/orgs",
    "repos_url": "https://api.github.com/users/mattsse/repos",
    "events_url": "https://api.github.com/users/mattsse/events{/privacy}",
    "received_events_url": "https://api.github.com/users/mattsse/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/6152/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/foundry-rs/foundry/issues/6152/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1783598836",
    "html_url": "https://github.com/foundry-rs/foundry/issues/6152#issuecomment-1783598836",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/6152",
    "id": 1783598836,
    "node_id": "IC_kwDOGBlvNc5qT470",
    "user": {
      "login": "mattsse",
      "id": 19890894,
      "node_id": "MDQ6VXNlcjE5ODkwODk0",
      "avatar_url": "https://avatars.githubusercontent.com/u/19890894?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mattsse",
      "html_url": "https://github.com/mattsse",
      "followers_url": "https://api.github.com/users/mattsse/followers",
      "following_url": "https://api.github.com/users/mattsse/following{/other_user}",
      "gists_url": "https://api.github.com/users/mattsse/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mattsse/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mattsse/subscriptions",
      "organizations_url": "https://api.github.com/users/mattsse/orgs",
      "repos_url": "https://api.github.com/users/mattsse/repos",
      "events_url": "https://api.github.com/users/mattsse/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mattsse/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-10-27T23:05:28Z",
    "updated_at": "2023-10-27T23:05:28Z",
    "author_association": "MEMBER",
    "body": "could you try after reinstalling foundryup `curl -L https://foundry.paradigm.xyz | bash`",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1783598836/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1783613547",
    "html_url": "https://github.com/foundry-rs/foundry/issues/6152#issuecomment-1783613547",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/6152",
    "id": 1783613547,
    "node_id": "IC_kwDOGBlvNc5qT8hr",
    "user": {
      "login": "SonOfMosiah",
      "id": 84041746,
      "node_id": "MDQ6VXNlcjg0MDQxNzQ2",
      "avatar_url": "https://avatars.githubusercontent.com/u/84041746?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/SonOfMosiah",
      "html_url": "https://github.com/SonOfMosiah",
      "followers_url": "https://api.github.com/users/SonOfMosiah/followers",
      "following_url": "https://api.github.com/users/SonOfMosiah/following{/other_user}",
      "gists_url": "https://api.github.com/users/SonOfMosiah/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/SonOfMosiah/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SonOfMosiah/subscriptions",
      "organizations_url": "https://api.github.com/users/SonOfMosiah/orgs",
      "repos_url": "https://api.github.com/users/SonOfMosiah/repos",
      "events_url": "https://api.github.com/users/SonOfMosiah/events{/privacy}",
      "received_events_url": "https://api.github.com/users/SonOfMosiah/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-10-27T23:36:09Z",
    "updated_at": "2023-10-27T23:36:09Z",
    "author_association": "NONE",
    "body": "Receiving the same error here even after reinstalling foundryup.\r\n\r\n- Also using macOS (Apple Silicon)\r\n\r\n- Default shell is zsh\r\n\r\n\r\nIs there a documented method to uninstall before reinstalling?\r\n\r\n\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1783613547/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1783617359",
    "html_url": "https://github.com/foundry-rs/foundry/issues/6152#issuecomment-1783617359",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/6152",
    "id": 1783617359,
    "node_id": "IC_kwDOGBlvNc5qT9dP",
    "user": {
      "login": "clabby",
      "id": 8406232,
      "node_id": "MDQ6VXNlcjg0MDYyMzI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8406232?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/clabby",
      "html_url": "https://github.com/clabby",
      "followers_url": "https://api.github.com/users/clabby/followers",
      "following_url": "https://api.github.com/users/clabby/following{/other_user}",
      "gists_url": "https://api.github.com/users/clabby/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/clabby/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/clabby/subscriptions",
      "organizations_url": "https://api.github.com/users/clabby/orgs",
      "repos_url": "https://api.github.com/users/clabby/repos",
      "events_url": "https://api.github.com/users/clabby/events{/privacy}",
      "received_events_url": "https://api.github.com/users/clabby/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-10-27T23:45:17Z",
    "updated_at": "2023-10-27T23:48:14Z",
    "author_association": "CONTRIBUTOR",
    "body": "+1, also receiving this error in our CI.\r\n\r\nThe reason is because `foundryup` is currently looking for the nightly build [in the format of `nightly-<SHA>`](https://github.com/foundry-rs/foundry/blob/master/foundryup/foundryup#L86-L92), where the tag is just `nightly`.\r\n\r\nSee: https://api.github.com/repos/foundry-rs/foundry/git/refs/tags/nightly\r\nand: https://github.com/foundry-rs/foundry/releases/tag/nightly (notice the assets were updated a few minutes ago, and the commit SHA isn't in the URI path).\r\n\r\nChanging the `FOUNDRYUP_TAG` var on L92 in `foundryup` to just `nightly` does the trick.",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1783617359/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1783620329",
    "html_url": "https://github.com/foundry-rs/foundry/issues/6152#issuecomment-1783620329",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/6152",
    "id": 1783620329,
    "node_id": "IC_kwDOGBlvNc5qT-Lp",
    "user": {
      "login": "SonOfMosiah",
      "id": 84041746,
      "node_id": "MDQ6VXNlcjg0MDQxNzQ2",
      "avatar_url": "https://avatars.githubusercontent.com/u/84041746?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/SonOfMosiah",
      "html_url": "https://github.com/SonOfMosiah",
      "followers_url": "https://api.github.com/users/SonOfMosiah/followers",
      "following_url": "https://api.github.com/users/SonOfMosiah/following{/other_user}",
      "gists_url": "https://api.github.com/users/SonOfMosiah/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/SonOfMosiah/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SonOfMosiah/subscriptions",
      "organizations_url": "https://api.github.com/users/SonOfMosiah/orgs",
      "repos_url": "https://api.github.com/users/SonOfMosiah/repos",
      "events_url": "https://api.github.com/users/SonOfMosiah/events{/privacy}",
      "received_events_url": "https://api.github.com/users/SonOfMosiah/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-10-27T23:52:51Z",
    "updated_at": "2023-10-27T23:52:51Z",
    "author_association": "NONE",
    "body": "Was able to fix on my machine with the following commands:\r\n\r\nUpdate Rust\r\n`brew upgrade rust`\r\n\r\n`foundryup --branch master`\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1783620329/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
