{
  "url": "https://api.github.com/repos/foundry-rs/foundry/issues/5878",
  "repository_url": "https://api.github.com/repos/foundry-rs/foundry",
  "labels_url": "https://api.github.com/repos/foundry-rs/foundry/issues/5878/labels{/name}",
  "comments_url": "https://api.github.com/repos/foundry-rs/foundry/issues/5878/comments",
  "events_url": "https://api.github.com/repos/foundry-rs/foundry/issues/5878/events",
  "html_url": "https://github.com/foundry-rs/foundry/issues/5878",
  "id": 1909084234,
  "node_id": "I_kwDOGBlvNc5xylBK",
  "number": 5878,
  "title": "vm.label per fork",
  "user": {
    "login": "marcelomorgado",
    "id": 29674218,
    "node_id": "MDQ6VXNlcjI5Njc0MjE4",
    "avatar_url": "https://avatars.githubusercontent.com/u/29674218?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/marcelomorgado",
    "html_url": "https://github.com/marcelomorgado",
    "followers_url": "https://api.github.com/users/marcelomorgado/followers",
    "following_url": "https://api.github.com/users/marcelomorgado/following{/other_user}",
    "gists_url": "https://api.github.com/users/marcelomorgado/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/marcelomorgado/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/marcelomorgado/subscriptions",
    "organizations_url": "https://api.github.com/users/marcelomorgado/orgs",
    "repos_url": "https://api.github.com/users/marcelomorgado/repos",
    "events_url": "https://api.github.com/users/marcelomorgado/events{/privacy}",
    "received_events_url": "https://api.github.com/users/marcelomorgado/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 3334394235,
      "node_id": "MDU6TGFiZWwzMzM0Mzk0MjM1",
      "url": "https://api.github.com/repos/foundry-rs/foundry/labels/good%20first%20issue",
      "name": "good first issue",
      "color": "0052CC",
      "default": true,
      "description": "Good for newcomers"
    },
    {
      "id": 3593644820,
      "node_id": "LA_kwDOGBlvNc7WMqsU",
      "url": "https://api.github.com/repos/foundry-rs/foundry/labels/T-feature",
      "name": "T-feature",
      "color": "BFD4F2",
      "default": false,
      "description": "Type: feature"
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 5,
  "created_at": "2023-09-22T15:07:23Z",
  "updated_at": "2023-10-08T20:01:34Z",
  "closed_at": null,
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "### Component\n\nForge\n\n### Describe the feature you would like\n\nI think would be useful to set `forkId` when labeling an address. It isn't rare to have the same address across chains and the ability to label them differently would help on debugging.\n\n### Additional context\n\n_No response_",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/5878/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/foundry-rs/foundry/issues/5878/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1732307767",
    "html_url": "https://github.com/foundry-rs/foundry/issues/5878#issuecomment-1732307767",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/5878",
    "id": 1732307767,
    "node_id": "IC_kwDOGBlvNc5nQOs3",
    "user": {
      "login": "mattsse",
      "id": 19890894,
      "node_id": "MDQ6VXNlcjE5ODkwODk0",
      "avatar_url": "https://avatars.githubusercontent.com/u/19890894?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mattsse",
      "html_url": "https://github.com/mattsse",
      "followers_url": "https://api.github.com/users/mattsse/followers",
      "following_url": "https://api.github.com/users/mattsse/following{/other_user}",
      "gists_url": "https://api.github.com/users/mattsse/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mattsse/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mattsse/subscriptions",
      "organizations_url": "https://api.github.com/users/mattsse/orgs",
      "repos_url": "https://api.github.com/users/mattsse/repos",
      "events_url": "https://api.github.com/users/mattsse/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mattsse/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-09-23T12:31:01Z",
    "updated_at": "2023-09-23T12:31:01Z",
    "author_association": "MEMBER",
    "body": "hmm, yeah in hindsight an integer was perhaps not ideal.\r\n\r\nwe could overload the functions so they take a label and change the identifier behind the scenes\r\n\r\nthis would be straight forward though, we just need an additional map for String to id here\r\n\r\nhttps://github.com/foundry-rs/foundry/blob/cdba27348d8ac52e0e652d42c5154120f9bb11f8/crates/evm/src/executor/backend/mod.rs#L1461-L1461\r\n\r\nand some overloaded functions that accept string instead forkid int\r\n\r\nFYI @Evalir ",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1732307767/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1732569977",
    "html_url": "https://github.com/foundry-rs/foundry/issues/5878#issuecomment-1732569977",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/5878",
    "id": 1732569977,
    "node_id": "IC_kwDOGBlvNc5nROt5",
    "user": {
      "login": "ruvaag",
      "id": 81832128,
      "node_id": "MDQ6VXNlcjgxODMyMTI4",
      "avatar_url": "https://avatars.githubusercontent.com/u/81832128?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ruvaag",
      "html_url": "https://github.com/ruvaag",
      "followers_url": "https://api.github.com/users/ruvaag/followers",
      "following_url": "https://api.github.com/users/ruvaag/following{/other_user}",
      "gists_url": "https://api.github.com/users/ruvaag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ruvaag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ruvaag/subscriptions",
      "organizations_url": "https://api.github.com/users/ruvaag/orgs",
      "repos_url": "https://api.github.com/users/ruvaag/repos",
      "events_url": "https://api.github.com/users/ruvaag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ruvaag/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-09-24T13:24:14Z",
    "updated_at": "2023-09-24T13:24:54Z",
    "author_association": "CONTRIBUTOR",
    "body": "@mattsse @Evalir I'd love to take this up\r\n\r\nperhaps the fork labels could be stored in `executor::inspector::cheatcodes::Cheatcodes` as a `BTreeMap`instead? this is symmetrical to the address labels that live in `Cheatcodes` as `labels: BTreeMap<Address, String>`\r\n\r\nalso along the same lines, a new `vm.labelFork(uint256, string)` cheat could help set these labels to complement `vm.label(address, string)`",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1732569977/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1732911171",
    "html_url": "https://github.com/foundry-rs/foundry/issues/5878#issuecomment-1732911171",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/5878",
    "id": 1732911171,
    "node_id": "IC_kwDOGBlvNc5nSiBD",
    "user": {
      "login": "mds1",
      "id": 17163988,
      "node_id": "MDQ6VXNlcjE3MTYzOTg4",
      "avatar_url": "https://avatars.githubusercontent.com/u/17163988?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mds1",
      "html_url": "https://github.com/mds1",
      "followers_url": "https://api.github.com/users/mds1/followers",
      "following_url": "https://api.github.com/users/mds1/following{/other_user}",
      "gists_url": "https://api.github.com/users/mds1/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mds1/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mds1/subscriptions",
      "organizations_url": "https://api.github.com/users/mds1/orgs",
      "repos_url": "https://api.github.com/users/mds1/repos",
      "events_url": "https://api.github.com/users/mds1/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mds1/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-09-25T05:00:45Z",
    "updated_at": "2023-09-25T05:00:45Z",
    "author_association": "COLLABORATOR",
    "body": "> It isn't rare to have the same address across chains and the ability to label them differently would help on debugging.\r\n\r\nIIUC it sounds like the problem here could also be solved by simply showing fork IDs in traces (perhaps only showing this when more than 1 fork is used), without needing to change cheats/label/forkId approaches ",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1732911171/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1733242674",
    "html_url": "https://github.com/foundry-rs/foundry/issues/5878#issuecomment-1733242674",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/5878",
    "id": 1733242674,
    "node_id": "IC_kwDOGBlvNc5nTy8y",
    "user": {
      "login": "marcelomorgado",
      "id": 29674218,
      "node_id": "MDQ6VXNlcjI5Njc0MjE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/29674218?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/marcelomorgado",
      "html_url": "https://github.com/marcelomorgado",
      "followers_url": "https://api.github.com/users/marcelomorgado/followers",
      "following_url": "https://api.github.com/users/marcelomorgado/following{/other_user}",
      "gists_url": "https://api.github.com/users/marcelomorgado/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/marcelomorgado/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/marcelomorgado/subscriptions",
      "organizations_url": "https://api.github.com/users/marcelomorgado/orgs",
      "repos_url": "https://api.github.com/users/marcelomorgado/repos",
      "events_url": "https://api.github.com/users/marcelomorgado/events{/privacy}",
      "received_events_url": "https://api.github.com/users/marcelomorgado/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-09-25T09:13:52Z",
    "updated_at": "2023-09-25T09:13:52Z",
    "author_association": "NONE",
    "body": "My two cents as a user is that would be more meaningful and a better UX to have the contract's label shown in the trace",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1733242674/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1733710519",
    "html_url": "https://github.com/foundry-rs/foundry/issues/5878#issuecomment-1733710519",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/5878",
    "id": 1733710519,
    "node_id": "IC_kwDOGBlvNc5nVlK3",
    "user": {
      "login": "mds1",
      "id": 17163988,
      "node_id": "MDQ6VXNlcjE3MTYzOTg4",
      "avatar_url": "https://avatars.githubusercontent.com/u/17163988?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mds1",
      "html_url": "https://github.com/mds1",
      "followers_url": "https://api.github.com/users/mds1/followers",
      "following_url": "https://api.github.com/users/mds1/following{/other_user}",
      "gists_url": "https://api.github.com/users/mds1/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mds1/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mds1/subscriptions",
      "organizations_url": "https://api.github.com/users/mds1/orgs",
      "repos_url": "https://api.github.com/users/mds1/repos",
      "events_url": "https://api.github.com/users/mds1/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mds1/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-09-25T13:26:18Z",
    "updated_at": "2023-09-25T13:26:18Z",
    "author_association": "COLLABORATOR",
    "body": "To clarify my suggestion is that we’d always show the label, and if the test uses multiple fork IDs we also show fork ID. It should be possible to autogenerate a human friendly fork identifier such from the chain ID returned by the rpc and mapping that to the chain name",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1733710519/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
