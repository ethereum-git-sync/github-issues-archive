{
  "url": "https://api.github.com/repos/foundry-rs/foundry/issues/5783",
  "repository_url": "https://api.github.com/repos/foundry-rs/foundry",
  "labels_url": "https://api.github.com/repos/foundry-rs/foundry/issues/5783/labels{/name}",
  "comments_url": "https://api.github.com/repos/foundry-rs/foundry/issues/5783/comments",
  "events_url": "https://api.github.com/repos/foundry-rs/foundry/issues/5783/events",
  "html_url": "https://github.com/foundry-rs/foundry/issues/5783",
  "id": 1882637283,
  "node_id": "I_kwDOGBlvNc5wNsPj",
  "number": 5783,
  "title": "Foundry: can't build forge, cast, chisel. ethers-rs fails to compile.",
  "user": {
    "login": "PierrickGT",
    "id": 2401738,
    "node_id": "MDQ6VXNlcjI0MDE3Mzg=",
    "avatar_url": "https://avatars.githubusercontent.com/u/2401738?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/PierrickGT",
    "html_url": "https://github.com/PierrickGT",
    "followers_url": "https://api.github.com/users/PierrickGT/followers",
    "following_url": "https://api.github.com/users/PierrickGT/following{/other_user}",
    "gists_url": "https://api.github.com/users/PierrickGT/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/PierrickGT/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/PierrickGT/subscriptions",
    "organizations_url": "https://api.github.com/users/PierrickGT/orgs",
    "repos_url": "https://api.github.com/users/PierrickGT/repos",
    "events_url": "https://api.github.com/users/PierrickGT/events{/privacy}",
    "received_events_url": "https://api.github.com/users/PierrickGT/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 3334394228,
      "node_id": "MDU6TGFiZWwzMzM0Mzk0MjI4",
      "url": "https://api.github.com/repos/foundry-rs/foundry/labels/T-bug",
      "name": "T-bug",
      "color": "d73a4a",
      "default": false,
      "description": "Type: bug"
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 1,
  "created_at": "2023-09-05T19:59:57Z",
  "updated_at": "2023-09-05T21:39:03Z",
  "closed_at": null,
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "### Component\n\nForge, Cast, Chisel\n\n### Have you ensured that all of these are up to date?\n\n- [X] Foundry\n- [ ] Foundryup\n\n### What version of Foundry are you on?\n\nforge 0.2.0 (b1c03fa 2023-09-03T21:03:46.548309000Z)\n\n### What command(s) is the bug in?\n\ncargo install --git https://github.com/foundry-rs/foundry --profile local forge cast chisel anvil\n\n### Operating System\n\nmacOS (Apple Silicon)\n\n### Describe the bug\n\nHere is the stack trace of the compile error:\r\n```\r\n   Compiling ethers v2.0.9 (https://github.com/gakonst/ethers-rs#1052c935)\r\nerror[E0432]: unresolved imports `ethers_providers::ConnectionDetails`, `ethers_providers::Ipc`, `ethers_providers::Ws`\r\n --> crates/common/src/runtime_client.rs:6:20\r\n  |\r\n6 |     Authorization, ConnectionDetails, Http, HttpRateLimitRetryPolicy, Ipc, JsonRpcClient,\r\n  |                    ^^^^^^^^^^^^^^^^^                                  ^^^\r\n  |                    |                                                  |\r\n  |                    |                                                  no `Ipc` in the root\r\n  |                    |                                                  help: a similar name exists in the module: `rpc`\r\n  |                    no `ConnectionDetails` in the root\r\n7 |     JsonRpcError, JwtAuth, JwtKey, ProviderError, PubsubClient, RetryClient, RetryClientBuilder,\r\n8 |     RpcError, Ws,\r\n  |               ^^ no `Ws` in the root\r\n  |\r\n  = help: consider importing this variant instead:\r\n          crate::runtime_client::InnerClient::Ipc\r\n  = help: consider importing this variant instead:\r\n          crate::runtime_client::InnerClient::Ws\r\n\r\n   Compiling miniz_oxide v0.7.1\r\n   Compiling foundry-utils v0.2.0 (/Users/pierrickturelier/.cargo/git/checkouts/foundry-f7cca724e93059b0/0f530f2/crates/utils)\r\n   Compiling proptest v1.2.0\r\nFor more information about this error, try `rustc --explain E0432`.\r\nerror: could not compile `foundry-common` (lib) due to previous error; 1 warning emitted\r\nwarning: build failed, waiting for other jobs to finish...\r\nerror: failed to compile `forge v0.2.0 (https://github.com/foundry-rs/foundry#0f530f2a)`, intermediate artifacts can be found at `/var/folders/pz/dht7l1mj2dxcnqprz89w8fnr0000gn/T/cargo-installi7ge8q`.\r\nTo reuse those artifacts with a future compilation, set the environment variable `CARGO_TARGET_DIR` to that path.\r\nerror: failed to compile `cast v0.2.0 (https://github.com/foundry-rs/foundry#0f530f2a)`, intermediate artifacts can be found at `/var/folders/pz/dht7l1mj2dxcnqprz89w8fnr0000gn/T/cargo-installKGIWh9`.\r\nTo reuse those artifacts with a future compilation, set the environment variable `CARGO_TARGET_DIR` to that path.\r\nerror: failed to compile `chisel v0.2.0 (https://github.com/foundry-rs/foundry#0f530f2a)`, intermediate artifacts can be found at `/var/folders/pz/dht7l1mj2dxcnqprz89w8fnr0000gn/T/cargo-installJH421F`.\r\nTo reuse those artifacts with a future compilation, set the environment variable `CARGO_TARGET_DIR` to that path.\r\n     Summary Successfully installed anvil! Failed to install forge, cast, chisel (see error(s) above).\r\nerror: some crates failed to install\r\n```",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/5783/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/foundry-rs/foundry/issues/5783/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1707344098",
    "html_url": "https://github.com/foundry-rs/foundry/issues/5783#issuecomment-1707344098",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/5783",
    "id": 1707344098,
    "node_id": "IC_kwDOGBlvNc5lxADi",
    "user": {
      "login": "0xDetermination",
      "id": 140856322,
      "node_id": "U_kgDOCGVMAg",
      "avatar_url": "https://avatars.githubusercontent.com/u/140856322?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/0xDetermination",
      "html_url": "https://github.com/0xDetermination",
      "followers_url": "https://api.github.com/users/0xDetermination/followers",
      "following_url": "https://api.github.com/users/0xDetermination/following{/other_user}",
      "gists_url": "https://api.github.com/users/0xDetermination/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/0xDetermination/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/0xDetermination/subscriptions",
      "organizations_url": "https://api.github.com/users/0xDetermination/orgs",
      "repos_url": "https://api.github.com/users/0xDetermination/repos",
      "events_url": "https://api.github.com/users/0xDetermination/events{/privacy}",
      "received_events_url": "https://api.github.com/users/0xDetermination/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-09-05T21:39:03Z",
    "updated_at": "2023-09-05T21:39:03Z",
    "author_association": "NONE",
    "body": "I have this exact issue as well",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1707344098/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
