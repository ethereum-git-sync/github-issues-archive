{
  "url": "https://api.github.com/repos/foundry-rs/foundry/issues/2469",
  "repository_url": "https://api.github.com/repos/foundry-rs/foundry",
  "labels_url": "https://api.github.com/repos/foundry-rs/foundry/issues/2469/labels{/name}",
  "comments_url": "https://api.github.com/repos/foundry-rs/foundry/issues/2469/comments",
  "events_url": "https://api.github.com/repos/foundry-rs/foundry/issues/2469/events",
  "html_url": "https://github.com/foundry-rs/foundry/issues/2469",
  "id": 1317109411,
  "node_id": "I_kwDOGBlvNc5OgX6j",
  "number": 2469,
  "title": "Disable optimiser on test code",
  "user": {
    "login": "ultrasecreth",
    "id": 241804,
    "node_id": "MDQ6VXNlcjI0MTgwNA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/241804?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/ultrasecreth",
    "html_url": "https://github.com/ultrasecreth",
    "followers_url": "https://api.github.com/users/ultrasecreth/followers",
    "following_url": "https://api.github.com/users/ultrasecreth/following{/other_user}",
    "gists_url": "https://api.github.com/users/ultrasecreth/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/ultrasecreth/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/ultrasecreth/subscriptions",
    "organizations_url": "https://api.github.com/users/ultrasecreth/orgs",
    "repos_url": "https://api.github.com/users/ultrasecreth/repos",
    "events_url": "https://api.github.com/users/ultrasecreth/events{/privacy}",
    "received_events_url": "https://api.github.com/users/ultrasecreth/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 3593644820,
      "node_id": "LA_kwDOGBlvNc7WMqsU",
      "url": "https://api.github.com/repos/foundry-rs/foundry/labels/T-feature",
      "name": "T-feature",
      "color": "BFD4F2",
      "default": false,
      "description": "Type: feature"
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2022-07-25T16:53:52Z",
  "updated_at": "2022-07-25T17:40:13Z",
  "closed_at": "2022-07-25T17:10:21Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "### Component\n\nForge\n\n### Describe the feature you would like\n\nWe have a project that has plenty of complex tests, for most of them we fork a network, deploy a bunch of code and apply custom governance settings, and then execute black box testing of our app, so they are effectively end to end tests.\r\n\r\nAt the moment, the project is taking around 90s to compile, and each one of the tests take around 20s if they're compiled in isolation.\r\n\r\nDisabling the optimiser brings the compile time down to 30s for the whole project and 3s for a single test. The downside is that I get a lot of warnings that my prod code is bigger than the `24576 bytes` limit.\r\n\r\nMy point is that wasting CPU cycles on optimising the test code is probably useless and should be avoided (or at least have an option to do so if it is not avoided by default)\n\n### Additional context\n\n_No response_",
  "closed_by": {
    "login": "onbjerg",
    "id": 8862627,
    "node_id": "MDQ6VXNlcjg4NjI2Mjc=",
    "avatar_url": "https://avatars.githubusercontent.com/u/8862627?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/onbjerg",
    "html_url": "https://github.com/onbjerg",
    "followers_url": "https://api.github.com/users/onbjerg/followers",
    "following_url": "https://api.github.com/users/onbjerg/following{/other_user}",
    "gists_url": "https://api.github.com/users/onbjerg/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/onbjerg/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/onbjerg/subscriptions",
    "organizations_url": "https://api.github.com/users/onbjerg/orgs",
    "repos_url": "https://api.github.com/users/onbjerg/repos",
    "events_url": "https://api.github.com/users/onbjerg/events{/privacy}",
    "received_events_url": "https://api.github.com/users/onbjerg/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/2469/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/foundry-rs/foundry/issues/2469/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1194366912",
    "html_url": "https://github.com/foundry-rs/foundry/issues/2469#issuecomment-1194366912",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/2469",
    "id": 1194366912,
    "node_id": "IC_kwDOGBlvNc5HMJfA",
    "user": {
      "login": "onbjerg",
      "id": 8862627,
      "node_id": "MDQ6VXNlcjg4NjI2Mjc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8862627?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/onbjerg",
      "html_url": "https://github.com/onbjerg",
      "followers_url": "https://api.github.com/users/onbjerg/followers",
      "following_url": "https://api.github.com/users/onbjerg/following{/other_user}",
      "gists_url": "https://api.github.com/users/onbjerg/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/onbjerg/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/onbjerg/subscriptions",
      "organizations_url": "https://api.github.com/users/onbjerg/orgs",
      "repos_url": "https://api.github.com/users/onbjerg/repos",
      "events_url": "https://api.github.com/users/onbjerg/events{/privacy}",
      "received_events_url": "https://api.github.com/users/onbjerg/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-07-25T17:10:21Z",
    "updated_at": "2022-07-25T17:10:21Z",
    "author_association": "MEMBER",
    "body": "Duplicate of https://github.com/foundry-rs/foundry/issues/317 and not currently possible - solc does not allow optimizing on a per contract basis when they import each other: https://github.com/foundry-rs/foundry/issues/317#issuecomment-1105898436",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1194366912/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1194400311",
    "html_url": "https://github.com/foundry-rs/foundry/issues/2469#issuecomment-1194400311",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/2469",
    "id": 1194400311,
    "node_id": "IC_kwDOGBlvNc5HMRo3",
    "user": {
      "login": "ultrasecreth",
      "id": 241804,
      "node_id": "MDQ6VXNlcjI0MTgwNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/241804?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ultrasecreth",
      "html_url": "https://github.com/ultrasecreth",
      "followers_url": "https://api.github.com/users/ultrasecreth/followers",
      "following_url": "https://api.github.com/users/ultrasecreth/following{/other_user}",
      "gists_url": "https://api.github.com/users/ultrasecreth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ultrasecreth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ultrasecreth/subscriptions",
      "organizations_url": "https://api.github.com/users/ultrasecreth/orgs",
      "repos_url": "https://api.github.com/users/ultrasecreth/repos",
      "events_url": "https://api.github.com/users/ultrasecreth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ultrasecreth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-07-25T17:40:13Z",
    "updated_at": "2022-07-25T17:40:13Z",
    "author_association": "NONE",
    "body": "Weird, I searched for 'optimizer' and got nothing in GH...\nAnyway, thanks for the quick answer, I'll stick to my hack then",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1194400311/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
