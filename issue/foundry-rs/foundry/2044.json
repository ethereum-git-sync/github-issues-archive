{
  "url": "https://api.github.com/repos/foundry-rs/foundry/issues/2044",
  "repository_url": "https://api.github.com/repos/foundry-rs/foundry",
  "labels_url": "https://api.github.com/repos/foundry-rs/foundry/issues/2044/labels{/name}",
  "comments_url": "https://api.github.com/repos/foundry-rs/foundry/issues/2044/comments",
  "events_url": "https://api.github.com/repos/foundry-rs/foundry/issues/2044/events",
  "html_url": "https://github.com/foundry-rs/foundry/issues/2044",
  "id": 1277929440,
  "node_id": "I_kwDOGBlvNc5MK6fg",
  "number": 2044,
  "title": "ewasm in extraoutput config throw a InternalCompilerError error",
  "user": {
    "login": "StErMi",
    "id": 146166,
    "node_id": "MDQ6VXNlcjE0NjE2Ng==",
    "avatar_url": "https://avatars.githubusercontent.com/u/146166?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/StErMi",
    "html_url": "https://github.com/StErMi",
    "followers_url": "https://api.github.com/users/StErMi/followers",
    "following_url": "https://api.github.com/users/StErMi/following{/other_user}",
    "gists_url": "https://api.github.com/users/StErMi/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/StErMi/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/StErMi/subscriptions",
    "organizations_url": "https://api.github.com/users/StErMi/orgs",
    "repos_url": "https://api.github.com/users/StErMi/repos",
    "events_url": "https://api.github.com/users/StErMi/events{/privacy}",
    "received_events_url": "https://api.github.com/users/StErMi/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 3334394228,
      "node_id": "MDU6TGFiZWwzMzM0Mzk0MjI4",
      "url": "https://api.github.com/repos/foundry-rs/foundry/labels/T-bug",
      "name": "T-bug",
      "color": "d73a4a",
      "default": false,
      "description": "Type: bug"
    },
    {
      "id": 3703752787,
      "node_id": "LA_kwDOGBlvNc7cwshT",
      "url": "https://api.github.com/repos/foundry-rs/foundry/labels/C-forge",
      "name": "C-forge",
      "color": "5319E7",
      "default": false,
      "description": "Command: forge"
    },
    {
      "id": 3777098561,
      "node_id": "LA_kwDOGBlvNc7hIfNB",
      "url": "https://api.github.com/repos/foundry-rs/foundry/labels/Cmd-forge-build",
      "name": "Cmd-forge-build",
      "color": "006B75",
      "default": false,
      "description": "Command: forge build"
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 8,
  "created_at": "2022-06-21T05:55:18Z",
  "updated_at": "2022-06-22T16:20:38Z",
  "closed_at": "2022-06-22T00:34:04Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "### Component\n\nForge\n\n### Have you ensured that all of these are up to date?\n\n- [X] Foundry\n- [X] Foundryup\n\n### What version of Foundry are you on?\n\nforge 0.2.0 (9010e8b 2022-06-21T00:10:16.127085Z)\n\n### What command(s) is the bug in?\n\nforge test\n\n### Operating System\n\nmacOS (Apple Silicon)\n\n### Describe the bug\n\nWhen I try to build/test with the `foundry.toml` config \r\n\r\n```\r\n[default]\r\noptimizer_runs = 200\r\nextra_output_files = [ \"ewasm\"]\r\n```\r\n\r\nI get this console error\r\n\r\n```bash\r\n[⠑] Compiling...\r\n[⠘] Compiling 4 files with 0.5.17\r\n[⠃] Compiling 87 files with 0.6.4\r\n[⠰] Solc 0.5.17 finished in 52.21ms\r\n[⠒] Solc 0.6.4 finished in 1.50s\r\nError: \r\n   0: Compiler run failed\r\n      InternalCompilerError: \r\n      \r\n\r\n      UnimplementedFeatureError: \r\n      \r\n   0: \r\n\r\nLocation:\r\n   cli/src/compile.rs:151\r\n\r\nBacktrace omitted. Run with RUST_BACKTRACE=1 environment variable to display it.\r\nRun with RUST_BACKTRACE=full to include source snippets.\r\n```",
  "closed_by": {
    "login": "onbjerg",
    "id": 8862627,
    "node_id": "MDQ6VXNlcjg4NjI2Mjc=",
    "avatar_url": "https://avatars.githubusercontent.com/u/8862627?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/onbjerg",
    "html_url": "https://github.com/onbjerg",
    "followers_url": "https://api.github.com/users/onbjerg/followers",
    "following_url": "https://api.github.com/users/onbjerg/following{/other_user}",
    "gists_url": "https://api.github.com/users/onbjerg/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/onbjerg/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/onbjerg/subscriptions",
    "organizations_url": "https://api.github.com/users/onbjerg/orgs",
    "repos_url": "https://api.github.com/users/onbjerg/repos",
    "events_url": "https://api.github.com/users/onbjerg/events{/privacy}",
    "received_events_url": "https://api.github.com/users/onbjerg/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/2044/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/foundry-rs/foundry/issues/2044/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1161368562",
    "html_url": "https://github.com/foundry-rs/foundry/issues/2044#issuecomment-1161368562",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/2044",
    "id": 1161368562,
    "node_id": "IC_kwDOGBlvNc5FORPy",
    "user": {
      "login": "onbjerg",
      "id": 8862627,
      "node_id": "MDQ6VXNlcjg4NjI2Mjc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8862627?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/onbjerg",
      "html_url": "https://github.com/onbjerg",
      "followers_url": "https://api.github.com/users/onbjerg/followers",
      "following_url": "https://api.github.com/users/onbjerg/following{/other_user}",
      "gists_url": "https://api.github.com/users/onbjerg/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/onbjerg/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/onbjerg/subscriptions",
      "organizations_url": "https://api.github.com/users/onbjerg/orgs",
      "repos_url": "https://api.github.com/users/onbjerg/repos",
      "events_url": "https://api.github.com/users/onbjerg/events{/privacy}",
      "received_events_url": "https://api.github.com/users/onbjerg/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-06-21T07:32:12Z",
    "updated_at": "2022-06-21T07:32:12Z",
    "author_association": "MEMBER",
    "body": "This is an internal compiler error. My best guess is that eWASM wasn't really fully supported in the versions you are using (which are quite old). Looking at the v0.5.13 solc docs the compiler input description (that we use) does seem to suggest that it is unsupported.\r\n\r\n@mattsse any ideas?",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1161368562/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1161369944",
    "html_url": "https://github.com/foundry-rs/foundry/issues/2044#issuecomment-1161369944",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/2044",
    "id": 1161369944,
    "node_id": "IC_kwDOGBlvNc5FORlY",
    "user": {
      "login": "StErMi",
      "id": 146166,
      "node_id": "MDQ6VXNlcjE0NjE2Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/146166?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/StErMi",
      "html_url": "https://github.com/StErMi",
      "followers_url": "https://api.github.com/users/StErMi/followers",
      "following_url": "https://api.github.com/users/StErMi/following{/other_user}",
      "gists_url": "https://api.github.com/users/StErMi/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/StErMi/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/StErMi/subscriptions",
      "organizations_url": "https://api.github.com/users/StErMi/orgs",
      "repos_url": "https://api.github.com/users/StErMi/repos",
      "events_url": "https://api.github.com/users/StErMi/events{/privacy}",
      "received_events_url": "https://api.github.com/users/StErMi/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-06-21T07:33:39Z",
    "updated_at": "2022-06-21T07:33:50Z",
    "author_association": "NONE",
    "body": "> This is an internal compiler error. My best guess is that eWASM wasn't really fully supported in the versions you are using (which are quite old). Looking at the v0.5.13 solc docs the compiler input description (that we use) does seem to suggest that it is unsupported.\r\n> \r\n> @mattsse any ideas?\r\n\r\nI can try on a new code, this one is old because I'm doing a `foundry-ethernaut-ctf` migration ",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1161369944/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1161584261",
    "html_url": "https://github.com/foundry-rs/foundry/issues/2044#issuecomment-1161584261",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/2044",
    "id": 1161584261,
    "node_id": "IC_kwDOGBlvNc5FPF6F",
    "user": {
      "login": "mattsse",
      "id": 19890894,
      "node_id": "MDQ6VXNlcjE5ODkwODk0",
      "avatar_url": "https://avatars.githubusercontent.com/u/19890894?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mattsse",
      "html_url": "https://github.com/mattsse",
      "followers_url": "https://api.github.com/users/mattsse/followers",
      "following_url": "https://api.github.com/users/mattsse/following{/other_user}",
      "gists_url": "https://api.github.com/users/mattsse/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mattsse/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mattsse/subscriptions",
      "organizations_url": "https://api.github.com/users/mattsse/orgs",
      "repos_url": "https://api.github.com/users/mattsse/repos",
      "events_url": "https://api.github.com/users/mattsse/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mattsse/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-06-21T10:52:47Z",
    "updated_at": "2022-06-21T10:52:47Z",
    "author_association": "MEMBER",
    "body": "let me check when ewasm was added and add this to the existing ethers-solc backwards compatible check",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1161584261/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1161588107",
    "html_url": "https://github.com/foundry-rs/foundry/issues/2044#issuecomment-1161588107",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/2044",
    "id": 1161588107,
    "node_id": "IC_kwDOGBlvNc5FPG2L",
    "user": {
      "login": "mattsse",
      "id": 19890894,
      "node_id": "MDQ6VXNlcjE5ODkwODk0",
      "avatar_url": "https://avatars.githubusercontent.com/u/19890894?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mattsse",
      "html_url": "https://github.com/mattsse",
      "followers_url": "https://api.github.com/users/mattsse/followers",
      "following_url": "https://api.github.com/users/mattsse/following{/other_user}",
      "gists_url": "https://api.github.com/users/mattsse/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mattsse/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mattsse/subscriptions",
      "organizations_url": "https://api.github.com/users/mattsse/orgs",
      "repos_url": "https://api.github.com/users/mattsse/repos",
      "events_url": "https://api.github.com/users/mattsse/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mattsse/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-06-21T10:57:25Z",
    "updated_at": "2022-06-21T10:57:49Z",
    "author_association": "MEMBER",
    "body": "it shipped with 0.5.13 but\r\n \r\n> (EWasm) binary output (not fully working yet, though)\r\n\r\nhttps://github.com/ethereum/solidity/releases/tag/v0.5.13\r\n\r\nnot sure what we should do here, since it's possible to pass this to solc but may result in errors so I think we still keep it even if it not working ",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1161588107/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1162494369",
    "html_url": "https://github.com/foundry-rs/foundry/issues/2044#issuecomment-1162494369",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/2044",
    "id": 1162494369,
    "node_id": "IC_kwDOGBlvNc5FSkGh",
    "user": {
      "login": "onbjerg",
      "id": 8862627,
      "node_id": "MDQ6VXNlcjg4NjI2Mjc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8862627?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/onbjerg",
      "html_url": "https://github.com/onbjerg",
      "followers_url": "https://api.github.com/users/onbjerg/followers",
      "following_url": "https://api.github.com/users/onbjerg/following{/other_user}",
      "gists_url": "https://api.github.com/users/onbjerg/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/onbjerg/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/onbjerg/subscriptions",
      "organizations_url": "https://api.github.com/users/onbjerg/orgs",
      "repos_url": "https://api.github.com/users/onbjerg/repos",
      "events_url": "https://api.github.com/users/onbjerg/events{/privacy}",
      "received_events_url": "https://api.github.com/users/onbjerg/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-06-22T00:34:04Z",
    "updated_at": "2022-06-22T00:34:04Z",
    "author_association": "MEMBER",
    "body": "I don't think there's much we can do - if it's not fully supported on the compiler at that version and would require special handling I don't think we should put much time into it given that 0.5.13 is so old. I would recommend upgrading if you want eWASM support @StErMi.\r\n\r\nI'm closing this issue but feel free to let me know if you think this does not make sense :)",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1162494369/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1162661650",
    "html_url": "https://github.com/foundry-rs/foundry/issues/2044#issuecomment-1162661650",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/2044",
    "id": 1162661650,
    "node_id": "IC_kwDOGBlvNc5FTM8S",
    "user": {
      "login": "StErMi",
      "id": 146166,
      "node_id": "MDQ6VXNlcjE0NjE2Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/146166?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/StErMi",
      "html_url": "https://github.com/StErMi",
      "followers_url": "https://api.github.com/users/StErMi/followers",
      "following_url": "https://api.github.com/users/StErMi/following{/other_user}",
      "gists_url": "https://api.github.com/users/StErMi/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/StErMi/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/StErMi/subscriptions",
      "organizations_url": "https://api.github.com/users/StErMi/orgs",
      "repos_url": "https://api.github.com/users/StErMi/repos",
      "events_url": "https://api.github.com/users/StErMi/events{/privacy}",
      "received_events_url": "https://api.github.com/users/StErMi/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-06-22T05:34:12Z",
    "updated_at": "2022-06-22T05:34:12Z",
    "author_association": "NONE",
    "body": "> I don't think there's much we can do - if it's not fully supported on the compiler at that version and would require special handling I don't think we should put much time into it given that 0.5.13 is so old. I would recommend upgrading if you want eWASM support @StErMi.\r\n> \r\n> I'm closing this issue but feel free to let me know if you think this does not make sense :)\r\n\r\nMakes totally sense. I will not upgrade for my use case because being a CTF there's a reason why I'm using those \"old\" version, but you are right. \r\n\r\nWhen I created the issue I thought it was a general issue not bound to a specific problem of old sold version!\r\nThanks for the support!",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1162661650/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1162667905",
    "html_url": "https://github.com/foundry-rs/foundry/issues/2044#issuecomment-1162667905",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/2044",
    "id": 1162667905,
    "node_id": "IC_kwDOGBlvNc5FTOeB",
    "user": {
      "login": "StErMi",
      "id": 146166,
      "node_id": "MDQ6VXNlcjE0NjE2Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/146166?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/StErMi",
      "html_url": "https://github.com/StErMi",
      "followers_url": "https://api.github.com/users/StErMi/followers",
      "following_url": "https://api.github.com/users/StErMi/following{/other_user}",
      "gists_url": "https://api.github.com/users/StErMi/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/StErMi/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/StErMi/subscriptions",
      "organizations_url": "https://api.github.com/users/StErMi/orgs",
      "repos_url": "https://api.github.com/users/StErMi/repos",
      "events_url": "https://api.github.com/users/StErMi/events{/privacy}",
      "received_events_url": "https://api.github.com/users/StErMi/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-06-22T05:44:31Z",
    "updated_at": "2022-06-22T05:44:31Z",
    "author_association": "NONE",
    "body": "I'm still having a problem but by using `Solidity v0.8.13`.\r\n\r\nHow to reproduce it: \r\n\r\n1) `forge init --template https://github.com/StErMi/forge-template forge-test`\r\n2) Update `foundry.toml` to add\r\n\r\n```\r\n[default]\r\noptimizer_runs = 200\r\nextra_output_files = [ \"ewasm\"]\r\n```\r\n\r\n3) run `forge test` and now I get this error \r\n\r\n```bash\r\nError:\r\n   0: Compiler run failed\r\n      YulException: Invalid code generated after EVM to wasm translation.\r\n      Note that the source locations in the errors below will reference the original, not the translated code.\r\n      Translated code: [.... continue ]\r\n```\r\nFull error log: https://gist.github.com/StErMi/e8e93ea70d9a955389404abeb84891a2\r\n\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1162667905/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1163332757",
    "html_url": "https://github.com/foundry-rs/foundry/issues/2044#issuecomment-1163332757",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/2044",
    "id": 1163332757,
    "node_id": "IC_kwDOGBlvNc5FVwyV",
    "user": {
      "login": "shekhirin",
      "id": 5773434,
      "node_id": "MDQ6VXNlcjU3NzM0MzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5773434?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/shekhirin",
      "html_url": "https://github.com/shekhirin",
      "followers_url": "https://api.github.com/users/shekhirin/followers",
      "following_url": "https://api.github.com/users/shekhirin/following{/other_user}",
      "gists_url": "https://api.github.com/users/shekhirin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/shekhirin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/shekhirin/subscriptions",
      "organizations_url": "https://api.github.com/users/shekhirin/orgs",
      "repos_url": "https://api.github.com/users/shekhirin/repos",
      "events_url": "https://api.github.com/users/shekhirin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/shekhirin/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-06-22T16:20:37Z",
    "updated_at": "2022-06-22T16:20:37Z",
    "author_association": "CONTRIBUTOR",
    "body": "I think it's related to immutables not being supported for `ewasm` target yet: https://github.com/ethereum/solidity/issues/10148.\r\n\r\nThis is how you can reproduce it:\r\n```solidity\r\npragma solidity >=0.4.22 <0.9.0;\r\n\r\ncontract C {\r\n  address immutable private owner;\r\n  constructor() {\r\n    owner = msg.sender;\r\n  }\r\n}\r\n```\r\n\r\n```bash\r\nUncaught exception:\r\n/solidity/libyul/backends/wasm/EVMToEwasmTranslator.cpp(112): Throw in function solidity::yul::Object solidity::yul::EVMToEwasmTranslator::run(const solidity::yul::Object &)\r\nDynamic exception type: boost::wrapexcept<solidity::yul::YulAssertion>\r\nstd::exception::what: Invalid code generated after EVM to wasm translation.\r\nNote that the source locations in the errors below will reference the original, not the translated code.\r\nTranslated code:\r\n----------------------------------\r\n...\r\n}----------------------------------\r\nError: Function \"setimmutable\" not found.\r\n\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1163332757/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
