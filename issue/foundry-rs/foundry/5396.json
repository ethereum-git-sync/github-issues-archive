{
  "url": "https://api.github.com/repos/foundry-rs/foundry/issues/5396",
  "repository_url": "https://api.github.com/repos/foundry-rs/foundry",
  "labels_url": "https://api.github.com/repos/foundry-rs/foundry/issues/5396/labels{/name}",
  "comments_url": "https://api.github.com/repos/foundry-rs/foundry/issues/5396/comments",
  "events_url": "https://api.github.com/repos/foundry-rs/foundry/issues/5396/events",
  "html_url": "https://github.com/foundry-rs/foundry/issues/5396",
  "id": 1805481741,
  "node_id": "I_kwDOGBlvNc5rnXcN",
  "number": 5396,
  "title": "Forge crashes with message `No target contract named <path>:<name>`.",
  "user": {
    "login": "guidanoli",
    "id": 9125226,
    "node_id": "MDQ6VXNlcjkxMjUyMjY=",
    "avatar_url": "https://avatars.githubusercontent.com/u/9125226?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/guidanoli",
    "html_url": "https://github.com/guidanoli",
    "followers_url": "https://api.github.com/users/guidanoli/followers",
    "following_url": "https://api.github.com/users/guidanoli/following{/other_user}",
    "gists_url": "https://api.github.com/users/guidanoli/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/guidanoli/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/guidanoli/subscriptions",
    "organizations_url": "https://api.github.com/users/guidanoli/orgs",
    "repos_url": "https://api.github.com/users/guidanoli/repos",
    "events_url": "https://api.github.com/users/guidanoli/events{/privacy}",
    "received_events_url": "https://api.github.com/users/guidanoli/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 3334394228,
      "node_id": "MDU6TGFiZWwzMzM0Mzk0MjI4",
      "url": "https://api.github.com/repos/foundry-rs/foundry/labels/T-bug",
      "name": "T-bug",
      "color": "d73a4a",
      "default": false,
      "description": "Type: bug"
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": {
    "login": "onbjerg",
    "id": 8862627,
    "node_id": "MDQ6VXNlcjg4NjI2Mjc=",
    "avatar_url": "https://avatars.githubusercontent.com/u/8862627?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/onbjerg",
    "html_url": "https://github.com/onbjerg",
    "followers_url": "https://api.github.com/users/onbjerg/followers",
    "following_url": "https://api.github.com/users/onbjerg/following{/other_user}",
    "gists_url": "https://api.github.com/users/onbjerg/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/onbjerg/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/onbjerg/subscriptions",
    "organizations_url": "https://api.github.com/users/onbjerg/orgs",
    "repos_url": "https://api.github.com/users/onbjerg/repos",
    "events_url": "https://api.github.com/users/onbjerg/events{/privacy}",
    "received_events_url": "https://api.github.com/users/onbjerg/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "onbjerg",
      "id": 8862627,
      "node_id": "MDQ6VXNlcjg4NjI2Mjc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8862627?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/onbjerg",
      "html_url": "https://github.com/onbjerg",
      "followers_url": "https://api.github.com/users/onbjerg/followers",
      "following_url": "https://api.github.com/users/onbjerg/following{/other_user}",
      "gists_url": "https://api.github.com/users/onbjerg/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/onbjerg/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/onbjerg/subscriptions",
      "organizations_url": "https://api.github.com/users/onbjerg/orgs",
      "repos_url": "https://api.github.com/users/onbjerg/repos",
      "events_url": "https://api.github.com/users/onbjerg/events{/privacy}",
      "received_events_url": "https://api.github.com/users/onbjerg/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": {
    "url": "https://api.github.com/repos/foundry-rs/foundry/milestones/1",
    "html_url": "https://github.com/foundry-rs/foundry/milestone/1",
    "labels_url": "https://api.github.com/repos/foundry-rs/foundry/milestones/1/labels",
    "id": 8140456,
    "node_id": "MI_kwDOGBlvNc4AfDao",
    "number": 1,
    "title": "v1.0.0",
    "description": "",
    "creator": {
      "login": "onbjerg",
      "id": 8862627,
      "node_id": "MDQ6VXNlcjg4NjI2Mjc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8862627?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/onbjerg",
      "html_url": "https://github.com/onbjerg",
      "followers_url": "https://api.github.com/users/onbjerg/followers",
      "following_url": "https://api.github.com/users/onbjerg/following{/other_user}",
      "gists_url": "https://api.github.com/users/onbjerg/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/onbjerg/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/onbjerg/subscriptions",
      "organizations_url": "https://api.github.com/users/onbjerg/orgs",
      "repos_url": "https://api.github.com/users/onbjerg/repos",
      "events_url": "https://api.github.com/users/onbjerg/events{/privacy}",
      "received_events_url": "https://api.github.com/users/onbjerg/received_events",
      "type": "User",
      "site_admin": false
    },
    "open_issues": 28,
    "closed_issues": 126,
    "state": "open",
    "created_at": "2022-06-28T08:15:32Z",
    "updated_at": "2023-07-14T20:32:02Z",
    "due_on": null,
    "closed_at": null
  },
  "comments": 3,
  "created_at": "2023-07-14T19:59:33Z",
  "updated_at": "2023-07-14T20:48:29Z",
  "closed_at": null,
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "### Component\n\nForge\n\n### Have you ensured that all of these are up to date?\n\n- [X] Foundry\n- [X] Foundryup\n\n### What version of Foundry are you on?\n\nforge 0.2.0 (6c0fce3 2023-07-14T02:45:24.569798838Z)\n\n### What command(s) is the bug in?\n\nforge test\n\n### Operating System\n\nLinux\n\n### Describe the bug\n\nHello, my name is Guilherme. I am one of the core contributors of [`cartesi/rollups`](https://github.com/cartesi/rollups). Our [test workflow](https://github.com/cartesi/rollups/actions/runs/5554303929) started failing since earlier today (10 a.m. BRT), because `forge test` is crashing. I managed to replicate the error locally, and this is the error message. The back trace is not very helpful, so I omitted it.\r\n\r\n```\r\nThe application panicked (crashed).\r\nMessage:  No target contract named ../node_modules/@cartesi/util/contracts/CartesiMathV2.sol:CartesiMathV2\r\nLocation: utils/src/lib.rs:269\r\n```\r\n\r\nI easily managed to pinpoint the line that raised the error: [here](https://github.com/foundry-rs/foundry/blob/master/utils/src/lib.rs#L269).\r\nAlso, it seems that this section of code was last updated by this PR: [here](https://github.com/foundry-rs/foundry/pull/5364).\r\n\r\nYou can replicate the error yourself by following these steps:\r\n\r\n1. Start the latest Ubuntu machine\r\n2. Install `jq`, `yarn` and `docker`\r\n3. Clone `https://github.com/cartesi/rollups.git`\r\n4. Initialize the submodules (`git submodule update --init --recursive`)\r\n5. Go to `onchain/rollups`\r\n6. Run `yarn` (installs contract dependencies)\r\n7. Run `./test/foundry/dapp/helper/update-proofs.sh --setup`\r\n8. Run `forge test`",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/5396/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/foundry-rs/foundry/issues/5396/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1636354292",
    "html_url": "https://github.com/foundry-rs/foundry/issues/5396#issuecomment-1636354292",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/5396",
    "id": 1636354292,
    "node_id": "IC_kwDOGBlvNc5hiMj0",
    "user": {
      "login": "guidanoli",
      "id": 9125226,
      "node_id": "MDQ6VXNlcjkxMjUyMjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9125226?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/guidanoli",
      "html_url": "https://github.com/guidanoli",
      "followers_url": "https://api.github.com/users/guidanoli/followers",
      "following_url": "https://api.github.com/users/guidanoli/following{/other_user}",
      "gists_url": "https://api.github.com/users/guidanoli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/guidanoli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/guidanoli/subscriptions",
      "organizations_url": "https://api.github.com/users/guidanoli/orgs",
      "repos_url": "https://api.github.com/users/guidanoli/repos",
      "events_url": "https://api.github.com/users/guidanoli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/guidanoli/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-07-14T20:00:46Z",
    "updated_at": "2023-07-14T20:00:46Z",
    "author_association": "NONE",
    "body": "FYI @Evalir @onbjerg @mattsse ",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1636354292/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1636356700",
    "html_url": "https://github.com/foundry-rs/foundry/issues/5396#issuecomment-1636356700",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/5396",
    "id": 1636356700,
    "node_id": "IC_kwDOGBlvNc5hiNJc",
    "user": {
      "login": "mattsse",
      "id": 19890894,
      "node_id": "MDQ6VXNlcjE5ODkwODk0",
      "avatar_url": "https://avatars.githubusercontent.com/u/19890894?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mattsse",
      "html_url": "https://github.com/mattsse",
      "followers_url": "https://api.github.com/users/mattsse/followers",
      "following_url": "https://api.github.com/users/mattsse/following{/other_user}",
      "gists_url": "https://api.github.com/users/mattsse/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mattsse/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mattsse/subscriptions",
      "organizations_url": "https://api.github.com/users/mattsse/orgs",
      "repos_url": "https://api.github.com/users/mattsse/repos",
      "events_url": "https://api.github.com/users/mattsse/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mattsse/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-07-14T20:03:10Z",
    "updated_at": "2023-07-14T20:03:10Z",
    "author_association": "MEMBER",
    "body": "yeah this is a linking regression @onbjerg \r\n\r\nhttps://github.com/foundry-rs/foundry/blob/e07606df4eb6fb8211486bc42495138e034c4c9e/utils/src/lib.rs#L267-L269",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1636356700/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1636422395",
    "html_url": "https://github.com/foundry-rs/foundry/issues/5396#issuecomment-1636422395",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/5396",
    "id": 1636422395,
    "node_id": "IC_kwDOGBlvNc5hidL7",
    "user": {
      "login": "onbjerg",
      "id": 8862627,
      "node_id": "MDQ6VXNlcjg4NjI2Mjc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8862627?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/onbjerg",
      "html_url": "https://github.com/onbjerg",
      "followers_url": "https://api.github.com/users/onbjerg/followers",
      "following_url": "https://api.github.com/users/onbjerg/following{/other_user}",
      "gists_url": "https://api.github.com/users/onbjerg/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/onbjerg/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/onbjerg/subscriptions",
      "organizations_url": "https://api.github.com/users/onbjerg/orgs",
      "repos_url": "https://api.github.com/users/onbjerg/repos",
      "events_url": "https://api.github.com/users/onbjerg/events{/privacy}",
      "received_events_url": "https://api.github.com/users/onbjerg/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-07-14T20:48:28Z",
    "updated_at": "2023-07-14T20:48:28Z",
    "author_association": "MEMBER",
    "body": "I am unable to install the dependencies for the repository, please advise:\n\n```\nyarn install v1.22.19\n[1/4] Resolving packages...\n[2/4] Fetching packages...\nerror An unexpected error occurred: \"https://registry.yarnpkg.com/@chainsafe/ssz/-/ssz-0.9.4.tgz: Request failed \\\"404 Not Found\\\"\".\ninfo If you think this is a bug, please open a bug report with the information provided in \"/media/vault/Projects/cartesi/rollups/onchain/rollups/yarn-error.log\".\ninfo Visit https://yarnpkg.com/en/docs/cli/install for documentation about this command.\nerror https://registry.yarnpkg.com/@esbuild/darwin-x64/-/darwin-x64-0.16.17.tgz: Request failed \"404 Not Found\"\n```\n\nMy system:\n\n```\n$ uname -a\nLinux dagr 6.1.31-2-MANJARO #1 SMP PREEMPT_DYNAMIC Sun Jun  4 12:31:46 UTC 2023 x86_64 GNU/Linux\n\n$ yarn --version\n1.22.19\n```",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1636422395/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
