{
  "url": "https://api.github.com/repos/foundry-rs/foundry/issues/1192",
  "repository_url": "https://api.github.com/repos/foundry-rs/foundry",
  "labels_url": "https://api.github.com/repos/foundry-rs/foundry/issues/1192/labels{/name}",
  "comments_url": "https://api.github.com/repos/foundry-rs/foundry/issues/1192/comments",
  "events_url": "https://api.github.com/repos/foundry-rs/foundry/issues/1192/events",
  "html_url": "https://github.com/foundry-rs/foundry/issues/1192",
  "id": 1191975448,
  "node_id": "I_kwDOGBlvNc5HDBoY",
  "number": 1192,
  "title": "`cast tx <txHash>` does not display the full response",
  "user": {
    "login": "mds1",
    "id": 17163988,
    "node_id": "MDQ6VXNlcjE3MTYzOTg4",
    "avatar_url": "https://avatars.githubusercontent.com/u/17163988?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/mds1",
    "html_url": "https://github.com/mds1",
    "followers_url": "https://api.github.com/users/mds1/followers",
    "following_url": "https://api.github.com/users/mds1/following{/other_user}",
    "gists_url": "https://api.github.com/users/mds1/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/mds1/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/mds1/subscriptions",
    "organizations_url": "https://api.github.com/users/mds1/orgs",
    "repos_url": "https://api.github.com/users/mds1/repos",
    "events_url": "https://api.github.com/users/mds1/events{/privacy}",
    "received_events_url": "https://api.github.com/users/mds1/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 3334394228,
      "node_id": "MDU6TGFiZWwzMzM0Mzk0MjI4",
      "url": "https://api.github.com/repos/foundry-rs/foundry/labels/T-bug",
      "name": "T-bug",
      "color": "d73a4a",
      "default": false,
      "description": "Type: bug"
    },
    {
      "id": 3334394235,
      "node_id": "MDU6TGFiZWwzMzM0Mzk0MjM1",
      "url": "https://api.github.com/repos/foundry-rs/foundry/labels/good%20first%20issue",
      "name": "good first issue",
      "color": "0052CC",
      "default": true,
      "description": "Good for newcomers"
    },
    {
      "id": 3703752609,
      "node_id": "LA_kwDOGBlvNc7cwseh",
      "url": "https://api.github.com/repos/foundry-rs/foundry/labels/C-cast",
      "name": "C-cast",
      "color": "5319E7",
      "default": false,
      "description": "Command: cast"
    },
    {
      "id": 3759719580,
      "node_id": "LA_kwDOGBlvNc7gGMSc",
      "url": "https://api.github.com/repos/foundry-rs/foundry/labels/P-normal",
      "name": "P-normal",
      "color": "D93F0B",
      "default": false,
      "description": "Priority: normal"
    },
    {
      "id": 3759720552,
      "node_id": "LA_kwDOGBlvNc7gGMho",
      "url": "https://api.github.com/repos/foundry-rs/foundry/labels/D-easy",
      "name": "D-easy",
      "color": "0E8A16",
      "default": false,
      "description": "Difficulty: easy"
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 5,
  "created_at": "2022-04-04T15:38:40Z",
  "updated_at": "2022-07-01T19:29:48Z",
  "closed_at": "2022-07-01T18:50:36Z",
  "author_association": "COLLABORATOR",
  "active_lock_reason": null,
  "body": "### Component\r\n\r\nCast\r\n\r\n### Have you ensured that all of these are up to date?\r\n\r\n- [ ] Foundry\r\n- [ ] Foundryup\r\n\r\n### What version of Foundry are you on?\r\n\r\ncast 0.2.0 (7b61e81 2022-04-02T00:13:41.063284+00:00)\r\n\r\n### What command(s) is the bug in?\r\n\r\ncast tx\r\n\r\n### Operating System\r\n\r\n_No response_\r\n\r\n### Describe the bug\r\n\r\nBelow is the outputs of querying for an Arbitrum transaction using cast and seth. You can see the cast output is missing many fields shown by the seth output. `0xbf6bccffd5dd0f5d1a883748adc5adf104b6a4d1460013d54220e533b3a6169e` is another arbitrum transaction hash you can use to test the below, which will have fewer null values in the seth response\r\n\r\n```\r\n$ cast tx 0xbedc92801b8a7128898f484006f9e9fb795630f1826f35dd3544db38c07594ab --rpc-url $ARBITRUM_RPC_URL\r\nblockHash            \"0x918b0fbe7235f5a058890653f82c5e483ff0bbd1c84668e930e19b424e034540\"\r\nblockNumber          \"0x8a4058\"\r\nfrom                 \"0x22222b7c879e6c09690d1e5eb10437e68987882c\"\r\ngas                  \"0x0\"\r\ngasPrice             \"0x0\"\r\nhash                 \"0xbedc92801b8a7128898f484006f9e9fb795630f1826f35dd3544db38c07594ab\"\r\ninput                \"0x679b6ded00000000000000000000000022222b7c879e6c09690d1e5eb10437e68987882c0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000411479445100000000000000000000000022222b7c879e6c09690d1e5eb10437e68987882c00000000000000000000000022222b7c879e6c09690d1e5eb10437e68987882c0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000000\"\r\nnonce                \"0x0\"\r\nr                    \"0x0\"\r\ns                    \"0x0\"\r\nto                   \"0x000000000000000000000000000000000000006e\"\r\ntransactionIndex     \"0x5\"\r\nv                    \"0x0\"\r\nvalue                \"0xb1a2bc2ec50000\"\r\n```\r\n\r\n```\r\n$ seth tx 0xbedc92801b8a7128898f484006f9e9fb795630f1826f35dd3544db38c07594ab --rpc-url $ARBITRUM_RPC_URL\r\narbSubType              null\r\narbType                 9\r\nblockHash               0x918b0fbe7235f5a058890653f82c5e483ff0bbd1c84668e930e19b424e034540\r\nblockNumber             9060440\r\nfrom                    0x22222b7c879e6c09690d1e5eb10437e68987882c\r\ngas                     0\r\ngasPrice                0\r\nhash                    0xbedc92801b8a7128898f484006f9e9fb795630f1826f35dd3544db38c07594ab\r\nindexInParent           null\r\ninput                   0x679b6ded00000000000000000000000022222b7c879e6c09690d1e5eb10437e68987882c0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000411479445100000000000000000000000022222b7c879e6c09690d1e5eb10437e68987882c00000000000000000000000022222b7c879e6c09690d1e5eb10437e68987882c0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000000\r\nl1BlockNumber           14502213\r\nl1SequenceNumber        0x80000000000000000000000000000000000000000000000000000000000602b5\r\nnonce                   0\r\nparentRequestId         null\r\nr                       0\r\ns                       0\r\nto                      0x000000000000000000000000000000000000006e\r\ntransactionIndex        5\r\nv                       0\r\nvalue                   50000000000000000\r\n```",
  "closed_by": {
    "login": "onbjerg",
    "id": 8862627,
    "node_id": "MDQ6VXNlcjg4NjI2Mjc=",
    "avatar_url": "https://avatars.githubusercontent.com/u/8862627?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/onbjerg",
    "html_url": "https://github.com/onbjerg",
    "followers_url": "https://api.github.com/users/onbjerg/followers",
    "following_url": "https://api.github.com/users/onbjerg/following{/other_user}",
    "gists_url": "https://api.github.com/users/onbjerg/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/onbjerg/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/onbjerg/subscriptions",
    "organizations_url": "https://api.github.com/users/onbjerg/orgs",
    "repos_url": "https://api.github.com/users/onbjerg/repos",
    "events_url": "https://api.github.com/users/onbjerg/events{/privacy}",
    "received_events_url": "https://api.github.com/users/onbjerg/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/1192/reactions",
    "total_count": 2,
    "+1": 2,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/foundry-rs/foundry/issues/1192/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1104474883",
    "html_url": "https://github.com/foundry-rs/foundry/issues/1192#issuecomment-1104474883",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/1192",
    "id": 1104474883,
    "node_id": "IC_kwDOGBlvNc5B1PMD",
    "user": {
      "login": "ayushm2003",
      "id": 62571011,
      "node_id": "MDQ6VXNlcjYyNTcxMDEx",
      "avatar_url": "https://avatars.githubusercontent.com/u/62571011?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ayushm2003",
      "html_url": "https://github.com/ayushm2003",
      "followers_url": "https://api.github.com/users/ayushm2003/followers",
      "following_url": "https://api.github.com/users/ayushm2003/following{/other_user}",
      "gists_url": "https://api.github.com/users/ayushm2003/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ayushm2003/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ayushm2003/subscriptions",
      "organizations_url": "https://api.github.com/users/ayushm2003/orgs",
      "repos_url": "https://api.github.com/users/ayushm2003/repos",
      "events_url": "https://api.github.com/users/ayushm2003/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ayushm2003/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-04-20T21:33:10Z",
    "updated_at": "2022-04-20T21:33:10Z",
    "author_association": "CONTRIBUTOR",
    "body": "The issue is ofc because the `Transaction` struct in ethers doesn't have these fields. How do u propose we go about solving this?\r\nWe can add the optional fields in the struct, but I am not sure if this would break anything, or if it's the ideal way since different l2s might have different fields.\r\n\r\nrelevant bits of code [here](https://github.com/foundry-rs/foundry/blob/3f13a986e69c18ea19ce634fea00f4df6b3666b0/cast/src/lib.rs#L521), [here](https://github.com/foundry-rs/foundry/blob/3f13a986e69c18ea19ce634fea00f4df6b3666b0/cast/src/print_utils.rs#L9) and [here](https://github.com/gakonst/ethers-rs/blob/master/ethers-core/src/types/transaction/response.rs#L15)",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1104474883/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1147702876",
    "html_url": "https://github.com/foundry-rs/foundry/issues/1192#issuecomment-1147702876",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/1192",
    "id": 1147702876,
    "node_id": "IC_kwDOGBlvNc5EaI5c",
    "user": {
      "login": "gakonst",
      "id": 17802178,
      "node_id": "MDQ6VXNlcjE3ODAyMTc4",
      "avatar_url": "https://avatars.githubusercontent.com/u/17802178?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gakonst",
      "html_url": "https://github.com/gakonst",
      "followers_url": "https://api.github.com/users/gakonst/followers",
      "following_url": "https://api.github.com/users/gakonst/following{/other_user}",
      "gists_url": "https://api.github.com/users/gakonst/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gakonst/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gakonst/subscriptions",
      "organizations_url": "https://api.github.com/users/gakonst/orgs",
      "repos_url": "https://api.github.com/users/gakonst/repos",
      "events_url": "https://api.github.com/users/gakonst/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gakonst/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-06-06T17:32:50Z",
    "updated_at": "2022-06-06T17:32:50Z",
    "author_association": "MEMBER",
    "body": "Let's add a `other: serde_json::Value` field to `Transaction`?",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1147702876/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1172624822",
    "html_url": "https://github.com/foundry-rs/foundry/issues/1192#issuecomment-1172624822",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/1192",
    "id": 1172624822,
    "node_id": "IC_kwDOGBlvNc5F5NW2",
    "user": {
      "login": "onbjerg",
      "id": 8862627,
      "node_id": "MDQ6VXNlcjg4NjI2Mjc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8862627?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/onbjerg",
      "html_url": "https://github.com/onbjerg",
      "followers_url": "https://api.github.com/users/onbjerg/followers",
      "following_url": "https://api.github.com/users/onbjerg/following{/other_user}",
      "gists_url": "https://api.github.com/users/onbjerg/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/onbjerg/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/onbjerg/subscriptions",
      "organizations_url": "https://api.github.com/users/onbjerg/orgs",
      "repos_url": "https://api.github.com/users/onbjerg/repos",
      "events_url": "https://api.github.com/users/onbjerg/events{/privacy}",
      "received_events_url": "https://api.github.com/users/onbjerg/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-07-01T18:50:36Z",
    "updated_at": "2022-07-01T18:50:36Z",
    "author_association": "MEMBER",
    "body": "This should have been fixed recently, let us know if it is not! :smile: ",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1172624822/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1172629544",
    "html_url": "https://github.com/foundry-rs/foundry/issues/1192#issuecomment-1172629544",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/1192",
    "id": 1172629544,
    "node_id": "IC_kwDOGBlvNc5F5Ogo",
    "user": {
      "login": "mds1",
      "id": 17163988,
      "node_id": "MDQ6VXNlcjE3MTYzOTg4",
      "avatar_url": "https://avatars.githubusercontent.com/u/17163988?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mds1",
      "html_url": "https://github.com/mds1",
      "followers_url": "https://api.github.com/users/mds1/followers",
      "following_url": "https://api.github.com/users/mds1/following{/other_user}",
      "gists_url": "https://api.github.com/users/mds1/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mds1/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mds1/subscriptions",
      "organizations_url": "https://api.github.com/users/mds1/orgs",
      "repos_url": "https://api.github.com/users/mds1/repos",
      "events_url": "https://api.github.com/users/mds1/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mds1/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-07-01T18:56:02Z",
    "updated_at": "2022-07-01T18:56:02Z",
    "author_association": "COLLABORATOR",
    "body": "Using the same command from above:\r\n\r\n```\r\n$ cast tx 0xbedc92801b8a7128898f484006f9e9fb795630f1826f35dd3544db38c07594ab --rpc-url $ARBITRUM_RPC_URL\r\n\r\nblockHash            0x918b0fbe7235f5a058890653f82c5e483ff0bbd1c84668e930e19b424e034540\r\nblockNumber          9060440\r\nfrom                 0x22222b7c879e6c09690d1e5eb10437e68987882c\r\ngas                  0\r\ngasPrice             0\r\nhash                 0xbedc92801b8a7128898f484006f9e9fb795630f1826f35dd3544db38c07594ab\r\ninput                0x679b6ded00000000000000000000000022222b7c879e6c09690d1e5eb10437e68987882c0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000411479445100000000000000000000000022222b7c879e6c09690d1e5eb10437e68987882c00000000000000000000000022222b7c879e6c09690d1e5eb10437e68987882c0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000000\r\nnonce                0\r\nr                    0x0000000000000000000000000000000000000000000000000000000000000000\r\ns                    0x0000000000000000000000000000000000000000000000000000000000000000\r\nto                   0x000000000000000000000000000000000000006e\r\ntransactionIndex     5\r\nv                    0\r\nvalue                50000000000000000\r\narbSubType           null\r\narbType              0x9\r\nindexInParent        null\r\nl1BlockNumber        0xdd4945\r\nl1SequenceNumber     0x80000000000000000000000000000000000000000000000000000000000602b5\r\nparentRequestId      null\r\n```\r\n\r\nSo it seems:\r\n- The extra fields are now shown. I like how they're all at the bottom, easy to tell which are unique and which are standard.\r\n- But their data types aren't parsed correctly. You can see they show up as hex strings, whereas `seth` was able to correctly decode them as numbers as shown above",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1172629544/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1172656124",
    "html_url": "https://github.com/foundry-rs/foundry/issues/1192#issuecomment-1172656124",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/1192",
    "id": 1172656124,
    "node_id": "IC_kwDOGBlvNc5F5U_8",
    "user": {
      "login": "onbjerg",
      "id": 8862627,
      "node_id": "MDQ6VXNlcjg4NjI2Mjc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8862627?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/onbjerg",
      "html_url": "https://github.com/onbjerg",
      "followers_url": "https://api.github.com/users/onbjerg/followers",
      "following_url": "https://api.github.com/users/onbjerg/following{/other_user}",
      "gists_url": "https://api.github.com/users/onbjerg/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/onbjerg/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/onbjerg/subscriptions",
      "organizations_url": "https://api.github.com/users/onbjerg/orgs",
      "repos_url": "https://api.github.com/users/onbjerg/repos",
      "events_url": "https://api.github.com/users/onbjerg/events{/privacy}",
      "received_events_url": "https://api.github.com/users/onbjerg/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-07-01T19:29:24Z",
    "updated_at": "2022-07-01T19:29:48Z",
    "author_association": "MEMBER",
    "body": "Mmh I wonder how feasible decoding these items are - do we have any indications whether it's a number or a string for example?\r\n\r\nEdit: I should say decoding them reliably, i.e. not just resorting to numbers for all of them :smile: ",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1172656124/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
