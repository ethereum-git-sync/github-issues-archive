{
  "url": "https://api.github.com/repos/foundry-rs/foundry/issues/2424",
  "repository_url": "https://api.github.com/repos/foundry-rs/foundry",
  "labels_url": "https://api.github.com/repos/foundry-rs/foundry/issues/2424/labels{/name}",
  "comments_url": "https://api.github.com/repos/foundry-rs/foundry/issues/2424/comments",
  "events_url": "https://api.github.com/repos/foundry-rs/foundry/issues/2424/events",
  "html_url": "https://github.com/foundry-rs/foundry/issues/2424",
  "id": 1313066081,
  "node_id": "I_kwDOGBlvNc5OQ8xh",
  "number": 2424,
  "title": "Feature: add rpc `anvil_nodeInfo` for Anvil",
  "user": {
    "login": "sambacha",
    "id": 32783916,
    "node_id": "MDQ6VXNlcjMyNzgzOTE2",
    "avatar_url": "https://avatars.githubusercontent.com/u/32783916?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/sambacha",
    "html_url": "https://github.com/sambacha",
    "followers_url": "https://api.github.com/users/sambacha/followers",
    "following_url": "https://api.github.com/users/sambacha/following{/other_user}",
    "gists_url": "https://api.github.com/users/sambacha/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/sambacha/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/sambacha/subscriptions",
    "organizations_url": "https://api.github.com/users/sambacha/orgs",
    "repos_url": "https://api.github.com/users/sambacha/repos",
    "events_url": "https://api.github.com/users/sambacha/events{/privacy}",
    "received_events_url": "https://api.github.com/users/sambacha/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 3334394235,
      "node_id": "MDU6TGFiZWwzMzM0Mzk0MjM1",
      "url": "https://api.github.com/repos/foundry-rs/foundry/labels/good%20first%20issue",
      "name": "good first issue",
      "color": "0052CC",
      "default": true,
      "description": "Good for newcomers"
    },
    {
      "id": 3593644820,
      "node_id": "LA_kwDOGBlvNc7WMqsU",
      "url": "https://api.github.com/repos/foundry-rs/foundry/labels/T-feature",
      "name": "T-feature",
      "color": "BFD4F2",
      "default": false,
      "description": "Type: feature"
    },
    {
      "id": 3759719790,
      "node_id": "LA_kwDOGBlvNc7gGMVu",
      "url": "https://api.github.com/repos/foundry-rs/foundry/labels/P-low",
      "name": "P-low",
      "color": "D93F0B",
      "default": false,
      "description": "Priority: low"
    },
    {
      "id": 4077188949,
      "node_id": "LA_kwDOGBlvNc7zBPdV",
      "url": "https://api.github.com/repos/foundry-rs/foundry/labels/C-anvil",
      "name": "C-anvil",
      "color": "5319E7",
      "default": false,
      "description": "Command: anvil"
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 5,
  "created_at": "2022-07-21T10:52:07Z",
  "updated_at": "2022-11-29T23:20:41Z",
  "closed_at": "2022-11-29T23:20:41Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "### Component\r\n\r\nAnvil\r\n\r\n### Describe the feature you would like\r\n\r\n## RPC Method: `anvil_nodeInfo` for Anvil\r\n\r\n```console\r\ncurl -s -X POST  -H \"Content-Type: application/json\"  --data '{\"jsonrpc\":\"2.0\",\"method\":\"anvil_nodeInfo\",\"params\":[],\"id\":1}' \"localhost:8545\"\r\n```\r\n\r\nIt could return the configuration params, additionally any of these besides the current output listed in additional context\r\n```\r\n    -a, --accounts <NUM>                       Number of dev accounts to generate and configure. [default: 10]\r\n    -b, --block-time <SECONDS>                 Block time in seconds for interval mining. [aliases: blockTime]\r\n        --balance <NUM>                        The balance of every dev account in Ether. [default: 10000]\r\n        --config-out <OUT_FILE>                Writes output of `anvil` as json to user-specified file\r\n        --derivation-path <DERIVATION_PATH>    Sets the derivation path of the child key to be derived. [default: m/44'/60'/0'/0/]\r\n    -h, --help                                 Print help information\r\n        --hardfork <HARDFORK>                  The EVM hardfork to use.\r\n    -m, --mnemonic <MNEMONIC>                  BIP39 mnemonic phrase used for generating accounts\r\n        --no-mining                            Disable auto and interval mining, and mine on demand instead. [aliases: no-mine]\r\n        --order <ORDER>                        How transactions are sorted in the mempool [default: fees]\r\n    -p, --port <NUM>                           Port number to listen on. [default: 8545]\r\n    -V, --version                              Print version information\r\n\r\nFORK CONFIG:\r\n    -f, --fork-url <URL>                  Fetch state over a remote endpoint instead of starting from an empty state [aliases: rpc-url]\r\n        --fork-block-number <BLOCK>       Fetch state from a specific block number over a remote endpoint\r\n        --fork-retry-backoff <BACKOFF>    Initial retry backoff on encountering errors\r\n        --no-storage-caching              Explicitly disables the use of RPC caching\r\n\r\nENVIRONMENT CONFIG:\r\n        --block-base-fee-per-gas <FEE>    The base fee in a block [aliases: base-fee]\r\n        --chain-id <CHAIN_ID>             The chain ID\r\n        --gas-limit <GAS_LIMIT>           The block gas limit\r\n        --gas-price <GAS_PRICE>           The gas price\r\n\r\nSERVER OPTIONS:\r\n        --allow-origin <ALLOW_ORIGIN>    Set the CORS allow_origin [default: *]\r\n```\r\n\r\n### Additional context\r\n\r\nOptions I would like to have:\r\n\r\n- currentBlockNumber\r\n- currentBlockTimestamp\r\n- currentBlockHash\r\n\r\ngas_limit\r\ngas_price\r\nbase_fee\r\n\r\nI would not like to have in the response anything related to wallets, accounts, etc\r\n\r\n```console\r\nrun:~ $ anvil --config-out anvil.json\r\n```\r\n```json\r\n{\r\n  \"available_accounts\": [\r\n    \"0xf39fd6e51aad88f6f4ce6ab8827279cfffb92266\",\r\n    \"0x70997970c51812dc3a010c7d01b50e0d17dc79c8\",\r\n    \"0x3c44cdddb6a900fa2b585dd299e03d12fa4293bc\",\r\n    \"0x90f79bf6eb2c4f870365e785982e1f101e93b906\",\r\n    \"0x15d34aaf54267db7d7c367839aaf71a00a2c6a65\",\r\n    \"0x9965507d1a55bcc2695c58ba16fb37d819b0a4dc\",\r\n    \"0x976ea74026e726554db657fa54763abd0c3a0aa9\",\r\n    \"0x14dc79964da2c08b23698b3d3cc7ca32193d9955\",\r\n    \"0x23618e81e3f5cdf7f54c3d65f7fbc0abf5b21e8f\",\r\n    \"0xa0ee7a142d267c1f36714e4a8f75612f20a79720\"\r\n  ],\r\n  \"base_fee\": \"1000000000\",\r\n  \"gas_limit\": \"30000000\",\r\n  \"gas_price\": \"1875000000\",\r\n  \"private_keys\": [\r\n    \"0xac0974bec39a17e36ba4a6b4d238ff944bacb478cbed5efcae784d7bf4f2ff80\",\r\n    \"0x59c6995e998f97a5a0044966f0945389dc9e86dae88c7a8412f4603b6b78690d\",\r\n    \"0x5de4111afa1a4b94908f83103eb1f1706367c2e68ca870fc3fb9a804cdab365a\",\r\n    \"0x7c852118294e51e653712a81e05800f419141751be58f605c371e15141b007a6\",\r\n    \"0x47e179ec197488593b187f80a00eb0da91f1b9d0b13f8733639f19c30a34926a\",\r\n    \"0x8b3a350cf5c34c9194ca85829a2df0ec3153be0318b5e2d3348e872092edffba\",\r\n    \"0x92db14e403b83dfe3df233f83dfa3a0d7096f21ca9b0d6d6b8d88b2b4ec1564e\",\r\n    \"0x4bbbf85ce3377467afe5d46f804f221813b2bb87f24d81f60f1fcdbf7cbf4356\",\r\n    \"0xdbda1821b80551c9d65939329250298aa3472ba22feea921c0cf5d620ea67b97\",\r\n    \"0x2a871d0798f97d79848a013d4936a73bf4cc922c825d33c1cf7073dff6d409c6\"\r\n  ],\r\n  \"wallet\": {\r\n    \"derivation_path\": \"m/44'/60'/0'/0/\",\r\n    \"mnemonic\": \"test test test test test test test test test test test junk\"\r\n  }\r\n}\r\n```",
  "closed_by": {
    "login": "mattsse",
    "id": 19890894,
    "node_id": "MDQ6VXNlcjE5ODkwODk0",
    "avatar_url": "https://avatars.githubusercontent.com/u/19890894?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/mattsse",
    "html_url": "https://github.com/mattsse",
    "followers_url": "https://api.github.com/users/mattsse/followers",
    "following_url": "https://api.github.com/users/mattsse/following{/other_user}",
    "gists_url": "https://api.github.com/users/mattsse/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/mattsse/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/mattsse/subscriptions",
    "organizations_url": "https://api.github.com/users/mattsse/orgs",
    "repos_url": "https://api.github.com/users/mattsse/repos",
    "events_url": "https://api.github.com/users/mattsse/events{/privacy}",
    "received_events_url": "https://api.github.com/users/mattsse/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/2424/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/foundry-rs/foundry/issues/2424/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1191350567",
    "html_url": "https://github.com/foundry-rs/foundry/issues/2424#issuecomment-1191350567",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/2424",
    "id": 1191350567,
    "node_id": "IC_kwDOGBlvNc5HApEn",
    "user": {
      "login": "mattsse",
      "id": 19890894,
      "node_id": "MDQ6VXNlcjE5ODkwODk0",
      "avatar_url": "https://avatars.githubusercontent.com/u/19890894?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mattsse",
      "html_url": "https://github.com/mattsse",
      "followers_url": "https://api.github.com/users/mattsse/followers",
      "following_url": "https://api.github.com/users/mattsse/following{/other_user}",
      "gists_url": "https://api.github.com/users/mattsse/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mattsse/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mattsse/subscriptions",
      "organizations_url": "https://api.github.com/users/mattsse/orgs",
      "repos_url": "https://api.github.com/users/mattsse/repos",
      "events_url": "https://api.github.com/users/mattsse/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mattsse/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-07-21T11:06:07Z",
    "updated_at": "2022-07-21T11:06:16Z",
    "author_association": "MEMBER",
    "body": "this is a good idea imo,\r\n\r\nonly thing I'm on the fence about is sending pk/wallet info via rpc",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1191350567/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1191873693",
    "html_url": "https://github.com/foundry-rs/foundry/issues/2424#issuecomment-1191873693",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/2424",
    "id": 1191873693,
    "node_id": "IC_kwDOGBlvNc5HCoyd",
    "user": {
      "login": "sambacha",
      "id": 32783916,
      "node_id": "MDQ6VXNlcjMyNzgzOTE2",
      "avatar_url": "https://avatars.githubusercontent.com/u/32783916?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sambacha",
      "html_url": "https://github.com/sambacha",
      "followers_url": "https://api.github.com/users/sambacha/followers",
      "following_url": "https://api.github.com/users/sambacha/following{/other_user}",
      "gists_url": "https://api.github.com/users/sambacha/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sambacha/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sambacha/subscriptions",
      "organizations_url": "https://api.github.com/users/sambacha/orgs",
      "repos_url": "https://api.github.com/users/sambacha/repos",
      "events_url": "https://api.github.com/users/sambacha/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sambacha/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-07-21T19:52:48Z",
    "updated_at": "2022-07-21T19:52:48Z",
    "author_association": "CONTRIBUTOR",
    "body": "> this is a good idea imo,\n> \n> \n> \n> only thing I'm on the fence about is sending pk/wallet info via rpc\n\nYeah to clarify I am NOT suggesting to include that. That is already available locally via the config output. This would be for settings configuration.\n\nYes it would be beneficial for CI troubleshooting, coordination for testing via remote, etc.",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1191873693/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1191893786",
    "html_url": "https://github.com/foundry-rs/foundry/issues/2424#issuecomment-1191893786",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/2424",
    "id": 1191893786,
    "node_id": "IC_kwDOGBlvNc5HCtsa",
    "user": {
      "login": "mattsse",
      "id": 19890894,
      "node_id": "MDQ6VXNlcjE5ODkwODk0",
      "avatar_url": "https://avatars.githubusercontent.com/u/19890894?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mattsse",
      "html_url": "https://github.com/mattsse",
      "followers_url": "https://api.github.com/users/mattsse/followers",
      "following_url": "https://api.github.com/users/mattsse/following{/other_user}",
      "gists_url": "https://api.github.com/users/mattsse/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mattsse/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mattsse/subscriptions",
      "organizations_url": "https://api.github.com/users/mattsse/orgs",
      "repos_url": "https://api.github.com/users/mattsse/repos",
      "events_url": "https://api.github.com/users/mattsse/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mattsse/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-07-21T20:17:41Z",
    "updated_at": "2022-07-21T20:17:41Z",
    "author_association": "MEMBER",
    "body": "sg, useful, let's add minus pk/wallet info that info available anyway",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1191893786/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1193007388",
    "html_url": "https://github.com/foundry-rs/foundry/issues/2424#issuecomment-1193007388",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/2424",
    "id": 1193007388,
    "node_id": "IC_kwDOGBlvNc5HG9kc",
    "user": {
      "login": "sambacha",
      "id": 32783916,
      "node_id": "MDQ6VXNlcjMyNzgzOTE2",
      "avatar_url": "https://avatars.githubusercontent.com/u/32783916?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sambacha",
      "html_url": "https://github.com/sambacha",
      "followers_url": "https://api.github.com/users/sambacha/followers",
      "following_url": "https://api.github.com/users/sambacha/following{/other_user}",
      "gists_url": "https://api.github.com/users/sambacha/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sambacha/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sambacha/subscriptions",
      "organizations_url": "https://api.github.com/users/sambacha/orgs",
      "repos_url": "https://api.github.com/users/sambacha/repos",
      "events_url": "https://api.github.com/users/sambacha/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sambacha/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-07-22T23:42:24Z",
    "updated_at": "2022-07-22T23:42:24Z",
    "author_association": "CONTRIBUTOR",
    "body": "> sg, useful, let's add minus pk/wallet info that info available anyway\r\n\r\nthere can also be a status field for what mode anvil is running on additionally",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1193007388/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1328383513",
    "html_url": "https://github.com/foundry-rs/foundry/issues/2424#issuecomment-1328383513",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/2424",
    "id": 1328383513,
    "node_id": "IC_kwDOGBlvNc5PLYYZ",
    "user": {
      "login": "Evalir",
      "id": 26014927,
      "node_id": "MDQ6VXNlcjI2MDE0OTI3",
      "avatar_url": "https://avatars.githubusercontent.com/u/26014927?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Evalir",
      "html_url": "https://github.com/Evalir",
      "followers_url": "https://api.github.com/users/Evalir/followers",
      "following_url": "https://api.github.com/users/Evalir/following{/other_user}",
      "gists_url": "https://api.github.com/users/Evalir/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Evalir/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Evalir/subscriptions",
      "organizations_url": "https://api.github.com/users/Evalir/orgs",
      "repos_url": "https://api.github.com/users/Evalir/repos",
      "events_url": "https://api.github.com/users/Evalir/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Evalir/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-11-28T00:26:24Z",
    "updated_at": "2022-11-28T00:26:24Z",
    "author_association": "MEMBER",
    "body": "Hi! Would love to take a stab at this sometime this week. What would be the best way to approach it? Thanks!",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1328383513/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
