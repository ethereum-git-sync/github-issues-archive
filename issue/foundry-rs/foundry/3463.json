{
  "url": "https://api.github.com/repos/foundry-rs/foundry/issues/3463",
  "repository_url": "https://api.github.com/repos/foundry-rs/foundry",
  "labels_url": "https://api.github.com/repos/foundry-rs/foundry/issues/3463/labels{/name}",
  "comments_url": "https://api.github.com/repos/foundry-rs/foundry/issues/3463/comments",
  "events_url": "https://api.github.com/repos/foundry-rs/foundry/issues/3463/events",
  "html_url": "https://github.com/foundry-rs/foundry/issues/3463",
  "id": 1401000979,
  "node_id": "I_kwDOGBlvNc5TgZQT",
  "number": 3463,
  "title": "`panicked at 'byte index 15045 is out of bounds of pragma solidity ^0.8.4;` on debug mode",
  "user": {
    "login": "0xbok",
    "id": 1689531,
    "node_id": "MDQ6VXNlcjE2ODk1MzE=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1689531?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/0xbok",
    "html_url": "https://github.com/0xbok",
    "followers_url": "https://api.github.com/users/0xbok/followers",
    "following_url": "https://api.github.com/users/0xbok/following{/other_user}",
    "gists_url": "https://api.github.com/users/0xbok/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/0xbok/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/0xbok/subscriptions",
    "organizations_url": "https://api.github.com/users/0xbok/orgs",
    "repos_url": "https://api.github.com/users/0xbok/repos",
    "events_url": "https://api.github.com/users/0xbok/events{/privacy}",
    "received_events_url": "https://api.github.com/users/0xbok/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 3334394228,
      "node_id": "MDU6TGFiZWwzMzM0Mzk0MjI4",
      "url": "https://api.github.com/repos/foundry-rs/foundry/labels/T-bug",
      "name": "T-bug",
      "color": "d73a4a",
      "default": false,
      "description": "Type: bug"
    },
    {
      "id": 3703752787,
      "node_id": "LA_kwDOGBlvNc7cwshT",
      "url": "https://api.github.com/repos/foundry-rs/foundry/labels/C-forge",
      "name": "C-forge",
      "color": "5319E7",
      "default": false,
      "description": "Command: forge"
    },
    {
      "id": 3703753247,
      "node_id": "LA_kwDOGBlvNc7cwsof",
      "url": "https://api.github.com/repos/foundry-rs/foundry/labels/A-debugger",
      "name": "A-debugger",
      "color": "FBCA04",
      "default": false,
      "description": "Area: debugger"
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": {
    "login": "rkrasiuk",
    "id": 25429261,
    "node_id": "MDQ6VXNlcjI1NDI5MjYx",
    "avatar_url": "https://avatars.githubusercontent.com/u/25429261?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/rkrasiuk",
    "html_url": "https://github.com/rkrasiuk",
    "followers_url": "https://api.github.com/users/rkrasiuk/followers",
    "following_url": "https://api.github.com/users/rkrasiuk/following{/other_user}",
    "gists_url": "https://api.github.com/users/rkrasiuk/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/rkrasiuk/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/rkrasiuk/subscriptions",
    "organizations_url": "https://api.github.com/users/rkrasiuk/orgs",
    "repos_url": "https://api.github.com/users/rkrasiuk/repos",
    "events_url": "https://api.github.com/users/rkrasiuk/events{/privacy}",
    "received_events_url": "https://api.github.com/users/rkrasiuk/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "rkrasiuk",
      "id": 25429261,
      "node_id": "MDQ6VXNlcjI1NDI5MjYx",
      "avatar_url": "https://avatars.githubusercontent.com/u/25429261?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rkrasiuk",
      "html_url": "https://github.com/rkrasiuk",
      "followers_url": "https://api.github.com/users/rkrasiuk/followers",
      "following_url": "https://api.github.com/users/rkrasiuk/following{/other_user}",
      "gists_url": "https://api.github.com/users/rkrasiuk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rkrasiuk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rkrasiuk/subscriptions",
      "organizations_url": "https://api.github.com/users/rkrasiuk/orgs",
      "repos_url": "https://api.github.com/users/rkrasiuk/repos",
      "events_url": "https://api.github.com/users/rkrasiuk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rkrasiuk/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 11,
  "created_at": "2022-10-07T11:06:21Z",
  "updated_at": "2022-10-09T13:41:15Z",
  "closed_at": null,
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "### Component\r\n\r\nForge\r\n\r\n### Have you ensured that all of these are up to date?\r\n\r\n- [X] Foundry\r\n- [X] Foundryup\r\n\r\n### What version of Foundry are you on?\r\n\r\nforge 0.2.0 (d95f309 2022-10-07T00:08:29.38237Z)\r\n\r\n### What command(s) is the bug in?\r\n\r\nforge test --debug testDuplicateMintClone\r\n\r\n### Operating System\r\n\r\nmacOS (Apple Silicon)\r\n\r\n### Describe the bug\r\n\r\nI am not able to isolate the bug to create a smaller PoC, but on this repo https://github.com/ditto-lab/ditto/tree/gas, `forge test -m testDuplicateMintClone` passes, but `forge test --debug testDuplicateMintClone` fails with \r\n```javascript\r\npanicked at 'byte index 15045 is out of bounds of `pragma solidity ^0.8.4;\r\n\r\nimport {ERC721} from \"@rari-capital/solmate/src/tokens/ERC721.sol\";\r\nimport {ERC1155} from \"@rari-capital/solmate/src/tokens/ERC1155.sol\";\r\nimport {Strings} from \"@openzeppelin/contracts/utils/Strings.sol\";\r\n\r\ncontract UnderlyingNFT is`[...]', library/core/src/str/mod.rs:107:9\r\n[1]    50668 abort      ~/.foundry/bin/forge test --debug testDuplicateMintClone\r\n```\r\n\r\nThis is the link to the test: https://github.com/ditto-lab/ditto/blob/gas/src/test/DittoMachine.t.sol#L109\r\n\r\nSo there is a discrepancy between the debug mode and the usual test pipeline. Any pointers on how I can create a PoC for this for easier debugging?",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/3463/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/foundry-rs/foundry/issues/3463/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1271848756",
    "html_url": "https://github.com/foundry-rs/foundry/issues/3463#issuecomment-1271848756",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/3463",
    "id": 1271848756,
    "node_id": "IC_kwDOGBlvNc5Lzt80",
    "user": {
      "login": "mattsse",
      "id": 19890894,
      "node_id": "MDQ6VXNlcjE5ODkwODk0",
      "avatar_url": "https://avatars.githubusercontent.com/u/19890894?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mattsse",
      "html_url": "https://github.com/mattsse",
      "followers_url": "https://api.github.com/users/mattsse/followers",
      "following_url": "https://api.github.com/users/mattsse/following{/other_user}",
      "gists_url": "https://api.github.com/users/mattsse/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mattsse/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mattsse/subscriptions",
      "organizations_url": "https://api.github.com/users/mattsse/orgs",
      "repos_url": "https://api.github.com/users/mattsse/repos",
      "events_url": "https://api.github.com/users/mattsse/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mattsse/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-10-07T17:15:52Z",
    "updated_at": "2022-10-07T17:15:52Z",
    "author_association": "MEMBER",
    "body": "@rkrasiuk I first thought this might be related to parsing, but I suspect this is somehow related to sourcemaps\r\n\r\n@0xbok could you please share the logs you get when you run with `RUST_LOG=ethers,forge,foundry_cli,ui forge test ...`\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1271848756/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1271862658",
    "html_url": "https://github.com/foundry-rs/foundry/issues/3463#issuecomment-1271862658",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/3463",
    "id": 1271862658,
    "node_id": "IC_kwDOGBlvNc5LzxWC",
    "user": {
      "login": "rkrasiuk",
      "id": 25429261,
      "node_id": "MDQ6VXNlcjI1NDI5MjYx",
      "avatar_url": "https://avatars.githubusercontent.com/u/25429261?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rkrasiuk",
      "html_url": "https://github.com/rkrasiuk",
      "followers_url": "https://api.github.com/users/rkrasiuk/followers",
      "following_url": "https://api.github.com/users/rkrasiuk/following{/other_user}",
      "gists_url": "https://api.github.com/users/rkrasiuk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rkrasiuk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rkrasiuk/subscriptions",
      "organizations_url": "https://api.github.com/users/rkrasiuk/orgs",
      "repos_url": "https://api.github.com/users/rkrasiuk/repos",
      "events_url": "https://api.github.com/users/rkrasiuk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rkrasiuk/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-10-07T17:32:10Z",
    "updated_at": "2022-10-07T17:32:10Z",
    "author_association": "COLLABORATOR",
    "body": "@0xbok ran `forge test --debug testDuplicateMintClone` on the `gas` branch successfully. are there any uncommitted changes? \r\n<img width=\"1534\" alt=\"Screenshot 2022-10-07 at 20 30 33\" src=\"https://user-images.githubusercontent.com/25429261/194616022-3ec9bc97-109d-4f00-bebf-0a61befadb1a.png\">\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1271862658/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1272252752",
    "html_url": "https://github.com/foundry-rs/foundry/issues/3463#issuecomment-1272252752",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/3463",
    "id": 1272252752,
    "node_id": "IC_kwDOGBlvNc5L1QlQ",
    "user": {
      "login": "0xbok",
      "id": 1689531,
      "node_id": "MDQ6VXNlcjE2ODk1MzE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1689531?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/0xbok",
      "html_url": "https://github.com/0xbok",
      "followers_url": "https://api.github.com/users/0xbok/followers",
      "following_url": "https://api.github.com/users/0xbok/following{/other_user}",
      "gists_url": "https://api.github.com/users/0xbok/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/0xbok/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/0xbok/subscriptions",
      "organizations_url": "https://api.github.com/users/0xbok/orgs",
      "repos_url": "https://api.github.com/users/0xbok/repos",
      "events_url": "https://api.github.com/users/0xbok/events{/privacy}",
      "received_events_url": "https://api.github.com/users/0xbok/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-10-08T07:25:30Z",
    "updated_at": "2022-10-08T08:19:31Z",
    "author_association": "NONE",
    "body": "@rkrasiuk If you keep pressing `C` until it stops and then `s`, you should see debugger crashing with this error. There were new commits on this branch, so the error is now \"panicked at 'byte index 36467 is out of bounds of `pragma solidity ^0.8.4;\"\r\n\r\n@mattsse here are the logs (replaced some absolute local file path prefixes with `...`).\r\n```\r\n2022-10-08T07:20:51.366252Z TRACE forge::test: executing test command\r\n2022-10-08T07:20:51.378533Z TRACE forge::test: using filter filter=Filter { match: None, match-test: None, no-match-test: None, match-contract: None, no-match-contract: None, match-path: None, no-match-path: None, .. }\r\n[⠃] Compiling...2022-10-08T07:20:51.563821Z TRACE compile_with:compile: ethers_solc: found 22 sources to compile: [\".../ditto/script/DittoMachine.s.sol\", \".../ditto/src/BlockRefund.sol\", \".../ditto/src/CloneList.sol\", \".../ditto/src/DittoMachine.sol\", \".../ditto/src/DittoMachineSvg.sol\", \".../ditto/src/Oracle.sol\", \".../ditto/src/TimeCurve.sol\", \".../ditto/src/test/Bidder.sol\", \".../ditto/src/test/BidderWithEjector.sol\", \".../ditto/src/test/BlockRefund.t.sol\", \".../ditto/src/test/DittoMachine.t.sol\", \".../ditto/src/test/Ejector.t.sol\", \".../ditto/src/test/Floor.t.sol\", \".../ditto/src/test/Heat.t.sol\", \".../ditto/src/test/MultidimentionalClone.t.sol\", \".../ditto/src/test/Oracle.t.sol\", \".../ditto/src/test/OracleWrapper.sol\", \".../ditto/src/test/TestBase.sol\", \".../ditto/src/test/TimeCurve.t.sol\", \".../ditto/src/test/UnderlyingNFT.sol\", \".../ditto/src/test/UnderlyingNFTWithRoyalties.sol\", \".../ditto/src/test/Voucher.t.sol\"]\r\n2022-10-08T07:20:51.580423Z TRACE compile_with:compile: ethers_solc::compile::project: preprocessing\r\n2022-10-08T07:20:51.580446Z TRACE compile_with:compile:sol-files-cache::read: ethers_solc::cache: reading solfiles cache at .../ditto/cache/solidity-files-cache.json\r\n2022-10-08T07:20:51.581054Z TRACE compile_with:compile:sol-files-cache::read: ethers_solc::cache: read cache \"ethers-rs-sol-cache-3\" with 40 entries\r\n2022-10-08T07:20:51.581089Z TRACE compile_with:compile: ethers_solc::cache: remove non existing files from cache\r\n2022-10-08T07:20:51.581150Z TRACE compile_with:compile: ethers_solc::cache: reading artifacts from cache...\r\n[⠊] Compiling...2022-10-08T07:20:51.677641Z TRACE compile_with:compile: ethers_solc::cache: read 50 artifacts from cache\r\n2022-10-08T07:20:51.678417Z TRACE compile_with:compile: ethers_solc::compile::project: Filtering 40 sources for 0.8.17+commit.8df45f5f.Darwin.appleclang\r\n2022-10-08T07:20:51.679615Z TRACE compile_with:compile: ethers_solc::compile::project: Detected 0 dirty sources []\r\n2022-10-08T07:20:51.679620Z TRACE compile_with:compile: ethers_solc::compile::project: compiling\r\n2022-10-08T07:20:51.679623Z TRACE compile_with:compile: ethers_solc::compile::project: compiling 1 jobs sequentially\r\n2022-10-08T07:20:51.679626Z TRACE compile_with:compile: ethers_solc::compile::project: skip solc /Users/dev/.svm/0.8.17/solc-0.8.17 0.8.17+commit.8df45f5f.Darwin.appleclang for empty sources set\r\n2022-10-08T07:20:51.679632Z TRACE compile_with:compile:write-artifacts: ethers_solc::compile::project: handling artifact output for 0 contracts and 0 sources\r\n2022-10-08T07:20:51.679699Z TRACE compile_with:compile: ethers_solc::compile::project: write cache\r\n2022-10-08T07:20:51.679899Z TRACE compile_with:compile: ethers_solc::cache: writing cache with 40 entries to json file: \".../ditto/cache/solidity-files-cache.json\"\r\n2022-10-08T07:20:51.707043Z TRACE compile_with:compile: ethers_solc::cache: cache file located: \".../ditto/cache/solidity-files-cache.json\"\r\n[⠒] Compiling...\r\nNo files changed, compilation skipped\r\n2022-10-08T07:20:51.824027Z TRACE forge::multi_runner: start all tests\r\n2022-10-08T07:20:51.826074Z TRACE forge::multi_runner: start executing all tests in contract contract=\"src/test/DittoMachine.t.sol:ContractTest\"\r\n2022-10-08T07:20:51.826108Z  INFO contract{name=src/test/DittoMachine.t.sol:ContractTest}: forge::runner: starting tests\r\n2022-10-08T07:20:51.826116Z TRACE contract{name=src/test/DittoMachine.t.sol:ContractTest}: forge::runner: Setting test contract setup=true\r\n2022-10-08T07:20:51.827612Z TRACE contract{name=src/test/DittoMachine.t.sol:ContractTest}: forge::runner: setting up\r\n2022-10-08T07:20:51.828268Z TRACE contract{name=src/test/DittoMachine.t.sol:ContractTest}: forge::runner: successfully setUp test contract=0x62d69f6867a0a084c6d313943dc22023bc263691\r\n2022-10-08T07:20:51.828457Z DEBUG contract{name=src/test/DittoMachine.t.sol:ContractTest}:test{name=testDuplicateMintClone() should_fail=false}: forge::runner: duration=171.166µs success=true gas=456776\r\n2022-10-08T07:20:51.828481Z  INFO contract{name=src/test/DittoMachine.t.sol:ContractTest}: forge::runner: done. 1/1 successful duration=2.369708ms\r\n2022-10-08T07:20:51.828491Z TRACE forge::multi_runner: executed all tests in contract contract=\"src/test/DittoMachine.t.sol:ContractTest\"\r\n2022-10-08T07:20:51.828702Z TRACE foundry_cli::cmd::forge::script::cmd: executing script command\r\n[⠃] Compiling...2022-10-08T07:20:51.857274Z TRACE compile_with:compile: ethers_solc: found 22 sources to compile: [\".../ditto/script/DittoMachine.s.sol\", \".../ditto/src/BlockRefund.sol\", \".../ditto/src/CloneList.sol\", \".../ditto/src/DittoMachine.sol\", \".../ditto/src/DittoMachineSvg.sol\", \".../ditto/src/Oracle.sol\", \".../ditto/src/TimeCurve.sol\", \".../ditto/src/test/Bidder.sol\", \".../ditto/src/test/BidderWithEjector.sol\", \".../ditto/src/test/BlockRefund.t.sol\", \".../ditto/src/test/DittoMachine.t.sol\", \".../ditto/src/test/Ejector.t.sol\", \".../ditto/src/test/Floor.t.sol\", \".../ditto/src/test/Heat.t.sol\", \".../ditto/src/test/MultidimentionalClone.t.sol\", \".../ditto/src/test/Oracle.t.sol\", \".../ditto/src/test/OracleWrapper.sol\", \".../ditto/src/test/TestBase.sol\", \".../ditto/src/test/TimeCurve.t.sol\", \".../ditto/src/test/UnderlyingNFT.sol\", \".../ditto/src/test/UnderlyingNFTWithRoyalties.sol\", \".../ditto/src/test/Voucher.t.sol\"]\r\n2022-10-08T07:20:51.873869Z TRACE compile_with:compile: ethers_solc::compile::project: preprocessing\r\n2022-10-08T07:20:51.873889Z TRACE compile_with:compile:sol-files-cache::read: ethers_solc::cache: reading solfiles cache at .../ditto/cache/solidity-files-cache.json\r\n2022-10-08T07:20:51.874478Z TRACE compile_with:compile:sol-files-cache::read: ethers_solc::cache: read cache \"ethers-rs-sol-cache-3\" with 40 entries\r\n2022-10-08T07:20:51.874507Z TRACE compile_with:compile: ethers_solc::cache: remove non existing files from cache\r\n2022-10-08T07:20:51.874557Z TRACE compile_with:compile: ethers_solc::cache: reading artifacts from cache...\r\n[⠊] Compiling...2022-10-08T07:20:51.963171Z TRACE compile_with:compile: ethers_solc::cache: read 50 artifacts from cache\r\n2022-10-08T07:20:51.963957Z TRACE compile_with:compile: ethers_solc::compile::project: Filtering 40 sources for 0.8.17+commit.8df45f5f.Darwin.appleclang\r\n2022-10-08T07:20:51.965143Z TRACE compile_with:compile: ethers_solc::compile::project: Detected 0 dirty sources []\r\n2022-10-08T07:20:51.965149Z TRACE compile_with:compile: ethers_solc::compile::project: compiling\r\n2022-10-08T07:20:51.965152Z TRACE compile_with:compile: ethers_solc::compile::project: compiling 1 jobs sequentially\r\n2022-10-08T07:20:51.965154Z TRACE compile_with:compile: ethers_solc::compile::project: skip solc /Users/dev/.svm/0.8.17/solc-0.8.17 0.8.17+commit.8df45f5f.Darwin.appleclang for empty sources set\r\n2022-10-08T07:20:51.965161Z TRACE compile_with:compile:write-artifacts: ethers_solc::compile::project: handling artifact output for 0 contracts and 0 sources\r\n2022-10-08T07:20:51.965219Z TRACE compile_with:compile: ethers_solc::compile::project: write cache\r\n2022-10-08T07:20:51.965407Z TRACE compile_with:compile: ethers_solc::cache: writing cache with 40 entries to json file: \".../ditto/cache/solidity-files-cache.json\"\r\n2022-10-08T07:20:51.992630Z TRACE compile_with:compile: ethers_solc::cache: cache file located: \".../ditto/cache/solidity-files-cache.json\"\r\n[⠒] Compiling...\r\nNo files changed, compilation skipped\r\n2022-10-08T07:20:52.175201Z TRACE foundry_cli::cmd::forge::script::executor: start executing script\r\n2022-10-08T07:20:52.175214Z TRACE foundry_cli::cmd::forge::script::executor: preparing script runner\r\n2022-10-08T07:20:52.200530Z TRACE etherscanidentifier: using etherscan identifier chain=Some(Named(Mainnet)) url=\"https://api.etherscan.io/api\"\r\n2022-10-08T07:20:52.202104Z TRACE etherscanidentifier: identify 0 addresses\r\n2022-10-08T07:20:52.202553Z TRACE etherscanidentifier: identify 0 addresses\r\n2022-10-08T07:20:52.202754Z TRACE etherscanidentifier: identify 1 addresses\r\n2022-10-08T07:20:52.202757Z TRACE etherscanidentifier: fetching info for 0x7109709ecfa91a80626ff3989d68f67f5b1dd12d\r\n2022-10-08T07:20:52.202781Z  WARN etherscanidentifier: could not get etherscan info: ContractCodeNotVerified(0x7109709ecfa91a80626ff3989d68f67f5b1dd12d)\r\n2022-10-08T07:20:52.202788Z TRACE etherscanidentifier: identify 1 addresses\r\n2022-10-08T07:20:52.202789Z TRACE etherscanidentifier: fetching info for 0x7109709ecfa91a80626ff3989d68f67f5b1dd12d\r\n2022-10-08T07:20:52.202800Z  WARN etherscanidentifier: could not get etherscan info: ContractCodeNotVerified(0x7109709ecfa91a80626ff3989d68f67f5b1dd12d)\r\npanicked at 'byte index 36467 is out of bounds of `pragma solidity ^0.8.4;\r\n\r\nimport {ERC721} from \"@rari-capital/solmate/src/tokens/ERC721.sol\";\r\nimport {ERC1155} from \"@rari-capital/solmate/src/tokens/ERC1155.sol\";\r\nimport {Strings} from \"@openzeppelin/contracts/utils/Strings.sol\";\r\n\r\ncontract UnderlyingNFT is`[...]', library/core/src/str/mod.rs:107:9\r\n[1]    78773 abort      RUST_LOG=ethers,forge,foundry_cli,ui ~/.foundry/bin/forge test --debug\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1272252752/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1272260344",
    "html_url": "https://github.com/foundry-rs/foundry/issues/3463#issuecomment-1272260344",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/3463",
    "id": 1272260344,
    "node_id": "IC_kwDOGBlvNc5L1Sb4",
    "user": {
      "login": "mattsse",
      "id": 19890894,
      "node_id": "MDQ6VXNlcjE5ODkwODk0",
      "avatar_url": "https://avatars.githubusercontent.com/u/19890894?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mattsse",
      "html_url": "https://github.com/mattsse",
      "followers_url": "https://api.github.com/users/mattsse/followers",
      "following_url": "https://api.github.com/users/mattsse/following{/other_user}",
      "gists_url": "https://api.github.com/users/mattsse/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mattsse/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mattsse/subscriptions",
      "organizations_url": "https://api.github.com/users/mattsse/orgs",
      "repos_url": "https://api.github.com/users/mattsse/repos",
      "events_url": "https://api.github.com/users/mattsse/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mattsse/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-10-08T08:06:59Z",
    "updated_at": "2022-10-08T08:09:49Z",
    "author_association": "MEMBER",
    "body": "thanks\r\n\r\n~~looks like the `gas` branch is currently broken?~~\r\n\r\nnvm, just needed to update deps.",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1272260344/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1272371848",
    "html_url": "https://github.com/foundry-rs/foundry/issues/3463#issuecomment-1272371848",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/3463",
    "id": 1272371848,
    "node_id": "IC_kwDOGBlvNc5L1tqI",
    "user": {
      "login": "rkrasiuk",
      "id": 25429261,
      "node_id": "MDQ6VXNlcjI1NDI5MjYx",
      "avatar_url": "https://avatars.githubusercontent.com/u/25429261?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rkrasiuk",
      "html_url": "https://github.com/rkrasiuk",
      "followers_url": "https://api.github.com/users/rkrasiuk/followers",
      "following_url": "https://api.github.com/users/rkrasiuk/following{/other_user}",
      "gists_url": "https://api.github.com/users/rkrasiuk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rkrasiuk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rkrasiuk/subscriptions",
      "organizations_url": "https://api.github.com/users/rkrasiuk/orgs",
      "repos_url": "https://api.github.com/users/rkrasiuk/repos",
      "events_url": "https://api.github.com/users/rkrasiuk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rkrasiuk/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-10-08T18:14:50Z",
    "updated_at": "2022-10-08T18:14:50Z",
    "author_association": "COLLABORATOR",
    "body": "@0xbok could you remove the duplicate import of `DittoMachine` within the `TestBase` and try running it once again?",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1272371848/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1272491699",
    "html_url": "https://github.com/foundry-rs/foundry/issues/3463#issuecomment-1272491699",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/3463",
    "id": 1272491699,
    "node_id": "IC_kwDOGBlvNc5L2K6z",
    "user": {
      "login": "0xbok",
      "id": 1689531,
      "node_id": "MDQ6VXNlcjE2ODk1MzE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1689531?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/0xbok",
      "html_url": "https://github.com/0xbok",
      "followers_url": "https://api.github.com/users/0xbok/followers",
      "following_url": "https://api.github.com/users/0xbok/following{/other_user}",
      "gists_url": "https://api.github.com/users/0xbok/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/0xbok/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/0xbok/subscriptions",
      "organizations_url": "https://api.github.com/users/0xbok/orgs",
      "repos_url": "https://api.github.com/users/0xbok/repos",
      "events_url": "https://api.github.com/users/0xbok/events{/privacy}",
      "received_events_url": "https://api.github.com/users/0xbok/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-10-09T08:50:46Z",
    "updated_at": "2022-10-09T08:50:46Z",
    "author_association": "NONE",
    "body": "@rkrasiuk that would require other changes in the test as they depend on inheriting from `DittoMachine`. Do you want me to do that as well?",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1272491699/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1272492788",
    "html_url": "https://github.com/foundry-rs/foundry/issues/3463#issuecomment-1272492788",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/3463",
    "id": 1272492788,
    "node_id": "IC_kwDOGBlvNc5L2LL0",
    "user": {
      "login": "rkrasiuk",
      "id": 25429261,
      "node_id": "MDQ6VXNlcjI1NDI5MjYx",
      "avatar_url": "https://avatars.githubusercontent.com/u/25429261?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rkrasiuk",
      "html_url": "https://github.com/rkrasiuk",
      "followers_url": "https://api.github.com/users/rkrasiuk/followers",
      "following_url": "https://api.github.com/users/rkrasiuk/following{/other_user}",
      "gists_url": "https://api.github.com/users/rkrasiuk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rkrasiuk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rkrasiuk/subscriptions",
      "organizations_url": "https://api.github.com/users/rkrasiuk/orgs",
      "repos_url": "https://api.github.com/users/rkrasiuk/repos",
      "events_url": "https://api.github.com/users/rkrasiuk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rkrasiuk/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-10-09T08:57:35Z",
    "updated_at": "2022-10-09T08:57:45Z",
    "author_association": "COLLABORATOR",
    "body": "@0xbok simply change line 7 from `import {Bidder, DittoMachine} from \"./Bidder.sol\";` to `import {Bidder} from \"./Bidder.sol\";`, since `DittoMachine` is already imported 2 lines above",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1272492788/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1272520862",
    "html_url": "https://github.com/foundry-rs/foundry/issues/3463#issuecomment-1272520862",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/3463",
    "id": 1272520862,
    "node_id": "IC_kwDOGBlvNc5L2SCe",
    "user": {
      "login": "0xbok",
      "id": 1689531,
      "node_id": "MDQ6VXNlcjE2ODk1MzE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1689531?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/0xbok",
      "html_url": "https://github.com/0xbok",
      "followers_url": "https://api.github.com/users/0xbok/followers",
      "following_url": "https://api.github.com/users/0xbok/following{/other_user}",
      "gists_url": "https://api.github.com/users/0xbok/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/0xbok/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/0xbok/subscriptions",
      "organizations_url": "https://api.github.com/users/0xbok/orgs",
      "repos_url": "https://api.github.com/users/0xbok/repos",
      "events_url": "https://api.github.com/users/0xbok/events{/privacy}",
      "received_events_url": "https://api.github.com/users/0xbok/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-10-09T11:26:18Z",
    "updated_at": "2022-10-09T11:26:18Z",
    "author_association": "NONE",
    "body": "Done and this time debugger didn’t crash. ",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1272520862/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1272526145",
    "html_url": "https://github.com/foundry-rs/foundry/issues/3463#issuecomment-1272526145",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/3463",
    "id": 1272526145,
    "node_id": "IC_kwDOGBlvNc5L2TVB",
    "user": {
      "login": "0xbok",
      "id": 1689531,
      "node_id": "MDQ6VXNlcjE2ODk1MzE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1689531?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/0xbok",
      "html_url": "https://github.com/0xbok",
      "followers_url": "https://api.github.com/users/0xbok/followers",
      "following_url": "https://api.github.com/users/0xbok/following{/other_user}",
      "gists_url": "https://api.github.com/users/0xbok/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/0xbok/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/0xbok/subscriptions",
      "organizations_url": "https://api.github.com/users/0xbok/orgs",
      "repos_url": "https://api.github.com/users/0xbok/repos",
      "events_url": "https://api.github.com/users/0xbok/events{/privacy}",
      "received_events_url": "https://api.github.com/users/0xbok/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-10-09T11:56:52Z",
    "updated_at": "2022-10-09T11:56:52Z",
    "author_association": "NONE",
    "body": "So is this a bug or should we not have duplicate imports?",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1272526145/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1272528361",
    "html_url": "https://github.com/foundry-rs/foundry/issues/3463#issuecomment-1272528361",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/3463",
    "id": 1272528361,
    "node_id": "IC_kwDOGBlvNc5L2T3p",
    "user": {
      "login": "rkrasiuk",
      "id": 25429261,
      "node_id": "MDQ6VXNlcjI1NDI5MjYx",
      "avatar_url": "https://avatars.githubusercontent.com/u/25429261?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rkrasiuk",
      "html_url": "https://github.com/rkrasiuk",
      "followers_url": "https://api.github.com/users/rkrasiuk/followers",
      "following_url": "https://api.github.com/users/rkrasiuk/following{/other_user}",
      "gists_url": "https://api.github.com/users/rkrasiuk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rkrasiuk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rkrasiuk/subscriptions",
      "organizations_url": "https://api.github.com/users/rkrasiuk/orgs",
      "repos_url": "https://api.github.com/users/rkrasiuk/repos",
      "events_url": "https://api.github.com/users/rkrasiuk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rkrasiuk/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-10-09T12:08:14Z",
    "updated_at": "2022-10-09T12:08:14Z",
    "author_association": "COLLABORATOR",
    "body": "@0xbok it's def a bug with the source index lookup, sir. the debugger attempted to display `UnderlyingNFT` source file when it should've been `DittoMachine`. the caveat is it's nondeterministic as I haven't been able to reproduce it after removing a duplicate import and adding it back. it'll take some time to dig thru this",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1272528361/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1272545437",
    "html_url": "https://github.com/foundry-rs/foundry/issues/3463#issuecomment-1272545437",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/3463",
    "id": 1272545437,
    "node_id": "IC_kwDOGBlvNc5L2YCd",
    "user": {
      "login": "0xbok",
      "id": 1689531,
      "node_id": "MDQ6VXNlcjE2ODk1MzE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1689531?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/0xbok",
      "html_url": "https://github.com/0xbok",
      "followers_url": "https://api.github.com/users/0xbok/followers",
      "following_url": "https://api.github.com/users/0xbok/following{/other_user}",
      "gists_url": "https://api.github.com/users/0xbok/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/0xbok/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/0xbok/subscriptions",
      "organizations_url": "https://api.github.com/users/0xbok/orgs",
      "repos_url": "https://api.github.com/users/0xbok/repos",
      "events_url": "https://api.github.com/users/0xbok/events{/privacy}",
      "received_events_url": "https://api.github.com/users/0xbok/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-10-09T13:41:15Z",
    "updated_at": "2022-10-09T13:41:15Z",
    "author_association": "NONE",
    "body": "Gotcha. After removing the duplicate import, I think there are some more issues. The debugger is mapping to other test functions like `testSendEther()` (press `G` to see it, also at some intermediate places) and `testDissolve()`. These test functions are not called from `testDuplicateMintClone()`.",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1272545437/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
