{
  "url": "https://api.github.com/repos/foundry-rs/foundry/issues/5210",
  "repository_url": "https://api.github.com/repos/foundry-rs/foundry",
  "labels_url": "https://api.github.com/repos/foundry-rs/foundry/issues/5210/labels{/name}",
  "comments_url": "https://api.github.com/repos/foundry-rs/foundry/issues/5210/comments",
  "events_url": "https://api.github.com/repos/foundry-rs/foundry/issues/5210/events",
  "html_url": "https://github.com/foundry-rs/foundry/issues/5210",
  "id": 1773159713,
  "node_id": "I_kwDOGBlvNc5psEUh",
  "number": 5210,
  "title": "strange behaviour with forge install and update leading to broken submodules",
  "user": {
    "login": "thedavidmeister",
    "id": 629710,
    "node_id": "MDQ6VXNlcjYyOTcxMA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/629710?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/thedavidmeister",
    "html_url": "https://github.com/thedavidmeister",
    "followers_url": "https://api.github.com/users/thedavidmeister/followers",
    "following_url": "https://api.github.com/users/thedavidmeister/following{/other_user}",
    "gists_url": "https://api.github.com/users/thedavidmeister/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/thedavidmeister/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/thedavidmeister/subscriptions",
    "organizations_url": "https://api.github.com/users/thedavidmeister/orgs",
    "repos_url": "https://api.github.com/users/thedavidmeister/repos",
    "events_url": "https://api.github.com/users/thedavidmeister/events{/privacy}",
    "received_events_url": "https://api.github.com/users/thedavidmeister/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 3334394228,
      "node_id": "MDU6TGFiZWwzMzM0Mzk0MjI4",
      "url": "https://api.github.com/repos/foundry-rs/foundry/labels/T-bug",
      "name": "T-bug",
      "color": "d73a4a",
      "default": false,
      "description": "Type: bug"
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 1,
  "created_at": "2023-06-25T08:59:39Z",
  "updated_at": "2023-06-25T12:46:11Z",
  "closed_at": "2023-06-25T12:46:11Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "### Component\n\nForge\n\n### Have you ensured that all of these are up to date?\n\n- [X] Foundry\n- [ ] Foundryup\n\n### What version of Foundry are you on?\n\nforge 0.2.0 (e6574c9 2023-06-25T00:10:48.177241000Z)\n\n### What command(s) is the bug in?\n\nforge update and forge install\n\n### Operating System\n\nmacOS (Apple Silicon)\n\n### Describe the bug\n\nI was trying to update my dependencies using `forge update`\r\n\r\nI'd run that command and nothing would happen, even though there were definitely new commits to the default branch of the repository of the dependency.\r\n\r\nInstead i tried to remove and reinstall the dep with `forge rm` then `forge install`. This did pull in the newest updates.\r\n\r\nSo I thought perhaps the issue is that there was no branch specified for the dependency so i ran `forge install <dep>@main` which then had the effect of putting an absolute path in my submodules.\r\n\r\nThe issue here (other than forge update failing to update anything) is that an absolute submodules path includes my local file system, which is wrong on every other device.\r\n\r\nYou can see the commit generated by forge here https://github.com/rainprotocol/rain.orderbook.flashborrower.zeroex/pull/7/commits/d1019ef56e744caa60e56e85283e3069597ed29e\r\n\r\nThe bad output:\r\n\r\n```\r\n[submodule \"lib/rain.interpreter\"]\r\n\tpath = lib/rain.interpreter\r\n\turl = https://github.com/rainprotocol/rain.interpreter\r\n[submodule \"/Users/thedavidmeister/Code/rain.orderbook.flashborrower.zeroex/lib/rain.interpreter\"]\r\n\tbranch = main\r\n```",
  "closed_by": {
    "login": "mattsse",
    "id": 19890894,
    "node_id": "MDQ6VXNlcjE5ODkwODk0",
    "avatar_url": "https://avatars.githubusercontent.com/u/19890894?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/mattsse",
    "html_url": "https://github.com/mattsse",
    "followers_url": "https://api.github.com/users/mattsse/followers",
    "following_url": "https://api.github.com/users/mattsse/following{/other_user}",
    "gists_url": "https://api.github.com/users/mattsse/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/mattsse/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/mattsse/subscriptions",
    "organizations_url": "https://api.github.com/users/mattsse/orgs",
    "repos_url": "https://api.github.com/users/mattsse/repos",
    "events_url": "https://api.github.com/users/mattsse/events{/privacy}",
    "received_events_url": "https://api.github.com/users/mattsse/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/5210/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/foundry-rs/foundry/issues/5210/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1605984407",
    "html_url": "https://github.com/foundry-rs/foundry/issues/5210#issuecomment-1605984407",
    "issue_url": "https://api.github.com/repos/foundry-rs/foundry/issues/5210",
    "id": 1605984407,
    "node_id": "IC_kwDOGBlvNc5fuWCX",
    "user": {
      "login": "thedavidmeister",
      "id": 629710,
      "node_id": "MDQ6VXNlcjYyOTcxMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/629710?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/thedavidmeister",
      "html_url": "https://github.com/thedavidmeister",
      "followers_url": "https://api.github.com/users/thedavidmeister/followers",
      "following_url": "https://api.github.com/users/thedavidmeister/following{/other_user}",
      "gists_url": "https://api.github.com/users/thedavidmeister/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/thedavidmeister/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/thedavidmeister/subscriptions",
      "organizations_url": "https://api.github.com/users/thedavidmeister/orgs",
      "repos_url": "https://api.github.com/users/thedavidmeister/repos",
      "events_url": "https://api.github.com/users/thedavidmeister/events{/privacy}",
      "received_events_url": "https://api.github.com/users/thedavidmeister/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-06-25T09:21:59Z",
    "updated_at": "2023-06-25T09:21:59Z",
    "author_association": "NONE",
    "body": "annoyingly running rm left the absolute path cruft in the submodules file",
    "reactions": {
      "url": "https://api.github.com/repos/foundry-rs/foundry/issues/comments/1605984407/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
