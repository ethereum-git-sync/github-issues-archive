{
  "url": "https://api.github.com/repos/sigp/lighthouse/issues/2706",
  "repository_url": "https://api.github.com/repos/sigp/lighthouse",
  "labels_url": "https://api.github.com/repos/sigp/lighthouse/issues/2706/labels{/name}",
  "comments_url": "https://api.github.com/repos/sigp/lighthouse/issues/2706/comments",
  "events_url": "https://api.github.com/repos/sigp/lighthouse/issues/2706/events",
  "html_url": "https://github.com/sigp/lighthouse/issues/2706",
  "id": 1024466011,
  "node_id": "I_kwDOCFeAzc49EBxb",
  "number": 2706,
  "title": "Upgrading Lighthouse for new hardfork",
  "user": {
    "login": "ethcurious",
    "id": 92398820,
    "node_id": "U_kgDOBYHk5A",
    "avatar_url": "https://avatars.githubusercontent.com/u/92398820?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/ethcurious",
    "html_url": "https://github.com/ethcurious",
    "followers_url": "https://api.github.com/users/ethcurious/followers",
    "following_url": "https://api.github.com/users/ethcurious/following{/other_user}",
    "gists_url": "https://api.github.com/users/ethcurious/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/ethcurious/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/ethcurious/subscriptions",
    "organizations_url": "https://api.github.com/users/ethcurious/orgs",
    "repos_url": "https://api.github.com/users/ethcurious/repos",
    "events_url": "https://api.github.com/users/ethcurious/events{/privacy}",
    "received_events_url": "https://api.github.com/users/ethcurious/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 1,
  "created_at": "2021-10-12T21:45:31Z",
  "updated_at": "2021-10-12T23:53:55Z",
  "closed_at": "2021-10-12T23:53:55Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "What's the recommended workflow to upgrade Lighthouse if a hardfork is imminent? For example, do stable clients released near-ish to hardforks have the post-hardfork protocol updates already written in, but dormant until the client detects (based on blocknumber/epoch) the fork has been reached, at which point the client starts using the updated protocols and follows the right fork automatically? If that's how the client works, as long as I'm careful to update it before each fork, I should be ok. If that's NOT how it works, I'm not sure what I should do.",
  "closed_by": {
    "login": "ethcurious",
    "id": 92398820,
    "node_id": "U_kgDOBYHk5A",
    "avatar_url": "https://avatars.githubusercontent.com/u/92398820?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/ethcurious",
    "html_url": "https://github.com/ethcurious",
    "followers_url": "https://api.github.com/users/ethcurious/followers",
    "following_url": "https://api.github.com/users/ethcurious/following{/other_user}",
    "gists_url": "https://api.github.com/users/ethcurious/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/ethcurious/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/ethcurious/subscriptions",
    "organizations_url": "https://api.github.com/users/ethcurious/orgs",
    "repos_url": "https://api.github.com/users/ethcurious/repos",
    "events_url": "https://api.github.com/users/ethcurious/events{/privacy}",
    "received_events_url": "https://api.github.com/users/ethcurious/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/2706/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/sigp/lighthouse/issues/2706/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/941629891",
    "html_url": "https://github.com/sigp/lighthouse/issues/2706#issuecomment-941629891",
    "issue_url": "https://api.github.com/repos/sigp/lighthouse/issues/2706",
    "id": 941629891,
    "node_id": "IC_kwDOCFeAzc44ICHD",
    "user": {
      "login": "michaelsproul",
      "id": 4452260,
      "node_id": "MDQ6VXNlcjQ0NTIyNjA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4452260?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/michaelsproul",
      "html_url": "https://github.com/michaelsproul",
      "followers_url": "https://api.github.com/users/michaelsproul/followers",
      "following_url": "https://api.github.com/users/michaelsproul/following{/other_user}",
      "gists_url": "https://api.github.com/users/michaelsproul/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/michaelsproul/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/michaelsproul/subscriptions",
      "organizations_url": "https://api.github.com/users/michaelsproul/orgs",
      "repos_url": "https://api.github.com/users/michaelsproul/repos",
      "events_url": "https://api.github.com/users/michaelsproul/events{/privacy}",
      "received_events_url": "https://api.github.com/users/michaelsproul/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-10-12T21:59:24Z",
    "updated_at": "2021-10-12T21:59:24Z",
    "author_association": "MEMBER",
    "body": "You're correct, that's how it works! For example, our [v2.0.0 release](https://github.com/sigp/lighthouse/releases/tag/v2.0.0) contains all the code for the Altair hard fork, and the activation epoch for mainnet. When that epoch (74240) is reached the node will start using the Altair consensus and networking changes. The other clients work similarly.\r\n\r\nLighthouse also includes a rollback feature so that it can switch to the correct chain _even if_ you forget to upgrade before the fork. However it's obviously better if you don't miss the fork in the first place, and the rollback has some caveats, but we hope it helps in emergency situations. More info in the impl PR: https://github.com/sigp/lighthouse/pull/2529",
    "reactions": {
      "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/941629891/reactions",
      "total_count": 2,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 1,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
