{
  "url": "https://api.github.com/repos/sigp/lighthouse/issues/197",
  "repository_url": "https://api.github.com/repos/sigp/lighthouse",
  "labels_url": "https://api.github.com/repos/sigp/lighthouse/issues/197/labels{/name}",
  "comments_url": "https://api.github.com/repos/sigp/lighthouse/issues/197/comments",
  "events_url": "https://api.github.com/repos/sigp/lighthouse/issues/197/events",
  "html_url": "https://github.com/sigp/lighthouse/issues/197",
  "id": 409128500,
  "node_id": "MDU6SXNzdWU0MDkxMjg1MDA=",
  "number": 197,
  "title": "New repository structure",
  "user": {
    "login": "paulhauner",
    "id": 6660660,
    "node_id": "MDQ6VXNlcjY2NjA2NjA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6660660?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/paulhauner",
    "html_url": "https://github.com/paulhauner",
    "followers_url": "https://api.github.com/users/paulhauner/followers",
    "following_url": "https://api.github.com/users/paulhauner/following{/other_user}",
    "gists_url": "https://api.github.com/users/paulhauner/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/paulhauner/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/paulhauner/subscriptions",
    "organizations_url": "https://api.github.com/users/paulhauner/orgs",
    "repos_url": "https://api.github.com/users/paulhauner/repos",
    "events_url": "https://api.github.com/users/paulhauner/events{/privacy}",
    "received_events_url": "https://api.github.com/users/paulhauner/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 3,
  "created_at": "2019-02-12T05:34:29Z",
  "updated_at": "2019-02-14T01:43:44Z",
  "closed_at": "2019-02-14T01:43:44Z",
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": "## Problem\r\n\r\nWhenever we need to bump up a spec version, it requires a single PR to update the _entire_ repository, including eth2 libraries, the beacon node binary and the validator client binary. \r\n\r\nThe present all-in-one repository structure means that updates to the spec:\r\n\r\n- Create giant PRs that are impractical to review.\r\n- Almost always create merge conflicts as it touches a lot of files.\r\n- Create an unreasonable workload for whoever needs to do the update.\r\n\r\n## Solution\r\n\r\nWe (@agemanning, @spble and I) propose to spawn three new repos from the present lighthouse repository. Here are their names and purposes:\r\n\r\n- `sigp/lighthouse` (the existing one, here): contains all other repositories as git submodules, provides integration testing and likely some form orchestration scripts (docker, etc). It will also serve as the \"landing page\" for the other repos -- it will provide help/support and direct users to the other repos. If people choose to raise issues there that belong on another repo, we can just transfer the issue there using the Github beta transfer feature.\r\n- `sigp/lighthouse-beacon`: contains the beacon node binary.\r\n- `sigp/lighthouse-validator`: contains the validator client binary.\r\n- `sigp/lighthouse-common`: contains the present `eth2` dir and will contain crates that are common to the other crates (e.g., state-less spec logic, ssz, protos, ??)\r\n\r\n### Downsides\r\n\r\n- More places to look for issues and PRs; easy to miss or lose things and more overhead.\r\n- More overhead for new developers.\r\n- More version management (e.g., \"is the beacon_node on spec v0.1.0 or 0.2.0?\")\r\n- It'll look like we have less stars because they won't be collected into the same place.\r\n\r\n### Upsides\r\n\r\n- We can move faster and more freely when it comes to the spec -- we can keep on the cutting edge of the pure spec logic without also needing to keep the binaries at the cutting edge too.\r\n- We can progress different components at different times. E.g., we can choose to lag the validator client behind the beacon node, or vice-versa.\r\n- Smaller tasks and PRs. E.g., you can update the spec functions in on PR and ripple those updates across to the beacon node in another.\r\n- Seems like best-practice.\r\n- More places for people to put stars! They can even star us 4 times if they want!!",
  "closed_by": {
    "login": "paulhauner",
    "id": 6660660,
    "node_id": "MDQ6VXNlcjY2NjA2NjA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6660660?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/paulhauner",
    "html_url": "https://github.com/paulhauner",
    "followers_url": "https://api.github.com/users/paulhauner/followers",
    "following_url": "https://api.github.com/users/paulhauner/following{/other_user}",
    "gists_url": "https://api.github.com/users/paulhauner/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/paulhauner/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/paulhauner/subscriptions",
    "organizations_url": "https://api.github.com/users/paulhauner/orgs",
    "repos_url": "https://api.github.com/users/paulhauner/repos",
    "events_url": "https://api.github.com/users/paulhauner/events{/privacy}",
    "received_events_url": "https://api.github.com/users/paulhauner/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/197/reactions",
    "total_count": 3,
    "+1": 3,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/sigp/lighthouse/issues/197/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/463002231",
    "html_url": "https://github.com/sigp/lighthouse/issues/197#issuecomment-463002231",
    "issue_url": "https://api.github.com/repos/sigp/lighthouse/issues/197",
    "id": 463002231,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2MzAwMjIzMQ==",
    "user": {
      "login": "protolambda",
      "id": 19571989,
      "node_id": "MDQ6VXNlcjE5NTcxOTg5",
      "avatar_url": "https://avatars.githubusercontent.com/u/19571989?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/protolambda",
      "html_url": "https://github.com/protolambda",
      "followers_url": "https://api.github.com/users/protolambda/followers",
      "following_url": "https://api.github.com/users/protolambda/following{/other_user}",
      "gists_url": "https://api.github.com/users/protolambda/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/protolambda/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/protolambda/subscriptions",
      "organizations_url": "https://api.github.com/users/protolambda/orgs",
      "repos_url": "https://api.github.com/users/protolambda/repos",
      "events_url": "https://api.github.com/users/protolambda/events{/privacy}",
      "received_events_url": "https://api.github.com/users/protolambda/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-02-13T00:29:33Z",
    "updated_at": "2019-02-13T00:29:33Z",
    "author_association": "NONE",
    "body": "A few days ago I requested prysmatic labs to move their SSZ lib to its own repo, and I would like to see the same here. Not only as an effort to prevent bigger change-sets for releases to either library, but also to invite community projects to contribute back to the common libraries.\r\n\r\nSee Prysm issue: https://github.com/prysmaticlabs/prysm/issues/1549",
    "reactions": {
      "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/463002231/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/463006065",
    "html_url": "https://github.com/sigp/lighthouse/issues/197#issuecomment-463006065",
    "issue_url": "https://api.github.com/repos/sigp/lighthouse/issues/197",
    "id": 463006065,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2MzAwNjA2NQ==",
    "user": {
      "login": "AgeManning",
      "id": 7454587,
      "node_id": "MDQ6VXNlcjc0NTQ1ODc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7454587?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/AgeManning",
      "html_url": "https://github.com/AgeManning",
      "followers_url": "https://api.github.com/users/AgeManning/followers",
      "following_url": "https://api.github.com/users/AgeManning/following{/other_user}",
      "gists_url": "https://api.github.com/users/AgeManning/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/AgeManning/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/AgeManning/subscriptions",
      "organizations_url": "https://api.github.com/users/AgeManning/orgs",
      "repos_url": "https://api.github.com/users/AgeManning/repos",
      "events_url": "https://api.github.com/users/AgeManning/events{/privacy}",
      "received_events_url": "https://api.github.com/users/AgeManning/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-02-13T00:46:02Z",
    "updated_at": "2019-02-13T00:46:02Z",
    "author_association": "MEMBER",
    "body": "Our current thinking is that there are quite a few such libraries that will be cross-project such that it would be infeasible to maintain a separate repo for each individually. \r\nOur plan is to separate these into their own crates in the lighthouse-common repo. \r\nEach crate can be maintained and upgraded independently and pulled individually from crates.io. \r\n",
    "reactions": {
      "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/463006065/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/463045938",
    "html_url": "https://github.com/sigp/lighthouse/issues/197#issuecomment-463045938",
    "issue_url": "https://api.github.com/repos/sigp/lighthouse/issues/197",
    "id": 463045938,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2MzA0NTkzOA==",
    "user": {
      "login": "paulhauner",
      "id": 6660660,
      "node_id": "MDQ6VXNlcjY2NjA2NjA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6660660?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/paulhauner",
      "html_url": "https://github.com/paulhauner",
      "followers_url": "https://api.github.com/users/paulhauner/followers",
      "following_url": "https://api.github.com/users/paulhauner/following{/other_user}",
      "gists_url": "https://api.github.com/users/paulhauner/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/paulhauner/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/paulhauner/subscriptions",
      "organizations_url": "https://api.github.com/users/paulhauner/orgs",
      "repos_url": "https://api.github.com/users/paulhauner/repos",
      "events_url": "https://api.github.com/users/paulhauner/events{/privacy}",
      "received_events_url": "https://api.github.com/users/paulhauner/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-02-13T03:47:05Z",
    "updated_at": "2019-02-13T03:47:05Z",
    "author_association": "MEMBER",
    "body": "Accidental close -- I subconsciously clicked \"close\" because I wanted to abandon the message I was typing. Oops!",
    "reactions": {
      "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/463045938/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
