{
  "url": "https://api.github.com/repos/sigp/lighthouse/issues/2990",
  "repository_url": "https://api.github.com/repos/sigp/lighthouse",
  "labels_url": "https://api.github.com/repos/sigp/lighthouse/issues/2990/labels{/name}",
  "comments_url": "https://api.github.com/repos/sigp/lighthouse/issues/2990/comments",
  "events_url": "https://api.github.com/repos/sigp/lighthouse/issues/2990/events",
  "html_url": "https://github.com/sigp/lighthouse/issues/2990",
  "id": 1121698069,
  "node_id": "I_kwDOCFeAzc5C28EV",
  "number": 2990,
  "title": "Crash with Unable to create directory (lighthouse vc)",
  "user": {
    "login": "ChuckNorrison",
    "id": 2964146,
    "node_id": "MDQ6VXNlcjI5NjQxNDY=",
    "avatar_url": "https://avatars.githubusercontent.com/u/2964146?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/ChuckNorrison",
    "html_url": "https://github.com/ChuckNorrison",
    "followers_url": "https://api.github.com/users/ChuckNorrison/followers",
    "following_url": "https://api.github.com/users/ChuckNorrison/following{/other_user}",
    "gists_url": "https://api.github.com/users/ChuckNorrison/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/ChuckNorrison/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/ChuckNorrison/subscriptions",
    "organizations_url": "https://api.github.com/users/ChuckNorrison/orgs",
    "repos_url": "https://api.github.com/users/ChuckNorrison/repos",
    "events_url": "https://api.github.com/users/ChuckNorrison/events{/privacy}",
    "received_events_url": "https://api.github.com/users/ChuckNorrison/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": {
    "login": "macladson",
    "id": 58379419,
    "node_id": "MDQ6VXNlcjU4Mzc5NDE5",
    "avatar_url": "https://avatars.githubusercontent.com/u/58379419?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/macladson",
    "html_url": "https://github.com/macladson",
    "followers_url": "https://api.github.com/users/macladson/followers",
    "following_url": "https://api.github.com/users/macladson/following{/other_user}",
    "gists_url": "https://api.github.com/users/macladson/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/macladson/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/macladson/subscriptions",
    "organizations_url": "https://api.github.com/users/macladson/orgs",
    "repos_url": "https://api.github.com/users/macladson/repos",
    "events_url": "https://api.github.com/users/macladson/events{/privacy}",
    "received_events_url": "https://api.github.com/users/macladson/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "macladson",
      "id": 58379419,
      "node_id": "MDQ6VXNlcjU4Mzc5NDE5",
      "avatar_url": "https://avatars.githubusercontent.com/u/58379419?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/macladson",
      "html_url": "https://github.com/macladson",
      "followers_url": "https://api.github.com/users/macladson/followers",
      "following_url": "https://api.github.com/users/macladson/following{/other_user}",
      "gists_url": "https://api.github.com/users/macladson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/macladson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/macladson/subscriptions",
      "organizations_url": "https://api.github.com/users/macladson/orgs",
      "repos_url": "https://api.github.com/users/macladson/repos",
      "events_url": "https://api.github.com/users/macladson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/macladson/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 4,
  "created_at": "2022-02-02T09:36:07Z",
  "updated_at": "2022-02-24T04:01:22Z",
  "closed_at": "2022-02-24T04:01:21Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "## Description\r\n\r\nlighthouse vc instance results with\r\n\r\n> Unable to create directory: Os { code: 13, kind: PermissionDenied, message: \"Permission denied\" }\r\n\r\n## Version\r\n\r\n2.1.1 build from source\r\n\r\n## Present Behaviour\r\n\r\nlighthouse vc start and crashed with Permission denied after update was done\r\n\r\n## Expected Behaviour\r\n\r\nthis should start without any errors. Missing more details which folder failed to create.\r\n\r\n## Steps to resolve\r\n\r\nReplace `--validators-dir` and `--secrets-dir` arguments with `--datadir`\r\n",
  "closed_by": {
    "login": "macladson",
    "id": 58379419,
    "node_id": "MDQ6VXNlcjU4Mzc5NDE5",
    "avatar_url": "https://avatars.githubusercontent.com/u/58379419?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/macladson",
    "html_url": "https://github.com/macladson",
    "followers_url": "https://api.github.com/users/macladson/followers",
    "following_url": "https://api.github.com/users/macladson/following{/other_user}",
    "gists_url": "https://api.github.com/users/macladson/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/macladson/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/macladson/subscriptions",
    "organizations_url": "https://api.github.com/users/macladson/orgs",
    "repos_url": "https://api.github.com/users/macladson/repos",
    "events_url": "https://api.github.com/users/macladson/events{/privacy}",
    "received_events_url": "https://api.github.com/users/macladson/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/2990/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/sigp/lighthouse/issues/2990/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/1028419839",
    "html_url": "https://github.com/sigp/lighthouse/issues/2990#issuecomment-1028419839",
    "issue_url": "https://api.github.com/repos/sigp/lighthouse/issues/2990",
    "id": 1028419839,
    "node_id": "IC_kwDOCFeAzc49THD_",
    "user": {
      "login": "skylenet",
      "id": 1500888,
      "node_id": "MDQ6VXNlcjE1MDA4ODg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1500888?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/skylenet",
      "html_url": "https://github.com/skylenet",
      "followers_url": "https://api.github.com/users/skylenet/followers",
      "following_url": "https://api.github.com/users/skylenet/following{/other_user}",
      "gists_url": "https://api.github.com/users/skylenet/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/skylenet/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/skylenet/subscriptions",
      "organizations_url": "https://api.github.com/users/skylenet/orgs",
      "repos_url": "https://api.github.com/users/skylenet/repos",
      "events_url": "https://api.github.com/users/skylenet/events{/privacy}",
      "received_events_url": "https://api.github.com/users/skylenet/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-02-02T22:30:56Z",
    "updated_at": "2022-02-02T22:30:56Z",
    "author_association": "NONE",
    "body": "I'm having the same problem. My lighthouse process is only allowed to write into a `/data`  directory. \r\nSo I had my validators configured with `--validator-dir` and `--secrets-dir` using some sub directories under `/data`.\r\n\r\nI started seeing that error, so I thought that lighthouse is probably trying to create something in the default datadir.\r\nSo I tried to set my `--datadir` to `/data` , but it looks like that the flag is mutual exclusive with the other 2 directory flags. \r\n\r\nSo I had to end up moving the validators to `/data/validators` and the secrets to `/data/secrets` and just use the `--datadir=/data`  as a workaround.",
    "reactions": {
      "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/1028419839/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/1028444732",
    "html_url": "https://github.com/sigp/lighthouse/issues/2990#issuecomment-1028444732",
    "issue_url": "https://api.github.com/repos/sigp/lighthouse/issues/2990",
    "id": 1028444732,
    "node_id": "IC_kwDOCFeAzc49TNI8",
    "user": {
      "login": "michaelsproul",
      "id": 4452260,
      "node_id": "MDQ6VXNlcjQ0NTIyNjA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4452260?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/michaelsproul",
      "html_url": "https://github.com/michaelsproul",
      "followers_url": "https://api.github.com/users/michaelsproul/followers",
      "following_url": "https://api.github.com/users/michaelsproul/following{/other_user}",
      "gists_url": "https://api.github.com/users/michaelsproul/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/michaelsproul/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/michaelsproul/subscriptions",
      "organizations_url": "https://api.github.com/users/michaelsproul/orgs",
      "repos_url": "https://api.github.com/users/michaelsproul/repos",
      "events_url": "https://api.github.com/users/michaelsproul/events{/privacy}",
      "received_events_url": "https://api.github.com/users/michaelsproul/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-02-02T23:12:13Z",
    "updated_at": "2022-02-02T23:12:13Z",
    "author_association": "MEMBER",
    "body": "Ahh, I think know what the story is here.\r\n\r\nSince v2.1.0 Lighthouse will now log in the background by default, to `$datadir/validators/logs`. The logging can be disabled with `--logfile-max-number 0`, or the location can be changed with `--logfile`.",
    "reactions": {
      "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/1028444732/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 1,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/1028966163",
    "html_url": "https://github.com/sigp/lighthouse/issues/2990#issuecomment-1028966163",
    "issue_url": "https://api.github.com/repos/sigp/lighthouse/issues/2990",
    "id": 1028966163,
    "node_id": "IC_kwDOCFeAzc49VMcT",
    "user": {
      "login": "ChuckNorrison",
      "id": 2964146,
      "node_id": "MDQ6VXNlcjI5NjQxNDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2964146?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ChuckNorrison",
      "html_url": "https://github.com/ChuckNorrison",
      "followers_url": "https://api.github.com/users/ChuckNorrison/followers",
      "following_url": "https://api.github.com/users/ChuckNorrison/following{/other_user}",
      "gists_url": "https://api.github.com/users/ChuckNorrison/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ChuckNorrison/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ChuckNorrison/subscriptions",
      "organizations_url": "https://api.github.com/users/ChuckNorrison/orgs",
      "repos_url": "https://api.github.com/users/ChuckNorrison/repos",
      "events_url": "https://api.github.com/users/ChuckNorrison/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ChuckNorrison/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-02-03T13:00:16Z",
    "updated_at": "2022-02-03T13:00:16Z",
    "author_association": "NONE",
    "body": "@michaelsproul thanks for this hint. Add `--logfile` works. \r\n\r\nThe logfile behaviour should respect the `--validators-dir` argument automatically. Seems it tries to write into a non existent datadir. `.lighthouse` per default, which is missing on my instances. \r\n\r\nThanks for your support. I prefer to use only `--datadir` in the future to simplify the setup for me.",
    "reactions": {
      "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/1028966163/reactions",
      "total_count": 3,
      "+1": 3,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/1049471448",
    "html_url": "https://github.com/sigp/lighthouse/issues/2990#issuecomment-1049471448",
    "issue_url": "https://api.github.com/repos/sigp/lighthouse/issues/2990",
    "id": 1049471448,
    "node_id": "IC_kwDOCFeAzc4-janY",
    "user": {
      "login": "macladson",
      "id": 58379419,
      "node_id": "MDQ6VXNlcjU4Mzc5NDE5",
      "avatar_url": "https://avatars.githubusercontent.com/u/58379419?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/macladson",
      "html_url": "https://github.com/macladson",
      "followers_url": "https://api.github.com/users/macladson/followers",
      "following_url": "https://api.github.com/users/macladson/following{/other_user}",
      "gists_url": "https://api.github.com/users/macladson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/macladson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/macladson/subscriptions",
      "organizations_url": "https://api.github.com/users/macladson/orgs",
      "repos_url": "https://api.github.com/users/macladson/repos",
      "events_url": "https://api.github.com/users/macladson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/macladson/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-02-24T04:01:21Z",
    "updated_at": "2022-02-24T04:01:21Z",
    "author_association": "COLLABORATOR",
    "body": "Closed by #3003 ",
    "reactions": {
      "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/1049471448/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
