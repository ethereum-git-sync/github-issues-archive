{
  "url": "https://api.github.com/repos/sigp/lighthouse/issues/4901",
  "repository_url": "https://api.github.com/repos/sigp/lighthouse",
  "labels_url": "https://api.github.com/repos/sigp/lighthouse/issues/4901/labels{/name}",
  "comments_url": "https://api.github.com/repos/sigp/lighthouse/issues/4901/comments",
  "events_url": "https://api.github.com/repos/sigp/lighthouse/issues/4901/events",
  "html_url": "https://github.com/sigp/lighthouse/issues/4901",
  "id": 1975115565,
  "node_id": "I_kwDOCFeAzc51ud8t",
  "number": 4901,
  "title": "`/eth/v1/beacon/blob_sidecars/` return 404 errors instead of empty list for blocks without blob data",
  "user": {
    "login": "wangwzhou",
    "id": 118584093,
    "node_id": "U_kgDOBxFzHQ",
    "avatar_url": "https://avatars.githubusercontent.com/u/118584093?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/wangwzhou",
    "html_url": "https://github.com/wangwzhou",
    "followers_url": "https://api.github.com/users/wangwzhou/followers",
    "following_url": "https://api.github.com/users/wangwzhou/following{/other_user}",
    "gists_url": "https://api.github.com/users/wangwzhou/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/wangwzhou/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/wangwzhou/subscriptions",
    "organizations_url": "https://api.github.com/users/wangwzhou/orgs",
    "repos_url": "https://api.github.com/users/wangwzhou/repos",
    "events_url": "https://api.github.com/users/wangwzhou/events{/privacy}",
    "received_events_url": "https://api.github.com/users/wangwzhou/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 6,
  "created_at": "2023-11-02T22:07:24Z",
  "updated_at": "2023-11-03T01:18:41Z",
  "closed_at": "2023-11-02T22:55:19Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "## Description\r\n\r\nBeacon API endpoint `/eth/v1/beacon/blob_sidecars/` returns 404 `Not Found` errors for blocks without blob data in holesky/mainnet networks. Should it return empty list instead?\r\n\r\n## Version\r\n\r\n```\r\n\"data\": {\r\n    \"version\": \"Lighthouse/v4.5.0-441fc16/x86_64-linux\"\r\n  }\r\n```\r\n\r\n## Present Behaviour\r\n\r\n```\r\ncurl -X 'GET' https://{beacon_url}/eth/v1/beacon/blob_sidecars/head  -H 'accept: application/json'\r\n\r\n{\r\n  \"code\": 404,\r\n  \"message\": \"NOT_FOUND\",\r\n  \"stacktraces\": []\r\n}\r\n\r\n```\r\n\r\n## Expected Behaviour\r\n\r\nShould it return an empty list for blocks without blob data?\r\n\r\n## Steps to resolve\r\n\r\nPlease describe the steps required to resolve this issue, if known.\r\n",
  "closed_by": {
    "login": "michaelsproul",
    "id": 4452260,
    "node_id": "MDQ6VXNlcjQ0NTIyNjA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/4452260?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/michaelsproul",
    "html_url": "https://github.com/michaelsproul",
    "followers_url": "https://api.github.com/users/michaelsproul/followers",
    "following_url": "https://api.github.com/users/michaelsproul/following{/other_user}",
    "gists_url": "https://api.github.com/users/michaelsproul/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/michaelsproul/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/michaelsproul/subscriptions",
    "organizations_url": "https://api.github.com/users/michaelsproul/orgs",
    "repos_url": "https://api.github.com/users/michaelsproul/repos",
    "events_url": "https://api.github.com/users/michaelsproul/events{/privacy}",
    "received_events_url": "https://api.github.com/users/michaelsproul/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/4901/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/sigp/lighthouse/issues/4901/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/1791673083",
    "html_url": "https://github.com/sigp/lighthouse/issues/4901#issuecomment-1791673083",
    "issue_url": "https://api.github.com/repos/sigp/lighthouse/issues/4901",
    "id": 1791673083,
    "node_id": "IC_kwDOCFeAzc5qysL7",
    "user": {
      "login": "michaelsproul",
      "id": 4452260,
      "node_id": "MDQ6VXNlcjQ0NTIyNjA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4452260?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/michaelsproul",
      "html_url": "https://github.com/michaelsproul",
      "followers_url": "https://api.github.com/users/michaelsproul/followers",
      "following_url": "https://api.github.com/users/michaelsproul/following{/other_user}",
      "gists_url": "https://api.github.com/users/michaelsproul/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/michaelsproul/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/michaelsproul/subscriptions",
      "organizations_url": "https://api.github.com/users/michaelsproul/orgs",
      "repos_url": "https://api.github.com/users/michaelsproul/repos",
      "events_url": "https://api.github.com/users/michaelsproul/events{/privacy}",
      "received_events_url": "https://api.github.com/users/michaelsproul/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-11-02T22:52:44Z",
    "updated_at": "2023-11-02T22:52:44Z",
    "author_association": "MEMBER",
    "body": "Lighthouse v4.5.0 does not have that API, which is why you're getting a 404.\r\n\r\nBlocks prior to Deneb _will_ result in an empty list on that endpoint (if you run Lighthouse `unstable` or v4.6.0 once it comes out).\r\n\r\nWill close this issue once I've double-checked that with a test",
    "reactions": {
      "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/1791673083/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/1791675506",
    "html_url": "https://github.com/sigp/lighthouse/issues/4901#issuecomment-1791675506",
    "issue_url": "https://api.github.com/repos/sigp/lighthouse/issues/4901",
    "id": 1791675506,
    "node_id": "IC_kwDOCFeAzc5qysxy",
    "user": {
      "login": "michaelsproul",
      "id": 4452260,
      "node_id": "MDQ6VXNlcjQ0NTIyNjA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4452260?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/michaelsproul",
      "html_url": "https://github.com/michaelsproul",
      "followers_url": "https://api.github.com/users/michaelsproul/followers",
      "following_url": "https://api.github.com/users/michaelsproul/following{/other_user}",
      "gists_url": "https://api.github.com/users/michaelsproul/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/michaelsproul/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/michaelsproul/subscriptions",
      "organizations_url": "https://api.github.com/users/michaelsproul/orgs",
      "repos_url": "https://api.github.com/users/michaelsproul/repos",
      "events_url": "https://api.github.com/users/michaelsproul/events{/privacy}",
      "received_events_url": "https://api.github.com/users/michaelsproul/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-11-02T22:55:19Z",
    "updated_at": "2023-11-02T22:55:19Z",
    "author_association": "MEMBER",
    "body": "On the `tree-states` branch (which includes Deneb changes) on mainnet:\r\n\r\n```\r\n> curl -H \"Accept: application/json\" \"http://localhost:5052/eth/v1/beacon/blob_sidecars/head\"\r\n{\"data\":[]}\r\n> curl -H \"Accept: application/json\" \"http://localhost:5052/eth/v1/node/version\"\r\n{\"data\":{\"version\":\"Lighthouse/v4.5.444-exp-1aca484/x86_64-linux\"}}\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/1791675506/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/1791684726",
    "html_url": "https://github.com/sigp/lighthouse/issues/4901#issuecomment-1791684726",
    "issue_url": "https://api.github.com/repos/sigp/lighthouse/issues/4901",
    "id": 1791684726,
    "node_id": "IC_kwDOCFeAzc5qyvB2",
    "user": {
      "login": "wangwzhou",
      "id": 118584093,
      "node_id": "U_kgDOBxFzHQ",
      "avatar_url": "https://avatars.githubusercontent.com/u/118584093?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/wangwzhou",
      "html_url": "https://github.com/wangwzhou",
      "followers_url": "https://api.github.com/users/wangwzhou/followers",
      "following_url": "https://api.github.com/users/wangwzhou/following{/other_user}",
      "gists_url": "https://api.github.com/users/wangwzhou/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/wangwzhou/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/wangwzhou/subscriptions",
      "organizations_url": "https://api.github.com/users/wangwzhou/orgs",
      "repos_url": "https://api.github.com/users/wangwzhou/repos",
      "events_url": "https://api.github.com/users/wangwzhou/events{/privacy}",
      "received_events_url": "https://api.github.com/users/wangwzhou/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-11-02T23:07:16Z",
    "updated_at": "2023-11-02T23:07:16Z",
    "author_association": "NONE",
    "body": "@michaelsproul Thanks for taking a look. Just curious, any ETA of v4.6.0?",
    "reactions": {
      "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/1791684726/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/1791709082",
    "html_url": "https://github.com/sigp/lighthouse/issues/4901#issuecomment-1791709082",
    "issue_url": "https://api.github.com/repos/sigp/lighthouse/issues/4901",
    "id": 1791709082,
    "node_id": "IC_kwDOCFeAzc5qy0-a",
    "user": {
      "login": "michaelsproul",
      "id": 4452260,
      "node_id": "MDQ6VXNlcjQ0NTIyNjA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4452260?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/michaelsproul",
      "html_url": "https://github.com/michaelsproul",
      "followers_url": "https://api.github.com/users/michaelsproul/followers",
      "following_url": "https://api.github.com/users/michaelsproul/following{/other_user}",
      "gists_url": "https://api.github.com/users/michaelsproul/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/michaelsproul/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/michaelsproul/subscriptions",
      "organizations_url": "https://api.github.com/users/michaelsproul/orgs",
      "repos_url": "https://api.github.com/users/michaelsproul/repos",
      "events_url": "https://api.github.com/users/michaelsproul/events{/privacy}",
      "received_events_url": "https://api.github.com/users/michaelsproul/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-11-02T23:41:36Z",
    "updated_at": "2023-11-02T23:41:36Z",
    "author_association": "MEMBER",
    "body": "> any ETA of v4.6.0?\r\n\r\nProbably after Devconnect at this stage. Early December",
    "reactions": {
      "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/1791709082/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/1791744080",
    "html_url": "https://github.com/sigp/lighthouse/issues/4901#issuecomment-1791744080",
    "issue_url": "https://api.github.com/repos/sigp/lighthouse/issues/4901",
    "id": 1791744080,
    "node_id": "IC_kwDOCFeAzc5qy9hQ",
    "user": {
      "login": "wangwzhou",
      "id": 118584093,
      "node_id": "U_kgDOBxFzHQ",
      "avatar_url": "https://avatars.githubusercontent.com/u/118584093?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/wangwzhou",
      "html_url": "https://github.com/wangwzhou",
      "followers_url": "https://api.github.com/users/wangwzhou/followers",
      "following_url": "https://api.github.com/users/wangwzhou/following{/other_user}",
      "gists_url": "https://api.github.com/users/wangwzhou/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/wangwzhou/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/wangwzhou/subscriptions",
      "organizations_url": "https://api.github.com/users/wangwzhou/orgs",
      "repos_url": "https://api.github.com/users/wangwzhou/repos",
      "events_url": "https://api.github.com/users/wangwzhou/events{/privacy}",
      "received_events_url": "https://api.github.com/users/wangwzhou/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-11-03T00:34:16Z",
    "updated_at": "2023-11-03T00:34:16Z",
    "author_association": "NONE",
    "body": "> Probably after Devconnect at this stage. Early December\r\n\r\nI assume that the upgrade for public testnets will be planned after this newer version v4.6.0?",
    "reactions": {
      "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/1791744080/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/1791770810",
    "html_url": "https://github.com/sigp/lighthouse/issues/4901#issuecomment-1791770810",
    "issue_url": "https://api.github.com/repos/sigp/lighthouse/issues/4901",
    "id": 1791770810,
    "node_id": "IC_kwDOCFeAzc5qzEC6",
    "user": {
      "login": "michaelsproul",
      "id": 4452260,
      "node_id": "MDQ6VXNlcjQ0NTIyNjA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4452260?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/michaelsproul",
      "html_url": "https://github.com/michaelsproul",
      "followers_url": "https://api.github.com/users/michaelsproul/followers",
      "following_url": "https://api.github.com/users/michaelsproul/following{/other_user}",
      "gists_url": "https://api.github.com/users/michaelsproul/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/michaelsproul/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/michaelsproul/subscriptions",
      "organizations_url": "https://api.github.com/users/michaelsproul/orgs",
      "repos_url": "https://api.github.com/users/michaelsproul/repos",
      "events_url": "https://api.github.com/users/michaelsproul/events{/privacy}",
      "received_events_url": "https://api.github.com/users/michaelsproul/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-11-03T01:18:41Z",
    "updated_at": "2023-11-03T01:18:41Z",
    "author_association": "MEMBER",
    "body": "> I assume that the upgrade for public testnets will be planned after this newer version v4.6.0?\r\n\r\nYeah. The spec is undergoing a major change at the moment, so it will be at least a few months before we deploy Deneb on a public testnet.",
    "reactions": {
      "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/1791770810/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
