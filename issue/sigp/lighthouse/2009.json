{
  "url": "https://api.github.com/repos/sigp/lighthouse/issues/2009",
  "repository_url": "https://api.github.com/repos/sigp/lighthouse",
  "labels_url": "https://api.github.com/repos/sigp/lighthouse/issues/2009/labels{/name}",
  "comments_url": "https://api.github.com/repos/sigp/lighthouse/issues/2009/comments",
  "events_url": "https://api.github.com/repos/sigp/lighthouse/issues/2009/events",
  "html_url": "https://github.com/sigp/lighthouse/issues/2009",
  "id": 752904717,
  "node_id": "MDU6SXNzdWU3NTI5MDQ3MTc=",
  "number": 2009,
  "title": "UPnP error with v1.0.2",
  "user": {
    "login": "JustinDrake",
    "id": 731743,
    "node_id": "MDQ6VXNlcjczMTc0Mw==",
    "avatar_url": "https://avatars.githubusercontent.com/u/731743?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/JustinDrake",
    "html_url": "https://github.com/JustinDrake",
    "followers_url": "https://api.github.com/users/JustinDrake/followers",
    "following_url": "https://api.github.com/users/JustinDrake/following{/other_user}",
    "gists_url": "https://api.github.com/users/JustinDrake/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/JustinDrake/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/JustinDrake/subscriptions",
    "organizations_url": "https://api.github.com/users/JustinDrake/orgs",
    "repos_url": "https://api.github.com/users/JustinDrake/repos",
    "events_url": "https://api.github.com/users/JustinDrake/events{/privacy}",
    "received_events_url": "https://api.github.com/users/JustinDrake/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 8,
  "created_at": "2020-11-29T12:22:35Z",
  "updated_at": "2022-10-20T04:56:07Z",
  "closed_at": "2020-11-30T10:50:36Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "## Description\r\n\r\n```\r\nNov 29 12:20:20.699 INFO UPnP not available                      error: IO error: Resource temporarily unavailable (os error 35), service: UPnP\r\n```\r\n\r\nI believe this is the first time I see this error message.\r\n\r\n## Version\r\n\r\nv1.0.2",
  "closed_by": {
    "login": "AgeManning",
    "id": 7454587,
    "node_id": "MDQ6VXNlcjc0NTQ1ODc=",
    "avatar_url": "https://avatars.githubusercontent.com/u/7454587?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/AgeManning",
    "html_url": "https://github.com/AgeManning",
    "followers_url": "https://api.github.com/users/AgeManning/followers",
    "following_url": "https://api.github.com/users/AgeManning/following{/other_user}",
    "gists_url": "https://api.github.com/users/AgeManning/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/AgeManning/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/AgeManning/subscriptions",
    "organizations_url": "https://api.github.com/users/AgeManning/orgs",
    "repos_url": "https://api.github.com/users/AgeManning/repos",
    "events_url": "https://api.github.com/users/AgeManning/events{/privacy}",
    "received_events_url": "https://api.github.com/users/AgeManning/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/2009/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/sigp/lighthouse/issues/2009/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/735426929",
    "html_url": "https://github.com/sigp/lighthouse/issues/2009#issuecomment-735426929",
    "issue_url": "https://api.github.com/repos/sigp/lighthouse/issues/2009",
    "id": 735426929,
    "node_id": "MDEyOklzc3VlQ29tbWVudDczNTQyNjkyOQ==",
    "user": {
      "login": "zeb0x",
      "id": 14947864,
      "node_id": "MDQ6VXNlcjE0OTQ3ODY0",
      "avatar_url": "https://avatars.githubusercontent.com/u/14947864?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/zeb0x",
      "html_url": "https://github.com/zeb0x",
      "followers_url": "https://api.github.com/users/zeb0x/followers",
      "following_url": "https://api.github.com/users/zeb0x/following{/other_user}",
      "gists_url": "https://api.github.com/users/zeb0x/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/zeb0x/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/zeb0x/subscriptions",
      "organizations_url": "https://api.github.com/users/zeb0x/orgs",
      "repos_url": "https://api.github.com/users/zeb0x/repos",
      "events_url": "https://api.github.com/users/zeb0x/events{/privacy}",
      "received_events_url": "https://api.github.com/users/zeb0x/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-11-29T17:20:39Z",
    "updated_at": "2020-11-29T17:20:39Z",
    "author_association": "NONE",
    "body": "I saw this as well",
    "reactions": {
      "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/735426929/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/735489891",
    "html_url": "https://github.com/sigp/lighthouse/issues/2009#issuecomment-735489891",
    "issue_url": "https://api.github.com/repos/sigp/lighthouse/issues/2009",
    "id": 735489891,
    "node_id": "MDEyOklzc3VlQ29tbWVudDczNTQ4OTg5MQ==",
    "user": {
      "login": "AgeManning",
      "id": 7454587,
      "node_id": "MDQ6VXNlcjc0NTQ1ODc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7454587?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/AgeManning",
      "html_url": "https://github.com/AgeManning",
      "followers_url": "https://api.github.com/users/AgeManning/followers",
      "following_url": "https://api.github.com/users/AgeManning/following{/other_user}",
      "gists_url": "https://api.github.com/users/AgeManning/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/AgeManning/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/AgeManning/subscriptions",
      "organizations_url": "https://api.github.com/users/AgeManning/orgs",
      "repos_url": "https://api.github.com/users/AgeManning/repos",
      "events_url": "https://api.github.com/users/AgeManning/events{/privacy}",
      "received_events_url": "https://api.github.com/users/AgeManning/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-11-30T00:55:52Z",
    "updated_at": "2020-11-30T00:55:52Z",
    "author_association": "MEMBER",
    "body": "This is fine. \r\n\r\nPotentially I should downgrade the log so the user doesn't see this. I made it an info as it's instructive to see if Lighthouse managed to automatically set up routes for you or not. \r\n\r\nThis error indicates that your router does not support UPnP or doesn't have it enabled. Or doesn't support the protocol we use to configure UPnP ports (https://en.wikipedia.org/wiki/Internet_Gateway_Device_Protocol)",
    "reactions": {
      "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/735489891/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/1264721532",
    "html_url": "https://github.com/sigp/lighthouse/issues/2009#issuecomment-1264721532",
    "issue_url": "https://api.github.com/repos/sigp/lighthouse/issues/2009",
    "id": 1264721532,
    "node_id": "IC_kwDOCFeAzc5LYh58",
    "user": {
      "login": "ph03",
      "id": 390527,
      "node_id": "MDQ6VXNlcjM5MDUyNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/390527?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ph03",
      "html_url": "https://github.com/ph03",
      "followers_url": "https://api.github.com/users/ph03/followers",
      "following_url": "https://api.github.com/users/ph03/following{/other_user}",
      "gists_url": "https://api.github.com/users/ph03/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ph03/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ph03/subscriptions",
      "organizations_url": "https://api.github.com/users/ph03/orgs",
      "repos_url": "https://api.github.com/users/ph03/repos",
      "events_url": "https://api.github.com/users/ph03/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ph03/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-10-02T20:01:47Z",
    "updated_at": "2022-10-02T20:01:47Z",
    "author_association": "NONE",
    "body": "What about \r\n\r\n```\r\nINFO UPnP not available                      error: IO error: Resource temporarily unavailable (os error 11), service: UPnP\r\n```\r\n\r\ngiven that error 11 should be EAGAIN, will setting up UPnP be retried in this case?",
    "reactions": {
      "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/1264721532/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/1266056943",
    "html_url": "https://github.com/sigp/lighthouse/issues/2009#issuecomment-1266056943",
    "issue_url": "https://api.github.com/repos/sigp/lighthouse/issues/2009",
    "id": 1266056943,
    "node_id": "IC_kwDOCFeAzc5Ldn7v",
    "user": {
      "login": "AgeManning",
      "id": 7454587,
      "node_id": "MDQ6VXNlcjc0NTQ1ODc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7454587?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/AgeManning",
      "html_url": "https://github.com/AgeManning",
      "followers_url": "https://api.github.com/users/AgeManning/followers",
      "following_url": "https://api.github.com/users/AgeManning/following{/other_user}",
      "gists_url": "https://api.github.com/users/AgeManning/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/AgeManning/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/AgeManning/subscriptions",
      "organizations_url": "https://api.github.com/users/AgeManning/orgs",
      "repos_url": "https://api.github.com/users/AgeManning/repos",
      "events_url": "https://api.github.com/users/AgeManning/events{/privacy}",
      "received_events_url": "https://api.github.com/users/AgeManning/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-10-03T21:14:54Z",
    "updated_at": "2022-10-03T21:14:54Z",
    "author_association": "MEMBER",
    "body": "No we don't try again. \r\nI'm not sure about the OS errors returned from the library in this case. I can't think of a common reason why a router would not respond to UPnP requests if it is ready and accepts it. I would imagine these 11 errors to be recurring, or very unlikely. Not sure if its worth building the machinery to retry 5 times to get the same result.\r\nDo you see this error on restart continuously? ",
    "reactions": {
      "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/1266056943/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/1266436216",
    "html_url": "https://github.com/sigp/lighthouse/issues/2009#issuecomment-1266436216",
    "issue_url": "https://api.github.com/repos/sigp/lighthouse/issues/2009",
    "id": 1266436216,
    "node_id": "IC_kwDOCFeAzc5LfEh4",
    "user": {
      "login": "ph03",
      "id": 390527,
      "node_id": "MDQ6VXNlcjM5MDUyNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/390527?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ph03",
      "html_url": "https://github.com/ph03",
      "followers_url": "https://api.github.com/users/ph03/followers",
      "following_url": "https://api.github.com/users/ph03/following{/other_user}",
      "gists_url": "https://api.github.com/users/ph03/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ph03/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ph03/subscriptions",
      "organizations_url": "https://api.github.com/users/ph03/orgs",
      "repos_url": "https://api.github.com/users/ph03/repos",
      "events_url": "https://api.github.com/users/ph03/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ph03/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-10-04T06:04:31Z",
    "updated_at": "2022-10-04T06:04:31Z",
    "author_association": "NONE",
    "body": ">  Do you see this error on restart continuously?\r\n\r\nYes, it's persistent for every start of lighthouse - also, I'm not sure if the UPnP requests ever get executed thereafter - how could I check (so there is likely no re-try performed thereafter?). FWIW, I have configured my router to accept UPnP requests.",
    "reactions": {
      "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/1266436216/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/1267746931",
    "html_url": "https://github.com/sigp/lighthouse/issues/2009#issuecomment-1267746931",
    "issue_url": "https://api.github.com/repos/sigp/lighthouse/issues/2009",
    "id": 1267746931,
    "node_id": "IC_kwDOCFeAzc5LkEhz",
    "user": {
      "login": "AgeManning",
      "id": 7454587,
      "node_id": "MDQ6VXNlcjc0NTQ1ODc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7454587?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/AgeManning",
      "html_url": "https://github.com/AgeManning",
      "followers_url": "https://api.github.com/users/AgeManning/followers",
      "following_url": "https://api.github.com/users/AgeManning/following{/other_user}",
      "gists_url": "https://api.github.com/users/AgeManning/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/AgeManning/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/AgeManning/subscriptions",
      "organizations_url": "https://api.github.com/users/AgeManning/orgs",
      "repos_url": "https://api.github.com/users/AgeManning/repos",
      "events_url": "https://api.github.com/users/AgeManning/events{/privacy}",
      "received_events_url": "https://api.github.com/users/AgeManning/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-10-05T00:04:24Z",
    "updated_at": "2022-10-05T00:04:24Z",
    "author_association": "MEMBER",
    "body": "Yeah. The UPnP library I have found to be quite flakey. A bunch of routers don't respond the way the library expects. UPnP is really kind of a fallback to try and get some open ports when people are not configuring it themselves. If it fails, it will not try again, to avoid opening too many ports all over the place.\r\n\r\nIt sounds like this library doesn't support your router. You really should be manually port forwarding, if you are running a node for an extended period of time.\r\n\r\nWe are working on a custom automatic NAT hole-punching technique to by-pass router firewalls, but its probably still a few months off.",
    "reactions": {
      "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/1267746931/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/1268047183",
    "html_url": "https://github.com/sigp/lighthouse/issues/2009#issuecomment-1268047183",
    "issue_url": "https://api.github.com/repos/sigp/lighthouse/issues/2009",
    "id": 1268047183,
    "node_id": "IC_kwDOCFeAzc5LlN1P",
    "user": {
      "login": "ph03",
      "id": 390527,
      "node_id": "MDQ6VXNlcjM5MDUyNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/390527?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ph03",
      "html_url": "https://github.com/ph03",
      "followers_url": "https://api.github.com/users/ph03/followers",
      "following_url": "https://api.github.com/users/ph03/following{/other_user}",
      "gists_url": "https://api.github.com/users/ph03/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ph03/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ph03/subscriptions",
      "organizations_url": "https://api.github.com/users/ph03/orgs",
      "repos_url": "https://api.github.com/users/ph03/repos",
      "events_url": "https://api.github.com/users/ph03/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ph03/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-10-05T07:19:30Z",
    "updated_at": "2022-10-05T07:19:30Z",
    "author_association": "NONE",
    "body": "Great, thanks! I'm already forwarding the ports manually and using `--disable-upnp` for now.\r\n\r\n> We are working on a custom automatic NAT hole-punching technique to by-pass router firewalls, but its probably still a few months off.\r\n\r\nCould you update this issue / share the tracking issue on this one? I could help test it on my setup",
    "reactions": {
      "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/1268047183/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/1284923650",
    "html_url": "https://github.com/sigp/lighthouse/issues/2009#issuecomment-1284923650",
    "issue_url": "https://api.github.com/repos/sigp/lighthouse/issues/2009",
    "id": 1284923650,
    "node_id": "IC_kwDOCFeAzc5MlmEC",
    "user": {
      "login": "AgeManning",
      "id": 7454587,
      "node_id": "MDQ6VXNlcjc0NTQ1ODc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7454587?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/AgeManning",
      "html_url": "https://github.com/AgeManning",
      "followers_url": "https://api.github.com/users/AgeManning/followers",
      "following_url": "https://api.github.com/users/AgeManning/following{/other_user}",
      "gists_url": "https://api.github.com/users/AgeManning/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/AgeManning/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/AgeManning/subscriptions",
      "organizations_url": "https://api.github.com/users/AgeManning/orgs",
      "repos_url": "https://api.github.com/users/AgeManning/repos",
      "events_url": "https://api.github.com/users/AgeManning/events{/privacy}",
      "received_events_url": "https://api.github.com/users/AgeManning/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-10-20T04:56:07Z",
    "updated_at": "2022-10-20T04:56:07Z",
    "author_association": "MEMBER",
    "body": "Sure. \r\n\r\nThe first step is an automatic hole-punching technique in our discovery protocol (discv5). The current associated PR is here: https://github.com/sigp/discv5/pull/134\r\n\r\nWe then need to either invent a new technique or leverage libp2p methods to handle hole punching of discovered nodes across TCP.",
    "reactions": {
      "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/1284923650/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
