{
  "url": "https://api.github.com/repos/sigp/lighthouse/issues/1202",
  "repository_url": "https://api.github.com/repos/sigp/lighthouse",
  "labels_url": "https://api.github.com/repos/sigp/lighthouse/issues/1202/labels{/name}",
  "comments_url": "https://api.github.com/repos/sigp/lighthouse/issues/1202/comments",
  "events_url": "https://api.github.com/repos/sigp/lighthouse/issues/1202/events",
  "html_url": "https://github.com/sigp/lighthouse/issues/1202",
  "id": 625061521,
  "node_id": "MDU6SXNzdWU2MjUwNjE1MjE=",
  "number": 1202,
  "title": "Guidance for alternate Eth1.x clients",
  "user": {
    "login": "wschwab",
    "id": 31592931,
    "node_id": "MDQ6VXNlcjMxNTkyOTMx",
    "avatar_url": "https://avatars.githubusercontent.com/u/31592931?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/wschwab",
    "html_url": "https://github.com/wschwab",
    "followers_url": "https://api.github.com/users/wschwab/followers",
    "following_url": "https://api.github.com/users/wschwab/following{/other_user}",
    "gists_url": "https://api.github.com/users/wschwab/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/wschwab/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/wschwab/subscriptions",
    "organizations_url": "https://api.github.com/users/wschwab/orgs",
    "repos_url": "https://api.github.com/users/wschwab/repos",
    "events_url": "https://api.github.com/users/wschwab/events{/privacy}",
    "received_events_url": "https://api.github.com/users/wschwab/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 1803692313,
      "node_id": "MDU6TGFiZWwxODAzNjkyMzEz",
      "url": "https://api.github.com/repos/sigp/lighthouse/labels/docs",
      "name": "docs",
      "color": "b8ffaa",
      "default": false,
      "description": "Documentation"
    },
    {
      "id": 2490303709,
      "node_id": "MDU6TGFiZWwyNDkwMzAzNzA5",
      "url": "https://api.github.com/repos/sigp/lighthouse/labels/A0",
      "name": "A0",
      "color": "bc3e3a",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 3,
  "created_at": "2020-05-26T17:39:09Z",
  "updated_at": "2022-11-09T05:00:52Z",
  "closed_at": "2022-06-12T12:41:09Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "## Description\r\n\r\nIn order to participate in running the more popular Eth2 testnets, Lighthouse must connect to a Goerli node. While Geth already can be used to run this node, it would seem that Nethermind (and potentially others) cannot.\r\n\r\nThis is a request for guidance on what requirements exist for connecting an Eth1.x node with Lighthouse.\r\n\r\n## Steps to resolve\r\n\r\nI would guess at two possibilities for resolution, though there are likely more:\r\n\r\n1. A specification of what data Lighthouse needs from the Goerli node, including how the data is to be formatted\r\n2. Client-specific issues that would need to be remedied (I suspect that websockets is what is preventing Nethermind from working, for example.)\r\n\r\nThanks! Keep up the great work!\r\n",
  "closed_by": {
    "login": "wschwab",
    "id": 31592931,
    "node_id": "MDQ6VXNlcjMxNTkyOTMx",
    "avatar_url": "https://avatars.githubusercontent.com/u/31592931?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/wschwab",
    "html_url": "https://github.com/wschwab",
    "followers_url": "https://api.github.com/users/wschwab/followers",
    "following_url": "https://api.github.com/users/wschwab/following{/other_user}",
    "gists_url": "https://api.github.com/users/wschwab/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/wschwab/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/wschwab/subscriptions",
    "organizations_url": "https://api.github.com/users/wschwab/orgs",
    "repos_url": "https://api.github.com/users/wschwab/repos",
    "events_url": "https://api.github.com/users/wschwab/events{/privacy}",
    "received_events_url": "https://api.github.com/users/wschwab/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/1202/reactions",
    "total_count": 1,
    "+1": 1,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/sigp/lighthouse/issues/1202/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/634522927",
    "html_url": "https://github.com/sigp/lighthouse/issues/1202#issuecomment-634522927",
    "issue_url": "https://api.github.com/repos/sigp/lighthouse/issues/1202",
    "id": 634522927,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYzNDUyMjkyNw==",
    "user": {
      "login": "pawanjay176",
      "id": 9890508,
      "node_id": "MDQ6VXNlcjk4OTA1MDg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9890508?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pawanjay176",
      "html_url": "https://github.com/pawanjay176",
      "followers_url": "https://api.github.com/users/pawanjay176/followers",
      "following_url": "https://api.github.com/users/pawanjay176/following{/other_user}",
      "gists_url": "https://api.github.com/users/pawanjay176/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pawanjay176/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pawanjay176/subscriptions",
      "organizations_url": "https://api.github.com/users/pawanjay176/orgs",
      "repos_url": "https://api.github.com/users/pawanjay176/repos",
      "events_url": "https://api.github.com/users/pawanjay176/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pawanjay176/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-05-27T08:51:49Z",
    "updated_at": "2020-05-27T11:11:10Z",
    "author_association": "MEMBER",
    "body": "Hey @wschwab , \r\nThe issue with Nethermind seems to be https://github.com/NethermindEth/nethermind/issues/1958 \r\nYou can fix it by creating a `plugins` folder so that the json rpc methods work as expected or wait for the patch to get merged :)\r\n\r\nI'll try to list down the requirements from an eth1 node for Lighthouse.\r\n\r\nWe need a fast synced node (or its equivalent) at the minimum.\r\nWe currently use the HTTP JSON RPC api for querying an eth1 node as specified in https://github.com/ethereum/wiki/wiki/JSON-RPC. \r\nNote that we don't require the `ws` endpoint, just `http` would suffice.\r\n\r\nThe json rpc methods that we currently hit are `eth_blockNumber`, `eth_getBlockByNumber`, `eth_call`, `eth_getLogs`.\r\n\r\nI have tested against geth and nethermind(with the patch) and they work fine. Will test against other clients and update here :)\r\n\r\nEdit: Open ethereum node works too",
    "reactions": {
      "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/634522927/reactions",
      "total_count": 3,
      "+1": 2,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 1,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/636660398",
    "html_url": "https://github.com/sigp/lighthouse/issues/1202#issuecomment-636660398",
    "issue_url": "https://api.github.com/repos/sigp/lighthouse/issues/1202",
    "id": 636660398,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYzNjY2MDM5OA==",
    "user": {
      "login": "wschwab",
      "id": 31592931,
      "node_id": "MDQ6VXNlcjMxNTkyOTMx",
      "avatar_url": "https://avatars.githubusercontent.com/u/31592931?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/wschwab",
      "html_url": "https://github.com/wschwab",
      "followers_url": "https://api.github.com/users/wschwab/followers",
      "following_url": "https://api.github.com/users/wschwab/following{/other_user}",
      "gists_url": "https://api.github.com/users/wschwab/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/wschwab/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/wschwab/subscriptions",
      "organizations_url": "https://api.github.com/users/wschwab/orgs",
      "repos_url": "https://api.github.com/users/wschwab/repos",
      "events_url": "https://api.github.com/users/wschwab/events{/privacy}",
      "received_events_url": "https://api.github.com/users/wschwab/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-06-01T07:20:51Z",
    "updated_at": "2020-06-01T07:20:51Z",
    "author_association": "NONE",
    "body": "Hmm... Nethermind seems to have a problem with `eth_blocknumber`:\r\n```\r\nERRO Failed to update eth1 cache             error: Failed to update eth1 cache: GetBlockNumberFailed(\"Eth1 node returned error: {\\\"code\\\":-32601,\\\"message\\\":\\\"Method eth_blocknumber is not supported\\\"}\"), retry_millis: 7000, service: eth1_rpc\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/636660398/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/739449676",
    "html_url": "https://github.com/sigp/lighthouse/issues/1202#issuecomment-739449676",
    "issue_url": "https://api.github.com/repos/sigp/lighthouse/issues/1202",
    "id": 739449676,
    "node_id": "MDEyOklzc3VlQ29tbWVudDczOTQ0OTY3Ng==",
    "user": {
      "login": "mightypenguin",
      "id": 1100099,
      "node_id": "MDQ6VXNlcjExMDAwOTk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1100099?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mightypenguin",
      "html_url": "https://github.com/mightypenguin",
      "followers_url": "https://api.github.com/users/mightypenguin/followers",
      "following_url": "https://api.github.com/users/mightypenguin/following{/other_user}",
      "gists_url": "https://api.github.com/users/mightypenguin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mightypenguin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mightypenguin/subscriptions",
      "organizations_url": "https://api.github.com/users/mightypenguin/orgs",
      "repos_url": "https://api.github.com/users/mightypenguin/repos",
      "events_url": "https://api.github.com/users/mightypenguin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mightypenguin/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-12-06T03:36:24Z",
    "updated_at": "2020-12-06T03:36:24Z",
    "author_association": "NONE",
    "body": "Starting Nethermind with these flags may help.\r\nThe on disk size will keep getting bigger over time but this should work for awhile (until your disk fills up)\r\n--Sync.AncientBodiesBarrier 11052983\r\n--Sync.AncientReceiptsBarrier 11052983\r\n\r\nBy default Nethermind prunes old blocks and I believe some of these blocks may actually be needed...\r\nOne of those (Receipts or Bodies) may not actually be needed by LIghthouse.....\r\nSo If we could remove that flag then less disk space would be needed.\r\n\r\nI believe this should fix issues with Teku as well.",
    "reactions": {
      "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/739449676/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
