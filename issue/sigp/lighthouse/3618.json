{
  "url": "https://api.github.com/repos/sigp/lighthouse/issues/3618",
  "repository_url": "https://api.github.com/repos/sigp/lighthouse",
  "labels_url": "https://api.github.com/repos/sigp/lighthouse/issues/3618/labels{/name}",
  "comments_url": "https://api.github.com/repos/sigp/lighthouse/issues/3618/comments",
  "events_url": "https://api.github.com/repos/sigp/lighthouse/issues/3618/events",
  "html_url": "https://github.com/sigp/lighthouse/issues/3618",
  "id": 1388289448,
  "node_id": "I_kwDOCFeAzc5Sv52o",
  "number": 3618,
  "title": "Excessive logging",
  "user": {
    "login": "rcketscientist",
    "id": 4026030,
    "node_id": "MDQ6VXNlcjQwMjYwMzA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/4026030?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/rcketscientist",
    "html_url": "https://github.com/rcketscientist",
    "followers_url": "https://api.github.com/users/rcketscientist/followers",
    "following_url": "https://api.github.com/users/rcketscientist/following{/other_user}",
    "gists_url": "https://api.github.com/users/rcketscientist/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/rcketscientist/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/rcketscientist/subscriptions",
    "organizations_url": "https://api.github.com/users/rcketscientist/orgs",
    "repos_url": "https://api.github.com/users/rcketscientist/repos",
    "events_url": "https://api.github.com/users/rcketscientist/events{/privacy}",
    "received_events_url": "https://api.github.com/users/rcketscientist/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 985647288,
      "node_id": "MDU6TGFiZWw5ODU2NDcyODg=",
      "url": "https://api.github.com/repos/sigp/lighthouse/labels/question",
      "name": "question",
      "color": "d876e3",
      "default": true,
      "description": "Further information is requested"
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2022-09-27T19:57:35Z",
  "updated_at": "2022-09-29T03:59:59Z",
  "closed_at": "2022-09-29T03:59:58Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "## Description\r\n\r\nI'm currently burning through almost 200MB of logs daily, mostly:\r\n\r\nDEBG Failed incoming connection, error: Connection error: Connection limit: 72/72., from: /ip4/x.x.x.x/tcp/13000, our_addr: /ip4/x.x.x.x/tcp/9000, service: libp2p, module: lighthouse_network::service:350\r\n\r\nIs this expected?\r\n\r\n## Version\r\n\r\nlatest docker\r\n\r\n## Expected Behaviour\r\n\r\nNot burning through storage?\r\n\r\n## Steps to resolve\r\n\r\nPlease describe the steps required to resolve this issue, if known.\r\n",
  "closed_by": {
    "login": "AgeManning",
    "id": 7454587,
    "node_id": "MDQ6VXNlcjc0NTQ1ODc=",
    "avatar_url": "https://avatars.githubusercontent.com/u/7454587?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/AgeManning",
    "html_url": "https://github.com/AgeManning",
    "followers_url": "https://api.github.com/users/AgeManning/followers",
    "following_url": "https://api.github.com/users/AgeManning/following{/other_user}",
    "gists_url": "https://api.github.com/users/AgeManning/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/AgeManning/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/AgeManning/subscriptions",
    "organizations_url": "https://api.github.com/users/AgeManning/orgs",
    "repos_url": "https://api.github.com/users/AgeManning/repos",
    "events_url": "https://api.github.com/users/AgeManning/events{/privacy}",
    "received_events_url": "https://api.github.com/users/AgeManning/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/3618/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/sigp/lighthouse/issues/3618/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/1260081489",
    "html_url": "https://github.com/sigp/lighthouse/issues/3618#issuecomment-1260081489",
    "issue_url": "https://api.github.com/repos/sigp/lighthouse/issues/3618",
    "id": 1260081489,
    "node_id": "IC_kwDOCFeAzc5LG1FR",
    "user": {
      "login": "pawanjay176",
      "id": 9890508,
      "node_id": "MDQ6VXNlcjk4OTA1MDg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9890508?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pawanjay176",
      "html_url": "https://github.com/pawanjay176",
      "followers_url": "https://api.github.com/users/pawanjay176/followers",
      "following_url": "https://api.github.com/users/pawanjay176/following{/other_user}",
      "gists_url": "https://api.github.com/users/pawanjay176/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pawanjay176/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pawanjay176/subscriptions",
      "organizations_url": "https://api.github.com/users/pawanjay176/orgs",
      "repos_url": "https://api.github.com/users/pawanjay176/repos",
      "events_url": "https://api.github.com/users/pawanjay176/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pawanjay176/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-09-27T21:37:42Z",
    "updated_at": "2022-09-27T21:37:42Z",
    "author_association": "MEMBER",
    "body": "The log is fairly common. The latest version of libp2p should hopefully reduce the occurrence of this particular log.\r\nIf you don't want to store that many logs, you can use non-default values for the following flags. This can also be found with `lighthouse bn --help | less`\r\n\r\n```\r\n        --logfile <FILE>\r\n            File path where the log file will be stored. Once it grows to the value specified in `--logfile-max-size` a\r\n            new log file is generated where future logs are stored. Once the number of log files exceeds the value\r\n            specified in `--logfile-max-number` the oldest log file will be overwritten.\r\n        --logfile-debug-level <LEVEL>\r\n            The verbosity level used when emitting logs to the log file. [default: debug]  [possible values: info,\r\n            debug, trace, warn, error, crit]\r\n        --logfile-max-number <COUNT>\r\n            The maximum number of log files that will be stored. If set to 0, background file logging is disabled.\r\n            [default: 5]\r\n        --logfile-max-size <SIZE>\r\n            The maximum size (in MB) each log file can grow to before rotating. If set to 0, background file logging is\r\n            disabled. [default: 200]\r\n\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/1260081489/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/1261723827",
    "html_url": "https://github.com/sigp/lighthouse/issues/3618#issuecomment-1261723827",
    "issue_url": "https://api.github.com/repos/sigp/lighthouse/issues/3618",
    "id": 1261723827,
    "node_id": "IC_kwDOCFeAzc5LNGCz",
    "user": {
      "login": "AgeManning",
      "id": 7454587,
      "node_id": "MDQ6VXNlcjc0NTQ1ODc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7454587?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/AgeManning",
      "html_url": "https://github.com/AgeManning",
      "followers_url": "https://api.github.com/users/AgeManning/followers",
      "following_url": "https://api.github.com/users/AgeManning/following{/other_user}",
      "gists_url": "https://api.github.com/users/AgeManning/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/AgeManning/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/AgeManning/subscriptions",
      "organizations_url": "https://api.github.com/users/AgeManning/orgs",
      "repos_url": "https://api.github.com/users/AgeManning/repos",
      "events_url": "https://api.github.com/users/AgeManning/events{/privacy}",
      "received_events_url": "https://api.github.com/users/AgeManning/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-09-29T03:59:58Z",
    "updated_at": "2022-09-29T03:59:58Z",
    "author_association": "MEMBER",
    "body": "Yeah, that log is saying others are trying to connect to you but you already have too many peers. \r\n\r\nThere's a lot of nodes out there and this log is useful to help identify if you are under a DOS attack or not. I think limiting the log file size as @pawanjay176 has suggested is the best solution for the time being.",
    "reactions": {
      "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/1261723827/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
