{
  "url": "https://api.github.com/repos/sigp/lighthouse/issues/3922",
  "repository_url": "https://api.github.com/repos/sigp/lighthouse",
  "labels_url": "https://api.github.com/repos/sigp/lighthouse/issues/3922/labels{/name}",
  "comments_url": "https://api.github.com/repos/sigp/lighthouse/issues/3922/comments",
  "events_url": "https://api.github.com/repos/sigp/lighthouse/issues/3922/events",
  "html_url": "https://github.com/sigp/lighthouse/issues/3922",
  "id": 1559568485,
  "node_id": "I_kwDOCFeAzc5c9SBl",
  "number": 3922,
  "title": "Blob transaction decoding",
  "user": {
    "login": "realbigsean",
    "id": 5160426,
    "node_id": "MDQ6VXNlcjUxNjA0MjY=",
    "avatar_url": "https://avatars.githubusercontent.com/u/5160426?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/realbigsean",
    "html_url": "https://github.com/realbigsean",
    "followers_url": "https://api.github.com/users/realbigsean/followers",
    "following_url": "https://api.github.com/users/realbigsean/following{/other_user}",
    "gists_url": "https://api.github.com/users/realbigsean/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/realbigsean/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/realbigsean/subscriptions",
    "organizations_url": "https://api.github.com/users/realbigsean/orgs",
    "repos_url": "https://api.github.com/users/realbigsean/repos",
    "events_url": "https://api.github.com/users/realbigsean/events{/privacy}",
    "received_events_url": "https://api.github.com/users/realbigsean/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 4615284981,
      "node_id": "LA_kwDOCFeAzc8AAAABExeo9Q",
      "url": "https://api.github.com/repos/sigp/lighthouse/labels/deneb",
      "name": "deneb",
      "color": "B7BBEC",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2023-01-27T11:06:31Z",
  "updated_at": "2023-02-16T13:53:38Z",
  "closed_at": "2023-02-16T13:53:37Z",
  "author_association": "COLLABORATOR",
  "active_lock_reason": null,
  "body": "## Description\r\n\r\n[This pr](https://github.com/sigp/lighthouse/pull/3920) disables a defensive check we do on transaction roots. This check is currently broken because we use `ethers-rs` and there isn't yet blob support, [this](https://github.com/gakonst/ethers-rs/issues/1742) is the open issue. We may need add SSZ implementations for 48 byte arrays in the `ssz` crate itself to help ethers-rs support this because this tx type uses SSZ, but we only support certain shorter size arrays in our crate, having custom szz implementations on required types outside the crate like `KzgCommitment` (thanks @Inphi for checking this out). \r\n\r\n",
  "closed_by": {
    "login": "realbigsean",
    "id": 5160426,
    "node_id": "MDQ6VXNlcjUxNjA0MjY=",
    "avatar_url": "https://avatars.githubusercontent.com/u/5160426?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/realbigsean",
    "html_url": "https://github.com/realbigsean",
    "followers_url": "https://api.github.com/users/realbigsean/followers",
    "following_url": "https://api.github.com/users/realbigsean/following{/other_user}",
    "gists_url": "https://api.github.com/users/realbigsean/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/realbigsean/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/realbigsean/subscriptions",
    "organizations_url": "https://api.github.com/users/realbigsean/orgs",
    "repos_url": "https://api.github.com/users/realbigsean/repos",
    "events_url": "https://api.github.com/users/realbigsean/events{/privacy}",
    "received_events_url": "https://api.github.com/users/realbigsean/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/3922/reactions",
    "total_count": 2,
    "+1": 2,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/sigp/lighthouse/issues/3922/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/1414166216",
    "html_url": "https://github.com/sigp/lighthouse/issues/3922#issuecomment-1414166216",
    "issue_url": "https://api.github.com/repos/sigp/lighthouse/issues/3922",
    "id": 1414166216,
    "node_id": "IC_kwDOCFeAzc5USnbI",
    "user": {
      "login": "realbigsean",
      "id": 5160426,
      "node_id": "MDQ6VXNlcjUxNjA0MjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5160426?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/realbigsean",
      "html_url": "https://github.com/realbigsean",
      "followers_url": "https://api.github.com/users/realbigsean/followers",
      "following_url": "https://api.github.com/users/realbigsean/following{/other_user}",
      "gists_url": "https://api.github.com/users/realbigsean/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/realbigsean/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/realbigsean/subscriptions",
      "organizations_url": "https://api.github.com/users/realbigsean/orgs",
      "repos_url": "https://api.github.com/users/realbigsean/repos",
      "events_url": "https://api.github.com/users/realbigsean/events{/privacy}",
      "received_events_url": "https://api.github.com/users/realbigsean/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-02-02T18:14:54Z",
    "updated_at": "2023-02-02T18:14:54Z",
    "author_association": "COLLABORATOR",
    "body": "I was initially thinking we try to get blob tx support in `ethers-rs` but the main advantage there would have been to offload the rlp logic. Since this tx type is SSZ all we really need is JSON deserialization of the blob tx type which we already get for free due to the use of `other` field in `Transaction` [here](https://github.com/gakonst/ethers-rs/blob/master/ethers-core/src/types/transaction/response.rs#L121).  Then we can covert this to an SSZ blob tx type which we can add to our consensus types crate.  This is sort of a hacky solution but there is some momentum behind expanding SSZ to all tx types in Deneb, in which case we will probably phase out use of `ethers-rs` entirely. \r\n\r\nhttps://notes.ethereum.org/@vbuterin/transaction_ssz_refactoring\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/1414166216/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 1,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/1433122212",
    "html_url": "https://github.com/sigp/lighthouse/issues/3922#issuecomment-1433122212",
    "issue_url": "https://api.github.com/repos/sigp/lighthouse/issues/3922",
    "id": 1433122212,
    "node_id": "IC_kwDOCFeAzc5Va7Wk",
    "user": {
      "login": "realbigsean",
      "id": 5160426,
      "node_id": "MDQ6VXNlcjUxNjA0MjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5160426?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/realbigsean",
      "html_url": "https://github.com/realbigsean",
      "followers_url": "https://api.github.com/users/realbigsean/followers",
      "following_url": "https://api.github.com/users/realbigsean/following{/other_user}",
      "gists_url": "https://api.github.com/users/realbigsean/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/realbigsean/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/realbigsean/subscriptions",
      "organizations_url": "https://api.github.com/users/realbigsean/orgs",
      "repos_url": "https://api.github.com/users/realbigsean/repos",
      "events_url": "https://api.github.com/users/realbigsean/events{/privacy}",
      "received_events_url": "https://api.github.com/users/realbigsean/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-02-16T13:53:37Z",
    "updated_at": "2023-02-16T13:53:37Z",
    "author_association": "COLLABORATOR",
    "body": "completed in https://github.com/sigp/lighthouse/pull/3951",
    "reactions": {
      "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/1433122212/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
