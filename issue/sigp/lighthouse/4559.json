{
  "url": "https://api.github.com/repos/sigp/lighthouse/issues/4559",
  "repository_url": "https://api.github.com/repos/sigp/lighthouse",
  "labels_url": "https://api.github.com/repos/sigp/lighthouse/issues/4559/labels{/name}",
  "comments_url": "https://api.github.com/repos/sigp/lighthouse/issues/4559/comments",
  "events_url": "https://api.github.com/repos/sigp/lighthouse/issues/4559/events",
  "html_url": "https://github.com/sigp/lighthouse/issues/4559",
  "id": 1831869011,
  "node_id": "I_kwDOCFeAzc5tMBpT",
  "number": 4559,
  "title": "Remote BN does not support EIP-4881 fast deposit sync, error: Error fetching deposit snapshot from remote",
  "user": {
    "login": "icculp",
    "id": 57159226,
    "node_id": "MDQ6VXNlcjU3MTU5MjI2",
    "avatar_url": "https://avatars.githubusercontent.com/u/57159226?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/icculp",
    "html_url": "https://github.com/icculp",
    "followers_url": "https://api.github.com/users/icculp/followers",
    "following_url": "https://api.github.com/users/icculp/following{/other_user}",
    "gists_url": "https://api.github.com/users/icculp/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/icculp/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/icculp/subscriptions",
    "organizations_url": "https://api.github.com/users/icculp/orgs",
    "repos_url": "https://api.github.com/users/icculp/repos",
    "events_url": "https://api.github.com/users/icculp/events{/privacy}",
    "received_events_url": "https://api.github.com/users/icculp/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 7,
  "created_at": "2023-08-01T19:09:59Z",
  "updated_at": "2023-09-22T01:07:07Z",
  "closed_at": "2023-09-22T01:07:06Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "## Description\r\n\r\n```\r\nAug 01 19:04:18.954 WARN Remote BN does not support EIP-4881 fast deposit sync, error: Error fetching deposit snapshot from remote: ServerMessage(ErrorMessage { code: 500, message: \"not found\", stacktraces: [] }), service: beacon\r\nAug 01 19:04:18.968 CRIT Failed to start beacon node             reason: Error fetching finalized block from remote: ServerMessage(ErrorMessage { code: 500, message: \"not found\", stacktraces: [] })\r\n```\r\n\r\n## Version\r\n\r\nNethermind 1.20.1, lighthouse 4.3.0, gnosis mainnet\r\n\r\n## Present Behaviour\r\n\r\nUnable to checkpoint sync\r\n\r\n## Expected Behaviour\r\n\r\nBeacon should sync properly\r\n\r\n## Steps to resolve\r\n\r\nHave tried multiple urls, all result in same error.\r\n",
  "closed_by": {
    "login": "jimmygchen",
    "id": 742762,
    "node_id": "MDQ6VXNlcjc0Mjc2Mg==",
    "avatar_url": "https://avatars.githubusercontent.com/u/742762?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/jimmygchen",
    "html_url": "https://github.com/jimmygchen",
    "followers_url": "https://api.github.com/users/jimmygchen/followers",
    "following_url": "https://api.github.com/users/jimmygchen/following{/other_user}",
    "gists_url": "https://api.github.com/users/jimmygchen/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/jimmygchen/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/jimmygchen/subscriptions",
    "organizations_url": "https://api.github.com/users/jimmygchen/orgs",
    "repos_url": "https://api.github.com/users/jimmygchen/repos",
    "events_url": "https://api.github.com/users/jimmygchen/events{/privacy}",
    "received_events_url": "https://api.github.com/users/jimmygchen/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/4559/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/sigp/lighthouse/issues/4559/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/1660941894",
    "html_url": "https://github.com/sigp/lighthouse/issues/4559#issuecomment-1660941894",
    "issue_url": "https://api.github.com/repos/sigp/lighthouse/issues/4559",
    "id": 1660941894,
    "node_id": "IC_kwDOCFeAzc5i__ZG",
    "user": {
      "login": "icculp",
      "id": 57159226,
      "node_id": "MDQ6VXNlcjU3MTU5MjI2",
      "avatar_url": "https://avatars.githubusercontent.com/u/57159226?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/icculp",
      "html_url": "https://github.com/icculp",
      "followers_url": "https://api.github.com/users/icculp/followers",
      "following_url": "https://api.github.com/users/icculp/following{/other_user}",
      "gists_url": "https://api.github.com/users/icculp/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/icculp/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/icculp/subscriptions",
      "organizations_url": "https://api.github.com/users/icculp/orgs",
      "repos_url": "https://api.github.com/users/icculp/repos",
      "events_url": "https://api.github.com/users/icculp/events{/privacy}",
      "received_events_url": "https://api.github.com/users/icculp/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-08-01T19:21:02Z",
    "updated_at": "2023-08-01T19:21:02Z",
    "author_association": "NONE",
    "body": "Btw, here it says lighthouse will ignore the warning and try syncing from scratch:\r\n\r\nhttps://rustrepo.com/repo/sigp-lighthouse-rust-concurrency\r\n\r\nBut in my case it does not, it just shuts down. Have to remove checkpoint-sync-url flag to start syncing from scratch\r\n\r\n```Aug 01 19:04:18.836 INFO Starting checkpoint sync                remote_url: https://checkpoint.gnosis.gateway.fm/, service: beacon\r\nAug 01 19:04:18.954 WARN Remote BN does not support EIP-4881 fast deposit sync, error: Error fetching deposit snapshot from remote: ServerMessage(ErrorMessage { code: 500, message: \"not found\", stacktraces: [] }), service: beacon\r\nAug 01 19:04:18.968 CRIT Failed to start beacon node             reason: Error fetching finalized block from remote: ServerMessage(ErrorMessage { code: 500, message: \"not found\", stacktraces: [] })\r\nAug 01 19:04:18.968 INFO Internal shutdown received              reason: Failed to start beacon node\r\nAug 01 19:04:18.968 INFO Shutting down..                         reason: Failure(\"Failed to start beacon node\")\r\nFailed to start beacon node```",
    "reactions": {
      "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/1660941894/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/1663940020",
    "html_url": "https://github.com/sigp/lighthouse/issues/4559#issuecomment-1663940020",
    "issue_url": "https://api.github.com/repos/sigp/lighthouse/issues/4559",
    "id": 1663940020,
    "node_id": "IC_kwDOCFeAzc5jLbW0",
    "user": {
      "login": "jimmygchen",
      "id": 742762,
      "node_id": "MDQ6VXNlcjc0Mjc2Mg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/742762?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jimmygchen",
      "html_url": "https://github.com/jimmygchen",
      "followers_url": "https://api.github.com/users/jimmygchen/followers",
      "following_url": "https://api.github.com/users/jimmygchen/following{/other_user}",
      "gists_url": "https://api.github.com/users/jimmygchen/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jimmygchen/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jimmygchen/subscriptions",
      "organizations_url": "https://api.github.com/users/jimmygchen/orgs",
      "repos_url": "https://api.github.com/users/jimmygchen/repos",
      "events_url": "https://api.github.com/users/jimmygchen/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jimmygchen/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-08-03T12:58:26Z",
    "updated_at": "2023-08-03T12:58:26Z",
    "author_association": "MEMBER",
    "body": "This seems to be a checkpoint sync server issue, also reported by a few other Discord users. This log line suggested that the checkpoint server returned a server error:\r\n\r\n```\r\nAug 01 19:04:18.968 CRIT Failed to start beacon node             reason: Error fetching finalized block from remote: ServerMessage(ErrorMessage { code: 500, message: \"not found\", stacktraces: [] })\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/1663940020/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/1663941473",
    "html_url": "https://github.com/sigp/lighthouse/issues/4559#issuecomment-1663941473",
    "issue_url": "https://api.github.com/repos/sigp/lighthouse/issues/4559",
    "id": 1663941473,
    "node_id": "IC_kwDOCFeAzc5jLbth",
    "user": {
      "login": "jimmygchen",
      "id": 742762,
      "node_id": "MDQ6VXNlcjc0Mjc2Mg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/742762?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jimmygchen",
      "html_url": "https://github.com/jimmygchen",
      "followers_url": "https://api.github.com/users/jimmygchen/followers",
      "following_url": "https://api.github.com/users/jimmygchen/following{/other_user}",
      "gists_url": "https://api.github.com/users/jimmygchen/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jimmygchen/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jimmygchen/subscriptions",
      "organizations_url": "https://api.github.com/users/jimmygchen/orgs",
      "repos_url": "https://api.github.com/users/jimmygchen/repos",
      "events_url": "https://api.github.com/users/jimmygchen/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jimmygchen/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-08-03T12:59:21Z",
    "updated_at": "2023-08-03T12:59:21Z",
    "author_association": "MEMBER",
    "body": "Perhaps try another gnosis checkpoint server or reach out to them on Discord?",
    "reactions": {
      "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/1663941473/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/1665588677",
    "html_url": "https://github.com/sigp/lighthouse/issues/4559#issuecomment-1665588677",
    "issue_url": "https://api.github.com/repos/sigp/lighthouse/issues/4559",
    "id": 1665588677,
    "node_id": "IC_kwDOCFeAzc5jRt3F",
    "user": {
      "login": "dharmendrakariya",
      "id": 22043860,
      "node_id": "MDQ6VXNlcjIyMDQzODYw",
      "avatar_url": "https://avatars.githubusercontent.com/u/22043860?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dharmendrakariya",
      "html_url": "https://github.com/dharmendrakariya",
      "followers_url": "https://api.github.com/users/dharmendrakariya/followers",
      "following_url": "https://api.github.com/users/dharmendrakariya/following{/other_user}",
      "gists_url": "https://api.github.com/users/dharmendrakariya/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dharmendrakariya/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dharmendrakariya/subscriptions",
      "organizations_url": "https://api.github.com/users/dharmendrakariya/orgs",
      "repos_url": "https://api.github.com/users/dharmendrakariya/repos",
      "events_url": "https://api.github.com/users/dharmendrakariya/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dharmendrakariya/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-08-04T13:12:19Z",
    "updated_at": "2023-08-04T13:12:19Z",
    "author_association": "NONE",
    "body": "I deleted the Consensus data and restarted the node\r\n\r\n```\r\n\r\n\r\n023-08-04 18:34:22 | Aug 04 13:04:22.506 INFO Ready for Capella                       info: ensure the execution endpoint is updated to the latest Capella/Shanghai release, service: slot_notifier\r\n-- | --\r\n2023-08-04 18:34:27 | Aug 04 13:04:27.501 INFO Syncing                                 est_time: 4 days 4 hrs, speed: 17.65 slots/sec, distance: 6362265 slots (52 weeks 4 days), peers: 9, service: slot_notifier\r\n2023-08-04 18:34:27 | Aug 04 13:04:27.502 WARN Syncing deposit contract block cache    est_blocks_remaining: initializing deposits, service: slot_notifier\r\n2023-08-04 18:34:27 | Aug 04 13:04:27.504 INFO Ready for the merge                     current_difficulty: 8626000110427538733349499292577475819600160930, terminal_total_difficulty: 8626000000000000000000058750000000000000000000, service: slot_notifier\r\n2023-08-04 18:34:27 | Aug 04 13:04:27.505 INFO Ready for Capella                       info: ensure the execution endpoint is updated to the latest Capella/Shanghai release, service: slot_notifier\r\n2023-08-04 18:34:27 | Aug 04 13:04:27.790 WARN Execution endpoint is not synced        last_seen_block_unix_timestamp: 1690992200, endpoint: http://erigon:8551/, auth=true, service: deposit_contract_rpc\r\n2023-08-04 18:34:27 | Aug 04 13:04:27.791 ERRO Error updating deposit contract cache   error: Failed to get remote head and new block ranges: EndpointError(FarBehind), retry_millis: 60000, service: deposit_contract_rpc\r\n2023-08-04 18:34:32 | Aug 04 13:04:32.500 INFO Syncing                                 est_time: 4 days 4 hrs, speed: 17.61 slots/sec, distance: 6362170 slots (52 weeks 4 days), peers: 9, service: slot_notifier\r\n2023-08-04 18:34:32 | Aug 04 13:04:32.500 WARN Syncing deposit contract block cache    est_blocks_remaining: initializing deposits, service: slot_notifier\r\n2023-08-04 18:34:32 | Aug 04 13:04:32.504 INFO Ready for the merge                     current_difficulty: 8626000110427538733349499292577475819600160930, terminal_total_difficulty: 8626000000000000000000058750000000000000000000, service: slot_notifier\r\n2023-08-04 18:34:32 | Aug 04 13:04:32.505 INFO Ready for Capella                       info: ensure the execution endpoint is updated to the latest Capella/Shanghai release, service: slot_notifier\r\n\r\n```\r\n\r\ncould you verify the logs please?",
    "reactions": {
      "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/1665588677/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/1667167766",
    "html_url": "https://github.com/sigp/lighthouse/issues/4559#issuecomment-1667167766",
    "issue_url": "https://api.github.com/repos/sigp/lighthouse/issues/4559",
    "id": 1667167766,
    "node_id": "IC_kwDOCFeAzc5jXvYW",
    "user": {
      "login": "jimmygchen",
      "id": 742762,
      "node_id": "MDQ6VXNlcjc0Mjc2Mg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/742762?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jimmygchen",
      "html_url": "https://github.com/jimmygchen",
      "followers_url": "https://api.github.com/users/jimmygchen/followers",
      "following_url": "https://api.github.com/users/jimmygchen/following{/other_user}",
      "gists_url": "https://api.github.com/users/jimmygchen/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jimmygchen/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jimmygchen/subscriptions",
      "organizations_url": "https://api.github.com/users/jimmygchen/orgs",
      "repos_url": "https://api.github.com/users/jimmygchen/repos",
      "events_url": "https://api.github.com/users/jimmygchen/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jimmygchen/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-08-07T04:30:34Z",
    "updated_at": "2023-08-07T04:30:34Z",
    "author_association": "MEMBER",
    "body": "Hi @dharmendrakariya I'm not sure what chain you're syncing to but the above logs look ok, looks like it's syncing from genesis and not via checkpoint sync, so it seems unrelated to this issue.",
    "reactions": {
      "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/1667167766/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/1667431754",
    "html_url": "https://github.com/sigp/lighthouse/issues/4559#issuecomment-1667431754",
    "issue_url": "https://api.github.com/repos/sigp/lighthouse/issues/4559",
    "id": 1667431754,
    "node_id": "IC_kwDOCFeAzc5jYv1K",
    "user": {
      "login": "dharmendrakariya",
      "id": 22043860,
      "node_id": "MDQ6VXNlcjIyMDQzODYw",
      "avatar_url": "https://avatars.githubusercontent.com/u/22043860?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dharmendrakariya",
      "html_url": "https://github.com/dharmendrakariya",
      "followers_url": "https://api.github.com/users/dharmendrakariya/followers",
      "following_url": "https://api.github.com/users/dharmendrakariya/following{/other_user}",
      "gists_url": "https://api.github.com/users/dharmendrakariya/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dharmendrakariya/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dharmendrakariya/subscriptions",
      "organizations_url": "https://api.github.com/users/dharmendrakariya/orgs",
      "repos_url": "https://api.github.com/users/dharmendrakariya/repos",
      "events_url": "https://api.github.com/users/dharmendrakariya/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dharmendrakariya/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-08-07T08:32:59Z",
    "updated_at": "2023-08-07T08:32:59Z",
    "author_association": "NONE",
    "body": "@jimmygchen thanks buddy! btw I am working on Gnosis!",
    "reactions": {
      "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/1667431754/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/1730587247",
    "html_url": "https://github.com/sigp/lighthouse/issues/4559#issuecomment-1730587247",
    "issue_url": "https://api.github.com/repos/sigp/lighthouse/issues/4559",
    "id": 1730587247,
    "node_id": "IC_kwDOCFeAzc5nJqpv",
    "user": {
      "login": "jimmygchen",
      "id": 742762,
      "node_id": "MDQ6VXNlcjc0Mjc2Mg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/742762?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jimmygchen",
      "html_url": "https://github.com/jimmygchen",
      "followers_url": "https://api.github.com/users/jimmygchen/followers",
      "following_url": "https://api.github.com/users/jimmygchen/following{/other_user}",
      "gists_url": "https://api.github.com/users/jimmygchen/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jimmygchen/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jimmygchen/subscriptions",
      "organizations_url": "https://api.github.com/users/jimmygchen/orgs",
      "repos_url": "https://api.github.com/users/jimmygchen/repos",
      "events_url": "https://api.github.com/users/jimmygchen/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jimmygchen/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-09-22T01:07:06Z",
    "updated_at": "2023-09-22T01:07:06Z",
    "author_association": "MEMBER",
    "body": "Looks like this was a checkpoint sync server issue (see discussions in #2915 ) and should be fixed now, closing this one now. Thanks for reporting!",
    "reactions": {
      "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/1730587247/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
