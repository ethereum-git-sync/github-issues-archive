{
  "url": "https://api.github.com/repos/sigp/lighthouse/issues/1642",
  "repository_url": "https://api.github.com/repos/sigp/lighthouse",
  "labels_url": "https://api.github.com/repos/sigp/lighthouse/issues/1642/labels{/name}",
  "comments_url": "https://api.github.com/repos/sigp/lighthouse/issues/1642/comments",
  "events_url": "https://api.github.com/repos/sigp/lighthouse/issues/1642/events",
  "html_url": "https://github.com/sigp/lighthouse/issues/1642",
  "id": 705658313,
  "node_id": "MDU6SXNzdWU3MDU2NTgzMTM=",
  "number": 1642,
  "title": "BIP-39 12 word seed phrase causes problems",
  "user": {
    "login": "danielschonfeld",
    "id": 522598,
    "node_id": "MDQ6VXNlcjUyMjU5OA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/522598?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/danielschonfeld",
    "html_url": "https://github.com/danielschonfeld",
    "followers_url": "https://api.github.com/users/danielschonfeld/followers",
    "following_url": "https://api.github.com/users/danielschonfeld/following{/other_user}",
    "gists_url": "https://api.github.com/users/danielschonfeld/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/danielschonfeld/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/danielschonfeld/subscriptions",
    "organizations_url": "https://api.github.com/users/danielschonfeld/orgs",
    "repos_url": "https://api.github.com/users/danielschonfeld/repos",
    "events_url": "https://api.github.com/users/danielschonfeld/events{/privacy}",
    "received_events_url": "https://api.github.com/users/danielschonfeld/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 2336802021,
      "node_id": "MDU6TGFiZWwyMzM2ODAyMDIx",
      "url": "https://api.github.com/repos/sigp/lighthouse/labels/UX-and-logs",
      "name": "UX-and-logs",
      "color": "DB9046",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 5,
  "created_at": "2020-09-21T14:37:26Z",
  "updated_at": "2020-09-21T19:32:10Z",
  "closed_at": "2020-09-21T19:32:10Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "## Description\r\n\r\nThis issue is two fold\r\n1) Not sure why 12 word seed was chosen when most crypto related HD wallets use 24 words these days?\r\n2) When trying to recover Prysm's 24 word seed, no errors are given and the wallet is created.  However the accounts created are of different addresses.... ~~I imagine that only the first 12 words are used and the rest is truncated unbeknown to the user.  This can have catastrophic results.~~ EDIT: See comment below\r\n\r\n## Version\r\n\r\n```Lighthouse v0.2.10-5d17eb89```\r\n\r\n## Present Behaviour\r\n\r\nSee above\r\n## Expected Behaviour\r\n\r\nI believe better security is achieved with 24 words, and at any rate, the user should somehow be alerted to what's happening.\r\n\r\n## Steps to resolve\r\n\r\nUse 24 word (I think?)\r\n",
  "closed_by": {
    "login": "realbigsean",
    "id": 5160426,
    "node_id": "MDQ6VXNlcjUxNjA0MjY=",
    "avatar_url": "https://avatars.githubusercontent.com/u/5160426?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/realbigsean",
    "html_url": "https://github.com/realbigsean",
    "followers_url": "https://api.github.com/users/realbigsean/followers",
    "following_url": "https://api.github.com/users/realbigsean/following{/other_user}",
    "gists_url": "https://api.github.com/users/realbigsean/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/realbigsean/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/realbigsean/subscriptions",
    "organizations_url": "https://api.github.com/users/realbigsean/orgs",
    "repos_url": "https://api.github.com/users/realbigsean/repos",
    "events_url": "https://api.github.com/users/realbigsean/events{/privacy}",
    "received_events_url": "https://api.github.com/users/realbigsean/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/1642/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/sigp/lighthouse/issues/1642/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/696279127",
    "html_url": "https://github.com/sigp/lighthouse/issues/1642#issuecomment-696279127",
    "issue_url": "https://api.github.com/repos/sigp/lighthouse/issues/1642",
    "id": 696279127,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY5NjI3OTEyNw==",
    "user": {
      "login": "danielschonfeld",
      "id": 522598,
      "node_id": "MDQ6VXNlcjUyMjU5OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/522598?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/danielschonfeld",
      "html_url": "https://github.com/danielschonfeld",
      "followers_url": "https://api.github.com/users/danielschonfeld/followers",
      "following_url": "https://api.github.com/users/danielschonfeld/following{/other_user}",
      "gists_url": "https://api.github.com/users/danielschonfeld/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/danielschonfeld/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/danielschonfeld/subscriptions",
      "organizations_url": "https://api.github.com/users/danielschonfeld/orgs",
      "repos_url": "https://api.github.com/users/danielschonfeld/repos",
      "events_url": "https://api.github.com/users/danielschonfeld/events{/privacy}",
      "received_events_url": "https://api.github.com/users/danielschonfeld/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-09-21T18:06:32Z",
    "updated_at": "2020-09-21T18:06:32Z",
    "author_association": "CONTRIBUTOR",
    "body": "I've done some debugging and have found that Prysm and Lighthouse generate different derived Master Keys for a given seed phrase.  \r\n\r\nCould there possibly be some missing elements in the procedure described in EIP-2333?\r\n\r\nI've been looking at ``hkdf_mod_r`` and I don't see any references to either ``OS2IP`` or ``I2OSP``.  Granted I don't really know much about crypto to understand what the implications of that are, but from my meager debugging I've also found that the resulting ``Okm`` is different between the two clients, for a given 24 word seed phrase.  \r\n\r\nStill trying to figure out how to debug the ``Prk``",
    "reactions": {
      "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/696279127/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/696280279",
    "html_url": "https://github.com/sigp/lighthouse/issues/1642#issuecomment-696280279",
    "issue_url": "https://api.github.com/repos/sigp/lighthouse/issues/1642",
    "id": 696280279,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY5NjI4MDI3OQ==",
    "user": {
      "login": "realbigsean",
      "id": 5160426,
      "node_id": "MDQ6VXNlcjUxNjA0MjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5160426?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/realbigsean",
      "html_url": "https://github.com/realbigsean",
      "followers_url": "https://api.github.com/users/realbigsean/followers",
      "following_url": "https://api.github.com/users/realbigsean/following{/other_user}",
      "gists_url": "https://api.github.com/users/realbigsean/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/realbigsean/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/realbigsean/subscriptions",
      "organizations_url": "https://api.github.com/users/realbigsean/orgs",
      "repos_url": "https://api.github.com/users/realbigsean/repos",
      "events_url": "https://api.github.com/users/realbigsean/events{/privacy}",
      "received_events_url": "https://api.github.com/users/realbigsean/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-09-21T18:08:41Z",
    "updated_at": "2020-09-21T18:08:41Z",
    "author_association": "COLLABORATOR",
    "body": "Hey @danielschonfeld, yes, it's related to the EIP-2333 version that's implemented.  We have an issue tracking this: #1624  \r\n\r\nAs far as Lighthouse generating a 12-word mnemonic, you're right that 24 words is better security and it is something we will be updating.  24 words equates to 256 bits of entropy, and the latest EIP-2333 requires at least 256 bits of entropy.",
    "reactions": {
      "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/696280279/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/696308541",
    "html_url": "https://github.com/sigp/lighthouse/issues/1642#issuecomment-696308541",
    "issue_url": "https://api.github.com/repos/sigp/lighthouse/issues/1642",
    "id": 696308541,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY5NjMwODU0MQ==",
    "user": {
      "login": "danielschonfeld",
      "id": 522598,
      "node_id": "MDQ6VXNlcjUyMjU5OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/522598?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/danielschonfeld",
      "html_url": "https://github.com/danielschonfeld",
      "followers_url": "https://api.github.com/users/danielschonfeld/followers",
      "following_url": "https://api.github.com/users/danielschonfeld/following{/other_user}",
      "gists_url": "https://api.github.com/users/danielschonfeld/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/danielschonfeld/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/danielschonfeld/subscriptions",
      "organizations_url": "https://api.github.com/users/danielschonfeld/orgs",
      "repos_url": "https://api.github.com/users/danielschonfeld/repos",
      "events_url": "https://api.github.com/users/danielschonfeld/events{/privacy}",
      "received_events_url": "https://api.github.com/users/danielschonfeld/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-09-21T19:00:53Z",
    "updated_at": "2020-09-21T19:00:53Z",
    "author_association": "CONTRIBUTOR",
    "body": "@realbigsean it seems like our code doesn't append the byte arrays needed in any of the steps of ``hkdf_mod_r``\r\n\r\n```\r\n5.     PRK = HKDF-Extract(salt, IKM || I2OSP(0, 1))\r\n6.     OKM = HKDF-Expand(PRK, key_info || I2OSP(L, 2), L)\r\n7.     SK = OS2IP(OKM) mod r\r\n```\r\n\r\nwe simply use IKM, key_info and OKM respectively.  This needs to be updated ",
    "reactions": {
      "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/696308541/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/696311547",
    "html_url": "https://github.com/sigp/lighthouse/issues/1642#issuecomment-696311547",
    "issue_url": "https://api.github.com/repos/sigp/lighthouse/issues/1642",
    "id": 696311547,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY5NjMxMTU0Nw==",
    "user": {
      "login": "realbigsean",
      "id": 5160426,
      "node_id": "MDQ6VXNlcjUxNjA0MjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5160426?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/realbigsean",
      "html_url": "https://github.com/realbigsean",
      "followers_url": "https://api.github.com/users/realbigsean/followers",
      "following_url": "https://api.github.com/users/realbigsean/following{/other_user}",
      "gists_url": "https://api.github.com/users/realbigsean/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/realbigsean/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/realbigsean/subscriptions",
      "organizations_url": "https://api.github.com/users/realbigsean/orgs",
      "repos_url": "https://api.github.com/users/realbigsean/repos",
      "events_url": "https://api.github.com/users/realbigsean/events{/privacy}",
      "received_events_url": "https://api.github.com/users/realbigsean/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-09-21T19:06:11Z",
    "updated_at": "2020-09-21T19:06:11Z",
    "author_association": "COLLABORATOR",
    "body": "Yep that's under development here: https://github.com/sigp/lighthouse/pull/1633 \r\n\r\nIt will probably be released with v0.3.0 of lighthouse because it is non-backwards compatible.  ",
    "reactions": {
      "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/696311547/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/696317372",
    "html_url": "https://github.com/sigp/lighthouse/issues/1642#issuecomment-696317372",
    "issue_url": "https://api.github.com/repos/sigp/lighthouse/issues/1642",
    "id": 696317372,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY5NjMxNzM3Mg==",
    "user": {
      "login": "danielschonfeld",
      "id": 522598,
      "node_id": "MDQ6VXNlcjUyMjU5OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/522598?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/danielschonfeld",
      "html_url": "https://github.com/danielschonfeld",
      "followers_url": "https://api.github.com/users/danielschonfeld/followers",
      "following_url": "https://api.github.com/users/danielschonfeld/following{/other_user}",
      "gists_url": "https://api.github.com/users/danielschonfeld/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/danielschonfeld/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/danielschonfeld/subscriptions",
      "organizations_url": "https://api.github.com/users/danielschonfeld/orgs",
      "repos_url": "https://api.github.com/users/danielschonfeld/repos",
      "events_url": "https://api.github.com/users/danielschonfeld/events{/privacy}",
      "received_events_url": "https://api.github.com/users/danielschonfeld/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-09-21T19:16:52Z",
    "updated_at": "2020-09-21T19:16:52Z",
    "author_association": "CONTRIBUTOR",
    "body": "@realbigsean we an close this issue :) thank you for pointing me to #1624 ",
    "reactions": {
      "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/696317372/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
