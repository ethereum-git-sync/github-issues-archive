{
  "url": "https://api.github.com/repos/sigp/lighthouse/issues/4035",
  "repository_url": "https://api.github.com/repos/sigp/lighthouse",
  "labels_url": "https://api.github.com/repos/sigp/lighthouse/issues/4035/labels{/name}",
  "comments_url": "https://api.github.com/repos/sigp/lighthouse/issues/4035/comments",
  "events_url": "https://api.github.com/repos/sigp/lighthouse/issues/4035/events",
  "html_url": "https://github.com/sigp/lighthouse/issues/4035",
  "id": 1601029875,
  "node_id": "I_kwDOCFeAzc5fbcbz",
  "number": 4035,
  "title": "EngineError when requesting block at slot 43200 on Zhejiang testnet",
  "user": {
    "login": "peterbitfly",
    "id": 1674920,
    "node_id": "MDQ6VXNlcjE2NzQ5MjA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1674920?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/peterbitfly",
    "html_url": "https://github.com/peterbitfly",
    "followers_url": "https://api.github.com/users/peterbitfly/followers",
    "following_url": "https://api.github.com/users/peterbitfly/following{/other_user}",
    "gists_url": "https://api.github.com/users/peterbitfly/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/peterbitfly/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/peterbitfly/subscriptions",
    "organizations_url": "https://api.github.com/users/peterbitfly/orgs",
    "repos_url": "https://api.github.com/users/peterbitfly/repos",
    "events_url": "https://api.github.com/users/peterbitfly/events{/privacy}",
    "received_events_url": "https://api.github.com/users/peterbitfly/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2023-02-27T11:50:27Z",
  "updated_at": "2023-02-27T12:05:12Z",
  "closed_at": null,
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "## Description\r\nWhen requesting the block body at slot 80646 via the beacon api `curl -v http://localhost:4000/eth/v1/beacon/blocks/43200` we get the following error:\r\n```\r\n{\"code\":500,\"message\":\"UNHANDLED_ERROR: ExecutionLayerErrorPayloadReconstruction(0x1c5f2c9cbaa2e7c7abdb6fa73e7562beea21ce6af8a0e52a5634f6283db07418, EngineError(Api { error: Json(Error(\\\"missing field `withdrawals`\\\", line: 0, column: 0)) }))\",\"stacktraces\":[]}\r\n```\r\n\r\nThis is also the case for all successive blocks up to block 91765 after which the api returns again valid results.\r\n\r\nWe are using lh version v3.5.0 together with erigon (latest devel)\r\n\r\n## Version\r\n v3.5.0\r\n\r\n## Present Behaviour\r\nBeacon API returns an error when requesting a certain range of block bodies from the Zhejiang testnet (43200 to 91765)\r\n\r\n## Expected Behaviour\r\nAPI should return a block body for all requested blocks\r\n\r\n## Steps to resolve\r\nSee description\r\n",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/4035/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/sigp/lighthouse/issues/4035/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/1446201533",
    "html_url": "https://github.com/sigp/lighthouse/issues/4035#issuecomment-1446201533",
    "issue_url": "https://api.github.com/repos/sigp/lighthouse/issues/4035",
    "id": 1446201533,
    "node_id": "IC_kwDOCFeAzc5WM0i9",
    "user": {
      "login": "michaelsproul",
      "id": 4452260,
      "node_id": "MDQ6VXNlcjQ0NTIyNjA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4452260?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/michaelsproul",
      "html_url": "https://github.com/michaelsproul",
      "followers_url": "https://api.github.com/users/michaelsproul/followers",
      "following_url": "https://api.github.com/users/michaelsproul/following{/other_user}",
      "gists_url": "https://api.github.com/users/michaelsproul/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/michaelsproul/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/michaelsproul/subscriptions",
      "organizations_url": "https://api.github.com/users/michaelsproul/orgs",
      "repos_url": "https://api.github.com/users/michaelsproul/repos",
      "events_url": "https://api.github.com/users/michaelsproul/events{/privacy}",
      "received_events_url": "https://api.github.com/users/michaelsproul/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-02-27T11:59:23Z",
    "updated_at": "2023-02-27T11:59:23Z",
    "author_association": "MEMBER",
    "body": "That's an Erigon issue. It will be resolved by https://github.com/sigp/lighthouse/pull/4028 assuming Erigon implements the PayloadBodies methods (I think they will, or may already).\n\nYou could also work around this by running Lighthouse with `--prune-payloads false` (and syncing from genesis).",
    "reactions": {
      "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/1446201533/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/1446210537",
    "html_url": "https://github.com/sigp/lighthouse/issues/4035#issuecomment-1446210537",
    "issue_url": "https://api.github.com/repos/sigp/lighthouse/issues/4035",
    "id": 1446210537,
    "node_id": "IC_kwDOCFeAzc5WM2vp",
    "user": {
      "login": "peterbitfly",
      "id": 1674920,
      "node_id": "MDQ6VXNlcjE2NzQ5MjA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1674920?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/peterbitfly",
      "html_url": "https://github.com/peterbitfly",
      "followers_url": "https://api.github.com/users/peterbitfly/followers",
      "following_url": "https://api.github.com/users/peterbitfly/following{/other_user}",
      "gists_url": "https://api.github.com/users/peterbitfly/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/peterbitfly/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/peterbitfly/subscriptions",
      "organizations_url": "https://api.github.com/users/peterbitfly/orgs",
      "repos_url": "https://api.github.com/users/peterbitfly/repos",
      "events_url": "https://api.github.com/users/peterbitfly/events{/privacy}",
      "received_events_url": "https://api.github.com/users/peterbitfly/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-02-27T12:05:12Z",
    "updated_at": "2023-02-27T12:05:12Z",
    "author_association": "NONE",
    "body": "Thanks for your quick response, will open an issue with erigon then.",
    "reactions": {
      "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/1446210537/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
