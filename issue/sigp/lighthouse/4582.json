{
  "url": "https://api.github.com/repos/sigp/lighthouse/issues/4582",
  "repository_url": "https://api.github.com/repos/sigp/lighthouse",
  "labels_url": "https://api.github.com/repos/sigp/lighthouse/issues/4582/labels{/name}",
  "comments_url": "https://api.github.com/repos/sigp/lighthouse/issues/4582/comments",
  "events_url": "https://api.github.com/repos/sigp/lighthouse/issues/4582/events",
  "html_url": "https://github.com/sigp/lighthouse/issues/4582",
  "id": 1842310278,
  "node_id": "I_kwDOCFeAzc5tz2yG",
  "number": 4582,
  "title": "Add block v3 endpoint",
  "user": {
    "login": "jimmygchen",
    "id": 742762,
    "node_id": "MDQ6VXNlcjc0Mjc2Mg==",
    "avatar_url": "https://avatars.githubusercontent.com/u/742762?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/jimmygchen",
    "html_url": "https://github.com/jimmygchen",
    "followers_url": "https://api.github.com/users/jimmygchen/followers",
    "following_url": "https://api.github.com/users/jimmygchen/following{/other_user}",
    "gists_url": "https://api.github.com/users/jimmygchen/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/jimmygchen/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/jimmygchen/subscriptions",
    "organizations_url": "https://api.github.com/users/jimmygchen/orgs",
    "repos_url": "https://api.github.com/users/jimmygchen/repos",
    "events_url": "https://api.github.com/users/jimmygchen/events{/privacy}",
    "received_events_url": "https://api.github.com/users/jimmygchen/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 2336800343,
      "node_id": "MDU6TGFiZWwyMzM2ODAwMzQz",
      "url": "https://api.github.com/repos/sigp/lighthouse/labels/HTTP-API",
      "name": "HTTP-API",
      "color": "5A63A2",
      "default": false,
      "description": ""
    },
    {
      "id": 4615284981,
      "node_id": "LA_kwDOCFeAzc8AAAABExeo9Q",
      "url": "https://api.github.com/repos/sigp/lighthouse/labels/deneb",
      "name": "deneb",
      "color": "B7BBEC",
      "default": false,
      "description": ""
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": {
    "login": "eserilev",
    "id": 7217615,
    "node_id": "MDQ6VXNlcjcyMTc2MTU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/7217615?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/eserilev",
    "html_url": "https://github.com/eserilev",
    "followers_url": "https://api.github.com/users/eserilev/followers",
    "following_url": "https://api.github.com/users/eserilev/following{/other_user}",
    "gists_url": "https://api.github.com/users/eserilev/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/eserilev/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/eserilev/subscriptions",
    "organizations_url": "https://api.github.com/users/eserilev/orgs",
    "repos_url": "https://api.github.com/users/eserilev/repos",
    "events_url": "https://api.github.com/users/eserilev/events{/privacy}",
    "received_events_url": "https://api.github.com/users/eserilev/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "eserilev",
      "id": 7217615,
      "node_id": "MDQ6VXNlcjcyMTc2MTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7217615?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eserilev",
      "html_url": "https://github.com/eserilev",
      "followers_url": "https://api.github.com/users/eserilev/followers",
      "following_url": "https://api.github.com/users/eserilev/following{/other_user}",
      "gists_url": "https://api.github.com/users/eserilev/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eserilev/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eserilev/subscriptions",
      "organizations_url": "https://api.github.com/users/eserilev/orgs",
      "repos_url": "https://api.github.com/users/eserilev/repos",
      "events_url": "https://api.github.com/users/eserilev/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eserilev/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 6,
  "created_at": "2023-08-09T01:27:27Z",
  "updated_at": "2023-08-15T00:08:06Z",
  "closed_at": null,
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": "## Description\r\n\r\nAdd v3 `block` endpoint, beacon API spec here: https://github.com/ethereum/beacon-APIs/pull/339\r\n\r\nThis has been included in [`dencun-devnet-8` spec](https://notes.ethereum.org/@ethpandaops/dencun-devnet-8).",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/4582/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/sigp/lighthouse/issues/4582/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/1670907971",
    "html_url": "https://github.com/sigp/lighthouse/issues/4582#issuecomment-1670907971",
    "issue_url": "https://api.github.com/repos/sigp/lighthouse/issues/4582",
    "id": 1670907971,
    "node_id": "IC_kwDOCFeAzc5jmAhD",
    "user": {
      "login": "eserilev",
      "id": 7217615,
      "node_id": "MDQ6VXNlcjcyMTc2MTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7217615?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eserilev",
      "html_url": "https://github.com/eserilev",
      "followers_url": "https://api.github.com/users/eserilev/followers",
      "following_url": "https://api.github.com/users/eserilev/following{/other_user}",
      "gists_url": "https://api.github.com/users/eserilev/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eserilev/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eserilev/subscriptions",
      "organizations_url": "https://api.github.com/users/eserilev/orgs",
      "repos_url": "https://api.github.com/users/eserilev/repos",
      "events_url": "https://api.github.com/users/eserilev/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eserilev/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-08-09T08:37:38Z",
    "updated_at": "2023-08-09T08:37:38Z",
    "author_association": "CONTRIBUTOR",
    "body": "if no one else is working on this, I'd love to pick this one up",
    "reactions": {
      "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/1670907971/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/1672053411",
    "html_url": "https://github.com/sigp/lighthouse/issues/4582#issuecomment-1672053411",
    "issue_url": "https://api.github.com/repos/sigp/lighthouse/issues/4582",
    "id": 1672053411,
    "node_id": "IC_kwDOCFeAzc5jqYKj",
    "user": {
      "login": "realbigsean",
      "id": 5160426,
      "node_id": "MDQ6VXNlcjUxNjA0MjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5160426?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/realbigsean",
      "html_url": "https://github.com/realbigsean",
      "followers_url": "https://api.github.com/users/realbigsean/followers",
      "following_url": "https://api.github.com/users/realbigsean/following{/other_user}",
      "gists_url": "https://api.github.com/users/realbigsean/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/realbigsean/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/realbigsean/subscriptions",
      "organizations_url": "https://api.github.com/users/realbigsean/orgs",
      "repos_url": "https://api.github.com/users/realbigsean/repos",
      "events_url": "https://api.github.com/users/realbigsean/events{/privacy}",
      "received_events_url": "https://api.github.com/users/realbigsean/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-08-09T19:51:31Z",
    "updated_at": "2023-08-09T19:51:31Z",
    "author_association": "COLLABORATOR",
    "body": "I don't think anyone's working on it, feel free to pick it up!",
    "reactions": {
      "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/1672053411/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/1677138771",
    "html_url": "https://github.com/sigp/lighthouse/issues/4582#issuecomment-1677138771",
    "issue_url": "https://api.github.com/repos/sigp/lighthouse/issues/4582",
    "id": 1677138771,
    "node_id": "IC_kwDOCFeAzc5j9xtT",
    "user": {
      "login": "eserilev",
      "id": 7217615,
      "node_id": "MDQ6VXNlcjcyMTc2MTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7217615?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eserilev",
      "html_url": "https://github.com/eserilev",
      "followers_url": "https://api.github.com/users/eserilev/followers",
      "following_url": "https://api.github.com/users/eserilev/following{/other_user}",
      "gists_url": "https://api.github.com/users/eserilev/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eserilev/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eserilev/subscriptions",
      "organizations_url": "https://api.github.com/users/eserilev/orgs",
      "repos_url": "https://api.github.com/users/eserilev/repos",
      "events_url": "https://api.github.com/users/eserilev/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eserilev/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-08-14T11:20:15Z",
    "updated_at": "2023-08-14T11:20:15Z",
    "author_association": "CONTRIBUTOR",
    "body": " I've been digging into get_payload and some of the upstream logic over the last 2-3 days\r\n\r\ni have a really ugly branch that creates a new \"v3 path\" starting at produce_block_with_verification all the way down to get_payload. The things i did there were unspeakable and that branch should probably never make it out of my local git repo üòÖ \r\n\r\ntheres some cleanup I could do with that new v3 path that might make it more palatable, but it still requires duplicating a significant amount of existing logic\r\n\r\nI did get quite comfortable with the full flow and now I'm sort of starting over. The biggest issue I'm having is that everything depends on the Payload: <AbstractExecPayload<T>> generic type parameter, which is either FullPayload or BlindedPayload.\r\n\r\nI thought about  creating some other Payload struct that also implements the AbstractExecPayload trait. This new struct can either be Full or Blinded depending on what eventually happens down the line in get_payload\r\n\r\nTheres some issues with this, as getting this new Payload struct to correctly implement the relevant traits while also being potentially a full or blinded payload is a bit... interesting. still investigating if this is a viable path or not.\r\n\r\ntheres maybe also a way to remove the generic type param from the get payload flow... or maybe create a new type thats a bit more flexible? I'll put some thought into that.\r\n\r\nIf anyone here has feedback, or maybe a general idea I could explore let me know. Also, I noticed the devnet-8 tag on the issue. I'm not sure how big of a blocker this new endpoint is for devnet-8. If theres a hard deadline for this endpoint please let me know. Thanks!",
    "reactions": {
      "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/1677138771/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/1677296340",
    "html_url": "https://github.com/sigp/lighthouse/issues/4582#issuecomment-1677296340",
    "issue_url": "https://api.github.com/repos/sigp/lighthouse/issues/4582",
    "id": 1677296340,
    "node_id": "IC_kwDOCFeAzc5j-YLU",
    "user": {
      "login": "michaelsproul",
      "id": 4452260,
      "node_id": "MDQ6VXNlcjQ0NTIyNjA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4452260?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/michaelsproul",
      "html_url": "https://github.com/michaelsproul",
      "followers_url": "https://api.github.com/users/michaelsproul/followers",
      "following_url": "https://api.github.com/users/michaelsproul/following{/other_user}",
      "gists_url": "https://api.github.com/users/michaelsproul/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/michaelsproul/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/michaelsproul/subscriptions",
      "organizations_url": "https://api.github.com/users/michaelsproul/orgs",
      "repos_url": "https://api.github.com/users/michaelsproul/repos",
      "events_url": "https://api.github.com/users/michaelsproul/events{/privacy}",
      "received_events_url": "https://api.github.com/users/michaelsproul/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-08-14T13:16:43Z",
    "updated_at": "2023-08-14T13:17:33Z",
    "author_association": "MEMBER",
    "body": "@eserilev I think removing the Payload type parameter sounds like the most viable option. The method could return an enum with either Blinded or Full, and then the caller can handle packing that into a block (and returning that on the HTTP endpoint)",
    "reactions": {
      "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/1677296340/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/1677296948",
    "html_url": "https://github.com/sigp/lighthouse/issues/4582#issuecomment-1677296948",
    "issue_url": "https://api.github.com/repos/sigp/lighthouse/issues/4582",
    "id": 1677296948,
    "node_id": "IC_kwDOCFeAzc5j-YU0",
    "user": {
      "login": "michaelsproul",
      "id": 4452260,
      "node_id": "MDQ6VXNlcjQ0NTIyNjA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4452260?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/michaelsproul",
      "html_url": "https://github.com/michaelsproul",
      "followers_url": "https://api.github.com/users/michaelsproul/followers",
      "following_url": "https://api.github.com/users/michaelsproul/following{/other_user}",
      "gists_url": "https://api.github.com/users/michaelsproul/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/michaelsproul/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/michaelsproul/subscriptions",
      "organizations_url": "https://api.github.com/users/michaelsproul/orgs",
      "repos_url": "https://api.github.com/users/michaelsproul/repos",
      "events_url": "https://api.github.com/users/michaelsproul/events{/privacy}",
      "received_events_url": "https://api.github.com/users/michaelsproul/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-08-14T13:17:07Z",
    "updated_at": "2023-08-14T13:17:07Z",
    "author_association": "MEMBER",
    "body": "There may be some problem with this though, I haven't had a chance to look at your branch ",
    "reactions": {
      "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/1677296948/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/1678252219",
    "html_url": "https://github.com/sigp/lighthouse/issues/4582#issuecomment-1678252219",
    "issue_url": "https://api.github.com/repos/sigp/lighthouse/issues/4582",
    "id": 1678252219,
    "node_id": "IC_kwDOCFeAzc5kCBi7",
    "user": {
      "login": "jimmygchen",
      "id": 742762,
      "node_id": "MDQ6VXNlcjc0Mjc2Mg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/742762?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jimmygchen",
      "html_url": "https://github.com/jimmygchen",
      "followers_url": "https://api.github.com/users/jimmygchen/followers",
      "following_url": "https://api.github.com/users/jimmygchen/following{/other_user}",
      "gists_url": "https://api.github.com/users/jimmygchen/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jimmygchen/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jimmygchen/subscriptions",
      "organizations_url": "https://api.github.com/users/jimmygchen/orgs",
      "repos_url": "https://api.github.com/users/jimmygchen/repos",
      "events_url": "https://api.github.com/users/jimmygchen/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jimmygchen/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-08-15T00:08:06Z",
    "updated_at": "2023-08-15T00:08:06Z",
    "author_association": "MEMBER",
    "body": "Hi @eserilev I've removed the `deneb-devnet-8` label, we're still working on client interop testing, so this isn't really blocking us ‚ò∫Ô∏è .\r\n\r\ncc @realbigsean ",
    "reactions": {
      "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/1678252219/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
