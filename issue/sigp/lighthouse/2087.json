{
  "url": "https://api.github.com/repos/sigp/lighthouse/issues/2087",
  "repository_url": "https://api.github.com/repos/sigp/lighthouse",
  "labels_url": "https://api.github.com/repos/sigp/lighthouse/issues/2087/labels{/name}",
  "comments_url": "https://api.github.com/repos/sigp/lighthouse/issues/2087/comments",
  "events_url": "https://api.github.com/repos/sigp/lighthouse/issues/2087/events",
  "html_url": "https://github.com/sigp/lighthouse/issues/2087",
  "id": 766326522,
  "node_id": "MDU6SXNzdWU3NjYzMjY1MjI=",
  "number": 2087,
  "title": "lcli docker",
  "user": {
    "login": "BeroBurny",
    "id": 6376047,
    "node_id": "MDQ6VXNlcjYzNzYwNDc=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6376047?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/BeroBurny",
    "html_url": "https://github.com/BeroBurny",
    "followers_url": "https://api.github.com/users/BeroBurny/followers",
    "following_url": "https://api.github.com/users/BeroBurny/following{/other_user}",
    "gists_url": "https://api.github.com/users/BeroBurny/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/BeroBurny/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/BeroBurny/subscriptions",
    "organizations_url": "https://api.github.com/users/BeroBurny/orgs",
    "repos_url": "https://api.github.com/users/BeroBurny/repos",
    "events_url": "https://api.github.com/users/BeroBurny/events{/privacy}",
    "received_events_url": "https://api.github.com/users/BeroBurny/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 3220956595,
      "node_id": "MDU6TGFiZWwzMjIwOTU2NTk1",
      "url": "https://api.github.com/repos/sigp/lighthouse/labels/v1.5.1",
      "name": "v1.5.1",
      "color": "d4c5f9",
      "default": false,
      "description": "To be included in the v1.5.1 relase"
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 7,
  "created_at": "2020-12-14T11:32:21Z",
  "updated_at": "2021-08-23T06:11:10Z",
  "closed_at": "2021-08-23T06:11:10Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "## Description\r\n\r\nAfter release version `1.0.4` there is missing `lcli` in the docker image.\r\nThis tool is used for creating testnet configurations for lighthouse clients, and help developers who create tools around the beacon node and validator.\r\n\r\n## Version\r\n\r\nstable - v1.0.4\r\n\r\n## Present Behaviour\r\n\r\n`lcli` is missing command from docker.\r\n\r\n## Expected Behaviour\r\n\r\nAble to use `lcli` without need to pull the entire project and set up a rust environment\r\n\r\n## Steps to resolve\r\n\r\nreturn back `lcli` to docker build or create a separate docker image for `lcli`",
  "closed_by": {
    "login": "paulhauner",
    "id": 6660660,
    "node_id": "MDQ6VXNlcjY2NjA2NjA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6660660?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/paulhauner",
    "html_url": "https://github.com/paulhauner",
    "followers_url": "https://api.github.com/users/paulhauner/followers",
    "following_url": "https://api.github.com/users/paulhauner/following{/other_user}",
    "gists_url": "https://api.github.com/users/paulhauner/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/paulhauner/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/paulhauner/subscriptions",
    "organizations_url": "https://api.github.com/users/paulhauner/orgs",
    "repos_url": "https://api.github.com/users/paulhauner/repos",
    "events_url": "https://api.github.com/users/paulhauner/events{/privacy}",
    "received_events_url": "https://api.github.com/users/paulhauner/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/2087/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/sigp/lighthouse/issues/2087/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/744913369",
    "html_url": "https://github.com/sigp/lighthouse/issues/2087#issuecomment-744913369",
    "issue_url": "https://api.github.com/repos/sigp/lighthouse/issues/2087",
    "id": 744913369,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc0NDkxMzM2OQ==",
    "user": {
      "login": "michaelsproul",
      "id": 4452260,
      "node_id": "MDQ6VXNlcjQ0NTIyNjA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4452260?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/michaelsproul",
      "html_url": "https://github.com/michaelsproul",
      "followers_url": "https://api.github.com/users/michaelsproul/followers",
      "following_url": "https://api.github.com/users/michaelsproul/following{/other_user}",
      "gists_url": "https://api.github.com/users/michaelsproul/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/michaelsproul/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/michaelsproul/subscriptions",
      "organizations_url": "https://api.github.com/users/michaelsproul/orgs",
      "repos_url": "https://api.github.com/users/michaelsproul/repos",
      "events_url": "https://api.github.com/users/michaelsproul/events{/privacy}",
      "received_events_url": "https://api.github.com/users/michaelsproul/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-12-15T00:50:34Z",
    "updated_at": "2020-12-15T00:50:34Z",
    "author_association": "MEMBER",
    "body": "Are you also making use of the `minimal` spec? I had a quick browse of your `ChainGuardian` repo, and it seems you are?\r\n\r\nWe removed `lcli` (and the minimal spec) from the default build because they both consume a significant amount of compilation time on CI/CD, while being unused by almost all our users (PR here: https://github.com/sigp/lighthouse/pull/1989). As far as I understand our intention with `lcli` is that it's an unstable, mostly-internal tool, which is another reason not to provide it in the default Docker image (and have it depended upon).\r\n\r\nI understand that this must be kind of frustrating for you. We could consider supplying `lcli` and `minimal` in our Docker builds again, but my preference would be for this to be maintained by the people who use/need it, with the understanding that `lcli` is unstable and could change without notice. In the period until the next stable release, would you mind experimenting with building `lcli` + minimal Lighthouse from source (possibly in a Docker image, if that's what you need), and we can re-assess the need to include it by default closer to the next release?\r\n\r\nYou can build `lcli` with `make`:\r\n\r\n```\r\nmake install-lcli\r\n```\r\n\r\nBuilding Lighthouse with minimal spec support requires adding a feature flag:\r\n\r\n```\r\ncargo install --path lighthouse --force --locked --features spec-minimal\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/744913369/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/745245068",
    "html_url": "https://github.com/sigp/lighthouse/issues/2087#issuecomment-745245068",
    "issue_url": "https://api.github.com/repos/sigp/lighthouse/issues/2087",
    "id": 745245068,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc0NTI0NTA2OA==",
    "user": {
      "login": "BeroBurny",
      "id": 6376047,
      "node_id": "MDQ6VXNlcjYzNzYwNDc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6376047?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/BeroBurny",
      "html_url": "https://github.com/BeroBurny",
      "followers_url": "https://api.github.com/users/BeroBurny/followers",
      "following_url": "https://api.github.com/users/BeroBurny/following{/other_user}",
      "gists_url": "https://api.github.com/users/BeroBurny/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/BeroBurny/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/BeroBurny/subscriptions",
      "organizations_url": "https://api.github.com/users/BeroBurny/orgs",
      "repos_url": "https://api.github.com/users/BeroBurny/repos",
      "events_url": "https://api.github.com/users/BeroBurny/events{/privacy}",
      "received_events_url": "https://api.github.com/users/BeroBurny/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-12-15T12:02:39Z",
    "updated_at": "2020-12-15T12:02:39Z",
    "author_association": "NONE",
    "body": "> Are you also making use of the `minimal` spec? I had a quick browse of your `ChainGuardian` repo, and it seems you are?\r\n\r\nI'm working to update scripts that include moving to `mainnet` spec, as part of [different branch](https://github.com/NodeFactoryIo/ChainGuardian/tree/docker-localhost) and current code on the master will be removed\r\n\r\n<hr>\r\n\r\nI'm aware that is an internal tool and unstable used for developing and testing that is the reason why I think the best solution is to build `lcli` to a separate Docker image, which is updated when needed. It will reduce build time and if a user wants to use a specific version can use a specific `hash/tag` and this will be pretty helpful for devs like me who do tooling around the ecosystem and onboarding new devs. It is simpler to run docker with an updated image that cloning/pulling and building client (harder for a user unfamiliar with rust and cargo)\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/745245068/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/745890781",
    "html_url": "https://github.com/sigp/lighthouse/issues/2087#issuecomment-745890781",
    "issue_url": "https://api.github.com/repos/sigp/lighthouse/issues/2087",
    "id": 745890781,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc0NTg5MDc4MQ==",
    "user": {
      "login": "mpetrunic",
      "id": 8836210,
      "node_id": "MDQ6VXNlcjg4MzYyMTA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8836210?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mpetrunic",
      "html_url": "https://github.com/mpetrunic",
      "followers_url": "https://api.github.com/users/mpetrunic/followers",
      "following_url": "https://api.github.com/users/mpetrunic/following{/other_user}",
      "gists_url": "https://api.github.com/users/mpetrunic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mpetrunic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mpetrunic/subscriptions",
      "organizations_url": "https://api.github.com/users/mpetrunic/orgs",
      "repos_url": "https://api.github.com/users/mpetrunic/repos",
      "events_url": "https://api.github.com/users/mpetrunic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mpetrunic/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-12-16T08:15:48Z",
    "updated_at": "2020-12-16T08:15:48Z",
    "author_association": "NONE",
    "body": "> Are you also making use of the minimal spec? I had a quick browse of your ChainGuardian repo, and it seems you are?\r\n\r\nI guess we only need lcli for creating testnet configuration and keys. We could write own little script to update genesis time.\r\n\r\n> We removed lcli (and the minimal spec) from the default build because they both consume a significant amount of compilation time on CI/CD, while being unused by almost all our users (PR here: #1989). As far as I understand our intention with lcli is that it's an unstable, mostly-internal tool, which is another reason not to provide it in the default Docker image (and have it depended upon).\r\n\r\nHave you considered just creating another docker image with just lcli? That way, lighthouse build time would be independent of lcli. Also building image in github actions and pushing on dockerhub is significantly faster than building on dockerhub.\r\n\r\ntbh I cannot even build lcli on my ubuntu machine but that's problem for another issue ðŸ˜„ ",
    "reactions": {
      "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/745890781/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/747072102",
    "html_url": "https://github.com/sigp/lighthouse/issues/2087#issuecomment-747072102",
    "issue_url": "https://api.github.com/repos/sigp/lighthouse/issues/2087",
    "id": 747072102,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc0NzA3MjEwMg==",
    "user": {
      "login": "michaelsproul",
      "id": 4452260,
      "node_id": "MDQ6VXNlcjQ0NTIyNjA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4452260?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/michaelsproul",
      "html_url": "https://github.com/michaelsproul",
      "followers_url": "https://api.github.com/users/michaelsproul/followers",
      "following_url": "https://api.github.com/users/michaelsproul/following{/other_user}",
      "gists_url": "https://api.github.com/users/michaelsproul/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/michaelsproul/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/michaelsproul/subscriptions",
      "organizations_url": "https://api.github.com/users/michaelsproul/orgs",
      "repos_url": "https://api.github.com/users/michaelsproul/repos",
      "events_url": "https://api.github.com/users/michaelsproul/events{/privacy}",
      "received_events_url": "https://api.github.com/users/michaelsproul/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-12-16T22:12:41Z",
    "updated_at": "2020-12-16T22:12:41Z",
    "author_association": "MEMBER",
    "body": "> Have you considered just creating another docker image with just lcli?\n\nYeah, I think based on the feedback in this issue this is a good way forward. We've just added some new configuration for building Docker images on Github, which as you said is _so_ much better than relying on Docker Hub's builds. I'll see if I can add `lcli` to the mix for the next release (although if we miss the deadline it might need to live on `unstable` until the new year)",
    "reactions": {
      "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/747072102/reactions",
      "total_count": 2,
      "+1": 2,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/760522559",
    "html_url": "https://github.com/sigp/lighthouse/issues/2087#issuecomment-760522559",
    "issue_url": "https://api.github.com/repos/sigp/lighthouse/issues/2087",
    "id": 760522559,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc2MDUyMjU1OQ==",
    "user": {
      "login": "paulhauner",
      "id": 6660660,
      "node_id": "MDQ6VXNlcjY2NjA2NjA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6660660?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/paulhauner",
      "html_url": "https://github.com/paulhauner",
      "followers_url": "https://api.github.com/users/paulhauner/followers",
      "following_url": "https://api.github.com/users/paulhauner/following{/other_user}",
      "gists_url": "https://api.github.com/users/paulhauner/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/paulhauner/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/paulhauner/subscriptions",
      "organizations_url": "https://api.github.com/users/paulhauner/orgs",
      "repos_url": "https://api.github.com/users/paulhauner/repos",
      "events_url": "https://api.github.com/users/paulhauner/events{/privacy}",
      "received_events_url": "https://api.github.com/users/paulhauner/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-01-14T22:40:59Z",
    "updated_at": "2021-01-14T22:40:59Z",
    "author_association": "MEMBER",
    "body": "Another option is to add a `Dockerfile` to the `lcli` directory which would allow users to build the image themselves (without setting up a Rust dev env). I personally prefer this over setting up our own dockerhub repository for `lcli`.",
    "reactions": {
      "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/760522559/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/760715965",
    "html_url": "https://github.com/sigp/lighthouse/issues/2087#issuecomment-760715965",
    "issue_url": "https://api.github.com/repos/sigp/lighthouse/issues/2087",
    "id": 760715965,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc2MDcxNTk2NQ==",
    "user": {
      "login": "mpetrunic",
      "id": 8836210,
      "node_id": "MDQ6VXNlcjg4MzYyMTA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8836210?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mpetrunic",
      "html_url": "https://github.com/mpetrunic",
      "followers_url": "https://api.github.com/users/mpetrunic/followers",
      "following_url": "https://api.github.com/users/mpetrunic/following{/other_user}",
      "gists_url": "https://api.github.com/users/mpetrunic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mpetrunic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mpetrunic/subscriptions",
      "organizations_url": "https://api.github.com/users/mpetrunic/orgs",
      "repos_url": "https://api.github.com/users/mpetrunic/repos",
      "events_url": "https://api.github.com/users/mpetrunic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mpetrunic/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-01-15T07:48:24Z",
    "updated_at": "2021-01-15T07:49:03Z",
    "author_association": "NONE",
    "body": "> Another option is to add a `Dockerfile` to the `lcli` directory which would allow users to build the image themselves (without setting up a Rust dev env). I personally prefer this over setting up our own dockerhub repository for `lcli`.\r\n\r\nThat doesn't really solve anything. It's easy to create docker image for lcli, core issue is keeping it updated on code change in this repo ðŸ˜„ ",
    "reactions": {
      "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/760715965/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/858388022",
    "html_url": "https://github.com/sigp/lighthouse/issues/2087#issuecomment-858388022",
    "issue_url": "https://api.github.com/repos/sigp/lighthouse/issues/2087",
    "id": 858388022,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg1ODM4ODAyMg==",
    "user": {
      "login": "xaviarias",
      "id": 876579,
      "node_id": "MDQ6VXNlcjg3NjU3OQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/876579?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/xaviarias",
      "html_url": "https://github.com/xaviarias",
      "followers_url": "https://api.github.com/users/xaviarias/followers",
      "following_url": "https://api.github.com/users/xaviarias/following{/other_user}",
      "gists_url": "https://api.github.com/users/xaviarias/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/xaviarias/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/xaviarias/subscriptions",
      "organizations_url": "https://api.github.com/users/xaviarias/orgs",
      "repos_url": "https://api.github.com/users/xaviarias/repos",
      "events_url": "https://api.github.com/users/xaviarias/events{/privacy}",
      "received_events_url": "https://api.github.com/users/xaviarias/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-06-10T07:35:23Z",
    "updated_at": "2021-06-10T07:35:23Z",
    "author_association": "NONE",
    "body": "Hi ! Is there any progress on this? Thanks",
    "reactions": {
      "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/858388022/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
