{
  "url": "https://api.github.com/repos/sigp/lighthouse/issues/1333",
  "repository_url": "https://api.github.com/repos/sigp/lighthouse",
  "labels_url": "https://api.github.com/repos/sigp/lighthouse/issues/1333/labels{/name}",
  "comments_url": "https://api.github.com/repos/sigp/lighthouse/issues/1333/comments",
  "events_url": "https://api.github.com/repos/sigp/lighthouse/issues/1333/events",
  "html_url": "https://github.com/sigp/lighthouse/issues/1333",
  "id": 651207176,
  "node_id": "MDU6SXNzdWU2NTEyMDcxNzY=",
  "number": 1333,
  "title": "Deposit Signature Subgroup Check",
  "user": {
    "login": "kirk-baird",
    "id": 27878213,
    "node_id": "MDQ6VXNlcjI3ODc4MjEz",
    "avatar_url": "https://avatars.githubusercontent.com/u/27878213?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/kirk-baird",
    "html_url": "https://github.com/kirk-baird",
    "followers_url": "https://api.github.com/users/kirk-baird/followers",
    "following_url": "https://api.github.com/users/kirk-baird/following{/other_user}",
    "gists_url": "https://api.github.com/users/kirk-baird/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/kirk-baird/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/kirk-baird/subscriptions",
    "organizations_url": "https://api.github.com/users/kirk-baird/orgs",
    "repos_url": "https://api.github.com/users/kirk-baird/repos",
    "events_url": "https://api.github.com/users/kirk-baird/events{/privacy}",
    "received_events_url": "https://api.github.com/users/kirk-baird/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 985647281,
      "node_id": "MDU6TGFiZWw5ODU2NDcyODE=",
      "url": "https://api.github.com/repos/sigp/lighthouse/labels/bug",
      "name": "bug",
      "color": "d73a4a",
      "default": true,
      "description": "Something isn't working"
    },
    {
      "id": 1783740159,
      "node_id": "MDU6TGFiZWwxNzgzNzQwMTU5",
      "url": "https://api.github.com/repos/sigp/lighthouse/labels/security",
      "name": "security",
      "color": "d30ca8",
      "default": false,
      "description": ""
    },
    {
      "id": 2034355093,
      "node_id": "MDU6TGFiZWwyMDM0MzU1MDkz",
      "url": "https://api.github.com/repos/sigp/lighthouse/labels/consensus",
      "name": "consensus",
      "color": "5e59bf",
      "default": false,
      "description": "An issue/PR that touches consensus code, such as state_processing or block verification."
    },
    {
      "id": 2490303709,
      "node_id": "MDU6TGFiZWwyNDkwMzAzNzA5",
      "url": "https://api.github.com/repos/sigp/lighthouse/labels/A0",
      "name": "A0",
      "color": "bc3e3a",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": {
    "login": "kirk-baird",
    "id": 27878213,
    "node_id": "MDQ6VXNlcjI3ODc4MjEz",
    "avatar_url": "https://avatars.githubusercontent.com/u/27878213?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/kirk-baird",
    "html_url": "https://github.com/kirk-baird",
    "followers_url": "https://api.github.com/users/kirk-baird/followers",
    "following_url": "https://api.github.com/users/kirk-baird/following{/other_user}",
    "gists_url": "https://api.github.com/users/kirk-baird/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/kirk-baird/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/kirk-baird/subscriptions",
    "organizations_url": "https://api.github.com/users/kirk-baird/orgs",
    "repos_url": "https://api.github.com/users/kirk-baird/repos",
    "events_url": "https://api.github.com/users/kirk-baird/events{/privacy}",
    "received_events_url": "https://api.github.com/users/kirk-baird/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "kirk-baird",
      "id": 27878213,
      "node_id": "MDQ6VXNlcjI3ODc4MjEz",
      "avatar_url": "https://avatars.githubusercontent.com/u/27878213?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kirk-baird",
      "html_url": "https://github.com/kirk-baird",
      "followers_url": "https://api.github.com/users/kirk-baird/followers",
      "following_url": "https://api.github.com/users/kirk-baird/following{/other_user}",
      "gists_url": "https://api.github.com/users/kirk-baird/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kirk-baird/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kirk-baird/subscriptions",
      "organizations_url": "https://api.github.com/users/kirk-baird/orgs",
      "repos_url": "https://api.github.com/users/kirk-baird/repos",
      "events_url": "https://api.github.com/users/kirk-baird/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kirk-baird/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 8,
  "created_at": "2020-07-06T02:39:13Z",
  "updated_at": "2022-11-09T05:03:08Z",
  "closed_at": "2020-11-20T04:36:01Z",
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": "## Description\r\n\r\nThe deposit signature needs to be verified individually and check both the signature subgroup and the public key subgroup. \r\n## Version\r\n\r\n`master`\r\n\r\n## Present Behaviour\r\n\r\nPublicKey subgroups are not checked in the function `fast_aggregate_verify_pre_aggregated()` which is the function currently called by `verify_deposit_signature()`.\r\n\r\n## Expected Behaviour\r\n\r\nPublicKey subgroups should be checked, this is done in `Signature::Verify()`.\r\n\r\n## Steps to resolve\r\n\r\nUpdate the function `verify_deposit_signature()` in `consensus/state_processing/src/per_block_processing/verify_deposit.rs` such that it calls \r\n`Signature::verify()` in `crypto/bls/src/signature.rs`.\r\n",
  "closed_by": {
    "login": "bors[bot]",
    "id": 26634292,
    "node_id": "MDM6Qm90MjY2MzQyOTI=",
    "avatar_url": "https://avatars.githubusercontent.com/in/1847?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/bors%5Bbot%5D",
    "html_url": "https://github.com/apps/bors",
    "followers_url": "https://api.github.com/users/bors%5Bbot%5D/followers",
    "following_url": "https://api.github.com/users/bors%5Bbot%5D/following{/other_user}",
    "gists_url": "https://api.github.com/users/bors%5Bbot%5D/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/bors%5Bbot%5D/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/bors%5Bbot%5D/subscriptions",
    "organizations_url": "https://api.github.com/users/bors%5Bbot%5D/orgs",
    "repos_url": "https://api.github.com/users/bors%5Bbot%5D/repos",
    "events_url": "https://api.github.com/users/bors%5Bbot%5D/events{/privacy}",
    "received_events_url": "https://api.github.com/users/bors%5Bbot%5D/received_events",
    "type": "Bot",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/1333/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/sigp/lighthouse/issues/1333/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/689876835",
    "html_url": "https://github.com/sigp/lighthouse/issues/1333#issuecomment-689876835",
    "issue_url": "https://api.github.com/repos/sigp/lighthouse/issues/1333",
    "id": 689876835,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY4OTg3NjgzNQ==",
    "user": {
      "login": "paulhauner",
      "id": 6660660,
      "node_id": "MDQ6VXNlcjY2NjA2NjA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6660660?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/paulhauner",
      "html_url": "https://github.com/paulhauner",
      "followers_url": "https://api.github.com/users/paulhauner/followers",
      "following_url": "https://api.github.com/users/paulhauner/following{/other_user}",
      "gists_url": "https://api.github.com/users/paulhauner/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/paulhauner/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/paulhauner/subscriptions",
      "organizations_url": "https://api.github.com/users/paulhauner/orgs",
      "repos_url": "https://api.github.com/users/paulhauner/repos",
      "events_url": "https://api.github.com/users/paulhauner/events{/privacy}",
      "received_events_url": "https://api.github.com/users/paulhauner/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-09-09T23:28:25Z",
    "updated_at": "2020-09-09T23:28:25Z",
    "author_association": "MEMBER",
    "body": "Hey @kirk-baird  is this still relevant? :)",
    "reactions": {
      "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/689876835/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/689916310",
    "html_url": "https://github.com/sigp/lighthouse/issues/1333#issuecomment-689916310",
    "issue_url": "https://api.github.com/repos/sigp/lighthouse/issues/1333",
    "id": 689916310,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY4OTkxNjMxMA==",
    "user": {
      "login": "kirk-baird",
      "id": 27878213,
      "node_id": "MDQ6VXNlcjI3ODc4MjEz",
      "avatar_url": "https://avatars.githubusercontent.com/u/27878213?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kirk-baird",
      "html_url": "https://github.com/kirk-baird",
      "followers_url": "https://api.github.com/users/kirk-baird/followers",
      "following_url": "https://api.github.com/users/kirk-baird/following{/other_user}",
      "gists_url": "https://api.github.com/users/kirk-baird/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kirk-baird/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kirk-baird/subscriptions",
      "organizations_url": "https://api.github.com/users/kirk-baird/orgs",
      "repos_url": "https://api.github.com/users/kirk-baird/repos",
      "events_url": "https://api.github.com/users/kirk-baird/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kirk-baird/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-09-10T01:29:39Z",
    "updated_at": "2020-09-10T01:29:39Z",
    "author_association": "MEMBER",
    "body": "> Hey @kirk-baird is this still relevant? :)\r\n\r\nYep this is still relevant, instead of using a signature set for the deposit it would be safer to verify the signature directly.\r\n\r\ni.e. We currently have \r\n```rust\r\n    let deposit_signature_message = deposit_pubkey_signature_message(&deposit_data, spec)\r\n        .ok_or_else(|| error(DepositInvalid::BadBlsBytes))?;\r\n\r\n    verify!(\r\n        deposit_signature_set(&deposit_signature_message).verify(),\r\n        DepositInvalid::BadSignature\r\n    );\r\n```\r\nWhere `deposit_signature_message` is `(PublicKey, SIgnature, Message)`\r\nThe simplest solution is\r\n```rust\r\n    let (pubkey, signature, message) = deposit_pubkey_signature_message(&deposit_data, spec)\r\n        .ok_or_else(|| error(DepositInvalid::BadBlsBytes))?;\r\n\r\n    verify!(\r\n        signature.verify(&pubkey, message).verify(),\r\n        DepositInvalid::BadSignature\r\n    );\r\n```\r\nThis will mean we are no longer parallelising deposit signatures though which would be a little slower.\r\n\r\nThe other option is what is being discussed with the blst guys and I'll ping Andy about our current status. It is to do the subgroup checks when we first deserialise a point then we don't need to worry cause all public keys and signatures will have their subgroup checked by this point.",
    "reactions": {
      "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/689916310/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/698660244",
    "html_url": "https://github.com/sigp/lighthouse/issues/1333#issuecomment-698660244",
    "issue_url": "https://api.github.com/repos/sigp/lighthouse/issues/1333",
    "id": 698660244,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY5ODY2MDI0NA==",
    "user": {
      "login": "paulhauner",
      "id": 6660660,
      "node_id": "MDQ6VXNlcjY2NjA2NjA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6660660?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/paulhauner",
      "html_url": "https://github.com/paulhauner",
      "followers_url": "https://api.github.com/users/paulhauner/followers",
      "following_url": "https://api.github.com/users/paulhauner/following{/other_user}",
      "gists_url": "https://api.github.com/users/paulhauner/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/paulhauner/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/paulhauner/subscriptions",
      "organizations_url": "https://api.github.com/users/paulhauner/orgs",
      "repos_url": "https://api.github.com/users/paulhauner/repos",
      "events_url": "https://api.github.com/users/paulhauner/events{/privacy}",
      "received_events_url": "https://api.github.com/users/paulhauner/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-09-25T00:47:22Z",
    "updated_at": "2020-09-25T00:47:22Z",
    "author_association": "MEMBER",
    "body": "I believe @blacktemplar is working on this now :) ",
    "reactions": {
      "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/698660244/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/699014134",
    "html_url": "https://github.com/sigp/lighthouse/issues/1333#issuecomment-699014134",
    "issue_url": "https://api.github.com/repos/sigp/lighthouse/issues/1333",
    "id": 699014134,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY5OTAxNDEzNA==",
    "user": {
      "login": "blacktemplar",
      "id": 3133334,
      "node_id": "MDQ6VXNlcjMxMzMzMzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3133334?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/blacktemplar",
      "html_url": "https://github.com/blacktemplar",
      "followers_url": "https://api.github.com/users/blacktemplar/followers",
      "following_url": "https://api.github.com/users/blacktemplar/following{/other_user}",
      "gists_url": "https://api.github.com/users/blacktemplar/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/blacktemplar/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/blacktemplar/subscriptions",
      "organizations_url": "https://api.github.com/users/blacktemplar/orgs",
      "repos_url": "https://api.github.com/users/blacktemplar/repos",
      "events_url": "https://api.github.com/users/blacktemplar/events{/privacy}",
      "received_events_url": "https://api.github.com/users/blacktemplar/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-09-25T16:03:48Z",
    "updated_at": "2020-09-25T16:03:48Z",
    "author_association": "CONTRIBUTOR",
    "body": "I started looking into this and I am not sure why @kirk-baird's proposed simple solution should solve the problem.\r\n\r\nI am currently looking into the BLST implementations and there we have the following call stack: \r\n`signature.verify(&pubkey, message)`\r\n-> `signature.point.unwrap().verify(pubkey.point(), message)`\r\n-> `signature.point.unwrap().verify(message.as_bytes(), DST, &[], pubkey.point())`\r\n-> `signature.point.unwrap().aggregate_verify(&[message.as_bytes().as_slice()], DST, &[pubkey.point()])`\r\n\r\nBesides some infinity checks nothing else happens in those calls.\r\n\r\nFollowing the call stack on the currently used method `deposit_signature_set(&deposit_signature_message).verify()` shows that it will also use the `aggregate_verify` function, so without going into detail of that function, either both approaches do subgroup checks or none of them do it. Maybe also relevant this comment: https://github.com/supranational/blst/blob/ce25c7202dacab8fa64a939f05f6efa232b25ea8/bindings/rust/src/lib.rs#L601.\r\n\r\n@kirk-baird do you have any updates about the second solution that checks subgroups on serialization?",
    "reactions": {
      "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/699014134/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/700360517",
    "html_url": "https://github.com/sigp/lighthouse/issues/1333#issuecomment-700360517",
    "issue_url": "https://api.github.com/repos/sigp/lighthouse/issues/1333",
    "id": 700360517,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcwMDM2MDUxNw==",
    "user": {
      "login": "kirk-baird",
      "id": 27878213,
      "node_id": "MDQ6VXNlcjI3ODc4MjEz",
      "avatar_url": "https://avatars.githubusercontent.com/u/27878213?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kirk-baird",
      "html_url": "https://github.com/kirk-baird",
      "followers_url": "https://api.github.com/users/kirk-baird/followers",
      "following_url": "https://api.github.com/users/kirk-baird/following{/other_user}",
      "gists_url": "https://api.github.com/users/kirk-baird/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kirk-baird/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kirk-baird/subscriptions",
      "organizations_url": "https://api.github.com/users/kirk-baird/orgs",
      "repos_url": "https://api.github.com/users/kirk-baird/repos",
      "events_url": "https://api.github.com/users/kirk-baird/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kirk-baird/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-09-29T00:54:40Z",
    "updated_at": "2020-09-29T00:54:40Z",
    "author_association": "MEMBER",
    "body": "Yep this is an open [issue on BLST](https://github.com/supranational/blst/issues/28). It depends where we end up doing the subgroup check. \r\n\r\nThat solution will CURRENTLY works for `milagro_bls` but I will update `milagro_bls` to match `blst` after they've decided where subgroup checks will be done!\r\n\r\nBasically it comes down to a potential optimisation in the BLS libraries using Proof Of Possession that after we've verified ownership of the public key we do not need to check the subgroup again (as we've already done it). \r\n\r\nDeposit (signature, public  key) pairs are where we verify a user has knowledge of the secret key for that public key so we need to enforce public key subgroups are checked. \r\n\r\nOn the other hand these public keys subgroups do not need to be checked for `fast_aggregate_verify()` or `batch_fast_aggregate_verify()` as we assume that the public key is already verified and so the implementation may optimise them out, we just need to confirm whether BLST will optimise these out or not.",
    "reactions": {
      "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/700360517/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/702536325",
    "html_url": "https://github.com/sigp/lighthouse/issues/1333#issuecomment-702536325",
    "issue_url": "https://api.github.com/repos/sigp/lighthouse/issues/1333",
    "id": 702536325,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcwMjUzNjMyNQ==",
    "user": {
      "login": "paulhauner",
      "id": 6660660,
      "node_id": "MDQ6VXNlcjY2NjA2NjA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6660660?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/paulhauner",
      "html_url": "https://github.com/paulhauner",
      "followers_url": "https://api.github.com/users/paulhauner/followers",
      "following_url": "https://api.github.com/users/paulhauner/following{/other_user}",
      "gists_url": "https://api.github.com/users/paulhauner/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/paulhauner/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/paulhauner/subscriptions",
      "organizations_url": "https://api.github.com/users/paulhauner/orgs",
      "repos_url": "https://api.github.com/users/paulhauner/repos",
      "events_url": "https://api.github.com/users/paulhauner/events{/privacy}",
      "received_events_url": "https://api.github.com/users/paulhauner/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-10-02T05:42:02Z",
    "updated_at": "2020-10-02T05:42:02Z",
    "author_association": "MEMBER",
    "body": "Pushing this back to `A1` since we're blocked on BLST and it's not going to happen before the audit.",
    "reactions": {
      "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/702536325/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/723683213",
    "html_url": "https://github.com/sigp/lighthouse/issues/1333#issuecomment-723683213",
    "issue_url": "https://api.github.com/repos/sigp/lighthouse/issues/1333",
    "id": 723683213,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcyMzY4MzIxMw==",
    "user": {
      "login": "paulhauner",
      "id": 6660660,
      "node_id": "MDQ6VXNlcjY2NjA2NjA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6660660?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/paulhauner",
      "html_url": "https://github.com/paulhauner",
      "followers_url": "https://api.github.com/users/paulhauner/followers",
      "following_url": "https://api.github.com/users/paulhauner/following{/other_user}",
      "gists_url": "https://api.github.com/users/paulhauner/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/paulhauner/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/paulhauner/subscriptions",
      "organizations_url": "https://api.github.com/users/paulhauner/orgs",
      "repos_url": "https://api.github.com/users/paulhauner/repos",
      "events_url": "https://api.github.com/users/paulhauner/events{/privacy}",
      "received_events_url": "https://api.github.com/users/paulhauner/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-11-08T23:34:42Z",
    "updated_at": "2020-11-08T23:34:42Z",
    "author_association": "MEMBER",
    "body": "Hey @kirk-baird wondering if this is *still* relevant :laughing: ",
    "reactions": {
      "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/723683213/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 1,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/724441939",
    "html_url": "https://github.com/sigp/lighthouse/issues/1333#issuecomment-724441939",
    "issue_url": "https://api.github.com/repos/sigp/lighthouse/issues/1333",
    "id": 724441939,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcyNDQ0MTkzOQ==",
    "user": {
      "login": "kirk-baird",
      "id": 27878213,
      "node_id": "MDQ6VXNlcjI3ODc4MjEz",
      "avatar_url": "https://avatars.githubusercontent.com/u/27878213?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kirk-baird",
      "html_url": "https://github.com/kirk-baird",
      "followers_url": "https://api.github.com/users/kirk-baird/followers",
      "following_url": "https://api.github.com/users/kirk-baird/following{/other_user}",
      "gists_url": "https://api.github.com/users/kirk-baird/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kirk-baird/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kirk-baird/subscriptions",
      "organizations_url": "https://api.github.com/users/kirk-baird/orgs",
      "repos_url": "https://api.github.com/users/kirk-baird/repos",
      "events_url": "https://api.github.com/users/kirk-baird/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kirk-baird/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-11-10T04:26:41Z",
    "updated_at": "2020-11-10T04:27:10Z",
    "author_association": "MEMBER",
    "body": "Yep although we technically now do a subgroup check, we are using an aggregate verify function which we aren't allowed to use on unverified `PublicKeys`. It would be better practice and safer to avoid `SignatureSets` i.e.\r\n\r\n```rust\r\npub fn verify_deposit_signature(deposit_data: &DepositData, spec: &ChainSpec) -> Result<()> {\r\n    let (public_key, signature, msg) = deposit_pubkey_signature_message(&deposit_data, spec)\r\n        .ok_or_else(|| error(DepositInvalid::BadBlsBytes))?;\r\n\r\n    verify!(\r\n        signature.verify(&public_key, msg)\r\n        DepositInvalid::BadSignature\r\n    );\r\n\r\n    Ok(())\r\n}\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/724441939/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
