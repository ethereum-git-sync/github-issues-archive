{
  "url": "https://api.github.com/repos/sigp/lighthouse/issues/1550",
  "repository_url": "https://api.github.com/repos/sigp/lighthouse",
  "labels_url": "https://api.github.com/repos/sigp/lighthouse/issues/1550/labels{/name}",
  "comments_url": "https://api.github.com/repos/sigp/lighthouse/issues/1550/comments",
  "events_url": "https://api.github.com/repos/sigp/lighthouse/issues/1550/events",
  "html_url": "https://github.com/sigp/lighthouse/issues/1550",
  "id": 681717823,
  "node_id": "MDU6SXNzdWU2ODE3MTc4MjM=",
  "number": 1550,
  "title": "Do not require subnet ID for /validator/attestations HTTP call",
  "user": {
    "login": "mcdee",
    "id": 511384,
    "node_id": "MDQ6VXNlcjUxMTM4NA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/511384?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/mcdee",
    "html_url": "https://github.com/mcdee",
    "followers_url": "https://api.github.com/users/mcdee/followers",
    "following_url": "https://api.github.com/users/mcdee/following{/other_user}",
    "gists_url": "https://api.github.com/users/mcdee/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/mcdee/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/mcdee/subscriptions",
    "organizations_url": "https://api.github.com/users/mcdee/orgs",
    "repos_url": "https://api.github.com/users/mcdee/repos",
    "events_url": "https://api.github.com/users/mcdee/events{/privacy}",
    "received_events_url": "https://api.github.com/users/mcdee/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 2336800343,
      "node_id": "MDU6TGFiZWwyMzM2ODAwMzQz",
      "url": "https://api.github.com/repos/sigp/lighthouse/labels/HTTP-API",
      "name": "HTTP-API",
      "color": "5A63A2",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 1,
  "created_at": "2020-08-19T10:11:42Z",
  "updated_at": "2020-09-29T05:49:53Z",
  "closed_at": "2020-09-29T05:49:53Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "## Description\r\n\r\nAt current the HTTP API for /validator/attestations requires a tuple of [attestation, subnet ID] tuples, for example:\r\n\r\n```\r\n[[{\"aggregation_bits\":\"0x0000020001\",\"data\":{\"slot\":4,\"index\":0,\"beacon_block_root\":\"0x4785cedf475fabfe2007ec4d66c8b5ba7b0238ba5d66a2a094f3a499e9d5d6dc\",\"source\":{\"epoch\":0,\"root\":\"0x0000000000000000000000000000000000000000000000000000000000000000\"},\"target\":{\"epoch\":0,\"root\":\"0x67e8f3bbea8ceb4e8edf51e4eab4f9adae6ea02d3161e9343ede833321dc4572\"}},\"signature\":\"0x93a56d422333e83876dda94cc0295a7a316638ae6c9ff15c636bd4740c4358f4842e49b90c8f498ab1f0368f743b9d5f083010f5e5c402a83aca71eeed0e53fe7a2d999c4054794f10b16036cd4a7efd0c488f4eb8afea240e5ad22c3598a2bd\"},0]]\r\n```\r\n\r\nThe requirement for the subnet ID appears spurious, in that the beacon node works out the subnet ID itself and complains if the supplied value is incorrect:\r\n\r\n```\r\nInvalidSubnetId { received: SubnetId(0), expected: SubnetId(4) }\r\n```\r\n\r\nOf course, if there is a good reason to pass and return the subnet ID then this request may be incorrect.\r\n\r\n## Version\r\n\r\n```\r\n$ git rev-parse HEAD\r\nfdc6e2aa8ec5aeeba6740b85df1d284caad526fa\r\n```\r\n\r\n## Present Behaviour\r\n\r\nThe subnet ID is required, and required to be correct, for the attestation to be processed.\r\n\r\n## Expected Behaviour\r\n\r\nThe subnet ID should not be required for acceptance of the attestation.\r\n\r\n## Steps to resolve\r\n\r\nThere are a couple of ways this could be addressed:\r\n  - alter the API so that it does not require a subnet ID\r\n  - ignore the supplied subnet ID value for validation, and use the one calculated by the beacon node for broadcast\r\n\r\nThe latter would be easier to accomplish, given that the HTTP API is likely to be replaced with the standard API at some point in the near future.\r\n",
  "closed_by": {
    "login": "paulhauner",
    "id": 6660660,
    "node_id": "MDQ6VXNlcjY2NjA2NjA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6660660?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/paulhauner",
    "html_url": "https://github.com/paulhauner",
    "followers_url": "https://api.github.com/users/paulhauner/followers",
    "following_url": "https://api.github.com/users/paulhauner/following{/other_user}",
    "gists_url": "https://api.github.com/users/paulhauner/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/paulhauner/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/paulhauner/subscriptions",
    "organizations_url": "https://api.github.com/users/paulhauner/orgs",
    "repos_url": "https://api.github.com/users/paulhauner/repos",
    "events_url": "https://api.github.com/users/paulhauner/events{/privacy}",
    "received_events_url": "https://api.github.com/users/paulhauner/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/1550/reactions",
    "total_count": 1,
    "+1": 1,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/sigp/lighthouse/issues/1550/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/700457452",
    "html_url": "https://github.com/sigp/lighthouse/issues/1550#issuecomment-700457452",
    "issue_url": "https://api.github.com/repos/sigp/lighthouse/issues/1550",
    "id": 700457452,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcwMDQ1NzQ1Mg==",
    "user": {
      "login": "paulhauner",
      "id": 6660660,
      "node_id": "MDQ6VXNlcjY2NjA2NjA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6660660?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/paulhauner",
      "html_url": "https://github.com/paulhauner",
      "followers_url": "https://api.github.com/users/paulhauner/followers",
      "following_url": "https://api.github.com/users/paulhauner/following{/other_user}",
      "gists_url": "https://api.github.com/users/paulhauner/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/paulhauner/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/paulhauner/subscriptions",
      "organizations_url": "https://api.github.com/users/paulhauner/orgs",
      "repos_url": "https://api.github.com/users/paulhauner/repos",
      "events_url": "https://api.github.com/users/paulhauner/events{/privacy}",
      "received_events_url": "https://api.github.com/users/paulhauner/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-09-29T05:49:51Z",
    "updated_at": "2020-09-29T05:49:51Z",
    "author_association": "MEMBER",
    "body": "Resolved via #1569",
    "reactions": {
      "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/700457452/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
