{
  "url": "https://api.github.com/repos/sigp/lighthouse/issues/1109",
  "repository_url": "https://api.github.com/repos/sigp/lighthouse",
  "labels_url": "https://api.github.com/repos/sigp/lighthouse/issues/1109/labels{/name}",
  "comments_url": "https://api.github.com/repos/sigp/lighthouse/issues/1109/comments",
  "events_url": "https://api.github.com/repos/sigp/lighthouse/issues/1109/events",
  "html_url": "https://github.com/sigp/lighthouse/issues/1109",
  "id": 612970004,
  "node_id": "MDU6SXNzdWU2MTI5NzAwMDQ=",
  "number": 1109,
  "title": "Block pruning warnings",
  "user": {
    "login": "paulhauner",
    "id": 6660660,
    "node_id": "MDQ6VXNlcjY2NjA2NjA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6660660?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/paulhauner",
    "html_url": "https://github.com/paulhauner",
    "followers_url": "https://api.github.com/users/paulhauner/followers",
    "following_url": "https://api.github.com/users/paulhauner/following{/other_user}",
    "gists_url": "https://api.github.com/users/paulhauner/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/paulhauner/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/paulhauner/subscriptions",
    "organizations_url": "https://api.github.com/users/paulhauner/orgs",
    "repos_url": "https://api.github.com/users/paulhauner/repos",
    "events_url": "https://api.github.com/users/paulhauner/events{/privacy}",
    "received_events_url": "https://api.github.com/users/paulhauner/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 985647281,
      "node_id": "MDU6TGFiZWw5ODU2NDcyODE=",
      "url": "https://api.github.com/repos/sigp/lighthouse/labels/bug",
      "name": "bug",
      "color": "d73a4a",
      "default": true,
      "description": "Something isn't working"
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2020-05-06T00:12:41Z",
  "updated_at": "2020-05-16T03:23:32Z",
  "closed_at": "2020-05-16T03:23:32Z",
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": "## Description\r\n\r\nWhen connecting to the schlesi testnet I'm seeing a lot of pruning warnings.\r\n\r\nThis seems to happen consistently (3 times in a row).\r\n\r\n## Version\r\n\r\nRunning on: https://github.com/sigp/lighthouse/pull/1108\r\n\r\n## Present Behaviour\r\n\r\nProduces these errors:\r\n\r\n```\r\nMay 06 09:56:33.668 WARN Ethereum 2.0 is pre-release. This software is experimental.\r\nMay 06 09:56:33.668 INFO Data directory initialised              datadir: /home/paul/.lighthouse\r\nMay 06 09:56:33.722 INFO Starting from known genesis state       service: beacon\r\nMay 06 09:56:33.765 INFO Block production enabled                method: json rpc via http, endpoint: http://127.0.0.1:8545\r\nMay 06 09:56:33.779 INFO Beacon chain initialized                head_slot: 0, head_block: 0xc9cb…db82, head_state: 0x55f8…c2fc, service: beacon\r\nMay 06 09:56:33.779 INFO Libp2p Service                          peer_id: PeerId(\"16Uiu2HAmDvur2Z7P52MrkSoEPPL1Lyens6EG7uWW26tzGtWzBpMM\"), service: network\r\nMay 06 09:56:33.779 INFO ENR Initialised                         tcp: Some(9000), udp: None, ip: None, id: 0x1847..8aa7, seq: 1, enr: enr:-KO4QK4krY0c85KZBTmIk_21Hnqh84FA8dTsCzY8fSLu9t4sMrlZE7JUdLzPkNjBLEP1qHyk6nedIBXok8eCUXH004EBh2F0dG5ldHOIAAAAAAAAAACEZXRoMpCZJe_WAAAAAP__________gmlkgnY0iXNlY3AyNTZrMaEDEu_i97dPSc1696UspLrWvmPIBi6AR9n-hXsTXD2r3riDdGNwgiMo, service: network\r\nMay 06 09:56:33.780 INFO Listening established                   address: /ip4/0.0.0.0/tcp/9000/p2p/16Uiu2HAmDvur2Z7P52MrkSoEPPL1Lyens6EG7uWW26tzGtWzBpMM, service: network\r\nMay 06 09:56:33.780 INFO Subscribed to topics                    topics: [BeaconBlock, BeaconAggregateAndProof, VoluntaryExit, ProposerSlashing, AttesterSlashing], service: network\r\nMay 06 09:56:33.780 INFO HTTP API started                        port: 5052, address: 127.0.0.1, service: http\r\nMay 06 09:56:34.228 INFO Imported deposit log(s)                 new: 319, total: 319, latest_block: 2637321, service: eth1_rpc\r\nMay 06 09:56:34.790 INFO Address updated                         udp_port: 9000, ip: 106.69.117.38, service: network\r\nMay 06 09:56:35.749 INFO Sync state updated                      new_state: Syncing Finalized Chain, old_state: Stalled, service: sync, service: network\r\nMay 06 09:56:35.783 WARN Received old metadata                   new_seq_no: 0, known_seq_no: 0, peer_id: 16Uiu2HAmNYCpko7ahZrZrzcpJRjL6bJ3JmPFiCbb9bgR3UHbHBsH, service: network\r\nMay 06 09:56:42.000 INFO Syncing                                 est_time: --, speed: --, distance: 60056 slots (1 weeks 1 days), peers: 4, service: slot_notifier\r\nMay 06 09:56:42.858 WARN Block pruning failed: BeaconStateError(MissingBeaconBlock(SignedBeaconBlockHash(0x5819495ec9507f02740fdb6e01984147559163675cf8025ee9b769e81399a293))), service: freezer_db\r\nMay 06 09:56:48.577 WARN Block pruning failed: BeaconStateError(MissingBeaconBlock(SignedBeaconBlockHash(0x4a039fd2115461a97018599a5a7ef0458861a3dac6d9dfa7fb0ca07e9381c2b6))), service: freezer_db\r\nMay 06 09:56:52.364 WARN Block pruning failed: BeaconStateError(MissingBeaconBlock(SignedBeaconBlockHash(0x0535d46c838916c14e427d6a9e91c4ee745d23715f2e9efc7d1551f51228a273))), service: freezer_db\r\nMay 06 09:56:54.005 INFO Syncing                                 est_time: 3 mins, speed: 298.57 slots/sec, distance: 56473 slots (1 weeks 1 days), peers: 4, service: slot_notifier\r\nMay 06 09:56:59.203 WARN Block pruning failed: BeaconStateError(MissingBeaconBlock(SignedBeaconBlockHash(0x8324c07d87ee9a994c7850edd28b4351302694db0e572d4336d57068369c1695))), service: freezer_db\r\nMay 06 09:57:03.923 WARN Block pruning failed: BeaconStateError(MissingBeaconBlock(SignedBeaconBlockHash(0x0229701ee5e33a26d8808948284e47877f5b6505864c511b8c105826c15c0f84))), service: freezer_db\r\nMay 06 09:57:04.079 WARN Block pruning failed: BeaconStateError(MissingBeaconBlock(SignedBeaconBlockHash(0xa70ca29ffc20b4259dda419f6d504e51335322ae8433b232a176caac8b816fdc))), service: freezer_db\r\nMay 06 09:57:04.252 WARN Block pruning failed: BeaconStateError(MissingBeaconBlock(SignedBeaconBlockHash(0x2d1bc7b80589c9eacf206e438cf55ffe83520d61f80f2eb3eb1ad83688bcdbd1))), service: freezer_db\r\nMay 06 09:57:05.889 INFO Imported eth1 block(s)                  new: 4096, total_cached_blocks: 4096, latest_block: 2645005, latest_block_age: 256 mins, service: eth1_rpc\r\nMay 06 09:57:06.000 INFO Syncing                                 est_time: 4 mins, speed: 250.62 slots/sec, distance: 54043 slots (1 weeks 1 days), peers: 4, service: slot_notifier\r\nMay 06 09:57:12.908 INFO Imported eth1 block(s)                  new: 1, total_cached_blocks: 4096, latest_block: 2645006, latest_block_age: 256 mins, service: eth1_rpc\r\n```\r\n\r\n## Steps to reproduce:\r\n\r\n```\r\ngit checkout bake-in-schlesi\r\ncargo install --path lighthouse --force\r\nlighthouse bn --http\r\n```\r\n",
  "closed_by": {
    "login": "paulhauner",
    "id": 6660660,
    "node_id": "MDQ6VXNlcjY2NjA2NjA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6660660?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/paulhauner",
    "html_url": "https://github.com/paulhauner",
    "followers_url": "https://api.github.com/users/paulhauner/followers",
    "following_url": "https://api.github.com/users/paulhauner/following{/other_user}",
    "gists_url": "https://api.github.com/users/paulhauner/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/paulhauner/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/paulhauner/subscriptions",
    "organizations_url": "https://api.github.com/users/paulhauner/orgs",
    "repos_url": "https://api.github.com/users/paulhauner/repos",
    "events_url": "https://api.github.com/users/paulhauner/events{/privacy}",
    "received_events_url": "https://api.github.com/users/paulhauner/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/1109/reactions",
    "total_count": 1,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 1
  },
  "timeline_url": "https://api.github.com/repos/sigp/lighthouse/issues/1109/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/624651280",
    "html_url": "https://github.com/sigp/lighthouse/issues/1109#issuecomment-624651280",
    "issue_url": "https://api.github.com/repos/sigp/lighthouse/issues/1109",
    "id": 624651280,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYyNDY1MTI4MA==",
    "user": {
      "login": "adaszko",
      "id": 165678,
      "node_id": "MDQ6VXNlcjE2NTY3OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/165678?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/adaszko",
      "html_url": "https://github.com/adaszko",
      "followers_url": "https://api.github.com/users/adaszko/followers",
      "following_url": "https://api.github.com/users/adaszko/following{/other_user}",
      "gists_url": "https://api.github.com/users/adaszko/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/adaszko/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/adaszko/subscriptions",
      "organizations_url": "https://api.github.com/users/adaszko/orgs",
      "repos_url": "https://api.github.com/users/adaszko/repos",
      "events_url": "https://api.github.com/users/adaszko/events{/privacy}",
      "received_events_url": "https://api.github.com/users/adaszko/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-05-06T13:31:41Z",
    "updated_at": "2020-05-06T13:31:54Z",
    "author_association": "CONTRIBUTOR",
    "body": "The deleted `bake-in-schlesi` branch corresponds to https://github.com/sigp/lighthouse/commit/1552f9997ef61c1ab4d3b6bb6da9041d09daacd4",
    "reactions": {
      "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/624651280/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/628650403",
    "html_url": "https://github.com/sigp/lighthouse/issues/1109#issuecomment-628650403",
    "issue_url": "https://api.github.com/repos/sigp/lighthouse/issues/1109",
    "id": 628650403,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYyODY1MDQwMw==",
    "user": {
      "login": "adaszko",
      "id": 165678,
      "node_id": "MDQ6VXNlcjE2NTY3OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/165678?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/adaszko",
      "html_url": "https://github.com/adaszko",
      "followers_url": "https://api.github.com/users/adaszko/followers",
      "following_url": "https://api.github.com/users/adaszko/following{/other_user}",
      "gists_url": "https://api.github.com/users/adaszko/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/adaszko/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/adaszko/subscriptions",
      "organizations_url": "https://api.github.com/users/adaszko/orgs",
      "repos_url": "https://api.github.com/users/adaszko/repos",
      "events_url": "https://api.github.com/users/adaszko/events{/privacy}",
      "received_events_url": "https://api.github.com/users/adaszko/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-05-14T13:51:32Z",
    "updated_at": "2020-05-14T13:51:32Z",
    "author_association": "CONTRIBUTOR",
    "body": "It's the head from the `head_tracker` that sometimes doesn't have a corresponding block in the store and thus produces the error.",
    "reactions": {
      "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/628650403/reactions",
      "total_count": 4,
      "+1": 2,
      "-1": 0,
      "laugh": 0,
      "hooray": 2,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
