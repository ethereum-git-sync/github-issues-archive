{
  "url": "https://api.github.com/repos/sigp/lighthouse/issues/2139",
  "repository_url": "https://api.github.com/repos/sigp/lighthouse",
  "labels_url": "https://api.github.com/repos/sigp/lighthouse/issues/2139/labels{/name}",
  "comments_url": "https://api.github.com/repos/sigp/lighthouse/issues/2139/comments",
  "events_url": "https://api.github.com/repos/sigp/lighthouse/issues/2139/events",
  "html_url": "https://github.com/sigp/lighthouse/issues/2139",
  "id": 777325715,
  "node_id": "MDU6SXNzdWU3NzczMjU3MTU=",
  "number": 2139,
  "title": "Support custom http headers for remote eth1 endpoints",
  "user": {
    "login": "elsesiy",
    "id": 7075075,
    "node_id": "MDQ6VXNlcjcwNzUwNzU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/7075075?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/elsesiy",
    "html_url": "https://github.com/elsesiy",
    "followers_url": "https://api.github.com/users/elsesiy/followers",
    "following_url": "https://api.github.com/users/elsesiy/following{/other_user}",
    "gists_url": "https://api.github.com/users/elsesiy/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/elsesiy/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/elsesiy/subscriptions",
    "organizations_url": "https://api.github.com/users/elsesiy/orgs",
    "repos_url": "https://api.github.com/users/elsesiy/repos",
    "events_url": "https://api.github.com/users/elsesiy/events{/privacy}",
    "received_events_url": "https://api.github.com/users/elsesiy/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 985647284,
      "node_id": "MDU6TGFiZWw5ODU2NDcyODQ=",
      "url": "https://api.github.com/repos/sigp/lighthouse/labels/enhancement",
      "name": "enhancement",
      "color": "a2eeef",
      "default": true,
      "description": "New feature or request"
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 5,
  "created_at": "2021-01-01T17:57:39Z",
  "updated_at": "2022-09-12T08:15:56Z",
  "closed_at": "2022-09-12T08:15:56Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "## Description\r\n\r\nA user can either run a local eth1 endpoint via geth, oe, etc. or use a remote service such as Infura, Alchemy, etc. When opting for the latter, providers usually offer multiple layers to secure API access which is good practices especially if using a paid tier.\r\n\r\n`--eth1-endpoints` allows the user to specify multiple endpoints but doesn't allow for additional configurations per endpoint such as custom HTTP headers. However, these are required to implement said additional security measures.\r\n\r\nInfura example:\r\nhttps://infura.io/docs/ethereum#section/Securing-Your-Credentials/Authenticating-using-a-Project-ID-and-Project-Secret\r\n\r\n## Version\r\n`v1.0.6-f183af2`\r\n\r\n## Present Behaviour\r\n\r\nA user is limited to whatever config can be provided via path params.\r\n\r\n## Expected Behaviour\r\n\r\nUser should be able to specify custom HTTP headers per eth1 endpoint or general request modifications such as using a different (custom) user agent.\r\n",
  "closed_by": {
    "login": "paulhauner",
    "id": 6660660,
    "node_id": "MDQ6VXNlcjY2NjA2NjA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6660660?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/paulhauner",
    "html_url": "https://github.com/paulhauner",
    "followers_url": "https://api.github.com/users/paulhauner/followers",
    "following_url": "https://api.github.com/users/paulhauner/following{/other_user}",
    "gists_url": "https://api.github.com/users/paulhauner/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/paulhauner/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/paulhauner/subscriptions",
    "organizations_url": "https://api.github.com/users/paulhauner/orgs",
    "repos_url": "https://api.github.com/users/paulhauner/repos",
    "events_url": "https://api.github.com/users/paulhauner/events{/privacy}",
    "received_events_url": "https://api.github.com/users/paulhauner/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/2139/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/sigp/lighthouse/issues/2139/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/754264993",
    "html_url": "https://github.com/sigp/lighthouse/issues/2139#issuecomment-754264993",
    "issue_url": "https://api.github.com/repos/sigp/lighthouse/issues/2139",
    "id": 754264993,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc1NDI2NDk5Mw==",
    "user": {
      "login": "jcracknell",
      "id": 1903829,
      "node_id": "MDQ6VXNlcjE5MDM4Mjk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1903829?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jcracknell",
      "html_url": "https://github.com/jcracknell",
      "followers_url": "https://api.github.com/users/jcracknell/followers",
      "following_url": "https://api.github.com/users/jcracknell/following{/other_user}",
      "gists_url": "https://api.github.com/users/jcracknell/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jcracknell/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jcracknell/subscriptions",
      "organizations_url": "https://api.github.com/users/jcracknell/orgs",
      "repos_url": "https://api.github.com/users/jcracknell/repos",
      "events_url": "https://api.github.com/users/jcracknell/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jcracknell/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-01-04T22:36:30Z",
    "updated_at": "2021-01-04T22:36:30Z",
    "author_association": "NONE",
    "body": "You may be able to authenticate using HTTP basic authentication by embedding it in the URL:\r\n\r\n    https://:<project-secret>@<network>.infura.io/v3/YOUR-PROJECT-ID\r\n\r\nNote the `:` indicating an empty username.",
    "reactions": {
      "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/754264993/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/754296863",
    "html_url": "https://github.com/sigp/lighthouse/issues/2139#issuecomment-754296863",
    "issue_url": "https://api.github.com/repos/sigp/lighthouse/issues/2139",
    "id": 754296863,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc1NDI5Njg2Mw==",
    "user": {
      "login": "elsesiy",
      "id": 7075075,
      "node_id": "MDQ6VXNlcjcwNzUwNzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7075075?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/elsesiy",
      "html_url": "https://github.com/elsesiy",
      "followers_url": "https://api.github.com/users/elsesiy/followers",
      "following_url": "https://api.github.com/users/elsesiy/following{/other_user}",
      "gists_url": "https://api.github.com/users/elsesiy/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/elsesiy/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/elsesiy/subscriptions",
      "organizations_url": "https://api.github.com/users/elsesiy/orgs",
      "repos_url": "https://api.github.com/users/elsesiy/repos",
      "events_url": "https://api.github.com/users/elsesiy/events{/privacy}",
      "received_events_url": "https://api.github.com/users/elsesiy/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-01-04T23:56:01Z",
    "updated_at": "2021-01-04T23:56:01Z",
    "author_association": "NONE",
    "body": "@jcracknell This won't work for `Bearer` or any other scheme afaik & it still won't be possible to specify e.g. a custom user agent ",
    "reactions": {
      "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/754296863/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/798438591",
    "html_url": "https://github.com/sigp/lighthouse/issues/2139#issuecomment-798438591",
    "issue_url": "https://api.github.com/repos/sigp/lighthouse/issues/2139",
    "id": 798438591,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc5ODQzODU5MQ==",
    "user": {
      "login": "omniproc",
      "id": 2482535,
      "node_id": "MDQ6VXNlcjI0ODI1MzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2482535?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/omniproc",
      "html_url": "https://github.com/omniproc",
      "followers_url": "https://api.github.com/users/omniproc/followers",
      "following_url": "https://api.github.com/users/omniproc/following{/other_user}",
      "gists_url": "https://api.github.com/users/omniproc/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/omniproc/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/omniproc/subscriptions",
      "organizations_url": "https://api.github.com/users/omniproc/orgs",
      "repos_url": "https://api.github.com/users/omniproc/repos",
      "events_url": "https://api.github.com/users/omniproc/events{/privacy}",
      "received_events_url": "https://api.github.com/users/omniproc/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-03-13T14:25:19Z",
    "updated_at": "2021-03-13T14:25:19Z",
    "author_association": "NONE",
    "body": "@elsesiy true but what's the use case? You want to make sure requests are authenticated.  Infura offers the *option* to speficy a user-agent to somewhat limit access but that doesn't really protect you from much and it certainly isn't desireable over HTTP basic auth. Basic auth is as good as anything to fullfill the requirement you initially named. Why do you need bearer auth?",
    "reactions": {
      "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/798438591/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/798997245",
    "html_url": "https://github.com/sigp/lighthouse/issues/2139#issuecomment-798997245",
    "issue_url": "https://api.github.com/repos/sigp/lighthouse/issues/2139",
    "id": 798997245,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc5ODk5NzI0NQ==",
    "user": {
      "login": "paulhauner",
      "id": 6660660,
      "node_id": "MDQ6VXNlcjY2NjA2NjA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6660660?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/paulhauner",
      "html_url": "https://github.com/paulhauner",
      "followers_url": "https://api.github.com/users/paulhauner/followers",
      "following_url": "https://api.github.com/users/paulhauner/following{/other_user}",
      "gists_url": "https://api.github.com/users/paulhauner/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/paulhauner/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/paulhauner/subscriptions",
      "organizations_url": "https://api.github.com/users/paulhauner/orgs",
      "repos_url": "https://api.github.com/users/paulhauner/repos",
      "events_url": "https://api.github.com/users/paulhauner/events{/privacy}",
      "received_events_url": "https://api.github.com/users/paulhauner/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-03-14T23:07:37Z",
    "updated_at": "2021-03-14T23:07:56Z",
    "author_association": "MEMBER",
    "body": "@elsesiy I'd be interested in the following:\r\n\r\n- Are there any providers which *don't* work with the simple token-in-the-url scheme?\r\n- Do the other eth2 or eth1 clients already provide this header functionality?\r\n\r\nIt's a reasonable amount of complexity to add these headers and I'm not sure exactly what's to gain. When using HTTPS the information in the URL is encrypted in exactly the same way as the header. If we add CLI flags to configure headers then they're going to be exposed to the shell in the same was as with the current scheme.",
    "reactions": {
      "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/798997245/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/1243374859",
    "html_url": "https://github.com/sigp/lighthouse/issues/2139#issuecomment-1243374859",
    "issue_url": "https://api.github.com/repos/sigp/lighthouse/issues/2139",
    "id": 1243374859,
    "node_id": "IC_kwDOCFeAzc5KHGUL",
    "user": {
      "login": "paulhauner",
      "id": 6660660,
      "node_id": "MDQ6VXNlcjY2NjA2NjA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6660660?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/paulhauner",
      "html_url": "https://github.com/paulhauner",
      "followers_url": "https://api.github.com/users/paulhauner/followers",
      "following_url": "https://api.github.com/users/paulhauner/following{/other_user}",
      "gists_url": "https://api.github.com/users/paulhauner/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/paulhauner/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/paulhauner/subscriptions",
      "organizations_url": "https://api.github.com/users/paulhauner/orgs",
      "repos_url": "https://api.github.com/users/paulhauner/repos",
      "events_url": "https://api.github.com/users/paulhauner/events{/privacy}",
      "received_events_url": "https://api.github.com/users/paulhauner/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-09-12T08:15:56Z",
    "updated_at": "2022-09-12T08:15:56Z",
    "author_association": "MEMBER",
    "body": "I'm going to close this for two reasons:\r\n\r\n1. Inactivity\r\n2. Since the merge, remote \"eth1 endpoints\" are no longer relevant. All users should have a local EE and I'm not sure why it would need further authentication.",
    "reactions": {
      "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/1243374859/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
