{
  "url": "https://api.github.com/repos/sigp/lighthouse/issues/947",
  "repository_url": "https://api.github.com/repos/sigp/lighthouse",
  "labels_url": "https://api.github.com/repos/sigp/lighthouse/issues/947/labels{/name}",
  "comments_url": "https://api.github.com/repos/sigp/lighthouse/issues/947/comments",
  "events_url": "https://api.github.com/repos/sigp/lighthouse/issues/947/events",
  "html_url": "https://github.com/sigp/lighthouse/issues/947",
  "id": 585524179,
  "node_id": "MDU6SXNzdWU1ODU1MjQxNzk=",
  "number": 947,
  "title": "Cannot get SSZ: No eth1 genesis block found",
  "user": {
    "login": "q9f",
    "id": 58883403,
    "node_id": "MDQ6VXNlcjU4ODgzNDAz",
    "avatar_url": "https://avatars.githubusercontent.com/u/58883403?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/q9f",
    "html_url": "https://github.com/q9f",
    "followers_url": "https://api.github.com/users/q9f/followers",
    "following_url": "https://api.github.com/users/q9f/following{/other_user}",
    "gists_url": "https://api.github.com/users/q9f/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/q9f/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/q9f/subscriptions",
    "organizations_url": "https://api.github.com/users/q9f/orgs",
    "repos_url": "https://api.github.com/users/q9f/repos",
    "events_url": "https://api.github.com/users/q9f/events{/privacy}",
    "received_events_url": "https://api.github.com/users/q9f/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 985647281,
      "node_id": "MDU6TGFiZWw5ODU2NDcyODE=",
      "url": "https://api.github.com/repos/sigp/lighthouse/labels/bug",
      "name": "bug",
      "color": "d73a4a",
      "default": true,
      "description": "Something isn't working"
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": {
    "login": "paulhauner",
    "id": 6660660,
    "node_id": "MDQ6VXNlcjY2NjA2NjA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6660660?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/paulhauner",
    "html_url": "https://github.com/paulhauner",
    "followers_url": "https://api.github.com/users/paulhauner/followers",
    "following_url": "https://api.github.com/users/paulhauner/following{/other_user}",
    "gists_url": "https://api.github.com/users/paulhauner/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/paulhauner/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/paulhauner/subscriptions",
    "organizations_url": "https://api.github.com/users/paulhauner/orgs",
    "repos_url": "https://api.github.com/users/paulhauner/repos",
    "events_url": "https://api.github.com/users/paulhauner/events{/privacy}",
    "received_events_url": "https://api.github.com/users/paulhauner/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "paulhauner",
      "id": 6660660,
      "node_id": "MDQ6VXNlcjY2NjA2NjA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6660660?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/paulhauner",
      "html_url": "https://github.com/paulhauner",
      "followers_url": "https://api.github.com/users/paulhauner/followers",
      "following_url": "https://api.github.com/users/paulhauner/following{/other_user}",
      "gists_url": "https://api.github.com/users/paulhauner/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/paulhauner/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/paulhauner/subscriptions",
      "organizations_url": "https://api.github.com/users/paulhauner/orgs",
      "repos_url": "https://api.github.com/users/paulhauner/repos",
      "events_url": "https://api.github.com/users/paulhauner/events{/privacy}",
      "received_events_url": "https://api.github.com/users/paulhauner/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 1,
  "created_at": "2020-03-21T15:46:28Z",
  "updated_at": "2020-04-01T06:42:25Z",
  "closed_at": "2020-04-01T06:42:25Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "## Description\r\n\r\n`lcli eth1-genesis` fails to get the genesis state.\r\n\r\n## Version\r\n\r\n```\r\n~/.opt/lighthouse master*\r\n❯ git log -n1\r\ncommit a5fbaef469df221f16b84601e78a83b009e13247 (HEAD -> master, origin/master, origin/HEAD)\r\nAuthor: /raw PONG _GHMoaCXLT <58883403+q9f@users.noreply.github.com>\r\nDate:   Fri Mar 20 02:18:31 2020 +0100\r\n\r\n    Github: Add version to issue template (#937)\r\n\r\n~/.opt/lighthouse master*\r\n❯ rustc --version\r\nrustc 1.41.1 (f3e1a954d 2020-02-24)\r\n```\r\n\r\n## Present Behaviour\r\n\r\n```\r\n~/.opt/lighthouse master*\r\n❯ target/release/lcli -s mainnet eth1-genesis --testnet-dir ~/.lighthouse/schlesi --eth1-endpoint http://127.0.0.1:9779\r\n2020-03-21 16:36:58,090 INFO  [lcli::eth1_genesis] Starting service to produce genesis BeaconState from eth1\r\n2020-03-21 16:36:58,090 INFO  [lcli::eth1_genesis] Connecting to eth1 http endpoint: http://127.0.0.1:9779\r\nMar 21 16:37:05.174 DEBG No eth1 genesis block found             cache_head: None, cached_deposits: 0, cached_blocks: 0, min_validator_count: 16, min_genesis_time: 1584316800, latest_block_timestamp: None\r\nMar 21 16:37:12.258 DEBG No eth1 genesis block found             cache_head: None, cached_deposits: 0, cached_blocks: 0, min_validator_count: 16, min_genesis_time: 1584316800, latest_block_timestamp: None\r\nMar 21 16:37:19.342 INFO Minimum genesis deposit count met       block_number: 2366961, deposit_count: 16\r\nMar 21 16:37:19.576 TRCE Eth1 block inspected for genesis        validators: 0, active_validators: 0\r\nMar 21 16:37:19.577 INFO Inspected new eth1 block                block_number: 2366961, msg: did not trigger genesis\r\nMar 21 16:37:19.709 TRCE Eth1 block inspected for genesis        validators: 0, active_validators: 0\r\nMar 21 16:37:19.709 INFO Inspected new eth1 block                block_number: 2366962, msg: did not trigger genesis\r\nMar 21 16:37:19.819 TRCE Eth1 block inspected for genesis        validators: 0, active_validators: 0\r\nMar 21 16:37:19.819 INFO Inspected new eth1 block                block_number: 2366963, msg: did not trigger genesis\r\nMar 21 16:37:19.969 TRCE Eth1 block inspected for genesis        validators: 0, active_validators: 0\r\nMar 21 16:37:19.969 INFO Inspected new eth1 block                block_number: 2366964, msg: did not trigger genesis\r\nMar 21 16:37:20.155 TRCE Eth1 block inspected for genesis        validators: 0, active_validators: 0\r\nMar 21 16:37:20.155 INFO Inspected new eth1 block                block_number: 2366965, msg: did not trigger genesis\r\nMar 21 16:37:20.155 DEBG No eth1 genesis block found             cache_head: 2366965, cached_deposits: 16, cached_blocks: 5, min_validator_count: 16, min_genesis_time: 1584316800, latest_block_timestamp: 1584536091\r\nMar 21 16:37:27.414 TRCE Eth1 block inspected for genesis        validators: 0, active_validators: 0\r\nMar 21 16:37:27.414 INFO Inspected new eth1 block                block_number: 2366966, msg: did not trigger genesis\r\nMar 21 16:37:27.517 TRCE Eth1 block inspected for genesis        validators: 0, active_validators: 0\r\nMar 21 16:37:27.517 INFO Inspected new eth1 block                block_number: 2366967, msg: did not trigger genesis\r\nMar 21 16:37:27.630 TRCE Eth1 block inspected for genesis        validators: 0, active_validators: 0\r\nMar 21 16:37:27.630 INFO Inspected new eth1 block                block_number: 2366968, msg: did not trigger genesis\r\nMar 21 16:37:27.751 TRCE Eth1 block inspected for genesis        validators: 0, active_validators: 0\r\nMar 21 16:37:27.751 INFO Inspected new eth1 block                block_number: 2366969, msg: did not trigger genesis\r\nMar 21 16:37:27.894 TRCE Eth1 block inspected for genesis        validators: 0, active_validators: 0\r\nMar 21 16:37:27.894 INFO Inspected new eth1 block                block_number: 2366970, msg: did not trigger genesis\r\nMar 21 16:37:27.895 DEBG No eth1 genesis block found             cache_head: 2366970, cached_deposits: 16, cached_blocks: 10, min_validator_count: 16, min_genesis_time: 1584316800, latest_block_timestamp: 1584536166\r\nMar 21 16:37:35.376 TRCE Eth1 block inspected for genesis        validators: 0, active_validators: 0\r\nMar 21 16:37:35.377 INFO Inspected new eth1 block                block_number: 2366971, msg: did not trigger genesis\r\nMar 21 16:37:35.534 TRCE Eth1 block inspected for genesis        validators: 0, active_validators: 0\r\nMar 21 16:37:35.534 INFO Inspected new eth1 block                block_number: 2366972, msg: did not trigger genesis\r\nMar 21 16:37:35.670 TRCE Eth1 block inspected for genesis        validators: 0, active_validators: 0\r\nMar 21 16:37:35.670 INFO Inspected new eth1 block                block_number: 2366973, msg: did not trigger genesis\r\nMar 21 16:37:35.840 TRCE Eth1 block inspected for genesis        validators: 0, active_validators: 0\r\nMar 21 16:37:35.841 INFO Inspected new eth1 block                block_number: 2366974, msg: did not trigger genesis\r\nMar 21 16:37:36.046 TRCE Eth1 block inspected for genesis        validators: 0, active_validators: 0\r\nMar 21 16:37:36.046 INFO Inspected new eth1 block                block_number: 2366975, msg: did not trigger genesis\r\nMar 21 16:37:36.046 DEBG No eth1 genesis block found             cache_head: 2366975, cached_deposits: 16, cached_blocks: 15, min_validator_count: 16, min_genesis_time: 1584316800, latest_block_timestamp: 1584536241\r\nMar 21 16:37:43.390 TRCE Eth1 block inspected for genesis        validators: 0, active_validators: 0\r\nMar 21 16:37:43.390 INFO Inspected new eth1 block                block_number: 2366976, msg: did not trigger genesis\r\nMar 21 16:37:43.543 TRCE Eth1 block inspected for genesis        validators: 0, active_validators: 0\r\nMar 21 16:37:43.543 INFO Inspected new eth1 block                block_number: 2366977, msg: did not trigger genesis\r\nMar 21 16:37:43.696 TRCE Eth1 block inspected for genesis        validators: 0, active_validators: 0\r\nMar 21 16:37:43.696 INFO Inspected new eth1 block                block_number: 2366978, msg: did not trigger genesis\r\nMar 21 16:37:43.863 TRCE Eth1 block inspected for genesis        validators: 0, active_validators: 0\r\nMar 21 16:37:43.863 INFO Inspected new eth1 block                block_number: 2366979, msg: did not trigger genesis\r\nMar 21 16:37:43.987 TRCE Eth1 block inspected for genesis        validators: 0, active_validators: 0\r\nMar 21 16:37:43.987 INFO Inspected new eth1 block                block_number: 2366980, msg: did not trigger genesis\r\nMar 21 16:37:43.988 DEBG No eth1 genesis block found             cache_head: 2366980, cached_deposits: 24, cached_blocks: 20, min_validator_count: 16, min_genesis_time: 1584316800, latest_block_timestamp: 1584536316\r\nMar 21 16:37:51.211 TRCE Eth1 block inspected for genesis        validators: 0, active_validators: 0\r\nMar 21 16:37:51.212 INFO Inspected new eth1 block                block_number: 2366981, msg: did not trigger genesis\r\nMar 21 16:37:51.369 TRCE Eth1 block inspected for genesis        validators: 0, active_validators: 0\r\nMar 21 16:37:51.369 INFO Inspected new eth1 block                block_number: 2366982, msg: did not trigger genesis\r\nMar 21 16:37:51.498 TRCE Eth1 block inspected for genesis        validators: 0, active_validators: 0\r\nMar 21 16:37:51.498 INFO Inspected new eth1 block                block_number: 2366983, msg: did not trigger genesis\r\nMar 21 16:37:51.640 TRCE Eth1 block inspected for genesis        validators: 0, active_validators: 0\r\nMar 21 16:37:51.641 INFO Inspected new eth1 block                block_number: 2366984, msg: did not trigger genesis\r\nMar 21 16:37:51.844 TRCE Eth1 block inspected for genesis        validators: 0, active_validators: 0\r\nMar 21 16:37:51.844 INFO Inspected new eth1 block                block_number: 2366985, msg: did not trigger genesis\r\nMar 21 16:37:51.844 DEBG No eth1 genesis block found             cache_head: 2366985, cached_deposits: 24, cached_blocks: 25, min_validator_count: 16, min_genesis_time: 1584316800, latest_block_timestamp: 1584536391\r\n```\r\n\r\n## Expected Behaviour\r\n\r\nThe genesis already occured:\r\n\r\n```\r\nMar 21 16:31:39.231 INFO Genesis has already occurred            seconds_ago: 4699\r\n```\r\n\r\nMy beacon chain is synced and I have blocks from local validators:\r\n\r\n```\r\nMar 21 16:44:50.001 INFO Synced                                  slot: 457, epoch: 14, finalized_epoch: 12, finalized_root: 0x874e…ecc0, peers: 3, service: slot_notifier\r\nMar 21 16:44:56.468 INFO Block from local validator              block_slot: 458, block_root: 0xaba6…7090, service: http\r\nMar 21 16:45:02.000 INFO Synced                                  slot: 458, epoch: 14, finalized_epoch: 12, finalized_root: 0x874e…ecc0, peers: 3, service: slot_notifier\r\nMar 21 16:45:08.233 INFO Block from local validator              block_slot: 459, block_root: 0x76ee…0fd3, service: http\r\nMar 21 16:45:12.014 INFO Attestation from local validator        slot: 459, index: 0, source: 13, target: 13, service: http\r\nMar 21 16:45:14.000 INFO Synced                                  slot: 459, epoch: 14, finalized_epoch: 12, finalized_root: 0x874e…ecc0, peers: 3, service: slot_notifier\r\n```\r\n\r\n`lcli eth1-genesis` should get the genesis state but it doesn't.\r\n\r\n## Steps to resolve\r\n\r\nUnknown.\r\n",
  "closed_by": {
    "login": "paulhauner",
    "id": 6660660,
    "node_id": "MDQ6VXNlcjY2NjA2NjA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6660660?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/paulhauner",
    "html_url": "https://github.com/paulhauner",
    "followers_url": "https://api.github.com/users/paulhauner/followers",
    "following_url": "https://api.github.com/users/paulhauner/following{/other_user}",
    "gists_url": "https://api.github.com/users/paulhauner/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/paulhauner/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/paulhauner/subscriptions",
    "organizations_url": "https://api.github.com/users/paulhauner/orgs",
    "repos_url": "https://api.github.com/users/paulhauner/repos",
    "events_url": "https://api.github.com/users/paulhauner/events{/privacy}",
    "received_events_url": "https://api.github.com/users/paulhauner/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/947/reactions",
    "total_count": 1,
    "+1": 1,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/sigp/lighthouse/issues/947/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/602489629",
    "html_url": "https://github.com/sigp/lighthouse/issues/947#issuecomment-602489629",
    "issue_url": "https://api.github.com/repos/sigp/lighthouse/issues/947",
    "id": 602489629,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYwMjQ4OTYyOQ==",
    "user": {
      "login": "q9f",
      "id": 58883403,
      "node_id": "MDQ6VXNlcjU4ODgzNDAz",
      "avatar_url": "https://avatars.githubusercontent.com/u/58883403?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/q9f",
      "html_url": "https://github.com/q9f",
      "followers_url": "https://api.github.com/users/q9f/followers",
      "following_url": "https://api.github.com/users/q9f/following{/other_user}",
      "gists_url": "https://api.github.com/users/q9f/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/q9f/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/q9f/subscriptions",
      "organizations_url": "https://api.github.com/users/q9f/orgs",
      "repos_url": "https://api.github.com/users/q9f/repos",
      "events_url": "https://api.github.com/users/q9f/events{/privacy}",
      "received_events_url": "https://api.github.com/users/q9f/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-03-23T09:48:52Z",
    "updated_at": "2020-03-23T09:48:52Z",
    "author_association": "CONTRIBUTOR",
    "body": "Workaround:\r\n\r\n```\r\n❯ curl --header \"Accept: application/ssz\" \"localhost:5052/beacon/state/genesis\" -o ~/.lighthouse/testnet/genesis.ssz\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/602489629/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
