{
  "url": "https://api.github.com/repos/sigp/lighthouse/issues/4105",
  "repository_url": "https://api.github.com/repos/sigp/lighthouse",
  "labels_url": "https://api.github.com/repos/sigp/lighthouse/issues/4105/labels{/name}",
  "comments_url": "https://api.github.com/repos/sigp/lighthouse/issues/4105/comments",
  "events_url": "https://api.github.com/repos/sigp/lighthouse/issues/4105/events",
  "html_url": "https://github.com/sigp/lighthouse/issues/4105",
  "id": 1630959328,
  "node_id": "I_kwDOCFeAzc5hNnbg",
  "number": 4105,
  "title": "Cannot Entered PoS Stage",
  "user": {
    "login": "avenbreaks",
    "id": 93043826,
    "node_id": "U_kgDOBYu8cg",
    "avatar_url": "https://avatars.githubusercontent.com/u/93043826?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/avenbreaks",
    "html_url": "https://github.com/avenbreaks",
    "followers_url": "https://api.github.com/users/avenbreaks/followers",
    "following_url": "https://api.github.com/users/avenbreaks/following{/other_user}",
    "gists_url": "https://api.github.com/users/avenbreaks/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/avenbreaks/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/avenbreaks/subscriptions",
    "organizations_url": "https://api.github.com/users/avenbreaks/orgs",
    "repos_url": "https://api.github.com/users/avenbreaks/repos",
    "events_url": "https://api.github.com/users/avenbreaks/events{/privacy}",
    "received_events_url": "https://api.github.com/users/avenbreaks/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 1,
  "created_at": "2023-03-19T14:11:07Z",
  "updated_at": "2023-03-20T10:50:03Z",
  "closed_at": "2023-03-20T10:50:03Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "#### Description\r\n\r\nGeth Cannot Entered PoS Stage and Lighthouse error updating deposit contract cache. I'm running 1 geth node 2 beacon lighthouse and 1 validator node lighthouse on 1 VM Server. I don't join any network but I build my own public network.\r\n\r\n#### Version\r\nPlease provide your Lighthouse and Rust version. : `stable` \r\n\r\n### Logs\r\n**GETH** : \r\n```\r\nWARN [03-19|22:02:57.813] Beacon client online, but never received consensus updates. Please ensure your beacon client is operational to follow the chain! \r\nINFO [03-19|22:02:58.534] Looking for peers                        peercount=1 tried=205 static=0\r\nINFO [03-19|22:03:08.563] Looking for peers                        peercount=0 tried=99  static=0\r\nINFO [03-19|22:03:18.572] Looking for peers                        peercount=0 tried=232 static=0\r\nINFO [03-19|22:03:28.578] Looking for peers                        peercount=0 tried=183 static=0\r\nINFO [03-19|22:03:38.877] Looking for peers                        peercount=1 tried=54  static=0\r\nINFO [03-19|22:03:49.484] Looking for peers                        peercount=0 tried=124 static=0\r\n```\r\n**Beacon 1 & 2** : \r\n```\r\nMar 19 14:06:52.645 WARN Invalid execution chain ID. Please switch to correct chain ID on endpoint, received: Custom(18881), expected: Custom(1881), endpoint: http://127.0.0.1:8551/, auth=true, service: deposit_contract_rpc\r\nMar 19 14:06:52.645 ERRO Error updating deposit contract cache   error: Invalid endpoint state: WrongChainId, retry_millis: 60000, service: deposit_contract_rpc\r\nMar 19 14:06:55.000 WARN Low peer count                          peer_count: 1, service: slot_notifier\r\nMar 19 14:06:55.001 INFO Synced                                  slot: 144, block:    …  empty, epoch: 4, finalized_epoch: 0, finalized_root: 0x0066…98e3, exec_hash: n/a, peers: 1, service: slot_notifier\r\nMar 19 14:06:55.001 WARN Syncing deposit contract block cache    est_blocks_remaining: initializing deposits, service: slot_notifier\r\nMar 19 14:06:55.002 INFO Ready for the merge                     current_difficulty: 1, terminal_total_difficulty: 0, service: slot_notifier\r\nMar 19 14:07:07.001 WARN Low peer count                          peer_count: 1, service: slot_notifier\r\nMar 19 14:07:07.001 INFO Synced                                  slot: 145, block:    …  empty, epoch: 4, finalized_epoch: 0, finalized_root: 0x0066…98e3, exec_hash: n/a, peers: 1, service: slot_notifier\r\n```\r\nValidator : \r\n```\r\nMar 19 14:07:55.001 INFO Awaiting activation                     slot: 149, epoch: 4, validators: 8, service: notifier\r\nMar 19 14:08:07.000 INFO Connected to beacon node(s)             synced: 1, available: 1, total: 1, service: notifier\r\nMar 19 14:08:07.001 INFO Awaiting activation                     slot: 150, epoch: 4, validators: 8, service: notifier\r\nMar 19 14:08:19.000 INFO Connected to beacon node(s)             synced: 1, available: 1, total: 1, service: notifier\r\nMar 19 14:08:19.001 INFO Awaiting activation                     slot: 151, epoch: 4, validators: 8, service: notifier\r\nMar 19 14:08:31.000 INFO Connected to beacon node(s)             synced: 1, available: 1, total: 1, service: notifier\r\nMar 19 14:08:31.001 INFO Awaiting activation                     slot: 152, epoch: 4, validators: 8, service: notifier\r\nMar 19 14:08:43.001 INFO Connected to beacon node(s)             synced: 1, available: 1, total: 1, service: notifier\r\nMar 19 14:08:43.001 INFO Awaiting activation                     slot: 153, epoch: 4, validators: 8, service: notifier\r\nMar 19 14:08:55.001 INFO Connected to beacon node(s)             synced: 1, available: 1, total: 1, service: notifier\r\nMar 19 14:08:55.001 INFO Awaiting activation                     slot: 154, epoch: 4, validators: 8, service: notifier\r\nMar 19 14:09:07.000 INFO Connected to beacon node(s)             synced: 1, available: 1, total: 1, service: notifier\r\nMar 19 14:09:07.001 INFO Awaiting activation                     slot: 155, epoch: 4, validators: 8, service: notifier\r\nMar 19 14:09:19.000 INFO Connected to beacon node(s)             synced: 1, available: 1, total: 1, service: notifier\r\nMar 19 14:09:19.001 INFO Awaiting activation                     slot: 156, epoch: 4, validators: 8, service: notifier\r\n```\r\n\r\n",
  "closed_by": {
    "login": "avenbreaks",
    "id": 93043826,
    "node_id": "U_kgDOBYu8cg",
    "avatar_url": "https://avatars.githubusercontent.com/u/93043826?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/avenbreaks",
    "html_url": "https://github.com/avenbreaks",
    "followers_url": "https://api.github.com/users/avenbreaks/followers",
    "following_url": "https://api.github.com/users/avenbreaks/following{/other_user}",
    "gists_url": "https://api.github.com/users/avenbreaks/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/avenbreaks/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/avenbreaks/subscriptions",
    "organizations_url": "https://api.github.com/users/avenbreaks/orgs",
    "repos_url": "https://api.github.com/users/avenbreaks/repos",
    "events_url": "https://api.github.com/users/avenbreaks/events{/privacy}",
    "received_events_url": "https://api.github.com/users/avenbreaks/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/4105/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/sigp/lighthouse/issues/4105/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/1475705346",
    "html_url": "https://github.com/sigp/lighthouse/issues/4105#issuecomment-1475705346",
    "issue_url": "https://api.github.com/repos/sigp/lighthouse/issues/4105",
    "id": 1475705346,
    "node_id": "IC_kwDOCFeAzc5X9XoC",
    "user": {
      "login": "jimmygchen",
      "id": 742762,
      "node_id": "MDQ6VXNlcjc0Mjc2Mg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/742762?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jimmygchen",
      "html_url": "https://github.com/jimmygchen",
      "followers_url": "https://api.github.com/users/jimmygchen/followers",
      "following_url": "https://api.github.com/users/jimmygchen/following{/other_user}",
      "gists_url": "https://api.github.com/users/jimmygchen/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jimmygchen/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jimmygchen/subscriptions",
      "organizations_url": "https://api.github.com/users/jimmygchen/orgs",
      "repos_url": "https://api.github.com/users/jimmygchen/repos",
      "events_url": "https://api.github.com/users/jimmygchen/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jimmygchen/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-03-20T06:47:04Z",
    "updated_at": "2023-03-20T06:47:04Z",
    "author_association": "MEMBER",
    "body": "I think the first line of warning in your Beacon node logs indicates a config mismatch between the Beacon node and Geth. Check the `DEPOSIT_CHAIN_ID` and `DEPOSIT_NETWORK_ID ` in your beacon node config file `config.yaml` and make sure it matches the `chainId ` in your `genesis.json` file for Geth.\r\n\r\nI don't think you can connect multiple Lighthouse beacon nodes to a single geth node, unless you run a [multiplexer](https://github.com/michaelsproul/eleel) for the execution client. Is there any reason you need to run 2 instances on the same server?\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/1475705346/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
