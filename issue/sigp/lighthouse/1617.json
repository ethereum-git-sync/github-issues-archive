{
  "url": "https://api.github.com/repos/sigp/lighthouse/issues/1617",
  "repository_url": "https://api.github.com/repos/sigp/lighthouse",
  "labels_url": "https://api.github.com/repos/sigp/lighthouse/issues/1617/labels{/name}",
  "comments_url": "https://api.github.com/repos/sigp/lighthouse/issues/1617/comments",
  "events_url": "https://api.github.com/repos/sigp/lighthouse/issues/1617/events",
  "html_url": "https://github.com/sigp/lighthouse/issues/1617",
  "id": 700673339,
  "node_id": "MDU6SXNzdWU3MDA2NzMzMzk=",
  "number": 1617,
  "title": "IPv6 IPv4 dual compatibility",
  "user": {
    "login": "AgeManning",
    "id": 7454587,
    "node_id": "MDQ6VXNlcjc0NTQ1ODc=",
    "avatar_url": "https://avatars.githubusercontent.com/u/7454587?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/AgeManning",
    "html_url": "https://github.com/AgeManning",
    "followers_url": "https://api.github.com/users/AgeManning/followers",
    "following_url": "https://api.github.com/users/AgeManning/following{/other_user}",
    "gists_url": "https://api.github.com/users/AgeManning/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/AgeManning/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/AgeManning/subscriptions",
    "organizations_url": "https://api.github.com/users/AgeManning/orgs",
    "repos_url": "https://api.github.com/users/AgeManning/repos",
    "events_url": "https://api.github.com/users/AgeManning/events{/privacy}",
    "received_events_url": "https://api.github.com/users/AgeManning/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 2336800125,
      "node_id": "MDU6TGFiZWwyMzM2ODAwMTI1",
      "url": "https://api.github.com/repos/sigp/lighthouse/labels/t%20Networking",
      "name": "t Networking",
      "color": "40E0D0",
      "default": false,
      "description": ""
    },
    {
      "id": 2490305485,
      "node_id": "MDU6TGFiZWwyNDkwMzA1NDg1",
      "url": "https://api.github.com/repos/sigp/lighthouse/labels/A2",
      "name": "A2",
      "color": "000000",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": {
    "login": "divagant-martian",
    "id": 26765164,
    "node_id": "MDQ6VXNlcjI2NzY1MTY0",
    "avatar_url": "https://avatars.githubusercontent.com/u/26765164?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/divagant-martian",
    "html_url": "https://github.com/divagant-martian",
    "followers_url": "https://api.github.com/users/divagant-martian/followers",
    "following_url": "https://api.github.com/users/divagant-martian/following{/other_user}",
    "gists_url": "https://api.github.com/users/divagant-martian/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/divagant-martian/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/divagant-martian/subscriptions",
    "organizations_url": "https://api.github.com/users/divagant-martian/orgs",
    "repos_url": "https://api.github.com/users/divagant-martian/repos",
    "events_url": "https://api.github.com/users/divagant-martian/events{/privacy}",
    "received_events_url": "https://api.github.com/users/divagant-martian/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "divagant-martian",
      "id": 26765164,
      "node_id": "MDQ6VXNlcjI2NzY1MTY0",
      "avatar_url": "https://avatars.githubusercontent.com/u/26765164?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/divagant-martian",
      "html_url": "https://github.com/divagant-martian",
      "followers_url": "https://api.github.com/users/divagant-martian/followers",
      "following_url": "https://api.github.com/users/divagant-martian/following{/other_user}",
      "gists_url": "https://api.github.com/users/divagant-martian/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/divagant-martian/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/divagant-martian/subscriptions",
      "organizations_url": "https://api.github.com/users/divagant-martian/orgs",
      "repos_url": "https://api.github.com/users/divagant-martian/repos",
      "events_url": "https://api.github.com/users/divagant-martian/events{/privacy}",
      "received_events_url": "https://api.github.com/users/divagant-martian/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 13,
  "created_at": "2020-09-13T23:50:38Z",
  "updated_at": "2023-06-13T06:55:44Z",
  "closed_at": "2023-06-13T06:55:44Z",
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": "## Description\r\n\r\nCare has not been taken to handle computers with IPv4 and IPv6 dual stacks. Preferences have been made throughout Lighthouse and the underlying network protocols to favour IPv4. Examples include CLI args setting up the HTTP API, ENR socket addresses, Libp2p listening address (only supports one address and IPv6 \"::\" currently doesn't function). \r\n\r\nWe should update Lighthouse and sub-protocols to preference IPv6 if supported and fallback to IPv4 if not. ",
  "closed_by": {
    "login": "AgeManning",
    "id": 7454587,
    "node_id": "MDQ6VXNlcjc0NTQ1ODc=",
    "avatar_url": "https://avatars.githubusercontent.com/u/7454587?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/AgeManning",
    "html_url": "https://github.com/AgeManning",
    "followers_url": "https://api.github.com/users/AgeManning/followers",
    "following_url": "https://api.github.com/users/AgeManning/following{/other_user}",
    "gists_url": "https://api.github.com/users/AgeManning/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/AgeManning/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/AgeManning/subscriptions",
    "organizations_url": "https://api.github.com/users/AgeManning/orgs",
    "repos_url": "https://api.github.com/users/AgeManning/repos",
    "events_url": "https://api.github.com/users/AgeManning/events{/privacy}",
    "received_events_url": "https://api.github.com/users/AgeManning/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/1617/reactions",
    "total_count": 4,
    "+1": 4,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/sigp/lighthouse/issues/1617/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/700257223",
    "html_url": "https://github.com/sigp/lighthouse/issues/1617#issuecomment-700257223",
    "issue_url": "https://api.github.com/repos/sigp/lighthouse/issues/1617",
    "id": 700257223,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcwMDI1NzIyMw==",
    "user": {
      "login": "ChuckNorrison",
      "id": 2964146,
      "node_id": "MDQ6VXNlcjI5NjQxNDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2964146?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ChuckNorrison",
      "html_url": "https://github.com/ChuckNorrison",
      "followers_url": "https://api.github.com/users/ChuckNorrison/followers",
      "following_url": "https://api.github.com/users/ChuckNorrison/following{/other_user}",
      "gists_url": "https://api.github.com/users/ChuckNorrison/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ChuckNorrison/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ChuckNorrison/subscriptions",
      "organizations_url": "https://api.github.com/users/ChuckNorrison/orgs",
      "repos_url": "https://api.github.com/users/ChuckNorrison/repos",
      "events_url": "https://api.github.com/users/ChuckNorrison/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ChuckNorrison/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-09-28T20:14:41Z",
    "updated_at": "2020-09-28T20:15:39Z",
    "author_association": "NONE",
    "body": "prysm is behaving like that, it makes it very hard to find the culprit why port forwardings are not working. only a netstat give the user a hint to disable IPv6 via GRUB to get it working... you really want to make those ipv6 hell at the lighthouse? Which benefit?\r\n\r\nIt should be parameterized if implemented...",
    "reactions": {
      "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/700257223/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/700347235",
    "html_url": "https://github.com/sigp/lighthouse/issues/1617#issuecomment-700347235",
    "issue_url": "https://api.github.com/repos/sigp/lighthouse/issues/1617",
    "id": 700347235,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcwMDM0NzIzNQ==",
    "user": {
      "login": "AgeManning",
      "id": 7454587,
      "node_id": "MDQ6VXNlcjc0NTQ1ODc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7454587?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/AgeManning",
      "html_url": "https://github.com/AgeManning",
      "followers_url": "https://api.github.com/users/AgeManning/followers",
      "following_url": "https://api.github.com/users/AgeManning/following{/other_user}",
      "gists_url": "https://api.github.com/users/AgeManning/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/AgeManning/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/AgeManning/subscriptions",
      "organizations_url": "https://api.github.com/users/AgeManning/orgs",
      "repos_url": "https://api.github.com/users/AgeManning/repos",
      "events_url": "https://api.github.com/users/AgeManning/events{/privacy}",
      "received_events_url": "https://api.github.com/users/AgeManning/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-09-29T00:09:39Z",
    "updated_at": "2020-09-29T00:09:39Z",
    "author_association": "MEMBER",
    "body": "Firstly, love the name and github profile pic! \r\n\r\nI guess preferencing IPv6 by default isn't ideal as you've pointed out. I think having the support and checking all protocols have the correct support will be useful and then preferencing via a CLI param, such as --ipv6. ",
    "reactions": {
      "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/700347235/reactions",
      "total_count": 2,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 2,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/809318106",
    "html_url": "https://github.com/sigp/lighthouse/issues/1617#issuecomment-809318106",
    "issue_url": "https://api.github.com/repos/sigp/lighthouse/issues/1617",
    "id": 809318106,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgwOTMxODEwNg==",
    "user": {
      "login": "andrejpodzimek",
      "id": 947737,
      "node_id": "MDQ6VXNlcjk0NzczNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/947737?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/andrejpodzimek",
      "html_url": "https://github.com/andrejpodzimek",
      "followers_url": "https://api.github.com/users/andrejpodzimek/followers",
      "following_url": "https://api.github.com/users/andrejpodzimek/following{/other_user}",
      "gists_url": "https://api.github.com/users/andrejpodzimek/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/andrejpodzimek/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/andrejpodzimek/subscriptions",
      "organizations_url": "https://api.github.com/users/andrejpodzimek/orgs",
      "repos_url": "https://api.github.com/users/andrejpodzimek/repos",
      "events_url": "https://api.github.com/users/andrejpodzimek/events{/privacy}",
      "received_events_url": "https://api.github.com/users/andrejpodzimek/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-03-29T11:55:35Z",
    "updated_at": "2021-03-29T11:55:35Z",
    "author_association": "NONE",
    "body": "Automatic preference of IPv6 may not have been ideal 15+ years ago, but *today* is not 15+ years ago. :wink: IPv6 is (quite fortunately) preferred on most systems by default.\r\n\r\n(IMHO, instead of an `--ipv6` flag, it might be better to require extra flags for sticking with IPv4, e.g. `--my-network-is-misconfigured`.)\r\n\r\nSide-note: “Wildcard” sockets (bound to `::`) work perfectly fine with all sorts of IPv4 port forwarding (DNAT, SNAT, etc.). They accept both IPv6 and IPv4 connections. (More details are in [`man 7 ipv6`](https://www.unix.com/man-page/posix/7/ipv6/), for example.)\r\n\r\nThat said, APIs around `getaddrinfo()` and BSD sockets (intentionally) make dual-stack support a simple and effortless default. By contrast, exclusion of IPv6 requires extra effort, in addition to being unkind to legacy-free, IPv6-only networks.\r\n\r\n\r\nFor the record, there is [a very similar problem in `openethereum`](https://github.com/openethereum/openethereum/issues/156): One can set IPv6 addresses for certain services (while others stubbornly reject them), but even with IPv6 addresses set there seem to be no IPv6 connections.\r\n\r\nSadly, such^^^ bugs are quite hard to fix, because they are often embedded deep in the underlying libraries and not directly in `lighthouse` or `openethereum`. Which I discovered the hard way when attempting to run eth1 and eth2 on different machines on my IPv6-only network.",
    "reactions": {
      "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/809318106/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/809327613",
    "html_url": "https://github.com/sigp/lighthouse/issues/1617#issuecomment-809327613",
    "issue_url": "https://api.github.com/repos/sigp/lighthouse/issues/1617",
    "id": 809327613,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgwOTMyNzYxMw==",
    "user": {
      "login": "andrejpodzimek",
      "id": 947737,
      "node_id": "MDQ6VXNlcjk0NzczNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/947737?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/andrejpodzimek",
      "html_url": "https://github.com/andrejpodzimek",
      "followers_url": "https://api.github.com/users/andrejpodzimek/followers",
      "following_url": "https://api.github.com/users/andrejpodzimek/following{/other_user}",
      "gists_url": "https://api.github.com/users/andrejpodzimek/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/andrejpodzimek/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/andrejpodzimek/subscriptions",
      "organizations_url": "https://api.github.com/users/andrejpodzimek/orgs",
      "repos_url": "https://api.github.com/users/andrejpodzimek/repos",
      "events_url": "https://api.github.com/users/andrejpodzimek/events{/privacy}",
      "received_events_url": "https://api.github.com/users/andrejpodzimek/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-03-29T12:12:18Z",
    "updated_at": "2021-03-29T12:12:18Z",
    "author_association": "NONE",
    "body": "[These](https://github.com/sigp/lighthouse/search?q=%22is+not+a+valid+IPv4+address%22) are (some of) the code locations in `lighthouse` that explicitly require IPv4. I’m struggling to understand why: Is anything IPv4-related hardcoded into the Ethereum protocol(s), making IPv4 addresses a necessity? Many (most?) IPv6 address parsers can parse IPv4 addresses in a backward-compatible way while also supporting native IPv6.",
    "reactions": {
      "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/809327613/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/810627346",
    "html_url": "https://github.com/sigp/lighthouse/issues/1617#issuecomment-810627346",
    "issue_url": "https://api.github.com/repos/sigp/lighthouse/issues/1617",
    "id": 810627346,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgxMDYyNzM0Ng==",
    "user": {
      "login": "AgeManning",
      "id": 7454587,
      "node_id": "MDQ6VXNlcjc0NTQ1ODc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7454587?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/AgeManning",
      "html_url": "https://github.com/AgeManning",
      "followers_url": "https://api.github.com/users/AgeManning/followers",
      "following_url": "https://api.github.com/users/AgeManning/following{/other_user}",
      "gists_url": "https://api.github.com/users/AgeManning/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/AgeManning/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/AgeManning/subscriptions",
      "organizations_url": "https://api.github.com/users/AgeManning/orgs",
      "repos_url": "https://api.github.com/users/AgeManning/repos",
      "events_url": "https://api.github.com/users/AgeManning/events{/privacy}",
      "received_events_url": "https://api.github.com/users/AgeManning/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-03-30T22:45:05Z",
    "updated_at": "2021-03-30T22:45:05Z",
    "author_association": "MEMBER",
    "body": "The main issue is discv5 and libp2p. \r\n\r\nLast i checked libp2p had full support but there was an issue with binding to `::`. \r\n\r\nAs for discovery, we have things called ENR records, which store key value of ip4/ip6 ports on which to connect to. It needs to be updated to handle the cases where nodes are on different ip versions and make decisions about how we are going to connect. \r\n\r\nDoing this update is on our to-do list. \r\n\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/810627346/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/1116723772",
    "html_url": "https://github.com/sigp/lighthouse/issues/1617#issuecomment-1116723772",
    "issue_url": "https://api.github.com/repos/sigp/lighthouse/issues/1617",
    "id": 1116723772,
    "node_id": "IC_kwDOCFeAzc5Cj9o8",
    "user": {
      "login": "torfbolt",
      "id": 233423,
      "node_id": "MDQ6VXNlcjIzMzQyMw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/233423?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/torfbolt",
      "html_url": "https://github.com/torfbolt",
      "followers_url": "https://api.github.com/users/torfbolt/followers",
      "following_url": "https://api.github.com/users/torfbolt/following{/other_user}",
      "gists_url": "https://api.github.com/users/torfbolt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/torfbolt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/torfbolt/subscriptions",
      "organizations_url": "https://api.github.com/users/torfbolt/orgs",
      "repos_url": "https://api.github.com/users/torfbolt/repos",
      "events_url": "https://api.github.com/users/torfbolt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/torfbolt/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-05-03T22:34:10Z",
    "updated_at": "2022-05-03T22:34:10Z",
    "author_association": "NONE",
    "body": "I'd like to bump this issue, ipv6 is not the future any more, it's the present. Not having dual stack support excludes a large user base (those behind carrier grade NAT) from inbound connections, and thereby makes the peering process unnecessarily inefficient.\r\n\r\nAre there upstream tickets for the mentioned issues in libp2p? Can you maybe link them to improve awareness?",
    "reactions": {
      "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/1116723772/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/1117029351",
    "html_url": "https://github.com/sigp/lighthouse/issues/1617#issuecomment-1117029351",
    "issue_url": "https://api.github.com/repos/sigp/lighthouse/issues/1617",
    "id": 1117029351,
    "node_id": "IC_kwDOCFeAzc5ClIPn",
    "user": {
      "login": "one-three-three-seven",
      "id": 35700046,
      "node_id": "MDQ6VXNlcjM1NzAwMDQ2",
      "avatar_url": "https://avatars.githubusercontent.com/u/35700046?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/one-three-three-seven",
      "html_url": "https://github.com/one-three-three-seven",
      "followers_url": "https://api.github.com/users/one-three-three-seven/followers",
      "following_url": "https://api.github.com/users/one-three-three-seven/following{/other_user}",
      "gists_url": "https://api.github.com/users/one-three-three-seven/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/one-three-three-seven/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/one-three-three-seven/subscriptions",
      "organizations_url": "https://api.github.com/users/one-three-three-seven/orgs",
      "repos_url": "https://api.github.com/users/one-three-three-seven/repos",
      "events_url": "https://api.github.com/users/one-three-three-seven/events{/privacy}",
      "received_events_url": "https://api.github.com/users/one-three-three-seven/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-05-04T07:59:53Z",
    "updated_at": "2022-05-04T07:59:53Z",
    "author_association": "NONE",
    "body": "@torfbolt I fully agree with you. This feature is work in progress, you can see the progress there:\r\n\r\nhttps://github.com/sigp/lighthouse/issues/2023\r\nhttps://github.com/sigp/discv5/pull/107\r\n\r\nI have done a lot of testing with different Ethereum clients, the IPv6 support is pretty bad. No client seems to be capable to run within IPv6-only networks by default. I'm currently doing Gitcoin bounties and hope to find developers who are willing to change this. (https://gitcoin.co/issue/sigp/lighthouse/2023/100028713)\r\n\r\nI also found a developer who wants to add full IPv6 support to Nimbus, we are currently waiting for a response from the Nimbus team. I think getting IPv6 support within the whole (infrastructure) ecosystem will take multiple years.",
    "reactions": {
      "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/1117029351/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/1118130647",
    "html_url": "https://github.com/sigp/lighthouse/issues/1617#issuecomment-1118130647",
    "issue_url": "https://api.github.com/repos/sigp/lighthouse/issues/1617",
    "id": 1118130647,
    "node_id": "IC_kwDOCFeAzc5CpVHX",
    "user": {
      "login": "AgeManning",
      "id": 7454587,
      "node_id": "MDQ6VXNlcjc0NTQ1ODc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7454587?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/AgeManning",
      "html_url": "https://github.com/AgeManning",
      "followers_url": "https://api.github.com/users/AgeManning/followers",
      "following_url": "https://api.github.com/users/AgeManning/following{/other_user}",
      "gists_url": "https://api.github.com/users/AgeManning/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/AgeManning/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/AgeManning/subscriptions",
      "organizations_url": "https://api.github.com/users/AgeManning/orgs",
      "repos_url": "https://api.github.com/users/AgeManning/repos",
      "events_url": "https://api.github.com/users/AgeManning/events{/privacy}",
      "received_events_url": "https://api.github.com/users/AgeManning/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-05-05T03:28:01Z",
    "updated_at": "2022-05-05T03:28:01Z",
    "author_association": "MEMBER",
    "body": "Yes. @divagant-martian is currently working on this. The discovery side (arguably) the hardest part is mostly complete and under-review. \r\n\r\nThe support is non-trivial also in p2p networks. If the majority of nodes use ipv4 (currently the case) and can only contact ipv4 nodes, ipv6-only peers could get segregated and fall victim to various attacks such as eclipses. I guess in a p2p setting, its not as simple as a client/server model where you can just enable ipv6 on the server and all the clients. But we are getting there and will need to do a bit of testing. ",
    "reactions": {
      "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/1118130647/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/1124546283",
    "html_url": "https://github.com/sigp/lighthouse/issues/1617#issuecomment-1124546283",
    "issue_url": "https://api.github.com/repos/sigp/lighthouse/issues/1617",
    "id": 1124546283,
    "node_id": "IC_kwDOCFeAzc5DBzbr",
    "user": {
      "login": "AgeManning",
      "id": 7454587,
      "node_id": "MDQ6VXNlcjc0NTQ1ODc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7454587?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/AgeManning",
      "html_url": "https://github.com/AgeManning",
      "followers_url": "https://api.github.com/users/AgeManning/followers",
      "following_url": "https://api.github.com/users/AgeManning/following{/other_user}",
      "gists_url": "https://api.github.com/users/AgeManning/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/AgeManning/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/AgeManning/subscriptions",
      "organizations_url": "https://api.github.com/users/AgeManning/orgs",
      "repos_url": "https://api.github.com/users/AgeManning/repos",
      "events_url": "https://api.github.com/users/AgeManning/events{/privacy}",
      "received_events_url": "https://api.github.com/users/AgeManning/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-05-12T05:31:05Z",
    "updated_at": "2022-05-12T05:31:05Z",
    "author_association": "MEMBER",
    "body": "For those interested in this feature and those watching #2023 \r\n\r\nUpdate: @divagant-martian has completed most of the work required to support this. There are still a few smaller things we need to cover, but for the reasons I'll list below, we do not plan to support this feature until after the merge (the upcoming hard-fork merging the current Ethereum proof of work chain with the beacon chain). \r\n\r\nThere are caveats with IPv6 and dual-stack support:\r\n- We will support IPv6 sockets with mapped addresses - This allows for IPv6-only nodes (to be discussed below) and dual-stack nodes by supporting both IPv4 and IPv6 packets through a single socket (which most modern OS should support). \r\n- All consensus clients use a discovery mechanism called Discv5. Identities on this network are encapsulated as ENRs (Ethereum Node Records) which have the ability to store ipv4 and ipv6 sockets. This protocol has a built-in mechanism that allows us to update our local ENR with our external contactable socket based on what other nodes on the network see our source packets as. So by default, we do not advertise an IPv4 OR an IPv6 address and only after other nodes tell us what they see our external address is, do we update our local ENR. This means, if the current network is dominated by ipv4 nodes, a dual stack node will communicate by ipv4 and subsequently we will only advertise ipv4 in our ENR and ipv6 will never be used. This will only change when more and more users start advertising ipv6, which we may need to bootstrap manually, by manually setting ipv6 in our ENRs. We can aid with this by adjusting the ethereum consensus bootnodes to advertise and support ipv6 addresses.\r\n- IPv6-only nodes - These technically can be supported. But as they cannot connect to ipv4 nodes (which is predominantly the current network) we may see partitions in the network between IPv4 and IPv6-only networks. \r\n\r\nBecause the merge is our current priority and extensive tests have already been done ahead of the mainnet hard fork, we don't want to add any significant changes to the network and possible partitioning before this critical junction. The changes to bootnodes and new code that remains to tested at scale will therefore be released after a successful merge and healthy network.\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/1124546283/reactions",
      "total_count": 4,
      "+1": 4,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/1173509304",
    "html_url": "https://github.com/sigp/lighthouse/issues/1617#issuecomment-1173509304",
    "issue_url": "https://api.github.com/repos/sigp/lighthouse/issues/1617",
    "id": 1173509304,
    "node_id": "IC_kwDOCFeAzc5F8lS4",
    "user": {
      "login": "xrchz",
      "id": 181254,
      "node_id": "MDQ6VXNlcjE4MTI1NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/181254?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/xrchz",
      "html_url": "https://github.com/xrchz",
      "followers_url": "https://api.github.com/users/xrchz/followers",
      "following_url": "https://api.github.com/users/xrchz/following{/other_user}",
      "gists_url": "https://api.github.com/users/xrchz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/xrchz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/xrchz/subscriptions",
      "organizations_url": "https://api.github.com/users/xrchz/orgs",
      "repos_url": "https://api.github.com/users/xrchz/repos",
      "events_url": "https://api.github.com/users/xrchz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/xrchz/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-07-04T08:22:50Z",
    "updated_at": "2022-07-04T08:22:50Z",
    "author_association": "CONTRIBUTOR",
    "body": "Really looking forward to this, and sad I won't be able to test it out before the merge. My nodes will certainly be advertising ipv6.",
    "reactions": {
      "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/1173509304/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/1283748755",
    "html_url": "https://github.com/sigp/lighthouse/issues/1617#issuecomment-1283748755",
    "issue_url": "https://api.github.com/repos/sigp/lighthouse/issues/1617",
    "id": 1283748755,
    "node_id": "IC_kwDOCFeAzc5MhHOT",
    "user": {
      "login": "one-three-three-seven",
      "id": 35700046,
      "node_id": "MDQ6VXNlcjM1NzAwMDQ2",
      "avatar_url": "https://avatars.githubusercontent.com/u/35700046?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/one-three-three-seven",
      "html_url": "https://github.com/one-three-three-seven",
      "followers_url": "https://api.github.com/users/one-three-three-seven/followers",
      "following_url": "https://api.github.com/users/one-three-three-seven/following{/other_user}",
      "gists_url": "https://api.github.com/users/one-three-three-seven/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/one-three-three-seven/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/one-three-three-seven/subscriptions",
      "organizations_url": "https://api.github.com/users/one-three-three-seven/orgs",
      "repos_url": "https://api.github.com/users/one-three-three-seven/repos",
      "events_url": "https://api.github.com/users/one-three-three-seven/events{/privacy}",
      "received_events_url": "https://api.github.com/users/one-three-three-seven/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-10-19T10:04:47Z",
    "updated_at": "2022-10-19T10:04:47Z",
    "author_association": "NONE",
    "body": "> Because the merge is our current priority and extensive tests have already been done ahead of the mainnet hard fork, we don't want to add any significant changes to the network and possible partitioning before this critical junction. The changes to bootnodes and new code that remains to tested at scale will therefore be released after a successful merge and healthy network.\r\n\r\nA short update about the current status would be great. 🙂",
    "reactions": {
      "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/1283748755/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/1284964140",
    "html_url": "https://github.com/sigp/lighthouse/issues/1617#issuecomment-1284964140",
    "issue_url": "https://api.github.com/repos/sigp/lighthouse/issues/1617",
    "id": 1284964140,
    "node_id": "IC_kwDOCFeAzc5Mlv8s",
    "user": {
      "login": "AgeManning",
      "id": 7454587,
      "node_id": "MDQ6VXNlcjc0NTQ1ODc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7454587?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/AgeManning",
      "html_url": "https://github.com/AgeManning",
      "followers_url": "https://api.github.com/users/AgeManning/followers",
      "following_url": "https://api.github.com/users/AgeManning/following{/other_user}",
      "gists_url": "https://api.github.com/users/AgeManning/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/AgeManning/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/AgeManning/subscriptions",
      "organizations_url": "https://api.github.com/users/AgeManning/orgs",
      "repos_url": "https://api.github.com/users/AgeManning/repos",
      "events_url": "https://api.github.com/users/AgeManning/events{/privacy}",
      "received_events_url": "https://api.github.com/users/AgeManning/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-10-20T05:37:05Z",
    "updated_at": "2022-10-20T05:37:05Z",
    "author_association": "MEMBER",
    "body": "Hey. Yep. \r\nSo pretty much all of our code is ready. I'll update Lighthouse's bootnodes and have a chat with other client teams to see what level of support they have. Once our bootnodes are updated and (hopefully a few other clients) we can start onboarding a bunch of ipv6/ipv4 nodes onto the network. We'll start with the testnets before moving to mainnet.\r\nWe'll try to include as many clients as possible, as this is a network change, and should be driven by a few clients in unison.",
    "reactions": {
      "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/1284964140/reactions",
      "total_count": 6,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 6,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/1588658903",
    "html_url": "https://github.com/sigp/lighthouse/issues/1617#issuecomment-1588658903",
    "issue_url": "https://api.github.com/repos/sigp/lighthouse/issues/1617",
    "id": 1588658903,
    "node_id": "IC_kwDOCFeAzc5esQLX",
    "user": {
      "login": "AgeManning",
      "id": 7454587,
      "node_id": "MDQ6VXNlcjc0NTQ1ODc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7454587?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/AgeManning",
      "html_url": "https://github.com/AgeManning",
      "followers_url": "https://api.github.com/users/AgeManning/followers",
      "following_url": "https://api.github.com/users/AgeManning/following{/other_user}",
      "gists_url": "https://api.github.com/users/AgeManning/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/AgeManning/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/AgeManning/subscriptions",
      "organizations_url": "https://api.github.com/users/AgeManning/orgs",
      "repos_url": "https://api.github.com/users/AgeManning/repos",
      "events_url": "https://api.github.com/users/AgeManning/events{/privacy}",
      "received_events_url": "https://api.github.com/users/AgeManning/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-06-13T06:55:44Z",
    "updated_at": "2023-06-13T06:55:44Z",
    "author_association": "MEMBER",
    "body": "This has been officially completed with discv5, lighthouse and our mainnet bootnodes updated. Ipv6 should be supported on the network now.",
    "reactions": {
      "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/1588658903/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
