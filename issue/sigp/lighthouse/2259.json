{
  "url": "https://api.github.com/repos/sigp/lighthouse/issues/2259",
  "repository_url": "https://api.github.com/repos/sigp/lighthouse",
  "labels_url": "https://api.github.com/repos/sigp/lighthouse/issues/2259/labels{/name}",
  "comments_url": "https://api.github.com/repos/sigp/lighthouse/issues/2259/comments",
  "events_url": "https://api.github.com/repos/sigp/lighthouse/issues/2259/events",
  "html_url": "https://github.com/sigp/lighthouse/issues/2259",
  "id": 831481723,
  "node_id": "MDU6SXNzdWU4MzE0ODE3MjM=",
  "number": 2259,
  "title": "Publish the ssz crate to crates.io via CI",
  "user": {
    "login": "paulhauner",
    "id": 6660660,
    "node_id": "MDQ6VXNlcjY2NjA2NjA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6660660?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/paulhauner",
    "html_url": "https://github.com/paulhauner",
    "followers_url": "https://api.github.com/users/paulhauner/followers",
    "following_url": "https://api.github.com/users/paulhauner/following{/other_user}",
    "gists_url": "https://api.github.com/users/paulhauner/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/paulhauner/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/paulhauner/subscriptions",
    "organizations_url": "https://api.github.com/users/paulhauner/orgs",
    "repos_url": "https://api.github.com/users/paulhauner/repos",
    "events_url": "https://api.github.com/users/paulhauner/events{/privacy}",
    "received_events_url": "https://api.github.com/users/paulhauner/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 985647284,
      "node_id": "MDU6TGFiZWw5ODU2NDcyODQ=",
      "url": "https://api.github.com/repos/sigp/lighthouse/labels/enhancement",
      "name": "enhancement",
      "color": "a2eeef",
      "default": true,
      "description": "New feature or request"
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": {
    "login": "realbigsean",
    "id": 5160426,
    "node_id": "MDQ6VXNlcjUxNjA0MjY=",
    "avatar_url": "https://avatars.githubusercontent.com/u/5160426?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/realbigsean",
    "html_url": "https://github.com/realbigsean",
    "followers_url": "https://api.github.com/users/realbigsean/followers",
    "following_url": "https://api.github.com/users/realbigsean/following{/other_user}",
    "gists_url": "https://api.github.com/users/realbigsean/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/realbigsean/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/realbigsean/subscriptions",
    "organizations_url": "https://api.github.com/users/realbigsean/orgs",
    "repos_url": "https://api.github.com/users/realbigsean/repos",
    "events_url": "https://api.github.com/users/realbigsean/events{/privacy}",
    "received_events_url": "https://api.github.com/users/realbigsean/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "realbigsean",
      "id": 5160426,
      "node_id": "MDQ6VXNlcjUxNjA0MjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5160426?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/realbigsean",
      "html_url": "https://github.com/realbigsean",
      "followers_url": "https://api.github.com/users/realbigsean/followers",
      "following_url": "https://api.github.com/users/realbigsean/following{/other_user}",
      "gists_url": "https://api.github.com/users/realbigsean/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/realbigsean/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/realbigsean/subscriptions",
      "organizations_url": "https://api.github.com/users/realbigsean/orgs",
      "repos_url": "https://api.github.com/users/realbigsean/repos",
      "events_url": "https://api.github.com/users/realbigsean/events{/privacy}",
      "received_events_url": "https://api.github.com/users/realbigsean/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 15,
  "created_at": "2021-03-15T06:49:16Z",
  "updated_at": "2021-09-12T23:05:43Z",
  "closed_at": "2021-09-12T23:05:43Z",
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": "## Description\r\n\r\nI own the [`eth2_ssz`](https://crates.io/crates/eth2_ssz) crate which has a very outdated version of SSZ.\r\n\r\nIt would be nice to add something to CI to ensure that we keep that crate updated whenever we merge to `stable`. I could quite easily create an additional owner for the crate and then add their credentials to CI.\r\n",
  "closed_by": {
    "login": "paulhauner",
    "id": 6660660,
    "node_id": "MDQ6VXNlcjY2NjA2NjA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6660660?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/paulhauner",
    "html_url": "https://github.com/paulhauner",
    "followers_url": "https://api.github.com/users/paulhauner/followers",
    "following_url": "https://api.github.com/users/paulhauner/following{/other_user}",
    "gists_url": "https://api.github.com/users/paulhauner/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/paulhauner/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/paulhauner/subscriptions",
    "organizations_url": "https://api.github.com/users/paulhauner/orgs",
    "repos_url": "https://api.github.com/users/paulhauner/repos",
    "events_url": "https://api.github.com/users/paulhauner/events{/privacy}",
    "received_events_url": "https://api.github.com/users/paulhauner/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/2259/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/sigp/lighthouse/issues/2259/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/813735184",
    "html_url": "https://github.com/sigp/lighthouse/issues/2259#issuecomment-813735184",
    "issue_url": "https://api.github.com/repos/sigp/lighthouse/issues/2259",
    "id": 813735184,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgxMzczNTE4NA==",
    "user": {
      "login": "michaelsproul",
      "id": 4452260,
      "node_id": "MDQ6VXNlcjQ0NTIyNjA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4452260?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/michaelsproul",
      "html_url": "https://github.com/michaelsproul",
      "followers_url": "https://api.github.com/users/michaelsproul/followers",
      "following_url": "https://api.github.com/users/michaelsproul/following{/other_user}",
      "gists_url": "https://api.github.com/users/michaelsproul/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/michaelsproul/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/michaelsproul/subscriptions",
      "organizations_url": "https://api.github.com/users/michaelsproul/orgs",
      "repos_url": "https://api.github.com/users/michaelsproul/repos",
      "events_url": "https://api.github.com/users/michaelsproul/events{/privacy}",
      "received_events_url": "https://api.github.com/users/michaelsproul/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-04-06T00:16:46Z",
    "updated_at": "2021-04-06T00:16:46Z",
    "author_association": "MEMBER",
    "body": "One difficulty with auto-publishing crates is determining when they've changed \"enough\" to require a version bump/republish. And I think the version bump needs to be done manually (it needs to already be set in the `Cargo.toml` before attempting to publish). So far the best I can come up with is this:\r\n\r\n1. Have a job on CI that detects code changes to the crate in question and _fails_ if the code is changed without the version being changed. The choice of version change is up to the committer, could be patch/minor/major. We could have scripts to assist with this version bumping process.\r\n2. When code is merged to `stable`, publish any crate whose published version is older than its current version.\r\n\r\nOne flaw in this scheme is that it might force version skips (unless we publish upon any merge to `unstable`). e.g. change code, bump to `v1.1.1`, change again, bump to `v1.1.2`, merge to `stable`: published version jumps `v1.1.0` to `v1.1.2`.",
    "reactions": {
      "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/813735184/reactions",
      "total_count": 2,
      "+1": 2,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/866431639",
    "html_url": "https://github.com/sigp/lighthouse/issues/2259#issuecomment-866431639",
    "issue_url": "https://api.github.com/repos/sigp/lighthouse/issues/2259",
    "id": 866431639,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg2NjQzMTYzOQ==",
    "user": {
      "login": "paulhauner",
      "id": 6660660,
      "node_id": "MDQ6VXNlcjY2NjA2NjA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6660660?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/paulhauner",
      "html_url": "https://github.com/paulhauner",
      "followers_url": "https://api.github.com/users/paulhauner/followers",
      "following_url": "https://api.github.com/users/paulhauner/following{/other_user}",
      "gists_url": "https://api.github.com/users/paulhauner/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/paulhauner/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/paulhauner/subscriptions",
      "organizations_url": "https://api.github.com/users/paulhauner/orgs",
      "repos_url": "https://api.github.com/users/paulhauner/repos",
      "events_url": "https://api.github.com/users/paulhauner/events{/privacy}",
      "received_events_url": "https://api.github.com/users/paulhauner/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-06-23T00:37:37Z",
    "updated_at": "2021-06-23T00:41:25Z",
    "author_association": "MEMBER",
    "body": "Hey @realbigsean, would you be interested in this one when you have some spare time? We'd probably want to publish `ssz_types` as well.",
    "reactions": {
      "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/866431639/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/866432837",
    "html_url": "https://github.com/sigp/lighthouse/issues/2259#issuecomment-866432837",
    "issue_url": "https://api.github.com/repos/sigp/lighthouse/issues/2259",
    "id": 866432837,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg2NjQzMjgzNw==",
    "user": {
      "login": "paulhauner",
      "id": 6660660,
      "node_id": "MDQ6VXNlcjY2NjA2NjA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6660660?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/paulhauner",
      "html_url": "https://github.com/paulhauner",
      "followers_url": "https://api.github.com/users/paulhauner/followers",
      "following_url": "https://api.github.com/users/paulhauner/following{/other_user}",
      "gists_url": "https://api.github.com/users/paulhauner/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/paulhauner/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/paulhauner/subscriptions",
      "organizations_url": "https://api.github.com/users/paulhauner/orgs",
      "repos_url": "https://api.github.com/users/paulhauner/repos",
      "events_url": "https://api.github.com/users/paulhauner/events{/privacy}",
      "received_events_url": "https://api.github.com/users/paulhauner/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-06-23T00:40:04Z",
    "updated_at": "2021-06-23T00:40:14Z",
    "author_association": "MEMBER",
    "body": "Also, I wonder if @sorpaas would be open to us taking over the [`ssz`](https://crates.io/crates/ssz) crate? :pray: I get the feeling that it's not being updated anymore and I'm not sure if it's compatible with the production version of the SSZ spec.",
    "reactions": {
      "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/866432837/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/866841713",
    "html_url": "https://github.com/sigp/lighthouse/issues/2259#issuecomment-866841713",
    "issue_url": "https://api.github.com/repos/sigp/lighthouse/issues/2259",
    "id": 866841713,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg2Njg0MTcxMw==",
    "user": {
      "login": "realbigsean",
      "id": 5160426,
      "node_id": "MDQ6VXNlcjUxNjA0MjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5160426?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/realbigsean",
      "html_url": "https://github.com/realbigsean",
      "followers_url": "https://api.github.com/users/realbigsean/followers",
      "following_url": "https://api.github.com/users/realbigsean/following{/other_user}",
      "gists_url": "https://api.github.com/users/realbigsean/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/realbigsean/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/realbigsean/subscriptions",
      "organizations_url": "https://api.github.com/users/realbigsean/orgs",
      "repos_url": "https://api.github.com/users/realbigsean/repos",
      "events_url": "https://api.github.com/users/realbigsean/events{/privacy}",
      "received_events_url": "https://api.github.com/users/realbigsean/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-06-23T13:35:12Z",
    "updated_at": "2021-06-23T13:35:12Z",
    "author_association": "COLLABORATOR",
    "body": "Can do!",
    "reactions": {
      "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/866841713/reactions",
      "total_count": 2,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 2,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/869446392",
    "html_url": "https://github.com/sigp/lighthouse/issues/2259#issuecomment-869446392",
    "issue_url": "https://api.github.com/repos/sigp/lighthouse/issues/2259",
    "id": 869446392,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg2OTQ0NjM5Mg==",
    "user": {
      "login": "michaelsproul",
      "id": 4452260,
      "node_id": "MDQ6VXNlcjQ0NTIyNjA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4452260?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/michaelsproul",
      "html_url": "https://github.com/michaelsproul",
      "followers_url": "https://api.github.com/users/michaelsproul/followers",
      "following_url": "https://api.github.com/users/michaelsproul/following{/other_user}",
      "gists_url": "https://api.github.com/users/michaelsproul/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/michaelsproul/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/michaelsproul/subscriptions",
      "organizations_url": "https://api.github.com/users/michaelsproul/orgs",
      "repos_url": "https://api.github.com/users/michaelsproul/repos",
      "events_url": "https://api.github.com/users/michaelsproul/events{/privacy}",
      "received_events_url": "https://api.github.com/users/michaelsproul/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-06-28T07:36:41Z",
    "updated_at": "2021-06-28T07:36:41Z",
    "author_association": "MEMBER",
    "body": "If anyone is interested in working around this in the meantime, you can do so using `patch` and `git` dependencies:\r\n\r\n```toml\r\n[package]\r\nname = \"my_package\"\r\nversion = \"0.1.0\"\r\nedition = \"2018\"\r\n\r\n[dependencies]\r\ntypes = { git = \"https://github.com/sigp/lighthouse\", branch = \"stable\" }\r\n\r\n[patch]\r\n[patch.crates-io]\r\ntree_hash = { git = \"https://github.com/sigp/lighthouse\", branch = \"stable\" }\r\ntree_hash_derive = { git = \"https://github.com/sigp/lighthouse\", branch = \"stable\" }\r\neth2_ssz = { git = \"https://github.com/sigp/lighthouse\", branch = \"stable\" }\r\neth2_ssz_derive = { git = \"https://github.com/sigp/lighthouse\", branch = \"stable\" }\r\neth2_ssz_types = { git = \"https://github.com/sigp/lighthouse\", branch = \"stable\" }\r\neth2_hashing = { git = \"https://github.com/sigp/lighthouse\", branch = \"stable\" }\r\n\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/869446392/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/869612620",
    "html_url": "https://github.com/sigp/lighthouse/issues/2259#issuecomment-869612620",
    "issue_url": "https://api.github.com/repos/sigp/lighthouse/issues/2259",
    "id": 869612620,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg2OTYxMjYyMA==",
    "user": {
      "login": "leruaa",
      "id": 3535019,
      "node_id": "MDQ6VXNlcjM1MzUwMTk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3535019?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/leruaa",
      "html_url": "https://github.com/leruaa",
      "followers_url": "https://api.github.com/users/leruaa/followers",
      "following_url": "https://api.github.com/users/leruaa/following{/other_user}",
      "gists_url": "https://api.github.com/users/leruaa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/leruaa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/leruaa/subscriptions",
      "organizations_url": "https://api.github.com/users/leruaa/orgs",
      "repos_url": "https://api.github.com/users/leruaa/repos",
      "events_url": "https://api.github.com/users/leruaa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/leruaa/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-06-28T11:40:54Z",
    "updated_at": "2021-06-28T11:40:54Z",
    "author_association": "NONE",
    "body": "The workaround above works fine for `types`, but I'm having trouble doing the same thing for `eth2` crate: \r\n```\r\ntypes = { git = \"https://github.com/sigp/lighthouse\", branch = \"stable\" }\r\neth2 = { git = \"https://github.com/sigp/lighthouse\", branch = \"stable\" }\r\n\r\n[patch]\r\n[patch.crates-io]\r\ntree_hash = { git = \"https://github.com/sigp/lighthouse\", branch = \"stable\" }\r\ntree_hash_derive = { git = \"https://github.com/sigp/lighthouse\", branch = \"stable\" }\r\neth2_ssz = { git = \"https://github.com/sigp/lighthouse\", branch = \"stable\" }\r\neth2_ssz_derive = { git = \"https://github.com/sigp/lighthouse\", branch = \"stable\" }\r\neth2_ssz_types = { git = \"https://github.com/sigp/lighthouse\", branch = \"stable\" }\r\neth2_hashing = { git = \"https://github.com/sigp/lighthouse\", branch = \"stable\" }\r\n```\r\n\r\nI have the following errors:\r\n```\r\nerror[E0432]: unresolved import `k256::ecdsa`\r\n --> C:\\...\\.cargo\\git\\checkouts\\discv5-7af694118de5b208\\02d2c89\\src\\handler\\crypto\\ecdh.rs:3:5\r\n  |\r\n3 |     ecdsa::{SigningKey, VerifyingKey},\r\n  |     ^^^^^ help: a similar path exists: `super::k256::ecdsa`\r\n\r\n   Compiling hyper-tls v0.5.0\r\n   Compiling types v0.2.0 (https://github.com/sigp/lighthouse?branch=stable#3b600acd)\r\nerror[E0277]: the trait bound `ThreadRng: enr::k256::elliptic_curve::rand_core::CryptoRng` is not satisfied\r\n  --> C:\\...\\.cargo\\git\\checkouts\\discv5-7af694118de5b208\\02d2c89\\src\\handler\\crypto\\mod.rs:55:64\r\n   |\r\n55 |                 let ephem_sk = k256::ecdsa::SigningKey::random(rand::thread_rng());\r\n   |                                                                ^^^^^^^^^^^^^^^^^^ the trait `enr::k256::elliptic_curve::rand_core::CryptoRng` is not implemented for `ThreadRng`\r\n   |\r\n  ::: C:\\...\\.cargo\\registry\\src\\github.com-1ecc6299db9ec823\\k256-0.8.1\\src\\ecdsa\\sign.rs:38:29\r\n   |\r\n38 |     pub fn random(rng: impl CryptoRng + RngCore) -> Self {\r\n   |                             --------- required by this bound in `SigningKey::random`\r\n\r\nerror[E0277]: the trait bound `ThreadRng: enr::k256::elliptic_curve::rand_core::RngCore` is not satisfied\r\n  --> C:\\...\\.cargo\\git\\checkouts\\discv5-7af694118de5b208\\02d2c89\\src\\handler\\crypto\\mod.rs:55:64\r\n   |\r\n55 |                 let ephem_sk = k256::ecdsa::SigningKey::random(rand::thread_rng());\r\n   |                                                                ^^^^^^^^^^^^^^^^^^ the trait `enr::k256::elliptic_curve::rand_core::RngCore` is not implemented for `ThreadRng`\r\n   |\r\n  ::: C:\\...\\.cargo\\registry\\src\\github.com-1ecc6299db9ec823\\k256-0.8.1\\src\\ecdsa\\sign.rs:38:41\r\n   |\r\n38 |     pub fn random(rng: impl CryptoRng + RngCore) -> Self {\r\n   |                                         ------- required by this bound in `SigningKey::random`\r\n```\r\nWhat am I missing?",
    "reactions": {
      "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/869612620/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/869881286",
    "html_url": "https://github.com/sigp/lighthouse/issues/2259#issuecomment-869881286",
    "issue_url": "https://api.github.com/repos/sigp/lighthouse/issues/2259",
    "id": 869881286,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg2OTg4MTI4Ng==",
    "user": {
      "login": "realbigsean",
      "id": 5160426,
      "node_id": "MDQ6VXNlcjUxNjA0MjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5160426?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/realbigsean",
      "html_url": "https://github.com/realbigsean",
      "followers_url": "https://api.github.com/users/realbigsean/followers",
      "following_url": "https://api.github.com/users/realbigsean/following{/other_user}",
      "gists_url": "https://api.github.com/users/realbigsean/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/realbigsean/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/realbigsean/subscriptions",
      "organizations_url": "https://api.github.com/users/realbigsean/orgs",
      "repos_url": "https://api.github.com/users/realbigsean/repos",
      "events_url": "https://api.github.com/users/realbigsean/events{/privacy}",
      "received_events_url": "https://api.github.com/users/realbigsean/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-06-28T17:39:16Z",
    "updated_at": "2021-06-28T17:39:16Z",
    "author_association": "COLLABORATOR",
    "body": "I tried this out locally and it seems like `enr` dependency is being updated from `0.5.0` to `0.5.1`. And even though the versioning suggests this should be non-breaking, it does break things.  I think because its dependency `k256` was updated from `0.7` to `0.8` \r\n\r\nFor me, adding this to the `[dependencies]` section resolved it: \r\n\r\n`enr = { version = \"=0.5.0\", features = [\"ed25519\", \"k256\"] }`\r\n\r\nNot sure why we don't see this in lighthouse honestly",
    "reactions": {
      "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/869881286/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/869946201",
    "html_url": "https://github.com/sigp/lighthouse/issues/2259#issuecomment-869946201",
    "issue_url": "https://api.github.com/repos/sigp/lighthouse/issues/2259",
    "id": 869946201,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg2OTk0NjIwMQ==",
    "user": {
      "login": "leruaa",
      "id": 3535019,
      "node_id": "MDQ6VXNlcjM1MzUwMTk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3535019?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/leruaa",
      "html_url": "https://github.com/leruaa",
      "followers_url": "https://api.github.com/users/leruaa/followers",
      "following_url": "https://api.github.com/users/leruaa/following{/other_user}",
      "gists_url": "https://api.github.com/users/leruaa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/leruaa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/leruaa/subscriptions",
      "organizations_url": "https://api.github.com/users/leruaa/orgs",
      "repos_url": "https://api.github.com/users/leruaa/repos",
      "events_url": "https://api.github.com/users/leruaa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/leruaa/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-06-28T19:06:22Z",
    "updated_at": "2021-06-28T19:06:22Z",
    "author_association": "NONE",
    "body": "Thanks!\r\n\r\nI was able to solve it by cloning and patching the `discv5` latest version:\r\n```\r\n[patch.'https://github.com/sigp/discv5']\r\ndiscv5 = { path = \"../../discv5\", features = [\"libp2p\"] } \r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/869946201/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/870186721",
    "html_url": "https://github.com/sigp/lighthouse/issues/2259#issuecomment-870186721",
    "issue_url": "https://api.github.com/repos/sigp/lighthouse/issues/2259",
    "id": 870186721,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg3MDE4NjcyMQ==",
    "user": {
      "login": "realbigsean",
      "id": 5160426,
      "node_id": "MDQ6VXNlcjUxNjA0MjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5160426?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/realbigsean",
      "html_url": "https://github.com/realbigsean",
      "followers_url": "https://api.github.com/users/realbigsean/followers",
      "following_url": "https://api.github.com/users/realbigsean/following{/other_user}",
      "gists_url": "https://api.github.com/users/realbigsean/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/realbigsean/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/realbigsean/subscriptions",
      "organizations_url": "https://api.github.com/users/realbigsean/orgs",
      "repos_url": "https://api.github.com/users/realbigsean/repos",
      "events_url": "https://api.github.com/users/realbigsean/events{/privacy}",
      "received_events_url": "https://api.github.com/users/realbigsean/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-06-29T02:44:24Z",
    "updated_at": "2021-06-29T02:44:24Z",
    "author_association": "COLLABORATOR",
    "body": "> Have a job on CI that detects code changes to the crate in question and fails if the code is changed without the version being changed. The choice of version change is up to the committer, could be patch/minor/major.\r\n\r\n@michaelsproul I've made a first pass at implementing this in #2423\r\n\r\n> When code is merged to stable, publish any crate whose published version is older than its current version.\r\n\r\nI have not implemented this. As a first step though, I've made the CI check also verify that if a crate's version is updated in the PR, the updated version exists on crates.io. So the CI task will fail until a manual publish happens.  \r\n\r\n> One flaw in this scheme is that it might force version skips (unless we publish upon any merge to unstable). e.g. change code, bump to v1.1.1, change again, bump to v1.1.2, merge to stable: published version jumps v1.1.0 to v1.1.2.\r\n\r\nI'd be in favor of publishes on merges into `unstable`.  I think it makes sense to separate these crates from the lighthouse release cycle. ",
    "reactions": {
      "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/870186721/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/874405452",
    "html_url": "https://github.com/sigp/lighthouse/issues/2259#issuecomment-874405452",
    "issue_url": "https://api.github.com/repos/sigp/lighthouse/issues/2259",
    "id": 874405452,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg3NDQwNTQ1Mg==",
    "user": {
      "login": "paulhauner",
      "id": 6660660,
      "node_id": "MDQ6VXNlcjY2NjA2NjA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6660660?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/paulhauner",
      "html_url": "https://github.com/paulhauner",
      "followers_url": "https://api.github.com/users/paulhauner/followers",
      "following_url": "https://api.github.com/users/paulhauner/following{/other_user}",
      "gists_url": "https://api.github.com/users/paulhauner/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/paulhauner/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/paulhauner/subscriptions",
      "organizations_url": "https://api.github.com/users/paulhauner/orgs",
      "repos_url": "https://api.github.com/users/paulhauner/repos",
      "events_url": "https://api.github.com/users/paulhauner/events{/privacy}",
      "received_events_url": "https://api.github.com/users/paulhauner/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-06T01:59:24Z",
    "updated_at": "2021-07-06T01:59:24Z",
    "author_association": "MEMBER",
    "body": "> I'd be in favor of publishes on merges into unstable. I think it makes sense to separate these crates from the lighthouse release cycle.\r\n\r\nThis seems reasonable to me, but it would be nice to be able to optionally merge to `unstable` *without* updating crates.io. I see two options and I prefer (2) since it's simple and flexible.\r\n\r\n### 1. Don't publish if there's an `.rc` suffix\r\n\r\n CI won't push to crates.io if there's a `-rc.x` version suffix? With that we could have `unstable` history look like this:\r\n\r\n- `ssz v1.0.0`: CI publishes to crates.io\r\n- `ssz v1.1.0-rc.0`: CI *does not* publish to crates.io\r\n- `ssz v1.1.0`:  CI publishes to crates.io\r\n\r\n### 2. Don't publish if there's an ignore file present\r\n\r\nAnother option would be to use a `.crates-io-ignore` file when we don't want to push a version yet. E.g, CI will never publish the `eth2_ssz` crate if `consensus/eth2_ssz/.crates-io-ignore` exists.",
    "reactions": {
      "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/874405452/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/875027513",
    "html_url": "https://github.com/sigp/lighthouse/issues/2259#issuecomment-875027513",
    "issue_url": "https://api.github.com/repos/sigp/lighthouse/issues/2259",
    "id": 875027513,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg3NTAyNzUxMw==",
    "user": {
      "login": "realbigsean",
      "id": 5160426,
      "node_id": "MDQ6VXNlcjUxNjA0MjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5160426?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/realbigsean",
      "html_url": "https://github.com/realbigsean",
      "followers_url": "https://api.github.com/users/realbigsean/followers",
      "following_url": "https://api.github.com/users/realbigsean/following{/other_user}",
      "gists_url": "https://api.github.com/users/realbigsean/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/realbigsean/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/realbigsean/subscriptions",
      "organizations_url": "https://api.github.com/users/realbigsean/orgs",
      "repos_url": "https://api.github.com/users/realbigsean/repos",
      "events_url": "https://api.github.com/users/realbigsean/events{/privacy}",
      "received_events_url": "https://api.github.com/users/realbigsean/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-06T19:33:02Z",
    "updated_at": "2021-07-06T19:33:02Z",
    "author_association": "COLLABORATOR",
    "body": "I took a peek at the [tokio repo](https://github.com/tokio-rs/tokio), and looks like they tag full releases with this syntax: `tokio-1.2.0`, and also tag commits associated with individual crates: `tokio-streams-0.6.7`. So we could also automatically publish to crates.io when pushing a tag to `unstable` referencing one of the crates?  And we could make the version check a part of CI when merging into `stable` from release branches.  \r\n\r\nThe version check would make sure any code changes in a relevant crate being merged into `stable` would be accompanied by a check to:\r\n  - Make sure the version of the crate is also updated\r\n  - Make sure the updated version exists on crates.io\r\n\r\nI could see it being an annoying last step before a release if we forgot to publish crates. But I think it'd be worth having. ",
    "reactions": {
      "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/875027513/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/875683644",
    "html_url": "https://github.com/sigp/lighthouse/issues/2259#issuecomment-875683644",
    "issue_url": "https://api.github.com/repos/sigp/lighthouse/issues/2259",
    "id": 875683644,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg3NTY4MzY0NA==",
    "user": {
      "login": "realbigsean",
      "id": 5160426,
      "node_id": "MDQ6VXNlcjUxNjA0MjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5160426?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/realbigsean",
      "html_url": "https://github.com/realbigsean",
      "followers_url": "https://api.github.com/users/realbigsean/followers",
      "following_url": "https://api.github.com/users/realbigsean/following{/other_user}",
      "gists_url": "https://api.github.com/users/realbigsean/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/realbigsean/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/realbigsean/subscriptions",
      "organizations_url": "https://api.github.com/users/realbigsean/orgs",
      "repos_url": "https://api.github.com/users/realbigsean/repos",
      "events_url": "https://api.github.com/users/realbigsean/events{/privacy}",
      "received_events_url": "https://api.github.com/users/realbigsean/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-07T15:05:57Z",
    "updated_at": "2021-07-07T15:05:57Z",
    "author_association": "COLLABORATOR",
    "body": "I spoke with @paulhauner offline about this. He agreed about auto-publishing crates when we push `<crate-name>-<version>` tags to `unstable`.  He made a good point about the version check being unnecessary if we go this route. Because in order to use an updated crate in `lighthouse`, we'll have have to make a second lighthouse PR updating the crate's version and making any necessary changes. Because we won't be relying on `[patch]` anymore.\r\n\r\nAn open question we have still is whether to move all `ssz` related crates into another repo. Wondering if you have any thoughts @michaelsproul?",
    "reactions": {
      "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/875683644/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/875999616",
    "html_url": "https://github.com/sigp/lighthouse/issues/2259#issuecomment-875999616",
    "issue_url": "https://api.github.com/repos/sigp/lighthouse/issues/2259",
    "id": 875999616,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg3NTk5OTYxNg==",
    "user": {
      "login": "michaelsproul",
      "id": 4452260,
      "node_id": "MDQ6VXNlcjQ0NTIyNjA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4452260?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/michaelsproul",
      "html_url": "https://github.com/michaelsproul",
      "followers_url": "https://api.github.com/users/michaelsproul/followers",
      "following_url": "https://api.github.com/users/michaelsproul/following{/other_user}",
      "gists_url": "https://api.github.com/users/michaelsproul/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/michaelsproul/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/michaelsproul/subscriptions",
      "organizations_url": "https://api.github.com/users/michaelsproul/orgs",
      "repos_url": "https://api.github.com/users/michaelsproul/repos",
      "events_url": "https://api.github.com/users/michaelsproul/events{/privacy}",
      "received_events_url": "https://api.github.com/users/michaelsproul/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-07T23:25:55Z",
    "updated_at": "2021-07-07T23:25:55Z",
    "author_association": "MEMBER",
    "body": "> An open question we have still is whether to move all ssz related crates into another repo. Wondering if you have any thoughts @michaelsproul?\r\n\r\nAuto-publishing based on tags sounds good to me :+1: The two step workflow of updating the underlying crate and then updating Lighthouse itself sounds fine. I think we can hold off on separate repos for now, but could move to that easily enough if there's friction.",
    "reactions": {
      "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/875999616/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/903219265",
    "html_url": "https://github.com/sigp/lighthouse/issues/2259#issuecomment-903219265",
    "issue_url": "https://api.github.com/repos/sigp/lighthouse/issues/2259",
    "id": 903219265,
    "node_id": "IC_kwDOCFeAzc411ghB",
    "user": {
      "login": "sorpaas",
      "id": 6277322,
      "node_id": "MDQ6VXNlcjYyNzczMjI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6277322?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sorpaas",
      "html_url": "https://github.com/sorpaas",
      "followers_url": "https://api.github.com/users/sorpaas/followers",
      "following_url": "https://api.github.com/users/sorpaas/following{/other_user}",
      "gists_url": "https://api.github.com/users/sorpaas/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sorpaas/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sorpaas/subscriptions",
      "organizations_url": "https://api.github.com/users/sorpaas/orgs",
      "repos_url": "https://api.github.com/users/sorpaas/repos",
      "events_url": "https://api.github.com/users/sorpaas/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sorpaas/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-08-22T06:06:54Z",
    "updated_at": "2021-08-22T06:06:54Z",
    "author_association": "NONE",
    "body": "> Also, I wonder if @sorpaas would be open to us taking over the ssz crate? 🙏 I get the feeling that it's not being updated anymore and I'm not sure if it's compatible with the production version of the SSZ spec.\r\n\r\nSorry I missed this message. Apparently late to the party as the name has decided to be `eth2_ssz`.\r\n\r\nI'll be resurrecting the `ssz` crate though. Move it to `rust-ethereum` org and add a group owner so we get more people with push rights. If there are still ways to collaborate please let me know!",
    "reactions": {
      "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/903219265/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/917727326",
    "html_url": "https://github.com/sigp/lighthouse/issues/2259#issuecomment-917727326",
    "issue_url": "https://api.github.com/repos/sigp/lighthouse/issues/2259",
    "id": 917727326,
    "node_id": "IC_kwDOCFeAzc42s2he",
    "user": {
      "login": "paulhauner",
      "id": 6660660,
      "node_id": "MDQ6VXNlcjY2NjA2NjA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6660660?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/paulhauner",
      "html_url": "https://github.com/paulhauner",
      "followers_url": "https://api.github.com/users/paulhauner/followers",
      "following_url": "https://api.github.com/users/paulhauner/following{/other_user}",
      "gists_url": "https://api.github.com/users/paulhauner/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/paulhauner/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/paulhauner/subscriptions",
      "organizations_url": "https://api.github.com/users/paulhauner/orgs",
      "repos_url": "https://api.github.com/users/paulhauner/repos",
      "events_url": "https://api.github.com/users/paulhauner/events{/privacy}",
      "received_events_url": "https://api.github.com/users/paulhauner/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-09-12T23:05:43Z",
    "updated_at": "2021-09-12T23:05:43Z",
    "author_association": "MEMBER",
    "body": "Resolved via #2472",
    "reactions": {
      "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/917727326/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
