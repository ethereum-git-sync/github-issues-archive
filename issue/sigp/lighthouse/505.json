{
  "url": "https://api.github.com/repos/sigp/lighthouse/issues/505",
  "repository_url": "https://api.github.com/repos/sigp/lighthouse",
  "labels_url": "https://api.github.com/repos/sigp/lighthouse/issues/505/labels{/name}",
  "comments_url": "https://api.github.com/repos/sigp/lighthouse/issues/505/comments",
  "events_url": "https://api.github.com/repos/sigp/lighthouse/issues/505/events",
  "html_url": "https://github.com/sigp/lighthouse/issues/505",
  "id": 484038075,
  "node_id": "MDU6SXNzdWU0ODQwMzgwNzU=",
  "number": 505,
  "title": "Could not find directory of OpenSSL installation [cargo test failing in ubuntu 18.04]",
  "user": {
    "login": "ghost",
    "id": 10137,
    "node_id": "MDQ6VXNlcjEwMTM3",
    "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/ghost",
    "html_url": "https://github.com/ghost",
    "followers_url": "https://api.github.com/users/ghost/followers",
    "following_url": "https://api.github.com/users/ghost/following{/other_user}",
    "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/ghost/subscriptions",
    "organizations_url": "https://api.github.com/users/ghost/orgs",
    "repos_url": "https://api.github.com/users/ghost/repos",
    "events_url": "https://api.github.com/users/ghost/events{/privacy}",
    "received_events_url": "https://api.github.com/users/ghost/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 3,
  "created_at": "2019-08-22T14:44:33Z",
  "updated_at": "2021-04-23T10:20:35Z",
  "closed_at": "2019-08-23T15:16:31Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "## Description\r\n\r\nError at building in Ubuntu 18.04\r\n\r\n```\r\n$ uname -a\r\nLinux spectre 5.0.0-25-generic #26~18.04.1-Ubuntu SMP Thu Aug 1 13:51:02 UTC 2019 x86_64 x86_64 x86_64 GNU/Linux\r\n```\r\n\r\n## Present Behaviour\r\n\r\n**Command**\r\n\r\n```\r\ncargo test --all --release\r\n```\r\n\r\n**Output**\r\n\r\n```\r\n[...]\r\n\r\n   Compiling grpcio-sys v0.4.4\r\nerror: failed to run custom build command for `openssl-sys v0.9.49`\r\n\r\nCaused by:\r\n  process didn't exit successfully: `/home/ubuntu/dev/prj/lighthouse/target/release/build/openssl-sys-f1abe8a6c3f120f5/build-script-main` (exit code: 101)\r\n--- stdout\r\ncargo:rustc-cfg=const_fn\r\ncargo:rerun-if-env-changed=X86_64_UNKNOWN_LINUX_GNU_OPENSSL_LIB_DIR\r\nX86_64_UNKNOWN_LINUX_GNU_OPENSSL_LIB_DIR unset\r\ncargo:rerun-if-env-changed=OPENSSL_LIB_DIR\r\nOPENSSL_LIB_DIR unset\r\ncargo:rerun-if-env-changed=X86_64_UNKNOWN_LINUX_GNU_OPENSSL_INCLUDE_DIR\r\nX86_64_UNKNOWN_LINUX_GNU_OPENSSL_INCLUDE_DIR unset\r\ncargo:rerun-if-env-changed=OPENSSL_INCLUDE_DIR\r\nOPENSSL_INCLUDE_DIR unset\r\ncargo:rerun-if-env-changed=X86_64_UNKNOWN_LINUX_GNU_OPENSSL_DIR\r\nX86_64_UNKNOWN_LINUX_GNU_OPENSSL_DIR unset\r\ncargo:rerun-if-env-changed=OPENSSL_DIR\r\nOPENSSL_DIR unset\r\nrun pkg_config fail: \"`\\\"pkg-config\\\" \\\"--libs\\\" \\\"--cflags\\\" \\\"openssl\\\"` did not exit successfully: exit code: 1\\n--- stderr\\nPackage openssl was not found in the pkg-config search path.\\nPerhaps you should add the directory containing `openssl.pc\\'\\nto the PKG_CONFIG_PATH environment variable\\nNo package \\'openssl\\' found\\n\"\r\n\r\n--- stderr\r\nthread 'main' panicked at '\r\n\r\nCould not find directory of OpenSSL installation, and this `-sys` crate cannot\r\nproceed without this knowledge. If OpenSSL is installed and this crate had\r\ntrouble finding it,  you can set the `OPENSSL_DIR` environment variable for the\r\ncompilation process.\r\n\r\nMake sure you also have the development packages of openssl installed.\r\nFor example, `libssl-dev` on Ubuntu or `openssl-devel` on Fedora.\r\n\r\nIf you're in a situation where you think the directory *should* be found\r\nautomatically, please open a bug at https://github.com/sfackler/rust-openssl\r\nand include information about your system as well as this message.\r\n\r\n$HOST = x86_64-unknown-linux-gnu\r\n$TARGET = x86_64-unknown-linux-gnu\r\nopenssl-sys = 0.9.49\r\n\r\n', /home/ubuntu/.cargo/registry/src/github.com-1ecc6299db9ec823/openssl-sys-0.9.49/build/find_normal.rs:150:5\r\nnote: run with `RUST_BACKTRACE=1` environment variable to display a backtrace.\r\n\r\nwarning: build failed, waiting for other jobs to finish...\r\nerror: build failed\r\n```\r\n\r\nOpenSSL is installed in this machine\r\n\r\n```\r\n$ openssl version\r\nOpenSSL 1.1.1  11 Sep 2018\r\n```\r\n\r\n## Expected Behaviour\r\n\r\nBuild is completed and tests are ran.\r\n\r\n## Steps to resolve\r\n\r\nPlease, include in the [environment docs](https://github.com/sigp/lighthouse/blob/master/docs/env.md) the following package for Ubuntu\r\n\r\n```\r\nsudo apt-get install libssl-dev \r\n```\r\n\r\nRelated: https://github.com/sfackler/rust-openssl/issues/951",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/505/reactions",
    "total_count": 3,
    "+1": 2,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 1,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/sigp/lighthouse/issues/505/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/524146926",
    "html_url": "https://github.com/sigp/lighthouse/issues/505#issuecomment-524146926",
    "issue_url": "https://api.github.com/repos/sigp/lighthouse/issues/505",
    "id": 524146926,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUyNDE0NjkyNg==",
    "user": {
      "login": "paulhauner",
      "id": 6660660,
      "node_id": "MDQ6VXNlcjY2NjA2NjA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6660660?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/paulhauner",
      "html_url": "https://github.com/paulhauner",
      "followers_url": "https://api.github.com/users/paulhauner/followers",
      "following_url": "https://api.github.com/users/paulhauner/following{/other_user}",
      "gists_url": "https://api.github.com/users/paulhauner/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/paulhauner/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/paulhauner/subscriptions",
      "organizations_url": "https://api.github.com/users/paulhauner/orgs",
      "repos_url": "https://api.github.com/users/paulhauner/repos",
      "events_url": "https://api.github.com/users/paulhauner/events{/privacy}",
      "received_events_url": "https://api.github.com/users/paulhauner/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-08-23T02:22:40Z",
    "updated_at": "2019-08-23T02:22:40Z",
    "author_association": "MEMBER",
    "body": "Thank you!",
    "reactions": {
      "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/524146926/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/823727283",
    "html_url": "https://github.com/sigp/lighthouse/issues/505#issuecomment-823727283",
    "issue_url": "https://api.github.com/repos/sigp/lighthouse/issues/505",
    "id": 823727283,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgyMzcyNzI4Mw==",
    "user": {
      "login": "PJ-Finlay",
      "id": 13067016,
      "node_id": "MDQ6VXNlcjEzMDY3MDE2",
      "avatar_url": "https://avatars.githubusercontent.com/u/13067016?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/PJ-Finlay",
      "html_url": "https://github.com/PJ-Finlay",
      "followers_url": "https://api.github.com/users/PJ-Finlay/followers",
      "following_url": "https://api.github.com/users/PJ-Finlay/following{/other_user}",
      "gists_url": "https://api.github.com/users/PJ-Finlay/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/PJ-Finlay/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/PJ-Finlay/subscriptions",
      "organizations_url": "https://api.github.com/users/PJ-Finlay/orgs",
      "repos_url": "https://api.github.com/users/PJ-Finlay/repos",
      "events_url": "https://api.github.com/users/PJ-Finlay/events{/privacy}",
      "received_events_url": "https://api.github.com/users/PJ-Finlay/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-04-21T02:27:26Z",
    "updated_at": "2021-04-21T02:27:26Z",
    "author_association": "NONE",
    "body": "I had a similar problem solved with:\r\n```\r\nsudo apt-get install pkg-config\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/823727283/reactions",
      "total_count": 2,
      "+1": 2,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/825559263",
    "html_url": "https://github.com/sigp/lighthouse/issues/505#issuecomment-825559263",
    "issue_url": "https://api.github.com/repos/sigp/lighthouse/issues/505",
    "id": 825559263,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgyNTU1OTI2Mw==",
    "user": {
      "login": "paulhauner",
      "id": 6660660,
      "node_id": "MDQ6VXNlcjY2NjA2NjA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6660660?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/paulhauner",
      "html_url": "https://github.com/paulhauner",
      "followers_url": "https://api.github.com/users/paulhauner/followers",
      "following_url": "https://api.github.com/users/paulhauner/following{/other_user}",
      "gists_url": "https://api.github.com/users/paulhauner/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/paulhauner/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/paulhauner/subscriptions",
      "organizations_url": "https://api.github.com/users/paulhauner/orgs",
      "repos_url": "https://api.github.com/users/paulhauner/repos",
      "events_url": "https://api.github.com/users/paulhauner/events{/privacy}",
      "received_events_url": "https://api.github.com/users/paulhauner/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-04-23T10:20:35Z",
    "updated_at": "2021-04-23T10:20:35Z",
    "author_association": "MEMBER",
    "body": "> I had a similar problem solved with:\r\n> \r\n> ```\r\n> sudo apt-get install pkg-config\r\n> ```\r\n\r\nThanks :) FYI, more deps can be found here: https://lighthouse-book.sigmaprime.io/installation-source.html#dependencies",
    "reactions": {
      "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/825559263/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
