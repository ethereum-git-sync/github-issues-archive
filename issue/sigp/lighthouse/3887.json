{
  "url": "https://api.github.com/repos/sigp/lighthouse/issues/3887",
  "repository_url": "https://api.github.com/repos/sigp/lighthouse",
  "labels_url": "https://api.github.com/repos/sigp/lighthouse/issues/3887/labels{/name}",
  "comments_url": "https://api.github.com/repos/sigp/lighthouse/issues/3887/comments",
  "events_url": "https://api.github.com/repos/sigp/lighthouse/issues/3887/events",
  "html_url": "https://github.com/sigp/lighthouse/issues/3887",
  "id": 1534159110,
  "node_id": "I_kwDOCFeAzc5bcWkG",
  "number": 3887,
  "title": "Validator monitor minimum attestation aggregation delay",
  "user": {
    "login": "michaelsproul",
    "id": 4452260,
    "node_id": "MDQ6VXNlcjQ0NTIyNjA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/4452260?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/michaelsproul",
    "html_url": "https://github.com/michaelsproul",
    "followers_url": "https://api.github.com/users/michaelsproul/followers",
    "following_url": "https://api.github.com/users/michaelsproul/following{/other_user}",
    "gists_url": "https://api.github.com/users/michaelsproul/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/michaelsproul/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/michaelsproul/subscriptions",
    "organizations_url": "https://api.github.com/users/michaelsproul/orgs",
    "repos_url": "https://api.github.com/users/michaelsproul/repos",
    "events_url": "https://api.github.com/users/michaelsproul/events{/privacy}",
    "received_events_url": "https://api.github.com/users/michaelsproul/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 985647284,
      "node_id": "MDU6TGFiZWw5ODU2NDcyODQ=",
      "url": "https://api.github.com/repos/sigp/lighthouse/labels/enhancement",
      "name": "enhancement",
      "color": "a2eeef",
      "default": true,
      "description": "New feature or request"
    },
    {
      "id": 2336802021,
      "node_id": "MDU6TGFiZWwyMzM2ODAyMDIx",
      "url": "https://api.github.com/repos/sigp/lighthouse/labels/UX-and-logs",
      "name": "UX-and-logs",
      "color": "DB9046",
      "default": false,
      "description": ""
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 1,
  "created_at": "2023-01-16T02:28:24Z",
  "updated_at": "2023-05-19T08:08:35Z",
  "closed_at": null,
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": "## Description\r\n\r\nOne of the Rocket Pool dashboards uses the `validator_monitor_attestation_in_aggregate_delay_seconds` metric quite prominently. This is a bit unfortunate because this metric counts _all_ aggregates for a given attestation and can be thrown off by outlier late aggregates.\r\n\r\nIt would be beneficial to instead track the _minimum_ attestation aggregation delay for each attestation, as we already do for the attestation delay (relative to the 4s deadline) and the block inclusion delay. This would make the metric more resilient to outliers and prevent users from worrying about their total attestation aggregation delay spiking.\r\n\r\n## Version\r\n\r\nLighthouse v3.4.0\r\n",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/3887/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/sigp/lighthouse/issues/3887/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/1554204760",
    "html_url": "https://github.com/sigp/lighthouse/issues/3887#issuecomment-1554204760",
    "issue_url": "https://api.github.com/repos/sigp/lighthouse/issues/3887",
    "id": 1554204760,
    "node_id": "IC_kwDOCFeAzc5co0hY",
    "user": {
      "login": "int88",
      "id": 106391185,
      "node_id": "U_kgDOBldmkQ",
      "avatar_url": "https://avatars.githubusercontent.com/u/106391185?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/int88",
      "html_url": "https://github.com/int88",
      "followers_url": "https://api.github.com/users/int88/followers",
      "following_url": "https://api.github.com/users/int88/following{/other_user}",
      "gists_url": "https://api.github.com/users/int88/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/int88/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/int88/subscriptions",
      "organizations_url": "https://api.github.com/users/int88/orgs",
      "repos_url": "https://api.github.com/users/int88/repos",
      "events_url": "https://api.github.com/users/int88/events{/privacy}",
      "received_events_url": "https://api.github.com/users/int88/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-05-19T08:08:35Z",
    "updated_at": "2023-05-19T08:08:35Z",
    "author_association": "CONTRIBUTOR",
    "body": "I guess if\r\n\r\nhttps://github.com/sigp/lighthouse/blob/693886b94176faa4cb450f024696cb69cda2fe58/beacon_node/beacon_chain/src/validator_monitor.rs#L76\r\n\r\nis the metric we are looking for? @michaelsproul \r\n",
    "reactions": {
      "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/1554204760/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
