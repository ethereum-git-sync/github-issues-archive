{
  "url": "https://api.github.com/repos/sigp/lighthouse/issues/1023",
  "repository_url": "https://api.github.com/repos/sigp/lighthouse",
  "labels_url": "https://api.github.com/repos/sigp/lighthouse/issues/1023/labels{/name}",
  "comments_url": "https://api.github.com/repos/sigp/lighthouse/issues/1023/comments",
  "events_url": "https://api.github.com/repos/sigp/lighthouse/issues/1023/events",
  "html_url": "https://github.com/sigp/lighthouse/issues/1023",
  "id": 602867650,
  "node_id": "MDU6SXNzdWU2MDI4Njc2NTA=",
  "number": 1023,
  "title": "Beacon node does not recover when eth1 node goes bad",
  "user": {
    "login": "ethers",
    "id": 6937903,
    "node_id": "MDQ6VXNlcjY5Mzc5MDM=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6937903?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/ethers",
    "html_url": "https://github.com/ethers",
    "followers_url": "https://api.github.com/users/ethers/followers",
    "following_url": "https://api.github.com/users/ethers/following{/other_user}",
    "gists_url": "https://api.github.com/users/ethers/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/ethers/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/ethers/subscriptions",
    "organizations_url": "https://api.github.com/users/ethers/orgs",
    "repos_url": "https://api.github.com/users/ethers/repos",
    "events_url": "https://api.github.com/users/ethers/events{/privacy}",
    "received_events_url": "https://api.github.com/users/ethers/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 1,
  "created_at": "2020-04-20T00:47:57Z",
  "updated_at": "2020-04-20T01:29:52Z",
  "closed_at": "2020-04-20T01:29:52Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "## Description\r\n\r\nBeacon node is not robust enough, starts losing peers, and loses sync with the beacon chain, when the eth1 node goes bad.\r\n\r\n## Version\r\n\r\ntestnet5 branch commit 93da74e7d630602efc6ccbf731128b90e28ae3a1\r\n\r\n## Present Behaviour\r\n\r\nAssume 3 nodes are all running fine: eth1, beacon, validator.\r\nAt some point the eth1 goerli node goes bad, possibly it crashes.\r\nEventually the beacon node also goes bad, and this leads to validator error: beacon node not synced.  (By the time I discover the issue, I don't have the logs to pinpoint more when the beacon node started going bad.)\r\n\r\n## Expected Behaviour\r\n\r\nI understand an ongoing eth1 is not crucial and should not degrade the beacon node.  Expect that the beacon node still remain in sync with the beacon chain, and that validator is all good. \r\n\r\n## Steps to resolve\r\n\r\nRestart the eth1 and beacon nodes.\r\nThroughout all this, the validator never needs to be restarted. Nice job on the robustness of the validator.",
  "closed_by": {
    "login": "paulhauner",
    "id": 6660660,
    "node_id": "MDQ6VXNlcjY2NjA2NjA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6660660?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/paulhauner",
    "html_url": "https://github.com/paulhauner",
    "followers_url": "https://api.github.com/users/paulhauner/followers",
    "following_url": "https://api.github.com/users/paulhauner/following{/other_user}",
    "gists_url": "https://api.github.com/users/paulhauner/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/paulhauner/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/paulhauner/subscriptions",
    "organizations_url": "https://api.github.com/users/paulhauner/orgs",
    "repos_url": "https://api.github.com/users/paulhauner/repos",
    "events_url": "https://api.github.com/users/paulhauner/events{/privacy}",
    "received_events_url": "https://api.github.com/users/paulhauner/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/1023/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/sigp/lighthouse/issues/1023/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/616262802",
    "html_url": "https://github.com/sigp/lighthouse/issues/1023#issuecomment-616262802",
    "issue_url": "https://api.github.com/repos/sigp/lighthouse/issues/1023",
    "id": 616262802,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxNjI2MjgwMg==",
    "user": {
      "login": "paulhauner",
      "id": 6660660,
      "node_id": "MDQ6VXNlcjY2NjA2NjA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6660660?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/paulhauner",
      "html_url": "https://github.com/paulhauner",
      "followers_url": "https://api.github.com/users/paulhauner/followers",
      "following_url": "https://api.github.com/users/paulhauner/following{/other_user}",
      "gists_url": "https://api.github.com/users/paulhauner/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/paulhauner/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/paulhauner/subscriptions",
      "organizations_url": "https://api.github.com/users/paulhauner/orgs",
      "repos_url": "https://api.github.com/users/paulhauner/repos",
      "events_url": "https://api.github.com/users/paulhauner/events{/privacy}",
      "received_events_url": "https://api.github.com/users/paulhauner/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-04-20T01:29:52Z",
    "updated_at": "2020-04-20T01:29:52Z",
    "author_association": "MEMBER",
    "body": "I don't see the connection between the eth1 node going down and the beacon node going down, apart from the fact that they happened consecutively.\r\n\r\nThe `testnet5` branch  is now basically end-of-life since it's from an older spec version. We've been working on spec `v0.11.1` over on the local `v0.2.0` branch and a new testnet is being launched in the coming days.\r\n\r\nUnless there's some more info you can supply, I'll close this for now since:\r\n\r\n- We don't have enough info to diagnose why the beacon node stopped following the head\r\n- The `testnet5` branch is end-of-life so it's perhaps not worth going digging for it.\r\n\r\nI appreciate you opening the issue though, sorry that you had issues with the BN.",
    "reactions": {
      "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/616262802/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
