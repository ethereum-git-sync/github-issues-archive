{
  "url": "https://api.github.com/repos/sigp/lighthouse/issues/1487",
  "repository_url": "https://api.github.com/repos/sigp/lighthouse",
  "labels_url": "https://api.github.com/repos/sigp/lighthouse/issues/1487/labels{/name}",
  "comments_url": "https://api.github.com/repos/sigp/lighthouse/issues/1487/comments",
  "events_url": "https://api.github.com/repos/sigp/lighthouse/issues/1487/events",
  "html_url": "https://github.com/sigp/lighthouse/issues/1487",
  "id": 674992203,
  "node_id": "MDU6SXNzdWU2NzQ5OTIyMDM=",
  "number": 1487,
  "title": "Directory restructure for multiple networks",
  "user": {
    "login": "pawanjay176",
    "id": 9890508,
    "node_id": "MDQ6VXNlcjk4OTA1MDg=",
    "avatar_url": "https://avatars.githubusercontent.com/u/9890508?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/pawanjay176",
    "html_url": "https://github.com/pawanjay176",
    "followers_url": "https://api.github.com/users/pawanjay176/followers",
    "following_url": "https://api.github.com/users/pawanjay176/following{/other_user}",
    "gists_url": "https://api.github.com/users/pawanjay176/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/pawanjay176/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/pawanjay176/subscriptions",
    "organizations_url": "https://api.github.com/users/pawanjay176/orgs",
    "repos_url": "https://api.github.com/users/pawanjay176/repos",
    "events_url": "https://api.github.com/users/pawanjay176/events{/privacy}",
    "received_events_url": "https://api.github.com/users/pawanjay176/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 1232620456,
      "node_id": "MDU6TGFiZWwxMjMyNjIwNDU2",
      "url": "https://api.github.com/repos/sigp/lighthouse/labels/RFC",
      "name": "RFC",
      "color": "4aaa19",
      "default": false,
      "description": "Request for comment"
    },
    {
      "id": 2336803064,
      "node_id": "MDU6TGFiZWwyMzM2ODAzMDY0",
      "url": "https://api.github.com/repos/sigp/lighthouse/labels/infra-ci",
      "name": "infra-ci",
      "color": "7365BC",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 1,
  "created_at": "2020-08-07T12:46:17Z",
  "updated_at": "2020-09-29T05:57:14Z",
  "closed_at": "2020-09-29T05:57:14Z",
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": "## Description\r\n\r\nCurrently, we have the default directory in lighthouse as `~/.lighthouse/`. Unless we explicitly provide the `--datadir` flag, the beacon/validator/account commands use this directory as the default base directory. The folder has the following structure \r\n\r\n```\r\n.lighthouse\r\n├── beacon\r\n├── secrets\r\n├── validators\r\n└── wallets\r\n```\r\nCurrently, we have only a single network that people care about (medalla), so it's fine to have the beacon and key related subdirectories at the top level. \r\n\r\nBut as we move closer towards mainnet, we will have multiple networks that we would want to run and we could see issues with overwriting of one chain's data/keys with another.\r\n\r\n## Proposal \r\n\r\n```\r\n.lighthouse\r\n└── medalla\r\n    ├── beacon\r\n    ├── secrets\r\n    ├── validators\r\n    └── wallets\r\n└── mainnet\r\n    ├── beacon\r\n    ├── secrets\r\n    ├── validators\r\n    └── wallets\r\n└── custom\r\n    ├──...\r\n```\r\nHere, we have a top level directory for every named testnet we can pass in the `--testnet` option and a custom directory for handling networks with a  custom `--testnet-dir`. \r\nHaving multiple unnamed testnets from the `--testnet-dir` can lead to overwriting of files in the `custom` directory.\r\n\r\nThe disadvantage I see with this proposal is that this isn't backwards compatible for users currently running medalla. \r\nSo we would need to have a mechanism for moving the current top level folders that are being used in medalla inside `~/.lighthouse/medalla` the first time a user runs the beacon/validator/account binaries. Not sure if this would be an issue with permissions somehow.\r\n\r\nKeen to hear your thoughts/suggestions/alternatives :)",
  "closed_by": {
    "login": "paulhauner",
    "id": 6660660,
    "node_id": "MDQ6VXNlcjY2NjA2NjA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6660660?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/paulhauner",
    "html_url": "https://github.com/paulhauner",
    "followers_url": "https://api.github.com/users/paulhauner/followers",
    "following_url": "https://api.github.com/users/paulhauner/following{/other_user}",
    "gists_url": "https://api.github.com/users/paulhauner/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/paulhauner/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/paulhauner/subscriptions",
    "organizations_url": "https://api.github.com/users/paulhauner/orgs",
    "repos_url": "https://api.github.com/users/paulhauner/repos",
    "events_url": "https://api.github.com/users/paulhauner/events{/privacy}",
    "received_events_url": "https://api.github.com/users/paulhauner/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/1487/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/sigp/lighthouse/issues/1487/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/700466784",
    "html_url": "https://github.com/sigp/lighthouse/issues/1487#issuecomment-700466784",
    "issue_url": "https://api.github.com/repos/sigp/lighthouse/issues/1487",
    "id": 700466784,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcwMDQ2Njc4NA==",
    "user": {
      "login": "paulhauner",
      "id": 6660660,
      "node_id": "MDQ6VXNlcjY2NjA2NjA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6660660?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/paulhauner",
      "html_url": "https://github.com/paulhauner",
      "followers_url": "https://api.github.com/users/paulhauner/followers",
      "following_url": "https://api.github.com/users/paulhauner/following{/other_user}",
      "gists_url": "https://api.github.com/users/paulhauner/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/paulhauner/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/paulhauner/subscriptions",
      "organizations_url": "https://api.github.com/users/paulhauner/orgs",
      "repos_url": "https://api.github.com/users/paulhauner/repos",
      "events_url": "https://api.github.com/users/paulhauner/events{/privacy}",
      "received_events_url": "https://api.github.com/users/paulhauner/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-09-29T05:57:12Z",
    "updated_at": "2020-09-29T05:57:12Z",
    "author_association": "MEMBER",
    "body": "Resolved via #1532 :tada:",
    "reactions": {
      "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/700466784/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
