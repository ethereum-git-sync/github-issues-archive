{
  "url": "https://api.github.com/repos/sigp/lighthouse/issues/3212",
  "repository_url": "https://api.github.com/repos/sigp/lighthouse",
  "labels_url": "https://api.github.com/repos/sigp/lighthouse/issues/3212/labels{/name}",
  "comments_url": "https://api.github.com/repos/sigp/lighthouse/issues/3212/comments",
  "events_url": "https://api.github.com/repos/sigp/lighthouse/issues/3212/events",
  "html_url": "https://github.com/sigp/lighthouse/issues/3212",
  "id": 1245861162,
  "node_id": "I_kwDOCFeAzc5KQlUq",
  "number": 3212,
  "title": "Rate limit historic block backfill",
  "user": {
    "login": "michaelsproul",
    "id": 4452260,
    "node_id": "MDQ6VXNlcjQ0NTIyNjA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/4452260?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/michaelsproul",
    "html_url": "https://github.com/michaelsproul",
    "followers_url": "https://api.github.com/users/michaelsproul/followers",
    "following_url": "https://api.github.com/users/michaelsproul/following{/other_user}",
    "gists_url": "https://api.github.com/users/michaelsproul/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/michaelsproul/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/michaelsproul/subscriptions",
    "organizations_url": "https://api.github.com/users/michaelsproul/orgs",
    "repos_url": "https://api.github.com/users/michaelsproul/repos",
    "events_url": "https://api.github.com/users/michaelsproul/events{/privacy}",
    "received_events_url": "https://api.github.com/users/michaelsproul/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 1999784343,
      "node_id": "MDU6TGFiZWwxOTk5Nzg0MzQz",
      "url": "https://api.github.com/repos/sigp/lighthouse/labels/optimization",
      "name": "optimization",
      "color": "f9de40",
      "default": false,
      "description": "Something to make Lighthouse run more efficiently."
    },
    {
      "id": 2336800125,
      "node_id": "MDU6TGFiZWwyMzM2ODAwMTI1",
      "url": "https://api.github.com/repos/sigp/lighthouse/labels/t%20Networking",
      "name": "t Networking",
      "color": "40E0D0",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 17,
  "created_at": "2022-05-24T01:24:54Z",
  "updated_at": "2023-05-05T05:48:12Z",
  "closed_at": "2023-05-05T05:48:12Z",
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": "## Description\r\n\r\nSeveral users here (https://github.com/sigp/lighthouse/issues/2904) and on Discord have reported their nodes becoming overwhelmed during backfill sync.\r\n\r\nWe haven't identified a specific issue with backfill sync that could cause this, but could defensively add a flag to rate-limit backfill sync, to prevent it from overwhelming other functionality.\r\n\r\nI think we should probably do the rate-limiting in sync itself, so that it doesn't trip over itself trying to download more blocks than the DB can handle. The rate-limit could maybe be as simple as a configurable delay after each batch, which should give the rest of the node some room to breath. Someone more familiar with sync would have a better idea (@AgeManning @divagant-martian).",
  "closed_by": {
    "login": "michaelsproul",
    "id": 4452260,
    "node_id": "MDQ6VXNlcjQ0NTIyNjA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/4452260?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/michaelsproul",
    "html_url": "https://github.com/michaelsproul",
    "followers_url": "https://api.github.com/users/michaelsproul/followers",
    "following_url": "https://api.github.com/users/michaelsproul/following{/other_user}",
    "gists_url": "https://api.github.com/users/michaelsproul/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/michaelsproul/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/michaelsproul/subscriptions",
    "organizations_url": "https://api.github.com/users/michaelsproul/orgs",
    "repos_url": "https://api.github.com/users/michaelsproul/repos",
    "events_url": "https://api.github.com/users/michaelsproul/events{/privacy}",
    "received_events_url": "https://api.github.com/users/michaelsproul/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/3212/reactions",
    "total_count": 1,
    "+1": 1,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/sigp/lighthouse/issues/3212/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/1135308489",
    "html_url": "https://github.com/sigp/lighthouse/issues/3212#issuecomment-1135308489",
    "issue_url": "https://api.github.com/repos/sigp/lighthouse/issues/3212",
    "id": 1135308489,
    "node_id": "IC_kwDOCFeAzc5Dq27J",
    "user": {
      "login": "divagant-martian",
      "id": 26765164,
      "node_id": "MDQ6VXNlcjI2NzY1MTY0",
      "avatar_url": "https://avatars.githubusercontent.com/u/26765164?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/divagant-martian",
      "html_url": "https://github.com/divagant-martian",
      "followers_url": "https://api.github.com/users/divagant-martian/followers",
      "following_url": "https://api.github.com/users/divagant-martian/following{/other_user}",
      "gists_url": "https://api.github.com/users/divagant-martian/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/divagant-martian/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/divagant-martian/subscriptions",
      "organizations_url": "https://api.github.com/users/divagant-martian/orgs",
      "repos_url": "https://api.github.com/users/divagant-martian/repos",
      "events_url": "https://api.github.com/users/divagant-martian/events{/privacy}",
      "received_events_url": "https://api.github.com/users/divagant-martian/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-05-24T01:42:40Z",
    "updated_at": "2022-05-24T01:42:40Z",
    "author_association": "COLLABORATOR",
    "body": "Since the beacon processor's job already handles a sort of load balancing prioritizing some jobs over others, it would be easier to handle there. Sync isn't async so adding delays wouldn't be that simple. Thoughts?",
    "reactions": {
      "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/1135308489/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/1135309338",
    "html_url": "https://github.com/sigp/lighthouse/issues/3212#issuecomment-1135309338",
    "issue_url": "https://api.github.com/repos/sigp/lighthouse/issues/3212",
    "id": 1135309338,
    "node_id": "IC_kwDOCFeAzc5Dq3Ia",
    "user": {
      "login": "michaelsproul",
      "id": 4452260,
      "node_id": "MDQ6VXNlcjQ0NTIyNjA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4452260?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/michaelsproul",
      "html_url": "https://github.com/michaelsproul",
      "followers_url": "https://api.github.com/users/michaelsproul/followers",
      "following_url": "https://api.github.com/users/michaelsproul/following{/other_user}",
      "gists_url": "https://api.github.com/users/michaelsproul/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/michaelsproul/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/michaelsproul/subscriptions",
      "organizations_url": "https://api.github.com/users/michaelsproul/orgs",
      "repos_url": "https://api.github.com/users/michaelsproul/repos",
      "events_url": "https://api.github.com/users/michaelsproul/events{/privacy}",
      "received_events_url": "https://api.github.com/users/michaelsproul/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-05-24T01:44:24Z",
    "updated_at": "2022-05-24T01:44:24Z",
    "author_association": "MEMBER",
    "body": "Oh yeah, I hadn't considered that + assumed sync _was_ async",
    "reactions": {
      "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/1135309338/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/1135426993",
    "html_url": "https://github.com/sigp/lighthouse/issues/3212#issuecomment-1135426993",
    "issue_url": "https://api.github.com/repos/sigp/lighthouse/issues/3212",
    "id": 1135426993,
    "node_id": "IC_kwDOCFeAzc5DrT2x",
    "user": {
      "login": "AgeManning",
      "id": 7454587,
      "node_id": "MDQ6VXNlcjc0NTQ1ODc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7454587?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/AgeManning",
      "html_url": "https://github.com/AgeManning",
      "followers_url": "https://api.github.com/users/AgeManning/followers",
      "following_url": "https://api.github.com/users/AgeManning/following{/other_user}",
      "gists_url": "https://api.github.com/users/AgeManning/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/AgeManning/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/AgeManning/subscriptions",
      "organizations_url": "https://api.github.com/users/AgeManning/orgs",
      "repos_url": "https://api.github.com/users/AgeManning/repos",
      "events_url": "https://api.github.com/users/AgeManning/events{/privacy}",
      "received_events_url": "https://api.github.com/users/AgeManning/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-05-24T05:29:23Z",
    "updated_at": "2022-05-24T05:29:23Z",
    "author_association": "MEMBER",
    "body": "Some thoughts - I dont think we go too fancy and have dynamic adjustments to load based on time of processing in the queue (but we could if someone really wanted to). Some simple ways to approach:\r\n- Configurable batch buffer sizes - We have a fixed buffer size, which keeps the processor busy with blocks (depending on its speed). If we set the batch buffer size to 1 for example, then we would process a block then start downloading another block. This would give some relief. \r\n- As diva suggested add a delay to sending back the processed block. Sync will only progress once a block processing has been submitted. So if we artificially slow down that process, sync will artificially slow down processing.\r\n- Adjust priorities in the beacon processor. Perhaps we could only process a beacon block from backfill once all other queues are depleted. As Backfill is not very important it should if a block stays there processing indefinately. Sync will just wait until it eventually goes through. \r\n\r\nJust my 2 cents.",
    "reactions": {
      "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/1135426993/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/1135435034",
    "html_url": "https://github.com/sigp/lighthouse/issues/3212#issuecomment-1135435034",
    "issue_url": "https://api.github.com/repos/sigp/lighthouse/issues/3212",
    "id": 1135435034,
    "node_id": "IC_kwDOCFeAzc5DrV0a",
    "user": {
      "login": "divagant-martian",
      "id": 26765164,
      "node_id": "MDQ6VXNlcjI2NzY1MTY0",
      "avatar_url": "https://avatars.githubusercontent.com/u/26765164?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/divagant-martian",
      "html_url": "https://github.com/divagant-martian",
      "followers_url": "https://api.github.com/users/divagant-martian/followers",
      "following_url": "https://api.github.com/users/divagant-martian/following{/other_user}",
      "gists_url": "https://api.github.com/users/divagant-martian/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/divagant-martian/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/divagant-martian/subscriptions",
      "organizations_url": "https://api.github.com/users/divagant-martian/orgs",
      "repos_url": "https://api.github.com/users/divagant-martian/repos",
      "events_url": "https://api.github.com/users/divagant-martian/events{/privacy}",
      "received_events_url": "https://api.github.com/users/divagant-martian/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-05-24T05:42:47Z",
    "updated_at": "2022-05-24T05:42:47Z",
    "author_association": "COLLABORATOR",
    "body": "Agree on not doing a fancy load balancing or anything like that, just reviewing job priority in the beacon processor. If it's already low priority and it's still interfering with other jobs, lowering the batch size should help. If we \"add a delay\" I would think about it not on the job but on the queues, throttling how often we _start_ processing those. Given the options, after a review/adjustment of job priority I think batch size would be more helpful   ",
    "reactions": {
      "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/1135435034/reactions",
      "total_count": 2,
      "+1": 2,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/1136501721",
    "html_url": "https://github.com/sigp/lighthouse/issues/3212#issuecomment-1136501721",
    "issue_url": "https://api.github.com/repos/sigp/lighthouse/issues/3212",
    "id": 1136501721,
    "node_id": "IC_kwDOCFeAzc5DvaPZ",
    "user": {
      "login": "divagant-martian",
      "id": 26765164,
      "node_id": "MDQ6VXNlcjI2NzY1MTY0",
      "avatar_url": "https://avatars.githubusercontent.com/u/26765164?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/divagant-martian",
      "html_url": "https://github.com/divagant-martian",
      "followers_url": "https://api.github.com/users/divagant-martian/followers",
      "following_url": "https://api.github.com/users/divagant-martian/following{/other_user}",
      "gists_url": "https://api.github.com/users/divagant-martian/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/divagant-martian/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/divagant-martian/subscriptions",
      "organizations_url": "https://api.github.com/users/divagant-martian/orgs",
      "repos_url": "https://api.github.com/users/divagant-martian/repos",
      "events_url": "https://api.github.com/users/divagant-martian/events{/privacy}",
      "received_events_url": "https://api.github.com/users/divagant-martian/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-05-24T22:50:00Z",
    "updated_at": "2022-05-24T22:50:00Z",
    "author_association": "COLLABORATOR",
    "body": "I'll handle this as we agreed, but I'm curious why is this assumed to be related to backfill sync?",
    "reactions": {
      "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/1136501721/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/1136528115",
    "html_url": "https://github.com/sigp/lighthouse/issues/3212#issuecomment-1136528115",
    "issue_url": "https://api.github.com/repos/sigp/lighthouse/issues/3212",
    "id": 1136528115,
    "node_id": "IC_kwDOCFeAzc5Dvgrz",
    "user": {
      "login": "michaelsproul",
      "id": 4452260,
      "node_id": "MDQ6VXNlcjQ0NTIyNjA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4452260?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/michaelsproul",
      "html_url": "https://github.com/michaelsproul",
      "followers_url": "https://api.github.com/users/michaelsproul/followers",
      "following_url": "https://api.github.com/users/michaelsproul/following{/other_user}",
      "gists_url": "https://api.github.com/users/michaelsproul/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/michaelsproul/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/michaelsproul/subscriptions",
      "organizations_url": "https://api.github.com/users/michaelsproul/orgs",
      "repos_url": "https://api.github.com/users/michaelsproul/repos",
      "events_url": "https://api.github.com/users/michaelsproul/events{/privacy}",
      "received_events_url": "https://api.github.com/users/michaelsproul/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-05-24T23:27:31Z",
    "updated_at": "2022-05-24T23:27:31Z",
    "author_association": "MEMBER",
    "body": "The evidence is pretty much anecdotal, Juan noticed it on a bunch of VPS nodes he manages (https://github.com/sigp/lighthouse/issues/3207#issuecomment-1134521896), and another Discord user was having trouble but I just checked the message history and it turns out they were running an HDD :scream:\r\n\r\nAhhh, @divagant-martian you were totally right about the prioritisation though. I think backfill batches count as chain segments so they're being processed first here: https://github.com/sigp/lighthouse/blob/aa72088f8fc91d41106a8afce7a0179cde64ce5d/beacon_node/network/src/beacon_processor/mod.rs#L967-L970",
    "reactions": {
      "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/1136528115/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/1136817924",
    "html_url": "https://github.com/sigp/lighthouse/issues/3212#issuecomment-1136817924",
    "issue_url": "https://api.github.com/repos/sigp/lighthouse/issues/3212",
    "id": 1136817924,
    "node_id": "IC_kwDOCFeAzc5DwncE",
    "user": {
      "login": "mrabino1",
      "id": 4902221,
      "node_id": "MDQ6VXNlcjQ5MDIyMjE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4902221?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mrabino1",
      "html_url": "https://github.com/mrabino1",
      "followers_url": "https://api.github.com/users/mrabino1/followers",
      "following_url": "https://api.github.com/users/mrabino1/following{/other_user}",
      "gists_url": "https://api.github.com/users/mrabino1/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mrabino1/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mrabino1/subscriptions",
      "organizations_url": "https://api.github.com/users/mrabino1/orgs",
      "repos_url": "https://api.github.com/users/mrabino1/repos",
      "events_url": "https://api.github.com/users/mrabino1/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mrabino1/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-05-25T06:46:36Z",
    "updated_at": "2022-05-25T06:46:36Z",
    "author_association": "NONE",
    "body": "Personal experience.. I was using a VPS (now migrated).. and it was using an SSD.. and I experienced missed attestations during the historic block sync after a checkpoint sync.. I do believe this move to making that job a lower priority is the right path. what matters the most after a sync, is continued operations.. the back-fill will finish when it finishes.. ",
    "reactions": {
      "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/1136817924/reactions",
      "total_count": 2,
      "+1": 2,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/1332172926",
    "html_url": "https://github.com/sigp/lighthouse/issues/3212#issuecomment-1332172926",
    "issue_url": "https://api.github.com/repos/sigp/lighthouse/issues/3212",
    "id": 1332172926,
    "node_id": "IC_kwDOCFeAzc5PZ1h-",
    "user": {
      "login": "jmcruz1983",
      "id": 15966694,
      "node_id": "MDQ6VXNlcjE1OTY2Njk0",
      "avatar_url": "https://avatars.githubusercontent.com/u/15966694?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jmcruz1983",
      "html_url": "https://github.com/jmcruz1983",
      "followers_url": "https://api.github.com/users/jmcruz1983/followers",
      "following_url": "https://api.github.com/users/jmcruz1983/following{/other_user}",
      "gists_url": "https://api.github.com/users/jmcruz1983/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jmcruz1983/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jmcruz1983/subscriptions",
      "organizations_url": "https://api.github.com/users/jmcruz1983/orgs",
      "repos_url": "https://api.github.com/users/jmcruz1983/repos",
      "events_url": "https://api.github.com/users/jmcruz1983/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jmcruz1983/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-11-30T13:44:33Z",
    "updated_at": "2022-11-30T13:44:33Z",
    "author_association": "NONE",
    "body": "Any update here?",
    "reactions": {
      "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/1332172926/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/1332775310",
    "html_url": "https://github.com/sigp/lighthouse/issues/3212#issuecomment-1332775310",
    "issue_url": "https://api.github.com/repos/sigp/lighthouse/issues/3212",
    "id": 1332775310,
    "node_id": "IC_kwDOCFeAzc5PcImO",
    "user": {
      "login": "AgeManning",
      "id": 7454587,
      "node_id": "MDQ6VXNlcjc0NTQ1ODc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7454587?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/AgeManning",
      "html_url": "https://github.com/AgeManning",
      "followers_url": "https://api.github.com/users/AgeManning/followers",
      "following_url": "https://api.github.com/users/AgeManning/following{/other_user}",
      "gists_url": "https://api.github.com/users/AgeManning/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/AgeManning/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/AgeManning/subscriptions",
      "organizations_url": "https://api.github.com/users/AgeManning/orgs",
      "repos_url": "https://api.github.com/users/AgeManning/repos",
      "events_url": "https://api.github.com/users/AgeManning/events{/privacy}",
      "received_events_url": "https://api.github.com/users/AgeManning/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-11-30T21:48:46Z",
    "updated_at": "2022-11-30T21:48:46Z",
    "author_association": "MEMBER",
    "body": "Yeah. There is more complexity here than we anticipated. So its not a straight-forward fix. \r\n\r\nWe're currently focusing on developing and testing protocol updates for the next hard-fork so this is currently being left as a lower priority task.\r\n\r\nI imagine this to only disrupt a small number of nodes and only during backfill sync. If there is a greater urgency or bigger issue for this, we can re-evaluate our priorities for this.\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/1332775310/reactions",
      "total_count": 2,
      "+1": 2,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/1384674956",
    "html_url": "https://github.com/sigp/lighthouse/issues/3212#issuecomment-1384674956",
    "issue_url": "https://api.github.com/repos/sigp/lighthouse/issues/3212",
    "id": 1384674956,
    "node_id": "IC_kwDOCFeAzc5SiHaM",
    "user": {
      "login": "paulhauner",
      "id": 6660660,
      "node_id": "MDQ6VXNlcjY2NjA2NjA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6660660?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/paulhauner",
      "html_url": "https://github.com/paulhauner",
      "followers_url": "https://api.github.com/users/paulhauner/followers",
      "following_url": "https://api.github.com/users/paulhauner/following{/other_user}",
      "gists_url": "https://api.github.com/users/paulhauner/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/paulhauner/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/paulhauner/subscriptions",
      "organizations_url": "https://api.github.com/users/paulhauner/orgs",
      "repos_url": "https://api.github.com/users/paulhauner/repos",
      "events_url": "https://api.github.com/users/paulhauner/events{/privacy}",
      "received_events_url": "https://api.github.com/users/paulhauner/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-01-16T23:41:58Z",
    "updated_at": "2023-01-17T00:51:11Z",
    "author_association": "MEMBER",
    "body": "I wanted to add some notes after a discussion with @divagant-martian and @AgeManning this morning.\r\n\r\nBroadly, there are three components involved in back-filling right now:\r\n\r\n- The \"networking stack\"\r\n    - Determines the required blocks and downloads them from peers.\r\n- The [`BeaconProcessor`](https://github.com/sigp/lighthouse/blob/stable/beacon_node/network/src/beacon_processor/mod.rs)\r\n    - Receives unvalidated blocks from the networking stack and queues them for validation/import.\r\n- The [`BeaconChain`](https://github.com/sigp/lighthouse/blob/21dec6f603edd53ad8d2372941c77ab8098d3b5a/beacon_node/beacon_chain/src/historical_blocks.rs#L60-L63)\r\n    - Receives batches dequeued by the `BeaconProcessor` and verifies them, ultimately sending a result back to the networking stack so it can get more blocks.\r\n\r\nThe current consensus for rate-limiting is that it should happen in the `BeaconProcessor`. This is because the networking stack makes no assumptions about how fast the batches are processed and the `BeaconChain` makes no assumptions about how frequently it should process backfill batches. Therefore, it seems fine for the `BeaconProcessor` to receive batches and arbitrarily delay their processing as it sees fit.\r\n\r\nThe `BeaconProcessor` is effectively bunch of FIFO/LIFO queues and a [loop routine](https://github.com/sigp/lighthouse/blob/38514c07f222ff7783834c48cf5c0a6ee7f346d0/beacon_node/network/src/beacon_processor/mod.rs#L1023-L1419) that pops messages out of an `event_rx: mpsc::Receiver<WorkEvent<T>>` channel and either:\r\n\r\n1. Processes the event immediately if there is a free \"worker\".\r\n2. If there are no free workers, queues the message for later processing.\r\n\r\nWe want backfill batches to follow a different flow. I believe that flow should look like this:\r\n\r\n1. A backfill batch from the network immediately goes into a newly-added FIFO queue (\"newly-added\" as in added by the PR that addresses this issue).\r\n1. A newly-added routine fires an event at some intervals which tries to pop a backfill batch from the FIFO queue.\r\n1. When a backfill batched is popped from the queue, it is sent to the existing `event_rx` channel where the `BeaconProcessor` will either process it immediately or queue it for processing with the next free worker (we can probably use the existing [backfill queue](https://github.com/sigp/lighthouse/blob/38514c07f222ff7783834c48cf5c0a6ee7f346d0/beacon_node/network/src/beacon_processor/mod.rs#L986) for this).\r\n\r\nThis solution would allow us to do two things:\r\n\r\n1. Slow the import of batches, therefore reducing the total CPU time spent on backfill per slot.\r\n1. Perform backfill batch processing at very specific points in time. For example, we could do it half-way through each slot when we know that we're probably not producing/processing blocks/attestations.\r\n\r\n### Setting the batch import interval\r\n\r\nWhen slowing the import of batches, it's worth considering *how slow* we're making it. Nodes are required to store at least 33024 epochs (1,056,768 slots, ~5 months) of blocks to serve them to p2p peers (see [`MIN_EPOCHS_FOR_BLOCK_REQUESTS`](https://github.com/ethereum/consensus-specs/blob/dev/specs/phase0/p2p-interface.md)).\r\n\r\nThe batch size is currently 64 slots, so if we're processing one batch of blocks per slot then we're looking at a backfill time of  `1056768 / 64 * 12= 198,144` seconds (~2.29 days). The entire chain at its current length would take `5590000 / 64 * 12 = 1,048,125` seconds (12.13 days).\r\n\r\nNotably, Lighthouse currently backfills the entire chain, although we might move to `MIN_EPOCHS_FOR_BLOCK_REQUESTS` in the future.\r\n\r\nSo, my feeling is that we probably want to speed this up by processing multiple batches per slot. I don't have a good feeling for how long it takes to process a batch. I think it would be important to check that first. Assuming it's ~500ms, I'd suggest process batches at the following intervals:\r\n\r\n- 6s after slot start.\r\n- 7s after slot start\r\n- 10s after slot start.\r\n\r\nThis is very hand-wavy, though. I think we would want to do some more analysis first. These intervals should be enough to get someone started on a solution, we can revist them later.\r\n\r\n### Disable rate-limiting\r\n\r\nI think we should also provide the option for use to disable backfill rate-limiting. This allows \"archive node\" users to just sync the entire chain as fast as they can.\r\n\r\nI suggest that we backfill rate-limiting by default, though.",
    "reactions": {
      "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/1384674956/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/1384705129",
    "html_url": "https://github.com/sigp/lighthouse/issues/3212#issuecomment-1384705129",
    "issue_url": "https://api.github.com/repos/sigp/lighthouse/issues/3212",
    "id": 1384705129,
    "node_id": "IC_kwDOCFeAzc5SiOxp",
    "user": {
      "login": "paulhauner",
      "id": 6660660,
      "node_id": "MDQ6VXNlcjY2NjA2NjA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6660660?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/paulhauner",
      "html_url": "https://github.com/paulhauner",
      "followers_url": "https://api.github.com/users/paulhauner/followers",
      "following_url": "https://api.github.com/users/paulhauner/following{/other_user}",
      "gists_url": "https://api.github.com/users/paulhauner/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/paulhauner/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/paulhauner/subscriptions",
      "organizations_url": "https://api.github.com/users/paulhauner/orgs",
      "repos_url": "https://api.github.com/users/paulhauner/repos",
      "events_url": "https://api.github.com/users/paulhauner/events{/privacy}",
      "received_events_url": "https://api.github.com/users/paulhauner/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-01-17T00:49:34Z",
    "updated_at": "2023-01-17T00:49:34Z",
    "author_association": "MEMBER",
    "body": "@divagant-martian has pointed out that backfill batches are actually 2x epochs: https://github.com/sigp/lighthouse/blob/6ac1c5b43951f26f18df8e0b7553fa93c30e0250/beacon_node/network/src/sync/backfill_sync/mod.rs#L35 üôè I'll update the above comment.",
    "reactions": {
      "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/1384705129/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/1386249922",
    "html_url": "https://github.com/sigp/lighthouse/issues/3212#issuecomment-1386249922",
    "issue_url": "https://api.github.com/repos/sigp/lighthouse/issues/3212",
    "id": 1386249922,
    "node_id": "IC_kwDOCFeAzc5SoH7C",
    "user": {
      "login": "jimmygchen",
      "id": 742762,
      "node_id": "MDQ6VXNlcjc0Mjc2Mg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/742762?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jimmygchen",
      "html_url": "https://github.com/jimmygchen",
      "followers_url": "https://api.github.com/users/jimmygchen/followers",
      "following_url": "https://api.github.com/users/jimmygchen/following{/other_user}",
      "gists_url": "https://api.github.com/users/jimmygchen/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jimmygchen/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jimmygchen/subscriptions",
      "organizations_url": "https://api.github.com/users/jimmygchen/orgs",
      "repos_url": "https://api.github.com/users/jimmygchen/repos",
      "events_url": "https://api.github.com/users/jimmygchen/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jimmygchen/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-01-17T23:48:09Z",
    "updated_at": "2023-01-17T23:48:09Z",
    "author_association": "MEMBER",
    "body": "Thanks for the detailed notes @paulhauner!\r\n\r\nTo help with my understanding, I've created a diagram comparing backfill processing with / without rate-limiting. \r\n(thanks @realbigsean for the feedback!)\r\n\r\n```mermaid\r\nsequenceDiagram\r\n    participant event_rx\r\n    participant BeaconProcessor\r\n    participant backfill_queue\r\n    Title: Existing / Default backfill batch processing\r\n    event_rx->>BeaconProcessor: new backfill batch work\r\n    alt if worker available\r\n        BeaconProcessor->>BeaconProcessor: process backfill batch immediately        \r\n    else no available worker\r\n        BeaconProcessor->>backfill_queue: push to queue\r\n    end\r\n    loop next loop\r\n        alt if worker available\r\n            BeaconProcessor-->>backfill_queue: pop from queue\r\n            BeaconProcessor->>BeaconProcessor: process backfill batch\r\n        end\r\n    end\r\n```\r\n\r\n```mermaid\r\nsequenceDiagram\r\n    participant event_rx\r\n    participant BeaconProcessor\r\n    participant backfill_queue as backfill_queue  (existing) \r\n    participant backfill_scheduled_q as backfill_scheduled_q  (new)\r\n    participant BackfillScheduler\r\n    Title: backfill batch processing with rate-limiting\r\n    event_rx->>BeaconProcessor: new backfill batch work\r\n    BeaconProcessor->>backfill_scheduled_q: push to a \"scheduled\" queue\r\n    loop At 6,7,10 seconds of after slot start\r\n        BackfillScheduler-->>backfill_scheduled_q: pop work from queue\r\n        BackfillScheduler->>event_rx: send scheduled backfill batch work\r\n        event_rx->>BeaconProcessor: receive scheduled backfill batch work\r\n    end\r\n        alt if worker available\r\n        BeaconProcessor->>BeaconProcessor: process backfill batch immediately        \r\n    else no available worker\r\n        BeaconProcessor->>backfill_queue: push to queue\r\n    end\r\n    loop next loop\r\n        alt if worker available\r\n            BeaconProcessor-->>backfill_queue: pop from queue\r\n            BeaconProcessor->>BeaconProcessor: process backfill batch\r\n        end\r\n    end\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/1386249922/reactions",
      "total_count": 3,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 3,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/1386287619",
    "html_url": "https://github.com/sigp/lighthouse/issues/3212#issuecomment-1386287619",
    "issue_url": "https://api.github.com/repos/sigp/lighthouse/issues/3212",
    "id": 1386287619,
    "node_id": "IC_kwDOCFeAzc5SoRID",
    "user": {
      "login": "paulhauner",
      "id": 6660660,
      "node_id": "MDQ6VXNlcjY2NjA2NjA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6660660?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/paulhauner",
      "html_url": "https://github.com/paulhauner",
      "followers_url": "https://api.github.com/users/paulhauner/followers",
      "following_url": "https://api.github.com/users/paulhauner/following{/other_user}",
      "gists_url": "https://api.github.com/users/paulhauner/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/paulhauner/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/paulhauner/subscriptions",
      "organizations_url": "https://api.github.com/users/paulhauner/orgs",
      "repos_url": "https://api.github.com/users/paulhauner/repos",
      "events_url": "https://api.github.com/users/paulhauner/events{/privacy}",
      "received_events_url": "https://api.github.com/users/paulhauner/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-01-18T00:33:37Z",
    "updated_at": "2023-01-18T00:33:37Z",
    "author_association": "MEMBER",
    "body": "This diagram looks perfect! Great job at capturing all of that.",
    "reactions": {
      "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/1386287619/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/1411279664",
    "html_url": "https://github.com/sigp/lighthouse/issues/3212#issuecomment-1411279664",
    "issue_url": "https://api.github.com/repos/sigp/lighthouse/issues/3212",
    "id": 1411279664,
    "node_id": "IC_kwDOCFeAzc5UHmsw",
    "user": {
      "login": "jimmygchen",
      "id": 742762,
      "node_id": "MDQ6VXNlcjc0Mjc2Mg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/742762?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jimmygchen",
      "html_url": "https://github.com/jimmygchen",
      "followers_url": "https://api.github.com/users/jimmygchen/followers",
      "following_url": "https://api.github.com/users/jimmygchen/following{/other_user}",
      "gists_url": "https://api.github.com/users/jimmygchen/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jimmygchen/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jimmygchen/subscriptions",
      "organizations_url": "https://api.github.com/users/jimmygchen/orgs",
      "repos_url": "https://api.github.com/users/jimmygchen/repos",
      "events_url": "https://api.github.com/users/jimmygchen/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jimmygchen/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-02-01T00:47:06Z",
    "updated_at": "2023-02-01T00:47:31Z",
    "author_association": "MEMBER",
    "body": "@michaelsproul I've compared the WIP branch (with rate limiting to 1 batch per slot) against the latest stable version - it does seem to reduce the CPU usage (~20% CPU). Looking to increase the number of batches to 3 (6s,7s,10s after slot start) and will update the results.\r\n\r\nDetails on the work\r\nhttps://hackmd.io/@jimmygchen/SJuVpJL3j\r\n\r\nWIP branch\r\nhttps://github.com/jimmygchen/lighthouse/pull/4",
    "reactions": {
      "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/1411279664/reactions",
      "total_count": 2,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 1,
      "confused": 0,
      "heart": 1,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/1412036872",
    "html_url": "https://github.com/sigp/lighthouse/issues/3212#issuecomment-1412036872",
    "issue_url": "https://api.github.com/repos/sigp/lighthouse/issues/3212",
    "id": 1412036872,
    "node_id": "IC_kwDOCFeAzc5UKfkI",
    "user": {
      "login": "divagant-martian",
      "id": 26765164,
      "node_id": "MDQ6VXNlcjI2NzY1MTY0",
      "avatar_url": "https://avatars.githubusercontent.com/u/26765164?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/divagant-martian",
      "html_url": "https://github.com/divagant-martian",
      "followers_url": "https://api.github.com/users/divagant-martian/followers",
      "following_url": "https://api.github.com/users/divagant-martian/following{/other_user}",
      "gists_url": "https://api.github.com/users/divagant-martian/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/divagant-martian/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/divagant-martian/subscriptions",
      "organizations_url": "https://api.github.com/users/divagant-martian/orgs",
      "repos_url": "https://api.github.com/users/divagant-martian/repos",
      "events_url": "https://api.github.com/users/divagant-martian/events{/privacy}",
      "received_events_url": "https://api.github.com/users/divagant-martian/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-02-01T13:12:19Z",
    "updated_at": "2023-02-01T13:12:19Z",
    "author_association": "COLLABORATOR",
    "body": "Hey Jimmy, happy to start the WIP review. Would you mind changing the base to be sigp's lighthouse?",
    "reactions": {
      "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/1412036872/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/1412148679",
    "html_url": "https://github.com/sigp/lighthouse/issues/3212#issuecomment-1412148679",
    "issue_url": "https://api.github.com/repos/sigp/lighthouse/issues/3212",
    "id": 1412148679,
    "node_id": "IC_kwDOCFeAzc5UK63H",
    "user": {
      "login": "jimmygchen",
      "id": 742762,
      "node_id": "MDQ6VXNlcjc0Mjc2Mg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/742762?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jimmygchen",
      "html_url": "https://github.com/jimmygchen",
      "followers_url": "https://api.github.com/users/jimmygchen/followers",
      "following_url": "https://api.github.com/users/jimmygchen/following{/other_user}",
      "gists_url": "https://api.github.com/users/jimmygchen/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jimmygchen/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jimmygchen/subscriptions",
      "organizations_url": "https://api.github.com/users/jimmygchen/orgs",
      "repos_url": "https://api.github.com/users/jimmygchen/repos",
      "events_url": "https://api.github.com/users/jimmygchen/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jimmygchen/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-02-01T14:26:12Z",
    "updated_at": "2023-02-01T14:26:12Z",
    "author_association": "MEMBER",
    "body": "Thanks @divagant-martian! üôè  PR created here: https://github.com/sigp/lighthouse/pull/3936",
    "reactions": {
      "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/1412148679/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/1535725250",
    "html_url": "https://github.com/sigp/lighthouse/issues/3212#issuecomment-1535725250",
    "issue_url": "https://api.github.com/repos/sigp/lighthouse/issues/3212",
    "id": 1535725250,
    "node_id": "IC_kwDOCFeAzc5biU7C",
    "user": {
      "login": "michaelsproul",
      "id": 4452260,
      "node_id": "MDQ6VXNlcjQ0NTIyNjA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4452260?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/michaelsproul",
      "html_url": "https://github.com/michaelsproul",
      "followers_url": "https://api.github.com/users/michaelsproul/followers",
      "following_url": "https://api.github.com/users/michaelsproul/following{/other_user}",
      "gists_url": "https://api.github.com/users/michaelsproul/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/michaelsproul/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/michaelsproul/subscriptions",
      "organizations_url": "https://api.github.com/users/michaelsproul/orgs",
      "repos_url": "https://api.github.com/users/michaelsproul/repos",
      "events_url": "https://api.github.com/users/michaelsproul/events{/privacy}",
      "received_events_url": "https://api.github.com/users/michaelsproul/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-05-05T05:48:12Z",
    "updated_at": "2023-05-05T05:48:12Z",
    "author_association": "MEMBER",
    "body": "Resolved by #3936 :tada:",
    "reactions": {
      "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/1535725250/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
