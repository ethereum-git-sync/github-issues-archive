{
  "url": "https://api.github.com/repos/sigp/lighthouse/issues/2638",
  "repository_url": "https://api.github.com/repos/sigp/lighthouse",
  "labels_url": "https://api.github.com/repos/sigp/lighthouse/issues/2638/labels{/name}",
  "comments_url": "https://api.github.com/repos/sigp/lighthouse/issues/2638/comments",
  "events_url": "https://api.github.com/repos/sigp/lighthouse/issues/2638/events",
  "html_url": "https://github.com/sigp/lighthouse/issues/2638",
  "id": 1008410478,
  "node_id": "I_kwDOCFeAzc48Gx9u",
  "number": 2638,
  "title": "/eth/v1/config/spec does not return Altair constants",
  "user": {
    "login": "mcdee",
    "id": 511384,
    "node_id": "MDQ6VXNlcjUxMTM4NA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/511384?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/mcdee",
    "html_url": "https://github.com/mcdee",
    "followers_url": "https://api.github.com/users/mcdee/followers",
    "following_url": "https://api.github.com/users/mcdee/following{/other_user}",
    "gists_url": "https://api.github.com/users/mcdee/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/mcdee/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/mcdee/subscriptions",
    "organizations_url": "https://api.github.com/users/mcdee/orgs",
    "repos_url": "https://api.github.com/users/mcdee/repos",
    "events_url": "https://api.github.com/users/mcdee/events{/privacy}",
    "received_events_url": "https://api.github.com/users/mcdee/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 985647286,
      "node_id": "MDU6TGFiZWw5ODU2NDcyODY=",
      "url": "https://api.github.com/repos/sigp/lighthouse/labels/good%20first%20issue",
      "name": "good first issue",
      "color": "7057ff",
      "default": true,
      "description": "Good for newcomers"
    },
    {
      "id": 2336800343,
      "node_id": "MDU6TGFiZWwyMzM2ODAwMzQz",
      "url": "https://api.github.com/repos/sigp/lighthouse/labels/HTTP-API",
      "name": "HTTP-API",
      "color": "5A63A2",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": {
    "login": "michaelsproul",
    "id": 4452260,
    "node_id": "MDQ6VXNlcjQ0NTIyNjA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/4452260?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/michaelsproul",
    "html_url": "https://github.com/michaelsproul",
    "followers_url": "https://api.github.com/users/michaelsproul/followers",
    "following_url": "https://api.github.com/users/michaelsproul/following{/other_user}",
    "gists_url": "https://api.github.com/users/michaelsproul/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/michaelsproul/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/michaelsproul/subscriptions",
    "organizations_url": "https://api.github.com/users/michaelsproul/orgs",
    "repos_url": "https://api.github.com/users/michaelsproul/repos",
    "events_url": "https://api.github.com/users/michaelsproul/events{/privacy}",
    "received_events_url": "https://api.github.com/users/michaelsproul/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "michaelsproul",
      "id": 4452260,
      "node_id": "MDQ6VXNlcjQ0NTIyNjA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4452260?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/michaelsproul",
      "html_url": "https://github.com/michaelsproul",
      "followers_url": "https://api.github.com/users/michaelsproul/followers",
      "following_url": "https://api.github.com/users/michaelsproul/following{/other_user}",
      "gists_url": "https://api.github.com/users/michaelsproul/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/michaelsproul/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/michaelsproul/subscriptions",
      "organizations_url": "https://api.github.com/users/michaelsproul/orgs",
      "repos_url": "https://api.github.com/users/michaelsproul/repos",
      "events_url": "https://api.github.com/users/michaelsproul/events{/privacy}",
      "received_events_url": "https://api.github.com/users/michaelsproul/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2021-09-27T17:30:38Z",
  "updated_at": "2022-08-22T06:27:33Z",
  "closed_at": "2022-08-22T06:27:33Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "## Description\r\n\r\nThe `/eth/v1/config/spec` endpoint does not return all Altair constants.\r\n\r\n## Version\r\n\r\n1.5.2\r\n\r\n## Present Behaviour\r\n\r\nNot all Altair constants not returned (although some are, for example `SYNC_COMMITTEE_SIZE`).\r\n\r\n## Expected Behaviour\r\n\r\nAltair constants should be returned:\r\n- `DOMAIN_CONTRIBUTION_AND_PROOF`\r\n- `DOMAIN_SYNC_COMMITTEE`\r\n- `DOMAIN_SYNC_COMMITTEE_SELECTION_PROOF`\r\n- `SYNC_COMMITTEE_SUBNET_COUNT`\r\n- `TARGET_AGGREGATORS_PER_SYNC_SUBCOMMITTEE`\r\n\r\n## Steps to resolve\r\n\r\nQuery `/eth/v1/config/spec` and examine output.",
  "closed_by": {
    "login": "paulhauner",
    "id": 6660660,
    "node_id": "MDQ6VXNlcjY2NjA2NjA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6660660?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/paulhauner",
    "html_url": "https://github.com/paulhauner",
    "followers_url": "https://api.github.com/users/paulhauner/followers",
    "following_url": "https://api.github.com/users/paulhauner/following{/other_user}",
    "gists_url": "https://api.github.com/users/paulhauner/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/paulhauner/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/paulhauner/subscriptions",
    "organizations_url": "https://api.github.com/users/paulhauner/orgs",
    "repos_url": "https://api.github.com/users/paulhauner/repos",
    "events_url": "https://api.github.com/users/paulhauner/events{/privacy}",
    "received_events_url": "https://api.github.com/users/paulhauner/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/2638/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/sigp/lighthouse/issues/2638/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/928523385",
    "html_url": "https://github.com/sigp/lighthouse/issues/2638#issuecomment-928523385",
    "issue_url": "https://api.github.com/repos/sigp/lighthouse/issues/2638",
    "id": 928523385,
    "node_id": "IC_kwDOCFeAzc43WCR5",
    "user": {
      "login": "michaelsproul",
      "id": 4452260,
      "node_id": "MDQ6VXNlcjQ0NTIyNjA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4452260?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/michaelsproul",
      "html_url": "https://github.com/michaelsproul",
      "followers_url": "https://api.github.com/users/michaelsproul/followers",
      "following_url": "https://api.github.com/users/michaelsproul/following{/other_user}",
      "gists_url": "https://api.github.com/users/michaelsproul/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/michaelsproul/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/michaelsproul/subscriptions",
      "organizations_url": "https://api.github.com/users/michaelsproul/orgs",
      "repos_url": "https://api.github.com/users/michaelsproul/repos",
      "events_url": "https://api.github.com/users/michaelsproul/events{/privacy}",
      "received_events_url": "https://api.github.com/users/michaelsproul/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-09-28T00:43:50Z",
    "updated_at": "2021-09-28T00:43:50Z",
    "author_association": "MEMBER",
    "body": "Ah, I wasn't aware that a decision had been made to include constants in the spec endpoint. As in, I hadn't seen this paragraph before:\r\n\r\n> Retrieve specification configuration used on this node. The configuration should include:\r\n>\r\n> Constants for all hard forks known by the beacon node, for example the phase 0 and altair values\r\n> Presets for all hard forks supplied to the beacon node, for example the phase 0 and altair values\r\n> Configuration for the beacon node, for example the mainnet values\r\n\r\nLighthouse's current behaviour is to return the preset + configs, and some constants from phase0 for backwards compatibility that we were hoping to eventually remove.\r\n \r\nIMO including constants in the endpoint is kind of clunky because the set of constants is expansive and defined over multiple spec documents (there's no straightforward _single source of truth_). I had hoped the preset/config distinction would _simplify_ and clearly define the configuration parameters, yet adding constants back in to the mix seems to work against that. You've listed a few constants that you want access to, but there are many more, e.g.\r\n\r\nhttps://github.com/sigp/lighthouse/blob/f9bba92db3468321b28ddd9010e26b359f88bafe/consensus/types/src/consts.rs#L1-L21\r\n\r\nDoes Vouch not hard-code the constants from the specification? If it's a matter of wanting to avoid hard-coding values, maybe we need to address the root issue which is the lack of a canonical list of constants in the spec.\r\n\r\nOf course, we're also pragmatic, and we want to follow the spec, so if this is something you really need we can kick the can down the road on adding _all_ constants and just add the ones you mentioned\r\n\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/928523385/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/928940211",
    "html_url": "https://github.com/sigp/lighthouse/issues/2638#issuecomment-928940211",
    "issue_url": "https://api.github.com/repos/sigp/lighthouse/issues/2638",
    "id": 928940211,
    "node_id": "IC_kwDOCFeAzc43XoCz",
    "user": {
      "login": "mcdee",
      "id": 511384,
      "node_id": "MDQ6VXNlcjUxMTM4NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/511384?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mcdee",
      "html_url": "https://github.com/mcdee",
      "followers_url": "https://api.github.com/users/mcdee/followers",
      "following_url": "https://api.github.com/users/mcdee/following{/other_user}",
      "gists_url": "https://api.github.com/users/mcdee/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mcdee/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mcdee/subscriptions",
      "organizations_url": "https://api.github.com/users/mcdee/orgs",
      "repos_url": "https://api.github.com/users/mcdee/repos",
      "events_url": "https://api.github.com/users/mcdee/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mcdee/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-09-28T07:44:59Z",
    "updated_at": "2021-09-28T07:44:59Z",
    "author_association": "CONTRIBUTOR",
    "body": "Vouch does use the beacon node information for all of its constants (I've never trusted constants; they're shifty).  I can see the other constants being useful as well (e.g. externally calculating rewards for a given epoch) but up to you if you want to add them as well.",
    "reactions": {
      "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/928940211/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
