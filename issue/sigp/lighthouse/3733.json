{
  "url": "https://api.github.com/repos/sigp/lighthouse/issues/3733",
  "repository_url": "https://api.github.com/repos/sigp/lighthouse",
  "labels_url": "https://api.github.com/repos/sigp/lighthouse/issues/3733/labels{/name}",
  "comments_url": "https://api.github.com/repos/sigp/lighthouse/issues/3733/comments",
  "events_url": "https://api.github.com/repos/sigp/lighthouse/issues/3733/events",
  "html_url": "https://github.com/sigp/lighthouse/issues/3733",
  "id": 1452742500,
  "node_id": "I_kwDOCFeAzc5Wlxdk",
  "number": 3733,
  "title": "Maximum clique enumeration for attestation aggregation in op pool",
  "user": {
    "login": "michaelsproul",
    "id": 4452260,
    "node_id": "MDQ6VXNlcjQ0NTIyNjA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/4452260?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/michaelsproul",
    "html_url": "https://github.com/michaelsproul",
    "followers_url": "https://api.github.com/users/michaelsproul/followers",
    "following_url": "https://api.github.com/users/michaelsproul/following{/other_user}",
    "gists_url": "https://api.github.com/users/michaelsproul/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/michaelsproul/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/michaelsproul/subscriptions",
    "organizations_url": "https://api.github.com/users/michaelsproul/orgs",
    "repos_url": "https://api.github.com/users/michaelsproul/repos",
    "events_url": "https://api.github.com/users/michaelsproul/events{/privacy}",
    "received_events_url": "https://api.github.com/users/michaelsproul/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 1999784343,
      "node_id": "MDU6TGFiZWwxOTk5Nzg0MzQz",
      "url": "https://api.github.com/repos/sigp/lighthouse/labels/optimization",
      "name": "optimization",
      "color": "f9de40",
      "default": false,
      "description": "Something to make Lighthouse run more efficiently."
    },
    {
      "id": 4328027039,
      "node_id": "LA_kwDOCFeAzc8AAAABAfhznw",
      "url": "https://api.github.com/repos/sigp/lighthouse/labels/backlog",
      "name": "backlog",
      "color": "C86912",
      "default": false,
      "description": "PR is not currently prioritized"
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": {
    "login": "ankurdubey521",
    "id": 16562513,
    "node_id": "MDQ6VXNlcjE2NTYyNTEz",
    "avatar_url": "https://avatars.githubusercontent.com/u/16562513?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/ankurdubey521",
    "html_url": "https://github.com/ankurdubey521",
    "followers_url": "https://api.github.com/users/ankurdubey521/followers",
    "following_url": "https://api.github.com/users/ankurdubey521/following{/other_user}",
    "gists_url": "https://api.github.com/users/ankurdubey521/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/ankurdubey521/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/ankurdubey521/subscriptions",
    "organizations_url": "https://api.github.com/users/ankurdubey521/orgs",
    "repos_url": "https://api.github.com/users/ankurdubey521/repos",
    "events_url": "https://api.github.com/users/ankurdubey521/events{/privacy}",
    "received_events_url": "https://api.github.com/users/ankurdubey521/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "ankurdubey521",
      "id": 16562513,
      "node_id": "MDQ6VXNlcjE2NTYyNTEz",
      "avatar_url": "https://avatars.githubusercontent.com/u/16562513?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ankurdubey521",
      "html_url": "https://github.com/ankurdubey521",
      "followers_url": "https://api.github.com/users/ankurdubey521/followers",
      "following_url": "https://api.github.com/users/ankurdubey521/following{/other_user}",
      "gists_url": "https://api.github.com/users/ankurdubey521/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ankurdubey521/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ankurdubey521/subscriptions",
      "organizations_url": "https://api.github.com/users/ankurdubey521/orgs",
      "repos_url": "https://api.github.com/users/ankurdubey521/repos",
      "events_url": "https://api.github.com/users/ankurdubey521/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ankurdubey521/received_events",
      "type": "User",
      "site_admin": false
    },
    {
      "login": "GeemoCandama",
      "id": 104614073,
      "node_id": "U_kgDOBjxIuQ",
      "avatar_url": "https://avatars.githubusercontent.com/u/104614073?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/GeemoCandama",
      "html_url": "https://github.com/GeemoCandama",
      "followers_url": "https://api.github.com/users/GeemoCandama/followers",
      "following_url": "https://api.github.com/users/GeemoCandama/following{/other_user}",
      "gists_url": "https://api.github.com/users/GeemoCandama/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/GeemoCandama/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/GeemoCandama/subscriptions",
      "organizations_url": "https://api.github.com/users/GeemoCandama/orgs",
      "repos_url": "https://api.github.com/users/GeemoCandama/repos",
      "events_url": "https://api.github.com/users/GeemoCandama/events{/privacy}",
      "received_events_url": "https://api.github.com/users/GeemoCandama/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 5,
  "created_at": "2022-11-17T05:38:58Z",
  "updated_at": "2023-07-20T02:33:10Z",
  "closed_at": null,
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": "## Description\r\n\r\nPresently Lighthouse uses an opportunistic strategy for aggregating attestations added to the op pool. Any new attestation which can be aggregated with an existing one will be aggregated here:\r\n\r\nhttps://github.com/sigp/lighthouse/blob/6d5a2b509fac7b6ffe693866f58ba49989f946d7/beacon_node/operation_pool/src/attestation_storage.rs#L163-L174\r\n\r\nIn our collaboration with Satalia they prototyped a maximum clique enumeration algorithm for doing optimal aggregation. This issue is about adopting that optimal aggregation algorithm, while keeping our greedy algorithm for max coverage.\r\n\r\nIf you're interested in working on this issue DM me and I can provide a copy of the code written by Satalia. They wrote a pure Rust implementation of the [Bron-Kerbosch](https://en.wikipedia.org/wiki/Bron%E2%80%93Kerbosch_algorithm) algorithm which showed good performance during testing.\r\n\r\nWe would need to overhaul how we handle _unaggregated_ attestations in the `naive_aggregation_pool` so that we keep single attestations unaggregated. This might be somewhat delicate.\r\n\r\n## Version\r\n\r\nLighthouse v3.2.1\r\n",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/3733/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/sigp/lighthouse/issues/3733/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/1605787473",
    "html_url": "https://github.com/sigp/lighthouse/issues/3733#issuecomment-1605787473",
    "issue_url": "https://api.github.com/repos/sigp/lighthouse/issues/3733",
    "id": 1605787473,
    "node_id": "IC_kwDOCFeAzc5ftl9R",
    "user": {
      "login": "ankurdubey521",
      "id": 16562513,
      "node_id": "MDQ6VXNlcjE2NTYyNTEz",
      "avatar_url": "https://avatars.githubusercontent.com/u/16562513?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ankurdubey521",
      "html_url": "https://github.com/ankurdubey521",
      "followers_url": "https://api.github.com/users/ankurdubey521/followers",
      "following_url": "https://api.github.com/users/ankurdubey521/following{/other_user}",
      "gists_url": "https://api.github.com/users/ankurdubey521/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ankurdubey521/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ankurdubey521/subscriptions",
      "organizations_url": "https://api.github.com/users/ankurdubey521/orgs",
      "repos_url": "https://api.github.com/users/ankurdubey521/repos",
      "events_url": "https://api.github.com/users/ankurdubey521/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ankurdubey521/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-06-25T00:15:27Z",
    "updated_at": "2023-06-25T00:15:27Z",
    "author_association": "NONE",
    "body": "I plan to participate in the 4th cohort of the Ethereum Protocol Fellowship and am highly interested in picking this up as my project for the cohort.",
    "reactions": {
      "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/1605787473/reactions",
      "total_count": 4,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 4,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/1626864917",
    "html_url": "https://github.com/sigp/lighthouse/issues/3733#issuecomment-1626864917",
    "issue_url": "https://api.github.com/repos/sigp/lighthouse/issues/3733",
    "id": 1626864917,
    "node_id": "IC_kwDOCFeAzc5g9_0V",
    "user": {
      "login": "michaelsproul",
      "id": 4452260,
      "node_id": "MDQ6VXNlcjQ0NTIyNjA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4452260?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/michaelsproul",
      "html_url": "https://github.com/michaelsproul",
      "followers_url": "https://api.github.com/users/michaelsproul/followers",
      "following_url": "https://api.github.com/users/michaelsproul/following{/other_user}",
      "gists_url": "https://api.github.com/users/michaelsproul/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/michaelsproul/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/michaelsproul/subscriptions",
      "organizations_url": "https://api.github.com/users/michaelsproul/orgs",
      "repos_url": "https://api.github.com/users/michaelsproul/repos",
      "events_url": "https://api.github.com/users/michaelsproul/events{/privacy}",
      "received_events_url": "https://api.github.com/users/michaelsproul/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-07-08T05:21:04Z",
    "updated_at": "2023-07-08T05:21:04Z",
    "author_association": "MEMBER",
    "body": "I think @GeemoCandama was also interested in working on this, would you two be open to working together?",
    "reactions": {
      "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/1626864917/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/1626873822",
    "html_url": "https://github.com/sigp/lighthouse/issues/3733#issuecomment-1626873822",
    "issue_url": "https://api.github.com/repos/sigp/lighthouse/issues/3733",
    "id": 1626873822,
    "node_id": "IC_kwDOCFeAzc5g-B_e",
    "user": {
      "login": "GeemoCandama",
      "id": 104614073,
      "node_id": "U_kgDOBjxIuQ",
      "avatar_url": "https://avatars.githubusercontent.com/u/104614073?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/GeemoCandama",
      "html_url": "https://github.com/GeemoCandama",
      "followers_url": "https://api.github.com/users/GeemoCandama/followers",
      "following_url": "https://api.github.com/users/GeemoCandama/following{/other_user}",
      "gists_url": "https://api.github.com/users/GeemoCandama/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/GeemoCandama/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/GeemoCandama/subscriptions",
      "organizations_url": "https://api.github.com/users/GeemoCandama/orgs",
      "repos_url": "https://api.github.com/users/GeemoCandama/repos",
      "events_url": "https://api.github.com/users/GeemoCandama/events{/privacy}",
      "received_events_url": "https://api.github.com/users/GeemoCandama/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-07-08T05:40:50Z",
    "updated_at": "2023-07-08T05:40:50Z",
    "author_association": "CONTRIBUTOR",
    "body": "Yes, I am interested in working on this.",
    "reactions": {
      "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/1626873822/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 1,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/1626883336",
    "html_url": "https://github.com/sigp/lighthouse/issues/3733#issuecomment-1626883336",
    "issue_url": "https://api.github.com/repos/sigp/lighthouse/issues/3733",
    "id": 1626883336,
    "node_id": "IC_kwDOCFeAzc5g-EUI",
    "user": {
      "login": "ankurdubey521",
      "id": 16562513,
      "node_id": "MDQ6VXNlcjE2NTYyNTEz",
      "avatar_url": "https://avatars.githubusercontent.com/u/16562513?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ankurdubey521",
      "html_url": "https://github.com/ankurdubey521",
      "followers_url": "https://api.github.com/users/ankurdubey521/followers",
      "following_url": "https://api.github.com/users/ankurdubey521/following{/other_user}",
      "gists_url": "https://api.github.com/users/ankurdubey521/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ankurdubey521/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ankurdubey521/subscriptions",
      "organizations_url": "https://api.github.com/users/ankurdubey521/orgs",
      "repos_url": "https://api.github.com/users/ankurdubey521/repos",
      "events_url": "https://api.github.com/users/ankurdubey521/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ankurdubey521/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-07-08T06:22:17Z",
    "updated_at": "2023-07-08T06:22:17Z",
    "author_association": "NONE",
    "body": "> I think @GeemoCandama was also interested in working on this, would you two be open to working together?\r\n\r\nExcited to work on this together @GeemoCandama !\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/1626883336/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/1643016724",
    "html_url": "https://github.com/sigp/lighthouse/issues/3733#issuecomment-1643016724",
    "issue_url": "https://api.github.com/repos/sigp/lighthouse/issues/3733",
    "id": 1643016724,
    "node_id": "IC_kwDOCFeAzc5h7nIU",
    "user": {
      "login": "PatStiles",
      "id": 33334338,
      "node_id": "MDQ6VXNlcjMzMzM0MzM4",
      "avatar_url": "https://avatars.githubusercontent.com/u/33334338?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/PatStiles",
      "html_url": "https://github.com/PatStiles",
      "followers_url": "https://api.github.com/users/PatStiles/followers",
      "following_url": "https://api.github.com/users/PatStiles/following{/other_user}",
      "gists_url": "https://api.github.com/users/PatStiles/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/PatStiles/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/PatStiles/subscriptions",
      "organizations_url": "https://api.github.com/users/PatStiles/orgs",
      "repos_url": "https://api.github.com/users/PatStiles/repos",
      "events_url": "https://api.github.com/users/PatStiles/events{/privacy}",
      "received_events_url": "https://api.github.com/users/PatStiles/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-07-20T02:33:10Z",
    "updated_at": "2023-07-20T02:33:10Z",
    "author_association": "NONE",
    "body": "I'm also participating in the cohort and was thinking about working on this @ankurdubey521 @GeemoCandama are you guys down to collaborate?",
    "reactions": {
      "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/1643016724/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
