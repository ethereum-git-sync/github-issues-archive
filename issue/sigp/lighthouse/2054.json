{
  "url": "https://api.github.com/repos/sigp/lighthouse/issues/2054",
  "repository_url": "https://api.github.com/repos/sigp/lighthouse",
  "labels_url": "https://api.github.com/repos/sigp/lighthouse/issues/2054/labels{/name}",
  "comments_url": "https://api.github.com/repos/sigp/lighthouse/issues/2054/comments",
  "events_url": "https://api.github.com/repos/sigp/lighthouse/issues/2054/events",
  "html_url": "https://github.com/sigp/lighthouse/issues/2054",
  "id": 757835404,
  "node_id": "MDU6SXNzdWU3NTc4MzU0MDQ=",
  "number": 2054,
  "title": "Graffiti \"\"",
  "user": {
    "login": "MysticRyuujin",
    "id": 8877131,
    "node_id": "MDQ6VXNlcjg4NzcxMzE=",
    "avatar_url": "https://avatars.githubusercontent.com/u/8877131?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/MysticRyuujin",
    "html_url": "https://github.com/MysticRyuujin",
    "followers_url": "https://api.github.com/users/MysticRyuujin/followers",
    "following_url": "https://api.github.com/users/MysticRyuujin/following{/other_user}",
    "gists_url": "https://api.github.com/users/MysticRyuujin/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/MysticRyuujin/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/MysticRyuujin/subscriptions",
    "organizations_url": "https://api.github.com/users/MysticRyuujin/orgs",
    "repos_url": "https://api.github.com/users/MysticRyuujin/repos",
    "events_url": "https://api.github.com/users/MysticRyuujin/events{/privacy}",
    "received_events_url": "https://api.github.com/users/MysticRyuujin/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 3,
  "created_at": "2020-12-06T03:24:20Z",
  "updated_at": "2020-12-07T04:46:23Z",
  "closed_at": "2020-12-07T04:46:23Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "## Description\r\n\r\n`--graffiti=\"\"` results in graffiti of `\"\"` which seems strange when setting it as a flag in docker compose file.\r\n\r\n## Version\r\n\r\nDocker 1.0.3\r\n\r\n## Present Behaviour\r\n\r\n`--graffiti=\"\"` results in graffiti of `\"\"`\r\n\r\n## Expected Behaviour\r\n\r\n`--graffiti=\"\"` results in no graffiti\r\n\r\n## Steps to resolve\r\n\r\nI'm actually not sure how to just set a blank graffiti without using a flag that does other things too?",
  "closed_by": {
    "login": "michaelsproul",
    "id": 4452260,
    "node_id": "MDQ6VXNlcjQ0NTIyNjA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/4452260?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/michaelsproul",
    "html_url": "https://github.com/michaelsproul",
    "followers_url": "https://api.github.com/users/michaelsproul/followers",
    "following_url": "https://api.github.com/users/michaelsproul/following{/other_user}",
    "gists_url": "https://api.github.com/users/michaelsproul/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/michaelsproul/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/michaelsproul/subscriptions",
    "organizations_url": "https://api.github.com/users/michaelsproul/orgs",
    "repos_url": "https://api.github.com/users/michaelsproul/repos",
    "events_url": "https://api.github.com/users/michaelsproul/events{/privacy}",
    "received_events_url": "https://api.github.com/users/michaelsproul/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/2054/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/sigp/lighthouse/issues/2054/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/739470751",
    "html_url": "https://github.com/sigp/lighthouse/issues/2054#issuecomment-739470751",
    "issue_url": "https://api.github.com/repos/sigp/lighthouse/issues/2054",
    "id": 739470751,
    "node_id": "MDEyOklzc3VlQ29tbWVudDczOTQ3MDc1MQ==",
    "user": {
      "login": "michaelsproul",
      "id": 4452260,
      "node_id": "MDQ6VXNlcjQ0NTIyNjA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4452260?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/michaelsproul",
      "html_url": "https://github.com/michaelsproul",
      "followers_url": "https://api.github.com/users/michaelsproul/followers",
      "following_url": "https://api.github.com/users/michaelsproul/following{/other_user}",
      "gists_url": "https://api.github.com/users/michaelsproul/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/michaelsproul/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/michaelsproul/subscriptions",
      "organizations_url": "https://api.github.com/users/michaelsproul/orgs",
      "repos_url": "https://api.github.com/users/michaelsproul/repos",
      "events_url": "https://api.github.com/users/michaelsproul/events{/privacy}",
      "received_events_url": "https://api.github.com/users/michaelsproul/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-12-06T08:13:59Z",
    "updated_at": "2020-12-06T08:13:59Z",
    "author_association": "MEMBER",
    "body": "Hmm, I can't reproduce this locally so I'm wondering if there's something peculiar about your setup that's causing this.\r\n\r\n1. What shell are you using? Both shells I tried (`fish` and `bash`) strip the quotes from the string before passing it to Lighthouse. i.e. they treat `--graffiti=\"\"` exactly the same as `--graffiti=` (the latter here could be a workaround for you).\r\n2. Are you sure you're not using smart quotes, like `“”`? These often get auto-inserted in various editors/browsers, but are not compatible with the shell.",
    "reactions": {
      "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/739470751/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/739514542",
    "html_url": "https://github.com/sigp/lighthouse/issues/2054#issuecomment-739514542",
    "issue_url": "https://api.github.com/repos/sigp/lighthouse/issues/2054",
    "id": 739514542,
    "node_id": "MDEyOklzc3VlQ29tbWVudDczOTUxNDU0Mg==",
    "user": {
      "login": "MysticRyuujin",
      "id": 8877131,
      "node_id": "MDQ6VXNlcjg4NzcxMzE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8877131?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MysticRyuujin",
      "html_url": "https://github.com/MysticRyuujin",
      "followers_url": "https://api.github.com/users/MysticRyuujin/followers",
      "following_url": "https://api.github.com/users/MysticRyuujin/following{/other_user}",
      "gists_url": "https://api.github.com/users/MysticRyuujin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MysticRyuujin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MysticRyuujin/subscriptions",
      "organizations_url": "https://api.github.com/users/MysticRyuujin/orgs",
      "repos_url": "https://api.github.com/users/MysticRyuujin/repos",
      "events_url": "https://api.github.com/users/MysticRyuujin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MysticRyuujin/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-12-06T14:59:38Z",
    "updated_at": "2020-12-06T15:02:37Z",
    "author_association": "NONE",
    "body": "Are you running it via Docker-Compose file? I typed the quotes myself so I know they're real quotes :)\r\n\r\n```\r\nversion: \"3.3\"\r\nservices:\r\n  lh-beacon:\r\n    container_name: lh-beacon\r\n    image: \"sigp/lighthouse:v1.0.3\"\r\n    ports:\r\n      - \"5052:5052\" # RESTful HTTP API server\r\n      - \"5053:5053\" # WebSocket\r\n      - \"9000:9000\" # Peering\r\n      - \"9000:9000/udp\" # Peering\r\n    volumes:\r\n      - \"/data/dockerfiles/lh-beacon:/root/.lighthouse\"\r\n    stop_signal: SIGINT\r\n    stop_grace_period: 2m\r\n    restart: unless-stopped\r\n    environment:\r\n      - TZ=America/Chicago\r\n    command:\r\n      - lighthouse\r\n      - --network=mainnet\r\n      - beacon_node\r\n      - --slasher\r\n      - --disable-upnp\r\n      - --eth1\r\n      - --http\r\n      - --http-address=0.0.0.0\r\n      - --metrics\r\n      - --metrics-address=0.0.0.0\r\n      - --ws\r\n      - --ws-address=0.0.0.0\r\n      - --target-peers=100\r\n      - --eth1-endpoints=<redacted>\r\n      - --graffiti=\"\"\r\n\r\n  lh-validator:\r\n    container_name: lh-validator\r\n    image: \"sigp/lighthouse:v1.0.3\"\r\n    volumes:\r\n      - /data/dockerfiles/lh-validator:/root/.lighthouse\r\n    restart: unless-stopped\r\n    environment:\r\n      - TZ=America/Chicago\r\n    depends_on:\r\n      - lh-beacon\r\n    command:\r\n      - lighthouse\r\n      - --network=mainnet\r\n      - validator\r\n      - --beacon-node=http://lh-beacon:5052\r\n      - --graffiti=\"\"\r\n```\r\n\r\nI'm not sure if there's something weird going on with setting both validator and beacon graffiti to `\"\"` or not? Or some weird docker interpretation?",
    "reactions": {
      "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/739514542/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/739660185",
    "html_url": "https://github.com/sigp/lighthouse/issues/2054#issuecomment-739660185",
    "issue_url": "https://api.github.com/repos/sigp/lighthouse/issues/2054",
    "id": 739660185,
    "node_id": "MDEyOklzc3VlQ29tbWVudDczOTY2MDE4NQ==",
    "user": {
      "login": "michaelsproul",
      "id": 4452260,
      "node_id": "MDQ6VXNlcjQ0NTIyNjA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4452260?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/michaelsproul",
      "html_url": "https://github.com/michaelsproul",
      "followers_url": "https://api.github.com/users/michaelsproul/followers",
      "following_url": "https://api.github.com/users/michaelsproul/following{/other_user}",
      "gists_url": "https://api.github.com/users/michaelsproul/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/michaelsproul/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/michaelsproul/subscriptions",
      "organizations_url": "https://api.github.com/users/michaelsproul/orgs",
      "repos_url": "https://api.github.com/users/michaelsproul/repos",
      "events_url": "https://api.github.com/users/michaelsproul/events{/privacy}",
      "received_events_url": "https://api.github.com/users/michaelsproul/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-12-07T04:46:03Z",
    "updated_at": "2020-12-07T04:46:13Z",
    "author_association": "MEMBER",
    "body": "> Or some weird docker interpretation?\r\n\r\nAh, looking at your compose file I'm pretty sure it's this. The way the YAML is getting parsed means the string given to the Lighthouse binary for that argument is `\"--graffiti=\\\"\\\"\"`. I think either of these should work fine:\r\n\r\n1. `--graffiti=`\r\n2.\r\n\r\n```\r\n- --graffiti\r\n- \"\"\r\n```\r\n\r\nThere's some more about YAML quoting here that might be interesting :sweat_smile:  https://www.yaml.info/learn/quote.html\r\n\r\nI'm going to close this issue because Lighthouse itself is behaving correctly in this case and it's just a matter of weird input from Docker. We can re-open if neither of the snippets above work for you",
    "reactions": {
      "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/739660185/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
