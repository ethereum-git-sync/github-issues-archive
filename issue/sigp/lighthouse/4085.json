{
  "url": "https://api.github.com/repos/sigp/lighthouse/issues/4085",
  "repository_url": "https://api.github.com/repos/sigp/lighthouse",
  "labels_url": "https://api.github.com/repos/sigp/lighthouse/issues/4085/labels{/name}",
  "comments_url": "https://api.github.com/repos/sigp/lighthouse/issues/4085/comments",
  "events_url": "https://api.github.com/repos/sigp/lighthouse/issues/4085/events",
  "html_url": "https://github.com/sigp/lighthouse/issues/4085",
  "id": 1623961716,
  "node_id": "I_kwDOCFeAzc5gy7B0",
  "number": 4085,
  "title": "Logically decoupling range syncing for blobs and blocks?",
  "user": {
    "login": "divagant-martian",
    "id": 26765164,
    "node_id": "MDQ6VXNlcjI2NzY1MTY0",
    "avatar_url": "https://avatars.githubusercontent.com/u/26765164?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/divagant-martian",
    "html_url": "https://github.com/divagant-martian",
    "followers_url": "https://api.github.com/users/divagant-martian/followers",
    "following_url": "https://api.github.com/users/divagant-martian/following{/other_user}",
    "gists_url": "https://api.github.com/users/divagant-martian/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/divagant-martian/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/divagant-martian/subscriptions",
    "organizations_url": "https://api.github.com/users/divagant-martian/orgs",
    "repos_url": "https://api.github.com/users/divagant-martian/repos",
    "events_url": "https://api.github.com/users/divagant-martian/events{/privacy}",
    "received_events_url": "https://api.github.com/users/divagant-martian/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 4615284981,
      "node_id": "LA_kwDOCFeAzc8AAAABExeo9Q",
      "url": "https://api.github.com/repos/sigp/lighthouse/labels/deneb",
      "name": "deneb",
      "color": "B7BBEC",
      "default": false,
      "description": ""
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 1,
  "created_at": "2023-03-14T17:19:03Z",
  "updated_at": "2023-03-20T01:19:36Z",
  "closed_at": null,
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "## Description\r\nRight now range syncing of blocks and blobs is logically coupled. There are a couple good reasons to do this:\r\n- no need to pair batches since blobs and blocks end up in the same batch. Put in other words, batch height does not need to be synced between syncing of blobs and blocks since it's handled in a single place.\r\n- Single peer to attribute a batch, making easy to downscore if needed.\r\n\r\nDisadvantages:\r\n- Download from a single peer potentially large amounts of data.\r\n- Part of the arguments to decouple the by range requests was to _keep block syncing untouched_ which did not happen at all in our case.\r\n\r\nIt would be good to at least consider how a truly decoupled scenario would look like and if it's feasible for us. Also worth checking how other teams are taking advantage of the rpc decoupling.\r\n\r\nIt might be we end up keeping things like this but better to do so after some discussion.",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/4085/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/sigp/lighthouse/issues/4085/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/1475477157",
    "html_url": "https://github.com/sigp/lighthouse/issues/4085#issuecomment-1475477157",
    "issue_url": "https://api.github.com/repos/sigp/lighthouse/issues/4085",
    "id": 1475477157,
    "node_id": "IC_kwDOCFeAzc5X8f6l",
    "user": {
      "login": "paulhauner",
      "id": 6660660,
      "node_id": "MDQ6VXNlcjY2NjA2NjA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6660660?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/paulhauner",
      "html_url": "https://github.com/paulhauner",
      "followers_url": "https://api.github.com/users/paulhauner/followers",
      "following_url": "https://api.github.com/users/paulhauner/following{/other_user}",
      "gists_url": "https://api.github.com/users/paulhauner/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/paulhauner/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/paulhauner/subscriptions",
      "organizations_url": "https://api.github.com/users/paulhauner/orgs",
      "repos_url": "https://api.github.com/users/paulhauner/repos",
      "events_url": "https://api.github.com/users/paulhauner/events{/privacy}",
      "received_events_url": "https://api.github.com/users/paulhauner/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-03-20T01:19:36Z",
    "updated_at": "2023-03-20T01:19:36Z",
    "author_association": "MEMBER",
    "body": "I'm not so across the network side of things (e.g., how to divide bandwidth between peers), but I can't see a requirement to split the download from the consensus/api/database side of things. I haven't been so involved in deneb development so far, but I understand that the \"consensus\" side of LH needs both of them to verify either of them and it's not concerned with how they actually got there (i.e. one peer or more).",
    "reactions": {
      "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/1475477157/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
