{
  "url": "https://api.github.com/repos/sigp/lighthouse/issues/445",
  "repository_url": "https://api.github.com/repos/sigp/lighthouse",
  "labels_url": "https://api.github.com/repos/sigp/lighthouse/issues/445/labels{/name}",
  "comments_url": "https://api.github.com/repos/sigp/lighthouse/issues/445/comments",
  "events_url": "https://api.github.com/repos/sigp/lighthouse/issues/445/events",
  "html_url": "https://github.com/sigp/lighthouse/issues/445",
  "id": 470782299,
  "node_id": "MDU6SXNzdWU0NzA3ODIyOTk=",
  "number": 445,
  "title": "13 failed tests on master",
  "user": {
    "login": "b-m-f",
    "id": 2843450,
    "node_id": "MDQ6VXNlcjI4NDM0NTA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/2843450?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/b-m-f",
    "html_url": "https://github.com/b-m-f",
    "followers_url": "https://api.github.com/users/b-m-f/followers",
    "following_url": "https://api.github.com/users/b-m-f/following{/other_user}",
    "gists_url": "https://api.github.com/users/b-m-f/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/b-m-f/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/b-m-f/subscriptions",
    "organizations_url": "https://api.github.com/users/b-m-f/orgs",
    "repos_url": "https://api.github.com/users/b-m-f/repos",
    "events_url": "https://api.github.com/users/b-m-f/events{/privacy}",
    "received_events_url": "https://api.github.com/users/b-m-f/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 5,
  "created_at": "2019-07-21T13:33:52Z",
  "updated_at": "2019-09-25T23:24:59Z",
  "closed_at": "2019-07-22T08:41:28Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "## Description\r\nChecking out `master` at bbde06eb and running `cargo test --all --release` results in 13 errors\r\n\r\n## Present Behaviour\r\n\r\n```\r\n\r\nrunning 0 tests\r\n\r\ntest result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out\r\n\r\n\r\nrunning 0 tests\r\n\r\ntest result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out\r\n\r\n\r\nrunning 6 tests\r\ntest does_not_finalize_without_attestation ... ok\r\ntest fork ... ok\r\ntest does_not_finalize_with_less_than_two_thirds_participation ... ok\r\ntest finalizes_with_two_thirds_participation ... ok\r\ntest finalizes_with_full_participation ... ok\r\ntest roundtrip_operation_pool ... ok\r\n\r\ntest result: ok. 6 passed; 0 failed; 2 ignored; 0 measured; 0 filtered out\r\n\r\n\r\nrunning 0 tests\r\n\r\ntest result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out\r\n\r\n\r\nrunning 7 tests\r\ntest secret_key::tests::test_ssz_round_trip ... ok\r\ntest public_key::tests::test_ssz_round_trip ... ok\r\ntest public_key::tests::test_cached_tree_hash ... ok\r\ntest signature::tests::test_empty_signature ... ok\r\ntest aggregate_signature::tests::test_ssz_round_trip ... ok\r\ntest signature::tests::test_ssz_round_trip ... ok\r\ntest signature::tests::test_cached_tree_hash ... ok\r\n\r\ntest result: ok. 7 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out\r\n\r\n\r\nrunning 20 tests\r\ntest tests::test_bitor ... ok\r\ntest tests::test_difference ... ok\r\ntest tests::test_empty_bitfield ... ok\r\ntest tests::test_get_from_bitfield ... ok\r\ntest tests::test_grows_with_false ... ok\r\ntest tests::test_intersection ... ok\r\ntest tests::test_is_zero ... ok\r\ntest tests::test_len ... ok\r\ntest tests::test_new_bitfield ... ok\r\ntest tests::test_num_bytes ... ok\r\ntest tests::test_num_set_bits ... ok\r\ntest tests::test_out_of_bounds ... ok\r\ntest tests::test_serialize_deserialize ... ok\r\ntest tests::test_set_for_bitfield ... ok\r\ntest tests::test_ssz_decode ... ok\r\ntest tests::test_ssz_encode ... ok\r\ntest tests::test_ssz_round_trip ... ok\r\ntest tests::test_to_bytes ... ok\r\ntest tests::test_union ... ok\r\ntest tests::test_cached_tree_hash ... ok\r\n\r\ntest result: ok. 20 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out\r\n\r\n\r\nrunning 9 tests\r\ntest btree_overlay::test::child_chunks ... ok\r\ntest btree_overlay::test::chunk_range ... ok\r\ntest btree_overlay::test::internal_node_chunks ... ok\r\ntest btree_overlay::test::internal_parents_and_children ... ok\r\ntest btree_overlay::test::leaf_node_chunks ... ok\r\ntest btree_overlay::test::root_of_one_node ... ok\r\ntest resize::test::can_grow_and_shrink_one_level ... ok\r\ntest resize::test::can_grow_and_shrink_three_levels ... ok\r\ntest btree_overlay::test::get_leaf_node ... ok\r\n\r\ntest result: ok. 9 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out\r\n\r\n\r\nrunning 16 tests\r\ntest cached_hash_on_inner ... ok\r\ntest test_inner ... ok\r\ntest inner_builds ... ok\r\ntest test_shrinking_vec_of_vec ... ok\r\ntest test_nested_list_of_u64 ... ok\r\ntest test_nested_struct ... ok\r\ntest test_struct_with_vec ... ok\r\ntest test_struct_with_two_vecs ... ok\r\ntest test_u64_and_two_structs ... ok\r\ntest test_vec_of_hash256 ... ok\r\ntest test_struct_with_vec_of_struct_with_vec_of_structs ... ok\r\ntest test_vec_of_struct_with_vec ... ok\r\ntest test_vec_of_u64 ... ok\r\ntest test_vec_of_struct_with_two_vecs ... ok\r\ntest test_struct_with_vec_of_structs ... ok\r\ntest modifications ... ok\r\n\r\ntest result: ok. 16 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out\r\n\r\n\r\nrunning 0 tests\r\n\r\ntest result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out\r\n\r\n\r\nrunning 0 tests\r\n\r\ntest result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out\r\n\r\n\r\nrunning 0 tests\r\n\r\ntest result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out\r\n\r\n\r\nrunning 0 tests\r\n\r\ntest result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out\r\n\r\n\r\nrunning 13 tests\r\ntest operations_attestation ... failed\r\ntest epoch_processing_registry_updates ... failed\r\ntest epoch_processing_crosslinks ... failed\r\ntest operations_attester_slashing ... failed\r\ntest bls ... failed\r\ntest operations_deposit ... failed\r\ntest operations_exit ... failed\r\ntest operations_block_header ... failed\r\ntest operations_proposer_slashing ... failed\r\ntest shuffling ... failed\r\ntest sanity_slots ... failed\r\ntest sanity_blocks ... failed\r\ntest operations_transfer ... failed\r\n\r\nfailures:\r\n\r\nfailures:\r\n    bls\r\n    epoch_processing_crosslinks\r\n    epoch_processing_registry_updates\r\n    operations_attestation\r\n    operations_attester_slashing\r\n    operations_block_header\r\n    operations_deposit\r\n    operations_exit\r\n    operations_proposer_slashing\r\n    operations_transfer\r\n    sanity_blocks\r\n    sanity_slots\r\n    shuffling\r\n\r\ntest result: failed. 0 passed; 13 failed; 0 ignored; 0 measured; 0 filtered out\r\n\r\n\r\n```\r\n## Expected Behaviour\r\nAll tests should be green\r\n\r\n## Steps to resolve\r\nFix the tests\r\n",
  "closed_by": {
    "login": "b-m-f",
    "id": 2843450,
    "node_id": "MDQ6VXNlcjI4NDM0NTA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/2843450?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/b-m-f",
    "html_url": "https://github.com/b-m-f",
    "followers_url": "https://api.github.com/users/b-m-f/followers",
    "following_url": "https://api.github.com/users/b-m-f/following{/other_user}",
    "gists_url": "https://api.github.com/users/b-m-f/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/b-m-f/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/b-m-f/subscriptions",
    "organizations_url": "https://api.github.com/users/b-m-f/orgs",
    "repos_url": "https://api.github.com/users/b-m-f/repos",
    "events_url": "https://api.github.com/users/b-m-f/events{/privacy}",
    "received_events_url": "https://api.github.com/users/b-m-f/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/445/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/sigp/lighthouse/issues/445/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/513618545",
    "html_url": "https://github.com/sigp/lighthouse/issues/445#issuecomment-513618545",
    "issue_url": "https://api.github.com/repos/sigp/lighthouse/issues/445",
    "id": 513618545,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUxMzYxODU0NQ==",
    "user": {
      "login": "michaelsproul",
      "id": 4452260,
      "node_id": "MDQ6VXNlcjQ0NTIyNjA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4452260?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/michaelsproul",
      "html_url": "https://github.com/michaelsproul",
      "followers_url": "https://api.github.com/users/michaelsproul/followers",
      "following_url": "https://api.github.com/users/michaelsproul/following{/other_user}",
      "gists_url": "https://api.github.com/users/michaelsproul/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/michaelsproul/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/michaelsproul/subscriptions",
      "organizations_url": "https://api.github.com/users/michaelsproul/orgs",
      "repos_url": "https://api.github.com/users/michaelsproul/repos",
      "events_url": "https://api.github.com/users/michaelsproul/events{/privacy}",
      "received_events_url": "https://api.github.com/users/michaelsproul/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-07-22T02:36:44Z",
    "updated_at": "2019-07-22T02:36:44Z",
    "author_association": "MEMBER",
    "body": "This looks like it's failing because you don't have the YAML files for the EF tests loaded, did you see any messages like this?\r\n\r\n```\r\n---- sanity_blocks stdout ----\r\nthread 'sanity_blocks' panicked at 'Unable to locate \"/tmp/lighthouse/tests/ef_tests/eth2.0-spec-tests/tests/sanity/blocks\". Did you init git submoules?', tests/ef_tests/tests/tests.rs:12:5\r\n```\r\n\r\nTo get the YAML files, you'll need [Git LFS](https://git-lfs.github.com/), and to run:\r\n\r\n```\r\ngit submodule init\r\ngit submodule update\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/513618545/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/513698632",
    "html_url": "https://github.com/sigp/lighthouse/issues/445#issuecomment-513698632",
    "issue_url": "https://api.github.com/repos/sigp/lighthouse/issues/445",
    "id": 513698632,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUxMzY5ODYzMg==",
    "user": {
      "login": "b-m-f",
      "id": 2843450,
      "node_id": "MDQ6VXNlcjI4NDM0NTA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2843450?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/b-m-f",
      "html_url": "https://github.com/b-m-f",
      "followers_url": "https://api.github.com/users/b-m-f/followers",
      "following_url": "https://api.github.com/users/b-m-f/following{/other_user}",
      "gists_url": "https://api.github.com/users/b-m-f/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/b-m-f/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/b-m-f/subscriptions",
      "organizations_url": "https://api.github.com/users/b-m-f/orgs",
      "repos_url": "https://api.github.com/users/b-m-f/repos",
      "events_url": "https://api.github.com/users/b-m-f/events{/privacy}",
      "received_events_url": "https://api.github.com/users/b-m-f/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-07-22T08:41:28Z",
    "updated_at": "2019-07-22T08:41:28Z",
    "author_association": "CONTRIBUTOR",
    "body": "@michaelsproul thanks! That was it. \r\n\r\nSomehow `git submodule init && git submodule update` did not work for me.\r\n\r\nDoing a fresh clone with `git clone --recursive https://github.com/sigp/lighthouse` worked though.\r\n\r\nI have also added a PR for `installation.md` at https://github.com/sigp/lighthouse/pull/448, the dependency list was somehow misaligned :)",
    "reactions": {
      "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/513698632/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/524379099",
    "html_url": "https://github.com/sigp/lighthouse/issues/445#issuecomment-524379099",
    "issue_url": "https://api.github.com/repos/sigp/lighthouse/issues/445",
    "id": 524379099,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUyNDM3OTA5OQ==",
    "user": {
      "login": "ghost",
      "id": 10137,
      "node_id": "MDQ6VXNlcjEwMTM3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ghost",
      "html_url": "https://github.com/ghost",
      "followers_url": "https://api.github.com/users/ghost/followers",
      "following_url": "https://api.github.com/users/ghost/following{/other_user}",
      "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ghost/subscriptions",
      "organizations_url": "https://api.github.com/users/ghost/orgs",
      "repos_url": "https://api.github.com/users/ghost/repos",
      "events_url": "https://api.github.com/users/ghost/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ghost/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-08-23T16:28:47Z",
    "updated_at": "2019-08-23T16:29:07Z",
    "author_association": "NONE",
    "body": "Got the same problem. Solved, is all about `git-lfs`, for some reason, the download of the lfs-pointed files wasn't being triggered.\r\nPlaying with the directory, got into there and did\r\n\r\n```\r\n$ cd tests/ef_tests/eth2.0-spec-tests/\r\n\r\n$ git checkout .\r\n\r\n$ git branch\r\n* (HEAD detached at aaa1673f)\r\n  master\r\n\r\n$ du -sh .\r\n348K    .\r\n\r\n# OK, no files, only the pointers, but if I checkout to master?\r\n\r\n$ git checkout master\r\nChecking out files: 100% (14487/14487), done.\r\nFiltering content: 100% (9015/9015), 2.65 GiB | 10.75 MiB/s, done.\r\nPrevious HEAD position was aaa1673f test vectors for v0.8.1\r\nSwitched to branch 'master'\r\nYour branch is up to date with 'origin/master'.\r\n\r\n$ du -sh .\r\n3.5G    .\r\n```\r\n\r\nBut that wasn't good :stuck_out_tongue: as I got into a different branch than `aaa167` (the right branch of the submodule at the time. Had to `git checkout aaa167` into it, and got the right YAMLs and worked.\r\n\r\nNow, for some reason, `git submodule init && git submodule update` work perfectly\r\nSo, I'm leaving this if somebody has the same problem.",
    "reactions": {
      "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/524379099/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/534795958",
    "html_url": "https://github.com/sigp/lighthouse/issues/445#issuecomment-534795958",
    "issue_url": "https://api.github.com/repos/sigp/lighthouse/issues/445",
    "id": 534795958,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUzNDc5NTk1OA==",
    "user": {
      "login": "ghost",
      "id": 10137,
      "node_id": "MDQ6VXNlcjEwMTM3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ghost",
      "html_url": "https://github.com/ghost",
      "followers_url": "https://api.github.com/users/ghost/followers",
      "following_url": "https://api.github.com/users/ghost/following{/other_user}",
      "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ghost/subscriptions",
      "organizations_url": "https://api.github.com/users/ghost/orgs",
      "repos_url": "https://api.github.com/users/ghost/repos",
      "events_url": "https://api.github.com/users/ghost/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ghost/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-09-25T00:12:51Z",
    "updated_at": "2019-09-25T00:22:40Z",
    "author_association": "NONE",
    "body": "Also\r\n\r\n    git lfs fetch && git lfs checkout\r\n\r\nor\r\n\r\n    git lfs pull\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/534795958/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/535263249",
    "html_url": "https://github.com/sigp/lighthouse/issues/445#issuecomment-535263249",
    "issue_url": "https://api.github.com/repos/sigp/lighthouse/issues/445",
    "id": 535263249,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUzNTI2MzI0OQ==",
    "user": {
      "login": "paulhauner",
      "id": 6660660,
      "node_id": "MDQ6VXNlcjY2NjA2NjA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6660660?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/paulhauner",
      "html_url": "https://github.com/paulhauner",
      "followers_url": "https://api.github.com/users/paulhauner/followers",
      "following_url": "https://api.github.com/users/paulhauner/following{/other_user}",
      "gists_url": "https://api.github.com/users/paulhauner/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/paulhauner/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/paulhauner/subscriptions",
      "organizations_url": "https://api.github.com/users/paulhauner/orgs",
      "repos_url": "https://api.github.com/users/paulhauner/repos",
      "events_url": "https://api.github.com/users/paulhauner/events{/privacy}",
      "received_events_url": "https://api.github.com/users/paulhauner/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-09-25T23:24:58Z",
    "updated_at": "2019-09-25T23:24:58Z",
    "author_association": "MEMBER",
    "body": "Thanks @hermanjunge!\r\n\r\nWe're going to be merging in the `interop` branch soon, which removes the git-lfs dependency all together. We found it to be quite a pain too.",
    "reactions": {
      "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/535263249/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
