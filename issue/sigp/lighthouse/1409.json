{
  "url": "https://api.github.com/repos/sigp/lighthouse/issues/1409",
  "repository_url": "https://api.github.com/repos/sigp/lighthouse",
  "labels_url": "https://api.github.com/repos/sigp/lighthouse/issues/1409/labels{/name}",
  "comments_url": "https://api.github.com/repos/sigp/lighthouse/issues/1409/comments",
  "events_url": "https://api.github.com/repos/sigp/lighthouse/issues/1409/events",
  "html_url": "https://github.com/sigp/lighthouse/issues/1409",
  "id": 667241475,
  "node_id": "MDU6SXNzdWU2NjcyNDE0NzU=",
  "number": 1409,
  "title": "http service does not start despite --http flag",
  "user": {
    "login": "timjp87",
    "id": 3089763,
    "node_id": "MDQ6VXNlcjMwODk3NjM=",
    "avatar_url": "https://avatars.githubusercontent.com/u/3089763?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/timjp87",
    "html_url": "https://github.com/timjp87",
    "followers_url": "https://api.github.com/users/timjp87/followers",
    "following_url": "https://api.github.com/users/timjp87/following{/other_user}",
    "gists_url": "https://api.github.com/users/timjp87/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/timjp87/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/timjp87/subscriptions",
    "organizations_url": "https://api.github.com/users/timjp87/orgs",
    "repos_url": "https://api.github.com/users/timjp87/repos",
    "events_url": "https://api.github.com/users/timjp87/events{/privacy}",
    "received_events_url": "https://api.github.com/users/timjp87/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2020-07-28T17:21:35Z",
  "updated_at": "2020-08-02T02:21:47Z",
  "closed_at": "2020-07-29T07:41:47Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "## Description\r\n\r\nWhen I try to start the beacon chain with the REST API Endpoint enabled (--http) there is no mention in the logs that it's serving the http service via a specific port. Running a validator in parallel does not work as it complains that it's getting connection refused from http://localhost:5052/node/version.\r\n\r\n## Version\r\n\r\nI'm building from the medalla branch (7cf3c4fd8ba55da39e11f3e7dcd36abd95ef1147) on Arch Linux aarch64.\r\nRust version 1.45.0\r\n\r\n## Present Behaviour\r\n\r\nThis is the startup message:\r\n\r\nalarm@atlas01 ~/lighthouse (git)-[medalla] % lighthouse bn --http\r\nJul 28 17:17:04.900 WARN Ethereum 2.0 is pre-release. This software is experimental.\r\nJul 28 17:17:04.900 INFO Using default testnet                   default: medalla.beta.0\r\nJul 28 17:17:04.900 INFO Data directory initialised              datadir: /home/alarm/.lighthouse\r\nJul 28 17:17:04.934 INFO Waiting for eth2 genesis from eth1      deposit_contract: 0x07b39f4fde4a38bace212b546dac87c58dfe3fdc, contract_deploy_block: 3085928, eth1_endpoint: http://localhost:8545, service: beacon\r\nJul 28 17:17:04.934 INFO Importing eth1 deposit logs             service: beacon\r\nJul 28 17:17:05.273 INFO Imported deposit log(s)                 new: 2, total: 2, latest_block: 3086579, service: beacon\r\nJul 28 17:17:05.274 INFO Waiting for more deposits               valid_deposits: 0, total_deposits: 2, min_genesis_active_validators: 16384, service: beacon\r\nJul 28 17:17:12.599 INFO Imported deposit log(s)                 new: 2, total: 4, latest_block: 3094731, service: beacon\r\nJul 28 17:17:12.600 INFO Waiting for more deposits               valid_deposits: 1, total_deposits: 4, min_genesis_active_validators: 16384, service: beacon\r\nJul 28 17:17:33.769 INFO Imported deposit log(s)                 new: 1035, total: 1039, latest_block: 3100400, service: beacon\r\nJul 28 17:17:33.770 INFO Waiting for more deposits               valid_deposits: 1031, total_deposits: 1039, min_genesis_active_validators: 16384, service: beacon\r\nJul 28 17:18:23.610 INFO Imported deposit log(s)                 new: 3179, total: 4218, latest_block: 3105526, service: beacon\r\nJul 28 17:18:23.612 INFO Waiting for more deposits               valid_deposits: 4115, total_deposits: 4218, min_genesis_active_validators: 16384, service: beacon\r\n\r\n\r\n## Expected Behaviour\r\n\r\nApplication should serve http API via port 5052 on localhost. For Altona I was able to easily set up a beacon node which connected to infura for GÃ¶rli RPC and was serving the beacon node API on address 0.0.0.0 port 5052 in my local network so that other nodes could connect to it.\r\n\r\n## Steps to resolve\r\n\r\nn/a",
  "closed_by": {
    "login": "AgeManning",
    "id": 7454587,
    "node_id": "MDQ6VXNlcjc0NTQ1ODc=",
    "avatar_url": "https://avatars.githubusercontent.com/u/7454587?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/AgeManning",
    "html_url": "https://github.com/AgeManning",
    "followers_url": "https://api.github.com/users/AgeManning/followers",
    "following_url": "https://api.github.com/users/AgeManning/following{/other_user}",
    "gists_url": "https://api.github.com/users/AgeManning/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/AgeManning/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/AgeManning/subscriptions",
    "organizations_url": "https://api.github.com/users/AgeManning/orgs",
    "repos_url": "https://api.github.com/users/AgeManning/repos",
    "events_url": "https://api.github.com/users/AgeManning/events{/privacy}",
    "received_events_url": "https://api.github.com/users/AgeManning/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/1409/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/sigp/lighthouse/issues/1409/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/665493204",
    "html_url": "https://github.com/sigp/lighthouse/issues/1409#issuecomment-665493204",
    "issue_url": "https://api.github.com/repos/sigp/lighthouse/issues/1409",
    "id": 665493204,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY2NTQ5MzIwNA==",
    "user": {
      "login": "AgeManning",
      "id": 7454587,
      "node_id": "MDQ6VXNlcjc0NTQ1ODc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7454587?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/AgeManning",
      "html_url": "https://github.com/AgeManning",
      "followers_url": "https://api.github.com/users/AgeManning/followers",
      "following_url": "https://api.github.com/users/AgeManning/following{/other_user}",
      "gists_url": "https://api.github.com/users/AgeManning/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/AgeManning/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/AgeManning/subscriptions",
      "organizations_url": "https://api.github.com/users/AgeManning/orgs",
      "repos_url": "https://api.github.com/users/AgeManning/repos",
      "events_url": "https://api.github.com/users/AgeManning/events{/privacy}",
      "received_events_url": "https://api.github.com/users/AgeManning/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-07-29T07:41:47Z",
    "updated_at": "2020-07-29T07:41:47Z",
    "author_association": "MEMBER",
    "body": "When a testnet hasn't reached genesis, nodes cannot discover, connect or find each other.  The genesis for a testnet occurs 2 days before its launch and then a beacon node will start its networking and http services as prior to this there is nothing it can do. \r\n\r\nAs the logs indicate here, your node is waiting for the eth2 genesis. We don't start the HTTP service until then, as there is nothing to output. \r\n\r\nWe will be allowing the metrics HTTP server to start before a genesis node in the future however. For the time being this is expected behaviour.\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/665493204/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/667614322",
    "html_url": "https://github.com/sigp/lighthouse/issues/1409#issuecomment-667614322",
    "issue_url": "https://api.github.com/repos/sigp/lighthouse/issues/1409",
    "id": 667614322,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY2NzYxNDMyMg==",
    "user": {
      "login": "ChosunOne",
      "id": 5751289,
      "node_id": "MDQ6VXNlcjU3NTEyODk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5751289?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ChosunOne",
      "html_url": "https://github.com/ChosunOne",
      "followers_url": "https://api.github.com/users/ChosunOne/followers",
      "following_url": "https://api.github.com/users/ChosunOne/following{/other_user}",
      "gists_url": "https://api.github.com/users/ChosunOne/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ChosunOne/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ChosunOne/subscriptions",
      "organizations_url": "https://api.github.com/users/ChosunOne/orgs",
      "repos_url": "https://api.github.com/users/ChosunOne/repos",
      "events_url": "https://api.github.com/users/ChosunOne/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ChosunOne/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-08-02T02:21:47Z",
    "updated_at": "2020-08-02T02:21:47Z",
    "author_association": "NONE",
    "body": "Would be useful to allow some kind of discovery to troubleshoot network issues prior to genesis.",
    "reactions": {
      "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/667614322/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
