{
  "url": "https://api.github.com/repos/sigp/lighthouse/issues/4928",
  "repository_url": "https://api.github.com/repos/sigp/lighthouse",
  "labels_url": "https://api.github.com/repos/sigp/lighthouse/issues/4928/labels{/name}",
  "comments_url": "https://api.github.com/repos/sigp/lighthouse/issues/4928/comments",
  "events_url": "https://api.github.com/repos/sigp/lighthouse/issues/4928/events",
  "html_url": "https://github.com/sigp/lighthouse/issues/4928",
  "id": 1996860179,
  "node_id": "I_kwDOCFeAzc53BasT",
  "number": 4928,
  "title": "No valid eth1_data deposit_contract_rpc on small testnet",
  "user": {
    "login": "avenbreaks",
    "id": 93043826,
    "node_id": "U_kgDOBYu8cg",
    "avatar_url": "https://avatars.githubusercontent.com/u/93043826?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/avenbreaks",
    "html_url": "https://github.com/avenbreaks",
    "followers_url": "https://api.github.com/users/avenbreaks/followers",
    "following_url": "https://api.github.com/users/avenbreaks/following{/other_user}",
    "gists_url": "https://api.github.com/users/avenbreaks/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/avenbreaks/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/avenbreaks/subscriptions",
    "organizations_url": "https://api.github.com/users/avenbreaks/orgs",
    "repos_url": "https://api.github.com/users/avenbreaks/repos",
    "events_url": "https://api.github.com/users/avenbreaks/events{/privacy}",
    "received_events_url": "https://api.github.com/users/avenbreaks/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 3,
  "created_at": "2023-11-16T13:29:09Z",
  "updated_at": "2023-11-16T14:55:32Z",
  "closed_at": "2023-11-16T14:16:26Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "## Description\r\nI found an error in the lighthouse beacon node that shows Logs there is an error in _No valid eth1_data votes, `votes_to_consider` empty, outcome: casting `state.eth1_data` as eth1 vote, genesis_time: 1700129928, earliest_block_timestamp: 1700129868, lowest_block_number: 0, service: deposit_contract_rpc_. I used the tools from **ethpandaops** to build a testnet on the eth1 node runs smoothly and the validator can validate the block, but on the beacon node found the error. did I configure it wrong?\r\n\r\n\r\n##### Log GETH\r\n\r\n```\r\nINFO [11-16|21:17:56.001] Starting work on payload                 id=0x8ed2d390d53c42e9\r\nINFO [11-16|21:17:56.002] Updated payload                          id=0x8ed2d390d53c42e9 number=29 hash=a66611..d94619 txs=0 withdrawals=0 gas=0 fees=0 root=535442..a1b286 elapsed=\"44.89µs\"\r\nINFO [11-16|21:18:00.020] Stopping work on payload                 id=0x8ed2d390d53c42e9 reason=delivery\r\n```\r\n\r\n##### Log BN\r\n```\r\nNov 16 13:12:44.029 INFO Sync signature included in contribution, validator: 3, src: api, slot: 869, epoch: 27, delay_ms: 7, head: 0x0bd2…988a, service: val_mon\r\nNov 16 13:12:48.001 INFO Prepared beacon proposer                parent_root: 0x0bd26b59e7dcd0b4f55acddfccbc88f288f9aec317e497d32aed19284b92988a, validator: 45, prepare_slot: 871, service: beacon\r\nNov 16 13:12:48.006 ERRO No valid eth1_data votes, `votes_to_consider` empty, outcome: casting `state.eth1_data` as eth1 vote, genesis_time: 1700129928, earliest_block_timestamp: 1700129868, lowest_block_number: 0, service: deposit_contract_rpc\r\nNov 16 13:12:48.019 INFO Signed block published to network via HTTP API, publish_delay: 1.148599ms, slot: 870\r\nNov 16 13:12:48.028 INFO Sync signature included in block        validator: 19, slot: 870, epoch: 27, head: 0x0bd2…988a, service: val_mon\r\n```\r\n\r\n##### Log VC\r\n```\r\nNov 16 13:13:00.017 INFO Publishing signed block                 signing_time_ms: 9, slot: 871, service: block\r\nNov 16 13:13:00.032 INFO Successfully published block            slot: 871, graffiti: Some(\"Validator1\"), attestations: 1, deposits: 0, block_type: Full, service: block\r\nNov 16 13:13:04.030 INFO Successfully published attestations     type: unaggregated, slot: 871, committee_index: 0, head_block: 0x19137a22a97b487b9494ad35f194ab76f0b55884de9a70503fd3c5f754972e2d, validator_indices: [44, 22, 18], count: 3, service: attestation\r\nNov 16 13:13:04.261 INFO Successfully published sync committee messages, slot: 871, head_block: 0x19137a22a97b487b9494ad35f194ab76f0b55884de9a70503fd3c5f754972e2d, count: 50, service: sync_committee\r\nNov 16 13:13:06.001 INFO Connected to beacon node(s)             synced: 1, available: 1, total: 1, service: notifier\r\n```\r\n\r\n##### System OS \r\n```\r\nA. 2 Server Deployed on AWS With LoadBalancer\r\nB. Ubuntu 22.04\r\nC. 1024 TB SSD NVMe \r\nD. 8vCPU\r\nE. 16GB RAM \r\n```\r\n\r\n\r\n## Lighthouse Version\r\n```\r\nLighthouse v4.5.0-441fc16\r\nBLS library: blst\r\nSHA256 hardware acceleration: true\r\nAllocator: jemalloc\r\nProfile: release\r\nSpecs: mainnet (true), minimal (false), gnosis (false)\r\n```\r\n## Geth Version\r\n```\r\ngeth version 1.13.2-unstable-5c6f4b9f-20230919\r\ngo version go1.21.1 linux/amd64\r\n```",
  "closed_by": {
    "login": "michaelsproul",
    "id": 4452260,
    "node_id": "MDQ6VXNlcjQ0NTIyNjA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/4452260?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/michaelsproul",
    "html_url": "https://github.com/michaelsproul",
    "followers_url": "https://api.github.com/users/michaelsproul/followers",
    "following_url": "https://api.github.com/users/michaelsproul/following{/other_user}",
    "gists_url": "https://api.github.com/users/michaelsproul/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/michaelsproul/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/michaelsproul/subscriptions",
    "organizations_url": "https://api.github.com/users/michaelsproul/orgs",
    "repos_url": "https://api.github.com/users/michaelsproul/repos",
    "events_url": "https://api.github.com/users/michaelsproul/events{/privacy}",
    "received_events_url": "https://api.github.com/users/michaelsproul/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/4928/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/sigp/lighthouse/issues/4928/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/1814517350",
    "html_url": "https://github.com/sigp/lighthouse/issues/4928#issuecomment-1814517350",
    "issue_url": "https://api.github.com/repos/sigp/lighthouse/issues/4928",
    "id": 1814517350,
    "node_id": "IC_kwDOCFeAzc5sJ1Zm",
    "user": {
      "login": "michaelsproul",
      "id": 4452260,
      "node_id": "MDQ6VXNlcjQ0NTIyNjA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4452260?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/michaelsproul",
      "html_url": "https://github.com/michaelsproul",
      "followers_url": "https://api.github.com/users/michaelsproul/followers",
      "following_url": "https://api.github.com/users/michaelsproul/following{/other_user}",
      "gists_url": "https://api.github.com/users/michaelsproul/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/michaelsproul/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/michaelsproul/subscriptions",
      "organizations_url": "https://api.github.com/users/michaelsproul/orgs",
      "repos_url": "https://api.github.com/users/michaelsproul/repos",
      "events_url": "https://api.github.com/users/michaelsproul/events{/privacy}",
      "received_events_url": "https://api.github.com/users/michaelsproul/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-11-16T14:16:26Z",
    "updated_at": "2023-11-16T14:16:26Z",
    "author_association": "MEMBER",
    "body": "This is expected for networks that are merged from genesis. The deposit contract mechanism does not work for the first hours, and then starts to work. See https://github.com/sigp/lighthouse/issues/4536",
    "reactions": {
      "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/1814517350/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 1,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/1814517737",
    "html_url": "https://github.com/sigp/lighthouse/issues/4928#issuecomment-1814517737",
    "issue_url": "https://api.github.com/repos/sigp/lighthouse/issues/4928",
    "id": 1814517737,
    "node_id": "IC_kwDOCFeAzc5sJ1fp",
    "user": {
      "login": "michaelsproul",
      "id": 4452260,
      "node_id": "MDQ6VXNlcjQ0NTIyNjA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4452260?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/michaelsproul",
      "html_url": "https://github.com/michaelsproul",
      "followers_url": "https://api.github.com/users/michaelsproul/followers",
      "following_url": "https://api.github.com/users/michaelsproul/following{/other_user}",
      "gists_url": "https://api.github.com/users/michaelsproul/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/michaelsproul/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/michaelsproul/subscriptions",
      "organizations_url": "https://api.github.com/users/michaelsproul/orgs",
      "repos_url": "https://api.github.com/users/michaelsproul/repos",
      "events_url": "https://api.github.com/users/michaelsproul/events{/privacy}",
      "received_events_url": "https://api.github.com/users/michaelsproul/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-11-16T14:16:41Z",
    "updated_at": "2023-11-16T14:16:41Z",
    "author_association": "MEMBER",
    "body": "Long-term this will be fixed by EIP6110",
    "reactions": {
      "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/1814517737/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/1814616228",
    "html_url": "https://github.com/sigp/lighthouse/issues/4928#issuecomment-1814616228",
    "issue_url": "https://api.github.com/repos/sigp/lighthouse/issues/4928",
    "id": 1814616228,
    "node_id": "IC_kwDOCFeAzc5sKNik",
    "user": {
      "login": "avenbreaks",
      "id": 93043826,
      "node_id": "U_kgDOBYu8cg",
      "avatar_url": "https://avatars.githubusercontent.com/u/93043826?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/avenbreaks",
      "html_url": "https://github.com/avenbreaks",
      "followers_url": "https://api.github.com/users/avenbreaks/followers",
      "following_url": "https://api.github.com/users/avenbreaks/following{/other_user}",
      "gists_url": "https://api.github.com/users/avenbreaks/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/avenbreaks/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/avenbreaks/subscriptions",
      "organizations_url": "https://api.github.com/users/avenbreaks/orgs",
      "repos_url": "https://api.github.com/users/avenbreaks/repos",
      "events_url": "https://api.github.com/users/avenbreaks/events{/privacy}",
      "received_events_url": "https://api.github.com/users/avenbreaks/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-11-16T14:55:32Z",
    "updated_at": "2023-11-16T14:55:32Z",
    "author_association": "NONE",
    "body": "> Hal ini diharapkan untuk jaringan yang digabungkan dari awal. Mekanisme kontrak deposit tidak berfungsi pada jam-jam pertama, dan kemudian mulai berfungsi. Lihat #4536\r\n\r\ndo I also have to change ETH1_FOLLOW_DISTANCE to higher? because currently the config is at 12 \r\n\r\nMIN_GENESIS_TIME: 1700129868\r\nGENESIS_DELAY: 60\r\nETH1_FOLLOW_DISTANCE: 12",
    "reactions": {
      "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/1814616228/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
