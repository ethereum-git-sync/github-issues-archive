{
  "url": "https://api.github.com/repos/sigp/lighthouse/issues/3274",
  "repository_url": "https://api.github.com/repos/sigp/lighthouse",
  "labels_url": "https://api.github.com/repos/sigp/lighthouse/issues/3274/labels{/name}",
  "comments_url": "https://api.github.com/repos/sigp/lighthouse/issues/3274/comments",
  "events_url": "https://api.github.com/repos/sigp/lighthouse/issues/3274/events",
  "html_url": "https://github.com/sigp/lighthouse/issues/3274",
  "id": 1272738113,
  "node_id": "I_kwDOCFeAzc5L3HFB",
  "number": 3274,
  "title": "error: failed to compile `lighthouse v2.3.1 (/root/lighthouse/lighthouse)`, intermediate artifacts can be found at `/root/lighthouse/target`",
  "user": {
    "login": "tamaszl",
    "id": 85541319,
    "node_id": "MDQ6VXNlcjg1NTQxMzE5",
    "avatar_url": "https://avatars.githubusercontent.com/u/85541319?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/tamaszl",
    "html_url": "https://github.com/tamaszl",
    "followers_url": "https://api.github.com/users/tamaszl/followers",
    "following_url": "https://api.github.com/users/tamaszl/following{/other_user}",
    "gists_url": "https://api.github.com/users/tamaszl/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/tamaszl/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/tamaszl/subscriptions",
    "organizations_url": "https://api.github.com/users/tamaszl/orgs",
    "repos_url": "https://api.github.com/users/tamaszl/repos",
    "events_url": "https://api.github.com/users/tamaszl/events{/privacy}",
    "received_events_url": "https://api.github.com/users/tamaszl/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2022-06-15T21:03:49Z",
  "updated_at": "2022-06-15T22:25:34Z",
  "closed_at": "2022-06-15T22:25:34Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "## Description\r\n\r\nPlease provide a brief description of the issue.\r\n\r\nmake\r\ncargo install --path lighthouse --force --locked --features \"\"\r\n  Installing lighthouse v2.3.1 (/root/lighthouse/lighthouse)\r\n    Updating crates.io index\r\n   Compiling lighthouse v2.3.1 (/root/lighthouse/lighthouse)\r\nerror: failed to compile `lighthouse v2.3.1 (/root/lighthouse/lighthouse)`, intermediate artifacts can be found at `/root/lighthouse/target`\r\n\r\nCaused by:\r\n  could not compile `lighthouse`\r\n\r\n## Version\r\n\r\nPlease provide your Lighthouse and Rust version. Are you building from\r\n`stable` or `unstable`, which commit?\r\nstable v2.3.1\r\n\r\n## Present Behaviour\r\n\r\nDescribe the present behaviour of the application, with regards to this\r\nissue.\r\n\r\nerror: failed to compile `lighthouse v2.3.1 (/root/lighthouse/lighthouse)`, intermediate artifacts can be found at `/root/lighthouse/target`\r\n\r\nCaused by:\r\n  could not compile `lighthouse`\r\n\r\nCaused by:\r\n  process didn't exit successfully: `rustc --crate-name lighthouse --edition=2021 lighthouse/src/main.rs --error-format=json --json=diagnostic-rendered-ansi,future-incompat --crate-type bin --emit=dep-info,link -C opt-level=3 -C embed-bitcode=no -C metadata=a7c616944a3d9a97 -C extra-filename=-a7c616944a3d9a97 --out-dir /root/lighthouse/target/release/deps -L dependency=/root/lighthouse/target/release/deps --extern account_manager=/root/lighthouse/target/release/deps/libaccount_manager-7c98c4762fcf89a1.rlib --extern account_utils=/root/lighthouse/target/release/deps/libaccount_utils-3efbaf09707d22ed.rlib --extern beacon_node=/root/lighthouse/target/release/deps/libbeacon_node-ec95e10ddbb11875.rlib --extern bls=/root/lighthouse/target/release/deps/libbls-482d0d75912b11ec.rlib --extern boot_node=/root/lighthouse/target/release/deps/libboot_node-075f1414a51dad8b.rlib --extern clap=/root/lighthouse/target/release/deps/libclap-6d07c913669099ce.rlib --extern clap_utils=/root/lighthouse/target/release/deps/libclap_utils-bfba433baabedb3c.rlib --extern database_manager=/root/lighthouse/target/release/deps/libdatabase_manager-9365219628dffecf.rlib --extern directory=/root/lighthouse/target/release/deps/libdirectory-5b2bd8067ebbfac4.rlib --extern env_logger=/root/lighthouse/target/release/deps/libenv_logger-a6988fc7e5e04d3b.rlib --extern environment=/root/lighthouse/target/release/deps/libenvironment-5304d3469ae4de1b.rlib --extern eth2_hashing=/root/lighthouse/target/release/deps/libeth2_hashing-a67d742e7449899b.rlib --extern eth2_network_config=/root/lighthouse/target/release/deps/libeth2_network_config-0a7243ab85667e12.rlib --extern futures=/root/lighthouse/target/release/deps/libfutures-6d53b20fd3acc7e7.rlib --extern lazy_static=/root/lighthouse/target/release/deps/liblazy_static-21549e276c465028.rlib --extern lighthouse_metrics=/root/lighthouse/target/release/deps/liblighthouse_metrics-14ec56ea692a8db2.rlib --extern lighthouse_version=/root/lighthouse/target/release/deps/liblighthouse_version-b4ac81eee5188a0a.rlib --extern malloc_utils=/root/lighthouse/target/release/deps/libmalloc_utils-97f97f242ee234a4.rlib --extern serde=/root/lighthouse/target/release/deps/libserde-fec03baa445c3e85.rlib --extern serde_json=/root/lighthouse/target/release/deps/libserde_json-0e4e0abf18dea1e6.rlib --extern serde_yaml=/root/lighthouse/target/release/deps/libserde_yaml-7965f93ccdc81060.rlib --extern slog=/root/lighthouse/target/release/deps/libslog-ea191462b76d0a17.rlib --extern sloggers=/root/lighthouse/target/release/deps/libsloggers-3c4d982c0d3ed130.rlib --extern task_executor=/root/lighthouse/target/release/deps/libtask_executor-99ec407c1cce3f96.rlib --extern types=/root/lighthouse/target/release/deps/libtypes-6cd7eb612d666ffc.rlib --extern unused_port=/root/lighthouse/target/release/deps/libunused_port-adb11df34cbcf673.rlib --extern validator_client=/root/lighthouse/target/release/deps/libvalidator_client-72dc9903f431f16f.rlib -L native=/root/lighthouse/target/release/build/blst-669f9b2ca5886106/out -L native=/root/lighthouse/target/release/build/ring-cd7196c72019a9fb/out -L native=/root/lighthouse/target/release/build/libsqlite3-sys-38f0e27a67d702cc/out -L native=/root/lighthouse/target/release/build/libz-sys-feb3a3ee75e35c13/out/lib -L native=/root/lighthouse/target/release/build/libz-sys-feb3a3ee75e35c13/out/lib -L native=/root/lighthouse/target/release/build/openssl-sys-62c8149e3041c406/out/openssl-build/install/lib -L native=/root/lighthouse/target/release/build/leveldb-sys-4899e8d450255432/out/lib -L native=/root/lighthouse/target/release/build/mdbx-sys-f4745435c4864c0e/out` (signal: 9, SIGKILL: kill)\r\nmake: *** [Makefile:25: install] Error 101\r\n\r\n## Expected Behaviour\r\n\r\nHow _should_ the application behave?\r\n\r\n## Steps to resolve\r\n\r\nPlease describe the steps required to resolve this issue, if known.\r\n",
  "closed_by": {
    "login": "michaelsproul",
    "id": 4452260,
    "node_id": "MDQ6VXNlcjQ0NTIyNjA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/4452260?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/michaelsproul",
    "html_url": "https://github.com/michaelsproul",
    "followers_url": "https://api.github.com/users/michaelsproul/followers",
    "following_url": "https://api.github.com/users/michaelsproul/following{/other_user}",
    "gists_url": "https://api.github.com/users/michaelsproul/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/michaelsproul/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/michaelsproul/subscriptions",
    "organizations_url": "https://api.github.com/users/michaelsproul/orgs",
    "repos_url": "https://api.github.com/users/michaelsproul/repos",
    "events_url": "https://api.github.com/users/michaelsproul/events{/privacy}",
    "received_events_url": "https://api.github.com/users/michaelsproul/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/3274/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/sigp/lighthouse/issues/3274/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/1156999764",
    "html_url": "https://github.com/sigp/lighthouse/issues/3274#issuecomment-1156999764",
    "issue_url": "https://api.github.com/repos/sigp/lighthouse/issues/3274",
    "id": 1156999764,
    "node_id": "IC_kwDOCFeAzc5E9mpU",
    "user": {
      "login": "michaelsproul",
      "id": 4452260,
      "node_id": "MDQ6VXNlcjQ0NTIyNjA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4452260?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/michaelsproul",
      "html_url": "https://github.com/michaelsproul",
      "followers_url": "https://api.github.com/users/michaelsproul/followers",
      "following_url": "https://api.github.com/users/michaelsproul/following{/other_user}",
      "gists_url": "https://api.github.com/users/michaelsproul/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/michaelsproul/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/michaelsproul/subscriptions",
      "organizations_url": "https://api.github.com/users/michaelsproul/orgs",
      "repos_url": "https://api.github.com/users/michaelsproul/repos",
      "events_url": "https://api.github.com/users/michaelsproul/events{/privacy}",
      "received_events_url": "https://api.github.com/users/michaelsproul/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-06-15T22:07:19Z",
    "updated_at": "2022-06-15T22:07:19Z",
    "author_association": "MEMBER",
    "body": "Are you compiling on a memory-constrained device? If you check `sudo dmesg -T` after the compilation failure it might mention that rustc was killed by the out-of-memory (OOM) killer.\n\nIf you have another machine with more RAM available you can also cross-compile: https://lighthouse-book.sigmaprime.io/cross-compiling.html",
    "reactions": {
      "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/1156999764/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/1157009711",
    "html_url": "https://github.com/sigp/lighthouse/issues/3274#issuecomment-1157009711",
    "issue_url": "https://api.github.com/repos/sigp/lighthouse/issues/3274",
    "id": 1157009711,
    "node_id": "IC_kwDOCFeAzc5E9pEv",
    "user": {
      "login": "tamaszl",
      "id": 85541319,
      "node_id": "MDQ6VXNlcjg1NTQxMzE5",
      "avatar_url": "https://avatars.githubusercontent.com/u/85541319?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tamaszl",
      "html_url": "https://github.com/tamaszl",
      "followers_url": "https://api.github.com/users/tamaszl/followers",
      "following_url": "https://api.github.com/users/tamaszl/following{/other_user}",
      "gists_url": "https://api.github.com/users/tamaszl/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tamaszl/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tamaszl/subscriptions",
      "organizations_url": "https://api.github.com/users/tamaszl/orgs",
      "repos_url": "https://api.github.com/users/tamaszl/repos",
      "events_url": "https://api.github.com/users/tamaszl/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tamaszl/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-06-15T22:22:52Z",
    "updated_at": "2022-06-15T22:22:52Z",
    "author_association": "NONE",
    "body": "[Wed Jun 15 21:48:48 2022] Out of memory: Killed process 56601 (rustc) total-vm:2934036kB, anon-rss:1563564kB, file-rss:0kB, shmem-rss:0kB, UID:0 pgtables:5528kB oom_score_adj:0",
    "reactions": {
      "url": "https://api.github.com/repos/sigp/lighthouse/issues/comments/1157009711/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
