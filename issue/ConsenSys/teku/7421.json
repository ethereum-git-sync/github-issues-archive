{
  "url": "https://api.github.com/repos/Consensys/teku/issues/7421",
  "repository_url": "https://api.github.com/repos/Consensys/teku",
  "labels_url": "https://api.github.com/repos/Consensys/teku/issues/7421/labels{/name}",
  "comments_url": "https://api.github.com/repos/Consensys/teku/issues/7421/comments",
  "events_url": "https://api.github.com/repos/Consensys/teku/issues/7421/events",
  "html_url": "https://github.com/Consensys/teku/issues/7421",
  "id": 1850907273,
  "node_id": "I_kwDOCM9I9M5uUpqJ",
  "number": 7421,
  "title": "beacon-api voluntary exit cleanup",
  "user": {
    "login": "rolfyone",
    "id": 2967240,
    "node_id": "MDQ6VXNlcjI5NjcyNDA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/2967240?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/rolfyone",
    "html_url": "https://github.com/rolfyone",
    "followers_url": "https://api.github.com/users/rolfyone/followers",
    "following_url": "https://api.github.com/users/rolfyone/following{/other_user}",
    "gists_url": "https://api.github.com/users/rolfyone/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/rolfyone/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/rolfyone/subscriptions",
    "organizations_url": "https://api.github.com/users/rolfyone/orgs",
    "repos_url": "https://api.github.com/users/rolfyone/repos",
    "events_url": "https://api.github.com/users/rolfyone/events{/privacy}",
    "received_events_url": "https://api.github.com/users/rolfyone/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 1,
  "created_at": "2023-08-15T05:01:15Z",
  "updated_at": "2023-09-19T23:25:14Z",
  "closed_at": null,
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "The beacon-api voluntary exit is probably more restrictive than it should be.\n\nWe should ideally be able to post an exit for a future epoch and have it in the pool. I'm not sure what it would mean as far as pushing the change to the network, we may have to delay publishing it.\n\nBecause keymanager-api is able to generate signed exits, we really need to have the beacon-api post be a bit more capable in handling the kinds of flows that a user is likely to want to do.\n\nIt's fair to lose the pool entries on restart potentially, but ideally being able to accept a  voluntary exit early would improve UX.  We could ideally validate other rules and just store it for future use if its submitted early (not sure about network validation rules and whether we are allowed to publish early) ",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/Consensys/teku/issues/7421/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/Consensys/teku/issues/7421/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/Consensys/teku/issues/comments/1726674392",
    "html_url": "https://github.com/Consensys/teku/issues/7421#issuecomment-1726674392",
    "issue_url": "https://api.github.com/repos/Consensys/teku/issues/7421",
    "id": 1726674392,
    "node_id": "IC_kwDOCM9I9M5m6vXY",
    "user": {
      "login": "rolfyone",
      "id": 2967240,
      "node_id": "MDQ6VXNlcjI5NjcyNDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2967240?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rolfyone",
      "html_url": "https://github.com/rolfyone",
      "followers_url": "https://api.github.com/users/rolfyone/followers",
      "following_url": "https://api.github.com/users/rolfyone/following{/other_user}",
      "gists_url": "https://api.github.com/users/rolfyone/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rolfyone/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rolfyone/subscriptions",
      "organizations_url": "https://api.github.com/users/rolfyone/orgs",
      "repos_url": "https://api.github.com/users/rolfyone/repos",
      "events_url": "https://api.github.com/users/rolfyone/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rolfyone/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-09-19T23:25:14Z",
    "updated_at": "2023-09-19T23:25:14Z",
    "author_association": "CONTRIBUTOR",
    "body": "closely related, \n```\n./teku voluntary-exit --epoch=204930\n\nCurrent epoch is 204735.  The client errors with:\n\nThe specified epoch 204930 is greater than current epoch 204734, cannot continue.\n```\n\nthis is basically because the CLI tool is enforcing what the api will restrict doing, rather than submitting and failing. this should also be considered when we're looking at the api.",
    "reactions": {
      "url": "https://api.github.com/repos/Consensys/teku/issues/comments/1726674392/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
