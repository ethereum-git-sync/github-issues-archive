{
  "url": "https://api.github.com/repos/ConsenSys/teku/issues/7144",
  "repository_url": "https://api.github.com/repos/ConsenSys/teku",
  "labels_url": "https://api.github.com/repos/ConsenSys/teku/issues/7144/labels{/name}",
  "comments_url": "https://api.github.com/repos/ConsenSys/teku/issues/7144/comments",
  "events_url": "https://api.github.com/repos/ConsenSys/teku/issues/7144/events",
  "html_url": "https://github.com/ConsenSys/teku/issues/7144",
  "id": 1709271083,
  "node_id": "I_kwDOCM9I9M5l4Wgr",
  "number": 7144,
  "title": "Teku takes longer than expected to query block headers by root",
  "user": {
    "login": "rolfyone",
    "id": 2967240,
    "node_id": "MDQ6VXNlcjI5NjcyNDA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/2967240?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/rolfyone",
    "html_url": "https://github.com/rolfyone",
    "followers_url": "https://api.github.com/users/rolfyone/followers",
    "following_url": "https://api.github.com/users/rolfyone/following{/other_user}",
    "gists_url": "https://api.github.com/users/rolfyone/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/rolfyone/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/rolfyone/subscriptions",
    "organizations_url": "https://api.github.com/users/rolfyone/orgs",
    "repos_url": "https://api.github.com/users/rolfyone/repos",
    "events_url": "https://api.github.com/users/rolfyone/events{/privacy}",
    "received_events_url": "https://api.github.com/users/rolfyone/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 0,
  "created_at": "2023-05-15T03:59:39Z",
  "updated_at": "2023-05-15T03:59:39Z",
  "closed_at": null,
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "from customer:\n\nI created a python script which starts off by querying the head block of a client and uses the parent hash to iterate down the chain until the genesis block. The purpose of this was so that we can calculate the actual chain created and see if there are forks between clients. The api requests for each client was conducted serially.\n\nI noticed that it would take substantially longer to query teku compared to other clients as seen by the difference in time between fetch requests (note: the time was recorded at the start of fetching)\n\nThis was the endpoint I used to construct the data:\n/eth/v1/beacon/headers/{block_id}\nhttps://ethereum.github.io/beacon-APIs/#/Beacon/getBlockHeader \n\nmy thoughts:\n\nsomething funky might be happening with the way data is queried:\n```\n> time curl http://localhost:5051/eth/v1/beacon/headers/0x4b1018549c3d6db84fb736bdf8a478b5c9a789ae64de37ad496aa05fdadebee4\n <.. snip>\nreal\t0m0.324s\nuser\t0m0.005s\nsys\t0m0.000s\n> time curl http://localhost:5051/eth/v1/beacon/headers/6441471\n <.. snip>\nreal\t0m0.083s\nuser\t0m0.000s\nsys\t0m0.005s\n```\n\nNot sure if it's just because of the way search by root works, or if we're doing something unusual when searching by root, but worth taking a look at how it all works on finalized blocks",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/ConsenSys/teku/issues/7144/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ConsenSys/teku/issues/7144/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[

]
