{
  "url": "https://api.github.com/repos/ConsenSys/teku/issues/7301",
  "repository_url": "https://api.github.com/repos/ConsenSys/teku",
  "labels_url": "https://api.github.com/repos/ConsenSys/teku/issues/7301/labels{/name}",
  "comments_url": "https://api.github.com/repos/ConsenSys/teku/issues/7301/comments",
  "events_url": "https://api.github.com/repos/ConsenSys/teku/issues/7301/events",
  "html_url": "https://github.com/ConsenSys/teku/issues/7301",
  "id": 1771439095,
  "node_id": "I_kwDOCM9I9M5plgP3",
  "number": 7301,
  "title": "Failed to load public keys from Web3Signer URL when TLS enabled",
  "user": {
    "login": "jleeh",
    "id": 10528926,
    "node_id": "MDQ6VXNlcjEwNTI4OTI2",
    "avatar_url": "https://avatars.githubusercontent.com/u/10528926?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/jleeh",
    "html_url": "https://github.com/jleeh",
    "followers_url": "https://api.github.com/users/jleeh/followers",
    "following_url": "https://api.github.com/users/jleeh/following{/other_user}",
    "gists_url": "https://api.github.com/users/jleeh/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/jleeh/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/jleeh/subscriptions",
    "organizations_url": "https://api.github.com/users/jleeh/orgs",
    "repos_url": "https://api.github.com/users/jleeh/repos",
    "events_url": "https://api.github.com/users/jleeh/events{/privacy}",
    "received_events_url": "https://api.github.com/users/jleeh/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 0,
  "created_at": "2023-06-23T13:10:22Z",
  "updated_at": "2023-06-23T13:10:22Z",
  "closed_at": null,
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "<!-- \r\nBy filing an Issue, you are expected to comply with the Code of Conduct, \r\nincluding treating everyone with respect:\r\nhttps://github.com/ConsenSys/teku/blob/master/CODE-OF-CONDUCT.md\r\n\r\nNot all sections will apply to all issue types.\r\n-->\r\n\r\n### Description\r\nWhen using the Web3Signer with Teku and specifying a URL to load public keys from, when TLS is enabled Teku will fail to load the public keys due to a SSL exception:\r\n```\r\njavax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n```\r\n\r\nWhen the public keys are explicitly defined in the argument rather than the URL, Teku will correctly boot. As seen in the attached logs, Teku will state that the external signer is reachable but throw an exception upon the retrieval of public keys.\r\n\r\n[validator.log](https://github.com/ConsenSys/teku/files/11848741/validator.log)\r\n\r\n### Steps to Reproduce (Bug)\r\n- Run Web3Signer with TLS enabled\r\n- Run Teku with Web3Signer enabled and `--validators-external-signer-public-keys` set to a https URL \r\n\r\n**Expected behavior:** Teku will fetch all public keys from Web3Signer\r\n\r\n**Actual behavior:** Exception is thrown\r\n\r\n**Frequency:** Always, at boot\r\n\r\n### Versions (Add all that apply)\r\n* Software version: Teku 23.5.0 & 23.6.0, Web3Signer 23.5.0 & 23.6.0\r\n* Java version: Java version built into container `consensys/teku:23.6.0`",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/ConsenSys/teku/issues/7301/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ConsenSys/teku/issues/7301/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[

]
