{
  "url": "https://api.github.com/repos/Consensys/teku/issues/7586",
  "repository_url": "https://api.github.com/repos/Consensys/teku",
  "labels_url": "https://api.github.com/repos/Consensys/teku/issues/7586/labels{/name}",
  "comments_url": "https://api.github.com/repos/Consensys/teku/issues/7586/comments",
  "events_url": "https://api.github.com/repos/Consensys/teku/issues/7586/events",
  "html_url": "https://github.com/Consensys/teku/issues/7586",
  "id": 1933796657,
  "node_id": "I_kwDOCM9I9M5zQ2Ux",
  "number": 7586,
  "title": "Retry loading of external validators if failed",
  "user": {
    "login": "zilm13",
    "id": 6196452,
    "node_id": "MDQ6VXNlcjYxOTY0NTI=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6196452?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/zilm13",
    "html_url": "https://github.com/zilm13",
    "followers_url": "https://api.github.com/users/zilm13/followers",
    "following_url": "https://api.github.com/users/zilm13/following{/other_user}",
    "gists_url": "https://api.github.com/users/zilm13/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/zilm13/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/zilm13/subscriptions",
    "organizations_url": "https://api.github.com/users/zilm13/orgs",
    "repos_url": "https://api.github.com/users/zilm13/repos",
    "events_url": "https://api.github.com/users/zilm13/events{/privacy}",
    "received_events_url": "https://api.github.com/users/zilm13/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 1048919131,
      "node_id": "MDU6TGFiZWwxMDQ4OTE5MTMx",
      "url": "https://api.github.com/repos/Consensys/teku/labels/enhancement%20%F0%9F%95%B5%EF%B8%8F%E2%80%8D%E2%99%80%EF%B8%8F",
      "name": "enhancement üïµÔ∏è‚Äç‚ôÄÔ∏è",
      "color": "a2eeef",
      "default": false,
      "description": "New feature or request"
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 1,
  "created_at": "2023-10-09T20:54:54Z",
  "updated_at": "2023-10-09T22:22:27Z",
  "closed_at": null,
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "<!-- \r\nBy filing an Issue, you are expected to comply with the Code of Conduct, \r\nincluding treating everyone with respect:\r\nhttps://github.com/Consensys/teku/blob/master/CODE-OF-CONDUCT.md\r\n\r\nNot all sections will apply to all issue types.\r\n-->\r\n\r\n### Description\r\nWhen Teku fails to load external validator keys it prints the only message and gives up\r\n```\r\n{\"@timestamp\":\"2023-10-09T01:32:28,197\",\"level\":\"WARN\",\"thread\":\"validator-async-0\",\"class\":\"ValidatorClientService\",\"message\":\"Failed to load public keys from URL http://some_url\",\"throwable\":\"\"}\r\n```\r\nAs a result service continue to run without noticeable issues while validator duties are not performed. Also `local_validator_count` gauge is not created which fails Grafana to display validator stats.\r\n\r\nRetrying of loading external validator keys with error message repeated could solve the issue. Plus metrics gauge could be registered in advance, so Grafana dashboard is rendered correctly.",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/Consensys/teku/issues/7586/reactions",
    "total_count": 1,
    "+1": 1,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/Consensys/teku/issues/7586/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/Consensys/teku/issues/comments/1753884442",
    "html_url": "https://github.com/Consensys/teku/issues/7586#issuecomment-1753884442",
    "issue_url": "https://api.github.com/repos/Consensys/teku/issues/7586",
    "id": 1753884442,
    "node_id": "IC_kwDOCM9I9M5oiica",
    "user": {
      "login": "zilm13",
      "id": 6196452,
      "node_id": "MDQ6VXNlcjYxOTY0NTI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6196452?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/zilm13",
      "html_url": "https://github.com/zilm13",
      "followers_url": "https://api.github.com/users/zilm13/followers",
      "following_url": "https://api.github.com/users/zilm13/following{/other_user}",
      "gists_url": "https://api.github.com/users/zilm13/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/zilm13/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/zilm13/subscriptions",
      "organizations_url": "https://api.github.com/users/zilm13/orgs",
      "repos_url": "https://api.github.com/users/zilm13/repos",
      "events_url": "https://api.github.com/users/zilm13/events{/privacy}",
      "received_events_url": "https://api.github.com/users/zilm13/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-10-09T21:12:03Z",
    "updated_at": "2023-10-09T21:12:03Z",
    "author_association": "CONTRIBUTOR",
    "body": "As an option we could check web3signer status with https://consensys.github.io/web3signer/web3signer-eth2.html#tag/Server-Status until all keys are loaded and pull them only after it",
    "reactions": {
      "url": "https://api.github.com/repos/Consensys/teku/issues/comments/1753884442/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
