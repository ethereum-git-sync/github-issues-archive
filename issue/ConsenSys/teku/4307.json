{
  "url": "https://api.github.com/repos/ConsenSys/teku/issues/4307",
  "repository_url": "https://api.github.com/repos/ConsenSys/teku",
  "labels_url": "https://api.github.com/repos/ConsenSys/teku/issues/4307/labels{/name}",
  "comments_url": "https://api.github.com/repos/ConsenSys/teku/issues/4307/comments",
  "events_url": "https://api.github.com/repos/ConsenSys/teku/issues/4307/events",
  "html_url": "https://github.com/ConsenSys/teku/issues/4307",
  "id": 985219440,
  "node_id": "MDU6SXNzdWU5ODUyMTk0NDA=",
  "number": 4307,
  "title": "Interop local testned return committees for previous epoch",
  "user": {
    "login": "BeroBurny",
    "id": 6376047,
    "node_id": "MDQ6VXNlcjYzNzYwNDc=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6376047?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/BeroBurny",
    "html_url": "https://github.com/BeroBurny",
    "followers_url": "https://api.github.com/users/BeroBurny/followers",
    "following_url": "https://api.github.com/users/BeroBurny/following{/other_user}",
    "gists_url": "https://api.github.com/users/BeroBurny/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/BeroBurny/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/BeroBurny/subscriptions",
    "organizations_url": "https://api.github.com/users/BeroBurny/orgs",
    "repos_url": "https://api.github.com/users/BeroBurny/repos",
    "events_url": "https://api.github.com/users/BeroBurny/events{/privacy}",
    "received_events_url": "https://api.github.com/users/BeroBurny/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": {
    "login": "ajsutton",
    "id": 72675,
    "node_id": "MDQ6VXNlcjcyNjc1",
    "avatar_url": "https://avatars.githubusercontent.com/u/72675?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/ajsutton",
    "html_url": "https://github.com/ajsutton",
    "followers_url": "https://api.github.com/users/ajsutton/followers",
    "following_url": "https://api.github.com/users/ajsutton/following{/other_user}",
    "gists_url": "https://api.github.com/users/ajsutton/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/ajsutton/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/ajsutton/subscriptions",
    "organizations_url": "https://api.github.com/users/ajsutton/orgs",
    "repos_url": "https://api.github.com/users/ajsutton/repos",
    "events_url": "https://api.github.com/users/ajsutton/events{/privacy}",
    "received_events_url": "https://api.github.com/users/ajsutton/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "ajsutton",
      "id": 72675,
      "node_id": "MDQ6VXNlcjcyNjc1",
      "avatar_url": "https://avatars.githubusercontent.com/u/72675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ajsutton",
      "html_url": "https://github.com/ajsutton",
      "followers_url": "https://api.github.com/users/ajsutton/followers",
      "following_url": "https://api.github.com/users/ajsutton/following{/other_user}",
      "gists_url": "https://api.github.com/users/ajsutton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ajsutton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ajsutton/subscriptions",
      "organizations_url": "https://api.github.com/users/ajsutton/orgs",
      "repos_url": "https://api.github.com/users/ajsutton/repos",
      "events_url": "https://api.github.com/users/ajsutton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ajsutton/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 3,
  "created_at": "2021-09-01T14:23:04Z",
  "updated_at": "2021-09-02T09:07:02Z",
  "closed_at": "2021-09-02T09:07:01Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "### Versions (Add all that apply)\r\n* Software version: teku/v21.8.2/linux-x86_64/-eclipsefoundation-openjdk64bitservervm-java-16\r\n* OS Name & Version:  docker\r\n* Docker Version: Docker version 20.10.3, build 48d30b5\r\n\r\n### Additional Information\r\nThis is a case with `interop` local testnet (dint try on public testnet) seems that calling `getEpochCommittees` with `head` return data from the previous epoch, not the current one\r\n\r\nUsed own test is written in `js` (GitHub URL at the end)\r\nWhich works in this way.\r\n- Create API client pointing on Teku testnet Beacon Node\r\n- Run Lodestar validator \r\n- Prepare tests\r\n- Subscribe to Events (`eventstream`) with `block` and `attestation` topics\r\n (`/eth/v1/events?topics=block&topics=attestation`)\r\n  - on `block event`\r\n    - check if is new epoch\r\n    - if yes then call  `getEpochCommittees` endpoint with `head` parameter\r\n      (`eth/v1/beacon/states/head/committees`)\r\n\r\n<details>\r\n<summary>Docker logs</summary>\r\n\r\n```sh\r\n$ docker-compose -f teku-testnet.yml up\r\nCreating network \"chainguardian_default\" with the default driver\r\nCreating eth2_testnet_teku ... done\r\nAttaching to eth2_testnet_teku\r\neth2_testnet_teku | 2021-09-01 13:55:07,572 main INFO Configuring logging for destination: console and file\r\neth2_testnet_teku | 2021-09-01 13:55:07,574 main INFO Logging file location: /data/teku.log\r\neth2_testnet_teku | 2021-09-01 13:55:07,574 main INFO Logging includes events: true\r\neth2_testnet_teku | 2021-09-01 13:55:07,575 main INFO Logging includes validator duties: true\r\neth2_testnet_teku | 2021-09-01 13:55:07,575 main INFO Logging includes color: true\r\neth2_testnet_teku | 13:55:07.686 INFO  - Teku version: teku/v21.8.2/linux-x86_64/-eclipsefoundation-openjdk64bitservervm-java-16\r\neth2_testnet_teku | 13:55:07.690 INFO  - This software is licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this software except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\r\neth2_testnet_teku | 13:55:07.827 INFO  - Loading 7 validator keys...\r\neth2_testnet_teku | 13:55:07.833 INFO  - Loaded 7 Validators: a99a76e, b89bebc, 88c141d, 81283b7, 9977f1c, a3a32b0, ab0bdda\r\neth2_testnet_teku | 13:55:07.839 INFO  - Storing beacon chain data in: /data/beacon\r\neth2_testnet_teku | 13:55:07.973 INFO  - Initializing storage\r\neth2_testnet_teku | 13:55:07.975 INFO  - Storage initialization complete\r\neth2_testnet_teku | 13:55:07.994 INFO  - Starting with mocked start interoperability mode with genesis time 2021-09-01 01:55:35 and 8 validators\r\neth2_testnet_teku | 13:55:08.111 INFO  - Genesis Event *** \r\neth2_testnet_teku | Genesis state root: 0xb9d2561056fdfcf61fa1b60eb4f18fd6d7e783edcae4e04b9e9bcdfd34f2620b \r\neth2_testnet_teku | Genesis block root: 0x650b01fe082c8a70ece33958f92984ba6f8c8d5afa3cb1ca6300c3208e191094 \r\neth2_testnet_teku | Genesis time: 2021-09-01 13:55:35 GMT\r\neth2_testnet_teku | 13:55:08.335 INFO  - 27 seconds until genesis time is reached. Peers: 0\r\neth2_testnet_teku | 13:55:08.525 INFO  - Validator a99a76e status is active_ongoing.\r\neth2_testnet_teku | 13:55:08.526 INFO  - Validator b89bebc status is active_ongoing.\r\neth2_testnet_teku | 13:55:08.526 INFO  - Validator 88c141d status is active_ongoing.\r\neth2_testnet_teku | 13:55:08.526 INFO  - Validator 81283b7 status is active_ongoing.\r\neth2_testnet_teku | 13:55:08.526 INFO  - Validator 9977f1c status is active_ongoing.\r\neth2_testnet_teku | 13:55:08.527 INFO  - Validator a3a32b0 status is active_ongoing.\r\neth2_testnet_teku | 13:55:08.527 INFO  - Validator ab0bdda status is active_ongoing.\r\neth2_testnet_teku | 13:55:35.027 INFO  - Epoch Event *** Epoch: 0, Justified checkpoint: 0, Finalized checkpoint: 0, Finalized root: 650b01..1094\r\neth2_testnet_teku | 13:55:37.028 INFO  - Slot Event  *** Slot: 0, Block: 650b01..1094, Epoch: 0, Finalized checkpoint: 0, Finalized root: 650b01..1094, Peers: 0\r\neth2_testnet_teku | 13:55:41.079 INFO  - Validator   *** Published block              Count: 1, Slot: 1, Root: 7db028..8452\r\neth2_testnet_teku | 13:55:41.109 INFO  - Validator   *** Published attestation        Count: 1, Slot: 1, Root: 7db028..8452\r\neth2_testnet_teku | 13:55:43.027 INFO  - Slot Event  *** Slot: 1, Block: 7db028..8452, Epoch: 0, Finalized checkpoint: 0, Finalized root: 650b01..1094, Peers: 0\r\neth2_testnet_teku | 13:55:45.007 INFO  - Validator   *** Published aggregate          Count: 1, Slot: 1, Root: 7db028..8452\r\neth2_testnet_teku | 13:55:47.077 INFO  - Validator   *** Published attestation        Count: 1, Slot: 2, Root: 7fb8f9..bb8b\r\neth2_testnet_teku | 13:55:49.027 INFO  - Slot Event  *** Slot: 2, Block: 7fb8f9..bb8b, Epoch: 0, Finalized checkpoint: 0, Finalized root: 650b01..1094, Peers: 0\r\neth2_testnet_teku | 13:55:51.002 INFO  - Validator   *** Published aggregate          Count: 1, Slot: 2, Root: 7fb8f9..bb8b\r\neth2_testnet_teku | 13:55:53.020 INFO  - Validator   *** Published block              Count: 1, Slot: 3, Root: 25b41b..6035\r\neth2_testnet_teku | 13:55:53.040 INFO  - Validator   *** Published attestation        Count: 1, Slot: 3, Root: 25b41b..6035\r\neth2_testnet_teku | 13:55:55.027 INFO  - Slot Event  *** Slot: 3, Block: 25b41b..6035, Epoch: 0, Finalized checkpoint: 0, Finalized root: 650b01..1094, Peers: 0\r\neth2_testnet_teku | 13:55:57.002 INFO  - Validator   *** Published aggregate          Count: 1, Slot: 3, Root: 25b41b..6035\r\neth2_testnet_teku | 13:55:59.018 INFO  - Validator   *** Published block              Count: 1, Slot: 4, Root: e683c3..028f\r\neth2_testnet_teku | 13:55:59.039 INFO  - Validator   *** Published attestation        Count: 1, Slot: 4, Root: e683c3..028f\r\neth2_testnet_teku | 13:56:01.027 INFO  - Slot Event  *** Slot: 4, Block: e683c3..028f, Epoch: 0, Finalized checkpoint: 0, Finalized root: 650b01..1094, Peers: 0\r\neth2_testnet_teku | 13:56:03.003 INFO  - Validator   *** Published aggregate          Count: 1, Slot: 4, Root: e683c3..028f\r\neth2_testnet_teku | 13:56:05.008 INFO  - Validator   *** Published block              Count: 1, Slot: 5, Root: b9560d..c2c3\r\neth2_testnet_teku | 13:56:05.039 INFO  - Validator   *** Published attestation        Count: 1, Slot: 5, Root: b9560d..c2c3\r\neth2_testnet_teku | 13:56:07.027 INFO  - Slot Event  *** Slot: 5, Block: b9560d..c2c3, Epoch: 0, Finalized checkpoint: 0, Finalized root: 650b01..1094, Peers: 0\r\neth2_testnet_teku | 13:56:09.001 INFO  - Validator   *** Published aggregate          Count: 1, Slot: 5, Root: b9560d..c2c3\r\neth2_testnet_teku | 13:56:11.017 INFO  - Validator   *** Published block              Count: 1, Slot: 6, Root: 5f45f1..dab3\r\neth2_testnet_teku | 13:56:11.038 INFO  - Validator   *** Published attestation        Count: 1, Slot: 6, Root: 5f45f1..dab3\r\neth2_testnet_teku | 13:56:13.027 INFO  - Slot Event  *** Slot: 6, Block: 5f45f1..dab3, Epoch: 0, Finalized checkpoint: 0, Finalized root: 650b01..1094, Peers: 0\r\neth2_testnet_teku | 13:56:15.002 INFO  - Validator   *** Published aggregate          Count: 1, Slot: 6, Root: 5f45f1..dab3\r\neth2_testnet_teku | 13:56:17.016 INFO  - Validator   *** Published block              Count: 1, Slot: 7, Root: 4aa253..3034\r\neth2_testnet_teku | 13:56:19.027 INFO  - Slot Event  *** Slot: 7, Block: 4aa253..3034, Epoch: 0, Finalized checkpoint: 0, Finalized root: 650b01..1094, Peers: 0\r\neth2_testnet_teku | 13:56:23.011 INFO  - Validator   *** Published block              Count: 1, Slot: 8, Root: ec2edd..30bf\r\neth2_testnet_teku | 13:56:23.027 INFO  - Epoch Event *** Epoch: 1, Justified checkpoint: 0, Finalized checkpoint: 0, Finalized root: 650b01..1094\r\neth2_testnet_teku | 13:56:23.043 INFO  - Validator   *** Published attestation        Count: 1, Slot: 8, Root: ec2edd..30bf\r\neth2_testnet_teku | 13:56:25.027 INFO  - Slot Event  *** Slot: 8, Block: ec2edd..30bf, Epoch: 1, Finalized checkpoint: 0, Finalized root: 650b01..1094, Peers: 0\r\neth2_testnet_teku | 13:56:27.002 INFO  - Validator   *** Published aggregate          Count: 1, Slot: 8, Root: ec2edd..30bf\r\neth2_testnet_teku | 13:56:29.050 INFO  - Validator   *** Published attestation        Count: 1, Slot: 9, Root: 18955b..7792\r\neth2_testnet_teku | 13:56:31.026 INFO  - Slot Event  *** Slot: 9, Block: 18955b..7792, Epoch: 1, Finalized checkpoint: 0, Finalized root: 650b01..1094, Peers: 0\r\neth2_testnet_teku | 13:56:33.002 INFO  - Validator   *** Published aggregate          Count: 1, Slot: 9, Root: 18955b..7792\r\neth2_testnet_teku | 13:56:35.017 INFO  - Validator   *** Published block              Count: 1, Slot: 10, Root: 4ce690..0403\r\neth2_testnet_teku | 13:56:35.039 INFO  - Validator   *** Published attestation        Count: 1, Slot: 10, Root: 4ce690..0403\r\neth2_testnet_teku | 13:56:37.027 INFO  - Slot Event  *** Slot: 10, Block: 4ce690..0403, Epoch: 1, Finalized checkpoint: 0, Finalized root: 650b01..1094, Peers: 0\r\neth2_testnet_teku | 13:56:39.001 INFO  - Validator   *** Published aggregate          Count: 1, Slot: 10, Root: 4ce690..0403\r\neth2_testnet_teku | 13:56:41.016 INFO  - Validator   *** Published block              Count: 1, Slot: 11, Root: fa8edb..684f\r\neth2_testnet_teku | 13:56:41.039 INFO  - Validator   *** Published attestation        Count: 1, Slot: 11, Root: fa8edb..684f\r\neth2_testnet_teku | 13:56:43.026 INFO  - Slot Event  *** Slot: 11, Block: fa8edb..684f, Epoch: 1, Finalized checkpoint: 0, Finalized root: 650b01..1094, Peers: 0\r\neth2_testnet_teku | 13:56:45.002 INFO  - Validator   *** Published aggregate          Count: 1, Slot: 11, Root: fa8edb..684f\r\neth2_testnet_teku | 13:56:47.017 INFO  - Validator   *** Published block              Count: 1, Slot: 12, Root: 94c267..6f62\r\neth2_testnet_teku | 13:56:47.039 INFO  - Validator   *** Published attestation        Count: 1, Slot: 12, Root: 94c267..6f62\r\neth2_testnet_teku | 13:56:49.026 INFO  - Slot Event  *** Slot: 12, Block: 94c267..6f62, Epoch: 1, Finalized checkpoint: 0, Finalized root: 650b01..1094, Peers: 0\r\neth2_testnet_teku | 13:56:51.002 INFO  - Validator   *** Published aggregate          Count: 1, Slot: 12, Root: 94c267..6f62\r\neth2_testnet_teku | 13:56:53.007 INFO  - Validator   *** Published block              Count: 1, Slot: 13, Root: 07ddb9..45f8\r\neth2_testnet_teku | 13:56:55.027 INFO  - Slot Event  *** Slot: 13, Block: 07ddb9..45f8, Epoch: 1, Finalized checkpoint: 0, Finalized root: 650b01..1094, Peers: 0\r\neth2_testnet_teku | 13:56:59.016 INFO  - Validator   *** Published block              Count: 1, Slot: 14, Root: 8cf7e1..006b\r\neth2_testnet_teku | 13:56:59.037 INFO  - Validator   *** Published attestation        Count: 1, Slot: 14, Root: 8cf7e1..006b\r\neth2_testnet_teku | 13:57:01.026 INFO  - Slot Event  *** Slot: 14, Block: 8cf7e1..006b, Epoch: 1, Finalized checkpoint: 0, Finalized root: 650b01..1094, Peers: 0\r\neth2_testnet_teku | 13:57:03.002 INFO  - Validator   *** Published aggregate          Count: 1, Slot: 14, Root: 8cf7e1..006b\r\neth2_testnet_teku | 13:57:05.015 INFO  - Validator   *** Published block              Count: 1, Slot: 15, Root: 828ba3..4330\r\neth2_testnet_teku | 13:57:05.040 INFO  - Validator   *** Published attestation        Count: 1, Slot: 15, Root: 828ba3..4330\r\neth2_testnet_teku | 13:57:07.027 INFO  - Slot Event  *** Slot: 15, Block: 828ba3..4330, Epoch: 1, Finalized checkpoint: 0, Finalized root: 650b01..1094, Peers: 0\r\neth2_testnet_teku | 13:57:09.001 INFO  - Validator   *** Published aggregate          Count: 1, Slot: 15, Root: 828ba3..4330\r\neth2_testnet_teku | 13:57:11.018 INFO  - Validator   *** Published block              Count: 1, Slot: 16, Root: 28fe2b..f534\r\neth2_testnet_teku | 13:57:11.027 INFO  - Epoch Event *** Epoch: 2, Justified checkpoint: 0, Finalized checkpoint: 0, Finalized root: 650b01..1094\r\neth2_testnet_teku | 13:57:11.033 INFO  - Attestation performance: expected 8, produced 7, included 7 (100%), distance 1 / 1.00 / 1, correct target 7 (100%), correct head 7 (100%)\r\neth2_testnet_teku | 13:57:11.035 INFO  - Block performance: expected 15, produced 15, included 15 (100%)\r\neth2_testnet_teku | 13:57:11.042 INFO  - Validator   *** Published attestation        Count: 1, Slot: 16, Root: 28fe2b..f534\r\neth2_testnet_teku | 13:57:13.027 INFO  - Slot Event  *** Slot: 16, Block: 28fe2b..f534, Epoch: 2, Finalized checkpoint: 0, Finalized root: 650b01..1094, Peers: 0\r\neth2_testnet_teku | 13:57:15.002 INFO  - Validator   *** Published aggregate          Count: 1, Slot: 16, Root: 28fe2b..f534\r\neth2_testnet_teku | 13:57:17.016 INFO  - Validator   *** Published block              Count: 1, Slot: 17, Root: 1127f4..5ae7\r\neth2_testnet_teku | 13:57:17.037 INFO  - Validator   *** Published attestation        Count: 1, Slot: 17, Root: 1127f4..5ae7\r\neth2_testnet_teku | 13:57:19.027 INFO  - Slot Event  *** Slot: 17, Block: 1127f4..5ae7, Epoch: 2, Finalized checkpoint: 0, Finalized root: 650b01..1094, Peers: 0\r\neth2_testnet_teku | 13:57:21.002 INFO  - Validator   *** Published aggregate          Count: 1, Slot: 17, Root: 1127f4..5ae7\r\neth2_testnet_teku | 13:57:23.048 INFO  - Validator   *** Published block              Count: 1, Slot: 18, Root: 6db31c..733a\r\neth2_testnet_teku | 13:57:23.053 INFO  - Validator   *** Published attestation        Count: 1, Slot: 18, Root: 6db31c..733a\r\neth2_testnet_teku | 13:57:25.027 INFO  - Slot Event  *** Slot: 18, Block: 6db31c..733a, Epoch: 2, Finalized checkpoint: 0, Finalized root: 650b01..1094, Peers: 0\r\neth2_testnet_teku | 13:57:27.003 INFO  - Validator   *** Published aggregate          Count: 1, Slot: 18, Root: 6db31c..733a\r\neth2_testnet_teku | 13:57:29.016 INFO  - Validator   *** Published block              Count: 1, Slot: 19, Root: 9d8a45..ed21\r\neth2_testnet_teku | 13:57:29.039 INFO  - Validator   *** Published attestation        Count: 1, Slot: 19, Root: 9d8a45..ed21\r\neth2_testnet_teku | 13:57:31.026 INFO  - Slot Event  *** Slot: 19, Block: 9d8a45..ed21, Epoch: 2, Finalized checkpoint: 0, Finalized root: 650b01..1094, Peers: 0\r\neth2_testnet_teku | 13:57:33.001 INFO  - Validator   *** Published aggregate          Count: 1, Slot: 19, Root: 9d8a45..ed21\r\neth2_testnet_teku | 13:57:35.015 INFO  - Validator   *** Published block              Count: 1, Slot: 20, Root: e3851c..6219\r\neth2_testnet_teku | 13:57:37.026 INFO  - Slot Event  *** Slot: 20, Block: e3851c..6219, Epoch: 2, Finalized checkpoint: 0, Finalized root: 650b01..1094, Peers: 0\r\neth2_testnet_teku | 13:57:41.049 INFO  - Validator   *** Published attestation        Count: 1, Slot: 21, Root: 0c33ba..9b68\r\neth2_testnet_teku | 13:57:43.027 INFO  - Slot Event  *** Slot: 21, Block: 0c33ba..9b68, Epoch: 2, Finalized checkpoint: 0, Finalized root: 650b01..1094, Peers: 0\r\neth2_testnet_teku | 13:57:45.002 INFO  - Validator   *** Published aggregate          Count: 1, Slot: 21, Root: 0c33ba..9b68\r\neth2_testnet_teku | 13:57:47.015 INFO  - Validator   *** Published block              Count: 1, Slot: 22, Root: d349e5..1511\r\neth2_testnet_teku | 13:57:47.038 INFO  - Validator   *** Published attestation        Count: 1, Slot: 22, Root: d349e5..1511\r\neth2_testnet_teku | 13:57:49.027 INFO  - Slot Event  *** Slot: 22, Block: d349e5..1511, Epoch: 2, Finalized checkpoint: 0, Finalized root: 650b01..1094, Peers: 0\r\neth2_testnet_teku | 13:57:51.002 INFO  - Validator   *** Published aggregate          Count: 1, Slot: 22, Root: d349e5..1511\r\neth2_testnet_teku | 13:57:53.074 INFO  - Validator   *** Published attestation        Count: 1, Slot: 23, Root: b10705..aa71\r\neth2_testnet_teku | 13:57:55.027 INFO  - Slot Event  *** Slot: 23, Block: b10705..aa71, Epoch: 2, Finalized checkpoint: 0, Finalized root: 650b01..1094, Peers: 0\r\neth2_testnet_teku | 13:57:57.001 INFO  - Validator   *** Published aggregate          Count: 1, Slot: 23, Root: b10705..aa71\r\neth2_testnet_teku | 13:57:59.015 INFO  - Validator   *** Published block              Count: 1, Slot: 24, Root: 68ce59..4336\r\neth2_testnet_teku | 13:57:59.027 INFO  - Epoch Event *** Epoch: 3, Justified checkpoint: 0, Finalized checkpoint: 0, Finalized root: 650b01..1094\r\neth2_testnet_teku | 13:57:59.029 INFO  - Attestation performance: expected 8, produced 8, included 8 (100%), distance 1 / 1.00 / 1, correct target 8 (100%), correct head 8 (100%)\r\neth2_testnet_teku | 13:57:59.043 INFO  - Validator   *** Published attestation        Count: 1, Slot: 24, Root: 68ce59..4336\r\neth2_testnet_teku | 13:58:01.026 INFO  - Slot Event  *** Slot: 24, Block: 68ce59..4336, Epoch: 3, Finalized checkpoint: 0, Finalized root: 650b01..1094, Peers: 0\r\neth2_testnet_teku | 13:58:03.002 INFO  - Validator   *** Published aggregate          Count: 1, Slot: 24, Root: 68ce59..4336\r\neth2_testnet_teku | 13:58:05.011 INFO  - Validator   *** Published block              Count: 1, Slot: 25, Root: 65bd45..12f4\r\neth2_testnet_teku | 13:58:05.036 INFO  - Validator   *** Published attestation        Count: 1, Slot: 25, Root: 65bd45..12f4\r\neth2_testnet_teku | 13:58:07.026 INFO  - Slot Event  *** Slot: 25, Block: 65bd45..12f4, Epoch: 3, Finalized checkpoint: 0, Finalized root: 650b01..1094, Peers: 0\r\neth2_testnet_teku | 13:58:09.002 INFO  - Validator   *** Published aggregate          Count: 1, Slot: 25, Root: 65bd45..12f4\r\neth2_testnet_teku | 13:58:11.015 INFO  - Validator   *** Published block              Count: 1, Slot: 26, Root: 450a0e..aa2f\r\neth2_testnet_teku | 13:58:11.036 INFO  - Validator   *** Published attestation        Count: 1, Slot: 26, Root: 450a0e..aa2f\r\neth2_testnet_teku | 13:58:13.026 INFO  - Slot Event  *** Slot: 26, Block: 450a0e..aa2f, Epoch: 3, Finalized checkpoint: 0, Finalized root: 650b01..1094, Peers: 0\r\neth2_testnet_teku | 13:58:15.002 INFO  - Validator   *** Published aggregate          Count: 1, Slot: 26, Root: 450a0e..aa2f\r\neth2_testnet_teku | 13:58:17.047 INFO  - Validator   *** Published block              Count: 1, Slot: 27, Root: e49c4a..2d02\r\neth2_testnet_teku | 13:58:19.027 INFO  - Slot Event  *** Slot: 27, Block: e49c4a..2d02, Epoch: 3, Finalized checkpoint: 0, Finalized root: 650b01..1094, Peers: 0\r\neth2_testnet_teku | 13:58:23.047 INFO  - Validator   *** Published block              Count: 1, Slot: 28, Root: 884f1c..275d\r\neth2_testnet_teku | 13:58:23.055 INFO  - Validator   *** Published attestation        Count: 1, Slot: 28, Root: 884f1c..275d\r\neth2_testnet_teku | 13:58:25.027 INFO  - Slot Event  *** Slot: 28, Block: 884f1c..275d, Epoch: 3, Finalized checkpoint: 0, Finalized root: 650b01..1094, Peers: 0\r\neth2_testnet_teku | 13:58:27.001 INFO  - Validator   *** Published aggregate          Count: 1, Slot: 28, Root: 884f1c..275d\r\neth2_testnet_teku | 13:58:29.014 INFO  - Validator   *** Published block              Count: 1, Slot: 29, Root: c81a2a..d387\r\neth2_testnet_teku | 13:58:29.039 INFO  - Validator   *** Published attestation        Count: 1, Slot: 29, Root: c81a2a..d387\r\neth2_testnet_teku | 13:58:31.027 INFO  - Slot Event  *** Slot: 29, Block: c81a2a..d387, Epoch: 3, Finalized checkpoint: 0, Finalized root: 650b01..1094, Peers: 0\r\neth2_testnet_teku | 13:58:33.001 INFO  - Validator   *** Published aggregate          Count: 1, Slot: 29, Root: c81a2a..d387\r\neth2_testnet_teku | 13:58:35.039 INFO  - Validator   *** Published attestation        Count: 1, Slot: 30, Root: bc10f7..e808\r\neth2_testnet_teku | 13:58:37.027 INFO  - Slot Event  *** Slot: 30, Block: bc10f7..e808, Epoch: 3, Finalized checkpoint: 0, Finalized root: 650b01..1094, Peers: 0\r\neth2_testnet_teku | 13:58:39.002 INFO  - Validator   *** Published aggregate          Count: 1, Slot: 30, Root: bc10f7..e808\r\neth2_testnet_teku | 13:58:41.007 INFO  - Validator   *** Published block              Count: 1, Slot: 31, Root: f251d8..aa01\r\neth2_testnet_teku | 13:58:41.036 INFO  - Validator   *** Published attestation        Count: 1, Slot: 31, Root: f251d8..aa01\r\neth2_testnet_teku | 13:58:43.027 INFO  - Slot Event  *** Slot: 31, Block: f251d8..aa01, Epoch: 3, Finalized checkpoint: 0, Finalized root: 650b01..1094, Peers: 0\r\neth2_testnet_teku | 13:58:45.002 INFO  - Validator   *** Published aggregate          Count: 1, Slot: 31, Root: f251d8..aa01\r\neth2_testnet_teku | 13:58:47.017 INFO  - Validator   *** Published block              Count: 1, Slot: 32, Root: 457d45..e8e1\r\neth2_testnet_teku | 13:58:47.027 INFO  - Epoch Event *** Epoch: 4, Justified checkpoint: 2, Finalized checkpoint: 0, Finalized root: 650b01..1094\r\neth2_testnet_teku | 13:58:47.028 INFO  - Attestation performance: expected 8, produced 8, included 8 (100%), distance 1 / 1.00 / 1, correct target 8 (100%), correct head 8 (100%)\r\neth2_testnet_teku | 13:58:47.029 INFO  - Block performance: expected 16, produced 16, included 16 (100%)\r\neth2_testnet_teku | 13:58:47.063 INFO  - Validator   *** Published attestation        Count: 1, Slot: 32, Root: 457d45..e8e1\r\neth2_testnet_teku | 13:58:49.027 INFO  - Slot Event  *** Slot: 32, Block: 457d45..e8e1, Epoch: 4, Finalized checkpoint: 2, Finalized root: 28fe2b..f534, Peers: 0\r\neth2_testnet_teku | 13:58:51.002 INFO  - Validator   *** Published aggregate          Count: 1, Slot: 32, Root: 457d45..e8e1\r\neth2_testnet_teku | 13:58:53.047 INFO  - Validator   *** Published block              Count: 1, Slot: 33, Root: 82a9bf..314c\r\neth2_testnet_teku | 13:58:53.052 INFO  - Validator   *** Published attestation        Count: 1, Slot: 33, Root: 82a9bf..314c\r\neth2_testnet_teku | 13:58:55.027 INFO  - Slot Event  *** Slot: 33, Block: 82a9bf..314c, Epoch: 4, Finalized checkpoint: 2, Finalized root: 28fe2b..f534, Peers: 0\r\neth2_testnet_teku | 13:58:57.001 INFO  - Validator   *** Published aggregate          Count: 1, Slot: 33, Root: 82a9bf..314c\r\neth2_testnet_teku | 13:58:59.014 INFO  - Validator   *** Published block              Count: 1, Slot: 34, Root: ea8c10..97ec\r\neth2_testnet_teku | 13:59:01.027 INFO  - Slot Event  *** Slot: 34, Block: ea8c10..97ec, Epoch: 4, Finalized checkpoint: 2, Finalized root: 28fe2b..f534, Peers: 0\r\neth2_testnet_teku | 13:59:05.039 INFO  - Validator   *** Published attestation        Count: 1, Slot: 35, Root: f6ce21..2131\r\neth2_testnet_teku | 13:59:07.027 INFO  - Slot Event  *** Slot: 35, Block: f6ce21..2131, Epoch: 4, Finalized checkpoint: 2, Finalized root: 28fe2b..f534, Peers: 0\r\neth2_testnet_teku | 13:59:09.002 INFO  - Validator   *** Published aggregate          Count: 1, Slot: 35, Root: f6ce21..2131\r\neth2_testnet_teku | 13:59:11.015 INFO  - Validator   *** Published block              Count: 1, Slot: 36, Root: 7e585d..0271\r\neth2_testnet_teku | 13:59:11.036 INFO  - Validator   *** Published attestation        Count: 1, Slot: 36, Root: 7e585d..0271\r\neth2_testnet_teku | 13:59:13.027 INFO  - Slot Event  *** Slot: 36, Block: 7e585d..0271, Epoch: 4, Finalized checkpoint: 2, Finalized root: 28fe2b..f534, Peers: 0\r\neth2_testnet_teku | 13:59:15.002 INFO  - Validator   *** Published aggregate          Count: 1, Slot: 36, Root: 7e585d..0271\r\neth2_testnet_teku | 13:59:17.015 INFO  - Validator   *** Published block              Count: 1, Slot: 37, Root: 1df8fa..9a09\r\neth2_testnet_teku | 13:59:17.037 INFO  - Validator   *** Published attestation        Count: 1, Slot: 37, Root: 1df8fa..9a09\r\neth2_testnet_teku | 13:59:19.027 INFO  - Slot Event  *** Slot: 37, Block: 1df8fa..9a09, Epoch: 4, Finalized checkpoint: 2, Finalized root: 28fe2b..f534, Peers: 0\r\neth2_testnet_teku | 13:59:21.001 INFO  - Validator   *** Published aggregate          Count: 1, Slot: 37, Root: 1df8fa..9a09\r\neth2_testnet_teku | 13:59:23.006 INFO  - Validator   *** Published block              Count: 1, Slot: 38, Root: f07283..5dd2\r\neth2_testnet_teku | 13:59:23.036 INFO  - Validator   *** Published attestation        Count: 1, Slot: 38, Root: f07283..5dd2\r\neth2_testnet_teku | 13:59:25.027 INFO  - Slot Event  *** Slot: 38, Block: f07283..5dd2, Epoch: 4, Finalized checkpoint: 2, Finalized root: 28fe2b..f534, Peers: 0\r\neth2_testnet_teku | 13:59:27.001 INFO  - Validator   *** Published aggregate          Count: 1, Slot: 38, Root: f07283..5dd2\r\neth2_testnet_teku | 13:59:29.015 INFO  - Validator   *** Published block              Count: 1, Slot: 39, Root: fee81f..953e\r\neth2_testnet_teku | 13:59:29.037 INFO  - Validator   *** Published attestation        Count: 1, Slot: 39, Root: fee81f..953e\r\neth2_testnet_teku | 13:59:31.027 INFO  - Slot Event  *** Slot: 39, Block: fee81f..953e, Epoch: 4, Finalized checkpoint: 2, Finalized root: 28fe2b..f534, Peers: 0\r\neth2_testnet_teku | 13:59:33.001 INFO  - Validator   *** Published aggregate          Count: 1, Slot: 39, Root: fee81f..953e\r\neth2_testnet_teku | 13:59:35.027 INFO  - Epoch Event *** Epoch: 5, Justified checkpoint: 3, Finalized checkpoint: 2, Finalized root: 28fe2b..f534\r\neth2_testnet_teku | 13:59:35.028 INFO  - Attestation performance: expected 8, produced 8, included 8 (100%), distance 1 / 1.00 / 1, correct target 8 (100%), correct head 8 (100%)\r\neth2_testnet_teku | 13:59:35.046 INFO  - Validator   *** Published attestation        Count: 1, Slot: 40, Root: 75dc3a..2765\r\neth2_testnet_teku | 13:59:37.027 INFO  - Slot Event  *** Slot: 40, Block: 75dc3a..2765, Epoch: 5, Finalized checkpoint: 3, Finalized root: 68ce59..4336, Peers: 0\r\neth2_testnet_teku | 13:59:39.002 INFO  - Validator   *** Published aggregate          Count: 1, Slot: 40, Root: 75dc3a..2765\r\nGracefully stopping... (press Ctrl+C again to force)\r\n```\r\n\r\n</details>\r\n\r\n<details>\r\n<summary>JS test logs</summary>\r\n\r\n```sh\r\nStarting validator 0xa8d4c7c27795a725961317ef5953a7032ed6d83739db8b0e8a72353d1b8b4439427f7efa2c89caa03cc9f28f8cbab8ac\r\nSep-01 15:55:17.522 [CHAINGUARDIAN] verbose: Subscribed to head event\r\nSep-01 15:55:17.535 [CHAINGUARDIAN]    info: Discovered new validators count=1\r\ncurrent slot: 1 getEpochCommittees Head => [{\"index\":0,\"slot\":0,\"validators\":[1]},{\"index\":0,\"slot\":1,\"validators\":[0]},{\"index\":0,\"slot\":2,\"validators\":[5]},{\"index\":0,\"slot\":3,\"validators\":[6]},{\"index\":0,\"slot\":4,\"validators\":[2]},{\"index\":0,\"slot\":5,\"validators\":[3]},{\"index\":0,\"slot\":6,\"validators\":[4]},{\"index\":0,\"slot\":7,\"validators\":[7]}]\r\nSep-01 15:55:41.077 [CHAINGUARDIAN] verbose: Found new chain head slot=1, blockRoot=0x7db0284846f943373c0a5eccfdafd04e258cabd0775c898a02d61c6ff3148452\r\nSep-01 15:55:47.066 [CHAINGUARDIAN]    info: Published block slot=2, validator=0xa8d4…b8ac, graffiti=ChainGuardian\r\nSep-01 15:55:47.066 [CHAINGUARDIAN] verbose: Found new chain head slot=2, blockRoot=0x7fb8f9c3d9fff6c7cfb9b3111865974e1311ccb3acf2e72041d982867ae1bb8b\r\nSep-01 15:55:53.034 [CHAINGUARDIAN] verbose: Found new chain head slot=3, blockRoot=0x25b41ba8193128f055007f7f39268e587f8876e56269afaa68484b2028ab6035\r\nSep-01 15:55:59.033 [CHAINGUARDIAN] verbose: Found new chain head slot=4, blockRoot=0xe683c374f4ff654c5c57560d66e537d69ed1dd9b2d0b7719ea9df23d4502028f\r\nSep-01 15:56:05.034 [CHAINGUARDIAN] verbose: Found new chain head slot=5, blockRoot=0xb9560d056e17aece31726af5b80af17433c3d2c3470b7bb6899b7026ee6dc2c3\r\nSep-01 15:56:11.033 [CHAINGUARDIAN] verbose: Found new chain head slot=6, blockRoot=0x5f45f120f50df2445f5f7996e2f0f8c69af0a15b1d96f1c5c96b2b4f59cbdab3\r\nSep-01 15:56:17.034 [CHAINGUARDIAN] verbose: Found new chain head slot=7, blockRoot=0x4aa253c3ccee289919517505b651b71094bab1d9d82847a884fecc51cbd63034\r\nSep-01 15:56:19.014 [CHAINGUARDIAN]    info: Published attestations slot=7, index=0, count=1\r\nSep-01 15:56:21.000 [CHAINGUARDIAN] verbose: Aggregating attestations slot=7, index=0\r\nSep-01 15:56:21.013 [CHAINGUARDIAN]    info: Published aggregateAndProofs slot=7, index=0, count=1\r\ncurrent slot: 8 getEpochCommittees Head => [{\"index\":0,\"slot\":0,\"validators\":[1]},{\"index\":0,\"slot\":1,\"validators\":[0]},{\"index\":0,\"slot\":2,\"validators\":[5]},{\"index\":0,\"slot\":3,\"validators\":[6]},{\"index\":0,\"slot\":4,\"validators\":[2]},{\"index\":0,\"slot\":5,\"validators\":[3]},{\"index\":0,\"slot\":6,\"validators\":[4]},{\"index\":0,\"slot\":7,\"validators\":[7]}]\r\nSep-01 15:56:23.034 [CHAINGUARDIAN] verbose: Found new chain head slot=8, blockRoot=0xec2edd7dc13544fa4a667cfe1f29c62712fecfe1e3d82f5c5e034504fa4a30bf\r\nSep-01 15:56:29.017 [CHAINGUARDIAN]    info: Published block slot=9, validator=0xa8d4…b8ac, graffiti=ChainGuardian\r\nSep-01 15:56:29.034 [CHAINGUARDIAN] verbose: Found new chain head slot=9, blockRoot=0x18955beeac65245cdd5ef633f70030447a23c22ae14c9922b3b2515ad0427792\r\nSep-01 15:56:35.033 [CHAINGUARDIAN] verbose: Found new chain head slot=10, blockRoot=0x4ce690eae8199ebb894e9d80cf26aa9371a05ddda4d23d2620d73f8239950403\r\nSep-01 15:56:41.033 [CHAINGUARDIAN] verbose: Found new chain head slot=11, blockRoot=0xfa8edb308d58f18226a4c730eed899f7380dfa68a84c783e4cac3269bb32684f\r\nSep-01 15:56:47.034 [CHAINGUARDIAN] verbose: Found new chain head slot=12, blockRoot=0x94c267bfb8120dddcc97e681097b94c8fdfce6eff400a2f45cce9c1642ad6f62\r\nSep-01 15:56:53.033 [CHAINGUARDIAN] verbose: Found new chain head slot=13, blockRoot=0x07ddb962f3aa93b21e16949c4aa8946f2aaa74b632fb4fc7edf3771fd4b445f8\r\nSep-01 15:56:55.012 [CHAINGUARDIAN]    info: Published attestations slot=13, index=0, count=1\r\nSep-01 15:56:57.002 [CHAINGUARDIAN] verbose: Aggregating attestations slot=13, index=0\r\nSep-01 15:56:57.014 [CHAINGUARDIAN]    info: Published aggregateAndProofs slot=13, index=0, count=1\r\nSep-01 15:56:59.032 [CHAINGUARDIAN] verbose: Found new chain head slot=14, blockRoot=0x8cf7e16c84224bce344402cfe0ef3a29ecf781afaf3ddb2cebc9a1840020006b\r\nSep-01 15:57:05.033 [CHAINGUARDIAN] verbose: Found new chain head slot=15, blockRoot=0x828ba3e6b793d1f3fbb7aac58a9caa242384de2aa6cc6aaf12b830b813df4330\r\ncurrent slot: 16 getEpochCommittees Head => [{\"index\":0,\"slot\":8,\"validators\":[6]},{\"index\":0,\"slot\":9,\"validators\":[2]},{\"index\":0,\"slot\":10,\"validators\":[0]},{\"index\":0,\"slot\":11,\"validators\":[5]},{\"index\":0,\"slot\":12,\"validators\":[1]},{\"index\":0,\"slot\":13,\"validators\":[7]},{\"index\":0,\"slot\":14,\"validators\":[4]},{\"index\":0,\"slot\":15,\"validators\":[3]}]\r\nSep-01 15:57:11.034 [CHAINGUARDIAN] verbose: Found new chain head slot=16, blockRoot=0x28fe2b03119db158364bab0bae0bad6f724047f1af367a50a70dea714a55f534\r\nSep-01 15:57:17.032 [CHAINGUARDIAN] verbose: Found new chain head slot=17, blockRoot=0x1127f43f7438f0e4a61ef3beacc06ab2fcaa77c2cfd12c69fdbbc7668b4e5ae7\r\nSep-01 15:57:23.048 [CHAINGUARDIAN] verbose: Found new chain head slot=18, blockRoot=0x6db31c8c7a5fe7f29e6721097e18c01ca6dd005a42d1cdb2c66dd60f4d4b733a\r\nSep-01 15:57:29.034 [CHAINGUARDIAN] verbose: Found new chain head slot=19, blockRoot=0x9d8a45aeb9b25faf725e2737c498ab9c2f4825450bae9508ea7132b52507ed21\r\nSep-01 15:57:35.032 [CHAINGUARDIAN] verbose: Found new chain head slot=20, blockRoot=0xe3851c38b26e7fc1e35526398f8725601ee29e7760fd753cbb41ab3b16f26219\r\nSep-01 15:57:37.010 [CHAINGUARDIAN]    info: Published attestations slot=20, index=0, count=1\r\nSep-01 15:57:39.002 [CHAINGUARDIAN] verbose: Aggregating attestations slot=20, index=0\r\nSep-01 15:57:39.009 [CHAINGUARDIAN]    info: Published aggregateAndProofs slot=20, index=0, count=1\r\nSep-01 15:57:41.014 [CHAINGUARDIAN]    info: Published block slot=21, validator=0xa8d4…b8ac, graffiti=ChainGuardian\r\nSep-01 15:57:41.033 [CHAINGUARDIAN] verbose: Found new chain head slot=21, blockRoot=0x0c33ba806530d50f91b347ac6433c5240f293db0ce286ab7c10f62fe1bdb9b68\r\nSep-01 15:57:47.032 [CHAINGUARDIAN] verbose: Found new chain head slot=22, blockRoot=0xd349e5d0b9722160c22daa5669bb8f87a1e9a33ea18e1cbd62e933eb3b6b1511\r\nSep-01 15:57:53.016 [CHAINGUARDIAN]    info: Published block slot=23, validator=0xa8d4…b8ac, graffiti=ChainGuardian\r\nSep-01 15:57:53.033 [CHAINGUARDIAN] verbose: Found new chain head slot=23, blockRoot=0xb10705d48f9fc1fa6b40444268cc7532dbf91e2c2050448d837e1869af7aaa71\r\ncurrent slot: 24 getEpochCommittees Head => [{\"index\":0,\"slot\":16,\"validators\":[6]},{\"index\":0,\"slot\":17,\"validators\":[2]},{\"index\":0,\"slot\":18,\"validators\":[1]},{\"index\":0,\"slot\":19,\"validators\":[5]},{\"index\":0,\"slot\":20,\"validators\":[7]},{\"index\":0,\"slot\":21,\"validators\":[0]},{\"index\":0,\"slot\":22,\"validators\":[4]},{\"index\":0,\"slot\":23,\"validators\":[3]}]\r\nSep-01 15:57:59.035 [CHAINGUARDIAN] verbose: Found new chain head slot=24, blockRoot=0x68ce593bec992dd3d74fecead89fff9fd900beeace4d23fef92ec00790a44336\r\nSep-01 15:58:05.032 [CHAINGUARDIAN] verbose: Found new chain head slot=25, blockRoot=0x65bd45435b57b24e4d4fe1c5667a329c5e2385fce79aec14f4e8227a685e12f4\r\nSep-01 15:58:11.031 [CHAINGUARDIAN] verbose: Found new chain head slot=26, blockRoot=0x450a0e05470bc226998adf8537effbe88aa364e0421fe3d1cf205a775559aa2f\r\nSep-01 15:58:17.047 [CHAINGUARDIAN] verbose: Found new chain head slot=27, blockRoot=0xe49c4a6d902f0c96611440108b6a0aebf27449cde48138ce0d3da28751862d02\r\nSep-01 15:58:19.011 [CHAINGUARDIAN]    info: Published attestations slot=27, index=0, count=1\r\nSep-01 15:58:21.002 [CHAINGUARDIAN] verbose: Aggregating attestations slot=27, index=0\r\nSep-01 15:58:21.010 [CHAINGUARDIAN]    info: Published aggregateAndProofs slot=27, index=0, count=1\r\nSep-01 15:58:23.048 [CHAINGUARDIAN] verbose: Found new chain head slot=28, blockRoot=0x884f1c8b1291f2e07cf7f75219a5ddcbc9c5a5e7ee832b6706f60faceb84275d\r\nSep-01 15:58:29.032 [CHAINGUARDIAN] verbose: Found new chain head slot=29, blockRoot=0xc81a2a868d67e132aa66b02ad1101206c8b362dc417f091b6d93d78bf70bd387\r\nSep-01 15:58:35.014 [CHAINGUARDIAN]    info: Published block slot=30, validator=0xa8d4…b8ac, graffiti=ChainGuardian\r\nSep-01 15:58:35.033 [CHAINGUARDIAN] verbose: Found new chain head slot=30, blockRoot=0xbc10f705e6ce2d86258498640b14613e4301da8cad35634c7bf18b8ed60de808\r\nSep-01 15:58:41.031 [CHAINGUARDIAN] verbose: Found new chain head slot=31, blockRoot=0xf251d8921092149825d3b3b44b0e90bc12a44bbb64a9cb95d31d01985797aa01\r\ncurrent slot: 32 getEpochCommittees Head => [{\"index\":0,\"slot\":24,\"validators\":[1]},{\"index\":0,\"slot\":25,\"validators\":[3]},{\"index\":0,\"slot\":26,\"validators\":[4]},{\"index\":0,\"slot\":27,\"validators\":[7]},{\"index\":0,\"slot\":28,\"validators\":[5]},{\"index\":0,\"slot\":29,\"validators\":[2]},{\"index\":0,\"slot\":30,\"validators\":[6]},{\"index\":0,\"slot\":31,\"validators\":[0]}]\r\nSep-01 15:58:47.056 [CHAINGUARDIAN] verbose: Found new chain head slot=32, blockRoot=0x457d45c5caa8fa351e11625c80c36eae1a5cd1341860439bc414f7249ce6e8e1\r\nSep-01 15:58:53.047 [CHAINGUARDIAN] verbose: Found new chain head slot=33, blockRoot=0x82a9bfe0e7c93774ae6585eac839d778caf9afef4bc1b716d27c3d8ea9fe314c\r\nSep-01 15:58:59.032 [CHAINGUARDIAN] verbose: Found new chain head slot=34, blockRoot=0xea8c1089cffe0e77619ba3c98b35f626b0aefc6db5177164d26fa96b52f797ec\r\nSep-01 15:59:01.010 [CHAINGUARDIAN]    info: Published attestations slot=34, index=0, count=1\r\nSep-01 15:59:03.002 [CHAINGUARDIAN] verbose: Aggregating attestations slot=34, index=0\r\nSep-01 15:59:03.010 [CHAINGUARDIAN]    info: Published aggregateAndProofs slot=34, index=0, count=1\r\nSep-01 15:59:05.011 [CHAINGUARDIAN]    info: Published block slot=35, validator=0xa8d4…b8ac, graffiti=ChainGuardian\r\nSep-01 15:59:05.033 [CHAINGUARDIAN] verbose: Found new chain head slot=35, blockRoot=0xf6ce21ddbcdb3c3cd1a4ed682db678a08d0f7653ee965bd5602758f891ee2131\r\nSep-01 15:59:11.031 [CHAINGUARDIAN] verbose: Found new chain head slot=36, blockRoot=0x7e585d476c322fa42ac044408ce2a59467a8e7a3164c8ee703f531c7cc7e0271\r\nSep-01 15:59:17.032 [CHAINGUARDIAN] verbose: Found new chain head slot=37, blockRoot=0x1df8faff825604fee6d1304b132672aa1fad90da25ba1150c7835fc070189a09\r\nSep-01 15:59:23.032 [CHAINGUARDIAN] verbose: Found new chain head slot=38, blockRoot=0xf072839518e4787809181fd899f5331af67a7505db627c5b1184f2bb049c5dd2\r\nSep-01 15:59:29.032 [CHAINGUARDIAN] verbose: Found new chain head slot=39, blockRoot=0xfee81f8a408da0a905c5f042618c13a278c0a48649d84e9e0f8f86ac16f4953e\r\n```\r\n\r\n</details>\r\n\r\ndocker-compose file: https://github.com/ChainSafe/ChainGuardian/blob/beroburny/lodestar-update/teku-testnet.yml\r\nrelated files to compose https://github.com/ChainSafe/ChainGuardian/tree/beroburny/lodestar-update/testnet/teku\r\n\r\njs tester https://github.com/ChainSafe/ChainGuardian/blob/beroburny/lodestar-update/integration/restValidation.ts",
  "closed_by": {
    "login": "ajsutton",
    "id": 72675,
    "node_id": "MDQ6VXNlcjcyNjc1",
    "avatar_url": "https://avatars.githubusercontent.com/u/72675?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/ajsutton",
    "html_url": "https://github.com/ajsutton",
    "followers_url": "https://api.github.com/users/ajsutton/followers",
    "following_url": "https://api.github.com/users/ajsutton/following{/other_user}",
    "gists_url": "https://api.github.com/users/ajsutton/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/ajsutton/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/ajsutton/subscriptions",
    "organizations_url": "https://api.github.com/users/ajsutton/orgs",
    "repos_url": "https://api.github.com/users/ajsutton/repos",
    "events_url": "https://api.github.com/users/ajsutton/events{/privacy}",
    "received_events_url": "https://api.github.com/users/ajsutton/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ConsenSys/teku/issues/4307/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ConsenSys/teku/issues/4307/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ConsenSys/teku/issues/comments/910895933",
    "html_url": "https://github.com/ConsenSys/teku/issues/4307#issuecomment-910895933",
    "issue_url": "https://api.github.com/repos/ConsenSys/teku/issues/4307",
    "id": 910895933,
    "node_id": "IC_kwDOCM9I9M42Sys9",
    "user": {
      "login": "ajsutton",
      "id": 72675,
      "node_id": "MDQ6VXNlcjcyNjc1",
      "avatar_url": "https://avatars.githubusercontent.com/u/72675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ajsutton",
      "html_url": "https://github.com/ajsutton",
      "followers_url": "https://api.github.com/users/ajsutton/followers",
      "following_url": "https://api.github.com/users/ajsutton/following{/other_user}",
      "gists_url": "https://api.github.com/users/ajsutton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ajsutton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ajsutton/subscriptions",
      "organizations_url": "https://api.github.com/users/ajsutton/orgs",
      "repos_url": "https://api.github.com/users/ajsutton/repos",
      "events_url": "https://api.github.com/users/ajsutton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ajsutton/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-09-01T23:31:34Z",
    "updated_at": "2021-09-01T23:31:34Z",
    "author_association": "CONTRIBUTOR",
    "body": "I think the confusion here is that the `block` event is fired when the block is received from gossip (and passed the gossip validation), which is *before* it has been processed and imported.  The `head` event is fired when the block has been processed.\n\nNote though that a `head` event is not fired for an empty slot (nor is a `block` event obviously).  I'm not sure if by \"Lodestar validator\" you mean the Lodestar validator client, or a set of REST API tests.  A validator client should maintain its own clock and make requests based on that timing. Typically validator clients would call the attester duties endpoint (https://ethereum.github.io/beacon-APIs/#/Validator/getAttesterDuties) rather than getting the epoch committees directly.  Then the dependent root information in the head event can be used to determine when a new block or reorg may have changed the duties so they can be re-requested (API doc link above has some details of that process).\n\nFor tests you probably just want to use the `head` event since you are only interested in newly imported blocks.",
    "reactions": {
      "url": "https://api.github.com/repos/ConsenSys/teku/issues/comments/910895933/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ConsenSys/teku/issues/comments/911329130",
    "html_url": "https://github.com/ConsenSys/teku/issues/4307#issuecomment-911329130",
    "issue_url": "https://api.github.com/repos/ConsenSys/teku/issues/4307",
    "id": 911329130,
    "node_id": "IC_kwDOCM9I9M42Ucdq",
    "user": {
      "login": "BeroBurny",
      "id": 6376047,
      "node_id": "MDQ6VXNlcjYzNzYwNDc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6376047?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/BeroBurny",
      "html_url": "https://github.com/BeroBurny",
      "followers_url": "https://api.github.com/users/BeroBurny/followers",
      "following_url": "https://api.github.com/users/BeroBurny/following{/other_user}",
      "gists_url": "https://api.github.com/users/BeroBurny/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/BeroBurny/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/BeroBurny/subscriptions",
      "organizations_url": "https://api.github.com/users/BeroBurny/orgs",
      "repos_url": "https://api.github.com/users/BeroBurny/repos",
      "events_url": "https://api.github.com/users/BeroBurny/events{/privacy}",
      "received_events_url": "https://api.github.com/users/BeroBurny/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-09-02T07:44:37Z",
    "updated_at": "2021-09-02T07:44:37Z",
    "author_association": "NONE",
    "body": "> I think the confusion here is that the `block` event is fired when the block is received from gossip (and passed the gossip validation), which is _before_ it has been processed and imported. The `head` event is fired when the block has been processed.\r\n\r\nThat clarifying the way of working and noticed (by observing) `lighthouse` send SSE `head` when the block is been processed or move the head earlier :man_shrugging: \r\n\r\n> Note though that a `head` event is not fired for an empty slot (nor is a `block` event obviously). I'm not sure if by \"Lodestar validator\" you mean the Lodestar validator client, or a set of REST API tests. A validator client should maintain its own clock and make requests based on that timing. Typically validator clients would call the attester duties endpoint (https://ethereum.github.io/beacon-APIs/#/Validator/getAttesterDuties) rather than getting the epoch committees directly. Then the dependent root information in the head event can be used to determine when a new block or reorg may have changed the duties so they can be re-requested (API doc link above has some details of that process).\r\n\r\nLodestar Validator Client uses own clock and works with Teku (just run own integration test but soon will on real-world  Pyrmont network)\r\nI'm actually working on UI Client connecting Lodestar Validator Client with different beacon node via docker so how is he working is not in my hands just need to provide a good connection :smile: \r\n\r\n> For tests you probably just want to use the `head` event since you are only interested in newly imported blocks.\r\n\r\nThanks for the advice, I manage to make it work.\r\n\r\nAs there is no specification then events need to be emitted this issue can be closed.\r\n\r\nThanks for taking your time!",
    "reactions": {
      "url": "https://api.github.com/repos/ConsenSys/teku/issues/comments/911329130/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ConsenSys/teku/issues/comments/911426343",
    "html_url": "https://github.com/ConsenSys/teku/issues/4307#issuecomment-911426343",
    "issue_url": "https://api.github.com/repos/ConsenSys/teku/issues/4307",
    "id": 911426343,
    "node_id": "IC_kwDOCM9I9M42U0Mn",
    "user": {
      "login": "ajsutton",
      "id": 72675,
      "node_id": "MDQ6VXNlcjcyNjc1",
      "avatar_url": "https://avatars.githubusercontent.com/u/72675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ajsutton",
      "html_url": "https://github.com/ajsutton",
      "followers_url": "https://api.github.com/users/ajsutton/followers",
      "following_url": "https://api.github.com/users/ajsutton/following{/other_user}",
      "gists_url": "https://api.github.com/users/ajsutton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ajsutton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ajsutton/subscriptions",
      "organizations_url": "https://api.github.com/users/ajsutton/orgs",
      "repos_url": "https://api.github.com/users/ajsutton/repos",
      "events_url": "https://api.github.com/users/ajsutton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ajsutton/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-09-02T09:07:01Z",
    "updated_at": "2021-09-02T09:07:01Z",
    "author_association": "CONTRIBUTOR",
    "body": "👍 Understood.  I'll close this but do let us know if you hit any further trouble - sometimes the standard API can benefit from tuning based on real world usage.",
    "reactions": {
      "url": "https://api.github.com/repos/ConsenSys/teku/issues/comments/911426343/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
