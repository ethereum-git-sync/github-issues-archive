{
  "url": "https://api.github.com/repos/ConsenSys/teku/issues/5131",
  "repository_url": "https://api.github.com/repos/ConsenSys/teku",
  "labels_url": "https://api.github.com/repos/ConsenSys/teku/issues/5131/labels{/name}",
  "comments_url": "https://api.github.com/repos/ConsenSys/teku/issues/5131/comments",
  "events_url": "https://api.github.com/repos/ConsenSys/teku/issues/5131/events",
  "html_url": "https://github.com/ConsenSys/teku/issues/5131",
  "id": 1162862016,
  "node_id": "I_kwDOCM9I9M5FT93A",
  "number": 5131,
  "title": "java.lang.IllegalArgumentException: Cannot create attestation for future slot.",
  "user": {
    "login": "theRealYoshi",
    "id": 1275250,
    "node_id": "MDQ6VXNlcjEyNzUyNTA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1275250?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/theRealYoshi",
    "html_url": "https://github.com/theRealYoshi",
    "followers_url": "https://api.github.com/users/theRealYoshi/followers",
    "following_url": "https://api.github.com/users/theRealYoshi/following{/other_user}",
    "gists_url": "https://api.github.com/users/theRealYoshi/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/theRealYoshi/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/theRealYoshi/subscriptions",
    "organizations_url": "https://api.github.com/users/theRealYoshi/orgs",
    "repos_url": "https://api.github.com/users/theRealYoshi/repos",
    "events_url": "https://api.github.com/users/theRealYoshi/events{/privacy}",
    "received_events_url": "https://api.github.com/users/theRealYoshi/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2022-03-08T16:26:29Z",
  "updated_at": "2022-06-02T06:57:31Z",
  "closed_at": "2022-06-02T06:57:31Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "<!-- \r\nBy filing an Issue, you are expected to comply with the Code of Conduct, \r\nincluding treating everyone with respect:\r\nhttps://github.com/ConsenSys/teku/blob/master/CODE-OF-CONDUCT.md\r\n\r\nNot all sections will apply to all issue types.\r\n-->\r\n\r\n### Description\r\n[Detailed description of the problem and the impact it has]\r\n\r\n### Steps to Reproduce (Bug)\r\n[Please be as specific as possible]\r\nRandomly get this error when the client runs:\r\n\r\nERROR - Validator   *** Failed to produce attestation  \r\njava.lang.IllegalArgumentException: Cannot create attestation for future slot.\r\nRequested 3327683 but current slot is 3327680\r\n\r\n**Expected behavior:** [What you expect to happen]\r\nIt should be running smoothy\r\n\r\n**Actual behavior:** [What actually happens]\r\nLooks like it attest a slot in the future that does not exist yet\r\n\r\n**Frequency:** [How regularly does it occur?]\r\nEvery 8-9 hours ish. \r\n\r\n### Versions (Add all that apply)\r\n* Software version: [`teku --version` or look for log lines starting with `Teku version:`]\r\n* teku-22.3.0\r\n* Java version: [`java -version`]\r\n* \r\n* OS Name & Version: [`cat /etc/*release`]\r\n* \r\n* Docker Version: [`docker version`]\r\n* Docker version 20.10.12,\r\n* Cloud VM, type, size: [Amazon Web Services I3-large]\r\n* AWS us-east-2 r5.8xlarge",
  "closed_by": {
    "login": "benjaminion",
    "id": 20796281,
    "node_id": "MDQ6VXNlcjIwNzk2Mjgx",
    "avatar_url": "https://avatars.githubusercontent.com/u/20796281?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/benjaminion",
    "html_url": "https://github.com/benjaminion",
    "followers_url": "https://api.github.com/users/benjaminion/followers",
    "following_url": "https://api.github.com/users/benjaminion/following{/other_user}",
    "gists_url": "https://api.github.com/users/benjaminion/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/benjaminion/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/benjaminion/subscriptions",
    "organizations_url": "https://api.github.com/users/benjaminion/orgs",
    "repos_url": "https://api.github.com/users/benjaminion/repos",
    "events_url": "https://api.github.com/users/benjaminion/events{/privacy}",
    "received_events_url": "https://api.github.com/users/benjaminion/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ConsenSys/teku/issues/5131/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ConsenSys/teku/issues/5131/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ConsenSys/teku/issues/comments/1066319256",
    "html_url": "https://github.com/ConsenSys/teku/issues/5131#issuecomment-1066319256",
    "issue_url": "https://api.github.com/repos/ConsenSys/teku/issues/5131",
    "id": 1066319256,
    "node_id": "IC_kwDOCM9I9M4_jr2Y",
    "user": {
      "login": "ajsutton",
      "id": 72675,
      "node_id": "MDQ6VXNlcjcyNjc1",
      "avatar_url": "https://avatars.githubusercontent.com/u/72675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ajsutton",
      "html_url": "https://github.com/ajsutton",
      "followers_url": "https://api.github.com/users/ajsutton/followers",
      "following_url": "https://api.github.com/users/ajsutton/following{/other_user}",
      "gists_url": "https://api.github.com/users/ajsutton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ajsutton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ajsutton/subscriptions",
      "organizations_url": "https://api.github.com/users/ajsutton/orgs",
      "repos_url": "https://api.github.com/users/ajsutton/repos",
      "events_url": "https://api.github.com/users/ajsutton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ajsutton/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-03-14T04:09:15Z",
    "updated_at": "2022-03-14T04:09:15Z",
    "author_association": "CONTRIBUTOR",
    "body": "As discussed on discord: This message indicates that the beacon node is struggling to keep up - in this case from memory because the java heap size was too small.\n\nThat said we do plan to do some work to avoid this particular symptom of the node struggling in the future but likely it still wouldn't perform well. The beacon node should be load shedding to catch up much sooner rather than having its view of the current slot fall behind by so much.",
    "reactions": {
      "url": "https://api.github.com/repos/ConsenSys/teku/issues/comments/1066319256/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ConsenSys/teku/issues/comments/1144509497",
    "html_url": "https://github.com/ConsenSys/teku/issues/5131#issuecomment-1144509497",
    "issue_url": "https://api.github.com/repos/ConsenSys/teku/issues/5131",
    "id": 1144509497,
    "node_id": "IC_kwDOCM9I9M5EN9Q5",
    "user": {
      "login": "benjaminion",
      "id": 20796281,
      "node_id": "MDQ6VXNlcjIwNzk2Mjgx",
      "avatar_url": "https://avatars.githubusercontent.com/u/20796281?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/benjaminion",
      "html_url": "https://github.com/benjaminion",
      "followers_url": "https://api.github.com/users/benjaminion/followers",
      "following_url": "https://api.github.com/users/benjaminion/following{/other_user}",
      "gists_url": "https://api.github.com/users/benjaminion/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/benjaminion/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/benjaminion/subscriptions",
      "organizations_url": "https://api.github.com/users/benjaminion/orgs",
      "repos_url": "https://api.github.com/users/benjaminion/repos",
      "events_url": "https://api.github.com/users/benjaminion/events{/privacy}",
      "received_events_url": "https://api.github.com/users/benjaminion/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-06-02T06:57:31Z",
    "updated_at": "2022-06-02T06:57:31Z",
    "author_association": "CONTRIBUTOR",
    "body": "Closing as no modifications to Teku required.",
    "reactions": {
      "url": "https://api.github.com/repos/ConsenSys/teku/issues/comments/1144509497/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
