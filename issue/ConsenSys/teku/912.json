{
  "url": "https://api.github.com/repos/ConsenSys/teku/issues/912",
  "repository_url": "https://api.github.com/repos/ConsenSys/teku",
  "labels_url": "https://api.github.com/repos/ConsenSys/teku/issues/912/labels{/name}",
  "comments_url": "https://api.github.com/repos/ConsenSys/teku/issues/912/comments",
  "events_url": "https://api.github.com/repos/ConsenSys/teku/issues/912/events",
  "html_url": "https://github.com/ConsenSys/teku/issues/912",
  "id": 501098273,
  "node_id": "MDU6SXNzdWU1MDEwOTgyNzM=",
  "number": 912,
  "title": "State Transition Error when Validators spread across nodes",
  "user": {
    "login": "jrhea",
    "id": 5555162,
    "node_id": "MDQ6VXNlcjU1NTUxNjI=",
    "avatar_url": "https://avatars.githubusercontent.com/u/5555162?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/jrhea",
    "html_url": "https://github.com/jrhea",
    "followers_url": "https://api.github.com/users/jrhea/followers",
    "following_url": "https://api.github.com/users/jrhea/following{/other_user}",
    "gists_url": "https://api.github.com/users/jrhea/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/jrhea/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/jrhea/subscriptions",
    "organizations_url": "https://api.github.com/users/jrhea/orgs",
    "repos_url": "https://api.github.com/users/jrhea/repos",
    "events_url": "https://api.github.com/users/jrhea/events{/privacy}",
    "received_events_url": "https://api.github.com/users/jrhea/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 1048919129,
      "node_id": "MDU6TGFiZWwxMDQ4OTE5MTI5",
      "url": "https://api.github.com/repos/ConsenSys/teku/labels/bug%20%F0%9F%90%9E",
      "name": "bug üêû",
      "color": "dd6c94",
      "default": false,
      "description": "Something isn't working"
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 0,
  "created_at": "2019-10-01T19:26:38Z",
  "updated_at": "2019-10-02T17:38:47Z",
  "closed_at": "2019-10-02T17:38:47Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "<!-- Have you done the following? -->\r\n<!--   * read the Code of Conduct? By filing an Issue, you are expected to -->  \r\n<!--     comply with it, including treating everyone with respect: -->\r\n<!--     https://github.com/PegasysEng/artemis/blob/master/CODE-OF-CONDUCT.md -->\r\n<!--   * Reproduced the issue in the latest version of the software -->\r\n<!--   * Read the debugging wiki: https://github.com/PegasysEng/artemis/wiki/debugging -->\r\n<!--   * Duplicate Issue check:  https://github.com/search?q=+is%3Aissue+repo%3APegasysEng/Artemis -->\r\n<!-- Note:  Not all sections will apply to all issue types. -->\r\n\r\n### Description\r\nWe can't successfully perform state transition when validators are distributed across nodes\r\n\r\nNode: 0 Error\r\n`13:23:53.526 [DEBUG] - AttestationUtil.is_valid_indexed_attestation: Verify aggregate signature\r\nOct 01, 2019 1:23:53 PM com.google.common.eventbus.EventBus$LoggingHandler handleException\r\nSEVERE: Exception thrown by subscriber method onAttestation(tech.pegasys.artemis.datastructures.operations.Attestation) on subscriber tech.pegasys.artemis.statetransition.StateProcessor@3b4825f0 when dispatching event: tech.pegasys.artemis.datastructures.operations.Attestation@60d6484c\r\njava.lang.IllegalArgumentException: on_attestation: Attestation is not valid`\r\n\r\nNode: 1 Error\r\n`creationtech.pegasys.artemis.statetransition.StateTransitionException: tech.pegasys.artemis.statetransition.util.BlockProcessingException: java.lang.IllegalArgumentException: process_randao: Verify that the provided randao value is valid`\r\n\r\n\r\n\r\nMore Detail:\r\n\r\n\r\n**NODE: 0**\r\n```\r\n13:23:31.112 [INFO ] - ******* Eth2Genesis Event******* :\r\n13:23:31.115 [INFO ] - Initial state root is 0x56380109C2FFA5125AE7EE9269D6540593E6E61F163BE43B931E5EE98F7BB31E\r\n13:23:31.116 [INFO ] - Genesis block root is 0x5CAFDDD4B8E58C2384CAA8088CADF1A8D0AC278F9C1F3500B51E650102098B67\r\n13:23:31.116 [DEBUG] - BeaconChainController::onDBStoreValidEvent -> post(new NodeDataLoadedEvent())\r\n13:23:31.118 [DEBUG] - owned index = 0: 0xB3E0E4BB11C9CA65310C9A60741A091A98DCDF1C47992BAA61471531CB4F7B31D7CEF7D312525FBAFFD235240D02BB42\r\n13:23:31.118 [DEBUG] - owned index = 1: 0xAB10FC693D038B73D67279127501A05F0072CBB7147C68650EF6AC4E0A413E5CABD1F35C8711E1F7D9D885BBC3B8EDDC\r\n13:23:31.118 [DEBUG] - owned index = 2: 0xB60AA58B3B1FAC86208B719FEE3DBCDECD903F1E6210E99F02D4FEE6DA7D0A0A75A09B8BC9F550DD02AC6A327E9CAAFA\r\n13:23:31.119 [DEBUG] - owned index = 3: 0x8912F3F3BB0D90F762FA10C59CFA20FDEA2A7409ED842C731C263CCD8E7A6B76C3C31881104F9A983AB2BFD2B228E41B\r\n13:23:31.119 [DEBUG] - owned index = 4: 0x92C26B6E91E77B32FA8B9454FCDBDD1F22BE9CEA6A7D0259814CD00439F37B56D974ED57BC255B8B772072F2BB5C05F9\r\n13:23:31.119 [DEBUG] - owned index = 5: 0xA0219CE7AE4361C833707C645E4CC151C1B11B0F59A3FF6E6BC9D70CE28E657E7079B7A4B583C26D960100C6E27C489C\r\n13:23:31.120 [DEBUG] - owned index = 6: 0x85209B1EA72BD2C1A430CDA13D79CFBE617694C18B374A0FBF2A85AA74F6F582373F4ACE1AC7B996969BC7540125CE84\r\n13:23:31.120 [DEBUG] - owned index = 7: 0x8919AD8F40E064199399762FE092EA53E0588A711274F50F8C87024A1447AF9F7A06187983AFEA820849D215531DA413\r\n13:23:31.164 [DEBUG] - Connecting to /ip4/127.0.0.1/tcp/19001/p2p/16Uiu2HAmVTx6q1kq7v7Q2xRzMZacyFKtGCPMEK2FyL2RndJ2Awy1\r\n13:23:31.551 [DEBUG] - onConnectedPeer() /ip4/127.0.0.1/tcp/19001/p2p/16Uiu2HAmVTx6q1kq7v7Q2xRzMZacyFKtGCPMEK2FyL2RndJ2Awy1\r\n13:23:31.551 [DEBUG] - onConnectedPeer() /ip4/127.0.0.1/tcp/58338/p2p/16Uiu2HAmVTx6q1kq7v7Q2xRzMZacyFKtGCPMEK2FyL2RndJ2Awy1\r\n13:23:31.555 [DEBUG] - Connection to peer: 16Uiu2HAmVTx6q1kq7v7Q2xRzMZacyFKtGCPMEK2FyL2RndJ2Awy1 was successful\r\n13:23:31.618 [DEBUG] - Responder received 87 bytes.\r\n13:23:31.625 [DEBUG] - Peer 16Uiu2HAmVTx6q1kq7v7Q2xRzMZacyFKtGCPMEK2FyL2RndJ2Awy1 said hello.\r\n13:23:31.638 [DEBUG] - HelloMessage{forkVersion: tech.pegasys.artemis.util.SSZTypes.Bytes4@594fad6d, finalizedRoot: 0x5CAFDDD4B8E58C2384CAA8088CADF1A8D0AC278F9C1F3500B51E650102098B67, finalizedEpoch: 0, headRoot: 0x5CAFDDD4B8E58C2384CAA8088CADF1A8D0AC278F9C1F3500B51E650102098B67, headSlot: 0}\r\n13:23:44.088 [INFO ] - ******* Slot Event *******\r\n13:23:44.089 [INFO ] - Node slot:                             0\r\n13:23:47.093 [INFO ] - Head block slot:                       0\r\n13:23:47.094 [INFO ] - Justified epoch:                       0\r\n13:23:47.094 [INFO ] - Finalized epoch:                       0\r\n13:23:47.104 [DEBUG] - ValidatorCoordinator: Proposer index: 1\r\n13:23:47.105 [DEBUG] - ValidatorCoordinator: Proposer public key: 0xAB10FC693D038B73D67279127501A05F0072CBB7147C68650EF6AC4E0A413E5CABD1F35C8711E1F7D9D885BBC3B8EDDC\r\n13:23:47.294 [INFO ] - New Attestation with block root:  0x5CAFDDD4B8E58C2384CAA8088CADF1A8D0AC278F9C1F3500B51E650102098B67 detected.\r\n13:23:47.296 [INFO ] - New Attestation with block root:  0x5CAFDDD4B8E58C2384CAA8088CADF1A8D0AC278F9C1F3500B51E650102098B67 detected.\r\n13:23:47.304 [DEBUG] - Proposer index: 1\r\n13:23:47.304 [DEBUG] - Proposer public key: 0xAB10FC693D038B73D67279127501A05F0072CBB7147C68650EF6AC4E0A413E5CABD1F35C8711E1F7D9D885BBC3B8EDDC\r\n13:23:47.305 [DEBUG] - messageHash: 0x\r\n13:23:47.305 [DEBUG] - randao_reveal: 0xAC9FF427CFC222AEC40F616DE5F8A09BB9ED6853F6AB6C964BC0E3888D7DC207E5E062A80EFB5119CC68FC125BF5FC6F19EC190D1B6112FDC2F1FFEB8426090684EE675A0B9E9A7BCCDF237C040A755CFBFAB6B6D78724EF9FEDC467A5C73BFD\r\n13:23:47.306 [DEBUG] - domain: 0x0100000000000000\r\n13:23:50.091 [INFO ] - ******* Slot Event *******\r\n13:23:50.091 [INFO ] - Node slot:                             1\r\n13:23:50.091 [INFO ] - New BeaconBlock with state root:  0x4332C6AB7AECB8B84765626A694248596F9141885B80A229E49FF90D37DB1683 detected.\r\n13:23:50.132 [DEBUG] - Proposer index: 1\r\n13:23:50.132 [DEBUG] - Proposer public key: 0xAB10FC693D038B73D67279127501A05F0072CBB7147C68650EF6AC4E0A413E5CABD1F35C8711E1F7D9D885BBC3B8EDDC\r\n13:23:50.132 [DEBUG] - messageHash: 0x\r\n13:23:50.132 [DEBUG] - randao_reveal: 0xAC9FF427CFC222AEC40F616DE5F8A09BB9ED6853F6AB6C964BC0E3888D7DC207E5E062A80EFB5119CC68FC125BF5FC6F19EC190D1B6112FDC2F1FFEB8426090684EE675A0B9E9A7BCCDF237C040A755CFBFAB6B6D78724EF9FEDC467A5C73BFD\r\n13:23:50.133 [DEBUG] - domain: 0x0100000000000000\r\n13:23:53.097 [INFO ] - Head block slot:                       1\r\n13:23:53.097 [INFO ] - Justified epoch:                       0\r\n13:23:53.097 [INFO ] - Finalized epoch:                       0\r\n13:23:53.100 [DEBUG] - ValidatorCoordinator: Proposer index: 9\r\n13:23:53.100 [DEBUG] - ValidatorCoordinator: Proposer public key: 0x99861C6E5937D322D4BAEFBCFA51A63EA8DCED197A84E071AA911167D208205DAE18A4E6263C3BE37EFFFCEC15EA3FDB\r\n13:23:53.114 [INFO ] - New Attestation with block root:  0x356FDC26B60235B543F312C99FF11A4285B05C10B5192E4843FCCB508ACE26C5 detected.\r\n13:23:53.474 [DEBUG] - Attestation received: 306 bytes\r\n13:23:53.475 [DEBUG] - Attestation received: 306 bytes\r\n13:23:53.475 [INFO ] - New Attestation with block root:  0x356FDC26B60235B543F312C99FF11A4285B05C10B5192E4843FCCB508ACE26C5 detected.\r\n13:23:53.526 [DEBUG] - AttestationUtil.is_valid_indexed_attestation: Verify aggregate signature\r\nOct 01, 2019 1:23:53 PM com.google.common.eventbus.EventBus$LoggingHandler handleException\r\nSEVERE: Exception thrown by subscriber method onAttestation(tech.pegasys.artemis.datastructures.operations.Attestation) on subscriber tech.pegasys.artemis.statetransition.StateProcessor@3b4825f0 when dispatching event: tech.pegasys.artemis.datastructures.operations.Attestation@60d6484c\r\njava.lang.IllegalArgumentException: on_attestation: Attestation is not valid\r\n        at com.google.common.base.Preconditions.checkArgument(Preconditions.java:141)\r\n        at tech.pegasys.artemis.statetransition.util.ForkChoiceUtil.on_attestation(ForkChoiceUtil.java:300)\r\n        at tech.pegasys.artemis.statetransition.StateProcessor.onAttestation(StateProcessor.java:176)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n        at com.google.common.eventbus.Subscriber.invokeSubscriberMethod(Subscriber.java:87)\r\n        at com.google.common.eventbus.Subscriber$SynchronizedSubscriber.invokeSubscriberMethod(Subscriber.java:144)\r\n        at com.google.common.eventbus.Subscriber$1.run(Subscriber.java:72)\r\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n        at java.base/java.lang.Thread.run(Thread.java:834)\r\n\r\n```\r\n**NODE: 1**\r\n```\r\n13:23:31.284 [INFO ] - ******* Eth2Genesis Event******* :\r\n13:23:31.287 [INFO ] - Initial state root is 0x56380109C2FFA5125AE7EE9269D6540593E6E61F163BE43B931E5EE98F7BB31E\r\n13:23:31.287 [INFO ] - Genesis block root is 0x5CAFDDD4B8E58C2384CAA8088CADF1A8D0AC278F9C1F3500B51E650102098B67\r\n13:23:31.287 [DEBUG] - BeaconChainController::onDBStoreValidEvent -> post(new NodeDataLoadedEvent())\r\n13:23:31.289 [DEBUG] - owned index = 8: 0x83E538709AEB654F7918D1EC39E3132F7EB4900A7CBCD0037ED772FD82BC695E0D34A04BB598B9A3CC09D90EDBCCECD4\r\n13:23:31.290 [DEBUG] - owned index = 9: 0x99861C6E5937D322D4BAEFBCFA51A63EA8DCED197A84E071AA911167D208205DAE18A4E6263C3BE37EFFFCEC15EA3FDB\r\n13:23:31.290 [DEBUG] - owned index = 10: 0xB4D5514450E3F0F95E8BC582592C4C3FF58D953B1C79F74E721EA5A3135F12AC032CFED26F92A07E54ABB05BCCEC2D55\r\n13:23:31.291 [DEBUG] - owned index = 11: 0x857977DF2FAB45E729B67693B61F842163884D48D908390DCED296AE62CBC4D02855DC80CDAE2AA55B8A2CFF09D06466\r\n13:23:31.291 [DEBUG] - owned index = 12: 0x8A600570DA2EDC8F8434F8C0F9FA18725E75C31E5EA87F205AAFE1C214C2A36B00F34C98D162D7F99138E60C6E3A713D\r\n13:23:31.291 [DEBUG] - owned index = 13: 0xA6B4F2A9E2567ACE760E3190F1968026F166FBF9238F1FFC3674A3FEDD2D31D29DC7B53BE182C12B1E4D2DEEF6DFB7E4\r\n13:23:31.291 [DEBUG] - owned index = 14: 0x905B8B920333732AE9046C3320C69B465321127044857734C748794BB1D17B691515054B11253C607784D7D429A93948\r\n13:23:31.292 [DEBUG] - owned index = 15: 0x8AF64BA155102B3B53248B388B71206FDBD2F678D2177F92EB132A92B06E566B2ECDBF91099252F1DAAE68874CF8F142\r\n13:23:31.361 [DEBUG] - Connecting to /ip4/127.0.0.1/tcp/19000/p2p/16Uiu2HAm1qSqvr8a6qz6zVUnfopm8Etuqk5EYZEbmbi6GgNCpWpf\r\n13:23:31.551 [DEBUG] - onConnectedPeer() /ip4/127.0.0.1/tcp/19000/p2p/16Uiu2HAm1qSqvr8a6qz6zVUnfopm8Etuqk5EYZEbmbi6GgNCpWpf\r\n13:23:31.551 [DEBUG] - onConnectedPeer() /ip4/127.0.0.1/tcp/58337/p2p/16Uiu2HAm1qSqvr8a6qz6zVUnfopm8Etuqk5EYZEbmbi6GgNCpWpf\r\n13:23:31.554 [DEBUG] - Connection to peer: 16Uiu2HAm1qSqvr8a6qz6zVUnfopm8Etuqk5EYZEbmbi6GgNCpWpf was successful\r\n13:23:31.617 [DEBUG] - Responder received 87 bytes.\r\n13:23:31.623 [DEBUG] - Peer 16Uiu2HAm1qSqvr8a6qz6zVUnfopm8Etuqk5EYZEbmbi6GgNCpWpf said hello.\r\n13:23:31.638 [DEBUG] - HelloMessage{forkVersion: tech.pegasys.artemis.util.SSZTypes.Bytes4@34e9fffa, finalizedRoot: 0x5CAFDDD4B8E58C2384CAA8088CADF1A8D0AC278F9C1F3500B51E650102098B67, finalizedEpoch: 0, headRoot: 0x5CAFDDD4B8E58C2384CAA8088CADF1A8D0AC278F9C1F3500B51E650102098B67, headSlot: 0}\r\n13:23:44.281 [INFO ] - ******* Slot Event *******\r\n13:23:44.281 [INFO ] - Node slot:                             0\r\n13:23:47.285 [INFO ] - Head block slot:                       0\r\n13:23:47.285 [INFO ] - Justified epoch:                       0\r\n13:23:47.285 [INFO ] - Finalized epoch:                       0\r\n13:23:47.300 [DEBUG] - ValidatorCoordinator: Proposer index: 1\r\n13:23:47.300 [DEBUG] - ValidatorCoordinator: Proposer public key: 0xAB10FC693D038B73D67279127501A05F0072CBB7147C68650EF6AC4E0A413E5CABD1F35C8711E1F7D9D885BBC3B8EDDC\r\n13:23:47.315 [DEBUG] - Attestation received: 306 bytes\r\n13:23:47.317 [DEBUG] - Attestation received: 306 bytes\r\n13:23:47.317 [INFO ] - New Attestation with block root:  0x5CAFDDD4B8E58C2384CAA8088CADF1A8D0AC278F9C1F3500B51E650102098B67 detected.\r\n13:23:47.323 [DEBUG] - Attestation received: 306 bytes\r\n13:23:47.327 [DEBUG] - Attestation received: 306 bytes\r\n13:23:47.328 [INFO ] - New Attestation with block root:  0x5CAFDDD4B8E58C2384CAA8088CADF1A8D0AC278F9C1F3500B51E650102098B67 detected.\r\n13:23:50.098 [DEBUG] - Block received: 396 bytes\r\n13:23:50.099 [DEBUG] - Block received: 396 bytes\r\n13:23:50.099 [INFO ] - New BeaconBlock with state root:  0x4332C6AB7AECB8B84765626A694248596F9141885B80A229E49FF90D37DB1683 detected.\r\n13:23:50.156 [DEBUG] - Proposer index: 1\r\n13:23:50.156 [DEBUG] - Proposer public key: 0xAB10FC693D038B73D67279127501A05F0072CBB7147C68650EF6AC4E0A413E5CABD1F35C8711E1F7D9D885BBC3B8EDDC\r\n13:23:50.156 [DEBUG] - messageHash: 0x\r\n13:23:50.156 [DEBUG] - randao_reveal: 0xAC9FF427CFC222AEC40F616DE5F8A09BB9ED6853F6AB6C964BC0E3888D7DC207E5E062A80EFB5119CC68FC125BF5FC6F19EC190D1B6112FDC2F1FFEB8426090684EE675A0B9E9A7BCCDF237C040A755CFBFAB6B6D78724EF9FEDC467A5C73BFD\r\n13:23:50.157 [DEBUG] - domain: 0x0100000000000000\r\n13:23:50.278 [INFO ] - ******* Slot Event *******\r\n13:23:50.278 [INFO ] - Node slot:                             1\r\n13:23:53.119 [DEBUG] - Attestation received: 306 bytes\r\n13:23:53.119 [DEBUG] - Attestation received: 306 bytes\r\n13:23:53.119 [INFO ] - New Attestation with block root:  0x356FDC26B60235B543F312C99FF11A4285B05C10B5192E4843FCCB508ACE26C5 detected.\r\n13:23:53.285 [INFO ] - Head block slot:                       1\r\n13:23:53.285 [INFO ] - Justified epoch:                       0\r\n13:23:53.285 [INFO ] - Finalized epoch:                       0\r\n13:23:53.288 [DEBUG] - ValidatorCoordinator: Proposer index: 9\r\n13:23:53.288 [DEBUG] - ValidatorCoordinator: Proposer public key: 0x99861C6E5937D322D4BAEFBCFA51A63EA8DCED197A84E071AA911167D208205DAE18A4E6263C3BE37EFFFCEC15EA3FDB\r\n13:23:53.467 [INFO ] - New Attestation with block root:  0x356FDC26B60235B543F312C99FF11A4285B05C10B5192E4843FCCB508ACE26C5 detected.\r\n13:23:53.469 [DEBUG] - Proposer index: 9\r\n13:23:53.469 [DEBUG] - Proposer public key: 0x99861C6E5937D322D4BAEFBCFA51A63EA8DCED197A84E071AA911167D208205DAE18A4E6263C3BE37EFFFCEC15EA3FDB\r\n13:23:53.469 [DEBUG] - messageHash: 0x\r\n13:23:53.469 [DEBUG] - randao_reveal: 0xAC9FF427CFC222AEC40F616DE5F8A09BB9ED6853F6AB6C964BC0E3888D7DC207E5E062A80EFB5119CC68FC125BF5FC6F19EC190D1B6112FDC2F1FFEB8426090684EE675A0B9E9A7BCCDF237C040A755CFBFAB6B6D78724EF9FEDC467A5C73BFD\r\n13:23:53.469 [DEBUG] - domain: 0x0100000000000000\r\n13:23:53.499 [WARN ] - process_randao: Verify that the provided randao value is valid\r\n13:23:53.499 [WARN ] - Error during block creationtech.pegasys.artemis.statetransition.StateTransitionException: tech.pegasys.artemis.statetransition.util.BlockProcessingException: java.lang.IllegalArgumentException: process_randao: Verify that the provided randao value is valid\r\n13:23:53.521 [DEBUG] - AttestationUtil.is_valid_indexed_attestation: Verify aggregate signature\r\nOct 01, 2019 1:23:53 PM com.google.common.eventbus.EventBus$LoggingHandler handleException\r\nSEVERE: Exception thrown by subscriber method onAttestation(tech.pegasys.artemis.datastructures.operations.Attestation) on subscriber tech.pegasys.artemis.statetransition.StateProcessor@3ddb774f when dispatching event: tech.pegasys.artemis.datastructures.operations.Attestation@ed96d736\r\njava.lang.IllegalArgumentException: on_attestation: Attestation is not valid\r\n        at com.google.common.base.Preconditions.checkArgument(Preconditions.java:141)\r\n        at tech.pegasys.artemis.statetransition.util.ForkChoiceUtil.on_attestation(ForkChoiceUtil.java:300)\r\n        at tech.pegasys.artemis.statetransition.StateProcessor.onAttestation(StateProcessor.java:176)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n        at com.google.common.eventbus.Subscriber.invokeSubscriberMethod(Subscriber.java:87)\r\n        at com.google.common.eventbus.Subscriber$SynchronizedSubscriber.invokeSubscriberMethod(Subscriber.java:144)\r\n        at com.google.common.eventbus.Subscriber$1.run(Subscriber.java:72)\r\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n        at java.base/java.lang.Thread.run(Thread.java:834)\r\n\r\n\r\n```\r\n\r\n### Steps to Reproduce (Bug)\r\n1. Modify RandomValidatorKeyProvide::getStartAndEnd() back to where it distributes validators across node\r\n\r\n```java\r\n  private Pair<Integer, Integer> getStartAndEnd(\r\n      SECP256K1.SecretKey nodeIdentity, int numNodes, int numValidators) {\r\n    // Add all validators to validatorSet hashMap\r\n    int nodeCounter = UInt256.fromBytes(nodeIdentity.bytes()).mod(numNodes).intValue();\r\n    int startIndex = nodeCounter * (numValidators / numNodes);\r\n    int endIndex =\r\n        startIndex\r\n            + (numValidators / numNodes - 1)\r\n            + Math.floorDiv(nodeCounter, Math.max(1, numNodes - 1));\r\n    endIndex = Math.min(endIndex, numValidators - 1);\r\n\r\n    STDOUT.log(\r\n        Level.INFO,\r\n        \"nodeCounter: \" + nodeCounter + \" startIndex: \" + startIndex + \" endIndex: \" + endIndex);\r\n    return new ImmutablePair<>(startIndex, endIndex);\r\n  }\r\n```\r\n2.  Run this command: `cd scripts && sh run.sh -n=2 -l=DEBUG`\r\n\r\n",
  "closed_by": {
    "login": "jrhea",
    "id": 5555162,
    "node_id": "MDQ6VXNlcjU1NTUxNjI=",
    "avatar_url": "https://avatars.githubusercontent.com/u/5555162?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/jrhea",
    "html_url": "https://github.com/jrhea",
    "followers_url": "https://api.github.com/users/jrhea/followers",
    "following_url": "https://api.github.com/users/jrhea/following{/other_user}",
    "gists_url": "https://api.github.com/users/jrhea/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/jrhea/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/jrhea/subscriptions",
    "organizations_url": "https://api.github.com/users/jrhea/orgs",
    "repos_url": "https://api.github.com/users/jrhea/repos",
    "events_url": "https://api.github.com/users/jrhea/events{/privacy}",
    "received_events_url": "https://api.github.com/users/jrhea/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ConsenSys/teku/issues/912/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ConsenSys/teku/issues/912/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[

]
