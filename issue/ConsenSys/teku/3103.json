{
  "url": "https://api.github.com/repos/ConsenSys/teku/issues/3103",
  "repository_url": "https://api.github.com/repos/ConsenSys/teku",
  "labels_url": "https://api.github.com/repos/ConsenSys/teku/issues/3103/labels{/name}",
  "comments_url": "https://api.github.com/repos/ConsenSys/teku/issues/3103/comments",
  "events_url": "https://api.github.com/repos/ConsenSys/teku/issues/3103/events",
  "html_url": "https://github.com/ConsenSys/teku/issues/3103",
  "id": 731193097,
  "node_id": "MDU6SXNzdWU3MzExOTMwOTc=",
  "number": 3103,
  "title": "OutOfMemoryError when starting with -Xmx2g",
  "user": {
    "login": "plamarque",
    "id": 227828,
    "node_id": "MDQ6VXNlcjIyNzgyOA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/227828?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/plamarque",
    "html_url": "https://github.com/plamarque",
    "followers_url": "https://api.github.com/users/plamarque/followers",
    "following_url": "https://api.github.com/users/plamarque/following{/other_user}",
    "gists_url": "https://api.github.com/users/plamarque/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/plamarque/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/plamarque/subscriptions",
    "organizations_url": "https://api.github.com/users/plamarque/orgs",
    "repos_url": "https://api.github.com/users/plamarque/repos",
    "events_url": "https://api.github.com/users/plamarque/events{/privacy}",
    "received_events_url": "https://api.github.com/users/plamarque/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2020-10-28T07:46:05Z",
  "updated_at": "2020-11-02T09:23:34Z",
  "closed_at": "2020-10-29T02:43:30Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "<!-- Have you done the following? -->\r\n<!--   * read the Code of Conduct? By filing an Issue, you are expected to -->  \r\n<!--     comply with it, including treating everyone with respect: -->\r\n<!--     https://github.com/PegasysEng/teku/blob/master/CODE-OF-CONDUCT.md -->\r\n<!--   * Reproduced the issue in the latest version of the software -->\r\n<!--   * Read the debugging wiki: https://github.com/PegasysEng/teku/wiki/debugging -->\r\n<!--   * Duplicate Issue check:  https://github.com/search?q=+is%3Aissue+repo%3APegasysEng/Teku -->\r\n<!-- Note:  Not all sections will apply to all issue types. -->\r\n\r\n### Description\r\nAs a Mac user with 16GB RAM, I want to start Teku with -Xmx2g so that I save some memory for other apps. \r\n\r\n### Acceptance Criteria\r\n* Following the [Memory Management guidelines ](https://docs.teku.consensys.net/en/latest/HowTo/Get-Started/Manage-Memory/) in the docs should work : \r\n\r\n### Steps to Reproduce (Bug)\r\n1. git fetch \r\n2. git checkout 0.12.12\r\n3. sudo ./gradlew distInstall\r\n4. cd build/bin\r\n5. JAVA_OPTS=-Xmx2g ./teku -c /Users/patrice/eth2/teku/teku.yaml\r\n\r\n**Expected behavior:** [What you expect to happen]\r\n\r\nTeku should start, sync and keep attesting.\r\n\r\n**Actual behavior:** [What actually happens]\r\n\r\nAn OutOfMemoryError happens\r\n\r\n```\r\nJAVA_OPTS=-Xmx2g ./teku -c /Users/patrice/eth2/teku/teku.yaml\r\n2020-10-28 08:23:56,006 main INFO Configuring logging for destination: console\r\n2020-10-28 08:23:56,008 main INFO Logging includes events: true\r\n2020-10-28 08:23:56,009 main INFO Logging includes validator duties: true\r\n2020-10-28 08:23:56,009 main INFO Logging includes color: true\r\n08:23:56.015 INFO  - Teku version: teku/v0.12.12/osx-x86_64/oracle-java-11\r\n08:23:56.098 INFO  - Loading 1 validator keys...\r\n08:23:58.414 INFO  - BLS: loaded BLST library\r\n08:23:58.421 INFO  - Loaded 1 Validators: b6f52d7\r\n08:23:58.464 INFO  - Using default implementation for ThreadExecutor\r\n08:23:58.466 INFO  - Job execution threads will use class loader of thread: main\r\n08:23:58.475 INFO  - Initialized Scheduler Signaller of type: class org.quartz.core.SchedulerSignalerImpl\r\n08:23:58.475 INFO  - Quartz Scheduler v.2.3.2 created.\r\n08:23:58.476 INFO  - RAMJobStore initialized.\r\n08:23:58.476 INFO  - Scheduler meta-data: Quartz Scheduler (v2.3.2) 'DefaultQuartzScheduler' with instanceId 'NON_CLUSTERED'\r\n  Scheduler class: 'org.quartz.core.QuartzScheduler' - running locally.\r\n  NOT STARTED.\r\n  Currently in standby mode.\r\n  Number of jobs executed: 0\r\n  Using thread pool 'org.quartz.simpl.SimpleThreadPool' - with 10 threads.\r\n  Using job-store 'org.quartz.simpl.RAMJobStore' - which does not support persistence. and is not clustered.\r\n\r\n08:23:58.476 INFO  - Quartz scheduler 'DefaultQuartzScheduler' initialized from default resource file in Quartz package: 'quartz.properties'\r\n08:23:58.476 INFO  - Quartz scheduler version: 2.3.2\r\n08:23:58.605 INFO  - Storing beacon chain data in: /Users/patrice/eth2/teku/data/beacon\r\n08:23:58.605 INFO  - Starting metrics http service on 127.0.0.1:8008\r\n08:23:58.773 INFO  - Metrics service started and listening on 8008:8008\r\n08:23:58.776 INFO  - Beacon data directory set to: /Users/patrice/eth2/teku/data/beacon\r\n08:24:08.411 INFO  - Created V5 Hot database (5) at /Users/patrice/eth2/teku/data/beacon/db\r\n08:24:08.411 INFO  - Created V5 Finalized database (5) at /Users/patrice/eth2/teku/data/beacon/archive\r\n08:24:08.484 INFO  - Initializing storage\r\n08:27:24.126 INFO  - Regenerate state for block 0x755631b47ca8626bba564785df90782c3d8be1d88291cd3dbf71d5d3f1868b7b by replaying 22 blocks\r\n08:27:27.604 INFO  - Completed regeneration of block 0x755631b47ca8626bba564785df90782c3d8be1d88291cd3dbf71d5d3f1868b7b at slot 610274 by replaying 22 blocks. Took 3478ms\r\n08:27:48.438 INFO  - Regenerate state for block 0x148802706def6fe98d128667c348b78b1bcf5438822c8c96b704a11d92f267a7 by replaying 23 blocks\r\n08:27:51.134 INFO  - Completed regeneration of block 0x148802706def6fe98d128667c348b78b1bcf5438822c8c96b704a11d92f267a7 at slot 610272 by replaying 23 blocks. Took 2696ms\r\n08:27:51.301 INFO  - Regenerate state for block 0x4dcd267634cbe4758543c3e6b41762d24ea9ee60475f380e9ebbef399369bf91 by replaying 1 blocks\r\n08:27:51.372 INFO  - Completed regeneration of block 0x4dcd267634cbe4758543c3e6b41762d24ea9ee60475f380e9ebbef399369bf91 at slot 610283 by replaying 1 blocks. Took 71ms\r\n08:27:51.600 INFO  - Regenerate state for block 0x5d723d48fb1234d06c5cfd86eae69318081e8800d29958f4428a99db70581784 by replaying 1 blocks\r\n08:27:51.705 INFO  - Completed regeneration of block 0x5d723d48fb1234d06c5cfd86eae69318081e8800d29958f4428a99db70581784 at slot 610278 by replaying 1 blocks. Took 104ms\r\n08:27:52.276 INFO  - Regenerate state for block 0x4eecf8a967257f6a31d27cc060a20ee17ed509c5d577f4de6d8ca3479921f856 by replaying 1 blocks\r\n08:27:52.294 INFO  - Completed regeneration of block 0x4eecf8a967257f6a31d27cc060a20ee17ed509c5d577f4de6d8ca3479921f856 at slot 610279 by replaying 1 blocks. Took 18ms\r\n08:27:52.462 INFO  - Regenerate state for block 0xda20633e6e8574e7d556836ef8af9e9a638317782e95860504de24771ceb11c4 by replaying 1 blocks\r\n08:27:52.475 INFO  - Completed regeneration of block 0xda20633e6e8574e7d556836ef8af9e9a638317782e95860504de24771ceb11c4 at slot 610282 by replaying 1 blocks. Took 13ms\r\n08:27:52.648 INFO  - Regenerate state for block 0x0b6514e949c7e7911e5533b1fe6460bd47babe57ffaf0dce0d43189693faadd6 by replaying 1 blocks\r\n08:27:52.724 INFO  - Completed regeneration of block 0x0b6514e949c7e7911e5533b1fe6460bd47babe57ffaf0dce0d43189693faadd6 at slot 610285 by replaying 1 blocks. Took 75ms\r\n08:27:53.283 INFO  - Regenerate state for block 0x658d9a1d82ca79b97775583b8d053bc25f5527fc644682612ebc54c0c87c9906 by replaying 1 blocks\r\n08:27:53.296 INFO  - Completed regeneration of block 0x658d9a1d82ca79b97775583b8d053bc25f5527fc644682612ebc54c0c87c9906 at slot 610286 by replaying 1 blocks. Took 13ms\r\n08:27:53.473 INFO  - Regenerate state for block 0x3c4416fc70545e9fe036fa6b35dc1ac551f465501f72a669f2a0cc4a730b73e1 by replaying 1 blocks\r\n08:27:53.492 INFO  - Completed regeneration of block 0x3c4416fc70545e9fe036fa6b35dc1ac551f465501f72a669f2a0cc4a730b73e1 at slot 610290 by replaying 1 blocks. Took 19ms\r\n08:27:53.669 INFO  - Regenerate state for block 0xff45c6deb31f27cd571f9bf1c46609f27fca5995a25112c16536d4978ea1784a by replaying 1 blocks\r\n08:27:54.146 INFO  - Completed regeneration of block 0xff45c6deb31f27cd571f9bf1c46609f27fca5995a25112c16536d4978ea1784a at slot 610291 by replaying 1 blocks. Took 477ms\r\n08:27:54.333 INFO  - Regenerate state for block 0x4aac542817f436f4e77d50e9470dd7bbb5303f560cba109c41aa58e664bee8df by replaying 1 blocks\r\n08:27:54.353 INFO  - Completed regeneration of block 0x4aac542817f436f4e77d50e9470dd7bbb5303f560cba109c41aa58e664bee8df at slot 610293 by replaying 1 blocks. Took 19ms\r\n08:27:54.553 INFO  - Regenerate state for block 0x97d21769dc81ceec05db42d37fb96b570a47e35d6f2aa1444d9c4dbbe16bbed8 by replaying 1 blocks\r\n08:27:54.565 INFO  - Completed regeneration of block 0x97d21769dc81ceec05db42d37fb96b570a47e35d6f2aa1444d9c4dbbe16bbed8 at slot 610294 by replaying 1 blocks. Took 11ms\r\n08:27:54.565 INFO  - Storage initialization complete\r\n08:28:14.816 INFO  - Regenerate state for block 0x62591f06e5131c9f0f930eaaaef80e63044924f687a0372f46c81a9e2d34e26f by replaying 0 blocks\r\n08:28:14.819 INFO  - Completed regeneration of block 0x62591f06e5131c9f0f930eaaaef80e63044924f687a0372f46c81a9e2d34e26f at slot 610112 by replaying 0 blocks. Took 3ms\r\n08:28:18.516 INFO  - Loading generated p2p private key from: generated-node-key\r\njava.lang.OutOfMemoryError: Java heap space\r\nDumping heap to java_pid15729.hprof ...\r\nUnable to create java_pid15729.hprof: Permission denied\r\nDeserialization error with class: BeaconStateImpl\r\n Error: java.lang.reflect.InvocationTargetException\r\n08:28:56.042 ERROR - PLEASE FIX OR REPORT | Unexpected exception thrown for beaconchain-async-2\r\njava.util.concurrent.CompletionException: java.lang.IllegalStateException: Unread data detected.\r\n\tat java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331) ~[?:?]\r\n\tat java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346) ~[?:?]\r\n\tat java.util.concurrent.CompletableFuture$UniCompose.tryFire(CompletableFuture.java:1063) ~[?:?]\r\n\tat java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506) ~[?:?]\r\n\tat java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088) ~[?:?]\r\n\tat tech.pegasys.teku.infrastructure.async.SafeFuture.lambda$propagateResult$2(SafeFuture.java:130) ~[teku-infrastructure-async-0.12.12.jar:0.12.12]\r\n\tat java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:859) ~[?:?]\r\n\tat java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:837) ~[?:?]\r\n\tat java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506) ~[?:?]\r\n\tat java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088) ~[?:?]\r\n\tat tech.pegasys.teku.infrastructure.async.SafeFuture.lambda$propagateToAsync$11(SafeFuture.java:223) ~[teku-infrastructure-async-0.12.12.jar:0.12.12]\r\n\tat tech.pegasys.teku.infrastructure.async.SafeFuture.of(SafeFuture.java:77) ~[teku-infrastructure-async-0.12.12.jar:0.12.12]\r\n\tat tech.pegasys.teku.infrastructure.async.AsyncRunner.lambda$runAsync$1(AsyncRunner.java:35) ~[teku-infrastructure-async-0.12.12.jar:0.12.12]\r\n\tat tech.pegasys.teku.infrastructure.async.SafeFuture.ofComposed(SafeFuture.java:86) ~[teku-infrastructure-async-0.12.12.jar:0.12.12]\r\n\tat tech.pegasys.teku.infrastructure.async.ScheduledExecutorAsyncRunner.lambda$createRunnableForAction$1(ScheduledExecutorAsyncRunner.java:119) ~[teku-infrastructure-async-0.12.12.jar:0.12.12]\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) [?:?]\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) [?:?]\r\n\tat java.lang.Thread.run(Thread.java:834) [?:?]\r\nCaused by: java.lang.IllegalStateException: Unread data detected.\r\n\tat tech.pegasys.teku.datastructures.util.SimpleOffsetSerializer.assertAllDataRead(SimpleOffsetSerializer.java:232) ~[teku-ethereum-datastructures-0.12.12.jar:0.12.12]\r\n\tat tech.pegasys.teku.datastructures.util.SimpleOffsetSerializer.lambda$deserialize$1(SimpleOffsetSerializer.java:212) ~[teku-ethereum-datastructures-0.12.12.jar:0.12.12]\r\n\tat org.apache.tuweni.ssz.SSZ.decode(SSZ.java:1255) ~[tuweni-ssz-1.0.0.jar:1.0.0]\r\n\tat tech.pegasys.teku.datastructures.util.SimpleOffsetSerializer.deserialize(SimpleOffsetSerializer.java:207) ~[teku-ethereum-datastructures-0.12.12.jar:0.12.12]\r\n\tat tech.pegasys.teku.storage.server.rocksdb.serialization.SszSerializer.deserialize(SszSerializer.java:30) ~[teku-storage-0.12.12.jar:0.12.12]\r\n\tat tech.pegasys.teku.storage.server.rocksdb.serialization.SszSerializer.deserialize(SszSerializer.java:20) ~[teku-storage-0.12.12.jar:0.12.12]\r\n\tat tech.pegasys.teku.storage.server.rocksdb.core.RocksDbInstance.lambda$get$1(RocksDbInstance.java:79) ~[teku-storage-0.12.12.jar:0.12.12]\r\n\tat java.util.Optional.map(Optional.java:265) ~[?:?]\r\n\tat tech.pegasys.teku.storage.server.rocksdb.core.RocksDbInstance.get(RocksDbInstance.java:79) ~[teku-storage-0.12.12.jar:0.12.12]\r\n\tat tech.pegasys.teku.storage.server.rocksdb.dataaccess.V4HotRocksDbDao.getHotState(V4HotRocksDbDao.java:79) ~[teku-storage-0.12.12.jar:0.12.12]\r\n\tat tech.pegasys.teku.storage.server.rocksdb.RocksDbDatabase.getHotState(RocksDbDatabase.java:338) ~[teku-storage-0.12.12.jar:0.12.12]\r\n\tat tech.pegasys.teku.storage.server.ChainStorage.lambda$getHotBlockAndStateByBlockRoot$7(ChainStorage.java:139) ~[teku-storage-0.12.12.jar:0.12.12]\r\n\tat tech.pegasys.teku.infrastructure.async.SafeFuture.of(SafeFuture.java:77) ~[teku-infrastructure-async-0.12.12.jar:0.12.12]\r\n\tat tech.pegasys.teku.storage.server.ChainStorage.getHotBlockAndStateByBlockRoot(ChainStorage.java:136) ~[teku-storage-0.12.12.jar:0.12.12]\r\n\tat jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]\r\n\tat jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:?]\r\n\tat jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]\r\n\tat java.lang.reflect.Method.invoke(Method.java:566) ~[?:?]\r\n\tat tech.pegasys.teku.infrastructure.events.DirectEventDeliverer.executeMethod(DirectEventDeliverer.java:74) ~[teku-infrastructure-events-0.12.12.jar:0.12.12]\r\n\tat tech.pegasys.teku.infrastructure.events.DirectEventDeliverer.deliverToWithResponse(DirectEventDeliverer.java:67) ~[teku-infrastructure-events-0.12.12.jar:0.12.12]\r\n\tat tech.pegasys.teku.infrastructure.events.AsyncEventDeliverer.lambda$deliverToWithResponse$1(AsyncEventDeliverer.java:75) ~[teku-infrastructure-events-0.12.12.jar:0.12.12]\r\n\tat tech.pegasys.teku.infrastructure.events.AsyncEventDeliverer$QueueReader.deliverNextEvent(AsyncEventDeliverer.java:117) ~[teku-infrastructure-events-0.12.12.jar:0.12.12]\r\n\tat tech.pegasys.teku.infrastructure.events.AsyncEventDeliverer$QueueReader.run(AsyncEventDeliverer.java:109) ~[teku-infrastructure-events-0.12.12.jar:0.12.12]\r\n\t... 3 more\r\n08:28:56.328 INFO  - PreGenesis Local ENR: enr:-KG4QNqagWZQc5rFH34ftRLfSWxKqus07Y8nhMGB-JeOorx2epyd9h_OfNjkfXIxrH3Hq2F3N08KU_0oMh52oa1lJc83hGV0aDKQGK5MywAAAAH__________4JpZIJ2NIJpcIR_AAABiXNlY3AyNTZrMaEDdEdZzAX98GUWv3uoukXbkZHOlNxI5pPRfLCb2gFWbWaDdGNwgiMpg3VkcIIjKQ\r\n08:28:56.424 INFO  - Logging initialized @301893ms to org.eclipse.jetty.util.log.Slf4jLog\r\n08:28:56.539 INFO  - Starting Javalin ...\r\n08:28:56.646 INFO  - Listening on http://localhost:5051/\r\n08:28:56.646 INFO  - Javalin started in 108ms \\o/\r\n08:28:56.662 INFO  - Waiting for genesis data to be known\r\n08:28:56.671 INFO  - Scheduler DefaultQuartzScheduler_$_NON_CLUSTERED started.\r\n08:28:57.573 INFO  - Eth1 tracker successfully caught up to chain head\r\n08:28:57.859 INFO  - The latest finalized checkpoint at epoch 15614 (74606 active validators) fell outside of the weak subjectivity period after epoch 16802, which is prior to the current epoch 19073.\r\n08:28:57.859 INFO  - The latest finalized checkpoint at epoch 15614 is outside of the weak subjectivity period.  Please supply a recent weak subjectivity checkpoint using --ws-checkpoint=<BLOCK_ROOT>:<EPOCH>.\r\n08:29:06.733 INFO  - Waiting for genesis data to be known\r\n08:29:15.204 INFO  - Regenerate state for block 0x62591f06e5131c9f0f930eaaaef80e63044924f687a0372f46c81a9e2d34e26f by replaying 0 blocks\r\n08:29:15.208 INFO  - Completed regeneration of block 0x62591f06e5131c9f0f930eaaaef80e63044924f687a0372f46c81a9e2d34e26f at slot 610112 by replaying 0 blocks. Took 4ms\r\n08:29:16.943 INFO  - Waiting for genesis data to be known\r\n08:29:27.295 INFO  - Waiting for genesis data to be known\r\n08:29:37.689 INFO  - Waiting for genesis data to be known\r\n08:29:48.635 INFO  - Waiting for genesis data to be known\r\n^CTeku is shutting down\r\n08:30:17.578 INFO  - Stopping Javalin ...\r\n08:30:17.578 INFO  - Javalin has stopped\r\n08:30:17.578 INFO  - Scheduler DefaultQuartzScheduler_$_NON_CLUSTERED shutting down.\r\n08:30:18.040 INFO  - Scheduler DefaultQuartzScheduler_$_NON_CLUSTERED paused.\r\n08:30:18.040 INFO  - Scheduler DefaultQuartzScheduler_$_NON_CLUSTERED shutdown complete.\r\n```\r\n\r\n\r\n**Frequency:** [What percentage of the time does it occur?]\r\n\r\nOnly tried once. \r\nIncreased to 3g after initial failure to work around.\r\n\r\n### Versions (Add all that apply)\r\n* Software version: teku/v0.12.12/osx-x86_64/oracle-java-11\r\n* Java version: \"11.0.1\" 2018-10-16 LTS\r\n* OS Name & Version: macOs Catalina 10.15.7\r\n\r\n\r\n### Additional Information\r\n\r\n```\r\ncat  /Users/patrice/eth2/teku/teku.yaml\r\ndata-path: \"/Users/patrice/eth2/teku/data\"\r\nnetwork: \"medalla\"\r\neth1-endpoint: \"https://goerli.infura.io/v3/XXXXXXXXXOBFUSCATEDXXXXXXXXXXXXX\"\r\nvalidators-key-files: [\r\n  \"/Users/patrice/eth2/validator_keys/keystore-m_12381_3600_0_0_0-1596085936.json\"\r\n]\r\nvalidators-key-password-files: [\r\n  \"/Users/patrice/eth2/teku/validators-password.txt\"\r\n]\r\nvalidators-graffiti: \"poapAAenXZ/Teo00FGXlDtfAh06xYHYB\"\r\np2p-port: 9001\r\nlog-destination: CONSOLE\r\nmetrics-enabled: true\r\nmetrics-port: 8008\r\nrest-api-enabled: true\r\nrest-api-docs-enabled: true\r\n```\r\n",
  "closed_by": {
    "login": "ajsutton",
    "id": 72675,
    "node_id": "MDQ6VXNlcjcyNjc1",
    "avatar_url": "https://avatars.githubusercontent.com/u/72675?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/ajsutton",
    "html_url": "https://github.com/ajsutton",
    "followers_url": "https://api.github.com/users/ajsutton/followers",
    "following_url": "https://api.github.com/users/ajsutton/following{/other_user}",
    "gists_url": "https://api.github.com/users/ajsutton/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/ajsutton/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/ajsutton/subscriptions",
    "organizations_url": "https://api.github.com/users/ajsutton/orgs",
    "repos_url": "https://api.github.com/users/ajsutton/repos",
    "events_url": "https://api.github.com/users/ajsutton/events{/privacy}",
    "received_events_url": "https://api.github.com/users/ajsutton/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ConsenSys/teku/issues/3103/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ConsenSys/teku/issues/3103/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ConsenSys/teku/issues/comments/718323507",
    "html_url": "https://github.com/ConsenSys/teku/issues/3103#issuecomment-718323507",
    "issue_url": "https://api.github.com/repos/ConsenSys/teku/issues/3103",
    "id": 718323507,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcxODMyMzUwNw==",
    "user": {
      "login": "ajsutton",
      "id": 72675,
      "node_id": "MDQ6VXNlcjcyNjc1",
      "avatar_url": "https://avatars.githubusercontent.com/u/72675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ajsutton",
      "html_url": "https://github.com/ajsutton",
      "followers_url": "https://api.github.com/users/ajsutton/followers",
      "following_url": "https://api.github.com/users/ajsutton/following{/other_user}",
      "gists_url": "https://api.github.com/users/ajsutton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ajsutton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ajsutton/subscriptions",
      "organizations_url": "https://api.github.com/users/ajsutton/orgs",
      "repos_url": "https://api.github.com/users/ajsutton/repos",
      "events_url": "https://api.github.com/users/ajsutton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ajsutton/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-10-29T02:43:30Z",
    "updated_at": "2020-10-29T02:43:30Z",
    "author_association": "CONTRIBUTOR",
    "body": "Thanks for raising this. We are seeing higher than intended memory usage on Medalla because of the very long time its gone without finalisation and are currently tracking that via #2832.  I'm going to close this one in favour of that existing ticket.\n\nA change did land today which dramatically reduces CPU usage and will likely reduce memory requirements as well because queues won't build up (they have a limited size but being full does still use more memory).  There is likely further work required but it will likely help in at least some situations.",
    "reactions": {
      "url": "https://api.github.com/repos/ConsenSys/teku/issues/comments/718323507/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ConsenSys/teku/issues/comments/720348623",
    "html_url": "https://github.com/ConsenSys/teku/issues/3103#issuecomment-720348623",
    "issue_url": "https://api.github.com/repos/ConsenSys/teku/issues/3103",
    "id": 720348623,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcyMDM0ODYyMw==",
    "user": {
      "login": "Nashatyrev",
      "id": 8173857,
      "node_id": "MDQ6VXNlcjgxNzM4NTc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8173857?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Nashatyrev",
      "html_url": "https://github.com/Nashatyrev",
      "followers_url": "https://api.github.com/users/Nashatyrev/followers",
      "following_url": "https://api.github.com/users/Nashatyrev/following{/other_user}",
      "gists_url": "https://api.github.com/users/Nashatyrev/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Nashatyrev/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Nashatyrev/subscriptions",
      "organizations_url": "https://api.github.com/users/Nashatyrev/orgs",
      "repos_url": "https://api.github.com/users/Nashatyrev/repos",
      "events_url": "https://api.github.com/users/Nashatyrev/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Nashatyrev/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-11-02T09:23:34Z",
    "updated_at": "2020-11-02T09:23:34Z",
    "author_association": "CONTRIBUTOR",
    "body": "Relates to #3031 ",
    "reactions": {
      "url": "https://api.github.com/repos/ConsenSys/teku/issues/comments/720348623/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
