{
  "url": "https://api.github.com/repos/ConsenSys/teku/issues/3634",
  "repository_url": "https://api.github.com/repos/ConsenSys/teku",
  "labels_url": "https://api.github.com/repos/ConsenSys/teku/issues/3634/labels{/name}",
  "comments_url": "https://api.github.com/repos/ConsenSys/teku/issues/3634/comments",
  "events_url": "https://api.github.com/repos/ConsenSys/teku/issues/3634/events",
  "html_url": "https://github.com/ConsenSys/teku/issues/3634",
  "id": 811749046,
  "node_id": "MDU6SXNzdWU4MTE3NDkwNDY=",
  "number": 3634,
  "title": "Get node syncing status API is missing the is_syncing field",
  "user": {
    "login": "jclapis",
    "id": 627896,
    "node_id": "MDQ6VXNlcjYyNzg5Ng==",
    "avatar_url": "https://avatars.githubusercontent.com/u/627896?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/jclapis",
    "html_url": "https://github.com/jclapis",
    "followers_url": "https://api.github.com/users/jclapis/followers",
    "following_url": "https://api.github.com/users/jclapis/following{/other_user}",
    "gists_url": "https://api.github.com/users/jclapis/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/jclapis/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/jclapis/subscriptions",
    "organizations_url": "https://api.github.com/users/jclapis/orgs",
    "repos_url": "https://api.github.com/users/jclapis/repos",
    "events_url": "https://api.github.com/users/jclapis/events{/privacy}",
    "received_events_url": "https://api.github.com/users/jclapis/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2021-02-19T06:45:37Z",
  "updated_at": "2021-02-21T20:48:47Z",
  "closed_at": "2021-02-21T20:48:47Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "### Description\r\nHi! I'm working with the REST API for Teku. I noticed that in the official documentation for [Get node syncing status](https://consensys.github.io/teku/#operation/getEthV1NodeSyncing), there is a field named `is_syncing` which indicates whether or not the client is still syncing with the beacon chain. However, when I hit this endpoint, the `is_syncing` field is missing:\r\n\r\n```\r\n$ curl http://localhost:5052/eth/v1/node/syncing\r\n{\"data\":{\"head_slot\":\"52\",\"sync_distance\":\"667925\"}}\r\n```\r\n\r\nAs a workaround, I have to check if `sync_distance` is within some small margin (e.g. less than 3) in order to determine if the client is still syncing or not.\r\n\r\n### Steps to Reproduce (Bug)\r\n1. See example shown above\r\n\r\n**Expected behavior:** [What you expect to happen]\r\n```\r\n{\"data\":{\"head_slot\":\"52\",\"sync_distance\":\"667925\",\"is_syncing\":true}}\r\n```\r\n\r\n**Actual behavior:** [What actually happens]\r\n```\r\n{\"data\":{\"head_slot\":\"52\",\"sync_distance\":\"667925\"}}\r\n```\r\n\r\n**Frequency:** [What percentage of the time does it occur?]\r\n100%\r\n\r\n### Versions (Add all that apply)\r\n* Software version: v21.1.1\r\n* Java version: openjdk 14.0.2 2020-07-14\r\n* OS Name & Version: Ubuntu 20.04.2 LTS\r\n* Kernel Version: Linux dev-pi 5.4.0-1028-raspi #31-Ubuntu SMP PREEMPT Wed Jan 20 11:30:45 UTC 2021 aarch64 aarch64 aarch64 GNU/Linux\r\n* Virtual Machine software & version: N/A\r\n* Docker Version: N/A\r\n* Cloud VM, type, size: N/A\r\n",
  "closed_by": {
    "login": "ajsutton",
    "id": 72675,
    "node_id": "MDQ6VXNlcjcyNjc1",
    "avatar_url": "https://avatars.githubusercontent.com/u/72675?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/ajsutton",
    "html_url": "https://github.com/ajsutton",
    "followers_url": "https://api.github.com/users/ajsutton/followers",
    "following_url": "https://api.github.com/users/ajsutton/following{/other_user}",
    "gists_url": "https://api.github.com/users/ajsutton/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/ajsutton/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/ajsutton/subscriptions",
    "organizations_url": "https://api.github.com/users/ajsutton/orgs",
    "repos_url": "https://api.github.com/users/ajsutton/repos",
    "events_url": "https://api.github.com/users/ajsutton/events{/privacy}",
    "received_events_url": "https://api.github.com/users/ajsutton/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ConsenSys/teku/issues/3634/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ConsenSys/teku/issues/3634/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ConsenSys/teku/issues/comments/782840312",
    "html_url": "https://github.com/ConsenSys/teku/issues/3634#issuecomment-782840312",
    "issue_url": "https://api.github.com/repos/ConsenSys/teku/issues/3634",
    "id": 782840312,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc4Mjg0MDMxMg==",
    "user": {
      "login": "ghost",
      "id": 10137,
      "node_id": "MDQ6VXNlcjEwMTM3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ghost",
      "html_url": "https://github.com/ghost",
      "followers_url": "https://api.github.com/users/ghost/followers",
      "following_url": "https://api.github.com/users/ghost/following{/other_user}",
      "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ghost/subscriptions",
      "organizations_url": "https://api.github.com/users/ghost/orgs",
      "repos_url": "https://api.github.com/users/ghost/repos",
      "events_url": "https://api.github.com/users/ghost/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ghost/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-02-21T11:15:24Z",
    "updated_at": "2021-02-21T11:15:24Z",
    "author_association": "NONE",
    "body": "Hello, I confirm the above and the absence of the is_syncing field. In a production fully sync node the result is:\r\n\r\n```\r\ncurl http://localhost:5051/eth/v1/node/syncing\r\n{\"data\":{\"head_slot\":\"590150\",\"sync_distance\":\"0\"}}\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/ConsenSys/teku/issues/comments/782840312/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ConsenSys/teku/issues/comments/782924076",
    "html_url": "https://github.com/ConsenSys/teku/issues/3634#issuecomment-782924076",
    "issue_url": "https://api.github.com/repos/ConsenSys/teku/issues/3634",
    "id": 782924076,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc4MjkyNDA3Ng==",
    "user": {
      "login": "ajsutton",
      "id": 72675,
      "node_id": "MDQ6VXNlcjcyNjc1",
      "avatar_url": "https://avatars.githubusercontent.com/u/72675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ajsutton",
      "html_url": "https://github.com/ajsutton",
      "followers_url": "https://api.github.com/users/ajsutton/followers",
      "following_url": "https://api.github.com/users/ajsutton/following{/other_user}",
      "gists_url": "https://api.github.com/users/ajsutton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ajsutton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ajsutton/subscriptions",
      "organizations_url": "https://api.github.com/users/ajsutton/orgs",
      "repos_url": "https://api.github.com/users/ajsutton/repos",
      "events_url": "https://api.github.com/users/ajsutton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ajsutton/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-02-21T20:48:47Z",
    "updated_at": "2021-02-21T20:48:47Z",
    "author_association": "CONTRIBUTOR",
    "body": "Thanks for reporting this - the `is_syncing` field was only quite recently added to the standard API and to Teku (in #3528) so it hasn't been included in a release yet.  The API docs appear to be defaulting to lastest/master version - there's a toggle at the top of the page to choose the right version, but unfortunately doesn't look like links to a specific method maintain the version, which may well have led to this confusion.\r\n\r\nI'll close this one as the field will be there when the next release goes out but have logged https://github.com/ConsenSys/doc.teku/issues/255 and https://github.com/ConsenSys/doc.teku/issues/256 to get the doc links issue fixed.",
    "reactions": {
      "url": "https://api.github.com/repos/ConsenSys/teku/issues/comments/782924076/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
