{
  "url": "https://api.github.com/repos/ConsenSys/teku/issues/2565",
  "repository_url": "https://api.github.com/repos/ConsenSys/teku",
  "labels_url": "https://api.github.com/repos/ConsenSys/teku/issues/2565/labels{/name}",
  "comments_url": "https://api.github.com/repos/ConsenSys/teku/issues/2565/comments",
  "events_url": "https://api.github.com/repos/ConsenSys/teku/issues/2565/events",
  "html_url": "https://github.com/ConsenSys/teku/issues/2565",
  "id": 677933245,
  "node_id": "MDU6SXNzdWU2Nzc5MzMyNDU=",
  "number": 2565,
  "title": "Get rid of warning noise when building",
  "user": {
    "login": "benjaminion",
    "id": 20796281,
    "node_id": "MDQ6VXNlcjIwNzk2Mjgx",
    "avatar_url": "https://avatars.githubusercontent.com/u/20796281?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/benjaminion",
    "html_url": "https://github.com/benjaminion",
    "followers_url": "https://api.github.com/users/benjaminion/followers",
    "following_url": "https://api.github.com/users/benjaminion/following{/other_user}",
    "gists_url": "https://api.github.com/users/benjaminion/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/benjaminion/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/benjaminion/subscriptions",
    "organizations_url": "https://api.github.com/users/benjaminion/orgs",
    "repos_url": "https://api.github.com/users/benjaminion/repos",
    "events_url": "https://api.github.com/users/benjaminion/events{/privacy}",
    "received_events_url": "https://api.github.com/users/benjaminion/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2020-08-12T19:45:20Z",
  "updated_at": "2022-01-03T16:16:49Z",
  "closed_at": "2020-11-27T09:30:17Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "Building from source as per our instructions results in warnings that users may find confusing or concerning. The `WARNING` bits and the `illegal` bits are especially troubling.\r\n\r\n```\r\n ./gradlew installDist\r\nStarting a Gradle Daemon (subsequent builds will be faster)\r\nConfiguration on demand is an incubating feature.\r\n\r\n> Task :errorprone-checks:compileJava\r\nNote: /home/ben/Everything/ConsenSys/teku/errorprone-checks/src/main/java/tech/pegasys/errorpronechecks/DoNotInvokeMessageDigestDirectly.java uses or overrides a deprecated API.\r\nNote: Recompile with -Xlint:deprecation for details.\r\nWARNING: An illegal reflective access operation has occurred\r\nWARNING: Illegal reflective access by com.google.errorprone.bugpatterns.FutureReturnValueIgnored (file:/home/ben/.gradle/caches/modules-2/files-2.1/com.google.errorprone/error_prone_core/2.4.0/ae8ef63e28e269972672797175f195a59edde69b/error_prone_core-2.4.0.jar) to field com.sun.tools.javac.code.Type$StructuralTypeMapping$4.this$0\r\nWARNING: Please consider reporting this to the maintainers of com.google.errorprone.bugpatterns.FutureReturnValueIgnored\r\nWARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\r\nWARNING: All illegal access operations will be denied in a future release\r\n\r\n> Task :logging:compileJava\r\nNote: Processing Log4j annotations\r\nNote: Annotations processed\r\nNote: Processing Log4j annotations\r\nNote: No elements to process\r\n\r\n> Task :services:powchain:compileJava\r\nNote: /home/ben/Everything/ConsenSys/teku/services/powchain/src/main/java/tech/pegasys/teku/services/powchain/DepositTransactionSender.java uses or overrides a deprecated API.\r\nNote: Recompile with -Xlint:deprecation for details.\r\n\r\nDeprecated Gradle features were used in this build, making it incompatible with Gradle 7.0.\r\nUse '--warning-mode all' to show the individual deprecation warnings.\r\nSee https://docs.gradle.org/6.5.1/userguide/command_line_interface.html#sec:command_line_warnings\r\n\r\nBUILD SUCCESSFUL in 39s\r\n73 actionable tasks: 73 executed\r\n```\r\n\r\nIt would be good to get rid of all the `WARNING` and `Note:` lines so that good builds look clean. If something actually goes wrong, then clearly notify the user as usual.",
  "closed_by": {
    "login": "benjaminion",
    "id": 20796281,
    "node_id": "MDQ6VXNlcjIwNzk2Mjgx",
    "avatar_url": "https://avatars.githubusercontent.com/u/20796281?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/benjaminion",
    "html_url": "https://github.com/benjaminion",
    "followers_url": "https://api.github.com/users/benjaminion/followers",
    "following_url": "https://api.github.com/users/benjaminion/following{/other_user}",
    "gists_url": "https://api.github.com/users/benjaminion/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/benjaminion/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/benjaminion/subscriptions",
    "organizations_url": "https://api.github.com/users/benjaminion/orgs",
    "repos_url": "https://api.github.com/users/benjaminion/repos",
    "events_url": "https://api.github.com/users/benjaminion/events{/privacy}",
    "received_events_url": "https://api.github.com/users/benjaminion/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ConsenSys/teku/issues/2565/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ConsenSys/teku/issues/2565/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ConsenSys/teku/issues/comments/734738529",
    "html_url": "https://github.com/ConsenSys/teku/issues/2565#issuecomment-734738529",
    "issue_url": "https://api.github.com/repos/ConsenSys/teku/issues/2565",
    "id": 734738529,
    "node_id": "MDEyOklzc3VlQ29tbWVudDczNDczODUyOQ==",
    "user": {
      "login": "benjaminion",
      "id": 20796281,
      "node_id": "MDQ6VXNlcjIwNzk2Mjgx",
      "avatar_url": "https://avatars.githubusercontent.com/u/20796281?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/benjaminion",
      "html_url": "https://github.com/benjaminion",
      "followers_url": "https://api.github.com/users/benjaminion/followers",
      "following_url": "https://api.github.com/users/benjaminion/following{/other_user}",
      "gists_url": "https://api.github.com/users/benjaminion/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/benjaminion/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/benjaminion/subscriptions",
      "organizations_url": "https://api.github.com/users/benjaminion/orgs",
      "repos_url": "https://api.github.com/users/benjaminion/repos",
      "events_url": "https://api.github.com/users/benjaminion/events{/privacy}",
      "received_events_url": "https://api.github.com/users/benjaminion/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-11-27T09:30:17Z",
    "updated_at": "2020-11-27T09:30:17Z",
    "author_association": "CONTRIBUTOR",
    "body": "Not sure what changed, but this is now significantly less scary:\n\n```\n$ ./gradlew installDist\nConfiguration on demand is an incubating feature.\n\n> Task :errorprone-checks:compileJava\nNote: /home/ben/teku/errorprone-checks/src/main/java/tech/pegasys/errorpronechecks/DoNotInvokeMessageDigestDirectly.java uses or overrides a deprecated API.\nNote: Recompile with -Xlint:deprecation for details.\n\n> Task :infrastructure:metrics:compileJava\nNote: /home/ben/teku/infrastructure/metrics/src/main/java/tech/pegasys/teku/infrastructure/metrics/MetricsEndpoint.java uses or overrides a deprecated API.\nNote: Recompile with -Xlint:deprecation for details.\n\n> Task :infrastructure:logging:compileJava\nNote: Processing Log4j annotations\nNote: Annotations processed\nNote: Processing Log4j annotations\nNote: No elements to process\n\n> Task :services:serviceutils:compileJava\nNote: /home/ben/teku/services/serviceutils/src/main/java/tech/pegasys/teku/service/serviceutils/ServiceConfig.java uses or overrides a deprecated API.\nNote: Recompile with -Xlint:deprecation for details.\n\n> Task :validator:client:compileJava\nNote: Some input files use or override a deprecated API.\nNote: Recompile with -Xlint:deprecation for details.\n\n> Task :data:beaconrestapi:compileJava\nNote: /home/ben/teku/data/beaconrestapi/src/main/java/tech/pegasys/teku/beaconrestapi/BeaconRestApi.java uses or overrides a deprecated API.\nNote: Recompile with -Xlint:deprecation for details.\n\n> Task :services:powchain:compileJava\nNote: /home/ben/teku/services/powchain/src/main/java/tech/pegasys/teku/services/powchain/PowchainService.java uses or overrides a deprecated API.\nNote: Recompile with -Xlint:deprecation for details.\n\n> Task :services:beaconchain:compileJava\nNote: /home/ben/teku/services/beaconchain/src/main/java/tech/pegasys/teku/services/beaconchain/BeaconChainController.java uses or overrides a deprecated API.\nNote: Recompile with -Xlint:deprecation for details.\n\n> Task :services:chainstorage:compileJava\nNote: /home/ben/teku/services/chainstorage/src/main/java/tech/pegasys/teku/services/chainstorage/StorageService.java uses or overrides a deprecated API.\nNote: Recompile with -Xlint:deprecation for details.\n\n> Task :teku:compileJava\nNote: Some input files use or override a deprecated API.\nNote: Recompile with -Xlint:deprecation for details.\n\nDeprecated Gradle features were used in this build, making it incompatible with Gradle 7.0.\nUse '--warning-mode all' to show the individual deprecation warnings.\nSee https://docs.gradle.org/6.5.1/userguide/command_line_interface.html#sec:command_line_warnings\n\nBUILD SUCCESSFUL in 42s\n97 actionable tasks: 97 executed\n```\n\nI can live with the notes about overriding a deprecated API, although it would be nice to deal with them sometime. Closing.",
    "reactions": {
      "url": "https://api.github.com/repos/ConsenSys/teku/issues/comments/734738529/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ConsenSys/teku/issues/comments/1004200141",
    "html_url": "https://github.com/ConsenSys/teku/issues/2565#issuecomment-1004200141",
    "issue_url": "https://api.github.com/repos/ConsenSys/teku/issues/2565",
    "id": 1004200141,
    "node_id": "IC_kwDOCM9I9M472uDN",
    "user": {
      "login": "EvilJordan",
      "id": 1364262,
      "node_id": "MDQ6VXNlcjEzNjQyNjI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1364262?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/EvilJordan",
      "html_url": "https://github.com/EvilJordan",
      "followers_url": "https://api.github.com/users/EvilJordan/followers",
      "following_url": "https://api.github.com/users/EvilJordan/following{/other_user}",
      "gists_url": "https://api.github.com/users/EvilJordan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/EvilJordan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/EvilJordan/subscriptions",
      "organizations_url": "https://api.github.com/users/EvilJordan/orgs",
      "repos_url": "https://api.github.com/users/EvilJordan/repos",
      "events_url": "https://api.github.com/users/EvilJordan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/EvilJordan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-01-03T16:16:49Z",
    "updated_at": "2022-01-03T16:16:49Z",
    "author_association": "NONE",
    "body": "This is (still) occurring in the latest build:\r\n\r\n```\r\n[16:12:26] eviljordan@moo /home/eviljordan/teku $ sudo ./gradlew installDist\r\nDownloading https://services.gradle.org/distributions/gradle-7.3.2-bin.zip\r\n...........10%...........20%...........30%...........40%...........50%...........60%...........70%...........80%...........90%...........100%\r\n\r\nWelcome to Gradle 7.3.2!\r\n\r\nHere are the highlights of this release:\r\n - Easily declare new test suites in Java projects\r\n - Support for Java 17\r\n - Support for Scala 3\r\n\r\nFor more details see https://docs.gradle.org/7.3.2/release-notes.html\r\n\r\nStarting a Gradle Daemon (subsequent builds will be faster)\r\nConfiguration on demand is an incubating feature.\r\n\r\n> Configure project :\r\nJMH in: eth-benchmark-tests\r\n\r\n> Task :infrastructure:unsigned:compileJava\r\nWARNING: An illegal reflective access operation has occurred\r\nWARNING: Illegal reflective access by com.google.errorprone.util.ErrorProneTokens$CommentSavingTokenizer (file:/root/.gradle/caches/modules-2/files-2.1/com.google.errorprone/error_prone_check_api/2.10.0/6203cac373051702c0cf8ca0bd36332fdc64903f/error_prone_check_api-2.10.0.jar) to field com.sun.tools.javac.parser.JavaTokenizer.reader\r\nWARNING: Please consider reporting this to the maintainers of com.google.errorprone.util.ErrorProneTokens$CommentSavingTokenizer\r\nWARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\r\nWARNING: All illegal access operations will be denied in a future release\r\n\r\n> Task :infrastructure:version:compileJava\r\nWARNING: An illegal reflective access operation has occurred\r\nWARNING: Illegal reflective access by com.google.errorprone.util.ErrorProneTokens$CommentSavingTokenizer (file:/root/.gradle/caches/modules-2/files-2.1/com.google.errorprone/error_prone_check_api/2.10.0/6203cac373051702c0cf8ca0bd36332fdc64903f/error_prone_check_api-2.10.0.jar) to field com.sun.tools.javac.parser.JavaTokenizer.reader\r\nWARNING: Please consider reporting this to the maintainers of com.google.errorprone.util.ErrorProneTokens$CommentSavingTokenizer\r\nWARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\r\nWARNING: All illegal access operations will be denied in a future release\r\n\r\n> Task :infrastructure:collections:compileJava\r\nWARNING: An illegal reflective access operation has occurred\r\nWARNING: Illegal reflective access by com.google.errorprone.util.ErrorProneTokens$CommentSavingTokenizer (file:/root/.gradle/caches/modules-2/files-2.1/com.google.errorprone/error_prone_check_api/2.10.0/6203cac373051702c0cf8ca0bd36332fdc64903f/error_prone_check_api-2.10.0.jar) to field com.sun.tools.javac.parser.JavaTokenizer.reader\r\nWARNING: Please consider reporting this to the maintainers of com.google.errorprone.util.ErrorProneTokens$CommentSavingTokenizer\r\nWARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\r\nWARNING: All illegal access operations will be denied in a future release\r\n\r\n> Task :infrastructure:http:compileJava\r\nWARNING: An illegal reflective access operation has occurred\r\nWARNING: Illegal reflective access by com.google.errorprone.util.ErrorProneTokens$CommentSavingTokenizer (file:/root/.gradle/caches/modules-2/files-2.1/com.google.errorprone/error_prone_check_api/2.10.0/6203cac373051702c0cf8ca0bd36332fdc64903f/error_prone_check_api-2.10.0.jar) to field com.sun.tools.javac.parser.JavaTokenizer.reader\r\nWARNING: Please consider reporting this to the maintainers of com.google.errorprone.util.ErrorProneTokens$CommentSavingTokenizer\r\nWARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\r\nWARNING: All illegal access operations will be denied in a future release\r\n\r\n> Task :infrastructure:subscribers:compileJava\r\nWARNING: An illegal reflective access operation has occurred\r\nWARNING: Illegal reflective access by com.google.errorprone.util.ErrorProneTokens$CommentSavingTokenizer (file:/root/.gradle/caches/modules-2/files-2.1/com.google.errorprone/error_prone_check_api/2.10.0/6203cac373051702c0cf8ca0bd36332fdc64903f/error_prone_check_api-2.10.0.jar) to field com.sun.tools.javac.parser.JavaTokenizer.reader\r\nWARNING: Please consider reporting this to the maintainers of com.google.errorprone.util.ErrorProneTokens$CommentSavingTokenizer\r\nWARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\r\nWARNING: All illegal access operations will be denied in a future release\r\n\r\n> Task :infrastructure:crypto:compileJava\r\nWARNING: An illegal reflective access operation has occurred\r\nWARNING: Illegal reflective access by com.google.errorprone.util.ErrorProneTokens$CommentSavingTokenizer (file:/root/.gradle/caches/modules-2/files-2.1/com.google.errorprone/error_prone_check_api/2.10.0/6203cac373051702c0cf8ca0bd36332fdc64903f/error_prone_check_api-2.10.0.jar) to field com.sun.tools.javac.parser.JavaTokenizer.reader\r\nWARNING: Please consider reporting this to the maintainers of com.google.errorprone.util.ErrorProneTokens$CommentSavingTokenizer\r\nWARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\r\nWARNING: All illegal access operations will be denied in a future release\r\n\r\n> Task :infrastructure:logging:compileJava\r\nWARNING: An illegal reflective access operation has occurred\r\nWARNING: Illegal reflective access by com.google.errorprone.util.ErrorProneTokens$CommentSavingTokenizer (file:/root/.gradle/caches/modules-2/files-2.1/com.google.errorprone/error_prone_check_api/2.10.0/6203cac373051702c0cf8ca0bd36332fdc64903f/error_prone_check_api-2.10.0.jar) to field com.sun.tools.javac.parser.JavaTokenizer.reader\r\nWARNING: Please consider reporting this to the maintainers of com.google.errorprone.util.ErrorProneTokens$CommentSavingTokenizer\r\nWARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\r\nWARNING: All illegal access operations will be denied in a future release\r\n\r\n> Task :ethereum:spec:compileJava\r\nNote: Some input files use or override a deprecated API.\r\nNote: Recompile with -Xlint:deprecation for details.\r\n\r\n> Task :data:serializer:compileJava\r\nNote: Some input files use or override a deprecated API.\r\nNote: Recompile with -Xlint:deprecation for details.\r\n\r\n> Task :pow:compileJava\r\nNote: Some input files use or override a deprecated API.\r\nNote: Recompile with -Xlint:deprecation for details.\r\n\r\n> Task :ethereum:weaksubjectivity:compileJava\r\nNote: /home/eviljordan/teku/ethereum/weaksubjectivity/src/main/java/tech/pegasys/teku/weaksubjectivity/policies/LoggingWeakSubjectivityViolationPolicy.java uses or overrides a deprecated API.\r\nNote: Recompile with -Xlint:deprecation for details.\r\n\r\n> Task :ethereum:statetransition:compileJava\r\nNote: Some input files use or override a deprecated API.\r\nNote: Recompile with -Xlint:deprecation for details.\r\n\r\n> Task :sync:compileJava\r\nNote: /home/eviljordan/teku/sync/src/main/java/tech/pegasys/teku/sync/forward/multipeer/SyncStallDetector.java uses or overrides a deprecated API.\r\nNote: Recompile with -Xlint:deprecation for details.\r\n\r\n> Task :validator:remote:compileJava\r\nNote: /home/eviljordan/teku/validator/remote/src/main/java/tech/pegasys/teku/validator/remote/EventSourceBeaconChainEventAdapter.java uses or overrides a deprecated API.\r\nNote: Recompile with -Xlint:deprecation for details.\r\n\r\n> Task :services:beaconchain:compileJava\r\nNote: /home/eviljordan/teku/services/beaconchain/src/main/java/tech/pegasys/teku/services/beaconchain/WeakSubjectivityInitializer.java uses or overrides a deprecated API.\r\nNote: Recompile with -Xlint:deprecation for details.\r\n\r\n> Task :teku:compileJava\r\nNote: Some input files use or override a deprecated API.\r\nNote: Recompile with -Xlint:deprecation for details.\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/ConsenSys/teku/issues/comments/1004200141/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
