{
  "url": "https://api.github.com/repos/ConsenSys/teku/issues/2143",
  "repository_url": "https://api.github.com/repos/ConsenSys/teku",
  "labels_url": "https://api.github.com/repos/ConsenSys/teku/issues/2143/labels{/name}",
  "comments_url": "https://api.github.com/repos/ConsenSys/teku/issues/2143/comments",
  "events_url": "https://api.github.com/repos/ConsenSys/teku/issues/2143/events",
  "html_url": "https://github.com/ConsenSys/teku/issues/2143",
  "id": 638289035,
  "node_id": "MDU6SXNzdWU2MzgyODkwMzU=",
  "number": 2143,
  "title": "Error on received attestation",
  "user": {
    "login": "ajsutton",
    "id": 72675,
    "node_id": "MDQ6VXNlcjcyNjc1",
    "avatar_url": "https://avatars.githubusercontent.com/u/72675?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/ajsutton",
    "html_url": "https://github.com/ajsutton",
    "followers_url": "https://api.github.com/users/ajsutton/followers",
    "following_url": "https://api.github.com/users/ajsutton/following{/other_user}",
    "gists_url": "https://api.github.com/users/ajsutton/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/ajsutton/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/ajsutton/subscriptions",
    "organizations_url": "https://api.github.com/users/ajsutton/orgs",
    "repos_url": "https://api.github.com/users/ajsutton/repos",
    "events_url": "https://api.github.com/users/ajsutton/events{/privacy}",
    "received_events_url": "https://api.github.com/users/ajsutton/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": {
    "login": "Nashatyrev",
    "id": 8173857,
    "node_id": "MDQ6VXNlcjgxNzM4NTc=",
    "avatar_url": "https://avatars.githubusercontent.com/u/8173857?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/Nashatyrev",
    "html_url": "https://github.com/Nashatyrev",
    "followers_url": "https://api.github.com/users/Nashatyrev/followers",
    "following_url": "https://api.github.com/users/Nashatyrev/following{/other_user}",
    "gists_url": "https://api.github.com/users/Nashatyrev/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/Nashatyrev/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/Nashatyrev/subscriptions",
    "organizations_url": "https://api.github.com/users/Nashatyrev/orgs",
    "repos_url": "https://api.github.com/users/Nashatyrev/repos",
    "events_url": "https://api.github.com/users/Nashatyrev/events{/privacy}",
    "received_events_url": "https://api.github.com/users/Nashatyrev/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "Nashatyrev",
      "id": 8173857,
      "node_id": "MDQ6VXNlcjgxNzM4NTc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8173857?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Nashatyrev",
      "html_url": "https://github.com/Nashatyrev",
      "followers_url": "https://api.github.com/users/Nashatyrev/followers",
      "following_url": "https://api.github.com/users/Nashatyrev/following{/other_user}",
      "gists_url": "https://api.github.com/users/Nashatyrev/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Nashatyrev/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Nashatyrev/subscriptions",
      "organizations_url": "https://api.github.com/users/Nashatyrev/orgs",
      "repos_url": "https://api.github.com/users/Nashatyrev/repos",
      "events_url": "https://api.github.com/users/Nashatyrev/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Nashatyrev/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 8,
  "created_at": "2020-06-14T05:40:44Z",
  "updated_at": "2020-06-30T14:31:53Z",
  "closed_at": "2020-06-30T14:31:53Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "### Description\nGot a series of errors like this one on Onyx:\n\n```\n\"class\":\"AbstractRouter\",\"message\":\"Exception while handling message from peer io.libp2p.etc.util.P2PServiceSemiDuplex$SDPeerHandler@16f6ba84: from: \"\\000%\\b\\002\\022!\\002S\\267o\\023\\214B/\\237[E\\302\\2059\\3548\\254\\001\\375i\\345\\270\\177\\223\\304\\177\\036-B\\215S)R\"\ndata: \"\\365\\001\\030\\344\\000\\000\\000\\200\\001\\0002\\001\\000\\200\\202\\246\\3671\\274\\266\\332\\032u\\346\\314\\365\\376\\262\\301 <\\233\\004\\024x\\301Z\\265\\336{\\005\\177\\363I~\\234\\v\\r.\\200/\\2008n\\260jS\\372m\\343\\233\\r\\250\\311\\2410\\251\\354\\227ka\\002\\275?Z\\365\\302s\\252\\005\\272\\311\\f\\r(~P\\000\\360p\\220\\020\\220\\317G-\\344&6\\f\\025\\305e\\224qm\\031\\233\\307\\024sd\\302\\027kV9TO\\347hG->\\261\\342\\302\\347\\240\\021I\\221\\275\\033^\\364\\271{\\n\\035T#\\324\\330A%T\\336\\375\\366\\266\\\"\\036\\224\\3241\\244\\3401HA\\376q\\305w\\323\\265a!\\356X\\r\\353\\357\\374\\004\\366\\201s\\365\\363n\\315+\\223\\215\\000\\200\\000\\000\\000\\000\\000\\000\\000\\000\\000\\000\\000\\000\\000\\000\\001\"\nseqno: \"\\026\\030L\\034E?\\226\\374\"\ntopicIDs: \"/eth2/a65b4897/beacon_attestation_0/ssz_snappy\"\n\",\"throwable\":\" java.util.concurrent.ExecutionException: java.lang.UnsupportedOperationException: Empty collection can't be reduced.\nat java.base/java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:395)\nat java.base/java.util.concurrent.CompletableFuture.get(CompletableFuture.java:1999)\nat io.libp2p.pubsub.AbstractRouter.onInbound(AbstractRouter.kt:209)\nat io.libp2p.etc.util.P2PService.streamInbound(P2PService.kt:149)\nat io.libp2p.etc.util.P2PService$StreamHandler$channelRead$1.invoke(P2PService.kt:49)\nat io.libp2p.etc.util.P2PService$StreamHandler$channelRead$1.invoke(P2PService.kt:35)\nat io.libp2p.etc.util.P2PService$sam$java_lang_Runnable$0.run(P2PService.kt)\nat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\nat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\nat java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)\nat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\nat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\nat java.base/java.lang.Thread.run(Thread.java:834)\\nCaused by: java.lang.UnsupportedOperationException: Empty collection can't be reduced.\nat io.libp2p.pubsub.PubsubApiImpl$onNewMessage$1.invoke(PubsubApiImpl.kt:130)\nat io.libp2p.pubsub.PubsubApiImpl$onNewMessage$1.invoke(PubsubApiImpl.kt:23)\nat io.libp2p.etc.types.AsyncExtKt$thenApplyAll$1.apply(AsyncExt.kt:84)\nat io.libp2p.etc.types.AsyncExtKt$thenApplyAll$1.apply(AsyncExt.kt)\nat java.base/java.util.concurrent.CompletableFuture.uniApplyNow(CompletableFuture.java:680)\nat java.base/java.util.concurrent.CompletableFuture.uniApplyStage(CompletableFuture.java:658)\nat java.base/java.util.concurrent.CompletableFuture.thenApply(CompletableFuture.java:2094)\nat io.libp2p.etc.types.AsyncExtKt.thenApplyAll(AsyncExt.kt:79)\nat io.libp2p.pubsub.PubsubApiImpl.onNewMessage(PubsubApiImpl.kt:73)\nat io.libp2p.pubsub.PubsubApiImpl.access$onNewMessage(PubsubApiImpl.kt:23)\nat io.libp2p.pubsub.PubsubApiImpl$1.invoke(PubsubApiImpl.kt:55)\nat io.libp2p.pubsub.PubsubApiImpl$1.invoke(PubsubApiImpl.kt:23)\nat io.libp2p.pubsub.AbstractRouter.onInbound(AbstractRouter.kt:194)\\n\\t... 10 more\\n\"}\n```",
  "closed_by": {
    "login": "Nashatyrev",
    "id": 8173857,
    "node_id": "MDQ6VXNlcjgxNzM4NTc=",
    "avatar_url": "https://avatars.githubusercontent.com/u/8173857?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/Nashatyrev",
    "html_url": "https://github.com/Nashatyrev",
    "followers_url": "https://api.github.com/users/Nashatyrev/followers",
    "following_url": "https://api.github.com/users/Nashatyrev/following{/other_user}",
    "gists_url": "https://api.github.com/users/Nashatyrev/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/Nashatyrev/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/Nashatyrev/subscriptions",
    "organizations_url": "https://api.github.com/users/Nashatyrev/orgs",
    "repos_url": "https://api.github.com/users/Nashatyrev/repos",
    "events_url": "https://api.github.com/users/Nashatyrev/events{/privacy}",
    "received_events_url": "https://api.github.com/users/Nashatyrev/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ConsenSys/teku/issues/2143/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ConsenSys/teku/issues/2143/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ConsenSys/teku/issues/comments/644467316",
    "html_url": "https://github.com/ConsenSys/teku/issues/2143#issuecomment-644467316",
    "issue_url": "https://api.github.com/repos/ConsenSys/teku/issues/2143",
    "id": 644467316,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY0NDQ2NzMxNg==",
    "user": {
      "login": "ajsutton",
      "id": 72675,
      "node_id": "MDQ6VXNlcjcyNjc1",
      "avatar_url": "https://avatars.githubusercontent.com/u/72675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ajsutton",
      "html_url": "https://github.com/ajsutton",
      "followers_url": "https://api.github.com/users/ajsutton/followers",
      "following_url": "https://api.github.com/users/ajsutton/following{/other_user}",
      "gists_url": "https://api.github.com/users/ajsutton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ajsutton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ajsutton/subscriptions",
      "organizations_url": "https://api.github.com/users/ajsutton/orgs",
      "repos_url": "https://api.github.com/users/ajsutton/repos",
      "events_url": "https://api.github.com/users/ajsutton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ajsutton/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-06-16T00:57:48Z",
    "updated_at": "2020-06-16T00:57:48Z",
    "author_association": "CONTRIBUTOR",
    "body": "Now also seeing this on Witti.",
    "reactions": {
      "url": "https://api.github.com/repos/ConsenSys/teku/issues/comments/644467316/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ConsenSys/teku/issues/comments/644553715",
    "html_url": "https://github.com/ConsenSys/teku/issues/2143#issuecomment-644553715",
    "issue_url": "https://api.github.com/repos/ConsenSys/teku/issues/2143",
    "id": 644553715,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY0NDU1MzcxNQ==",
    "user": {
      "login": "benjaminion",
      "id": 20796281,
      "node_id": "MDQ6VXNlcjIwNzk2Mjgx",
      "avatar_url": "https://avatars.githubusercontent.com/u/20796281?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/benjaminion",
      "html_url": "https://github.com/benjaminion",
      "followers_url": "https://api.github.com/users/benjaminion/followers",
      "following_url": "https://api.github.com/users/benjaminion/following{/other_user}",
      "gists_url": "https://api.github.com/users/benjaminion/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/benjaminion/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/benjaminion/subscriptions",
      "organizations_url": "https://api.github.com/users/benjaminion/orgs",
      "repos_url": "https://api.github.com/users/benjaminion/repos",
      "events_url": "https://api.github.com/users/benjaminion/events{/privacy}",
      "received_events_url": "https://api.github.com/users/benjaminion/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-06-16T06:13:10Z",
    "updated_at": "2020-06-16T06:13:10Z",
    "author_association": "CONTRIBUTOR",
    "body": "Also started seeing these on Witti today.\r\n\r\nThey began appearing almost immediately after my node stopped keeping up with the chain head: progress stalled from this point until I shut down 3 hours later. It may or may not be related, but is suspicious.",
    "reactions": {
      "url": "https://api.github.com/repos/ConsenSys/teku/issues/comments/644553715/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ConsenSys/teku/issues/comments/648212108",
    "html_url": "https://github.com/ConsenSys/teku/issues/2143#issuecomment-648212108",
    "issue_url": "https://api.github.com/repos/ConsenSys/teku/issues/2143",
    "id": 648212108,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY0ODIxMjEwOA==",
    "user": {
      "login": "benjaminion",
      "id": 20796281,
      "node_id": "MDQ6VXNlcjIwNzk2Mjgx",
      "avatar_url": "https://avatars.githubusercontent.com/u/20796281?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/benjaminion",
      "html_url": "https://github.com/benjaminion",
      "followers_url": "https://api.github.com/users/benjaminion/followers",
      "following_url": "https://api.github.com/users/benjaminion/following{/other_user}",
      "gists_url": "https://api.github.com/users/benjaminion/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/benjaminion/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/benjaminion/subscriptions",
      "organizations_url": "https://api.github.com/users/benjaminion/orgs",
      "repos_url": "https://api.github.com/users/benjaminion/repos",
      "events_url": "https://api.github.com/users/benjaminion/events{/privacy}",
      "received_events_url": "https://api.github.com/users/benjaminion/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-06-23T14:47:59Z",
    "updated_at": "2020-06-23T14:47:59Z",
    "author_association": "CONTRIBUTOR",
    "body": "My Witti log is flooded with these today (literally thousands of them), although everything seems to be running smoothly.\r\n\r\n```\r\n$ ./build/install/teku/bin/teku --version\r\nteku/v0.11.5-dev-dbe57ded/linux-x86_64/-privatebuild-openjdk64bitservervm-java-13\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/ConsenSys/teku/issues/comments/648212108/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ConsenSys/teku/issues/comments/648740845",
    "html_url": "https://github.com/ConsenSys/teku/issues/2143#issuecomment-648740845",
    "issue_url": "https://api.github.com/repos/ConsenSys/teku/issues/2143",
    "id": 648740845,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY0ODc0MDg0NQ==",
    "user": {
      "login": "benjaminion",
      "id": 20796281,
      "node_id": "MDQ6VXNlcjIwNzk2Mjgx",
      "avatar_url": "https://avatars.githubusercontent.com/u/20796281?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/benjaminion",
      "html_url": "https://github.com/benjaminion",
      "followers_url": "https://api.github.com/users/benjaminion/followers",
      "following_url": "https://api.github.com/users/benjaminion/following{/other_user}",
      "gists_url": "https://api.github.com/users/benjaminion/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/benjaminion/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/benjaminion/subscriptions",
      "organizations_url": "https://api.github.com/users/benjaminion/orgs",
      "repos_url": "https://api.github.com/users/benjaminion/repos",
      "events_url": "https://api.github.com/users/benjaminion/events{/privacy}",
      "received_events_url": "https://api.github.com/users/benjaminion/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-06-24T10:35:50Z",
    "updated_at": "2020-06-24T10:35:50Z",
    "author_association": "CONTRIBUTOR",
    "body": "Got another 18578 of these already in today's Witti log file, and it's not even midday yet. They are basically making the logs unusable.",
    "reactions": {
      "url": "https://api.github.com/repos/ConsenSys/teku/issues/comments/648740845/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ConsenSys/teku/issues/comments/649407421",
    "html_url": "https://github.com/ConsenSys/teku/issues/2143#issuecomment-649407421",
    "issue_url": "https://api.github.com/repos/ConsenSys/teku/issues/2143",
    "id": 649407421,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY0OTQwNzQyMQ==",
    "user": {
      "login": "Nashatyrev",
      "id": 8173857,
      "node_id": "MDQ6VXNlcjgxNzM4NTc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8173857?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Nashatyrev",
      "html_url": "https://github.com/Nashatyrev",
      "followers_url": "https://api.github.com/users/Nashatyrev/followers",
      "following_url": "https://api.github.com/users/Nashatyrev/following{/other_user}",
      "gists_url": "https://api.github.com/users/Nashatyrev/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Nashatyrev/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Nashatyrev/subscriptions",
      "organizations_url": "https://api.github.com/users/Nashatyrev/orgs",
      "repos_url": "https://api.github.com/users/Nashatyrev/repos",
      "events_url": "https://api.github.com/users/Nashatyrev/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Nashatyrev/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-06-25T09:07:31Z",
    "updated_at": "2020-06-25T09:07:31Z",
    "author_association": "CONTRIBUTOR",
    "body": "`java.lang.UnsupportedOperationException: Empty collection can't be reduced.` error happened somewhere in gossip attestation validation code. \r\nI'd expect to see `ExecutionException` cause here as well. Strange it is not printed ",
    "reactions": {
      "url": "https://api.github.com/repos/ConsenSys/teku/issues/comments/649407421/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ConsenSys/teku/issues/comments/651339451",
    "html_url": "https://github.com/ConsenSys/teku/issues/2143#issuecomment-651339451",
    "issue_url": "https://api.github.com/repos/ConsenSys/teku/issues/2143",
    "id": 651339451,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY1MTMzOTQ1MQ==",
    "user": {
      "login": "Nashatyrev",
      "id": 8173857,
      "node_id": "MDQ6VXNlcjgxNzM4NTc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8173857?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Nashatyrev",
      "html_url": "https://github.com/Nashatyrev",
      "followers_url": "https://api.github.com/users/Nashatyrev/followers",
      "following_url": "https://api.github.com/users/Nashatyrev/following{/other_user}",
      "gists_url": "https://api.github.com/users/Nashatyrev/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Nashatyrev/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Nashatyrev/subscriptions",
      "organizations_url": "https://api.github.com/users/Nashatyrev/orgs",
      "repos_url": "https://api.github.com/users/Nashatyrev/repos",
      "events_url": "https://api.github.com/users/Nashatyrev/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Nashatyrev/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-06-29T20:21:17Z",
    "updated_at": "2020-06-29T20:21:17Z",
    "author_association": "CONTRIBUTOR",
    "body": "Created function to parse back the protobuf binary dump\r\n\r\n```kt\r\n    fun parse(str: String): ByteArray {\r\n        val bytes = mutableListOf<Byte>()\r\n        var pos = 0\r\n        while (pos < str.length) {\r\n            bytes += when (str[pos]) {\r\n                '\\\\' -> {\r\n                    pos++\r\n                    when (str[pos]) {\r\n                        in '0'..'9' -> {\r\n                            val r = (((\"\" + str[pos]).toInt() shl 6) or\r\n                                    ((\"\" + str[pos + 1]).toInt() shl 3) or\r\n                                    ((\"\" + str[pos + 2]).toInt())).toByte()\r\n                            pos += 2\r\n                            r\r\n                        }\r\n                        'a' -> 0x07\r\n                        'b' -> '\\b'.toByte()\r\n                        'f' -> 0xC\r\n                        'n' -> '\\n'.toByte()\r\n                        'r' -> '\\r'.toByte()\r\n                        't' -> '\\t'.toByte()\r\n                        'v' -> 0x0b\r\n                        '\\\\' -> '\\\\'.toByte()\r\n                        '\\'' -> '\\''.toByte()\r\n                        '\"' -> '\"'.toByte()\r\n                        else -> throw IllegalArgumentException(\"Invalid escape char\")\r\n                    }.also { pos++ }\r\n                }\r\n                else -> str[pos++].toByte()\r\n            }\r\n        }\r\n        return bytes.toByteArray()\r\n    }\r\n```\r\n\r\ngot this hex `data` field content: \r\n\r\n```\r\nf50118e40000008001003201008082a6f731bcb6da1a75e6ccf5feb2c1203c9b041478c15ab5de7b057ff3497e9c0b0d2e802f80386eb06a53fa6de39b0da8c9a130a9ec976b6102bd3f5af5c273aa05bac90c0d287e5000f070901090cf472de426360c15c56594716d199bc7147364c2176b5639544fe768472d3eb1e2c2e7a0114991bd1b5ef4b97b0a1d5423d4d8412554defdf6b6221e94d431a4e0314841fe71c577d3b56121ee580debeffc04f68173f5f36ecd2b938d0080000000000000000000000000000001\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/ConsenSys/teku/issues/comments/651339451/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ConsenSys/teku/issues/comments/651458109",
    "html_url": "https://github.com/ConsenSys/teku/issues/2143#issuecomment-651458109",
    "issue_url": "https://api.github.com/repos/ConsenSys/teku/issues/2143",
    "id": 651458109,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY1MTQ1ODEwOQ==",
    "user": {
      "login": "ajsutton",
      "id": 72675,
      "node_id": "MDQ6VXNlcjcyNjc1",
      "avatar_url": "https://avatars.githubusercontent.com/u/72675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ajsutton",
      "html_url": "https://github.com/ajsutton",
      "followers_url": "https://api.github.com/users/ajsutton/followers",
      "following_url": "https://api.github.com/users/ajsutton/following{/other_user}",
      "gists_url": "https://api.github.com/users/ajsutton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ajsutton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ajsutton/subscriptions",
      "organizations_url": "https://api.github.com/users/ajsutton/orgs",
      "repos_url": "https://api.github.com/users/ajsutton/repos",
      "events_url": "https://api.github.com/users/ajsutton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ajsutton/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-06-30T01:14:45Z",
    "updated_at": "2020-06-30T01:14:45Z",
    "author_association": "CONTRIBUTOR",
    "body": "The line numbers in the exception really don't line up very well.  But in `PubsubApiImpl.onNewMessage` which appears in the stack trace, it has a call to `reduce` without checking if there are no entries:\r\n```\r\nval validationFuts = synchronized(this) {\r\n            msg.topicIDsList.mapNotNull { subscriptions[Topic(it)] }.flatten().distinct()\r\n        }.map {\r\n            it.receiver.apply(rpc2Msg(msg))\r\n        }\r\nreturn validationFuts.thenApplyAll { it.reduce(validationResultReduce) }\r\n```\r\n\r\nand that would result in the `UnsupportedOperationException` we're seeing.  What I can' tell is why there's nothing in the list being reduced.  From what I can understand of the Kotlin std lib we'd get that exception if `validationFuts` winds up empty, which would happen if there are no subscriptions for the topic. Could this be a race condition where we're being sent messages for a topic that we've unsubscribed from after the subscriber has been removed from the list but before other peers have recognised that we've unsubscribed?  Or possibly just that peers are sending us messages that we aren't interested in...",
    "reactions": {
      "url": "https://api.github.com/repos/ConsenSys/teku/issues/comments/651458109/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ConsenSys/teku/issues/comments/651696985",
    "html_url": "https://github.com/ConsenSys/teku/issues/2143#issuecomment-651696985",
    "issue_url": "https://api.github.com/repos/ConsenSys/teku/issues/2143",
    "id": 651696985,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY1MTY5Njk4NQ==",
    "user": {
      "login": "Nashatyrev",
      "id": 8173857,
      "node_id": "MDQ6VXNlcjgxNzM4NTc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8173857?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Nashatyrev",
      "html_url": "https://github.com/Nashatyrev",
      "followers_url": "https://api.github.com/users/Nashatyrev/followers",
      "following_url": "https://api.github.com/users/Nashatyrev/following{/other_user}",
      "gists_url": "https://api.github.com/users/Nashatyrev/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Nashatyrev/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Nashatyrev/subscriptions",
      "organizations_url": "https://api.github.com/users/Nashatyrev/orgs",
      "repos_url": "https://api.github.com/users/Nashatyrev/repos",
      "events_url": "https://api.github.com/users/Nashatyrev/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Nashatyrev/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-06-30T10:07:27Z",
    "updated_at": "2020-06-30T10:07:27Z",
    "author_association": "CONTRIBUTOR",
    "body": "Oh, I missed the `Caused by:` cause it was stick to the previous trace line. \r\nYep line numbers are odd. Will try to reproduce ",
    "reactions": {
      "url": "https://api.github.com/repos/ConsenSys/teku/issues/comments/651696985/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
