{
  "url": "https://api.github.com/repos/ConsenSys/teku/issues/3350",
  "repository_url": "https://api.github.com/repos/ConsenSys/teku",
  "labels_url": "https://api.github.com/repos/ConsenSys/teku/issues/3350/labels{/name}",
  "comments_url": "https://api.github.com/repos/ConsenSys/teku/issues/3350/comments",
  "events_url": "https://api.github.com/repos/ConsenSys/teku/issues/3350/events",
  "html_url": "https://github.com/ConsenSys/teku/issues/3350",
  "id": 755636223,
  "node_id": "MDU6SXNzdWU3NTU2MzYyMjM=",
  "number": 3350,
  "title": "create a CI build for blst",
  "user": {
    "login": "rolfyone",
    "id": 2967240,
    "node_id": "MDQ6VXNlcjI5NjcyNDA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/2967240?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/rolfyone",
    "html_url": "https://github.com/rolfyone",
    "followers_url": "https://api.github.com/users/rolfyone/followers",
    "following_url": "https://api.github.com/users/rolfyone/following{/other_user}",
    "gists_url": "https://api.github.com/users/rolfyone/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/rolfyone/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/rolfyone/subscriptions",
    "organizations_url": "https://api.github.com/users/rolfyone/orgs",
    "repos_url": "https://api.github.com/users/rolfyone/repos",
    "events_url": "https://api.github.com/users/rolfyone/events{/privacy}",
    "received_events_url": "https://api.github.com/users/rolfyone/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": {
    "login": "cemozerr",
    "id": 16581242,
    "node_id": "MDQ6VXNlcjE2NTgxMjQy",
    "avatar_url": "https://avatars.githubusercontent.com/u/16581242?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/cemozerr",
    "html_url": "https://github.com/cemozerr",
    "followers_url": "https://api.github.com/users/cemozerr/followers",
    "following_url": "https://api.github.com/users/cemozerr/following{/other_user}",
    "gists_url": "https://api.github.com/users/cemozerr/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/cemozerr/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/cemozerr/subscriptions",
    "organizations_url": "https://api.github.com/users/cemozerr/orgs",
    "repos_url": "https://api.github.com/users/cemozerr/repos",
    "events_url": "https://api.github.com/users/cemozerr/events{/privacy}",
    "received_events_url": "https://api.github.com/users/cemozerr/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "cemozerr",
      "id": 16581242,
      "node_id": "MDQ6VXNlcjE2NTgxMjQy",
      "avatar_url": "https://avatars.githubusercontent.com/u/16581242?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cemozerr",
      "html_url": "https://github.com/cemozerr",
      "followers_url": "https://api.github.com/users/cemozerr/followers",
      "following_url": "https://api.github.com/users/cemozerr/following{/other_user}",
      "gists_url": "https://api.github.com/users/cemozerr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cemozerr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cemozerr/subscriptions",
      "organizations_url": "https://api.github.com/users/cemozerr/orgs",
      "repos_url": "https://api.github.com/users/cemozerr/repos",
      "events_url": "https://api.github.com/users/cemozerr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cemozerr/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 3,
  "created_at": "2020-12-02T21:51:22Z",
  "updated_at": "2021-02-10T21:40:30Z",
  "closed_at": "2021-02-10T21:40:30Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "",
  "closed_by": {
    "login": "rolfyone",
    "id": 2967240,
    "node_id": "MDQ6VXNlcjI5NjcyNDA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/2967240?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/rolfyone",
    "html_url": "https://github.com/rolfyone",
    "followers_url": "https://api.github.com/users/rolfyone/followers",
    "following_url": "https://api.github.com/users/rolfyone/following{/other_user}",
    "gists_url": "https://api.github.com/users/rolfyone/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/rolfyone/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/rolfyone/subscriptions",
    "organizations_url": "https://api.github.com/users/rolfyone/orgs",
    "repos_url": "https://api.github.com/users/rolfyone/repos",
    "events_url": "https://api.github.com/users/rolfyone/events{/privacy}",
    "received_events_url": "https://api.github.com/users/rolfyone/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ConsenSys/teku/issues/3350/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ConsenSys/teku/issues/3350/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ConsenSys/teku/issues/comments/738694900",
    "html_url": "https://github.com/ConsenSys/teku/issues/3350#issuecomment-738694900",
    "issue_url": "https://api.github.com/repos/ConsenSys/teku/issues/3350",
    "id": 738694900,
    "node_id": "MDEyOklzc3VlQ29tbWVudDczODY5NDkwMA==",
    "user": {
      "login": "Nashatyrev",
      "id": 8173857,
      "node_id": "MDQ6VXNlcjgxNzM4NTc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8173857?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Nashatyrev",
      "html_url": "https://github.com/Nashatyrev",
      "followers_url": "https://api.github.com/users/Nashatyrev/followers",
      "following_url": "https://api.github.com/users/Nashatyrev/following{/other_user}",
      "gists_url": "https://api.github.com/users/Nashatyrev/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Nashatyrev/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Nashatyrev/subscriptions",
      "organizations_url": "https://api.github.com/users/Nashatyrev/orgs",
      "repos_url": "https://api.github.com/users/Nashatyrev/repos",
      "events_url": "https://api.github.com/users/Nashatyrev/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Nashatyrev/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-12-04T10:07:21Z",
    "updated_at": "2020-12-04T10:07:21Z",
    "author_association": "CONTRIBUTOR",
    "body": "I've had a chat with Danno on this topic. Below there are some extracts which might be useful as a starting point:\r\n\r\n Anton Nashatyrev  \r\n> Hey Danno!\r\nI'm now near the final stage of integrating Supranational Blst BLS native library (https://github.com/supranational/blst)\r\nSpeaking shortly we would like to build and publish cross-platform Java wrapper maven artifact. This looks pretty similar to besu-native project: https://github.com/hyperledger/besu-native/\r\n\r\nDanno Ferrin:\r\n> Since it’s C based the seckp256k1 bindings are the closest - https://github.com/hyperledger/besu-native/blob/master/secp256k1/src/main/java/org/hyperledger/besu/nativelib/secp256k1/LibSecp256k1.java\r\nsecp256k1/src/main/java/org/hyperledger/besu/nativelib/secp256k1/LibSecp256k1.java\r\n\r\n>Here is the JNA cheat sheet on type mappings - https://github.com/java-native-access/jna/blob/master/www/Mappings.md\r\nwww/Mappings.md\r\n\r\nAnton Nashatyrev  \r\n> I think the central topic I'd love to ask about is the building infrastructure, how to better organize the repository and how you do native shared libs packaging? Do you use some tool for the latter or did you do it manually (I mean packing them during build and then extracting them on runtime) ?\r\n > BTW we are currently not using JNA but stick to SWIG bindings as they are claimed to be supported by the Blst team\r\n\r\nDanno Ferrin:\r\n> Swig has java support?\r\n\r\nAnton Nashatyrev  \r\n> Yep.\r\n\r\nDanno Ferrin:\r\n> For building we do n+1 passes, where n is the number of binaries to produce.  First we run a pass where the native .so/.dll/.dylib is generated, and store that in CircleCI somehow.  Then we run a java step where we gather the binaries and store them in the jar, along with the java code for the wrapper.\r\n\r\n> https://github.com/hyperledger/besu-native/blob/master/.circleci/config.yml is the CircleCI config for all\r\n.circleci/config.yml\r\n\r\n> we run the final jarring step directly from gradle.\r\n\r\nAnton Nashatyrev  \r\n> CircleCI may spin up Win/MacOS environment?\r\n\r\nDanno Ferrin:besu:  \r\n> Yes.  Although we haven’t taken the time to make windows builds work yet.\r\nLooks like mac comes with xcode built in.\r\n@ben.burns did most of the CI magic\r\nJNA has support for loading jars from magic resource names, so we follow their pattern on where to put it in a jar.",
    "reactions": {
      "url": "https://api.github.com/repos/ConsenSys/teku/issues/comments/738694900/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ConsenSys/teku/issues/comments/764673736",
    "html_url": "https://github.com/ConsenSys/teku/issues/3350#issuecomment-764673736",
    "issue_url": "https://api.github.com/repos/ConsenSys/teku/issues/3350",
    "id": 764673736,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc2NDY3MzczNg==",
    "user": {
      "login": "Nashatyrev",
      "id": 8173857,
      "node_id": "MDQ6VXNlcjgxNzM4NTc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8173857?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Nashatyrev",
      "html_url": "https://github.com/Nashatyrev",
      "followers_url": "https://api.github.com/users/Nashatyrev/followers",
      "following_url": "https://api.github.com/users/Nashatyrev/following{/other_user}",
      "gists_url": "https://api.github.com/users/Nashatyrev/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Nashatyrev/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Nashatyrev/subscriptions",
      "organizations_url": "https://api.github.com/users/Nashatyrev/orgs",
      "repos_url": "https://api.github.com/users/Nashatyrev/repos",
      "events_url": "https://api.github.com/users/Nashatyrev/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Nashatyrev/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-01-21T14:19:41Z",
    "updated_at": "2021-01-21T14:19:41Z",
    "author_association": "CONTRIBUTOR",
    "body": "Submitted the Windows related issue/question to blst team: https://github.com/supranational/blst/issues/53",
    "reactions": {
      "url": "https://api.github.com/repos/ConsenSys/teku/issues/comments/764673736/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ConsenSys/teku/issues/comments/764683266",
    "html_url": "https://github.com/ConsenSys/teku/issues/3350#issuecomment-764683266",
    "issue_url": "https://api.github.com/repos/ConsenSys/teku/issues/3350",
    "id": 764683266,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc2NDY4MzI2Ng==",
    "user": {
      "login": "Nashatyrev",
      "id": 8173857,
      "node_id": "MDQ6VXNlcjgxNzM4NTc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8173857?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Nashatyrev",
      "html_url": "https://github.com/Nashatyrev",
      "followers_url": "https://api.github.com/users/Nashatyrev/followers",
      "following_url": "https://api.github.com/users/Nashatyrev/following{/other_user}",
      "gists_url": "https://api.github.com/users/Nashatyrev/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Nashatyrev/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Nashatyrev/subscriptions",
      "organizations_url": "https://api.github.com/users/Nashatyrev/orgs",
      "repos_url": "https://api.github.com/users/Nashatyrev/repos",
      "events_url": "https://api.github.com/users/Nashatyrev/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Nashatyrev/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-01-21T14:33:06Z",
    "updated_at": "2021-01-21T14:33:06Z",
    "author_association": "CONTRIBUTOR",
    "body": "Also filed an issue to SWIG: https://github.com/swig/swig/issues/1932",
    "reactions": {
      "url": "https://api.github.com/repos/ConsenSys/teku/issues/comments/764683266/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
