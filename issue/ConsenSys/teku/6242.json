{
  "url": "https://api.github.com/repos/ConsenSys/teku/issues/6242",
  "repository_url": "https://api.github.com/repos/ConsenSys/teku",
  "labels_url": "https://api.github.com/repos/ConsenSys/teku/issues/6242/labels{/name}",
  "comments_url": "https://api.github.com/repos/ConsenSys/teku/issues/6242/comments",
  "events_url": "https://api.github.com/repos/ConsenSys/teku/issues/6242/events",
  "html_url": "https://github.com/ConsenSys/teku/issues/6242",
  "id": 1382527653,
  "node_id": "I_kwDOCM9I9M5SZ7Kl",
  "number": 6242,
  "title": "Default behavior should not send packets to RFC1918 addresses",
  "user": {
    "login": "dtto",
    "id": 6629106,
    "node_id": "MDQ6VXNlcjY2MjkxMDY=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6629106?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/dtto",
    "html_url": "https://github.com/dtto",
    "followers_url": "https://api.github.com/users/dtto/followers",
    "following_url": "https://api.github.com/users/dtto/following{/other_user}",
    "gists_url": "https://api.github.com/users/dtto/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/dtto/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/dtto/subscriptions",
    "organizations_url": "https://api.github.com/users/dtto/orgs",
    "repos_url": "https://api.github.com/users/dtto/repos",
    "events_url": "https://api.github.com/users/dtto/events{/privacy}",
    "received_events_url": "https://api.github.com/users/dtto/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": {
    "login": "zilm13",
    "id": 6196452,
    "node_id": "MDQ6VXNlcjYxOTY0NTI=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6196452?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/zilm13",
    "html_url": "https://github.com/zilm13",
    "followers_url": "https://api.github.com/users/zilm13/followers",
    "following_url": "https://api.github.com/users/zilm13/following{/other_user}",
    "gists_url": "https://api.github.com/users/zilm13/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/zilm13/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/zilm13/subscriptions",
    "organizations_url": "https://api.github.com/users/zilm13/orgs",
    "repos_url": "https://api.github.com/users/zilm13/repos",
    "events_url": "https://api.github.com/users/zilm13/events{/privacy}",
    "received_events_url": "https://api.github.com/users/zilm13/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "zilm13",
      "id": 6196452,
      "node_id": "MDQ6VXNlcjYxOTY0NTI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6196452?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/zilm13",
      "html_url": "https://github.com/zilm13",
      "followers_url": "https://api.github.com/users/zilm13/followers",
      "following_url": "https://api.github.com/users/zilm13/following{/other_user}",
      "gists_url": "https://api.github.com/users/zilm13/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/zilm13/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/zilm13/subscriptions",
      "organizations_url": "https://api.github.com/users/zilm13/orgs",
      "repos_url": "https://api.github.com/users/zilm13/repos",
      "events_url": "https://api.github.com/users/zilm13/events{/privacy}",
      "received_events_url": "https://api.github.com/users/zilm13/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 4,
  "created_at": "2022-09-22T14:13:13Z",
  "updated_at": "2023-04-17T09:34:00Z",
  "closed_at": "2023-04-17T09:34:00Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "<!-- \r\nBy filing an Issue, you are expected to comply with the Code of Conduct, \r\nincluding treating everyone with respect:\r\nhttps://github.com/ConsenSys/teku/blob/master/CODE-OF-CONDUCT.md\r\n\r\nNot all sections will apply to all issue types.\r\n-->\r\n\r\n### Description\r\nNormal operation should not send traffic to rfc1918 addresses.\r\n\r\n### Steps to Reproduce (Bug)\r\nRun teku. Watch for traffic on rfc1918 addresses, e.g. \r\n\r\n```\r\n# while ! ss -p state syn-sent | grep 192.168; do sleep .1; done\r\ntcp   0      1      [::ffff:XXXX]:51566 [::ffff:192.168.0.158]:13000 users:((\"java\",pid=16341,fd=429))\r\n```\r\n\r\n**Expected behavior:** [What you expect to happen]\r\nNo traffic is sent to rfc1918.\r\nI suggest to add a flag to enable sending traffic to rfc1918 as needed.\r\n\r\n**Actual behavior:** [What actually happens]\r\nOn occasion, traffic (likely p2p discovery?) is sent to RFC1918 addresses. \r\n\r\n**Frequency:** [How regularly does it occur?]\r\nVaries.\r\n\r\n### Versions (Add all that apply)\r\n* Software version: [`teku --version` or look for log lines starting with `Teku version:`]\r\n```\r\n$ ./teku --version\r\nteku/v22.9.1+3-g3d7dd4f/linux-x86_64/-debian-openjdk64bitservervm-java-17\r\n```\r\n* Java version: [`java -version`]\r\n```\r\n$ java --version\r\nopenjdk 17.0.4 2022-07-19\r\nOpenJDK Runtime Environment (build 17.0.4+8-Debian-1deb11u1)\r\nOpenJDK 64-Bit Server VM (build 17.0.4+8-Debian-1deb11u1, mixed mode, sharing)\r\n```\r\n* OS Name & Version: [`cat /etc/*release`]\r\n\r\nDebian 11\r\n\r\n* Docker Version: [`docker version`]\r\n\r\nN/A\r\n\r\n* Cloud VM, type, size: [Amazon Web Services I3-large]\r\nN/A",
  "closed_by": {
    "login": "zilm13",
    "id": 6196452,
    "node_id": "MDQ6VXNlcjYxOTY0NTI=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6196452?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/zilm13",
    "html_url": "https://github.com/zilm13",
    "followers_url": "https://api.github.com/users/zilm13/followers",
    "following_url": "https://api.github.com/users/zilm13/following{/other_user}",
    "gists_url": "https://api.github.com/users/zilm13/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/zilm13/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/zilm13/subscriptions",
    "organizations_url": "https://api.github.com/users/zilm13/orgs",
    "repos_url": "https://api.github.com/users/zilm13/repos",
    "events_url": "https://api.github.com/users/zilm13/events{/privacy}",
    "received_events_url": "https://api.github.com/users/zilm13/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ConsenSys/teku/issues/6242/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ConsenSys/teku/issues/6242/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ConsenSys/teku/issues/comments/1304424340",
    "html_url": "https://github.com/ConsenSys/teku/issues/6242#issuecomment-1304424340",
    "issue_url": "https://api.github.com/repos/ConsenSys/teku/issues/6242",
    "id": 1304424340,
    "node_id": "IC_kwDOCM9I9M5Nv--U",
    "user": {
      "login": "taggart",
      "id": 476401,
      "node_id": "MDQ6VXNlcjQ3NjQwMQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/476401?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/taggart",
      "html_url": "https://github.com/taggart",
      "followers_url": "https://api.github.com/users/taggart/followers",
      "following_url": "https://api.github.com/users/taggart/following{/other_user}",
      "gists_url": "https://api.github.com/users/taggart/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/taggart/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/taggart/subscriptions",
      "organizations_url": "https://api.github.com/users/taggart/orgs",
      "repos_url": "https://api.github.com/users/taggart/repos",
      "events_url": "https://api.github.com/users/taggart/events{/privacy}",
      "received_events_url": "https://api.github.com/users/taggart/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-11-05T06:48:33Z",
    "updated_at": "2022-11-05T06:48:33Z",
    "author_association": "NONE",
    "body": "I am seeing this too. It would be good if these were off by default.",
    "reactions": {
      "url": "https://api.github.com/repos/ConsenSys/teku/issues/comments/1304424340/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ConsenSys/teku/issues/comments/1356871544",
    "html_url": "https://github.com/ConsenSys/teku/issues/6242#issuecomment-1356871544",
    "issue_url": "https://api.github.com/repos/ConsenSys/teku/issues/6242",
    "id": 1356871544,
    "node_id": "IC_kwDOCM9I9M5Q4Dd4",
    "user": {
      "login": "ajsutton",
      "id": 72675,
      "node_id": "MDQ6VXNlcjcyNjc1",
      "avatar_url": "https://avatars.githubusercontent.com/u/72675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ajsutton",
      "html_url": "https://github.com/ajsutton",
      "followers_url": "https://api.github.com/users/ajsutton/followers",
      "following_url": "https://api.github.com/users/ajsutton/following{/other_user}",
      "gists_url": "https://api.github.com/users/ajsutton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ajsutton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ajsutton/subscriptions",
      "organizations_url": "https://api.github.com/users/ajsutton/orgs",
      "repos_url": "https://api.github.com/users/ajsutton/repos",
      "events_url": "https://api.github.com/users/ajsutton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ajsutton/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-12-18T20:42:52Z",
    "updated_at": "2022-12-18T20:42:52Z",
    "author_association": "CONTRIBUTOR",
    "body": "For the record, these ranges to avoid map to `InetAddress.isSiteLocalAddress` in Java. https://www.rfc-editor.org/rfc/rfc1918 \n\n```\n   The Internet Assigned Numbers Authority (IANA) has reserved the\n   following three blocks of the IP address space for private internets:\n\n     10.0.0.0        -   10.255.255.255  (10/8 prefix)\n     172.16.0.0      -   172.31.255.255  (172.16/12 prefix)\n     192.168.0.0     -   192.168.255.255 (192.168/16 prefix)\n```",
    "reactions": {
      "url": "https://api.github.com/repos/ConsenSys/teku/issues/comments/1356871544/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ConsenSys/teku/issues/comments/1362263688",
    "html_url": "https://github.com/ConsenSys/teku/issues/6242#issuecomment-1362263688",
    "issue_url": "https://api.github.com/repos/ConsenSys/teku/issues/6242",
    "id": 1362263688,
    "node_id": "IC_kwDOCM9I9M5RMn6I",
    "user": {
      "login": "ajsutton",
      "id": 72675,
      "node_id": "MDQ6VXNlcjcyNjc1",
      "avatar_url": "https://avatars.githubusercontent.com/u/72675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ajsutton",
      "html_url": "https://github.com/ajsutton",
      "followers_url": "https://api.github.com/users/ajsutton/followers",
      "following_url": "https://api.github.com/users/ajsutton/following{/other_user}",
      "gists_url": "https://api.github.com/users/ajsutton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ajsutton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ajsutton/subscriptions",
      "organizations_url": "https://api.github.com/users/ajsutton/orgs",
      "repos_url": "https://api.github.com/users/ajsutton/repos",
      "events_url": "https://api.github.com/users/ajsutton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ajsutton/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-12-22T00:50:33Z",
    "updated_at": "2022-12-22T00:50:33Z",
    "author_association": "CONTRIBUTOR",
    "body": "Finishing this off will require:\n* getting #6631 merged\n* deploying and monitoring a box with this enabled to check there aren't other places that need filtering\n* Enabling it by default (will likely have to allow site local addresses in ATs and things like the docker test network)",
    "reactions": {
      "url": "https://api.github.com/repos/ConsenSys/teku/issues/comments/1362263688/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ConsenSys/teku/issues/comments/1473909266",
    "html_url": "https://github.com/ConsenSys/teku/issues/6242#issuecomment-1473909266",
    "issue_url": "https://api.github.com/repos/ConsenSys/teku/issues/6242",
    "id": 1473909266,
    "node_id": "IC_kwDOCM9I9M5X2hIS",
    "user": {
      "login": "zilm13",
      "id": 6196452,
      "node_id": "MDQ6VXNlcjYxOTY0NTI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6196452?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/zilm13",
      "html_url": "https://github.com/zilm13",
      "followers_url": "https://api.github.com/users/zilm13/followers",
      "following_url": "https://api.github.com/users/zilm13/following{/other_user}",
      "gists_url": "https://api.github.com/users/zilm13/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/zilm13/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/zilm13/subscriptions",
      "organizations_url": "https://api.github.com/users/zilm13/orgs",
      "repos_url": "https://api.github.com/users/zilm13/repos",
      "events_url": "https://api.github.com/users/zilm13/events{/privacy}",
      "received_events_url": "https://api.github.com/users/zilm13/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-03-17T14:14:05Z",
    "updated_at": "2023-03-17T14:14:05Z",
    "author_association": "CONTRIBUTOR",
    "body": "Docs are added https://github.com/ConsenSys/doc.teku/pull/442\r\nnext: Teku upcoming release comes with --p2p-discovery-site-local-addresses-enabled defaults to `true`\r\nnext: Teku subsequent release comes with --p2p-discovery-site-local-addresses-enabled defaults to `false`and we close this issue as resolved",
    "reactions": {
      "url": "https://api.github.com/repos/ConsenSys/teku/issues/comments/1473909266/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
