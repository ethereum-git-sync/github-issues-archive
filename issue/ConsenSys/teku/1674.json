{
  "url": "https://api.github.com/repos/ConsenSys/teku/issues/1674",
  "repository_url": "https://api.github.com/repos/ConsenSys/teku",
  "labels_url": "https://api.github.com/repos/ConsenSys/teku/issues/1674/labels{/name}",
  "comments_url": "https://api.github.com/repos/ConsenSys/teku/issues/1674/comments",
  "events_url": "https://api.github.com/repos/ConsenSys/teku/issues/1674/events",
  "html_url": "https://github.com/ConsenSys/teku/issues/1674",
  "id": 607572969,
  "node_id": "MDU6SXNzdWU2MDc1NzI5Njk=",
  "number": 1674,
  "title": "[crash/fuzzing] DoS/infinite processing during block ssz parsing",
  "user": {
    "login": "pventuzelo",
    "id": 9038181,
    "node_id": "MDQ6VXNlcjkwMzgxODE=",
    "avatar_url": "https://avatars.githubusercontent.com/u/9038181?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/pventuzelo",
    "html_url": "https://github.com/pventuzelo",
    "followers_url": "https://api.github.com/users/pventuzelo/followers",
    "following_url": "https://api.github.com/users/pventuzelo/following{/other_user}",
    "gists_url": "https://api.github.com/users/pventuzelo/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/pventuzelo/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/pventuzelo/subscriptions",
    "organizations_url": "https://api.github.com/users/pventuzelo/orgs",
    "repos_url": "https://api.github.com/users/pventuzelo/repos",
    "events_url": "https://api.github.com/users/pventuzelo/events{/privacy}",
    "received_events_url": "https://api.github.com/users/pventuzelo/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 0,
  "created_at": "2020-04-27T13:57:39Z",
  "updated_at": "2020-04-29T06:05:04Z",
  "closed_at": "2020-04-29T06:05:04Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "### Description\r\n\r\nDuring fuzzing with new version (under development) of [beacon-fuzz](https://github.com/sigp/beacon-fuzz), I found a bug leading to a Denial of Service (DoS) of teku. \r\nMore specifically, an \"infinite processing\" triggered using `teku transition blocks`.\r\n\r\nBased on other eth2 clients errors, bug seems to be an out-of-bound issue not detected during Teku `Block` SSZ parsing:\r\n- lighthouse: `Ssz decode failed: OutOfBoundsByte { i: 0 }`\r\n- nim: `SszSizeMismatchError`\r\n\r\n### Steps to Reproduce (Bug)\r\n\r\n- Download: [infinite_process_ssz_teku.zip](https://github.com/PegaSysEng/teku/files/4540049/infinite_process_ssz_teku.zip)\r\n- Crash:\r\n``` sh\r\n# install\r\n./gradlew distTar installDist\r\n\r\n# go to build folder\r\ncd build/install/\r\n\r\n# Run teku\r\nbin/teku transition blocks --pre=infinite_process_ssz_state_teku.ssz --network=mainnet infinite_process_ssz_block_teku.ssz\r\n# PROCESS NEVER STOP...\r\n```\r\n\r\n### Versions\r\n* Github branch: `master`\r\n* Github commit: 1cc346671521a4381776bb9145af1be3b290fe8b\r\n* Java version: `openjdk version \"11.0.7\" 2020-04-14`\r\n* OS Name & Version: `Ubuntu 18.04.4 LTS`\r\n* Kernel Version: `4.15.0-96-generic`\r\n",
  "closed_by": {
    "login": "ajsutton",
    "id": 72675,
    "node_id": "MDQ6VXNlcjcyNjc1",
    "avatar_url": "https://avatars.githubusercontent.com/u/72675?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/ajsutton",
    "html_url": "https://github.com/ajsutton",
    "followers_url": "https://api.github.com/users/ajsutton/followers",
    "following_url": "https://api.github.com/users/ajsutton/following{/other_user}",
    "gists_url": "https://api.github.com/users/ajsutton/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/ajsutton/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/ajsutton/subscriptions",
    "organizations_url": "https://api.github.com/users/ajsutton/orgs",
    "repos_url": "https://api.github.com/users/ajsutton/repos",
    "events_url": "https://api.github.com/users/ajsutton/events{/privacy}",
    "received_events_url": "https://api.github.com/users/ajsutton/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ConsenSys/teku/issues/1674/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ConsenSys/teku/issues/1674/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[

]
