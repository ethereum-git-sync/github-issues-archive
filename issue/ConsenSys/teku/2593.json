{
  "url": "https://api.github.com/repos/ConsenSys/teku/issues/2593",
  "repository_url": "https://api.github.com/repos/ConsenSys/teku",
  "labels_url": "https://api.github.com/repos/ConsenSys/teku/issues/2593/labels{/name}",
  "comments_url": "https://api.github.com/repos/ConsenSys/teku/issues/2593/comments",
  "events_url": "https://api.github.com/repos/ConsenSys/teku/issues/2593/events",
  "html_url": "https://github.com/ConsenSys/teku/issues/2593",
  "id": 680138244,
  "node_id": "MDU6SXNzdWU2ODAxMzgyNDQ=",
  "number": 2593,
  "title": "Stuck after  Using data path",
  "user": {
    "login": "Yoldark34",
    "id": 3829890,
    "node_id": "MDQ6VXNlcjM4Mjk4OTA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/3829890?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/Yoldark34",
    "html_url": "https://github.com/Yoldark34",
    "followers_url": "https://api.github.com/users/Yoldark34/followers",
    "following_url": "https://api.github.com/users/Yoldark34/following{/other_user}",
    "gists_url": "https://api.github.com/users/Yoldark34/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/Yoldark34/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/Yoldark34/subscriptions",
    "organizations_url": "https://api.github.com/users/Yoldark34/orgs",
    "repos_url": "https://api.github.com/users/Yoldark34/repos",
    "events_url": "https://api.github.com/users/Yoldark34/events{/privacy}",
    "received_events_url": "https://api.github.com/users/Yoldark34/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 1048919129,
      "node_id": "MDU6TGFiZWwxMDQ4OTE5MTI5",
      "url": "https://api.github.com/repos/ConsenSys/teku/labels/bug%20%F0%9F%90%9E",
      "name": "bug üêû",
      "color": "dd6c94",
      "default": false,
      "description": "Something isn't working"
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 3,
  "created_at": "2020-08-17T10:48:32Z",
  "updated_at": "2020-08-19T04:07:06Z",
  "closed_at": "2020-08-19T04:07:06Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "### Description\r\nFix\r\n\r\n### Acceptance Criteria\r\nI don't know what you are talking about\r\n\r\n### Steps to Reproduce (Bug)\r\nStart or restart teku with or without the data dir filled\r\n\r\n**Expected behavior:** Not stuck\r\n\r\n**Actual behavior:** Stuck\r\n\r\n**Frequency:** each time i reboot, i need to delete the data dir and reboot in loop until it works\r\n\r\n### Versions (Add all that apply)\r\n- TEKU\r\n`teku/v0.12.4-dev-84673770/linux-x86_64/-privatebuild-openjdk64bitservervm-java-14`\r\n\r\n- OS\r\n\r\n```\r\nDISTRIB_ID=Ubuntu\r\nDISTRIB_RELEASE=20.04\r\nDISTRIB_CODENAME=focal\r\nDISTRIB_DESCRIPTION=\"Ubuntu 20.04 LTS\"\r\nNAME=\"Ubuntu\"\r\nVERSION=\"20.04 LTS (Focal Fossa)\"\r\nID=ubuntu\r\nID_LIKE=debian\r\nPRETTY_NAME=\"Ubuntu 20.04 LTS\"\r\nVERSION_ID=\"20.04\"\r\nHOME_URL=\"https://www.ubuntu.com/\"\r\nSUPPORT_URL=\"https://help.ubuntu.com/\"\r\nBUG_REPORT_URL=\"https://bugs.launchpad.net/ubuntu/\"\r\nPRIVACY_POLICY_URL=\"https://www.ubuntu.com/legal/terms-and-policies/privacy-policy\"\r\nVERSION_CODENAME=focal\r\nUBUNTU_CODENAME=focal\r\n```\r\n\r\n- JAVA VERSION\r\n\r\n`openjdk 14.0.1 2020-04-14\r\nOpenJDK Runtime Environment (build 14.0.1+7-Ubuntu-1ubuntu1)\r\nOpenJDK 64-Bit Server VM (build 14.0.1+7-Ubuntu-1ubuntu1, mixed mode, sharing)\r\n`\r\n\r\n- COMMAND\r\n\r\n`/home/validator/teku --config-file=/home/validator/conf/teku.yaml`\r\n\r\n- CONF\r\n\r\n```\r\n# network\r\nnetwork: \"medalla\"\r\n\r\n# p2p\r\np2p-enabled: true\r\np2p-port: 9000\r\n\r\n# validators\r\n#validators-key-file: \"validator_keys.yaml\"\r\nvalidators-key-files: #20 validator files not included but it is working with them\r\n\r\n# deposit\r\neth1-deposit-contract-address: \"0x07b39F4fDE4A38bACe212b546dAc87C58DfE3fDC\"\r\neth1-endpoint: \"http://localhost:8545\"\r\n\r\n# metrics\r\nmetrics-enabled: true\r\nmetrics-categories: [\"BEACON\",\"LIBP2P\",\"NETWORK\"]\r\nmetrics-port: 8008\r\n\r\n# database\r\ndata-path: \"home/validator/tekudata\"\r\ndata-storage-mode: \"ARCHIVE\"\r\n\r\n# beacon rest api\r\nrest-api-port: 5051\r\nrest-api-docs-enabled: true\r\nrest-api-enabled: true\r\n\r\n# logs\r\nlogging: \"DEBUG\"\r\nlog-color-enabled: true\r\n```\r\n\r\n### Additional Information\r\n\r\n```\r\n2020-08-17 12:39:36.335+02:00 | main | INFO  | teku-status-log | Teku version: teku/v0.12.4-dev-84673770/linux-x86_64/-privatebuild-openjdk64bitservervm-java-14\r\n2020-08-17 12:39:36.395+02:00 | main | INFO  | teku-status-log | Loading 20 validator keys...\r\n2020-08-17 12:39:49.734+02:00 | main | INFO  | BlstBLS12381 | Successfully loaded native BLS library\r\n2020-08-17 12:39:49.749+02:00 | main | INFO  | teku-status-log | Loaded 20 Validators: 9170579, aaff208, 93ffa3a, 97784d2, a218e0c, 873d659, 874a118, 966d1a2, a7722bd, ad2705f, b505d29, 8514105, b1bcd97, b6afafa, 98eb41b, 8243e7c, 8ad7c47, 866c4d1, 88b116c, acadb6f\r\n2020-08-17 12:39:49.805+02:00 | main | INFO  | StdSchedulerFactory | Using default implementation for ThreadExecutor\r\n2020-08-17 12:39:49.806+02:00 | main | INFO  | SimpleThreadPool | Job execution threads will use class loader of thread: main\r\n2020-08-17 12:39:49.825+02:00 | main | INFO  | SchedulerSignalerImpl | Initialized Scheduler Signaller of type: class org.quartz.core.SchedulerSignalerImpl\r\n2020-08-17 12:39:49.825+02:00 | main | INFO  | QuartzScheduler | Quartz Scheduler v.2.3.2 created.\r\n2020-08-17 12:39:49.825+02:00 | main | INFO  | RAMJobStore | RAMJobStore initialized.\r\n2020-08-17 12:39:49.826+02:00 | main | INFO  | QuartzScheduler | Scheduler meta-data: Quartz Scheduler (v2.3.2) 'DefaultQuartzScheduler' with instanceId 'NON_CLUSTERED'\r\n  Scheduler class: 'org.quartz.core.QuartzScheduler' - running locally.\r\n  NOT STARTED.\r\n  Currently in standby mode.\r\n  Number of jobs executed: 0\r\n  Using thread pool 'org.quartz.simpl.SimpleThreadPool' - with 10 threads.\r\n  Using job-store 'org.quartz.simpl.RAMJobStore' - which does not support persistence. and is not clustered.\r\n\r\n2020-08-17 12:39:49.826+02:00 | main | INFO  | StdSchedulerFactory | Quartz scheduler 'DefaultQuartzScheduler' initialized from default resource file in Quartz package: 'quartz.properties'\r\n2020-08-17 12:39:49.826+02:00 | main | INFO  | StdSchedulerFactory | Quartz scheduler version: 2.3.2\r\n2020-08-17 12:39:49.999+02:00 | main | INFO  | teku-status-log | Using data path: home/validator/tekudata\r\n2020-08-17 12:39:50.000+02:00 | main | INFO  | MetricsHttpService | Starting metrics http service on 127.0.0.1:8008\r\n2020-08-17 12:39:50.031+02:00 | main | DEBUG | PooledByteBufAllocator | -Dio.netty.allocator.numHeapArenas: 8\r\n2020-08-17 12:39:50.031+02:00 | main | DEBUG | PooledByteBufAllocator | -Dio.netty.allocator.numDirectArenas: 0\r\n2020-08-17 12:39:50.031+02:00 | main | DEBUG | PooledByteBufAllocator | -Dio.netty.allocator.pageSize: 8192\r\n2020-08-17 12:39:50.031+02:00 | main | DEBUG | PooledByteBufAllocator | -Dio.netty.allocator.maxOrder: 11\r\n2020-08-17 12:39:50.033+02:00 | main | DEBUG | PooledByteBufAllocator | -Dio.netty.allocator.chunkSize: 16777216\r\n2020-08-17 12:39:50.033+02:00 | main | DEBUG | PooledByteBufAllocator | -Dio.netty.allocator.tinyCacheSize: 512\r\n2020-08-17 12:39:50.033+02:00 | main | DEBUG | PooledByteBufAllocator | -Dio.netty.allocator.smallCacheSize: 256\r\n2020-08-17 12:39:50.033+02:00 | main | DEBUG | PooledByteBufAllocator | -Dio.netty.allocator.normalCacheSize: 64\r\n2020-08-17 12:39:50.033+02:00 | main | DEBUG | PooledByteBufAllocator | -Dio.netty.allocator.maxCachedBufferCapacity: 32768\r\n2020-08-17 12:39:50.033+02:00 | main | DEBUG | PooledByteBufAllocator | -Dio.netty.allocator.cacheTrimInterval: 8192\r\n2020-08-17 12:39:50.033+02:00 | main | DEBUG | PooledByteBufAllocator | -Dio.netty.allocator.cacheTrimIntervalMillis: 0\r\n2020-08-17 12:39:50.033+02:00 | main | DEBUG | PooledByteBufAllocator | -Dio.netty.allocator.useCacheForAllThreads: true\r\n2020-08-17 12:39:50.034+02:00 | main | DEBUG | PooledByteBufAllocator | -Dio.netty.allocator.maxCachedByteBuffersPerChunk: 1023\r\n2020-08-17 12:39:50.071+02:00 | main | DEBUG | DefaultChannelId | -Dio.netty.processId: 2017 (auto-detected)\r\n2020-08-17 12:39:50.072+02:00 | main | DEBUG | DefaultChannelId | -Dio.netty.machineId: d8:9e:f3:ff:fe:83:7c:e6 (auto-detected)\r\n2020-08-17 12:39:50.087+02:00 | main | DEBUG | ByteBufUtil | -Dio.netty.allocator.type: pooled\r\n2020-08-17 12:39:50.087+02:00 | main | DEBUG | ByteBufUtil | -Dio.netty.threadLocalDirectBufferSize: 0\r\n2020-08-17 12:39:50.087+02:00 | main | DEBUG | ByteBufUtil | -Dio.netty.maxThreadLocalCharBufferSize: 16384\r\n2020-08-17 12:39:50.111+02:00 | vert.x-eventloop-thread-1 | INFO  | MetricsHttpService | Metrics service started and listening on 8008:8008\r\n2020-08-17 12:39:50.113+02:00 | main | INFO  | VersionedDatabaseFactory | Data directory set to: /home/validator/tekudata\r\n2020-08-17 12:39:50.845+02:00 | vert.x-eventloop-thread-1 | DEBUG | Recycler | -Dio.netty.recycler.maxCapacityPerThread: 4096\r\n2020-08-17 12:39:50.845+02:00 | vert.x-eventloop-thread-1 | DEBUG | Recycler | -Dio.netty.recycler.maxSharedCapacityFactor: 2\r\n2020-08-17 12:39:50.846+02:00 | vert.x-eventloop-thread-1 | DEBUG | Recycler | -Dio.netty.recycler.linkCapacity: 16\r\n2020-08-17 12:39:50.846+02:00 | vert.x-eventloop-thread-1 | DEBUG | Recycler | -Dio.netty.recycler.ratio: 8\r\n2020-08-17 12:39:50.846+02:00 | vert.x-eventloop-thread-1 | DEBUG | Recycler | -Dio.netty.recycler.delayedQueue.ratio: 8\r\n2020-08-17 12:39:50.851+02:00 | vert.x-eventloop-thread-1 | DEBUG | AbstractByteBuf | -Dio.netty.buffer.checkAccessible: true\r\n2020-08-17 12:39:50.851+02:00 | vert.x-eventloop-thread-1 | DEBUG | AbstractByteBuf | -Dio.netty.buffer.checkBounds: true\r\n2020-08-17 12:39:50.852+02:00 | vert.x-eventloop-thread-1 | DEBUG | ResourceLeakDetectorFactory | Loaded default ResourceLeakDetector: io.netty.util.ResourceLeakDetector@6377b885\r\n2020-08-17 12:39:50.895+02:00 | vert.x-eventloop-thread-1 | DEBUG | ZlibCodecFactory | -Dio.netty.noJdkZlibDecoder: false\r\n2020-08-17 12:39:50.895+02:00 | vert.x-eventloop-thread-1 | DEBUG | ZlibCodecFactory | -Dio.netty.noJdkZlibEncoder: false\r\n\r\n```",
  "closed_by": {
    "login": "rolfyone",
    "id": 2967240,
    "node_id": "MDQ6VXNlcjI5NjcyNDA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/2967240?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/rolfyone",
    "html_url": "https://github.com/rolfyone",
    "followers_url": "https://api.github.com/users/rolfyone/followers",
    "following_url": "https://api.github.com/users/rolfyone/following{/other_user}",
    "gists_url": "https://api.github.com/users/rolfyone/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/rolfyone/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/rolfyone/subscriptions",
    "organizations_url": "https://api.github.com/users/rolfyone/orgs",
    "repos_url": "https://api.github.com/users/rolfyone/repos",
    "events_url": "https://api.github.com/users/rolfyone/events{/privacy}",
    "received_events_url": "https://api.github.com/users/rolfyone/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ConsenSys/teku/issues/2593/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ConsenSys/teku/issues/2593/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ConsenSys/teku/issues/comments/674810551",
    "html_url": "https://github.com/ConsenSys/teku/issues/2593#issuecomment-674810551",
    "issue_url": "https://api.github.com/repos/ConsenSys/teku/issues/2593",
    "id": 674810551,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY3NDgxMDU1MQ==",
    "user": {
      "login": "Yoldark34",
      "id": 3829890,
      "node_id": "MDQ6VXNlcjM4Mjk4OTA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3829890?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Yoldark34",
      "html_url": "https://github.com/Yoldark34",
      "followers_url": "https://api.github.com/users/Yoldark34/followers",
      "following_url": "https://api.github.com/users/Yoldark34/following{/other_user}",
      "gists_url": "https://api.github.com/users/Yoldark34/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Yoldark34/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Yoldark34/subscriptions",
      "organizations_url": "https://api.github.com/users/Yoldark34/orgs",
      "repos_url": "https://api.github.com/users/Yoldark34/repos",
      "events_url": "https://api.github.com/users/Yoldark34/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Yoldark34/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-08-17T10:52:04Z",
    "updated_at": "2020-08-17T10:52:04Z",
    "author_association": "NONE",
    "body": "Got unstuck after a while touching nothing\r\n\r\n```\r\nao√ªt 17 12:40:35 staker-dell teku[2164]: 12:40:35.242 INFO  - Using data path: home/validator/tekudata\r\nao√ªt 17 12:49:58 staker-dell teku[2164]: 12:49:58.462 INFO  - Initializing storage\r\nao√ªt 17 12:50:12 staker-dell teku[2164]: 12:50:12.914 INFO  - Storage initialization complete\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/ConsenSys/teku/issues/comments/674810551/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ConsenSys/teku/issues/comments/674811834",
    "html_url": "https://github.com/ConsenSys/teku/issues/2593#issuecomment-674811834",
    "issue_url": "https://api.github.com/repos/ConsenSys/teku/issues/2593",
    "id": 674811834,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY3NDgxMTgzNA==",
    "user": {
      "login": "Yoldark34",
      "id": 3829890,
      "node_id": "MDQ6VXNlcjM4Mjk4OTA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3829890?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Yoldark34",
      "html_url": "https://github.com/Yoldark34",
      "followers_url": "https://api.github.com/users/Yoldark34/followers",
      "following_url": "https://api.github.com/users/Yoldark34/following{/other_user}",
      "gists_url": "https://api.github.com/users/Yoldark34/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Yoldark34/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Yoldark34/subscriptions",
      "organizations_url": "https://api.github.com/users/Yoldark34/orgs",
      "repos_url": "https://api.github.com/users/Yoldark34/repos",
      "events_url": "https://api.github.com/users/Yoldark34/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Yoldark34/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-08-17T10:55:09Z",
    "updated_at": "2020-08-17T10:57:24Z",
    "author_association": "NONE",
    "body": "I got a problem with the 9000 port already in use, it may comes from that, i add it to the issue, the new restart with 9001 was quicker\r\nthe port was used by lighthouse\r\n\r\nIt may be a good idea to talk with the other projects and not use the same ports by default.",
    "reactions": {
      "url": "https://api.github.com/repos/ConsenSys/teku/issues/comments/674811834/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ConsenSys/teku/issues/comments/675839682",
    "html_url": "https://github.com/ConsenSys/teku/issues/2593#issuecomment-675839682",
    "issue_url": "https://api.github.com/repos/ConsenSys/teku/issues/2593",
    "id": 675839682,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY3NTgzOTY4Mg==",
    "user": {
      "login": "rolfyone",
      "id": 2967240,
      "node_id": "MDQ6VXNlcjI5NjcyNDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2967240?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rolfyone",
      "html_url": "https://github.com/rolfyone",
      "followers_url": "https://api.github.com/users/rolfyone/followers",
      "following_url": "https://api.github.com/users/rolfyone/following{/other_user}",
      "gists_url": "https://api.github.com/users/rolfyone/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rolfyone/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rolfyone/subscriptions",
      "organizations_url": "https://api.github.com/users/rolfyone/orgs",
      "repos_url": "https://api.github.com/users/rolfyone/repos",
      "events_url": "https://api.github.com/users/rolfyone/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rolfyone/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-08-19T04:07:06Z",
    "updated_at": "2020-08-19T04:07:06Z",
    "author_association": "CONTRIBUTOR",
    "body": "this has been on the backlog for a while as #2328, I'll look at this now and improve the problem.\n\nThanks for raising this, it's fed into our prioritisation of the problem.",
    "reactions": {
      "url": "https://api.github.com/repos/ConsenSys/teku/issues/comments/675839682/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
