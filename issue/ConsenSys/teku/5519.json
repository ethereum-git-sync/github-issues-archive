{
  "url": "https://api.github.com/repos/ConsenSys/teku/issues/5519",
  "repository_url": "https://api.github.com/repos/ConsenSys/teku",
  "labels_url": "https://api.github.com/repos/ConsenSys/teku/issues/5519/labels{/name}",
  "comments_url": "https://api.github.com/repos/ConsenSys/teku/issues/5519/comments",
  "events_url": "https://api.github.com/repos/ConsenSys/teku/issues/5519/events",
  "html_url": "https://github.com/ConsenSys/teku/issues/5519",
  "id": 1238492972,
  "node_id": "I_kwDOCM9I9M5J0ecs",
  "number": 5519,
  "title": "Unrecoverable LevelDB corruption on MacOS",
  "user": {
    "login": "Nashatyrev",
    "id": 8173857,
    "node_id": "MDQ6VXNlcjgxNzM4NTc=",
    "avatar_url": "https://avatars.githubusercontent.com/u/8173857?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/Nashatyrev",
    "html_url": "https://github.com/Nashatyrev",
    "followers_url": "https://api.github.com/users/Nashatyrev/followers",
    "following_url": "https://api.github.com/users/Nashatyrev/following{/other_user}",
    "gists_url": "https://api.github.com/users/Nashatyrev/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/Nashatyrev/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/Nashatyrev/subscriptions",
    "organizations_url": "https://api.github.com/users/Nashatyrev/orgs",
    "repos_url": "https://api.github.com/users/Nashatyrev/repos",
    "events_url": "https://api.github.com/users/Nashatyrev/events{/privacy}",
    "received_events_url": "https://api.github.com/users/Nashatyrev/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 6,
  "created_at": "2022-05-17T11:24:55Z",
  "updated_at": "2022-05-24T17:41:22Z",
  "closed_at": "2022-05-24T17:41:22Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "\r\n### Description\r\n\r\nJust hit the LevelDB corruption issue on my MacBook Pro. Teku don't start:\r\n```\r\n12:24:35.553 INFO  - Initializing storage\r\n12:24:36.963 DEBUG - Failed to intiailize storage java.lang.RuntimeException: org.fusesource.leveldbjni.internal.NativeDB$DBException: Corruption: corrupted compressed block contents (See log file for full stack trace)\r\n12:24:36.971 FATAL - Failed to initialize storage. Check the existing database matches the current network configuration. Set log level to debug for more information.\r\njava.util.concurrent.CompletionException: java.lang.RuntimeException: org.fusesource.leveldbjni.internal.NativeDB$DBException: Corruption: corrupted compressed block contents\r\n\tat java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:332)\r\n\tat java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:347)\r\n\tat java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:636)\r\n\tat java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:510)\r\n\tat java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2162)\r\n\tat tech.pegasys.teku.infrastructure.async.SafeFuture.lambda$propagateResult$3(SafeFuture.java:145)\r\n\tat java.base/java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:863)\r\n\tat java.base/java.util.concurrent.CompletableFuture.uniWhenCompleteStage(CompletableFuture.java:887)\r\n\tat java.base/java.util.concurrent.CompletableFuture.whenComplete(CompletableFuture.java:2325)\r\n\tat tech.pegasys.teku.infrastructure.async.SafeFuture.whenComplete(SafeFuture.java:536)\r\n\tat tech.pegasys.teku.infrastructure.async.SafeFuture.whenComplete(SafeFuture.java:32)\r\n\tat tech.pegasys.teku.infrastructure.async.SafeFuture.propagateResult(SafeFuture.java:142)\r\n\tat tech.pegasys.teku.infrastructure.async.SafeFuture.lambda$exceptionallyCompose$27(SafeFuture.java:367)\r\n\tat java.base/java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:863)\r\n\tat java.base/java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:841)\r\n\tat java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:510)\r\n\tat java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2162)\r\n\tat tech.pegasys.teku.infrastructure.async.SafeFuture.lambda$propagateResult$3(SafeFuture.java:145)\r\n\tat java.base/java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:863)\r\n\tat java.base/java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:841)\r\n\tat java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:510)\r\n\tat java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2162)\r\n\tat tech.pegasys.teku.infrastructure.async.SafeFuture.lambda$propagateToAsync$15(SafeFuture.java:271)\r\n\tat tech.pegasys.teku.infrastructure.async.SafeFuture.of(SafeFuture.java:81)\r\n\tat tech.pegasys.teku.infrastructure.async.AsyncRunner.lambda$runAsync$2(AsyncRunner.java:38)\r\n\tat tech.pegasys.teku.infrastructure.async.SafeFuture.of(SafeFuture.java:73)\r\n\tat tech.pegasys.teku.infrastructure.async.ScheduledExecutorAsyncRunner.lambda$createRunnableForAction$1(ScheduledExecutorAsyncRunner.java:119)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\nCaused by: java.lang.RuntimeException: org.fusesource.leveldbjni.internal.NativeDB$DBException: Corruption: corrupted compressed block contents\r\n\tat org.fusesource.leveldbjni.internal.JniDBIterator.next(JniDBIterator.java:102)\r\n\tat org.fusesource.leveldbjni.internal.JniDBIterator.next(JniDBIterator.java:45)\r\n\tat tech.pegasys.teku.storage.server.leveldb.LevelDbInstance.lambda$getAll$1(LevelDbInstance.java:120)\r\n\tat tech.pegasys.teku.storage.server.leveldb.LevelDbInstance.withIterator(LevelDbInstance.java:292)\r\n\tat tech.pegasys.teku.storage.server.leveldb.LevelDbInstance.getAll(LevelDbInstance.java:115)\r\n\tat tech.pegasys.teku.storage.server.kvstore.dataaccess.V4HotKvStoreDao.getVotes(V4HotKvStoreDao.java:127)\r\n\tat tech.pegasys.teku.storage.server.kvstore.KvStoreDatabase.createMemoryStore(KvStoreDatabase.java:311)\r\n\tat tech.pegasys.teku.storage.server.kvstore.KvStoreDatabase.createMemoryStore(KvStoreDatabase.java:294)\r\n\tat tech.pegasys.teku.storage.server.ChainStorage.getStore(ChainStorage.java:66)\r\n\tat tech.pegasys.teku.storage.server.ChainStorage.onStoreRequest(ChainStorage.java:82)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat tech.pegasys.teku.infrastructure.events.DirectEventDeliverer.executeMethod(DirectEventDeliverer.java:74)\r\n\tat tech.pegasys.teku.infrastructure.events.DirectEventDeliverer.deliverToWithResponse(DirectEventDeliverer.java:67)\r\n\tat tech.pegasys.teku.infrastructure.events.AsyncEventDeliverer.lambda$deliverToWithResponse$1(AsyncEventDeliverer.java:75)\r\n\tat tech.pegasys.teku.infrastructure.events.AsyncEventDeliverer$QueueReader.deliverNextEvent(AsyncEventDeliverer.java:117)\r\n\tat tech.pegasys.teku.infrastructure.events.AsyncEventDeliverer$QueueReader.run(AsyncEventDeliverer.java:109)\r\n\t... 3 more\r\nCaused by: org.fusesource.leveldbjni.internal.NativeDB$DBException: Corruption: corrupted compressed block contents\r\n\tat org.fusesource.leveldbjni.internal.NativeDB.checkStatus(NativeDB.java:200)\r\n\tat org.fusesource.leveldbjni.internal.NativeIterator.checkStatus(NativeIterator.java:121)\r\n\tat org.fusesource.leveldbjni.internal.NativeIterator.next(NativeIterator.java:157)\r\n\tat org.fusesource.leveldbjni.internal.JniDBIterator.next(JniDBIterator.java:100)\r\n\t... 21 more\r\n```\r\n### Steps to Reproduce (Bug)\r\n\r\nUnfortunately no specific steps to reproduce. \r\nFound in logs that the corruption originally happened on Saturday early morning, which means the computer was 100% unattended \r\n```\r\n2022-05-14 07:01:30.063+04:00 | forkchoice-async-0 | ERROR | BlockImporter | Internal error while importing block: 391b8101d07996e09d074a6bda6c0ab6be83eb2bfdbfd8a4d2c3c7c63d72ea6d (3806080)\r\njava.util.concurrent.CompletionException: org.iq80.leveldb.DBException: Corruption: corrupted compressed block contents\r\nat java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:332) ~[?:?]\r\nat java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:347) ~[?:?]\r\nat java.util.concurrent.CompletableFuture$UniAccept.tryFire$$$capture(CompletableFuture.java:708) ~[?:?]\r\nat java.util.concurrent.CompletableFuture$UniAccept.tryFire(CompletableFuture.java) ~[?:?]\r\nat java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:510) ~[?:?]\r\nat java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2162) ~[?:?]\r\nat tech.pegasys.teku.infrastructure.async.SafeFuture.lambda$propagateResult$3(SafeFuture.java:145) ~[classes/:?]\r\nat java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:863) ~[?:?]\r\nat java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:841) ~[?:?]\r\nat java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:510) ~[?:?]\r\nat java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2162) ~[?:?]\r\nat tech.pegasys.teku.infrastructure.async.SafeFuture.lambda$propagateToAsync$15(SafeFuture.java:271) ~[classes/:?]\r\nat tech.pegasys.teku.infrastructure.async.SafeFuture.of(SafeFuture.java:81) ~[classes/:?]\r\nat tech.pegasys.teku.infrastructure.async.AsyncRunner.lambda$runAsync$2(AsyncRunner.java:38) ~[classes/:?]\r\nat tech.pegasys.teku.infrastructure.async.SafeFuture.of(SafeFuture.java:73) ~[classes/:?]\r\nat tech.pegasys.teku.infrastructure.async.ScheduledExecutorAsyncRunner.lambda$createRunnableForAction$1(ScheduledExecutorAsyncRunner.java:119) ~[classes/:?]\r\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[?:?]\r\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[?:?]\r\nat java.lang.Thread.run(Thread.java:833) ~[?:?]\r\nCaused by: org.iq80.leveldb.DBException: Corruption: corrupted compressed block contents\r\nat org.fusesource.leveldbjni.internal.JniDB.write(JniDB.java:153) ~[leveldbjni-1.8.jar:1.8]\r\nat org.fusesource.leveldbjni.internal.JniDB.write(JniDB.java:114) ~[leveldbjni-1.8.jar:1.8]\r\nat tech.pegasys.teku.storage.server.leveldb.LevelDbTransaction.lambda$commit$6(LevelDbTransaction.java:95) ~[classes/:?]\r\nat tech.pegasys.teku.storage.server.leveldb.LevelDbTransaction.applyUpdate(LevelDbTransaction.java:130) ~[classes/:?]\r\nat tech.pegasys.teku.storage.server.leveldb.LevelDbTransaction.commit(LevelDbTransaction.java:92) ~[classes/:?]\r\nat tech.pegasys.teku.storage.server.kvstore.dataaccess.V4FinalizedKvStoreDao$V4FinalizedUpdater.commit(V4FinalizedKvStoreDao.java:284) ~[classes/:?]\r\nat tech.pegasys.teku.storage.server.kvstore.KvStoreDatabase.updateFinalizedDataPruneMode(KvStoreDatabase.java:743) ~[classes/:?]\r\nat tech.pegasys.teku.storage.server.kvstore.KvStoreDatabase.updateFinalizedData(KvStoreDatabase.java:603) ~[classes/:?]\r\nat tech.pegasys.teku.storage.server.kvstore.KvStoreDatabase.doUpdate(KvStoreDatabase.java:539) ~[classes/:?]\r\nat tech.pegasys.teku.storage.server.kvstore.KvStoreDatabase.update(KvStoreDatabase.java:241) ~[classes/:?]\r\nat tech.pegasys.teku.storage.server.ChainStorage.lambda$onStorageUpdate$0(ChainStorage.java:94) ~[classes/:?]\r\nat tech.pegasys.teku.infrastructure.async.SafeFuture.of(SafeFuture.java:81) ~[classes/:?]\r\nat tech.pegasys.teku.storage.server.ChainStorage.onStorageUpdate(ChainStorage.java:92) ~[classes/:?]\r\nat jdk.internal.reflect.GeneratedMethodAccessor5.invoke(Unknown Source) ~[?:?]\r\nat jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]\r\nat java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]\r\nat tech.pegasys.teku.infrastructure.events.DirectEventDeliverer.executeMethod(DirectEventDeliverer.java:74) ~[classes/:?]\r\nat tech.pegasys.teku.infrastructure.events.DirectEventDeliverer.deliverToWithResponse(DirectEventDeliverer.java:67) ~[classes/:?]\r\nat tech.pegasys.teku.infrastructure.events.AsyncEventDeliverer.lambda$deliverToWithResponse$1(AsyncEventDeliverer.java:75) ~[classes/:?]\r\nat tech.pegasys.teku.infrastructure.events.AsyncEventDeliverer$QueueReader.deliverNextEvent(AsyncEventDeliverer.java:117) ~[classes/:?]\r\nat tech.pegasys.teku.infrastructure.events.AsyncEventDeliverer$QueueReader.run(AsyncEventDeliverer.java:109) ~[classes/:?]\r\n... 3 more\r\nCaused by: org.fusesource.leveldbjni.internal.NativeDB$DBException: Corruption: corrupted compressed block contents\r\nat org.fusesource.leveldbjni.internal.NativeDB.checkStatus(NativeDB.java:200) ~[leveldbjni-1.8.jar:1.8]\r\nat org.fusesource.leveldbjni.internal.NativeDB.write(NativeDB.java:285) ~[leveldbjni-1.8.jar:1.8]\r\nat org.fusesource.leveldbjni.internal.JniDB.write(JniDB.java:150) ~[leveldbjni-1.8.jar:1.8]\r\nat org.fusesource.leveldbjni.internal.JniDB.write(JniDB.java:114) ~[leveldbjni-1.8.jar:1.8]\r\nat tech.pegasys.teku.storage.server.leveldb.LevelDbTransaction.lambda$commit$6(LevelDbTransaction.java:95) ~[classes/:?]\r\nat tech.pegasys.teku.storage.server.leveldb.LevelDbTransaction.applyUpdate(LevelDbTransaction.java:130) ~[classes/:?]\r\nat tech.pegasys.teku.storage.server.leveldb.LevelDbTransaction.commit(LevelDbTransaction.java:92) ~[classes/:?]\r\nat tech.pegasys.teku.storage.server.kvstore.dataaccess.V4FinalizedKvStoreDao$V4FinalizedUpdater.commit(V4FinalizedKvStoreDao.java:284) ~[classes/:?]\r\nat tech.pegasys.teku.storage.server.kvstore.KvStoreDatabase.updateFinalizedDataPruneMode(KvStoreDatabase.java:743) ~[classes/:?]\r\nat tech.pegasys.teku.storage.server.kvstore.KvStoreDatabase.updateFinalizedData(KvStoreDatabase.java:603) ~[classes/:?]\r\nat tech.pegasys.teku.storage.server.kvstore.KvStoreDatabase.doUpdate(KvStoreDatabase.java:539) ~[classes/:?]\r\nat tech.pegasys.teku.storage.server.kvstore.KvStoreDatabase.update(KvStoreDatabase.java:241) ~[classes/:?]\r\nat tech.pegasys.teku.storage.server.ChainStorage.lambda$onStorageUpdate$0(ChainStorage.java:94) ~[classes/:?]\r\nat tech.pegasys.teku.infrastructure.async.SafeFuture.of(SafeFuture.java:81) ~[classes/:?]\r\nat tech.pegasys.teku.storage.server.ChainStorage.onStorageUpdate(ChainStorage.java:92) ~[classes/:?]\r\nat jdk.internal.reflect.GeneratedMethodAccessor5.invoke(Unknown Source) ~[?:?]\r\nat jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]\r\nat java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]\r\nat tech.pegasys.teku.infrastructure.events.DirectEventDeliverer.executeMethod(DirectEventDeliverer.java:74) ~[classes/:?]\r\nat tech.pegasys.teku.infrastructure.events.DirectEventDeliverer.deliverToWithResponse(DirectEventDeliverer.java:67) ~[classes/:?]\r\nat tech.pegasys.teku.infrastructure.events.AsyncEventDeliverer.lambda$deliverToWithResponse$1(AsyncEventDeliverer.java:75) ~[classes/:?]\r\nat tech.pegasys.teku.infrastructure.events.AsyncEventDeliverer$QueueReader.deliverNextEvent(AsyncEventDeliverer.java:117) ~[classes/:?]\r\nat tech.pegasys.teku.infrastructure.events.AsyncEventDeliverer$QueueReader.run(AsyncEventDeliverer.java:109) ~[classes/:?]\r\n... 3 more\r\n```\r\n\r\n**Frequency:** occurred for the first time \r\n\r\n### Versions (Add all that apply)\r\n* Software version: custom Teku fork of 0206b510 (no much changes to the core Teku code, totally no DB tweaks)\r\n* Java version: \r\n```\r\n  java 17.0.3.1 2022-04-22 LTS\r\n  Java(TM) SE Runtime Environment (build 17.0.3.1+2-LTS-6)\r\n  Java HotSpot(TM) 64-Bit Server VM (build 17.0.3.1+2-LTS-6, mixed mode, sharing)\r\n```\r\n* OS Name & Version: \r\n```\r\nMacBookPro16,1\r\n6‑core Intel Core i7\r\n2,6 GHz\r\nRAM: 16 ГБ\r\nVersion:\t1731.100.130.0.0 (iBridge: 19.16.14243.0.0,0)\r\n```",
  "closed_by": {
    "login": "Nashatyrev",
    "id": 8173857,
    "node_id": "MDQ6VXNlcjgxNzM4NTc=",
    "avatar_url": "https://avatars.githubusercontent.com/u/8173857?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/Nashatyrev",
    "html_url": "https://github.com/Nashatyrev",
    "followers_url": "https://api.github.com/users/Nashatyrev/followers",
    "following_url": "https://api.github.com/users/Nashatyrev/following{/other_user}",
    "gists_url": "https://api.github.com/users/Nashatyrev/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/Nashatyrev/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/Nashatyrev/subscriptions",
    "organizations_url": "https://api.github.com/users/Nashatyrev/orgs",
    "repos_url": "https://api.github.com/users/Nashatyrev/repos",
    "events_url": "https://api.github.com/users/Nashatyrev/events{/privacy}",
    "received_events_url": "https://api.github.com/users/Nashatyrev/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ConsenSys/teku/issues/5519/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ConsenSys/teku/issues/5519/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ConsenSys/teku/issues/comments/1128753264",
    "html_url": "https://github.com/ConsenSys/teku/issues/5519#issuecomment-1128753264",
    "issue_url": "https://api.github.com/repos/ConsenSys/teku/issues/5519",
    "id": 1128753264,
    "node_id": "IC_kwDOCM9I9M5DR2hw",
    "user": {
      "login": "Nashatyrev",
      "id": 8173857,
      "node_id": "MDQ6VXNlcjgxNzM4NTc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8173857?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Nashatyrev",
      "html_url": "https://github.com/Nashatyrev",
      "followers_url": "https://api.github.com/users/Nashatyrev/followers",
      "following_url": "https://api.github.com/users/Nashatyrev/following{/other_user}",
      "gists_url": "https://api.github.com/users/Nashatyrev/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Nashatyrev/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Nashatyrev/subscriptions",
      "organizations_url": "https://api.github.com/users/Nashatyrev/orgs",
      "repos_url": "https://api.github.com/users/Nashatyrev/repos",
      "events_url": "https://api.github.com/users/Nashatyrev/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Nashatyrev/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-05-17T11:28:58Z",
    "updated_at": "2022-05-17T11:28:58Z",
    "author_association": "CONTRIBUTOR",
    "body": "[teku-node_2022-05-14.zip](https://github.com/ConsenSys/teku/files/8707780/teku-node_2022-05-14.zip)\r\nAttaching the log for the day when the issue occurred for the first time. However nothing notable was detected there preceding the failure ",
    "reactions": {
      "url": "https://api.github.com/repos/ConsenSys/teku/issues/comments/1128753264/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ConsenSys/teku/issues/comments/1128757620",
    "html_url": "https://github.com/ConsenSys/teku/issues/5519#issuecomment-1128757620",
    "issue_url": "https://api.github.com/repos/ConsenSys/teku/issues/5519",
    "id": 1128757620,
    "node_id": "IC_kwDOCM9I9M5DR3l0",
    "user": {
      "login": "Nashatyrev",
      "id": 8173857,
      "node_id": "MDQ6VXNlcjgxNzM4NTc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8173857?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Nashatyrev",
      "html_url": "https://github.com/Nashatyrev",
      "followers_url": "https://api.github.com/users/Nashatyrev/followers",
      "following_url": "https://api.github.com/users/Nashatyrev/following{/other_user}",
      "gists_url": "https://api.github.com/users/Nashatyrev/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Nashatyrev/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Nashatyrev/subscriptions",
      "organizations_url": "https://api.github.com/users/Nashatyrev/orgs",
      "repos_url": "https://api.github.com/users/Nashatyrev/repos",
      "events_url": "https://api.github.com/users/Nashatyrev/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Nashatyrev/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-05-17T11:33:34Z",
    "updated_at": "2022-05-17T11:33:34Z",
    "author_association": "CONTRIBUTOR",
    "body": "Oh, there is a enough space was available on disk:\r\n```\r\nnashatyrev@MacBook-Pro-3 ~ % df -h\r\nFilesystem       Size   Used  Avail Capacity iused      ifree %iused  Mounted on\r\n/dev/disk1s1s1  466Gi   14Gi  135Gi    10%  500637 1419298320    0%   /\r\ndevfs           193Ki  193Ki    0Bi   100%     666          0  100%   /dev\r\n/dev/disk1s5    466Gi  2.0Gi  135Gi     2%       2 1419298320    0%   /System/Volumes/VM\r\n/dev/disk1s3    466Gi  260Mi  135Gi     1%     838 1419298320    0%   /System/Volumes/Preboot\r\n/dev/disk1s6    466Gi  636Ki  135Gi     1%      19 1419298320    0%   /System/Volumes/Update\r\n/dev/disk1s2    466Gi  313Gi  135Gi    70%  986540 1419298320    0%   /System/Volumes/Data\r\nmap auto_home     0Bi    0Bi    0Bi   100%       0          0  100%   /System/Volumes/Data/home\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/ConsenSys/teku/issues/comments/1128757620/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ConsenSys/teku/issues/comments/1128839666",
    "html_url": "https://github.com/ConsenSys/teku/issues/5519#issuecomment-1128839666",
    "issue_url": "https://api.github.com/repos/ConsenSys/teku/issues/5519",
    "id": 1128839666,
    "node_id": "IC_kwDOCM9I9M5DSLny",
    "user": {
      "login": "benjaminion",
      "id": 20796281,
      "node_id": "MDQ6VXNlcjIwNzk2Mjgx",
      "avatar_url": "https://avatars.githubusercontent.com/u/20796281?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/benjaminion",
      "html_url": "https://github.com/benjaminion",
      "followers_url": "https://api.github.com/users/benjaminion/followers",
      "following_url": "https://api.github.com/users/benjaminion/following{/other_user}",
      "gists_url": "https://api.github.com/users/benjaminion/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/benjaminion/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/benjaminion/subscriptions",
      "organizations_url": "https://api.github.com/users/benjaminion/orgs",
      "repos_url": "https://api.github.com/users/benjaminion/repos",
      "events_url": "https://api.github.com/users/benjaminion/events{/privacy}",
      "received_events_url": "https://api.github.com/users/benjaminion/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-05-17T13:00:34Z",
    "updated_at": "2022-05-17T13:00:34Z",
    "author_association": "CONTRIBUTOR",
    "body": "I recommend running a memory test as a first step - on the three occasions I've experienced DB corruption like this (1 x Teku, 1 x Besu, 1 x Parity some years ago) they all turned out to be due to faulty RAM.",
    "reactions": {
      "url": "https://api.github.com/repos/ConsenSys/teku/issues/comments/1128839666/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ConsenSys/teku/issues/comments/1130074412",
    "html_url": "https://github.com/ConsenSys/teku/issues/5519#issuecomment-1130074412",
    "issue_url": "https://api.github.com/repos/ConsenSys/teku/issues/5519",
    "id": 1130074412,
    "node_id": "IC_kwDOCM9I9M5DW5Es",
    "user": {
      "login": "Nashatyrev",
      "id": 8173857,
      "node_id": "MDQ6VXNlcjgxNzM4NTc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8173857?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Nashatyrev",
      "html_url": "https://github.com/Nashatyrev",
      "followers_url": "https://api.github.com/users/Nashatyrev/followers",
      "following_url": "https://api.github.com/users/Nashatyrev/following{/other_user}",
      "gists_url": "https://api.github.com/users/Nashatyrev/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Nashatyrev/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Nashatyrev/subscriptions",
      "organizations_url": "https://api.github.com/users/Nashatyrev/orgs",
      "repos_url": "https://api.github.com/users/Nashatyrev/repos",
      "events_url": "https://api.github.com/users/Nashatyrev/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Nashatyrev/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-05-18T14:15:00Z",
    "updated_at": "2022-05-18T14:15:00Z",
    "author_association": "CONTRIBUTOR",
    "body": "@benjaminion thanks, this is a very good hint!\r\nSince beside of this issue I started getting intermittent JVM crashes at some point (tried 2 different JVM versions) \r\nFaulty RAM could explain all of this. \r\n\r\nHowever I tried running `Rember` Mac tool for about 5 hours but all results was 'OK'. But it allocated just 50% of all available RAM (because running within functioning OS) and CPU wasn't overheated (like it does usually during Teku sync)\r\nEmbedded Mac recovery and testing tool (on startup) seems to be doing very light testing (just 2 mins for all) \r\n\r\nDoes anybody have ideas what could be the most appropriate tool to test Mac RAM?",
    "reactions": {
      "url": "https://api.github.com/repos/ConsenSys/teku/issues/comments/1130074412/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ConsenSys/teku/issues/comments/1135156429",
    "html_url": "https://github.com/ConsenSys/teku/issues/5519#issuecomment-1135156429",
    "issue_url": "https://api.github.com/repos/ConsenSys/teku/issues/5519",
    "id": 1135156429,
    "node_id": "IC_kwDOCM9I9M5DqRzN",
    "user": {
      "login": "rolfyone",
      "id": 2967240,
      "node_id": "MDQ6VXNlcjI5NjcyNDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2967240?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rolfyone",
      "html_url": "https://github.com/rolfyone",
      "followers_url": "https://api.github.com/users/rolfyone/followers",
      "following_url": "https://api.github.com/users/rolfyone/following{/other_user}",
      "gists_url": "https://api.github.com/users/rolfyone/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rolfyone/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rolfyone/subscriptions",
      "organizations_url": "https://api.github.com/users/rolfyone/orgs",
      "repos_url": "https://api.github.com/users/rolfyone/repos",
      "events_url": "https://api.github.com/users/rolfyone/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rolfyone/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-05-23T21:31:53Z",
    "updated_at": "2022-05-23T21:31:53Z",
    "author_association": "CONTRIBUTOR",
    "body": "have we tried memtestx86?",
    "reactions": {
      "url": "https://api.github.com/repos/ConsenSys/teku/issues/comments/1135156429/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ConsenSys/teku/issues/comments/1136252102",
    "html_url": "https://github.com/ConsenSys/teku/issues/5519#issuecomment-1136252102",
    "issue_url": "https://api.github.com/repos/ConsenSys/teku/issues/5519",
    "id": 1136252102,
    "node_id": "IC_kwDOCM9I9M5DudTG",
    "user": {
      "login": "Nashatyrev",
      "id": 8173857,
      "node_id": "MDQ6VXNlcjgxNzM4NTc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8173857?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Nashatyrev",
      "html_url": "https://github.com/Nashatyrev",
      "followers_url": "https://api.github.com/users/Nashatyrev/followers",
      "following_url": "https://api.github.com/users/Nashatyrev/following{/other_user}",
      "gists_url": "https://api.github.com/users/Nashatyrev/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Nashatyrev/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Nashatyrev/subscriptions",
      "organizations_url": "https://api.github.com/users/Nashatyrev/orgs",
      "repos_url": "https://api.github.com/users/Nashatyrev/repos",
      "events_url": "https://api.github.com/users/Nashatyrev/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Nashatyrev/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-05-24T17:41:22Z",
    "updated_at": "2022-05-24T17:41:22Z",
    "author_association": "CONTRIBUTOR",
    "body": "I've finally gave up trying to create a bootable memtest86 flash drive. Tried 2 distinct drives and all options found on forums and my macbook still doesn't see it as a bootable device (secure boot was turned off). \r\n\r\nClosing this issue as it is very likely I still have issues with my mac.  ",
    "reactions": {
      "url": "https://api.github.com/repos/ConsenSys/teku/issues/comments/1136252102/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
