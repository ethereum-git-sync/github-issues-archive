{
  "url": "https://api.github.com/repos/ConsenSys/teku/issues/5300",
  "repository_url": "https://api.github.com/repos/ConsenSys/teku",
  "labels_url": "https://api.github.com/repos/ConsenSys/teku/issues/5300/labels{/name}",
  "comments_url": "https://api.github.com/repos/ConsenSys/teku/issues/5300/comments",
  "events_url": "https://api.github.com/repos/ConsenSys/teku/issues/5300/events",
  "html_url": "https://github.com/ConsenSys/teku/issues/5300",
  "id": 1193831789,
  "node_id": "I_kwDOCM9I9M5HKG1t",
  "number": 5300,
  "title": "sync committee gossip should not be processed while in sync mode",
  "user": {
    "login": "rolfyone",
    "id": 2967240,
    "node_id": "MDQ6VXNlcjI5NjcyNDA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/2967240?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/rolfyone",
    "html_url": "https://github.com/rolfyone",
    "followers_url": "https://api.github.com/users/rolfyone/followers",
    "following_url": "https://api.github.com/users/rolfyone/following{/other_user}",
    "gists_url": "https://api.github.com/users/rolfyone/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/rolfyone/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/rolfyone/subscriptions",
    "organizations_url": "https://api.github.com/users/rolfyone/orgs",
    "repos_url": "https://api.github.com/users/rolfyone/repos",
    "events_url": "https://api.github.com/users/rolfyone/events{/privacy}",
    "received_events_url": "https://api.github.com/users/rolfyone/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2022-04-05T23:19:45Z",
  "updated_at": "2022-12-02T00:21:18Z",
  "closed_at": "2022-12-02T00:21:18Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "when in sync mode, its possible to get \n```\nteku 2022-04-05 23:09:36.734 WARN  - Ignoring sync committee gossip because the chain head is too old. Chain head slot 3519574 is more than an epoch before the required slot 3522560\n```\n\nif sync committee gossip isn't unsubscribed, and it's quite noisy in logs.  I suspect the answer is we should unsubscribe to sync committee channels while we're in sync mode, and coming out of sync mode any subscriptions should be re-issued.\n\nI'm not sure if it's worth just not even attempting to process the messages while syncing, but that may be another option, we just ignore them... will need to clarify preference with @ajsutton ",
  "closed_by": {
    "login": "ajsutton",
    "id": 72675,
    "node_id": "MDQ6VXNlcjcyNjc1",
    "avatar_url": "https://avatars.githubusercontent.com/u/72675?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/ajsutton",
    "html_url": "https://github.com/ajsutton",
    "followers_url": "https://api.github.com/users/ajsutton/followers",
    "following_url": "https://api.github.com/users/ajsutton/following{/other_user}",
    "gists_url": "https://api.github.com/users/ajsutton/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/ajsutton/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/ajsutton/subscriptions",
    "organizations_url": "https://api.github.com/users/ajsutton/orgs",
    "repos_url": "https://api.github.com/users/ajsutton/repos",
    "events_url": "https://api.github.com/users/ajsutton/events{/privacy}",
    "received_events_url": "https://api.github.com/users/ajsutton/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ConsenSys/teku/issues/5300/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ConsenSys/teku/issues/5300/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ConsenSys/teku/issues/comments/1089581656",
    "html_url": "https://github.com/ConsenSys/teku/issues/5300#issuecomment-1089581656",
    "issue_url": "https://api.github.com/repos/ConsenSys/teku/issues/5300",
    "id": 1089581656,
    "node_id": "IC_kwDOCM9I9M5A8bJY",
    "user": {
      "login": "ajsutton",
      "id": 72675,
      "node_id": "MDQ6VXNlcjcyNjc1",
      "avatar_url": "https://avatars.githubusercontent.com/u/72675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ajsutton",
      "html_url": "https://github.com/ajsutton",
      "followers_url": "https://api.github.com/users/ajsutton/followers",
      "following_url": "https://api.github.com/users/ajsutton/following{/other_user}",
      "gists_url": "https://api.github.com/users/ajsutton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ajsutton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ajsutton/subscriptions",
      "organizations_url": "https://api.github.com/users/ajsutton/orgs",
      "repos_url": "https://api.github.com/users/ajsutton/repos",
      "events_url": "https://api.github.com/users/ajsutton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ajsutton/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-04-06T00:39:08Z",
    "updated_at": "2022-04-06T00:39:08Z",
    "author_association": "CONTRIBUTOR",
    "body": "We normally unsubscribe from all gossip channels when we're far enough behind the chain head and sync committee gossip would be included in that.  Maybe that cut off is too far back but I suspect this is a symptom of bigger problems on the box at the time.  This log message is saying we're ignoring the message because the head is too far back.",
    "reactions": {
      "url": "https://api.github.com/repos/ConsenSys/teku/issues/comments/1089581656/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ConsenSys/teku/issues/comments/1334610474",
    "html_url": "https://github.com/ConsenSys/teku/issues/5300#issuecomment-1334610474",
    "issue_url": "https://api.github.com/repos/ConsenSys/teku/issues/5300",
    "id": 1334610474,
    "node_id": "IC_kwDOCM9I9M5PjIoq",
    "user": {
      "login": "ajsutton",
      "id": 72675,
      "node_id": "MDQ6VXNlcjcyNjc1",
      "avatar_url": "https://avatars.githubusercontent.com/u/72675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ajsutton",
      "html_url": "https://github.com/ajsutton",
      "followers_url": "https://api.github.com/users/ajsutton/followers",
      "following_url": "https://api.github.com/users/ajsutton/following{/other_user}",
      "gists_url": "https://api.github.com/users/ajsutton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ajsutton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ajsutton/subscriptions",
      "organizations_url": "https://api.github.com/users/ajsutton/orgs",
      "repos_url": "https://api.github.com/users/ajsutton/repos",
      "events_url": "https://api.github.com/users/ajsutton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ajsutton/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-12-02T00:21:18Z",
    "updated_at": "2022-12-02T00:21:18Z",
    "author_association": "CONTRIBUTOR",
    "body": "Going to close this - I haven't seen it since so I think that particular box in a bad state and hadn't unsubscribed from gossip for some reason despite being so far behind.",
    "reactions": {
      "url": "https://api.github.com/repos/ConsenSys/teku/issues/comments/1334610474/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
