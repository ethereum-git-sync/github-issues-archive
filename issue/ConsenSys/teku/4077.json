{
  "url": "https://api.github.com/repos/ConsenSys/teku/issues/4077",
  "repository_url": "https://api.github.com/repos/ConsenSys/teku",
  "labels_url": "https://api.github.com/repos/ConsenSys/teku/issues/4077/labels{/name}",
  "comments_url": "https://api.github.com/repos/ConsenSys/teku/issues/4077/comments",
  "events_url": "https://api.github.com/repos/ConsenSys/teku/issues/4077/events",
  "html_url": "https://github.com/ConsenSys/teku/issues/4077",
  "id": 917721650,
  "node_id": "MDU6SXNzdWU5MTc3MjE2NTA=",
  "number": 4077,
  "title": "EXCEPTION_ACCESS_VIOLATION Crash on exit",
  "user": {
    "login": "kirillp",
    "id": 4068190,
    "node_id": "MDQ6VXNlcjQwNjgxOTA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/4068190?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/kirillp",
    "html_url": "https://github.com/kirillp",
    "followers_url": "https://api.github.com/users/kirillp/followers",
    "following_url": "https://api.github.com/users/kirillp/following{/other_user}",
    "gists_url": "https://api.github.com/users/kirillp/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/kirillp/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/kirillp/subscriptions",
    "organizations_url": "https://api.github.com/users/kirillp/orgs",
    "repos_url": "https://api.github.com/users/kirillp/repos",
    "events_url": "https://api.github.com/users/kirillp/events{/privacy}",
    "received_events_url": "https://api.github.com/users/kirillp/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 5,
  "created_at": "2021-06-10T18:55:49Z",
  "updated_at": "2021-07-01T12:43:50Z",
  "closed_at": "2021-07-01T12:43:50Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "I was running teku-21.5.0 like this\r\n\r\nbin/teku.bat --network=pyrmont --eth1-endpoint=%eth_svc% --data-path test-data\r\n\r\nthen I exit teku by pressing Ctrl-C\r\n\r\n**Actual behavior:** [What actually happens]\r\n\r\nHave a native crash\r\n\r\n\r\n**Frequency:** [What percentage of the time does it occur?]\r\n\r\nAt least once\r\n\r\n### Versions (Add all that apply)\r\n* Software version: [`teku --version`] \r\n\r\nteku/v21.5.0/windows-x86_64/oracle_openjdk-java-16\r\n\r\n* Java version: [`java -version`]\r\n\r\nopenjdk 16.0.1 2021-04-20\r\nOpenJDK Runtime Environment (build 16.0.1+9-24)\r\nOpenJDK 64-Bit Server VM (build 16.0.1+9-24, mixed mode, sharing)\r\n\r\n* OS Name & Version: Windows 10 19043.1052 on i5-9600K CPU",
  "closed_by": {
    "login": "ajsutton",
    "id": 72675,
    "node_id": "MDQ6VXNlcjcyNjc1",
    "avatar_url": "https://avatars.githubusercontent.com/u/72675?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/ajsutton",
    "html_url": "https://github.com/ajsutton",
    "followers_url": "https://api.github.com/users/ajsutton/followers",
    "following_url": "https://api.github.com/users/ajsutton/following{/other_user}",
    "gists_url": "https://api.github.com/users/ajsutton/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/ajsutton/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/ajsutton/subscriptions",
    "organizations_url": "https://api.github.com/users/ajsutton/orgs",
    "repos_url": "https://api.github.com/users/ajsutton/repos",
    "events_url": "https://api.github.com/users/ajsutton/events{/privacy}",
    "received_events_url": "https://api.github.com/users/ajsutton/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ConsenSys/teku/issues/4077/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ConsenSys/teku/issues/4077/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ConsenSys/teku/issues/comments/858914031",
    "html_url": "https://github.com/ConsenSys/teku/issues/4077#issuecomment-858914031",
    "issue_url": "https://api.github.com/repos/ConsenSys/teku/issues/4077",
    "id": 858914031,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg1ODkxNDAzMQ==",
    "user": {
      "login": "kirillp",
      "id": 4068190,
      "node_id": "MDQ6VXNlcjQwNjgxOTA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4068190?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kirillp",
      "html_url": "https://github.com/kirillp",
      "followers_url": "https://api.github.com/users/kirillp/followers",
      "following_url": "https://api.github.com/users/kirillp/following{/other_user}",
      "gists_url": "https://api.github.com/users/kirillp/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kirillp/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kirillp/subscriptions",
      "organizations_url": "https://api.github.com/users/kirillp/orgs",
      "repos_url": "https://api.github.com/users/kirillp/repos",
      "events_url": "https://api.github.com/users/kirillp/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kirillp/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-06-10T18:56:20Z",
    "updated_at": "2021-06-10T18:56:20Z",
    "author_association": "NONE",
    "body": "[hs_err_pid1552.log](https://github.com/ConsenSys/teku/files/6633772/hs_err_pid1552.log)\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ConsenSys/teku/issues/comments/858914031/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ConsenSys/teku/issues/comments/859107665",
    "html_url": "https://github.com/ConsenSys/teku/issues/4077#issuecomment-859107665",
    "issue_url": "https://api.github.com/repos/ConsenSys/teku/issues/4077",
    "id": 859107665,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg1OTEwNzY2NQ==",
    "user": {
      "login": "rolfyone",
      "id": 2967240,
      "node_id": "MDQ6VXNlcjI5NjcyNDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2967240?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rolfyone",
      "html_url": "https://github.com/rolfyone",
      "followers_url": "https://api.github.com/users/rolfyone/followers",
      "following_url": "https://api.github.com/users/rolfyone/following{/other_user}",
      "gists_url": "https://api.github.com/users/rolfyone/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rolfyone/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rolfyone/subscriptions",
      "organizations_url": "https://api.github.com/users/rolfyone/orgs",
      "repos_url": "https://api.github.com/users/rolfyone/repos",
      "events_url": "https://api.github.com/users/rolfyone/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rolfyone/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-06-10T22:00:30Z",
    "updated_at": "2021-06-10T22:00:30Z",
    "author_association": "CONTRIBUTOR",
    "body": "Thanks for raising this, and the log has been really helpful.\n\nI believe this will be closely related to #4034, which will be in the next release.  The database will be fine, and on restart everything should be ok again, it's just trying to write to the database after it's been closed.\n\nLet us know if you've got issues starting up...",
    "reactions": {
      "url": "https://api.github.com/repos/ConsenSys/teku/issues/comments/859107665/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ConsenSys/teku/issues/comments/859531685",
    "html_url": "https://github.com/ConsenSys/teku/issues/4077#issuecomment-859531685",
    "issue_url": "https://api.github.com/repos/ConsenSys/teku/issues/4077",
    "id": 859531685,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg1OTUzMTY4NQ==",
    "user": {
      "login": "kirillp",
      "id": 4068190,
      "node_id": "MDQ6VXNlcjQwNjgxOTA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4068190?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kirillp",
      "html_url": "https://github.com/kirillp",
      "followers_url": "https://api.github.com/users/kirillp/followers",
      "following_url": "https://api.github.com/users/kirillp/following{/other_user}",
      "gists_url": "https://api.github.com/users/kirillp/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kirillp/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kirillp/subscriptions",
      "organizations_url": "https://api.github.com/users/kirillp/orgs",
      "repos_url": "https://api.github.com/users/kirillp/repos",
      "events_url": "https://api.github.com/users/kirillp/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kirillp/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-06-11T12:01:56Z",
    "updated_at": "2021-06-11T12:01:56Z",
    "author_association": "NONE",
    "body": "I updated to 21.6. Have not seen this yet",
    "reactions": {
      "url": "https://api.github.com/repos/ConsenSys/teku/issues/comments/859531685/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ConsenSys/teku/issues/comments/860292319",
    "html_url": "https://github.com/ConsenSys/teku/issues/4077#issuecomment-860292319",
    "issue_url": "https://api.github.com/repos/ConsenSys/teku/issues/4077",
    "id": 860292319,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg2MDI5MjMxOQ==",
    "user": {
      "login": "ajsutton",
      "id": 72675,
      "node_id": "MDQ6VXNlcjcyNjc1",
      "avatar_url": "https://avatars.githubusercontent.com/u/72675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ajsutton",
      "html_url": "https://github.com/ajsutton",
      "followers_url": "https://api.github.com/users/ajsutton/followers",
      "following_url": "https://api.github.com/users/ajsutton/following{/other_user}",
      "gists_url": "https://api.github.com/users/ajsutton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ajsutton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ajsutton/subscriptions",
      "organizations_url": "https://api.github.com/users/ajsutton/orgs",
      "repos_url": "https://api.github.com/users/ajsutton/repos",
      "events_url": "https://api.github.com/users/ajsutton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ajsutton/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-06-14T00:12:57Z",
    "updated_at": "2021-06-14T00:12:57Z",
    "author_association": "CONTRIBUTOR",
    "body": "> I updated to 21.6. Have not seen this yet\r\n\r\nNote: this fix will actually wind up in 21.6.1, not the just released 21.6.0.  There's a few days lag between the commit we choose to release and it actually going out because we do some final testing on real live nodes before releasing to users.  The crash only happens during shutdown though so won't affect stability - just creates a bit of scary noise.",
    "reactions": {
      "url": "https://api.github.com/repos/ConsenSys/teku/issues/comments/860292319/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ConsenSys/teku/issues/comments/872214812",
    "html_url": "https://github.com/ConsenSys/teku/issues/4077#issuecomment-872214812",
    "issue_url": "https://api.github.com/repos/ConsenSys/teku/issues/4077",
    "id": 872214812,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg3MjIxNDgxMg==",
    "user": {
      "login": "ajsutton",
      "id": 72675,
      "node_id": "MDQ6VXNlcjcyNjc1",
      "avatar_url": "https://avatars.githubusercontent.com/u/72675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ajsutton",
      "html_url": "https://github.com/ajsutton",
      "followers_url": "https://api.github.com/users/ajsutton/followers",
      "following_url": "https://api.github.com/users/ajsutton/following{/other_user}",
      "gists_url": "https://api.github.com/users/ajsutton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ajsutton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ajsutton/subscriptions",
      "organizations_url": "https://api.github.com/users/ajsutton/orgs",
      "repos_url": "https://api.github.com/users/ajsutton/repos",
      "events_url": "https://api.github.com/users/ajsutton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ajsutton/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-01T12:43:50Z",
    "updated_at": "2021-07-01T12:43:50Z",
    "author_association": "CONTRIBUTOR",
    "body": "This fix has now shipped in 21.6.1.",
    "reactions": {
      "url": "https://api.github.com/repos/ConsenSys/teku/issues/comments/872214812/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
