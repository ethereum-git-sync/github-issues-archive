{
  "url": "https://api.github.com/repos/ConsenSys/teku/issues/7151",
  "repository_url": "https://api.github.com/repos/ConsenSys/teku",
  "labels_url": "https://api.github.com/repos/ConsenSys/teku/issues/7151/labels{/name}",
  "comments_url": "https://api.github.com/repos/ConsenSys/teku/issues/7151/comments",
  "events_url": "https://api.github.com/repos/ConsenSys/teku/issues/7151/events",
  "html_url": "https://github.com/ConsenSys/teku/issues/7151",
  "id": 1713325840,
  "node_id": "I_kwDOCM9I9M5mH0cQ",
  "number": 7151,
  "title": "Jetty version 9.4.45.v20220203 returning java.lang.UnsupportedOperationException during Handshake",
  "user": {
    "login": "baljeetsingh79",
    "id": 57761862,
    "node_id": "MDQ6VXNlcjU3NzYxODYy",
    "avatar_url": "https://avatars.githubusercontent.com/u/57761862?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/baljeetsingh79",
    "html_url": "https://github.com/baljeetsingh79",
    "followers_url": "https://api.github.com/users/baljeetsingh79/followers",
    "following_url": "https://api.github.com/users/baljeetsingh79/following{/other_user}",
    "gists_url": "https://api.github.com/users/baljeetsingh79/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/baljeetsingh79/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/baljeetsingh79/subscriptions",
    "organizations_url": "https://api.github.com/users/baljeetsingh79/orgs",
    "repos_url": "https://api.github.com/users/baljeetsingh79/repos",
    "events_url": "https://api.github.com/users/baljeetsingh79/events{/privacy}",
    "received_events_url": "https://api.github.com/users/baljeetsingh79/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2023-05-17T07:45:22Z",
  "updated_at": "2023-05-30T08:10:37Z",
  "closed_at": "2023-05-30T08:10:37Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "<!-- \r\nBy filing an Issue, you are expected to comply with the Code of Conduct, \r\nincluding treating everyone with respect:\r\nhttps://github.com/ConsenSys/teku/blob/master/CODE-OF-CONDUCT.md\r\n\r\nNot all sections will apply to all issue types.\r\n-->\r\n\r\n### Description\r\n[Jetty version 9.4.45.v20220203 returning java.lang.UnsupportedOperationException during Handshake. If Oracle jdk (version 8) is FIPS (Federal Information Processing Standard) enabled then handshake is failing with java.lang.UnsupportedOperationException exception even though JSSE provider is of JDK 8 only.  It is working fine for Non FIPS enabled environments.]\r\n\r\n### Steps to Reproduce (Bug)\r\n[When jetty HTTP client calls for handshake using JettyHttpClientTransport class with default SSL context factory (SslContextFactory.Client())  to Jetty Server it fails with java.lang.UnsupportedOperationException). Following is the stack trace-> \r\norg.cometd.client.http.jetty.JettyHttpClientTransport$ResponseListener.onComplete(JettyHttpClientTransport.java:277)\r\n    at org.eclipse.jetty.client.ResponseNotifier.notifyComplete(ResponseNotifier.java:218)\r\n    at org.eclipse.jetty.client.ResponseNotifier.notifyComplete(ResponseNotifier.java:210)\r\n    at org.eclipse.jetty.client.HttpExchange.notifyFailureComplete(HttpExchange.java:276)\r\n    at org.eclipse.jetty.client.HttpExchange.abort(HttpExchange.java:247)\r\n    at org.eclipse.jetty.client.HttpConversation.abort(HttpConversation.java:164)\r\n    at org.eclipse.jetty.client.HttpRequest.abort(HttpRequest.java:819)\r\n    at org.eclipse.jetty.client.HttpDestination.abort(HttpDestination.java:502)\r\n    at org.eclipse.jetty.client.HttpDestination.failed(HttpDestination.java:252)\r\n    at org.eclipse.jetty.client.AbstractConnectionPool$FutureConnection.failed(AbstractConnectionPool.java:570)\r\n    at org.eclipse.jetty.util.Promise$Wrapper.failed(Promise.java:136)\r\n    at org.eclipse.jetty.client.HttpClient$1$1.failed(HttpClient.java:633)\r\n    at org.eclipse.jetty.client.AbstractConnectorHttpClientTransport.connectFailed(AbstractConnectorHttpClientTransport.java:138)\r\n    at org.eclipse.jetty.client.AbstractConnectorHttpClientTransport$ClientSelectorManager.connectionFailed(AbstractConnectorHttpClientTransport.java:188)\r\n    at org.eclipse.jetty.io.ManagedSelector$Connect.failed(ManagedSelector.java:966)\r\n    at org.eclipse.jetty.io.ManagedSelector$CreateEndPoint.run(ManagedSelector.java:1077)\r\n    at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:883)\r\n    at org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.run(QueuedThreadPool.java:1034)\r\n]\r\n\r\n**Expected behavior:** [The handshake should pass without the java.lang.UnsupportedOperationException]\r\n\r\n**Actual behavior:** [handshake is failing with java.lang.UnsupportedOperationException]\r\n\r\n**Frequency:** [Its consistently happens for every handshake request on the FIPS enabled environment.]\r\n\r\n### Versions (Add all that apply)\r\n* Software version: [`Jetty -- version 9.4.45.v20220203` ]\r\n* Java version: [`java -8`]\r\n* OS Name & Version: [Linux]\r\n* Docker Version: [`docker version`]NA\r\n* Cloud VM, type, size: [Amazon Web Services I3-large]NA",
  "closed_by": {
    "login": "lucassaldanha",
    "id": 1766440,
    "node_id": "MDQ6VXNlcjE3NjY0NDA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1766440?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/lucassaldanha",
    "html_url": "https://github.com/lucassaldanha",
    "followers_url": "https://api.github.com/users/lucassaldanha/followers",
    "following_url": "https://api.github.com/users/lucassaldanha/following{/other_user}",
    "gists_url": "https://api.github.com/users/lucassaldanha/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/lucassaldanha/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/lucassaldanha/subscriptions",
    "organizations_url": "https://api.github.com/users/lucassaldanha/orgs",
    "repos_url": "https://api.github.com/users/lucassaldanha/repos",
    "events_url": "https://api.github.com/users/lucassaldanha/events{/privacy}",
    "received_events_url": "https://api.github.com/users/lucassaldanha/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ConsenSys/teku/issues/7151/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ConsenSys/teku/issues/7151/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ConsenSys/teku/issues/comments/1552757100",
    "html_url": "https://github.com/ConsenSys/teku/issues/7151#issuecomment-1552757100",
    "issue_url": "https://api.github.com/repos/ConsenSys/teku/issues/7151",
    "id": 1552757100,
    "node_id": "IC_kwDOCM9I9M5cjTFs",
    "user": {
      "login": "lucassaldanha",
      "id": 1766440,
      "node_id": "MDQ6VXNlcjE3NjY0NDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1766440?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lucassaldanha",
      "html_url": "https://github.com/lucassaldanha",
      "followers_url": "https://api.github.com/users/lucassaldanha/followers",
      "following_url": "https://api.github.com/users/lucassaldanha/following{/other_user}",
      "gists_url": "https://api.github.com/users/lucassaldanha/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lucassaldanha/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lucassaldanha/subscriptions",
      "organizations_url": "https://api.github.com/users/lucassaldanha/orgs",
      "repos_url": "https://api.github.com/users/lucassaldanha/repos",
      "events_url": "https://api.github.com/users/lucassaldanha/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lucassaldanha/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-05-18T09:03:24Z",
    "updated_at": "2023-05-18T09:03:40Z",
    "author_association": "MEMBER",
    "body": "Hi! To help us better support you we need more information on what you are trying to do with Teku. Please clarify the version of Teku that you are using and the exact JDK you are running.\r\n\r\nAnother thing to note is that our minimum supported Java version to run Teku is 11 ([docs](https://docs.teku.consensys.net/get-started/install/build-from-source#prerequisites)) so my first suggestion would be to upgrade your JDK to 11.",
    "reactions": {
      "url": "https://api.github.com/repos/ConsenSys/teku/issues/comments/1552757100/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ConsenSys/teku/issues/comments/1567968761",
    "html_url": "https://github.com/ConsenSys/teku/issues/7151#issuecomment-1567968761",
    "issue_url": "https://api.github.com/repos/ConsenSys/teku/issues/7151",
    "id": 1567968761,
    "node_id": "IC_kwDOCM9I9M5ddU35",
    "user": {
      "login": "lucassaldanha",
      "id": 1766440,
      "node_id": "MDQ6VXNlcjE3NjY0NDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1766440?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lucassaldanha",
      "html_url": "https://github.com/lucassaldanha",
      "followers_url": "https://api.github.com/users/lucassaldanha/followers",
      "following_url": "https://api.github.com/users/lucassaldanha/following{/other_user}",
      "gists_url": "https://api.github.com/users/lucassaldanha/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lucassaldanha/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lucassaldanha/subscriptions",
      "organizations_url": "https://api.github.com/users/lucassaldanha/orgs",
      "repos_url": "https://api.github.com/users/lucassaldanha/repos",
      "events_url": "https://api.github.com/users/lucassaldanha/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lucassaldanha/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-05-30T08:10:37Z",
    "updated_at": "2023-05-30T08:10:37Z",
    "author_association": "MEMBER",
    "body": "Closing this ticket due to inactivity. Feel free to reopen it with the extra info if needed.",
    "reactions": {
      "url": "https://api.github.com/repos/ConsenSys/teku/issues/comments/1567968761/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
