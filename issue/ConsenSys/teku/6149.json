{
  "url": "https://api.github.com/repos/ConsenSys/teku/issues/6149",
  "repository_url": "https://api.github.com/repos/ConsenSys/teku",
  "labels_url": "https://api.github.com/repos/ConsenSys/teku/issues/6149/labels{/name}",
  "comments_url": "https://api.github.com/repos/ConsenSys/teku/issues/6149/comments",
  "events_url": "https://api.github.com/repos/ConsenSys/teku/issues/6149/events",
  "html_url": "https://github.com/ConsenSys/teku/issues/6149",
  "id": 1358973789,
  "node_id": "I_kwDOCM9I9M5RAEtd",
  "number": 6149,
  "title": "Make Teku slightly less noisy when the Eth1 service goes down",
  "user": {
    "login": "benjaminion",
    "id": 20796281,
    "node_id": "MDQ6VXNlcjIwNzk2Mjgx",
    "avatar_url": "https://avatars.githubusercontent.com/u/20796281?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/benjaminion",
    "html_url": "https://github.com/benjaminion",
    "followers_url": "https://api.github.com/users/benjaminion/followers",
    "following_url": "https://api.github.com/users/benjaminion/following{/other_user}",
    "gists_url": "https://api.github.com/users/benjaminion/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/benjaminion/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/benjaminion/subscriptions",
    "organizations_url": "https://api.github.com/users/benjaminion/orgs",
    "repos_url": "https://api.github.com/users/benjaminion/repos",
    "events_url": "https://api.github.com/users/benjaminion/events{/privacy}",
    "received_events_url": "https://api.github.com/users/benjaminion/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": {
    "login": "mehdi-aouadi",
    "id": 1208687,
    "node_id": "MDQ6VXNlcjEyMDg2ODc=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1208687?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/mehdi-aouadi",
    "html_url": "https://github.com/mehdi-aouadi",
    "followers_url": "https://api.github.com/users/mehdi-aouadi/followers",
    "following_url": "https://api.github.com/users/mehdi-aouadi/following{/other_user}",
    "gists_url": "https://api.github.com/users/mehdi-aouadi/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/mehdi-aouadi/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/mehdi-aouadi/subscriptions",
    "organizations_url": "https://api.github.com/users/mehdi-aouadi/orgs",
    "repos_url": "https://api.github.com/users/mehdi-aouadi/repos",
    "events_url": "https://api.github.com/users/mehdi-aouadi/events{/privacy}",
    "received_events_url": "https://api.github.com/users/mehdi-aouadi/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "mehdi-aouadi",
      "id": 1208687,
      "node_id": "MDQ6VXNlcjEyMDg2ODc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1208687?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mehdi-aouadi",
      "html_url": "https://github.com/mehdi-aouadi",
      "followers_url": "https://api.github.com/users/mehdi-aouadi/followers",
      "following_url": "https://api.github.com/users/mehdi-aouadi/following{/other_user}",
      "gists_url": "https://api.github.com/users/mehdi-aouadi/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mehdi-aouadi/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mehdi-aouadi/subscriptions",
      "organizations_url": "https://api.github.com/users/mehdi-aouadi/orgs",
      "repos_url": "https://api.github.com/users/mehdi-aouadi/repos",
      "events_url": "https://api.github.com/users/mehdi-aouadi/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mehdi-aouadi/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 0,
  "created_at": "2022-09-01T14:49:17Z",
  "updated_at": "2022-09-09T12:42:32Z",
  "closed_at": "2022-09-09T12:42:32Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "I am running Teku and Besu in a Merge-ready combination.\r\n\r\nI stopped Besu to do some maintenance, and while it was shutting down Teku emitted page after page of the following (same stack trace many times). This seems unnecessary and it would be good to trap this and print a clean warning.\r\n\r\n```\r\nSep 01 14:41:21 metalalbert teku[241575]: 2022-09-01 14:41:21.933 ERROR - Failed to update eth1 chain head\r\nSep 01 14:41:21 metalalbert teku[241575]: java.net.ConnectException: Failed to connect to /127.0.0.1:8551\r\nSep 01 14:41:21 metalalbert teku[241575]: at okhttp3.internal.connection.RealConnection.connectSocket(RealConnection.kt:297) ~[okhttp-4.9.2.jar:?]\r\nSep 01 14:41:21 metalalbert teku[241575]: at okhttp3.internal.connection.RealConnection.connect(RealConnection.kt:207) ~[okhttp-4.9.2.jar:?]\r\nSep 01 14:41:21 metalalbert teku[241575]: at okhttp3.internal.connection.ExchangeFinder.findConnection(ExchangeFinder.kt:226) ~[okhttp-4.9.2.jar:?]\r\nSep 01 14:41:21 metalalbert teku[241575]: at okhttp3.internal.connection.ExchangeFinder.findHealthyConnection(ExchangeFinder.kt:106) ~[okhttp-4.9.2.jar:?]\r\nSep 01 14:41:21 metalalbert teku[241575]: at okhttp3.internal.connection.ExchangeFinder.find(ExchangeFinder.kt:74) ~[okhttp-4.9.2.jar:?]\r\nSep 01 14:41:21 metalalbert teku[241575]: at okhttp3.internal.connection.RealCall.initExchange$okhttp(RealCall.kt:255) ~[okhttp-4.9.2.jar:?]\r\nSep 01 14:41:21 metalalbert teku[241575]: at okhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.kt:32) ~[okhttp-4.9.2.jar:?]\r\nSep 01 14:41:21 metalalbert teku[241575]: at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109) ~[okhttp-4.9.2.jar:?]\r\nSep 01 14:41:21 metalalbert teku[241575]: at okhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.kt:95) ~[okhttp-4.9.2.jar:?]\r\nSep 01 14:41:21 metalalbert teku[241575]: at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109) ~[okhttp-4.9.2.jar:?]\r\nSep 01 14:41:21 metalalbert teku[241575]: at okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.kt:83) ~[okhttp-4.9.2.jar:?]\r\nSep 01 14:41:21 metalalbert teku[241575]: at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109) ~[okhttp-4.9.2.jar:?]\r\nSep 01 14:41:21 metalalbert teku[241575]: at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.kt:76) ~[okhttp-4.9.2.jar:?]\r\nSep 01 14:41:21 metalalbert teku[241575]: at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109) ~[okhttp-4.9.2.jar:?]\r\nSep 01 14:41:21 metalalbert teku[241575]: at tech.pegasys.teku.ethereum.executionclient.auth.JwtAuthHttpInterceptor.intercept(JwtAuthHttpInterceptor.java:41) ~[teku-ethereum-executionclient-22.8.2.jar:22.8.2]\r\nSep 01 14:41:21 metalalbert teku[241575]: at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109) ~[okhttp-4.9.2.jar:?]\r\nSep 01 14:41:21 metalalbert teku[241575]: at okhttp3.internal.connection.RealCall.getResponseWithInterceptorChain$okhttp(RealCall.kt:201) ~[okhttp-4.9.2.jar:?]\r\nSep 01 14:41:22 metalalbert teku[241575]: at okhttp3.internal.connection.RealCall.execute(RealCall.kt:154) ~[okhttp-4.9.2.jar:?]\r\nSep 01 14:41:22 metalalbert teku[241575]: at org.web3j.protocol.http.HttpService.performIO(HttpService.java:165) ~[core-4.9.3.jar:?]\r\nSep 01 14:41:22 metalalbert teku[241575]: at org.web3j.protocol.Service.send(Service.java:48) ~[core-4.9.3.jar:?]\r\nSep 01 14:41:22 metalalbert teku[241575]: at org.web3j.protocol.Service.lambda$sendAsync$0(Service.java:60) ~[core-4.9.3.jar:?]\r\nSep 01 14:41:22 metalalbert teku[241575]: at org.web3j.utils.Async.lambda$run$1(Async.java:38) ~[core-4.9.3.jar:?]\r\nSep 01 14:41:22 metalalbert teku[241575]: at java.util.concurrent.CompletableFuture$AsyncRun.run(CompletableFuture.java:1804) ~[?:?]\r\nSep 01 14:41:22 metalalbert teku[241575]: at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[?:?]\r\nSep 01 14:41:22 metalalbert teku[241575]: at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[?:?]\r\nSep 01 14:41:22 metalalbert teku[241575]: at java.lang.Thread.run(Thread.java:833) ~[?:?]\r\nSep 01 14:41:22 metalalbert teku[241575]: Suppressed: java.io.IOException: unexpected end of stream on http://127.0.0.1:8551/...\r\nSep 01 14:41:22 metalalbert teku[241575]: at okhttp3.internal.http1.Http1ExchangeCodec.readResponseHeaders(Http1ExchangeCodec.kt:202) ~[okhttp-4.9.2.jar:?]\r\nSep 01 14:41:22 metalalbert teku[241575]: at okhttp3.internal.connection.Exchange.readResponseHeaders(Exchange.kt:106) ~[okhttp-4.9.2.jar:?]\r\nSep 01 14:41:22 metalalbert teku[241575]: at okhttp3.internal.http.CallServerInterceptor.intercept(CallServerInterceptor.kt:79) ~[okhttp-4.9.2.jar:?]\r\nSep 01 14:41:22 metalalbert teku[241575]: at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109) ~[okhttp-4.9.2.jar:?]\r\nSep 01 14:41:22 metalalbert teku[241575]: at okhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.kt:34) ~[okhttp-4.9.2.jar:?]\r\nSep 01 14:41:22 metalalbert teku[241575]: at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109) ~[okhttp-4.9.2.jar:?]\r\nSep 01 14:41:22 metalalbert teku[241575]: at okhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.kt:95) ~[okhttp-4.9.2.jar:?]\r\nSep 01 14:41:22 metalalbert teku[241575]: at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109) ~[okhttp-4.9.2.jar:?]\r\nSep 01 14:41:22 metalalbert teku[241575]: at okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.kt:83) ~[okhttp-4.9.2.jar:?]\r\nSep 01 14:41:22 metalalbert teku[241575]: at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109) ~[okhttp-4.9.2.jar:?]\r\nSep 01 14:41:22 metalalbert teku[241575]: at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.kt:76) ~[okhttp-4.9.2.jar:?]\r\nSep 01 14:41:22 metalalbert teku[241575]: at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109) ~[okhttp-4.9.2.jar:?]\r\nSep 01 14:41:22 metalalbert teku[241575]: at tech.pegasys.teku.ethereum.executionclient.auth.JwtAuthHttpInterceptor.intercept(JwtAuthHttpInterceptor.java:41) ~[teku-ethereum-executionclient-22.8.2.jar:22.8.2]\r\nSep 01 14:41:22 metalalbert teku[241575]: at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109) ~[okhttp-4.9.2.jar:?]\r\nSep 01 14:41:22 metalalbert teku[241575]: at okhttp3.internal.connection.RealCall.getResponseWithInterceptorChain$okhttp(RealCall.kt:201) ~[okhttp-4.9.2.jar:?]\r\nSep 01 14:41:22 metalalbert teku[241575]: at okhttp3.internal.connection.RealCall.execute(RealCall.kt:154) ~[okhttp-4.9.2.jar:?]\r\nSep 01 14:41:22 metalalbert teku[241575]: at org.web3j.protocol.http.HttpService.performIO(HttpService.java:165) ~[core-4.9.3.jar:?]\r\nSep 01 14:41:22 metalalbert teku[241575]: at org.web3j.protocol.Service.send(Service.java:48) ~[core-4.9.3.jar:?]\r\nSep 01 14:41:22 metalalbert teku[241575]: at org.web3j.protocol.Service.lambda$sendAsync$0(Service.java:60) ~[core-4.9.3.jar:?]\r\nSep 01 14:41:22 metalalbert teku[241575]: at org.web3j.utils.Async.lambda$run$1(Async.java:38) ~[core-4.9.3.jar:?]\r\nSep 01 14:41:22 metalalbert teku[241575]: at java.util.concurrent.CompletableFuture$AsyncRun.run(CompletableFuture.java:1804) ~[?:?]\r\nSep 01 14:41:22 metalalbert teku[241575]: at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[?:?]\r\nSep 01 14:41:22 metalalbert teku[241575]: at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[?:?]\r\nSep 01 14:41:22 metalalbert teku[241575]: at java.lang.Thread.run(Thread.java:833) ~[?:?]\r\nSep 01 14:41:22 metalalbert teku[241575]: Caused by: java.io.EOFException: \\n not found: limit=0 content=…\r\nSep 01 14:41:22 metalalbert teku[241575]: at okio.RealBufferedSource.readUtf8LineStrict(RealBufferedSource.kt:332) ~[okio-jvm-2.8.0.jar:?]\r\nSep 01 14:41:22 metalalbert teku[241575]: at okhttp3.internal.http1.HeadersReader.readLine(HeadersReader.kt:29) ~[okhttp-4.9.2.jar:?]\r\nSep 01 14:41:22 metalalbert teku[241575]: at okhttp3.internal.http1.Http1ExchangeCodec.readResponseHeaders(Http1ExchangeCodec.kt:178) ~[okhttp-4.9.2.jar:?]\r\nSep 01 14:41:22 metalalbert teku[241575]: ... 23 more\r\nSep 01 14:41:22 metalalbert teku[241575]: Caused by: java.net.ConnectException: Connection refused\r\nSep 01 14:41:22 metalalbert teku[241575]: at sun.nio.ch.Net.pollConnect(Native Method) ~[?:?]\r\nSep 01 14:41:22 metalalbert teku[241575]: at sun.nio.ch.Net.pollConnectNow(Net.java:672) ~[?:?]\r\nSep 01 14:41:22 metalalbert teku[241575]: at sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542) ~[?:?]\r\nSep 01 14:41:22 metalalbert teku[241575]: at sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:597) ~[?:?]\r\nSep 01 14:41:22 metalalbert teku[241575]: at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327) ~[?:?]\r\nSep 01 14:41:22 metalalbert teku[241575]: at java.net.Socket.connect(Socket.java:633) ~[?:?]\r\nSep 01 14:41:22 metalalbert teku[241575]: at okhttp3.internal.platform.Platform.connectSocket(Platform.kt:128) ~[okhttp-4.9.2.jar:?]\r\nSep 01 14:41:22 metalalbert teku[241575]: at okhttp3.internal.connection.RealConnection.connectSocket(RealConnection.kt:295) ~[okhttp-4.9.2.jar:?]\r\nSep 01 14:41:22 metalalbert teku[241575]: ... 25 more\r\n```\r\n",
  "closed_by": {
    "login": "mehdi-aouadi",
    "id": 1208687,
    "node_id": "MDQ6VXNlcjEyMDg2ODc=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1208687?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/mehdi-aouadi",
    "html_url": "https://github.com/mehdi-aouadi",
    "followers_url": "https://api.github.com/users/mehdi-aouadi/followers",
    "following_url": "https://api.github.com/users/mehdi-aouadi/following{/other_user}",
    "gists_url": "https://api.github.com/users/mehdi-aouadi/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/mehdi-aouadi/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/mehdi-aouadi/subscriptions",
    "organizations_url": "https://api.github.com/users/mehdi-aouadi/orgs",
    "repos_url": "https://api.github.com/users/mehdi-aouadi/repos",
    "events_url": "https://api.github.com/users/mehdi-aouadi/events{/privacy}",
    "received_events_url": "https://api.github.com/users/mehdi-aouadi/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ConsenSys/teku/issues/6149/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ConsenSys/teku/issues/6149/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[

]
