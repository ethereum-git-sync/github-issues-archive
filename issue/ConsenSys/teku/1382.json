{
  "url": "https://api.github.com/repos/ConsenSys/teku/issues/1382",
  "repository_url": "https://api.github.com/repos/ConsenSys/teku",
  "labels_url": "https://api.github.com/repos/ConsenSys/teku/issues/1382/labels{/name}",
  "comments_url": "https://api.github.com/repos/ConsenSys/teku/issues/1382/comments",
  "events_url": "https://api.github.com/repos/ConsenSys/teku/issues/1382/events",
  "html_url": "https://github.com/ConsenSys/teku/issues/1382",
  "id": 582661449,
  "node_id": "MDU6SXNzdWU1ODI2NjE0NDk=",
  "number": 1382,
  "title": "Use an external signing service to sign blocks and attestations",
  "user": {
    "login": "jframe",
    "id": 909467,
    "node_id": "MDQ6VXNlcjkwOTQ2Nw==",
    "avatar_url": "https://avatars.githubusercontent.com/u/909467?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/jframe",
    "html_url": "https://github.com/jframe",
    "followers_url": "https://api.github.com/users/jframe/followers",
    "following_url": "https://api.github.com/users/jframe/following{/other_user}",
    "gists_url": "https://api.github.com/users/jframe/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/jframe/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/jframe/subscriptions",
    "organizations_url": "https://api.github.com/users/jframe/orgs",
    "repos_url": "https://api.github.com/users/jframe/repos",
    "events_url": "https://api.github.com/users/jframe/events{/privacy}",
    "received_events_url": "https://api.github.com/users/jframe/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 1846450568,
      "node_id": "MDU6TGFiZWwxODQ2NDUwNTY4",
      "url": "https://api.github.com/repos/ConsenSys/teku/labels/TeamGroot",
      "name": "TeamGroot",
      "color": "1d76db",
      "default": false,
      "description": "Under active development by TeamGroot @PegaSys"
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": {
    "login": "jframe",
    "id": 909467,
    "node_id": "MDQ6VXNlcjkwOTQ2Nw==",
    "avatar_url": "https://avatars.githubusercontent.com/u/909467?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/jframe",
    "html_url": "https://github.com/jframe",
    "followers_url": "https://api.github.com/users/jframe/followers",
    "following_url": "https://api.github.com/users/jframe/following{/other_user}",
    "gists_url": "https://api.github.com/users/jframe/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/jframe/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/jframe/subscriptions",
    "organizations_url": "https://api.github.com/users/jframe/orgs",
    "repos_url": "https://api.github.com/users/jframe/repos",
    "events_url": "https://api.github.com/users/jframe/events{/privacy}",
    "received_events_url": "https://api.github.com/users/jframe/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "jframe",
      "id": 909467,
      "node_id": "MDQ6VXNlcjkwOTQ2Nw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/909467?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jframe",
      "html_url": "https://github.com/jframe",
      "followers_url": "https://api.github.com/users/jframe/followers",
      "following_url": "https://api.github.com/users/jframe/following{/other_user}",
      "gists_url": "https://api.github.com/users/jframe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jframe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jframe/subscriptions",
      "organizations_url": "https://api.github.com/users/jframe/orgs",
      "repos_url": "https://api.github.com/users/jframe/repos",
      "events_url": "https://api.github.com/users/jframe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jframe/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2020-03-16T23:45:21Z",
  "updated_at": "2020-04-30T01:37:39Z",
  "closed_at": "2020-04-30T01:37:39Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "### Description\r\nAs a Teku administrator, I want to use an external signing service so that my validator keys can be kept secure. \r\n\r\n### Acceptance Criteria\r\n* CLI options for the signing service url, the public keys of the validator keys that will be used for signing with the external service\r\n* Sign blocks and attestations for the validator keys configured to use external signing\r\n\r\n### Additional Information\r\nEth2Signer is an example of an external signing service and has the following API:\r\n\r\nPOST\r\n/signer/block\r\n{\"publicKey\": <HEXVALUE>, \"signingRoot\": <HEXVALUE\\>}\r\n\r\n/signer/attestation\r\n{\"publicKey\": <HEXVALUE>, \"signingRoot\": <HEXVALUE\\>}\r\n\r\n/signer/randao_reveal\r\n{\"publicKey\": <HEXVALUE>, \"signingRoot\": <HEXVALUE\\>}\r\n\r\nAnd an example of the request body:\r\n{\"publicKey\":\"0x989d34725a2bfc3f15105f3f5fc8741f436c25ee1ee4f948e425d6bcb8c56bce6e06c269635b7e985a7ffa639e2409bf\",\"signingRoot\":\"0x48656c6c6f2c20776f726c6421\"}\r\n",
  "closed_by": {
    "login": "bgravenorst",
    "id": 50852695,
    "node_id": "MDQ6VXNlcjUwODUyNjk1",
    "avatar_url": "https://avatars.githubusercontent.com/u/50852695?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/bgravenorst",
    "html_url": "https://github.com/bgravenorst",
    "followers_url": "https://api.github.com/users/bgravenorst/followers",
    "following_url": "https://api.github.com/users/bgravenorst/following{/other_user}",
    "gists_url": "https://api.github.com/users/bgravenorst/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/bgravenorst/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/bgravenorst/subscriptions",
    "organizations_url": "https://api.github.com/users/bgravenorst/orgs",
    "repos_url": "https://api.github.com/users/bgravenorst/repos",
    "events_url": "https://api.github.com/users/bgravenorst/events{/privacy}",
    "received_events_url": "https://api.github.com/users/bgravenorst/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ConsenSys/teku/issues/1382/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ConsenSys/teku/issues/1382/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ConsenSys/teku/issues/comments/600405627",
    "html_url": "https://github.com/ConsenSys/teku/issues/1382#issuecomment-600405627",
    "issue_url": "https://api.github.com/repos/ConsenSys/teku/issues/1382",
    "id": 600405627,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYwMDQwNTYyNw==",
    "user": {
      "login": "arash009",
      "id": 33149995,
      "node_id": "MDQ6VXNlcjMzMTQ5OTk1",
      "avatar_url": "https://avatars.githubusercontent.com/u/33149995?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/arash009",
      "html_url": "https://github.com/arash009",
      "followers_url": "https://api.github.com/users/arash009/followers",
      "following_url": "https://api.github.com/users/arash009/following{/other_user}",
      "gists_url": "https://api.github.com/users/arash009/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/arash009/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/arash009/subscriptions",
      "organizations_url": "https://api.github.com/users/arash009/orgs",
      "repos_url": "https://api.github.com/users/arash009/repos",
      "events_url": "https://api.github.com/users/arash009/events{/privacy}",
      "received_events_url": "https://api.github.com/users/arash009/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-03-18T03:25:57Z",
    "updated_at": "2020-03-18T03:26:19Z",
    "author_association": "NONE",
    "body": "> the public keys of the validator keys that will be used for signing with the external service\n\nTo clarify, why would you need to specify the public keys. Wouldnt the assumption be that any keys you have are stored in the signer and therefore go there for ANY key?",
    "reactions": {
      "url": "https://api.github.com/repos/ConsenSys/teku/issues/comments/600405627/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ConsenSys/teku/issues/comments/600407022",
    "html_url": "https://github.com/ConsenSys/teku/issues/1382#issuecomment-600407022",
    "issue_url": "https://api.github.com/repos/ConsenSys/teku/issues/1382",
    "id": 600407022,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYwMDQwNzAyMg==",
    "user": {
      "login": "jframe",
      "id": 909467,
      "node_id": "MDQ6VXNlcjkwOTQ2Nw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/909467?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jframe",
      "html_url": "https://github.com/jframe",
      "followers_url": "https://api.github.com/users/jframe/followers",
      "following_url": "https://api.github.com/users/jframe/following{/other_user}",
      "gists_url": "https://api.github.com/users/jframe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jframe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jframe/subscriptions",
      "organizations_url": "https://api.github.com/users/jframe/orgs",
      "repos_url": "https://api.github.com/users/jframe/repos",
      "events_url": "https://api.github.com/users/jframe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jframe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-03-18T03:32:21Z",
    "updated_at": "2020-03-18T04:40:03Z",
    "author_association": "CONTRIBUTOR",
    "body": "Teku needs to know what validator keys it is acting as validator for so that when it receives a block it can check to see if it is the proposer and create the block if necessary and use Eth2Signer. Similarly for attestations.\r\nAlso maybe we don't want all the validator keys to be in Eth2Signer?",
    "reactions": {
      "url": "https://api.github.com/repos/ConsenSys/teku/issues/comments/600407022/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
