{
  "url": "https://api.github.com/repos/ConsenSys/teku/issues/2581",
  "repository_url": "https://api.github.com/repos/ConsenSys/teku",
  "labels_url": "https://api.github.com/repos/ConsenSys/teku/issues/2581/labels{/name}",
  "comments_url": "https://api.github.com/repos/ConsenSys/teku/issues/2581/comments",
  "events_url": "https://api.github.com/repos/ConsenSys/teku/issues/2581/events",
  "html_url": "https://github.com/ConsenSys/teku/issues/2581",
  "id": 679656365,
  "node_id": "MDU6SXNzdWU2Nzk2NTYzNjU=",
  "number": 2581,
  "title": "Teku stuck while loading storage",
  "user": {
    "login": "dankrad",
    "id": 6130607,
    "node_id": "MDQ6VXNlcjYxMzA2MDc=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6130607?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/dankrad",
    "html_url": "https://github.com/dankrad",
    "followers_url": "https://api.github.com/users/dankrad/followers",
    "following_url": "https://api.github.com/users/dankrad/following{/other_user}",
    "gists_url": "https://api.github.com/users/dankrad/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/dankrad/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/dankrad/subscriptions",
    "organizations_url": "https://api.github.com/users/dankrad/orgs",
    "repos_url": "https://api.github.com/users/dankrad/repos",
    "events_url": "https://api.github.com/users/dankrad/events{/privacy}",
    "received_events_url": "https://api.github.com/users/dankrad/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 1048919129,
      "node_id": "MDU6TGFiZWwxMDQ4OTE5MTI5",
      "url": "https://api.github.com/repos/ConsenSys/teku/labels/bug%20%F0%9F%90%9E",
      "name": "bug üêû",
      "color": "dd6c94",
      "default": false,
      "description": "Something isn't working"
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 4,
  "created_at": "2020-08-15T23:06:07Z",
  "updated_at": "2020-08-19T04:00:58Z",
  "closed_at": "2020-08-19T04:00:58Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "Each time I'm starting teuk, it gets stuck at \"Processed 2500 blocks\":\r\n\r\n2020-08-15 23:40:50.922+01:00 | main | INFO  | teku-status-log | Initializing storage\r\n2020-08-15 23:41:00.959+01:00 | beaconchain-async-2 | INFO  | Store | Process 2739 block(s) to regenerate state\r\n2020-08-15 23:42:00.002+01:00 | beaconchain-async-3 | INFO  | Store | Processed 100 blocks\r\n2020-08-15 23:43:15.774+01:00 | beaconchain-async-3 | INFO  | Store | Processed 200 blocks\r\n2020-08-15 23:43:36.027+01:00 | beaconchain-async-4 | INFO  | Store | Processed 300 blocks\r\n2020-08-15 23:44:26.693+01:00 | beaconchain-async-4 | INFO  | Store | Processed 400 blocks\r\n2020-08-15 23:44:31.346+01:00 | beaconchain-async-4 | INFO  | Store | Processed 500 blocks\r\n2020-08-15 23:44:33.829+01:00 | beaconchain-async-5 | INFO  | Store | Processed 600 blocks\r\n2020-08-15 23:44:35.990+01:00 | beaconchain-async-5 | INFO  | Store | Processed 700 blocks\r\n2020-08-15 23:44:38.083+01:00 | beaconchain-async-6 | INFO  | Store | Processed 800 blocks\r\n2020-08-15 23:45:06.765+01:00 | beaconchain-async-6 | INFO  | Store | Processed 900 blocks\r\n2020-08-15 23:45:22.610+01:00 | beaconchain-async-6 | INFO  | Store | Processed 1000 blocks\r\n2020-08-15 23:45:33.748+01:00 | beaconchain-async-7 | INFO  | Store | Processed 1100 blocks\r\n2020-08-15 23:46:33.866+01:00 | beaconchain-async-7 | INFO  | Store | Processed 1200 blocks\r\n2020-08-15 23:48:54.572+01:00 | beaconchain-async-8 | INFO  | Store | Processed 1300 blocks\r\n2020-08-15 23:51:04.670+01:00 | beaconchain-async-8 | INFO  | Store | Processed 1400 blocks\r\n2020-08-15 23:51:36.089+01:00 | beaconchain-async-8 | INFO  | Store | Processed 1500 blocks\r\n2020-08-15 23:52:21.566+01:00 | beaconchain-async-9 | INFO  | Store | Processed 1600 blocks\r\n2020-08-15 23:52:46.765+01:00 | beaconchain-async-9 | INFO  | Store | Processed 1700 blocks\r\n2020-08-15 23:53:14.794+01:00 | beaconchain-async-10 | INFO  | Store | Processed 1800 blocks\r\n2020-08-15 23:53:47.617+01:00 | beaconchain-async-10 | INFO  | Store | Processed 1900 blocks\r\n2020-08-15 23:54:06.441+01:00 | beaconchain-async-10 | INFO  | Store | Processed 2000 blocks\r\n2020-08-15 23:54:27.852+01:00 | beaconchain-async-11 | INFO  | Store | Processed 2100 blocks\r\n2020-08-15 23:54:33.547+01:00 | beaconchain-async-11 | INFO  | Store | Processed 2200 blocks\r\n2020-08-15 23:54:51.829+01:00 | beaconchain-async-12 | INFO  | Store | Processed 2300 blocks\r\n2020-08-15 23:55:01.789+01:00 | beaconchain-async-12 | INFO  | Store | Processed 2400 blocks\r\n2020-08-15 23:55:21.346+01:00 | beaconchain-async-12 | INFO  | Store | Processed 2500 blocks\r\n",
  "closed_by": {
    "login": "rolfyone",
    "id": 2967240,
    "node_id": "MDQ6VXNlcjI5NjcyNDA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/2967240?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/rolfyone",
    "html_url": "https://github.com/rolfyone",
    "followers_url": "https://api.github.com/users/rolfyone/followers",
    "following_url": "https://api.github.com/users/rolfyone/following{/other_user}",
    "gists_url": "https://api.github.com/users/rolfyone/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/rolfyone/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/rolfyone/subscriptions",
    "organizations_url": "https://api.github.com/users/rolfyone/orgs",
    "repos_url": "https://api.github.com/users/rolfyone/repos",
    "events_url": "https://api.github.com/users/rolfyone/events{/privacy}",
    "received_events_url": "https://api.github.com/users/rolfyone/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ConsenSys/teku/issues/2581/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ConsenSys/teku/issues/2581/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ConsenSys/teku/issues/comments/674579596",
    "html_url": "https://github.com/ConsenSys/teku/issues/2581#issuecomment-674579596",
    "issue_url": "https://api.github.com/repos/ConsenSys/teku/issues/2581",
    "id": 674579596,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY3NDU3OTU5Ng==",
    "user": {
      "login": "rolfyone",
      "id": 2967240,
      "node_id": "MDQ6VXNlcjI5NjcyNDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2967240?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rolfyone",
      "html_url": "https://github.com/rolfyone",
      "followers_url": "https://api.github.com/users/rolfyone/followers",
      "following_url": "https://api.github.com/users/rolfyone/following{/other_user}",
      "gists_url": "https://api.github.com/users/rolfyone/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rolfyone/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rolfyone/subscriptions",
      "organizations_url": "https://api.github.com/users/rolfyone/orgs",
      "repos_url": "https://api.github.com/users/rolfyone/repos",
      "events_url": "https://api.github.com/users/rolfyone/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rolfyone/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-08-16T21:21:08Z",
    "updated_at": "2020-08-16T21:21:08Z",
    "author_association": "CONTRIBUTOR",
    "body": "Thanks for logging this. There were similar tickets around loading issues at a similar time to the issue logged by prysm around time sync issues.\n\nI'll be running some syncs now, but can you just confirm that this is still an issue you're facing if you remove your data folder and re-sync?\n",
    "reactions": {
      "url": "https://api.github.com/repos/ConsenSys/teku/issues/comments/674579596/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ConsenSys/teku/issues/comments/674584563",
    "html_url": "https://github.com/ConsenSys/teku/issues/2581#issuecomment-674584563",
    "issue_url": "https://api.github.com/repos/ConsenSys/teku/issues/2581",
    "id": 674584563,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY3NDU4NDU2Mw==",
    "user": {
      "login": "ajsutton",
      "id": 72675,
      "node_id": "MDQ6VXNlcjcyNjc1",
      "avatar_url": "https://avatars.githubusercontent.com/u/72675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ajsutton",
      "html_url": "https://github.com/ajsutton",
      "followers_url": "https://api.github.com/users/ajsutton/followers",
      "following_url": "https://api.github.com/users/ajsutton/following{/other_user}",
      "gists_url": "https://api.github.com/users/ajsutton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ajsutton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ajsutton/subscriptions",
      "organizations_url": "https://api.github.com/users/ajsutton/orgs",
      "repos_url": "https://api.github.com/users/ajsutton/repos",
      "events_url": "https://api.github.com/users/ajsutton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ajsutton/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-08-16T22:14:26Z",
    "updated_at": "2020-08-16T22:14:26Z",
    "author_association": "CONTRIBUTOR",
    "body": "This may not be actually stuck but may be getting bogged down regenerating states due to the current non-finalisation of Medalla.  It appears that while initing fork choice we're triggering the rebuild of a number of states which can take a long time and can take a *very* long time if it starts to run into memory pressure.  We need to investigate why we're doing these regenerations as they shouldn't be necessary given we just went through rebuilding the hot state so should have been able to grab all the required information on that pass.",
    "reactions": {
      "url": "https://api.github.com/repos/ConsenSys/teku/issues/comments/674584563/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ConsenSys/teku/issues/comments/675122879",
    "html_url": "https://github.com/ConsenSys/teku/issues/2581#issuecomment-675122879",
    "issue_url": "https://api.github.com/repos/ConsenSys/teku/issues/2581",
    "id": 675122879,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY3NTEyMjg3OQ==",
    "user": {
      "login": "dankrad",
      "id": 6130607,
      "node_id": "MDQ6VXNlcjYxMzA2MDc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6130607?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dankrad",
      "html_url": "https://github.com/dankrad",
      "followers_url": "https://api.github.com/users/dankrad/followers",
      "following_url": "https://api.github.com/users/dankrad/following{/other_user}",
      "gists_url": "https://api.github.com/users/dankrad/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dankrad/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dankrad/subscriptions",
      "organizations_url": "https://api.github.com/users/dankrad/orgs",
      "repos_url": "https://api.github.com/users/dankrad/repos",
      "events_url": "https://api.github.com/users/dankrad/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dankrad/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-08-17T21:23:23Z",
    "updated_at": "2020-08-17T21:23:23Z",
    "author_association": "NONE",
    "body": "Yeah it did indeed pass eventually.",
    "reactions": {
      "url": "https://api.github.com/repos/ConsenSys/teku/issues/comments/675122879/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ConsenSys/teku/issues/comments/675838011",
    "html_url": "https://github.com/ConsenSys/teku/issues/2581#issuecomment-675838011",
    "issue_url": "https://api.github.com/repos/ConsenSys/teku/issues/2581",
    "id": 675838011,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY3NTgzODAxMQ==",
    "user": {
      "login": "rolfyone",
      "id": 2967240,
      "node_id": "MDQ6VXNlcjI5NjcyNDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2967240?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rolfyone",
      "html_url": "https://github.com/rolfyone",
      "followers_url": "https://api.github.com/users/rolfyone/followers",
      "following_url": "https://api.github.com/users/rolfyone/following{/other_user}",
      "gists_url": "https://api.github.com/users/rolfyone/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rolfyone/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rolfyone/subscriptions",
      "organizations_url": "https://api.github.com/users/rolfyone/orgs",
      "repos_url": "https://api.github.com/users/rolfyone/repos",
      "events_url": "https://api.github.com/users/rolfyone/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rolfyone/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-08-19T04:00:58Z",
    "updated_at": "2020-08-19T04:00:58Z",
    "author_association": "CONTRIBUTOR",
    "body": "This is going to be fairly well covered in all of the changes in #2596, especially potentially #2615. \n\nI'm going to close out this ticket, just because once we fix #2596 this problem will be sorted.\n\nThere's a lot of changes currently going in to handle the long period of non-finalization that probably traces back to the root cause of this long pause, and its largely all related to the fixes going in for #2596 and associated changes.",
    "reactions": {
      "url": "https://api.github.com/repos/ConsenSys/teku/issues/comments/675838011/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
