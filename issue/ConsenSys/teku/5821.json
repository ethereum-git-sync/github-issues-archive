{
  "url": "https://api.github.com/repos/ConsenSys/teku/issues/5821",
  "repository_url": "https://api.github.com/repos/ConsenSys/teku",
  "labels_url": "https://api.github.com/repos/ConsenSys/teku/issues/5821/labels{/name}",
  "comments_url": "https://api.github.com/repos/ConsenSys/teku/issues/5821/comments",
  "events_url": "https://api.github.com/repos/ConsenSys/teku/issues/5821/events",
  "html_url": "https://github.com/ConsenSys/teku/issues/5821",
  "id": 1277402499,
  "node_id": "I_kwDOCM9I9M5MI52D",
  "number": 5821,
  "title": "Add support for Personal Package Archive (PPA) installation of teku",
  "user": {
    "login": "superphiz",
    "id": 51464737,
    "node_id": "MDQ6VXNlcjUxNDY0NzM3",
    "avatar_url": "https://avatars.githubusercontent.com/u/51464737?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/superphiz",
    "html_url": "https://github.com/superphiz",
    "followers_url": "https://api.github.com/users/superphiz/followers",
    "following_url": "https://api.github.com/users/superphiz/following{/other_user}",
    "gists_url": "https://api.github.com/users/superphiz/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/superphiz/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/superphiz/subscriptions",
    "organizations_url": "https://api.github.com/users/superphiz/orgs",
    "repos_url": "https://api.github.com/users/superphiz/repos",
    "events_url": "https://api.github.com/users/superphiz/events{/privacy}",
    "received_events_url": "https://api.github.com/users/superphiz/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 1,
  "created_at": "2022-06-20T21:27:45Z",
  "updated_at": "2022-07-29T04:00:50Z",
  "closed_at": null,
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "<!-- \r\nBy filing an Issue, you are expected to comply with the Code of Conduct, \r\nincluding treating everyone with respect:\r\nhttps://github.com/ConsenSys/teku/blob/master/CODE-OF-CONDUCT.md\r\n\r\nNot all sections will apply to all issue types.\r\n-->\r\n\r\n### Description\r\n\r\nCurrent available installation methods require downloading and installing packages from github or docker, but these installation methods require significant effort on behalf of the user. Ethereum maintains a PPA and geth is currently most-easily installed using this method. If other clients adopt the PPA installation method it will significantly reduce the effort required to install a Consensus client and enable people with limited technical ability to quickly and easily upgrade their consensus client using standard apt repositories.\r\n",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/ConsenSys/teku/issues/5821/reactions",
    "total_count": 6,
    "+1": 6,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ConsenSys/teku/issues/5821/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/ConsenSys/teku/issues/comments/1198856037",
    "html_url": "https://github.com/ConsenSys/teku/issues/5821#issuecomment-1198856037",
    "issue_url": "https://api.github.com/repos/ConsenSys/teku/issues/5821",
    "id": 1198856037,
    "node_id": "IC_kwDOCM9I9M5HdRdl",
    "user": {
      "login": "ajsutton",
      "id": 72675,
      "node_id": "MDQ6VXNlcjcyNjc1",
      "avatar_url": "https://avatars.githubusercontent.com/u/72675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ajsutton",
      "html_url": "https://github.com/ajsutton",
      "followers_url": "https://api.github.com/users/ajsutton/followers",
      "following_url": "https://api.github.com/users/ajsutton/following{/other_user}",
      "gists_url": "https://api.github.com/users/ajsutton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ajsutton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ajsutton/subscriptions",
      "organizations_url": "https://api.github.com/users/ajsutton/orgs",
      "repos_url": "https://api.github.com/users/ajsutton/repos",
      "events_url": "https://api.github.com/users/ajsutton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ajsutton/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-07-29T04:00:50Z",
    "updated_at": "2022-07-29T04:00:50Z",
    "author_association": "CONTRIBUTOR",
    "body": "Wrote up some (very rough) notes in https://hackmd.io/IeXF59JNQ4qTpP2-plln9A\r\n\r\nThe summary is that there's basically two ways we can go about this:\r\n\r\nWe could build an actual PPA that's deployed to Ubuntu LaunchPad. This would need to be a deb source package that LaunchPad could build for us.  The advantage is that it's simple for users to add as a source with just `sudo add-apt-repository consensus/teku`.  The downsides are that it's significantly more complex for us to build and maintain a suitable source package, and it would potentially violate our usual policy of compiling once then testing and shipping that same built distribution. A problem introduced in the building of the PPA (most likely because the PPA source package misconfigured the build) would not be picked up by any of our testing because it's being done right at the point of publishing.\r\n\r\nAlternatively we could build a `.deb` package with `fpm` and publish it to a Debian repository using our existing artefacts repo with Cloudsmith. `fpm` makes building the package simple and we can reuse the existing distribution artefacts the same way we do when building the docker image. We also reuse the existing security infrastructure and access controls as we're already publishing to Cloudsmith.  The downside is that its more difficult for users to add the repository. Cloudsmith provide a script you can download and run as root that will add the package or users need to manually add the gpg key and the repo as a source. See the doc linked above for the full details.  That only needs to be done once though and then updates are simple `apt update`.\r\n\r\nGiven we're Ethereum core devs not Debian package maintainers I'm not sure we're well placed to try and maintain a PPA via LaunchPad and the lack of ability to test it also concerns me. So I'd lean towards either publishing the .deb file via Cloudsmith if it's likely to get enough usage despite the more complicated initial setup, or leave it to the community to provide Debian/Ubuntu packaging (which we'd eagerly support).",
    "reactions": {
      "url": "https://api.github.com/repos/ConsenSys/teku/issues/comments/1198856037/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
