{
  "url": "https://api.github.com/repos/ConsenSys/teku/issues/3175",
  "repository_url": "https://api.github.com/repos/ConsenSys/teku",
  "labels_url": "https://api.github.com/repos/ConsenSys/teku/issues/3175/labels{/name}",
  "comments_url": "https://api.github.com/repos/ConsenSys/teku/issues/3175/comments",
  "events_url": "https://api.github.com/repos/ConsenSys/teku/issues/3175/events",
  "html_url": "https://github.com/ConsenSys/teku/issues/3175",
  "id": 738054139,
  "node_id": "MDU6SXNzdWU3MzgwNTQxMzk=",
  "number": 3175,
  "title": "BLS tests are being flaky",
  "user": {
    "login": "cemozerr",
    "id": 16581242,
    "node_id": "MDQ6VXNlcjE2NTgxMjQy",
    "avatar_url": "https://avatars.githubusercontent.com/u/16581242?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/cemozerr",
    "html_url": "https://github.com/cemozerr",
    "followers_url": "https://api.github.com/users/cemozerr/followers",
    "following_url": "https://api.github.com/users/cemozerr/following{/other_user}",
    "gists_url": "https://api.github.com/users/cemozerr/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/cemozerr/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/cemozerr/subscriptions",
    "organizations_url": "https://api.github.com/users/cemozerr/orgs",
    "repos_url": "https://api.github.com/users/cemozerr/repos",
    "events_url": "https://api.github.com/users/cemozerr/events{/privacy}",
    "received_events_url": "https://api.github.com/users/cemozerr/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": {
    "login": "Nashatyrev",
    "id": 8173857,
    "node_id": "MDQ6VXNlcjgxNzM4NTc=",
    "avatar_url": "https://avatars.githubusercontent.com/u/8173857?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/Nashatyrev",
    "html_url": "https://github.com/Nashatyrev",
    "followers_url": "https://api.github.com/users/Nashatyrev/followers",
    "following_url": "https://api.github.com/users/Nashatyrev/following{/other_user}",
    "gists_url": "https://api.github.com/users/Nashatyrev/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/Nashatyrev/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/Nashatyrev/subscriptions",
    "organizations_url": "https://api.github.com/users/Nashatyrev/orgs",
    "repos_url": "https://api.github.com/users/Nashatyrev/repos",
    "events_url": "https://api.github.com/users/Nashatyrev/events{/privacy}",
    "received_events_url": "https://api.github.com/users/Nashatyrev/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "Nashatyrev",
      "id": 8173857,
      "node_id": "MDQ6VXNlcjgxNzM4NTc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8173857?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Nashatyrev",
      "html_url": "https://github.com/Nashatyrev",
      "followers_url": "https://api.github.com/users/Nashatyrev/followers",
      "following_url": "https://api.github.com/users/Nashatyrev/following{/other_user}",
      "gists_url": "https://api.github.com/users/Nashatyrev/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Nashatyrev/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Nashatyrev/subscriptions",
      "organizations_url": "https://api.github.com/users/Nashatyrev/orgs",
      "repos_url": "https://api.github.com/users/Nashatyrev/repos",
      "events_url": "https://api.github.com/users/Nashatyrev/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Nashatyrev/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 9,
  "created_at": "2020-11-06T21:30:10Z",
  "updated_at": "2020-11-13T15:48:36Z",
  "closed_at": "2020-11-13T15:48:36Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "The tests below fail on circle CI sometimes: \r\n- succeedsWhenAggregateVerifyWithInfinitePairReturnsFalse() - tech.pegasys.teku.bls.BlstBlsTest\r\n- batchVerify2InfinitePublicKeyAndSignature() - tech.pegasys.teku.bls.BlstBlsTest\r\n- batchVerifyInvalidInfiniteSignature() - tech.pegasys.teku.bls.BlstBlsTest\r\n- aggregateInfinitePublicKeyAndSignature() - tech.pegasys.teku.bls.BlstBlsTest\r\n- batchVerifyInfinitePublicKeyAndSignature() - tech.pegasys.teku.bls.BlstBlsTest\r\n\r\nHere is a link for a failed run along with its stack trace:\r\nhttps://app.circleci.com/pipelines/github/ConsenSys/teku/8694/workflows/dae81c59-287a-4cf6-ad78-e1ea2b8a780f/jobs/54803\r\n\r\nWe've seen in the past that Constants that are set, but not reset, for a test that is run previous to another test can be an issue. So that could be a good starting point.\r\n",
  "closed_by": {
    "login": "Nashatyrev",
    "id": 8173857,
    "node_id": "MDQ6VXNlcjgxNzM4NTc=",
    "avatar_url": "https://avatars.githubusercontent.com/u/8173857?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/Nashatyrev",
    "html_url": "https://github.com/Nashatyrev",
    "followers_url": "https://api.github.com/users/Nashatyrev/followers",
    "following_url": "https://api.github.com/users/Nashatyrev/following{/other_user}",
    "gists_url": "https://api.github.com/users/Nashatyrev/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/Nashatyrev/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/Nashatyrev/subscriptions",
    "organizations_url": "https://api.github.com/users/Nashatyrev/orgs",
    "repos_url": "https://api.github.com/users/Nashatyrev/repos",
    "events_url": "https://api.github.com/users/Nashatyrev/events{/privacy}",
    "received_events_url": "https://api.github.com/users/Nashatyrev/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ConsenSys/teku/issues/3175/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ConsenSys/teku/issues/3175/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ConsenSys/teku/issues/comments/725898614",
    "html_url": "https://github.com/ConsenSys/teku/issues/3175#issuecomment-725898614",
    "issue_url": "https://api.github.com/repos/ConsenSys/teku/issues/3175",
    "id": 725898614,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcyNTg5ODYxNA==",
    "user": {
      "login": "Nashatyrev",
      "id": 8173857,
      "node_id": "MDQ6VXNlcjgxNzM4NTc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8173857?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Nashatyrev",
      "html_url": "https://github.com/Nashatyrev",
      "followers_url": "https://api.github.com/users/Nashatyrev/followers",
      "following_url": "https://api.github.com/users/Nashatyrev/following{/other_user}",
      "gists_url": "https://api.github.com/users/Nashatyrev/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Nashatyrev/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Nashatyrev/subscriptions",
      "organizations_url": "https://api.github.com/users/Nashatyrev/orgs",
      "repos_url": "https://api.github.com/users/Nashatyrev/repos",
      "events_url": "https://api.github.com/users/Nashatyrev/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Nashatyrev/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-11-12T07:38:13Z",
    "updated_at": "2020-11-12T07:38:13Z",
    "author_association": "CONTRIBUTOR",
    "body": "Yep, seen that once as well. Was surprised ",
    "reactions": {
      "url": "https://api.github.com/repos/ConsenSys/teku/issues/comments/725898614/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ConsenSys/teku/issues/comments/725992621",
    "html_url": "https://github.com/ConsenSys/teku/issues/3175#issuecomment-725992621",
    "issue_url": "https://api.github.com/repos/ConsenSys/teku/issues/3175",
    "id": 725992621,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcyNTk5MjYyMQ==",
    "user": {
      "login": "Nashatyrev",
      "id": 8173857,
      "node_id": "MDQ6VXNlcjgxNzM4NTc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8173857?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Nashatyrev",
      "html_url": "https://github.com/Nashatyrev",
      "followers_url": "https://api.github.com/users/Nashatyrev/followers",
      "following_url": "https://api.github.com/users/Nashatyrev/following{/other_user}",
      "gists_url": "https://api.github.com/users/Nashatyrev/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Nashatyrev/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Nashatyrev/subscriptions",
      "organizations_url": "https://api.github.com/users/Nashatyrev/orgs",
      "repos_url": "https://api.github.com/users/Nashatyrev/repos",
      "events_url": "https://api.github.com/users/Nashatyrev/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Nashatyrev/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-11-12T10:34:00Z",
    "updated_at": "2020-11-12T10:34:00Z",
    "author_association": "CONTRIBUTOR",
    "body": "Another case: https://app.circleci.com/pipelines/github/ConsenSys/teku/8846/workflows/24077d22-0097-440e-b664-91b7af7cfee1/jobs/55828",
    "reactions": {
      "url": "https://api.github.com/repos/ConsenSys/teku/issues/comments/725992621/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ConsenSys/teku/issues/comments/726027643",
    "html_url": "https://github.com/ConsenSys/teku/issues/3175#issuecomment-726027643",
    "issue_url": "https://api.github.com/repos/ConsenSys/teku/issues/3175",
    "id": 726027643,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcyNjAyNzY0Mw==",
    "user": {
      "login": "Nashatyrev",
      "id": 8173857,
      "node_id": "MDQ6VXNlcjgxNzM4NTc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8173857?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Nashatyrev",
      "html_url": "https://github.com/Nashatyrev",
      "followers_url": "https://api.github.com/users/Nashatyrev/followers",
      "following_url": "https://api.github.com/users/Nashatyrev/following{/other_user}",
      "gists_url": "https://api.github.com/users/Nashatyrev/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Nashatyrev/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Nashatyrev/subscriptions",
      "organizations_url": "https://api.github.com/users/Nashatyrev/orgs",
      "repos_url": "https://api.github.com/users/Nashatyrev/repos",
      "events_url": "https://api.github.com/users/Nashatyrev/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Nashatyrev/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-11-12T11:44:00Z",
    "updated_at": "2020-11-12T11:44:00Z",
    "author_association": "CONTRIBUTOR",
    "body": "Most likely this is because of: \r\n- Tests are executed in parallel \r\n- BLS implementation is controlled via static `BLS.setBlsImplementation()` field \r\n- BLS tests both implementations (Mikuli and Blst) switching them with the static field above\r\n- Apparently a signature is created when Mikuli implementation is 'active', then the parallel test switches implementation to Blst and Mikuli signature passed to the Blst implementation \r\n\r\nThe right way to fix this would be to refactor the `BLS` class making it an interface, derive implementation classes from it and pass a `BLS` instance to tests. This is tightly related to enhancement #2716\r\n\r\nThe fast way to fix this would be to make bls entities interoperable in direction `Mikuli` -> `Blst`. The opposite interoperability already exists (was done just for the case): \r\nhttps://github.com/ConsenSys/teku/blob/52d464b174dcfac282eb878e98da4341624205b6/bls/src/main/java/tech/pegasys/teku/bls/impl/mikuli/MikuliSignature.java#L62-L68\r\nhttps://github.com/ConsenSys/teku/blob/52d464b174dcfac282eb878e98da4341624205b6/bls/src/main/java/tech/pegasys/teku/bls/impl/mikuli/MikuliPublicKey.java#L52-L58",
    "reactions": {
      "url": "https://api.github.com/repos/ConsenSys/teku/issues/comments/726027643/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ConsenSys/teku/issues/comments/726028092",
    "html_url": "https://github.com/ConsenSys/teku/issues/3175#issuecomment-726028092",
    "issue_url": "https://api.github.com/repos/ConsenSys/teku/issues/3175",
    "id": 726028092,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcyNjAyODA5Mg==",
    "user": {
      "login": "Nashatyrev",
      "id": 8173857,
      "node_id": "MDQ6VXNlcjgxNzM4NTc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8173857?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Nashatyrev",
      "html_url": "https://github.com/Nashatyrev",
      "followers_url": "https://api.github.com/users/Nashatyrev/followers",
      "following_url": "https://api.github.com/users/Nashatyrev/following{/other_user}",
      "gists_url": "https://api.github.com/users/Nashatyrev/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Nashatyrev/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Nashatyrev/subscriptions",
      "organizations_url": "https://api.github.com/users/Nashatyrev/orgs",
      "repos_url": "https://api.github.com/users/Nashatyrev/repos",
      "events_url": "https://api.github.com/users/Nashatyrev/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Nashatyrev/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-11-12T11:44:58Z",
    "updated_at": "2020-11-12T11:44:58Z",
    "author_association": "CONTRIBUTOR",
    "body": "I'm worried that other tests could also be affected with BLS implementation switching in parallel",
    "reactions": {
      "url": "https://api.github.com/repos/ConsenSys/teku/issues/comments/726028092/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ConsenSys/teku/issues/comments/726043666",
    "html_url": "https://github.com/ConsenSys/teku/issues/3175#issuecomment-726043666",
    "issue_url": "https://api.github.com/repos/ConsenSys/teku/issues/3175",
    "id": 726043666,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcyNjA0MzY2Ng==",
    "user": {
      "login": "Nashatyrev",
      "id": 8173857,
      "node_id": "MDQ6VXNlcjgxNzM4NTc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8173857?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Nashatyrev",
      "html_url": "https://github.com/Nashatyrev",
      "followers_url": "https://api.github.com/users/Nashatyrev/followers",
      "following_url": "https://api.github.com/users/Nashatyrev/following{/other_user}",
      "gists_url": "https://api.github.com/users/Nashatyrev/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Nashatyrev/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Nashatyrev/subscriptions",
      "organizations_url": "https://api.github.com/users/Nashatyrev/orgs",
      "repos_url": "https://api.github.com/users/Nashatyrev/repos",
      "events_url": "https://api.github.com/users/Nashatyrev/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Nashatyrev/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-11-12T12:19:06Z",
    "updated_at": "2020-11-12T12:19:06Z",
    "author_association": "CONTRIBUTOR",
    "body": "Also we anyway couldn't achieve full `Mikuli <-> Blst` interoperability because we can't convert `BatchSemiAggregate` from one implementation to another ",
    "reactions": {
      "url": "https://api.github.com/repos/ConsenSys/teku/issues/comments/726043666/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ConsenSys/teku/issues/comments/726068370",
    "html_url": "https://github.com/ConsenSys/teku/issues/3175#issuecomment-726068370",
    "issue_url": "https://api.github.com/repos/ConsenSys/teku/issues/3175",
    "id": 726068370,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcyNjA2ODM3MA==",
    "user": {
      "login": "Nashatyrev",
      "id": 8173857,
      "node_id": "MDQ6VXNlcjgxNzM4NTc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8173857?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Nashatyrev",
      "html_url": "https://github.com/Nashatyrev",
      "followers_url": "https://api.github.com/users/Nashatyrev/followers",
      "following_url": "https://api.github.com/users/Nashatyrev/following{/other_user}",
      "gists_url": "https://api.github.com/users/Nashatyrev/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Nashatyrev/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Nashatyrev/subscriptions",
      "organizations_url": "https://api.github.com/users/Nashatyrev/orgs",
      "repos_url": "https://api.github.com/users/Nashatyrev/repos",
      "events_url": "https://api.github.com/users/Nashatyrev/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Nashatyrev/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-11-12T13:11:42Z",
    "updated_at": "2020-11-12T13:11:42Z",
    "author_association": "CONTRIBUTOR",
    "body": "Stacktrace sample to memorize here:\r\n```\r\njava.lang.ClassCastException: class tech.pegasys.teku.bls.impl.mikuli.MikuliSignature cannot be cast to class tech.pegasys.teku.bls.impl.blst.BlstSignature (tech.pegasys.teku.bls.impl.mikuli.MikuliSignature and tech.pegasys.teku.bls.impl.blst.BlstSignature are in unnamed module of loader 'app')\r\n\tat tech.pegasys.teku.bls.impl.blst.BlstBLS12381.lambda$aggregateSignatures$1(BlstBLS12381.java:145)\r\n\tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)\r\n\tat java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1655)\r\n\tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)\r\n\tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)\r\n\tat java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:913)\r\n\tat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\r\n\tat java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:578)\r\n\tat tech.pegasys.teku.bls.impl.blst.BlstBLS12381.aggregateSignatures(BlstBLS12381.java:145)\r\n\tat tech.pegasys.teku.bls.impl.blst.BlstBLS12381.aggregateSignatures(BlstBLS12381.java:38)\r\n\tat tech.pegasys.teku.bls.BLS.aggregate(BLS.java:125)\r\n\tat tech.pegasys.teku.bls.BLSTest.succeedsWhenAggregateVerifyWithInfinitePairReturnsFalse(BLSTest.java:182)\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/ConsenSys/teku/issues/comments/726068370/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ConsenSys/teku/issues/comments/726305614",
    "html_url": "https://github.com/ConsenSys/teku/issues/3175#issuecomment-726305614",
    "issue_url": "https://api.github.com/repos/ConsenSys/teku/issues/3175",
    "id": 726305614,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcyNjMwNTYxNA==",
    "user": {
      "login": "ajsutton",
      "id": 72675,
      "node_id": "MDQ6VXNlcjcyNjc1",
      "avatar_url": "https://avatars.githubusercontent.com/u/72675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ajsutton",
      "html_url": "https://github.com/ajsutton",
      "followers_url": "https://api.github.com/users/ajsutton/followers",
      "following_url": "https://api.github.com/users/ajsutton/following{/other_user}",
      "gists_url": "https://api.github.com/users/ajsutton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ajsutton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ajsutton/subscriptions",
      "organizations_url": "https://api.github.com/users/ajsutton/orgs",
      "repos_url": "https://api.github.com/users/ajsutton/repos",
      "events_url": "https://api.github.com/users/ajsutton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ajsutton/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-11-12T19:54:28Z",
    "updated_at": "2020-11-12T19:54:28Z",
    "author_association": "CONTRIBUTOR",
    "body": "I don't *think* tests run in parallel within the same JVM - could be wrong, but then we'd see a lot more issues with `Constants` not matching expectations. But what might be happening is that we're creating and storing a `BLSSignature` or some other object in a static variable, then it gets used after the BLS implementation has changed.  Might be worth double checking that anything that changes the BLS implementation switches it back in a `@After` block.",
    "reactions": {
      "url": "https://api.github.com/repos/ConsenSys/teku/issues/comments/726305614/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ConsenSys/teku/issues/comments/726310742",
    "html_url": "https://github.com/ConsenSys/teku/issues/3175#issuecomment-726310742",
    "issue_url": "https://api.github.com/repos/ConsenSys/teku/issues/3175",
    "id": 726310742,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcyNjMxMDc0Mg==",
    "user": {
      "login": "Nashatyrev",
      "id": 8173857,
      "node_id": "MDQ6VXNlcjgxNzM4NTc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8173857?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Nashatyrev",
      "html_url": "https://github.com/Nashatyrev",
      "followers_url": "https://api.github.com/users/Nashatyrev/followers",
      "following_url": "https://api.github.com/users/Nashatyrev/following{/other_user}",
      "gists_url": "https://api.github.com/users/Nashatyrev/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Nashatyrev/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Nashatyrev/subscriptions",
      "organizations_url": "https://api.github.com/users/Nashatyrev/orgs",
      "repos_url": "https://api.github.com/users/Nashatyrev/repos",
      "events_url": "https://api.github.com/users/Nashatyrev/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Nashatyrev/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-11-12T20:04:13Z",
    "updated_at": "2020-11-12T20:04:13Z",
    "author_association": "CONTRIBUTOR",
    "body": "Hm, you are right. Just checked - several JVMs are spawn",
    "reactions": {
      "url": "https://api.github.com/repos/ConsenSys/teku/issues/comments/726310742/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ConsenSys/teku/issues/comments/726311697",
    "html_url": "https://github.com/ConsenSys/teku/issues/3175#issuecomment-726311697",
    "issue_url": "https://api.github.com/repos/ConsenSys/teku/issues/3175",
    "id": 726311697,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcyNjMxMTY5Nw==",
    "user": {
      "login": "Nashatyrev",
      "id": 8173857,
      "node_id": "MDQ6VXNlcjgxNzM4NTc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8173857?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Nashatyrev",
      "html_url": "https://github.com/Nashatyrev",
      "followers_url": "https://api.github.com/users/Nashatyrev/followers",
      "following_url": "https://api.github.com/users/Nashatyrev/following{/other_user}",
      "gists_url": "https://api.github.com/users/Nashatyrev/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Nashatyrev/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Nashatyrev/subscriptions",
      "organizations_url": "https://api.github.com/users/Nashatyrev/orgs",
      "repos_url": "https://api.github.com/users/Nashatyrev/repos",
      "events_url": "https://api.github.com/users/Nashatyrev/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Nashatyrev/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-11-12T20:06:02Z",
    "updated_at": "2020-11-12T20:09:09Z",
    "author_association": "CONTRIBUTOR",
    "body": "Heh, I think I found the suspect:\r\n\r\nhttps://github.com/ConsenSys/teku/blob/38b4313451d3099a5e1d45db27f4a8c68e498642/bls/src/test/java/tech/pegasys/teku/bls/BLSTest.java#L205-L219\r\n\r\n`BLSTest` is abstract and overridden for both implementations. So probably those fields are initialized when first running Mikuli impl and then we are trying to use them in Blst \r\n\r\nWill check tomorrow. \r\n\r\n@ajsutton thanks for your doubts :)",
    "reactions": {
      "url": "https://api.github.com/repos/ConsenSys/teku/issues/comments/726311697/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
