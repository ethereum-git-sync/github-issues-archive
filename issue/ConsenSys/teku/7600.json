{
  "url": "https://api.github.com/repos/Consensys/teku/issues/7600",
  "repository_url": "https://api.github.com/repos/Consensys/teku",
  "labels_url": "https://api.github.com/repos/Consensys/teku/issues/7600/labels{/name}",
  "comments_url": "https://api.github.com/repos/Consensys/teku/issues/7600/comments",
  "events_url": "https://api.github.com/repos/Consensys/teku/issues/7600/events",
  "html_url": "https://github.com/Consensys/teku/issues/7600",
  "id": 1945710450,
  "node_id": "I_kwDOCM9I9M5z-S9y",
  "number": 7600,
  "title": "Teku does not import slots on startup if EL is offline",
  "user": {
    "login": "quickchase",
    "id": 87909910,
    "node_id": "MDQ6VXNlcjg3OTA5OTEw",
    "avatar_url": "https://avatars.githubusercontent.com/u/87909910?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/quickchase",
    "html_url": "https://github.com/quickchase",
    "followers_url": "https://api.github.com/users/quickchase/followers",
    "following_url": "https://api.github.com/users/quickchase/following{/other_user}",
    "gists_url": "https://api.github.com/users/quickchase/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/quickchase/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/quickchase/subscriptions",
    "organizations_url": "https://api.github.com/users/quickchase/orgs",
    "repos_url": "https://api.github.com/users/quickchase/repos",
    "events_url": "https://api.github.com/users/quickchase/events{/privacy}",
    "received_events_url": "https://api.github.com/users/quickchase/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 0,
  "created_at": "2023-10-16T17:08:49Z",
  "updated_at": "2023-10-16T17:08:49Z",
  "closed_at": null,
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "<!-- \r\nBy filing an Issue, you are expected to comply with the Code of Conduct, \r\nincluding treating everyone with respect:\r\nhttps://github.com/Consensys/teku/blob/master/CODE-OF-CONDUCT.md\r\n\r\nNot all sections will apply to all issue types.\r\n-->\r\n\r\n### Description\r\nTeku does not import any slots if started when EL is stopped. I don't think Teku should just completely stop importing slot data and fall further and further behind just because the EL is currently stopped?\r\n\r\nI believe that in the case of Lighthouse they still import slots they just change it to \"Optimistic\"\r\n\r\nThe reason this is a problem for my particular setup is that I have tasks that during the upgrade process ensure that the CL and EL are importing slots/blocks after upgrade. In the case of the EL, it will not import new blocks without a CL, so I have to start the CL first. In the case of Teku it hangs/fails because Teku appears \"stuck\"\r\n\r\n### Steps to Reproduce (Bug)\r\nStop EL and Teku\r\nStart Teku\r\n\r\n**Expected behavior:** [What you expect to happen]\r\nTeku should import slots regardless of the EL status\r\n\r\n**Actual behavior:** [What actually happens]\r\nTeku just stops importing slots\r\n\r\n```text\r\n16:39:21.295 ERROR - Execution Client request failed. Make sure the Execution Client is online and can respond to requests.\r\n16:39:24.001 INFO  - Syncing     *** Target slot: 3478397, Head slot: 3478320, Remaining slots: 77, Connected peers: 64\r\n16:39:36.001 INFO  - Syncing     *** Target slot: 3478398, Head slot: 3478320, Remaining slots: 78, Connected peers: 65\r\n16:39:48.001 INFO  - Syncing     *** Target slot: 3478399, Head slot: 3478320, Remaining slots: 79, Connected peers: 65\r\n16:39:51.336 ERROR - Execution Client request failed. Make sure the Execution Client is online and can respond to requests.\r\n16:40:00.001 INFO  - Syncing     *** Target slot: 3478400, Head slot: 3478320, Remaining slots: 80, Connected peers: 65\r\n16:40:12.001 INFO  - Syncing     *** Target slot: 3478401, Head slot: 3478320, Remaining slots: 81, Connected peers: 66\r\n16:40:21.381 ERROR - Execution Client request failed. Make sure the Execution Client is online and can respond to requests.\r\n16:40:24.001 INFO  - Syncing     *** Target slot: 3478402, Head slot: 3478320, Remaining slots: 82, Connected peers: 66\r\n16:40:36.001 INFO  - Syncing     *** Target slot: 3478403, Head slot: 3478320, Remaining slots: 83, Connected peers: 65\r\n16:40:39.100 INFO  - Loading deposits up to Eth1 block 4499840\r\n16:40:41.622 INFO  - Execution Client is responding to requests again after a previous failure\r\n16:40:41.644 INFO  - Execution Client syncing complete. Continuing to sync beacon chain blocks\r\n16:40:48.006 INFO  - Syncing     *** Target slot: 3478404, Head slot: 3478369, Remaining slots: 35, Connected peers: 65\r\n16:40:49.931 INFO  - Syncing completed\r\n16:40:55.676 WARN  - Request for eth1 deposit logs from 10000 blocks failed. Retrying with a smaller block range.\r\n16:41:04.007 INFO  - Slot Event  *** Slot: 3478405, Block: a546514e17d0e3a1a4099a36d701d78f93d25961527c58da928841db3fbafab3, Justified: 108699, Finalized: 108698, Peers: 67\r\n```\r\n\r\nAs you can see from the above, Head slot is stuck, until I start the EL then it starts importing slots.\r\n\r\n**Frequency:** [How regularly does it occur?]\r\nAlways\r\n\r\n### Versions (Add all that apply)\r\n* Software version: [23.10.0](https://github.com/Consensys/teku/releases/tag/23.10.0)\r\n* Java version: [`openjdk 17.0.8.1 2023-08-24`]\r\n* OS Name & Version: [`Ubuntu 22.04.3 LTS`]\r\n",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/Consensys/teku/issues/7600/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/Consensys/teku/issues/7600/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[

]
