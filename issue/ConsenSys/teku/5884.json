{
  "url": "https://api.github.com/repos/ConsenSys/teku/issues/5884",
  "repository_url": "https://api.github.com/repos/ConsenSys/teku",
  "labels_url": "https://api.github.com/repos/ConsenSys/teku/issues/5884/labels{/name}",
  "comments_url": "https://api.github.com/repos/ConsenSys/teku/issues/5884/comments",
  "events_url": "https://api.github.com/repos/ConsenSys/teku/issues/5884/events",
  "html_url": "https://github.com/ConsenSys/teku/issues/5884",
  "id": 1292109487,
  "node_id": "I_kwDOCM9I9M5NBAav",
  "number": 5884,
  "title": "remote Execution Client TerminalBlockHash and TerminalBlockNumber are inconsistent",
  "user": {
    "login": "come-maiz",
    "id": 617831,
    "node_id": "MDQ6VXNlcjYxNzgzMQ==",
    "avatar_url": "https://avatars.githubusercontent.com/u/617831?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/come-maiz",
    "html_url": "https://github.com/come-maiz",
    "followers_url": "https://api.github.com/users/come-maiz/followers",
    "following_url": "https://api.github.com/users/come-maiz/following{/other_user}",
    "gists_url": "https://api.github.com/users/come-maiz/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/come-maiz/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/come-maiz/subscriptions",
    "organizations_url": "https://api.github.com/users/come-maiz/orgs",
    "repos_url": "https://api.github.com/users/come-maiz/repos",
    "events_url": "https://api.github.com/users/come-maiz/events{/privacy}",
    "received_events_url": "https://api.github.com/users/come-maiz/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2022-07-02T18:05:50Z",
  "updated_at": "2022-07-04T15:07:13Z",
  "closed_at": "2022-07-04T15:07:13Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "### Description\r\n\r\nI'm testing teku + nethermind + mev-boost in kiln following this guide:\r\nhttps://github.com/flashbots/mev-boost/wiki/Testing\r\n\r\nAt the end, when everything is running, Teku logs this error:\r\n```\r\n2022-07-02 17:59:16.856 ERROR - Merge       *** Transition Configuration error: remote Execution Client TerminalBlockHash and TerminalBlockNumber are inconsistent\r\n  remote configuration: TransitionConfiguration{terminalTotalDifficulty=0x000000000000000000000000000000000000000000000000000012309ce54000, terminalBlockHash=0x0000000000000000000000000000000000000000000000000000000000000000, terminalBlockNumber=55127}\r\n```\r\n\r\nI don't know if this is a problem on nethermind or teku, or on the parameters I'm passing. I'm starting my investigation on this here, can you please guide me?\r\n\r\n### Steps to Reproduce (Bug)\r\n\r\nFollow the steps in:\r\nhttps://github.com/flashbots/mev-boost/wiki/Testing\r\n\r\n**Expected behavior:** Teku starts producing blocks built by the mev relay.\r\n\r\n**Actual behavior:** This error message is logged:\r\n```\r\n2022-07-02 17:59:16.856 ERROR - Merge       *** Transition Configuration error: remote Execution Client TerminalBlockHash and TerminalBlockNumber are inconsistent\r\n  remote configuration: TransitionConfiguration{terminalTotalDifficulty=0x000000000000000000000000000000000000000000000000000012309ce54000, terminalBlockHash=0x0000000000000000000000000000000000000000000000000000000000000000, terminalBlockNumber=55127}\r\n```\r\n\r\nEverything seems to be running anyway, so I don't know if this is problematic, or just noise.\r\n\r\n\r\n**Frequency:** The error is logged every minute\r\n\r\n### Versions (Add all that apply)\r\n* Software version:\r\n```\r\n~/workspace/kiln/teku$ ./build/install/teku/bin/teku --version\r\nteku/v22.6.1+21-ga046c52/linux-x86_64/-privatebuild-openjdk64bitservervm-java-11\r\n\r\n$ java --version\r\nopenjdk 11.0.15 2022-04-19\r\nOpenJDK Runtime Environment (build 11.0.15+10-Ubuntu-0ubuntu0.22.04.1)\r\nOpenJDK 64-Bit Server VM (build 11.0.15+10-Ubuntu-0ubuntu0.22.04.1, mixed mode, sharing)\r\n```\r\n\r\n* OS Name & Version: \r\n```\r\n$ cat /etc/*release\r\nDISTRIB_ID=Ubuntu\r\nDISTRIB_RELEASE=22.04\r\nDISTRIB_CODENAME=jammy\r\nDISTRIB_DESCRIPTION=\"Ubuntu 22.04 LTS\"\r\nPRETTY_NAME=\"Ubuntu 22.04 LTS\"\r\nNAME=\"Ubuntu\"\r\nVERSION_ID=\"22.04\"\r\nVERSION=\"22.04 LTS (Jammy Jellyfish)\"\r\nVERSION_CODENAME=jammy\r\nID=ubuntu\r\nID_LIKE=debian\r\nHOME_URL=\"https://www.ubuntu.com/\"\r\nSUPPORT_URL=\"https://help.ubuntu.com/\"\r\nBUG_REPORT_URL=\"https://bugs.launchpad.net/ubuntu/\"\r\nPRIVACY_POLICY_URL=\"https://www.ubuntu.com/legal/terms-and-policies/privacy-policy\"\r\nUBUNTU_CODENAME=jammy\r\n```\r\n\r\n* Cloud VM, type, size: digital ocean",
  "closed_by": {
    "login": "come-maiz",
    "id": 617831,
    "node_id": "MDQ6VXNlcjYxNzgzMQ==",
    "avatar_url": "https://avatars.githubusercontent.com/u/617831?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/come-maiz",
    "html_url": "https://github.com/come-maiz",
    "followers_url": "https://api.github.com/users/come-maiz/followers",
    "following_url": "https://api.github.com/users/come-maiz/following{/other_user}",
    "gists_url": "https://api.github.com/users/come-maiz/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/come-maiz/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/come-maiz/subscriptions",
    "organizations_url": "https://api.github.com/users/come-maiz/orgs",
    "repos_url": "https://api.github.com/users/come-maiz/repos",
    "events_url": "https://api.github.com/users/come-maiz/events{/privacy}",
    "received_events_url": "https://api.github.com/users/come-maiz/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ConsenSys/teku/issues/5884/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ConsenSys/teku/issues/5884/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ConsenSys/teku/issues/comments/1172950909",
    "html_url": "https://github.com/ConsenSys/teku/issues/5884#issuecomment-1172950909",
    "issue_url": "https://api.github.com/repos/ConsenSys/teku/issues/5884",
    "id": 1172950909,
    "node_id": "IC_kwDOCM9I9M5F6c99",
    "user": {
      "login": "tbenr",
      "id": 15999009,
      "node_id": "MDQ6VXNlcjE1OTk5MDA5",
      "avatar_url": "https://avatars.githubusercontent.com/u/15999009?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tbenr",
      "html_url": "https://github.com/tbenr",
      "followers_url": "https://api.github.com/users/tbenr/followers",
      "following_url": "https://api.github.com/users/tbenr/following{/other_user}",
      "gists_url": "https://api.github.com/users/tbenr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tbenr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tbenr/subscriptions",
      "organizations_url": "https://api.github.com/users/tbenr/orgs",
      "repos_url": "https://api.github.com/users/tbenr/repos",
      "events_url": "https://api.github.com/users/tbenr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tbenr/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-07-02T19:42:27Z",
    "updated_at": "2022-07-02T19:42:27Z",
    "author_association": "CONTRIBUTOR",
    "body": "Hi, the problem is the nethermind configuration. Teku is detecting a missconfiguration: as per spec, when the transition is configured to be done via TTD  the block number should be zero. Block number should be non zero when the transition is configured via block hash/epoch number (in that case TTD should be zero)",
    "reactions": {
      "url": "https://api.github.com/repos/ConsenSys/teku/issues/comments/1172950909/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ConsenSys/teku/issues/comments/1173921143",
    "html_url": "https://github.com/ConsenSys/teku/issues/5884#issuecomment-1173921143",
    "issue_url": "https://api.github.com/repos/ConsenSys/teku/issues/5884",
    "id": 1173921143,
    "node_id": "IC_kwDOCM9I9M5F-J13",
    "user": {
      "login": "come-maiz",
      "id": 617831,
      "node_id": "MDQ6VXNlcjYxNzgzMQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/617831?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/come-maiz",
      "html_url": "https://github.com/come-maiz",
      "followers_url": "https://api.github.com/users/come-maiz/followers",
      "following_url": "https://api.github.com/users/come-maiz/following{/other_user}",
      "gists_url": "https://api.github.com/users/come-maiz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/come-maiz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/come-maiz/subscriptions",
      "organizations_url": "https://api.github.com/users/come-maiz/orgs",
      "repos_url": "https://api.github.com/users/come-maiz/repos",
      "events_url": "https://api.github.com/users/come-maiz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/come-maiz/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-07-04T15:07:13Z",
    "updated_at": "2022-07-04T15:07:13Z",
    "author_association": "NONE",
    "body": "Thanks @tbenr! moving this to nethermind :point_up: ",
    "reactions": {
      "url": "https://api.github.com/repos/ConsenSys/teku/issues/comments/1173921143/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
