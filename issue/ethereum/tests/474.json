{
  "url": "https://api.github.com/repos/ethereum/tests/issues/474",
  "repository_url": "https://api.github.com/repos/ethereum/tests",
  "labels_url": "https://api.github.com/repos/ethereum/tests/issues/474/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/tests/issues/474/comments",
  "events_url": "https://api.github.com/repos/ethereum/tests/issues/474/events",
  "html_url": "https://github.com/ethereum/tests/issues/474",
  "id": 337318148,
  "node_id": "MDU6SXNzdWUzMzczMTgxNDg=",
  "number": 474,
  "title": "General Improvements To Ethereum Reference Test Suite",
  "user": {
    "login": "Matthalp-zz",
    "id": 1238969,
    "node_id": "MDQ6VXNlcjEyMzg5Njk=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1238969?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/Matthalp-zz",
    "html_url": "https://github.com/Matthalp-zz",
    "followers_url": "https://api.github.com/users/Matthalp-zz/followers",
    "following_url": "https://api.github.com/users/Matthalp-zz/following{/other_user}",
    "gists_url": "https://api.github.com/users/Matthalp-zz/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/Matthalp-zz/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/Matthalp-zz/subscriptions",
    "organizations_url": "https://api.github.com/users/Matthalp-zz/orgs",
    "repos_url": "https://api.github.com/users/Matthalp-zz/repos",
    "events_url": "https://api.github.com/users/Matthalp-zz/events{/privacy}",
    "received_events_url": "https://api.github.com/users/Matthalp-zz/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 72763898,
      "node_id": "MDU6TGFiZWw3Mjc2Mzg5OA==",
      "url": "https://api.github.com/repos/ethereum/tests/labels/enhancement",
      "name": "enhancement",
      "color": "84b6eb",
      "default": true,
      "description": null
    },
    {
      "id": 666869651,
      "node_id": "MDU6TGFiZWw2NjY4Njk2NTE=",
      "url": "https://api.github.com/repos/ethereum/tests/labels/up-for-grabs",
      "name": "up-for-grabs",
      "color": "c2e0c6",
      "default": false,
      "description": null
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 6,
  "created_at": "2018-07-01T20:07:11Z",
  "updated_at": "2021-06-25T10:53:11Z",
  "closed_at": null,
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "I am a core developer of Pantheon, the Java-based Ethereum client being developed at PegaSys/ConsenSys. My main area of focus has been on block processing/importing where I’ve spent a lot of time working with the various Ethereum reference tests.\r\n\r\nThere Ethereum reference tests have been invaluable getting our block processing capabilities online and I am grateful for all of the effort everyone has put into them— thank you! I could not imagine how hard it would be to implement block processing without having that level of test coverage — especially all of the edge cases that are not immediately clear just by reading the Yellow Paper.\r\n\r\nWhile the `retesteth` project is underway, I think it would be a good time to revisit the different test suites and test specification formats. Having just entered the space ten months ago and implementing these functionalities these test from scratch, I think there are some good opportunities to make it easier for the next set of Ethereum clients to come online, which I am more than happy to help with/drive. Some of these improvements include:\r\n\r\n1. *Making Test Specification Formats as Consistent as Possible Across Test Suites:* The conventions from different test suites sometimes deviate from each other. For example, the `GeneralStateTest`s typically contain a [single property](https://github.com/ethereum/tests/blob/develop/GeneralStateTests/stCodeSizeLimit/codesizeValid.json#L2) that encompasses the tests and the `post` field differentiates milestones while the `BlockchainTest`s have a [key per milestone](https://github.com/ethereum/tests/blob/develop/BlockchainTests/GeneralStateTests/stCodeSizeLimit/codesizeValid_d0g0v0.json#L2). There is also a slight difference in their naming as well (e.g. `_d0g0v0`). Also the `GeneralStateTests` can nest multiple test cases by the `indexes` mechanism, which was done to save storage space, but now means that each JSON file corresponds to more than one test per milestone.\r\n\r\n2. *Fill in the `comment` field to provide insight into what the test case is doing:* Sometimes it’s not immediately clear what the test case is doing and testing for. For example, it’s not immediately clear that `tx_e1c174e2` is testing the transaction that caused a consensus bug due to a client implementation committing data for a message that exceptionally halted to the RipeMD precompile. Another option is to provide this information in a `README` but that probably will not scale well and be hard to remember to always enforce when reviewing PRs.\r\n\r\n3. *Decrease the scope of what is tested in a single test suite and increase the number of test suites to allow client functionalities to be developed methodically:* An important aspect of the Ethereum reference test is that they make it easier for new clients to be developed. Many of the tests build on each other, such as the transition from `GeneralStateTest`s to `BlockchainTest`s. However we can make these test suites even more granular to create a “client implementor plan” that walks future client implementors through the steps of building a client. For example, having tests to thoroughly test RLP, creating and manipulating tries, deserialize/deserialize block constructs (e.g. blocks, transactions, etc), testing call/create messages, etc. Some of these tests exist in some aspect \r\n\r\n4. *Keep the “Read the Docs” up to date:*  Some documents, such as the [TransactionTests](https://ethereum-tests.readthedocs.io/en/latest/test_types/transaction_tests.html) are not up-to-date where the actual `transaction` fields are no longer there. This also goes back to point (3) as well because these fields would allow a client implementor to check more easily check/debug RLP serialization/deserialization for transactions.",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/tests/issues/474/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/tests/issues/474/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/ethereum/tests/issues/comments/401630341",
    "html_url": "https://github.com/ethereum/tests/issues/474#issuecomment-401630341",
    "issue_url": "https://api.github.com/repos/ethereum/tests/issues/474",
    "id": 401630341,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwMTYzMDM0MQ==",
    "user": {
      "login": "Matthalp-zz",
      "id": 1238969,
      "node_id": "MDQ6VXNlcjEyMzg5Njk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1238969?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Matthalp-zz",
      "html_url": "https://github.com/Matthalp-zz",
      "followers_url": "https://api.github.com/users/Matthalp-zz/followers",
      "following_url": "https://api.github.com/users/Matthalp-zz/following{/other_user}",
      "gists_url": "https://api.github.com/users/Matthalp-zz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Matthalp-zz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Matthalp-zz/subscriptions",
      "organizations_url": "https://api.github.com/users/Matthalp-zz/orgs",
      "repos_url": "https://api.github.com/users/Matthalp-zz/repos",
      "events_url": "https://api.github.com/users/Matthalp-zz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Matthalp-zz/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-07-01T20:14:50Z",
    "updated_at": "2018-07-01T20:14:50Z",
    "author_association": "NONE",
    "body": "If I was to summarize this, it would be to make the Ethereum reference tests more systematic in a way that lowers the barrier to implementing a client from scratch, which include more granular test suites as well as a road map for how implementers should go about bringing capabilities online and testing them. Additionally there are opportunities to add conventions/consistency amongst test suites specifications/formats and include information about what test suites and individual test cases are evaluating.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/tests/issues/comments/401630341/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/tests/issues/comments/402076059",
    "html_url": "https://github.com/ethereum/tests/issues/474#issuecomment-402076059",
    "issue_url": "https://api.github.com/repos/ethereum/tests/issues/474",
    "id": 402076059,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwMjA3NjA1OQ==",
    "user": {
      "login": "winsvega",
      "id": 4492341,
      "node_id": "MDQ6VXNlcjQ0OTIzNDE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4492341?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/winsvega",
      "html_url": "https://github.com/winsvega",
      "followers_url": "https://api.github.com/users/winsvega/followers",
      "following_url": "https://api.github.com/users/winsvega/following{/other_user}",
      "gists_url": "https://api.github.com/users/winsvega/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/winsvega/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/winsvega/subscriptions",
      "organizations_url": "https://api.github.com/users/winsvega/orgs",
      "repos_url": "https://api.github.com/users/winsvega/repos",
      "events_url": "https://api.github.com/users/winsvega/events{/privacy}",
      "received_events_url": "https://api.github.com/users/winsvega/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-07-03T09:29:00Z",
    "updated_at": "2018-07-03T09:29:00Z",
    "author_association": "MEMBER",
    "body": "```\r\nMaking Test Specification Formats as Consistent as Possible Across Test Suites: \r\n```\r\n\r\nThe idea on this one is to make a uniform test format which will make it easier to parse the tests. \r\nAnother idea is that client developers should not bother about different test formats. testing should be done through the test RPC interface.\r\n\r\n```\r\nFill in the comment. + Keep the “Read the Docs” up to date: \r\n```\r\nNeed a free hands on that\r\n\r\n```\r\nDecrease the scope of what is tested in a single test suite and increase the number of test suites to allow client functionalities to be developed methodically: \r\n```\r\nA guide on ethereum client develop process would be nice. +1 free hands here.\r\n\r\n\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/tests/issues/comments/402076059/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/tests/issues/comments/402156581",
    "html_url": "https://github.com/ethereum/tests/issues/474#issuecomment-402156581",
    "issue_url": "https://api.github.com/repos/ethereum/tests/issues/474",
    "id": 402156581,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwMjE1NjU4MQ==",
    "user": {
      "login": "Matthalp-zz",
      "id": 1238969,
      "node_id": "MDQ6VXNlcjEyMzg5Njk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1238969?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Matthalp-zz",
      "html_url": "https://github.com/Matthalp-zz",
      "followers_url": "https://api.github.com/users/Matthalp-zz/followers",
      "following_url": "https://api.github.com/users/Matthalp-zz/following{/other_user}",
      "gists_url": "https://api.github.com/users/Matthalp-zz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Matthalp-zz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Matthalp-zz/subscriptions",
      "organizations_url": "https://api.github.com/users/Matthalp-zz/orgs",
      "repos_url": "https://api.github.com/users/Matthalp-zz/repos",
      "events_url": "https://api.github.com/users/Matthalp-zz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Matthalp-zz/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-07-03T13:26:27Z",
    "updated_at": "2018-07-03T13:26:27Z",
    "author_association": "NONE",
    "body": "@winsvega I'm on vacation the next few days, but will double back next week to reply about next steps, etc.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/tests/issues/comments/402156581/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/tests/issues/comments/834825795",
    "html_url": "https://github.com/ethereum/tests/issues/474#issuecomment-834825795",
    "issue_url": "https://api.github.com/repos/ethereum/tests/issues/474",
    "id": 834825795,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgzNDgyNTc5NQ==",
    "user": {
      "login": "winsvega",
      "id": 4492341,
      "node_id": "MDQ6VXNlcjQ0OTIzNDE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4492341?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/winsvega",
      "html_url": "https://github.com/winsvega",
      "followers_url": "https://api.github.com/users/winsvega/followers",
      "following_url": "https://api.github.com/users/winsvega/following{/other_user}",
      "gists_url": "https://api.github.com/users/winsvega/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/winsvega/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/winsvega/subscriptions",
      "organizations_url": "https://api.github.com/users/winsvega/orgs",
      "repos_url": "https://api.github.com/users/winsvega/repos",
      "events_url": "https://api.github.com/users/winsvega/events{/privacy}",
      "received_events_url": "https://api.github.com/users/winsvega/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-05-07T22:30:22Z",
    "updated_at": "2021-05-07T22:31:22Z",
    "author_association": "MEMBER",
    "body": "@qbzzt  thats basicaly what you did, right? \r\nbullet 1 and 4 are all done",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/tests/issues/comments/834825795/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/tests/issues/comments/834828934",
    "html_url": "https://github.com/ethereum/tests/issues/474#issuecomment-834828934",
    "issue_url": "https://api.github.com/repos/ethereum/tests/issues/474",
    "id": 834828934,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgzNDgyODkzNA==",
    "user": {
      "login": "qbzzt",
      "id": 12722969,
      "node_id": "MDQ6VXNlcjEyNzIyOTY5",
      "avatar_url": "https://avatars.githubusercontent.com/u/12722969?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/qbzzt",
      "html_url": "https://github.com/qbzzt",
      "followers_url": "https://api.github.com/users/qbzzt/followers",
      "following_url": "https://api.github.com/users/qbzzt/following{/other_user}",
      "gists_url": "https://api.github.com/users/qbzzt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/qbzzt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/qbzzt/subscriptions",
      "organizations_url": "https://api.github.com/users/qbzzt/orgs",
      "repos_url": "https://api.github.com/users/qbzzt/repos",
      "events_url": "https://api.github.com/users/qbzzt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/qbzzt/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-05-07T22:36:30Z",
    "updated_at": "2021-05-07T22:36:30Z",
    "author_association": "MEMBER",
    "body": "> @qbzzt thats basicaly what you did, right?\r\n> bullet 1 and 4 are all done\r\n\r\nI did bullet 4. I think you did bullet 1 before I even got here. \r\n\r\nBullet 2 we usually do with comments, but as they are in `# <whatever>` lines, they aren't propagated into the filled tests. Is that a problem?\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/tests/issues/comments/834828934/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/tests/issues/comments/868414558",
    "html_url": "https://github.com/ethereum/tests/issues/474#issuecomment-868414558",
    "issue_url": "https://api.github.com/repos/ethereum/tests/issues/474",
    "id": 868414558,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg2ODQxNDU1OA==",
    "user": {
      "login": "mzabaluev",
      "id": 1198919,
      "node_id": "MDQ6VXNlcjExOTg5MTk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1198919?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mzabaluev",
      "html_url": "https://github.com/mzabaluev",
      "followers_url": "https://api.github.com/users/mzabaluev/followers",
      "following_url": "https://api.github.com/users/mzabaluev/following{/other_user}",
      "gists_url": "https://api.github.com/users/mzabaluev/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mzabaluev/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mzabaluev/subscriptions",
      "organizations_url": "https://api.github.com/users/mzabaluev/orgs",
      "repos_url": "https://api.github.com/users/mzabaluev/repos",
      "events_url": "https://api.github.com/users/mzabaluev/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mzabaluev/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-06-25T10:53:11Z",
    "updated_at": "2021-06-25T10:53:11Z",
    "author_association": "NONE",
    "body": "Added #889 to expand on bullet 4.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/tests/issues/comments/868414558/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
