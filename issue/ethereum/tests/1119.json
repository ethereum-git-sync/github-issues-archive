{
  "url": "https://api.github.com/repos/ethereum/tests/issues/1119",
  "repository_url": "https://api.github.com/repos/ethereum/tests",
  "labels_url": "https://api.github.com/repos/ethereum/tests/issues/1119/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/tests/issues/1119/comments",
  "events_url": "https://api.github.com/repos/ethereum/tests/issues/1119/events",
  "html_url": "https://github.com/ethereum/tests/issues/1119",
  "id": 1503621897,
  "node_id": "I_kwDOAO0i585Zn3MJ",
  "number": 1119,
  "title": "EOF test vectors",
  "user": {
    "login": "winsvega",
    "id": 4492341,
    "node_id": "MDQ6VXNlcjQ0OTIzNDE=",
    "avatar_url": "https://avatars.githubusercontent.com/u/4492341?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/winsvega",
    "html_url": "https://github.com/winsvega",
    "followers_url": "https://api.github.com/users/winsvega/followers",
    "following_url": "https://api.github.com/users/winsvega/following{/other_user}",
    "gists_url": "https://api.github.com/users/winsvega/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/winsvega/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/winsvega/subscriptions",
    "organizations_url": "https://api.github.com/users/winsvega/orgs",
    "repos_url": "https://api.github.com/users/winsvega/repos",
    "events_url": "https://api.github.com/users/winsvega/events{/privacy}",
    "received_events_url": "https://api.github.com/users/winsvega/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2022-12-19T21:22:37Z",
  "updated_at": "2022-12-21T21:20:03Z",
  "closed_at": null,
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": "Check that if EOF code \r\n\r\nInside transaction creation\r\nInside contract\r\nIn initcode\r\nInside contract called by EOF code\r\nInside contract called by Legacy code\r\n\r\nHas restricted opcode (callcode/selfdestruct) \r\n\r\nIt is treated as invalid.\r\n\r\n-----\r\n\r\nCheck that if valid eof code calls subcontract that is not eof and has restricted opcode it is ok.\r\n\r\n----\r\n\r\nCheck that EOF code follows static context. (Throws on state change)\r\n\r\n----\r\n\r\nCheck what rules apply (can call restricted opcodes or not, eof rules if any)\r\nIf a legacycall delegatecall eof code\r\nIf eof code delegatecall legacy\r\n\r\n-----\r\n\r\nEof code creates a contract in init code of which is legacy code. Should not be permited. \r\n\r\n----\r\n\r\nCheck if eof code follows calldepth rules.\r\nE.g. if eof call calls into legacy or eof and so on check that calldepth limit is ok\r\n\r\n----\r\n\r\nCheck that eof context remain eof (restricted opcodes not permited) if eof code subcalls(delegatecall too) legacy code that goes oog, revert, suicide. After subcall fails the resumed eof code must remain eof. And vice versa if legacy code subcalls eof code and that one reverts or oog, the legacy code continue execution and restricted opcode still permited\r\n\r\n----\r\n\r\n",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/tests/issues/1119/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/tests/issues/1119/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/ethereum/tests/issues/comments/1361242858",
    "html_url": "https://github.com/ethereum/tests/issues/1119#issuecomment-1361242858",
    "issue_url": "https://api.github.com/repos/ethereum/tests/issues/1119",
    "id": 1361242858,
    "node_id": "IC_kwDOAO0i585RIurq",
    "user": {
      "login": "winsvega",
      "id": 4492341,
      "node_id": "MDQ6VXNlcjQ0OTIzNDE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4492341?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/winsvega",
      "html_url": "https://github.com/winsvega",
      "followers_url": "https://api.github.com/users/winsvega/followers",
      "following_url": "https://api.github.com/users/winsvega/following{/other_user}",
      "gists_url": "https://api.github.com/users/winsvega/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/winsvega/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/winsvega/subscriptions",
      "organizations_url": "https://api.github.com/users/winsvega/orgs",
      "repos_url": "https://api.github.com/users/winsvega/repos",
      "events_url": "https://api.github.com/users/winsvega/events{/privacy}",
      "received_events_url": "https://api.github.com/users/winsvega/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-12-21T12:16:44Z",
    "updated_at": "2022-12-21T12:22:22Z",
    "author_association": "MEMBER",
    "body": "Check eof code deployment collision with existing legacy or eof contracts.\r\n\r\n----\r\n\r\nCheck that every single bytecode except restricted behaive the same way (gas usage state interaction, if gasusage is changed for inside eof, test it too) inside of eof code. Make this test a template because there will be eofv2 or smth. \r\n\r\nCheck that invalid opcodes and restricted ones inside eof code lead to execution throw. ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/tests/issues/comments/1361242858/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/tests/issues/comments/1362099706",
    "html_url": "https://github.com/ethereum/tests/issues/1119#issuecomment-1362099706",
    "issue_url": "https://api.github.com/repos/ethereum/tests/issues/1119",
    "id": 1362099706,
    "node_id": "IC_kwDOAO0i585RL_36",
    "user": {
      "login": "winsvega",
      "id": 4492341,
      "node_id": "MDQ6VXNlcjQ0OTIzNDE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4492341?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/winsvega",
      "html_url": "https://github.com/winsvega",
      "followers_url": "https://api.github.com/users/winsvega/followers",
      "following_url": "https://api.github.com/users/winsvega/following{/other_user}",
      "gists_url": "https://api.github.com/users/winsvega/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/winsvega/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/winsvega/subscriptions",
      "organizations_url": "https://api.github.com/users/winsvega/orgs",
      "repos_url": "https://api.github.com/users/winsvega/repos",
      "events_url": "https://api.github.com/users/winsvega/events{/privacy}",
      "received_events_url": "https://api.github.com/users/winsvega/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-12-21T21:20:03Z",
    "updated_at": "2022-12-21T21:20:03Z",
    "author_association": "MEMBER",
    "body": "actually consider translating all existing tests into eof format that should cover most of the cases above as we have this vectors already. ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/tests/issues/comments/1362099706/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
