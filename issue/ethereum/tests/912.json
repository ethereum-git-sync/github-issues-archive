{
  "url": "https://api.github.com/repos/ethereum/tests/issues/912",
  "repository_url": "https://api.github.com/repos/ethereum/tests",
  "labels_url": "https://api.github.com/repos/ethereum/tests/issues/912/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/tests/issues/912/comments",
  "events_url": "https://api.github.com/repos/ethereum/tests/issues/912/events",
  "html_url": "https://github.com/ethereum/tests/issues/912",
  "id": 961840675,
  "node_id": "MDU6SXNzdWU5NjE4NDA2NzU=",
  "number": 912,
  "title": "Transaction potentially rejected for the wrong reasons",
  "user": {
    "login": "norswap",
    "id": 202175,
    "node_id": "MDQ6VXNlcjIwMjE3NQ==",
    "avatar_url": "https://avatars.githubusercontent.com/u/202175?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/norswap",
    "html_url": "https://github.com/norswap",
    "followers_url": "https://api.github.com/users/norswap/followers",
    "following_url": "https://api.github.com/users/norswap/following{/other_user}",
    "gists_url": "https://api.github.com/users/norswap/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/norswap/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/norswap/subscriptions",
    "organizations_url": "https://api.github.com/users/norswap/orgs",
    "repos_url": "https://api.github.com/users/norswap/repos",
    "events_url": "https://api.github.com/users/norswap/events{/privacy}",
    "received_events_url": "https://api.github.com/users/norswap/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 6,
  "created_at": "2021-08-05T13:41:16Z",
  "updated_at": "2021-10-15T21:54:33Z",
  "closed_at": "2021-10-15T21:54:33Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "First of all, I know transactions tests are not being maintained, see #906 \r\n\r\nNevertheless, I thought I'd report some issue with them, in case someone is interested.\r\n\r\nThe issue is that some transactions in those tests have a \"malleable signature\", essentially, a signature `s` that is higher than the ellipctic curve parameter `N` divided by 2. This should be rejected after [EIP-2](https://eips.ethereum.org/EIPS/eip-2) (to avoid replay attacks) and so is only valid on Frontier.\r\n\r\nThe affected transactions are:\r\n- `TransactionTests/ttData/DataTestNotEnoughGAS.json`\r\n- `TransactionTests/ttGasPrice/TransactionWithGasPriceOverflow.json`\r\n- `TransactionTests/ttNonce/TransactionWithNonceOverflow.json`\r\n\r\nAll of these are illegal transactions, and so should fail to parse or to be accepted in general.\r\n\r\nThe problem is that currently, an implementation may reject them (except for Frontier) because the signature is invalid, and not because it validated the thing that was supposed to be tested (e.g. for `TransactionWithGasPriceOverflow`: that the gas price does not overflow, i.e. is encoded on more than 32 bytes), making these tests much less useful than they should be.\r\n\r\nI regenerated the signature on the transactions so that it is EIP-2 compliant.\r\n\r\nWhat I did to work around this was regenerate the signatures on the transactions, here's [the nanoeth commit](https://github.com/norswap/nanoeth/commit/ccb1199b06ad03a54340de0414179a0a6ad51fa2).\r\n\r\nI could submit this change as a PR if it's deemed useful. However then I'd need to know how to update the metadata fields. And probably update the filler files too, for consistency?",
  "closed_by": {
    "login": "winsvega",
    "id": 4492341,
    "node_id": "MDQ6VXNlcjQ0OTIzNDE=",
    "avatar_url": "https://avatars.githubusercontent.com/u/4492341?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/winsvega",
    "html_url": "https://github.com/winsvega",
    "followers_url": "https://api.github.com/users/winsvega/followers",
    "following_url": "https://api.github.com/users/winsvega/following{/other_user}",
    "gists_url": "https://api.github.com/users/winsvega/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/winsvega/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/winsvega/subscriptions",
    "organizations_url": "https://api.github.com/users/winsvega/orgs",
    "repos_url": "https://api.github.com/users/winsvega/repos",
    "events_url": "https://api.github.com/users/winsvega/events{/privacy}",
    "received_events_url": "https://api.github.com/users/winsvega/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/tests/issues/912/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/tests/issues/912/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/tests/issues/comments/893906021",
    "html_url": "https://github.com/ethereum/tests/issues/912#issuecomment-893906021",
    "issue_url": "https://api.github.com/repos/ethereum/tests/issues/912",
    "id": 893906021,
    "node_id": "IC_kwDOAO0i5841R-xl",
    "user": {
      "login": "winsvega",
      "id": 4492341,
      "node_id": "MDQ6VXNlcjQ0OTIzNDE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4492341?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/winsvega",
      "html_url": "https://github.com/winsvega",
      "followers_url": "https://api.github.com/users/winsvega/followers",
      "following_url": "https://api.github.com/users/winsvega/following{/other_user}",
      "gists_url": "https://api.github.com/users/winsvega/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/winsvega/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/winsvega/subscriptions",
      "organizations_url": "https://api.github.com/users/winsvega/orgs",
      "repos_url": "https://api.github.com/users/winsvega/repos",
      "events_url": "https://api.github.com/users/winsvega/events{/privacy}",
      "received_events_url": "https://api.github.com/users/winsvega/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-08-06T00:08:14Z",
    "updated_at": "2021-08-06T00:08:14Z",
    "author_association": "MEMBER",
    "body": "Hm. Transaction tests currently not supported as there is no legitimate way to generate it. \r\n\r\nYou can open a PR, we could pretend that it is still being filled from changed fillers. \r\n\r\nIdeally there would be a mechanism to provide data from filler to the client and get the result if a transaction is legit. But apparently its much less relevant then the core transition tests.\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/tests/issues/comments/893906021/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/tests/issues/comments/894643181",
    "html_url": "https://github.com/ethereum/tests/issues/912#issuecomment-894643181",
    "issue_url": "https://api.github.com/repos/ethereum/tests/issues/912",
    "id": 894643181,
    "node_id": "IC_kwDOAO0i5841Uyvt",
    "user": {
      "login": "norswap",
      "id": 202175,
      "node_id": "MDQ6VXNlcjIwMjE3NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/202175?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/norswap",
      "html_url": "https://github.com/norswap",
      "followers_url": "https://api.github.com/users/norswap/followers",
      "following_url": "https://api.github.com/users/norswap/following{/other_user}",
      "gists_url": "https://api.github.com/users/norswap/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/norswap/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/norswap/subscriptions",
      "organizations_url": "https://api.github.com/users/norswap/orgs",
      "repos_url": "https://api.github.com/users/norswap/repos",
      "events_url": "https://api.github.com/users/norswap/events{/privacy}",
      "received_events_url": "https://api.github.com/users/norswap/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-08-07T11:38:20Z",
    "updated_at": "2021-08-07T11:38:20Z",
    "author_association": "NONE",
    "body": "Will do the PR then!\r\n\r\nI might make such a tool - are you attached to the current JSON format, or could it be changed?\r\nOf course, it wouldn't be useful immediately, since my \"client\" is itself being implemented and almost assuredly has bugs.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/tests/issues/comments/894643181/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/tests/issues/comments/894862106",
    "html_url": "https://github.com/ethereum/tests/issues/912#issuecomment-894862106",
    "issue_url": "https://api.github.com/repos/ethereum/tests/issues/912",
    "id": 894862106,
    "node_id": "IC_kwDOAO0i5841VoMa",
    "user": {
      "login": "winsvega",
      "id": 4492341,
      "node_id": "MDQ6VXNlcjQ0OTIzNDE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4492341?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/winsvega",
      "html_url": "https://github.com/winsvega",
      "followers_url": "https://api.github.com/users/winsvega/followers",
      "following_url": "https://api.github.com/users/winsvega/following{/other_user}",
      "gists_url": "https://api.github.com/users/winsvega/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/winsvega/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/winsvega/subscriptions",
      "organizations_url": "https://api.github.com/users/winsvega/orgs",
      "repos_url": "https://api.github.com/users/winsvega/repos",
      "events_url": "https://api.github.com/users/winsvega/events{/privacy}",
      "received_events_url": "https://api.github.com/users/winsvega/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-08-08T22:05:37Z",
    "updated_at": "2021-08-08T22:05:37Z",
    "author_association": "MEMBER",
    "body": "Also the existing ones are verified by aleth constantinople implementation. Are you sure the signature is incorrect?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/tests/issues/comments/894862106/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/tests/issues/comments/897624318",
    "html_url": "https://github.com/ethereum/tests/issues/912#issuecomment-897624318",
    "issue_url": "https://api.github.com/repos/ethereum/tests/issues/912",
    "id": 897624318,
    "node_id": "IC_kwDOAO0i5841gKj-",
    "user": {
      "login": "norswap",
      "id": 202175,
      "node_id": "MDQ6VXNlcjIwMjE3NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/202175?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/norswap",
      "html_url": "https://github.com/norswap",
      "followers_url": "https://api.github.com/users/norswap/followers",
      "following_url": "https://api.github.com/users/norswap/following{/other_user}",
      "gists_url": "https://api.github.com/users/norswap/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/norswap/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/norswap/subscriptions",
      "organizations_url": "https://api.github.com/users/norswap/orgs",
      "repos_url": "https://api.github.com/users/norswap/repos",
      "events_url": "https://api.github.com/users/norswap/events{/privacy}",
      "received_events_url": "https://api.github.com/users/norswap/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-08-12T13:07:31Z",
    "updated_at": "2021-08-12T13:07:31Z",
    "author_association": "NONE",
    "body": "To clarify: these are negative tests, meaning that the transaction should be rejected for the tests to pass.\r\n\r\nAre you saying that you check the signature (and _**only**_ the signature) with aleth, and aleth says that all signatures are valid (even on these negative tests)?\r\n\r\nI would be very surprised if it's a bug on my side — it would mean I'm parsing the signature values incorrectly. But if that was the case, how come I can verify every other signature, whether I sign it myself or it's signed by someone else?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/tests/issues/comments/897624318/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/tests/issues/comments/907603541",
    "html_url": "https://github.com/ethereum/tests/issues/912#issuecomment-907603541",
    "issue_url": "https://api.github.com/repos/ethereum/tests/issues/912",
    "id": 907603541,
    "node_id": "IC_kwDOAO0i5842GO5V",
    "user": {
      "login": "winsvega",
      "id": 4492341,
      "node_id": "MDQ6VXNlcjQ0OTIzNDE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4492341?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/winsvega",
      "html_url": "https://github.com/winsvega",
      "followers_url": "https://api.github.com/users/winsvega/followers",
      "following_url": "https://api.github.com/users/winsvega/following{/other_user}",
      "gists_url": "https://api.github.com/users/winsvega/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/winsvega/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/winsvega/subscriptions",
      "organizations_url": "https://api.github.com/users/winsvega/orgs",
      "repos_url": "https://api.github.com/users/winsvega/repos",
      "events_url": "https://api.github.com/users/winsvega/events{/privacy}",
      "received_events_url": "https://api.github.com/users/winsvega/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-08-28T09:59:34Z",
    "updated_at": "2021-08-28T09:59:34Z",
    "author_association": "MEMBER",
    "body": "just checked this file DataTestNotEnoughGASFiller.json and filled DataTestNotEnoughGAS\r\nthe test is correct with s/2 requirements, what is the issue?\r\n\r\nThose tests clearly say that transaction is expected to be rejected. \r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/tests/issues/comments/907603541/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/tests/issues/comments/944726818",
    "html_url": "https://github.com/ethereum/tests/issues/912#issuecomment-944726818",
    "issue_url": "https://api.github.com/repos/ethereum/tests/issues/912",
    "id": 944726818,
    "node_id": "IC_kwDOAO0i5844T2Mi",
    "user": {
      "login": "winsvega",
      "id": 4492341,
      "node_id": "MDQ6VXNlcjQ0OTIzNDE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4492341?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/winsvega",
      "html_url": "https://github.com/winsvega",
      "followers_url": "https://api.github.com/users/winsvega/followers",
      "following_url": "https://api.github.com/users/winsvega/following{/other_user}",
      "gists_url": "https://api.github.com/users/winsvega/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/winsvega/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/winsvega/subscriptions",
      "organizations_url": "https://api.github.com/users/winsvega/orgs",
      "repos_url": "https://api.github.com/users/winsvega/repos",
      "events_url": "https://api.github.com/users/winsvega/events{/privacy}",
      "received_events_url": "https://api.github.com/users/winsvega/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-10-15T21:54:33Z",
    "updated_at": "2021-10-15T21:54:33Z",
    "author_association": "MEMBER",
    "body": "reworked",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/tests/issues/comments/944726818/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
