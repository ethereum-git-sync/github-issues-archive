{
  "url": "https://api.github.com/repos/ethereum/EIPs/issues/2968",
  "repository_url": "https://api.github.com/repos/ethereum/EIPs",
  "labels_url": "https://api.github.com/repos/ethereum/EIPs/issues/2968/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/EIPs/issues/2968/comments",
  "events_url": "https://api.github.com/repos/ethereum/EIPs/issues/2968/events",
  "html_url": "https://github.com/ethereum/EIPs/issues/2968",
  "id": 698769127,
  "node_id": "MDU6SXNzdWU2OTg3NjkxMjc=",
  "number": 2968,
  "title": "Questions about ETH2 BLS key derivation",
  "user": {
    "login": "kristieguo",
    "id": 20232539,
    "node_id": "MDQ6VXNlcjIwMjMyNTM5",
    "avatar_url": "https://avatars.githubusercontent.com/u/20232539?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/kristieguo",
    "html_url": "https://github.com/kristieguo",
    "followers_url": "https://api.github.com/users/kristieguo/followers",
    "following_url": "https://api.github.com/users/kristieguo/following{/other_user}",
    "gists_url": "https://api.github.com/users/kristieguo/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/kristieguo/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/kristieguo/subscriptions",
    "organizations_url": "https://api.github.com/users/kristieguo/orgs",
    "repos_url": "https://api.github.com/users/kristieguo/repos",
    "events_url": "https://api.github.com/users/kristieguo/events{/privacy}",
    "received_events_url": "https://api.github.com/users/kristieguo/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 3,
  "created_at": "2020-09-11T03:09:05Z",
  "updated_at": "2020-09-11T11:55:55Z",
  "closed_at": "2020-09-11T11:55:54Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "Hello,\r\n\r\nI'm doing some research and preparing to support ETH2 staking in our custody product. However, I read the EIP proposals and have questions about BLS key derivation implementation.\r\n\r\nThe EIP2333 proposal states: \r\n\r\n\"Based on the order of the private key subgroup of BLS12-381 and the size of the entropy utilised, more than 54% of keys generated by BIP32 would be invalid.\" \r\n\r\nI did some tests and the result matches the statement. However, currently our custody system is using BIP44 to derive keys and we want to keep it that way. By reading the entire proposal, we understand that a new key derivation method involving intermediate Lamport algorithm is recommended but we could not find a Javascript SDK for the entire derivation process. We don't want to take the risk of writing the derivation by ourselves and leads to possible token assets loss. So I was wondering what exact reason is leading to the percentage of 54% invalid key generation and how we could solve this problem without abandoning BIP. By referring to the BLS Javascript SDK as in https://github.com/herumi/bls-eth-wasm, I came up with the solution as below and demo code in attachment:\r\n\r\n1. derive from seed by BIP\r\n2. set derived key in step1 to little endian, make it as the BLS private key\r\n3. get BLS public key by the private key\r\n\r\nAlthough I see at least one problem in this solution. Keys generated in step 2 may be the same after being set to little endian even if the original keys generated in step 1 are different. Despite this problem, Could this solution 100% solve the BIP key generation problem mentioned in the EIP proposal? Or does anyone have better solutions for us to continue to use BIP44 for key generation without implementing another derivation algorithm?\r\n\r\nI really appreciate it if anyone could help us. Thank you.\r\n",
  "closed_by": {
    "login": "kristieguo",
    "id": 20232539,
    "node_id": "MDQ6VXNlcjIwMjMyNTM5",
    "avatar_url": "https://avatars.githubusercontent.com/u/20232539?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/kristieguo",
    "html_url": "https://github.com/kristieguo",
    "followers_url": "https://api.github.com/users/kristieguo/followers",
    "following_url": "https://api.github.com/users/kristieguo/following{/other_user}",
    "gists_url": "https://api.github.com/users/kristieguo/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/kristieguo/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/kristieguo/subscriptions",
    "organizations_url": "https://api.github.com/users/kristieguo/orgs",
    "repos_url": "https://api.github.com/users/kristieguo/repos",
    "events_url": "https://api.github.com/users/kristieguo/events{/privacy}",
    "received_events_url": "https://api.github.com/users/kristieguo/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/EIPs/issues/2968/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/EIPs/issues/2968/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/EIPs/issues/comments/690846723",
    "html_url": "https://github.com/ethereum/EIPs/issues/2968#issuecomment-690846723",
    "issue_url": "https://api.github.com/repos/ethereum/EIPs/issues/2968",
    "id": 690846723,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY5MDg0NjcyMw==",
    "user": {
      "login": "github-actions[bot]",
      "id": 41898282,
      "node_id": "MDM6Qm90NDE4OTgyODI=",
      "avatar_url": "https://avatars.githubusercontent.com/in/15368?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/github-actions%5Bbot%5D",
      "html_url": "https://github.com/apps/github-actions",
      "followers_url": "https://api.github.com/users/github-actions%5Bbot%5D/followers",
      "following_url": "https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}",
      "gists_url": "https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/github-actions%5Bbot%5D/subscriptions",
      "organizations_url": "https://api.github.com/users/github-actions%5Bbot%5D/orgs",
      "repos_url": "https://api.github.com/users/github-actions%5Bbot%5D/repos",
      "events_url": "https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}",
      "received_events_url": "https://api.github.com/users/github-actions%5Bbot%5D/received_events",
      "type": "Bot",
      "site_admin": false
    },
    "created_at": "2020-09-11T03:09:41Z",
    "updated_at": "2020-09-11T03:09:41Z",
    "author_association": "NONE",
    "body": "Since this is your first issue, we kindly remind you to check out [EIP-1](https://eips.ethereum.org/EIPS/eip-1) for guidance.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/EIPs/issues/comments/690846723/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/EIPs/issues/comments/690971447",
    "html_url": "https://github.com/ethereum/EIPs/issues/2968#issuecomment-690971447",
    "issue_url": "https://api.github.com/repos/ethereum/EIPs/issues/2968",
    "id": 690971447,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY5MDk3MTQ0Nw==",
    "user": {
      "login": "axic",
      "id": 20340,
      "node_id": "MDQ6VXNlcjIwMzQw",
      "avatar_url": "https://avatars.githubusercontent.com/u/20340?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/axic",
      "html_url": "https://github.com/axic",
      "followers_url": "https://api.github.com/users/axic/followers",
      "following_url": "https://api.github.com/users/axic/following{/other_user}",
      "gists_url": "https://api.github.com/users/axic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/axic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/axic/subscriptions",
      "organizations_url": "https://api.github.com/users/axic/orgs",
      "repos_url": "https://api.github.com/users/axic/repos",
      "events_url": "https://api.github.com/users/axic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/axic/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-09-11T09:06:05Z",
    "updated_at": "2020-09-11T09:06:05Z",
    "author_association": "MEMBER",
    "body": "I suggest to leave this comment on #2337 which is the discussion URL for EIP-2333. The authors of it are likely not monitoring every issue made to the EIP repository.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/EIPs/issues/comments/690971447/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/EIPs/issues/comments/691049823",
    "html_url": "https://github.com/ethereum/EIPs/issues/2968#issuecomment-691049823",
    "issue_url": "https://api.github.com/repos/ethereum/EIPs/issues/2968",
    "id": 691049823,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY5MTA0OTgyMw==",
    "user": {
      "login": "kristieguo",
      "id": 20232539,
      "node_id": "MDQ6VXNlcjIwMjMyNTM5",
      "avatar_url": "https://avatars.githubusercontent.com/u/20232539?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kristieguo",
      "html_url": "https://github.com/kristieguo",
      "followers_url": "https://api.github.com/users/kristieguo/followers",
      "following_url": "https://api.github.com/users/kristieguo/following{/other_user}",
      "gists_url": "https://api.github.com/users/kristieguo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kristieguo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kristieguo/subscriptions",
      "organizations_url": "https://api.github.com/users/kristieguo/orgs",
      "repos_url": "https://api.github.com/users/kristieguo/repos",
      "events_url": "https://api.github.com/users/kristieguo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kristieguo/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-09-11T11:55:54Z",
    "updated_at": "2020-09-11T11:55:54Z",
    "author_association": "NONE",
    "body": "> I suggest to leave this comment on #2337 which is the discussion URL for EIP-2333. The authors of it are likely not monitoring every issue made to the EIP repository.\r\n\r\nOK. Thank you.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/EIPs/issues/comments/691049823/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
