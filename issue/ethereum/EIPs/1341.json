{
  "url": "https://api.github.com/repos/ethereum/EIPs/issues/1341",
  "repository_url": "https://api.github.com/repos/ethereum/EIPs",
  "labels_url": "https://api.github.com/repos/ethereum/EIPs/issues/1341/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/EIPs/issues/1341/comments",
  "events_url": "https://api.github.com/repos/ethereum/EIPs/issues/1341/events",
  "html_url": "https://github.com/ethereum/EIPs/issues/1341",
  "id": 352295040,
  "node_id": "MDU6SXNzdWUzNTIyOTUwNDA=",
  "number": 1341,
  "title": "ERC-1341: Ethereum Web Tokens",
  "user": {
    "login": "macalinao",
    "id": 401263,
    "node_id": "MDQ6VXNlcjQwMTI2Mw==",
    "avatar_url": "https://avatars.githubusercontent.com/u/401263?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/macalinao",
    "html_url": "https://github.com/macalinao",
    "followers_url": "https://api.github.com/users/macalinao/followers",
    "following_url": "https://api.github.com/users/macalinao/following{/other_user}",
    "gists_url": "https://api.github.com/users/macalinao/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/macalinao/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/macalinao/subscriptions",
    "organizations_url": "https://api.github.com/users/macalinao/orgs",
    "repos_url": "https://api.github.com/users/macalinao/repos",
    "events_url": "https://api.github.com/users/macalinao/events{/privacy}",
    "received_events_url": "https://api.github.com/users/macalinao/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 2328627851,
      "node_id": "MDU6TGFiZWwyMzI4NjI3ODUx",
      "url": "https://api.github.com/repos/ethereum/EIPs/labels/stale",
      "name": "stale",
      "color": "000000",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 5,
  "created_at": "2018-08-20T21:01:30Z",
  "updated_at": "2021-12-18T21:12:00Z",
  "closed_at": "2021-12-18T21:12:00Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "```\r\neip: 1341\r\ntitle: Ethereum Web Tokens\r\nauthor: Ian Macalinao <ian@abacusprotocol.com>, Pradyuman Vig <pradyuman@abacusprotocol.com>\r\ndiscussions-to: this issue\r\nstatus: WIP\r\ntype: Standards Track\r\ncategory: ERC\r\ncreated: 2018-08-20\r\n```\r\n\r\n## Simple Summary\r\n\r\nJWTs signed using Ethereum addresses.\r\n\r\n## Abstract\r\n\r\nEthereum web tokens (EWTs) are a subset of JSON web tokens that are signed using Web3. They provide all of the benefits of JWTs while also using Ethereum's cryptography system.\r\n\r\n## Motivation\r\n\r\nThere are many use cases out there for authentication, including:\r\n\r\n- Standardizing authorization to permissioned ERC721 metadata\r\n- Restricting API access to certain Ethereum addresses\r\n- Proving ownership of an Ethereum address\r\n- Basically anything auth related!\r\n\r\nBy creating an authentication specification that plays well with Ethereum, we can standardize the way people authenticate with off-chain systems using their Ethereum address.\r\n\r\n## Specification\r\n\r\nEWTs are just JWTs with a few additional constraints:\r\n\r\n- The `alg` is set to ETH.\r\n- An `address` field must be included in the payload. This address is cross-referenced with the checksummed address retrieved from `ecrecover` to verify the authenticity of the message.\r\n- The signed payload is the [base64url](https://tools.ietf.org/html/rfc4648#section-5) encoding of `web3.sign(payload)` where `payload` is defined as per the JWT standard.\r\n\r\nAuthentication to an HTTP server can be done by specifying the header:\r\n\r\n```\r\nAuthorization: Bearer <ewt>\r\n```\r\n\r\n## Rationale\r\n\r\nThe EWT standard is intentionally simple to make it easy to migrate from or integrate with existing JWT-based systems and libraries.\r\n\r\nThe JWT standard is already well adopted, so it makes sense to use it as a starting point. It contains features such as expiry, issuer name, etc. that don't make sense to reinvent for Ethereum.\r\n\r\nThe traditional JWT algorithms do not use Web3 to sign messages, meaning that there is a back-and-forth needed to actually generate a JWT showing that you own your address. EWTs are different, and its auth is akin to [the way the Github API does its auth](https://developer.github.com/apps/building-github-apps/authenticating-with-github-apps/#authenticating-as-a-github-app) except it uses Ethereum's system instead.\r\n\r\n## Implementation\r\n\r\nJS implementation is available here: https://github.com/abacusprotocol/eth-web-token\r\n\r\n## Copyright\r\n\r\nCopyright and related rights waived via CC0.",
  "closed_by": {
    "login": "github-actions[bot]",
    "id": 41898282,
    "node_id": "MDM6Qm90NDE4OTgyODI=",
    "avatar_url": "https://avatars.githubusercontent.com/in/15368?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/github-actions%5Bbot%5D",
    "html_url": "https://github.com/apps/github-actions",
    "followers_url": "https://api.github.com/users/github-actions%5Bbot%5D/followers",
    "following_url": "https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}",
    "gists_url": "https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/github-actions%5Bbot%5D/subscriptions",
    "organizations_url": "https://api.github.com/users/github-actions%5Bbot%5D/orgs",
    "repos_url": "https://api.github.com/users/github-actions%5Bbot%5D/repos",
    "events_url": "https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}",
    "received_events_url": "https://api.github.com/users/github-actions%5Bbot%5D/received_events",
    "type": "Bot",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/EIPs/issues/1341/reactions",
    "total_count": 15,
    "+1": 15,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/EIPs/issues/1341/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/EIPs/issues/comments/414601159",
    "html_url": "https://github.com/ethereum/EIPs/issues/1341#issuecomment-414601159",
    "issue_url": "https://api.github.com/repos/ethereum/EIPs/issues/1341",
    "id": 414601159,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxNDYwMTE1OQ==",
    "user": {
      "login": "MicahZoltu",
      "id": 886059,
      "node_id": "MDQ6VXNlcjg4NjA1OQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/886059?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MicahZoltu",
      "html_url": "https://github.com/MicahZoltu",
      "followers_url": "https://api.github.com/users/MicahZoltu/followers",
      "following_url": "https://api.github.com/users/MicahZoltu/following{/other_user}",
      "gists_url": "https://api.github.com/users/MicahZoltu/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MicahZoltu/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MicahZoltu/subscriptions",
      "organizations_url": "https://api.github.com/users/MicahZoltu/orgs",
      "repos_url": "https://api.github.com/users/MicahZoltu/repos",
      "events_url": "https://api.github.com/users/MicahZoltu/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MicahZoltu/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-08-21T08:52:37Z",
    "updated_at": "2018-08-21T08:52:37Z",
    "author_association": "MEMBER",
    "body": "Is there a reason to not just use straight JWT?  I would like to see some arguments included in this EIP on how JWT _fails_ to solve the problem at hand and why we need a new standard.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/EIPs/issues/comments/414601159/reactions",
      "total_count": 2,
      "+1": 2,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/EIPs/issues/comments/415085024",
    "html_url": "https://github.com/ethereum/EIPs/issues/1341#issuecomment-415085024",
    "issue_url": "https://api.github.com/repos/ethereum/EIPs/issues/1341",
    "id": 415085024,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxNTA4NTAyNA==",
    "user": {
      "login": "macalinao",
      "id": 401263,
      "node_id": "MDQ6VXNlcjQwMTI2Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/401263?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/macalinao",
      "html_url": "https://github.com/macalinao",
      "followers_url": "https://api.github.com/users/macalinao/followers",
      "following_url": "https://api.github.com/users/macalinao/following{/other_user}",
      "gists_url": "https://api.github.com/users/macalinao/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/macalinao/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/macalinao/subscriptions",
      "organizations_url": "https://api.github.com/users/macalinao/orgs",
      "repos_url": "https://api.github.com/users/macalinao/repos",
      "events_url": "https://api.github.com/users/macalinao/events{/privacy}",
      "received_events_url": "https://api.github.com/users/macalinao/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-08-22T16:00:09Z",
    "updated_at": "2018-08-22T16:03:00Z",
    "author_association": "NONE",
    "body": "Hey @MicahZoltu ! EWTs are a *subset* of JWTs, meaning that they are fully compatible with the existing standard. I have not reinvented JWT, and I stated in the EIP that we should build on top of the existing standard.\r\n\r\nThe traditional JWT algorithms do not use Web3 to sign messages, meaning that there is a back-and-forth needed to actually generate a JWT showing that you own your address. What I propose is akin to [the way the Github API does its auth](https://developer.github.com/apps/building-github-apps/authenticating-with-github-apps/#authenticating-as-a-github-app) except it uses Ethereum's system instead.\r\n\r\nI'll update the EIP to clarify some of these points, but I have not stated that JWT *fails* to solve the problem at hand. Thanks again for your comment!",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/EIPs/issues/comments/415085024/reactions",
      "total_count": 4,
      "+1": 4,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/EIPs/issues/comments/418291892",
    "html_url": "https://github.com/ethereum/EIPs/issues/1341#issuecomment-418291892",
    "issue_url": "https://api.github.com/repos/ethereum/EIPs/issues/1341",
    "id": 418291892,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxODI5MTg5Mg==",
    "user": {
      "login": "rudolfix",
      "id": 17202864,
      "node_id": "MDQ6VXNlcjE3MjAyODY0",
      "avatar_url": "https://avatars.githubusercontent.com/u/17202864?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rudolfix",
      "html_url": "https://github.com/rudolfix",
      "followers_url": "https://api.github.com/users/rudolfix/followers",
      "following_url": "https://api.github.com/users/rudolfix/following{/other_user}",
      "gists_url": "https://api.github.com/users/rudolfix/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rudolfix/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rudolfix/subscriptions",
      "organizations_url": "https://api.github.com/users/rudolfix/orgs",
      "repos_url": "https://api.github.com/users/rudolfix/repos",
      "events_url": "https://api.github.com/users/rudolfix/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rudolfix/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-09-04T08:53:52Z",
    "updated_at": "2018-09-04T08:53:52Z",
    "author_association": "NONE",
    "body": "Hey, we were researching similar thing and we finally settled for JWT generated via challenge-response to the backend (here is concept code, pretty old now https://github.com/Neufund/signature-authentication-server/).\r\nThe reason is that if you really want to prove that someone controls given wallet (key pair) you must request to sign an unique challenge.\r\nIn proposed standard JWT is self issued and as far as I understand the intention is to be used against many different backends. You must trust those backend that your universal, re-usable (?) JWT is not leaked and then used to authenticate you by attacker.\r\nMy worry is that we may promote an unsafe pattern. The least I would do is make a few standard JWT fields mandatory\r\n* `iss` is always user address (we are self-issuing)\r\n* `sub` is user address or alternatively user acting identity (like in ERC725)\r\n* `exp` and `iat` must be set and there should be strict requirements on them. (like max TTL of JWT is one hour)\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/EIPs/issues/comments/418291892/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/EIPs/issues/comments/986093444",
    "html_url": "https://github.com/ethereum/EIPs/issues/1341#issuecomment-986093444",
    "issue_url": "https://api.github.com/repos/ethereum/EIPs/issues/1341",
    "id": 986093444,
    "node_id": "IC_kwDOAq426M46xpeE",
    "user": {
      "login": "github-actions[bot]",
      "id": 41898282,
      "node_id": "MDM6Qm90NDE4OTgyODI=",
      "avatar_url": "https://avatars.githubusercontent.com/in/15368?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/github-actions%5Bbot%5D",
      "html_url": "https://github.com/apps/github-actions",
      "followers_url": "https://api.github.com/users/github-actions%5Bbot%5D/followers",
      "following_url": "https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}",
      "gists_url": "https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/github-actions%5Bbot%5D/subscriptions",
      "organizations_url": "https://api.github.com/users/github-actions%5Bbot%5D/orgs",
      "repos_url": "https://api.github.com/users/github-actions%5Bbot%5D/repos",
      "events_url": "https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}",
      "received_events_url": "https://api.github.com/users/github-actions%5Bbot%5D/received_events",
      "type": "Bot",
      "site_admin": false
    },
    "created_at": "2021-12-04T21:11:28Z",
    "updated_at": "2021-12-04T21:11:28Z",
    "author_association": "NONE",
    "body": "There has been no activity on this issue for two months. It will be closed in a week if no further activity occurs. If you would like to move this EIP forward, please respond to any outstanding feedback or add a comment indicating that you have addressed all required feedback and are ready for a review.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/EIPs/issues/comments/986093444/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/EIPs/issues/comments/997285334",
    "html_url": "https://github.com/ethereum/EIPs/issues/1341#issuecomment-997285334",
    "issue_url": "https://api.github.com/repos/ethereum/EIPs/issues/1341",
    "id": 997285334,
    "node_id": "IC_kwDOAq426M47cV3W",
    "user": {
      "login": "github-actions[bot]",
      "id": 41898282,
      "node_id": "MDM6Qm90NDE4OTgyODI=",
      "avatar_url": "https://avatars.githubusercontent.com/in/15368?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/github-actions%5Bbot%5D",
      "html_url": "https://github.com/apps/github-actions",
      "followers_url": "https://api.github.com/users/github-actions%5Bbot%5D/followers",
      "following_url": "https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}",
      "gists_url": "https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/github-actions%5Bbot%5D/subscriptions",
      "organizations_url": "https://api.github.com/users/github-actions%5Bbot%5D/orgs",
      "repos_url": "https://api.github.com/users/github-actions%5Bbot%5D/repos",
      "events_url": "https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}",
      "received_events_url": "https://api.github.com/users/github-actions%5Bbot%5D/received_events",
      "type": "Bot",
      "site_admin": false
    },
    "created_at": "2021-12-18T21:12:00Z",
    "updated_at": "2021-12-18T21:12:00Z",
    "author_association": "NONE",
    "body": "This issue was closed due to inactivity. If you are still pursuing it, feel free to reopen it and respond to any feedback or request a review in a comment.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/EIPs/issues/comments/997285334/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
