{
  "url": "https://api.github.com/repos/ethereum/EIPs/issues/2401",
  "repository_url": "https://api.github.com/repos/ethereum/EIPs",
  "labels_url": "https://api.github.com/repos/ethereum/EIPs/issues/2401/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/EIPs/issues/2401/comments",
  "events_url": "https://api.github.com/repos/ethereum/EIPs/issues/2401/events",
  "html_url": "https://github.com/ethereum/EIPs/issues/2401",
  "id": 529369246,
  "node_id": "MDU6SXNzdWU1MjkzNjkyNDY=",
  "number": 2401,
  "title": "ERC721 safeTransferFrom description",
  "user": {
    "login": "MoMannn",
    "id": 8865298,
    "node_id": "MDQ6VXNlcjg4NjUyOTg=",
    "avatar_url": "https://avatars.githubusercontent.com/u/8865298?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/MoMannn",
    "html_url": "https://github.com/MoMannn",
    "followers_url": "https://api.github.com/users/MoMannn/followers",
    "following_url": "https://api.github.com/users/MoMannn/following{/other_user}",
    "gists_url": "https://api.github.com/users/MoMannn/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/MoMannn/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/MoMannn/subscriptions",
    "organizations_url": "https://api.github.com/users/MoMannn/orgs",
    "repos_url": "https://api.github.com/users/MoMannn/repos",
    "events_url": "https://api.github.com/users/MoMannn/events{/privacy}",
    "received_events_url": "https://api.github.com/users/MoMannn/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 2328627851,
      "node_id": "MDU6TGFiZWwyMzI4NjI3ODUx",
      "url": "https://api.github.com/repos/ethereum/EIPs/labels/stale",
      "name": "stale",
      "color": "000000",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 5,
  "created_at": "2019-11-27T14:08:33Z",
  "updated_at": "2021-12-04T20:11:39Z",
  "closed_at": "2021-12-04T20:11:39Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "In the ERC721 specification for `safeTransferFrom` method the `@dev`description is written as: \r\n\r\n> Throws unless `msg.sender` is the current owner, an authorized\r\n    ///  operator, or the approved address for this NFT. Throws if `_from` is\r\n    ///  not the current owner. Throws if `_to` is the zero address. Throws if\r\n    ///  `_tokenId` is not a valid NFT. When transfer is complete, this function\r\n    ///  checks if `_to` is a smart contract (code size > 0). If so, it calls\r\n    ///  `onERC721Received` on `_to` and throws if the return value is not\r\n    ///  `bytes4(keccak256(\"onERC721Received(address,address,uint256,bytes)\"))`.\r\n\r\nThe way to check for if `_to` is a smart contract can result in a false result if the smart contract is in the process of deploying . Since EIP-1052 there is a better way to check if an address is a smart contract (with `codehash`). I propose the description gets updated to reflect this or change the wording that this is clear.\r\n\r\nThe 0xcert and OpenZeppelin implementations already addressed this.\r\n\r\nReferences:\r\n\r\n- https://github.com/0xcert/ethereum-erc721/pull/229\r\n- https://www.reddit.com/r/ethereum/comments/916xni/how_to_pwn_fomo3d_a_beginners_guide\r\n- https://github.com/OpenZeppelin/openzeppelin-contracts/blob/master/contracts/utils/Address.sol",
  "closed_by": {
    "login": "github-actions[bot]",
    "id": 41898282,
    "node_id": "MDM6Qm90NDE4OTgyODI=",
    "avatar_url": "https://avatars.githubusercontent.com/in/15368?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/github-actions%5Bbot%5D",
    "html_url": "https://github.com/apps/github-actions",
    "followers_url": "https://api.github.com/users/github-actions%5Bbot%5D/followers",
    "following_url": "https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}",
    "gists_url": "https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/github-actions%5Bbot%5D/subscriptions",
    "organizations_url": "https://api.github.com/users/github-actions%5Bbot%5D/orgs",
    "repos_url": "https://api.github.com/users/github-actions%5Bbot%5D/repos",
    "events_url": "https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}",
    "received_events_url": "https://api.github.com/users/github-actions%5Bbot%5D/received_events",
    "type": "Bot",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/EIPs/issues/2401/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/EIPs/issues/2401/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/EIPs/issues/comments/559139770",
    "html_url": "https://github.com/ethereum/EIPs/issues/2401#issuecomment-559139770",
    "issue_url": "https://api.github.com/repos/ethereum/EIPs/issues/2401",
    "id": 559139770,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU1OTEzOTc3MA==",
    "user": {
      "login": "fulldecent",
      "id": 382183,
      "node_id": "MDQ6VXNlcjM4MjE4Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/382183?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fulldecent",
      "html_url": "https://github.com/fulldecent",
      "followers_url": "https://api.github.com/users/fulldecent/followers",
      "following_url": "https://api.github.com/users/fulldecent/following{/other_user}",
      "gists_url": "https://api.github.com/users/fulldecent/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fulldecent/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fulldecent/subscriptions",
      "organizations_url": "https://api.github.com/users/fulldecent/orgs",
      "repos_url": "https://api.github.com/users/fulldecent/repos",
      "events_url": "https://api.github.com/users/fulldecent/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fulldecent/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-11-27T15:40:19Z",
    "updated_at": "2019-11-27T15:40:19Z",
    "author_association": "CONTRIBUTOR",
    "body": "Here the standard includes the actual implementation detail (\"code size > 0\") directly in the documentation. (Why did *they* do that!?) So the change will not be compatible.\r\n\r\nThere's two ways to do this:\r\n\r\n1. New EIP to mention this small change (which is only compatible on EIP-1052 networks)\r\n2. Update 721 but include an errata or notes section\r\n\r\nWe have not had a problem with changing EIPs in the past if the change is non-normative (i.e. does not change the prescription) (*\\*cough\\** 165 *\\*cough\\**) but here it does. I would actually support a new EIP for this. It's brief but it's definitely a new thing.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/EIPs/issues/comments/559139770/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/EIPs/issues/comments/564766359",
    "html_url": "https://github.com/ethereum/EIPs/issues/2401#issuecomment-564766359",
    "issue_url": "https://api.github.com/repos/ethereum/EIPs/issues/2401",
    "id": 564766359,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU2NDc2NjM1OQ==",
    "user": {
      "login": "fulldecent",
      "id": 382183,
      "node_id": "MDQ6VXNlcjM4MjE4Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/382183?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fulldecent",
      "html_url": "https://github.com/fulldecent",
      "followers_url": "https://api.github.com/users/fulldecent/followers",
      "following_url": "https://api.github.com/users/fulldecent/following{/other_user}",
      "gists_url": "https://api.github.com/users/fulldecent/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fulldecent/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fulldecent/subscriptions",
      "organizations_url": "https://api.github.com/users/fulldecent/orgs",
      "repos_url": "https://api.github.com/users/fulldecent/repos",
      "events_url": "https://api.github.com/users/fulldecent/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fulldecent/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-12-11T22:41:47Z",
    "updated_at": "2019-12-11T22:41:47Z",
    "author_association": "CONTRIBUTOR",
    "body": "Thanks for the chat with @frangio who helped me realize this change is technically still *compliant* with the literal wording of the standard. (Programmers are lawyers!) Therefore an amendment or new EIP is not necessary.\r\n\r\nRight now we have a comment on the main thread and [test cases are requested](https://github.com/0xcert/ethereum-erc721/issues/235) in the reference implementation. Sent them to you @MoMannn! But also appreciate if OpenZeppelin team could help too.\r\n\r\nPerhaps after test cases are merged (with OZ review) then we could consider this issue closed.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/EIPs/issues/comments/564766359/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/EIPs/issues/comments/564906240",
    "html_url": "https://github.com/ethereum/EIPs/issues/2401#issuecomment-564906240",
    "issue_url": "https://api.github.com/repos/ethereum/EIPs/issues/2401",
    "id": 564906240,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU2NDkwNjI0MA==",
    "user": {
      "login": "MoMannn",
      "id": 8865298,
      "node_id": "MDQ6VXNlcjg4NjUyOTg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8865298?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MoMannn",
      "html_url": "https://github.com/MoMannn",
      "followers_url": "https://api.github.com/users/MoMannn/followers",
      "following_url": "https://api.github.com/users/MoMannn/following{/other_user}",
      "gists_url": "https://api.github.com/users/MoMannn/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MoMannn/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MoMannn/subscriptions",
      "organizations_url": "https://api.github.com/users/MoMannn/orgs",
      "repos_url": "https://api.github.com/users/MoMannn/repos",
      "events_url": "https://api.github.com/users/MoMannn/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MoMannn/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-12-12T08:39:29Z",
    "updated_at": "2019-12-12T08:39:29Z",
    "author_association": "CONTRIBUTOR",
    "body": "@fulldecent Will jump on it when I find the time :) ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/EIPs/issues/comments/564906240/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/EIPs/issues/comments/974705255",
    "html_url": "https://github.com/ethereum/EIPs/issues/2401#issuecomment-974705255",
    "issue_url": "https://api.github.com/repos/ethereum/EIPs/issues/2401",
    "id": 974705255,
    "node_id": "IC_kwDOAq426M46GNJn",
    "user": {
      "login": "github-actions[bot]",
      "id": 41898282,
      "node_id": "MDM6Qm90NDE4OTgyODI=",
      "avatar_url": "https://avatars.githubusercontent.com/in/15368?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/github-actions%5Bbot%5D",
      "html_url": "https://github.com/apps/github-actions",
      "followers_url": "https://api.github.com/users/github-actions%5Bbot%5D/followers",
      "following_url": "https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}",
      "gists_url": "https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/github-actions%5Bbot%5D/subscriptions",
      "organizations_url": "https://api.github.com/users/github-actions%5Bbot%5D/orgs",
      "repos_url": "https://api.github.com/users/github-actions%5Bbot%5D/repos",
      "events_url": "https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}",
      "received_events_url": "https://api.github.com/users/github-actions%5Bbot%5D/received_events",
      "type": "Bot",
      "site_admin": false
    },
    "created_at": "2021-11-20T20:11:09Z",
    "updated_at": "2021-11-20T20:11:09Z",
    "author_association": "NONE",
    "body": "There has been no activity on this issue for two months. It will be closed in a week if no further activity occurs. If you would like to move this EIP forward, please respond to any outstanding feedback or add a comment indicating that you have addressed all required feedback and are ready for a review.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/EIPs/issues/comments/974705255/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/EIPs/issues/comments/986086224",
    "html_url": "https://github.com/ethereum/EIPs/issues/2401#issuecomment-986086224",
    "issue_url": "https://api.github.com/repos/ethereum/EIPs/issues/2401",
    "id": 986086224,
    "node_id": "IC_kwDOAq426M46xntQ",
    "user": {
      "login": "github-actions[bot]",
      "id": 41898282,
      "node_id": "MDM6Qm90NDE4OTgyODI=",
      "avatar_url": "https://avatars.githubusercontent.com/in/15368?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/github-actions%5Bbot%5D",
      "html_url": "https://github.com/apps/github-actions",
      "followers_url": "https://api.github.com/users/github-actions%5Bbot%5D/followers",
      "following_url": "https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}",
      "gists_url": "https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/github-actions%5Bbot%5D/subscriptions",
      "organizations_url": "https://api.github.com/users/github-actions%5Bbot%5D/orgs",
      "repos_url": "https://api.github.com/users/github-actions%5Bbot%5D/repos",
      "events_url": "https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}",
      "received_events_url": "https://api.github.com/users/github-actions%5Bbot%5D/received_events",
      "type": "Bot",
      "site_admin": false
    },
    "created_at": "2021-12-04T20:11:39Z",
    "updated_at": "2021-12-04T20:11:39Z",
    "author_association": "NONE",
    "body": "This issue was closed due to inactivity. If you are still pursuing it, feel free to reopen it and respond to any feedback or request a review in a comment.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/EIPs/issues/comments/986086224/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
