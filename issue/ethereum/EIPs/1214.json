{
  "url": "https://api.github.com/repos/ethereum/EIPs/issues/1214",
  "repository_url": "https://api.github.com/repos/ethereum/EIPs",
  "labels_url": "https://api.github.com/repos/ethereum/EIPs/issues/1214/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/EIPs/issues/1214/comments",
  "events_url": "https://api.github.com/repos/ethereum/EIPs/issues/1214/events",
  "html_url": "https://github.com/ethereum/EIPs/issues/1214",
  "id": 340586064,
  "node_id": "MDU6SXNzdWUzNDA1ODYwNjQ=",
  "number": 1214,
  "title": "ERC-1214 (ERC extension) ",
  "user": {
    "login": "techracers-blockchain",
    "id": 39080477,
    "node_id": "MDQ6VXNlcjM5MDgwNDc3",
    "avatar_url": "https://avatars.githubusercontent.com/u/39080477?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/techracers-blockchain",
    "html_url": "https://github.com/techracers-blockchain",
    "followers_url": "https://api.github.com/users/techracers-blockchain/followers",
    "following_url": "https://api.github.com/users/techracers-blockchain/following{/other_user}",
    "gists_url": "https://api.github.com/users/techracers-blockchain/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/techracers-blockchain/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/techracers-blockchain/subscriptions",
    "organizations_url": "https://api.github.com/users/techracers-blockchain/orgs",
    "repos_url": "https://api.github.com/users/techracers-blockchain/repos",
    "events_url": "https://api.github.com/users/techracers-blockchain/events{/privacy}",
    "received_events_url": "https://api.github.com/users/techracers-blockchain/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 2328627851,
      "node_id": "MDU6TGFiZWwyMzI4NjI3ODUx",
      "url": "https://api.github.com/repos/ethereum/EIPs/labels/stale",
      "name": "stale",
      "color": "000000",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 5,
  "created_at": "2018-07-12T10:48:05Z",
  "updated_at": "2021-12-18T21:12:21Z",
  "closed_at": "2021-12-18T21:12:21Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "> ERC: 1214\r\n> Title: Token standard\r\n> Author: Techracers\r\n> Status: Draft\r\n> Type: ERC-1214\r\n> Created: 12-08.2018\r\n> Recommended implementation: https://github.com/techracers-blockchain/ERC-1214\r\n\r\n## Abstract\r\nToken contract usually have a monolithic design that is not friendly to upgrades. The following proposal describes a more distributed token contract architecture that has a simple upgrade-ability protocol and allows to bring in new functions after being deployed. This contract architecture is highly sophisticated and uses delegate calls to give maximum upgrade-ability to the owners.\r\n\r\n## Motivation\r\nThere have been countless number of tokens where due to the inability to upgrade and fix bugs, contract holders have lost millions of dollars. A simple bug that might take days, months, or years to solve, can be solved simply and quickly using the ERC-1214 standard.\r\n\r\nThere exist approaches that includes an upgrade agent, which has its own limitations and restrictions and sometimes might not lead to a successful upgrade implementation. It has to include all token holders, and might cost a lot.\r\n\r\nIf there is a simple bug that was left out during the deployment of a token contract, it might result in the loss of millions of dollars. There have been a number of token contracts owners, who have come to us after the token sale with bugs that have no workaround but to cost a lot of time and money. If instead, we had an upgrade-ability protocol that allows rapid fast upgrades at low cost, such accidents can be rectified. Moreover, traditional upgrade-ability protocols only allow you to change the function logic and change is restricted to a lot of extent. This architecture allows you to make as many changes to the contract code, along with adding, removing, modifying functions at will.\r\n\r\nNote: This architecture must be used with extreme caution only after completely understanding its nuances!\r\n\r\nThis will allow contracts to pause and handle bugs and allow them to fix bugs or upgrade the ERC standard to a newer one.\r\nThis standard has the ability to be cross compatible with any other monolithic ERC interface like the ERC20, ERC223, ERC721, ERC827 etc.\r\n\r\n## Specification\r\nThe following Upgradeable Token approach requires\r\n\r\n- a LogicBank contract that contains all the token logic and variables, and acts as the main muscle behind,\r\n- that the PseudoToken contract delegates its calls to, and executes the LogicBank functions in its context using delegateCall.\r\n\r\n## Methods\r\nAll of the ERC20 functions remain the same in essence and have no difference when it comes to implementation. The only difference is that the token contract implements them in its context.\r\n\r\nThe crux of this architecture is the following function in the PseudoToken contract (this is the only function that has to do with the token functions), which forwards all of the message data to the LogicBank and implements the Token functions in its context-\r\n\r\n```\r\n// fallback function\r\nfunction () public payable {\r\n        delegatedFwd(addresses['controller'], msg.data);\r\n}\r\n```\r\n\r\n```\r\nfunction delegatedFwd(address _dst, bytes _calldata) internal {\r\n        assembly {\r\n        let result := delegatecall(sub(gas, 10000), _dst, add(_calldata, 0x20), mload(_calldata), 0, 0)\r\n        let size := returndatasize\r\n\r\n        let ptr := mload(0x40)\r\n        returndatacopy(ptr, 0, size)\r\n\r\n        // revert instead of invalid() because if the underlying call failed with invalid() it already wasted gas.\r\n        // if the call returned error data, forward it\r\n        switch result case 0 { revert(ptr, size) }\r\n        default { return(ptr, size) }\r\n    }\r\n}\r\n```\r\nApart from that, the PseudoToken and LogicBank have a storage implementation to store the addresses. \r\nCheck out the complete implementation at the link given below.\r\n\r\n## Upgradeability Protocol\r\n\r\nThe token contract has some simple measures through which an upgrade can be made in just 2 transactions-\r\n\r\n1. Deploy new LogicBank contract.\r\n2. Change the LogicBank address in the PseudoToken.\r\n\r\n## Recommended implementation\r\nThis is highly recommended implementation of ERC-1214 token:\r\n[https://github.com/techracers-blockchain/ERC-1214](https://github.com/techracers-blockchain/ERC-1214)\r\n",
  "closed_by": {
    "login": "github-actions[bot]",
    "id": 41898282,
    "node_id": "MDM6Qm90NDE4OTgyODI=",
    "avatar_url": "https://avatars.githubusercontent.com/in/15368?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/github-actions%5Bbot%5D",
    "html_url": "https://github.com/apps/github-actions",
    "followers_url": "https://api.github.com/users/github-actions%5Bbot%5D/followers",
    "following_url": "https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}",
    "gists_url": "https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/github-actions%5Bbot%5D/subscriptions",
    "organizations_url": "https://api.github.com/users/github-actions%5Bbot%5D/orgs",
    "repos_url": "https://api.github.com/users/github-actions%5Bbot%5D/repos",
    "events_url": "https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}",
    "received_events_url": "https://api.github.com/users/github-actions%5Bbot%5D/received_events",
    "type": "Bot",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/EIPs/issues/1214/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/EIPs/issues/1214/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/EIPs/issues/comments/404472683",
    "html_url": "https://github.com/ethereum/EIPs/issues/1214#issuecomment-404472683",
    "issue_url": "https://api.github.com/repos/ethereum/EIPs/issues/1214",
    "id": 404472683,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwNDQ3MjY4Mw==",
    "user": {
      "login": "hadv",
      "id": 941411,
      "node_id": "MDQ6VXNlcjk0MTQxMQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/941411?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hadv",
      "html_url": "https://github.com/hadv",
      "followers_url": "https://api.github.com/users/hadv/followers",
      "following_url": "https://api.github.com/users/hadv/following{/other_user}",
      "gists_url": "https://api.github.com/users/hadv/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hadv/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hadv/subscriptions",
      "organizations_url": "https://api.github.com/users/hadv/orgs",
      "repos_url": "https://api.github.com/users/hadv/repos",
      "events_url": "https://api.github.com/users/hadv/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hadv/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-07-12T10:53:18Z",
    "updated_at": "2018-07-12T11:06:42Z",
    "author_association": "NONE",
    "body": "zos already did this, right? \r\n\r\nhttps://zeppelinos.org",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/EIPs/issues/comments/404472683/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/EIPs/issues/comments/404680606",
    "html_url": "https://github.com/ethereum/EIPs/issues/1214#issuecomment-404680606",
    "issue_url": "https://api.github.com/repos/ethereum/EIPs/issues/1214",
    "id": 404680606,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwNDY4MDYwNg==",
    "user": {
      "login": "xinbenlv",
      "id": 640325,
      "node_id": "MDQ6VXNlcjY0MDMyNQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/640325?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/xinbenlv",
      "html_url": "https://github.com/xinbenlv",
      "followers_url": "https://api.github.com/users/xinbenlv/followers",
      "following_url": "https://api.github.com/users/xinbenlv/following{/other_user}",
      "gists_url": "https://api.github.com/users/xinbenlv/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/xinbenlv/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/xinbenlv/subscriptions",
      "organizations_url": "https://api.github.com/users/xinbenlv/orgs",
      "repos_url": "https://api.github.com/users/xinbenlv/repos",
      "events_url": "https://api.github.com/users/xinbenlv/events{/privacy}",
      "received_events_url": "https://api.github.com/users/xinbenlv/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-07-12T23:23:18Z",
    "updated_at": "2018-07-13T03:56:03Z",
    "author_association": "CONTRIBUTOR",
    "body": "Thanks for submitting the proposal. Upgradable is a very important and useful character for smart contracts to be successful.\r\n\r\nCan you help us understand the relationship of your proposal with some of the related EIPs, such as EIP-897, EIP-1167, EIP-1153?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/EIPs/issues/comments/404680606/reactions",
      "total_count": 2,
      "+1": 2,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/EIPs/issues/comments/408555889",
    "html_url": "https://github.com/ethereum/EIPs/issues/1214#issuecomment-408555889",
    "issue_url": "https://api.github.com/repos/ethereum/EIPs/issues/1214",
    "id": 408555889,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwODU1NTg4OQ==",
    "user": {
      "login": "PhABC",
      "id": 9306422,
      "node_id": "MDQ6VXNlcjkzMDY0MjI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9306422?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/PhABC",
      "html_url": "https://github.com/PhABC",
      "followers_url": "https://api.github.com/users/PhABC/followers",
      "following_url": "https://api.github.com/users/PhABC/following{/other_user}",
      "gists_url": "https://api.github.com/users/PhABC/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/PhABC/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/PhABC/subscriptions",
      "organizations_url": "https://api.github.com/users/PhABC/orgs",
      "repos_url": "https://api.github.com/users/PhABC/repos",
      "events_url": "https://api.github.com/users/PhABC/events{/privacy}",
      "received_events_url": "https://api.github.com/users/PhABC/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-07-27T22:38:20Z",
    "updated_at": "2018-07-27T22:38:20Z",
    "author_association": "CONTRIBUTOR",
    "body": "This sounds _very_ similar to your other ERC #1200. Why not have a single proposal? Seems like #1214 is just a better version of #1200. The goals are definitely identical. ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/EIPs/issues/comments/408555889/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/EIPs/issues/comments/986093550",
    "html_url": "https://github.com/ethereum/EIPs/issues/1214#issuecomment-986093550",
    "issue_url": "https://api.github.com/repos/ethereum/EIPs/issues/1214",
    "id": 986093550,
    "node_id": "IC_kwDOAq426M46xpfu",
    "user": {
      "login": "github-actions[bot]",
      "id": 41898282,
      "node_id": "MDM6Qm90NDE4OTgyODI=",
      "avatar_url": "https://avatars.githubusercontent.com/in/15368?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/github-actions%5Bbot%5D",
      "html_url": "https://github.com/apps/github-actions",
      "followers_url": "https://api.github.com/users/github-actions%5Bbot%5D/followers",
      "following_url": "https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}",
      "gists_url": "https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/github-actions%5Bbot%5D/subscriptions",
      "organizations_url": "https://api.github.com/users/github-actions%5Bbot%5D/orgs",
      "repos_url": "https://api.github.com/users/github-actions%5Bbot%5D/repos",
      "events_url": "https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}",
      "received_events_url": "https://api.github.com/users/github-actions%5Bbot%5D/received_events",
      "type": "Bot",
      "site_admin": false
    },
    "created_at": "2021-12-04T21:12:06Z",
    "updated_at": "2021-12-04T21:12:06Z",
    "author_association": "NONE",
    "body": "There has been no activity on this issue for two months. It will be closed in a week if no further activity occurs. If you would like to move this EIP forward, please respond to any outstanding feedback or add a comment indicating that you have addressed all required feedback and are ready for a review.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/EIPs/issues/comments/986093550/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/EIPs/issues/comments/997285395",
    "html_url": "https://github.com/ethereum/EIPs/issues/1214#issuecomment-997285395",
    "issue_url": "https://api.github.com/repos/ethereum/EIPs/issues/1214",
    "id": 997285395,
    "node_id": "IC_kwDOAq426M47cV4T",
    "user": {
      "login": "github-actions[bot]",
      "id": 41898282,
      "node_id": "MDM6Qm90NDE4OTgyODI=",
      "avatar_url": "https://avatars.githubusercontent.com/in/15368?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/github-actions%5Bbot%5D",
      "html_url": "https://github.com/apps/github-actions",
      "followers_url": "https://api.github.com/users/github-actions%5Bbot%5D/followers",
      "following_url": "https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}",
      "gists_url": "https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/github-actions%5Bbot%5D/subscriptions",
      "organizations_url": "https://api.github.com/users/github-actions%5Bbot%5D/orgs",
      "repos_url": "https://api.github.com/users/github-actions%5Bbot%5D/repos",
      "events_url": "https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}",
      "received_events_url": "https://api.github.com/users/github-actions%5Bbot%5D/received_events",
      "type": "Bot",
      "site_admin": false
    },
    "created_at": "2021-12-18T21:12:21Z",
    "updated_at": "2021-12-18T21:12:21Z",
    "author_association": "NONE",
    "body": "This issue was closed due to inactivity. If you are still pursuing it, feel free to reopen it and respond to any feedback or request a review in a comment.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/EIPs/issues/comments/997285395/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
