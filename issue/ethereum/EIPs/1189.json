{
  "url": "https://api.github.com/repos/ethereum/EIPs/issues/1189",
  "repository_url": "https://api.github.com/repos/ethereum/EIPs",
  "labels_url": "https://api.github.com/repos/ethereum/EIPs/issues/1189/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/EIPs/issues/1189/comments",
  "events_url": "https://api.github.com/repos/ethereum/EIPs/issues/1189/events",
  "html_url": "https://github.com/ethereum/EIPs/issues/1189",
  "id": 337149676,
  "node_id": "MDU6SXNzdWUzMzcxNDk2NzY=",
  "number": 1189,
  "title": "Intertwine PoS protocol with state-channel network",
  "user": {
    "login": "codesinthedark",
    "id": 20561263,
    "node_id": "MDQ6VXNlcjIwNTYxMjYz",
    "avatar_url": "https://avatars.githubusercontent.com/u/20561263?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/codesinthedark",
    "html_url": "https://github.com/codesinthedark",
    "followers_url": "https://api.github.com/users/codesinthedark/followers",
    "following_url": "https://api.github.com/users/codesinthedark/following{/other_user}",
    "gists_url": "https://api.github.com/users/codesinthedark/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/codesinthedark/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/codesinthedark/subscriptions",
    "organizations_url": "https://api.github.com/users/codesinthedark/orgs",
    "repos_url": "https://api.github.com/users/codesinthedark/repos",
    "events_url": "https://api.github.com/users/codesinthedark/events{/privacy}",
    "received_events_url": "https://api.github.com/users/codesinthedark/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 2328627851,
      "node_id": "MDU6TGFiZWwyMzI4NjI3ODUx",
      "url": "https://api.github.com/repos/ethereum/EIPs/labels/stale",
      "name": "stale",
      "color": "000000",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2018-06-29T21:59:52Z",
  "updated_at": "2021-12-19T06:13:17Z",
  "closed_at": "2021-12-19T06:13:17Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "**Simple summary**\r\nStake in PoS should be put into a good use instead of rewarding someone for just owning a large stake. The stake should be used in state-channel network to allow users to have cheap instant transactions that would be off chain and not increase the size of the chain. \r\n\r\n**Assumptions:**\r\n\r\n- If we really want blockchain technology to replace fiat then we really need some state-channel network for cheap, near real-time transfers. If you buy a chocolate in a store you want to use NFC on your phone to transfer money and wait a second or two, not 20 seconds or minutes, and you don't want to pay $1 transaction fee for a $2 chocolate.\r\n\r\n- We don't want to waste to much power and resources and destroy environment in order to create transactions.\r\n\r\n- We don't want someone to earn more money just because they are already rich. We want them to earn money by contributing to the network by allowing semi-instant transactions.\r\n\r\n\r\n**Proposal:**\r\n\r\n- Create standardized state-channel network with a special kind of smart contract that would be recognized by Casper\r\n- Develop Casper PoS in such a way to give mining rights and reward to active nodes in this lightning network, by randomly choosing a smart contract and giving a reward proportional to log of value in that contract contributed by active node in that contract.\r\n- The whole idea would be based on math instead of some regulations or centralized authority. \r\n\r\n**Problems and Solutions:**\r\n\r\n**Q:** What will prevent whales to split their balance and connect these 2 nodes and earn rewards?\r\n**A:** There are 2 different types of incentives for whales to create active nodes which would serve actual users:\r\na) In the smart contract which creates a connection in lightning network, nodes can be set as active (banks) or passive (end users), and only an active nodes would get the reward. That would give incentive to \"banks\" to use their balance in multiple connections with other users.\r\nb) Reward would be proportional to log x (where x is the number of ETHs contributed in the contract by one active node). This would give incentive for active nodes to connect multiple users instead of using all their balance on one smart contract. It also allows users to receive ETHs because active node would need to put some ethers in the channel in order to get a mining reward.\r\n\r\n**Q:** But in that case active nodes would flood the Ethereum chain by creating really small contracts (eg. 0.001 ETH).\r\n**A:** No, because they would lose money when contract value is less than 2 ETH if the reward is proportional to log X (Do your math!)\r\nThat means that anyone with more than 2 ETH could be part of state-channel network and they would have incentive to create multiple connections greater than 2 ETH.\r\n\r\n**Q:** If there are 2 active nodes in a contract would they receive a reward?\r\n**A:** No. Reward would give them incentive to split their connection to multiple small contracts and that would unnecessary increase the size of the Ethereum chain. However if an active node is not well connected with other active nodes, then users would break the contract so that active node would have less chance for a reward.\r\n\r\nIf you think that 2 ETHs is to small then formula could be log (x/5) so that would give incentive to have nodes greater than 10 ETH.\r\nI think that implementing lighting network and PoS in this way could be used to reduce traffic on the chain and then the time between block could also be increased because the majority of transactions would happen on lightning network where each active node would track only their own transactions.\r\n\r\n**Conclusion**\r\nIf we want the whole world to use Ethereum for daily transactions it needs to be done by some kind of state-channel network so that we can have billions of almost-instant transactions per day without increasing the size of the chain by TBs per day. Chain should be used for contracts, not for transactions.\r\nI imagine that in far future we could open a channel once and then use it to receive monthly salary and then spend it over the state-channel network without increasing the size of the chain. ",
  "closed_by": {
    "login": "github-actions[bot]",
    "id": 41898282,
    "node_id": "MDM6Qm90NDE4OTgyODI=",
    "avatar_url": "https://avatars.githubusercontent.com/in/15368?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/github-actions%5Bbot%5D",
    "html_url": "https://github.com/apps/github-actions",
    "followers_url": "https://api.github.com/users/github-actions%5Bbot%5D/followers",
    "following_url": "https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}",
    "gists_url": "https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/github-actions%5Bbot%5D/subscriptions",
    "organizations_url": "https://api.github.com/users/github-actions%5Bbot%5D/orgs",
    "repos_url": "https://api.github.com/users/github-actions%5Bbot%5D/repos",
    "events_url": "https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}",
    "received_events_url": "https://api.github.com/users/github-actions%5Bbot%5D/received_events",
    "type": "Bot",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/EIPs/issues/1189/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/EIPs/issues/1189/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/EIPs/issues/comments/986173591",
    "html_url": "https://github.com/ethereum/EIPs/issues/1189#issuecomment-986173591",
    "issue_url": "https://api.github.com/repos/ethereum/EIPs/issues/1189",
    "id": 986173591,
    "node_id": "IC_kwDOAq426M46x9CX",
    "user": {
      "login": "github-actions[bot]",
      "id": 41898282,
      "node_id": "MDM6Qm90NDE4OTgyODI=",
      "avatar_url": "https://avatars.githubusercontent.com/in/15368?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/github-actions%5Bbot%5D",
      "html_url": "https://github.com/apps/github-actions",
      "followers_url": "https://api.github.com/users/github-actions%5Bbot%5D/followers",
      "following_url": "https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}",
      "gists_url": "https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/github-actions%5Bbot%5D/subscriptions",
      "organizations_url": "https://api.github.com/users/github-actions%5Bbot%5D/orgs",
      "repos_url": "https://api.github.com/users/github-actions%5Bbot%5D/repos",
      "events_url": "https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}",
      "received_events_url": "https://api.github.com/users/github-actions%5Bbot%5D/received_events",
      "type": "Bot",
      "site_admin": false
    },
    "created_at": "2021-12-05T06:13:14Z",
    "updated_at": "2021-12-05T06:13:14Z",
    "author_association": "NONE",
    "body": "There has been no activity on this issue for two months. It will be closed in a week if no further activity occurs. If you would like to move this EIP forward, please respond to any outstanding feedback or add a comment indicating that you have addressed all required feedback and are ready for a review.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/EIPs/issues/comments/986173591/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/EIPs/issues/comments/997336258",
    "html_url": "https://github.com/ethereum/EIPs/issues/1189#issuecomment-997336258",
    "issue_url": "https://api.github.com/repos/ethereum/EIPs/issues/1189",
    "id": 997336258,
    "node_id": "IC_kwDOAq426M47ciTC",
    "user": {
      "login": "github-actions[bot]",
      "id": 41898282,
      "node_id": "MDM6Qm90NDE4OTgyODI=",
      "avatar_url": "https://avatars.githubusercontent.com/in/15368?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/github-actions%5Bbot%5D",
      "html_url": "https://github.com/apps/github-actions",
      "followers_url": "https://api.github.com/users/github-actions%5Bbot%5D/followers",
      "following_url": "https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}",
      "gists_url": "https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/github-actions%5Bbot%5D/subscriptions",
      "organizations_url": "https://api.github.com/users/github-actions%5Bbot%5D/orgs",
      "repos_url": "https://api.github.com/users/github-actions%5Bbot%5D/repos",
      "events_url": "https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}",
      "received_events_url": "https://api.github.com/users/github-actions%5Bbot%5D/received_events",
      "type": "Bot",
      "site_admin": false
    },
    "created_at": "2021-12-19T06:13:17Z",
    "updated_at": "2021-12-19T06:13:17Z",
    "author_association": "NONE",
    "body": "This issue was closed due to inactivity. If you are still pursuing it, feel free to reopen it and respond to any feedback or request a review in a comment.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/EIPs/issues/comments/997336258/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
