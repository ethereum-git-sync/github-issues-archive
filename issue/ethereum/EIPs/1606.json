{
  "url": "https://api.github.com/repos/ethereum/EIPs/issues/1606",
  "repository_url": "https://api.github.com/repos/ethereum/EIPs",
  "labels_url": "https://api.github.com/repos/ethereum/EIPs/issues/1606/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/EIPs/issues/1606/comments",
  "events_url": "https://api.github.com/repos/ethereum/EIPs/issues/1606/events",
  "html_url": "https://github.com/ethereum/EIPs/issues/1606",
  "id": 383012664,
  "node_id": "MDU6SXNzdWUzODMwMTI2NjQ=",
  "number": 1606,
  "title": "EIP1606 - Context based contracts in Solidity",
  "user": {
    "login": "James-Sangalli",
    "id": 16630514,
    "node_id": "MDQ6VXNlcjE2NjMwNTE0",
    "avatar_url": "https://avatars.githubusercontent.com/u/16630514?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/James-Sangalli",
    "html_url": "https://github.com/James-Sangalli",
    "followers_url": "https://api.github.com/users/James-Sangalli/followers",
    "following_url": "https://api.github.com/users/James-Sangalli/following{/other_user}",
    "gists_url": "https://api.github.com/users/James-Sangalli/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/James-Sangalli/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/James-Sangalli/subscriptions",
    "organizations_url": "https://api.github.com/users/James-Sangalli/orgs",
    "repos_url": "https://api.github.com/users/James-Sangalli/repos",
    "events_url": "https://api.github.com/users/James-Sangalli/events{/privacy}",
    "received_events_url": "https://api.github.com/users/James-Sangalli/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 2328627851,
      "node_id": "MDU6TGFiZWwyMzI4NjI3ODUx",
      "url": "https://api.github.com/repos/ethereum/EIPs/labels/stale",
      "name": "stale",
      "color": "000000",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 3,
  "created_at": "2018-11-21T08:48:56Z",
  "updated_at": "2021-12-05T05:10:50Z",
  "closed_at": "2021-12-05T05:10:50Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "I have been thinking a lot lately about security flaws in contracts as well as the lack of context given to the average dapp user.\r\n\r\nWhen interacting with a smart contract you cannot be sure exactly what the code does by looking solely at the ABI and developers are prone to creating untended bugs in their contracts. I think adopting a style that is a mix of Ricardian contracts and javadoc could be of great help to such an issue. \r\n\r\nWhat I am proposing is a way to write smart contracts which require a javadoc like description to be associated with each function. The solidity compiler could come with this in mind in the next release and prevent contracts from compiling when each of the following is not included (each @ point must be filled, like in javadoc):\r\n\r\n   ```\r\n/*\r\n    *   @purpose: allow our users to donate or transfer example tokens \r\n    */\r\n    contract example \r\n    {\r\n        /* @functionName transfer \r\n        * @param address to the address to send tokens to \r\n        * @param uint amount the amount of tokens you wish to send\r\n        * @visibility public\r\n        * @payable false\r\n        * @intention to allow users to transfer tokens to anyone\r\n        * @returns void this function does not return anything\r\n        * */\r\n        function transfer(address to, uint amount) public;\r\n\r\n        /* @functionName donate \r\n         * @param uint amount the amount of tokens you wish to donate\r\n         * @visibility public\r\n         * @payable true\r\n         * @intention allow users to donate tokens from their balance\r\n         * @returns void this function does not return anything\r\n         * */\r\n        function donate(uint amount) public payable;\r\n    }\r\n\r\n```\r\n \r\nThis would prevent security holes and provide much better UX for the following reasons:\r\n- It gives the user more context about the intention of the contract and it's function. This prevents misunderstandings and enables a richer experience. \r\n- It prevents developer error as the developer is forced to document and think through everything he/she writes\r\n- It allows for better readability and potentially more richer services to be built on top which rely on a context to perform functions \r\n\r\n**Further Optimisations**\r\n\r\nABI's: \r\n\r\nWe could allow these keywords to generate a seperate ABI like structure or bolt on to the existing abi with extra fields. This would allow anyone to get the context easily. \r\n\r\nSigned contract hashes:\r\n\r\nSince solidity will exclude comments when forming into bytecode, we could agree on a canonical structure that allows for the code plus comments to be hashed together, signed and added to the contract storage itself. \r\n\r\nHappy to hear suggestions or comments! \r\n\r\n\r\n",
  "closed_by": {
    "login": "github-actions[bot]",
    "id": 41898282,
    "node_id": "MDM6Qm90NDE4OTgyODI=",
    "avatar_url": "https://avatars.githubusercontent.com/in/15368?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/github-actions%5Bbot%5D",
    "html_url": "https://github.com/apps/github-actions",
    "followers_url": "https://api.github.com/users/github-actions%5Bbot%5D/followers",
    "following_url": "https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}",
    "gists_url": "https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/github-actions%5Bbot%5D/subscriptions",
    "organizations_url": "https://api.github.com/users/github-actions%5Bbot%5D/orgs",
    "repos_url": "https://api.github.com/users/github-actions%5Bbot%5D/repos",
    "events_url": "https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}",
    "received_events_url": "https://api.github.com/users/github-actions%5Bbot%5D/received_events",
    "type": "Bot",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/EIPs/issues/1606/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/EIPs/issues/1606/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/EIPs/issues/comments/440587185",
    "html_url": "https://github.com/ethereum/EIPs/issues/1606#issuecomment-440587185",
    "issue_url": "https://api.github.com/repos/ethereum/EIPs/issues/1606",
    "id": 440587185,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ0MDU4NzE4NQ==",
    "user": {
      "login": "onbjerg",
      "id": 8862627,
      "node_id": "MDQ6VXNlcjg4NjI2Mjc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8862627?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/onbjerg",
      "html_url": "https://github.com/onbjerg",
      "followers_url": "https://api.github.com/users/onbjerg/followers",
      "following_url": "https://api.github.com/users/onbjerg/following{/other_user}",
      "gists_url": "https://api.github.com/users/onbjerg/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/onbjerg/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/onbjerg/subscriptions",
      "organizations_url": "https://api.github.com/users/onbjerg/orgs",
      "repos_url": "https://api.github.com/users/onbjerg/repos",
      "events_url": "https://api.github.com/users/onbjerg/events{/privacy}",
      "received_events_url": "https://api.github.com/users/onbjerg/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-11-21T09:01:09Z",
    "updated_at": "2018-11-21T09:01:09Z",
    "author_association": "NONE",
    "body": "@James-Sangalli This already exists in the form of [Natspec](https://github.com/ethereum/wiki/wiki/Ethereum-Natural-Specification-Format) and its safer cousin [Radspec](https://github.com/aragon/radspec)",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/EIPs/issues/comments/440587185/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/EIPs/issues/comments/974757158",
    "html_url": "https://github.com/ethereum/EIPs/issues/1606#issuecomment-974757158",
    "issue_url": "https://api.github.com/repos/ethereum/EIPs/issues/1606",
    "id": 974757158,
    "node_id": "IC_kwDOAq426M46GZ0m",
    "user": {
      "login": "github-actions[bot]",
      "id": 41898282,
      "node_id": "MDM6Qm90NDE4OTgyODI=",
      "avatar_url": "https://avatars.githubusercontent.com/in/15368?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/github-actions%5Bbot%5D",
      "html_url": "https://github.com/apps/github-actions",
      "followers_url": "https://api.github.com/users/github-actions%5Bbot%5D/followers",
      "following_url": "https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}",
      "gists_url": "https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/github-actions%5Bbot%5D/subscriptions",
      "organizations_url": "https://api.github.com/users/github-actions%5Bbot%5D/orgs",
      "repos_url": "https://api.github.com/users/github-actions%5Bbot%5D/repos",
      "events_url": "https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}",
      "received_events_url": "https://api.github.com/users/github-actions%5Bbot%5D/received_events",
      "type": "Bot",
      "site_admin": false
    },
    "created_at": "2021-11-21T05:10:08Z",
    "updated_at": "2021-11-21T05:10:08Z",
    "author_association": "NONE",
    "body": "There has been no activity on this issue for two months. It will be closed in a week if no further activity occurs. If you would like to move this EIP forward, please respond to any outstanding feedback or add a comment indicating that you have addressed all required feedback and are ready for a review.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/EIPs/issues/comments/974757158/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/EIPs/issues/comments/986168220",
    "html_url": "https://github.com/ethereum/EIPs/issues/1606#issuecomment-986168220",
    "issue_url": "https://api.github.com/repos/ethereum/EIPs/issues/1606",
    "id": 986168220,
    "node_id": "IC_kwDOAq426M46x7uc",
    "user": {
      "login": "github-actions[bot]",
      "id": 41898282,
      "node_id": "MDM6Qm90NDE4OTgyODI=",
      "avatar_url": "https://avatars.githubusercontent.com/in/15368?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/github-actions%5Bbot%5D",
      "html_url": "https://github.com/apps/github-actions",
      "followers_url": "https://api.github.com/users/github-actions%5Bbot%5D/followers",
      "following_url": "https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}",
      "gists_url": "https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/github-actions%5Bbot%5D/subscriptions",
      "organizations_url": "https://api.github.com/users/github-actions%5Bbot%5D/orgs",
      "repos_url": "https://api.github.com/users/github-actions%5Bbot%5D/repos",
      "events_url": "https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}",
      "received_events_url": "https://api.github.com/users/github-actions%5Bbot%5D/received_events",
      "type": "Bot",
      "site_admin": false
    },
    "created_at": "2021-12-05T05:10:50Z",
    "updated_at": "2021-12-05T05:10:50Z",
    "author_association": "NONE",
    "body": "This issue was closed due to inactivity. If you are still pursuing it, feel free to reopen it and respond to any feedback or request a review in a comment.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/EIPs/issues/comments/986168220/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
