{
  "url": "https://api.github.com/repos/ethereum/EIPs/issues/3197",
  "repository_url": "https://api.github.com/repos/ethereum/EIPs",
  "labels_url": "https://api.github.com/repos/ethereum/EIPs/issues/3197/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/EIPs/issues/3197/comments",
  "events_url": "https://api.github.com/repos/ethereum/EIPs/issues/3197/events",
  "html_url": "https://github.com/ethereum/EIPs/issues/3197",
  "id": 783889379,
  "node_id": "MDU6SXNzdWU3ODM4ODkzNzk=",
  "number": 3197,
  "title": "Add deadline for ERC20 approve",
  "user": {
    "login": "jtomtan",
    "id": 11899268,
    "node_id": "MDQ6VXNlcjExODk5MjY4",
    "avatar_url": "https://avatars.githubusercontent.com/u/11899268?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/jtomtan",
    "html_url": "https://github.com/jtomtan",
    "followers_url": "https://api.github.com/users/jtomtan/followers",
    "following_url": "https://api.github.com/users/jtomtan/following{/other_user}",
    "gists_url": "https://api.github.com/users/jtomtan/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/jtomtan/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/jtomtan/subscriptions",
    "organizations_url": "https://api.github.com/users/jtomtan/orgs",
    "repos_url": "https://api.github.com/users/jtomtan/repos",
    "events_url": "https://api.github.com/users/jtomtan/events{/privacy}",
    "received_events_url": "https://api.github.com/users/jtomtan/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 2328627851,
      "node_id": "MDU6TGFiZWwyMzI4NjI3ODUx",
      "url": "https://api.github.com/repos/ethereum/EIPs/labels/stale",
      "name": "stale",
      "color": "000000",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 4,
  "created_at": "2021-01-12T04:02:04Z",
  "updated_at": "2021-11-07T02:29:12Z",
  "closed_at": "2021-11-07T02:29:12Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "Hi,\r\n\r\nI am from the Ownbit wallet team (ownbit.io). I am not sure if there's already some discussion about ERC20 approve() function. Currently the approve function is like this:\r\n\r\n`function approve(address _spender, uint256 _value) public returns (bool success)`\r\n\r\nThis would allow the _spender to spend my token at anytime within the _value. For most of the usecases, I would like the _spender to spend my token within the _value  only in the following hours or days. \r\n\r\nFor example, I approve the UNISWAP to change some tokens. In current design, I will approve the UNISWAP contract to spend my token forever until I clear the approval by sending another transaction. So I suggest a new approve function:\r\n\r\n`function approve(address _spender, uint256 _value, uint256 deadline) public returns (bool success)`\r\n\r\nDescription: if the deadline = 0, it acts the same like the original approve. else if the deadline < 1000000000, it represents a blockNumber, otherwise it represents a timestamp.\r\n\r\nAfter the current blockNumber or timestamp exceeds the deadline, the approval will get invalid automatically.\r\n\r\nI think this new approve function would give more control to token owners, so that the security of DeFi can be improved. \r\n",
  "closed_by": {
    "login": "github-actions[bot]",
    "id": 41898282,
    "node_id": "MDM6Qm90NDE4OTgyODI=",
    "avatar_url": "https://avatars.githubusercontent.com/in/15368?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/github-actions%5Bbot%5D",
    "html_url": "https://github.com/apps/github-actions",
    "followers_url": "https://api.github.com/users/github-actions%5Bbot%5D/followers",
    "following_url": "https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}",
    "gists_url": "https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/github-actions%5Bbot%5D/subscriptions",
    "organizations_url": "https://api.github.com/users/github-actions%5Bbot%5D/orgs",
    "repos_url": "https://api.github.com/users/github-actions%5Bbot%5D/repos",
    "events_url": "https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}",
    "received_events_url": "https://api.github.com/users/github-actions%5Bbot%5D/received_events",
    "type": "Bot",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/EIPs/issues/3197/reactions",
    "total_count": 2,
    "+1": 1,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 1,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/EIPs/issues/3197/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/EIPs/issues/comments/759845457",
    "html_url": "https://github.com/ethereum/EIPs/issues/3197#issuecomment-759845457",
    "issue_url": "https://api.github.com/repos/ethereum/EIPs/issues/3197",
    "id": 759845457,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc1OTg0NTQ1Nw==",
    "user": {
      "login": "MicahZoltu",
      "id": 886059,
      "node_id": "MDQ6VXNlcjg4NjA1OQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/886059?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MicahZoltu",
      "html_url": "https://github.com/MicahZoltu",
      "followers_url": "https://api.github.com/users/MicahZoltu/followers",
      "following_url": "https://api.github.com/users/MicahZoltu/following{/other_user}",
      "gists_url": "https://api.github.com/users/MicahZoltu/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MicahZoltu/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MicahZoltu/subscriptions",
      "organizations_url": "https://api.github.com/users/MicahZoltu/orgs",
      "repos_url": "https://api.github.com/users/MicahZoltu/repos",
      "events_url": "https://api.github.com/users/MicahZoltu/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MicahZoltu/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-01-14T00:32:23Z",
    "updated_at": "2021-01-14T00:32:23Z",
    "author_association": "MEMBER",
    "body": "I don't know of any standards for time limited approvals.  Feel free to create an EIP if you think it would add significant value.  ðŸ˜„ ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/EIPs/issues/comments/759845457/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/EIPs/issues/comments/759876189",
    "html_url": "https://github.com/ethereum/EIPs/issues/3197#issuecomment-759876189",
    "issue_url": "https://api.github.com/repos/ethereum/EIPs/issues/3197",
    "id": 759876189,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc1OTg3NjE4OQ==",
    "user": {
      "login": "jtomtan",
      "id": 11899268,
      "node_id": "MDQ6VXNlcjExODk5MjY4",
      "avatar_url": "https://avatars.githubusercontent.com/u/11899268?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jtomtan",
      "html_url": "https://github.com/jtomtan",
      "followers_url": "https://api.github.com/users/jtomtan/followers",
      "following_url": "https://api.github.com/users/jtomtan/following{/other_user}",
      "gists_url": "https://api.github.com/users/jtomtan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jtomtan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jtomtan/subscriptions",
      "organizations_url": "https://api.github.com/users/jtomtan/orgs",
      "repos_url": "https://api.github.com/users/jtomtan/repos",
      "events_url": "https://api.github.com/users/jtomtan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jtomtan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-01-14T02:05:25Z",
    "updated_at": "2021-01-14T02:05:25Z",
    "author_association": "NONE",
    "body": "> I don't know of any standards for time limited approvals. Feel free to create an EIP if you think it would add significant value. ðŸ˜„\r\n\r\nOK, will try.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/EIPs/issues/comments/759876189/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/EIPs/issues/comments/950248960",
    "html_url": "https://github.com/ethereum/EIPs/issues/3197#issuecomment-950248960",
    "issue_url": "https://api.github.com/repos/ethereum/EIPs/issues/3197",
    "id": 950248960,
    "node_id": "IC_kwDOAq426M44o6YA",
    "user": {
      "login": "github-actions[bot]",
      "id": 41898282,
      "node_id": "MDM6Qm90NDE4OTgyODI=",
      "avatar_url": "https://avatars.githubusercontent.com/in/15368?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/github-actions%5Bbot%5D",
      "html_url": "https://github.com/apps/github-actions",
      "followers_url": "https://api.github.com/users/github-actions%5Bbot%5D/followers",
      "following_url": "https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}",
      "gists_url": "https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/github-actions%5Bbot%5D/subscriptions",
      "organizations_url": "https://api.github.com/users/github-actions%5Bbot%5D/orgs",
      "repos_url": "https://api.github.com/users/github-actions%5Bbot%5D/repos",
      "events_url": "https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}",
      "received_events_url": "https://api.github.com/users/github-actions%5Bbot%5D/received_events",
      "type": "Bot",
      "site_admin": false
    },
    "created_at": "2021-10-24T02:27:26Z",
    "updated_at": "2021-10-24T02:27:26Z",
    "author_association": "NONE",
    "body": "There has been no activity on this issue for two months. It will be closed in a week if no further activity occurs. If you would like to move this EIP forward, please respond to any outstanding feedback or add a comment indicating that you have addressed all required feedback and are ready for a review.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/EIPs/issues/comments/950248960/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/EIPs/issues/comments/962541430",
    "html_url": "https://github.com/ethereum/EIPs/issues/3197#issuecomment-962541430",
    "issue_url": "https://api.github.com/repos/ethereum/EIPs/issues/3197",
    "id": 962541430,
    "node_id": "IC_kwDOAq426M45Xzd2",
    "user": {
      "login": "github-actions[bot]",
      "id": 41898282,
      "node_id": "MDM6Qm90NDE4OTgyODI=",
      "avatar_url": "https://avatars.githubusercontent.com/in/15368?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/github-actions%5Bbot%5D",
      "html_url": "https://github.com/apps/github-actions",
      "followers_url": "https://api.github.com/users/github-actions%5Bbot%5D/followers",
      "following_url": "https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}",
      "gists_url": "https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/github-actions%5Bbot%5D/subscriptions",
      "organizations_url": "https://api.github.com/users/github-actions%5Bbot%5D/orgs",
      "repos_url": "https://api.github.com/users/github-actions%5Bbot%5D/repos",
      "events_url": "https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}",
      "received_events_url": "https://api.github.com/users/github-actions%5Bbot%5D/received_events",
      "type": "Bot",
      "site_admin": false
    },
    "created_at": "2021-11-07T02:29:12Z",
    "updated_at": "2021-11-07T02:29:12Z",
    "author_association": "NONE",
    "body": "This issue was closed due to inactivity. If you are still pursuing it, feel free to reopen it and respond to any feedback or request a review in a comment.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/EIPs/issues/comments/962541430/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
