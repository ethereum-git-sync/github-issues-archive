{
  "url": "https://api.github.com/repos/ethereum/EIPs/issues/5538",
  "repository_url": "https://api.github.com/repos/ethereum/EIPs",
  "labels_url": "https://api.github.com/repos/ethereum/EIPs/issues/5538/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/EIPs/issues/5538/comments",
  "events_url": "https://api.github.com/repos/ethereum/EIPs/issues/5538/events",
  "html_url": "https://github.com/ethereum/EIPs/issues/5538",
  "id": 1352407810,
  "node_id": "I_kwDOAq426M5QnBsC",
  "number": 5538,
  "title": "Revocation List Registry",
  "user": {
    "login": "strumswell",
    "id": 6720421,
    "node_id": "MDQ6VXNlcjY3MjA0MjE=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6720421?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/strumswell",
    "html_url": "https://github.com/strumswell",
    "followers_url": "https://api.github.com/users/strumswell/followers",
    "following_url": "https://api.github.com/users/strumswell/following{/other_user}",
    "gists_url": "https://api.github.com/users/strumswell/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/strumswell/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/strumswell/subscriptions",
    "organizations_url": "https://api.github.com/users/strumswell/orgs",
    "repos_url": "https://api.github.com/users/strumswell/repos",
    "events_url": "https://api.github.com/users/strumswell/events{/privacy}",
    "received_events_url": "https://api.github.com/users/strumswell/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2022-08-26T15:17:27Z",
  "updated_at": "2022-08-26T16:47:57Z",
  "closed_at": "2022-08-26T16:42:41Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "Draft authors: @lleifermann, @dennisvonderbey, @strumswell\r\n## Abstract\r\nThis EIP proposes a set of methods and standards for an RBAC-enabled registry of indicators aimed for usage in revocations.\r\n\r\n## Motivation\r\nRevocation is a universally needed construct both in the traditional centralized and decentralized credential attestation. This EIP aims to provide an interface to standardize a decentralized approach to managing and resolving revocation states in a contract registry.\r\n\r\nThe largest problem with traditional revocation lists is the centralized aspect of them. Most of the world's CRLs rely on HTTP servers as well as caching and are therefore vulnerable to known attack vectors in the traditional web space. This aspect severely weakens the underlying strong asymmetric key architecture in current PKI systems.\r\n\r\nIn addition, issuers in existing CRL approaches are required to host an own instance of their public revocation list, as shared or centralized instances run the risk of misusage by the controlling entity. \r\nThis incentivizes issuers to shift this responsibility to a third party, imposing the risk of even more centralization of the ecosystem (see Cloudflare, AWS). \r\nIdeally, issuers should be able to focus on their area of expertise, including ownership of their revocable material, instead of worrying about infrastructure.\r\n\r\nWe see value in a future of the Internet where anyone can be an issuer of verifiable information. This proposal lays the groundwork for anyone to also own the lifecycle of this information to build trust in ecosystems.\r\n\r\n## Definitions\r\n- `namespace`: A namespace is a representation of an Ethereum address inside the registry. The address of the namespace initially has owner rights to all revocation lists beneath it. \r\n- `owner`: An Ethereum address that has modifying rights to many revocation lists. Initially, the owner of a revocation list corresponds to the address of the namespace.\r\n- `delegate`: An Ethereum address that is allowed to change the revocation statuses in a revocation list of a foreign namespace. Access has to be granted by the current owner of the revocation list.\r\n\r\n## Specification\r\nThe key words “MUST”, “MUST NOT”, “REQUIRED”, “SHALL”, “SHALL NOT”, “SHOULD”, “SHOULD NOT”, “RECOMMENDED”, “MAY”, and “OPTIONAL” in this document are to be interpreted as described in RFC 2119.\r\n\r\nThis EIP specifies a contract called `EthereumRevocationRegistry` that is deployed once and may then be commonly used by everyone. By default, an Ethereum address **MAY** own and manage a multitude of revocation lists in a namespace that **MUST** contain the revocation states for a set of revocation keys. \r\n\r\nAn owner of a namespace **MAY** allow delegates to manage one or more of its revocation lists. Delegates **MUST** be removable by the respective list's owner. In certain situations, an owner **MAY** also want to transfer a revocation list in a namespace and its management rights to a new owner.\r\n\r\n### Revocation management\r\n\r\n**isRevoked**\r\n**MUST** implement a function that returns the revocation status of a particular revocation key in a namespace's revocation list.\r\n```solidity\r\nfunction isRevoked(address namespace, bytes32 list, bytes32 key) public view returns (bool);\r\n```\r\n\r\n**changeStatus**\r\n**MUST** implement a function to change the revocation status of a particular revocation key in a namespace's revocation list\r\n```solidity\r\nfunction changeStatus(bool revoked, address namespace, bytes32 list, bytes32 key) public;\r\n```\r\n\r\n**changeStatusSigned** ([see meta transactions](#Meta-transactions))\r\n**OPTIONAL** implements a function to change the revocation status of a particular revocation key in a namespace's revocation list with a raw signature.\r\n```solidity\r\nfunction changeStatusSigned(bool revoked, address namespace, bytes32 list, bytes32 key, uint8 sigV, bytes32 sigR, bytes32 sigS) public;\r\n```\r\n\r\n**changeStatusDelegate**\r\n**OPTIONAL** implements a function to change the revocation status of a particular revocation key in a namespace's revocation list with a raw signature.\r\n```solidity\r\nfunction changeStatusDelegate(bool revoked, address namespace, bytes32 list, bytes32 key) public;\r\n```\r\n\r\n**changeStatusDelegateSigned** ([see meta transactions](#Meta-transactions))\r\n**OPTIONAL** implements a function to change the revocation status of a particular revocation key in a namespace's revocation list with a raw signature.\r\n```solidity\r\nfunction changeStatusDelegateSigned(bool revoked, address namespace, bytes32 list, bytes32 key, uint8 sigV, bytes32 sigR, bytes32 sigS) public;\r\n```\r\n\r\n**batchChangeStatuses**\r\n**OPTIONAL** implements a function to change multiple revocation statuses in different revocation lists and namespaces at once.\r\n```solidity\r\nfunction batchChangeStatuses(bool[] revokedStatuses, address[] namespaces, bytes32[] lists, bytes32[] keys) public;\r\n```\r\n\r\n**batchChangeStatusesSigned** ([see meta transactions](#Meta-transactions))\r\n**OPTIONAL** implements a function to change multiple revocation statuses in different revocation lists and namespaces at once with a raw signature.\r\n```solidity\r\nfunction batchChangeStatusesSigned(bool[] revokedStatuses, address[] namespaces, bytes32[] lists, bytes32[] keys, uint8 sigV, bytes32 sigR, bytes32 sigS) public;\r\n```\r\n\r\n**batchChangeListStatuses**\r\n**OPTIONAL** implements a function to change multiple revocation statuses in a specific namespace's revocation list.\r\n```solidity\r\nfunction batchChangeListStatuses(bool[] revokedStatuses, address namespace, bytes32 list, bytes32[] keys) public;\r\n```\r\n\r\n**batchChangeListStatusesSigned** ([see meta transactions](#Meta-transactions))\r\n**OPTIONAL** implements a function to change multiple revocation statuses in a specific namespace's revocation list with a raw signature.\r\n```solidity\r\nfunction batchChangeListStatusesSigned(bool[] revokedStatuses, address namespace, bytes32 list, bytes32[] keys, uint8 sigV, bytes32 sigR, bytes32 sigS) public;\r\n```\r\n\r\n### Owner managment\r\n\r\n**changeListOwner**\r\n**OPTIONAL** implement a function to change the owner of a revocation list in a namespace to a new address.\r\n```solidity\r\nfunction changeListOwner(address owner, address newOwner, bytes32 list) public;\r\n```\r\n\r\n**changeListOwnerSigned** ([see Meta transactions](#Meta-transactions))\r\n**OPTIONAL** implements a function to change the owner of a revocation list in a namespace to a new address.\r\n```solidity\r\nfunction changeListOwnerSigned(address owner, address newOwner, bytes32 list, uint8 sigV, bytes32 sigR, bytes32 sigS) public;\r\n```\r\n\r\n### Delegation management\r\n\r\n#### addListDelegate\r\n**OPTIONAL** implements a function to add a delegate to an owner's revocation in a namespace list.\r\n```solidity\r\nfunction addListDelegate(address owner, address delegate, bytes32 list) public;\r\n```\r\n\r\n#### addListDelegateSigned ([see Meta transactions](#Meta-transactions))\r\n**OPTIONAL** implements a function to add a delegate to an owner's revocation list in a namespace with a raw signature.\r\n```solidity\r\nfunction addListDelegateSigned(address owner, address delegate, bytes32 list, uint8 sigV, bytes32 sigR, bytes32 sigS) public;\r\n```\r\n\r\n#### removeListDelegate\r\n**OPTIONAL** implements a function to remove a delegate from an owner's revocation list in a namespace.\r\n```solidity\r\nfunction removeListDelegate(address owner, address delegate, bytes32 list) public;\r\n```\r\n\r\n#### removeListDelegateSigned ([see Meta transactions](#Meta-transactions))\r\n**OPTIONAL** implements a function to remove a delegate from an owner's revocation list in a namespace with a raw signature.\r\n```solidity\r\nfunction removeListDelegateSigned(address owner, address delegate, bytes32 list, uint8 sigV, bytes32 sigR, bytes32 sigS) public;\r\n```\r\n\r\n### Events\r\n\r\n**RevocationStatusChanged**\r\n**MUST** be emitted when `changeStatus`, `changeStatusSigned`, `changeStatusDelegate`, or `changeStatusDelegateSigned` was successfully executed.\r\n\r\n```solidity\r\nevent RevocationStatusChanged(\r\n    address indexed namespace,\r\n    bytes32 indexed list,\r\n    bytes32 indexed key,\r\n    bool revoked\r\n);\r\n```\r\n\r\n**RevocationStatusesChanged**\r\n**MUST** be emitted when `batchChangeStatuses`, `batchChangeStatusesSigned`, `batchChangeListStatuses`, or `batchChangeListStatusesSigned` was successfully executed.\r\n\r\n```solidity\r\nevent RevocationStatusesChanged(\r\n    address[] indexed namespaces,\r\n    bytes32[] indexed lists,\r\n    bytes32[] indexed keys,\r\n    bool[] revoked\r\n);\r\n```\r\n\r\n**ListOwnerChanged**\r\n**MUST** be emitted when `changeListOwner` or `changeListOwnerSigned` was successfully executed.\r\n\r\n```solidity\r\nevent ListOwnerChanged(\r\n    address indexed namespace,\r\n    address indexed newOwner,\r\n    bytes32 indexed list\r\n);\r\n```\r\n\r\n**DelegateAdded**\r\n**MUST** be emitted when `addListDelegate` or `addListDelegateSigned` was successfully executed.\r\n\r\n```solidity\r\nevent ListDelegateAdded(\r\n    address indexed namespace,\r\n    address indexed delegate,\r\n    bytes32 indexed list\r\n);\r\n```\r\n\r\n**DelegateRemoved**\r\n**MUST** be emitted when `removeListDelegate` or `removeListDelegateSigned` was successfully executed.\r\n\r\n```solidity\r\nevent ListDelegateRemoved(\r\n    address indexed namespace,\r\n    address indexed delegate,\r\n    bytes32 indexed list\r\n);\r\n```\r\n\r\n### Meta transactions\r\n\r\nThis section uses the following terms: \r\n\r\n**`transaction signer`:** An Ethereum address that signs arbitrary data for the contract to execute **BUT** does not commit the transaction. \r\n**`transaction sender`**: An Ethereum address that takes signed data from a **transaction signer** and commits it wrapped with its own signature to the smart contract.\r\n\r\nAn address (**transaction-signer**) **MAY** be able to deliver a signed payload off-band to another address (**transaction sender**) that initiates the Ethereum interaction with the smart contract. The signed payload **MUST** be limited to be used only once ([Signed Hash](#Signed-Hash) + [nonces](#Nonce)).\r\n\r\n#### Signed Hash\r\n\r\nThe signature of the **transaction signer** **MUST** conform [EIP-712](/EIPS/eip-712), in its state that is proposed in [`ethereum/EIPs/issues/5475`](https://github.com/ethereum/EIPs/issues/5475). This helps users understand what the payload they're signing consists of & it improves the protection against replay attacks.\r\n\r\n#### Nonce\r\n\r\nThis EIP **RECOMMENDS** the use of a **dedicated nonce mapping** for meta transactions. If the signature of the **transaction sender** and its meta contents are verified, the contract increases a nonce for this **transaction signer**. This effectively removes the possibility for any other sender to execute the same transaction again with another wallet. \r\n\r\n## Rationale\r\n\r\n### Why the concept of namespaces?\r\n> This provides every Ethereum address a reserved space, without the need to actively claim it in the contract. Initially addresses only have owner access in their own namespace.\r\n\r\n### Why does a namespace always represent the initial owner address? \r\n> The change of an owner of a list shouldn't break the link to a revocation key in it, as already existing off-chain data may depend on it. \r\n\r\n## Backwards Compatibility\r\nNot applicable\r\n\r\n## Reference Implementation\r\ntba\r\n\r\n## Security Considerations\r\n\r\n### Meta Transactions\r\nThe signature of signed transactions could potentially be replayed on different chains or deployed versions of the registry implementing this ERC. This security consideration is addressed by the usage of [EIP-712](/EIPS/eip-712).\r\n\r\n### Rights Management\r\nThe different roles and their inherent permissions are meant to prevent changes from unauthorized entities. The revocation list owner should always be in complete control over its revocation list and who has writing access to it.\r\n\r\n## Copyright\r\nCopyright and related rights waived via [CC0](../LICENSE.md).\r\n",
  "closed_by": {
    "login": "Pandapip1",
    "id": 45835846,
    "node_id": "MDQ6VXNlcjQ1ODM1ODQ2",
    "avatar_url": "https://avatars.githubusercontent.com/u/45835846?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/Pandapip1",
    "html_url": "https://github.com/Pandapip1",
    "followers_url": "https://api.github.com/users/Pandapip1/followers",
    "following_url": "https://api.github.com/users/Pandapip1/following{/other_user}",
    "gists_url": "https://api.github.com/users/Pandapip1/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/Pandapip1/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/Pandapip1/subscriptions",
    "organizations_url": "https://api.github.com/users/Pandapip1/orgs",
    "repos_url": "https://api.github.com/users/Pandapip1/repos",
    "events_url": "https://api.github.com/users/Pandapip1/events{/privacy}",
    "received_events_url": "https://api.github.com/users/Pandapip1/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/EIPs/issues/5538/reactions",
    "total_count": 7,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 7,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/EIPs/issues/5538/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/EIPs/issues/comments/1228709925",
    "html_url": "https://github.com/ethereum/EIPs/issues/5538#issuecomment-1228709925",
    "issue_url": "https://api.github.com/repos/ethereum/EIPs/issues/5538",
    "id": 1228709925,
    "node_id": "IC_kwDOAq426M5JPKAl",
    "user": {
      "login": "Pandapip1",
      "id": 45835846,
      "node_id": "MDQ6VXNlcjQ1ODM1ODQ2",
      "avatar_url": "https://avatars.githubusercontent.com/u/45835846?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Pandapip1",
      "html_url": "https://github.com/Pandapip1",
      "followers_url": "https://api.github.com/users/Pandapip1/followers",
      "following_url": "https://api.github.com/users/Pandapip1/following{/other_user}",
      "gists_url": "https://api.github.com/users/Pandapip1/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Pandapip1/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Pandapip1/subscriptions",
      "organizations_url": "https://api.github.com/users/Pandapip1/orgs",
      "repos_url": "https://api.github.com/users/Pandapip1/repos",
      "events_url": "https://api.github.com/users/Pandapip1/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Pandapip1/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-08-26T16:42:41Z",
    "updated_at": "2022-08-26T16:42:41Z",
    "author_association": "MEMBER",
    "body": "If you would like to make this an EIP, please make a pull request that adds this by copying `eip-template.md` into the `EIPS` directory.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/EIPs/issues/comments/1228709925/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/EIPs/issues/comments/1228714203",
    "html_url": "https://github.com/ethereum/EIPs/issues/5538#issuecomment-1228714203",
    "issue_url": "https://api.github.com/repos/ethereum/EIPs/issues/5538",
    "id": 1228714203,
    "node_id": "IC_kwDOAq426M5JPLDb",
    "user": {
      "login": "lleifermann",
      "id": 17656925,
      "node_id": "MDQ6VXNlcjE3NjU2OTI1",
      "avatar_url": "https://avatars.githubusercontent.com/u/17656925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lleifermann",
      "html_url": "https://github.com/lleifermann",
      "followers_url": "https://api.github.com/users/lleifermann/followers",
      "following_url": "https://api.github.com/users/lleifermann/following{/other_user}",
      "gists_url": "https://api.github.com/users/lleifermann/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lleifermann/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lleifermann/subscriptions",
      "organizations_url": "https://api.github.com/users/lleifermann/orgs",
      "repos_url": "https://api.github.com/users/lleifermann/repos",
      "events_url": "https://api.github.com/users/lleifermann/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lleifermann/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-08-26T16:47:56Z",
    "updated_at": "2022-08-26T16:47:56Z",
    "author_association": "CONTRIBUTOR",
    "body": "> If you would like to make this an EIP, please make a pull request that adds this by copying `eip-template.md` into the `EIPS` directory.\n\nWe wanted to gather comments and feedback first and the Issue Template stated that this should then be done in an GitHub Issue. Should we still open a pull request? ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/EIPs/issues/comments/1228714203/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
