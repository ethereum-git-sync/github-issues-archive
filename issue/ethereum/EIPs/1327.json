{
  "url": "https://api.github.com/repos/ethereum/EIPs/issues/1327",
  "repository_url": "https://api.github.com/repos/ethereum/EIPs",
  "labels_url": "https://api.github.com/repos/ethereum/EIPs/issues/1327/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/EIPs/issues/1327/comments",
  "events_url": "https://api.github.com/repos/ethereum/EIPs/issues/1327/events",
  "html_url": "https://github.com/ethereum/EIPs/issues/1327",
  "id": 350754715,
  "node_id": "MDU6SXNzdWUzNTA3NTQ3MTU=",
  "number": 1327,
  "title": "ERC - Extendable Atomic Swaps",
  "user": {
    "login": "James-Sangalli",
    "id": 16630514,
    "node_id": "MDQ6VXNlcjE2NjMwNTE0",
    "avatar_url": "https://avatars.githubusercontent.com/u/16630514?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/James-Sangalli",
    "html_url": "https://github.com/James-Sangalli",
    "followers_url": "https://api.github.com/users/James-Sangalli/followers",
    "following_url": "https://api.github.com/users/James-Sangalli/following{/other_user}",
    "gists_url": "https://api.github.com/users/James-Sangalli/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/James-Sangalli/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/James-Sangalli/subscriptions",
    "organizations_url": "https://api.github.com/users/James-Sangalli/orgs",
    "repos_url": "https://api.github.com/users/James-Sangalli/repos",
    "events_url": "https://api.github.com/users/James-Sangalli/events{/privacy}",
    "received_events_url": "https://api.github.com/users/James-Sangalli/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 4,
  "created_at": "2018-08-15T10:06:54Z",
  "updated_at": "2018-11-12T15:38:37Z",
  "closed_at": "2018-11-12T15:38:36Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "Hi All,\r\n\r\n**Preface**\r\nSince writing ERC875 and being able to successfully and securely pull of atomic swaps through our standard via our wallet ([AlphaWallet](https://github.com/alpha-wallet)), I propose this standard as an idea for extending the functionality of existing standards to include basic atomic swaps.\r\n\r\n**Motivation**\r\nI personally believe that atomic swaps (the solution to the delivery vs payment problem) is one of the biggest advantages blockchain technology has to offer as it allows capabilities to securely trade on asset for currency. \r\n\r\nSince we have proven the ability to pull of atomic swaps in our standard, it is trivial to extend the functionality to other standards such as ERC20 and ERC721.\r\n\r\n**Draft**\r\n```\r\ninterface ERC20AtomicSwapExtension\r\n{\r\n    function trade(uint256 expiry, uint256 tokens, uint8 v, bytes32 r, bytes32 s) public payable;\r\n}\r\n\r\ninterface ERC721AtomicSwapExtension\r\n{\r\n    function trade(uint256 expiry, uint256 tokenId, uint8 v, bytes32 r, bytes32 s) public payable;\r\n}\r\n```\r\n\r\nClick [here](https://github.com/alpha-wallet/ERC-extendable-atomic-swaps) to see a contract implementation\r\n",
  "closed_by": {
    "login": "James-Sangalli",
    "id": 16630514,
    "node_id": "MDQ6VXNlcjE2NjMwNTE0",
    "avatar_url": "https://avatars.githubusercontent.com/u/16630514?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/James-Sangalli",
    "html_url": "https://github.com/James-Sangalli",
    "followers_url": "https://api.github.com/users/James-Sangalli/followers",
    "following_url": "https://api.github.com/users/James-Sangalli/following{/other_user}",
    "gists_url": "https://api.github.com/users/James-Sangalli/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/James-Sangalli/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/James-Sangalli/subscriptions",
    "organizations_url": "https://api.github.com/users/James-Sangalli/orgs",
    "repos_url": "https://api.github.com/users/James-Sangalli/repos",
    "events_url": "https://api.github.com/users/James-Sangalli/events{/privacy}",
    "received_events_url": "https://api.github.com/users/James-Sangalli/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/EIPs/issues/1327/reactions",
    "total_count": 2,
    "+1": 2,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/EIPs/issues/1327/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/EIPs/issues/comments/421434870",
    "html_url": "https://github.com/ethereum/EIPs/issues/1327#issuecomment-421434870",
    "issue_url": "https://api.github.com/repos/ethereum/EIPs/issues/1327",
    "id": 421434870,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQyMTQzNDg3MA==",
    "user": {
      "login": "mudgen",
      "id": 49092,
      "node_id": "MDQ6VXNlcjQ5MDky",
      "avatar_url": "https://avatars.githubusercontent.com/u/49092?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mudgen",
      "html_url": "https://github.com/mudgen",
      "followers_url": "https://api.github.com/users/mudgen/followers",
      "following_url": "https://api.github.com/users/mudgen/following{/other_user}",
      "gists_url": "https://api.github.com/users/mudgen/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mudgen/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mudgen/subscriptions",
      "organizations_url": "https://api.github.com/users/mudgen/orgs",
      "repos_url": "https://api.github.com/users/mudgen/repos",
      "events_url": "https://api.github.com/users/mudgen/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mudgen/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-09-14T17:49:13Z",
    "updated_at": "2018-09-14T17:50:16Z",
    "author_association": "CONTRIBUTOR",
    "body": "I am trying to understand this.  Can you lay out the steps of how `trade` actually works and is used?\r\n\r\nHere is something from one of your articles:\r\n\r\n> In ERC875 you can make an order by cryptographically signing a message containing the price, an expiry date for the deal and the signature itself. This process is done off chain and is only broadcasted at the time of settlement. This means you can update your order without ever paying gas. When a buyer is interested, all she has to do is receive the order and broadcast the transaction with the order details and the appropriate amount of ether to fulfil the deal.\r\n\r\nHere are my questions:\r\n1. How is the cryptographically signed message broadcasted?\r\n2. How does the buyer receive the order?\r\n3. What transaction does the buyer broadcast?\r\n\r\nBy \"broadcast\" do you mean execute a transaction on the ethereum network?\r\n\r\nWhen does `trade` get called?\r\n\r\nCan you lay out a sequence of steps that show the full use of the `trade` function?\r\n\r\nI looked at ERC875 but how `trade` is used is still unclear to me. I want to understand this so please help clear it up for me.\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/EIPs/issues/comments/421434870/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/EIPs/issues/comments/421535784",
    "html_url": "https://github.com/ethereum/EIPs/issues/1327#issuecomment-421535784",
    "issue_url": "https://api.github.com/repos/ethereum/EIPs/issues/1327",
    "id": 421535784,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQyMTUzNTc4NA==",
    "user": {
      "login": "James-Sangalli",
      "id": 16630514,
      "node_id": "MDQ6VXNlcjE2NjMwNTE0",
      "avatar_url": "https://avatars.githubusercontent.com/u/16630514?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/James-Sangalli",
      "html_url": "https://github.com/James-Sangalli",
      "followers_url": "https://api.github.com/users/James-Sangalli/followers",
      "following_url": "https://api.github.com/users/James-Sangalli/following{/other_user}",
      "gists_url": "https://api.github.com/users/James-Sangalli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/James-Sangalli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/James-Sangalli/subscriptions",
      "organizations_url": "https://api.github.com/users/James-Sangalli/orgs",
      "repos_url": "https://api.github.com/users/James-Sangalli/repos",
      "events_url": "https://api.github.com/users/James-Sangalli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/James-Sangalli/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-09-15T06:41:20Z",
    "updated_at": "2018-09-15T06:41:20Z",
    "author_association": "CONTRIBUTOR",
    "body": "Hi @mudgen \r\n\r\n1. it is inputed as data into the trade function call which can then do the ecrecover logic and balance manipulation as seen in ERC875 implementation [here](https://github.com/alpha-wallet/ERC875/blob/master/ERCTokenImplementation.sol#L70)\r\n\r\n2. This logic is handled in seperate implementations, a service provider might have a market queue for example\r\n\r\n3. The buyer produces the trade function call. No other party is needed and gas is only paid by the buyer meaning that the seller doesn't even need ether to sell a token. \r\n\r\nNote: trade function is defined in a sample way in this [repo](https://github.com/alpha-wallet/ERC875)",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/EIPs/issues/comments/421535784/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/EIPs/issues/comments/421552405",
    "html_url": "https://github.com/ethereum/EIPs/issues/1327#issuecomment-421552405",
    "issue_url": "https://api.github.com/repos/ethereum/EIPs/issues/1327",
    "id": 421552405,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQyMTU1MjQwNQ==",
    "user": {
      "login": "mudgen",
      "id": 49092,
      "node_id": "MDQ6VXNlcjQ5MDky",
      "avatar_url": "https://avatars.githubusercontent.com/u/49092?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mudgen",
      "html_url": "https://github.com/mudgen",
      "followers_url": "https://api.github.com/users/mudgen/followers",
      "following_url": "https://api.github.com/users/mudgen/following{/other_user}",
      "gists_url": "https://api.github.com/users/mudgen/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mudgen/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mudgen/subscriptions",
      "organizations_url": "https://api.github.com/users/mudgen/orgs",
      "repos_url": "https://api.github.com/users/mudgen/repos",
      "events_url": "https://api.github.com/users/mudgen/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mudgen/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-09-15T10:54:37Z",
    "updated_at": "2018-09-15T10:54:37Z",
    "author_association": "CONTRIBUTOR",
    "body": "I understand now. This is great, thank you.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/EIPs/issues/comments/421552405/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 1,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/EIPs/issues/comments/437926033",
    "html_url": "https://github.com/ethereum/EIPs/issues/1327#issuecomment-437926033",
    "issue_url": "https://api.github.com/repos/ethereum/EIPs/issues/1327",
    "id": 437926033,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzNzkyNjAzMw==",
    "user": {
      "login": "James-Sangalli",
      "id": 16630514,
      "node_id": "MDQ6VXNlcjE2NjMwNTE0",
      "avatar_url": "https://avatars.githubusercontent.com/u/16630514?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/James-Sangalli",
      "html_url": "https://github.com/James-Sangalli",
      "followers_url": "https://api.github.com/users/James-Sangalli/followers",
      "following_url": "https://api.github.com/users/James-Sangalli/following{/other_user}",
      "gists_url": "https://api.github.com/users/James-Sangalli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/James-Sangalli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/James-Sangalli/subscriptions",
      "organizations_url": "https://api.github.com/users/James-Sangalli/orgs",
      "repos_url": "https://api.github.com/users/James-Sangalli/repos",
      "events_url": "https://api.github.com/users/James-Sangalli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/James-Sangalli/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-11-12T15:38:36Z",
    "updated_at": "2018-11-12T15:38:36Z",
    "author_association": "CONTRIBUTOR",
    "body": "Since this is included in EIP875, gonna close it. ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/EIPs/issues/comments/437926033/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
