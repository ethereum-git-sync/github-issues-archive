{
  "url": "https://api.github.com/repos/ethereum/EIPs/issues/70",
  "repository_url": "https://api.github.com/repos/ethereum/EIPs",
  "labels_url": "https://api.github.com/repos/ethereum/EIPs/issues/70/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/EIPs/issues/70/comments",
  "events_url": "https://api.github.com/repos/ethereum/EIPs/issues/70/events",
  "html_url": "https://github.com/ethereum/EIPs/issues/70",
  "id": 137056249,
  "node_id": "MDU6SXNzdWUxMzcwNTYyNDk=",
  "number": 70,
  "title": "Extend the case-sensitive checksum to ICAPs",
  "user": {
    "login": "simenfd",
    "id": 11774591,
    "node_id": "MDQ6VXNlcjExNzc0NTkx",
    "avatar_url": "https://avatars.githubusercontent.com/u/11774591?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/simenfd",
    "html_url": "https://github.com/simenfd",
    "followers_url": "https://api.github.com/users/simenfd/followers",
    "following_url": "https://api.github.com/users/simenfd/following{/other_user}",
    "gists_url": "https://api.github.com/users/simenfd/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/simenfd/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/simenfd/subscriptions",
    "organizations_url": "https://api.github.com/users/simenfd/orgs",
    "repos_url": "https://api.github.com/users/simenfd/repos",
    "events_url": "https://api.github.com/users/simenfd/events{/privacy}",
    "received_events_url": "https://api.github.com/users/simenfd/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 2328627851,
      "node_id": "MDU6TGFiZWwyMzI4NjI3ODUx",
      "url": "https://api.github.com/repos/ethereum/EIPs/labels/stale",
      "name": "stale",
      "color": "000000",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 6,
  "created_at": "2016-02-28T14:01:08Z",
  "updated_at": "2022-01-31T10:13:58Z",
  "closed_at": "2022-01-31T10:13:58Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "# Abstract\n\nExtend the [Yet another cool checksum address encoding #55 ](https://github.com/ethereum/EIPs/issues/55) to [ICAP addresses ](https://github.com/ethereum/wiki/wiki/ICAP:-Inter-exchange-Client-Address-Protocol)\n# Rationale\n\nThe ICAP format has both a _Direct_ and _Basic_ format, which only differs by one character in length; this is risky, given the weak checksum of only 6.6 bits (two digits: 00-99). There are real risks that someone might add a character by mistake and accidentally create a valid but unintended ICAP. Similar issue was raised [here](https://github.com/ethereum/EIPs/issues/57) \n\nIBANs are by specifications case insensitive, making it backwards compatible to alter the case for the purpose of checksums.\n# Implementation\n\nApplying the [Yet another checksum](https://github.com/ethereum/EIPs/issues/55) to the ICAP _Direct_ and _Basic_. The case-change should only be applied to the \"address\" section of the ICAP, not the 4 first characters.  In effect, the final ICAP will look like this:\n\n**Basic (34 chars):**\nXE7338O073kYGtWWzN0f2Wz0R8Px5ZPpZs \n\n**Direct (35 chars):**\nXE73038O073kYGtWwZN0f2Wz0R8pX5ZpPzS\n\n_Note: The change in case above is only for illustration, I haven't really calculated the real checksum.  That should be trivial if people find this EIP useful._\n\nThe problems that [this page raises](https://github.com/ethereum/EIPs/issues/57), that an user enters one extra character without changing the checksum, is in this proposal almost reduced to zero.\n\n**The number of checksum bits increases from 6.5 bits to 6.5 + 30*(26/36) ~ 28 bit  => 1/268 million**\n",
  "closed_by": {
    "login": "github-actions[bot]",
    "id": 41898282,
    "node_id": "MDM6Qm90NDE4OTgyODI=",
    "avatar_url": "https://avatars.githubusercontent.com/in/15368?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/github-actions%5Bbot%5D",
    "html_url": "https://github.com/apps/github-actions",
    "followers_url": "https://api.github.com/users/github-actions%5Bbot%5D/followers",
    "following_url": "https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}",
    "gists_url": "https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/github-actions%5Bbot%5D/subscriptions",
    "organizations_url": "https://api.github.com/users/github-actions%5Bbot%5D/orgs",
    "repos_url": "https://api.github.com/users/github-actions%5Bbot%5D/repos",
    "events_url": "https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}",
    "received_events_url": "https://api.github.com/users/github-actions%5Bbot%5D/received_events",
    "type": "Bot",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/EIPs/issues/70/reactions",
    "total_count": 1,
    "+1": 1,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/EIPs/issues/70/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/EIPs/issues/comments/189942357",
    "html_url": "https://github.com/ethereum/EIPs/issues/70#issuecomment-189942357",
    "issue_url": "https://api.github.com/repos/ethereum/EIPs/issues/70",
    "id": 189942357,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE4OTk0MjM1Nw==",
    "user": {
      "login": "axic",
      "id": 20340,
      "node_id": "MDQ6VXNlcjIwMzQw",
      "avatar_url": "https://avatars.githubusercontent.com/u/20340?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/axic",
      "html_url": "https://github.com/axic",
      "followers_url": "https://api.github.com/users/axic/followers",
      "following_url": "https://api.github.com/users/axic/following{/other_user}",
      "gists_url": "https://api.github.com/users/axic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/axic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/axic/subscriptions",
      "organizations_url": "https://api.github.com/users/axic/orgs",
      "repos_url": "https://api.github.com/users/axic/repos",
      "events_url": "https://api.github.com/users/axic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/axic/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-02-28T20:36:22Z",
    "updated_at": "2016-02-28T20:36:22Z",
    "author_association": "MEMBER",
    "body": "Some sources state that IBANs are case-insensitive (and many opensource tools implement them accordingly), yet this registry on SWIFT ( https://www.swift.com/sites/default/files/resources/swift_standards_ibanregistry.pdf ) suggest it might not be?\n\nThis should be answered before considering a case-sensitive scheme.\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/EIPs/issues/comments/189942357/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/EIPs/issues/comments/190273802",
    "html_url": "https://github.com/ethereum/EIPs/issues/70#issuecomment-190273802",
    "issue_url": "https://api.github.com/repos/ethereum/EIPs/issues/70",
    "id": 190273802,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE5MDI3MzgwMg==",
    "user": {
      "login": "simenfd",
      "id": 11774591,
      "node_id": "MDQ6VXNlcjExNzc0NTkx",
      "avatar_url": "https://avatars.githubusercontent.com/u/11774591?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/simenfd",
      "html_url": "https://github.com/simenfd",
      "followers_url": "https://api.github.com/users/simenfd/followers",
      "following_url": "https://api.github.com/users/simenfd/following{/other_user}",
      "gists_url": "https://api.github.com/users/simenfd/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/simenfd/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/simenfd/subscriptions",
      "organizations_url": "https://api.github.com/users/simenfd/orgs",
      "repos_url": "https://api.github.com/users/simenfd/repos",
      "events_url": "https://api.github.com/users/simenfd/events{/privacy}",
      "received_events_url": "https://api.github.com/users/simenfd/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-02-29T16:17:16Z",
    "updated_at": "2016-03-09T20:17:40Z",
    "author_association": "NONE",
    "body": "There are some noteworthy points here:[http://www.boards.ie/vbulletin/showthread.php?t=2057209257](http://www.boards.ie/vbulletin/showthread.php?t=2057209257)\n\n> But the ISO specification (ISO 13616-1:2007) says:\n> In addition, given the possibility that domestic accounts may use lower case alpha characters, ISO 13616 remains unchanged on this point, i.e. lower case characters continue to be allowed, although the check digit algorithm will continue to be case independent.\n\nStill, given what is stated in that forum, it seems like many interfaces will convert lowercase to uppercase in the banking system. One could make the case-validator ignore IBANs with all upper case characters to prevent problems with legacy bankingsoftware converting it. Though, I don't think this will be a real problem.\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/EIPs/issues/comments/190273802/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/EIPs/issues/comments/195525551",
    "html_url": "https://github.com/ethereum/EIPs/issues/70#issuecomment-195525551",
    "issue_url": "https://api.github.com/repos/ethereum/EIPs/issues/70",
    "id": 195525551,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE5NTUyNTU1MQ==",
    "user": {
      "login": "simenfd",
      "id": 11774591,
      "node_id": "MDQ6VXNlcjExNzc0NTkx",
      "avatar_url": "https://avatars.githubusercontent.com/u/11774591?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/simenfd",
      "html_url": "https://github.com/simenfd",
      "followers_url": "https://api.github.com/users/simenfd/followers",
      "following_url": "https://api.github.com/users/simenfd/following{/other_user}",
      "gists_url": "https://api.github.com/users/simenfd/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/simenfd/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/simenfd/subscriptions",
      "organizations_url": "https://api.github.com/users/simenfd/orgs",
      "repos_url": "https://api.github.com/users/simenfd/repos",
      "events_url": "https://api.github.com/users/simenfd/events{/privacy}",
      "received_events_url": "https://api.github.com/users/simenfd/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-03-11T20:04:14Z",
    "updated_at": "2016-03-11T20:04:14Z",
    "author_association": "NONE",
    "body": "```\n// Changes the case of a valid ICAP address to a checksumed one\nfunc ICAPAddExtendedChecksum(s string) string {\n    lowerICAP := strings.ToLower(s)\n    upperICAP := strings.ToUpper(s)\n    addressHash := Sha3([]byte(lowerICAP)) // Normalize to lower prior to hashing\n    hexHash := hex.EncodeToString(addressHash)\n    var checksumICAP string = upperICAP[:4] // XExx (where xx is checksum) is untouched\n    for i := 4; i < len(lowerICAP); i++ {   // Start at the 4th character\n        l, _ := strconv.ParseInt(string(hexHash[i]), 16, 16)\n        if l > 7 {\n            checksumICAP += string(upperICAP[i])\n        } else {\n            checksumICAP += string(lowerICAP[i])\n        }\n    }\n    return checksumICAP\n}\n\nfunc ICAPValidateExtended(s string) error {\n    // Validate the ordinary checksum\n    _, err := ICAPToAddress(strings.ToUpper(s))\n    if err != nil {\n        return err\n    }\n    // Validate casing\n    correctCasing := ICAPAddExtendedChecksum(s) // Recalculate\n    for i := 0; i < len(s); i++ {\n        if correctCasing[i] != s[i] {\n            return errors.New(\"Invalid ICAP casing\")\n        }\n    }\n    return nil\n}\n```\n\nSome test results:\n\n```\n    icap_test.go:71: Original: XE499OG1EH8ZZI0KXC6N83EKGT1BM97P2O7 ->\n    icap_test.go:73: Checksum: XE499Og1eh8zzI0KxC6n83EkGT1bm97p2o7\n\n    icap_test.go:71: Original: XE1222Q908LN1QBBU6XUQSO1OHWJIOS46OO ->\n    icap_test.go:73: Checksum: XE1222Q908lN1qbbU6XUqSO1oHwJIOS46oo\n\n    icap_test.go:71: Original: XE7338O073KYGTWWZN0F2WZ0R8PX5ZPPZS ->\n    icap_test.go:73: Checksum: XE7338o073kYgTWwzN0F2wZ0r8Px5ZppZS\n```\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/EIPs/issues/comments/195525551/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/EIPs/issues/comments/221929154",
    "html_url": "https://github.com/ethereum/EIPs/issues/70#issuecomment-221929154",
    "issue_url": "https://api.github.com/repos/ethereum/EIPs/issues/70",
    "id": 221929154,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIyMTkyOTE1NA==",
    "user": {
      "login": "gavofyork",
      "id": 138296,
      "node_id": "MDQ6VXNlcjEzODI5Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/138296?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gavofyork",
      "html_url": "https://github.com/gavofyork",
      "followers_url": "https://api.github.com/users/gavofyork/followers",
      "following_url": "https://api.github.com/users/gavofyork/following{/other_user}",
      "gists_url": "https://api.github.com/users/gavofyork/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gavofyork/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gavofyork/subscriptions",
      "organizations_url": "https://api.github.com/users/gavofyork/orgs",
      "repos_url": "https://api.github.com/users/gavofyork/repos",
      "events_url": "https://api.github.com/users/gavofyork/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gavofyork/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-05-26T16:51:15Z",
    "updated_at": "2016-05-26T16:51:15Z",
    "author_association": "MEMBER",
    "body": "makes a lot of sense. shouldn't be too hard to put into web3.js...\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/EIPs/issues/comments/221929154/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/EIPs/issues/comments/1014300989",
    "html_url": "https://github.com/ethereum/EIPs/issues/70#issuecomment-1014300989",
    "issue_url": "https://api.github.com/repos/ethereum/EIPs/issues/70",
    "id": 1014300989,
    "node_id": "IC_kwDOAq426M48dQE9",
    "user": {
      "login": "github-actions[bot]",
      "id": 41898282,
      "node_id": "MDM6Qm90NDE4OTgyODI=",
      "avatar_url": "https://avatars.githubusercontent.com/in/15368?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/github-actions%5Bbot%5D",
      "html_url": "https://github.com/apps/github-actions",
      "followers_url": "https://api.github.com/users/github-actions%5Bbot%5D/followers",
      "following_url": "https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}",
      "gists_url": "https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/github-actions%5Bbot%5D/subscriptions",
      "organizations_url": "https://api.github.com/users/github-actions%5Bbot%5D/orgs",
      "repos_url": "https://api.github.com/users/github-actions%5Bbot%5D/repos",
      "events_url": "https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}",
      "received_events_url": "https://api.github.com/users/github-actions%5Bbot%5D/received_events",
      "type": "Bot",
      "site_admin": false
    },
    "created_at": "2022-01-17T09:17:47Z",
    "updated_at": "2022-01-17T09:17:47Z",
    "author_association": "NONE",
    "body": "There has been no activity on this issue for two months. It will be closed in a week if no further activity occurs. If you would like to move this EIP forward, please respond to any outstanding feedback or add a comment indicating that you have addressed all required feedback and are ready for a review.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/EIPs/issues/comments/1014300989/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/EIPs/issues/comments/1025576321",
    "html_url": "https://github.com/ethereum/EIPs/issues/70#issuecomment-1025576321",
    "issue_url": "https://api.github.com/repos/ethereum/EIPs/issues/70",
    "id": 1025576321,
    "node_id": "IC_kwDOAq426M49IQ2B",
    "user": {
      "login": "github-actions[bot]",
      "id": 41898282,
      "node_id": "MDM6Qm90NDE4OTgyODI=",
      "avatar_url": "https://avatars.githubusercontent.com/in/15368?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/github-actions%5Bbot%5D",
      "html_url": "https://github.com/apps/github-actions",
      "followers_url": "https://api.github.com/users/github-actions%5Bbot%5D/followers",
      "following_url": "https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}",
      "gists_url": "https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/github-actions%5Bbot%5D/subscriptions",
      "organizations_url": "https://api.github.com/users/github-actions%5Bbot%5D/orgs",
      "repos_url": "https://api.github.com/users/github-actions%5Bbot%5D/repos",
      "events_url": "https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}",
      "received_events_url": "https://api.github.com/users/github-actions%5Bbot%5D/received_events",
      "type": "Bot",
      "site_admin": false
    },
    "created_at": "2022-01-31T10:13:57Z",
    "updated_at": "2022-01-31T10:13:57Z",
    "author_association": "NONE",
    "body": "This issue was closed due to inactivity. If you are still pursuing it, feel free to reopen it and respond to any feedback or request a review in a comment.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/EIPs/issues/comments/1025576321/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
