{
  "url": "https://api.github.com/repos/ethereum/EIPs/issues/105",
  "repository_url": "https://api.github.com/repos/ethereum/EIPs",
  "labels_url": "https://api.github.com/repos/ethereum/EIPs/issues/105/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/EIPs/issues/105/comments",
  "events_url": "https://api.github.com/repos/ethereum/EIPs/issues/105/events",
  "html_url": "https://github.com/ethereum/EIPs/issues/105",
  "id": 153124282,
  "node_id": "MDU6SXNzdWUxNTMxMjQyODI=",
  "number": 105,
  "title": "Bitwise shifting in EVM",
  "user": {
    "login": "axic",
    "id": 20340,
    "node_id": "MDQ6VXNlcjIwMzQw",
    "avatar_url": "https://avatars.githubusercontent.com/u/20340?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/axic",
    "html_url": "https://github.com/axic",
    "followers_url": "https://api.github.com/users/axic/followers",
    "following_url": "https://api.github.com/users/axic/following{/other_user}",
    "gists_url": "https://api.github.com/users/axic/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/axic/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/axic/subscriptions",
    "organizations_url": "https://api.github.com/users/axic/orgs",
    "repos_url": "https://api.github.com/users/axic/repos",
    "events_url": "https://api.github.com/users/axic/events{/privacy}",
    "received_events_url": "https://api.github.com/users/axic/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 9,
  "created_at": "2016-05-04T21:56:36Z",
  "updated_at": "2016-09-02T10:08:46Z",
  "closed_at": "2016-09-02T10:08:46Z",
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": "Is there any reason bitwise shifting was omitted from the EVM? Other bitwise operators are present.\n\nIn the past few months in Solidity it was a challenge to deal with arbitrary data and even efficiently implement something like hex to string or string to hex conversion.\n\nRudimentary shift alternatives are: `a * (2 ** b)` for shl and `a / (2 ** b)` for shr. One can use `SIGNEXTEND` to implement arithmetic right shift. (Using this to implement shift in Solidity: https://github.com/ethereum/solidity/pull/527. Having a progression path to native shifting would make sense.)\n\nWhile there are some alternative opcodes in certain cases (such as the `BYTE` and `MSTORE8`) I still think it would be a very useful addition to have native logical shifts (SHL and SHR). I am not fully convinced about the necessity of arithmetic right shift (SAR). Additionally bit rotation (ROR/ROL) might make sense.\n\n@chfast @gcolvin I know you were discussing the option to have 64 bit arithmetic. Did you think about including bit shifting?\n",
  "closed_by": {
    "login": "axic",
    "id": 20340,
    "node_id": "MDQ6VXNlcjIwMzQw",
    "avatar_url": "https://avatars.githubusercontent.com/u/20340?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/axic",
    "html_url": "https://github.com/axic",
    "followers_url": "https://api.github.com/users/axic/followers",
    "following_url": "https://api.github.com/users/axic/following{/other_user}",
    "gists_url": "https://api.github.com/users/axic/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/axic/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/axic/subscriptions",
    "organizations_url": "https://api.github.com/users/axic/orgs",
    "repos_url": "https://api.github.com/users/axic/repos",
    "events_url": "https://api.github.com/users/axic/events{/privacy}",
    "received_events_url": "https://api.github.com/users/axic/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/EIPs/issues/105/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/EIPs/issues/105/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/EIPs/issues/comments/219335892",
    "html_url": "https://github.com/ethereum/EIPs/issues/105#issuecomment-219335892",
    "issue_url": "https://api.github.com/repos/ethereum/EIPs/issues/105",
    "id": 219335892,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIxOTMzNTg5Mg==",
    "user": {
      "login": "VoR0220",
      "id": 7756785,
      "node_id": "MDQ6VXNlcjc3NTY3ODU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7756785?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/VoR0220",
      "html_url": "https://github.com/VoR0220",
      "followers_url": "https://api.github.com/users/VoR0220/followers",
      "following_url": "https://api.github.com/users/VoR0220/following{/other_user}",
      "gists_url": "https://api.github.com/users/VoR0220/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/VoR0220/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/VoR0220/subscriptions",
      "organizations_url": "https://api.github.com/users/VoR0220/orgs",
      "repos_url": "https://api.github.com/users/VoR0220/repos",
      "events_url": "https://api.github.com/users/VoR0220/events{/privacy}",
      "received_events_url": "https://api.github.com/users/VoR0220/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-05-16T02:25:28Z",
    "updated_at": "2016-05-16T02:25:28Z",
    "author_association": "MEMBER",
    "body": "So now that I have some understanding for this...it makes sense why this was left out. Basically bit shifting could be implemented natively by the underlying client....they would simply take in the opcodes that acted like shifting and then use bit shifting underneath....so this kind of makes sense to leave out now...I think. \n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/EIPs/issues/comments/219335892/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/EIPs/issues/comments/222561416",
    "html_url": "https://github.com/ethereum/EIPs/issues/105#issuecomment-222561416",
    "issue_url": "https://api.github.com/repos/ethereum/EIPs/issues/105",
    "id": 222561416,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIyMjU2MTQxNg==",
    "user": {
      "login": "gcolvin",
      "id": 16827129,
      "node_id": "MDQ6VXNlcjE2ODI3MTI5",
      "avatar_url": "https://avatars.githubusercontent.com/u/16827129?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gcolvin",
      "html_url": "https://github.com/gcolvin",
      "followers_url": "https://api.github.com/users/gcolvin/followers",
      "following_url": "https://api.github.com/users/gcolvin/following{/other_user}",
      "gists_url": "https://api.github.com/users/gcolvin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gcolvin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gcolvin/subscriptions",
      "organizations_url": "https://api.github.com/users/gcolvin/orgs",
      "repos_url": "https://api.github.com/users/gcolvin/repos",
      "events_url": "https://api.github.com/users/gcolvin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gcolvin/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-05-30T22:28:07Z",
    "updated_at": "2016-05-30T22:28:07Z",
    "author_association": "CONTRIBUTOR",
    "body": "@axic  I agree that shifting and rotation should be included, as they are basic arithmetic that can be performed much more efficiently as one operation by the VM than as a sequence of operations by the programmer.\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/EIPs/issues/comments/222561416/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/EIPs/issues/comments/230086971",
    "html_url": "https://github.com/ethereum/EIPs/issues/105#issuecomment-230086971",
    "issue_url": "https://api.github.com/repos/ethereum/EIPs/issues/105",
    "id": 230086971,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzMDA4Njk3MQ==",
    "user": {
      "login": "ebuchman",
      "id": 2300911,
      "node_id": "MDQ6VXNlcjIzMDA5MTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2300911?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ebuchman",
      "html_url": "https://github.com/ebuchman",
      "followers_url": "https://api.github.com/users/ebuchman/followers",
      "following_url": "https://api.github.com/users/ebuchman/following{/other_user}",
      "gists_url": "https://api.github.com/users/ebuchman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ebuchman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ebuchman/subscriptions",
      "organizations_url": "https://api.github.com/users/ebuchman/orgs",
      "repos_url": "https://api.github.com/users/ebuchman/repos",
      "events_url": "https://api.github.com/users/ebuchman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ebuchman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-07-02T06:34:17Z",
    "updated_at": "2016-07-02T06:34:17Z",
    "author_association": "NONE",
    "body": "this is especially true since the solidity ABI uses bit (well, byte) shifting, and every contract does this, but instead of being implemented as a shift, its a big int division by a massive number. shifts could be a major performance boon. it's a shame they've been left out. that said, maybe this is something the JITs can just do for us instead of fussing with new opcodes.\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/EIPs/issues/comments/230086971/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/EIPs/issues/comments/230087017",
    "html_url": "https://github.com/ethereum/EIPs/issues/105#issuecomment-230087017",
    "issue_url": "https://api.github.com/repos/ethereum/EIPs/issues/105",
    "id": 230087017,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzMDA4NzAxNw==",
    "user": {
      "login": "ebuchman",
      "id": 2300911,
      "node_id": "MDQ6VXNlcjIzMDA5MTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2300911?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ebuchman",
      "html_url": "https://github.com/ebuchman",
      "followers_url": "https://api.github.com/users/ebuchman/followers",
      "following_url": "https://api.github.com/users/ebuchman/following{/other_user}",
      "gists_url": "https://api.github.com/users/ebuchman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ebuchman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ebuchman/subscriptions",
      "organizations_url": "https://api.github.com/users/ebuchman/orgs",
      "repos_url": "https://api.github.com/users/ebuchman/repos",
      "events_url": "https://api.github.com/users/ebuchman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ebuchman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-07-02T06:35:35Z",
    "updated_at": "2016-07-02T06:35:35Z",
    "author_association": "NONE",
    "body": "this is potentially related to https://github.com/ethereum/EIPs/issues/101 , tho native contracts seem like overkill when all you're trying to do is shift bits/bytes\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/EIPs/issues/comments/230087017/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/EIPs/issues/comments/239942292",
    "html_url": "https://github.com/ethereum/EIPs/issues/105#issuecomment-239942292",
    "issue_url": "https://api.github.com/repos/ethereum/EIPs/issues/105",
    "id": 239942292,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzOTk0MjI5Mg==",
    "user": {
      "login": "axic",
      "id": 20340,
      "node_id": "MDQ6VXNlcjIwMzQw",
      "avatar_url": "https://avatars.githubusercontent.com/u/20340?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/axic",
      "html_url": "https://github.com/axic",
      "followers_url": "https://api.github.com/users/axic/followers",
      "following_url": "https://api.github.com/users/axic/following{/other_user}",
      "gists_url": "https://api.github.com/users/axic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/axic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/axic/subscriptions",
      "organizations_url": "https://api.github.com/users/axic/orgs",
      "repos_url": "https://api.github.com/users/axic/repos",
      "events_url": "https://api.github.com/users/axic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/axic/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-08-15T21:58:24Z",
    "updated_at": "2016-08-15T21:58:24Z",
    "author_association": "MEMBER",
    "body": "@VoR0220:\n\n> Basically bit shifting could be implemented natively by the underlying client....they would simply take in the opcodes that acted like shifting and then use bit shifting underneath....\n\nEither static analysis is done or specific patterns need to be following for it to pick up. I don't think it is a good reason for leaving it out.\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/EIPs/issues/comments/239942292/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/EIPs/issues/comments/240381457",
    "html_url": "https://github.com/ethereum/EIPs/issues/105#issuecomment-240381457",
    "issue_url": "https://api.github.com/repos/ethereum/EIPs/issues/105",
    "id": 240381457,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI0MDM4MTQ1Nw==",
    "user": {
      "login": "chfast",
      "id": 573380,
      "node_id": "MDQ6VXNlcjU3MzM4MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/573380?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chfast",
      "html_url": "https://github.com/chfast",
      "followers_url": "https://api.github.com/users/chfast/followers",
      "following_url": "https://api.github.com/users/chfast/following{/other_user}",
      "gists_url": "https://api.github.com/users/chfast/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chfast/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chfast/subscriptions",
      "organizations_url": "https://api.github.com/users/chfast/orgs",
      "repos_url": "https://api.github.com/users/chfast/repos",
      "events_url": "https://api.github.com/users/chfast/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chfast/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-08-17T11:09:44Z",
    "updated_at": "2016-08-17T11:09:44Z",
    "author_association": "MEMBER",
    "body": "I think the conclusion is that shifts in form of `a * (2 ** b)` are unnecessary expensive and perform badly if the `b` is not a constant.\n\nProviding there is strong interest in implementing some hash/crypto functions in EVM, I'm for including shift ops at some point.\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/EIPs/issues/comments/240381457/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/EIPs/issues/comments/243397618",
    "html_url": "https://github.com/ethereum/EIPs/issues/105#issuecomment-243397618",
    "issue_url": "https://api.github.com/repos/ethereum/EIPs/issues/105",
    "id": 243397618,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI0MzM5NzYxOA==",
    "user": {
      "login": "axic",
      "id": 20340,
      "node_id": "MDQ6VXNlcjIwMzQw",
      "avatar_url": "https://avatars.githubusercontent.com/u/20340?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/axic",
      "html_url": "https://github.com/axic",
      "followers_url": "https://api.github.com/users/axic/followers",
      "following_url": "https://api.github.com/users/axic/following{/other_user}",
      "gists_url": "https://api.github.com/users/axic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/axic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/axic/subscriptions",
      "organizations_url": "https://api.github.com/users/axic/orgs",
      "repos_url": "https://api.github.com/users/axic/repos",
      "events_url": "https://api.github.com/users/axic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/axic/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-08-30T10:23:43Z",
    "updated_at": "2016-08-30T10:42:39Z",
    "author_association": "MEMBER",
    "body": "# Proposal\n\n`0xc`: `SHL` - logical left shift\n`0xd`: `SHR` - logical right shift\n\n~~Arithmetic (`SAR`) right shift can be achieved as a combination of `SHR` and `SIGNEXTEND`.~~ Not, because `SIGNEXTEND` needs the offset of the sign bit.\n\nBoth shift operators take two stack elements, with the top element being the index to shift with. Both take stack elements are considered unsigned.\n\nIt is aligned with the rest of EVM in case of overflows: they are ignored and the result is truncated.\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/EIPs/issues/comments/243397618/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/EIPs/issues/comments/243398012",
    "html_url": "https://github.com/ethereum/EIPs/issues/105#issuecomment-243398012",
    "issue_url": "https://api.github.com/repos/ethereum/EIPs/issues/105",
    "id": 243398012,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI0MzM5ODAxMg==",
    "user": {
      "login": "axic",
      "id": 20340,
      "node_id": "MDQ6VXNlcjIwMzQw",
      "avatar_url": "https://avatars.githubusercontent.com/u/20340?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/axic",
      "html_url": "https://github.com/axic",
      "followers_url": "https://api.github.com/users/axic/followers",
      "following_url": "https://api.github.com/users/axic/following{/other_user}",
      "gists_url": "https://api.github.com/users/axic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/axic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/axic/subscriptions",
      "organizations_url": "https://api.github.com/users/axic/orgs",
      "repos_url": "https://api.github.com/users/axic/repos",
      "events_url": "https://api.github.com/users/axic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/axic/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-08-30T10:25:42Z",
    "updated_at": "2016-08-30T10:25:42Z",
    "author_association": "MEMBER",
    "body": "I'm still unsure about including rotation opcodes.  They can be very useful when implementing hash functions in EVM (such as SHA\\* and BLAKE).\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/EIPs/issues/comments/243398012/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/EIPs/issues/comments/244336823",
    "html_url": "https://github.com/ethereum/EIPs/issues/105#issuecomment-244336823",
    "issue_url": "https://api.github.com/repos/ethereum/EIPs/issues/105",
    "id": 244336823,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI0NDMzNjgyMw==",
    "user": {
      "login": "axic",
      "id": 20340,
      "node_id": "MDQ6VXNlcjIwMzQw",
      "avatar_url": "https://avatars.githubusercontent.com/u/20340?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/axic",
      "html_url": "https://github.com/axic",
      "followers_url": "https://api.github.com/users/axic/followers",
      "following_url": "https://api.github.com/users/axic/following{/other_user}",
      "gists_url": "https://api.github.com/users/axic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/axic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/axic/subscriptions",
      "organizations_url": "https://api.github.com/users/axic/orgs",
      "repos_url": "https://api.github.com/users/axic/repos",
      "events_url": "https://api.github.com/users/axic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/axic/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-09-02T10:08:46Z",
    "updated_at": "2016-09-02T10:08:46Z",
    "author_association": "MEMBER",
    "body": "Replaced by #145.\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/EIPs/issues/comments/244336823/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
