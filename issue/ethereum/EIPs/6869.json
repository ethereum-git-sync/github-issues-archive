{
  "url": "https://api.github.com/repos/ethereum/EIPs/issues/6869",
  "repository_url": "https://api.github.com/repos/ethereum/EIPs",
  "labels_url": "https://api.github.com/repos/ethereum/EIPs/issues/6869/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/EIPs/issues/6869/comments",
  "events_url": "https://api.github.com/repos/ethereum/EIPs/issues/6869/events",
  "html_url": "https://github.com/ethereum/EIPs/issues/6869",
  "id": 1666095435,
  "node_id": "I_kwDOAq426M5jTplL",
  "number": 6869,
  "title": "eip-7810",
  "user": {
    "login": "AbsoluteValentine",
    "id": 62891385,
    "node_id": "MDQ6VXNlcjYyODkxMzg1",
    "avatar_url": "https://avatars.githubusercontent.com/u/62891385?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/AbsoluteValentine",
    "html_url": "https://github.com/AbsoluteValentine",
    "followers_url": "https://api.github.com/users/AbsoluteValentine/followers",
    "following_url": "https://api.github.com/users/AbsoluteValentine/following{/other_user}",
    "gists_url": "https://api.github.com/users/AbsoluteValentine/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/AbsoluteValentine/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/AbsoluteValentine/subscriptions",
    "organizations_url": "https://api.github.com/users/AbsoluteValentine/orgs",
    "repos_url": "https://api.github.com/users/AbsoluteValentine/repos",
    "events_url": "https://api.github.com/users/AbsoluteValentine/events{/privacy}",
    "received_events_url": "https://api.github.com/users/AbsoluteValentine/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 4468107952,
      "node_id": "LA_kwDOAq426M8AAAABClHqsA",
      "url": "https://api.github.com/repos/ethereum/EIPs/labels/enhancement",
      "name": "enhancement",
      "color": "092FA2",
      "default": true,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2023-04-13T09:52:26Z",
  "updated_at": "2023-04-13T13:56:59Z",
  "closed_at": "2023-04-13T13:56:58Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "### Proposed Change\n\n## Abstract\r\n\r\nA new transaction type reverts one of a sender's prior transactions, and other transactions dependent on that state, recursively.\r\n\r\n## Motivation\r\n\r\nWhile Ethereum has the capability of reversible transactions through smart contracts, instant settlement is the default.\r\nBut sometimes users make mistakes.\r\nMost mistakes are discovered quickly.\r\nHowever, once the transaction is confirmed, it is settled.\r\nThere are many use cases for reverting settled transactions.\r\nSome of the most-common mistakes are listed below.\r\n\r\n- Wrong recipient\r\n- Unintended consequences\r\n- Got scammed\r\n\r\nThis feature addresses these issues and more, ending all regret.\r\n\r\n## Specification\r\n\r\n### Parameters\r\n\r\nA new [EIP-2718](./eip-2718.md) transaction is introduced with `TransactionType` `0x5a`.\r\nThe [EIP-2718](./eip-2718.md) `TransactionPayload` for this transaction is `rlp([chainId, nonce, revertNonce, budget, signatureYParity, signatureR, signatureS])`.\r\nThe `signatureYParity, signatureR, signatureS` elements of this transaction represent a secp256k1 signature over `keccak256(0x5a || rlp([chainId, nonce, revertNonce, budget]))`.\r\nThe [EIP-2718](./eip-2718.md) `ReceiptPayload` for this transaction is `rlp([status, budgetUsed, removedLogsBloom, [newReceiptPayloads]])`, where `newReceiptPayloads` is a sequential array of the updated receipts of all reverted transactions.\r\n\r\n### Block gas limit\r\n\r\nA transaction of type `0x5a` shall be the only transaction in its block.\r\n\r\n### Cascading revert operation\r\n\r\nA transaction fee budget is initialized to the value specified by `budget`, denominated in ether.\r\nThis budget is the transaction fee for this type of transaction.\r\nReverted transaction fees are refunded from this budget.\r\nShould the budget be insufficient, the Ex Post Facto Cascading Revert transaction fails and the entire budget is paid to the `COINBASE` specified in the block header.\r\nOtherwise, the remainder of the budget after all transactions are reverted is paid to the `COINBASE` account.\r\n\r\nThe state is rolled back to the start of the transaction specified by `revertNonce`.\r\nAn access list is initialized empty.\r\nAny state previously modified by a reverted transaction is added to the access list.\r\nAny subsequent transaction reading or using state included in the access list must also be reverted.\r\nThis operation cascades forward until the current block.\r\n\r\nState includes:\r\n\r\n- ether balance\r\n- contract code\r\n- account nonce\r\n- storage keys",
  "closed_by": {
    "login": "Pandapip1",
    "id": 45835846,
    "node_id": "MDQ6VXNlcjQ1ODM1ODQ2",
    "avatar_url": "https://avatars.githubusercontent.com/u/45835846?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/Pandapip1",
    "html_url": "https://github.com/Pandapip1",
    "followers_url": "https://api.github.com/users/Pandapip1/followers",
    "following_url": "https://api.github.com/users/Pandapip1/following{/other_user}",
    "gists_url": "https://api.github.com/users/Pandapip1/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/Pandapip1/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/Pandapip1/subscriptions",
    "organizations_url": "https://api.github.com/users/Pandapip1/orgs",
    "repos_url": "https://api.github.com/users/Pandapip1/repos",
    "events_url": "https://api.github.com/users/Pandapip1/events{/privacy}",
    "received_events_url": "https://api.github.com/users/Pandapip1/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/EIPs/issues/6869/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/EIPs/issues/6869/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/EIPs/issues/comments/1506680906",
    "html_url": "https://github.com/ethereum/EIPs/issues/6869#issuecomment-1506680906",
    "issue_url": "https://api.github.com/repos/ethereum/EIPs/issues/6869",
    "id": 1506680906,
    "node_id": "IC_kwDOAq426M5ZziBK",
    "user": {
      "login": "AbsoluteValentine",
      "id": 62891385,
      "node_id": "MDQ6VXNlcjYyODkxMzg1",
      "avatar_url": "https://avatars.githubusercontent.com/u/62891385?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/AbsoluteValentine",
      "html_url": "https://github.com/AbsoluteValentine",
      "followers_url": "https://api.github.com/users/AbsoluteValentine/followers",
      "following_url": "https://api.github.com/users/AbsoluteValentine/following{/other_user}",
      "gists_url": "https://api.github.com/users/AbsoluteValentine/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/AbsoluteValentine/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/AbsoluteValentine/subscriptions",
      "organizations_url": "https://api.github.com/users/AbsoluteValentine/orgs",
      "repos_url": "https://api.github.com/users/AbsoluteValentine/repos",
      "events_url": "https://api.github.com/users/AbsoluteValentine/events{/privacy}",
      "received_events_url": "https://api.github.com/users/AbsoluteValentine/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-04-13T09:53:47Z",
    "updated_at": "2023-04-13T09:53:47Z",
    "author_association": "NONE",
    "body": "it is a test",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/EIPs/issues/comments/1506680906/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/EIPs/issues/comments/1507012393",
    "html_url": "https://github.com/ethereum/EIPs/issues/6869#issuecomment-1507012393",
    "issue_url": "https://api.github.com/repos/ethereum/EIPs/issues/6869",
    "id": 1507012393,
    "node_id": "IC_kwDOAq426M5Z0y8p",
    "user": {
      "login": "Pandapip1",
      "id": 45835846,
      "node_id": "MDQ6VXNlcjQ1ODM1ODQ2",
      "avatar_url": "https://avatars.githubusercontent.com/u/45835846?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Pandapip1",
      "html_url": "https://github.com/Pandapip1",
      "followers_url": "https://api.github.com/users/Pandapip1/followers",
      "following_url": "https://api.github.com/users/Pandapip1/following{/other_user}",
      "gists_url": "https://api.github.com/users/Pandapip1/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Pandapip1/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Pandapip1/subscriptions",
      "organizations_url": "https://api.github.com/users/Pandapip1/orgs",
      "repos_url": "https://api.github.com/users/Pandapip1/repos",
      "events_url": "https://api.github.com/users/Pandapip1/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Pandapip1/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-04-13T13:56:58Z",
    "updated_at": "2023-04-13T13:56:58Z",
    "author_association": "MEMBER",
    "body": "This is the wrong place to propose EIPs. Please create a thread on [FEM](https://ethereum-magicians.org) to gather feedback, then submit a PR.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/EIPs/issues/comments/1507012393/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
