{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22453",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22453/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22453/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22453/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/22453",
  "id": 824053958,
  "node_id": "MDU6SXNzdWU4MjQwNTM5NTg=",
  "number": 22453,
  "title": "'tx iteration error' after upgrading to 1.10.0",
  "user": {
    "login": "adamkoch",
    "id": 869261,
    "node_id": "MDQ6VXNlcjg2OTI2MQ==",
    "avatar_url": "https://avatars.githubusercontent.com/u/869261?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/adamkoch",
    "html_url": "https://github.com/adamkoch",
    "followers_url": "https://api.github.com/users/adamkoch/followers",
    "following_url": "https://api.github.com/users/adamkoch/following{/other_user}",
    "gists_url": "https://api.github.com/users/adamkoch/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/adamkoch/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/adamkoch/subscriptions",
    "organizations_url": "https://api.github.com/users/adamkoch/orgs",
    "repos_url": "https://api.github.com/users/adamkoch/repos",
    "events_url": "https://api.github.com/users/adamkoch/events{/privacy}",
    "received_events_url": "https://api.github.com/users/adamkoch/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 72233650,
      "node_id": "MDU6TGFiZWw3MjIzMzY1MA==",
      "url": "https://api.github.com/repos/ethereum/go-ethereum/labels/type:bug",
      "name": "type:bug",
      "color": "FF5E5E",
      "default": false,
      "description": ""
    },
    {
      "id": 1132689577,
      "node_id": "MDU6TGFiZWwxMTMyNjg5NTc3",
      "url": "https://api.github.com/repos/ethereum/go-ethereum/labels/status:triage",
      "name": "status:triage",
      "color": "6be514",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 8,
  "created_at": "2021-03-07T23:35:29Z",
  "updated_at": "2021-12-14T19:24:15Z",
  "closed_at": "2021-04-08T08:30:10Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "#### System information\r\n\r\nGeth version: v1.9.25, upgrading to v1.10.0\r\nOS & Version: Linux (Ubuntu 20.04.2)\r\nUsing docker and docker-compose.\r\n\r\n#### Expected behaviour\r\nNo errors in logs and chain syncing fine\r\n\r\n#### Actual behaviour\r\nLots of repeated errors in logs, showing:\r\n```\r\ntx iteration error                       error=\"unexpected EOF\",\r\n```\r\n\r\n#### Steps to reproduce the behaviour\r\nNot sure, but in my case, using docker engine and upgrading from a fully sync'd 1.9.25 geth version to 1.10.0\r\n\r\n#### Logs\r\n```\r\nINFO [03-07|23:18:08.725] Unindexed transactions                   blocks=0 txs=0   tail=9644286 elapsed=\"692.231µs\",\r\nINFO [03-07|23:18:12.475] Aborting state snapshot generation       root=\"c3b625…8ad7e3\" at=\"003ca1…dcd450\" accounts=111699 slots=115478 storage=14.26MiB elapsed=1m26.492s   eta=25h56m44.563s,\r\nINFO [03-07|23:18:12.475] Resuming state snapshot generation       root=\"e8cc64…1e191c\" at=\"003ca1…dcd450\" accounts=111699 slots=115478 storage=14.26MiB elapsed=1m26.492s   eta=25h56m44.563s,\r\nINFO [03-07|23:18:12.483] Chain reorg detected                     number=11994284 hash=\"d733f7…fffc3e\" drop=1 dropfrom=\"a544f0…466d48\" add=2 addfrom=\"03ac81…23b944\",\r\nINFO [03-07|23:18:12.491] Imported new chain segment               blocks=1 txs=136 mgas=12.401 elapsed=231.060ms   mgasps=53.671  number=11994286 hash=\"03ac81…23b944\" dirty=34.56MiB,\r\nWARN [03-07|23:18:12.492] tx iteration error                       error=\"unexpected EOF\",\r\nWARN [03-07|23:18:12.492] tx iteration error                       error=\"unexpected EOF\",\r\nWARN [03-07|23:18:12.492] tx iteration error                       error=\"unexpected EOF\",\r\nWARN [03-07|23:18:12.492] tx iteration error                       error=\"unexpected EOF\",\r\nWARN [03-07|23:18:12.492] tx iteration error                       error=\"unexpected EOF\",\r\nWARN [03-07|23:18:12.492] tx iteration error                       error=\"unexpected EOF\",\r\nWARN [03-07|23:18:12.492] tx iteration error                       error=\"unexpected EOF\",\r\nWARN [03-07|23:18:12.492] tx iteration error                       error=\"unexpected EOF\",\r\nINFO [03-07|23:18:12.492] Unindexed transactions                   blocks=0 txs=0   tail=9644287 elapsed=1.469ms,\r\nINFO [03-07|23:18:12.806] Deep froze chain segment                 blocks=14 elapsed=55.320ms    number=11904286 hash=\"f10952…3d4c1e\",\r\nINFO [03-07|23:18:17.541] Looking for peers                        peercount=11 tried=5  static=0,\r\nINFO [03-07|23:18:23.440] Generating state snapshot                root=\"e8cc64…1e191c\" in=\"0042a5…807326\" at=\"06d932…74052e\" accounts=122849 slots=138896 storage=16.46MiB elapsed=1m37.457s   eta=26h35m35.461s,\r\nINFO [03-07|23:18:27.542] Looking for peers                        peercount=11 tried=4  static=0,\r\nINFO [03-07|23:18:31.742] Generating state snapshot                root=\"e8cc64…1e191c\" in=\"0042a5…807326\" at=\"0ee060…ae5ff7\" accounts=122849 slots=163055 storage=18.15MiB elapsed=1m45.758s   eta=28h51m29.744s,\r\nINFO [03-07|23:18:35.768] Aborting state snapshot generation       root=\"e8cc64…1e191c\" in=\"0042a5…807326\" at=\"1305ca…d03bb5\" accounts=122849 slots=175390 storage=19.01MiB elapsed=1m49.785s   eta=29h57m25.568s,\r\nINFO [03-07|23:18:35.769] Resuming state snapshot generation       root=\"7efc07…7eda3d\" in=\"0042a5…807326\" at=\"1305ca…d03bb5\" accounts=122849 slots=175390 storage=19.01MiB elapsed=1m49.785s   eta=29h57m25.568s,\r\nINFO [03-07|23:18:35.770] Imported new chain segment               blocks=1  txs=249 mgas=12.498 elapsed=265.570ms   mgasps=47.060  number=11994287 hash=\"b3fe18…30bc14\" dirty=36.39MiB,\r\nWARN [03-07|23:18:35.771] tx iteration error                       error=\"unexpected EOF\",\r\nWARN [03-07|23:18:35.771] tx iteration error                       error=\"unexpected EOF\",\r\nWARN [03-07|23:18:35.771] tx iteration error                       error=\"unexpected EOF\",\r\nWARN [03-07|23:18:35.771] tx iteration error                       error=\"unexpected EOF\",\r\nWARN [03-07|23:18:35.771] tx iteration error                       error=\"unexpected EOF\",\r\nWARN [03-07|23:18:35.771] tx iteration error                       error=\"unexpected EOF\",\r\nWARN [03-07|23:18:35.771] tx iteration error                       error=\"unexpected EOF\",\r\nWARN [03-07|23:18:35.771] tx iteration error                       error=\"unexpected EOF\",\r\n```",
  "closed_by": {
    "login": "ligi",
    "id": 111600,
    "node_id": "MDQ6VXNlcjExMTYwMA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/111600?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/ligi",
    "html_url": "https://github.com/ligi",
    "followers_url": "https://api.github.com/users/ligi/followers",
    "following_url": "https://api.github.com/users/ligi/following{/other_user}",
    "gists_url": "https://api.github.com/users/ligi/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/ligi/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/ligi/subscriptions",
    "organizations_url": "https://api.github.com/users/ligi/orgs",
    "repos_url": "https://api.github.com/users/ligi/repos",
    "events_url": "https://api.github.com/users/ligi/events{/privacy}",
    "received_events_url": "https://api.github.com/users/ligi/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22453/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22453/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/794589455",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/22453#issuecomment-794589455",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22453",
    "id": 794589455,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc5NDU4OTQ1NQ==",
    "user": {
      "login": "adamkoch",
      "id": 869261,
      "node_id": "MDQ6VXNlcjg2OTI2MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/869261?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/adamkoch",
      "html_url": "https://github.com/adamkoch",
      "followers_url": "https://api.github.com/users/adamkoch/followers",
      "following_url": "https://api.github.com/users/adamkoch/following{/other_user}",
      "gists_url": "https://api.github.com/users/adamkoch/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/adamkoch/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/adamkoch/subscriptions",
      "organizations_url": "https://api.github.com/users/adamkoch/orgs",
      "repos_url": "https://api.github.com/users/adamkoch/repos",
      "events_url": "https://api.github.com/users/adamkoch/events{/privacy}",
      "received_events_url": "https://api.github.com/users/adamkoch/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-03-09T23:16:25Z",
    "updated_at": "2021-03-09T23:16:25Z",
    "author_association": "NONE",
    "body": "Same issues when trying v1.10.1",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/794589455/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/801782419",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/22453#issuecomment-801782419",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22453",
    "id": 801782419,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgwMTc4MjQxOQ==",
    "user": {
      "login": "holiman",
      "id": 142290,
      "node_id": "MDQ6VXNlcjE0MjI5MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/142290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/holiman",
      "html_url": "https://github.com/holiman",
      "followers_url": "https://api.github.com/users/holiman/followers",
      "following_url": "https://api.github.com/users/holiman/following{/other_user}",
      "gists_url": "https://api.github.com/users/holiman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/holiman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/holiman/subscriptions",
      "organizations_url": "https://api.github.com/users/holiman/orgs",
      "repos_url": "https://api.github.com/users/holiman/repos",
      "events_url": "https://api.github.com/users/holiman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/holiman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-03-18T09:49:53Z",
    "updated_at": "2021-03-18T09:49:53Z",
    "author_association": "MEMBER",
    "body": "Can you do `eth.getBlockByNumber(9644287, true)` and `eth.getBlockByNumber(9644286, true)`?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/801782419/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/801811033",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/22453#issuecomment-801811033",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22453",
    "id": 801811033,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgwMTgxMTAzMw==",
    "user": {
      "login": "adamkoch",
      "id": 869261,
      "node_id": "MDQ6VXNlcjg2OTI2MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/869261?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/adamkoch",
      "html_url": "https://github.com/adamkoch",
      "followers_url": "https://api.github.com/users/adamkoch/followers",
      "following_url": "https://api.github.com/users/adamkoch/following{/other_user}",
      "gists_url": "https://api.github.com/users/adamkoch/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/adamkoch/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/adamkoch/subscriptions",
      "organizations_url": "https://api.github.com/users/adamkoch/orgs",
      "repos_url": "https://api.github.com/users/adamkoch/repos",
      "events_url": "https://api.github.com/users/adamkoch/events{/privacy}",
      "received_events_url": "https://api.github.com/users/adamkoch/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-03-18T10:33:30Z",
    "updated_at": "2021-03-18T10:33:30Z",
    "author_association": "NONE",
    "body": "I have downgraded my geth back to v1.9.25 for now to keep it running. But I can upgrade it again if needed.\r\n\r\nBut I'm not sure how to run those commands as I run geth from a docker container. Any pointers to docs?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/801811033/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/803862690",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/22453#issuecomment-803862690",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22453",
    "id": 803862690,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgwMzg2MjY5MA==",
    "user": {
      "login": "adamkoch",
      "id": 869261,
      "node_id": "MDQ6VXNlcjg2OTI2MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/869261?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/adamkoch",
      "html_url": "https://github.com/adamkoch",
      "followers_url": "https://api.github.com/users/adamkoch/followers",
      "following_url": "https://api.github.com/users/adamkoch/following{/other_user}",
      "gists_url": "https://api.github.com/users/adamkoch/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/adamkoch/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/adamkoch/subscriptions",
      "organizations_url": "https://api.github.com/users/adamkoch/orgs",
      "repos_url": "https://api.github.com/users/adamkoch/repos",
      "events_url": "https://api.github.com/users/adamkoch/events{/privacy}",
      "received_events_url": "https://api.github.com/users/adamkoch/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-03-22T08:20:34Z",
    "updated_at": "2021-03-22T08:20:34Z",
    "author_association": "NONE",
    "body": "I tried upgrading to '[latest](https://hub.docker.com/layers/ethereum/client-go/latest/images/sha256-be275dce54073d4a66f08dd5279b9e7fbcc3df50b1ecdd29b459aa7241357363?context=explore)' in docker hub as I saw it contained the [change](https://github.com/ethereum/go-ethereum/pull/22457) from above.\r\n\r\nThe errors changed but it still doesn't seem to be working:\r\n```\r\nINFO [03-22|08:08:27.877] Unindexed transactions                   blocks=0 txs=0   tail=9737441 elapsed=1.698ms\r\nINFO [03-22|08:08:34.804] Generating state snapshot                root=\"3d34a9…6caecb\" in=\"002afd…0ebda1\" at=\"6c722c…57985f\" accounts=80725 slots=70241 storage=8.85MiB   elapsed=1m17.898s   eta=32h57m51.704s\r\nWARN [03-22|08:08:37.297] Checkpoint challenge timed out, dropping id=cf34821586f4db46 conn=dyndial addr=47.107.113.245:30303 type=Geth/v1.9.24-stable-...\r\nERROR[03-22|08:08:37.297] Ethereum peer removal failed             peer=cf348215 err=\"peer not registered\"\r\nINFO [03-22|08:08:43.461] Generating state snapshot                root=\"3d34a9…6caecb\" in=\"002fe4…5fc15e\" at=\"217cbe…fe4520\" accounts=89911 slots=84147 storage=10.39MiB  elapsed=1m26.554s   eta=32h52m36.534s\r\nINFO [03-22|08:08:51.607] Generating state snapshot                root=\"3d34a9…6caecb\" in=\"002fe4…5fc15e\" at=\"df44b0…1c45c8\" accounts=89911 slots=105899 storage=12.42MiB  elapsed=1m34.700s   eta=35h58m15.49s\r\nINFO [03-22|08:08:58.360] Imported new chain segment               blocks=1 txs=193 mgas=12.526 elapsed=541.784ms   mgasps=23.120  number=12087441 hash=\"3c07ed…70ac97\" dirty=13.27MiB\r\nWARN [03-22|08:08:58.360] Failed to decode block body              block=1 error=EOF\r\nWARN [03-22|08:08:58.360] Failed to decode block body              block=2 error=EOF\r\nWARN [03-22|08:08:58.360] Failed to decode block body              block=3 error=EOF\r\nWARN [03-22|08:08:58.360] Failed to decode block body              block=4 error=EOF\r\nWARN [03-22|08:08:58.360] Failed to decode block body              block=5 error=EOF\r\nWARN [03-22|08:08:58.360] Failed to decode block body              block=6 error=EOF\r\nWARN [03-22|08:08:58.361] Failed to decode block body              block=8 error=EOF\r\nWARN [03-22|08:08:58.361] Failed to decode block body              block=7 error=EOF\r\nINFO [03-22|08:08:58.361] Unindexed transactions                   blocks=0 txs=0   tail=9737442 elapsed=\"839.685µs\"\r\nINFO [03-22|08:08:59.470] Imported new chain segment               blocks=1 txs=189 mgas=12.507 elapsed=85.701ms    mgasps=145.940 number=12087441 hash=\"3a78ce…d5d436\" dirty=15.01MiB\r\nINFO [03-22|08:08:59.623] Generating state snapshot                root=\"3d34a9…6caecb\" at=\"003878…fab8aa\" accounts=105840 slots=114269 storage=13.88MiB  elapsed=1m42.717s   eta=33h5m7.634s\r\nINFO [03-22|08:09:00.706] Aborting state snapshot generation       root=\"3d34a9…6caecb\" at=\"0039e2…47811d\" accounts=108468 slots=114893 storage=14.05MiB  elapsed=1m43.799s   eta=32h37m0.28s\r\nINFO [03-22|08:09:00.706] Resuming state snapshot generation       root=\"a81f42…bce9b8\" at=\"0039e2…47811d\" accounts=108468 slots=114893 storage=14.05MiB  elapsed=1m43.799s   eta=32h37m0.28s\r\nINFO [03-22|08:09:00.709] Chain reorg detected                     number=12087440 hash=\"0cc476…f1ee9d\" drop=1 dropfrom=\"3c07ed…70ac97\" add=2 addfrom=\"fb6fae…b67b17\"\r\n```\r\n\r\nI decided to just clear my geth data dir and let it re-sync the chain again. I went back to stable (v1.10.1) and it seems to be sync'ing fine after clearing my geth data.\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/803862690/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/811760417",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/22453#issuecomment-811760417",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22453",
    "id": 811760417,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgxMTc2MDQxNw==",
    "user": {
      "login": "ligi",
      "id": 111600,
      "node_id": "MDQ6VXNlcjExMTYwMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/111600?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ligi",
      "html_url": "https://github.com/ligi",
      "followers_url": "https://api.github.com/users/ligi/followers",
      "following_url": "https://api.github.com/users/ligi/following{/other_user}",
      "gists_url": "https://api.github.com/users/ligi/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ligi/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ligi/subscriptions",
      "organizations_url": "https://api.github.com/users/ligi/orgs",
      "repos_url": "https://api.github.com/users/ligi/repos",
      "events_url": "https://api.github.com/users/ligi/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ligi/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-04-01T08:54:22Z",
    "updated_at": "2021-04-01T08:54:22Z",
    "author_association": "MEMBER",
    "body": "Can you provide logs that go a bit more into the history - this could give us some more context to look into the problem.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/811760417/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/811763613",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/22453#issuecomment-811763613",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22453",
    "id": 811763613,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgxMTc2MzYxMw==",
    "user": {
      "login": "karalabe",
      "id": 129561,
      "node_id": "MDQ6VXNlcjEyOTU2MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/karalabe",
      "html_url": "https://github.com/karalabe",
      "followers_url": "https://api.github.com/users/karalabe/followers",
      "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
      "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
      "organizations_url": "https://api.github.com/users/karalabe/orgs",
      "repos_url": "https://api.github.com/users/karalabe/repos",
      "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/karalabe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-04-01T08:59:19Z",
    "updated_at": "2021-04-01T08:59:19Z",
    "author_association": "MEMBER",
    "body": "One wild guess is that your data files in the ancient folder got empty somehow, but no idea how that could have happened. Any ideas?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/811763613/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/811785136",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/22453#issuecomment-811785136",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22453",
    "id": 811785136,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgxMTc4NTEzNg==",
    "user": {
      "login": "adamkoch",
      "id": 869261,
      "node_id": "MDQ6VXNlcjg2OTI2MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/869261?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/adamkoch",
      "html_url": "https://github.com/adamkoch",
      "followers_url": "https://api.github.com/users/adamkoch/followers",
      "following_url": "https://api.github.com/users/adamkoch/following{/other_user}",
      "gists_url": "https://api.github.com/users/adamkoch/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/adamkoch/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/adamkoch/subscriptions",
      "organizations_url": "https://api.github.com/users/adamkoch/orgs",
      "repos_url": "https://api.github.com/users/adamkoch/repos",
      "events_url": "https://api.github.com/users/adamkoch/events{/privacy}",
      "received_events_url": "https://api.github.com/users/adamkoch/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-04-01T09:34:59Z",
    "updated_at": "2021-04-01T09:34:59Z",
    "author_association": "NONE",
    "body": "My Geth is no longer stuck as I decided to just clear all data and let it re-sync from scratch which worked fine. For others that may run into this, that is probably your best bet.\r\n\r\nIn terms of history, there was nothing particularly interesting about my install:\r\n - I run in Docker on Ubuntu 20.04.2\r\n - It had been running smoothly for several months\r\n - When I saw the new release I tried upgrading by updating the version and recreating the container, when I saw the errors I downgraded again, recreated the container and all was well\r\n\r\nHere is my docker-compose in case anything stands out:\r\n```\r\n  geth:\r\n    image: ethereum/client-go:${GETH_DOCKER_TAG}\r\n    container_name: geth\r\n    restart: always\r\n    hostname: geth\r\n    command: --http --http.port=8545 --http.addr=0.0.0.0 --http.vhosts=\"*\" --allow-insecure-unlock --http.api=\"eth,net,web3,personal\" --nousb --maxpeers 15 --nat none\r\n    stop_grace_period: 1m\r\n    ports:\r\n      - 30303:30303/tcp # P2P port (external)\r\n      - 30303:30303/udp # P2P port (external)\r\n    expose:\r\n      - 8545 # RPC\r\n    volumes:\r\n      - ./data/geth:/root/.ethereum\r\n```\r\n\r\nYou are welcome to close this issue if I was the only one who ran into this as I'm all set now.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/811785136/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/922522871",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/22453#issuecomment-922522871",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22453",
    "id": 922522871,
    "node_id": "IC_kwDOAOvK9842_JT3",
    "user": {
      "login": "Gtlng",
      "id": 44299046,
      "node_id": "MDQ6VXNlcjQ0Mjk5MDQ2",
      "avatar_url": "https://avatars.githubusercontent.com/u/44299046?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Gtlng",
      "html_url": "https://github.com/Gtlng",
      "followers_url": "https://api.github.com/users/Gtlng/followers",
      "following_url": "https://api.github.com/users/Gtlng/following{/other_user}",
      "gists_url": "https://api.github.com/users/Gtlng/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Gtlng/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Gtlng/subscriptions",
      "organizations_url": "https://api.github.com/users/Gtlng/orgs",
      "repos_url": "https://api.github.com/users/Gtlng/repos",
      "events_url": "https://api.github.com/users/Gtlng/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Gtlng/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-09-19T19:18:53Z",
    "updated_at": "2021-12-14T19:24:15Z",
    "author_association": "NONE",
    "body": "I just noticed that I have a similar problem with my geth installation. \r\n\r\n- Geth version: v1.10.8\r\n- Linux (Ubuntu 20.04.3 LTS)\r\n- I'm not using docker.\r\n\r\nThe blockchain is still in sync, but I get four warnings after each import of a new chain segment: \r\n```\r\nINFO [09-19|20:57:41.578] Unindexed transactions                   blocks=0  txs=0    tail=10,907,911 elapsed=1.673s\r\nINFO [09-19|20:58:01.638] Imported new chain segment               blocks=1  txs=284  mgas=25.379  elapsed=229.241ms mgasps=110.707 number=13,257,911 hash=f8bce9..fe1763 dirty=765.36MiB\r\nWARN [09-19|20:58:02.133] Failed to decode block body              block=10,856,652 error=EOF\r\nWARN [09-19|20:58:02.365] Failed to decode block body              block=10,856,653 error=EOF\r\nWARN [09-19|20:58:02.841] Failed to decode block body              block=10,856,655 error=EOF\r\nWARN [09-19|20:58:03.301] Failed to decode block body              block=10,856,658 error=EOF\r\nINFO [09-19|20:58:03.301] Unindexed transactions                   blocks=0  txs=0    tail=10,907,912 elapsed=1.660s\r\nINFO [09-19|20:58:04.368] Deep froze chain segment                 blocks=9  elapsed=39.724ms  number=13,167,911 hash=f25a0e..b09c61\r\nINFO [09-19|20:58:15.361] Imported new chain segment               blocks=1  txs=233  mgas=21.338  elapsed=268.938ms mgasps=79.341  number=13,257,912 hash=d5d4d7..9f7693 dirty=767.83MiB\r\nWARN [09-19|20:58:15.814] Failed to decode block body              block=10,856,652 error=EOF\r\nWARN [09-19|20:58:16.046] Failed to decode block body              block=10,856,653 error=EOF\r\nWARN [09-19|20:58:16.509] Failed to decode block body              block=10,856,655 error=EOF\r\nWARN [09-19|20:58:16.969] Failed to decode block body              block=10,856,658 error=EOF\r\nINFO [09-19|20:58:16.969] Unindexed transactions                   blocks=0  txs=0    tail=10,907,913 elapsed=1.608s\r\nINFO [09-19|20:58:49.848] Imported new chain segment               blocks=1  txs=411  mgas=29.999  elapsed=359.625ms mgasps=83.417  number=13,257,913 hash=1d9ede..83f020 dirty=767.56MiB\r\nWARN [09-19|20:58:50.325] Failed to decode block body              block=10,856,652 error=EOF\r\nWARN [09-19|20:58:50.561] Failed to decode block body              block=10,856,653 error=EOF\r\nWARN [09-19|20:58:51.029] Failed to decode block body              block=10,856,655 error=EOF\r\nWARN [09-19|20:58:51.513] Failed to decode block body              block=10,856,658 error=EOF\r\nINFO [09-19|20:58:51.513] Unindexed transactions                   blocks=0  txs=0    tail=10,907,914 elapsed=1.664s\r\nINFO [09-19|20:58:59.973] Imported new chain segment               blocks=1  txs=224  mgas=29.952  elapsed=331.848ms mgasps=90.258  number=13,257,914 hash=547127..197db9 dirty=765.57MiB\r\nWARN [09-19|20:59:00.449] Failed to decode block body              block=10,856,652 error=EOF\r\nWARN [09-19|20:59:00.681] Failed to decode block body              block=10,856,653 error=EOF\r\nWARN [09-19|20:59:01.154] Failed to decode block body              block=10,856,655 error=EOF\r\nWARN [09-19|20:59:01.629] Failed to decode block body              block=10,856,658 error=EOF\r\nINFO [09-19|20:59:01.630] Unindexed transactions                   blocks=0  txs=0    tail=10,907,915 elapsed=1.656s\r\nINFO [09-19|20:59:04.417] Deep froze chain segment                 blocks=3  elapsed=42.632ms  number=13,167,914 hash=f8c68b..f4a749\r\n```\r\nUnfortunately, I can't say for sure when the problem started, but I didn't notice it when using previous versions of geth.\r\n\r\nHow serious are these warnings? Is there any way to fix it other than resyncing the entire blockchain?\r\n\r\nAddendum: The errors I described were (in my case) the first signs of a dying SSD.  Two months later, the geth database was completely corrupted and the SSD showed a lot of read failures.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/922522871/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
