{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15404",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15404/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15404/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15404/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/15404",
  "id": 269667544,
  "node_id": "MDU6SXNzdWUyNjk2Njc1NDQ=",
  "number": 15404,
  "title": "`eth_getLogs` and other filter APIs not returning expected log entries.",
  "user": {
    "login": "pipermerriam",
    "id": 824194,
    "node_id": "MDQ6VXNlcjgyNDE5NA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/824194?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/pipermerriam",
    "html_url": "https://github.com/pipermerriam",
    "followers_url": "https://api.github.com/users/pipermerriam/followers",
    "following_url": "https://api.github.com/users/pipermerriam/following{/other_user}",
    "gists_url": "https://api.github.com/users/pipermerriam/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/pipermerriam/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/pipermerriam/subscriptions",
    "organizations_url": "https://api.github.com/users/pipermerriam/orgs",
    "repos_url": "https://api.github.com/users/pipermerriam/repos",
    "events_url": "https://api.github.com/users/pipermerriam/events{/privacy}",
    "received_events_url": "https://api.github.com/users/pipermerriam/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 3,
  "created_at": "2017-10-30T16:33:41Z",
  "updated_at": "2017-11-15T12:38:27Z",
  "closed_at": "2017-11-15T12:37:53Z",
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": "#### System information\r\n\r\nGeth version: `Geth/v1.7.2-stable-1db4ecdc/darwin-amd64/go1.9.1`\r\nOS & Version: OSX\r\n\r\n#### Expected behaviour\r\n\r\nIssue request over JSON RPC to `eth_getLogs` with params \r\n\r\n```\r\n[{'address': '0x6090a6e47849629b7245dfa1ca21d94cd15878ef',\r\n 'fromBlock': '0x3cfe4c',\r\n 'toBlock': '0x3cfe56',\r\n 'topics': ['0x0f0c27adfd84b60b6f456b0e87cdccb1e5fb9603991588d87fa99f5b6b61e670']}]\r\n```\r\n\r\nExpect to get the following log entry back (from https://etherscan.io/tx/0x05712456eca3acb77a524960757240088af05f0ddb2a4fb2a7cd6d8fb2a8880f).\r\n\r\n```\r\n[{'address': '0x6090a6e47849629b7245dfa1ca21d94cd15878ef',\r\n  'blockHash': '0x3f4d8282bcdd2d2637ada6693ac8f2df498475223c2626ca33a16eb56f74e2e0',\r\n  'blockNumber': '0x3cfe50',\r\n  'data': '0x000000000000000000000000000000000000000000000000002386f26fc10000000000000000000000000000000000000000000000000000000000005961c025',\r\n  'logIndex': '0x1d',\r\n  'removed': False,\r\n  'topics': ['0x0f0c27adfd84b60b6f456b0e87cdccb1e5fb9603991588d87fa99f5b6b61e670',\r\n   '0x4981ae698e550a328ba9008e83467cf24b3ab26163ae47bad5d0d109a717fc45',\r\n   '0x0000000000000000000000003fb14ab42b18736fc4b3ec9f88b80fe5829527fb'],\r\n  'transactionHash': '0x05712456eca3acb77a524960757240088af05f0ddb2a4fb2a7cd6d8fb2a8880f',\r\n  'transactionIndex': '0x1f'},\r\n {'address': '0x6090a6e47849629b7245dfa1ca21d94cd15878ef',\r\n  'blockHash': '0x3f4d8282bcdd2d2637ada6693ac8f2df498475223c2626ca33a16eb56f74e2e0',\r\n  'blockNumber': '0x3cfe50',\r\n  'data': '0x000000000000000000000000000000000000000000000000002386f26fc10000000000000000000000000000000000000000000000000000000000005948d62a',\r\n  'logIndex': '0x20',\r\n  'removed': False,\r\n  'topics': ['0x0f0c27adfd84b60b6f456b0e87cdccb1e5fb9603991588d87fa99f5b6b61e670',\r\n   '0x7d4646bbc88eccd949cb3aeed6da58f399c61f33beaa210d19dc535f2485801a',\r\n   '0x00000000000000000000000022786eb851d2172bbf8145e0f9a31d217ef19521'],\r\n  'transactionHash': '0x085805dcf58263e9b3f78dfcb3fcfc2fdabd664a40040bf0d40870e846d5f57c',\r\n  'transactionIndex': '0x22'}]\r\n```\r\n\r\n#### Actual behaviour\r\n\r\nInstead of getting the expected log entry, I get back an empty list.\r\n\r\nIf instead, I change the filter params to be:\r\n\r\n```\r\n{'address': '0x6090a6e47849629b7245dfa1ca21d94cd15878ef',\r\n 'fromBlock': '0x3cfe50',\r\n 'toBlock': '0x3cfe50',\r\n 'topics': ['0x0f0c27adfd84b60b6f456b0e87cdccb1e5fb9603991588d87fa99f5b6b61e670']}\r\n```\r\n\r\nThen I get back the expected log entry.",
  "closed_by": {
    "login": "karalabe",
    "id": 129561,
    "node_id": "MDQ6VXNlcjEyOTU2MQ==",
    "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/karalabe",
    "html_url": "https://github.com/karalabe",
    "followers_url": "https://api.github.com/users/karalabe/followers",
    "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
    "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
    "organizations_url": "https://api.github.com/users/karalabe/orgs",
    "repos_url": "https://api.github.com/users/karalabe/repos",
    "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
    "received_events_url": "https://api.github.com/users/karalabe/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15404/reactions",
    "total_count": 4,
    "+1": 4,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15404/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/340903692",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/15404#issuecomment-340903692",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15404",
    "id": 340903692,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0MDkwMzY5Mg==",
    "user": {
      "login": "vijayendrabvs",
      "id": 1093825,
      "node_id": "MDQ6VXNlcjEwOTM4MjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1093825?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vijayendrabvs",
      "html_url": "https://github.com/vijayendrabvs",
      "followers_url": "https://api.github.com/users/vijayendrabvs/followers",
      "following_url": "https://api.github.com/users/vijayendrabvs/following{/other_user}",
      "gists_url": "https://api.github.com/users/vijayendrabvs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vijayendrabvs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vijayendrabvs/subscriptions",
      "organizations_url": "https://api.github.com/users/vijayendrabvs/orgs",
      "repos_url": "https://api.github.com/users/vijayendrabvs/repos",
      "events_url": "https://api.github.com/users/vijayendrabvs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vijayendrabvs/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-10-31T20:54:40Z",
    "updated_at": "2017-10-31T20:54:40Z",
    "author_association": "NONE",
    "body": "Looks like this may be related to https://github.com/ethereum/go-ethereum/issues/15359 . I'm new here, but can start off by taking this up if no one else is working on it.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/340903692/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/344579967",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/15404#issuecomment-344579967",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15404",
    "id": 344579967,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0NDU3OTk2Nw==",
    "user": {
      "login": "karalabe",
      "id": 129561,
      "node_id": "MDQ6VXNlcjEyOTU2MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/karalabe",
      "html_url": "https://github.com/karalabe",
      "followers_url": "https://api.github.com/users/karalabe/followers",
      "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
      "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
      "organizations_url": "https://api.github.com/users/karalabe/orgs",
      "repos_url": "https://api.github.com/users/karalabe/repos",
      "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/karalabe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-11-15T12:37:53Z",
    "updated_at": "2017-11-15T12:37:53Z",
    "author_association": "MEMBER",
    "body": "This issue is a duplicate of https://github.com/ethereum/go-ethereum/issues/15309, and is fixed by https://github.com/ethereum/go-ethereum/pull/15489 . It's merged on master and will roll out into a stable release on Monday.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/344579967/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/344580086",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/15404#issuecomment-344580086",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15404",
    "id": 344580086,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0NDU4MDA4Ng==",
    "user": {
      "login": "karalabe",
      "id": 129561,
      "node_id": "MDQ6VXNlcjEyOTU2MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/karalabe",
      "html_url": "https://github.com/karalabe",
      "followers_url": "https://api.github.com/users/karalabe/followers",
      "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
      "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
      "organizations_url": "https://api.github.com/users/karalabe/orgs",
      "repos_url": "https://api.github.com/users/karalabe/repos",
      "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/karalabe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-11-15T12:38:27Z",
    "updated_at": "2017-11-15T12:38:27Z",
    "author_association": "MEMBER",
    "body": "@pipermerriam Perhaps try to see if latest master does indeed fix it?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/344580086/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
