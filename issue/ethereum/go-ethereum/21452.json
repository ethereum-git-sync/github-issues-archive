{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/21452",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/21452/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/21452/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/21452/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/21452",
  "id": 679530814,
  "node_id": "MDU6SXNzdWU2Nzk1MzA4MTQ=",
  "number": 21452,
  "title": "Geth doesnt respect --maxpeers 250",
  "user": {
    "login": "Gdocal",
    "id": 11136265,
    "node_id": "MDQ6VXNlcjExMTM2MjY1",
    "avatar_url": "https://avatars.githubusercontent.com/u/11136265?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/Gdocal",
    "html_url": "https://github.com/Gdocal",
    "followers_url": "https://api.github.com/users/Gdocal/followers",
    "following_url": "https://api.github.com/users/Gdocal/following{/other_user}",
    "gists_url": "https://api.github.com/users/Gdocal/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/Gdocal/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/Gdocal/subscriptions",
    "organizations_url": "https://api.github.com/users/Gdocal/orgs",
    "repos_url": "https://api.github.com/users/Gdocal/repos",
    "events_url": "https://api.github.com/users/Gdocal/events{/privacy}",
    "received_events_url": "https://api.github.com/users/Gdocal/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2020-08-15T09:08:16Z",
  "updated_at": "2020-08-18T09:54:07Z",
  "closed_at": "2020-08-18T09:54:07Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "Hi.\r\nHere is my command line to start geth\r\n\"c:\\Program Files\\Geth\\geth\" --ws --wsport \"8080\" --wsorigins  \"*\" --wsapi  \"db,eth,net,web3,admin\" --syncmode fast --rpc --cache 8192 --txpool.globalslots 50000 --datadir.ancient \"D:\\gethdata\\ancient\" -http --http.port 8081 --maxpeers 250\r\n\r\nI want to connect to as many nodes as possible. But my node never had more than 82 peers. \r\nWhat else I should check to force the node to respect my maxpeers settings.\r\n\r\nI have static IP, but my node behind a router (Mikrotik), no port forwarding configured. \r\nGeth process now uses 11789 MB of RAM.\r\nI have 100 Mbps internet connection speed, Windows 10 task manager says that I Send: 10 Mbps and Receive 15Mbps\r\n",
  "closed_by": {
    "login": "karalabe",
    "id": 129561,
    "node_id": "MDQ6VXNlcjEyOTU2MQ==",
    "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/karalabe",
    "html_url": "https://github.com/karalabe",
    "followers_url": "https://api.github.com/users/karalabe/followers",
    "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
    "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
    "organizations_url": "https://api.github.com/users/karalabe/orgs",
    "repos_url": "https://api.github.com/users/karalabe/repos",
    "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
    "received_events_url": "https://api.github.com/users/karalabe/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/21452/reactions",
    "total_count": 1,
    "+1": 1,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/21452/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/674815697",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/21452#issuecomment-674815697",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/21452",
    "id": 674815697,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY3NDgxNTY5Nw==",
    "user": {
      "login": "karalabe",
      "id": 129561,
      "node_id": "MDQ6VXNlcjEyOTU2MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/karalabe",
      "html_url": "https://github.com/karalabe",
      "followers_url": "https://api.github.com/users/karalabe/followers",
      "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
      "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
      "organizations_url": "https://api.github.com/users/karalabe/orgs",
      "repos_url": "https://api.github.com/users/karalabe/repos",
      "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/karalabe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-08-17T11:04:00Z",
    "updated_at": "2020-08-17T11:04:00Z",
    "author_association": "MEMBER",
    "body": "If you are blocking inbound connections (no port forward), then your node can only ever connect to other node that accept themselves inbound connects and also have free slots. Since more people are like you (we have 1500 publicly routed nodes vs. 9000 total nodes), there's a slot burden on the public nodes. \r\n\r\nAs for network bandwidth, depends on what you are doing currently. Fast sync is heavy on the local disk too and heavy on latency, but light on bandwidth. We'll have a better version out later this year that is light on the disk and latency so it can use bandwidth better.\r\n\r\nSo, your node seems to work ok-ish, if you want more peers, you'll need to sort out port forwarding.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/674815697/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/674954487",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/21452#issuecomment-674954487",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/21452",
    "id": 674954487,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY3NDk1NDQ4Nw==",
    "user": {
      "login": "Gdocal",
      "id": 11136265,
      "node_id": "MDQ6VXNlcjExMTM2MjY1",
      "avatar_url": "https://avatars.githubusercontent.com/u/11136265?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Gdocal",
      "html_url": "https://github.com/Gdocal",
      "followers_url": "https://api.github.com/users/Gdocal/followers",
      "following_url": "https://api.github.com/users/Gdocal/following{/other_user}",
      "gists_url": "https://api.github.com/users/Gdocal/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Gdocal/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Gdocal/subscriptions",
      "organizations_url": "https://api.github.com/users/Gdocal/orgs",
      "repos_url": "https://api.github.com/users/Gdocal/repos",
      "events_url": "https://api.github.com/users/Gdocal/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Gdocal/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-08-17T15:38:33Z",
    "updated_at": "2020-08-17T15:38:33Z",
    "author_association": "NONE",
    "body": "> If you are blocking inbound connections (no port forward), then your node can only ever connect to other node that accept themselves inbound connects and also have free slots. Since more people are like you (we have 1500 publicly routed nodes vs. 9000 total nodes), there's a slot burden on the public nodes.\r\n> \r\n> As for network bandwidth, depends on what you are doing currently. Fast sync is heavy on the local disk too and heavy on latency, but light on bandwidth. We'll have a better version out later this year that is light on the disk and latency so it can use bandwidth better.\r\n> \r\n> So, your node seems to work ok-ish, if you want more peers, you'll need to sort out port forwarding.\r\n\r\nthank you for your answer. After I setup port forwarding I see that more peers get connected to my node. ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/674954487/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
