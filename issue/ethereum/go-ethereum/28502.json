{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/28502",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/28502/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/28502/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/28502/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/28502",
  "id": 1985573460,
  "node_id": "I_kwDOAOvK9852WXJU",
  "number": 28502,
  "title": "get \"already known\" error when sending several transactions simultaneously",
  "user": {
    "login": "lpx-single",
    "id": 75900633,
    "node_id": "MDQ6VXNlcjc1OTAwNjMz",
    "avatar_url": "https://avatars.githubusercontent.com/u/75900633?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/lpx-single",
    "html_url": "https://github.com/lpx-single",
    "followers_url": "https://api.github.com/users/lpx-single/followers",
    "following_url": "https://api.github.com/users/lpx-single/following{/other_user}",
    "gists_url": "https://api.github.com/users/lpx-single/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/lpx-single/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/lpx-single/subscriptions",
    "organizations_url": "https://api.github.com/users/lpx-single/orgs",
    "repos_url": "https://api.github.com/users/lpx-single/repos",
    "events_url": "https://api.github.com/users/lpx-single/events{/privacy}",
    "received_events_url": "https://api.github.com/users/lpx-single/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 72233650,
      "node_id": "MDU6TGFiZWw3MjIzMzY1MA==",
      "url": "https://api.github.com/repos/ethereum/go-ethereum/labels/type:bug",
      "name": "type:bug",
      "color": "FF5E5E",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 1,
  "created_at": "2023-11-09T12:59:56Z",
  "updated_at": "2023-12-04T07:51:11Z",
  "closed_at": "2023-12-04T07:51:11Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "#### System information\r\n\r\nGeth\r\nVersion: 1.13.4-stable\r\nGit Commit: 3f907d6a6f6de09cff1360ed529126765939851d\r\nArchitecture: amd64\r\nGo Version: go1.21.3\r\nOperating System: linux\r\nGOPATH=\r\nGOROOT=\r\n\r\n\r\n#### behaviour\r\nI have built up a private Clique network containing two nodes(PCA and PCB). The nodes are connected and can make transactions with each other. However, when I try to send several transactions simultaneously like this,\r\n```for (let i = 0; i < 10000; ++i) {```\r\n```      eth.sendTransaction({```\r\n```      from: eth.accounts[0],```\r\n```      to: eth.accounts[1],```\r\n```      value: 10000})```\r\n```      for (let j = 0; j < 100000; ++j) {```\r\n```      }```\r\n```}```\r\n\r\n I usually get the following error:\r\n```Error: already known```\r\n```at web3.js.6365:9(39)```\r\n```at send (web3.js:5099:62(29))```\r\n```at <eval>:2:20(22)```\r\n\r\nIs it mean I am sending transactions too frequently? Can I do something to avoid the error?\r\n\r\n\r\n",
  "closed_by": {
    "login": "holiman",
    "id": 142290,
    "node_id": "MDQ6VXNlcjE0MjI5MA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/142290?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/holiman",
    "html_url": "https://github.com/holiman",
    "followers_url": "https://api.github.com/users/holiman/followers",
    "following_url": "https://api.github.com/users/holiman/following{/other_user}",
    "gists_url": "https://api.github.com/users/holiman/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/holiman/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/holiman/subscriptions",
    "organizations_url": "https://api.github.com/users/holiman/orgs",
    "repos_url": "https://api.github.com/users/holiman/repos",
    "events_url": "https://api.github.com/users/holiman/events{/privacy}",
    "received_events_url": "https://api.github.com/users/holiman/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/28502/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/28502/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1838006397",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/28502#issuecomment-1838006397",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/28502",
    "id": 1838006397,
    "node_id": "IC_kwDOAOvK985tjcB9",
    "user": {
      "login": "holiman",
      "id": 142290,
      "node_id": "MDQ6VXNlcjE0MjI5MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/142290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/holiman",
      "html_url": "https://github.com/holiman",
      "followers_url": "https://api.github.com/users/holiman/followers",
      "following_url": "https://api.github.com/users/holiman/following{/other_user}",
      "gists_url": "https://api.github.com/users/holiman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/holiman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/holiman/subscriptions",
      "organizations_url": "https://api.github.com/users/holiman/orgs",
      "repos_url": "https://api.github.com/users/holiman/repos",
      "events_url": "https://api.github.com/users/holiman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/holiman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-12-04T07:51:11Z",
    "updated_at": "2023-12-04T07:51:11Z",
    "author_association": "MEMBER",
    "body": "Firstly, if you send massive amounts of transactions, then you should track nonce yourself. As in, you should include `nonce: nonce` and increase it between each attempt. Otherwise you're bound to wind up with nonce-reuse, a.k.a `already known`. \r\n\r\n\r\nSecondly, if you send massive amounts of transactions, there's a high likelihood that only your local node will retain them (marking them as 'local'), but that other nodes on the network will drop them, because of certain limits to avoid dos and spam. You might be better served by portioning them out with more delays. ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1838006397/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
