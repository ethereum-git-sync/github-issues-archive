{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/17961",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/17961/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/17961/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/17961/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/17961",
  "id": 372914835,
  "node_id": "MDU6SXNzdWUzNzI5MTQ4MzU=",
  "number": 17961,
  "title": "Feature Request: Estimate multiple transactions with one call in same context",
  "user": {
    "login": "arthurlataks",
    "id": 1751652,
    "node_id": "MDQ6VXNlcjE3NTE2NTI=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1751652?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/arthurlataks",
    "html_url": "https://github.com/arthurlataks",
    "followers_url": "https://api.github.com/users/arthurlataks/followers",
    "following_url": "https://api.github.com/users/arthurlataks/following{/other_user}",
    "gists_url": "https://api.github.com/users/arthurlataks/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/arthurlataks/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/arthurlataks/subscriptions",
    "organizations_url": "https://api.github.com/users/arthurlataks/orgs",
    "repos_url": "https://api.github.com/users/arthurlataks/repos",
    "events_url": "https://api.github.com/users/arthurlataks/events{/privacy}",
    "received_events_url": "https://api.github.com/users/arthurlataks/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 856638432,
      "node_id": "MDU6TGFiZWw4NTY2Mzg0MzI=",
      "url": "https://api.github.com/repos/ethereum/go-ethereum/labels/status:inactive",
      "name": "status:inactive",
      "color": "ffffff",
      "default": false,
      "description": null
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 1,
  "created_at": "2018-10-23T10:00:42Z",
  "updated_at": "2019-12-05T11:30:49Z",
  "closed_at": "2019-12-05T11:30:49Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "Hello,\r\n\r\ncurrently there is a way to estimate single transaction gas cost, which works good. But in some cases (for example ERC20 tokens, approve scenario) there is a need to estimate multiple transactions in the same context (aka without `approve` TX discarded) otherwise what happens - `buy` TX is being estimated only until that part where it is impossible to continue without approved allowance, and then in irl case allowance is set and code is continues executing (below above mentioned point) thus spending more gas than was estimated and then it runs out of gas :|\r\n\r\n#### System information\r\n\r\nGeth version: `Version: 1.8.12-stable`\r\nOS & Version: `Linux (4.9.93-linuxkit-aufs)`\r\n",
  "closed_by": {
    "login": "stale[bot]",
    "id": 26384082,
    "node_id": "MDM6Qm90MjYzODQwODI=",
    "avatar_url": "https://avatars.githubusercontent.com/in/1724?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/stale%5Bbot%5D",
    "html_url": "https://github.com/apps/stale",
    "followers_url": "https://api.github.com/users/stale%5Bbot%5D/followers",
    "following_url": "https://api.github.com/users/stale%5Bbot%5D/following{/other_user}",
    "gists_url": "https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/stale%5Bbot%5D/subscriptions",
    "organizations_url": "https://api.github.com/users/stale%5Bbot%5D/orgs",
    "repos_url": "https://api.github.com/users/stale%5Bbot%5D/repos",
    "events_url": "https://api.github.com/users/stale%5Bbot%5D/events{/privacy}",
    "received_events_url": "https://api.github.com/users/stale%5Bbot%5D/received_events",
    "type": "Bot",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/17961/reactions",
    "total_count": 8,
    "+1": 8,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/17961/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/545872803",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/17961#issuecomment-545872803",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/17961",
    "id": 545872803,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU0NTg3MjgwMw==",
    "user": {
      "login": "stale[bot]",
      "id": 26384082,
      "node_id": "MDM6Qm90MjYzODQwODI=",
      "avatar_url": "https://avatars.githubusercontent.com/in/1724?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/stale%5Bbot%5D",
      "html_url": "https://github.com/apps/stale",
      "followers_url": "https://api.github.com/users/stale%5Bbot%5D/followers",
      "following_url": "https://api.github.com/users/stale%5Bbot%5D/following{/other_user}",
      "gists_url": "https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/stale%5Bbot%5D/subscriptions",
      "organizations_url": "https://api.github.com/users/stale%5Bbot%5D/orgs",
      "repos_url": "https://api.github.com/users/stale%5Bbot%5D/repos",
      "events_url": "https://api.github.com/users/stale%5Bbot%5D/events{/privacy}",
      "received_events_url": "https://api.github.com/users/stale%5Bbot%5D/received_events",
      "type": "Bot",
      "site_admin": false
    },
    "created_at": "2019-10-24T11:22:31Z",
    "updated_at": "2019-10-24T11:22:31Z",
    "author_association": "NONE",
    "body": "This issue has been automatically marked as stale because it has not had recent activity. It will be closed if no further activity occurs. Thank you for your contributions.\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/545872803/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
