{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/20966",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/20966/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/20966/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/20966/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/20966",
  "id": 605439001,
  "node_id": "MDU6SXNzdWU2MDU0MzkwMDE=",
  "number": 20966,
  "title": "SubscribeMessages not working on android",
  "user": {
    "login": "rohankeskar19",
    "id": 33134458,
    "node_id": "MDQ6VXNlcjMzMTM0NDU4",
    "avatar_url": "https://avatars.githubusercontent.com/u/33134458?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/rohankeskar19",
    "html_url": "https://github.com/rohankeskar19",
    "followers_url": "https://api.github.com/users/rohankeskar19/followers",
    "following_url": "https://api.github.com/users/rohankeskar19/following{/other_user}",
    "gists_url": "https://api.github.com/users/rohankeskar19/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/rohankeskar19/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/rohankeskar19/subscriptions",
    "organizations_url": "https://api.github.com/users/rohankeskar19/orgs",
    "repos_url": "https://api.github.com/users/rohankeskar19/repos",
    "events_url": "https://api.github.com/users/rohankeskar19/events{/privacy}",
    "received_events_url": "https://api.github.com/users/rohankeskar19/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 306719709,
      "node_id": "MDU6TGFiZWwzMDY3MTk3MDk=",
      "url": "https://api.github.com/repos/ethereum/go-ethereum/labels/os:android",
      "name": "os:android",
      "color": "a7ea48",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 4,
  "created_at": "2020-04-23T10:58:16Z",
  "updated_at": "2020-08-27T08:55:36Z",
  "closed_at": "2020-08-20T08:53:56Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "Hi there,\r\n\r\nPlease note that this is an issue tracker reserved for bug reports and feature requests.\r\n\r\nFor general questions please use [discord](https://discord.gg/nthXNEv) or the Ethereum stack exchange at https://ethereum.stackexchange.com.\r\n\r\n#### System information\r\n\r\nGeth version: `1.9.13`\r\nOS & Version: Android\r\nCommit hash : (if `develop`)\r\n\r\n#### Expected behaviour\r\nSubscribe messages should give messages on receiving messages, I'm using geth for android and I'm trying to use the subscribe messages function for subscribing to whisper messages, But when I use it it doesn't outputs any messages on receiving new messages, I'm sending a message from an go program both the android app and the go program are connected to same remote node which I'm running on aws, When I send a message from the go program the onNewMessage call back is not getting executed, And also the NewMessage object which has a member function setPublicKey\r\naccepts a byte array as an parameter but the problem is that in java you can't convert hex characters to byte which are greater than 127, Because bytes in java are signed and then golang gives error as invalid public key, So you need to set the parameter as string and convert the string to byte inside golang, And please help me as quick as possible regarding the subscribe messages, I would really appreciate it\r\n\r\n```\r\nMainActivity.java\r\nContext context = Geth.newContext();\r\n\r\n            Criteria criteria = Geth.newCriteria(\"Ethereum Chat\".getBytes());\r\n\r\n            criteria.setPrivateKeyID(\"d31618391bcd8e3accb8bf7daf08aa7483933c8be91913e7a5d0b108a9c56ae4\");\r\n\r\n            ChatMessageHandler chatMessageHandler = new ChatMessageHandler();\r\nwhisperClient.subscribeMessages(context, criteria, chatMessageHandler,1000);\r\n\r\nChatMessageHandler.java\r\npublic class ChatMessageHandler  implements NewMessageHandler {\r\n\r\n    private static final String TAG = \"ChatMessageHandler\";\r\n    @Override\r\n    public void onError(String s) {\r\n        Log.d(TAG, \"onError: \" + s);\r\n    }\r\n\r\n    @Override\r\n    public void onNewMessage(Message message) {\r\n        Log.d(TAG, \"onNewMessage: New message arrived\");\r\n        Log.d(TAG, \"onNewMessage: \" + new String(message.getPayload()));\r\n    }\r\n}\r\n\r\n\r\n``` \r\n\r\n#### Actual behaviour\r\nIn subscribe message the callback is not getting called\r\n\r\n#### Steps to reproduce the behaviour\r\n\r\n\r\n#### Backtrace\r\n\r\n````\r\n[backtrace]\r\n````\r\n",
  "closed_by": {
    "login": "adamschmideg",
    "id": 208822,
    "node_id": "MDQ6VXNlcjIwODgyMg==",
    "avatar_url": "https://avatars.githubusercontent.com/u/208822?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/adamschmideg",
    "html_url": "https://github.com/adamschmideg",
    "followers_url": "https://api.github.com/users/adamschmideg/followers",
    "following_url": "https://api.github.com/users/adamschmideg/following{/other_user}",
    "gists_url": "https://api.github.com/users/adamschmideg/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/adamschmideg/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/adamschmideg/subscriptions",
    "organizations_url": "https://api.github.com/users/adamschmideg/orgs",
    "repos_url": "https://api.github.com/users/adamschmideg/repos",
    "events_url": "https://api.github.com/users/adamschmideg/events{/privacy}",
    "received_events_url": "https://api.github.com/users/adamschmideg/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/20966/reactions",
    "total_count": 1,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 1,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/20966/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/618705082",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/20966#issuecomment-618705082",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/20966",
    "id": 618705082,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxODcwNTA4Mg==",
    "user": {
      "login": "ligi",
      "id": 111600,
      "node_id": "MDQ6VXNlcjExMTYwMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/111600?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ligi",
      "html_url": "https://github.com/ligi",
      "followers_url": "https://api.github.com/users/ligi/followers",
      "following_url": "https://api.github.com/users/ligi/following{/other_user}",
      "gists_url": "https://api.github.com/users/ligi/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ligi/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ligi/subscriptions",
      "organizations_url": "https://api.github.com/users/ligi/orgs",
      "repos_url": "https://api.github.com/users/ligi/repos",
      "events_url": "https://api.github.com/users/ligi/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ligi/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-04-23T22:31:12Z",
    "updated_at": "2020-04-23T22:31:12Z",
    "author_association": "MEMBER",
    "body": "can you provide the full source?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/618705082/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/618706099",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/20966#issuecomment-618706099",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/20966",
    "id": 618706099,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxODcwNjA5OQ==",
    "user": {
      "login": "ligi",
      "id": 111600,
      "node_id": "MDQ6VXNlcjExMTYwMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/111600?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ligi",
      "html_url": "https://github.com/ligi",
      "followers_url": "https://api.github.com/users/ligi/followers",
      "following_url": "https://api.github.com/users/ligi/following{/other_user}",
      "gists_url": "https://api.github.com/users/ligi/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ligi/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ligi/subscriptions",
      "organizations_url": "https://api.github.com/users/ligi/orgs",
      "repos_url": "https://api.github.com/users/ligi/repos",
      "events_url": "https://api.github.com/users/ligi/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ligi/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-04-23T22:34:25Z",
    "updated_at": "2020-04-23T22:34:25Z",
    "author_association": "MEMBER",
    "body": "also to convert a hex string to a bytearray you can e.g. use: https://github.com/komputing/KHex/blob/master/extensions/src/main/kotlin/org/komputing/khex/extensions/HexStringExtensions.kt#L15\r\nIt is no problem for the private key that the values become negative. It is just another representation of the 8 bit.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/618706099/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/618927856",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/20966#issuecomment-618927856",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/20966",
    "id": 618927856,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxODkyNzg1Ng==",
    "user": {
      "login": "rohankeskar19",
      "id": 33134458,
      "node_id": "MDQ6VXNlcjMzMTM0NDU4",
      "avatar_url": "https://avatars.githubusercontent.com/u/33134458?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rohankeskar19",
      "html_url": "https://github.com/rohankeskar19",
      "followers_url": "https://api.github.com/users/rohankeskar19/followers",
      "following_url": "https://api.github.com/users/rohankeskar19/following{/other_user}",
      "gists_url": "https://api.github.com/users/rohankeskar19/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rohankeskar19/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rohankeskar19/subscriptions",
      "organizations_url": "https://api.github.com/users/rohankeskar19/orgs",
      "repos_url": "https://api.github.com/users/rohankeskar19/repos",
      "events_url": "https://api.github.com/users/rohankeskar19/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rohankeskar19/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-04-24T10:17:42Z",
    "updated_at": "2020-04-24T10:17:42Z",
    "author_association": "NONE",
    "body": "> can you provide the full source?\r\n\r\nhttps://github.com/rohankeskar19/Ethereum-Chat this is the repo",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/618927856/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/677469373",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/20966#issuecomment-677469373",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/20966",
    "id": 677469373,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY3NzQ2OTM3Mw==",
    "user": {
      "login": "adamschmideg",
      "id": 208822,
      "node_id": "MDQ6VXNlcjIwODgyMg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/208822?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/adamschmideg",
      "html_url": "https://github.com/adamschmideg",
      "followers_url": "https://api.github.com/users/adamschmideg/followers",
      "following_url": "https://api.github.com/users/adamschmideg/following{/other_user}",
      "gists_url": "https://api.github.com/users/adamschmideg/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/adamschmideg/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/adamschmideg/subscriptions",
      "organizations_url": "https://api.github.com/users/adamschmideg/orgs",
      "repos_url": "https://api.github.com/users/adamschmideg/repos",
      "events_url": "https://api.github.com/users/adamschmideg/events{/privacy}",
      "received_events_url": "https://api.github.com/users/adamschmideg/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-08-20T08:53:56Z",
    "updated_at": "2020-08-20T08:53:56Z",
    "author_association": "MEMBER",
    "body": "Whisper is discontinued, we're moving it to its own repo and not touch it in the near future. You may want to check out https://vac.dev/ for p2p messaging instead.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/677469373/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
