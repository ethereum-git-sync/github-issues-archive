{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/17969",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/17969/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/17969/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/17969/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/17969",
  "id": 373403273,
  "node_id": "MDU6SXNzdWUzNzM0MDMyNzM=",
  "number": 17969,
  "title": "Executing the offline evm with the --dump flag dumps a malformed storage view",
  "user": {
    "login": "Joool",
    "id": 9444447,
    "node_id": "MDQ6VXNlcjk0NDQ0NDc=",
    "avatar_url": "https://avatars.githubusercontent.com/u/9444447?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/Joool",
    "html_url": "https://github.com/Joool",
    "followers_url": "https://api.github.com/users/Joool/followers",
    "following_url": "https://api.github.com/users/Joool/following{/other_user}",
    "gists_url": "https://api.github.com/users/Joool/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/Joool/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/Joool/subscriptions",
    "organizations_url": "https://api.github.com/users/Joool/orgs",
    "repos_url": "https://api.github.com/users/Joool/repos",
    "events_url": "https://api.github.com/users/Joool/events{/privacy}",
    "received_events_url": "https://api.github.com/users/Joool/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 856638432,
      "node_id": "MDU6TGFiZWw4NTY2Mzg0MzI=",
      "url": "https://api.github.com/repos/ethereum/go-ethereum/labels/status:inactive",
      "name": "status:inactive",
      "color": "ffffff",
      "default": false,
      "description": null
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 1,
  "created_at": "2018-10-24T10:03:16Z",
  "updated_at": "2019-12-06T11:45:57Z",
  "closed_at": "2019-12-06T11:45:57Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "When executing the offline evm, instantiated with the following [genesis file](https://github.com/ethereum/go-ethereum/files/2509935/genesis.json.txt) file, like so: ```evm --prestate genesis.json --gas 1000000 --sender 0xAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA --receiver 0x2ecB13A8c458c379c4d9a7259e202De03c8F3D19 --input 00 --json --dump run```. The returned state after execution has a malformed storage presentation, after values grow bigger than 0x7F.\r\n\r\n\r\n#### System information\r\n\r\nGeth version: `1.8.17-stable` /  `1.8.18-unstable-68109336`\r\nOS & Version: OSX\r\nCommit:  For unstable: 68109336405a36e3c3fdcab6a87e8bc024a44a49\r\n\r\n#### Expected behaviour\r\nThe storage should be represented as follows (or equivalent):\r\n```\r\n\"storage\": {\r\n    \"000000000000000000000000000000000000000000000000000000000000007d\": \"7d\",\r\n    \"000000000000000000000000000000000000000000000000000000000000007e\": \"7e\",\r\n    \"000000000000000000000000000000000000000000000000000000000000007f\": \"7f\",\r\n    \"0000000000000000000000000000000000000000000000000000000000000080\": \"80\",\r\n    \"0000000000000000000000000000000000000000000000000000000000000081\": \"81\",\r\n    \"0000000000000000000000000000000000000000000000000000000000000082\": \"82\"\r\n}\r\n```\r\n\r\n\r\n#### Actual behaviour\r\nThe storage is represented as follows (note the prefixes on everything bigger then 0x7F, Is assume some kind of overflow?, also it only happens on values not on the keys):\r\n```\r\n\"storage\": {\r\n    \"000000000000000000000000000000000000000000000000000000000000007d\": \"7d\",\r\n    \"000000000000000000000000000000000000000000000000000000000000007e\": \"7e\",\r\n    \"000000000000000000000000000000000000000000000000000000000000007f\": \"7f\",\r\n    \"0000000000000000000000000000000000000000000000000000000000000080\": \"8180\",\r\n    \"0000000000000000000000000000000000000000000000000000000000000081\": \"8181\",\r\n    \"0000000000000000000000000000000000000000000000000000000000000082\": \"8182\"\r\n}\r\n```\r\n#### Steps to reproduce the behaviour\r\nExecute the offline evm with the linked genesis file and command.\r\n\r\n#### For connivence the genesis file:\r\n```\r\n{\r\n    \"nonce\":\"0x0000000000000000\",\r\n    \"difficulty\":\"0x01\",\r\n    \"mixhash\":\"0x0000000000000000000000000000000000000000000000000000000000000000\",\r\n    \"coinbase\":\"0x0000000000000000000000000000000000000000\",\r\n    \"timestamp\":\"0x00\",\r\n    \"number\":\"0x00\",\r\n    \"parentHash\":\"0x0000000000000000000000000000000000000000000000000000000000000000\",\r\n    \"extraData\":\"0x0000000000000000000000000000000000000000000000000000000000000000\",\r\n    \"gasLimit\":\"0x3D0900\",\r\n    \"alloc\":{\r\n        \"0x2ecb13a8c458c379c4d9a7259e202de03c8f3d19\":{\r\n            \"balance\":\"0x00\",\r\n            \"code\":\"0x00\",\r\n            \"nonce\":\"0x01\",\r\n            \"storage\":{\r\n                \"0x7d\":\"0x7d\",\r\n                \"0x7e\":\"0x7e\",\r\n                \"0x7f\":\"0x7f\",\r\n                \"0x80\":\"0x80\",\r\n                \"0x81\":\"0x81\",\r\n                \"0x82\":\"0x82\"\r\n            }\r\n        }\r\n    },\r\n    \"config\":{\r\n        \"eip150Block\":0,\r\n        \"eip158Block\":0,\r\n        \"eip155Block\":0,\r\n        \"homesteadBlock\":0,\r\n        \"daoForkBlock\":0,\r\n        \"byzantiumBlock\":0,\r\n        \"constantinopleBlock\":2000\r\n    }\r\n}\r\n```",
  "closed_by": {
    "login": "stale[bot]",
    "id": 26384082,
    "node_id": "MDM6Qm90MjYzODQwODI=",
    "avatar_url": "https://avatars.githubusercontent.com/in/1724?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/stale%5Bbot%5D",
    "html_url": "https://github.com/apps/stale",
    "followers_url": "https://api.github.com/users/stale%5Bbot%5D/followers",
    "following_url": "https://api.github.com/users/stale%5Bbot%5D/following{/other_user}",
    "gists_url": "https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/stale%5Bbot%5D/subscriptions",
    "organizations_url": "https://api.github.com/users/stale%5Bbot%5D/orgs",
    "repos_url": "https://api.github.com/users/stale%5Bbot%5D/repos",
    "events_url": "https://api.github.com/users/stale%5Bbot%5D/events{/privacy}",
    "received_events_url": "https://api.github.com/users/stale%5Bbot%5D/received_events",
    "type": "Bot",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/17969/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/17969/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/546308107",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/17969#issuecomment-546308107",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/17969",
    "id": 546308107,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU0NjMwODEwNw==",
    "user": {
      "login": "stale[bot]",
      "id": 26384082,
      "node_id": "MDM6Qm90MjYzODQwODI=",
      "avatar_url": "https://avatars.githubusercontent.com/in/1724?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/stale%5Bbot%5D",
      "html_url": "https://github.com/apps/stale",
      "followers_url": "https://api.github.com/users/stale%5Bbot%5D/followers",
      "following_url": "https://api.github.com/users/stale%5Bbot%5D/following{/other_user}",
      "gists_url": "https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/stale%5Bbot%5D/subscriptions",
      "organizations_url": "https://api.github.com/users/stale%5Bbot%5D/orgs",
      "repos_url": "https://api.github.com/users/stale%5Bbot%5D/repos",
      "events_url": "https://api.github.com/users/stale%5Bbot%5D/events{/privacy}",
      "received_events_url": "https://api.github.com/users/stale%5Bbot%5D/received_events",
      "type": "Bot",
      "site_admin": false
    },
    "created_at": "2019-10-25T10:59:03Z",
    "updated_at": "2019-10-25T10:59:03Z",
    "author_association": "NONE",
    "body": "This issue has been automatically marked as stale because it has not had recent activity. It will be closed if no further activity occurs. Thank you for your contributions.\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/546308107/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
