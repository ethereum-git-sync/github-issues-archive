{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/18062",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/18062/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/18062/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/18062/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/18062",
  "id": 378697287,
  "node_id": "MDU6SXNzdWUzNzg2OTcyODc=",
  "number": 18062,
  "title": "Transactions not being mined on private net",
  "user": {
    "login": "MANOJKUMARCH",
    "id": 33849651,
    "node_id": "MDQ6VXNlcjMzODQ5NjUx",
    "avatar_url": "https://avatars.githubusercontent.com/u/33849651?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/MANOJKUMARCH",
    "html_url": "https://github.com/MANOJKUMARCH",
    "followers_url": "https://api.github.com/users/MANOJKUMARCH/followers",
    "following_url": "https://api.github.com/users/MANOJKUMARCH/following{/other_user}",
    "gists_url": "https://api.github.com/users/MANOJKUMARCH/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/MANOJKUMARCH/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/MANOJKUMARCH/subscriptions",
    "organizations_url": "https://api.github.com/users/MANOJKUMARCH/orgs",
    "repos_url": "https://api.github.com/users/MANOJKUMARCH/repos",
    "events_url": "https://api.github.com/users/MANOJKUMARCH/events{/privacy}",
    "received_events_url": "https://api.github.com/users/MANOJKUMARCH/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 1132689577,
      "node_id": "MDU6TGFiZWwxMTMyNjg5NTc3",
      "url": "https://api.github.com/repos/ethereum/go-ethereum/labels/status:triage",
      "name": "status:triage",
      "color": "6be514",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 4,
  "created_at": "2018-11-08T11:49:24Z",
  "updated_at": "2020-02-20T10:03:49Z",
  "closed_at": "2020-02-20T10:03:48Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "Hi There,\r\n\r\nI am running a geth node and tried to perform a load testing by giving multiple transactions (1000 tx) from front end.\r\n\r\nAs the application is not crypto related and need the blocks to be mined faster, the console.go file is tweaked so that the block difficulty is always set to 1. Our case is not a crypto oriented and hence we have made the minimum gas price as 1. \r\n\r\nPlease check and help me on it.\r\n\r\nMore details as below\r\n\r\n#### System information\r\n\r\nGeth\r\nVersion: 1.8.18-unstable\r\nGit Commit: 3e1cfbae934f72c94c00e515ca872997530eede8\r\nArchitecture: amd64\r\nProtocol Versions: [63 62]\r\nNetwork Id: 1\r\nGo Version: go1.11.1\r\nOperating System: linux\r\n\r\n\r\n#### Expected behaviour\r\n\r\nExpected behavior is  for the tx to get mined.\r\n\r\n#### Actual behaviour\r\n\r\nI am able to push in 1000 Tx, from front end, all the transactions are only sending 1 wei from account1 to account2. I increased nonce for the tx correctly and so there is no issue and all 1000 tx are created successfully. \r\n\r\n**I see the tx are struck in pending when viewed with web3.txpool**\r\n\r\n#### Steps to reproduce the behaviour\r\n\r\nBelow is the Nethereum code used to create the 1000 tx. All the tx are created but waiting in pending queue.\r\n\r\n\t\t\t\tfor (int i = 0; i < 1000; i++)\r\n\t\t\t\t{\r\n                    string data = \"Test string\";\t\r\n\t\t\t\t\tvar gasPrice = 10+i;\r\n\t\t\t\t\tvar privateKey = \"XXXXXXXXXXXXXXX\";\r\n\t\t\t\t\tvar senderAddress = \"0xa5a85c234bca3D4BF29f7Bd7AD7D458dea8Ea8E9\";\r\n\t\t\t\t\tvar receiveAddress = \"0x1b55195c2610f7c0069cb89db1b3e973ff447a49\";\r\n\t\t\t\t\t\r\n\t\t\t\t\tvar txCount = await web3.Eth.Transactions.GetTransactionCount.SendRequestAsync(senderAddress);\r\n                    var nonce = txCount.Value+i;\r\n\t\t\t\t\tvar value = 1;\r\n\t\t\t\t\tvar encoded = Web3.OfflineTransactionSigner.SignTransaction(privateKey, receiveAddress, value, nonce, gasPrice, 100000, data.ToHexUTF8());\r\n\r\n\t\t\t\t\tDebug.WriteLine(Web3.OfflineTransactionSigner.GetSenderAddress(encoded));\r\n\t\t\t\t\tDebug.WriteLine(encoded);\r\n\t\t\t\t\t\r\n\t\t\t\t\tvar txId = await web3.Eth.Transactions.SendRawTransaction.SendRequestAsync(\"0x\" + encoded);\r\n\t\t\t\t\tvar receipt = await web3.Eth.Transactions.GetTransactionByHash.SendRequestAsync(txId);\r\n}\r\n\r\n\r\nPS: When I worked with 10 tx for the same above code, it worked fine and the tx are mined immediately.\r\n",
  "closed_by": {
    "login": "karalabe",
    "id": 129561,
    "node_id": "MDQ6VXNlcjEyOTU2MQ==",
    "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/karalabe",
    "html_url": "https://github.com/karalabe",
    "followers_url": "https://api.github.com/users/karalabe/followers",
    "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
    "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
    "organizations_url": "https://api.github.com/users/karalabe/orgs",
    "repos_url": "https://api.github.com/users/karalabe/repos",
    "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
    "received_events_url": "https://api.github.com/users/karalabe/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/18062/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/18062/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/438275807",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/18062#issuecomment-438275807",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/18062",
    "id": 438275807,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzODI3NTgwNw==",
    "user": {
      "login": "MANOJKUMARCH",
      "id": 33849651,
      "node_id": "MDQ6VXNlcjMzODQ5NjUx",
      "avatar_url": "https://avatars.githubusercontent.com/u/33849651?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MANOJKUMARCH",
      "html_url": "https://github.com/MANOJKUMARCH",
      "followers_url": "https://api.github.com/users/MANOJKUMARCH/followers",
      "following_url": "https://api.github.com/users/MANOJKUMARCH/following{/other_user}",
      "gists_url": "https://api.github.com/users/MANOJKUMARCH/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MANOJKUMARCH/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MANOJKUMARCH/subscriptions",
      "organizations_url": "https://api.github.com/users/MANOJKUMARCH/orgs",
      "repos_url": "https://api.github.com/users/MANOJKUMARCH/repos",
      "events_url": "https://api.github.com/users/MANOJKUMARCH/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MANOJKUMARCH/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-11-13T14:01:25Z",
    "updated_at": "2018-11-13T14:01:25Z",
    "author_association": "NONE",
    "body": "Further to my finding above, I see that the first few transactions are put in a block and the block is in pending status.\r\n\r\n eth.getBlock(\"pending\")\r\n{\r\n  difficulty: 1,\r\n  extraData: \"0xd883010811846765746888676f312e31312e31856c696e7578\",\r\n  gasLimit: 800000000000000000,\r\n  gasUsed: 128040,\r\n  hash: null,\r\n  logsBloom: \"0x00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000\",\r\n  miner: null,\r\n  mixHash: \"0x0000000000000000000000000000000000000000000000000000000000000000\",\r\n  nonce: null,\r\n  number: 1541,\r\n  parentHash: \"0xb602d6fe55a55a9388c32e6fdcd4c079468a3667e32555fc4cc910e3ae766854\",\r\n  receiptsRoot: \"0xac2027bd72f8f4004c0aa514086a2cbd5044fc7f14c2f1d6934737f5a2273bf3\",\r\n  sha3Uncles: \"0x67203d2f0d4d83868e8475ccf5ded2e6247810d350f9ef87b41b0491bbdda302\",\r\n  size: 1697,\r\n  stateRoot: \"0x1565d885413b3cd7fb6f9602c57fe670f24ed235b61881cfa5bab4b3dbf87db4\",\r\n  timestamp: 1542115038,\r\n  totalDifficulty: 0,\r\n  transactions: [\"0x59e38e01b92e26b8d516d9d1c6bf458602e0d36d7ca5c599378824125da0c84c\", \"0x84af10458416825e253bee2c873f4c88da35c1bb2439844cd9979212fe096317\", \"0x9af86a0fff0a34ec7e245313d6ae166cac3ae9553cc06649bae4b5b1228a4065\", \"0xaf2d0084aa4af18b6ea45521ede897fed598c5d7d0ccfd31c840788ec3cb9ff0\", \"0xa05358e63721e9f2bc888a842be1f3df3923e163152f6efe4f029c6914c5d47f\", \"0xfab31956fbdefd6154462712cef852d3e820f1dedd876528c9326438bb1249cd\"],\r\n  transactionsRoot: \"0x19c43d0ede30bba91611ee2373c4dc257cd7bee06767c0ec8be5b504c64194ff\",\r\n  uncles: [\"0xc98327b0f1835f371943ffbbbcddeefefcc75cb71d0e89ef63eef8ad9fe638e7\"]\r\n}\r\n>\r\n\r\nThis block is not being mined as another block with same block number is mined with 0 transactions. \r\n\r\nI think, as the starting transactions are not mined, all the remaining tx are in pending in web3.txpool. \r\nCan someone help on why this is happening and why is the block going to pending status.\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/438275807/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/438545214",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/18062#issuecomment-438545214",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/18062",
    "id": 438545214,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzODU0NTIxNA==",
    "user": {
      "login": "hello2mao",
      "id": 8265961,
      "node_id": "MDQ6VXNlcjgyNjU5NjE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8265961?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hello2mao",
      "html_url": "https://github.com/hello2mao",
      "followers_url": "https://api.github.com/users/hello2mao/followers",
      "following_url": "https://api.github.com/users/hello2mao/following{/other_user}",
      "gists_url": "https://api.github.com/users/hello2mao/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hello2mao/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hello2mao/subscriptions",
      "organizations_url": "https://api.github.com/users/hello2mao/orgs",
      "repos_url": "https://api.github.com/users/hello2mao/repos",
      "events_url": "https://api.github.com/users/hello2mao/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hello2mao/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-11-14T05:44:21Z",
    "updated_at": "2018-11-14T05:44:21Z",
    "author_association": "CONTRIBUTOR",
    "body": "I have the same problem, see #18082.  -_-",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/438545214/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/554224290",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/18062#issuecomment-554224290",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/18062",
    "id": 554224290,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU1NDIyNDI5MA==",
    "user": {
      "login": "stale[bot]",
      "id": 26384082,
      "node_id": "MDM6Qm90MjYzODQwODI=",
      "avatar_url": "https://avatars.githubusercontent.com/in/1724?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/stale%5Bbot%5D",
      "html_url": "https://github.com/apps/stale",
      "followers_url": "https://api.github.com/users/stale%5Bbot%5D/followers",
      "following_url": "https://api.github.com/users/stale%5Bbot%5D/following{/other_user}",
      "gists_url": "https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/stale%5Bbot%5D/subscriptions",
      "organizations_url": "https://api.github.com/users/stale%5Bbot%5D/orgs",
      "repos_url": "https://api.github.com/users/stale%5Bbot%5D/repos",
      "events_url": "https://api.github.com/users/stale%5Bbot%5D/events{/privacy}",
      "received_events_url": "https://api.github.com/users/stale%5Bbot%5D/received_events",
      "type": "Bot",
      "site_admin": false
    },
    "created_at": "2019-11-15T05:56:33Z",
    "updated_at": "2019-11-15T05:56:33Z",
    "author_association": "NONE",
    "body": "This issue has been automatically marked as stale because it has not had recent activity. It will be closed if no further activity occurs. Thank you for your contributions.\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/554224290/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/588886671",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/18062#issuecomment-588886671",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/18062",
    "id": 588886671,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU4ODg4NjY3MQ==",
    "user": {
      "login": "karalabe",
      "id": 129561,
      "node_id": "MDQ6VXNlcjEyOTU2MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/karalabe",
      "html_url": "https://github.com/karalabe",
      "followers_url": "https://api.github.com/users/karalabe/followers",
      "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
      "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
      "organizations_url": "https://api.github.com/users/karalabe/orgs",
      "repos_url": "https://api.github.com/users/karalabe/repos",
      "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/karalabe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-02-20T10:03:48Z",
    "updated_at": "2020-02-20T10:03:48Z",
    "author_association": "MEMBER",
    "body": "So, the `ethash` miner in Geth works by creating an empty block, starting mining and then in the background creating a replacement block with transactions too. This is to reduce the opportunity cost for miner of including transactions. However in your case, if you hard coded a difficulty of 1, the initial empty block is mined so fast, that you will never make the non-empty block.\r\n\r\nYour options are either to modify the miner too to disable the path that does the empty block assembly, or alternatively to use `clique` instead of `ethash` where you can set a block time of 1 second. You probably don't want to go lower than that because if propagation + processing takes more than the block time, your network might fall apart.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/588886671/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
