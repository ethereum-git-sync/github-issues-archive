{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/19451",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/19451/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/19451/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/19451/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/19451",
  "id": 432160743,
  "node_id": "MDU6SXNzdWU0MzIxNjA3NDM=",
  "number": 19451,
  "title": "Sending a transaction using Local Light client panics and stops the local node.",
  "user": {
    "login": "MaxFriedman17",
    "id": 16276997,
    "node_id": "MDQ6VXNlcjE2Mjc2OTk3",
    "avatar_url": "https://avatars.githubusercontent.com/u/16276997?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/MaxFriedman17",
    "html_url": "https://github.com/MaxFriedman17",
    "followers_url": "https://api.github.com/users/MaxFriedman17/followers",
    "following_url": "https://api.github.com/users/MaxFriedman17/following{/other_user}",
    "gists_url": "https://api.github.com/users/MaxFriedman17/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/MaxFriedman17/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/MaxFriedman17/subscriptions",
    "organizations_url": "https://api.github.com/users/MaxFriedman17/orgs",
    "repos_url": "https://api.github.com/users/MaxFriedman17/repos",
    "events_url": "https://api.github.com/users/MaxFriedman17/events{/privacy}",
    "received_events_url": "https://api.github.com/users/MaxFriedman17/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 1,
  "created_at": "2019-04-11T17:57:02Z",
  "updated_at": "2019-04-11T23:25:07Z",
  "closed_at": "2019-04-11T23:25:07Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "Hi, I have the following error after using a local light client node to send a transaction programmatically.\r\n\r\n#### System information\r\n\r\nGeth version: 1.8.25-stable\r\nOS & Version: Linux, Ubuntu 18.04\r\n\r\n#### Expected behaviour\r\nSending a transaction using a light client should send the transaction without error.\r\n\r\n#### Actual behaviour\r\nIt seems that it attempts to send the transaction but instantly after that the client panics and transaction is never sent (I try to search it in etherscan and it can't be located).\r\n\r\n#### Steps to reproduce the behaviour\r\nI try to send a transaction programmatically using web3 contracts API but the client panics giving the following error shown in Backtrace section. After that, execution of the client node is terminated.\r\n\r\n#### Backtrace\r\nINFO [04-11|19:22:41.784] Submitted transaction                    fullhash=0x83b108d012790f20f983becdf5a529d2d993cb843c4c2fdb8e5bf2b5659d11e2 recipient=\"< contract address to receive the transaction >\"\r\npanic: runtime error: invalid memory address or nil pointer dereference\r\n[signal SIGSEGV: segmentation violation code=0x1 addr=0x0 pc=0xb105c0]\r\n\r\ngoroutine 69 [running]:\r\ngithub.com/ethereum/go-ethereum/les.(*peer).GetRequestCost(0xc428d66630, 0xc, 0x1, 0x0)\r\n\t/build/ethereum-3tTh57/ethereum-1.8.25+build18425+bionic/build/_workspace/src/github.com/ethereum/go-ethereum/les/peer.go:166 +0xa0\r\ngithub.com/ethereum/go-ethereum/les.(*LesTxRelay).send.func1(0x11134e0, 0xc428d66630, 0xc42033fd01)\r\n\t/build/ethereum-3tTh57/ethereum-1.8.25+build18425+bionic/build/_workspace/src/github.com/ethereum/go-ethereum/les/txrelay.go:121 +0x4e\r\ngithub.com/ethereum/go-ethereum/les.(*requestDistributor).nextRequest(0xc42021a5a0, 0x0, 0x0, 0x0, 0x0)\r\n\t/build/ethereum-3tTh57/ethereum-1.8.25+build18425+bionic/build/_workspace/src/github.com/ethereum/go-ethereum/les/distributor.go:195 +0x296\r\ngithub.com/ethereum/go-ethereum/les.(*requestDistributor).loop(0xc42021a5a0)\r\n\t/build/ethereum-3tTh57/ethereum-1.8.25+build18425+bionic/build/_workspace/src/github.com/ethereum/go-ethereum/les/distributor.go:129 +0x7f\r\ncreated by github.com/ethereum/go-ethereum/les.newRequestDistributor\r\n\t/build/ethereum-3tTh57/ethereum-1.8.25+build18425+bionic/build/_workspace/src/github.com/ethereum/go-ethereum/les/distributor.go:80 +0x10b\r\n\r\n",
  "closed_by": {
    "login": "karalabe",
    "id": 129561,
    "node_id": "MDQ6VXNlcjEyOTU2MQ==",
    "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/karalabe",
    "html_url": "https://github.com/karalabe",
    "followers_url": "https://api.github.com/users/karalabe/followers",
    "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
    "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
    "organizations_url": "https://api.github.com/users/karalabe/orgs",
    "repos_url": "https://api.github.com/users/karalabe/repos",
    "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
    "received_events_url": "https://api.github.com/users/karalabe/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/19451/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/19451/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/482370816",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/19451#issuecomment-482370816",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/19451",
    "id": 482370816,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ4MjM3MDgxNg==",
    "user": {
      "login": "karalabe",
      "id": 129561,
      "node_id": "MDQ6VXNlcjEyOTU2MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/karalabe",
      "html_url": "https://github.com/karalabe",
      "followers_url": "https://api.github.com/users/karalabe/followers",
      "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
      "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
      "organizations_url": "https://api.github.com/users/karalabe/orgs",
      "repos_url": "https://api.github.com/users/karalabe/repos",
      "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/karalabe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-04-11T23:25:07Z",
    "updated_at": "2019-04-11T23:25:07Z",
    "author_association": "MEMBER",
    "body": "This was fixed in v1.8.26. Please update.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/482370816/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
