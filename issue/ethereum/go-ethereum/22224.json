{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22224",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22224/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22224/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22224/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/22224",
  "id": 792695560,
  "node_id": "MDU6SXNzdWU3OTI2OTU1NjA=",
  "number": 22224,
  "title": "geth taking a really long time (4+ mins) to start up",
  "user": {
    "login": "vogelito",
    "id": 1325863,
    "node_id": "MDQ6VXNlcjEzMjU4NjM=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1325863?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/vogelito",
    "html_url": "https://github.com/vogelito",
    "followers_url": "https://api.github.com/users/vogelito/followers",
    "following_url": "https://api.github.com/users/vogelito/following{/other_user}",
    "gists_url": "https://api.github.com/users/vogelito/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/vogelito/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/vogelito/subscriptions",
    "organizations_url": "https://api.github.com/users/vogelito/orgs",
    "repos_url": "https://api.github.com/users/vogelito/repos",
    "events_url": "https://api.github.com/users/vogelito/events{/privacy}",
    "received_events_url": "https://api.github.com/users/vogelito/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 1132754722,
      "node_id": "MDU6TGFiZWwxMTMyNzU0NzIy",
      "url": "https://api.github.com/repos/ethereum/go-ethereum/labels/need:more-information",
      "name": "need:more-information",
      "color": "db6fa3",
      "default": false,
      "description": ""
    },
    {
      "id": 2606146366,
      "node_id": "MDU6TGFiZWwyNjA2MTQ2MzY2",
      "url": "https://api.github.com/repos/ethereum/go-ethereum/labels/type:performance",
      "name": "type:performance",
      "color": "BDA845",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 18,
  "created_at": "2021-01-24T01:08:10Z",
  "updated_at": "2022-12-31T06:22:05Z",
  "closed_at": "2022-12-30T10:12:25Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "#### System information\r\n\r\nGeth version: `geth version`\r\n```\r\n$ geth version\r\nGeth\r\nVersion: 1.9.24-stable\r\nGit Commit: cc05b050df5f88e80bb26aaf6d2f339c49c2d702\r\nGit Commit Date: 20201112\r\nArchitecture: amd64\r\nProtocol Versions: [65 64 63]\r\nGo Version: go1.15.5\r\nOperating System: linux\r\nGOPATH=\r\nGOROOT=/usr/local/go\r\n```\r\n\r\nOS & Version: Linux (Ubuntu 20.04 LTS)\r\n\r\n#### Expected behaviour\r\ngeth should start within a few seconds.\r\n\r\n#### Actual behaviour\r\ngeth takes 4+ minutes to start\r\n\r\n#### Steps to reproduce the behaviour\r\nAll I need to do is restart geth and I'll see the startup sequence take a significant amount of time\r\n\r\n#### Backtrace\r\n\r\n````\r\nINFO [01-24|00:37:23.691] Starting pprof server                    addr=http://127.0.0.1:6060/debug/pprof\r\nINFO [01-24|00:37:23.691] Starting Geth on Ethereum mainnet... \r\nINFO [01-24|00:37:23.691] Enabling metrics collection \r\nINFO [01-24|00:37:23.693] Maximum peer count                       ETH=25 LES=0 total=25\r\nINFO [01-24|00:37:23.693] Smartcard socket not found, disabling    err=\"stat /run/pcscd/pcscd.comm: no such file or directory\"\r\nERROR[01-24|00:41:31.845] Failed to enumerate USB devices          hub=ledger vendor=11415 failcount=1 err=\"failed to initialize libusb: libusb: unknown error [code -99]\"\r\nERROR[01-24|00:41:31.845] Failed to enumerate USB devices          hub=trezor vendor=21324 failcount=1 err=\"failed to initialize libusb: libusb: unknown error [code -99]\"\r\nERROR[01-24|00:41:31.845] Failed to enumerate USB devices          hub=trezor vendor=4617  failcount=1 err=\"failed to initialize libusb: libusb: unknown error [code -99]\"\r\nERROR[01-24|00:41:32.021] Failed to enumerate USB devices          hub=ledger vendor=11415 failcount=2 err=\"failed to initialize libusb: libusb: unknown error [code -99]\"\r\nERROR[01-24|00:41:32.021] Failed to enumerate USB devices          hub=trezor vendor=21324 failcount=2 err=\"failed to initialize libusb: libusb: unknown error [code -99]\"\r\nERROR[01-24|00:41:32.021] Failed to enumerate USB devices          hub=trezor vendor=4617  failcount=2 err=\"failed to initialize libusb: libusb: unknown error [code -99]\"\r\nINFO [01-24|00:41:32.022] Set global gas cap                       cap=25000000\r\n````\r\n\r\n\r\n#### Additional info\r\nStarting geth with the following flags\r\n```\r\n--datadir /mnt/ethereum --syncmode full --gcmode archive --http --http.api \"debug,personal,eth,web3\" --rpc.txfeecap 2 --miner.gastarget 1000000 --cache 2048 --gpo.percentile 30 --maxpeers 25 --metrics --pprof --pprof.addr=127.0.0.1 --allow-insecure-unlock\r\n```\r\n\r\nNode history:\r\n2020-06-17: Fresh sync on `v1.9.14-stable-6d74d1e5`\r\n2020-07-11: Upgraded to `v1.9.16-stable-ea3b00ad`. No delay on restart.\r\n2020-08-18: Restarted. 1.5 minute delay on restart.\r\n2020-08-21: Upgraded to `v1.9.19-stable-3e064192`. No delay on restart.\r\n2020-09-23: Upgraded to `v1.9.21-stable-0287d548`. No delay on restart.\r\n2020-09-24: Restarted. 4+ minute delay on restart.\r\n2020-11-05: Restarted. 4+ minute delay on restart.\r\n2020-11-12: Upgraded to `v1.9.24-stable-cc05b050`. 4+ minute delay on restart.\r\n\r\n#### Logs\r\n2020-07-11 restart logs:\r\n```\r\nINFO [07-11|14:33:21.520] Starting pprof server                    addr=http://127.0.0.1:6060/debug/pprof\r\nINFO [07-11|14:33:21.520] Starting Geth on Ethereum mainnet... \r\nINFO [07-11|14:33:21.520] Enabling metrics collection \r\nINFO [07-11|14:33:21.523] Maximum peer count                       ETH=25 LES=0 total=25\r\nINFO [07-11|14:33:21.524] Smartcard socket not found, disabling    err=\"stat /run/pcscd/pcscd.comm: no such file or directory\"\r\nERROR[07-11|14:33:21.526] Failed to enumerate USB devices          hub=ledger vendor=11415 failcount=1 err=\"failed to initialize libusb: libusb: unknown error [code -99]\"\r\nERROR[07-11|14:33:21.527] Failed to enumerate USB devices          hub=trezor vendor=21324 failcount=1 err=\"failed to initialize libusb: libusb: unknown error [code -99]\"\r\nERROR[07-11|14:33:21.527] Failed to enumerate USB devices          hub=trezor vendor=4617  failcount=1 err=\"failed to initialize libusb: libusb: unknown error [code -99]\"\r\nERROR[07-11|14:33:21.527] Failed to enumerate USB devices          hub=ledger vendor=11415 failcount=2 err=\"failed to initialize libusb: libusb: unknown error [code -99]\"\r\nERROR[07-11|14:33:21.527] Failed to enumerate USB devices          hub=trezor vendor=21324 failcount=2 err=\"failed to initialize libusb: libusb: unknown error [code -99]\"\r\nERROR[07-11|14:33:21.527] Failed to enumerate USB devices          hub=trezor vendor=4617  failcount=2 err=\"failed to initialize libusb: libusb: unknown error [code -99]\"\r\nINFO [07-11|14:33:21.527] Set global gas cap                       cap=25000000\r\n```\r\n\r\n2020-08-18 restart logs:\r\n```\r\nINFO [08-18|16:47:27.891] Starting pprof server                    addr=http://127.0.0.1:6060/debug/pprof\r\nINFO [08-18|16:47:27.891] Starting Geth on Ethereum mainnet... \r\nINFO [08-18|16:47:27.891] Enabling metrics collection \r\nINFO [08-18|16:47:27.896] Maximum peer count                       ETH=25 LES=0 total=25\r\nINFO [08-18|16:47:27.896] Smartcard socket not found, disabling    err=\"stat /run/pcscd/pcscd.comm: no such file or directory\"\r\nERROR[08-18|16:47:27.899] Failed to enumerate USB devices          hub=ledger vendor=11415 failcount=1 err=\"failed to initialize libusb: libusb: unknown error [code -99]\"\r\nERROR[08-18|16:47:27.900] Failed to enumerate USB devices          hub=trezor vendor=21324 failcount=1 err=\"failed to initialize libusb: libusb: unknown error [code -99]\"\r\nERROR[08-18|16:47:27.900] Failed to enumerate USB devices          hub=trezor vendor=4617  failcount=1 err=\"failed to initialize libusb: libusb: unknown error [code -99]\"\r\nERROR[08-18|16:47:27.900] Failed to enumerate USB devices          hub=ledger vendor=11415 failcount=2 err=\"failed to initialize libusb: libusb: unknown error [code -99]\"\r\nERROR[08-18|16:47:27.900] Failed to enumerate USB devices          hub=trezor vendor=21324 failcount=2 err=\"failed to initialize libusb: libusb: unknown error [code -99]\"\r\nERROR[08-18|16:47:27.900] Failed to enumerate USB devices          hub=trezor vendor=4617  failcount=2 err=\"failed to initialize libusb: libusb: unknown error [code -99]\"\r\nINFO [08-18|16:47:27.901] Set global gas cap                       cap=25000000\r\n```\r\n\r\n2020-08-21 restart logs:\r\n```\r\nINFO [08-21|14:22:18.023] Starting pprof server                    addr=http://127.0.0.1:6060/debug/pprof\r\nINFO [08-21|14:22:18.023] Starting Geth on Ethereum mainnet... \r\nINFO [08-21|14:22:18.024] Enabling metrics collection \r\nINFO [08-21|14:22:18.024] Maximum peer count                       ETH=25 LES=0 total=25\r\nINFO [08-21|14:22:18.024] Smartcard socket not found, disabling    err=\"stat /run/pcscd/pcscd.comm: no such file or directory\"\r\nERROR[08-21|14:22:18.024] Failed to enumerate USB devices          hub=ledger vendor=11415 failcount=1 err=\"failed to initialize libusb: libusb: unknown error [code -99]\"\r\nERROR[08-21|14:22:18.025] Failed to enumerate USB devices          hub=trezor vendor=21324 failcount=1 err=\"failed to initialize libusb: libusb: unknown error [code -99]\"\r\nERROR[08-21|14:22:18.025] Failed to enumerate USB devices          hub=trezor vendor=4617  failcount=1 err=\"failed to initialize libusb: libusb: unknown error [code -99]\"\r\nERROR[08-21|14:22:18.025] Failed to enumerate USB devices          hub=ledger vendor=11415 failcount=2 err=\"failed to initialize libusb: libusb: unknown error [code -99]\"\r\nERROR[08-21|14:22:18.025] Failed to enumerate USB devices          hub=trezor vendor=21324 failcount=2 err=\"failed to initialize libusb: libusb: unknown error [code -99]\"\r\nERROR[08-21|14:22:18.025] Failed to enumerate USB devices          hub=trezor vendor=4617  failcount=2 err=\"failed to initialize libusb: libusb: unknown error [code -99]\"\r\nINFO [08-21|14:22:18.025] Set global gas cap                       cap=25000000\r\n```\r\n\r\n2020-09-23 restart logs:\r\n```\r\nINFO [09-23|19:40:33.433] Starting pprof server                    addr=http://127.0.0.1:6060/debug/pprof\r\nINFO [09-23|19:40:33.433] Starting Geth on Ethereum mainnet... \r\nINFO [09-23|19:40:33.433] Enabling metrics collection \r\nINFO [09-23|19:40:33.435] Maximum peer count                       ETH=25 LES=0 total=25\r\nINFO [09-23|19:40:33.435] Smartcard socket not found, disabling    err=\"stat /run/pcscd/pcscd.comm: no such file or directory\"\r\nERROR[09-23|19:40:33.435] Failed to enumerate USB devices          hub=ledger vendor=11415 failcount=1 err=\"failed to initialize libusb: libusb: unknown error [code -99]\"\r\nERROR[09-23|19:40:33.435] Failed to enumerate USB devices          hub=trezor vendor=21324 failcount=1 err=\"failed to initialize libusb: libusb: unknown error [code -99]\"\r\nERROR[09-23|19:40:33.435] Failed to enumerate USB devices          hub=trezor vendor=4617  failcount=1 err=\"failed to initialize libusb: libusb: unknown error [code -99]\"\r\nERROR[09-23|19:40:33.435] Failed to enumerate USB devices          hub=ledger vendor=11415 failcount=2 err=\"failed to initialize libusb: libusb: unknown error [code -99]\"\r\nERROR[09-23|19:40:33.435] Failed to enumerate USB devices          hub=trezor vendor=21324 failcount=2 err=\"failed to initialize libusb: libusb: unknown error [code -99]\"\r\nERROR[09-23|19:40:33.435] Failed to enumerate USB devices          hub=trezor vendor=4617  failcount=2 err=\"failed to initialize libusb: libusb: unknown error [code -99]\"\r\nINFO [09-23|19:40:33.435] Set global gas cap                       cap=25000000\r\n```\r\n\r\n2020-09-24 restart logs:\r\n```\r\nINFO [09-24|16:12:48.629] Starting pprof server                    addr=http://127.0.0.1:6060/debug/pprof\r\nINFO [09-24|16:12:48.629] Starting Geth on Ethereum mainnet... \r\nINFO [09-24|16:12:48.629] Enabling metrics collection \r\nINFO [09-24|16:12:48.631] Maximum peer count                       ETH=25 LES=0 total=25\r\nINFO [09-24|16:12:48.631] Smartcard socket not found, disabling    err=\"stat /run/pcscd/pcscd.comm: no such file or directory\"\r\nERROR[09-24|16:17:15.528] Failed to enumerate USB devices          hub=ledger vendor=11415 failcount=1 err=\"failed to initialize libusb: libusb: unknown error [code -99]\"\r\nERROR[09-24|16:17:15.529] Failed to enumerate USB devices          hub=trezor vendor=21324 failcount=1 err=\"failed to initialize libusb: libusb: unknown error [code -99]\"\r\nERROR[09-24|16:17:15.529] Failed to enumerate USB devices          hub=trezor vendor=4617  failcount=1 err=\"failed to initialize libusb: libusb: unknown error [code -99]\"\r\nERROR[09-24|16:17:15.701] Failed to enumerate USB devices          hub=ledger vendor=11415 failcount=2 err=\"failed to initialize libusb: libusb: unknown error [code -99]\"\r\nERROR[09-24|16:17:15.701] Failed to enumerate USB devices          hub=trezor vendor=21324 failcount=2 err=\"failed to initialize libusb: libusb: unknown error [code -99]\"\r\nERROR[09-24|16:17:15.701] Failed to enumerate USB devices          hub=trezor vendor=4617  failcount=2 err=\"failed to initialize libusb: libusb: unknown error [code -99]\"\r\nINFO [09-24|16:17:15.702] Set global gas cap                       cap=25000000\r\n```\r\n\r\n2020-11-05 restart logs:\r\n```\r\nINFO [11-05|02:24:42.315] Starting pprof server                    addr=http://127.0.0.1:6060/debug/pprof\r\nINFO [11-05|02:24:42.315] Starting Geth on Ethereum mainnet... \r\nINFO [11-05|02:24:42.315] Enabling metrics collection \r\nINFO [11-05|02:24:42.317] Maximum peer count                       ETH=25 LES=0 total=25\r\nINFO [11-05|02:24:42.317] Smartcard socket not found, disabling    err=\"stat /run/pcscd/pcscd.comm: no such file or directory\"\r\nERROR[11-05|02:29:07.009] Failed to enumerate USB devices          hub=ledger vendor=11415 failcount=1 err=\"failed to initialize libusb: libusb: unknown error [code -99]\"\r\nERROR[11-05|02:29:07.009] Failed to enumerate USB devices          hub=trezor vendor=21324 failcount=1 err=\"failed to initialize libusb: libusb: unknown error [code -99]\"\r\nERROR[11-05|02:29:07.009] Failed to enumerate USB devices          hub=trezor vendor=4617  failcount=1 err=\"failed to initialize libusb: libusb: unknown error [code -99]\"\r\nERROR[11-05|02:29:07.173] Failed to enumerate USB devices          hub=ledger vendor=11415 failcount=2 err=\"failed to initialize libusb: libusb: unknown error [code -99]\"\r\nERROR[11-05|02:29:07.173] Failed to enumerate USB devices          hub=trezor vendor=21324 failcount=2 err=\"failed to initialize libusb: libusb: unknown error [code -99]\"\r\nERROR[11-05|02:29:07.173] Failed to enumerate USB devices          hub=trezor vendor=4617  failcount=2 err=\"failed to initialize libusb: libusb: unknown error [code -99]\"\r\nINFO [11-05|02:29:07.174] Set global gas cap                       cap=25000000\r\n```\r\n\r\n2020-11-12 restart logs:\r\n```\r\nINFO [11-12|23:43:33.095] Starting pprof server                    addr=http://127.0.0.1:6060/debug/pprof\r\nINFO [11-12|23:43:33.095] Starting Geth on Ethereum mainnet... \r\nINFO [11-12|23:43:33.096] Enabling metrics collection \r\nINFO [11-12|23:43:33.101] Maximum peer count                       ETH=25 LES=0 total=25\r\nINFO [11-12|23:43:33.101] Smartcard socket not found, disabling    err=\"stat /run/pcscd/pcscd.comm: no such file or directory\"\r\nERROR[11-12|23:47:59.142] Failed to enumerate USB devices          hub=ledger vendor=11415 failcount=1 err=\"failed to initialize libusb: libusb: unknown error [code -99]\"\r\nERROR[11-12|23:47:59.143] Failed to enumerate USB devices          hub=trezor vendor=21324 failcount=1 err=\"failed to initialize libusb: libusb: unknown error [code -99]\"\r\nERROR[11-12|23:47:59.143] Failed to enumerate USB devices          hub=trezor vendor=4617  failcount=1 err=\"failed to initialize libusb: libusb: unknown error [code -99]\"\r\nERROR[11-12|23:47:59.305] Failed to enumerate USB devices          hub=ledger vendor=11415 failcount=2 err=\"failed to initialize libusb: libusb: unknown error [code -99]\"\r\nERROR[11-12|23:47:59.305] Failed to enumerate USB devices          hub=trezor vendor=21324 failcount=2 err=\"failed to initialize libusb: libusb: unknown error [code -99]\"\r\nERROR[11-12|23:47:59.305] Failed to enumerate USB devices          hub=trezor vendor=4617  failcount=2 err=\"failed to initialize libusb: libusb: unknown error [code -99]\"\r\nINFO [11-12|23:47:59.305] Set global gas cap                       cap=25000000\r\n```",
  "closed_by": {
    "login": "MariusVanDerWijden",
    "id": 16664698,
    "node_id": "MDQ6VXNlcjE2NjY0Njk4",
    "avatar_url": "https://avatars.githubusercontent.com/u/16664698?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/MariusVanDerWijden",
    "html_url": "https://github.com/MariusVanDerWijden",
    "followers_url": "https://api.github.com/users/MariusVanDerWijden/followers",
    "following_url": "https://api.github.com/users/MariusVanDerWijden/following{/other_user}",
    "gists_url": "https://api.github.com/users/MariusVanDerWijden/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/MariusVanDerWijden/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/MariusVanDerWijden/subscriptions",
    "organizations_url": "https://api.github.com/users/MariusVanDerWijden/orgs",
    "repos_url": "https://api.github.com/users/MariusVanDerWijden/repos",
    "events_url": "https://api.github.com/users/MariusVanDerWijden/events{/privacy}",
    "received_events_url": "https://api.github.com/users/MariusVanDerWijden/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22224/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22224/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/766272286",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/22224#issuecomment-766272286",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22224",
    "id": 766272286,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc2NjI3MjI4Ng==",
    "user": {
      "login": "ligi",
      "id": 111600,
      "node_id": "MDQ6VXNlcjExMTYwMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/111600?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ligi",
      "html_url": "https://github.com/ligi",
      "followers_url": "https://api.github.com/users/ligi/followers",
      "following_url": "https://api.github.com/users/ligi/following{/other_user}",
      "gists_url": "https://api.github.com/users/ligi/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ligi/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ligi/subscriptions",
      "organizations_url": "https://api.github.com/users/ligi/orgs",
      "repos_url": "https://api.github.com/users/ligi/repos",
      "events_url": "https://api.github.com/users/ligi/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ligi/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-01-24T01:30:44Z",
    "updated_at": "2021-01-24T01:30:44Z",
    "author_association": "MEMBER",
    "body": "Can you elaborate how you define \"start\" and how you measure the times (where is the start where is the end of measurement)?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/766272286/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/766272767",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/22224#issuecomment-766272767",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22224",
    "id": 766272767,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc2NjI3Mjc2Nw==",
    "user": {
      "login": "vogelito",
      "id": 1325863,
      "node_id": "MDQ6VXNlcjEzMjU4NjM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1325863?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vogelito",
      "html_url": "https://github.com/vogelito",
      "followers_url": "https://api.github.com/users/vogelito/followers",
      "following_url": "https://api.github.com/users/vogelito/following{/other_user}",
      "gists_url": "https://api.github.com/users/vogelito/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vogelito/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vogelito/subscriptions",
      "organizations_url": "https://api.github.com/users/vogelito/orgs",
      "repos_url": "https://api.github.com/users/vogelito/repos",
      "events_url": "https://api.github.com/users/vogelito/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vogelito/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-01-24T01:35:42Z",
    "updated_at": "2021-01-24T01:35:42Z",
    "author_association": "NONE",
    "body": "Hi @ligi - I'm measuring the time between the log line:\r\n```\r\nStarting pprof server\r\n```\r\n\r\nand the log line:\r\n```\r\nSet global gas cap                       cap=25000000\r\n```\r\n\r\nTimestamps above :)",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/766272767/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/766272909",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/22224#issuecomment-766272909",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22224",
    "id": 766272909,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc2NjI3MjkwOQ==",
    "user": {
      "login": "vogelito",
      "id": 1325863,
      "node_id": "MDQ6VXNlcjEzMjU4NjM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1325863?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vogelito",
      "html_url": "https://github.com/vogelito",
      "followers_url": "https://api.github.com/users/vogelito/followers",
      "following_url": "https://api.github.com/users/vogelito/following{/other_user}",
      "gists_url": "https://api.github.com/users/vogelito/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vogelito/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vogelito/subscriptions",
      "organizations_url": "https://api.github.com/users/vogelito/orgs",
      "repos_url": "https://api.github.com/users/vogelito/repos",
      "events_url": "https://api.github.com/users/vogelito/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vogelito/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-01-24T01:36:58Z",
    "updated_at": "2021-01-24T01:36:58Z",
    "author_association": "NONE",
    "body": "I understand this might not constitute a proper \"start\" definition, but it's where I'm now seeing a long delay upon start.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/766272909/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/766324970",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/22224#issuecomment-766324970",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22224",
    "id": 766324970,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc2NjMyNDk3MA==",
    "user": {
      "login": "gballet",
      "id": 3272758,
      "node_id": "MDQ6VXNlcjMyNzI3NTg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3272758?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gballet",
      "html_url": "https://github.com/gballet",
      "followers_url": "https://api.github.com/users/gballet/followers",
      "following_url": "https://api.github.com/users/gballet/following{/other_user}",
      "gists_url": "https://api.github.com/users/gballet/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gballet/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gballet/subscriptions",
      "organizations_url": "https://api.github.com/users/gballet/orgs",
      "repos_url": "https://api.github.com/users/gballet/repos",
      "events_url": "https://api.github.com/users/gballet/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gballet/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-01-24T10:31:39Z",
    "updated_at": "2021-01-24T10:31:39Z",
    "author_association": "MEMBER",
    "body": "Out of curiosity, what happens if you add the `--nousb` option ?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/766324970/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/766332159",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/22224#issuecomment-766332159",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22224",
    "id": 766332159,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc2NjMzMjE1OQ==",
    "user": {
      "login": "holiman",
      "id": 142290,
      "node_id": "MDQ6VXNlcjE0MjI5MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/142290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/holiman",
      "html_url": "https://github.com/holiman",
      "followers_url": "https://api.github.com/users/holiman/followers",
      "following_url": "https://api.github.com/users/holiman/following{/other_user}",
      "gists_url": "https://api.github.com/users/holiman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/holiman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/holiman/subscriptions",
      "organizations_url": "https://api.github.com/users/holiman/orgs",
      "repos_url": "https://api.github.com/users/holiman/repos",
      "events_url": "https://api.github.com/users/holiman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/holiman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-01-24T11:28:27Z",
    "updated_at": "2021-01-24T11:28:27Z",
    "author_association": "MEMBER",
    "body": "Istr seeing similar behavior on the berlin archive node. I think it's leveldb open that takes a long time, sometimes. @ligi have you seen this?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/766332159/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/766376593",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/22224#issuecomment-766376593",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22224",
    "id": 766376593,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc2NjM3NjU5Mw==",
    "user": {
      "login": "yorickdowne",
      "id": 71337066,
      "node_id": "MDQ6VXNlcjcxMzM3MDY2",
      "avatar_url": "https://avatars.githubusercontent.com/u/71337066?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/yorickdowne",
      "html_url": "https://github.com/yorickdowne",
      "followers_url": "https://api.github.com/users/yorickdowne/followers",
      "following_url": "https://api.github.com/users/yorickdowne/following{/other_user}",
      "gists_url": "https://api.github.com/users/yorickdowne/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/yorickdowne/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/yorickdowne/subscriptions",
      "organizations_url": "https://api.github.com/users/yorickdowne/orgs",
      "repos_url": "https://api.github.com/users/yorickdowne/repos",
      "events_url": "https://api.github.com/users/yorickdowne/events{/privacy}",
      "received_events_url": "https://api.github.com/users/yorickdowne/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-01-24T16:17:33Z",
    "updated_at": "2021-01-24T16:17:33Z",
    "author_association": "NONE",
    "body": "When you stop geth, do you have a custom timeout? Geth needs time to flush DB, if it's only given 15 or 30 secs to shut down, DB may be in a state that takes more time to on start. I set Geth shutdown timeout to 3 minutes, that seems to work well.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/766376593/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/766410815",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/22224#issuecomment-766410815",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22224",
    "id": 766410815,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc2NjQxMDgxNQ==",
    "user": {
      "login": "karalabe",
      "id": 129561,
      "node_id": "MDQ6VXNlcjEyOTU2MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/karalabe",
      "html_url": "https://github.com/karalabe",
      "followers_url": "https://api.github.com/users/karalabe/followers",
      "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
      "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
      "organizations_url": "https://api.github.com/users/karalabe/orgs",
      "repos_url": "https://api.github.com/users/karalabe/repos",
      "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/karalabe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-01-24T18:44:12Z",
    "updated_at": "2021-01-24T18:44:12Z",
    "author_association": "MEMBER",
    "body": "LevelDB triggers compaction when you open it more aggressively than during normal mode of operation (I guess their rationale was that a startup is a golden opportunity to shuffle some data before coming online). If that's the cause, there's not much we can do, an archive node is gigantic, so database maintenance will inherently be killer on perf.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/766410815/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/766422454",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/22224#issuecomment-766422454",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22224",
    "id": 766422454,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc2NjQyMjQ1NA==",
    "user": {
      "login": "vogelito",
      "id": 1325863,
      "node_id": "MDQ6VXNlcjEzMjU4NjM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1325863?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vogelito",
      "html_url": "https://github.com/vogelito",
      "followers_url": "https://api.github.com/users/vogelito/followers",
      "following_url": "https://api.github.com/users/vogelito/following{/other_user}",
      "gists_url": "https://api.github.com/users/vogelito/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vogelito/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vogelito/subscriptions",
      "organizations_url": "https://api.github.com/users/vogelito/orgs",
      "repos_url": "https://api.github.com/users/vogelito/repos",
      "events_url": "https://api.github.com/users/vogelito/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vogelito/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-01-24T20:01:49Z",
    "updated_at": "2021-01-24T20:01:49Z",
    "author_association": "NONE",
    "body": "> --nousb\r\n\r\nI'll try this. If anything hopefully it removes those error messages 😄 \r\n\r\n> When you stop geth, do you have a custom timeout? Geth needs time to flush DB, if it's only given 15 or 30 secs to shut down, DB may be in a state that takes more time to on start. I set Geth shutdown timeout to 3 minutes, that seems to work well.\r\n\r\nIt is managed by systemd, so whatever the default there is.\r\n\r\nHere's the log from the last restart:\r\n```\r\nINFO [01-24|01:15:49.052] Got interrupt, shutting down... \r\nINFO [01-24|01:15:49.556] HTTP server stopped                      endpoint=127.0.0.1:8545\r\nINFO [01-24|01:15:49.557] IPC endpoint closed                      url=/mnt/ethereum/geth.ipc\r\nINFO [01-24|01:15:49.558] Ethereum protocol stopped \r\nINFO [01-24|01:15:49.565] Transaction pool stopped \r\nINFO [01-24|01:15:49.565] Writing clean trie cache to disk         path=/mnt/ethereum/geth/triecache threads=8\r\nINFO [01-24|01:15:50.046] Persisted the clean trie cache           path=/mnt/ethereum/geth/triecache elapsed=480.110ms\r\nINFO [01-24|01:15:50.046] Blockchain stopped \r\n```\r\n\r\nAnd `journalctl` doesn't show anything obviously wrong:\r\n```\r\nJan 24 01:15:49 geth-mainnet systemd[1]: Stopping Geth Service...\r\nJan 24 01:16:20 geth-mainnet systemd[1]: geth.service: Succeeded.\r\nJan 24 01:16:20 geth-mainnet systemd[1]: Stopped Geth Service.\r\n```\r\n\r\n\r\n\r\n> LevelDB triggers compaction when you open it more aggressively than during normal mode of operation (I guess their rationale was that a startup is a golden opportunity to shuffle some data before coming online). If that's the cause, there's not much we can do, an archive node is gigantic, so database maintenance will inherently be killer on perf.\r\n\r\nIf you think of a way to test if this is the cause, I'd be happy to try it out.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/766422454/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/766423654",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/22224#issuecomment-766423654",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22224",
    "id": 766423654,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc2NjQyMzY1NA==",
    "user": {
      "login": "vogelito",
      "id": 1325863,
      "node_id": "MDQ6VXNlcjEzMjU4NjM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1325863?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vogelito",
      "html_url": "https://github.com/vogelito",
      "followers_url": "https://api.github.com/users/vogelito/followers",
      "following_url": "https://api.github.com/users/vogelito/following{/other_user}",
      "gists_url": "https://api.github.com/users/vogelito/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vogelito/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vogelito/subscriptions",
      "organizations_url": "https://api.github.com/users/vogelito/orgs",
      "repos_url": "https://api.github.com/users/vogelito/repos",
      "events_url": "https://api.github.com/users/vogelito/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vogelito/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-01-24T20:08:39Z",
    "updated_at": "2021-01-24T20:08:39Z",
    "author_association": "NONE",
    "body": "Logs from restart with `--nousb` option added.\r\n\r\nError lines gone, but restart still almost 4 mins:\r\n```\r\nINFO [01-24|20:02:39.803] Starting pprof server                    addr=http://127.0.0.1:6060/debug/pprof\r\nINFO [01-24|20:02:39.804] Starting Geth on Ethereum mainnet... \r\nINFO [01-24|20:02:39.805] Enabling metrics collection \r\nINFO [01-24|20:02:39.806] Maximum peer count                       ETH=25 LES=0 total=25\r\nINFO [01-24|20:02:39.807] Smartcard socket not found, disabling    err=\"stat /run/pcscd/pcscd.comm: no such file or directory\"\r\nINFO [01-24|20:06:31.322] Set global gas cap                       cap=25000000\r\n```\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/766423654/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/773127749",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/22224#issuecomment-773127749",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22224",
    "id": 773127749,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc3MzEyNzc0OQ==",
    "user": {
      "login": "holiman",
      "id": 142290,
      "node_id": "MDQ6VXNlcjE0MjI5MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/142290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/holiman",
      "html_url": "https://github.com/holiman",
      "followers_url": "https://api.github.com/users/holiman/followers",
      "following_url": "https://api.github.com/users/holiman/following{/other_user}",
      "gists_url": "https://api.github.com/users/holiman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/holiman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/holiman/subscriptions",
      "organizations_url": "https://api.github.com/users/holiman/orgs",
      "repos_url": "https://api.github.com/users/holiman/repos",
      "events_url": "https://api.github.com/users/holiman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/holiman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-02-04T08:29:30Z",
    "updated_at": "2021-02-04T08:29:30Z",
    "author_association": "MEMBER",
    "body": "I don't actually think this is due to leveldb open, because that happens later on. Here's the boot-up sequence with some more logging: \r\n```\r\nINFO [02-04|09:26:35.274] Smartcard socket not found, disabling    err=\"stat /run/pcscd/pcscd.comm: no such file or directory\"\r\nDEBUG[02-04|09:26:35.275] FS scan times                            list=\"39.172µs\" set=\"3.917µs\" diff=\"2.618µs\"\r\nTRACE[02-04|09:26:35.275] Started watching keystore folder         path=/home/user/.ethereum/yolo-v3/keystore\r\nTRACE[02-04|09:26:35.275] Handled keystore changes                 time=\"37.369µs\"\r\nERROR[02-04|09:26:35.275] Failed to enumerate USB devices          hub=ledger vendor=11415 failcount=1 err=\"failed to initialize libusb: libusb: unknown error [code -99]\"\r\n```\r\nSo the culprit could potentially be the keystore scanning. Do you have an extremely large keystore? \r\nDo you think it would be possible to capture the boot-up sequence with higher logging?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/773127749/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/774487492",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/22224#issuecomment-774487492",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22224",
    "id": 774487492,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc3NDQ4NzQ5Mg==",
    "user": {
      "login": "vogelito",
      "id": 1325863,
      "node_id": "MDQ6VXNlcjEzMjU4NjM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1325863?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vogelito",
      "html_url": "https://github.com/vogelito",
      "followers_url": "https://api.github.com/users/vogelito/followers",
      "following_url": "https://api.github.com/users/vogelito/following{/other_user}",
      "gists_url": "https://api.github.com/users/vogelito/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vogelito/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vogelito/subscriptions",
      "organizations_url": "https://api.github.com/users/vogelito/orgs",
      "repos_url": "https://api.github.com/users/vogelito/repos",
      "events_url": "https://api.github.com/users/vogelito/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vogelito/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-02-06T14:42:22Z",
    "updated_at": "2021-02-06T14:42:22Z",
    "author_association": "NONE",
    "body": "Happy to capture the boot-up sequence with higher logging. What should I use to do so?\r\n\r\nHow do you define “extremely large keystore”?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/774487492/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/774493574",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/22224#issuecomment-774493574",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22224",
    "id": 774493574,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc3NDQ5MzU3NA==",
    "user": {
      "login": "holiman",
      "id": 142290,
      "node_id": "MDQ6VXNlcjE0MjI5MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/142290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/holiman",
      "html_url": "https://github.com/holiman",
      "followers_url": "https://api.github.com/users/holiman/followers",
      "following_url": "https://api.github.com/users/holiman/following{/other_user}",
      "gists_url": "https://api.github.com/users/holiman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/holiman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/holiman/subscriptions",
      "organizations_url": "https://api.github.com/users/holiman/orgs",
      "repos_url": "https://api.github.com/users/holiman/repos",
      "events_url": "https://api.github.com/users/holiman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/holiman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-02-06T15:24:38Z",
    "updated_at": "2021-02-06T15:24:38Z",
    "author_association": "MEMBER",
    "body": "You can use --verbosity=4 or 5 (warning: extremely much logging on 5). Re extreme: if the keystore files are in the millions, that's pretty extreme. ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/774493574/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/779486420",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/22224#issuecomment-779486420",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22224",
    "id": 779486420,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc3OTQ4NjQyMA==",
    "user": {
      "login": "vogelito",
      "id": 1325863,
      "node_id": "MDQ6VXNlcjEzMjU4NjM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1325863?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vogelito",
      "html_url": "https://github.com/vogelito",
      "followers_url": "https://api.github.com/users/vogelito/followers",
      "following_url": "https://api.github.com/users/vogelito/following{/other_user}",
      "gists_url": "https://api.github.com/users/vogelito/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vogelito/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vogelito/subscriptions",
      "organizations_url": "https://api.github.com/users/vogelito/orgs",
      "repos_url": "https://api.github.com/users/vogelito/repos",
      "events_url": "https://api.github.com/users/vogelito/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vogelito/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-02-15T23:08:36Z",
    "updated_at": "2021-02-26T01:33:38Z",
    "author_association": "NONE",
    "body": "```\r\nINFO [02-15|22:38:59.260] Starting pprof server                    addr=http://127.0.0.1:6060/debug/pprof\r\nINFO [02-15|22:38:59.260] Starting Geth on Ethereum mainnet... \r\nDEBUG[02-15|22:38:59.260] Sanitizing Go's GC trigger               percent=50\r\nINFO [02-15|22:38:59.260] Enabling metrics collection \r\nINFO [02-15|22:38:59.262] Maximum peer count                       ETH=25 LES=0 total=25\r\nINFO [02-15|22:38:59.262] Smartcard socket not found, disabling    err=\"stat /run/pcscd/pcscd.comm: no such file or directory\"\r\nDEBUG[02-15|22:39:00.889] FS scan times                            list=866.455353ms set=414.712305ms diff=346.426093ms\r\nINFO [02-15|22:43:29.378] Set global gas cap                       cap=25000000\r\nINFO [02-15|22:43:29.378] Allocated trie memory caches             clean=1023.00MiB dirty=0.00B\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/779486420/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1131231864",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/22224#issuecomment-1131231864",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22224",
    "id": 1131231864,
    "node_id": "IC_kwDOAOvK985DbTp4",
    "user": {
      "login": "ligi",
      "id": 111600,
      "node_id": "MDQ6VXNlcjExMTYwMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/111600?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ligi",
      "html_url": "https://github.com/ligi",
      "followers_url": "https://api.github.com/users/ligi/followers",
      "following_url": "https://api.github.com/users/ligi/following{/other_user}",
      "gists_url": "https://api.github.com/users/ligi/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ligi/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ligi/subscriptions",
      "organizations_url": "https://api.github.com/users/ligi/orgs",
      "repos_url": "https://api.github.com/users/ligi/repos",
      "events_url": "https://api.github.com/users/ligi/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ligi/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-05-19T05:41:11Z",
    "updated_at": "2022-05-19T05:41:11Z",
    "author_association": "MEMBER",
    "body": "How many keys do you have in the keystore?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1131231864/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1367826296",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/22224#issuecomment-1367826296",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22224",
    "id": 1367826296,
    "node_id": "IC_kwDOAOvK985Rh194",
    "user": {
      "login": "MariusVanDerWijden",
      "id": 16664698,
      "node_id": "MDQ6VXNlcjE2NjY0Njk4",
      "avatar_url": "https://avatars.githubusercontent.com/u/16664698?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MariusVanDerWijden",
      "html_url": "https://github.com/MariusVanDerWijden",
      "followers_url": "https://api.github.com/users/MariusVanDerWijden/followers",
      "following_url": "https://api.github.com/users/MariusVanDerWijden/following{/other_user}",
      "gists_url": "https://api.github.com/users/MariusVanDerWijden/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MariusVanDerWijden/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MariusVanDerWijden/subscriptions",
      "organizations_url": "https://api.github.com/users/MariusVanDerWijden/orgs",
      "repos_url": "https://api.github.com/users/MariusVanDerWijden/repos",
      "events_url": "https://api.github.com/users/MariusVanDerWijden/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MariusVanDerWijden/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-12-30T09:51:27Z",
    "updated_at": "2022-12-30T09:51:27Z",
    "author_association": "MEMBER",
    "body": "Looks like this is caused by geth looking up all keys on startup.\r\nLooking up lots of keys in the keystore is a pretty heavy operation\r\nI'm going to close this for now, feel free to reopen if you don't have any keys in your keystore and the issue still persists\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1367826296/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1367835013",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/22224#issuecomment-1367835013",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22224",
    "id": 1367835013,
    "node_id": "IC_kwDOAOvK985Rh4GF",
    "user": {
      "login": "MariusVanDerWijden",
      "id": 16664698,
      "node_id": "MDQ6VXNlcjE2NjY0Njk4",
      "avatar_url": "https://avatars.githubusercontent.com/u/16664698?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MariusVanDerWijden",
      "html_url": "https://github.com/MariusVanDerWijden",
      "followers_url": "https://api.github.com/users/MariusVanDerWijden/followers",
      "following_url": "https://api.github.com/users/MariusVanDerWijden/following{/other_user}",
      "gists_url": "https://api.github.com/users/MariusVanDerWijden/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MariusVanDerWijden/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MariusVanDerWijden/subscriptions",
      "organizations_url": "https://api.github.com/users/MariusVanDerWijden/orgs",
      "repos_url": "https://api.github.com/users/MariusVanDerWijden/repos",
      "events_url": "https://api.github.com/users/MariusVanDerWijden/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MariusVanDerWijden/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-12-30T10:06:40Z",
    "updated_at": "2022-12-30T10:09:21Z",
    "author_association": "MEMBER",
    "body": "Hmm I'm not so sure that the keystore is actually the problem anymore. It is slow, but the biggest time is spent *after* the FS scan times have been printed already. So the issue might be between scanning the accounts and setting the ethconfig.\r\nThis is also on an old version now, we have since then added a few new log lines, maybe you could rerun this test on a new version @vogelito ? (and also report how many keys you have in your keystore)\r\n\r\nI would really like to see this line: `log.Trace(\"Handled keystore changes\", \"time\", end.Sub(start))`, so please use `--verbosity=5`",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1367835013/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1367837835",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/22224#issuecomment-1367837835",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22224",
    "id": 1367837835,
    "node_id": "IC_kwDOAOvK985Rh4yL",
    "user": {
      "login": "MariusVanDerWijden",
      "id": 16664698,
      "node_id": "MDQ6VXNlcjE2NjY0Njk4",
      "avatar_url": "https://avatars.githubusercontent.com/u/16664698?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MariusVanDerWijden",
      "html_url": "https://github.com/MariusVanDerWijden",
      "followers_url": "https://api.github.com/users/MariusVanDerWijden/followers",
      "following_url": "https://api.github.com/users/MariusVanDerWijden/following{/other_user}",
      "gists_url": "https://api.github.com/users/MariusVanDerWijden/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MariusVanDerWijden/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MariusVanDerWijden/subscriptions",
      "organizations_url": "https://api.github.com/users/MariusVanDerWijden/orgs",
      "repos_url": "https://api.github.com/users/MariusVanDerWijden/repos",
      "events_url": "https://api.github.com/users/MariusVanDerWijden/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MariusVanDerWijden/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-12-30T10:12:25Z",
    "updated_at": "2022-12-30T10:13:04Z",
    "author_association": "MEMBER",
    "body": "NVM, it's probably the scanAccounts routine that opens all accounts and reads their addresses, nothing we can do there if you have lots of keys",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1367837835/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1368172396",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/22224#issuecomment-1368172396",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22224",
    "id": 1368172396,
    "node_id": "IC_kwDOAOvK985RjKds",
    "user": {
      "login": "vogelito",
      "id": 1325863,
      "node_id": "MDQ6VXNlcjEzMjU4NjM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1325863?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vogelito",
      "html_url": "https://github.com/vogelito",
      "followers_url": "https://api.github.com/users/vogelito/followers",
      "following_url": "https://api.github.com/users/vogelito/following{/other_user}",
      "gists_url": "https://api.github.com/users/vogelito/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vogelito/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vogelito/subscriptions",
      "organizations_url": "https://api.github.com/users/vogelito/orgs",
      "repos_url": "https://api.github.com/users/vogelito/repos",
      "events_url": "https://api.github.com/users/vogelito/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vogelito/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-12-31T06:22:05Z",
    "updated_at": "2022-12-31T06:22:05Z",
    "author_association": "NONE",
    "body": "Happy to give this a try again. Just let me know :)",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1368172396/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
