{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/27771",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/27771/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/27771/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/27771/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/27771",
  "id": 1820102578,
  "node_id": "I_kwDOAOvK985sfI-y",
  "number": 27771,
  "title": "Fixing Port ID to Identify Signer on POA Network",
  "user": {
    "login": "AsadullahSoomro",
    "id": 46569970,
    "node_id": "MDQ6VXNlcjQ2NTY5OTcw",
    "avatar_url": "https://avatars.githubusercontent.com/u/46569970?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/AsadullahSoomro",
    "html_url": "https://github.com/AsadullahSoomro",
    "followers_url": "https://api.github.com/users/AsadullahSoomro/followers",
    "following_url": "https://api.github.com/users/AsadullahSoomro/following{/other_user}",
    "gists_url": "https://api.github.com/users/AsadullahSoomro/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/AsadullahSoomro/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/AsadullahSoomro/subscriptions",
    "organizations_url": "https://api.github.com/users/AsadullahSoomro/orgs",
    "repos_url": "https://api.github.com/users/AsadullahSoomro/repos",
    "events_url": "https://api.github.com/users/AsadullahSoomro/events{/privacy}",
    "received_events_url": "https://api.github.com/users/AsadullahSoomro/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 268304226,
      "node_id": "MDU6TGFiZWwyNjgzMDQyMjY=",
      "url": "https://api.github.com/repos/ethereum/go-ethereum/labels/type:docs",
      "name": "type:docs",
      "color": "fef2c0",
      "default": false,
      "description": null
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 3,
  "created_at": "2023-07-25T11:14:49Z",
  "updated_at": "2023-07-26T06:44:46Z",
  "closed_at": "2023-07-25T12:37:46Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "**Description:**\r\nIn the Clique consensus protocol for the Proof of Authority (POA) network, we are currently facing an issue with identifying the signer using the port ID. This GitHub issue aims to address the problem and make the necessary changes to ensure correct identification of signers on the network.\r\n\r\n**Proposed Changes:**\r\n\r\n**Fix Port 30303 Identification:**\r\nCurrently, the port 30303 is not being utilized to correctly identify the signer on the POA network. We need to modify the relevant code sections to ensure that the correct port information is used for signer identification.\r\n\r\n**Save and Update UDP 30303 and Enide ID String:**\r\nThe UDP 30303 port information is not being saved and updated as required. Additionally, the Enide ID string is not being handled properly. To fix this, appropriate modifications need to be made to the relevant parts of the codebase.\r\n\r\n**Code Modifications:**\r\n\r\n**Global Variable for J-Node ID:**\r\nA global variable should be defined in the main file (localnode.go) to store the J-Node ID, which will be used for signer identification.\r\n\r\nImplemented Functions in peer.go (located inside the p2p folder):\r\nThe following functions should be implemented in the peer.go file:\r\n\r\n2.1. **Save Port Information:**\r\nCreate a function to save the port information (including UDP 30303) for each node in the network.\r\n\r\n2.2. **Update Node Data:**\r\nImplement a function to update the node data, including the Enide ID string, when necessary.\r\n\r\n**Expected Behavior:**\r\nAfter the proposed changes, the Clique consensus protocol should be able to correctly identify the signer on the POA network using the fixed port ID. The port information (including UDP 30303) for each node should be saved properly, and the Enide ID string should be updated as needed.\r\n\r\nLet's work collaboratively to resolve this issue and improve the reliability of our POA network. Feel free to assign this issue to yourself if you're interested in working on it, and let's keep the discussion and updates on this thread. Thank you!",
  "closed_by": {
    "login": "karalabe",
    "id": 129561,
    "node_id": "MDQ6VXNlcjEyOTU2MQ==",
    "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/karalabe",
    "html_url": "https://github.com/karalabe",
    "followers_url": "https://api.github.com/users/karalabe/followers",
    "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
    "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
    "organizations_url": "https://api.github.com/users/karalabe/orgs",
    "repos_url": "https://api.github.com/users/karalabe/repos",
    "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
    "received_events_url": "https://api.github.com/users/karalabe/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/27771/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/27771/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1649757850",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/27771#issuecomment-1649757850",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/27771",
    "id": 1649757850,
    "node_id": "IC_kwDOAOvK985iVU6a",
    "user": {
      "login": "karalabe",
      "id": 129561,
      "node_id": "MDQ6VXNlcjEyOTU2MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/karalabe",
      "html_url": "https://github.com/karalabe",
      "followers_url": "https://api.github.com/users/karalabe/followers",
      "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
      "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
      "organizations_url": "https://api.github.com/users/karalabe/orgs",
      "repos_url": "https://api.github.com/users/karalabe/repos",
      "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/karalabe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-07-25T12:37:46Z",
    "updated_at": "2023-07-25T12:38:12Z",
    "author_association": "MEMBER",
    "body": "Hi GPT.\r\n\r\nYou can set the port number via CLI flags.\r\n\r\nBye GPT.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1649757850/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1649782561",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/27771#issuecomment-1649782561",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/27771",
    "id": 1649782561,
    "node_id": "IC_kwDOAOvK985iVa8h",
    "user": {
      "login": "AsadullahSoomro",
      "id": 46569970,
      "node_id": "MDQ6VXNlcjQ2NTY5OTcw",
      "avatar_url": "https://avatars.githubusercontent.com/u/46569970?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/AsadullahSoomro",
      "html_url": "https://github.com/AsadullahSoomro",
      "followers_url": "https://api.github.com/users/AsadullahSoomro/followers",
      "following_url": "https://api.github.com/users/AsadullahSoomro/following{/other_user}",
      "gists_url": "https://api.github.com/users/AsadullahSoomro/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/AsadullahSoomro/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/AsadullahSoomro/subscriptions",
      "organizations_url": "https://api.github.com/users/AsadullahSoomro/orgs",
      "repos_url": "https://api.github.com/users/AsadullahSoomro/repos",
      "events_url": "https://api.github.com/users/AsadullahSoomro/events{/privacy}",
      "received_events_url": "https://api.github.com/users/AsadullahSoomro/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-07-25T12:52:08Z",
    "updated_at": "2023-07-25T12:52:08Z",
    "author_association": "NONE",
    "body": "@karalabe, Thanks for your reply. ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1649782561/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1651069199",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/27771#issuecomment-1651069199",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/27771",
    "id": 1651069199,
    "node_id": "IC_kwDOAOvK985iaVEP",
    "user": {
      "login": "AsadullahSoomro",
      "id": 46569970,
      "node_id": "MDQ6VXNlcjQ2NTY5OTcw",
      "avatar_url": "https://avatars.githubusercontent.com/u/46569970?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/AsadullahSoomro",
      "html_url": "https://github.com/AsadullahSoomro",
      "followers_url": "https://api.github.com/users/AsadullahSoomro/followers",
      "following_url": "https://api.github.com/users/AsadullahSoomro/following{/other_user}",
      "gists_url": "https://api.github.com/users/AsadullahSoomro/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/AsadullahSoomro/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/AsadullahSoomro/subscriptions",
      "organizations_url": "https://api.github.com/users/AsadullahSoomro/orgs",
      "repos_url": "https://api.github.com/users/AsadullahSoomro/repos",
      "events_url": "https://api.github.com/users/AsadullahSoomro/events{/privacy}",
      "received_events_url": "https://api.github.com/users/AsadullahSoomro/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-07-26T06:39:03Z",
    "updated_at": "2023-07-26T06:44:46Z",
    "author_association": "NONE",
    "body": "Dear, @karalabe \r\n\r\nBasically, I want to fix the port issue, when I run the other node privately the port will change sometimes the local port change or sometime the remote port will change automatically I also try the **--nat =extip** command also but the result is still same can you please tell me what is the problem behind this?\r\n\r\nHere are screenshots attached below: \r\n\r\n![image_2023_07_26T06_25_17_784Z](https://github.com/ethereum/go-ethereum/assets/46569970/9de55992-778e-4580-ab66-cc8927ab1a2e)\r\n\r\n![image_202\r\n![image_2023_07_26T06_27_18_613Z](https://github.com/ethereum/go-ethereum/assets/46569970/2fd7d090-957f-4375-a2ec-86d4d4f6ed6c)\r\n3_07_26T06_31_47_803Z](https://github.com/ethereum/go-ethereum/assets/46569970/5917a6fd-31d6-4210-af34-863f7374a5e4)\r\n](![image_2023_07_26T06_29_43_569Z](https://github.com/ethereum/go-ethereum/assets/46569970/6aad6117-ec75-4801-9d3f-4783cd374e48)\r\n\r\n ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1651069199/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
