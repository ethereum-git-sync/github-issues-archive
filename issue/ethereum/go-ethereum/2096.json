{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/2096",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/2096/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/2096/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/2096/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/2096",
  "id": 124084682,
  "node_id": "MDU6SXNzdWUxMjQwODQ2ODI=",
  "number": 2096,
  "title": "admin.getContractInfo seems to search for white space hash when given contract address.",
  "user": {
    "login": "colm",
    "id": 18493,
    "node_id": "MDQ6VXNlcjE4NDkz",
    "avatar_url": "https://avatars.githubusercontent.com/u/18493?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/colm",
    "html_url": "https://github.com/colm",
    "followers_url": "https://api.github.com/users/colm/followers",
    "following_url": "https://api.github.com/users/colm/following{/other_user}",
    "gists_url": "https://api.github.com/users/colm/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/colm/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/colm/subscriptions",
    "organizations_url": "https://api.github.com/users/colm/orgs",
    "repos_url": "https://api.github.com/users/colm/repos",
    "events_url": "https://api.github.com/users/colm/events{/privacy}",
    "received_events_url": "https://api.github.com/users/colm/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 3,
  "created_at": "2015-12-28T16:01:06Z",
  "updated_at": "2015-12-28T21:14:56Z",
  "closed_at": "2015-12-28T21:12:52Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "admin.getContractInfo seems to search for white space hash when given contract address.\n\nvar address = \"0x4db56c006f6d9e2edf742438c7a7dc032a5c3025\"\nadmin.getContractInfo(address)\n\ngives err: HashToHash: content hash not found for '0xc5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470'\n\nvar address = \"0x1194e966965418c7d73a42cceeb254d875860356\"\nadmin.getContractInfo(address)\n\ngives: err: HashToHash: content hash not found for '0x32e7a6a214206e5822d71def806a2f764c50fb8b612e1caafc11674040ff45d5'\n\nis the hash of the string \"\" and is returned for many contract addresses. So i don't know what is causing this but it seems like a bug. \n",
  "closed_by": {
    "login": "zelig",
    "id": 769725,
    "node_id": "MDQ6VXNlcjc2OTcyNQ==",
    "avatar_url": "https://avatars.githubusercontent.com/u/769725?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/zelig",
    "html_url": "https://github.com/zelig",
    "followers_url": "https://api.github.com/users/zelig/followers",
    "following_url": "https://api.github.com/users/zelig/following{/other_user}",
    "gists_url": "https://api.github.com/users/zelig/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/zelig/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/zelig/subscriptions",
    "organizations_url": "https://api.github.com/users/zelig/orgs",
    "repos_url": "https://api.github.com/users/zelig/repos",
    "events_url": "https://api.github.com/users/zelig/events{/privacy}",
    "received_events_url": "https://api.github.com/users/zelig/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/2096/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/2096/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/167616836",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/2096#issuecomment-167616836",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/2096",
    "id": 167616836,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE2NzYxNjgzNg==",
    "user": {
      "login": "karalabe",
      "id": 129561,
      "node_id": "MDQ6VXNlcjEyOTU2MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/karalabe",
      "html_url": "https://github.com/karalabe",
      "followers_url": "https://api.github.com/users/karalabe/followers",
      "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
      "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
      "organizations_url": "https://api.github.com/users/karalabe/orgs",
      "repos_url": "https://api.github.com/users/karalabe/repos",
      "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/karalabe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-12-28T18:08:32Z",
    "updated_at": "2015-12-28T18:08:32Z",
    "author_association": "MEMBER",
    "body": "Hmmm, those methods seem to be using natspec, which is AFAIK experimental stuff. Dunno why natspec got merged into the admin namespace though, should probably have gone into its own. Anyway, that aside, maybe @zelig has an idea?\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/167616836/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/167642252",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/2096#issuecomment-167642252",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/2096",
    "id": 167642252,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE2NzY0MjI1Mg==",
    "user": {
      "login": "colm",
      "id": 18493,
      "node_id": "MDQ6VXNlcjE4NDkz",
      "avatar_url": "https://avatars.githubusercontent.com/u/18493?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/colm",
      "html_url": "https://github.com/colm",
      "followers_url": "https://api.github.com/users/colm/followers",
      "following_url": "https://api.github.com/users/colm/following{/other_user}",
      "gists_url": "https://api.github.com/users/colm/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/colm/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/colm/subscriptions",
      "organizations_url": "https://api.github.com/users/colm/orgs",
      "repos_url": "https://api.github.com/users/colm/repos",
      "events_url": "https://api.github.com/users/colm/events{/privacy}",
      "received_events_url": "https://api.github.com/users/colm/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-12-28T19:58:01Z",
    "updated_at": "2015-12-28T19:58:01Z",
    "author_association": "NONE",
    "body": "Thanks Karalabe, Just to note I used \"geth --natspec console 2>> out.txt\" enable netspec. As I found online. Not sure about experimental state. \n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/167642252/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/167658928",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/2096#issuecomment-167658928",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/2096",
    "id": 167658928,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE2NzY1ODkyOA==",
    "user": {
      "login": "zelig",
      "id": 769725,
      "node_id": "MDQ6VXNlcjc2OTcyNQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/769725?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/zelig",
      "html_url": "https://github.com/zelig",
      "followers_url": "https://api.github.com/users/zelig/followers",
      "following_url": "https://api.github.com/users/zelig/following{/other_user}",
      "gists_url": "https://api.github.com/users/zelig/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/zelig/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/zelig/subscriptions",
      "organizations_url": "https://api.github.com/users/zelig/orgs",
      "repos_url": "https://api.github.com/users/zelig/repos",
      "events_url": "https://api.github.com/users/zelig/events{/privacy}",
      "received_events_url": "https://api.github.com/users/zelig/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-12-28T21:12:52Z",
    "updated_at": "2015-12-28T21:14:56Z",
    "author_association": "MEMBER",
    "body": "@colm \nIn the first case, the hash is indeed that of the empty string. \nThis is because that contract does not exist, so its contract code is empty. \nObviously, this is not very friendly, with the new RPC and modules, there will be a lot of improvement of errors like this, see https://github.com/ethereum/go-ethereum/pull/2083 \n\nIn the second case however, the hash looked up is correct:\n\n``` js\naddress = \"0x4db56c006f6d9e2edf742438c7a7dc032a5c3025\"\nweb3.sha3(eth.getCode(address), {encoding:\"hex\"})\n// \"32e7a6a214206e5822d71def806a2f764c50fb8b612e1caafc11674040ff45d5\"\n```\n\nwhich means you have not correctly registered your contract hash (or your transaction didn't make it) you can do it on the console with: \n\n``` js\nadmin.register(eth.account[0], address, content_hash)\n```\n\n@karalabe I didn't know natspec was experimental. The whole roundtrip of creating, storing and retrieving contract Info is certainly not set in stone, but the standard seems solid to me.\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/167658928/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
