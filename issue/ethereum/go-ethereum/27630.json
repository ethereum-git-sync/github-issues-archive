{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/27630",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/27630/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/27630/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/27630/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/27630",
  "id": 1782656704,
  "node_id": "I_kwDOAOvK985qQS7A",
  "number": 27630,
  "title": "extend eth_createAccessList with stateOverrides",
  "user": {
    "login": "huahuayu",
    "id": 1725060,
    "node_id": "MDQ6VXNlcjE3MjUwNjA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1725060?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/huahuayu",
    "html_url": "https://github.com/huahuayu",
    "followers_url": "https://api.github.com/users/huahuayu/followers",
    "following_url": "https://api.github.com/users/huahuayu/following{/other_user}",
    "gists_url": "https://api.github.com/users/huahuayu/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/huahuayu/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/huahuayu/subscriptions",
    "organizations_url": "https://api.github.com/users/huahuayu/orgs",
    "repos_url": "https://api.github.com/users/huahuayu/repos",
    "events_url": "https://api.github.com/users/huahuayu/events{/privacy}",
    "received_events_url": "https://api.github.com/users/huahuayu/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 72233652,
      "node_id": "MDU6TGFiZWw3MjIzMzY1Mg==",
      "url": "https://api.github.com/repos/ethereum/go-ethereum/labels/type:feature",
      "name": "type:feature",
      "color": "84b6eb",
      "default": false,
      "description": null
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2023-06-30T14:45:06Z",
  "updated_at": "2023-07-04T11:36:03Z",
  "closed_at": null,
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "# Rationale\r\n\r\nThink about this case, you need to create accesslist for the second tx.\r\n\r\nLet's say two txs are tx0 & tx1, tx0 has an impact on tx1 execution, if tx0 failed, tx1 fails.\r\n\r\n`eth_createAccessList` can be used to create acceelist before you send tx0, but for tx1, you can't do it in the same way, because tx0's state changes are not applied, tx1 will fail.\r\n\r\n# Implementation\r\n\r\nMaybe it can be done by extend\r\n\r\n```go\r\nCreateAccessList(ctx context.Context, msg ethereum.CallMsg)\r\n```\r\n\r\nto \r\n\r\n```go\r\nCreateAccessList(ctx context.Context, msg ethereum.CallMsg, stateOverrides ...*ethapi.StateOverride)\r\n```\r\n\r\nSo I can find the state changes by tx0, then call `eth_createAccessList` with the state changes. e.g. erc20 balance changes.",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/27630/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/27630/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1614811015",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/27630#issuecomment-1614811015",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/27630",
    "id": 1614811015,
    "node_id": "IC_kwDOAOvK985gQA-H",
    "user": {
      "login": "09306677806",
      "id": 55155908,
      "node_id": "MDQ6VXNlcjU1MTU1OTA4",
      "avatar_url": "https://avatars.githubusercontent.com/u/55155908?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/09306677806",
      "html_url": "https://github.com/09306677806",
      "followers_url": "https://api.github.com/users/09306677806/followers",
      "following_url": "https://api.github.com/users/09306677806/following{/other_user}",
      "gists_url": "https://api.github.com/users/09306677806/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/09306677806/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/09306677806/subscriptions",
      "organizations_url": "https://api.github.com/users/09306677806/orgs",
      "repos_url": "https://api.github.com/users/09306677806/repos",
      "events_url": "https://api.github.com/users/09306677806/events{/privacy}",
      "received_events_url": "https://api.github.com/users/09306677806/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-06-30T15:21:23Z",
    "updated_at": "2023-07-03T08:35:35Z",
    "author_association": "NONE",
    "body": "There is a tax, if it is a tax that is connected to the wallet, the system starts working with the agreement, but the real tax is connected to the founder's own system, which is active. ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1614811015/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1620082313",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/27630#issuecomment-1620082313",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/27630",
    "id": 1620082313,
    "node_id": "IC_kwDOAOvK985gkH6J",
    "user": {
      "login": "rjl493456442",
      "id": 5959481,
      "node_id": "MDQ6VXNlcjU5NTk0ODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5959481?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rjl493456442",
      "html_url": "https://github.com/rjl493456442",
      "followers_url": "https://api.github.com/users/rjl493456442/followers",
      "following_url": "https://api.github.com/users/rjl493456442/following{/other_user}",
      "gists_url": "https://api.github.com/users/rjl493456442/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rjl493456442/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rjl493456442/subscriptions",
      "organizations_url": "https://api.github.com/users/rjl493456442/orgs",
      "repos_url": "https://api.github.com/users/rjl493456442/repos",
      "events_url": "https://api.github.com/users/rjl493456442/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rjl493456442/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-07-04T11:36:02Z",
    "updated_at": "2023-07-04T11:36:02Z",
    "author_association": "MEMBER",
    "body": "In this case, we might need to have an API to support creating accessList for a batch of transactions, instead of overriding the states.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1620082313/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
