{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/19248",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/19248/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/19248/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/19248/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/19248",
  "id": 419280362,
  "node_id": "MDU6SXNzdWU0MTkyODAzNjI=",
  "number": 19248,
  "title": "invalid opcode 0xfe crashed node",
  "user": {
    "login": "dwalintukan",
    "id": 4350404,
    "node_id": "MDQ6VXNlcjQzNTA0MDQ=",
    "avatar_url": "https://avatars.githubusercontent.com/u/4350404?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/dwalintukan",
    "html_url": "https://github.com/dwalintukan",
    "followers_url": "https://api.github.com/users/dwalintukan/followers",
    "following_url": "https://api.github.com/users/dwalintukan/following{/other_user}",
    "gists_url": "https://api.github.com/users/dwalintukan/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/dwalintukan/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/dwalintukan/subscriptions",
    "organizations_url": "https://api.github.com/users/dwalintukan/orgs",
    "repos_url": "https://api.github.com/users/dwalintukan/repos",
    "events_url": "https://api.github.com/users/dwalintukan/events{/privacy}",
    "received_events_url": "https://api.github.com/users/dwalintukan/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 1132754722,
      "node_id": "MDU6TGFiZWwxMTMyNzU0NzIy",
      "url": "https://api.github.com/repos/ethereum/go-ethereum/labels/need:more-information",
      "name": "need:more-information",
      "color": "db6fa3",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2019-03-11T03:33:02Z",
  "updated_at": "2019-04-11T11:33:16Z",
  "closed_at": "2019-04-11T11:33:16Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "I have a forked (off Cantstantinople release commit) Clique private chain and recently ran into this error, which I believe was the cause of the node crashing.\r\n\r\n```\r\nDEBUG[03-07|08:12:56.100] Persisted trie from memory database      nodes=0  size=0.00B  time=6.53Âµs       gcnodes=0 gcsize=0.00B gctime=0s livenodes=1 livesize=0.00B\r\nDEBUG[03-07|08:12:56.100] Inserted new block                       number=863660 hash=c79ac0â€¦d0a2ce uncles=0 txs=0 gas=0       elapsed=596.02Âµs        root=b010b3â€¦30a32b\r\nINFO [03-07|08:12:56.101] Imported new chain segment               blocks=1   txs=0 mgas=0.000 elapsed=822.779Âµs       mgasps=0.000    number=863660 hash=c79ac0â€¦d0a2ce cache=0.00B\r\nDEBUG[03-07|08:12:56.101] Reinjecting stale transactions           count=0\r\nDEBUG[03-07|08:12:56.102] Committing new uncle to block            hash=0b525aâ€¦2ba17a\r\nDEBUG[03-07|08:12:56.105] VM returned with error                   err=\"invalid opcode 0xfe\"\r\nDEBUG[03-07|08:12:56.106] VM returned with error                   err=\"insufficient balance for transfer\"\r\nDEBUG[03-07|08:12:56.106] Transaction failed, account skipped      hash=6bc246â€¦299bdf err=\"insufficient balance for transfer\"\r\nDEBUG[03-07|08:12:56.109] Queued propagated block                  peer=6a8e151e326d6997 number=863660 hash=c79ac0â€¦d0a2ce queued=1\r\nDEBUG[03-07|08:12:56.227] Queued propagated block                  peer=6e154b112aa601d5 number=863660 hash=c79ac0â€¦d0a2ce queued=1\r\nDEBUG[03-07|08:12:58.440] Revalidated node                         b=16 id=6a8e151e326d6997 checks=1\r\nDEBUG[03-07|08:12:59.043] Queued propagated block                  peer=6a8e151e326d6997 number=863661 hash=7dbdbaâ€¦1c9ba9 queued=1\r\nDEBUG[03-07|08:12:59.044] Importing propagated block               peer=6a8e151e326d6997 number=863661 hash=7dbdbaâ€¦1c9ba9\r\nDEBUG[03-07|08:12:59.044] Trie cache stats after commit            misses=0 unloads=0\r\nDEBUG[03-07|08:12:59.044] Persisted trie from memory database      nodes=0  size=0.00B  time=5.132Âµs      gcnodes=0 gcsize=0.00B gctime=0s livenodes=1 livesize=0.00B\r\nDEBUG[03-07|08:12:59.044] Inserted new block                       number=863661 hash=7dbdbaâ€¦1c9ba9 uncles=0 txs=0 gas=0       elapsed=315.898Âµs       root=b010b3â€¦30a32b\r\nINFO [03-07|08:12:59.044] Imported new chain segment               blocks=1   txs=0 mgas=0.000 elapsed=448.212Âµs       mgasps=0.000    number=863661 hash=7dbdbaâ€¦1c9ba9 cache=0.00B\r\nDEBUG[03-07|08:12:59.045] Committing new uncle to block            hash=0b525aâ€¦2ba17a\r\nDEBUG[03-07|08:12:59.046] VM returned with error                   err=\"invalid opcode 0xfe\"\r\nDEBUG[03-07|08:12:59.048] VM returned with error                   err=\"insufficient balance for transfer\"\r\nDEBUG[03-07|08:12:59.048] Transaction failed, account skipped      hash=6bc246â€¦299bdf err=\"insufficient balance for transfer\"\r\nDEBUG[03-07|08:12:59.051] Reinjecting stale transactions           count=0\r\nDEBUG[03-07|08:12:59.156] Queued propagated block                  peer=b5799545a0ddeedc number=863661 hash=7dbdbaâ€¦1c9ba9 queued=1\r\nDEBUG[03-07|08:12:59.277] Queued propagated block                  peer=6e154b112aa601d5 number=863661 hash=7dbdbaâ€¦1c9ba9 queued=1\r\nDEBUG[03-07|08:12:59.837] Executing EVM call finished              runtime=353.571Âµs\r\nDEBUG[03-07|08:13:02.154] Queued propagated block                  peer=6e154b112aa601d5 number=863662 hash=8ab79eâ€¦c5780d queued=1\r\nDEBUG[03-07|08:13:02.154] Importing propagated block               peer=6e154b112aa601d5 number=863662 hash=8ab79eâ€¦c5780d\r\nDEBUG[03-07|08:13:02.155] Trie cache stats after commit            misses=0 unloads=0\r\nDEBUG[03-07|08:13:02.155] Persisted trie from memory database      nodes=0  size=0.00B  time=6.545Âµs      gcnodes=0 gcsize=0.00B gctime=0s livenodes=1 livesize=0.00B\r\nDEBUG[03-07|08:13:02.155] Inserted new block                       number=863662 hash=8ab79eâ€¦c5780d uncles=0 txs=0 gas=0       elapsed=578.749Âµs       root=b010b3â€¦30a32b\r\nINFO [03-07|08:13:02.155] Imported new chain segment               blocks=1   txs=0 mgas=0.000 elapsed=838.949Âµs       mgasps=0.000    number=863662 hash=8ab79eâ€¦c5780d cache=0.00B\r\nDEBUG[03-07|08:13:02.158] Committing new uncle to block            hash=0b525aâ€¦2ba17a\r\nDEBUG[03-07|08:13:02.158] VM returned with error                   err=\"invalid opcode 0xfe\"\r\nDEBUG[03-07|08:13:02.159] VM returned with error                   err=\"insufficient balance for transfer\"\r\nDEBUG[03-07|08:13:02.159] Transaction failed, account skipped      hash=6bc246â€¦299bdf err=\"insufficient balance for transfer\"\r\nDEBUG[03-07|08:13:02.166] Reinjecting stale transactions           count=0\r\nDEBUG[03-07|08:13:02.167] Queued propagated block                  peer=6a8e151e326d6997 number=863662 hash=8ab79eâ€¦c5780d queued=1\r\nDEBUG[03-07|08:13:02.168] Queued propagated block                  peer=b5799545a0ddeedc number=863662 hash=8ab79eâ€¦c5780d queued=1\r\nDEBUG[03-07|08:13:02.706] Revalidated node                         b=16 id=6e154b112aa601d5 checks=1\r\nDEBUG[03-07|08:13:03.328] Recalculated downloader QoS values       rtt=19.999999997s confidence=1.000 ttl=1m0s\r\nDEBUG[03-07|08:13:05.099] Queued propagated block                  peer=b5799545a0ddeedc number=863663 hash=0c1fa7â€¦bbfbab queued=1\r\nDEBUG[03-07|08:13:05.099] Importing propagated block               peer=b5799545a0ddeedc number=863663 hash=0c1fa7â€¦bbfbab\r\n```\r\n\r\nIt seeems to be related to `insufficient balance for transfer` as it was the next line after the `invalid opcode 0xfe`. Never seen this before and not sure how to reproduce it. Will dig deeper to see if I can find the cause.\r\n\r\nI checked `opcodes.go` and `0xfe` is a non-existent opcode so not sure where this one came from ðŸ¤” \r\n\r\n",
  "closed_by": {
    "login": "no-response[bot]",
    "id": 32965360,
    "node_id": "MDM6Qm90MzI5NjUzNjA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/26350515?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/no-response%5Bbot%5D",
    "html_url": "https://github.com/apps/no-response",
    "followers_url": "https://api.github.com/users/no-response%5Bbot%5D/followers",
    "following_url": "https://api.github.com/users/no-response%5Bbot%5D/following{/other_user}",
    "gists_url": "https://api.github.com/users/no-response%5Bbot%5D/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/no-response%5Bbot%5D/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/no-response%5Bbot%5D/subscriptions",
    "organizations_url": "https://api.github.com/users/no-response%5Bbot%5D/orgs",
    "repos_url": "https://api.github.com/users/no-response%5Bbot%5D/repos",
    "events_url": "https://api.github.com/users/no-response%5Bbot%5D/events{/privacy}",
    "received_events_url": "https://api.github.com/users/no-response%5Bbot%5D/received_events",
    "type": "Bot",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/19248/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/19248/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/471415192",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/19248#issuecomment-471415192",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/19248",
    "id": 471415192,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ3MTQxNTE5Mg==",
    "user": {
      "login": "holiman",
      "id": 142290,
      "node_id": "MDQ6VXNlcjE0MjI5MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/142290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/holiman",
      "html_url": "https://github.com/holiman",
      "followers_url": "https://api.github.com/users/holiman/followers",
      "following_url": "https://api.github.com/users/holiman/following{/other_user}",
      "gists_url": "https://api.github.com/users/holiman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/holiman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/holiman/subscriptions",
      "organizations_url": "https://api.github.com/users/holiman/orgs",
      "repos_url": "https://api.github.com/users/holiman/repos",
      "events_url": "https://api.github.com/users/holiman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/holiman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-03-11T06:06:25Z",
    "updated_at": "2019-03-11T06:06:25Z",
    "author_association": "MEMBER",
    "body": "Invalid opcodes, and 0xfe in particular are used to abort execution with an error. Why do you think it crashed the node? Give us a trace of the crash instead...",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/471415192/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/482078026",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/19248#issuecomment-482078026",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/19248",
    "id": 482078026,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ4MjA3ODAyNg==",
    "user": {
      "login": "no-response[bot]",
      "id": 32965360,
      "node_id": "MDM6Qm90MzI5NjUzNjA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/26350515?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/no-response%5Bbot%5D",
      "html_url": "https://github.com/apps/no-response",
      "followers_url": "https://api.github.com/users/no-response%5Bbot%5D/followers",
      "following_url": "https://api.github.com/users/no-response%5Bbot%5D/following{/other_user}",
      "gists_url": "https://api.github.com/users/no-response%5Bbot%5D/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/no-response%5Bbot%5D/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/no-response%5Bbot%5D/subscriptions",
      "organizations_url": "https://api.github.com/users/no-response%5Bbot%5D/orgs",
      "repos_url": "https://api.github.com/users/no-response%5Bbot%5D/repos",
      "events_url": "https://api.github.com/users/no-response%5Bbot%5D/events{/privacy}",
      "received_events_url": "https://api.github.com/users/no-response%5Bbot%5D/received_events",
      "type": "Bot",
      "site_admin": false
    },
    "created_at": "2019-04-11T11:33:15Z",
    "updated_at": "2019-04-11T11:33:15Z",
    "author_association": "NONE",
    "body": "This issue has been automatically closed because there has been no response to our request for more information from the original author. With only the information that is currently in the issue, we don't have enough information to take action. Please reach out if you have more relevant information or answers to our questions so that we can investigate further.\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/482078026/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
