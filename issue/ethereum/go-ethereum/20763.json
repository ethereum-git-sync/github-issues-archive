{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/20763",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/20763/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/20763/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/20763/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/20763",
  "id": 581126665,
  "node_id": "MDU6SXNzdWU1ODExMjY2NjU=",
  "number": 20763,
  "title": "PoA txs-per-block ",
  "user": {
    "login": "terrancewong",
    "id": 44456699,
    "node_id": "MDQ6VXNlcjQ0NDU2Njk5",
    "avatar_url": "https://avatars.githubusercontent.com/u/44456699?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/terrancewong",
    "html_url": "https://github.com/terrancewong",
    "followers_url": "https://api.github.com/users/terrancewong/followers",
    "following_url": "https://api.github.com/users/terrancewong/following{/other_user}",
    "gists_url": "https://api.github.com/users/terrancewong/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/terrancewong/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/terrancewong/subscriptions",
    "organizations_url": "https://api.github.com/users/terrancewong/orgs",
    "repos_url": "https://api.github.com/users/terrancewong/repos",
    "events_url": "https://api.github.com/users/terrancewong/events{/privacy}",
    "received_events_url": "https://api.github.com/users/terrancewong/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 4,
  "created_at": "2020-03-14T09:30:54Z",
  "updated_at": "2020-03-17T01:48:47Z",
  "closed_at": "2020-03-17T01:48:47Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "Hi there,\r\n\r\n#### System information\r\n\r\nGeth version: `1.8.19-stable`\r\n\r\nOS & Version: Ubuntu Linux 18.04\r\n\r\ngenesis.json\r\n\r\n```\r\n    \"clique\": {\r\n      \"period\": 5,\r\n      \"epoch\": 30000\r\n    }\r\n  },\r\n  \"difficulty\": \"1\",\r\n  \"gasLimit\": \"8000000\",\r\n\r\n```\r\n\r\n#### Expected behaviour\r\n\r\nOn a gasprice=0 PoA private network, Blocktime = 5s. Only one node.\r\n\r\nSent hundreds to thousands of simple or small data TXs to the node, hundreds expected sealed in each block.\r\n\r\n#### Actual behaviour\r\n\r\nOnly 11-12 txs sealed in each block.\r\n\r\n#### Failed Attempts\r\n\r\n* `miner.setRecommitInterval (1)`\r\n\r\n\r\n\r\n#### console log\r\n\r\n````\r\nDEBUG[03-14|17:41:57.249] Transaction pool status report           executable=58 queued=0 stales=0\r\nDEBUG[03-14|17:41:58.000] Trie cache stats after commit            misses=0 unloads=0                                                  \r\nINFO [03-14|17:41:58.000] Successfully sealed new block            number=4306 sealhash=09e1acâ€¦fcf2ff hash=23fda5â€¦30fb16 elapsed=4.558s\r\nINFO [03-14|17:41:58.000] ðŸ”¨ mined potential block                  number=4306 hash=23fda5â€¦30fb16\r\nDEBUG[03-14|17:41:58.000] Reinjecting stale transactions           count=0\r\n  Transactions pending. Start mining...                                                                                                                  \r\nINFO [03-14|17:41:58.446] Transaction pool price threshold updated price=0                          \r\nINFO [03-14|17:41:58.447] Commit new mining work                   number=4307 sealhash=60f176â€¦5833ae uncles=0 txs=0 gas=0     fees=0 elapsed=95.568Âµs\r\nINFO [03-14|17:41:58.449] Commit new mining work                   number=4307 sealhash=b28e1fâ€¦d1dda7 uncles=0 txs=12 gas=263764 fees=0 elapsed=2.830ms\r\nDEBUG[03-14|17:42:03.001] Trie cache stats after commit            misses=0 unloads=0             \r\nINFO [03-14|17:42:03.001] Successfully sealed new block            number=4307 sealhash=b28e1fâ€¦d1dda7 hash=d2f7e7â€¦68902d elapsed=4.553s\r\nINFO [03-14|17:42:03.001] ðŸ”¨ mined potential block                  number=4307 hash=d2f7e7â€¦68902d\r\nDEBUG[03-14|17:42:03.001] Reinjecting stale transactions           count=0                                                                               \r\nINFO [03-14|17:42:03.002] Commit new mining work                   number=4308 sealhash=6493cdâ€¦0fce41 uncles=0 txs=0  gas=0      fees=0 elapsed=532.484Âµs\r\nINFO [03-14|17:42:03.002] Commit new mining work                   number=4308 sealhash=ca49d1â€¦5991f1 uncles=0 txs=12 gas=264240 fees=0 elapsed=1.186ms\r\n  Seal confirmations achieved; mining stopped.                                       \r\n  Transactions pending. Start mining...                                                                                                \r\nINFO [03-14|17:42:03.017] Transaction pool price threshold updated price=0                        \r\nINFO [03-14|17:42:03.017] Commit new mining work                   number=4308 sealhash=6493cdâ€¦0fce41 uncles=0 txs=0  gas=0      fees=0 elapsed=56.188Âµs\r\nINFO [03-14|17:42:03.018] Commit new mining work                   number=4308 sealhash=ca49d1â€¦5991f1 uncles=0 txs=12 gas=264240 fees=0 elapsed=963.945Âµs\r\nDEBUG[03-14|17:42:05.249] Transaction pool status report           executable=46 queued=0 stales=12 \r\nDEBUG[03-14|17:42:05.249] Recalculated downloader QoS values       rtt=20s confidence=1.000 ttl=1m0s\r\nDEBUG[03-14|17:42:08.000] Trie cache stats after commit            misses=0 unloads=0               \r\nINFO [03-14|17:42:08.000] Successfully sealed new block            number=4308 sealhash=ca49d1â€¦5991f1 hash=2aa355â€¦3d8e17 elapsed=4.982s\r\nINFO [03-14|17:42:08.000] ðŸ”¨ mined potential block                  number=4308 hash=2aa355â€¦3d8e17  \r\nDEBUG[03-14|17:42:08.001] Reinjecting stale transactions           count=0                          \r\nINFO [03-14|17:42:08.001] Commit new mining work                   number=4309 sealhash=fd5868â€¦4af015 uncles=0 txs=0  gas=0      fees=0 elapsed=640.236Âµs\r\nINFO [03-14|17:42:08.002] Commit new mining work                   number=4309 sealhash=8ddc3bâ€¦bfb4b0 uncles=0 txs=12 gas=264240 fees=0 elapsed=1.711ms\r\n  Seal confirmations achieved; mining stopped.                                                      \r\n  Transactions pending. Start mining...                                                             \r\nINFO [03-14|17:42:08.018] Transaction pool price threshold updated price=0                          \r\nINFO [03-14|17:42:08.018] Commit new mining work                   number=4309 sealhash=fd5868â€¦4af015 uncles=0 txs=0  gas=0      fees=0 elapsed=58.125Âµs\r\nINFO [03-14|17:42:08.019] Commit new mining work                   number=4309 sealhash=8ddc3bâ€¦bfb4b0 uncles=0 txs=12 gas=264240 fees=0 elapsed=715.405Âµs\r\nDEBUG[03-14|17:42:13.000] Trie cache stats after commit            misses=0 unloads=0\r\nINFO [03-14|17:42:13.000] Successfully sealed new block            number=4309 sealhash=8ddc3bâ€¦bfb4b0 hash=3e6c6fâ€¦530833 elapsed=4.981s\r\nINFO [03-14|17:42:13.001] ðŸ”¨ mined potential block                  number=4309 hash=3e6c6fâ€¦530833\r\nDEBUG[03-14|17:42:13.001] Reinjecting stale transactions           count=0\r\nINFO [03-14|17:42:13.001] Commit new mining work                   number=4310 sealhash=473544â€¦247430 uncles=0 txs=0  gas=0      fees=0 elapsed=424.597Âµs\r\nINFO [03-14|17:42:13.002] Commit new mining work                   number=4310 sealhash=81b2fbâ€¦ab26b1 uncles=0 txs=12 gas=264240 fees=0 elapsed=1.078ms\r\n  Seal confirmations achieved; mining stopped.\r\n  Transactions pending. Start mining...\r\nINFO [03-14|17:42:13.016] Transaction pool price threshold updated price=0\r\nINFO [03-14|17:42:13.017] Commit new mining work                   number=4310 sealhash=473544â€¦247430 uncles=0 txs=0  gas=0      fees=0 elapsed=66.838Âµs\r\nINFO [03-14|17:42:13.017] Commit new mining work                   number=4310 sealhash=81b2fbâ€¦ab26b1 uncles=0 txs=12 gas=264240 fees=0 elapsed=735.133Âµs\r\nDEBUG[03-14|17:42:13.249] Transaction pool status report           executable=22 queued=0 stales=1\r\n\r\n````\r\n",
  "closed_by": {
    "login": "terrancewong",
    "id": 44456699,
    "node_id": "MDQ6VXNlcjQ0NDU2Njk5",
    "avatar_url": "https://avatars.githubusercontent.com/u/44456699?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/terrancewong",
    "html_url": "https://github.com/terrancewong",
    "followers_url": "https://api.github.com/users/terrancewong/followers",
    "following_url": "https://api.github.com/users/terrancewong/following{/other_user}",
    "gists_url": "https://api.github.com/users/terrancewong/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/terrancewong/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/terrancewong/subscriptions",
    "organizations_url": "https://api.github.com/users/terrancewong/orgs",
    "repos_url": "https://api.github.com/users/terrancewong/repos",
    "events_url": "https://api.github.com/users/terrancewong/events{/privacy}",
    "received_events_url": "https://api.github.com/users/terrancewong/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/20763/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/20763/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/599054875",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/20763#issuecomment-599054875",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/20763",
    "id": 599054875,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU5OTA1NDg3NQ==",
    "user": {
      "login": "karalabe",
      "id": 129561,
      "node_id": "MDQ6VXNlcjEyOTU2MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/karalabe",
      "html_url": "https://github.com/karalabe",
      "followers_url": "https://api.github.com/users/karalabe/followers",
      "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
      "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
      "organizations_url": "https://api.github.com/users/karalabe/orgs",
      "repos_url": "https://api.github.com/users/karalabe/repos",
      "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/karalabe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-03-14T12:46:56Z",
    "updated_at": "2020-03-14T12:46:56Z",
    "author_association": "MEMBER",
    "body": "How much gas do your txs request? If you are sending txs with huge gas limits, eventually the next one will \"ask\" for more than gas left in the block and will be prevented to go in, even if it wouldn't actually use as much.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/599054875/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/599055021",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/20763#issuecomment-599055021",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/20763",
    "id": 599055021,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU5OTA1NTAyMQ==",
    "user": {
      "login": "karalabe",
      "id": 129561,
      "node_id": "MDQ6VXNlcjEyOTU2MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/karalabe",
      "html_url": "https://github.com/karalabe",
      "followers_url": "https://api.github.com/users/karalabe/followers",
      "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
      "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
      "organizations_url": "https://api.github.com/users/karalabe/orgs",
      "repos_url": "https://api.github.com/users/karalabe/repos",
      "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/karalabe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-03-14T12:48:05Z",
    "updated_at": "2020-03-14T12:48:05Z",
    "author_association": "MEMBER",
    "body": "Also, the 1.8.19 release is fairly old, so you might want to check with a recent one.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/599055021/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/599081335",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/20763#issuecomment-599081335",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/20763",
    "id": 599081335,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU5OTA4MTMzNQ==",
    "user": {
      "login": "terrancewong",
      "id": 44456699,
      "node_id": "MDQ6VXNlcjQ0NDU2Njk5",
      "avatar_url": "https://avatars.githubusercontent.com/u/44456699?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/terrancewong",
      "html_url": "https://github.com/terrancewong",
      "followers_url": "https://api.github.com/users/terrancewong/followers",
      "following_url": "https://api.github.com/users/terrancewong/following{/other_user}",
      "gists_url": "https://api.github.com/users/terrancewong/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/terrancewong/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/terrancewong/subscriptions",
      "organizations_url": "https://api.github.com/users/terrancewong/orgs",
      "repos_url": "https://api.github.com/users/terrancewong/repos",
      "events_url": "https://api.github.com/users/terrancewong/events{/privacy}",
      "received_events_url": "https://api.github.com/users/terrancewong/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-03-14T15:36:04Z",
    "updated_at": "2020-03-14T15:36:04Z",
    "author_association": "NONE",
    "body": "Using normal tx gasLimit i.e.  21000+68*datalen, while gasPrice is 0 (reasonable for PoA). And even with 1/10 and 1/100 tx gasLimit, still 11-12txs/block. ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/599081335/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/599836088",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/20763#issuecomment-599836088",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/20763",
    "id": 599836088,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU5OTgzNjA4OA==",
    "user": {
      "login": "terrancewong",
      "id": 44456699,
      "node_id": "MDQ6VXNlcjQ0NDU2Njk5",
      "avatar_url": "https://avatars.githubusercontent.com/u/44456699?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/terrancewong",
      "html_url": "https://github.com/terrancewong",
      "followers_url": "https://api.github.com/users/terrancewong/followers",
      "following_url": "https://api.github.com/users/terrancewong/following{/other_user}",
      "gists_url": "https://api.github.com/users/terrancewong/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/terrancewong/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/terrancewong/subscriptions",
      "organizations_url": "https://api.github.com/users/terrancewong/orgs",
      "repos_url": "https://api.github.com/users/terrancewong/repos",
      "events_url": "https://api.github.com/users/terrancewong/events{/privacy}",
      "received_events_url": "https://api.github.com/users/terrancewong/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-03-17T01:48:47Z",
    "updated_at": "2020-03-17T01:48:47Z",
    "author_association": "NONE",
    "body": "I found out eth.getBlock(\"pending\").gasLimit keeps dropping if a block with txs=0 is mined/sealed. Decided using `--miner.gastarget` and  `--miner.gaslimit` to push it.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/599836088/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
