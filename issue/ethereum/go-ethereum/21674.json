{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/21674",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/21674/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/21674/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/21674/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/21674",
  "id": 716919286,
  "node_id": "MDU6SXNzdWU3MTY5MTkyODY=",
  "number": 21674,
  "title": "Clef returns `request denied` instead of an empty list when there are no accounts to list",
  "user": {
    "login": "cygnusv",
    "id": 2564234,
    "node_id": "MDQ6VXNlcjI1NjQyMzQ=",
    "avatar_url": "https://avatars.githubusercontent.com/u/2564234?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/cygnusv",
    "html_url": "https://github.com/cygnusv",
    "followers_url": "https://api.github.com/users/cygnusv/followers",
    "following_url": "https://api.github.com/users/cygnusv/following{/other_user}",
    "gists_url": "https://api.github.com/users/cygnusv/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/cygnusv/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/cygnusv/subscriptions",
    "organizations_url": "https://api.github.com/users/cygnusv/orgs",
    "repos_url": "https://api.github.com/users/cygnusv/repos",
    "events_url": "https://api.github.com/users/cygnusv/events{/privacy}",
    "received_events_url": "https://api.github.com/users/cygnusv/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 5,
  "created_at": "2020-10-07T23:40:25Z",
  "updated_at": "2022-06-10T14:54:19Z",
  "closed_at": "2020-10-08T08:10:59Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "When we perform an `account_list` request to clef and there is no hardware wallet plugged-in or keystore files in the keystore directory, Clef errors with a `request_denied`. Seems like a better approach would be to respond with an empty list.\r\n\r\n#### System information\r\n\r\nGeth version: 1.9.15-stable\r\nOS & Version: OSX\r\n\r\n#### Expected behaviour\r\nReturn an empty list.\r\n\r\n#### Actual behaviour\r\nErrors with `request_denied`.\r\n\r\n#### Steps to reproduce the behaviour\r\n* Run clef with no HW wallet and using a keystore directory with no keystore files\r\n* Make an `account_list` request\r\n\r\n#### Backtrace\r\n\r\nOn Clef side: \r\n```\r\nWARN [10-08|01:35:34.789] Served account_list                      reqid=0 t=6.788424ms               err=\"request denied\"\r\n```\r\n\r\nOn the requesting application side (using web3py):\r\n```\r\n  \r\nFile \"/Users/david/NuCypher/dev/nucypher/nucypher/blockchain/eth/signers/software.py\", line 167, in accounts\r\n    normalized_addresses = self.__ipc_request(endpoint=\"account_list\")\r\n  File \"/Users/david/NuCypher/dev/nucypher/nucypher/blockchain/eth/signers/software.py\", line 136, in __ipc_request\r\n    response = self.w3.manager.request_blocking(endpoint, request_args)\r\n  File \"/Users/david/.local/share/virtualenvs/nucypher-cjt3uwkK/lib/python3.8/site-packages/web3/manager.py\", line 153, in request_blocking\r\n    raise ValueError(response[\"error\"])\r\nValueError: {'code': -32000, 'message': 'request denied'}\r\n```",
  "closed_by": {
    "login": "karalabe",
    "id": 129561,
    "node_id": "MDQ6VXNlcjEyOTU2MQ==",
    "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/karalabe",
    "html_url": "https://github.com/karalabe",
    "followers_url": "https://api.github.com/users/karalabe/followers",
    "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
    "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
    "organizations_url": "https://api.github.com/users/karalabe/orgs",
    "repos_url": "https://api.github.com/users/karalabe/repos",
    "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
    "received_events_url": "https://api.github.com/users/karalabe/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/21674/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/21674/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/705388406",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/21674#issuecomment-705388406",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/21674",
    "id": 705388406,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcwNTM4ODQwNg==",
    "user": {
      "login": "holiman",
      "id": 142290,
      "node_id": "MDQ6VXNlcjE0MjI5MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/142290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/holiman",
      "html_url": "https://github.com/holiman",
      "followers_url": "https://api.github.com/users/holiman/followers",
      "following_url": "https://api.github.com/users/holiman/following{/other_user}",
      "gists_url": "https://api.github.com/users/holiman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/holiman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/holiman/subscriptions",
      "organizations_url": "https://api.github.com/users/holiman/orgs",
      "repos_url": "https://api.github.com/users/holiman/repos",
      "events_url": "https://api.github.com/users/holiman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/holiman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-10-08T07:32:35Z",
    "updated_at": "2020-10-08T07:32:35Z",
    "author_association": "MEMBER",
    "body": "Thanks, patch upcoming",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/705388406/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1148522773",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/21674#issuecomment-1148522773",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/21674",
    "id": 1148522773,
    "node_id": "IC_kwDOAOvK985EdREV",
    "user": {
      "login": "accessaaaa",
      "id": 98718384,
      "node_id": "U_kgDOBeJSsA",
      "avatar_url": "https://avatars.githubusercontent.com/u/98718384?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/accessaaaa",
      "html_url": "https://github.com/accessaaaa",
      "followers_url": "https://api.github.com/users/accessaaaa/followers",
      "following_url": "https://api.github.com/users/accessaaaa/following{/other_user}",
      "gists_url": "https://api.github.com/users/accessaaaa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/accessaaaa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/accessaaaa/subscriptions",
      "organizations_url": "https://api.github.com/users/accessaaaa/orgs",
      "repos_url": "https://api.github.com/users/accessaaaa/repos",
      "events_url": "https://api.github.com/users/accessaaaa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/accessaaaa/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-06-07T11:09:29Z",
    "updated_at": "2022-06-07T11:09:29Z",
    "author_association": "NONE",
    "body": "Lost my key file but have the masterseed.json file!\r\nOther key files I have! So what to do now?? Never could finish geth, because my SSD was to small. Now 4tb usb but crashes or under influence and my video card broke down",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1148522773/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1148716052",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/21674#issuecomment-1148716052",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/21674",
    "id": 1148716052,
    "node_id": "IC_kwDOAOvK985EeAQU",
    "user": {
      "login": "holiman",
      "id": 142290,
      "node_id": "MDQ6VXNlcjE0MjI5MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/142290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/holiman",
      "html_url": "https://github.com/holiman",
      "followers_url": "https://api.github.com/users/holiman/followers",
      "following_url": "https://api.github.com/users/holiman/following{/other_user}",
      "gists_url": "https://api.github.com/users/holiman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/holiman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/holiman/subscriptions",
      "organizations_url": "https://api.github.com/users/holiman/orgs",
      "repos_url": "https://api.github.com/users/holiman/repos",
      "events_url": "https://api.github.com/users/holiman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/holiman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-06-07T13:59:11Z",
    "updated_at": "2022-06-07T13:59:11Z",
    "author_association": "MEMBER",
    "body": "> Lost my key file but have the masterseed.json file!\r\n\r\nThe private key behind an ethereum account is in the keyfile. The masterseed does not contain sufficient information to recreate an account. ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1148716052/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1152433393",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/21674#issuecomment-1152433393",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/21674",
    "id": 1152433393,
    "node_id": "IC_kwDOAOvK985EsLzx",
    "user": {
      "login": "accessaaaa",
      "id": 98718384,
      "node_id": "U_kgDOBeJSsA",
      "avatar_url": "https://avatars.githubusercontent.com/u/98718384?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/accessaaaa",
      "html_url": "https://github.com/accessaaaa",
      "followers_url": "https://api.github.com/users/accessaaaa/followers",
      "following_url": "https://api.github.com/users/accessaaaa/following{/other_user}",
      "gists_url": "https://api.github.com/users/accessaaaa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/accessaaaa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/accessaaaa/subscriptions",
      "organizations_url": "https://api.github.com/users/accessaaaa/orgs",
      "repos_url": "https://api.github.com/users/accessaaaa/repos",
      "events_url": "https://api.github.com/users/accessaaaa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/accessaaaa/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-06-10T14:39:53Z",
    "updated_at": "2022-06-10T14:39:53Z",
    "author_association": "NONE",
    "body": "Is everything lost? If I start over!? How many accounts will it threat??\n\nOn Tue, 7 Jun 2022, 15:59 Martin Holst Swende, ***@***.***>\nwrote:\n\n> Lost my key file but have the masterseed.json file!\n>\n> The private key behind an ethereum account is in the keyfile. The\n> masterseed does not contain sufficient information to recreate an account.\n>\n> —\n> Reply to this email directly, view it on GitHub\n> <https://github.com/ethereum/go-ethereum/issues/21674#issuecomment-1148716052>,\n> or unsubscribe\n> <https://github.com/notifications/unsubscribe-auth/AXRFFMA2GQURYKI6V5ISETTVN5ITXANCNFSM4SIBBNYA>\n> .\n> You are receiving this because you commented.Message ID:\n> ***@***.***>\n>\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1152433393/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1152449032",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/21674#issuecomment-1152449032",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/21674",
    "id": 1152449032,
    "node_id": "IC_kwDOAOvK985EsPoI",
    "user": {
      "login": "accessaaaa",
      "id": 98718384,
      "node_id": "U_kgDOBeJSsA",
      "avatar_url": "https://avatars.githubusercontent.com/u/98718384?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/accessaaaa",
      "html_url": "https://github.com/accessaaaa",
      "followers_url": "https://api.github.com/users/accessaaaa/followers",
      "following_url": "https://api.github.com/users/accessaaaa/following{/other_user}",
      "gists_url": "https://api.github.com/users/accessaaaa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/accessaaaa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/accessaaaa/subscriptions",
      "organizations_url": "https://api.github.com/users/accessaaaa/orgs",
      "repos_url": "https://api.github.com/users/accessaaaa/repos",
      "events_url": "https://api.github.com/users/accessaaaa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/accessaaaa/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-06-10T14:54:19Z",
    "updated_at": "2022-06-10T14:54:19Z",
    "author_association": "NONE",
    "body": "Hello,\n\nThanks for your email btw.\n\nAnyhow the wallet with mining coins 1.5 years old. Clef said that it would\nmake another key file from the others. But nothing yet it is now listin and\nsetting the corrections.\nSo maybe when it's done?\n\nOn Fri, 10 Jun 2022, 16:39 J L, ***@***.***> wrote:\n\n> Is everything lost? If I start over!? How many accounts will it threat??\n>\n> On Tue, 7 Jun 2022, 15:59 Martin Holst Swende, ***@***.***>\n> wrote:\n>\n>> Lost my key file but have the masterseed.json file!\n>>\n>> The private key behind an ethereum account is in the keyfile. The\n>> masterseed does not contain sufficient information to recreate an account.\n>>\n>> —\n>> Reply to this email directly, view it on GitHub\n>> <https://github.com/ethereum/go-ethereum/issues/21674#issuecomment-1148716052>,\n>> or unsubscribe\n>> <https://github.com/notifications/unsubscribe-auth/AXRFFMA2GQURYKI6V5ISETTVN5ITXANCNFSM4SIBBNYA>\n>> .\n>> You are receiving this because you commented.Message ID:\n>> ***@***.***>\n>>\n>\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1152449032/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
