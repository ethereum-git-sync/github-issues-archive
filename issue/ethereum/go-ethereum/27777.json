{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/27777",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/27777/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/27777/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/27777/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/27777",
  "id": 1821768667,
  "node_id": "I_kwDOAOvK985slfvb",
  "number": 27777,
  "title": "Fixing Port Issues in Private Blockchain Nodes: Troubleshooting Dynamic Port Allocation for Signer Node Identification",
  "user": {
    "login": "AsadullahSoomro",
    "id": 46569970,
    "node_id": "MDQ6VXNlcjQ2NTY5OTcw",
    "avatar_url": "https://avatars.githubusercontent.com/u/46569970?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/AsadullahSoomro",
    "html_url": "https://github.com/AsadullahSoomro",
    "followers_url": "https://api.github.com/users/AsadullahSoomro/followers",
    "following_url": "https://api.github.com/users/AsadullahSoomro/following{/other_user}",
    "gists_url": "https://api.github.com/users/AsadullahSoomro/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/AsadullahSoomro/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/AsadullahSoomro/subscriptions",
    "organizations_url": "https://api.github.com/users/AsadullahSoomro/orgs",
    "repos_url": "https://api.github.com/users/AsadullahSoomro/repos",
    "events_url": "https://api.github.com/users/AsadullahSoomro/events{/privacy}",
    "received_events_url": "https://api.github.com/users/AsadullahSoomro/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 268304226,
      "node_id": "MDU6TGFiZWwyNjgzMDQyMjY=",
      "url": "https://api.github.com/repos/ethereum/go-ethereum/labels/type:docs",
      "name": "type:docs",
      "color": "fef2c0",
      "default": false,
      "description": null
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2023-07-26T07:34:05Z",
  "updated_at": "2023-07-26T07:47:31Z",
  "closed_at": "2023-07-26T07:39:16Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "Dear, @karalabe,\r\n\r\nI'm currently facing an issue with the port configuration. Whenever I run the other node privately, the port tends to change. Sometimes, the local port changes, and other times, the remote port changes automatically. I've attempted using the '--nat=extip' command, but the issue persists. Can you please help me understand the root cause of this problem?\r\n\r\nThe IP remains the same, but the port keeps changing. I've noticed that the port number varies, and my objective is to differentiate between the signer node and other peer nodes. The IP and port change occasionally, making it challenging to identify the signer node accurately. Even the ID changes after the node's initial setup, which further complicates the matter.\r\n\r\nI suspect that the Go-Lang package used in the 'Geth initialize' process might be employing some mechanism that dynamically changes the ports. Alternatively, this could be a policy of dynamic port allocation that isn't explicitly defined in the code. I've also tried using the built-in '--nat=extip' code, but the issue remains unresolved. Essentially, my goal is to initialize the signer node when setting up the blockchain network, but the changing IP and port numbers are causing difficulties.\r\n\r\nI've observed that the port changes for every number and isn't specific to one node. Even when I view the port, it occasionally changes for other nodes as well. As of now, I'm struggling to correctly identify the signer node, mainly focusing on the ID and port. While the IP address (127.0.0.1) remains constant, the changing port number poses a challenge in determining the signer node.\r\n\r\nHere are screenshots attached below:\r\n\r\n![image_2023_07_26T06_31_47_803Z](https://github.com/ethereum/go-ethereum/assets/46569970/f80df7cb-aeea-4bd7-9dd9-412b7d44324a)\r\n![image_2023_07_26T06_29_43_569Z](https://github.com/ethereum/go-ethereum/assets/46569970/3c61e1c7-ca49-46b4-ac65-b45cdee6b84f)\r\n![image_2023_07_26T06_27_18_613Z](https://github.com/ethereum/go-ethereum/assets/46569970/c76148eb-5147-40aa-bb4e-1230cdd80944)\r\n![image_2023_07_26T06_25_17_784Z](https://github.com/ethereum/go-ethereum/assets/46569970/e93d6d49-c012-49a0-8d3b-824960a851a9)\r\n\r\n\r\n",
  "closed_by": {
    "login": "karalabe",
    "id": 129561,
    "node_id": "MDQ6VXNlcjEyOTU2MQ==",
    "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/karalabe",
    "html_url": "https://github.com/karalabe",
    "followers_url": "https://api.github.com/users/karalabe/followers",
    "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
    "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
    "organizations_url": "https://api.github.com/users/karalabe/orgs",
    "repos_url": "https://api.github.com/users/karalabe/repos",
    "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
    "received_events_url": "https://api.github.com/users/karalabe/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/27777/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/27777/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1651147395",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/27777#issuecomment-1651147395",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/27777",
    "id": 1651147395,
    "node_id": "IC_kwDOAOvK985iaoKD",
    "user": {
      "login": "karalabe",
      "id": 129561,
      "node_id": "MDQ6VXNlcjEyOTU2MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/karalabe",
      "html_url": "https://github.com/karalabe",
      "followers_url": "https://api.github.com/users/karalabe/followers",
      "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
      "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
      "organizations_url": "https://api.github.com/users/karalabe/orgs",
      "repos_url": "https://api.github.com/users/karalabe/repos",
      "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/karalabe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-07-26T07:39:16Z",
    "updated_at": "2023-07-26T07:39:16Z",
    "author_association": "MEMBER",
    "body": "That's how TCP works. You can set the listener port number where other peers will connect to. Every single TCP (network) connection will have a random different outbound port number allocated by the OS. You cannot set the outbound port number because each TCP connection will need it's own one.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1651147395/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1651160643",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/27777#issuecomment-1651160643",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/27777",
    "id": 1651160643,
    "node_id": "IC_kwDOAOvK985iarZD",
    "user": {
      "login": "AsadullahSoomro",
      "id": 46569970,
      "node_id": "MDQ6VXNlcjQ2NTY5OTcw",
      "avatar_url": "https://avatars.githubusercontent.com/u/46569970?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/AsadullahSoomro",
      "html_url": "https://github.com/AsadullahSoomro",
      "followers_url": "https://api.github.com/users/AsadullahSoomro/followers",
      "following_url": "https://api.github.com/users/AsadullahSoomro/following{/other_user}",
      "gists_url": "https://api.github.com/users/AsadullahSoomro/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/AsadullahSoomro/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/AsadullahSoomro/subscriptions",
      "organizations_url": "https://api.github.com/users/AsadullahSoomro/orgs",
      "repos_url": "https://api.github.com/users/AsadullahSoomro/repos",
      "events_url": "https://api.github.com/users/AsadullahSoomro/events{/privacy}",
      "received_events_url": "https://api.github.com/users/AsadullahSoomro/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-07-26T07:47:31Z",
    "updated_at": "2023-07-26T07:47:31Z",
    "author_association": "NONE",
    "body": "@karalabe, Thanks for your reply. ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1651160643/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
