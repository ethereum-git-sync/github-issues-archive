{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/27157",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/27157/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/27157/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/27157/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/27157",
  "id": 1681601649,
  "node_id": "I_kwDOAOvK985kOzRx",
  "number": 27157,
  "title": "Invalid memory address or nil pointer dereference error when sync starts",
  "user": {
    "login": "diglos",
    "id": 16838272,
    "node_id": "MDQ6VXNlcjE2ODM4Mjcy",
    "avatar_url": "https://avatars.githubusercontent.com/u/16838272?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/diglos",
    "html_url": "https://github.com/diglos",
    "followers_url": "https://api.github.com/users/diglos/followers",
    "following_url": "https://api.github.com/users/diglos/following{/other_user}",
    "gists_url": "https://api.github.com/users/diglos/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/diglos/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/diglos/subscriptions",
    "organizations_url": "https://api.github.com/users/diglos/orgs",
    "repos_url": "https://api.github.com/users/diglos/repos",
    "events_url": "https://api.github.com/users/diglos/events{/privacy}",
    "received_events_url": "https://api.github.com/users/diglos/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 72233650,
      "node_id": "MDU6TGFiZWw3MjIzMzY1MA==",
      "url": "https://api.github.com/repos/ethereum/go-ethereum/labels/type:bug",
      "name": "type:bug",
      "color": "FF5E5E",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 0,
  "created_at": "2023-04-24T16:02:35Z",
  "updated_at": "2023-04-25T13:15:45Z",
  "closed_at": "2023-04-25T13:15:45Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "#### System information\r\n\r\nGeth version: `1.11.6`\r\nCL client & version: nimbus@v23.3.2\r\nOS & Version:  Linux ARM64\r\n\r\n#### Expected behaviour\r\n\r\nNormal sync\r\n\r\n#### Actual behaviour\r\n\r\nGeth shows an **invalid memory address or nil pointer dereference error**\r\n\r\n#### Steps to reproduce the behaviour\r\n\r\nStart Geth sync\r\n\r\n#### Backtrace\r\n\r\n````\r\nApr 24 15:57:44 ethereumonarm-orangepi5-07e4e6262 geth[16686]: WARN [04-24|15:57:44.040] Served eth_getBlockByNumber              conn=127.0.0.1:50328 reqid=1                         duration=\"309.744µs\" err=\"method handler crashed\"\r\nApr 24 15:57:44 ethereumonarm-orangepi5-07e4e6262 geth[16686]: ERROR[04-24|15:57:44.292] RPC method eth_getBlockByNumber crashed: runtime error: invalid memory address or nil pointer dereference\r\nApr 24 15:57:44 ethereumonarm-orangepi5-07e4e6262 geth[16686]: goroutine 306692 [running]:\r\nApr 24 15:57:44 ethereumonarm-orangepi5-07e4e6262 geth[16686]: github.com/ethereum/go-ethereum/rpc.(*callback).call.func1()\r\nApr 24 15:57:44 ethereumonarm-orangepi5-07e4e6262 geth[16686]:         github.com/ethereum/go-ethereum/rpc/service.go:199 +0x74\r\nApr 24 15:57:44 ethereumonarm-orangepi5-07e4e6262 geth[16686]: panic({0x150cca0, 0x254a9c0})\r\nApr 24 15:57:44 ethereumonarm-orangepi5-07e4e6262 geth[16686]:         runtime/panic.go:884 +0x1f4\r\nApr 24 15:57:44 ethereumonarm-orangepi5-07e4e6262 geth[16686]: github.com/ethereum/go-ethereum/eth.(*EthAPIBackend).BlockByNumber(0x4004cbf818, {0x476a14?, 0x2?}, 0x5?)\r\nApr 24 15:57:44 ethereumonarm-orangepi5-07e4e6262 geth[16686]:         github.com/ethereum/go-ethereum/eth/api_backend.go:137 +0x1a8\r\nApr 24 15:57:44 ethereumonarm-orangepi5-07e4e6262 geth[16686]: github.com/ethereum/go-ethereum/internal/ethapi.(*BlockChainAPI).GetBlockByNumber(0x4004ce5070, {0x1ab92b8, 0x40273b9090}, 0xfffffffffffffffd, 0x78?)\r\nApr 24 15:57:44 ethereumonarm-orangepi5-07e4e6262 geth[16686]:         github.com/ethereum/go-ethereum/internal/ethapi/api.go:765 +0x44\r\nApr 24 15:57:44 ethereumonarm-orangepi5-07e4e6262 geth[16686]: reflect.Value.call({0x4000382850?, 0x40076ef830?, 0x7f22510628?}, {0x175432c, 0x4}, {0x4017f417a0, 0x4, 0xb7a4ec?})\r\nApr 24 15:57:44 ethereumonarm-orangepi5-07e4e6262 geth[16686]:         reflect/value.go:586 +0x838\r\nApr 24 15:57:44 ethereumonarm-orangepi5-07e4e6262 geth[16686]: reflect.Value.Call({0x4000382850?, 0x40076ef830?, 0x2?}, {0x4017f417a0?, 0x10?, 0x403bfe86d3?})\r\nApr 24 15:57:44 ethereumonarm-orangepi5-07e4e6262 geth[16686]:         reflect/value.go:370 +0x90\r\nApr 24 15:57:44 ethereumonarm-orangepi5-07e4e6262 geth[16686]: github.com/ethereum/go-ethereum/rpc.(*callback).call(0x4007734600, {0x1ab92b8?, 0x40273b9090}, {0x403d18ff38, 0x14}, {0x408a5bc9f0, 0x2, 0xb734c8?})\r\nApr 24 15:57:44 ethereumonarm-orangepi5-07e4e6262 geth[16686]:         github.com/ethereum/go-ethereum/rpc/service.go:205 +0x34c\r\nApr 24 15:57:44 ethereumonarm-orangepi5-07e4e6262 geth[16686]: github.com/ethereum/go-ethereum/rpc.(*handler).runMethod(0x403d18ff50?, {0x1ab92b8?, 0x40273b9090?}, 0x400c5d5570, 0x2?, {0x408a5bc9f0?, 0x0?, 0x0?})\r\nApr 24 15:57:44 ethereumonarm-orangepi5-07e4e6262 geth[16686]:         github.com/ethereum/go-ethereum/rpc/handler.go:513 +0x40\r\nApr 24 15:57:44 ethereumonarm-orangepi5-07e4e6262 geth[16686]: github.com/ethereum/go-ethereum/rpc.(*handler).handleCall(0x4006770630, 0x408a5bc930, 0x400c5d5570)\r\nApr 24 15:57:44 ethereumonarm-orangepi5-07e4e6262 geth[16686]:         github.com/ethereum/go-ethereum/rpc/handler.go:459 +0x1d4\r\nApr 24 15:57:44 ethereumonarm-orangepi5-07e4e6262 geth[16686]: github.com/ethereum/go-ethereum/rpc.(*handler).handleCallMsg(0x4006770630, 0x408a5bc990?, 0x400c5d5570)\r\nApr 24 15:57:44 ethereumonarm-orangepi5-07e4e6262 geth[16686]:         github.com/ethereum/go-ethereum/rpc/handler.go:420 +0x1d0\r\nApr 24 15:57:44 ethereumonarm-orangepi5-07e4e6262 geth[16686]: github.com/ethereum/go-ethereum/rpc.(*handler).handleMsg.func1(0x408a5bc930)\r\nApr 24 15:57:44 ethereumonarm-orangepi5-07e4e6262 geth[16686]:         github.com/ethereum/go-ethereum/rpc/handler.go:256 +0x174\r\nApr 24 15:57:44 ethereumonarm-orangepi5-07e4e6262 geth[16686]: github.com/ethereum/go-ethereum/rpc.(*handler).startCallProc.func1()\r\nApr 24 15:57:44 ethereumonarm-orangepi5-07e4e6262 geth[16686]:         github.com/ethereum/go-ethereum/rpc/handler.go:348 +0xbc\r\nApr 24 15:57:44 ethereumonarm-orangepi5-07e4e6262 geth[16686]: created by github.com/ethereum/go-ethereum/rpc.(*handler).startCallProc\r\nApr 24 15:57:44 ethereumonarm-orangepi5-07e4e6262 geth[16686]:         github.com/ethereum/go-ethereum/rpc/handler.go:344 +0x88\r\nApr 24 15:57:44 ethereumonarm-orangepi5-07e4e6262 geth[16686]:  \r\nApr 24 15:57:44 ethereumonarm-orangepi5-07e4e6262 geth[16686]: WARN [04-24|15:57:44.292] Served eth_getBlockByNumber              conn=127.0.0.1:50334 reqid=1                         duration=\"266.87µs\"  err=\"method handler crashed\"\r\n````\r\n",
  "closed_by": {
    "login": "holiman",
    "id": 142290,
    "node_id": "MDQ6VXNlcjE0MjI5MA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/142290?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/holiman",
    "html_url": "https://github.com/holiman",
    "followers_url": "https://api.github.com/users/holiman/followers",
    "following_url": "https://api.github.com/users/holiman/following{/other_user}",
    "gists_url": "https://api.github.com/users/holiman/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/holiman/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/holiman/subscriptions",
    "organizations_url": "https://api.github.com/users/holiman/orgs",
    "repos_url": "https://api.github.com/users/holiman/repos",
    "events_url": "https://api.github.com/users/holiman/events{/privacy}",
    "received_events_url": "https://api.github.com/users/holiman/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/27157/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/27157/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[

]
