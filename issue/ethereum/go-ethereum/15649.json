{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15649",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15649/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15649/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15649/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/15649",
  "id": 281063983,
  "node_id": "MDU6SXNzdWUyODEwNjM5ODM=",
  "number": 15649,
  "title": "Can't get past pivot during fast sync",
  "user": {
    "login": "grazz",
    "id": 197295,
    "node_id": "MDQ6VXNlcjE5NzI5NQ==",
    "avatar_url": "https://avatars.githubusercontent.com/u/197295?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/grazz",
    "html_url": "https://github.com/grazz",
    "followers_url": "https://api.github.com/users/grazz/followers",
    "following_url": "https://api.github.com/users/grazz/following{/other_user}",
    "gists_url": "https://api.github.com/users/grazz/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/grazz/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/grazz/subscriptions",
    "organizations_url": "https://api.github.com/users/grazz/orgs",
    "repos_url": "https://api.github.com/users/grazz/repos",
    "events_url": "https://api.github.com/users/grazz/events{/privacy}",
    "received_events_url": "https://api.github.com/users/grazz/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 20,
  "created_at": "2017-12-11T15:45:05Z",
  "updated_at": "2019-01-29T09:55:12Z",
  "closed_at": "2019-01-22T09:57:51Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "#### System information\r\n\r\nGeth version: 1.7.3 / 1.8.0-dev\r\nOS & Version: Windows 10\r\n\r\n#### Expected behaviour\r\nFast sync will download pivot block and switch to full mode.\r\n\r\n#### Actual behaviour\r\nFast sync keeps downloading states forever, days even, it never downloads the first full block. Bandwidth usage is close to 0%, same for HDD usage. \r\n\r\n#### Steps to reproduce the behaviour\r\nStart fast sync from scratch and wait until pivot is reached.\r\n\r\n\r\n#### Notes\r\nUsing light mode is not an alternative.\r\n\r\nFast sync pivot is max_block - ( 64 + rand(0,256) ) or somethng like that. That matches with all the reports that say fast sync gets stuck close to the end. It's always within that range.\r\n\r\nI have little to none knowledge of eth. My comments are based on my review of the geth codebase.\r\n\r\nI do not know if this the actual cause of the problem or just a symptom of an underlying problem.\r\n\r\nI've noticed that fast sync WORKS for some people, according to google. But it also fails in a way very similar to this for a lot of other people.\r\n\r\nSimilar or possibly same issue #15001 , already checked all the comments.\r\n\r\nAlready tried with --cache values 1024, 2048, 4096, and a lot more. I have 32GB ram.\r\n\r\nIt's not an HDD problem, low I/O usage. Maybe it will once it starts trying to keep up with full blocks after the initial sync, but not now.\r\nIt's not a time sync problem, using ntp.\r\nIt's not a bandwidth problem, low BW usage.\r\n\r\nI have deleted the whole block chain 3 times already to debug this.\r\n\r\nI have manually confirmed (10+ times) it always get stucks on pivot - 1. On geth restart, pivot is updated and block states are imported until it reaches pivot -1.\r\n\r\nFast mode is automatically enabled even if you restart geth. Modifying the code to override that causes full sync to start from block 0 (which makes sense, full mode starts from last full block saved in the db)\r\n\r\nPossibly unrelated, but here is a chuck of the debug log during endless state download. As you can see distance is too big, because current full block is = 0. This is probably just a misplaced debug message as current full block always will be 0 during fast sync, so using distance to drop states during fast sync doesn't make any sense.\r\n\r\n```\r\nDEBUG[12-10|19:25:51] Removing p2p peer                        id=1dcea46f98f2194b conn=inbound duration=101.269ms  peers=20 req=true  err=\"too many peers\"\r\nDEBUG[12-10|19:25:51] Discarded propagated block, too far away peer=496895dba7598b47 number=4710657 hash=b728cd…63a9f8 distance=4710657\r\nDEBUG[12-10|19:25:51] Discarded propagated block, too far away peer=496895dba7598b47 number=4710658 hash=583749…79d42b distance=4710658\r\nDEBUG[12-10|19:25:51] Peer discarded announcement              peer=938e28ff38267daf number=4710658 hash=583749…79d42b distance=4710658\r\nDEBUG[12-10|19:25:51] Peer discarded announcement              peer=f6717be95b7eb6f4 number=4710658 hash=583749…79d42b distance=4710658\r\nDEBUG[12-10|19:25:51] Peer discarded announcement              peer=b50e04afad996390 number=4710658 hash=583749…79d42b distance=4710658\r\nDEBUG[12-10|19:25:51] Peer discarded announcement              peer=c20da4a220a18f87 number=4710658 hash=583749…79d42b distance=4710658\r\nDEBUG[12-10|19:25:51] Peer discarded announcement              peer=0c74e66a402212ab number=4710658 hash=583749…79d42b distance=4710658\r\nDEBUG[12-10|19:25:51] Peer discarded announcement              peer=4a919e915c88cad0 number=4710657 hash=4c07d2…27851c distance=4710657\r\nDEBUG[12-10|19:25:51] Discarded propagated block, too far away peer=4a919e915c88cad0 number=4710657 hash=4c07d2…27851c distance=4710657\r\nDEBUG[12-10|19:25:51] Peer discarded announcement              peer=f87ba5f35e371fed number=4710658 hash=583749…79d42b distance=4710658\r\nDEBUG[12-10|19:25:51] Peer discarded announcement              peer=58e4ed905b0c1680 number=4710658 hash=583749…79d42b distance=4710658\r\nDEBUG[12-10|19:25:51] Peer discarded announcement              peer=a7cb3613a511703a number=4710658 hash=583749…79d42b distance=4710658\r\nDEBUG[12-10|19:25:51] Peer discarded announcement              peer=496895dba7598b47 number=4710659 hash=e467e6…d7e33e distance=4710659\r\nDEBUG[12-10|19:25:51] Peer discarded announcement              peer=938e28ff38267daf number=4710657 hash=b728cd…63a9f8 distance=4710657\r\nDEBUG[12-10|19:25:51] Peer discarded announcement              peer=f6717be95b7eb6f4 number=4710657 hash=b728cd…63a9f8 distance=4710657\r\nDEBUG[12-10|19:25:51] Peer discarded announcement              peer=b50e04afad996390 number=4710657 hash=b728cd…63a9f8 distance=4710657\r\nDEBUG[12-10|19:25:51] Peer discarded announcement              peer=c20da4a220a18f87 number=4710657 hash=b728cd…63a9f8 distance=4710657\r\nDEBUG[12-10|19:25:51] Peer discarded announcement              peer=0c74e66a402212ab number=4710657 hash=b728cd…63a9f8 distance=4710657\r\nDEBUG[12-10|19:25:51] Peer discarded announcement              peer=4a919e915c88cad0 number=4710659 hash=e467e6…d7e33e distance=4710659\r\nDEBUG[12-10|19:25:51] Peer discarded announcement              peer=f87ba5f35e371fed number=4710659 hash=e467e6…d7e33e distance=4710659\r\nDEBUG[12-10|19:25:51] Peer discarded announcement              peer=58e4ed905b0c1680 number=4710657 hash=b728cd…63a9f8 distance=4710657\r\nDEBUG[12-10|19:25:51] Peer discarded announcement              peer=a7cb3613a511703a number=4710657 hash=b728cd…63a9f8 distance=4710657\r\nDEBUG[12-10|19:25:51] Discarded propagated block, too far away peer=58e4ed905b0c1680 number=4710658 hash=583749…79d42b distance=4710658\r\nDEBUG[12-10|19:25:51] Peer discarded announcement              peer=938e28ff38267daf number=4710659 hash=e467e6…d7e33e distance=4710659\r\nDEBUG[12-10|19:25:51] Peer discarded announcement              peer=f6717be95b7eb6f4 number=4710659 hash=e467e6…d7e33e distance=4710659\r\nDEBUG[12-10|19:25:51] Peer discarded announcement              peer=b50e04afad996390 number=4710659 hash=e467e6…d7e33e distance=4710659\r\nDEBUG[12-10|19:25:51] Peer discarded announcement              peer=c20da4a220a18f87 number=4710659 hash=e467e6…d7e33e distance=4710659\r\nDEBUG[12-10|19:25:51] Peer discarded announcement              peer=0c74e66a402212ab number=4710659 hash=e467e6…d7e33e distance=4710659\r\n```",
  "closed_by": {
    "login": "holiman",
    "id": 142290,
    "node_id": "MDQ6VXNlcjE0MjI5MA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/142290?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/holiman",
    "html_url": "https://github.com/holiman",
    "followers_url": "https://api.github.com/users/holiman/followers",
    "following_url": "https://api.github.com/users/holiman/following{/other_user}",
    "gists_url": "https://api.github.com/users/holiman/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/holiman/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/holiman/subscriptions",
    "organizations_url": "https://api.github.com/users/holiman/orgs",
    "repos_url": "https://api.github.com/users/holiman/repos",
    "events_url": "https://api.github.com/users/holiman/events{/privacy}",
    "received_events_url": "https://api.github.com/users/holiman/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15649/reactions",
    "total_count": 3,
    "+1": 2,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 1,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15649/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/352735213",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/15649#issuecomment-352735213",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15649",
    "id": 352735213,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1MjczNTIxMw==",
    "user": {
      "login": "ikisusi",
      "id": 15437182,
      "node_id": "MDQ6VXNlcjE1NDM3MTgy",
      "avatar_url": "https://avatars.githubusercontent.com/u/15437182?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ikisusi",
      "html_url": "https://github.com/ikisusi",
      "followers_url": "https://api.github.com/users/ikisusi/followers",
      "following_url": "https://api.github.com/users/ikisusi/following{/other_user}",
      "gists_url": "https://api.github.com/users/ikisusi/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ikisusi/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ikisusi/subscriptions",
      "organizations_url": "https://api.github.com/users/ikisusi/orgs",
      "repos_url": "https://api.github.com/users/ikisusi/repos",
      "events_url": "https://api.github.com/users/ikisusi/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ikisusi/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-12-19T12:26:45Z",
    "updated_at": "2017-12-19T14:16:09Z",
    "author_association": "NONE",
    "body": "I think I am seeing exactly same. Geth 1.7.2 on OSX never catches up but gets stuck around in the same \"pivot\" range you mention. I have seen it stuck (virtually forever) within range of 80 to 300 blocks behind the head, restart catches up a bit, maybe until the new pivot point. Machine is a modern macbook with SSD. :(",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/352735213/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/353168273",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/15649#issuecomment-353168273",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15649",
    "id": 353168273,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1MzE2ODI3Mw==",
    "user": {
      "login": "veox",
      "id": 3036030,
      "node_id": "MDQ6VXNlcjMwMzYwMzA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3036030?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/veox",
      "html_url": "https://github.com/veox",
      "followers_url": "https://api.github.com/users/veox/followers",
      "following_url": "https://api.github.com/users/veox/following{/other_user}",
      "gists_url": "https://api.github.com/users/veox/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/veox/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/veox/subscriptions",
      "organizations_url": "https://api.github.com/users/veox/orgs",
      "repos_url": "https://api.github.com/users/veox/repos",
      "events_url": "https://api.github.com/users/veox/events{/privacy}",
      "received_events_url": "https://api.github.com/users/veox/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-12-20T20:03:30Z",
    "updated_at": "2017-12-20T20:04:10Z",
    "author_association": "CONTRIBUTOR",
    "body": "> it always get stucks on pivot - 1\r\n\r\nMight be an off-by-one error somewhere?..\r\n\r\nI haven't had this happen to me (yet), with `geth 1.7.3` on an Ubuntu 16.04 Linux VM; then again, I'm not specifying `--cache`.\r\n\r\n-----\r\n\r\nEDIT: Could you post the command that gets executed to start `geth`?..",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/353168273/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/353646934",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/15649#issuecomment-353646934",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15649",
    "id": 353646934,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1MzY0NjkzNA==",
    "user": {
      "login": "grazz",
      "id": 197295,
      "node_id": "MDQ6VXNlcjE5NzI5NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/197295?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/grazz",
      "html_url": "https://github.com/grazz",
      "followers_url": "https://api.github.com/users/grazz/followers",
      "following_url": "https://api.github.com/users/grazz/following{/other_user}",
      "gists_url": "https://api.github.com/users/grazz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/grazz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/grazz/subscriptions",
      "organizations_url": "https://api.github.com/users/grazz/orgs",
      "repos_url": "https://api.github.com/users/grazz/repos",
      "events_url": "https://api.github.com/users/grazz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/grazz/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-12-22T17:57:21Z",
    "updated_at": "2017-12-22T17:57:21Z",
    "author_association": "NONE",
    "body": "@veox I don't remember the exact command at the moment (different computer) but I only specify --cache and --data-dir, everything else is default",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/353646934/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/353647918",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/15649#issuecomment-353647918",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15649",
    "id": 353647918,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1MzY0NzkxOA==",
    "user": {
      "login": "grazz",
      "id": 197295,
      "node_id": "MDQ6VXNlcjE5NzI5NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/197295?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/grazz",
      "html_url": "https://github.com/grazz",
      "followers_url": "https://api.github.com/users/grazz/followers",
      "following_url": "https://api.github.com/users/grazz/following{/other_user}",
      "gists_url": "https://api.github.com/users/grazz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/grazz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/grazz/subscriptions",
      "organizations_url": "https://api.github.com/users/grazz/orgs",
      "repos_url": "https://api.github.com/users/grazz/repos",
      "events_url": "https://api.github.com/users/grazz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/grazz/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-12-22T18:03:02Z",
    "updated_at": "2017-12-22T18:07:21Z",
    "author_association": "NONE",
    "body": "seems to be (extremely) related to this fix (october) https://github.com/ethereum/go-ethereum/pull/15234 and https://github.com/ethereum/go-ethereum/pull/14849\r\n\r\nIt was merged and reverted, I don't know if there were any fixes afterwards.\r\n\r\nmaybe @karalabe can confirm if it's related",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/353647918/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/353750467",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/15649#issuecomment-353750467",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15649",
    "id": 353750467,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1Mzc1MDQ2Nw==",
    "user": {
      "login": "kbrav",
      "id": 3114369,
      "node_id": "MDQ6VXNlcjMxMTQzNjk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3114369?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kbrav",
      "html_url": "https://github.com/kbrav",
      "followers_url": "https://api.github.com/users/kbrav/followers",
      "following_url": "https://api.github.com/users/kbrav/following{/other_user}",
      "gists_url": "https://api.github.com/users/kbrav/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kbrav/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kbrav/subscriptions",
      "organizations_url": "https://api.github.com/users/kbrav/orgs",
      "repos_url": "https://api.github.com/users/kbrav/repos",
      "events_url": "https://api.github.com/users/kbrav/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kbrav/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-12-23T21:57:00Z",
    "updated_at": "2017-12-23T21:57:20Z",
    "author_association": "NONE",
    "body": "@grazz That fix didn't actually do anything...the check was redundant in the first place.  See ValidateBody",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/353750467/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/353789651",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/15649#issuecomment-353789651",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15649",
    "id": 353789651,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1Mzc4OTY1MQ==",
    "user": {
      "login": "grazz",
      "id": 197295,
      "node_id": "MDQ6VXNlcjE5NzI5NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/197295?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/grazz",
      "html_url": "https://github.com/grazz",
      "followers_url": "https://api.github.com/users/grazz/followers",
      "following_url": "https://api.github.com/users/grazz/following{/other_user}",
      "gists_url": "https://api.github.com/users/grazz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/grazz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/grazz/subscriptions",
      "organizations_url": "https://api.github.com/users/grazz/orgs",
      "repos_url": "https://api.github.com/users/grazz/repos",
      "events_url": "https://api.github.com/users/grazz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/grazz/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-12-24T15:18:58Z",
    "updated_at": "2017-12-24T15:18:58Z",
    "author_association": "NONE",
    "body": "@kriffo Yeah, it looks like the only relation is the problem it was trying to solve. \r\nI'm kind of lost with this. I can't figure out why it works for some, and doesn't work for others.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/353789651/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/354407240",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/15649#issuecomment-354407240",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15649",
    "id": 354407240,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1NDQwNzI0MA==",
    "user": {
      "login": "vogelito",
      "id": 1325863,
      "node_id": "MDQ6VXNlcjEzMjU4NjM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1325863?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vogelito",
      "html_url": "https://github.com/vogelito",
      "followers_url": "https://api.github.com/users/vogelito/followers",
      "following_url": "https://api.github.com/users/vogelito/following{/other_user}",
      "gists_url": "https://api.github.com/users/vogelito/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vogelito/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vogelito/subscriptions",
      "organizations_url": "https://api.github.com/users/vogelito/orgs",
      "repos_url": "https://api.github.com/users/vogelito/repos",
      "events_url": "https://api.github.com/users/vogelito/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vogelito/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-12-29T07:02:05Z",
    "updated_at": "2017-12-29T07:03:43Z",
    "author_association": "NONE",
    "body": "`--syncmode fast --cache 2048 --maxpeers 50` has failed on me 4 times in a row.\r\n\r\n```\r\ngeth version\r\nGeth\r\nVersion: 1.7.3-stable\r\nArchitecture: amd64\r\nProtocol Versions: [63 62]\r\nNetwork Id: 1\r\nGo Version: go1.9.2\r\nOperating System: darwin\r\nGOPATH=/Users/vogelito/Documents/CS/go\r\nGOROOT=/usr/local/go\r\n```\r\n\r\nI basically sync a bunch of blocks and then it gets stuck forever importing new state entries:\r\n\r\n```\r\nINFO [12-29|07:59:44] Imported new state entries               count=1140 elapsed=4.121ms   processed=48767777 pending=12838 retry=209  duplicate=2093 unexpected=12811\r\nINFO [12-29|07:59:44] Imported new state entries               count=1013 elapsed=4.305ms   processed=48768790 pending=12127 retry=0    duplicate=2093 unexpected=12811\r\nINFO [12-29|07:59:45] Imported new state entries               count=954  elapsed=4.494ms   processed=48769744 pending=12172 retry=213  duplicate=2093 unexpected=12811\r\nINFO [12-29|07:59:45] Imported new state entries               count=959  elapsed=4.622ms   processed=48770703 pending=12046 retry=53   duplicate=2093 unexpected=12811\r\nINFO [12-29|07:59:45] Imported new state entries               count=1370 elapsed=4.422ms   processed=48772073 pending=13666 retry=341  duplicate=2093 unexpected=12811\r\nINFO [12-29|07:59:45] Imported new state entries               count=1290 elapsed=7.356ms   processed=48773363 pending=13176 retry=0    duplicate=2093 unexpected=12811\r\nINFO [12-29|07:59:46] Imported new state entries               count=1881 elapsed=7.500ms   processed=48775244 pending=12192 retry=0    duplicate=2093 unexpected=12811\r\nINFO [12-29|07:59:46] Imported new state entries               count=1347 elapsed=5.251ms   processed=48776591 pending=12607 retry=0    duplicate=2093 unexpected=12811\r\nINFO [12-29|07:59:47] Imported new state entries               count=1784 elapsed=7.814ms   processed=48778375 pending=11117 retry=55   duplicate=2093 unexpected=12811\r\n```\r\n\r\n```\r\n> eth.syncing\r\n{\r\n  currentBlock: 4813345,\r\n  highestBlock: 4816460,\r\n  knownStates: 50062298,\r\n  pulledStates: 50052685,\r\n  startingBlock: 0\r\n}\r\n> eth.blockNumber\r\n0\r\n```\r\n\r\nI'm seeing knownStates and pulledStates  grow unbounded. I thought the current limit was ~30M and I'm over 50M.\r\n\r\nI will leave this overnight and report in the AM.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/354407240/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/354407901",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/15649#issuecomment-354407901",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15649",
    "id": 354407901,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1NDQwNzkwMQ==",
    "user": {
      "login": "vogelito",
      "id": 1325863,
      "node_id": "MDQ6VXNlcjEzMjU4NjM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1325863?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vogelito",
      "html_url": "https://github.com/vogelito",
      "followers_url": "https://api.github.com/users/vogelito/followers",
      "following_url": "https://api.github.com/users/vogelito/following{/other_user}",
      "gists_url": "https://api.github.com/users/vogelito/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vogelito/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vogelito/subscriptions",
      "organizations_url": "https://api.github.com/users/vogelito/orgs",
      "repos_url": "https://api.github.com/users/vogelito/repos",
      "events_url": "https://api.github.com/users/vogelito/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vogelito/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-12-29T07:09:25Z",
    "updated_at": "2017-12-29T07:10:04Z",
    "author_association": "NONE",
    "body": "Actually, this just finished:\r\n\r\n```\r\nINFO [12-29|08:04:33] Imported new state entries               count=905  elapsed=10.236ms  processed=50458070 pending=0     retry=0    duplicate=2093 unexpected=12811\r\nINFO [12-29|08:04:34] Imported new block receipts              count=1    elapsed=12.341ms  bytes=162250   number=4813346 hash=3f0256…6dbaeb ignored=0\r\nINFO [12-29|08:04:34] Committed new head block                 number=4813346 hash=3f0256…6dbaeb\r\nINFO [12-29|08:04:36] Imported new chain segment               blocks=5 txs=808 mgas=35.680 elapsed=2.896s    mgasps=12.320 number=4813351 hash=9c6016…caefda\r\nWARN [12-29|08:04:36] Skipping deep transaction reorg          depth=4813351\r\nINFO [12-29|08:04:36] Fast sync complete, auto disabling \r\n```\r\n\r\nSo currently 50458070 state entries.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/354407901/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/354455849",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/15649#issuecomment-354455849",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15649",
    "id": 354455849,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1NDQ1NTg0OQ==",
    "user": {
      "login": "grazz",
      "id": 197295,
      "node_id": "MDQ6VXNlcjE5NzI5NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/197295?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/grazz",
      "html_url": "https://github.com/grazz",
      "followers_url": "https://api.github.com/users/grazz/followers",
      "following_url": "https://api.github.com/users/grazz/following{/other_user}",
      "gists_url": "https://api.github.com/users/grazz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/grazz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/grazz/subscriptions",
      "organizations_url": "https://api.github.com/users/grazz/orgs",
      "repos_url": "https://api.github.com/users/grazz/repos",
      "events_url": "https://api.github.com/users/grazz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/grazz/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-12-29T14:55:41Z",
    "updated_at": "2017-12-29T14:55:41Z",
    "author_association": "NONE",
    "body": "@vogelito So it does work for some. I'm glad it synced. What version are you using?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/354455849/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/354456787",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/15649#issuecomment-354456787",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15649",
    "id": 354456787,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1NDQ1Njc4Nw==",
    "user": {
      "login": "vogelito",
      "id": 1325863,
      "node_id": "MDQ6VXNlcjEzMjU4NjM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1325863?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vogelito",
      "html_url": "https://github.com/vogelito",
      "followers_url": "https://api.github.com/users/vogelito/followers",
      "following_url": "https://api.github.com/users/vogelito/following{/other_user}",
      "gists_url": "https://api.github.com/users/vogelito/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vogelito/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vogelito/subscriptions",
      "organizations_url": "https://api.github.com/users/vogelito/orgs",
      "repos_url": "https://api.github.com/users/vogelito/repos",
      "events_url": "https://api.github.com/users/vogelito/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vogelito/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-12-29T15:03:48Z",
    "updated_at": "2017-12-29T15:03:48Z",
    "author_association": "NONE",
    "body": "@grazz on 1.7.3-stable",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/354456787/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/354461055",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/15649#issuecomment-354461055",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15649",
    "id": 354461055,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1NDQ2MTA1NQ==",
    "user": {
      "login": "grazz",
      "id": 197295,
      "node_id": "MDQ6VXNlcjE5NzI5NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/197295?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/grazz",
      "html_url": "https://github.com/grazz",
      "followers_url": "https://api.github.com/users/grazz/followers",
      "following_url": "https://api.github.com/users/grazz/following{/other_user}",
      "gists_url": "https://api.github.com/users/grazz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/grazz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/grazz/subscriptions",
      "organizations_url": "https://api.github.com/users/grazz/orgs",
      "repos_url": "https://api.github.com/users/grazz/repos",
      "events_url": "https://api.github.com/users/grazz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/grazz/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-12-29T15:38:54Z",
    "updated_at": "2017-12-29T15:38:54Z",
    "author_association": "NONE",
    "body": "@vogelito weird... for some rason parity syncs fine",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/354461055/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/356216646",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/15649#issuecomment-356216646",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15649",
    "id": 356216646,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1NjIxNjY0Ng==",
    "user": {
      "login": "marteenas",
      "id": 5434601,
      "node_id": "MDQ6VXNlcjU0MzQ2MDE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5434601?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/marteenas",
      "html_url": "https://github.com/marteenas",
      "followers_url": "https://api.github.com/users/marteenas/followers",
      "following_url": "https://api.github.com/users/marteenas/following{/other_user}",
      "gists_url": "https://api.github.com/users/marteenas/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/marteenas/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/marteenas/subscriptions",
      "organizations_url": "https://api.github.com/users/marteenas/orgs",
      "repos_url": "https://api.github.com/users/marteenas/repos",
      "events_url": "https://api.github.com/users/marteenas/events{/privacy}",
      "received_events_url": "https://api.github.com/users/marteenas/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-01-09T08:41:02Z",
    "updated_at": "2018-01-09T08:41:02Z",
    "author_association": "NONE",
    "body": "just wanted to let you guys know, running 1.7.3-stable, got through 50.795.615 states and it finally finished fast sync. Took around 12 hours for the states alone.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/356216646/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/357105157",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/15649#issuecomment-357105157",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15649",
    "id": 357105157,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1NzEwNTE1Nw==",
    "user": {
      "login": "HouQiming",
      "id": 8046615,
      "node_id": "MDQ6VXNlcjgwNDY2MTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8046615?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/HouQiming",
      "html_url": "https://github.com/HouQiming",
      "followers_url": "https://api.github.com/users/HouQiming/followers",
      "following_url": "https://api.github.com/users/HouQiming/following{/other_user}",
      "gists_url": "https://api.github.com/users/HouQiming/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/HouQiming/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/HouQiming/subscriptions",
      "organizations_url": "https://api.github.com/users/HouQiming/orgs",
      "repos_url": "https://api.github.com/users/HouQiming/repos",
      "events_url": "https://api.github.com/users/HouQiming/events{/privacy}",
      "received_events_url": "https://api.github.com/users/HouQiming/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-01-12T00:22:01Z",
    "updated_at": "2018-01-12T03:14:37Z",
    "author_association": "NONE",
    "body": "My own fast sync attempts consistently proceed to the pivot block, then happily downloads states for 12+ hours (reaching about 30M processed states), then gets completely stuck (state download stalls).\r\n\r\nAfter consulting the source code, my guess is that: if your sync is too slow, the state head in your pivot block gets outdated and *pruned* (i.e. permanently deleted) by other nodes, so you can't download them anymore and you never get to finish the sync. Currently geth's pruning history seems to be 4096 blocks, that means if your spend more than 4096*14/3600 ~ 15 hours downloading \r\nstates, it would *never* finish (the processed states number stop growing). This number matches my experience.\r\n\r\nIf that's true, restarting `geth --fast` *without* `geth removedb` should help. This would bump the pivot block number to a more recent one where the required data will remain available for another ~15 hours. Some already-downloaded states would inevitably go down the drains (as they become outdated by blocks mined during your previous sync attempt, i.e. some cat-herding jerk bought new cats while you're spending precious time and disk and electricity syncing up your wallet and now you have to download their new cats, again), but a large portion of them should remain valid despite the counter resetting to zero (since a lot of people covered by the 50M number are, hopefully, NOT cat-herding jerks, but you don't really know since they could have just bought their first cat last night and geth has to assume the number went back to 0). So after a few restarts, one should be able to finish the sync even on a slow setting.\r\n\r\nThere is no way to know how many more states you still have to downloaded after a restart (since estimating this number is about as expensive as finish downloading them), but that number should be smaller than the ~50M required for a first attempt. Also, during the retry attempts, it's normal for the disk usage to keep growing (since you can't know *which* states were outdated and you have to keep everything before finishing a pivot block).\r\n\r\nI'm making one such attempt right now. It could take days to verify this hypothesis, though...\r\n\r\nEDIT: My guess is right, after 4 attempts with 16M, 29M, 10M, 1M states each over 2 days, my fast sync finished successfully!",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/357105157/reactions",
      "total_count": 8,
      "+1": 5,
      "-1": 0,
      "laugh": 0,
      "hooray": 1,
      "confused": 0,
      "heart": 2,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/357478341",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/15649#issuecomment-357478341",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15649",
    "id": 357478341,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1NzQ3ODM0MQ==",
    "user": {
      "login": "grazz",
      "id": 197295,
      "node_id": "MDQ6VXNlcjE5NzI5NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/197295?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/grazz",
      "html_url": "https://github.com/grazz",
      "followers_url": "https://api.github.com/users/grazz/followers",
      "following_url": "https://api.github.com/users/grazz/following{/other_user}",
      "gists_url": "https://api.github.com/users/grazz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/grazz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/grazz/subscriptions",
      "organizations_url": "https://api.github.com/users/grazz/orgs",
      "repos_url": "https://api.github.com/users/grazz/repos",
      "events_url": "https://api.github.com/users/grazz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/grazz/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-01-14T00:22:58Z",
    "updated_at": "2018-01-14T00:22:58Z",
    "author_association": "NONE",
    "body": "@HouQiming Nice find. I wonder if I can consider this issue closed, or if it would make sense to fix this at the code level. Basically, bumping the pivot every X states.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/357478341/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/357497934",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/15649#issuecomment-357497934",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15649",
    "id": 357497934,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1NzQ5NzkzNA==",
    "user": {
      "login": "holiman",
      "id": 142290,
      "node_id": "MDQ6VXNlcjE0MjI5MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/142290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/holiman",
      "html_url": "https://github.com/holiman",
      "followers_url": "https://api.github.com/users/holiman/followers",
      "following_url": "https://api.github.com/users/holiman/following{/other_user}",
      "gists_url": "https://api.github.com/users/holiman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/holiman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/holiman/subscriptions",
      "organizations_url": "https://api.github.com/users/holiman/orgs",
      "repos_url": "https://api.github.com/users/holiman/repos",
      "events_url": "https://api.github.com/users/holiman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/holiman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-01-14T09:06:49Z",
    "updated_at": "2018-01-14T10:08:27Z",
    "author_association": "MEMBER",
    "body": "@HouQiming wow, that's a great find! It explains a lot of reports that we've been seeing. Thank you!\r\nEdit: Hm, seems it's not correct though, there's no pruning. ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/357497934/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/357854280",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/15649#issuecomment-357854280",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15649",
    "id": 357854280,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1Nzg1NDI4MA==",
    "user": {
      "login": "HouQiming",
      "id": 8046615,
      "node_id": "MDQ6VXNlcjgwNDY2MTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8046615?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/HouQiming",
      "html_url": "https://github.com/HouQiming",
      "followers_url": "https://api.github.com/users/HouQiming/followers",
      "following_url": "https://api.github.com/users/HouQiming/following{/other_user}",
      "gists_url": "https://api.github.com/users/HouQiming/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/HouQiming/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/HouQiming/subscriptions",
      "organizations_url": "https://api.github.com/users/HouQiming/orgs",
      "repos_url": "https://api.github.com/users/HouQiming/repos",
      "events_url": "https://api.github.com/users/HouQiming/events{/privacy}",
      "received_events_url": "https://api.github.com/users/HouQiming/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-01-16T05:00:08Z",
    "updated_at": "2018-01-16T05:00:08Z",
    "author_association": "NONE",
    "body": "@holiman The thing is, it's not necessarily geth pruning. During my impatient waits for long syncs, I saw a lot of peers running Parity and stuff. Sometimes I stop getting states after ~1024 blocks, so I suspect it's caused by a more aggressive alt-wallet (or a more aggressive configuration) which people were switching to due to perceived geth sync failures.\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/357854280/reactions",
      "total_count": 2,
      "+1": 2,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/414781951",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/15649#issuecomment-414781951",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15649",
    "id": 414781951,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxNDc4MTk1MQ==",
    "user": {
      "login": "smartwombat",
      "id": 8438931,
      "node_id": "MDQ6VXNlcjg0Mzg5MzE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8438931?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/smartwombat",
      "html_url": "https://github.com/smartwombat",
      "followers_url": "https://api.github.com/users/smartwombat/followers",
      "following_url": "https://api.github.com/users/smartwombat/following{/other_user}",
      "gists_url": "https://api.github.com/users/smartwombat/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/smartwombat/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/smartwombat/subscriptions",
      "organizations_url": "https://api.github.com/users/smartwombat/orgs",
      "repos_url": "https://api.github.com/users/smartwombat/repos",
      "events_url": "https://api.github.com/users/smartwombat/events{/privacy}",
      "received_events_url": "https://api.github.com/users/smartwombat/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-08-21T18:48:19Z",
    "updated_at": "2018-08-21T19:04:03Z",
    "author_association": "NONE",
    "body": "In geth 1.8.13 I see this message\r\n`WARN [08-21|19:25:24.283] Pivot became stale, moving               old=3882827 new=3882892`\r\nSo maybe \"bumping the pivot every X states\" has been implemented?\r\n\r\nAfter that message eth.syncing seems to stall with an unchanging currentBlock\r\n`eth.syncing\r\n{\r\n  currentBlock: 3882942,\r\n  highestBlock: 3883026,\r\n  knownStates: 15705856,\r\n  pulledStates: 15692947,\r\n  startingBlock: 913048\r\n}`\r\nWhere the currentBlock value is higher than the pivot, and the status message indicate \"Imported new block headers\" regularly, but there are no more \"Imported block receipts\" messages.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/414781951/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/414787022",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/15649#issuecomment-414787022",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15649",
    "id": 414787022,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxNDc4NzAyMg==",
    "user": {
      "login": "smartwombat",
      "id": 8438931,
      "node_id": "MDQ6VXNlcjg0Mzg5MzE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8438931?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/smartwombat",
      "html_url": "https://github.com/smartwombat",
      "followers_url": "https://api.github.com/users/smartwombat/followers",
      "following_url": "https://api.github.com/users/smartwombat/following{/other_user}",
      "gists_url": "https://api.github.com/users/smartwombat/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/smartwombat/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/smartwombat/subscriptions",
      "organizations_url": "https://api.github.com/users/smartwombat/orgs",
      "repos_url": "https://api.github.com/users/smartwombat/repos",
      "events_url": "https://api.github.com/users/smartwombat/events{/privacy}",
      "received_events_url": "https://api.github.com/users/smartwombat/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-08-21T19:04:51Z",
    "updated_at": "2018-08-21T19:04:51Z",
    "author_association": "NONE",
    "body": "Exiting geth with ^C and restarting immediately fetched 36 new block receipts. But then the regular \"Imported new block headers\" every 12-15 seconds increased the highestBlock faster than \"Imported new block receipts\" caught up with that.\r\n\r\nThere's no indication whether it's the incoming rate of the block receipts from other nodes that is the issue, or maybe slow processing of them once they arrive.  I suspect it's related to how the protocol defines a \"new\" block receipt and decides which to fetch from the connected peers.\r\n\r\nThe problem for me is the complexity: with different implementations (Geth, Parity, Pirl) and different versions (both stable and beta) it's possible the other nodes on the testnet may just not be reliable. There are so many variables and possible interactions it surprises me that it ever synchronises (it did once in the last 2 weeks but then Microsoft updated Windows and it all went out of sync again).",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/414787022/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/456339245",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/15649#issuecomment-456339245",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15649",
    "id": 456339245,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1NjMzOTI0NQ==",
    "user": {
      "login": "holiman",
      "id": 142290,
      "node_id": "MDQ6VXNlcjE0MjI5MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/142290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/holiman",
      "html_url": "https://github.com/holiman",
      "followers_url": "https://api.github.com/users/holiman/followers",
      "following_url": "https://api.github.com/users/holiman/following{/other_user}",
      "gists_url": "https://api.github.com/users/holiman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/holiman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/holiman/subscriptions",
      "organizations_url": "https://api.github.com/users/holiman/orgs",
      "repos_url": "https://api.github.com/users/holiman/repos",
      "events_url": "https://api.github.com/users/holiman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/holiman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-01-22T09:57:51Z",
    "updated_at": "2019-01-22T09:57:51Z",
    "author_association": "MEMBER",
    "body": "We are consistently doing fast-syncs on testing infrastructure, and it consistently works. Since the original report was made (1.7.3) a lot has happened. Please open a new ticket for remaining problems, as this ticket getting a bit unwieldy.  ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/456339245/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/456340739",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/15649#issuecomment-456340739",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15649",
    "id": 456340739,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1NjM0MDczOQ==",
    "user": {
      "login": "fjl",
      "id": 6915,
      "node_id": "MDQ6VXNlcjY5MTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6915?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fjl",
      "html_url": "https://github.com/fjl",
      "followers_url": "https://api.github.com/users/fjl/followers",
      "following_url": "https://api.github.com/users/fjl/following{/other_user}",
      "gists_url": "https://api.github.com/users/fjl/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fjl/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fjl/subscriptions",
      "organizations_url": "https://api.github.com/users/fjl/orgs",
      "repos_url": "https://api.github.com/users/fjl/repos",
      "events_url": "https://api.github.com/users/fjl/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fjl/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-01-22T10:02:14Z",
    "updated_at": "2019-01-22T10:02:14Z",
    "author_association": "MEMBER",
    "body": "BTW, moving the pivot during sync was implemented a while ago. ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/456340739/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
