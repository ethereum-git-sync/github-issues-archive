{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23189",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23189/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23189/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23189/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/23189",
  "id": 941270928,
  "node_id": "MDU6SXNzdWU5NDEyNzA5Mjg=",
  "number": 23189,
  "title": "err=\"missing trie node\" and \"Snapshot extension registration failed\"",
  "user": {
    "login": "sami3232",
    "id": 45591292,
    "node_id": "MDQ6VXNlcjQ1NTkxMjky",
    "avatar_url": "https://avatars.githubusercontent.com/u/45591292?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/sami3232",
    "html_url": "https://github.com/sami3232",
    "followers_url": "https://api.github.com/users/sami3232/followers",
    "following_url": "https://api.github.com/users/sami3232/following{/other_user}",
    "gists_url": "https://api.github.com/users/sami3232/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/sami3232/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/sami3232/subscriptions",
    "organizations_url": "https://api.github.com/users/sami3232/orgs",
    "repos_url": "https://api.github.com/users/sami3232/repos",
    "events_url": "https://api.github.com/users/sami3232/events{/privacy}",
    "received_events_url": "https://api.github.com/users/sami3232/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 72233650,
      "node_id": "MDU6TGFiZWw3MjIzMzY1MA==",
      "url": "https://api.github.com/repos/ethereum/go-ethereum/labels/type:bug",
      "name": "type:bug",
      "color": "FF5E5E",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 3,
  "created_at": "2021-07-10T15:22:24Z",
  "updated_at": "2021-07-15T13:48:17Z",
  "closed_at": "2021-07-15T13:48:17Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "#### System information\r\n\r\nGeth version: `Geth version: 1.10.4-stable`\r\nOS & Version: Ubuntu 20.04LTS\r\n\r\n#### Expected behaviour\r\nHaving a node with less errors\r\n\r\n#### Actual behaviour\r\nI'm trying to launch a blockchain explorer named blockscout but when I launch the server on my private chain, I'm getting some issues that I don't really understand. I know it comes from geth but don't really know why they appeared.\r\n\r\nOne of the error I'm constantly having :\r\n```\r\nERROR[07-10|15:11:52.946] Snapshot extension registration failed   peer=98998f1a err=\"peer connected on snap without compatible eth support\"\r\n```\r\n\r\nThen it's looping with these messages. My node doesn't seems to find any peers. \r\n\r\n```\r\nINFO [07-10|15:11:30.895] Looking for peers                        peercount=1 tried=108 static=0\r\nINFO [07-10|15:11:41.167] Looking for peers                        peercount=0 tried=108 static=0\r\nINFO [07-10|15:11:52.737] Looking for peers                        peercount=0 tried=71  static=0\r\n```\r\n\r\nOnce I launch the blockscout server, I'm getting this warning:\r\n```\r\nWARN [07-10|15:15:36.794] Served eth_getBalance                    conn=127.0.0.1:38625 reqid=19 t=\"49.631µs\"  err=\"missing trie node 432ccea7vb54e5e15b1ae7b96b84cc1ab7103o99687508a70749az472263c9f6 (path )\"\r\nWARN [07-10|15:15:36.794] Served eth_getBalance                    conn=127.0.0.1:38625 reqid=20 t=\"65.933µs\"  err=\"missing trie node cd6919eae87618sa8dd3226176076ac99ec2687df702d67528e65g49e618e53 (path )\"\r\n```\r\nIt's looping too.\r\n\r\nIf you have any idea or if you know what can I change to fix my errors, I'll be glad to read your suggestions.\r\n\r\n#### Others\r\n\r\nHere is my genesis.json file:\r\n```json\r\n{\r\n    \"nonce\": \"0x0000000000000042\",\r\n    \"timestamp\": \"0x0\",\r\n    \"parentHash\": \"0x0000000000000000000000000000000000000000000000000000000000000000\",\r\n    \"extraData\": \"0x00\",\r\n    \"gasLimit\": \"0x8000000\",\r\n    \"difficulty\": \"0x040\",\r\n    \"mixhash\": \"0x0000000000000000000000000000000000000000000000000000000000000000\",\r\n    \"coinbase\": \"0x0000000000000000000000000000000000000333\",\r\n    \"alloc\": {},\r\n    \"config\": {\"chainId\": 2021 , \"homesteadBlock\": 0, \"eip155Block\": 0, \"eip158Block\": 0, \"eip150Block\": 0}\r\n}\r\n```\r\nHere are the flags I'm using for this node : \r\n```\r\ngeth --syncmode \"full\" --gcmode=archive --datadir ~aled/test --networkid 923822 --http --http.port \"8545\" --port 30303 --http.addr 0.0.0.0 --http.corsdomain \"*\" --http.api \"debug,eth,net,web3,personal,miner,txpool\" --http.vhosts=\"*\" --ws --ws.addr 0.0.0.0 --ws.port 8546 --ws.api \"debug,eth,net,web3,personal,miner,txpool\" --ws.origins \"*\" --nodiscover\r\n```\r\n",
  "closed_by": {
    "login": "sami3232",
    "id": 45591292,
    "node_id": "MDQ6VXNlcjQ1NTkxMjky",
    "avatar_url": "https://avatars.githubusercontent.com/u/45591292?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/sami3232",
    "html_url": "https://github.com/sami3232",
    "followers_url": "https://api.github.com/users/sami3232/followers",
    "following_url": "https://api.github.com/users/sami3232/following{/other_user}",
    "gists_url": "https://api.github.com/users/sami3232/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/sami3232/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/sami3232/subscriptions",
    "organizations_url": "https://api.github.com/users/sami3232/orgs",
    "repos_url": "https://api.github.com/users/sami3232/repos",
    "events_url": "https://api.github.com/users/sami3232/events{/privacy}",
    "received_events_url": "https://api.github.com/users/sami3232/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23189/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23189/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/879357900",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/23189#issuecomment-879357900",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23189",
    "id": 879357900,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg3OTM1NzkwMA==",
    "user": {
      "login": "begetan",
      "id": 17225934,
      "node_id": "MDQ6VXNlcjE3MjI1OTM0",
      "avatar_url": "https://avatars.githubusercontent.com/u/17225934?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/begetan",
      "html_url": "https://github.com/begetan",
      "followers_url": "https://api.github.com/users/begetan/followers",
      "following_url": "https://api.github.com/users/begetan/following{/other_user}",
      "gists_url": "https://api.github.com/users/begetan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/begetan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/begetan/subscriptions",
      "organizations_url": "https://api.github.com/users/begetan/orgs",
      "repos_url": "https://api.github.com/users/begetan/repos",
      "events_url": "https://api.github.com/users/begetan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/begetan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-13T19:53:00Z",
    "updated_at": "2021-07-13T19:53:00Z",
    "author_association": "NONE",
    "body": "This ERROR message means that your peer is not supporting the new snapshot sync feature enabled by default in version 1.10.4.  It is either outdated or not completed snapshot regeneration after the initial full sync was completed.\r\n\r\nWARN message is about the number of the peers",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/879357900/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/879635058",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/23189#issuecomment-879635058",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23189",
    "id": 879635058,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg3OTYzNTA1OA==",
    "user": {
      "login": "rjl493456442",
      "id": 5959481,
      "node_id": "MDQ6VXNlcjU5NTk0ODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5959481?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rjl493456442",
      "html_url": "https://github.com/rjl493456442",
      "followers_url": "https://api.github.com/users/rjl493456442/followers",
      "following_url": "https://api.github.com/users/rjl493456442/following{/other_user}",
      "gists_url": "https://api.github.com/users/rjl493456442/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rjl493456442/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rjl493456442/subscriptions",
      "organizations_url": "https://api.github.com/users/rjl493456442/orgs",
      "repos_url": "https://api.github.com/users/rjl493456442/repos",
      "events_url": "https://api.github.com/users/rjl493456442/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rjl493456442/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-14T06:40:58Z",
    "updated_at": "2021-07-14T06:40:58Z",
    "author_association": "MEMBER",
    "body": "The reason for this log `err=\"peer connected on snap without compatible eth support\"` is that some other clients try to connect with your node, with snap enabled but no eth protocol. It's because some clients rename the eth protocol to their own name. You can just ignore this error.\r\n\r\n`missing trie node cd6919eae87618sa8dd3226176076ac99ec2687df702d67528e65g49e618e53 (path )\"` it means your database is fired with the broken state. You may want to resync the node.\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/879635058/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/880709340",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/23189#issuecomment-880709340",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23189",
    "id": 880709340,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg4MDcwOTM0MA==",
    "user": {
      "login": "sami3232",
      "id": 45591292,
      "node_id": "MDQ6VXNlcjQ1NTkxMjky",
      "avatar_url": "https://avatars.githubusercontent.com/u/45591292?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sami3232",
      "html_url": "https://github.com/sami3232",
      "followers_url": "https://api.github.com/users/sami3232/followers",
      "following_url": "https://api.github.com/users/sami3232/following{/other_user}",
      "gists_url": "https://api.github.com/users/sami3232/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sami3232/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sami3232/subscriptions",
      "organizations_url": "https://api.github.com/users/sami3232/orgs",
      "repos_url": "https://api.github.com/users/sami3232/repos",
      "events_url": "https://api.github.com/users/sami3232/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sami3232/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-15T13:48:06Z",
    "updated_at": "2021-07-15T13:48:06Z",
    "author_association": "NONE",
    "body": "Thank you guys for the quick reply, I'll check that and try resync my nodes",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/880709340/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
