{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22743",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22743/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22743/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22743/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/22743",
  "id": 868438949,
  "node_id": "MDU6SXNzdWU4Njg0Mzg5NDk=",
  "number": 22743,
  "title": "confusing about mining",
  "user": {
    "login": "master-davidlee",
    "id": 49427668,
    "node_id": "MDQ6VXNlcjQ5NDI3NjY4",
    "avatar_url": "https://avatars.githubusercontent.com/u/49427668?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/master-davidlee",
    "html_url": "https://github.com/master-davidlee",
    "followers_url": "https://api.github.com/users/master-davidlee/followers",
    "following_url": "https://api.github.com/users/master-davidlee/following{/other_user}",
    "gists_url": "https://api.github.com/users/master-davidlee/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/master-davidlee/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/master-davidlee/subscriptions",
    "organizations_url": "https://api.github.com/users/master-davidlee/orgs",
    "repos_url": "https://api.github.com/users/master-davidlee/repos",
    "events_url": "https://api.github.com/users/master-davidlee/events{/privacy}",
    "received_events_url": "https://api.github.com/users/master-davidlee/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 268304226,
      "node_id": "MDU6TGFiZWwyNjgzMDQyMjY=",
      "url": "https://api.github.com/repos/ethereum/go-ethereum/labels/type:docs",
      "name": "type:docs",
      "color": "fef2c0",
      "default": false,
      "description": null
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 3,
  "created_at": "2021-04-27T04:16:25Z",
  "updated_at": "2021-04-27T16:25:15Z",
  "closed_at": "2021-04-27T16:25:15Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "If a miner is mining and receives a transaction with the same nonce and a higher fee, will the miner stop and replace the transaction, then restart mining ?",
  "closed_by": {
    "login": "holiman",
    "id": 142290,
    "node_id": "MDQ6VXNlcjE0MjI5MA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/142290?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/holiman",
    "html_url": "https://github.com/holiman",
    "followers_url": "https://api.github.com/users/holiman/followers",
    "following_url": "https://api.github.com/users/holiman/following{/other_user}",
    "gists_url": "https://api.github.com/users/holiman/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/holiman/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/holiman/subscriptions",
    "organizations_url": "https://api.github.com/users/holiman/orgs",
    "repos_url": "https://api.github.com/users/holiman/repos",
    "events_url": "https://api.github.com/users/holiman/events{/privacy}",
    "received_events_url": "https://api.github.com/users/holiman/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22743/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22743/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/827720672",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/22743#issuecomment-827720672",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22743",
    "id": 827720672,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgyNzcyMDY3Mg==",
    "user": {
      "login": "ccsalway",
      "id": 1469324,
      "node_id": "MDQ6VXNlcjE0NjkzMjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1469324?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ccsalway",
      "html_url": "https://github.com/ccsalway",
      "followers_url": "https://api.github.com/users/ccsalway/followers",
      "following_url": "https://api.github.com/users/ccsalway/following{/other_user}",
      "gists_url": "https://api.github.com/users/ccsalway/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ccsalway/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ccsalway/subscriptions",
      "organizations_url": "https://api.github.com/users/ccsalway/orgs",
      "repos_url": "https://api.github.com/users/ccsalway/repos",
      "events_url": "https://api.github.com/users/ccsalway/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ccsalway/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-04-27T15:57:26Z",
    "updated_at": "2021-04-27T15:58:47Z",
    "author_association": "NONE",
    "body": "Surely this would mean restarting the verification of the transaction and computation of the block hash as the payload has changed, and as such a wasted expense. \r\n\r\nWork flow:\r\nTransaction fee offered is 100\r\nYou compute to verify transaction \r\nYou start to calculate the block hash\r\nTransaction fee offered is now 120\r\nYou start the verify process again\r\nYou restart to calculate the block hash\r\n\r\nYou have potentially done most of the work to calculate the block hash, which will be wasted.  So unless the new transaction fee is a lot higher to have to start everything again, why would you...  just compute it and move on.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/827720672/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/827730193",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/22743#issuecomment-827730193",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22743",
    "id": 827730193,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgyNzczMDE5Mw==",
    "user": {
      "login": "master-davidlee",
      "id": 49427668,
      "node_id": "MDQ6VXNlcjQ5NDI3NjY4",
      "avatar_url": "https://avatars.githubusercontent.com/u/49427668?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/master-davidlee",
      "html_url": "https://github.com/master-davidlee",
      "followers_url": "https://api.github.com/users/master-davidlee/followers",
      "following_url": "https://api.github.com/users/master-davidlee/following{/other_user}",
      "gists_url": "https://api.github.com/users/master-davidlee/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/master-davidlee/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/master-davidlee/subscriptions",
      "organizations_url": "https://api.github.com/users/master-davidlee/orgs",
      "repos_url": "https://api.github.com/users/master-davidlee/repos",
      "events_url": "https://api.github.com/users/master-davidlee/events{/privacy}",
      "received_events_url": "https://api.github.com/users/master-davidlee/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-04-27T16:09:48Z",
    "updated_at": "2021-04-27T16:09:48Z",
    "author_association": "NONE",
    "body": "Thanks for the answer, I was wondering from the real code point view, would miners give up and waste the effort already made and replace it with this new tx ? Sorry I don't know go language.ðŸ¤• ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/827730193/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/827740888",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/22743#issuecomment-827740888",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22743",
    "id": 827740888,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgyNzc0MDg4OA==",
    "user": {
      "login": "holiman",
      "id": 142290,
      "node_id": "MDQ6VXNlcjE0MjI5MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/142290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/holiman",
      "html_url": "https://github.com/holiman",
      "followers_url": "https://api.github.com/users/holiman/followers",
      "following_url": "https://api.github.com/users/holiman/following{/other_user}",
      "gists_url": "https://api.github.com/users/holiman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/holiman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/holiman/subscriptions",
      "organizations_url": "https://api.github.com/users/holiman/orgs",
      "repos_url": "https://api.github.com/users/holiman/repos",
      "events_url": "https://api.github.com/users/holiman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/holiman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-04-27T16:25:15Z",
    "updated_at": "2021-04-27T16:25:15Z",
    "author_association": "MEMBER",
    "body": "> You have potentially done most of the work to calculate the block hash, which will be wasted.\r\n\r\nThat's not quite true. Mining is not about \"carefully building a tower\" , it's more about randomly picking grains of sands on a large beach, and eventually finding a grain that matches what you're looking for. \r\n\r\nSo switching out the work-package is no real loss. The only loss comes from the sliver of time that the GPU is not mining, which _should_ be short. If the node updates the work package, and the miner simultaneously finds a solution, then the node _should_ accept that solution, even though the old work package is a bit stale. Otherwise there's a risk there aswell. \r\n\r\nSo, \r\n> If a miner is mining and receives a transaction with the same nonce and a higher fee, will the miner stop and replace the transaction, then restart mining ?\r\n\r\nYes, but not immediately. We don't insta-rebuild the work package whenever a better transaction comes in, afaik. But yes, we do incrementally improve the work package while the miner is working on it. ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/827740888/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
