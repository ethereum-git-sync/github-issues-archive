{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/2330",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/2330/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/2330/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/2330/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/2330",
  "id": 140448154,
  "node_id": "MDU6SXNzdWUxNDA0NDgxNTQ=",
  "number": 2330,
  "title": "admin.addPeer returns true but no peer is added",
  "user": {
    "login": "adligo",
    "id": 6592521,
    "node_id": "MDQ6VXNlcjY1OTI1MjE=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6592521?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/adligo",
    "html_url": "https://github.com/adligo",
    "followers_url": "https://api.github.com/users/adligo/followers",
    "following_url": "https://api.github.com/users/adligo/following{/other_user}",
    "gists_url": "https://api.github.com/users/adligo/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/adligo/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/adligo/subscriptions",
    "organizations_url": "https://api.github.com/users/adligo/orgs",
    "repos_url": "https://api.github.com/users/adligo/repos",
    "events_url": "https://api.github.com/users/adligo/events{/privacy}",
    "received_events_url": "https://api.github.com/users/adligo/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 164892077,
      "node_id": "MDU6TGFiZWwxNjQ4OTIwNzc=",
      "url": "https://api.github.com/repos/ethereum/go-ethereum/labels/area:network",
      "name": "area:network",
      "color": "207de5",
      "default": false,
      "description": null
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": {
    "login": "fjl",
    "id": 6915,
    "node_id": "MDQ6VXNlcjY5MTU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6915?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/fjl",
    "html_url": "https://github.com/fjl",
    "followers_url": "https://api.github.com/users/fjl/followers",
    "following_url": "https://api.github.com/users/fjl/following{/other_user}",
    "gists_url": "https://api.github.com/users/fjl/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/fjl/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/fjl/subscriptions",
    "organizations_url": "https://api.github.com/users/fjl/orgs",
    "repos_url": "https://api.github.com/users/fjl/repos",
    "events_url": "https://api.github.com/users/fjl/events{/privacy}",
    "received_events_url": "https://api.github.com/users/fjl/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "fjl",
      "id": 6915,
      "node_id": "MDQ6VXNlcjY5MTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6915?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fjl",
      "html_url": "https://github.com/fjl",
      "followers_url": "https://api.github.com/users/fjl/followers",
      "following_url": "https://api.github.com/users/fjl/following{/other_user}",
      "gists_url": "https://api.github.com/users/fjl/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fjl/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fjl/subscriptions",
      "organizations_url": "https://api.github.com/users/fjl/orgs",
      "repos_url": "https://api.github.com/users/fjl/repos",
      "events_url": "https://api.github.com/users/fjl/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fjl/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 6,
  "created_at": "2016-03-13T04:50:09Z",
  "updated_at": "2019-01-10T18:19:37Z",
  "closed_at": "2017-01-26T20:56:08Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "Hi,\n\n   I am trying to get a few geth instances on separate computers on a internal NAT network to talk to each other as peers with out success.   They are all on the same network i.e. 192.168.0.*, and I can ssh etc from the computers to each other.  \n\nI see some strange info when I try;\n\n> admin.nodeInfo\n> The IP address in the enode and ip address field is NOT the IP address of the computer, but a IP of a router used by the computer on another network.   However I do see this;\n> listenAddr: \"[::]:30303\",\n> and the doc seems to indicate that [::] is the loopback 127.0.0.1.\n\nI have tried substituting the correct ip address to create a enode URL so that I can do;\n\n> admin.addPeer('enode://splat:IP:port')\n> This returns true, however the following command returns an empty peer array;\n> admin.peers\n> []\n\nI am simply trying to reduce network traffic, so that I can ACTUALLY USE MY INTERNET while mining in the following simple manor;\nISP  <-   Box A  <-  Box B  & C\nIn the above text diagram Box A would discover peers using the automated discovery, and Box B and C would connect to Box A to download blocks.\n\nIs there any way to do this with geth?\nIt seems like a fairly simple and common Use-Case for optimizing network traffic for miners.\nLarge scale miners like Hashflare may want to expand on the model by having a few machines talk to public nodes, and most other mining machines talk to those few machines.\n\nAlso it seems that there should be a command line networking option to specify the IP address of the machine (used in admin.nodeInfo), if geth isn't going to use it by default.\n\nAlso, I think geth may be overstating it's hash rates significantly when large numbers are passed to \n--minerthreads.\n\nThanks,\nScott\n",
  "closed_by": {
    "login": "fjl",
    "id": 6915,
    "node_id": "MDQ6VXNlcjY5MTU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6915?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/fjl",
    "html_url": "https://github.com/fjl",
    "followers_url": "https://api.github.com/users/fjl/followers",
    "following_url": "https://api.github.com/users/fjl/following{/other_user}",
    "gists_url": "https://api.github.com/users/fjl/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/fjl/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/fjl/subscriptions",
    "organizations_url": "https://api.github.com/users/fjl/orgs",
    "repos_url": "https://api.github.com/users/fjl/repos",
    "events_url": "https://api.github.com/users/fjl/events{/privacy}",
    "received_events_url": "https://api.github.com/users/fjl/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/2330/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/2330/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/275510932",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/2330#issuecomment-275510932",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/2330",
    "id": 275510932,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3NTUxMDkzMg==",
    "user": {
      "login": "fjl",
      "id": 6915,
      "node_id": "MDQ6VXNlcjY5MTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6915?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fjl",
      "html_url": "https://github.com/fjl",
      "followers_url": "https://api.github.com/users/fjl/followers",
      "following_url": "https://api.github.com/users/fjl/following{/other_user}",
      "gists_url": "https://api.github.com/users/fjl/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fjl/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fjl/subscriptions",
      "organizations_url": "https://api.github.com/users/fjl/orgs",
      "repos_url": "https://api.github.com/users/fjl/repos",
      "events_url": "https://api.github.com/users/fjl/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fjl/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-01-26T20:56:09Z",
    "updated_at": "2017-01-26T20:56:42Z",
    "author_association": "MEMBER",
    "body": "The peer is added asynchronously. It may take some time to connect after addPeer has returned.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/275510932/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/320395967",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/2330#issuecomment-320395967",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/2330",
    "id": 320395967,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMyMDM5NTk2Nw==",
    "user": {
      "login": "stiv-yakovenko",
      "id": 4163254,
      "node_id": "MDQ6VXNlcjQxNjMyNTQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4163254?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/stiv-yakovenko",
      "html_url": "https://github.com/stiv-yakovenko",
      "followers_url": "https://api.github.com/users/stiv-yakovenko/followers",
      "following_url": "https://api.github.com/users/stiv-yakovenko/following{/other_user}",
      "gists_url": "https://api.github.com/users/stiv-yakovenko/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/stiv-yakovenko/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/stiv-yakovenko/subscriptions",
      "organizations_url": "https://api.github.com/users/stiv-yakovenko/orgs",
      "repos_url": "https://api.github.com/users/stiv-yakovenko/repos",
      "events_url": "https://api.github.com/users/stiv-yakovenko/events{/privacy}",
      "received_events_url": "https://api.github.com/users/stiv-yakovenko/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-08-05T04:24:19Z",
    "updated_at": "2017-08-05T04:24:19Z",
    "author_association": "NONE",
    "body": "I have the same problem and I don't know how to resolve it.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/320395967/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/320641308",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/2330#issuecomment-320641308",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/2330",
    "id": 320641308,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMyMDY0MTMwOA==",
    "user": {
      "login": "AqeelKazmi",
      "id": 30657768,
      "node_id": "MDQ6VXNlcjMwNjU3NzY4",
      "avatar_url": "https://avatars.githubusercontent.com/u/30657768?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/AqeelKazmi",
      "html_url": "https://github.com/AqeelKazmi",
      "followers_url": "https://api.github.com/users/AqeelKazmi/followers",
      "following_url": "https://api.github.com/users/AqeelKazmi/following{/other_user}",
      "gists_url": "https://api.github.com/users/AqeelKazmi/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/AqeelKazmi/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/AqeelKazmi/subscriptions",
      "organizations_url": "https://api.github.com/users/AqeelKazmi/orgs",
      "repos_url": "https://api.github.com/users/AqeelKazmi/repos",
      "events_url": "https://api.github.com/users/AqeelKazmi/events{/privacy}",
      "received_events_url": "https://api.github.com/users/AqeelKazmi/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-08-07T11:40:47Z",
    "updated_at": "2017-08-07T11:40:47Z",
    "author_association": "NONE",
    "body": "#fjl How much time it takes???\r\n\r\n ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/320641308/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/415330266",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/2330#issuecomment-415330266",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/2330",
    "id": 415330266,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxNTMzMDI2Ng==",
    "user": {
      "login": "ChangWinde",
      "id": 32702054,
      "node_id": "MDQ6VXNlcjMyNzAyMDU0",
      "avatar_url": "https://avatars.githubusercontent.com/u/32702054?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ChangWinde",
      "html_url": "https://github.com/ChangWinde",
      "followers_url": "https://api.github.com/users/ChangWinde/followers",
      "following_url": "https://api.github.com/users/ChangWinde/following{/other_user}",
      "gists_url": "https://api.github.com/users/ChangWinde/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ChangWinde/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ChangWinde/subscriptions",
      "organizations_url": "https://api.github.com/users/ChangWinde/orgs",
      "repos_url": "https://api.github.com/users/ChangWinde/repos",
      "events_url": "https://api.github.com/users/ChangWinde/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ChangWinde/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-08-23T08:10:07Z",
    "updated_at": "2018-08-23T08:10:07Z",
    "author_association": "NONE",
    "body": "I have the same problem and I don't know how to resolve it.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/415330266/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/453198725",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/2330#issuecomment-453198725",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/2330",
    "id": 453198725,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1MzE5ODcyNQ==",
    "user": {
      "login": "martinnaughton",
      "id": 4721428,
      "node_id": "MDQ6VXNlcjQ3MjE0Mjg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4721428?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/martinnaughton",
      "html_url": "https://github.com/martinnaughton",
      "followers_url": "https://api.github.com/users/martinnaughton/followers",
      "following_url": "https://api.github.com/users/martinnaughton/following{/other_user}",
      "gists_url": "https://api.github.com/users/martinnaughton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/martinnaughton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/martinnaughton/subscriptions",
      "organizations_url": "https://api.github.com/users/martinnaughton/orgs",
      "repos_url": "https://api.github.com/users/martinnaughton/repos",
      "events_url": "https://api.github.com/users/martinnaughton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/martinnaughton/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-01-10T18:17:19Z",
    "updated_at": "2019-01-10T18:17:19Z",
    "author_association": "NONE",
    "body": "I had an issue. I was using the default ip address in the id which was 127.0.0.1 that means only nodes start on the same machine can talk to the node. Change the IP to machine that is running the other node. then they should talk to each other straight away. I had a node on my computer talking to a node on a raspberry pi. I change the ip address to one on the raspberry pi and they started talking.\r\n`admin.addPeer('enode://splat:127.0.0.1:port')`",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/453198725/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/453199507",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/2330#issuecomment-453199507",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/2330",
    "id": 453199507,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1MzE5OTUwNw==",
    "user": {
      "login": "martinnaughton",
      "id": 4721428,
      "node_id": "MDQ6VXNlcjQ3MjE0Mjg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4721428?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/martinnaughton",
      "html_url": "https://github.com/martinnaughton",
      "followers_url": "https://api.github.com/users/martinnaughton/followers",
      "following_url": "https://api.github.com/users/martinnaughton/following{/other_user}",
      "gists_url": "https://api.github.com/users/martinnaughton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/martinnaughton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/martinnaughton/subscriptions",
      "organizations_url": "https://api.github.com/users/martinnaughton/orgs",
      "repos_url": "https://api.github.com/users/martinnaughton/repos",
      "events_url": "https://api.github.com/users/martinnaughton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/martinnaughton/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-01-10T18:19:37Z",
    "updated_at": "2019-01-10T18:19:37Z",
    "author_association": "NONE",
    "body": "I had the same issue. The issue was I was using the default ip address in the id which was 127.0.0.1 that means only nodes start on the same machine can talk to the node. It always says 127.0.0.1 when you run the command admin.nodeInfo. Change the IP to the machine that is running the node. then they should talk to each other straight away. I had a node on my computer talking to a node on a raspberry pi. I change the ip address to one on the raspberry pi and they started talking.\r\n`admin.addPeer('enode://splat:127.0.0.1:port')`",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/453199507/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
