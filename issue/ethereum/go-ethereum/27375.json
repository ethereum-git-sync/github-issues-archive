{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/27375",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/27375/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/27375/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/27375/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/27375",
  "id": 1729515514,
  "node_id": "I_kwDOAOvK985nFk_6",
  "number": 27375,
  "title": "Why do nodes often hang up when using the poa private chain built by geth?",
  "user": {
    "login": "Ten163",
    "id": 128691332,
    "node_id": "U_kgDOB6ushA",
    "avatar_url": "https://avatars.githubusercontent.com/u/128691332?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/Ten163",
    "html_url": "https://github.com/Ten163",
    "followers_url": "https://api.github.com/users/Ten163/followers",
    "following_url": "https://api.github.com/users/Ten163/following{/other_user}",
    "gists_url": "https://api.github.com/users/Ten163/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/Ten163/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/Ten163/subscriptions",
    "organizations_url": "https://api.github.com/users/Ten163/orgs",
    "repos_url": "https://api.github.com/users/Ten163/repos",
    "events_url": "https://api.github.com/users/Ten163/events{/privacy}",
    "received_events_url": "https://api.github.com/users/Ten163/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 268304226,
      "node_id": "MDU6TGFiZWwyNjgzMDQyMjY=",
      "url": "https://api.github.com/repos/ethereum/go-ethereum/labels/type:docs",
      "name": "type:docs",
      "color": "fef2c0",
      "default": false,
      "description": null
    },
    {
      "id": 1132754722,
      "node_id": "MDU6TGFiZWwxMTMyNzU0NzIy",
      "url": "https://api.github.com/repos/ethereum/go-ethereum/labels/need:more-information",
      "name": "need:more-information",
      "color": "db6fa3",
      "default": false,
      "description": ""
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 6,
  "created_at": "2023-05-28T15:10:59Z",
  "updated_at": "2023-06-14T08:23:11Z",
  "closed_at": null,
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "geth\r\nVersion: `1.11.6-stable`\r\n```\r\nLinux iZwz97in5tf7l9wjfmrhffZ 5.4.0-110-generic #124-Ubuntu SMP Thu Apr 14 19:46:19 UTC 2022 x86_64 x86_64 x86_64 GNU/Linux\r\n```\r\n4 cores 8g memory\r\n```\r\n./geth --networkid 61002 --cache 4096 --nodiscover --syncmode full --maxpeers 300  --allow-insecure-unlock --unlock 0 --password password.txt --miner.etherbase 0x22eee1c10ab2a20fa2b24dbcfdcb3d00eea26ed8 --mine\r\n```\r\nIs there something wrong with the commands I enabled? Often when the network is running, only a certain node will hang up.\r\nThank you so much.",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/27375/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/27375/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1566759916",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/27375#issuecomment-1566759916",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/27375",
    "id": 1566759916,
    "node_id": "IC_kwDOAOvK985dYtvs",
    "user": {
      "login": "holiman",
      "id": 142290,
      "node_id": "MDQ6VXNlcjE0MjI5MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/142290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/holiman",
      "html_url": "https://github.com/holiman",
      "followers_url": "https://api.github.com/users/holiman/followers",
      "following_url": "https://api.github.com/users/holiman/following{/other_user}",
      "gists_url": "https://api.github.com/users/holiman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/holiman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/holiman/subscriptions",
      "organizations_url": "https://api.github.com/users/holiman/orgs",
      "repos_url": "https://api.github.com/users/holiman/repos",
      "events_url": "https://api.github.com/users/holiman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/holiman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-05-29T08:32:40Z",
    "updated_at": "2023-05-29T08:32:40Z",
    "author_association": "MEMBER",
    "body": "I suppose most of the nodes you find are mainnet nodes, and  you have `networkid 61002`. They are not compatible with you, and will hang up. Is that not what you expect? ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1566759916/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1568341541",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/27375#issuecomment-1568341541",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/27375",
    "id": 1568341541,
    "node_id": "IC_kwDOAOvK985dev4l",
    "user": {
      "login": "karalabe",
      "id": 129561,
      "node_id": "MDQ6VXNlcjEyOTU2MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/karalabe",
      "html_url": "https://github.com/karalabe",
      "followers_url": "https://api.github.com/users/karalabe/followers",
      "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
      "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
      "organizations_url": "https://api.github.com/users/karalabe/orgs",
      "repos_url": "https://api.github.com/users/karalabe/repos",
      "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/karalabe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-05-30T12:23:46Z",
    "updated_at": "2023-05-30T12:23:46Z",
    "author_association": "MEMBER",
    "body": "What does \"hang up\" mean? I'm not entire clear what you're seeing.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1568341541/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1573005829",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/27375#issuecomment-1573005829",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/27375",
    "id": 1573005829,
    "node_id": "IC_kwDOAOvK985dwioF",
    "user": {
      "login": "Ten163",
      "id": 128691332,
      "node_id": "U_kgDOB6ushA",
      "avatar_url": "https://avatars.githubusercontent.com/u/128691332?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Ten163",
      "html_url": "https://github.com/Ten163",
      "followers_url": "https://api.github.com/users/Ten163/followers",
      "following_url": "https://api.github.com/users/Ten163/following{/other_user}",
      "gists_url": "https://api.github.com/users/Ten163/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Ten163/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Ten163/subscriptions",
      "organizations_url": "https://api.github.com/users/Ten163/orgs",
      "repos_url": "https://api.github.com/users/Ten163/repos",
      "events_url": "https://api.github.com/users/Ten163/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Ten163/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-06-02T01:36:44Z",
    "updated_at": "2023-06-02T01:36:44Z",
    "author_association": "NONE",
    "body": "> I suppose most of the nodes you find are mainnet nodes, and you have `networkid 61002`. They are not compatible with you, and will hang up. Is that not what you expect?\r\n\r\nYes, my own private chain network id is 61002, and there are 3 verification nodes on the private chain network, but when the transaction volume is sent to the node, the memory of the node will continue to increase, which will eventually lead to oom. At startup, I've added --cache 4096, but it doesn't seem to have any effect!",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1573005829/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1573007025",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/27375#issuecomment-1573007025",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/27375",
    "id": 1573007025,
    "node_id": "IC_kwDOAOvK985dwi6x",
    "user": {
      "login": "Ten163",
      "id": 128691332,
      "node_id": "U_kgDOB6ushA",
      "avatar_url": "https://avatars.githubusercontent.com/u/128691332?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Ten163",
      "html_url": "https://github.com/Ten163",
      "followers_url": "https://api.github.com/users/Ten163/followers",
      "following_url": "https://api.github.com/users/Ten163/following{/other_user}",
      "gists_url": "https://api.github.com/users/Ten163/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Ten163/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Ten163/subscriptions",
      "organizations_url": "https://api.github.com/users/Ten163/orgs",
      "repos_url": "https://api.github.com/users/Ten163/repos",
      "events_url": "https://api.github.com/users/Ten163/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Ten163/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-06-02T01:37:41Z",
    "updated_at": "2023-06-02T01:37:41Z",
    "author_association": "NONE",
    "body": "> What does \"hang up\" mean? I'm not entire clear what you're seeing.\r\n\r\nAs the node receives more transactions, the memory of the node will continue to increase, eventually leading to oom",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1573007025/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1573305988",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/27375#issuecomment-1573305988",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/27375",
    "id": 1573305988,
    "node_id": "IC_kwDOAOvK985dxr6E",
    "user": {
      "login": "Ten163",
      "id": 128691332,
      "node_id": "U_kgDOB6ushA",
      "avatar_url": "https://avatars.githubusercontent.com/u/128691332?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Ten163",
      "html_url": "https://github.com/Ten163",
      "followers_url": "https://api.github.com/users/Ten163/followers",
      "following_url": "https://api.github.com/users/Ten163/following{/other_user}",
      "gists_url": "https://api.github.com/users/Ten163/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Ten163/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Ten163/subscriptions",
      "organizations_url": "https://api.github.com/users/Ten163/orgs",
      "repos_url": "https://api.github.com/users/Ten163/repos",
      "events_url": "https://api.github.com/users/Ten163/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Ten163/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-06-02T07:48:48Z",
    "updated_at": "2023-06-14T08:19:18Z",
    "author_association": "NONE",
    "body": "\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nAnd, when the node is killed, the node will fall behind a lot of blocks, because I use --syncmode full synchronization, so it seems very slow, about 1 second to synchronize a block. Is this normal?\r\n\r\nThe latest block is around 249,220\r\n\r\nNode restarted after being killed log ：\r\n```\r\nINFO [06-02|15:46:33.770] Imported new chain segment               number=215,008 hash=361b09..e36b11 blocks=12   txs=851 mgas=223.730 elapsed=8.397s      mgasps=26.642 age=3d23h1m  dirty=510.68MiB\r\nINFO [06-02|15:46:42.154] Imported new chain segment               number=215,020 hash=8d815f..322aa6 blocks=12   txs=872 mgas=229.258 elapsed=8.383s      mgasps=27.345 age=3d22h59m dirty=510.60MiB\r\nINFO [06-02|15:46:50.783] Imported new chain segment               number=215,030 hash=67a5c0..c0bbfd blocks=10   txs=768 mgas=201.908 elapsed=8.628s      mgasps=23.399 age=3d22h57m dirty=510.60MiB\r\nINFO [06-02|15:46:58.948] Imported new chain segment               number=215,040 hash=8a7f54..fae5f7 blocks=10   txs=747 mgas=203.921 elapsed=8.165s      mgasps=24.975 age=3d22h56m dirty=510.72MiB\r\nINFO [06-02|15:47:07.055] Imported new chain segment               number=215,051 hash=e87aae..e5595a blocks=11   txs=812 mgas=217.210 elapsed=8.107s      mgasps=26.791 age=3d22h54m dirty=510.56MiB\r\nINFO [06-02|15:47:15.463] Imported new chain segment               number=215,062 hash=934679..f4f8c5 blocks=11   txs=781 mgas=217.180 elapsed=8.407s      mgasps=25.832 age=3d22h52m dirty=510.36MiB\r\nINFO [06-02|15:47:23.753] Imported new chain segment               number=215,073 hash=209ac9..c23f3e blocks=11   txs=801 mgas=224.932 elapsed=8.289s      mgasps=27.133 age=3d22h51m dirty=511.04MiB\r\nINFO [06-02|15:47:32.122] Imported new chain segment               number=215,084 hash=d32100..fe0a7c blocks=11   txs=757 mgas=213.443 elapsed=8.369s      mgasps=25.504 age=3d22h49m dirty=510.61MiB\r\nINFO [06-02|15:47:40.701] Imported new chain segment               number=215,095 hash=7b3783..a362d9 blocks=11   txs=822 mgas=231.211 elapsed=8.579s      mgasps=26.950 age=3d22h47m dirty=510.56MiB\r\n```\r\n\r\n\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1573305988/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1590712588",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/27375#issuecomment-1590712588",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/27375",
    "id": 1590712588,
    "node_id": "IC_kwDOAOvK985e0FkM",
    "user": {
      "login": "holiman",
      "id": 142290,
      "node_id": "MDQ6VXNlcjE0MjI5MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/142290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/holiman",
      "html_url": "https://github.com/holiman",
      "followers_url": "https://api.github.com/users/holiman/followers",
      "following_url": "https://api.github.com/users/holiman/following{/other_user}",
      "gists_url": "https://api.github.com/users/holiman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/holiman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/holiman/subscriptions",
      "organizations_url": "https://api.github.com/users/holiman/orgs",
      "repos_url": "https://api.github.com/users/holiman/repos",
      "events_url": "https://api.github.com/users/holiman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/holiman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-06-14T08:23:11Z",
    "updated_at": "2023-06-14T08:23:11Z",
    "author_association": "MEMBER",
    "body": "An OOM crash should ideally print out a stacktrace, which may (or may not) show what the culprit is. \r\nAlternatively, you might need to use the `--metrics` and chart out the system metrics, such as number of goroutines and stuff, so we can see more what happens memory-wise.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1590712588/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
