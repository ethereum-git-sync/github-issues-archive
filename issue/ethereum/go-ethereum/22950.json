{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22950",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22950/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22950/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22950/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/22950",
  "id": 902369403,
  "node_id": "MDU6SXNzdWU5MDIzNjk0MDM=",
  "number": 22950,
  "title": "Geth pendingTransactions listener get slow suddenly (not overtime, but suddenly)",
  "user": {
    "login": "ilyasELBANI",
    "id": 50796351,
    "node_id": "MDQ6VXNlcjUwNzk2MzUx",
    "avatar_url": "https://avatars.githubusercontent.com/u/50796351?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/ilyasELBANI",
    "html_url": "https://github.com/ilyasELBANI",
    "followers_url": "https://api.github.com/users/ilyasELBANI/followers",
    "following_url": "https://api.github.com/users/ilyasELBANI/following{/other_user}",
    "gists_url": "https://api.github.com/users/ilyasELBANI/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/ilyasELBANI/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/ilyasELBANI/subscriptions",
    "organizations_url": "https://api.github.com/users/ilyasELBANI/orgs",
    "repos_url": "https://api.github.com/users/ilyasELBANI/repos",
    "events_url": "https://api.github.com/users/ilyasELBANI/events{/privacy}",
    "received_events_url": "https://api.github.com/users/ilyasELBANI/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 72233650,
      "node_id": "MDU6TGFiZWw3MjIzMzY1MA==",
      "url": "https://api.github.com/repos/ethereum/go-ethereum/labels/type:bug",
      "name": "type:bug",
      "color": "FF5E5E",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 1,
  "created_at": "2021-05-26T13:10:00Z",
  "updated_at": "2021-05-26T13:26:42Z",
  "closed_at": "2021-05-26T13:26:42Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "So, I'm running a private node on AWS i3.2xlarge (8 vCPU, 61GiB RAM, 1.9 To NVMe SSD), and I double checked the problem doesn't seem to be coming from my code. I restarded the code thrice, I have a loop that check if the listeners is working, it was indeed, but the rate of TPS received was too low. Once I restarted my node with Geth, the problem was solved.\r\n\r\nI'm not sure how to investigate the problem and determine the source so it doesn't repeat in the future, and is it possible to detect this somehow and autorestart geth in case of problems? I'm not sure how though, any ideas are welcome. \r\n\r\nThanks!\r\n\r\n#### System information\r\n\r\nGeth version: 1.1.0-beta-032970b2-20210510\r\nOS & Version: Ubuntu 20\r\n\r\n#### Expected behaviour\r\nmy ethers.providers.on('Pending') should receive all pending transactions.\r\n\r\n#### Actual behaviour\r\nmy ethers.providers.on('Pending') only receives a percentage of pending transactions making it miss a lot of interesting transaction for my bot.\r\n\r\n#### Steps to reproduce the behaviour\r\nHave a listener connected for hours, then you'll suddenly notice the change.\r\n\r\n#### Backtrace\r\nHere are the logs during the bug and during no bug \r\n\r\n[bsc.log.2021-05-26_07 No bugs ( Many submitted transaction) .txt](https://github.com/ethereum/go-ethereum/files/6546821/bsc.log.2021-05-26_07.No.bugs.Many.submitted.transaction.txt)\r\n[bsc.log.2021-05-26_10 Bugged (Only two submitted transactions) .txt](https://github.com/ethereum/go-ethereum/files/6546822/bsc.log.2021-05-26_10.Bugged.Only.two.submitted.transactions.txt)\r\n\r\n\r\n",
  "closed_by": {
    "login": "holiman",
    "id": 142290,
    "node_id": "MDQ6VXNlcjE0MjI5MA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/142290?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/holiman",
    "html_url": "https://github.com/holiman",
    "followers_url": "https://api.github.com/users/holiman/followers",
    "following_url": "https://api.github.com/users/holiman/following{/other_user}",
    "gists_url": "https://api.github.com/users/holiman/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/holiman/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/holiman/subscriptions",
    "organizations_url": "https://api.github.com/users/holiman/orgs",
    "repos_url": "https://api.github.com/users/holiman/repos",
    "events_url": "https://api.github.com/users/holiman/events{/privacy}",
    "received_events_url": "https://api.github.com/users/holiman/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22950/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22950/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/848768971",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/22950#issuecomment-848768971",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22950",
    "id": 848768971,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg0ODc2ODk3MQ==",
    "user": {
      "login": "holiman",
      "id": 142290,
      "node_id": "MDQ6VXNlcjE0MjI5MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/142290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/holiman",
      "html_url": "https://github.com/holiman",
      "followers_url": "https://api.github.com/users/holiman/followers",
      "following_url": "https://api.github.com/users/holiman/following{/other_user}",
      "gists_url": "https://api.github.com/users/holiman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/holiman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/holiman/subscriptions",
      "organizations_url": "https://api.github.com/users/holiman/orgs",
      "repos_url": "https://api.github.com/users/holiman/repos",
      "events_url": "https://api.github.com/users/holiman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/holiman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-05-26T13:26:42Z",
    "updated_at": "2021-05-26T13:26:42Z",
    "author_association": "MEMBER",
    "body": "You are running a fork of geth, so please file issues on their repo instead. ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/848768971/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
