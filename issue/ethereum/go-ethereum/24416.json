{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/24416",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/24416/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/24416/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/24416/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/24416",
  "id": 1140828088,
  "node_id": "I_kwDOAOvK985D_6e4",
  "number": 24416,
  "title": "Geth won't shutdown properly when started from a systemd file.",
  "user": {
    "login": "Fillicia",
    "id": 42915622,
    "node_id": "MDQ6VXNlcjQyOTE1NjIy",
    "avatar_url": "https://avatars.githubusercontent.com/u/42915622?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/Fillicia",
    "html_url": "https://github.com/Fillicia",
    "followers_url": "https://api.github.com/users/Fillicia/followers",
    "following_url": "https://api.github.com/users/Fillicia/following{/other_user}",
    "gists_url": "https://api.github.com/users/Fillicia/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/Fillicia/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/Fillicia/subscriptions",
    "organizations_url": "https://api.github.com/users/Fillicia/orgs",
    "repos_url": "https://api.github.com/users/Fillicia/repos",
    "events_url": "https://api.github.com/users/Fillicia/events{/privacy}",
    "received_events_url": "https://api.github.com/users/Fillicia/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 72233650,
      "node_id": "MDU6TGFiZWw3MjIzMzY1MA==",
      "url": "https://api.github.com/repos/ethereum/go-ethereum/labels/type:bug",
      "name": "type:bug",
      "color": "FF5E5E",
      "default": false,
      "description": ""
    },
    {
      "id": 1132689577,
      "node_id": "MDU6TGFiZWwxMTMyNjg5NTc3",
      "url": "https://api.github.com/repos/ethereum/go-ethereum/labels/status:triage",
      "name": "status:triage",
      "color": "6be514",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 6,
  "created_at": "2022-02-17T03:20:01Z",
  "updated_at": "2022-02-17T21:08:06Z",
  "closed_at": "2022-02-17T21:08:06Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "#### System information\r\n\r\nGeth version: 1.10.15-stable\r\nOS & Version: Ubuntu 21.10 server\r\nCommit hash : latest\r\n\r\n#### Expected behaviour\r\n\r\nClean shutdown with SIGTERM or SIGINT while using systemd\r\n\r\n#### Actual behaviour\r\n\r\nAfter using `systemctl stop geth` the service start stopping and then search for peers instead of fully shutting down. It doesn't show as an unclean shutdown when started again but it'll resync from ~2 days prior with the message `Head state missing, repairing`\r\n\r\n#### Backtrace\r\n\r\n````\r\nFeb 17 02:43:52 web3 geth[1527916]: INFO [02-17|02:43:52.785] Got interrupt, shutting down...\r\nFeb 17 02:43:52 web3 systemd[1]: Stopping Ethereum go client...\r\nFeb 17 02:43:52 web3 geth[1527916]: INFO [02-17|02:43:52.787] HTTP server stopped                      endpoint=[::]:8745\r\nFeb 17 02:43:52 web3 geth[1527916]: INFO [02-17|02:43:52.789] HTTP server stopped                      endpoint=[::]:8746\r\nFeb 17 02:43:52 web3 geth[1527916]: INFO [02-17|02:43:52.789] IPC endpoint closed                      url=/eth/geth.ipc\r\nFeb 17 02:43:53 web3 geth[1527916]: INFO [02-17|02:43:53.237] Ethereum protocol stopped\r\nFeb 17 02:43:53 web3 geth[1527916]: INFO [02-17|02:43:53.237] Transaction pool stopped\r\nFeb 17 02:43:53 web3 geth[1527916]: ERROR[02-17|02:43:53.417] Snapshot extension registration failed   peer=b2dad9fe err=\"peer connected on snap without compatible eth support\"\r\nFeb 17 02:44:02 web3 geth[1527916]: INFO [02-17|02:44:02.817] Looking for peers                        peercount=0 tried=63 static=0\r\nFeb 17 02:44:12 web3 geth[1527916]: ERROR[02-17|02:44:12.644] Snapshot extension registration failed   peer=76785d7b err=\"peer connected on snap without compatible eth support\"\r\nFeb 17 02:44:12 web3 geth[1527916]: INFO [02-17|02:44:12.929] Looking for peers                        peercount=0 tried=131 static=0\r\nFeb 17 02:44:18 web3 geth[1527916]: INFO [02-17|02:44:18.043] Deep froze chain segment                 blocks=2     elapsed=41.774ms    number=14,131,004 hash=c02ead..90c11c\r\nFeb 17 02:44:22 web3 geth[1527916]: INFO [02-17|02:44:22.943] Looking for peers                        peercount=0 tried=82  static=0\r\nFeb 17 02:44:33 web3 geth[1527916]: INFO [02-17|02:44:33.042] Looking for peers                        peercount=0 tried=131 static=0\r\nFeb 17 02:44:41 web3 geth[1527916]: ERROR[02-17|02:44:41.058] Snapshot extension registration failed   peer=8f3a7071 err=\"peer connected on snap without compatible eth support\"\r\nFeb 17 02:44:43 web3 geth[1527916]: INFO [02-17|02:44:43.280] Looking for peers                        peercount=0 tried=95  static=0\r\nFeb 17 02:44:43 web3 geth[1527916]: ERROR[02-17|02:44:43.480] Snapshot extension registration failed   peer=b9d0af37 err=\"peer connected on snap without compatible eth support\"\r\nFeb 17 02:44:53 web3 geth[1527916]: INFO [02-17|02:44:53.314] Looking for peers                        peercount=0 tried=100 static=0\r\nFeb 17 02:45:03 web3 geth[1527916]: INFO [02-17|02:45:03.838] Looking for peers                        peercount=1 tried=54  static=0\r\nFeb 17 02:45:11 web3 geth[1527916]: ERROR[02-17|02:45:11.876] Snapshot extension registration failed   peer=635d0ba6 err=\"peer connected on snap without compatible eth support\"\r\n\r\n````\r\n\r\nand it goes on like this until a timeout is reached\r\n\r\n\r\nsystemd file:\r\n\r\n````\r\n[Unit]\r\nDescription=Ethereum go client\r\nAfter=network.target\r\n\r\n[Service]\r\nUser=web3\r\nGroup=web3\r\nType=simple\r\nRestart=always\r\nRestartSec=30s\r\nExecStart=/home/web3/geth/build/bin/geth \\\r\n           --cache 51200 \\\r\n           --metrics \\\r\n           --metrics.influxdbv2 \\\r\n           --metrics.influxdb.token \"xxxxxxxxxxxxxxxxxxxxxxxxxx\" \\\r\n           --metrics.influxdb.bucket geth \\\r\n           --config /home/web3/geth/build/bin/config.toml\r\nKillSignal=SIGTERM \r\nTimeoutStopSec=600\r\n\r\n\r\n[Install]\r\nWantedBy=default.target\r\n\r\n````",
  "closed_by": {
    "login": "Fillicia",
    "id": 42915622,
    "node_id": "MDQ6VXNlcjQyOTE1NjIy",
    "avatar_url": "https://avatars.githubusercontent.com/u/42915622?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/Fillicia",
    "html_url": "https://github.com/Fillicia",
    "followers_url": "https://api.github.com/users/Fillicia/followers",
    "following_url": "https://api.github.com/users/Fillicia/following{/other_user}",
    "gists_url": "https://api.github.com/users/Fillicia/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/Fillicia/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/Fillicia/subscriptions",
    "organizations_url": "https://api.github.com/users/Fillicia/orgs",
    "repos_url": "https://api.github.com/users/Fillicia/repos",
    "events_url": "https://api.github.com/users/Fillicia/events{/privacy}",
    "received_events_url": "https://api.github.com/users/Fillicia/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/24416/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/24416/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1042725144",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/24416#issuecomment-1042725144",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/24416",
    "id": 1042725144,
    "node_id": "IC_kwDOAOvK984-JrkY",
    "user": {
      "login": "holiman",
      "id": 142290,
      "node_id": "MDQ6VXNlcjE0MjI5MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/142290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/holiman",
      "html_url": "https://github.com/holiman",
      "followers_url": "https://api.github.com/users/holiman/followers",
      "following_url": "https://api.github.com/users/holiman/following{/other_user}",
      "gists_url": "https://api.github.com/users/holiman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/holiman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/holiman/subscriptions",
      "organizations_url": "https://api.github.com/users/holiman/orgs",
      "repos_url": "https://api.github.com/users/holiman/repos",
      "events_url": "https://api.github.com/users/holiman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/holiman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-02-17T09:10:09Z",
    "updated_at": "2022-02-17T09:10:09Z",
    "author_association": "MEMBER",
    "body": "Geth might need quite a bit of time to shut down, but looking at the docs [here](https://www.freedesktop.org/software/systemd/man/systemd.service.html), I think `TimeoutStopSec=600` should give it ample time (10 minutes) to shut down. \r\n\r\nIf this is a shutdown-hang which eventually is hard-killed, there should be a stacktrace. I don't suppose you have any such stacktrace somewhere? ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1042725144/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1042733564",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/24416#issuecomment-1042733564",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/24416",
    "id": 1042733564,
    "node_id": "IC_kwDOAOvK984-Jtn8",
    "user": {
      "login": "holiman",
      "id": 142290,
      "node_id": "MDQ6VXNlcjE0MjI5MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/142290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/holiman",
      "html_url": "https://github.com/holiman",
      "followers_url": "https://api.github.com/users/holiman/followers",
      "following_url": "https://api.github.com/users/holiman/following{/other_user}",
      "gists_url": "https://api.github.com/users/holiman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/holiman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/holiman/subscriptions",
      "organizations_url": "https://api.github.com/users/holiman/orgs",
      "repos_url": "https://api.github.com/users/holiman/repos",
      "events_url": "https://api.github.com/users/holiman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/holiman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-02-17T09:19:37Z",
    "updated_at": "2022-02-17T09:19:37Z",
    "author_association": "MEMBER",
    "body": "> and it goes on like this until a timeout is \r\n\r\nPlease post the logs for what happens around that time",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1042733564/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1042736960",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/24416#issuecomment-1042736960",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/24416",
    "id": 1042736960,
    "node_id": "IC_kwDOAOvK984-JudA",
    "user": {
      "login": "holiman",
      "id": 142290,
      "node_id": "MDQ6VXNlcjE0MjI5MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/142290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/holiman",
      "html_url": "https://github.com/holiman",
      "followers_url": "https://api.github.com/users/holiman/followers",
      "following_url": "https://api.github.com/users/holiman/following{/other_user}",
      "gists_url": "https://api.github.com/users/holiman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/holiman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/holiman/subscriptions",
      "organizations_url": "https://api.github.com/users/holiman/orgs",
      "repos_url": "https://api.github.com/users/holiman/repos",
      "events_url": "https://api.github.com/users/holiman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/holiman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-02-17T09:23:22Z",
    "updated_at": "2022-02-17T09:28:02Z",
    "author_association": "MEMBER",
    "body": "> If terminate is set the service will be gracefully terminated by sending the signal specified in KillSignal= (defaults to SIGTERM, see [systemd.kill(5)](https://www.freedesktop.org/software/systemd/man/systemd.kill.html#)). If the service does not terminate the FinalKillSignal= is sent after TimeoutStopSec=. If abort is set, WatchdogSignal= is sent instead and TimeoutAbortSec= applies before sending FinalKillSignal=. This setting may be used to analyze services that fail to start-up or shut-down intermittently. By using kill the service is immediately terminated by sending FinalKillSignal= without any further timeout. This setting can be used to expedite the shutdown of failing services.\r\n\r\n\r\nPlease try with `FinalKillSignal=SIGABRT` ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1042736960/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1042740532",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/24416#issuecomment-1042740532",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/24416",
    "id": 1042740532,
    "node_id": "IC_kwDOAOvK984-JvU0",
    "user": {
      "login": "holiman",
      "id": 142290,
      "node_id": "MDQ6VXNlcjE0MjI5MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/142290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/holiman",
      "html_url": "https://github.com/holiman",
      "followers_url": "https://api.github.com/users/holiman/followers",
      "following_url": "https://api.github.com/users/holiman/following{/other_user}",
      "gists_url": "https://api.github.com/users/holiman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/holiman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/holiman/subscriptions",
      "organizations_url": "https://api.github.com/users/holiman/orgs",
      "repos_url": "https://api.github.com/users/holiman/repos",
      "events_url": "https://api.github.com/users/holiman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/holiman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-02-17T09:27:13Z",
    "updated_at": "2022-02-17T09:27:32Z",
    "author_association": "MEMBER",
    "body": "Alternatively, it might suffice to set `TimeoutStopFailureMode=abort`. What we want to achieve is that after the graceful timeout ( a couple of minutes) for stop, we send it a sigabort, which causes a stack dump. ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1042740532/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1042741815",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/24416#issuecomment-1042741815",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/24416",
    "id": 1042741815,
    "node_id": "IC_kwDOAOvK984-Jvo3",
    "user": {
      "login": "karalabe",
      "id": 129561,
      "node_id": "MDQ6VXNlcjEyOTU2MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/karalabe",
      "html_url": "https://github.com/karalabe",
      "followers_url": "https://api.github.com/users/karalabe/followers",
      "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
      "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
      "organizations_url": "https://api.github.com/users/karalabe/orgs",
      "repos_url": "https://api.github.com/users/karalabe/repos",
      "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/karalabe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-02-17T09:28:29Z",
    "updated_at": "2022-02-17T09:28:29Z",
    "author_association": "MEMBER",
    "body": "But please make sure to set the timeout to at least 3 minutes. Geth might want to write 1+GB on shutdown into leveldb, which can take a while.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1042741815/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1043445262",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/24416#issuecomment-1043445262",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/24416",
    "id": 1043445262,
    "node_id": "IC_kwDOAOvK984-MbYO",
    "user": {
      "login": "Fillicia",
      "id": 42915622,
      "node_id": "MDQ6VXNlcjQyOTE1NjIy",
      "avatar_url": "https://avatars.githubusercontent.com/u/42915622?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Fillicia",
      "html_url": "https://github.com/Fillicia",
      "followers_url": "https://api.github.com/users/Fillicia/followers",
      "following_url": "https://api.github.com/users/Fillicia/following{/other_user}",
      "gists_url": "https://api.github.com/users/Fillicia/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Fillicia/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Fillicia/subscriptions",
      "organizations_url": "https://api.github.com/users/Fillicia/orgs",
      "repos_url": "https://api.github.com/users/Fillicia/repos",
      "events_url": "https://api.github.com/users/Fillicia/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Fillicia/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-02-17T21:08:06Z",
    "updated_at": "2022-02-17T21:08:06Z",
    "author_association": "NONE",
    "body": "> > and it goes on like this until a timeout is\r\n> \r\n> Please post the logs for what happens around that time\r\n\r\nAfter the timeout it was just sending the SIGKILL signal to all process\r\n\r\n````\r\nFeb 17 02:53:53 web3 systemd[1]: geth.service: State 'stop-sigterm' timed out. Killing.\r\nFeb 17 02:53:53 web3 systemd[1]: geth.service: Killing process 1527916 (geth) with signal SIGKILL.\r\nFeb 17 02:53:53 web3 systemd[1]: geth.service: Killing process 1527917 (geth) with signal SIGKILL.\r\nFeb 17 02:53:53 web3 systemd[1]: geth.service: Killing process 1527922 (n/a) with signal SIGKILL.\r\nFeb 17 02:53:53 web3 systemd[1]: geth.service: Killing process 1527924 (geth) with signal SIGKILL.\r\nFeb 17 02:53:53 web3 systemd[1]: geth.service: Killing process 1528107 (n/a) with signal SIGKILL.\r\nFeb 17 02:53:53 web3 systemd[1]: geth.service: Killing process 1528108 (n/a) with signal SIGKILL.\r\nFeb 17 02:53:53 web3 systemd[1]: geth.service: Killing process 1528120 (n/a) with signal SIGKILL.\r\nFeb 17 02:53:53 web3 systemd[1]: geth.service: Killing process 1528127 (n/a) with signal SIGKILL.\r\nFeb 17 02:53:53 web3 systemd[1]: geth.service: Killing process 1528128 (n/a) with signal SIGKILL.\r\nFeb 17 02:53:53 web3 systemd[1]: geth.service: Killing process 1528129 (n/a) with signal SIGKILL.\r\nFeb 17 02:53:53 web3 systemd[1]: geth.service: Killing process 1528130 (n/a) with signal SIGKILL.\r\nFeb 17 02:53:53 web3 systemd[1]: geth.service: Killing process 1528131 (n/a) with signal SIGKILL.\r\nFeb 17 02:53:53 web3 systemd[1]: geth.service: Killing process 1528133 (n/a) with signal SIGKILL.\r\nFeb 17 02:53:53 web3 systemd[1]: geth.service: Killing process 1528135 (n/a) with signal SIGKILL.\r\nFeb 17 02:53:53 web3 systemd[1]: geth.service: Killing process 1528138 (geth) with signal SIGKILL.\r\nFeb 17 02:53:53 web3 systemd[1]: geth.service: Killing process 1532347 (n/a) with signal SIGKILL.\r\nFeb 17 02:53:53 web3 systemd[1]: geth.service: Killing process 1532352 (n/a) with signal SIGKILL.\r\nFeb 17 02:53:53 web3 systemd[1]: geth.service: Killing process 1532353 (n/a) with signal SIGKILL.\r\nFeb 17 02:53:53 web3 systemd[1]: geth.service: Killing process 1532354 (n/a) with signal SIGKILL.\r\nFeb 17 02:53:53 web3 systemd[1]: geth.service: Killing process 1532355 (n/a) with signal SIGKILL.\r\nFeb 17 02:53:53 web3 systemd[1]: geth.service: Killing process 1532358 (n/a) with signal SIGKILL.\r\nFeb 17 02:53:53 web3 systemd[1]: geth.service: Killing process 1532359 (n/a) with signal SIGKILL.\r\nFeb 17 02:53:53 web3 systemd[1]: geth.service: Killing process 1572932 (n/a) with signal SIGKILL.\r\nFeb 17 02:53:53 web3 systemd[1]: geth.service: Killing process 1572935 (n/a) with signal SIGKILL.\r\nFeb 17 02:53:53 web3 systemd[1]: geth.service: Killing process 1572938 (n/a) with signal SIGKILL.\r\nFeb 17 02:53:53 web3 systemd[1]: geth.service: Killing process 1704733 (n/a) with signal SIGKILL.\r\nFeb 17 02:53:53 web3 systemd[1]: geth.service: Killing process 1913040 (n/a) with signal SIGKILL.\r\nFeb 17 02:53:53 web3 systemd[1]: geth.service: Killing process 2056219 (n/a) with signal SIGKILL.\r\nFeb 17 02:53:53 web3 systemd[1]: geth.service: Killing process 1459172 (n/a) with signal SIGKILL.\r\nFeb 17 02:53:53 web3 systemd[1]: geth.service: Killing process 1459174 (n/a) with signal SIGKILL.\r\nFeb 17 02:53:53 web3 systemd[1]: geth.service: Killing process 1459175 (n/a) with signal SIGKILL.\r\nFeb 17 02:53:53 web3 systemd[1]: geth.service: Killing process 1459177 (n/a) with signal SIGKILL.\r\nFeb 17 02:53:53 web3 systemd[1]: geth.service: Killing process 1459178 (n/a) with signal SIGKILL.\r\nFeb 17 02:53:53 web3 systemd[1]: geth.service: Killing process 1459180 (n/a) with signal SIGKILL.\r\nFeb 17 02:53:53 web3 systemd[1]: geth.service: Killing process 1459181 (n/a) with signal SIGKILL.\r\nFeb 17 02:53:53 web3 systemd[1]: geth.service: Killing process 1459182 (n/a) with signal SIGKILL.\r\nFeb 17 02:53:53 web3 systemd[1]: geth.service: Killing process 1459185 (n/a) with signal SIGKILL.\r\nFeb 17 02:53:53 web3 systemd[1]: geth.service: Killing process 1459186 (n/a) with signal SIGKILL.\r\nFeb 17 02:53:53 web3 systemd[1]: geth.service: Killing process 1459189 (n/a) with signal SIGKILL.\r\nFeb 17 02:53:53 web3 systemd[1]: geth.service: Killing process 1459190 (n/a) with signal SIGKILL.\r\nFeb 17 02:53:53 web3 systemd[1]: geth.service: Killing process 1459191 (n/a) with signal SIGKILL.\r\nFeb 17 02:53:53 web3 systemd[1]: geth.service: Killing process 1459192 (geth) with signal SIGKILL.\r\nFeb 17 02:53:53 web3 systemd[1]: geth.service: Killing process 1459193 (n/a) with signal SIGKILL.\r\nFeb 17 02:53:53 web3 systemd[1]: geth.service: Killing process 1459196 (n/a) with signal SIGKILL.\r\nFeb 17 02:53:53 web3 systemd[1]: geth.service: Killing process 1459197 (n/a) with signal SIGKILL.\r\nFeb 17 02:53:53 web3 systemd[1]: geth.service: Killing process 1459198 (n/a) with signal SIGKILL.\r\nFeb 17 02:53:53 web3 systemd[1]: geth.service: Killing process 1459199 (n/a) with signal SIGKILL.\r\nFeb 17 02:53:53 web3 systemd[1]: geth.service: Killing process 1459203 (n/a) with signal SIGKILL.\r\nFeb 17 02:53:53 web3 systemd[1]: geth.service: Killing process 1459204 (n/a) with signal SIGKILL.\r\nFeb 17 02:53:53 web3 systemd[1]: geth.service: Killing process 1459205 (n/a) with signal SIGKILL.\r\nFeb 17 02:53:53 web3 systemd[1]: geth.service: Killing process 1459206 (n/a) with signal SIGKILL.\r\nFeb 17 02:53:53 web3 systemd[1]: geth.service: Killing process 1459208 (n/a) with signal SIGKILL.\r\nFeb 17 02:53:53 web3 systemd[1]: geth.service: Killing process 1459210 (n/a) with signal SIGKILL.\r\nFeb 17 02:53:58 web3 systemd[1]: geth.service: Main process exited, code=killed, status=9/KILL\r\nFeb 17 02:53:58 web3 systemd[1]: geth.service: Failed with result 'timeout'.\r\nFeb 17 02:53:58 web3 systemd[1]: Stopped Ethereum go client.\r\nFeb 17 02:53:58 web3 systemd[1]: geth.service: Consumed 4w 2d 7h 23min 47.648s CPU time.\r\n````\r\n\r\nWeirdly I rebuilt Geth after that from the latest commit and it didn't happened again for the first time in 5-6 months. \r\n\r\nI'll close the issue for now but I've added the `FinalKillSignal=SIGABRT` and will post a tracelog if it happens again.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1043445262/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
