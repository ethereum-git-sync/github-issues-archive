{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/18045",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/18045/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/18045/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/18045/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/18045",
  "id": 378232159,
  "node_id": "MDU6SXNzdWUzNzgyMzIxNTk=",
  "number": 18045,
  "title": "abi.ABI issues with function overloading",
  "user": {
    "login": "mewwts",
    "id": 1848670,
    "node_id": "MDQ6VXNlcjE4NDg2NzA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1848670?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/mewwts",
    "html_url": "https://github.com/mewwts",
    "followers_url": "https://api.github.com/users/mewwts/followers",
    "following_url": "https://api.github.com/users/mewwts/following{/other_user}",
    "gists_url": "https://api.github.com/users/mewwts/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/mewwts/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/mewwts/subscriptions",
    "organizations_url": "https://api.github.com/users/mewwts/orgs",
    "repos_url": "https://api.github.com/users/mewwts/repos",
    "events_url": "https://api.github.com/users/mewwts/events{/privacy}",
    "received_events_url": "https://api.github.com/users/mewwts/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": {
    "login": "gballet",
    "id": 3272758,
    "node_id": "MDQ6VXNlcjMyNzI3NTg=",
    "avatar_url": "https://avatars.githubusercontent.com/u/3272758?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/gballet",
    "html_url": "https://github.com/gballet",
    "followers_url": "https://api.github.com/users/gballet/followers",
    "following_url": "https://api.github.com/users/gballet/following{/other_user}",
    "gists_url": "https://api.github.com/users/gballet/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/gballet/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/gballet/subscriptions",
    "organizations_url": "https://api.github.com/users/gballet/orgs",
    "repos_url": "https://api.github.com/users/gballet/repos",
    "events_url": "https://api.github.com/users/gballet/events{/privacy}",
    "received_events_url": "https://api.github.com/users/gballet/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "gballet",
      "id": 3272758,
      "node_id": "MDQ6VXNlcjMyNzI3NTg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3272758?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gballet",
      "html_url": "https://github.com/gballet",
      "followers_url": "https://api.github.com/users/gballet/followers",
      "following_url": "https://api.github.com/users/gballet/following{/other_user}",
      "gists_url": "https://api.github.com/users/gballet/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gballet/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gballet/subscriptions",
      "organizations_url": "https://api.github.com/users/gballet/orgs",
      "repos_url": "https://api.github.com/users/gballet/repos",
      "events_url": "https://api.github.com/users/gballet/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gballet/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 4,
  "created_at": "2018-11-07T10:39:11Z",
  "updated_at": "2019-07-01T14:52:44Z",
  "closed_at": "2019-07-01T14:52:43Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "#### System information\r\n\r\nGeth version: `1.8.17`\r\nOS & Version: Linux\r\n\r\n#### Expected behaviour\r\nAll methods defined in ABI-json should be in abi.ABI.Methods\r\n\r\n#### Actual behaviour\r\nIf function overloading is used in the contract, the abi will only hold one of the methods that are overloaded. This is because abi.ABI.Methods is a map from name to Method object. When functions are overloaded the name is the same for multiple methods and hence there can only be one Method with the same name.\r\n\r\n#### Steps to reproduce the behaviour\r\nParse for instance the DAI contract which has two `approve` functions https://etherscan.io/address/0x89d24a6b4ccb1b6faa2625fe562bdd9a23260359#code\r\n\r\nI'd be happy to take a stab at a fix, but if people rely on the key of the map for method-name then fixing it in a backwards-compatible way will be awkward.",
  "closed_by": {
    "login": "gballet",
    "id": 3272758,
    "node_id": "MDQ6VXNlcjMyNzI3NTg=",
    "avatar_url": "https://avatars.githubusercontent.com/u/3272758?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/gballet",
    "html_url": "https://github.com/gballet",
    "followers_url": "https://api.github.com/users/gballet/followers",
    "following_url": "https://api.github.com/users/gballet/following{/other_user}",
    "gists_url": "https://api.github.com/users/gballet/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/gballet/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/gballet/subscriptions",
    "organizations_url": "https://api.github.com/users/gballet/orgs",
    "repos_url": "https://api.github.com/users/gballet/repos",
    "events_url": "https://api.github.com/users/gballet/events{/privacy}",
    "received_events_url": "https://api.github.com/users/gballet/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/18045/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/18045/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/438059184",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/18045#issuecomment-438059184",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/18045",
    "id": 438059184,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzODA1OTE4NA==",
    "user": {
      "login": "MartinDawson",
      "id": 15030491,
      "node_id": "MDQ6VXNlcjE1MDMwNDkx",
      "avatar_url": "https://avatars.githubusercontent.com/u/15030491?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MartinDawson",
      "html_url": "https://github.com/MartinDawson",
      "followers_url": "https://api.github.com/users/MartinDawson/followers",
      "following_url": "https://api.github.com/users/MartinDawson/following{/other_user}",
      "gists_url": "https://api.github.com/users/MartinDawson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MartinDawson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MartinDawson/subscriptions",
      "organizations_url": "https://api.github.com/users/MartinDawson/orgs",
      "repos_url": "https://api.github.com/users/MartinDawson/repos",
      "events_url": "https://api.github.com/users/MartinDawson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MartinDawson/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-11-12T22:58:14Z",
    "updated_at": "2018-11-12T23:00:09Z",
    "author_association": "CONTRIBUTOR",
    "body": "I could also have a go at fixing it if you want. \r\n\r\nDo you know how I can test it using the contract you provided? I'm quite new to this. I'm using the ethereum testnet.\r\n\r\nRelevant files seem to be abi.go, abi_test.go.\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/438059184/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/438150329",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/18045#issuecomment-438150329",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/18045",
    "id": 438150329,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzODE1MDMyOQ==",
    "user": {
      "login": "mewwts",
      "id": 1848670,
      "node_id": "MDQ6VXNlcjE4NDg2NzA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1848670?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mewwts",
      "html_url": "https://github.com/mewwts",
      "followers_url": "https://api.github.com/users/mewwts/followers",
      "following_url": "https://api.github.com/users/mewwts/following{/other_user}",
      "gists_url": "https://api.github.com/users/mewwts/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mewwts/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mewwts/subscriptions",
      "organizations_url": "https://api.github.com/users/mewwts/orgs",
      "repos_url": "https://api.github.com/users/mewwts/repos",
      "events_url": "https://api.github.com/users/mewwts/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mewwts/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-11-13T06:15:40Z",
    "updated_at": "2018-11-13T06:15:40Z",
    "author_association": "CONTRIBUTOR",
    "body": "Hey @MartinDawson,\r\n\r\nCurrently methods and events are stored in maps:\r\nhttps://github.com/ethereum/go-ethereum/blob/1212c7b844e3ef13cbb5476b088eae27782535b4/accounts/abi/abi.go#L29-L33\r\n\r\nThis means that the lines in UnmarshalJSON below will overwrite any record of a previous method or event in the map. \r\n\r\nhttps://github.com/ethereum/go-ethereum/blob/1212c7b844e3ef13cbb5476b088eae27782535b4/accounts/abi/abi.go#L118-L130\r\n\r\nIf not too much code relies on using the key of the maps as the name of the method/event, one could modify it by adding a postfix. Another solution would be to replace the maps with slices, which could contain methods with duplicate names.\r\n\r\nHowever, as golang itself does not support function overloading, how to generate the bounded golang struct of the contract is unclear as well. You could postfix the name by number of input parameters, but that also seems a bit weird\r\n\r\nThink it's wise to have a bit of a discussion here before we jump to implementation.\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/438150329/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/472874841",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/18045#issuecomment-472874841",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/18045",
    "id": 472874841,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ3Mjg3NDg0MQ==",
    "user": {
      "login": "mewwts",
      "id": 1848670,
      "node_id": "MDQ6VXNlcjE4NDg2NzA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1848670?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mewwts",
      "html_url": "https://github.com/mewwts",
      "followers_url": "https://api.github.com/users/mewwts/followers",
      "following_url": "https://api.github.com/users/mewwts/following{/other_user}",
      "gists_url": "https://api.github.com/users/mewwts/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mewwts/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mewwts/subscriptions",
      "organizations_url": "https://api.github.com/users/mewwts/orgs",
      "repos_url": "https://api.github.com/users/mewwts/repos",
      "events_url": "https://api.github.com/users/mewwts/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mewwts/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-03-14T14:13:29Z",
    "updated_at": "2019-03-14T14:13:29Z",
    "author_association": "CONTRIBUTOR",
    "body": "Related: https://github.com/ethereum/go-ethereum/pull/17099",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/472874841/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/507298329",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/18045#issuecomment-507298329",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/18045",
    "id": 507298329,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUwNzI5ODMyOQ==",
    "user": {
      "login": "gballet",
      "id": 3272758,
      "node_id": "MDQ6VXNlcjMyNzI3NTg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3272758?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gballet",
      "html_url": "https://github.com/gballet",
      "followers_url": "https://api.github.com/users/gballet/followers",
      "following_url": "https://api.github.com/users/gballet/following{/other_user}",
      "gists_url": "https://api.github.com/users/gballet/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gballet/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gballet/subscriptions",
      "organizations_url": "https://api.github.com/users/gballet/orgs",
      "repos_url": "https://api.github.com/users/gballet/repos",
      "events_url": "https://api.github.com/users/gballet/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gballet/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-07-01T14:52:43Z",
    "updated_at": "2019-07-01T14:52:43Z",
    "author_association": "MEMBER",
    "body": "Fixed with https://github.com/ethereum/go-ethereum/pull/17099",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/507298329/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
