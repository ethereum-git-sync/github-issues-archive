{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23397",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23397/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23397/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23397/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/23397",
  "id": 970695994,
  "node_id": "MDU6SXNzdWU5NzA2OTU5OTQ=",
  "number": 23397,
  "title": "geth crashes when tracing Txs after 20 mins of 'code': -32000, 'message': 'tracing failed: max fee per gas less than block base fee",
  "user": {
    "login": "danielemiliogarcia",
    "id": 45073251,
    "node_id": "MDQ6VXNlcjQ1MDczMjUx",
    "avatar_url": "https://avatars.githubusercontent.com/u/45073251?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/danielemiliogarcia",
    "html_url": "https://github.com/danielemiliogarcia",
    "followers_url": "https://api.github.com/users/danielemiliogarcia/followers",
    "following_url": "https://api.github.com/users/danielemiliogarcia/following{/other_user}",
    "gists_url": "https://api.github.com/users/danielemiliogarcia/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/danielemiliogarcia/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/danielemiliogarcia/subscriptions",
    "organizations_url": "https://api.github.com/users/danielemiliogarcia/orgs",
    "repos_url": "https://api.github.com/users/danielemiliogarcia/repos",
    "events_url": "https://api.github.com/users/danielemiliogarcia/events{/privacy}",
    "received_events_url": "https://api.github.com/users/danielemiliogarcia/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 72233650,
      "node_id": "MDU6TGFiZWw3MjIzMzY1MA==",
      "url": "https://api.github.com/repos/ethereum/go-ethereum/labels/type:bug",
      "name": "type:bug",
      "color": "FF5E5E",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 26,
  "created_at": "2021-08-13T20:37:15Z",
  "updated_at": "2022-06-21T17:34:09Z",
  "closed_at": "2022-06-21T17:34:08Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "#### System information\r\n\r\nGeth version: `Version: 1.10.7-stable`\r\nParameters: `geth --config config.toml --verbosity 5 --cache.preimages --txlookuplimit=0 --http --http.addr \"0.0.0.0\" --http.port 8545 --cache=4096  --pprof --pprof.addr \"0.0.0.0\" --metrics --metrics.expensive 2`\r\nOS & Version: Linux, Ubuntu Server 20.04 LTS\r\n\r\n#### Expected behaviour\r\n\r\nRuns stable and do not crash\r\n\r\n#### Actual behaviour\r\n\r\nCompletely crashes after approx 20 mins of `code': -32000, 'message': 'tracing failed: max fee per gas less than block base fee`\r\n\r\n![Grafana-geth-crashes](https://user-images.githubusercontent.com/45073251/129415716-8ebd038f-472a-4a4e-9e91-1f601d35379a.png)\r\n\r\n\r\n#### Steps to reproduce the behavior\r\n\r\ndebug_traceCall' pending txs in a loop\r\n\r\nsubscribe to pending TX and call a trace for each using `'debug_traceCall'`\r\n\r\n\r\n#### Backtrace\r\n\r\nlogs in full verbosity in the link to download .. it crashes without any stack trace\r\n\r\nhttps://www.mediafire.com/file/y4urjkkcufafj1z/geth.log.zip/file\r\n\r\nthe full log file contains the logs for 3 consecutive crashes between markers in this graphic\r\n\r\n![Selection_125](https://user-images.githubusercontent.com/45073251/129416434-0041cf21-3291-496d-9939-4564c25a2aca.png)\r\n\r\nYou need to tale 3 hours to logs in order to match, as grafana is in my Timezone GMT-3 and logs are in UTC\r\n\r\nsummary:\r\n```\r\nWARN [08-06|18:04:01.349] Served debug_traceCall                   conn=127.0.0.1:43720 reqid=1      t=264.239602ms  err=\"tracing failed: max fee per gas less than block base fee: address 0xF5BB32B5ff84b35A3278254507995BA3b6F6d90a, maxFeePerGas: 75767908243 baseFee: 83135955851\"\r\nTRACE[08-06|18:04:01.452] << FINDNODE/v4                           id=42958123c194893e addr=134.175.181.177:30333           err=nil\r\nDEBUG[08-06|18:04:01.334] Fetching batch of transactions           id=17767c8f8a899314 conn=inbound         count=2\r\nWARN [08-06|18:04:01.341] Served debug_traceCall                   conn=127.0.0.1:43724 reqid=1      t=268.652939ms  err=\"tracing failed: max fee per gas less than block base fee: address 0x0b6c000D64923f57638b536183A3Ca72427b1c5F, maxFeePerGas: 78000000000 baseFee: 83135955851\"\r\nDEBUG[08-06|18:04:01.455] Served eth_getTransactionByHash          conn=127.0.0.1:43686 reqid=345598 t=97.027453ms\r\nDEBUG[08-06|18:04:01.462] Served eth_getTransactionByHash          conn=127.0.0.1:43666 reqid=345597 t=6.306427ms\r\nTRACE[08-06|18:04:01.242] Pooled new future transaction            hash=907c92..c20933 from=0x97E48AC4d875CE810209dCf3da9b2fbEe39dC775 to=0x030bA81f1c18d280636F32af80b9AAd02Cf0854e\r\nTRACE[08-06|18:04:01.467] Discarding already known transaction     hash=e610b8..7cf973\r\nDEBUG[08-06|18:04:01.358] Served eth_getTransactionByHash          conn=127.0.0.1:43654 reqid=345594 t=\"202.102Âµs\"\r\nTRACE[08-06|18:04:01.368] Failed RLPx handshake                    addr=46.137.153.17:31303             conn=inbound         err=EOF\r\nDEBUG[08-06|18:04:01.578] Served eth_getTransactionByHash          conn=127.0.0.1:43468 reqid=345595 t=339.026728ms\r\nDEBUG[08-06|18:04:01.439] Served eth_getTransactionByHash          conn=127.0.0.1:43652 reqid=345599 t=94.684858ms\r\nDEBUG[08-06|18:04:01.569] Served eth_getTransactionByHash          conn=127.0.0.1:43718 reqid=345590 t=339.557873ms\r\nTRACE[08-06|18:04:01.352] Accepted connection                      addr=44.224.78.181:39478\r\nDEBUG[08-06|18:04:01.430] Fetching batch of transactions           id=15ad06a91ec7ab61 conn=inbound         count=2\r\nTRACE[08-06|18:04:01.290] Sent transaction announcements           id=15265c73d385b8eb conn=inbound         count=1\r\nDEBUG[08-06|18:04:01.559] Served eth_getTransactionByHash          conn=127.0.0.1:43638 reqid=345592 t=106.597535ms\r\nDEBUG[08-06|18:04:01.567] Served eth_getTransactionByHash          conn=127.0.0.1:43656 reqid=345596 t=104.689494ms\r\nDEBUG[08-06|18:04:01.772] Fetching batch of transactions           id=7d2d9e2cd93f2923 conn=inbound         count=1\r\nDEBUG[08-06|18:04:01.753] Fetching batch of transactions           id=499191c60e1d6cbd conn=inbound         count=2\r\nDEBUG[08-06|18:04:01.903] Fetching batch of transactions           id=198a460acbc30f45 conn=inbound         count=1\r\nDEBUG[08-06|18:04:01.994] Fetching batch of transactions           id=68fc6b474ae47eb0 conn=inbound         count=1\r\nTRACE[08-06|18:04:01.696] FINDNODE failed                          id=dbc8d2d5815df3fd failcount=1       dropped=false err=\"RPC timeout\"\r\nDEBUG[08-06|18:04:02.000] Fetching batch of transactions           id=c71fee3ad4b0a215 conn=inbound         count=2\r\nDEBUG[08-06|18:04:02.000] Fetching batch of transactions           id=7e6489d422046b30 conn=dyndial         count=6\r\nDEBUG[08-06|18:04:02.000] Fetching batch of transactions           id=bf3f5d5608bcdac3 conn=inbound         count=1\r\nDEBUG[08-06|18:04:02.000] Fetching batch of transactions           id=c53aeb5882e29b6b conn=inbound         count=2\r\nDEBUG[08-06|18:04:01.679] Fetching batch of transactions           id=1abd8e310455259e conn=dyndial         count=1\r\nDEBUG[08-06|18:04:01.685] Fetching batch of transactions           id=33989d6eb9446268 conn=inbound         count=2\r\nDEBUG[08-06|18:04:02.012] Fetching batch of transactions           id=c76354f06e11ad59 conn=dyndial         count=2\r\nDEBUG[08-06|18:04:02.012] Fetching batch of transactions           id=7883fd099b12f77f conn=inbound         count=1\r\nDEBUG[08-06|18:04:02.013] Fetching batch of transactions           id=855172553759520b conn=inbound         count=1\r\nDEBUG[08-06|18:04:02.017] Fetching batch of transactions           id=cf743aa1c9d39528 conn=inbound         count=17\r\nTRACE[08-06|18:04:02.019] Accepted connection                      addr=209.133.220.13:9320\r\nTRACE[08-06|18:04:02.018] Pooled new future transaction            hash=34ad6b..47121e from=0xb5F8340d82051026573d21B288948Ddc4832bC22 to=0xA4e5961B58DBE487639929643dCB1Dc3848dAF5E\r\n\r\n ... time down ... 6 minutes after... the next line in the log is..\r\n\r\nINFO [08-06|18:10:16.382] Starting pprof server                    addr=http://0.0.0.0:6060/debug/pprof\r\nINFO [08-06|18:10:16.383] Starting Geth on Ethereum mainnet...\r\n```",
  "closed_by": {
    "login": "danielemiliogarcia",
    "id": 45073251,
    "node_id": "MDQ6VXNlcjQ1MDczMjUx",
    "avatar_url": "https://avatars.githubusercontent.com/u/45073251?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/danielemiliogarcia",
    "html_url": "https://github.com/danielemiliogarcia",
    "followers_url": "https://api.github.com/users/danielemiliogarcia/followers",
    "following_url": "https://api.github.com/users/danielemiliogarcia/following{/other_user}",
    "gists_url": "https://api.github.com/users/danielemiliogarcia/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/danielemiliogarcia/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/danielemiliogarcia/subscriptions",
    "organizations_url": "https://api.github.com/users/danielemiliogarcia/orgs",
    "repos_url": "https://api.github.com/users/danielemiliogarcia/repos",
    "events_url": "https://api.github.com/users/danielemiliogarcia/events{/privacy}",
    "received_events_url": "https://api.github.com/users/danielemiliogarcia/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23397/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23397/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/902013778",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/23397#issuecomment-902013778",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23397",
    "id": 902013778,
    "node_id": "IC_kwDOAOvK9841w6NS",
    "user": {
      "login": "martinlsanchez",
      "id": 1659075,
      "node_id": "MDQ6VXNlcjE2NTkwNzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1659075?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/martinlsanchez",
      "html_url": "https://github.com/martinlsanchez",
      "followers_url": "https://api.github.com/users/martinlsanchez/followers",
      "following_url": "https://api.github.com/users/martinlsanchez/following{/other_user}",
      "gists_url": "https://api.github.com/users/martinlsanchez/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/martinlsanchez/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/martinlsanchez/subscriptions",
      "organizations_url": "https://api.github.com/users/martinlsanchez/orgs",
      "repos_url": "https://api.github.com/users/martinlsanchez/repos",
      "events_url": "https://api.github.com/users/martinlsanchez/events{/privacy}",
      "received_events_url": "https://api.github.com/users/martinlsanchez/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-08-19T15:32:15Z",
    "updated_at": "2021-08-19T16:02:05Z",
    "author_association": "NONE",
    "body": "I can confirm the issue. âï¸\r\n\r\nIt's happening to me too..... the node keeping crashing and start re-syncing after many `debug_traceCall` returning with the error\r\n`tracing failed: max fee per gas less than block base fee`.\r\n\r\nAt first I thought it was some kind of memory leak but I didn't find any memory peaks (so I guess it's not that).\r\nSo many some run out of pointers? I dunno.... ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/902013778/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/902451100",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/23397#issuecomment-902451100",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23397",
    "id": 902451100,
    "node_id": "IC_kwDOAOvK9841yk-c",
    "user": {
      "login": "MariusVanDerWijden",
      "id": 16664698,
      "node_id": "MDQ6VXNlcjE2NjY0Njk4",
      "avatar_url": "https://avatars.githubusercontent.com/u/16664698?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MariusVanDerWijden",
      "html_url": "https://github.com/MariusVanDerWijden",
      "followers_url": "https://api.github.com/users/MariusVanDerWijden/followers",
      "following_url": "https://api.github.com/users/MariusVanDerWijden/following{/other_user}",
      "gists_url": "https://api.github.com/users/MariusVanDerWijden/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MariusVanDerWijden/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MariusVanDerWijden/subscriptions",
      "organizations_url": "https://api.github.com/users/MariusVanDerWijden/orgs",
      "repos_url": "https://api.github.com/users/MariusVanDerWijden/repos",
      "events_url": "https://api.github.com/users/MariusVanDerWijden/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MariusVanDerWijden/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-08-20T05:56:37Z",
    "updated_at": "2021-08-20T05:56:37Z",
    "author_association": "MEMBER",
    "body": "Hmm you're tracing on a full node... On light clients, if the peer that you fetch the state from disappears it will fail with this error.\r\nCan you link the transaction where tracing fails for?\r\nTracing should only fail with this error if the underlying state is somehow corrupted.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/902451100/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/902800134",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/23397#issuecomment-902800134",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23397",
    "id": 902800134,
    "node_id": "IC_kwDOAOvK9841z6MG",
    "user": {
      "login": "skrebts0v",
      "id": 45895290,
      "node_id": "MDQ6VXNlcjQ1ODk1Mjkw",
      "avatar_url": "https://avatars.githubusercontent.com/u/45895290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/skrebts0v",
      "html_url": "https://github.com/skrebts0v",
      "followers_url": "https://api.github.com/users/skrebts0v/followers",
      "following_url": "https://api.github.com/users/skrebts0v/following{/other_user}",
      "gists_url": "https://api.github.com/users/skrebts0v/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/skrebts0v/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/skrebts0v/subscriptions",
      "organizations_url": "https://api.github.com/users/skrebts0v/orgs",
      "repos_url": "https://api.github.com/users/skrebts0v/repos",
      "events_url": "https://api.github.com/users/skrebts0v/events{/privacy}",
      "received_events_url": "https://api.github.com/users/skrebts0v/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-08-20T16:08:17Z",
    "updated_at": "2021-08-20T16:09:38Z",
    "author_association": "NONE",
    "body": "It uses `baseFee` from current block instead of `baseFee` from next block.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/902800134/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/906210283",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/23397#issuecomment-906210283",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23397",
    "id": 906210283,
    "node_id": "IC_kwDOAOvK9842A6vr",
    "user": {
      "login": "holiman",
      "id": 142290,
      "node_id": "MDQ6VXNlcjE0MjI5MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/142290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/holiman",
      "html_url": "https://github.com/holiman",
      "followers_url": "https://api.github.com/users/holiman/followers",
      "following_url": "https://api.github.com/users/holiman/following{/other_user}",
      "gists_url": "https://api.github.com/users/holiman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/holiman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/holiman/subscriptions",
      "organizations_url": "https://api.github.com/users/holiman/orgs",
      "repos_url": "https://api.github.com/users/holiman/repos",
      "events_url": "https://api.github.com/users/holiman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/holiman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-08-26T08:38:09Z",
    "updated_at": "2021-08-26T08:38:09Z",
    "author_association": "MEMBER",
    "body": "What parameters are you using the the call? Are you tracing old transactions or non-executed transactions on `pending` ? ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/906210283/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/906212095",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/23397#issuecomment-906212095",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23397",
    "id": 906212095,
    "node_id": "IC_kwDOAOvK9842A7L_",
    "user": {
      "login": "holiman",
      "id": 142290,
      "node_id": "MDQ6VXNlcjE0MjI5MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/142290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/holiman",
      "html_url": "https://github.com/holiman",
      "followers_url": "https://api.github.com/users/holiman/followers",
      "following_url": "https://api.github.com/users/holiman/following{/other_user}",
      "gists_url": "https://api.github.com/users/holiman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/holiman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/holiman/subscriptions",
      "organizations_url": "https://api.github.com/users/holiman/orgs",
      "repos_url": "https://api.github.com/users/holiman/repos",
      "events_url": "https://api.github.com/users/holiman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/holiman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-08-26T08:40:54Z",
    "updated_at": "2021-08-26T08:40:54Z",
    "author_association": "MEMBER",
    "body": ">  it crashes without any stack trace\r\n\r\nRegarding this -- how do you run geth? Does it run in a daemon mode, or docker, or some `tmux` ? ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/906212095/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/906212419",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/23397#issuecomment-906212419",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23397",
    "id": 906212419,
    "node_id": "IC_kwDOAOvK9842A7RD",
    "user": {
      "login": "rjl493456442",
      "id": 5959481,
      "node_id": "MDQ6VXNlcjU5NTk0ODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5959481?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rjl493456442",
      "html_url": "https://github.com/rjl493456442",
      "followers_url": "https://api.github.com/users/rjl493456442/followers",
      "following_url": "https://api.github.com/users/rjl493456442/following{/other_user}",
      "gists_url": "https://api.github.com/users/rjl493456442/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rjl493456442/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rjl493456442/subscriptions",
      "organizations_url": "https://api.github.com/users/rjl493456442/orgs",
      "repos_url": "https://api.github.com/users/rjl493456442/repos",
      "events_url": "https://api.github.com/users/rjl493456442/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rjl493456442/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-08-26T08:41:24Z",
    "updated_at": "2021-08-26T08:41:24Z",
    "author_association": "MEMBER",
    "body": "@gelfand \r\nhttps://geth.ethereum.org/docs/rpc/ns-debug#debug_tracecall \r\nTracing call is happened on your specified block. So using the basefee of the specified block is the expected behavior.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/906212419/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/906645781",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/23397#issuecomment-906645781",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23397",
    "id": 906645781,
    "node_id": "IC_kwDOAOvK9842ClEV",
    "user": {
      "login": "martinlsanchez",
      "id": 1659075,
      "node_id": "MDQ6VXNlcjE2NTkwNzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1659075?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/martinlsanchez",
      "html_url": "https://github.com/martinlsanchez",
      "followers_url": "https://api.github.com/users/martinlsanchez/followers",
      "following_url": "https://api.github.com/users/martinlsanchez/following{/other_user}",
      "gists_url": "https://api.github.com/users/martinlsanchez/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/martinlsanchez/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/martinlsanchez/subscriptions",
      "organizations_url": "https://api.github.com/users/martinlsanchez/orgs",
      "repos_url": "https://api.github.com/users/martinlsanchez/repos",
      "events_url": "https://api.github.com/users/martinlsanchez/events{/privacy}",
      "received_events_url": "https://api.github.com/users/martinlsanchez/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-08-26T18:33:34Z",
    "updated_at": "2021-08-26T18:33:34Z",
    "author_association": "NONE",
    "body": "The main issue here is not if the `debug_traceCall` fails or not..... The error is \"verbose\" enough (it's clearly because I'm trying to trace a mempool tx in the last block context and fails with that error msg).\r\n\r\nThe issue is that after some time (20 min) of getting this error over and over again trying to `debug_traceCall` different mempool txs, the node crashes and start re syncing (not all traced txs fail but some do).\r\n\r\n@holiman\r\nYes, the trace call was made with non-executed tx from the mempool (simply: 1. get all mempool txs & 2. iterate and trace)    ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/906645781/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/906754162",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/23397#issuecomment-906754162",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23397",
    "id": 906754162,
    "node_id": "IC_kwDOAOvK9842C_hy",
    "user": {
      "login": "skrebts0v",
      "id": 45895290,
      "node_id": "MDQ6VXNlcjQ1ODk1Mjkw",
      "avatar_url": "https://avatars.githubusercontent.com/u/45895290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/skrebts0v",
      "html_url": "https://github.com/skrebts0v",
      "followers_url": "https://api.github.com/users/skrebts0v/followers",
      "following_url": "https://api.github.com/users/skrebts0v/following{/other_user}",
      "gists_url": "https://api.github.com/users/skrebts0v/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/skrebts0v/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/skrebts0v/subscriptions",
      "organizations_url": "https://api.github.com/users/skrebts0v/orgs",
      "repos_url": "https://api.github.com/users/skrebts0v/repos",
      "events_url": "https://api.github.com/users/skrebts0v/events{/privacy}",
      "received_events_url": "https://api.github.com/users/skrebts0v/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-08-26T21:25:38Z",
    "updated_at": "2021-08-26T21:25:38Z",
    "author_association": "NONE",
    "body": "> @gelfand\r\n> https://geth.ethereum.org/docs/rpc/ns-debug#debug_tracecall\r\n> Tracing call is happened on your specified block. So using the basefee of the specified block is the expected behavior.\r\n\r\nyeah, was wrong sorry.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/906754162/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/906757333",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/23397#issuecomment-906757333",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23397",
    "id": 906757333,
    "node_id": "IC_kwDOAOvK9842DATV",
    "user": {
      "login": "skrebts0v",
      "id": 45895290,
      "node_id": "MDQ6VXNlcjQ1ODk1Mjkw",
      "avatar_url": "https://avatars.githubusercontent.com/u/45895290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/skrebts0v",
      "html_url": "https://github.com/skrebts0v",
      "followers_url": "https://api.github.com/users/skrebts0v/followers",
      "following_url": "https://api.github.com/users/skrebts0v/following{/other_user}",
      "gists_url": "https://api.github.com/users/skrebts0v/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/skrebts0v/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/skrebts0v/subscriptions",
      "organizations_url": "https://api.github.com/users/skrebts0v/orgs",
      "repos_url": "https://api.github.com/users/skrebts0v/repos",
      "events_url": "https://api.github.com/users/skrebts0v/events{/privacy}",
      "received_events_url": "https://api.github.com/users/skrebts0v/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-08-26T21:31:23Z",
    "updated_at": "2021-08-26T21:31:23Z",
    "author_association": "NONE",
    "body": "> What parameters are you using the the call? Are you tracing old transactions or non-executed transactions on `pending` ?\r\n\r\nSeems he traces unsorted pooled transactions from other nodes, because it shouldn't fail if he traces executable(`pending`) transactions.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/906757333/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/906899643",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/23397#issuecomment-906899643",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23397",
    "id": 906899643,
    "node_id": "IC_kwDOAOvK9842DjC7",
    "user": {
      "login": "danielemiliogarcia",
      "id": 45073251,
      "node_id": "MDQ6VXNlcjQ1MDczMjUx",
      "avatar_url": "https://avatars.githubusercontent.com/u/45073251?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/danielemiliogarcia",
      "html_url": "https://github.com/danielemiliogarcia",
      "followers_url": "https://api.github.com/users/danielemiliogarcia/followers",
      "following_url": "https://api.github.com/users/danielemiliogarcia/following{/other_user}",
      "gists_url": "https://api.github.com/users/danielemiliogarcia/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/danielemiliogarcia/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/danielemiliogarcia/subscriptions",
      "organizations_url": "https://api.github.com/users/danielemiliogarcia/orgs",
      "repos_url": "https://api.github.com/users/danielemiliogarcia/repos",
      "events_url": "https://api.github.com/users/danielemiliogarcia/events{/privacy}",
      "received_events_url": "https://api.github.com/users/danielemiliogarcia/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-08-27T03:37:10Z",
    "updated_at": "2021-08-27T03:37:10Z",
    "author_association": "NONE",
    "body": "> What parameters are you using the the call? Are you tracing old transactions or non-executed transactions on `pending` ?\r\n\r\npending txs over latest block",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/906899643/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/906900298",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/23397#issuecomment-906900298",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23397",
    "id": 906900298,
    "node_id": "IC_kwDOAOvK9842DjNK",
    "user": {
      "login": "danielemiliogarcia",
      "id": 45073251,
      "node_id": "MDQ6VXNlcjQ1MDczMjUx",
      "avatar_url": "https://avatars.githubusercontent.com/u/45073251?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/danielemiliogarcia",
      "html_url": "https://github.com/danielemiliogarcia",
      "followers_url": "https://api.github.com/users/danielemiliogarcia/followers",
      "following_url": "https://api.github.com/users/danielemiliogarcia/following{/other_user}",
      "gists_url": "https://api.github.com/users/danielemiliogarcia/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/danielemiliogarcia/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/danielemiliogarcia/subscriptions",
      "organizations_url": "https://api.github.com/users/danielemiliogarcia/orgs",
      "repos_url": "https://api.github.com/users/danielemiliogarcia/repos",
      "events_url": "https://api.github.com/users/danielemiliogarcia/events{/privacy}",
      "received_events_url": "https://api.github.com/users/danielemiliogarcia/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-08-27T03:39:37Z",
    "updated_at": "2021-08-27T03:39:37Z",
    "author_association": "NONE",
    "body": "> > it crashes without any stack trace\r\n> \r\n> Regarding this -- how do you run geth? Does it run in a daemon mode, or docker, or some `tmux` ?\r\n\r\nsystemd daemon in the Linux distribution described at the top (issue description) \r\n\r\nLinux, Ubuntu Server 20.04 LTS\r\n\r\nalso with the parameters of the description\r\n\r\ngeth --config config.toml --verbosity 5 --cache.preimages --txlookuplimit=0 --http --http.addr \"0.0.0.0\" --http.port 8545 --cache=4096 --pprof --pprof.addr \"0.0.0.0\" --metrics --metrics.expensive 2\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/906900298/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/908374684",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/23397#issuecomment-908374684",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23397",
    "id": 908374684,
    "node_id": "IC_kwDOAOvK9842JLKc",
    "user": {
      "login": "s1na",
      "id": 1591639,
      "node_id": "MDQ6VXNlcjE1OTE2Mzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1591639?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/s1na",
      "html_url": "https://github.com/s1na",
      "followers_url": "https://api.github.com/users/s1na/followers",
      "following_url": "https://api.github.com/users/s1na/following{/other_user}",
      "gists_url": "https://api.github.com/users/s1na/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/s1na/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/s1na/subscriptions",
      "organizations_url": "https://api.github.com/users/s1na/orgs",
      "repos_url": "https://api.github.com/users/s1na/repos",
      "events_url": "https://api.github.com/users/s1na/events{/privacy}",
      "received_events_url": "https://api.github.com/users/s1na/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-08-30T14:08:47Z",
    "updated_at": "2021-08-30T14:08:47Z",
    "author_association": "MEMBER",
    "body": "Does this repro script resemble what you're doing? I do get a lot of `max fee per gas less than block base fee` but geth hasn't crashed yet after ~45 mins.\r\n\r\nhttps://gist.github.com/s1na/abfde280e575c5de1937098a7ea2cb09",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/908374684/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/912522722",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/23397#issuecomment-912522722",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23397",
    "id": 912522722,
    "node_id": "IC_kwDOAOvK9842Y_3i",
    "user": {
      "login": "danielemiliogarcia",
      "id": 45073251,
      "node_id": "MDQ6VXNlcjQ1MDczMjUx",
      "avatar_url": "https://avatars.githubusercontent.com/u/45073251?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/danielemiliogarcia",
      "html_url": "https://github.com/danielemiliogarcia",
      "followers_url": "https://api.github.com/users/danielemiliogarcia/followers",
      "following_url": "https://api.github.com/users/danielemiliogarcia/following{/other_user}",
      "gists_url": "https://api.github.com/users/danielemiliogarcia/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/danielemiliogarcia/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/danielemiliogarcia/subscriptions",
      "organizations_url": "https://api.github.com/users/danielemiliogarcia/orgs",
      "repos_url": "https://api.github.com/users/danielemiliogarcia/repos",
      "events_url": "https://api.github.com/users/danielemiliogarcia/events{/privacy}",
      "received_events_url": "https://api.github.com/users/danielemiliogarcia/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-09-03T13:03:37Z",
    "updated_at": "2021-09-03T13:03:37Z",
    "author_association": "NONE",
    "body": "> Does this repro script resemble what you're doing? I do get a lot of `max fee per gas less than block base fee` but geth hasn't crashed yet after ~45 mins.\r\n> \r\n> https://gist.github.com/s1na/abfde280e575c5de1937098a7ea2cb09\r\n\r\nI'm doing single HTTP RPC requests, I'm not using websockets like in your snippet, i have recently tested in latest Geth version v1.10.8 and its going down again in the same way, can we chat in the Geth discord? perhaps i can hit your node, so you see live how it goes down @s1na ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/912522722/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/912776049",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/23397#issuecomment-912776049",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23397",
    "id": 912776049,
    "node_id": "IC_kwDOAOvK9842Z9tx",
    "user": {
      "login": "danielemiliogarcia",
      "id": 45073251,
      "node_id": "MDQ6VXNlcjQ1MDczMjUx",
      "avatar_url": "https://avatars.githubusercontent.com/u/45073251?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/danielemiliogarcia",
      "html_url": "https://github.com/danielemiliogarcia",
      "followers_url": "https://api.github.com/users/danielemiliogarcia/followers",
      "following_url": "https://api.github.com/users/danielemiliogarcia/following{/other_user}",
      "gists_url": "https://api.github.com/users/danielemiliogarcia/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/danielemiliogarcia/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/danielemiliogarcia/subscriptions",
      "organizations_url": "https://api.github.com/users/danielemiliogarcia/orgs",
      "repos_url": "https://api.github.com/users/danielemiliogarcia/repos",
      "events_url": "https://api.github.com/users/danielemiliogarcia/events{/privacy}",
      "received_events_url": "https://api.github.com/users/danielemiliogarcia/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-09-03T19:55:13Z",
    "updated_at": "2021-09-03T19:56:37Z",
    "author_association": "NONE",
    "body": "Same behavior for version \r\n```\r\nGeth\r\nVersion: 1.10.8-stable\r\nGit Commit: 26675454bf93bf904be7a43cce6b3f550115ff90\r\nArchitecture: amd64\r\nGo Version: go1.16.4\r\nOperating System: linux\r\nGOPATH=\r\nGOROOT=go\r\n```\r\nlogs -> https://www.mediafire.com/file/44rfebp8o4sqdps/geth.log.crash-09-03.zip/file\r\n\r\n![Selection_150](https://user-images.githubusercontent.com/45073251/132057803-8e8d2c32-dbc3-4139-9f82-1c87823b5ca5.png)\r\n\r\nhow to reproduce:\r\n\r\nfor each new tx that arrives to the mempool (subscription to pending txs)\r\n\r\nhit the node with and RPC HTTP request using `debug_traceCall`, the `tx data`, the `current pending block hash` and the tracer `4byteTracer`\r\n\r\npseudo code example:\r\n\r\n```\r\nfor each TX in the mempool\r\n\r\n        curl -H \"Content-Type: application/json\" -X POST  localhost:8545 --data '{\"jsonrpc\":\"2.0\",\"method\":\"debug_traceCall\",\"params\":[{TX}, \"BLOCK_HASH_FOR_PENDING_BLOCK\", {\"tracer\": \"4byteTracer\", \"timeout\": \"120s\"}],\"id\":1}'\r\n   \r\n```\r\n\r\nconcrete instantiated example:\r\n\r\n```\r\ncurl -H \"Content-Type: application/json\" -X POST  localhost:8545 --data '{\"jsonrpc\":\"2.0\",\"method\":\"debug_traceCall\",\"params\":[{\"from\": \"0xD2C82F2e5FA236E114A81173e375a73664610998\", \"to\": \"0x8D1f2eBFACCf1136dB76FDD1b86f1deDE2D23852\", \"gas\": \"0x7a120\", \"gasPrice\": \"0x1c7e188c5d\", \"value\": \"0x0\", \"data\": \"0x2da03409000000000000000000000000f6316c97e6071d29af2a00b17e12d4623e0a7a63000000000000000000000000dac17f958d2ee523a2206206994597c13d831ec7\", \"hash\": \"0xac10a4cfadd3af3fb65ccc75ee2b75fcbcb66db58029ce50b705762a6d4e11a0\", \"nonce\": \"0xf9bfd\"}, \"0xd86f22972570b386c868d465639756b51663f8fa9f1ed3c039d0c0b9fddc7e9a\", {\"tracer\": \"4byteTracer\", \"timeout\": \"120s\"}],\"id\":1}'\r\n```\r\n\r\nresult:\r\n\r\n```\r\n{'jsonrpc': '2.0', 'id': 1, 'error': {'code': -32000, 'message': 'tracing failed: max fee per gas less than block base fee: address 0x57AC908af48e60654b5338A5d6119Cc7476dc4dE, maxFeePerGas: 80000000000 baseFee: 98934815142'}}\r\n\r\n```\r\n\r\n@holiman @s1na @martinlsanchez ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/912776049/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/919775584",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/23397#issuecomment-919775584",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23397",
    "id": 919775584,
    "node_id": "IC_kwDOAOvK98420qlg",
    "user": {
      "login": "holiman",
      "id": 142290,
      "node_id": "MDQ6VXNlcjE0MjI5MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/142290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/holiman",
      "html_url": "https://github.com/holiman",
      "followers_url": "https://api.github.com/users/holiman/followers",
      "following_url": "https://api.github.com/users/holiman/following{/other_user}",
      "gists_url": "https://api.github.com/users/holiman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/holiman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/holiman/subscriptions",
      "organizations_url": "https://api.github.com/users/holiman/orgs",
      "repos_url": "https://api.github.com/users/holiman/repos",
      "events_url": "https://api.github.com/users/holiman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/holiman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-09-15T07:37:09Z",
    "updated_at": "2021-09-15T07:37:09Z",
    "author_association": "MEMBER",
    "body": "I have a suspicion that this is due to ` \"timeout\": \"120s\"`. I'm not sure if the timeout fully stops the js engine. If the timeout is on a surface-level, leaving the js execution running internally, then sending more requests to the machine may cause overload. After a certain time, you'll have N tracers executing, all competing for the same resources -- even though N-1 ones will be silently discarded after completion. \r\n\r\nWe'll investigate.  ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/919775584/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/919816679",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/23397#issuecomment-919816679",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23397",
    "id": 919816679,
    "node_id": "IC_kwDOAOvK984200nn",
    "user": {
      "login": "holiman",
      "id": 142290,
      "node_id": "MDQ6VXNlcjE0MjI5MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/142290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/holiman",
      "html_url": "https://github.com/holiman",
      "followers_url": "https://api.github.com/users/holiman/followers",
      "following_url": "https://api.github.com/users/holiman/following{/other_user}",
      "gists_url": "https://api.github.com/users/holiman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/holiman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/holiman/subscriptions",
      "organizations_url": "https://api.github.com/users/holiman/orgs",
      "repos_url": "https://api.github.com/users/holiman/repos",
      "events_url": "https://api.github.com/users/holiman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/holiman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-09-15T08:36:44Z",
    "updated_at": "2021-09-15T08:36:44Z",
    "author_association": "MEMBER",
    "body": "Could you please try https://github.com/ethereum/go-ethereum/pull/23580 , and see if it fixes the issue? ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/919816679/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/921091309",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/23397#issuecomment-921091309",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23397",
    "id": 921091309,
    "node_id": "IC_kwDOAOvK98425rzt",
    "user": {
      "login": "danielemiliogarcia",
      "id": 45073251,
      "node_id": "MDQ6VXNlcjQ1MDczMjUx",
      "avatar_url": "https://avatars.githubusercontent.com/u/45073251?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/danielemiliogarcia",
      "html_url": "https://github.com/danielemiliogarcia",
      "followers_url": "https://api.github.com/users/danielemiliogarcia/followers",
      "following_url": "https://api.github.com/users/danielemiliogarcia/following{/other_user}",
      "gists_url": "https://api.github.com/users/danielemiliogarcia/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/danielemiliogarcia/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/danielemiliogarcia/subscriptions",
      "organizations_url": "https://api.github.com/users/danielemiliogarcia/orgs",
      "repos_url": "https://api.github.com/users/danielemiliogarcia/repos",
      "events_url": "https://api.github.com/users/danielemiliogarcia/events{/privacy}",
      "received_events_url": "https://api.github.com/users/danielemiliogarcia/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-09-16T17:25:56Z",
    "updated_at": "2021-09-16T17:25:56Z",
    "author_association": "NONE",
    "body": "@holiman please give me some time to try, if it fails again can we re-open the isuue?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/921091309/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/921133193",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/23397#issuecomment-921133193",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23397",
    "id": 921133193,
    "node_id": "IC_kwDOAOvK984252CJ",
    "user": {
      "login": "holiman",
      "id": 142290,
      "node_id": "MDQ6VXNlcjE0MjI5MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/142290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/holiman",
      "html_url": "https://github.com/holiman",
      "followers_url": "https://api.github.com/users/holiman/followers",
      "following_url": "https://api.github.com/users/holiman/following{/other_user}",
      "gists_url": "https://api.github.com/users/holiman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/holiman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/holiman/subscriptions",
      "organizations_url": "https://api.github.com/users/holiman/orgs",
      "repos_url": "https://api.github.com/users/holiman/repos",
      "events_url": "https://api.github.com/users/holiman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/holiman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-09-16T18:13:24Z",
    "updated_at": "2021-09-16T18:13:24Z",
    "author_association": "MEMBER",
    "body": "Oops, didn't mean to close this, it was auto-closed by the linked PR I think.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/921133193/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/921158512",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/23397#issuecomment-921158512",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23397",
    "id": 921158512,
    "node_id": "IC_kwDOAOvK984258Nw",
    "user": {
      "login": "danielemiliogarcia",
      "id": 45073251,
      "node_id": "MDQ6VXNlcjQ1MDczMjUx",
      "avatar_url": "https://avatars.githubusercontent.com/u/45073251?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/danielemiliogarcia",
      "html_url": "https://github.com/danielemiliogarcia",
      "followers_url": "https://api.github.com/users/danielemiliogarcia/followers",
      "following_url": "https://api.github.com/users/danielemiliogarcia/following{/other_user}",
      "gists_url": "https://api.github.com/users/danielemiliogarcia/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/danielemiliogarcia/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/danielemiliogarcia/subscriptions",
      "organizations_url": "https://api.github.com/users/danielemiliogarcia/orgs",
      "repos_url": "https://api.github.com/users/danielemiliogarcia/repos",
      "events_url": "https://api.github.com/users/danielemiliogarcia/events{/privacy}",
      "received_events_url": "https://api.github.com/users/danielemiliogarcia/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-09-16T18:52:44Z",
    "updated_at": "2021-09-16T18:52:44Z",
    "author_association": "NONE",
    "body": "i've tried, and its still crashing.. with latest master\r\n\r\nGeth\r\nVersion: 1.10.9-unstable\r\nGit Commit: 7ada89d4e68801d958b0ffe311c57919969a62be\r\nGit Commit Date: 20210916\r\nArchitecture: amd64\r\nGo Version: go1.15.5\r\nOperating System: linux\r\nGOPATH=\r\nGOROOT=go\r\n\r\n![Selection_245](https://user-images.githubusercontent.com/45073251/133668808-deecd30b-aad2-4ed1-9490-a6b3aab8afcc.png)\r\n\r\n@holiman do you want a new file with full verbosity logs?\r\n\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/921158512/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/921182006",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/23397#issuecomment-921182006",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23397",
    "id": 921182006,
    "node_id": "IC_kwDOAOvK98426B82",
    "user": {
      "login": "holiman",
      "id": 142290,
      "node_id": "MDQ6VXNlcjE0MjI5MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/142290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/holiman",
      "html_url": "https://github.com/holiman",
      "followers_url": "https://api.github.com/users/holiman/followers",
      "following_url": "https://api.github.com/users/holiman/following{/other_user}",
      "gists_url": "https://api.github.com/users/holiman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/holiman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/holiman/subscriptions",
      "organizations_url": "https://api.github.com/users/holiman/orgs",
      "repos_url": "https://api.github.com/users/holiman/repos",
      "events_url": "https://api.github.com/users/holiman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/holiman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-09-16T19:22:50Z",
    "updated_at": "2021-09-16T19:22:50Z",
    "author_association": "MEMBER",
    "body": "Logs, yes please",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/921182006/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/921251758",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/23397#issuecomment-921251758",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23397",
    "id": 921251758,
    "node_id": "IC_kwDOAOvK98426S-u",
    "user": {
      "login": "danielemiliogarcia",
      "id": 45073251,
      "node_id": "MDQ6VXNlcjQ1MDczMjUx",
      "avatar_url": "https://avatars.githubusercontent.com/u/45073251?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/danielemiliogarcia",
      "html_url": "https://github.com/danielemiliogarcia",
      "followers_url": "https://api.github.com/users/danielemiliogarcia/followers",
      "following_url": "https://api.github.com/users/danielemiliogarcia/following{/other_user}",
      "gists_url": "https://api.github.com/users/danielemiliogarcia/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/danielemiliogarcia/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/danielemiliogarcia/subscriptions",
      "organizations_url": "https://api.github.com/users/danielemiliogarcia/orgs",
      "repos_url": "https://api.github.com/users/danielemiliogarcia/repos",
      "events_url": "https://api.github.com/users/danielemiliogarcia/events{/privacy}",
      "received_events_url": "https://api.github.com/users/danielemiliogarcia/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-09-16T21:18:34Z",
    "updated_at": "2021-09-16T21:18:34Z",
    "author_association": "NONE",
    "body": "![Selection_247](https://user-images.githubusercontent.com/45073251/133686608-e554f1f7-6ea3-4af5-8d1b-86b2fbbc00d0.png)\r\nhttps://www.mediafire.com/file/xca4oge7cjto3o6/geth.log.zip/file",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/921251758/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/921674390",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/23397#issuecomment-921674390",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23397",
    "id": 921674390,
    "node_id": "IC_kwDOAOvK984276KW",
    "user": {
      "login": "s1na",
      "id": 1591639,
      "node_id": "MDQ6VXNlcjE1OTE2Mzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1591639?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/s1na",
      "html_url": "https://github.com/s1na",
      "followers_url": "https://api.github.com/users/s1na/followers",
      "following_url": "https://api.github.com/users/s1na/following{/other_user}",
      "gists_url": "https://api.github.com/users/s1na/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/s1na/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/s1na/subscriptions",
      "organizations_url": "https://api.github.com/users/s1na/orgs",
      "repos_url": "https://api.github.com/users/s1na/repos",
      "events_url": "https://api.github.com/users/s1na/events{/privacy}",
      "received_events_url": "https://api.github.com/users/s1na/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-09-17T10:05:39Z",
    "updated_at": "2021-09-17T10:05:39Z",
    "author_association": "MEMBER",
    "body": "This might be related to #23552. I'm watching mainnet txes and every once in a while there's a really heavy one (>20m gas) and tracing one of those crashed my node. Can you also please share the last tx your script was tracing before the crash?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/921674390/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/921885296",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/23397#issuecomment-921885296",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23397",
    "id": 921885296,
    "node_id": "IC_kwDOAOvK98428tpw",
    "user": {
      "login": "danielemiliogarcia",
      "id": 45073251,
      "node_id": "MDQ6VXNlcjQ1MDczMjUx",
      "avatar_url": "https://avatars.githubusercontent.com/u/45073251?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/danielemiliogarcia",
      "html_url": "https://github.com/danielemiliogarcia",
      "followers_url": "https://api.github.com/users/danielemiliogarcia/followers",
      "following_url": "https://api.github.com/users/danielemiliogarcia/following{/other_user}",
      "gists_url": "https://api.github.com/users/danielemiliogarcia/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/danielemiliogarcia/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/danielemiliogarcia/subscriptions",
      "organizations_url": "https://api.github.com/users/danielemiliogarcia/orgs",
      "repos_url": "https://api.github.com/users/danielemiliogarcia/repos",
      "events_url": "https://api.github.com/users/danielemiliogarcia/events{/privacy}",
      "received_events_url": "https://api.github.com/users/danielemiliogarcia/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-09-17T15:25:25Z",
    "updated_at": "2021-09-17T15:25:25Z",
    "author_association": "NONE",
    "body": "\r\n\r\n\r\n> This might be related to #23552. I'm watching mainnet txes and every once in a while there's a really heavy one (>20m gas) and tracing one of those crashed my node. Can you also please share the last tx your script was tracing before the crash?\r\n\r\n\r\n\r\ngeth logs\r\n```\r\nWARN [09-16|21:04:54.731] Served debug_traceCall                   conn=127.0.0.1:56006 reqid=1      t=277.359578ms err=\"tracing failed: max fee per gas less than block base fee: address 0x17CaE83761bd0E9201Af28717BE285cE1e0Ee156, maxFeePerGas: 110000000000 baseFee: 135815335515\"\r\n```\r\n\r\nmy logs\r\n```\r\n{'from': '0x17CaE83761bd0E9201Af28717BE285cE1e0Ee156', 'to': '0xa440467f6d5fBd62F6eEf01192caA52850Aa1D5F', 'gas': '0x97fe8', 'gasPrice': '0x199c82cc00', 'value': '0x16345785d8a0000', 'data': '0xad2307960000000000000000000000000000000000000000000000000000000000000005', 'hash': '0x2f2ebd8af2ef8782084685013548a184c3e2313927ea7d3d61648a7e61d24f17', 'nonce': '0x2d'}\r\n```\r\n\r\ntx: https://etherscan.io/tx/0x2f2ebd8af2ef8782084685013548a184c3e2313927ea7d3d61648a7e61d24f17\r\n@s1na ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/921885296/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/956310775",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/23397#issuecomment-956310775",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23397",
    "id": 956310775,
    "node_id": "IC_kwDOAOvK9845ACT3",
    "user": {
      "login": "holiman",
      "id": 142290,
      "node_id": "MDQ6VXNlcjE0MjI5MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/142290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/holiman",
      "html_url": "https://github.com/holiman",
      "followers_url": "https://api.github.com/users/holiman/followers",
      "following_url": "https://api.github.com/users/holiman/following{/other_user}",
      "gists_url": "https://api.github.com/users/holiman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/holiman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/holiman/subscriptions",
      "organizations_url": "https://api.github.com/users/holiman/orgs",
      "repos_url": "https://api.github.com/users/holiman/repos",
      "events_url": "https://api.github.com/users/holiman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/holiman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-11-01T15:04:21Z",
    "updated_at": "2021-11-01T15:04:21Z",
    "author_association": "MEMBER",
    "body": "From the last log, where you included a stack dump: \r\n```\r\n$ more geth.log | grep worker.go | wc -l\r\n230\r\n\r\n```\r\nIt's these two that are bottling up: \r\n```\r\nsync.runtime_SemacquireMutex(0xc000277f1c, 0xc0248d6400)\r\n\t/usr/local/go/src/runtime/sema.go:71 +0x3d\r\nsync.(*RWMutex).RLock(0xc000277f10)\r\n\t/usr/local/go/src/sync/rwmutex.go:50 +0x4e\r\ngithub.com/ethereum/go-ethereum/miner.(*worker).pending(0xc000277dc0, 0x0, 0x0)\r\n\t/home/admin/gonex/build/_workspace/src/github.com/ethereum/go-ethereum/miner/worker.go:252 +0x4f\r\n--\r\nsync.runtime_SemacquireMutex(0xc000277f1c, 0xe33100)\r\n\t/usr/local/go/src/runtime/sema.go:71 +0x3d\r\nsync.(*RWMutex).RLock(0xc000277f10)\r\n\t/usr/local/go/src/sync/rwmutex.go:50 +0x4e\r\ngithub.com/ethereum/go-ethereum/miner.(*worker).pendingBlock(0xc000277dc0, 0x0)\r\n\t/home/admin/gonex/build/_workspace/src/github.com/ethereum/go-ethereum/miner/worker.go:263 +0x46\r\n--\r\n```\r\nOne is via `EstimateGas`: \r\n```\r\nsync.runtime_SemacquireMutex(0xc000277f1c, 0xc01a644100)\r\n\t/usr/local/go/src/runtime/sema.go:71 +0x3d\r\nsync.(*RWMutex).RLock(0xc000277f10)\r\n\t/usr/local/go/src/sync/rwmutex.go:50 +0x4e\r\ngithub.com/ethereum/go-ethereum/miner.(*worker).pending(0xc000277dc0, 0x0, 0x0)\r\n\t/home/admin/gonex/build/_workspace/src/github.com/ethereum/go-ethereum/miner/worker.go:252 +0x4f\r\ngithub.com/ethereum/go-ethereum/miner.(*Miner).Pending(0xc000322360, 0xab5e310f716a, 0x188ea4)\r\n\t/home/admin/gonex/build/_workspace/src/github.com/ethereum/go-ethereum/miner/miner.go:155 +0x2f\r\ngithub.com/ethereum/go-ethereum/eth.(*EthAPIBackend).StateAndHeaderByNumber(0xc0003da9e0, 0x11c15e0, 0xc02fc2de40, 0xfffffffffffffffe, 0x1e75340, 0x0, 0x0, 0x5208)\r\n\t/home/admin/gonex/build/_workspace/src/github.com/ethereum/go-ethereum/eth/api_backend.go:92 +0x124\r\ngithub.com/ethereum/go-ethereum/internal/ethapi.(*PublicBlockChainAPI).doCall(0xc000076a00, 0x11c15e0, 0xc02fc2de40, 0xac3fb60b90b0f65c, 0xb55023a96ab1ef61, 0xff71d458, 0xc0293e2e60, 0x551ae, 0x0, 0x0, ...)\r\n\t/home/admin/gonex/build/_workspace/src/github.com/ethereum/go-ethereum/internal/ethapi/api.go:700 +0x12f\r\ngithub.com/ethereum/go-ethereum/internal/ethapi.(*PublicBlockChainAPI).EstimateGas.func1(0x551ae, 0x11c1501)\r\n\t/home/admin/gonex/build/_workspace/src/github.com/ethereum/go-ethereum/internal/ethapi/api.go:791 +0x8e\r\ngithub.com/ethereum/go-ethereum/internal/ethapi.(*PublicBlockChainAPI).EstimateGas(0xc000076a00, 0x11c15e0, 0xc02fc2de40, 0xac3fb60b90b0f65c, 0xb55023a96ab1ef61, 0xff71d458, 0xc0293e2e60, 0x551ae, 0x0, 0x0, ...)\r\n\t/home/admin/gonex/build/_workspace/src/github.com/ethereum/go-ethereum/internal/ethapi/api.go:800 +0xe5\r\n```\r\nAnd the other seem related to the same thing\r\n```\r\nsync.runtime_SemacquireMutex(0xc000277f1c, 0xe33100)\r\n\t/usr/local/go/src/runtime/sema.go:71 +0x3d\r\nsync.(*RWMutex).RLock(0xc000277f10)\r\n\t/usr/local/go/src/sync/rwmutex.go:50 +0x4e\r\ngithub.com/ethereum/go-ethereum/miner.(*worker).pendingBlock(0xc000277dc0, 0x0)\r\n\t/home/admin/gonex/build/_workspace/src/github.com/ethereum/go-ethereum/miner/worker.go:263 +0x46\r\ngithub.com/ethereum/go-ethereum/miner.(*Miner).PendingBlock(0xc000322360, 0xe33120)\r\n\t/home/admin/gonex/build/_workspace/src/github.com/ethereum/go-ethereum/miner/miner.go:164 +0x2f\r\ngithub.com/ethereum/go-ethereum/eth.(*EthAPIBackend).BlockByNumber(0xc0003da9e0, 0x11c15e0, 0xc0283696c0, 0xfffffffffffffffe, 0x41e0db, 0xc00001e000, 0xe9c180)\r\n\t/home/admin/gonex/build/_workspace/src/github.com/ethereum/go-ethereum/eth/api_backend.go:79 +0xfe\r\ngithub.com/ethereum/go-ethereum/internal/ethapi.(*PublicBlockChainAPI).EstimateGas(0xc000076a00, 0x11c15e0, 0xc0283696c0, 0x4c5379758efd9550, 0x7a9dd36ab9d02fc4, 0xaab2d0a8, 0xc02241d0e0, 0x0, 0x0, 0x0, ...)\r\n\t/home/admin/gonex/build/_workspace/src/github.com/ethereum/go-ethereum/internal/ethapi/api.go:779 +0x1ec\r\nreflect.Value.call(0xc008bb4280, 0xc0001f99c0, 0x13, 0xfa881d, 0x4, 0xc01f518d80, 0x3, 0x4, 0x0, 0xc01f518d80, ...)\r\n\t/usr/local/go/src/reflect/value.go:447 +0x454\r\n```\r\nUnfortunately, I can't reconcile the line numbers with the actual revision `7ada89d`, so not sure exactly what's going on. \r\nHowever, it does _not_ look like \"I'm doing single HTTP RPC requests,\" -- but if you are, then I guess the client side times out before the server side does, and issues the next request while the first one is still waiting for a lock. \r\n\r\nThe `pending` block is \"owned\" by the miner. There are several things that need access to it: \r\n- The miner modifies it to add new transactions, \r\n- The miner modifies it to add new uncles, \r\n- The miner modifies it when there's a new head block, \r\n- Various RPC endpoints access it to evaluate on top of\r\n\r\nIn this case, I suspect that the constant accesses stall eachother, and eventually the system goes OOM because various channels can no longer be handled. ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/956310775/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/956311610",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/23397#issuecomment-956311610",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23397",
    "id": 956311610,
    "node_id": "IC_kwDOAOvK9845ACg6",
    "user": {
      "login": "holiman",
      "id": 142290,
      "node_id": "MDQ6VXNlcjE0MjI5MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/142290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/holiman",
      "html_url": "https://github.com/holiman",
      "followers_url": "https://api.github.com/users/holiman/followers",
      "following_url": "https://api.github.com/users/holiman/following{/other_user}",
      "gists_url": "https://api.github.com/users/holiman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/holiman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/holiman/subscriptions",
      "organizations_url": "https://api.github.com/users/holiman/orgs",
      "repos_url": "https://api.github.com/users/holiman/repos",
      "events_url": "https://api.github.com/users/holiman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/holiman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-11-01T15:05:10Z",
    "updated_at": "2021-11-01T15:05:10Z",
    "author_association": "MEMBER",
    "body": "In this case, you're not actually interested in the pending block per se, just the most recent state. So the accesses to the pendingblock is actually pretty moot. ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/956311610/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1162067115",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/23397#issuecomment-1162067115",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23397",
    "id": 1162067115,
    "node_id": "IC_kwDOAOvK985FQ7yr",
    "user": {
      "login": "danielemiliogarcia",
      "id": 45073251,
      "node_id": "MDQ6VXNlcjQ1MDczMjUx",
      "avatar_url": "https://avatars.githubusercontent.com/u/45073251?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/danielemiliogarcia",
      "html_url": "https://github.com/danielemiliogarcia",
      "followers_url": "https://api.github.com/users/danielemiliogarcia/followers",
      "following_url": "https://api.github.com/users/danielemiliogarcia/following{/other_user}",
      "gists_url": "https://api.github.com/users/danielemiliogarcia/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/danielemiliogarcia/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/danielemiliogarcia/subscriptions",
      "organizations_url": "https://api.github.com/users/danielemiliogarcia/orgs",
      "repos_url": "https://api.github.com/users/danielemiliogarcia/repos",
      "events_url": "https://api.github.com/users/danielemiliogarcia/events{/privacy}",
      "received_events_url": "https://api.github.com/users/danielemiliogarcia/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-06-21T17:34:08Z",
    "updated_at": "2022-06-21T17:34:08Z",
    "author_association": "NONE",
    "body": "@holiman im closing this issue as is not happening any more on last version",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1162067115/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 1,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
