{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23757",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23757/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23757/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23757/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/23757",
  "id": 1028432448,
  "node_id": "I_kwDOAOvK9849TKJA",
  "number": 23757,
  "title": "error: insufficient funds for gas * price +value",
  "user": {
    "login": "elsampsa",
    "id": 13978980,
    "node_id": "MDQ6VXNlcjEzOTc4OTgw",
    "avatar_url": "https://avatars.githubusercontent.com/u/13978980?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/elsampsa",
    "html_url": "https://github.com/elsampsa",
    "followers_url": "https://api.github.com/users/elsampsa/followers",
    "following_url": "https://api.github.com/users/elsampsa/following{/other_user}",
    "gists_url": "https://api.github.com/users/elsampsa/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/elsampsa/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/elsampsa/subscriptions",
    "organizations_url": "https://api.github.com/users/elsampsa/orgs",
    "repos_url": "https://api.github.com/users/elsampsa/repos",
    "events_url": "https://api.github.com/users/elsampsa/events{/privacy}",
    "received_events_url": "https://api.github.com/users/elsampsa/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 72233650,
      "node_id": "MDU6TGFiZWw3MjIzMzY1MA==",
      "url": "https://api.github.com/repos/ethereum/go-ethereum/labels/type:bug",
      "name": "type:bug",
      "color": "FF5E5E",
      "default": false,
      "description": ""
    },
    {
      "id": 1132689577,
      "node_id": "MDU6TGFiZWwxMTMyNjg5NTc3",
      "url": "https://api.github.com/repos/ethereum/go-ethereum/labels/status:triage",
      "name": "status:triage",
      "color": "6be514",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 8,
  "created_at": "2021-10-17T20:42:49Z",
  "updated_at": "2021-10-28T08:48:41Z",
  "closed_at": "2021-10-28T08:48:41Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "#### System information\r\n\r\nGeth version: `Geth/v1.10.6-stable-576681f2/linux-amd64/go1.15.6`\r\n**EDIT:** now tested also with `Geth/v1.10.10-stable-bb74230f/linux-amd64/go1.15.6`\r\nOS & Version: Linux\r\nCommit hash : (not development branch)\r\n\r\nI'm doing a small test tx from the web3 console with my updated geth client.  First of all:\r\n```\r\n> eth.getBalance(personal.listAccounts[2])\r\n100000000000000000 # = 0.1 Eth\r\n``` \r\nI send the tx with:\r\n```\r\neth.sendTransaction({from: personal.listAccounts[2],to: personal.listAccounts[0],value: web3.toWei(0.090, \"ether\"), gas: 120000, gasPrice: web3.toWei(70, \"gwei\")});\r\n```\r\nLet's check the numbers (& hope that I'm not making a fool of myself):\r\n```\r\n> web3.toWei(0.090, \"ether\")\r\n\"90000000000000000\" # want to transfer 0.09 Eth\r\n\r\n> web3.toWei(70, \"gwei\")\r\n\"70000000000\"\r\n\r\nmax. tx cost then: 120000 * 70000000000 # = 0.0084 Eth\r\n\r\n0.0084 Eth + 0.09 Eth is < 0.1 Eth\r\n```\r\n\r\nNOTE: The **blockchain is not synced** to the latest block, but it's enough \"new\" to see that there are avail. funds in the sending account (so this should not be a show-stopper).\r\n\r\n#### Expected behaviour\r\n\r\nTransaction is sent to the tx pool succesfully.\r\n\r\n#### Actual behaviour\r\n\r\nI get:\r\n```\r\nerror: insufficient funds for gas * price +value\r\n```\r\n\r\n#### Steps to reproduce the behaviour\r\n\r\n(see above)\r\n\r\n#### Backtrace\r\n\r\nI have played around with different amounts of eth to send (including ridiculously small).  Always the same problem.\r\n",
  "closed_by": {
    "login": "holiman",
    "id": 142290,
    "node_id": "MDQ6VXNlcjE0MjI5MA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/142290?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/holiman",
    "html_url": "https://github.com/holiman",
    "followers_url": "https://api.github.com/users/holiman/followers",
    "following_url": "https://api.github.com/users/holiman/following{/other_user}",
    "gists_url": "https://api.github.com/users/holiman/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/holiman/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/holiman/subscriptions",
    "organizations_url": "https://api.github.com/users/holiman/orgs",
    "repos_url": "https://api.github.com/users/holiman/repos",
    "events_url": "https://api.github.com/users/holiman/events{/privacy}",
    "received_events_url": "https://api.github.com/users/holiman/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23757/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23757/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/945415308",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/23757#issuecomment-945415308",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23757",
    "id": 945415308,
    "node_id": "IC_kwDOAOvK9844WeSM",
    "user": {
      "login": "holiman",
      "id": 142290,
      "node_id": "MDQ6VXNlcjE0MjI5MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/142290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/holiman",
      "html_url": "https://github.com/holiman",
      "followers_url": "https://api.github.com/users/holiman/followers",
      "following_url": "https://api.github.com/users/holiman/following{/other_user}",
      "gists_url": "https://api.github.com/users/holiman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/holiman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/holiman/subscriptions",
      "organizations_url": "https://api.github.com/users/holiman/orgs",
      "repos_url": "https://api.github.com/users/holiman/repos",
      "events_url": "https://api.github.com/users/holiman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/holiman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-10-18T06:48:03Z",
    "updated_at": "2021-10-18T06:48:03Z",
    "author_association": "MEMBER",
    "body": "The transaction pool maintains it's own 'currentState', and does not use the same instance as what you get when you call `eth.getBalance`. Naturally, they are supposed to be in agreement, but I'm guessing that for some reason they aren't, and that's why  you're seeing this. \r\nCan you share some more detail on the state of your node? What kind of sync is it performing, and how far has it come? \r\nAlso, you're using a fairly old version,  `1.10.6`, latest is `1.10.10`, so please also upgrade -- it can be a huge waste of time to debug old versions if a bug is already fixed in a newer one. ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/945415308/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/945596859",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/23757#issuecomment-945596859",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23757",
    "id": 945596859,
    "node_id": "IC_kwDOAOvK9844XKm7",
    "user": {
      "login": "elsampsa",
      "id": 13978980,
      "node_id": "MDQ6VXNlcjEzOTc4OTgw",
      "avatar_url": "https://avatars.githubusercontent.com/u/13978980?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/elsampsa",
      "html_url": "https://github.com/elsampsa",
      "followers_url": "https://api.github.com/users/elsampsa/followers",
      "following_url": "https://api.github.com/users/elsampsa/following{/other_user}",
      "gists_url": "https://api.github.com/users/elsampsa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/elsampsa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/elsampsa/subscriptions",
      "organizations_url": "https://api.github.com/users/elsampsa/orgs",
      "repos_url": "https://api.github.com/users/elsampsa/repos",
      "events_url": "https://api.github.com/users/elsampsa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/elsampsa/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-10-18T09:49:44Z",
    "updated_at": "2021-10-18T09:53:48Z",
    "author_association": "NONE",
    "body": "I updated to:\r\n```\r\nGeth/v1.10.10-stable-bb74230f/linux-amd64/go1.15.6\r\n```\r\nThe problem persists.\r\n\r\nI'm running geth with:\r\n```\r\nnice -n 5 go-ethereum/build/bin/geth --datadir.ancient=/mnt/hdd/ancient --syncmode=full --gcmode=full --cache=2048 --maxpeers=50 --snapshot=false --txlookuplimit=0\r\n```\r\n\r\nThis node has been running succesfully for years.\r\n\r\nHere is the current sync state:\r\n```\r\n> eth.syncing\r\n{\r\n  currentBlock: 13119847,\r\n  highestBlock: 13439774,\r\n  knownStates: 0,\r\n  pulledStates: 0,\r\n  startingBlock: 13116316\r\n}\r\n```\r\n\r\nI guess I run my test once it's fully synced.. but that shouldn't be the issue.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/945596859/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/947414801",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/23757#issuecomment-947414801",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23757",
    "id": 947414801,
    "node_id": "IC_kwDOAOvK9844eGcR",
    "user": {
      "login": "holiman",
      "id": 142290,
      "node_id": "MDQ6VXNlcjE0MjI5MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/142290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/holiman",
      "html_url": "https://github.com/holiman",
      "followers_url": "https://api.github.com/users/holiman/followers",
      "following_url": "https://api.github.com/users/holiman/following{/other_user}",
      "gists_url": "https://api.github.com/users/holiman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/holiman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/holiman/subscriptions",
      "organizations_url": "https://api.github.com/users/holiman/orgs",
      "repos_url": "https://api.github.com/users/holiman/repos",
      "events_url": "https://api.github.com/users/holiman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/holiman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-10-20T07:49:08Z",
    "updated_at": "2021-10-20T07:49:08Z",
    "author_association": "MEMBER",
    "body": "Do you have any logs that says something like this:  \r\n```\r\n\t\tlog.Error(\"Failed to reset txpool state\", \"err\", err)\r\n```\r\nAnd can you provide some ~50 lines or so from the node log, in general? ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/947414801/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/947899562",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/23757#issuecomment-947899562",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23757",
    "id": 947899562,
    "node_id": "IC_kwDOAOvK9844f8yq",
    "user": {
      "login": "elsampsa",
      "id": 13978980,
      "node_id": "MDQ6VXNlcjEzOTc4OTgw",
      "avatar_url": "https://avatars.githubusercontent.com/u/13978980?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/elsampsa",
      "html_url": "https://github.com/elsampsa",
      "followers_url": "https://api.github.com/users/elsampsa/followers",
      "following_url": "https://api.github.com/users/elsampsa/following{/other_user}",
      "gists_url": "https://api.github.com/users/elsampsa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/elsampsa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/elsampsa/subscriptions",
      "organizations_url": "https://api.github.com/users/elsampsa/orgs",
      "repos_url": "https://api.github.com/users/elsampsa/repos",
      "events_url": "https://api.github.com/users/elsampsa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/elsampsa/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-10-20T17:49:38Z",
    "updated_at": "2021-10-20T17:51:41Z",
    "author_association": "NONE",
    "body": "Thanks for helping out.\r\n\r\nHere is the output from the console:\r\n```\r\nError: insufficient funds for gas * price + value\r\n        at web3.js:6357:37(47)\r\n        at send (web3.js:5091:62(35))\r\n        at <eval>:1:20(30)\r\n```\r\n\r\nHere is some output from the node output with debugging log enabled.\r\n\r\nWhen I try to send the tx (note that \"insufficient funds\" there):\r\n```\r\n...\r\nDEBUG[10-20|20:37:14.509] Inserted new block                       number=13,271,736 hash=b11f2e..b371cb uncles=0 txs=206  gas=11,192,180 elapsed=701.703ms   root=9ff4cb..4016a9\r\nDEBUG[10-20|20:37:14.593] Dereferenced trie from memory database   nodes=3812 size=1.42MiB    time=14.191361ms gcnodes=1,282,372 gcsize=505.92MiB gctime=4.903684464s livenodes=1,192,277 livesize=359.50MiB\r\nDEBUG[10-20|20:37:14.593] Inserted new block                       number=13,271,737 hash=35b2da..354f85 uncles=0 txs=19   gas=1,656,645  elapsed=83.281ms    root=5b8f94..a01ba0\r\nDEBUG[10-20|20:37:14.619] Peer discarded announcement              peer=4fe255f3083265fbc87d12ac9168c2be97cede7906d27a908c643995e19b9afd number=13,455,969 hash=15c421..baff8c distance=184,232\r\nDEBUG[10-20|20:37:15.174] Dereferenced trie from memory database   nodes=3312 size=1.29MiB    time=13.284985ms gcnodes=1,285,684 gcsize=507.21MiB gctime=4.916968835s livenodes=1,192,176 livesize=359.41MiB\r\nDEBUG[10-20|20:37:15.175] Inserted new block                       number=13,271,738 hash=e16c57..279f18 uncles=0 txs=256  gas=15,225,769 elapsed=580.482ms   root=ee7306..253ed9\r\nDEBUG[10-20|20:37:15.202] Served personal_listAccounts             reqid=11 t=\"47.737µs\"\r\nDEBUG[10-20|20:37:15.203] Served personal_listAccounts             reqid=12 t=\"50.108µs\"\r\nWARN [10-20|20:37:15.211] Served eth_sendTransaction               reqid=13 t=4.617556ms   err=\"insufficient funds for gas * price + value\"\r\nDEBUG[10-20|20:37:15.257] Dereferenced trie from memory database   nodes=794  size=331.56KiB  time=3.584123ms  gcnodes=1,286,478 gcsize=507.54MiB gctime=4.92055253s  livenodes=1,192,123 livesize=359.37MiB\r\nDEBUG[10-20|20:37:15.257] Inserted new block                       number=13,271,739 hash=debed8..0a5dd6 uncles=0 txs=33   gas=2,130,629  elapsed=80.621ms    root=d495ae..68abea\r\nDEBUG[10-20|20:37:15.844] Recalculated msgrate QoS values          proto=eth rtt=2s            confidence=1.000 ttl=6s            next=2021-10-20T20:37:17+0300\r\nDEBUG[10-20|20:37:15.902] Discarded delivered header or block, too far away peer=e86964a5bb176b1cd58e3e0aeb8a23b45c8473caf73f8e4160b17957b1753f32 number=13,455,970 hash=82f499..0496ad distance=184,231\r\nDEBUG[10-20|20:37:15.960] Discarded delivered header or block, too far away peer=5d27124c641b9adb3043f75441378e0c77528d224a9207d391e27d814ff484f3 number=13,455,970 hash=82f499..0496ad distance=184,231\r\n...\r\n```\r\n\r\nFrom the very *beginning* of the run:\r\n```\r\nINFO [10-20|20:24:22.093] Starting Geth on Ethereum mainnet... \r\nINFO [10-20|20:24:22.096] Maximum peer count                       ETH=50 LES=0 total=50\r\nINFO [10-20|20:24:22.096] Smartcard socket not found, disabling    err=\"stat /run/pcscd/pcscd.comm: no such file or directory\"\r\nDEBUG[10-20|20:24:22.097] FS scan times                            list=\"395.829µs\" set=\"6.691µs\" diff=\"2.88µs\"\r\nDEBUG[10-20|20:24:22.098] Sanitizing Go's GC trigger               percent=50\r\nINFO [10-20|20:24:22.099] Set global gas cap                       cap=50,000,000\r\nINFO [10-20|20:24:22.099] Allocated trie memory caches             clean=511.00MiB dirty=512.00MiB\r\nINFO [10-20|20:24:22.100] Allocated cache and file handles         database=/home/sampsa/.ethereum/geth/chaindata cache=1024.00MiB handles=524,288\r\nDEBUG[10-20|20:24:55.439] Chain freezer table opened               database=/mnt/hdd/ancient                      table=headers items=13,181,057 size=114.53MiB\r\nDEBUG[10-20|20:24:55.442] Chain freezer table opened               database=/mnt/hdd/ancient                      table=hashes  items=13,181,057 size=402.25MiB\r\nDEBUG[10-20|20:24:55.445] Chain freezer table opened               database=/mnt/hdd/ancient                      table=bodies  items=13,181,057 size=924.81MiB\r\nDEBUG[10-20|20:24:55.447] Chain freezer table opened               database=/mnt/hdd/ancient                      table=receipts items=13,181,057 size=126.81MiB\r\nDEBUG[10-20|20:24:55.450] Chain freezer table opened               database=/mnt/hdd/ancient                      table=diffs    items=13,181,057 size=131.28MiB\r\nINFO [10-20|20:24:55.450] Opened ancient database                  database=/mnt/hdd/ancient                      readonly=false\r\nDEBUG[10-20|20:24:55.471] Ancient blocks frozen already            number=13,271,056 hash=d0a877..70ec26 frozen=13,181,057\r\nINFO [10-20|20:24:55.483] Initialised chain configuration          config=\"{ChainID: 1 Homestead: 1150000 DAO: 1920000 DAOSupport: true EIP150: 2463000 EIP155: 2675000 EIP158: 2675000 Byzantium: 4370000 Constantinople: 7280000 Petersburg: 7280000 Istanbul: 9069000, Muir Glacier: 9200000, Berlin: 12244000, London: 12965000, Engine: ethash}\"\r\nINFO [10-20|20:25:02.109] Disk storage enabled for ethash caches   dir=/home/sampsa/.ethereum/geth/ethash count=3\r\nINFO [10-20|20:25:02.109] Disk storage enabled for ethash DAGs     dir=/home/sampsa/.ethash               count=2\r\nINFO [10-20|20:25:02.115] Initialising Ethereum protocol           network=1 dbversion=8\r\nINFO [10-20|20:25:02.554] Loaded most recent local header          number=13,271,056 hash=d0a877..70ec26 td=31,042,350,436,642,835,984,407 age=4w21h48m\r\nINFO [10-20|20:25:02.554] Loaded most recent local full block      number=13,271,056 hash=d0a877..70ec26 td=31,042,350,436,642,835,984,407 age=4w21h48m\r\nINFO [10-20|20:25:02.554] Loaded most recent local fast block      number=13,271,056 hash=d0a877..70ec26 td=31,042,350,436,642,835,984,407 age=4w21h48m\r\nDEBUG[10-20|20:25:02.566] Reinjecting stale transactions           count=0\r\nINFO [10-20|20:25:02.566] Loaded local transaction journal         transactions=0 dropped=0\r\nINFO [10-20|20:25:02.566] Regenerated local transaction journal    transactions=0 accounts=0\r\nINFO [10-20|20:25:02.571] Gasprice oracle is ignoring threshold set threshold=2\r\nWARN [10-20|20:25:02.572] Unclean shutdown detected                booted=2021-03-06T11:38:58+0200 age=7mo2w4d\r\nWARN [10-20|20:25:02.572] Unclean shutdown detected                booted=2021-03-10T22:27:41+0200 age=7mo1w6d\r\nWARN [10-20|20:25:02.572] Unclean shutdown detected                booted=2021-03-18T19:50:26+0200 age=7mo5d23h\r\nWARN [10-20|20:25:02.573] Unclean shutdown detected                booted=2021-03-19T21:34:14+0200 age=7mo4d21h\r\nWARN [10-20|20:25:02.573] Unclean shutdown detected                booted=2021-03-24T19:33:27+0200 age=6mo4w1d\r\nWARN [10-20|20:25:02.573] Unclean shutdown detected                booted=2021-04-02T13:21:11+0300 age=6mo3w7h\r\nWARN [10-20|20:25:02.573] Unclean shutdown detected                booted=2021-04-03T11:16:43+0300 age=6mo2w6d\r\nWARN [10-20|20:25:02.573] Unclean shutdown detected                booted=2021-04-17T16:42:36+0300 age=6mo6d3h\r\nWARN [10-20|20:25:02.573] Unclean shutdown detected                booted=2021-04-20T22:45:36+0300 age=6mo2d21h\r\nWARN [10-20|20:25:02.573] Unclean shutdown detected                booted=2021-05-01T21:24:28+0300 age=5mo3w23h\r\nINFO [10-20|20:25:02.573] Starting peer-to-peer node               instance=Geth/v1.10.10-stable-bb74230f/linux-amd64/go1.15.6\r\nDEBUG[10-20|20:25:03.645] UDP listener up                          addr=[::]:30303\r\nDEBUG[10-20|20:25:03.645] TCP listener up                          addr=[::]:30303\r\nINFO [10-20|20:25:03.689] New local node record                    seq=273 id=42e508921cacda09 ip=127.0.0.1 udp=30303 tcp=30303\r\nINFO [10-20|20:25:03.689] Started P2P networking                   self=enode://46eaa513d960e6edaa88575ad966c46ad75fea4e39c1eddd6cfe522a6341f05c9358d0421ceb5a55b4670ecbc3b2fb986a9f301c889339f5d1d70b04b28875d7@127.0.0.1:30303\r\nDEBUG[10-20|20:25:03.692] IPCs registered                          namespaces=admin,debug,web3,eth,txpool,personal,ethash,miner,net\r\nINFO [10-20|20:25:03.693] IPC endpoint opened                      url=/home/sampsa/.ethereum/geth.ipc\r\nDEBUG[10-20|20:25:04.103] Adding p2p peer                          peercount=1 id=b7a3e8b5272d4215 conn=inbound addr=51.75.188.126:35456 name=Geth/v1.10.1-stable-...\r\nDEBUG[10-20|20:25:04.104] Ethereum handshake failed                id=b7a3e8b5272d4215 conn=inbound err=\"network ID mismatch: 72229 (!= 1)\"\r\nDEBUG[10-20|20:25:04.105] Removing p2p peer                        peercount=0 id=b7a3e8b5272d4215 duration=2.296ms req=false err=\"network ID mismatch: 72229 (!= 1)\"\r\nDEBUG[10-20|20:25:04.221] Adding p2p peer                          peercount=1 id=5b03f8d14c86354d conn=inbound addr=221.14.138.112:60773 name=Geth/v1.10.9-stable/...\r\nDEBUG[10-20|20:25:04.221] Ethereum handshake failed                id=5b03f8d14c86354d conn=inbound err=\"network ID mismatch: 433 (!= 1)\"\r\nDEBUG[10-20|20:25:04.221] Removing p2p peer                        peercount=0 id=5b03f8d14c86354d duration=\"371.013µs\" req=false err=\"network ID mismatch: 433 (!= 1)\"\r\nDEBUG[10-20|20:25:04.369] Adding p2p peer                          peercount=1 id=9c847a3d60a7c8a4 conn=inbound addr=13.114.142.167:46110 name=Geth/v1.10.9-stable-...\r\nDEBUG[10-20|20:25:04.611] Adding p2p peer                          peercount=2 id=396ba4790b8dbd1f conn=inbound addr=123.168.117.89:6384  name=Geth/v1.10.9-stable/...\r\nDEBUG[10-20|20:25:04.611] Ethereum handshake failed                id=396ba4790b8dbd1f conn=inbound err=\"network ID mismatch: 433 (!= 1)\"\r\nDEBUG[10-20|20:25:04.611] Removing p2p peer                        peercount=1 id=396ba4790b8dbd1f duration=\"497.175µs\" req=false err=\"network ID mismatch: 433 (!= 1)\"\r\nDEBUG[10-20|20:25:04.619] Ethereum peer connected                  id=9c847a3d60a7c8a4 conn=inbound name=Geth/v1.10.9-stable-...\r\nDEBUG[10-20|20:25:04.619] Fetching batch of headers  \r\n...\r\n```\r\n\r\nFrom the *end* of the run:\r\n```\r\n...\r\nDEBUG[10-20|20:39:20.641] Adding p2p peer                          peercount=1  id=d671bdb8ba1adfae conn=dyndial addr=54.179.147.127:30303  name=Geth/v1.10.8-stable-...\r\nDEBUG[10-20|20:39:20.642] Removing p2p peer                        peercount=0  id=d671bdb8ba1adfae duration=\"548.217µs\" req=false err=\"client quitting\"\r\nDEBUG[10-20|20:39:21.100] Rejected inbound connection              addr=123.1.228.188:58022   err=\"too many attempts\"\r\nINFO [10-20|20:39:21.245] Persisted the clean trie cache           path=/home/sampsa/.ethereum/geth/triecache elapsed=55.340s\r\nINFO [10-20|20:39:21.245] Blockchain stopped \r\nDEBUG[10-20|20:39:21.357] Adding p2p peer                          peercount=1  id=659be63b76f7c667 conn=inbound addr=117.160.239.242:29140 name=Geth/v1.10.9-stable/...\r\nDEBUG[10-20|20:39:21.357] Removing p2p peer                        peercount=0  id=659be63b76f7c667 duration=\"316.207µs\" req=false err=\"client quitting\"\r\nDEBUG[10-20|20:39:22.345] Adding p2p peer                          peercount=1  id=0251e070e3e0b96d conn=inbound addr=52.193.254.254:51365  name=bor/v1.10.8-stable-0...\r\nDEBUG[10-20|20:39:22.346] Removing p2p peer                        peercount=0  id=0251e070e3e0b96d duration=\"235.495µs\" req=false err=\"client quitting\"\r\nDEBUG[10-20|20:39:23.452] Adding p2p peer                          peercount=1  id=7346fa0056abeb42 conn=inbound addr=34.228.188.82:43964   name=bor/v0.2.9-stable-ec...\r\nDEBUG[10-20|20:39:23.453] Removing p2p peer                        peercount=0  id=7346fa0056abeb42 duration=\"412.614µs\" req=false err=\"client quitting\"\r\nDEBUG[10-20|20:39:24.111] Adding p2p peer                          peercount=1  id=59e6e46812cfdb9f conn=inbound addr=3.88.199.140:55650    name=Geth/v1.10.9-stable/...\r\nDEBUG[10-20|20:39:24.111] Removing p2p peer                        peercount=0  id=59e6e46812cfdb9f duration=\"654.968µs\" req=false err=\"client quitting\"\r\nDEBUG[10-20|20:39:24.740] Read error                               err=\"accept tcp [::]:30303: use of closed network connection\"\r\nDEBUG[10-20|20:39:24.741] Deleting port mapping                    proto=tcp extport=30303 intport=30303 interface=\"UPNP IGDv1-IP1\"\r\nDEBUG[10-20|20:39:24.741] Deleting port mapping                    proto=udp extport=30303 intport=30303 interface=\"UPNP IGDv1-IP1\"\r\nDEBUG[10-20|20:39:24.742] UDP read error                           err=\"read udp [::]:30303: use of closed network connection\"\r\n```\r\ngrepping the output with `grep -i \"txpool\"` gives:\r\n``` \r\nDEBUG[10-20|20:25:03.692] IPCs registered                          namespaces=admin,debug,web3,eth,txpool,personal,ethash,miner,net\r\n```\r\n\r\nMy client node still needs a few days worth of sync before reaching the top of the chain..  but as I believe, one should be able to send transactions to txpool without the node being fully synced.\r\n\r\nBut maybe it *has* to be synced in order to send transaction & we're chasing ghosts here..?\r\n \r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/947899562/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/947908302",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/23757#issuecomment-947908302",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23757",
    "id": 947908302,
    "node_id": "IC_kwDOAOvK9844f-7O",
    "user": {
      "login": "elsampsa",
      "id": 13978980,
      "node_id": "MDQ6VXNlcjEzOTc4OTgw",
      "avatar_url": "https://avatars.githubusercontent.com/u/13978980?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/elsampsa",
      "html_url": "https://github.com/elsampsa",
      "followers_url": "https://api.github.com/users/elsampsa/followers",
      "following_url": "https://api.github.com/users/elsampsa/following{/other_user}",
      "gists_url": "https://api.github.com/users/elsampsa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/elsampsa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/elsampsa/subscriptions",
      "organizations_url": "https://api.github.com/users/elsampsa/orgs",
      "repos_url": "https://api.github.com/users/elsampsa/repos",
      "events_url": "https://api.github.com/users/elsampsa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/elsampsa/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-10-20T18:01:37Z",
    "updated_at": "2021-10-20T18:01:37Z",
    "author_association": "NONE",
    "body": "Some thoughts:\r\n\r\nThere's a [stack overflow post](https://ethereum.stackexchange.com/questions/9043/insufficient-funds-for-gas-price-value/9044) where people had this problem some time ago, but things started to work once they used hex numbers (!)\r\n\r\nI was running with 1.10.6 originally, so I stepped into `CVE-2021-39137` (?) cause at some moment my geth node was reporting a bad block.  However, after updating to 1.10.10 the sync picked up & continued without problems.  Not sure if this has anything to do with the issue at hand..\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/947908302/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/950328554",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/23757#issuecomment-950328554",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23757",
    "id": 950328554,
    "node_id": "IC_kwDOAOvK9844pNzq",
    "user": {
      "login": "elsampsa",
      "id": 13978980,
      "node_id": "MDQ6VXNlcjEzOTc4OTgw",
      "avatar_url": "https://avatars.githubusercontent.com/u/13978980?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/elsampsa",
      "html_url": "https://github.com/elsampsa",
      "followers_url": "https://api.github.com/users/elsampsa/followers",
      "following_url": "https://api.github.com/users/elsampsa/following{/other_user}",
      "gists_url": "https://api.github.com/users/elsampsa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/elsampsa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/elsampsa/subscriptions",
      "organizations_url": "https://api.github.com/users/elsampsa/orgs",
      "repos_url": "https://api.github.com/users/elsampsa/repos",
      "events_url": "https://api.github.com/users/elsampsa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/elsampsa/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-10-24T13:48:25Z",
    "updated_at": "2021-10-24T13:48:25Z",
    "author_association": "NONE",
    "body": "After syncing the blockchain, the transaction works.  So this was a futile exercise.  ;D\r\n\r\nFeel free to close the ticket, but if you want, before that, please explain me *why* the blockchain needs to be synced before a transaction can be sent.  :)\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/950328554/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/951101753",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/23757#issuecomment-951101753",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23757",
    "id": 951101753,
    "node_id": "IC_kwDOAOvK9844sKk5",
    "user": {
      "login": "holiman",
      "id": 142290,
      "node_id": "MDQ6VXNlcjE0MjI5MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/142290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/holiman",
      "html_url": "https://github.com/holiman",
      "followers_url": "https://api.github.com/users/holiman/followers",
      "following_url": "https://api.github.com/users/holiman/following{/other_user}",
      "gists_url": "https://api.github.com/users/holiman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/holiman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/holiman/subscriptions",
      "organizations_url": "https://api.github.com/users/holiman/orgs",
      "repos_url": "https://api.github.com/users/holiman/repos",
      "events_url": "https://api.github.com/users/holiman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/holiman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-10-25T16:33:37Z",
    "updated_at": "2021-10-25T16:33:37Z",
    "author_association": "MEMBER",
    "body": "> please explain me why the blockchain needs to be synced before a transaction can be sent. :)\r\n\r\nI have no explanation for that, guess I'll leave it open :) ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/951101753/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/953641104",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/23757#issuecomment-953641104",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23757",
    "id": 953641104,
    "node_id": "IC_kwDOAOvK984412iQ",
    "user": {
      "login": "holiman",
      "id": 142290,
      "node_id": "MDQ6VXNlcjE0MjI5MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/142290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/holiman",
      "html_url": "https://github.com/holiman",
      "followers_url": "https://api.github.com/users/holiman/followers",
      "following_url": "https://api.github.com/users/holiman/following{/other_user}",
      "gists_url": "https://api.github.com/users/holiman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/holiman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/holiman/subscriptions",
      "organizations_url": "https://api.github.com/users/holiman/orgs",
      "repos_url": "https://api.github.com/users/holiman/repos",
      "events_url": "https://api.github.com/users/holiman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/holiman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-10-28T08:48:41Z",
    "updated_at": "2021-10-28T08:48:41Z",
    "author_association": "MEMBER",
    "body": "We'll close this, not much to do with it. No simple repro-steps and seeing as it worked out in the end, maybe not worth spending a lot of resources on investigating. ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/953641104/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
