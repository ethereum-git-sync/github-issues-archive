{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/1870",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/1870/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/1870/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/1870/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/1870",
  "id": 109512433,
  "node_id": "MDU6SXNzdWUxMDk1MTI0MzM=",
  "number": 1870,
  "title": "Upgrading to geth 1.2.2 on OS X 10.11 (El Capitan) using Homebrew leads to crash",
  "user": {
    "login": "metamirror",
    "id": 14942589,
    "node_id": "MDQ6VXNlcjE0OTQyNTg5",
    "avatar_url": "https://avatars.githubusercontent.com/u/14942589?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/metamirror",
    "html_url": "https://github.com/metamirror",
    "followers_url": "https://api.github.com/users/metamirror/followers",
    "following_url": "https://api.github.com/users/metamirror/following{/other_user}",
    "gists_url": "https://api.github.com/users/metamirror/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/metamirror/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/metamirror/subscriptions",
    "organizations_url": "https://api.github.com/users/metamirror/orgs",
    "repos_url": "https://api.github.com/users/metamirror/repos",
    "events_url": "https://api.github.com/users/metamirror/events{/privacy}",
    "received_events_url": "https://api.github.com/users/metamirror/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 14,
  "created_at": "2015-10-02T15:17:49Z",
  "updated_at": "2015-11-05T10:28:14Z",
  "closed_at": "2015-11-05T10:28:13Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "I was running geth 1.1.2 without issue. I upgraded my OS X to El Capitan. I then ran \"sudo brew update\" and \"sudo brew reinstall ethereum\". After the reinstall, I ran geth, but just got a long error message:\n\n```\n$ geth\nI1002 11:14:06.785387   11798 database.go:71] Alloted 16MB cache to /Users/metamirror/Library/Ethereum/chaindata\nI1002 11:14:06.797790   11798 backend.go:712] Old database detected, upgrading...\nI1002 11:14:08.464836   11798 chain_util.go:344] invalid block RLP for hash 00001cea700d104dfe4c65ff10e415a316d0288c5e05481db6b47e2195d7b936: rlp: value size exceeds available input length\npanic: runtime error: invalid memory address or nil pointer dereference\n[signal 0xb code=0x1 addr=0x0 pc=0x4162f6f]\n\ngoroutine 1 [running]:\ngithub.com/ethereum/go-ethereum/core/types.(*Block).Hash(0x0, 0x0, 0x0, 0x0, 0x0)\n    /private/tmp/ethereum20151002-10857-crcnih/src/github.com/ethereum/go-ethereum/core/types/block.go:387 +0x17f\ngithub.com/ethereum/go-ethereum/eth.upgradeChainDatabase(0x5eba8a8, 0xc820288180, 0x0, 0x0)\n    /private/tmp/ethereum20151002-10857-crcnih/src/github.com/ethereum/go-ethereum/eth/backend.go:728 +0x827\ngithub.com/ethereum/go-ethereum/eth.New(0xc820067080, 0xc8200a9440, 0x0, 0x0)\n    /private/tmp/ethereum20151002-10857-crcnih/src/github.com/ethereum/go-ethereum/eth/backend.go:278 +0x3da\nmain.run(0xc820280000)\n    /private/tmp/ethereum20151002-10857-crcnih/src/github.com/ethereum/go-ethereum/cmd/geth/main.go:401 +0x175\ngithub.com/codegangsta/cli.(*App).Run(0xc820276000, 0xc820076180, 0x1, 0x1, 0x0, 0x0)\n    /private/tmp/ethereum20151002-10857-crcnih/src/github.com/ethereum/go-ethereum/Godeps/_workspace/src/github.com/codegangsta/cli/app.go:182 +0xc6a\nmain.main()\n    /private/tmp/ethereum20151002-10857-crcnih/src/github.com/ethereum/go-ethereum/cmd/geth/main.go:357 +0x93\n\ngoroutine 17 [syscall, locked to thread]:\nruntime.goexit()\n    /usr/local/Cellar/go/1.5.1/libexec/src/runtime/asm_amd64.s:1696 +0x1\n\ngoroutine 20 [syscall]:\nos/signal.loop()\n    /usr/local/Cellar/go/1.5.1/libexec/src/os/signal/signal_unix.go:22 +0x18\ncreated by os/signal.init.1\n    /usr/local/Cellar/go/1.5.1/libexec/src/os/signal/signal_unix.go:28 +0x37\n\ngoroutine 21 [chan receive]:\ngithub.com/ethereum/go-ethereum/logger/glog.(*loggingT).flushDaemon(0x50a2160)\n    /private/tmp/ethereum20151002-10857-crcnih/src/github.com/ethereum/go-ethereum/logger/glog/glog.go:897 +0x67\ncreated by github.com/ethereum/go-ethereum/logger/glog.init.1\n    /private/tmp/ethereum20151002-10857-crcnih/src/github.com/ethereum/go-ethereum/logger/glog/glog.go:428 +0x6f\n\ngoroutine 34 [select]:\ngithub.com/ethereum/go-ethereum/logger.dispatchLoop()\n    /private/tmp/ethereum20151002-10857-crcnih/src/github.com/ethereum/go-ethereum/logger/sys.go:81 +0x624\ncreated by github.com/ethereum/go-ethereum/logger.init.1\n    /private/tmp/ethereum20151002-10857-crcnih/src/github.com/ethereum/go-ethereum/logger/sys.go:60 +0x2b\n\ngoroutine 3 [chan receive]:\ngithub.com/ethereum/go-ethereum/p2p/nat.discoverUPnP(0x0, 0x0)\n    /private/tmp/ethereum20151002-10857-crcnih/src/github.com/ethereum/go-ethereum/p2p/nat/natupnp.go:129 +0x112\ngithub.com/ethereum/go-ethereum/p2p/nat.Any.func1.1(0xc82001a060)\n    /private/tmp/ethereum20151002-10857-crcnih/src/github.com/ethereum/go-ethereum/p2p/nat/nat.go:155 +0x18\ncreated by github.com/ethereum/go-ethereum/p2p/nat.Any.func1\n    /private/tmp/ethereum20151002-10857-crcnih/src/github.com/ethereum/go-ethereum/p2p/nat/nat.go:155 +0x63\n\ngoroutine 36 [IO wait]:\nnet.runtime_pollWait(0x6905f48, 0x72, 0xc8200760a0)\n    /usr/local/Cellar/go/1.5.1/libexec/src/runtime/netpoll.go:157 +0x60\nnet.(*pollDesc).Wait(0xc8202cc060, 0x72, 0x0, 0x0)\n    /usr/local/Cellar/go/1.5.1/libexec/src/net/fd_poll_runtime.go:73 +0x3a\nnet.(*pollDesc).WaitRead(0xc8202cc060, 0x0, 0x0)\n    /usr/local/Cellar/go/1.5.1/libexec/src/net/fd_poll_runtime.go:78 +0x36\nnet.(*netFD).readFrom(0xc8202cc000, 0xc8200e6000, 0x800, 0x800, 0x0, 0x0, 0x0, 0x5eb0028, 0xc8200760a0)\n    /usr/local/Cellar/go/1.5.1/libexec/src/net/fd_unix.go:259 +0x2a5\nnet.(*UDPConn).ReadFromUDP(0xc8202d0000, 0xc8200e6000, 0x800, 0x800, 0x3, 0x1000, 0x0, 0x0)\n    /usr/local/Cellar/go/1.5.1/libexec/src/net/udpsock_posix.go:61 +0x117\nnet.(*UDPConn).ReadFrom(0xc8202d0000, 0xc8200e6000, 0x800, 0x800, 0x0, 0x0, 0x0, 0x0, 0x0)\n    /usr/local/Cellar/go/1.5.1/libexec/src/net/udpsock_posix.go:79 +0x116\ngithub.com/huin/goupnp/httpu.(*HTTPUClient).Do(0xc8202d2000, 0xc8202d6000, 0x7d2b7500, 0x3, 0x0, 0x0, 0x0, 0x0, 0x0)\n    /private/tmp/ethereum20151002-10857-crcnih/src/github.com/ethereum/go-ethereum/Godeps/_workspace/src/github.com/huin/goupnp/httpu/httpu.go:92 +0xbc3\ngithub.com/huin/goupnp/ssdp.SSDPRawSearch(0xc8202d2000, 0x4b67400, 0x31, 0x2, 0x3, 0x0, 0x0, 0x0, 0x0, 0x0)\n    /private/tmp/ethereum20151002-10857-crcnih/src/github.com/ethereum/go-ethereum/Godeps/_workspace/src/github.com/huin/goupnp/ssdp/ssdp.go:53 +0x66c\ngithub.com/huin/goupnp.DiscoverDevices(0x4b67400, 0x31, 0x0, 0x0, 0x0, 0x0, 0x0)\n    /private/tmp/ethereum20151002-10857-crcnih/src/github.com/ethereum/go-ethereum/Godeps/_workspace/src/github.com/huin/goupnp/goupnp.go:57 +0x136\ngithub.com/ethereum/go-ethereum/p2p/nat.discover(0xc8200d7a40, 0x4b67400, 0x31, 0x4c5fed8)\n    /private/tmp/ethereum20151002-10857-crcnih/src/github.com/ethereum/go-ethereum/p2p/nat/natupnp.go:137 +0x3d\ncreated by github.com/ethereum/go-ethereum/p2p/nat.discoverUPnP\n    /private/tmp/ethereum20151002-10857-crcnih/src/github.com/ethereum/go-ethereum/p2p/nat/natupnp.go:115 +0x84\n\ngoroutine 24 [chan receive]:\ngithub.com/ethereum/go-ethereum/p2p/nat.Any.func1(0x0, 0x0)\n    /private/tmp/ethereum20151002-10857-crcnih/src/github.com/ethereum/go-ethereum/p2p/nat/nat.go:158 +0xcf\ngithub.com/ethereum/go-ethereum/p2p/nat.(*autodisc).wait.func1()\n    /private/tmp/ethereum20151002-10857-crcnih/src/github.com/ethereum/go-ethereum/p2p/nat/nat.go:242 +0x47\nsync.(*Once).Do(0xc820073f50, 0xc82002af78)\n    /usr/local/Cellar/go/1.5.1/libexec/src/sync/once.go:44 +0xe4\ngithub.com/ethereum/go-ethereum/p2p/nat.(*autodisc).wait(0xc820073f40, 0x0, 0x0)\n    /private/tmp/ethereum20151002-10857-crcnih/src/github.com/ethereum/go-ethereum/p2p/nat/nat.go:244 +0x65\ncreated by github.com/ethereum/go-ethereum/p2p/nat.startautodisc\n    /private/tmp/ethereum20151002-10857-crcnih/src/github.com/ethereum/go-ethereum/p2p/nat/nat.go:203 +0xb1\n\ngoroutine 37 [IO wait]:\nnet.runtime_pollWait(0x69060c8, 0x72, 0xc8200760a0)\n    /usr/local/Cellar/go/1.5.1/libexec/src/runtime/netpoll.go:157 +0x60\nnet.(*pollDesc).Wait(0xc82020f9c0, 0x72, 0x0, 0x0)\n    /usr/local/Cellar/go/1.5.1/libexec/src/net/fd_poll_runtime.go:73 +0x3a\nnet.(*pollDesc).WaitRead(0xc82020f9c0, 0x0, 0x0)\n    /usr/local/Cellar/go/1.5.1/libexec/src/net/fd_poll_runtime.go:78 +0x36\nnet.(*netFD).readFrom(0xc82020f960, 0xc82027e800, 0x800, 0x800, 0x0, 0x0, 0x0, 0x5eb0028, 0xc8200760a0)\n    /usr/local/Cellar/go/1.5.1/libexec/src/net/fd_unix.go:259 +0x2a5\nnet.(*UDPConn).ReadFromUDP(0xc8200b81c0, 0xc82027e800, 0x800, 0x800, 0x47b03a0, 0x800, 0x0, 0x0)\n    /usr/local/Cellar/go/1.5.1/libexec/src/net/udpsock_posix.go:61 +0x117\nnet.(*UDPConn).ReadFrom(0xc8200b81c0, 0xc82027e800, 0x800, 0x800, 0x800, 0x0, 0x0, 0x0, 0x0)\n    /usr/local/Cellar/go/1.5.1/libexec/src/net/udpsock_posix.go:79 +0x116\ngithub.com/huin/goupnp/httpu.(*HTTPUClient).Do(0xc8201c5940, 0xc8200e15e0, 0x7d2b7500, 0x3, 0x0, 0x0, 0x0, 0x0, 0x0)\n    /private/tmp/ethereum20151002-10857-crcnih/src/github.com/ethereum/go-ethereum/Godeps/_workspace/src/github.com/huin/goupnp/httpu/httpu.go:92 +0xbc3\ngithub.com/huin/goupnp/ssdp.SSDPRawSearch(0xc8201c5940, 0x4b67440, 0x31, 0x2, 0x3, 0x0, 0x0, 0x0, 0x0, 0x0)\n    /private/tmp/ethereum20151002-10857-crcnih/src/github.com/ethereum/go-ethereum/Godeps/_workspace/src/github.com/huin/goupnp/ssdp/ssdp.go:53 +0x66c\ngithub.com/huin/goupnp.DiscoverDevices(0x4b67440, 0x31, 0x0, 0x0, 0x0, 0x0, 0x0)\n    /private/tmp/ethereum20151002-10857-crcnih/src/github.com/ethereum/go-ethereum/Godeps/_workspace/src/github.com/huin/goupnp/goupnp.go:57 +0x136\ngithub.com/ethereum/go-ethereum/p2p/nat.discover(0xc8200d7a40, 0x4b67440, 0x31, 0x4c5fee0)\n    /private/tmp/ethereum20151002-10857-crcnih/src/github.com/ethereum/go-ethereum/p2p/nat/natupnp.go:137 +0x3d\ncreated by github.com/ethereum/go-ethereum/p2p/nat.discoverUPnP\n    /private/tmp/ethereum20151002-10857-crcnih/src/github.com/ethereum/go-ethereum/p2p/nat/natupnp.go:127 +0xc7\n\ngoroutine 38 [runnable]:\ngithub.com/ethereum/go-ethereum/logger.sysLoop(0x5eb46c0, 0xc820286030, 0xc8200755c0, 0xc820076690)\n    /private/tmp/ethereum20151002-10857-crcnih/src/github.com/ethereum/go-ethereum/logger/sys.go:116\ncreated by github.com/ethereum/go-ethereum/logger.dispatchLoop.func1\n    /private/tmp/ethereum20151002-10857-crcnih/src/github.com/ethereum/go-ethereum/logger/sys.go:77 +0xdb\n\ngoroutine 25 [select]:\ngithub.com/syndtr/goleveldb/leveldb/util.(*BufferPool).drain(0xc8202800e0)\n    /private/tmp/ethereum20151002-10857-crcnih/src/github.com/ethereum/go-ethereum/Godeps/_workspace/src/github.com/syndtr/goleveldb/leveldb/util/buffer_pool.go:205 +0x271\ncreated by github.com/syndtr/goleveldb/leveldb/util.NewBufferPool\n    /private/tmp/ethereum20151002-10857-crcnih/src/github.com/ethereum/go-ethereum/Godeps/_workspace/src/github.com/syndtr/goleveldb/leveldb/util/buffer_pool.go:236 +0x26b\n\ngoroutine 67 [select]:\ngithub.com/syndtr/goleveldb/leveldb.(*DB).compactionError(0xc820078b00)\n    /private/tmp/ethereum20151002-10857-crcnih/src/github.com/ethereum/go-ethereum/Godeps/_workspace/src/github.com/syndtr/goleveldb/leveldb/db_compaction.go:120 +0x47c\ncreated by github.com/syndtr/goleveldb/leveldb.openDB\n    /private/tmp/ethereum20151002-10857-crcnih/src/github.com/ethereum/go-ethereum/Godeps/_workspace/src/github.com/syndtr/goleveldb/leveldb/db.go:126 +0x7fc\n\ngoroutine 68 [select]:\ngithub.com/syndtr/goleveldb/leveldb.(*DB).mpoolDrain(0xc820078b00)\n    /private/tmp/ethereum20151002-10857-crcnih/src/github.com/ethereum/go-ethereum/Godeps/_workspace/src/github.com/syndtr/goleveldb/leveldb/db_state.go:82 +0x14b\ncreated by github.com/syndtr/goleveldb/leveldb.openDB\n    /private/tmp/ethereum20151002-10857-crcnih/src/github.com/ethereum/go-ethereum/Godeps/_workspace/src/github.com/syndtr/goleveldb/leveldb/db.go:127 +0x81e\n\ngoroutine 69 [runnable]:\nsyscall.Syscall6(0x99, 0x2a, 0xc82018c000, 0x1093, 0x10108c, 0x0, 0x0, 0x1093, 0x0, 0x0)\n    /usr/local/Cellar/go/1.5.1/libexec/src/syscall/asm_darwin_amd64.s:41 +0x5\nsyscall.Pread(0x2a, 0xc82018c000, 0x1093, 0x1c9e, 0x10108c, 0x0, 0x0, 0x0)\n    /usr/local/Cellar/go/1.5.1/libexec/src/syscall/zsyscall_darwin_amd64.go:938 +0x89\nos.(*File).pread(0xc820494200, 0xc82018c000, 0x1093, 0x1c9e, 0x10108c, 0xc82018c000, 0x0, 0x0)\n    /usr/local/Cellar/go/1.5.1/libexec/src/os/file_unix.go:221 +0x82\nos.(*File).ReadAt(0xc820494200, 0xc82018c000, 0x1093, 0x1c9e, 0x10108c, 0x0, 0x0, 0x0)\n    /usr/local/Cellar/go/1.5.1/libexec/src/os/file.go:117 +0xcc\ngithub.com/syndtr/goleveldb/leveldb/table.(*Reader).readRawBlock(0xc8202131e0, 0x10108c, 0x108e, 0x101001, 0x0, 0x0, 0x0, 0x0, 0x0)\n    /private/tmp/ethereum20151002-10857-crcnih/src/github.com/ethereum/go-ethereum/Godeps/_workspace/src/github.com/syndtr/goleveldb/leveldb/table/reader.go:561 +0xeb\ngithub.com/syndtr/goleveldb/leveldb/table.(*Reader).readBlock(0xc8202131e0, 0x10108c, 0x108e, 0x1, 0x187, 0x0, 0x0)\n    /private/tmp/ethereum20151002-10857-crcnih/src/github.com/ethereum/go-ethereum/Godeps/_workspace/src/github.com/syndtr/goleveldb/leveldb/table/reader.go:599 +0x68\ngithub.com/syndtr/goleveldb/leveldb/table.(*Reader).readBlockCached(0xc8202131e0, 0x10108c, 0x108e, 0x1, 0x2418, 0x0, 0x0, 0x0, 0x0)\n    /private/tmp/ethereum20151002-10857-crcnih/src/github.com/ethereum/go-ethereum/Godeps/_workspace/src/github.com/syndtr/goleveldb/leveldb/table/reader.go:644 +0x382\ngithub.com/syndtr/goleveldb/leveldb/table.(*Reader).getDataIter(0xc8202131e0, 0x10108c, 0x108e, 0x0, 0xc820740001, 0x0, 0x0)\n    /private/tmp/ethereum20151002-10857-crcnih/src/github.com/ethereum/go-ethereum/Godeps/_workspace/src/github.com/syndtr/goleveldb/leveldb/table/reader.go:761 +0x74\ngithub.com/syndtr/goleveldb/leveldb/table.(*Reader).getDataIterErr(0xc8202131e0, 0x10108c, 0x108e, 0x0, 0x1, 0x0, 0x0)\n    /private/tmp/ethereum20151002-10857-crcnih/src/github.com/ethereum/go-ethereum/Godeps/_workspace/src/github.com/syndtr/goleveldb/leveldb/table/reader.go:776 +0x1ce\ngithub.com/syndtr/goleveldb/leveldb/table.(*indexIter).Get(0xc8203f3040, 0x0, 0x0)\n    /private/tmp/ethereum20151002-10857-crcnih/src/github.com/ethereum/go-ethereum/Godeps/_workspace/src/github.com/syndtr/goleveldb/leveldb/table/reader.go:504 +0x2c1\ngithub.com/syndtr/goleveldb/leveldb/iterator.(*indexedIterator).setData(0xc8202b5980)\n    /private/tmp/ethereum20151002-10857-crcnih/src/github.com/ethereum/go-ethereum/Godeps/_workspace/src/github.com/syndtr/goleveldb/leveldb/iterator/indexed_iter.go:39 +0x69\ngithub.com/syndtr/goleveldb/leveldb/iterator.(*indexedIterator).Next(0xc8202b5980, 0xc821b33717)\n    /private/tmp/ethereum20151002-10857-crcnih/src/github.com/ethereum/go-ethereum/Godeps/_workspace/src/github.com/syndtr/goleveldb/leveldb/iterator/indexed_iter.go:160 +0x131\ngithub.com/syndtr/goleveldb/leveldb/iterator.(*indexedIterator).Next(0xc8202b5740, 0x1)\n    /private/tmp/ethereum20151002-10857-crcnih/src/github.com/ethereum/go-ethereum/Godeps/_workspace/src/github.com/syndtr/goleveldb/leveldb/iterator/indexed_iter.go:149 +0xa1\ngithub.com/syndtr/goleveldb/leveldb/iterator.(*mergedIterator).Next(0xc8200b3680, 0xc821dba000)\n    /private/tmp/ethereum20151002-10857-crcnih/src/github.com/ethereum/go-ethereum/Godeps/_workspace/src/github.com/syndtr/goleveldb/leveldb/iterator/merged_iter.go:169 +0x311\ngithub.com/syndtr/goleveldb/leveldb.(*tableCompactionBuilder).run(0xc8201ac960, 0xc820211480, 0x0, 0x0)\n    /private/tmp/ethereum20151002-10857-crcnih/src/github.com/ethereum/go-ethereum/Godeps/_workspace/src/github.com/syndtr/goleveldb/leveldb/db_compaction.go:455 +0x46b\ngithub.com/syndtr/goleveldb/leveldb.(*DB).compactionTransact(0xc820078b00, 0x4a66fb0, 0xb, 0x5ec4200, 0xc8201ac960)\n    /private/tmp/ethereum20151002-10857-crcnih/src/github.com/ethereum/go-ethereum/Godeps/_workspace/src/github.com/syndtr/goleveldb/leveldb/db_compaction.go:215 +0x27a\ngithub.com/syndtr/goleveldb/leveldb.(*DB).tableCompaction(0xc820078b00, 0xc820203000, 0x0)\n    /private/tmp/ethereum20151002-10857-crcnih/src/github.com/ethereum/go-ethereum/Godeps/_workspace/src/github.com/syndtr/goleveldb/leveldb/db_compaction.go:596 +0xf8d\ngithub.com/syndtr/goleveldb/leveldb.(*DB).tableAutoCompaction(0xc820078b00)\n    /private/tmp/ethereum20151002-10857-crcnih/src/github.com/ethereum/go-ethereum/Godeps/_workspace/src/github.com/syndtr/goleveldb/leveldb/db_compaction.go:641 +0x49\ngithub.com/syndtr/goleveldb/leveldb.(*DB).tCompaction(0xc820078b00)\n    /private/tmp/ethereum20151002-10857-crcnih/src/github.com/ethereum/go-ethereum/Godeps/_workspace/src/github.com/syndtr/goleveldb/leveldb/db_compaction.go:833 +0x2b9\ncreated by github.com/syndtr/goleveldb/leveldb.openDB\n    /private/tmp/ethereum20151002-10857-crcnih/src/github.com/ethereum/go-ethereum/Godeps/_workspace/src/github.com/syndtr/goleveldb/leveldb/db.go:130 +0x86a\n\ngoroutine 70 [select]:\ngithub.com/syndtr/goleveldb/leveldb.(*DB).mCompaction(0xc820078b00)\n    /private/tmp/ethereum20151002-10857-crcnih/src/github.com/ethereum/go-ethereum/Godeps/_workspace/src/github.com/syndtr/goleveldb/leveldb/db_compaction.go:759 +0x253\ncreated by github.com/syndtr/goleveldb/leveldb.openDB\n    /private/tmp/ethereum20151002-10857-crcnih/src/github.com/ethereum/go-ethereum/Godeps/_workspace/src/github.com/syndtr/goleveldb/leveldb/db.go:131 +0x88c\n\ngoroutine 71 [select]:\ngithub.com/syndtr/goleveldb/leveldb.(*DB).jWriter(0xc820078b00)\n    /private/tmp/ethereum20151002-10857-crcnih/src/github.com/ethereum/go-ethereum/Godeps/_workspace/src/github.com/syndtr/goleveldb/leveldb/db_write.go:37 +0x1a2\ncreated by github.com/syndtr/goleveldb/leveldb.openDB\n    /private/tmp/ethereum20151002-10857-crcnih/src/github.com/ethereum/go-ethereum/Godeps/_workspace/src/github.com/syndtr/goleveldb/leveldb/db.go:132 +0x8ae\n\ngoroutine 72 [select]:\ngithub.com/ethereum/go-ethereum/ethdb.(*LDBDatabase).meter(0xc820288180, 0xb2d05e00)\n    /private/tmp/ethereum20151002-10857-crcnih/src/github.com/ethereum/go-ethereum/ethdb/database.go:255 +0xa96\ncreated by github.com/ethereum/go-ethereum/ethdb.(*LDBDatabase).Meter\n    /private/tmp/ethereum20151002-10857-crcnih/src/github.com/ethereum/go-ethereum/ethdb/database.go:187 +0x591\n\n```\n",
  "closed_by": {
    "login": "karalabe",
    "id": 129561,
    "node_id": "MDQ6VXNlcjEyOTU2MQ==",
    "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/karalabe",
    "html_url": "https://github.com/karalabe",
    "followers_url": "https://api.github.com/users/karalabe/followers",
    "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
    "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
    "organizations_url": "https://api.github.com/users/karalabe/orgs",
    "repos_url": "https://api.github.com/users/karalabe/repos",
    "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
    "received_events_url": "https://api.github.com/users/karalabe/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/1870/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/1870/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/145061025",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/1870#issuecomment-145061025",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/1870",
    "id": 145061025,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE0NTA2MTAyNQ==",
    "user": {
      "login": "metamirror",
      "id": 14942589,
      "node_id": "MDQ6VXNlcjE0OTQyNTg5",
      "avatar_url": "https://avatars.githubusercontent.com/u/14942589?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/metamirror",
      "html_url": "https://github.com/metamirror",
      "followers_url": "https://api.github.com/users/metamirror/followers",
      "following_url": "https://api.github.com/users/metamirror/following{/other_user}",
      "gists_url": "https://api.github.com/users/metamirror/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/metamirror/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/metamirror/subscriptions",
      "organizations_url": "https://api.github.com/users/metamirror/orgs",
      "repos_url": "https://api.github.com/users/metamirror/repos",
      "events_url": "https://api.github.com/users/metamirror/events{/privacy}",
      "received_events_url": "https://api.github.com/users/metamirror/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-10-02T15:25:37Z",
    "updated_at": "2015-10-02T15:25:37Z",
    "author_association": "NONE",
    "body": "By the way, the old version of geth (1.1.2) still works. \n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/145061025/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/145189239",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/1870#issuecomment-145189239",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/1870",
    "id": 145189239,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE0NTE4OTIzOQ==",
    "user": {
      "login": "obscuren",
      "id": 6264126,
      "node_id": "MDQ6VXNlcjYyNjQxMjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6264126?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/obscuren",
      "html_url": "https://github.com/obscuren",
      "followers_url": "https://api.github.com/users/obscuren/followers",
      "following_url": "https://api.github.com/users/obscuren/following{/other_user}",
      "gists_url": "https://api.github.com/users/obscuren/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/obscuren/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/obscuren/subscriptions",
      "organizations_url": "https://api.github.com/users/obscuren/orgs",
      "repos_url": "https://api.github.com/users/obscuren/repos",
      "events_url": "https://api.github.com/users/obscuren/events{/privacy}",
      "received_events_url": "https://api.github.com/users/obscuren/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-10-03T00:40:12Z",
    "updated_at": "2015-10-03T00:40:12Z",
    "author_association": "MEMBER",
    "body": "What `geth version` is the one it doesn't work on?\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/145189239/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/145287937",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/1870#issuecomment-145287937",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/1870",
    "id": 145287937,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE0NTI4NzkzNw==",
    "user": {
      "login": "karalabe",
      "id": 129561,
      "node_id": "MDQ6VXNlcjEyOTU2MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/karalabe",
      "html_url": "https://github.com/karalabe",
      "followers_url": "https://api.github.com/users/karalabe/followers",
      "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
      "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
      "organizations_url": "https://api.github.com/users/karalabe/orgs",
      "repos_url": "https://api.github.com/users/karalabe/repos",
      "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/karalabe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-10-03T20:47:09Z",
    "updated_at": "2015-10-03T20:47:09Z",
    "author_association": "MEMBER",
    "body": "It seems to me that your old database contained some corrupt data that the upgrade mechanism choked on. We should definitely keep this issue open for now if somebody else also reports is, but if it's a one shot issue, then there was probably some hidden cause already in the old database. Note, after you do a db upgrade, old database entries are deleted in favor of the new ones, so reverting to an old geth might lead to certain db elements missing. Given that the db seems corrupted, I'd consider syncing up from scratch to ensure a clean database (i.e. delete the chaindata folder and restart geth (new version)).\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/145287937/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/145291242",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/1870#issuecomment-145291242",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/1870",
    "id": 145291242,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE0NTI5MTI0Mg==",
    "user": {
      "login": "metamirror",
      "id": 14942589,
      "node_id": "MDQ6VXNlcjE0OTQyNTg5",
      "avatar_url": "https://avatars.githubusercontent.com/u/14942589?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/metamirror",
      "html_url": "https://github.com/metamirror",
      "followers_url": "https://api.github.com/users/metamirror/followers",
      "following_url": "https://api.github.com/users/metamirror/following{/other_user}",
      "gists_url": "https://api.github.com/users/metamirror/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/metamirror/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/metamirror/subscriptions",
      "organizations_url": "https://api.github.com/users/metamirror/orgs",
      "repos_url": "https://api.github.com/users/metamirror/repos",
      "events_url": "https://api.github.com/users/metamirror/events{/privacy}",
      "received_events_url": "https://api.github.com/users/metamirror/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-10-03T21:09:55Z",
    "updated_at": "2015-10-03T21:09:55Z",
    "author_association": "NONE",
    "body": "@obscuren geth 1.2.2 was not working after the upgrade from 1.1.2\n@karalabe Deleting the ~/Library/Ethereum/chaindata file seems to have fixed the problem. Geth 1.2.2 now working fine! Thanks!\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/145291242/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/145483931",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/1870#issuecomment-145483931",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/1870",
    "id": 145483931,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE0NTQ4MzkzMQ==",
    "user": {
      "login": "obscuren",
      "id": 6264126,
      "node_id": "MDQ6VXNlcjYyNjQxMjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6264126?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/obscuren",
      "html_url": "https://github.com/obscuren",
      "followers_url": "https://api.github.com/users/obscuren/followers",
      "following_url": "https://api.github.com/users/obscuren/following{/other_user}",
      "gists_url": "https://api.github.com/users/obscuren/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/obscuren/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/obscuren/subscriptions",
      "organizations_url": "https://api.github.com/users/obscuren/orgs",
      "repos_url": "https://api.github.com/users/obscuren/repos",
      "events_url": "https://api.github.com/users/obscuren/events{/privacy}",
      "received_events_url": "https://api.github.com/users/obscuren/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-10-05T09:53:04Z",
    "updated_at": "2015-10-05T09:53:04Z",
    "author_association": "MEMBER",
    "body": "I'm keeping this issue open until we have more concrete information whether this was a fluke or indeed a database corruption of sorts\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/145483931/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/147297989",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/1870#issuecomment-147297989",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/1870",
    "id": 147297989,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE0NzI5Nzk4OQ==",
    "user": {
      "login": "mateosmith",
      "id": 15083730,
      "node_id": "MDQ6VXNlcjE1MDgzNzMw",
      "avatar_url": "https://avatars.githubusercontent.com/u/15083730?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mateosmith",
      "html_url": "https://github.com/mateosmith",
      "followers_url": "https://api.github.com/users/mateosmith/followers",
      "following_url": "https://api.github.com/users/mateosmith/following{/other_user}",
      "gists_url": "https://api.github.com/users/mateosmith/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mateosmith/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mateosmith/subscriptions",
      "organizations_url": "https://api.github.com/users/mateosmith/orgs",
      "repos_url": "https://api.github.com/users/mateosmith/repos",
      "events_url": "https://api.github.com/users/mateosmith/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mateosmith/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-10-12T06:01:28Z",
    "updated_at": "2015-10-12T06:01:28Z",
    "author_association": "NONE",
    "body": "Same issue with 1.2.2 and El Capitan OS X.   Deleting chaindata contents and restarted worked.\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/147297989/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/147327086",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/1870#issuecomment-147327086",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/1870",
    "id": 147327086,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE0NzMyNzA4Ng==",
    "user": {
      "login": "karalabe",
      "id": 129561,
      "node_id": "MDQ6VXNlcjEyOTU2MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/karalabe",
      "html_url": "https://github.com/karalabe",
      "followers_url": "https://api.github.com/users/karalabe/followers",
      "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
      "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
      "organizations_url": "https://api.github.com/users/karalabe/orgs",
      "repos_url": "https://api.github.com/users/karalabe/repos",
      "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/karalabe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-10-12T08:22:59Z",
    "updated_at": "2015-10-12T08:22:59Z",
    "author_association": "MEMBER",
    "body": "If this occurs to anyone else, could you create a dump of your database (i.e. pack up the chaindata folder) and upload it somewhere where we can examine it? IMHO this should probably be caused by some artifacts from previous updates or similar, but without a repro I cannot really see what's inside the database that's choking the new updater.\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/147327086/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/152188952",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/1870#issuecomment-152188952",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/1870",
    "id": 152188952,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1MjE4ODk1Mg==",
    "user": {
      "login": "simondlr",
      "id": 716965,
      "node_id": "MDQ6VXNlcjcxNjk2NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/716965?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/simondlr",
      "html_url": "https://github.com/simondlr",
      "followers_url": "https://api.github.com/users/simondlr/followers",
      "following_url": "https://api.github.com/users/simondlr/following{/other_user}",
      "gists_url": "https://api.github.com/users/simondlr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/simondlr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/simondlr/subscriptions",
      "organizations_url": "https://api.github.com/users/simondlr/orgs",
      "repos_url": "https://api.github.com/users/simondlr/repos",
      "events_url": "https://api.github.com/users/simondlr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/simondlr/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-10-29T13:58:02Z",
    "updated_at": "2015-10-29T13:58:31Z",
    "author_association": "NONE",
    "body": "Received this error when I upgrade to 1.2.3. OS X Yosemite. I'm refraining from redownloading the chain. Perhaps you want to see some additional data? @karalabe \n\n```\nSimon-2:~ simon$ geth console\nI1029 15:51:48.327629   44150 database.go:71] Alloted 16MB cache to /Users/simon/Library/Ethereum/chaindata\nI1029 15:51:51.360438   44150 backend.go:712] Old database detected, upgrading...\nI1029 15:53:21.389210   44150 chain_util.go:344] invalid block RLP for hash fd4af92a79c7fc2fd8bf0d342f2e832e1d4f485c85b9152d2039e03bc604fdca: rlp: value size exceeds available input length\npanic: runtime error: invalid memory address or nil pointer dereference\n[signal 0xb code=0x1 addr=0x0 pc=0x4163daf]\n\ngoroutine 1 [running]:\ngithub.com/ethereum/go-ethereum/core/types.(*Block).Hash(0x0, 0x0, 0x0, 0x0, 0x0)\n    /private/tmp/ethereum20151026-40153-1rekhp8/src/github.com/ethereum/go-ethereum/core/types/block.go:387 +0x17f\ngithub.com/ethereum/go-ethereum/eth.upgradeChainDatabase(0x5d66ae8, 0xc8202cc000, 0x0, 0x0)\n    /private/tmp/ethereum20151026-40153-1rekhp8/src/github.com/ethereum/go-ethereum/eth/backend.go:728 +0x827\ngithub.com/ethereum/go-ethereum/eth.New(0xc820218600, 0xc820222d40, 0x0, 0x0)\n    /private/tmp/ethereum20151026-40153-1rekhp8/src/github.com/ethereum/go-ethereum/eth/backend.go:278 +0x3da\nmain.console(0xc8202720e0)\n    /private/tmp/ethereum20151026-40153-1rekhp8/src/github.com/ethereum/go-ethereum/cmd/geth/main.go:449 +0x146\ngithub.com/codegangsta/cli.Command.Run(0x4a41938, 0x7, 0x0, 0x0, 0x0, 0x0, 0x0, 0x4b59640, 0x30, 0x4c6e780, ...)\n    /private/tmp/ethereum20151026-40153-1rekhp8/src/github.com/ethereum/go-ethereum/Godeps/_workspace/src/github.com/codegangsta/cli/command.go:118 +0x1095\ngithub.com/codegangsta/cli.(*App).Run(0xc820252000, 0xc82000a2a0, 0x2, 0x2, 0x0, 0x0)\n    /private/tmp/ethereum20151026-40153-1rekhp8/src/github.com/ethereum/go-ethereum/Godeps/_workspace/src/github.com/codegangsta/cli/app.go:177 +0xc18\nmain.main()\n    /private/tmp/ethereum20151026-40153-1rekhp8/src/github.com/ethereum/go-ethereum/cmd/geth/main.go:357 +0x93\n\ngoroutine 17 [syscall, 1 minutes, locked to thread]:\nruntime.goexit()\n    /usr/local/Cellar/go/1.5.1/libexec/src/runtime/asm_amd64.s:1696 +0x1\n\ngoroutine 5 [syscall, 1 minutes]:\nos/signal.loop()\n    /usr/local/Cellar/go/1.5.1/libexec/src/os/signal/signal_unix.go:22 +0x18\ncreated by os/signal.init.1\n    /usr/local/Cellar/go/1.5.1/libexec/src/os/signal/signal_unix.go:28 +0x37\n\ngoroutine 6 [chan receive]:\ngithub.com/ethereum/go-ethereum/logger/glog.(*loggingT).flushDaemon(0x50a3160)\n    /private/tmp/ethereum20151026-40153-1rekhp8/src/github.com/ethereum/go-ethereum/logger/glog/glog.go:897 +0x67\ncreated by github.com/ethereum/go-ethereum/logger/glog.init.1\n    /private/tmp/ethereum20151026-40153-1rekhp8/src/github.com/ethereum/go-ethereum/logger/glog/glog.go:428 +0x6f\n\ngoroutine 7 [select]:\ngithub.com/ethereum/go-ethereum/logger.dispatchLoop()\n    /private/tmp/ethereum20151026-40153-1rekhp8/src/github.com/ethereum/go-ethereum/logger/sys.go:81 +0x624\ncreated by github.com/ethereum/go-ethereum/logger.init.1\n    /private/tmp/ethereum20151026-40153-1rekhp8/src/github.com/ethereum/go-ethereum/logger/sys.go:60 +0x2b\n\ngoroutine 40 [runnable]:\ngithub.com/ethereum/go-ethereum/logger.sysLoop(0x5da5510, 0xc8200b39a0, 0xc820226660, 0xc8200b2000)\n    /private/tmp/ethereum20151026-40153-1rekhp8/src/github.com/ethereum/go-ethereum/logger/sys.go:116\ncreated by github.com/ethereum/go-ethereum/logger.dispatchLoop.func1\n    /private/tmp/ethereum20151026-40153-1rekhp8/src/github.com/ethereum/go-ethereum/logger/sys.go:77 +0xdb\n\ngoroutine 36 [select]:\ngithub.com/syndtr/goleveldb/leveldb/util.(*BufferPool).drain(0xc8202721c0)\n    /private/tmp/ethereum20151026-40153-1rekhp8/src/github.com/ethereum/go-ethereum/Godeps/_workspace/src/github.com/syndtr/goleveldb/leveldb/util/buffer_pool.go:205 +0x271\ncreated by github.com/syndtr/goleveldb/leveldb/util.NewBufferPool\n    /private/tmp/ethereum20151026-40153-1rekhp8/src/github.com/ethereum/go-ethereum/Godeps/_workspace/src/github.com/syndtr/goleveldb/leveldb/util/buffer_pool.go:236 +0x26b\n\ngoroutine 11 [select]:\ngithub.com/syndtr/goleveldb/leveldb.(*DB).compactionError(0xc820440160)\n    /private/tmp/ethereum20151026-40153-1rekhp8/src/github.com/ethereum/go-ethereum/Godeps/_workspace/src/github.com/syndtr/goleveldb/leveldb/db_compaction.go:120 +0x47c\ncreated by github.com/syndtr/goleveldb/leveldb.openDB\n    /private/tmp/ethereum20151026-40153-1rekhp8/src/github.com/ethereum/go-ethereum/Godeps/_workspace/src/github.com/syndtr/goleveldb/leveldb/db.go:126 +0x7fc\n\ngoroutine 12 [select]:\ngithub.com/syndtr/goleveldb/leveldb.(*DB).mpoolDrain(0xc820440160)\n    /private/tmp/ethereum20151026-40153-1rekhp8/src/github.com/ethereum/go-ethereum/Godeps/_workspace/src/github.com/syndtr/goleveldb/leveldb/db_state.go:82 +0x14b\ncreated by github.com/syndtr/goleveldb/leveldb.openDB\n    /private/tmp/ethereum20151026-40153-1rekhp8/src/github.com/ethereum/go-ethereum/Godeps/_workspace/src/github.com/syndtr/goleveldb/leveldb/db.go:127 +0x81e\n\ngoroutine 13 [select]:\ngithub.com/syndtr/goleveldb/leveldb.(*DB).tCompaction(0xc820440160)\n    /private/tmp/ethereum20151026-40153-1rekhp8/src/github.com/ethereum/go-ethereum/Godeps/_workspace/src/github.com/syndtr/goleveldb/leveldb/db_compaction.go:812 +0x7c8\ncreated by github.com/syndtr/goleveldb/leveldb.openDB\n    /private/tmp/ethereum20151026-40153-1rekhp8/src/github.com/ethereum/go-ethereum/Godeps/_workspace/src/github.com/syndtr/goleveldb/leveldb/db.go:130 +0x86a\n\ngoroutine 14 [select, 1 minutes]:\ngithub.com/syndtr/goleveldb/leveldb.(*DB).mCompaction(0xc820440160)\n    /private/tmp/ethereum20151026-40153-1rekhp8/src/github.com/ethereum/go-ethereum/Godeps/_workspace/src/github.com/syndtr/goleveldb/leveldb/db_compaction.go:759 +0x253\ncreated by github.com/syndtr/goleveldb/leveldb.openDB\n    /private/tmp/ethereum20151026-40153-1rekhp8/src/github.com/ethereum/go-ethereum/Godeps/_workspace/src/github.com/syndtr/goleveldb/leveldb/db.go:131 +0x88c\n\ngoroutine 15 [select, 1 minutes]:\ngithub.com/syndtr/goleveldb/leveldb.(*DB).jWriter(0xc820440160)\n    /private/tmp/ethereum20151026-40153-1rekhp8/src/github.com/ethereum/go-ethereum/Godeps/_workspace/src/github.com/syndtr/goleveldb/leveldb/db_write.go:37 +0x1a2\ncreated by github.com/syndtr/goleveldb/leveldb.openDB\n    /private/tmp/ethereum20151026-40153-1rekhp8/src/github.com/ethereum/go-ethereum/Godeps/_workspace/src/github.com/syndtr/goleveldb/leveldb/db.go:132 +0x8ae\n\ngoroutine 16 [select]:\ngithub.com/ethereum/go-ethereum/ethdb.(*LDBDatabase).meter(0xc8202cc000, 0xb2d05e00)\n    /private/tmp/ethereum20151026-40153-1rekhp8/src/github.com/ethereum/go-ethereum/ethdb/database.go:255 +0xa96\ncreated by github.com/ethereum/go-ethereum/ethdb.(*LDBDatabase).Meter\n    /private/tmp/ethereum20151026-40153-1rekhp8/src/github.com/ethereum/go-ethereum/ethdb/database.go:187 +0x591\n```\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/152188952/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/152189662",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/1870#issuecomment-152189662",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/1870",
    "id": 152189662,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1MjE4OTY2Mg==",
    "user": {
      "login": "karalabe",
      "id": 129561,
      "node_id": "MDQ6VXNlcjEyOTU2MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/karalabe",
      "html_url": "https://github.com/karalabe",
      "followers_url": "https://api.github.com/users/karalabe/followers",
      "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
      "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
      "organizations_url": "https://api.github.com/users/karalabe/orgs",
      "repos_url": "https://api.github.com/users/karalabe/repos",
      "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/karalabe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-10-29T14:00:20Z",
    "updated_at": "2015-10-29T14:00:20Z",
    "author_association": "MEMBER",
    "body": "Could you pack up your `chaindata` folder and upload it somewhere. If you sync from scratch the error will go away (most probably some corrupt database), but it would be nice to see what's inside the db that's causing this.\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/152189662/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/152191267",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/1870#issuecomment-152191267",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/1870",
    "id": 152191267,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1MjE5MTI2Nw==",
    "user": {
      "login": "simondlr",
      "id": 716965,
      "node_id": "MDQ6VXNlcjcxNjk2NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/716965?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/simondlr",
      "html_url": "https://github.com/simondlr",
      "followers_url": "https://api.github.com/users/simondlr/followers",
      "following_url": "https://api.github.com/users/simondlr/following{/other_user}",
      "gists_url": "https://api.github.com/users/simondlr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/simondlr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/simondlr/subscriptions",
      "organizations_url": "https://api.github.com/users/simondlr/orgs",
      "repos_url": "https://api.github.com/users/simondlr/repos",
      "events_url": "https://api.github.com/users/simondlr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/simondlr/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-10-29T14:06:06Z",
    "updated_at": "2015-10-29T14:06:06Z",
    "author_association": "NONE",
    "body": "Busy zipping and going to find a place to upload it. Will comment back here when it is done.\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/152191267/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/152519644",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/1870#issuecomment-152519644",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/1870",
    "id": 152519644,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1MjUxOTY0NA==",
    "user": {
      "login": "simondlr",
      "id": 716965,
      "node_id": "MDQ6VXNlcjcxNjk2NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/716965?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/simondlr",
      "html_url": "https://github.com/simondlr",
      "followers_url": "https://api.github.com/users/simondlr/followers",
      "following_url": "https://api.github.com/users/simondlr/following{/other_user}",
      "gists_url": "https://api.github.com/users/simondlr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/simondlr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/simondlr/subscriptions",
      "organizations_url": "https://api.github.com/users/simondlr/orgs",
      "repos_url": "https://api.github.com/users/simondlr/repos",
      "events_url": "https://api.github.com/users/simondlr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/simondlr/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-10-30T13:11:05Z",
    "updated_at": "2015-10-30T13:11:05Z",
    "author_association": "NONE",
    "body": "Just fyi @karalabe. It's a pretty big file and I don't have a good connection, so it will take a while to upload. But I'm busy uploading it. :)\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/152519644/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/153080615",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/1870#issuecomment-153080615",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/1870",
    "id": 153080615,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1MzA4MDYxNQ==",
    "user": {
      "login": "karalabe",
      "id": 129561,
      "node_id": "MDQ6VXNlcjEyOTU2MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/karalabe",
      "html_url": "https://github.com/karalabe",
      "followers_url": "https://api.github.com/users/karalabe/followers",
      "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
      "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
      "organizations_url": "https://api.github.com/users/karalabe/orgs",
      "repos_url": "https://api.github.com/users/karalabe/repos",
      "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/karalabe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-11-02T16:51:50Z",
    "updated_at": "2015-11-02T16:51:50Z",
    "author_association": "MEMBER",
    "body": "@simondlr Thanks again for the upload. I've checked and there's indeed some database entry corrupted. There's a supposed block with hash:\n\n`0xfd4af92a79c7fc2fd8bf0d342f2e832e1d4f485c85b9152d2039e03bc604fdca`\n\nwith the contents of:\n\n`0xf901fcf901f3a0fe22a01dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d4934794fe16a09178d0f23c965d81f0834a4c72c6253ce6830f4022b1359aaebfc1ecba442d4ea0fefea0fefeb901fe01fe048302fe0480832fefd8808080a0fe2288fe092ac0c08302fe04`\n\nProblem is, that content is not a valid RLP encoded data blob. It's missing quite a lot of data it supposed to have. Even more interesting, the hash of the block is also unknown to any block explorer.\n\n---\n\nAfter some digging, figured out that the hash is the hash of the Olympic genesis block. Now how'd _that_ end up in there. My guess would be that you maybe started Geth a long time ago once on the Olympic network, which shoved something (?) into the database, then it went unnoticed and rotted away in there, while riding the automatic db updates. The current one did a bit thorougher job of reworking the block contents, so it actually hit the junk.\n\nGood news, seems that it's not a problem caused by the database split or update mechanism. Bad new is, it requires a hard resync (i.e. dropping the old chain). We could add clauses to work around such issues, but if there's something this bad in there, it might be a good idea to clean out anyway :)\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/153080615/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/153083568",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/1870#issuecomment-153083568",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/1870",
    "id": 153083568,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1MzA4MzU2OA==",
    "user": {
      "login": "simondlr",
      "id": 716965,
      "node_id": "MDQ6VXNlcjcxNjk2NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/716965?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/simondlr",
      "html_url": "https://github.com/simondlr",
      "followers_url": "https://api.github.com/users/simondlr/followers",
      "following_url": "https://api.github.com/users/simondlr/following{/other_user}",
      "gists_url": "https://api.github.com/users/simondlr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/simondlr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/simondlr/subscriptions",
      "organizations_url": "https://api.github.com/users/simondlr/orgs",
      "repos_url": "https://api.github.com/users/simondlr/repos",
      "events_url": "https://api.github.com/users/simondlr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/simondlr/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-11-02T17:02:12Z",
    "updated_at": "2015-11-02T17:02:12Z",
    "author_association": "NONE",
    "body": "Huh. That's really odd. I would've most likely nuked the dir after Olympic before getting into Frontier. It's all hazy. I also used dockers extensively, so not sure.\n\nI did delete the old chaindata, and it synced again.\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/153083568/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/154021566",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/1870#issuecomment-154021566",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/1870",
    "id": 154021566,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1NDAyMTU2Ng==",
    "user": {
      "login": "karalabe",
      "id": 129561,
      "node_id": "MDQ6VXNlcjEyOTU2MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/karalabe",
      "html_url": "https://github.com/karalabe",
      "followers_url": "https://api.github.com/users/karalabe/followers",
      "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
      "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
      "organizations_url": "https://api.github.com/users/karalabe/orgs",
      "repos_url": "https://api.github.com/users/karalabe/repos",
      "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/karalabe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-11-05T10:28:13Z",
    "updated_at": "2015-11-05T10:28:13Z",
    "author_association": "MEMBER",
    "body": "As this issue seems to point to an already corrupted database and not one introduced by the new versions of geth, I'll close it. If it crops up again we can decide if it's a duplicate or something deeper. My guess is that as people transitioned to the new schema, we won't see this any more.\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/154021566/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
