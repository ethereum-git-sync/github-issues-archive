{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/26775",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/26775/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/26775/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/26775/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/26775",
  "id": 1602272880,
  "node_id": "I_kwDOAOvK985fgL5w",
  "number": 26775,
  "title": "MemTableSize with Pebble",
  "user": {
    "login": "quickchase",
    "id": 87909910,
    "node_id": "MDQ6VXNlcjg3OTA5OTEw",
    "avatar_url": "https://avatars.githubusercontent.com/u/87909910?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/quickchase",
    "html_url": "https://github.com/quickchase",
    "followers_url": "https://api.github.com/users/quickchase/followers",
    "following_url": "https://api.github.com/users/quickchase/following{/other_user}",
    "gists_url": "https://api.github.com/users/quickchase/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/quickchase/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/quickchase/subscriptions",
    "organizations_url": "https://api.github.com/users/quickchase/orgs",
    "repos_url": "https://api.github.com/users/quickchase/repos",
    "events_url": "https://api.github.com/users/quickchase/events{/privacy}",
    "received_events_url": "https://api.github.com/users/quickchase/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 72233650,
      "node_id": "MDU6TGFiZWw3MjIzMzY1MA==",
      "url": "https://api.github.com/repos/ethereum/go-ethereum/labels/type:bug",
      "name": "type:bug",
      "color": "FF5E5E",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2023-02-28T02:44:04Z",
  "updated_at": "2023-02-28T13:34:14Z",
  "closed_at": "2023-02-28T13:34:14Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "#### System information\r\n\r\nGeth version:\r\n```\r\nVersion: 1.11.2-stable\r\nGit Commit: 73b01f40ceb6bcb6f9f44c2a3d6f963b40452b47\r\nGit Commit Date: 20230222\r\nArchitecture: amd64\r\nGo Version: go1.20.1\r\n```\r\nCL client & version:\r\n```\r\nLighthouse v3.5.0-0fb58a6\r\nBLS library: blst-modern\r\nSHA256 hardware acceleration: true\r\nAllocator: jemalloc\r\nSpecs: mainnet (true), minimal (false), gnosis (true)\r\n```\r\nOS & Version:\r\n```\r\nUbuntu 20.04.5 LTS (GNU/Linux 5.15.0-1029-oracle x86_64)\r\n```\r\n\r\nI'm trying to understand the following error:\r\n```\r\nStarted Geth.\r\nINFO [02-28|02:38:20.737] Starting pprof server                    addr=http://127.0.0.1:6061/debug/pprof\r\nINFO [02-28|02:38:20.743] Starting Geth on Ethereum mainnet...\r\nINFO [02-28|02:38:20.744] Maximum peer count                       ETH=50 LES=0 total=50\r\nINFO [02-28|02:38:20.745] Smartcard socket not found, disabling    err=\"stat /run/pcscd/pcscd.comm: no such file or directory\"\r\nINFO [02-28|02:38:20.745] Using pebble as db engine\r\nWARN [02-28|02:38:20.747] Sanitizing cache to Go's GC limits       provided=64408 updated=42938\r\nINFO [02-28|02:38:20.749] Set global gas cap                       cap=600,000,000\r\nINFO [02-28|02:38:20.761] Allocated trie memory caches             clean=6.29GiB dirty=10.48GiB\r\nINFO [02-28|02:38:20.761] Using pebble as the backing database\r\nINFO [02-28|02:38:20.761] Allocated cache and file handles         database=/home/eth/geth/geth/chaindata cache=20.97GiB handles=524,288\r\nFatal: Failed to register the Ethereum service: MemTableSize (4.0 G) must be < 4.0 G\r\n```\r\n\r\nThe only reference to `MemTableSize` I could find was #24615, which talks about 64-bit vs 32-bit etc. but the system/VM here is a 64-bit VM\r\n\r\nI don't know where this setting comes from, how to set it, or what to do about it.\r\n\r\nI have a different Oracle VM with the same settings, and it worked fine. The only real difference I saw between them was a kernel version:\r\n```\r\n5.13.0-1018-oracle\r\n```\r\n\r\nAny guidance on where to look to solve this issue would be fantastic...",
  "closed_by": {
    "login": "karalabe",
    "id": 129561,
    "node_id": "MDQ6VXNlcjEyOTU2MQ==",
    "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/karalabe",
    "html_url": "https://github.com/karalabe",
    "followers_url": "https://api.github.com/users/karalabe/followers",
    "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
    "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
    "organizations_url": "https://api.github.com/users/karalabe/orgs",
    "repos_url": "https://api.github.com/users/karalabe/repos",
    "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
    "received_events_url": "https://api.github.com/users/karalabe/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/26775/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/26775/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1447492433",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/26775#issuecomment-1447492433",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/26775",
    "id": 1447492433,
    "node_id": "IC_kwDOAOvK985WRvtR",
    "user": {
      "login": "quickchase",
      "id": 87909910,
      "node_id": "MDQ6VXNlcjg3OTA5OTEw",
      "avatar_url": "https://avatars.githubusercontent.com/u/87909910?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/quickchase",
      "html_url": "https://github.com/quickchase",
      "followers_url": "https://api.github.com/users/quickchase/followers",
      "following_url": "https://api.github.com/users/quickchase/following{/other_user}",
      "gists_url": "https://api.github.com/users/quickchase/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/quickchase/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/quickchase/subscriptions",
      "organizations_url": "https://api.github.com/users/quickchase/orgs",
      "repos_url": "https://api.github.com/users/quickchase/repos",
      "events_url": "https://api.github.com/users/quickchase/events{/privacy}",
      "received_events_url": "https://api.github.com/users/quickchase/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-02-28T02:55:21Z",
    "updated_at": "2023-02-28T02:55:21Z",
    "author_association": "NONE",
    "body": "Ah ha! It has to do with the `--cache` setting! Because the other VM has less RAM the cache was configured to a lower value, but this system had more RAM, thus the cache setting was set higher...causing this error.\r\n\r\nThe simple solution is to use a more sane cache value in my config ðŸ˜† ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1447492433/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1447497194",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/26775#issuecomment-1447497194",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/26775",
    "id": 1447497194,
    "node_id": "IC_kwDOAOvK985WRw3q",
    "user": {
      "login": "quickchase",
      "id": 87909910,
      "node_id": "MDQ6VXNlcjg3OTA5OTEw",
      "avatar_url": "https://avatars.githubusercontent.com/u/87909910?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/quickchase",
      "html_url": "https://github.com/quickchase",
      "followers_url": "https://api.github.com/users/quickchase/followers",
      "following_url": "https://api.github.com/users/quickchase/following{/other_user}",
      "gists_url": "https://api.github.com/users/quickchase/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/quickchase/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/quickchase/subscriptions",
      "organizations_url": "https://api.github.com/users/quickchase/orgs",
      "repos_url": "https://api.github.com/users/quickchase/repos",
      "events_url": "https://api.github.com/users/quickchase/events{/privacy}",
      "received_events_url": "https://api.github.com/users/quickchase/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-02-28T03:01:04Z",
    "updated_at": "2023-02-28T03:01:04Z",
    "author_association": "NONE",
    "body": "Oh I suppose that would fix it as well ðŸ™‚ ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1447497194/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
