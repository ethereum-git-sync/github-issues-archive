{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/14700",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/14700/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/14700/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/14700/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/14700",
  "id": 238418776,
  "node_id": "MDU6SXNzdWUyMzg0MTg3NzY=",
  "number": 14700,
  "title": "Upgradedb failed or not?",
  "user": {
    "login": "arifoxs",
    "id": 5309001,
    "node_id": "MDQ6VXNlcjUzMDkwMDE=",
    "avatar_url": "https://avatars.githubusercontent.com/u/5309001?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/arifoxs",
    "html_url": "https://github.com/arifoxs",
    "followers_url": "https://api.github.com/users/arifoxs/followers",
    "following_url": "https://api.github.com/users/arifoxs/following{/other_user}",
    "gists_url": "https://api.github.com/users/arifoxs/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/arifoxs/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/arifoxs/subscriptions",
    "organizations_url": "https://api.github.com/users/arifoxs/orgs",
    "repos_url": "https://api.github.com/users/arifoxs/repos",
    "events_url": "https://api.github.com/users/arifoxs/events{/privacy}",
    "received_events_url": "https://api.github.com/users/arifoxs/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2017-06-26T00:46:33Z",
  "updated_at": "2017-08-25T12:56:24Z",
  "closed_at": "2017-06-26T09:10:55Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "#### System information\r\n\r\nGeth version: `1.6.6-stable-10a45cb5`\r\nOS & Version: 3.8.0-44-generic #66~precise1-Ubuntu SMP Tue Jul 15 04:01:04 UTC 2014 x86_64 x86_64 x86_64 GNU/Linux\r\nPC :  xeon four cores, 12GB of ram, and WD blue 500GB\r\n#### Expected behaviour\r\nI hope my server can sync, and mine ethereum with CPU mine, I use \r\n\r\n`./geth --datadir data --etherbase 0 --minerthreads=2 --cache=2048 --mine \r\n`\r\nbut i always fail sync,\r\n\r\n```\r\nWARN [06-26|07:10:37] Node data write error                    err=\"state node 6e1378â€¦835548 failed with all peers (9 tries, 9 peers)\"\r\nWARN [06-26|07:10:37] Rolled back headers                      count=2048 header=418449->416401 fast=381375->381375 block=0->0\r\nWARN [06-26|07:10:37] Synchronisation failed, retrying         err=\"state node 6e1378â€¦835548 failed with all peers (9 tries, 9 peers)\"\r\n\r\n```\r\n\r\nI use `cat geth_log | grep WARN`\r\nTo view 'WARN' messages only,\r\n#### Actual behaviour\r\n\r\nI have seen some issues, one of those issues there is suggesting to run upgradedb or removedb, is it helpful or not?\r\n\r\nHttps://github.com/ethereum/go-ethereum/issues/3585\r\n\r\nBut i get the output\r\n\r\n> INFO [06-26|08:34:28] Imported new block receipts              count=24   elapsed=9.117ms   number=692032 hash=43e3c8…15839b ignored=0\r\n> INFO [06-26|08:34:30] Imported new block receipts              count=6    elapsed=7.622ms   number=692038 hash=5ff26e…074e52 ignored=0\r\n> INFO [06-26|08:34:30] Imported new block headers               count=0    elapsed=8.160ms   number=697784 hash=10e4e9…dae747 ignored=192\r\n> INFO [06-26|08:34:33] Imported new state entries               count=51   flushed=44  elapsed=2.341ms   processed=393663 pending=1322  retry=4    duplicate=212 unexpected=498\r\n> WARN [06-26|08:34:35] Synchronisation failed, retrying         err=\"block body download canceled (requested)\"\r\n> WARN [06-26|08:35:09] Synchronisation failed, retrying         err=\"block download canceled (requested)\"\r\n> \r\n\r\nIs that okay?\r\nGeth still running\r\n\r\n\r\n#### Steps to reproduce the behaviour\r\n\r\n\r\n#### Backtrace\r\n\r\n````\r\n[backtrace]\r\n````\r\n",
  "closed_by": {
    "login": "karalabe",
    "id": 129561,
    "node_id": "MDQ6VXNlcjEyOTU2MQ==",
    "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/karalabe",
    "html_url": "https://github.com/karalabe",
    "followers_url": "https://api.github.com/users/karalabe/followers",
    "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
    "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
    "organizations_url": "https://api.github.com/users/karalabe/orgs",
    "repos_url": "https://api.github.com/users/karalabe/repos",
    "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
    "received_events_url": "https://api.github.com/users/karalabe/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/14700/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/14700/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/311004929",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/14700#issuecomment-311004929",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/14700",
    "id": 311004929,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxMTAwNDkyOQ==",
    "user": {
      "login": "karalabe",
      "id": 129561,
      "node_id": "MDQ6VXNlcjEyOTU2MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/karalabe",
      "html_url": "https://github.com/karalabe",
      "followers_url": "https://api.github.com/users/karalabe/followers",
      "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
      "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
      "organizations_url": "https://api.github.com/users/karalabe/orgs",
      "repos_url": "https://api.github.com/users/karalabe/repos",
      "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/karalabe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-06-26T09:10:55Z",
    "updated_at": "2017-06-26T09:10:55Z",
    "author_association": "MEMBER",
    "body": "Sync can take a while. You'll need to wait it out. On an mechanical disk machine it can take a **lot** of time (many hours). Lastly I would not recommend CPU mining on mainnet, it just isn't worth it with all the GPU capacity present on the network.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/311004929/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/324911898",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/14700#issuecomment-324911898",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/14700",
    "id": 324911898,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMyNDkxMTg5OA==",
    "user": {
      "login": "covex-nn",
      "id": 110878,
      "node_id": "MDQ6VXNlcjExMDg3OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/110878?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/covex-nn",
      "html_url": "https://github.com/covex-nn",
      "followers_url": "https://api.github.com/users/covex-nn/followers",
      "following_url": "https://api.github.com/users/covex-nn/following{/other_user}",
      "gists_url": "https://api.github.com/users/covex-nn/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/covex-nn/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/covex-nn/subscriptions",
      "organizations_url": "https://api.github.com/users/covex-nn/orgs",
      "repos_url": "https://api.github.com/users/covex-nn/repos",
      "events_url": "https://api.github.com/users/covex-nn/events{/privacy}",
      "received_events_url": "https://api.github.com/users/covex-nn/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-08-25T12:56:24Z",
    "updated_at": "2017-08-25T12:56:24Z",
    "author_association": "NONE",
    "body": "@arifoxs I stoped --fast sync twice after i got something like this:\r\n\r\n> WARN [08-25|15:01:31] Stalling state sync, dropping peer       peer=0ec8d7a4b0d6f71f\r\n> WARN [08-25|15:01:31] Stalling state sync, dropping peer       peer=bde01afcc608c981\r\n> ... 23 WARNs total about stalling state sync\r\n> WARN [08-25|15:01:37] Stalling state sync, dropping peer       peer=6d97e801159e5268\r\n> WARN [08-25|15:01:37] Stalling state sync, dropping peer       peer=2a6d91d7de60e537\r\n> WARN [08-25|15:01:37] Node data write error                    err=\"state node d023e6:b6cd3e failed with all peers (1 tries, 1 peers)\"\r\n\r\non third time, on 4143053 block, i decided to wait and after 50 minutes sync resumed",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/324911898/reactions",
      "total_count": 2,
      "+1": 2,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
