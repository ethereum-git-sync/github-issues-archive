{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/3123",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/3123/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/3123/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/3123/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/3123",
  "id": 182279341,
  "node_id": "MDU6SXNzdWUxODIyNzkzNDE=",
  "number": 3123,
  "title": "Fast sync stopped prematurely",
  "user": {
    "login": "ntpeters",
    "id": 1189211,
    "node_id": "MDQ6VXNlcjExODkyMTE=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1189211?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/ntpeters",
    "html_url": "https://github.com/ntpeters",
    "followers_url": "https://api.github.com/users/ntpeters/followers",
    "following_url": "https://api.github.com/users/ntpeters/following{/other_user}",
    "gists_url": "https://api.github.com/users/ntpeters/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/ntpeters/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/ntpeters/subscriptions",
    "organizations_url": "https://api.github.com/users/ntpeters/orgs",
    "repos_url": "https://api.github.com/users/ntpeters/repos",
    "events_url": "https://api.github.com/users/ntpeters/events{/privacy}",
    "received_events_url": "https://api.github.com/users/ntpeters/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2016-10-11T14:30:03Z",
  "updated_at": "2016-10-12T14:11:40Z",
  "closed_at": "2016-10-12T14:11:40Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "#### System information\n\nGeth version: `1.4.17`\nOS & Version: macOS 10.12\nCommit hash : 1.4.17 release, installed via brew\n#### Expected behaviour\n\nIf I understand correctly, fast sync should sync up to the current block, or very close to it.\n#### Actual behaviour\n\nFast sync stopped a little over 20k blocks short of current, then began syncing blocks normally.\n#### Steps to reproduce the behaviour\n\nRenamed chaindata folder, then:\n\n```\ngeth --cache 2048 --targetgaslimit 1500000 --gasprice 20000000000 --fast console\n```\n#### Backtrace\n\nRelevant portion:\n\n```\nI1011 09:43:09.778752 eth/downloader/downloader.go:948] imported 20 state entries in 991.818µs: processed 48094, pending at least 0\nI1011 09:43:09.780735 core/blockchain.go:764] imported 0 receipt(s) (1 ignored) in 1.861911ms. #2381660 [9bfe42d9… / 9bfe42d9…]\nI1011 09:43:09.780790 core/blockchain.go:280] committed block #2381660 [9bfe42d9…] as new head\nI1011 09:45:41.888635 core/blockchain.go:975] imported 1360 block(s) (0 queued 0 ignored) including 10066 txs in 2m32.097889432s. #2383020 [809e6c2b / 7482ec9c]\nI1011 09:45:41.888678 eth/sync.go:189] fast sync complete, auto disabling\nI1011 09:46:08.735346 core/blockchain.go:975] imported 11 block(s) (0 queued 0 ignored) including 42 txs in 1.727839453s. #2383031 [258fc924 / ed84ef1b]\n```\n",
  "closed_by": {
    "login": "ntpeters",
    "id": 1189211,
    "node_id": "MDQ6VXNlcjExODkyMTE=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1189211?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/ntpeters",
    "html_url": "https://github.com/ntpeters",
    "followers_url": "https://api.github.com/users/ntpeters/followers",
    "following_url": "https://api.github.com/users/ntpeters/following{/other_user}",
    "gists_url": "https://api.github.com/users/ntpeters/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/ntpeters/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/ntpeters/subscriptions",
    "organizations_url": "https://api.github.com/users/ntpeters/orgs",
    "repos_url": "https://api.github.com/users/ntpeters/repos",
    "events_url": "https://api.github.com/users/ntpeters/events{/privacy}",
    "received_events_url": "https://api.github.com/users/ntpeters/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/3123/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/3123/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/253221878",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/3123#issuecomment-253221878",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/3123",
    "id": 253221878,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI1MzIyMTg3OA==",
    "user": {
      "login": "karalabe",
      "id": 129561,
      "node_id": "MDQ6VXNlcjEyOTU2MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/karalabe",
      "html_url": "https://github.com/karalabe",
      "followers_url": "https://api.github.com/users/karalabe/followers",
      "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
      "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
      "organizations_url": "https://api.github.com/users/karalabe/orgs",
      "repos_url": "https://api.github.com/users/karalabe/repos",
      "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/karalabe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-10-12T14:01:52Z",
    "updated_at": "2016-10-12T14:01:52Z",
    "author_association": "MEMBER",
    "body": "In theory yes. But when fast sync starts, it picks the best peer and syncs to that peer's head. If all your peers during fast sync startup are behind the actual head, you'll get to something that's older. If the network is healthy this would be semi impossible, but with the current attacks and many non upgraded nodes, it happens from time to time that all your peers are behind so fast sync will only get you that far, not to the latest block.\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/253221878/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/253224545",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/3123#issuecomment-253224545",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/3123",
    "id": 253224545,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI1MzIyNDU0NQ==",
    "user": {
      "login": "ntpeters",
      "id": 1189211,
      "node_id": "MDQ6VXNlcjExODkyMTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1189211?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ntpeters",
      "html_url": "https://github.com/ntpeters",
      "followers_url": "https://api.github.com/users/ntpeters/followers",
      "following_url": "https://api.github.com/users/ntpeters/following{/other_user}",
      "gists_url": "https://api.github.com/users/ntpeters/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ntpeters/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ntpeters/subscriptions",
      "organizations_url": "https://api.github.com/users/ntpeters/orgs",
      "repos_url": "https://api.github.com/users/ntpeters/repos",
      "events_url": "https://api.github.com/users/ntpeters/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ntpeters/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-10-12T14:11:39Z",
    "updated_at": "2016-10-12T14:11:39Z",
    "author_association": "NONE",
    "body": "Got it, that makes sense. It just seemed odd when I saw it stop that far behind. Thanks for the explanation. Closing.\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/253224545/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
