{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23195",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23195/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23195/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23195/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/23195",
  "id": 941432632,
  "node_id": "MDU6SXNzdWU5NDE0MzI2MzI=",
  "number": 23195,
  "title": "Geth 1.10.4 high memory use - how to gather data",
  "user": {
    "login": "yorickdowne",
    "id": 71337066,
    "node_id": "MDQ6VXNlcjcxMzM3MDY2",
    "avatar_url": "https://avatars.githubusercontent.com/u/71337066?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/yorickdowne",
    "html_url": "https://github.com/yorickdowne",
    "followers_url": "https://api.github.com/users/yorickdowne/followers",
    "following_url": "https://api.github.com/users/yorickdowne/following{/other_user}",
    "gists_url": "https://api.github.com/users/yorickdowne/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/yorickdowne/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/yorickdowne/subscriptions",
    "organizations_url": "https://api.github.com/users/yorickdowne/orgs",
    "repos_url": "https://api.github.com/users/yorickdowne/repos",
    "events_url": "https://api.github.com/users/yorickdowne/events{/privacy}",
    "received_events_url": "https://api.github.com/users/yorickdowne/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 72233650,
      "node_id": "MDU6TGFiZWw3MjIzMzY1MA==",
      "url": "https://api.github.com/repos/ethereum/go-ethereum/labels/type:bug",
      "name": "type:bug",
      "color": "FF5E5E",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 48,
  "created_at": "2021-07-11T11:35:50Z",
  "updated_at": "2021-11-03T14:37:03Z",
  "closed_at": "2021-11-03T14:37:03Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "From Geth Discord, by fjl - this is a quote, not my words:\r\n\r\nI have seen quite a few reports of high memory usage with Geth v1.10.4 last couple days in here,\r\nsome people have even reported that there seems to be a leak, with used memory steadily rising.\r\nIf you are experiencing this problem, we would appreciate if you could do the following steps:\r\n\r\n- enable the pprof server (debugging tool) by starting geth with the --pprof flag\r\n- this will enable an HTTP server on port 6060 on localhost\r\n- wait for it to reach high memory usage\r\n- then go to http://127.0.0.1:6060/memsize\r\n- click the Scan \"node\" button\r\n- this operation will freeze the node for quite a while and perform an internal scan of used memory\r\n- when it's done, post the resulting report to https://gist.github.com/, then link it here on [Geth Discord](https://discord.gg/VNnEHqsHMr)\r\n\r\n**Note**: If your system is very low on memory, the memsize scan can crash your node (because the scanning also uses some extra memory). Also, the node will not be operational while it does the scanning.\r\n\r\nIf you are using grafana, or another metrics solution, please monitor the geth/system/cpu/goroutines.gauge metric.\r\nThis metric is the number of lightweight Go threads used by geth. If this number keeps going up, it's a goroutine leak. This kind of leak can happen when there is a bug, and it will usually manifest as memory usage increasing.\r\nIt's kind of good to monitor this metric in general.\r\nOn our nodes, with 50 peers, the goroutine count is ~600-650\r\n\r\nhttps://discord.com/channels/482467812179181568/482467812816977921/862323752695103519\r\nin https://discord.gg/VNnEHqsHMr\r\n\r\nNote: If you are looking to access the pprof web page over the LAN, you'll also need `--pprof.addr=0.0.0.0` and port `6060/tcp` open on your host firewall, like ufw. Be careful not to expose the port to \"Internet at large\".\r\n\r\n**Note**: Wait until Geth uses 11GiB+, ideally even 14GiB+ of RAM, before running a report. The initial increase up to 8-9 GiB might not be that instructive. Geth 1.10.3 used 8-9 GiB of RAM on mainnet with default settings, that level of use is expected. ",
  "closed_by": {
    "login": "MariusVanDerWijden",
    "id": 16664698,
    "node_id": "MDQ6VXNlcjE2NjY0Njk4",
    "avatar_url": "https://avatars.githubusercontent.com/u/16664698?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/MariusVanDerWijden",
    "html_url": "https://github.com/MariusVanDerWijden",
    "followers_url": "https://api.github.com/users/MariusVanDerWijden/followers",
    "following_url": "https://api.github.com/users/MariusVanDerWijden/following{/other_user}",
    "gists_url": "https://api.github.com/users/MariusVanDerWijden/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/MariusVanDerWijden/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/MariusVanDerWijden/subscriptions",
    "organizations_url": "https://api.github.com/users/MariusVanDerWijden/orgs",
    "repos_url": "https://api.github.com/users/MariusVanDerWijden/repos",
    "events_url": "https://api.github.com/users/MariusVanDerWijden/events{/privacy}",
    "received_events_url": "https://api.github.com/users/MariusVanDerWijden/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23195/reactions",
    "total_count": 3,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 3
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23195/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/877790086",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/23195#issuecomment-877790086",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23195",
    "id": 877790086,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg3Nzc5MDA4Ng==",
    "user": {
      "login": "DanHenton",
      "id": 7565646,
      "node_id": "MDQ6VXNlcjc1NjU2NDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7565646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/DanHenton",
      "html_url": "https://github.com/DanHenton",
      "followers_url": "https://api.github.com/users/DanHenton/followers",
      "following_url": "https://api.github.com/users/DanHenton/following{/other_user}",
      "gists_url": "https://api.github.com/users/DanHenton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/DanHenton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/DanHenton/subscriptions",
      "organizations_url": "https://api.github.com/users/DanHenton/orgs",
      "repos_url": "https://api.github.com/users/DanHenton/repos",
      "events_url": "https://api.github.com/users/DanHenton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/DanHenton/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-11T12:19:40Z",
    "updated_at": "2021-07-11T12:19:40Z",
    "author_association": "NONE",
    "body": "I restarted my node recently here is two scans that were taken a few minutes apart with increasing Bitmap sizes.\r\n\r\n[First scan](https://gist.github.com/DanHenton/08e9c7edb42d674eb485c4239c5fff86)\r\n[Second scan](https://gist.github.com/DanHenton/94c6ebcafedca3c564bdefd39adc2748)\r\n\r\nVERSION:                                                                                                                                                                                     \r\n   1.10.4-stable-aa637fd3 \r\n \r\nNote: I'm running `mainnet` and `pyrmont` on one machine with 64GB my current average MEM usage is ~65% but was up over 80% before I restarted the machine.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/877790086/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/877831342",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/23195#issuecomment-877831342",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23195",
    "id": 877831342,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg3NzgzMTM0Mg==",
    "user": {
      "login": "adrienlacombe-ledger",
      "id": 6303520,
      "node_id": "MDQ6VXNlcjYzMDM1MjA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6303520?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/adrienlacombe-ledger",
      "html_url": "https://github.com/adrienlacombe-ledger",
      "followers_url": "https://api.github.com/users/adrienlacombe-ledger/followers",
      "following_url": "https://api.github.com/users/adrienlacombe-ledger/following{/other_user}",
      "gists_url": "https://api.github.com/users/adrienlacombe-ledger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/adrienlacombe-ledger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/adrienlacombe-ledger/subscriptions",
      "organizations_url": "https://api.github.com/users/adrienlacombe-ledger/orgs",
      "repos_url": "https://api.github.com/users/adrienlacombe-ledger/repos",
      "events_url": "https://api.github.com/users/adrienlacombe-ledger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/adrienlacombe-ledger/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-11T16:52:08Z",
    "updated_at": "2021-07-12T04:28:37Z",
    "author_association": "CONTRIBUTOR",
    "body": "Approx 5G of RAM used by geth at the time of the first report, 12 before restart\r\n\r\nReports:\r\n\"node\" @ 2021-07-11 16:48:31 +0000 UTC\r\n\"node\" @ 2021-07-11 19:50:47 +0000 UTC\r\n\"node\" @ 2021-07-12 04:26:07 +0000 UTC\r\n\r\nFirst report here: https://gist.github.com/adrienlacombe/a9d89abcf44d165f1ddf4af55076b8a1\r\nSecond report here, RAM keeps increasing: https://gist.github.com/adrienlacombe/4fae6df9c6541aa110468e69ca6fbed1\r\nThird report here, RAM keeps increasing: https://gist.github.com/adrienlacombe/4e3c9918ab4236a47fd83795634fd458\r\n\r\nGeth used for eth2 only",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/877831342/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/877836145",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/23195#issuecomment-877836145",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23195",
    "id": 877836145,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg3NzgzNjE0NQ==",
    "user": {
      "login": "odyslam",
      "id": 13405632,
      "node_id": "MDQ6VXNlcjEzNDA1NjMy",
      "avatar_url": "https://avatars.githubusercontent.com/u/13405632?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/odyslam",
      "html_url": "https://github.com/odyslam",
      "followers_url": "https://api.github.com/users/odyslam/followers",
      "following_url": "https://api.github.com/users/odyslam/following{/other_user}",
      "gists_url": "https://api.github.com/users/odyslam/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/odyslam/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/odyslam/subscriptions",
      "organizations_url": "https://api.github.com/users/odyslam/orgs",
      "repos_url": "https://api.github.com/users/odyslam/repos",
      "events_url": "https://api.github.com/users/odyslam/events{/privacy}",
      "received_events_url": "https://api.github.com/users/odyslam/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-11T17:32:12Z",
    "updated_at": "2021-07-11T17:32:12Z",
    "author_association": "CONTRIBUTOR",
    "body": "Tangiantely relevant, but if I enable the --pprof server, I can't enable the metrics server, since both use port 6060.  Port for metrics must be changed with `--metrics.port value  ` so that they both co-exist.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/877836145/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/877875369",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/23195#issuecomment-877875369",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23195",
    "id": 877875369,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg3Nzg3NTM2OQ==",
    "user": {
      "login": "DanHenton",
      "id": 7565646,
      "node_id": "MDQ6VXNlcjc1NjU2NDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7565646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/DanHenton",
      "html_url": "https://github.com/DanHenton",
      "followers_url": "https://api.github.com/users/DanHenton/followers",
      "following_url": "https://api.github.com/users/DanHenton/following{/other_user}",
      "gists_url": "https://api.github.com/users/DanHenton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/DanHenton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/DanHenton/subscriptions",
      "organizations_url": "https://api.github.com/users/DanHenton/orgs",
      "repos_url": "https://api.github.com/users/DanHenton/repos",
      "events_url": "https://api.github.com/users/DanHenton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/DanHenton/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-11T23:11:48Z",
    "updated_at": "2021-07-11T23:11:48Z",
    "author_association": "NONE",
    "body": "Here is a scan roughly 12 hours later. still increasing in memory allocation\r\n\r\n[12hr scan](https://gist.github.com/DanHenton/62a281a2e765d0130d515e7430bc3ea5)\r\n\r\nHope it helps :smile: ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/877875369/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/878010065",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/23195#issuecomment-878010065",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23195",
    "id": 878010065,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg3ODAxMDA2NQ==",
    "user": {
      "login": "MariusVanDerWijden",
      "id": 16664698,
      "node_id": "MDQ6VXNlcjE2NjY0Njk4",
      "avatar_url": "https://avatars.githubusercontent.com/u/16664698?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MariusVanDerWijden",
      "html_url": "https://github.com/MariusVanDerWijden",
      "followers_url": "https://api.github.com/users/MariusVanDerWijden/followers",
      "following_url": "https://api.github.com/users/MariusVanDerWijden/following{/other_user}",
      "gists_url": "https://api.github.com/users/MariusVanDerWijden/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MariusVanDerWijden/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MariusVanDerWijden/subscriptions",
      "organizations_url": "https://api.github.com/users/MariusVanDerWijden/orgs",
      "repos_url": "https://api.github.com/users/MariusVanDerWijden/repos",
      "events_url": "https://api.github.com/users/MariusVanDerWijden/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MariusVanDerWijden/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-12T06:31:37Z",
    "updated_at": "2021-07-12T06:31:37Z",
    "author_association": "MEMBER",
    "body": "@adrienlacombe @DanHenton Thank you for providing so many data points!\r\nCould you run `geth attach --exec debug.writeMemProfile\\(\\\"memprofile\\\"\\)` on your nodes? It creates a file `memprofile` which contains detailed information about where the memory is retained/allocated/etc. \r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/878010065/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/878027128",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/23195#issuecomment-878027128",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23195",
    "id": 878027128,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg3ODAyNzEyOA==",
    "user": {
      "login": "adrienlacombe-ledger",
      "id": 6303520,
      "node_id": "MDQ6VXNlcjYzMDM1MjA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6303520?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/adrienlacombe-ledger",
      "html_url": "https://github.com/adrienlacombe-ledger",
      "followers_url": "https://api.github.com/users/adrienlacombe-ledger/followers",
      "following_url": "https://api.github.com/users/adrienlacombe-ledger/following{/other_user}",
      "gists_url": "https://api.github.com/users/adrienlacombe-ledger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/adrienlacombe-ledger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/adrienlacombe-ledger/subscriptions",
      "organizations_url": "https://api.github.com/users/adrienlacombe-ledger/orgs",
      "repos_url": "https://api.github.com/users/adrienlacombe-ledger/repos",
      "events_url": "https://api.github.com/users/adrienlacombe-ledger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/adrienlacombe-ledger/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-12T07:06:10Z",
    "updated_at": "2021-07-12T07:06:10Z",
    "author_association": "CONTRIBUTOR",
    "body": "@MariusVanDerWijden thank you for your help! Here is the file.\r\n[memprofile.zip](https://github.com/ethereum/go-ethereum/files/6799264/memprofile.zip)\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/878027128/reactions",
      "total_count": 2,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 2,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/878093845",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/23195#issuecomment-878093845",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23195",
    "id": 878093845,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg3ODA5Mzg0NQ==",
    "user": {
      "login": "adrienlacombe-ledger",
      "id": 6303520,
      "node_id": "MDQ6VXNlcjYzMDM1MjA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6303520?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/adrienlacombe-ledger",
      "html_url": "https://github.com/adrienlacombe-ledger",
      "followers_url": "https://api.github.com/users/adrienlacombe-ledger/followers",
      "following_url": "https://api.github.com/users/adrienlacombe-ledger/following{/other_user}",
      "gists_url": "https://api.github.com/users/adrienlacombe-ledger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/adrienlacombe-ledger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/adrienlacombe-ledger/subscriptions",
      "organizations_url": "https://api.github.com/users/adrienlacombe-ledger/orgs",
      "repos_url": "https://api.github.com/users/adrienlacombe-ledger/repos",
      "events_url": "https://api.github.com/users/adrienlacombe-ledger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/adrienlacombe-ledger/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-12T08:49:11Z",
    "updated_at": "2021-07-12T08:49:11Z",
    "author_association": "CONTRIBUTOR",
    "body": "@MariusVanDerWijden debug.stacks results\r\n[stacks.txt](https://github.com/ethereum/go-ethereum/files/6799937/stacks.txt)\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/878093845/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 1,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/878252439",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/23195#issuecomment-878252439",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23195",
    "id": 878252439,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg3ODI1MjQzOQ==",
    "user": {
      "login": "colorfulcoin",
      "id": 87288642,
      "node_id": "MDQ6VXNlcjg3Mjg4NjQy",
      "avatar_url": "https://avatars.githubusercontent.com/u/87288642?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/colorfulcoin",
      "html_url": "https://github.com/colorfulcoin",
      "followers_url": "https://api.github.com/users/colorfulcoin/followers",
      "following_url": "https://api.github.com/users/colorfulcoin/following{/other_user}",
      "gists_url": "https://api.github.com/users/colorfulcoin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/colorfulcoin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/colorfulcoin/subscriptions",
      "organizations_url": "https://api.github.com/users/colorfulcoin/orgs",
      "repos_url": "https://api.github.com/users/colorfulcoin/repos",
      "events_url": "https://api.github.com/users/colorfulcoin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/colorfulcoin/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-12T12:50:21Z",
    "updated_at": "2021-07-12T12:52:50Z",
    "author_association": "NONE",
    "body": "When I run, `sudo systemctl status geth`, it shows 21.5Gb. Here's the output.  The numbers look smaller in the report, but I'm not sure I am reading it correctly. I also just started running the node recently, so I don't have a baseline to compare against, but was told in the discord that anything above 10Gb should be posted.\r\n\r\nRunning my node with `geth --http --datadir /var/lib/goethereum --cache 10240 --maxpeers 50 --pprof`\r\n\r\n[gethscan.txt](https://github.com/ethereum/go-ethereum/files/6801494/gethscan.txt)\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/878252439/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/878274837",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/23195#issuecomment-878274837",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23195",
    "id": 878274837,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg3ODI3NDgzNw==",
    "user": {
      "login": "MariusVanDerWijden",
      "id": 16664698,
      "node_id": "MDQ6VXNlcjE2NjY0Njk4",
      "avatar_url": "https://avatars.githubusercontent.com/u/16664698?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MariusVanDerWijden",
      "html_url": "https://github.com/MariusVanDerWijden",
      "followers_url": "https://api.github.com/users/MariusVanDerWijden/followers",
      "following_url": "https://api.github.com/users/MariusVanDerWijden/following{/other_user}",
      "gists_url": "https://api.github.com/users/MariusVanDerWijden/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MariusVanDerWijden/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MariusVanDerWijden/subscriptions",
      "organizations_url": "https://api.github.com/users/MariusVanDerWijden/orgs",
      "repos_url": "https://api.github.com/users/MariusVanDerWijden/repos",
      "events_url": "https://api.github.com/users/MariusVanDerWijden/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MariusVanDerWijden/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-12T13:21:49Z",
    "updated_at": "2021-07-12T13:21:49Z",
    "author_association": "MEMBER",
    "body": "@colorfulcoin Could you also run\r\n`geth attach --exec debug.stacks\\(\\) > file` and \r\n`geth attach --exec debug.writeMemProfile\\(\\\"memprofile\\\"\\)` and paste the resulting files `memprofile` and `file` here",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/878274837/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/878302299",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/23195#issuecomment-878302299",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23195",
    "id": 878302299,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg3ODMwMjI5OQ==",
    "user": {
      "login": "colorfulcoin",
      "id": 87288642,
      "node_id": "MDQ6VXNlcjg3Mjg4NjQy",
      "avatar_url": "https://avatars.githubusercontent.com/u/87288642?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/colorfulcoin",
      "html_url": "https://github.com/colorfulcoin",
      "followers_url": "https://api.github.com/users/colorfulcoin/followers",
      "following_url": "https://api.github.com/users/colorfulcoin/following{/other_user}",
      "gists_url": "https://api.github.com/users/colorfulcoin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/colorfulcoin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/colorfulcoin/subscriptions",
      "organizations_url": "https://api.github.com/users/colorfulcoin/orgs",
      "repos_url": "https://api.github.com/users/colorfulcoin/repos",
      "events_url": "https://api.github.com/users/colorfulcoin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/colorfulcoin/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-12T13:58:18Z",
    "updated_at": "2021-07-12T14:16:41Z",
    "author_association": "NONE",
    "body": "@MariusVanDerWijden no problem, happy to help. When I run `geth attach http://127.0.0.1:8545 --exec debug.stacks\\(\\) > file` and cat file I get this. Any suggestions for what flags I need to be running to enable debug?\r\n\r\n```\r\nReferenceError: debug is not defined\r\n\tat <eval>:1:1(0)\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/878302299/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/878321529",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/23195#issuecomment-878321529",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23195",
    "id": 878321529,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg3ODMyMTUyOQ==",
    "user": {
      "login": "holiman",
      "id": 142290,
      "node_id": "MDQ6VXNlcjE0MjI5MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/142290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/holiman",
      "html_url": "https://github.com/holiman",
      "followers_url": "https://api.github.com/users/holiman/followers",
      "following_url": "https://api.github.com/users/holiman/following{/other_user}",
      "gists_url": "https://api.github.com/users/holiman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/holiman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/holiman/subscriptions",
      "organizations_url": "https://api.github.com/users/holiman/orgs",
      "repos_url": "https://api.github.com/users/holiman/repos",
      "events_url": "https://api.github.com/users/holiman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/holiman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-12T14:21:38Z",
    "updated_at": "2021-07-12T14:21:38Z",
    "author_association": "MEMBER",
    "body": "The debug namespace is by default not available over http, but should work if you attach to the ipc endpoint",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/878321529/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/878328886",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/23195#issuecomment-878328886",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23195",
    "id": 878328886,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg3ODMyODg4Ng==",
    "user": {
      "login": "dimsome",
      "id": 69167058,
      "node_id": "MDQ6VXNlcjY5MTY3MDU4",
      "avatar_url": "https://avatars.githubusercontent.com/u/69167058?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dimsome",
      "html_url": "https://github.com/dimsome",
      "followers_url": "https://api.github.com/users/dimsome/followers",
      "following_url": "https://api.github.com/users/dimsome/following{/other_user}",
      "gists_url": "https://api.github.com/users/dimsome/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dimsome/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dimsome/subscriptions",
      "organizations_url": "https://api.github.com/users/dimsome/orgs",
      "repos_url": "https://api.github.com/users/dimsome/repos",
      "events_url": "https://api.github.com/users/dimsome/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dimsome/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-12T14:31:04Z",
    "updated_at": "2021-07-12T14:31:20Z",
    "author_association": "NONE",
    "body": "Two reports attached:\r\nThe first one not too long after the start, the second one roughly after 24 hours (maybe more).\r\n\r\n[SCANS](https://gist.github.com/dimsome/3abc00930e10afb82a60af25b29c5c92)",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/878328886/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/878554498",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/23195#issuecomment-878554498",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23195",
    "id": 878554498,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg3ODU1NDQ5OA==",
    "user": {
      "login": "colorfulcoin",
      "id": 87288642,
      "node_id": "MDQ6VXNlcjg3Mjg4NjQy",
      "avatar_url": "https://avatars.githubusercontent.com/u/87288642?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/colorfulcoin",
      "html_url": "https://github.com/colorfulcoin",
      "followers_url": "https://api.github.com/users/colorfulcoin/followers",
      "following_url": "https://api.github.com/users/colorfulcoin/following{/other_user}",
      "gists_url": "https://api.github.com/users/colorfulcoin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/colorfulcoin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/colorfulcoin/subscriptions",
      "organizations_url": "https://api.github.com/users/colorfulcoin/orgs",
      "repos_url": "https://api.github.com/users/colorfulcoin/repos",
      "events_url": "https://api.github.com/users/colorfulcoin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/colorfulcoin/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-12T20:00:20Z",
    "updated_at": "2021-07-12T20:57:13Z",
    "author_association": "NONE",
    "body": "@MariusVanDerWijden See attached. I ran a new scan as well. I was unable to get `sudo geth attach /var/lib/goethereum/geth.ipc --exec debug.writeMemProfile\\(\\\"memprofile\\\"\\)` to run. Getting:\r\n\r\n```\r\nError: open memprofile: permission denied\r\n\tat web3.js:6357:37(47)\r\n\tat web3.js:5091:62(37)\r\n\tat <eval>:1:22(4)\r\n```\r\n\r\n[file.txt](https://github.com/ethereum/go-ethereum/files/6804077/file.txt)\r\n[gethscan.txt](https://github.com/ethereum/go-ethereum/files/6804080/gethscan.txt)\r\n[memeprofile.txt](https://github.com/ethereum/go-ethereum/files/6804305/memeprofile.txt)\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/878554498/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/878567071",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/23195#issuecomment-878567071",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23195",
    "id": 878567071,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg3ODU2NzA3MQ==",
    "user": {
      "login": "adrienlacombe-ledger",
      "id": 6303520,
      "node_id": "MDQ6VXNlcjYzMDM1MjA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6303520?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/adrienlacombe-ledger",
      "html_url": "https://github.com/adrienlacombe-ledger",
      "followers_url": "https://api.github.com/users/adrienlacombe-ledger/followers",
      "following_url": "https://api.github.com/users/adrienlacombe-ledger/following{/other_user}",
      "gists_url": "https://api.github.com/users/adrienlacombe-ledger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/adrienlacombe-ledger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/adrienlacombe-ledger/subscriptions",
      "organizations_url": "https://api.github.com/users/adrienlacombe-ledger/orgs",
      "repos_url": "https://api.github.com/users/adrienlacombe-ledger/repos",
      "events_url": "https://api.github.com/users/adrienlacombe-ledger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/adrienlacombe-ledger/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-12T20:18:49Z",
    "updated_at": "2021-07-12T20:19:14Z",
    "author_association": "CONTRIBUTOR",
    "body": "@colorfulcoin I had the same issue, try `sudo geth attach /var/lib/goethereum/geth.ipc --exec debug.writeMemProfile\\(\\\"tmp\\/memprofile\\\"\\)`",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/878567071/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/878570086",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/23195#issuecomment-878570086",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23195",
    "id": 878570086,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg3ODU3MDA4Ng==",
    "user": {
      "login": "colorfulcoin",
      "id": 87288642,
      "node_id": "MDQ6VXNlcjg3Mjg4NjQy",
      "avatar_url": "https://avatars.githubusercontent.com/u/87288642?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/colorfulcoin",
      "html_url": "https://github.com/colorfulcoin",
      "followers_url": "https://api.github.com/users/colorfulcoin/followers",
      "following_url": "https://api.github.com/users/colorfulcoin/following{/other_user}",
      "gists_url": "https://api.github.com/users/colorfulcoin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/colorfulcoin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/colorfulcoin/subscriptions",
      "organizations_url": "https://api.github.com/users/colorfulcoin/orgs",
      "repos_url": "https://api.github.com/users/colorfulcoin/repos",
      "events_url": "https://api.github.com/users/colorfulcoin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/colorfulcoin/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-12T20:23:32Z",
    "updated_at": "2021-07-12T20:23:32Z",
    "author_association": "NONE",
    "body": "@adrienlacombe that outputs `null`. What is that command doing? I am assuming it outputs something somewhere.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/878570086/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/878575912",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/23195#issuecomment-878575912",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23195",
    "id": 878575912,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg3ODU3NTkxMg==",
    "user": {
      "login": "adrienlacombe-ledger",
      "id": 6303520,
      "node_id": "MDQ6VXNlcjYzMDM1MjA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6303520?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/adrienlacombe-ledger",
      "html_url": "https://github.com/adrienlacombe-ledger",
      "followers_url": "https://api.github.com/users/adrienlacombe-ledger/followers",
      "following_url": "https://api.github.com/users/adrienlacombe-ledger/following{/other_user}",
      "gists_url": "https://api.github.com/users/adrienlacombe-ledger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/adrienlacombe-ledger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/adrienlacombe-ledger/subscriptions",
      "organizations_url": "https://api.github.com/users/adrienlacombe-ledger/orgs",
      "repos_url": "https://api.github.com/users/adrienlacombe-ledger/repos",
      "events_url": "https://api.github.com/users/adrienlacombe-ledger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/adrienlacombe-ledger/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-12T20:33:14Z",
    "updated_at": "2021-07-12T20:33:14Z",
    "author_association": "CONTRIBUTOR",
    "body": "That's good, you should now have a file with name memprofile in /tmp/ folder @colorfulcoin ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/878575912/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/878577147",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/23195#issuecomment-878577147",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23195",
    "id": 878577147,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg3ODU3NzE0Nw==",
    "user": {
      "login": "colorfulcoin",
      "id": 87288642,
      "node_id": "MDQ6VXNlcjg3Mjg4NjQy",
      "avatar_url": "https://avatars.githubusercontent.com/u/87288642?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/colorfulcoin",
      "html_url": "https://github.com/colorfulcoin",
      "followers_url": "https://api.github.com/users/colorfulcoin/followers",
      "following_url": "https://api.github.com/users/colorfulcoin/following{/other_user}",
      "gists_url": "https://api.github.com/users/colorfulcoin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/colorfulcoin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/colorfulcoin/subscriptions",
      "organizations_url": "https://api.github.com/users/colorfulcoin/orgs",
      "repos_url": "https://api.github.com/users/colorfulcoin/repos",
      "events_url": "https://api.github.com/users/colorfulcoin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/colorfulcoin/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-12T20:35:17Z",
    "updated_at": "2021-07-12T20:35:44Z",
    "author_association": "NONE",
    "body": "@adrienlacombe It seems to be encoded/encrypted. Cat the file just leads a bunch of stuff like this `o�u24�Kٰ���d�.sI���Gc��Z�;��ު�{xF�C����A���n2����dN��hG�?` Not sure what the ask is here.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/878577147/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/878587161",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/23195#issuecomment-878587161",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23195",
    "id": 878587161,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg3ODU4NzE2MQ==",
    "user": {
      "login": "adrienlacombe-ledger",
      "id": 6303520,
      "node_id": "MDQ6VXNlcjYzMDM1MjA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6303520?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/adrienlacombe-ledger",
      "html_url": "https://github.com/adrienlacombe-ledger",
      "followers_url": "https://api.github.com/users/adrienlacombe-ledger/followers",
      "following_url": "https://api.github.com/users/adrienlacombe-ledger/following{/other_user}",
      "gists_url": "https://api.github.com/users/adrienlacombe-ledger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/adrienlacombe-ledger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/adrienlacombe-ledger/subscriptions",
      "organizations_url": "https://api.github.com/users/adrienlacombe-ledger/orgs",
      "repos_url": "https://api.github.com/users/adrienlacombe-ledger/repos",
      "events_url": "https://api.github.com/users/adrienlacombe-ledger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/adrienlacombe-ledger/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-12T20:52:53Z",
    "updated_at": "2021-07-12T20:52:53Z",
    "author_association": "CONTRIBUTOR",
    "body": "This is fine @colorfulcoin upload the file here.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/878587161/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/878589780",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/23195#issuecomment-878589780",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23195",
    "id": 878589780,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg3ODU4OTc4MA==",
    "user": {
      "login": "colorfulcoin",
      "id": 87288642,
      "node_id": "MDQ6VXNlcjg3Mjg4NjQy",
      "avatar_url": "https://avatars.githubusercontent.com/u/87288642?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/colorfulcoin",
      "html_url": "https://github.com/colorfulcoin",
      "followers_url": "https://api.github.com/users/colorfulcoin/followers",
      "following_url": "https://api.github.com/users/colorfulcoin/following{/other_user}",
      "gists_url": "https://api.github.com/users/colorfulcoin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/colorfulcoin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/colorfulcoin/subscriptions",
      "organizations_url": "https://api.github.com/users/colorfulcoin/orgs",
      "repos_url": "https://api.github.com/users/colorfulcoin/repos",
      "events_url": "https://api.github.com/users/colorfulcoin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/colorfulcoin/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-12T20:57:40Z",
    "updated_at": "2021-07-12T20:57:40Z",
    "author_association": "NONE",
    "body": "ok I've modified my above comment to add it.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/878589780/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/878606201",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/23195#issuecomment-878606201",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23195",
    "id": 878606201,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg3ODYwNjIwMQ==",
    "user": {
      "login": "fjl",
      "id": 6915,
      "node_id": "MDQ6VXNlcjY5MTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6915?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fjl",
      "html_url": "https://github.com/fjl",
      "followers_url": "https://api.github.com/users/fjl/followers",
      "following_url": "https://api.github.com/users/fjl/following{/other_user}",
      "gists_url": "https://api.github.com/users/fjl/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fjl/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fjl/subscriptions",
      "organizations_url": "https://api.github.com/users/fjl/orgs",
      "repos_url": "https://api.github.com/users/fjl/repos",
      "events_url": "https://api.github.com/users/fjl/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fjl/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-12T21:23:06Z",
    "updated_at": "2021-07-12T21:23:22Z",
    "author_association": "MEMBER",
    "body": "@colorfulcoin The memprofile is a binary file. It contains information about objects in the memory used by geth. Specifically, it contains the place in the code where each object was created.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/878606201/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/879012277",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/23195#issuecomment-879012277",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23195",
    "id": 879012277,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg3OTAxMjI3Nw==",
    "user": {
      "login": "odyslam",
      "id": 13405632,
      "node_id": "MDQ6VXNlcjEzNDA1NjMy",
      "avatar_url": "https://avatars.githubusercontent.com/u/13405632?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/odyslam",
      "html_url": "https://github.com/odyslam",
      "followers_url": "https://api.github.com/users/odyslam/followers",
      "following_url": "https://api.github.com/users/odyslam/following{/other_user}",
      "gists_url": "https://api.github.com/users/odyslam/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/odyslam/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/odyslam/subscriptions",
      "organizations_url": "https://api.github.com/users/odyslam/orgs",
      "repos_url": "https://api.github.com/users/odyslam/repos",
      "events_url": "https://api.github.com/users/odyslam/events{/privacy}",
      "received_events_url": "https://api.github.com/users/odyslam/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-13T11:35:46Z",
    "updated_at": "2021-07-13T12:13:20Z",
    "author_association": "CONTRIBUTOR",
    "body": "@yorickdowne, regarding the goroutines issue you mentioned. I have found this GETH in the wild and apparently has about 1.5K goroutines.\r\n\r\nedit: Because the server has also exposed the `pprof` flag, perhaps it's better to send it over DM in discord. My  username is `odyslam`.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/879012277/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/879152684",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/23195#issuecomment-879152684",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23195",
    "id": 879152684,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg3OTE1MjY4NA==",
    "user": {
      "login": "yorickdowne",
      "id": 71337066,
      "node_id": "MDQ6VXNlcjcxMzM3MDY2",
      "avatar_url": "https://avatars.githubusercontent.com/u/71337066?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/yorickdowne",
      "html_url": "https://github.com/yorickdowne",
      "followers_url": "https://api.github.com/users/yorickdowne/followers",
      "following_url": "https://api.github.com/users/yorickdowne/following{/other_user}",
      "gists_url": "https://api.github.com/users/yorickdowne/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/yorickdowne/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/yorickdowne/subscriptions",
      "organizations_url": "https://api.github.com/users/yorickdowne/orgs",
      "repos_url": "https://api.github.com/users/yorickdowne/repos",
      "events_url": "https://api.github.com/users/yorickdowne/events{/privacy}",
      "received_events_url": "https://api.github.com/users/yorickdowne/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-13T14:47:04Z",
    "updated_at": "2021-07-13T14:47:04Z",
    "author_association": "NONE",
    "body": "@fjl ^^",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/879152684/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/879379372",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/23195#issuecomment-879379372",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23195",
    "id": 879379372,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg3OTM3OTM3Mg==",
    "user": {
      "login": "SeaMonkey82",
      "id": 20866869,
      "node_id": "MDQ6VXNlcjIwODY2ODY5",
      "avatar_url": "https://avatars.githubusercontent.com/u/20866869?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/SeaMonkey82",
      "html_url": "https://github.com/SeaMonkey82",
      "followers_url": "https://api.github.com/users/SeaMonkey82/followers",
      "following_url": "https://api.github.com/users/SeaMonkey82/following{/other_user}",
      "gists_url": "https://api.github.com/users/SeaMonkey82/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/SeaMonkey82/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SeaMonkey82/subscriptions",
      "organizations_url": "https://api.github.com/users/SeaMonkey82/orgs",
      "repos_url": "https://api.github.com/users/SeaMonkey82/repos",
      "events_url": "https://api.github.com/users/SeaMonkey82/events{/privacy}",
      "received_events_url": "https://api.github.com/users/SeaMonkey82/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-13T20:26:51Z",
    "updated_at": "2021-07-13T20:39:24Z",
    "author_association": "NONE",
    "body": "This isn't entirely necessary for helping troubleshoot this, but it's relevant and something I've been meaning to add to my monitoring solution anyhow. The linked dashboard includes a graph for both memory usage and goroutines, so you could even set up a Grafana alert so you know when memory usage reaches 14GB (when the pprof scan becomes useful for troubleshooting purposes).\r\n\r\n[Monitoring Geth with InfluxDB and Grafana](https://ethereum.org/en/developers/tutorials/monitoring-geth-with-influxdb-and-grafana/)",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/879379372/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/880533289",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/23195#issuecomment-880533289",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23195",
    "id": 880533289,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg4MDUzMzI4OQ==",
    "user": {
      "login": "holiman",
      "id": 142290,
      "node_id": "MDQ6VXNlcjE0MjI5MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/142290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/holiman",
      "html_url": "https://github.com/holiman",
      "followers_url": "https://api.github.com/users/holiman/followers",
      "following_url": "https://api.github.com/users/holiman/following{/other_user}",
      "gists_url": "https://api.github.com/users/holiman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/holiman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/holiman/subscriptions",
      "organizations_url": "https://api.github.com/users/holiman/orgs",
      "repos_url": "https://api.github.com/users/holiman/repos",
      "events_url": "https://api.github.com/users/holiman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/holiman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-15T09:13:09Z",
    "updated_at": "2021-07-15T09:13:09Z",
    "author_association": "MEMBER",
    "body": "@yorickdowne sent info to you on how to investigate further, see discord",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/880533289/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/881352159",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/23195#issuecomment-881352159",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23195",
    "id": 881352159,
    "node_id": "IC_kwDOAOvK9840iF3f",
    "user": {
      "login": "begetan",
      "id": 17225934,
      "node_id": "MDQ6VXNlcjE3MjI1OTM0",
      "avatar_url": "https://avatars.githubusercontent.com/u/17225934?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/begetan",
      "html_url": "https://github.com/begetan",
      "followers_url": "https://api.github.com/users/begetan/followers",
      "following_url": "https://api.github.com/users/begetan/following{/other_user}",
      "gists_url": "https://api.github.com/users/begetan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/begetan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/begetan/subscriptions",
      "organizations_url": "https://api.github.com/users/begetan/orgs",
      "repos_url": "https://api.github.com/users/begetan/repos",
      "events_url": "https://api.github.com/users/begetan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/begetan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-16T10:39:28Z",
    "updated_at": "2021-07-16T10:39:28Z",
    "author_association": "NONE",
    "body": "I did a lot of snapshot syncing tests recently for the version of 1.10.4\r\nIn all configurations, I saw a Geth memory leak. It grows up around 1GB/per day.  Geth on a test node with 8GB RAM and `--cache=3072` was killed by the OOM killer after 4-5 days of uptime. \r\n\r\nI run a test node now sith disabled snapshot feature based on this [ticket](https://github.com/ethereum/go-ethereum/issues/23075) \r\n\r\nHere is the current measurement:\r\n\r\n- 4,7 GB after sync completed\r\n- 5,1 GB on day 1\r\n- 5,3 GB on day 2\r\n- 5,5 GB on day 3\r\n\r\nI know we should wait until Geth grows up to 7-9Gb before any conclusion.\r\n\r\nBut I would suggest digging into this direction.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/881352159/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/881618876",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/23195#issuecomment-881618876",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23195",
    "id": 881618876,
    "node_id": "IC_kwDOAOvK9840jG-8",
    "user": {
      "login": "jacobfrank250",
      "id": 40008781,
      "node_id": "MDQ6VXNlcjQwMDA4Nzgx",
      "avatar_url": "https://avatars.githubusercontent.com/u/40008781?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jacobfrank250",
      "html_url": "https://github.com/jacobfrank250",
      "followers_url": "https://api.github.com/users/jacobfrank250/followers",
      "following_url": "https://api.github.com/users/jacobfrank250/following{/other_user}",
      "gists_url": "https://api.github.com/users/jacobfrank250/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jacobfrank250/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jacobfrank250/subscriptions",
      "organizations_url": "https://api.github.com/users/jacobfrank250/orgs",
      "repos_url": "https://api.github.com/users/jacobfrank250/repos",
      "events_url": "https://api.github.com/users/jacobfrank250/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jacobfrank250/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-16T17:54:09Z",
    "updated_at": "2021-07-16T17:54:09Z",
    "author_association": "NONE",
    "body": "I have been trying to sync, and geth will not run for more than 3 hours (often less) without stopping. I believe I am running out of memory. I only have 4 GB Ram, but I thought this was the base requirement. I generated files as suggested by @MariusVanDerWijden, by running  \r\n./geth attach --exec debug.stacks\\(\\) > file and\r\n./geth attach --exec debug.writeMemProfile\\(\\\"memprofile\\\"\\) \r\n\r\nHere are those files\r\n[file.txt](https://github.com/ethereum/go-ethereum/files/6832564/file.txt)\r\n[memprofile.txt](https://github.com/ethereum/go-ethereum/files/6832565/memprofile.txt)",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/881618876/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/881678365",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/23195#issuecomment-881678365",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23195",
    "id": 881678365,
    "node_id": "IC_kwDOAOvK9840jVgd",
    "user": {
      "login": "holiman",
      "id": 142290,
      "node_id": "MDQ6VXNlcjE0MjI5MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/142290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/holiman",
      "html_url": "https://github.com/holiman",
      "followers_url": "https://api.github.com/users/holiman/followers",
      "following_url": "https://api.github.com/users/holiman/following{/other_user}",
      "gists_url": "https://api.github.com/users/holiman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/holiman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/holiman/subscriptions",
      "organizations_url": "https://api.github.com/users/holiman/orgs",
      "repos_url": "https://api.github.com/users/holiman/repos",
      "events_url": "https://api.github.com/users/holiman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/holiman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-16T19:45:52Z",
    "updated_at": "2021-07-16T19:45:52Z",
    "author_association": "MEMBER",
    "body": "Seems that many of these reports concern snap sync. I'm doing a benchmark run of `1.10.3` vs `1.10.5` now, to see if we can repro it in our internal environments. \r\n\r\nIf not, then another possibility might be that the \"comomn ground\" is the RPC load from being eth2 backends, and something has regressed in that department. ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/881678365/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/881855393",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/23195#issuecomment-881855393",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23195",
    "id": 881855393,
    "node_id": "IC_kwDOAOvK9840kAuh",
    "user": {
      "login": "holiman",
      "id": 142290,
      "node_id": "MDQ6VXNlcjE0MjI5MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/142290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/holiman",
      "html_url": "https://github.com/holiman",
      "followers_url": "https://api.github.com/users/holiman/followers",
      "following_url": "https://api.github.com/users/holiman/following{/other_user}",
      "gists_url": "https://api.github.com/users/holiman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/holiman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/holiman/subscriptions",
      "organizations_url": "https://api.github.com/users/holiman/orgs",
      "repos_url": "https://api.github.com/users/holiman/repos",
      "events_url": "https://api.github.com/users/holiman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/holiman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-17T08:16:10Z",
    "updated_at": "2021-07-17T08:16:10Z",
    "author_association": "MEMBER",
    "body": "During sync, `1.10.5` is indeed a bit higher in memory usage, which is a side-effect of it being faster downloading headers/block data. It achieves higher ingress speeds, and  competes that phase sooner: \r\n\r\n`1.10.5` is green, and `1.10.3` is yellow:  \r\n![Screenshot_2021-07-17 Dual Geth - Grafana](https://user-images.githubusercontent.com/142290/126030778-597ed11c-4487-48a8-8ba8-5e8a9dba05c6.png)\r\n\r\n![Screenshot_2021-07-17 Dual Geth - Grafana(1)](https://user-images.githubusercontent.com/142290/126030826-eb5e609b-cbc7-4d1a-9fe2-b80b87342a50.png)\r\n\r\nAlthough the usage is a bit higher, I don't think it is high enough to be the culprit behind the bug reports. \r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/881855393/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/882775865",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/23195#issuecomment-882775865",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23195",
    "id": 882775865,
    "node_id": "IC_kwDOAOvK9840nhc5",
    "user": {
      "login": "terorie",
      "id": 21371810,
      "node_id": "MDQ6VXNlcjIxMzcxODEw",
      "avatar_url": "https://avatars.githubusercontent.com/u/21371810?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/terorie",
      "html_url": "https://github.com/terorie",
      "followers_url": "https://api.github.com/users/terorie/followers",
      "following_url": "https://api.github.com/users/terorie/following{/other_user}",
      "gists_url": "https://api.github.com/users/terorie/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/terorie/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/terorie/subscriptions",
      "organizations_url": "https://api.github.com/users/terorie/orgs",
      "repos_url": "https://api.github.com/users/terorie/repos",
      "events_url": "https://api.github.com/users/terorie/events{/privacy}",
      "received_events_url": "https://api.github.com/users/terorie/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-19T18:46:55Z",
    "updated_at": "2021-07-19T18:47:37Z",
    "author_association": "CONTRIBUTOR",
    "body": "@holiman We have counted ~20 OOM kill events on about a dozen nodes using 1.10.4 with `--syncmode=snap --snapshot=true`. The OOM hard limit was set to 11 GB. Nodes would allocate memory over about a week. All of these nodes were upgraded from older Geth versions that were initially synced with `fast`.\r\n![image](https://user-images.githubusercontent.com/21371810/126209106-97b5e32e-460c-478c-b8ea-c009264df7f4.png)\r\n\r\nAfter searching for the root cause to no avail, this problem magically fixed itself two weeks later (still the same nodes on 1.10.4, no config changes).\r\n![image](https://user-images.githubusercontent.com/21371810/126209787-8c4c2bfc-2e40-4e32-8fdb-9e07cfe3a05a.png)\r\n\r\nWe've spun up two 1.10.4 nodes as a test run:\r\n\r\n**--syncmode=snap --snapshot=true** (Jul 12th)\r\n9GB of memory used after 4.5 days of syncing (from scratch). About 1GB/day growth.\r\n\r\n**--syncmode=fast --snapshot=false** (Jul 19th)\r\n5.5 GB of memory used after 6 days of syncing (from scratch). Memory usage is stable, no OOM kills.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/882775865/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/884260557",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/23195#issuecomment-884260557",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23195",
    "id": 884260557,
    "node_id": "IC_kwDOAOvK9840tL7N",
    "user": {
      "login": "begetan",
      "id": 17225934,
      "node_id": "MDQ6VXNlcjE3MjI1OTM0",
      "avatar_url": "https://avatars.githubusercontent.com/u/17225934?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/begetan",
      "html_url": "https://github.com/begetan",
      "followers_url": "https://api.github.com/users/begetan/followers",
      "following_url": "https://api.github.com/users/begetan/following{/other_user}",
      "gists_url": "https://api.github.com/users/begetan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/begetan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/begetan/subscriptions",
      "organizations_url": "https://api.github.com/users/begetan/orgs",
      "repos_url": "https://api.github.com/users/begetan/repos",
      "events_url": "https://api.github.com/users/begetan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/begetan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-21T15:02:09Z",
    "updated_at": "2021-07-21T15:02:09Z",
    "author_association": "NONE",
    "body": "I have a concern about the snapshot mode support, not about initial sync.\r\n\r\nI've changed snapshot settings for the same synced node twice (without cleaning up blockchain data) and always saw the same behavior. Geth process running with options `--syncmode=fast --snapshot=false` has no memory leak, while process without these options leaking with 0,8-1GB/per day.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/884260557/reactions",
      "total_count": 2,
      "+1": 2,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
