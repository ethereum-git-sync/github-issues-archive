{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/27262",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/27262/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/27262/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/27262/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/27262",
  "id": 1708843473,
  "node_id": "I_kwDOAOvK985l2uHR",
  "number": 27262,
  "title": "Geth unresponsive when \"Persisted trie from memory database\"",
  "user": {
    "login": "xanatos",
    "id": 821344,
    "node_id": "MDQ6VXNlcjgyMTM0NA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/821344?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/xanatos",
    "html_url": "https://github.com/xanatos",
    "followers_url": "https://api.github.com/users/xanatos/followers",
    "following_url": "https://api.github.com/users/xanatos/following{/other_user}",
    "gists_url": "https://api.github.com/users/xanatos/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/xanatos/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/xanatos/subscriptions",
    "organizations_url": "https://api.github.com/users/xanatos/orgs",
    "repos_url": "https://api.github.com/users/xanatos/repos",
    "events_url": "https://api.github.com/users/xanatos/events{/privacy}",
    "received_events_url": "https://api.github.com/users/xanatos/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 72233650,
      "node_id": "MDU6TGFiZWw3MjIzMzY1MA==",
      "url": "https://api.github.com/repos/ethereum/go-ethereum/labels/type:bug",
      "name": "type:bug",
      "color": "FF5E5E",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 1,
  "created_at": "2023-05-14T07:13:23Z",
  "updated_at": "2023-05-15T05:39:37Z",
  "closed_at": "2023-05-15T05:39:37Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "I'm using Geth (v1.11.6) on Windows 11 Pro, with an Intel 10710u, 32gb of memory and a Kingston NV2 2TB M.2\r\n\r\nGeth becomes unresponsive when it does the \"Persisted trie from memory database\"\r\n\r\n    INFO [05-13|19:43:03.827] Chain head was updated                   number=17,252,604 hash=12ea30..517aef root=8546e1..a2d395 elapsed=56.3199ms\r\n    INFO [05-13|19:43:28.564] Persisted trie from memory database      nodes=1,818,226 size=499.94MiB time=14.6651421s gcnodes=5,189,566 gcsize=1.99GiB gctime=17.3776921s livenodes=453,793 livesize=163.49MiB\r\n\r\nand Lighthouse\r\n\r\n    May 13 17:43:20.001 WARN Did not advance head state              reason: Err(HeadMissingFromSnapshotCache(0xb8cb201075d99f26fa95e12596977c087ed917eee01efa5f0c7ba1c5fad16f42)), service: state_advance\r\n    May 13 17:43:21.791 WARN Execution engine call failed            error: Reqwest(reqwest::Error { kind: Request, url: Url { scheme: \"http\", cannot_be_a_base: false, username: \"\", password: None, host: Some(Domain(\"localhost\")), port: Some(8551), path: \"/\", query: None, fragment: None }, source: TimedOut }), service: exec\r\n    May 13 17:43:21.791 WARN Error whilst processing payload status  error: Api { error: Reqwest(reqwest::Error { kind: Request, url: Url { scheme: \"http\", cannot_be_a_base: false, username: \"\", password: None, host: Some(Domain(\"localhost\")), port: Some(8551), path: \"/\", query: None, fragment: None }, source: TimedOut }) }, service: exec\r\n\r\nThis caused a lost attestation.",
  "closed_by": {
    "login": "karalabe",
    "id": 129561,
    "node_id": "MDQ6VXNlcjEyOTU2MQ==",
    "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/karalabe",
    "html_url": "https://github.com/karalabe",
    "followers_url": "https://api.github.com/users/karalabe/followers",
    "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
    "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
    "organizations_url": "https://api.github.com/users/karalabe/orgs",
    "repos_url": "https://api.github.com/users/karalabe/repos",
    "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
    "received_events_url": "https://api.github.com/users/karalabe/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/27262/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/27262/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1547221841",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/27262#issuecomment-1547221841",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/27262",
    "id": 1547221841,
    "node_id": "IC_kwDOAOvK985cOLtR",
    "user": {
      "login": "karalabe",
      "id": 129561,
      "node_id": "MDQ6VXNlcjEyOTU2MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/karalabe",
      "html_url": "https://github.com/karalabe",
      "followers_url": "https://api.github.com/users/karalabe/followers",
      "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
      "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
      "organizations_url": "https://api.github.com/users/karalabe/orgs",
      "repos_url": "https://api.github.com/users/karalabe/repos",
      "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/karalabe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-05-15T05:39:37Z",
    "updated_at": "2023-05-15T05:39:37Z",
    "author_association": "MEMBER",
    "body": "Hmm, yes, every now and again Geth does a massive store operation to entirely flush a trie to disk. While that is happening, pretty much everything's on hold. Unfortunately not a bug, rather it's how it works.\r\n\r\nThat said, soon we'll have the new trie model merged in and that should be a lot more capable and stable. Until then you'll have to bear with us.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1547221841/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
