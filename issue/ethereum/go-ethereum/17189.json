{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/17189",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/17189/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/17189/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/17189/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/17189",
  "id": 341961365,
  "node_id": "MDU6SXNzdWUzNDE5NjEzNjU=",
  "number": 17189,
  "title": "Send Signed TX to POA Sealer Nodes or Standard Nodes?",
  "user": {
    "login": "vertangelx",
    "id": 8826684,
    "node_id": "MDQ6VXNlcjg4MjY2ODQ=",
    "avatar_url": "https://avatars.githubusercontent.com/u/8826684?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/vertangelx",
    "html_url": "https://github.com/vertangelx",
    "followers_url": "https://api.github.com/users/vertangelx/followers",
    "following_url": "https://api.github.com/users/vertangelx/following{/other_user}",
    "gists_url": "https://api.github.com/users/vertangelx/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/vertangelx/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/vertangelx/subscriptions",
    "organizations_url": "https://api.github.com/users/vertangelx/orgs",
    "repos_url": "https://api.github.com/users/vertangelx/repos",
    "events_url": "https://api.github.com/users/vertangelx/events{/privacy}",
    "received_events_url": "https://api.github.com/users/vertangelx/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 856638432,
      "node_id": "MDU6TGFiZWw4NTY2Mzg0MzI=",
      "url": "https://api.github.com/repos/ethereum/go-ethereum/labels/status:inactive",
      "name": "status:inactive",
      "color": "ffffff",
      "default": false,
      "description": null
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 3,
  "created_at": "2018-07-17T15:05:58Z",
  "updated_at": "2019-11-27T08:56:09Z",
  "closed_at": "2019-11-27T08:56:09Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "To create a private POA network, I have deployed 1 bootnode, 2 sealing nodes and 1 standard node using puppeth. All nodes are running *Geth/v1.8.13-unstable-2e0391ea/linux-amd64/go1.10.3*\r\n\r\n\r\nAll nodes have 3 peers.\r\n\r\nIn my node.js app, I am signing a transaction using `web3.eth.sendSignedTransaction` that sends ETH from one account to another account, using the standard node as my Web3 HttpProvider. This transactions show up as 1 pending transaction on Ethstats, but it remains pending ever since. \r\n\r\nAre the standard nodes supposed to propagate the transactions to the sealer nodes to be included in the block? Or should the transasction we sent directly to the sealer nodes, which will require their RPC ports to be opened up (they appear to be closed when deployed using puppeth)\r\n\r\n**app.js**\r\n\r\n    ...\r\n\r\n    web3.eth.sendSignedTransaction('0x' + serializedTx.toString('hex'))\r\n        .on('receipt', console.log);\r\n\r\n**Node.js script times out after submitting transaction to regular node**\r\n\r\n```\r\n$ node app.js\r\n\r\nbalance 904625697166532776746648320380374280103671755200316906558.262375061821325312\r\n(node:42609) UnhandledPromiseRejectionWarning: Error: Transaction was not mined within750 seconds, please make sure your transaction was properly sent. Be aware that it might still be mined!\r\n```\r\n\r\n**Output of `geth` on Regular Node**\r\n\r\n```\r\ngeth_1  | INFO [07-17|23:09:04.602] Imported new chain segment               blocks=1 txs=0 mgas=0.000 elapsed=7.461ms  mgasps=0.000 number=1754 hash=2952ceâ€¦b943f9 cache=0.00B\r\ngeth_1  | INFO [07-17|23:09:05.878] Submitted transaction                    fullhash=0x60e7fc6428dd57ee2304897ce0c4614831035e2dc74a2a828dfceff026864ac7 recipient=0xC311C779990d36309F529EE0ecb536C64115583c\r\ngeth_1  | INFO [07-17|23:09:19.533] Imported new chain segment               blocks=1 txs=0 mgas=0.000 elapsed=8.768ms  mgasps=0.000 number=1755 hash=d2140câ€¦e15077 cache=0.00B\r\ngeth_1  | INFO [07-17|23:09:34.638] Imported new chain segment               blocks=1 txs=0 mgas=0.000 elapsed=6.809ms  mgasps=0.000 number=1756 hash=c10073â€¦fdd8f3 cache=0.00B\r\ngeth_1  | INFO [07-17|23:09:49.561] Imported new chain segment               blocks=1 txs=0 mgas=0.000 elapsed=8.303ms  mgasps=0.000 number=1757 hash=33f4c0â€¦c07576 cache=0.00B\r\n```\r\n\r\n\r\n**Output of `geth` on Sealing Node A**\r\n```\r\nINFO [07-17|23:08:34.000] Successfully sealed new block            number=1753 hash=845022â€¦d7acbe\r\nINFO [07-17|23:08:34.002] ðŸ”¨ mined potential block                  number=1753 hash=845022â€¦d7acbe\r\nINFO [07-17|23:08:34.005] Commit new mining work                   number=1754 txs=0 uncles=0 elapsed=1.848ms\r\nINFO [07-17|23:08:34.005] Signed recently, must wait for others \r\nINFO [07-17|23:08:49.110] Imported new chain segment               blocks=1 txs=0 mgas=0.000 elapsed=642.634Âµs mgasps=0.000 number=1754 hash=2952ceâ€¦b943f9 cache=0.00B\r\nINFO [07-17|23:08:49.112] Commit new mining work                   number=1755 txs=0 uncles=0 elapsed=349.727Âµs\r\nINFO [07-17|23:08:49.113] ðŸ”— block reached canonical chain          number=1749 hash=b6b0f2â€¦137a51\r\nINFO [07-17|23:09:04.000] Successfully sealed new block            number=1755 hash=d2140câ€¦e15077\r\nINFO [07-17|23:09:04.001] ðŸ”¨ mined potential block                  number=1755 hash=d2140câ€¦e15077\r\nINFO [07-17|23:09:04.003] Commit new mining work                   number=1756 txs=0 uncles=0 elapsed=1.226ms\r\nINFO [07-17|23:09:04.003] Signed recently, must wait for others \r\nINFO [07-17|23:09:19.098] Imported new chain segment               blocks=1 txs=0 mgas=0.000 elapsed=396.624Âµs mgasps=0.000 number=1756 hash=c10073â€¦fdd8f3 cache=0.00B\r\nINFO [07-17|23:09:19.099] Commit new mining work                   number=1757 txs=0 uncles=0 elapsed=215.57Âµs\r\nINFO [07-17|23:09:19.100] ðŸ”— block reached canonical chain          number=1751 hash=4ca3a0â€¦2f1dcb\r\nINFO [07-17|23:09:34.000] Successfully sealed new block            number=1757 hash=33f4c0â€¦c07576\r\nINFO [07-17|23:09:34.001] ðŸ”¨ mined potential block                  number=1757 hash=33f4c0â€¦c07576\r\nINFO [07-17|23:09:34.003] Commit new mining work                   number=1758 txs=0 uncles=0 elapsed=2.378ms\r\nINFO [07-17|23:09:34.004] Signed recently, must wait for others \r\n```\r\n\r\n**Output of `geth` on Sealing Node B**\r\n```\r\nINFO [07-17|23:08:34.156] Imported new chain segment               blocks=1 txs=0 mgas=0.000 elapsed=445.187Âµs mgasps=0.000 number=1753 hash=845022â€¦d7acbe cache=0.00B\r\nINFO [07-17|23:08:34.157] Commit new mining work                   number=1754 txs=0 uncles=0 elapsed=148.019Âµs\r\nINFO [07-17|23:08:34.157] ðŸ”— block reached canonical chain          number=1748 hash=83cbcbâ€¦2ac509\r\nINFO [07-17|23:08:49.000] Successfully sealed new block            number=1754 hash=2952ceâ€¦b943f9\r\nINFO [07-17|23:08:49.001] ðŸ”¨ mined potential block                  number=1754 hash=2952ceâ€¦b943f9\r\nINFO [07-17|23:08:49.002] Commit new mining work                   number=1755 txs=0 uncles=0 elapsed=821Âµs\r\nINFO [07-17|23:08:49.002] Signed recently, must wait for others \r\nINFO [07-17|23:09:04.162] Imported new chain segment               blocks=1 txs=0 mgas=0.000 elapsed=359.511Âµs mgasps=0.000 number=1755 hash=d2140câ€¦e15077 cache=0.00B\r\nINFO [07-17|23:09:04.162] Commit new mining work                   number=1756 txs=0 uncles=0 elapsed=138.773Âµs\r\nINFO [07-17|23:09:04.162] ðŸ”— block reached canonical chain          number=1750 hash=080735â€¦9cb53d\r\nINFO [07-17|23:09:19.000] Successfully sealed new block            number=1756 hash=c10073â€¦fdd8f3\r\nINFO [07-17|23:09:19.000] ðŸ”¨ mined potential block                  number=1756 hash=c10073â€¦fdd8f3\r\nINFO [07-17|23:09:19.002] Commit new mining work                   number=1757 txs=0 uncles=0 elapsed=404.606Âµs\r\nINFO [07-17|23:09:19.002] Signed recently, must wait for others \r\nINFO [07-17|23:09:34.155] Imported new chain segment               blocks=1 txs=0 mgas=0.000 elapsed=343.568Âµs mgasps=0.000 number=1757 hash=33f4c0â€¦c07576 cache=0.00B\r\nINFO [07-17|23:09:34.156] Commit new mining work                   number=1758 txs=0 uncles=0 elapsed=176.518Âµs\r\nINFO [07-17|23:09:34.156] ðŸ”— block reached canonical chain          number=1752 hash=50e0efâ€¦55848a\r\n```\r\n\r\n\r\n**Output of `txpool` in geth**\r\n\r\n```\r\n> txpool\r\n{\r\n  content: {\r\n    pending: {\r\n      0xC311C779990d36309F529EE0ecb536C64115583c: {\r\n        0: {...}\r\n      }\r\n    },\r\n    queued: {}\r\n  },\r\n  inspect: {\r\n    pending: {\r\n      0xC311C779990d36309F529EE0ecb536C64115583c: {\r\n        0: \"0xC311C779990d36309F529EE0ecb536C64115583c: 0 wei + 3000000 gas Ã— 0 wei\"\r\n      }\r\n    },\r\n    queued: {}\r\n  },\r\n  status: {\r\n    pending: 1,\r\n    queued: 0\r\n  },\r\n  getContent: function(callback),\r\n  getInspect: function(callback),\r\n  getStatus: function(callback)\r\n}\r\n```\r\n",
  "closed_by": {
    "login": "adamschmideg",
    "id": 208822,
    "node_id": "MDQ6VXNlcjIwODgyMg==",
    "avatar_url": "https://avatars.githubusercontent.com/u/208822?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/adamschmideg",
    "html_url": "https://github.com/adamschmideg",
    "followers_url": "https://api.github.com/users/adamschmideg/followers",
    "following_url": "https://api.github.com/users/adamschmideg/following{/other_user}",
    "gists_url": "https://api.github.com/users/adamschmideg/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/adamschmideg/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/adamschmideg/subscriptions",
    "organizations_url": "https://api.github.com/users/adamschmideg/orgs",
    "repos_url": "https://api.github.com/users/adamschmideg/repos",
    "events_url": "https://api.github.com/users/adamschmideg/events{/privacy}",
    "received_events_url": "https://api.github.com/users/adamschmideg/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/17189/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/17189/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/431988140",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/17189#issuecomment-431988140",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/17189",
    "id": 431988140,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzMTk4ODE0MA==",
    "user": {
      "login": "marcosmartinez7",
      "id": 14795944,
      "node_id": "MDQ6VXNlcjE0Nzk1OTQ0",
      "avatar_url": "https://avatars.githubusercontent.com/u/14795944?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/marcosmartinez7",
      "html_url": "https://github.com/marcosmartinez7",
      "followers_url": "https://api.github.com/users/marcosmartinez7/followers",
      "following_url": "https://api.github.com/users/marcosmartinez7/following{/other_user}",
      "gists_url": "https://api.github.com/users/marcosmartinez7/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/marcosmartinez7/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/marcosmartinez7/subscriptions",
      "organizations_url": "https://api.github.com/users/marcosmartinez7/orgs",
      "repos_url": "https://api.github.com/users/marcosmartinez7/repos",
      "events_url": "https://api.github.com/users/marcosmartinez7/events{/privacy}",
      "received_events_url": "https://api.github.com/users/marcosmartinez7/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-10-22T21:11:09Z",
    "updated_at": "2018-10-22T21:11:09Z",
    "author_association": "NONE",
    "body": "> Are the standard nodes supposed to propagate the transactions to the sealer nodes to be included in the block? Or should the transasction we sent directly to the sealer nodes, which will require their RPC ports to be opened up (they appear to be closed when deployed using puppeth)\r\n\r\nThe short answer is yes, they are supposed to broadcast transactions to the Sealers nodes, the ones that has the accounts unlocked. I was in a similar scenario, you can take a look at this: \r\n\r\nhttps://ethereum.stackexchange.com/questions/57026/expose-securely-your-network-to-make-possible-anyone-can-hit-your-smart-contract\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/431988140/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/545655688",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/17189#issuecomment-545655688",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/17189",
    "id": 545655688,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU0NTY1NTY4OA==",
    "user": {
      "login": "stale[bot]",
      "id": 26384082,
      "node_id": "MDM6Qm90MjYzODQwODI=",
      "avatar_url": "https://avatars.githubusercontent.com/in/1724?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/stale%5Bbot%5D",
      "html_url": "https://github.com/apps/stale",
      "followers_url": "https://api.github.com/users/stale%5Bbot%5D/followers",
      "following_url": "https://api.github.com/users/stale%5Bbot%5D/following{/other_user}",
      "gists_url": "https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/stale%5Bbot%5D/subscriptions",
      "organizations_url": "https://api.github.com/users/stale%5Bbot%5D/orgs",
      "repos_url": "https://api.github.com/users/stale%5Bbot%5D/repos",
      "events_url": "https://api.github.com/users/stale%5Bbot%5D/events{/privacy}",
      "received_events_url": "https://api.github.com/users/stale%5Bbot%5D/received_events",
      "type": "Bot",
      "site_admin": false
    },
    "created_at": "2019-10-23T22:04:42Z",
    "updated_at": "2019-10-23T22:04:42Z",
    "author_association": "NONE",
    "body": "This issue has been automatically marked as stale because it has not had recent activity. It will be closed if no further activity occurs. Thank you for your contributions.\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/545655688/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/558992530",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/17189#issuecomment-558992530",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/17189",
    "id": 558992530,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU1ODk5MjUzMA==",
    "user": {
      "login": "adamschmideg",
      "id": 208822,
      "node_id": "MDQ6VXNlcjIwODgyMg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/208822?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/adamschmideg",
      "html_url": "https://github.com/adamschmideg",
      "followers_url": "https://api.github.com/users/adamschmideg/followers",
      "following_url": "https://api.github.com/users/adamschmideg/following{/other_user}",
      "gists_url": "https://api.github.com/users/adamschmideg/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/adamschmideg/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/adamschmideg/subscriptions",
      "organizations_url": "https://api.github.com/users/adamschmideg/orgs",
      "repos_url": "https://api.github.com/users/adamschmideg/repos",
      "events_url": "https://api.github.com/users/adamschmideg/events{/privacy}",
      "received_events_url": "https://api.github.com/users/adamschmideg/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-11-27T08:56:09Z",
    "updated_at": "2019-11-27T08:56:09Z",
    "author_association": "MEMBER",
    "body": "I assume the link provided in the last comment addressed the issue. There hasn't been any activity since, so I'm closing the issue.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/558992530/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
