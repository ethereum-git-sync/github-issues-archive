{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15051",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15051/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15051/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15051/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/15051",
  "id": 253240867,
  "node_id": "MDU6SXNzdWUyNTMyNDA4Njc=",
  "number": 15051,
  "title": "geth crashes with signal SIGBUS: bus error code=0x2",
  "user": {
    "login": "SinghalB",
    "id": 29537063,
    "node_id": "MDQ6VXNlcjI5NTM3MDYz",
    "avatar_url": "https://avatars.githubusercontent.com/u/29537063?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/SinghalB",
    "html_url": "https://github.com/SinghalB",
    "followers_url": "https://api.github.com/users/SinghalB/followers",
    "following_url": "https://api.github.com/users/SinghalB/following{/other_user}",
    "gists_url": "https://api.github.com/users/SinghalB/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/SinghalB/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/SinghalB/subscriptions",
    "organizations_url": "https://api.github.com/users/SinghalB/orgs",
    "repos_url": "https://api.github.com/users/SinghalB/repos",
    "events_url": "https://api.github.com/users/SinghalB/events{/privacy}",
    "received_events_url": "https://api.github.com/users/SinghalB/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 5,
  "created_at": "2017-08-28T06:48:02Z",
  "updated_at": "2019-09-30T16:05:03Z",
  "closed_at": "2017-08-31T09:13:46Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "#### System information\r\n\r\nGeth version: `geth version`\r\nGeth\r\nVersion: 1.7.0-unstable\r\nGit Commit: ebf41d16a04420a3eba082cc0a1783c93caa1f86\r\nArchitecture: amd64\r\nProtocol Versions: [63 62]\r\nNetwork Id: 1\r\nGo Version: go1.8.1\r\nOperating System: linux\r\nGOPATH=\r\nGOROOT=/usr/lib/go-1.8\r\n\r\nOS & Version: Ubuntu 14.04.5 LTS (Linux Kernel: 4.4.0-42-generic)\r\n\r\n#### Expected behaviour\r\nShould just work.\r\n\r\n#### Actual behaviour\r\nunexpected fault address 0x7f10dab0e000\r\nfatal error: fault\r\n[signal SIGBUS: bus error code=0x2 addr=0x7f10dab0e000 pc=0x46109b]\r\n\r\n\r\n#### Steps to reproduce the behaviour\r\n./build/bin/geth --datadir \"/dev/shm/data1\" --ethash.dagdir \"/dev/shm/ethash\" init /root/privGenesis.json\r\n./build/bin/geth --datadir \"/dev/shm/data1\" --ethash.dagdir \"/dev/shm/ethash\"  --rpc console\r\n> personal.newAccount()\r\n> personal.unlockAccount(eth.accounts[0])\r\n> miner.start()\r\nINFO [08-28|12:07:14] Generating DAG in progress               epoch=1 percentage=91 elapsed=2m15.065s\r\nunexpected fault address 0x7f10dab0e000\r\nfatal error: fault\r\n[signal SIGBUS: bus error code=0x2 addr=0x7f10dab0e000 pc=0x46109b]\r\n\r\n\r\n\r\n#### Backtrace\r\n\r\n````\r\ngoroutine 405 [running]:\r\nruntime.throw(0xf48d1b, 0x5)\r\n        /usr/lib/go-1.8/src/runtime/panic.go:596 +0x95 fp=0xc424507e48 sp=0xc424507e28\r\nruntime.sigpanic()\r\n        /usr/lib/go-1.8/src/runtime/signal_unix.go:287 +0xf4 fp=0xc424507e98 sp=0xc424507e48\r\nruntime.memmove(0x7f10dab0dfc8, 0xc4266d3b40, 0x40)\r\n        /usr/lib/go-1.8/src/runtime/memmove_amd64.s:191 +0x67b fp=0xc424507ea0 sp=0xc424507e98\r\ngithub.com/ethereum/go-ethereum/consensus/ethash.generateDataset.func2(0xc421888080, 0x407fff80, 0x4, 0xc428324000, 0x407f30, 0x407f30, 0x0, 0x7f10ab800008, 0x407fff80, 0x407fff80, ...)\r\n        /root/ethereum/go-ethereum/build/_workspace/src/github.com/ethereum/go-ethereum/consensus/ethash/algorithm.go:275 +0x1f4 fp=0xc424507f58 sp=0xc424507ea0\r\nruntime.goexit()\r\n        /usr/lib/go-1.8/src/runtime/asm_amd64.s:2197 +0x1 fp=0xc424507f60 sp=0xc424507f58\r\ncreated by github.com/ethereum/go-ethereum/consensus/ethash.generateDataset\r\n        /root/ethereum/go-ethereum/build/_workspace/src/github.com/ethereum/go-ethereum/consensus/ethash/algorithm.go:281 +0x3ad\r\n\r\n````\r\n\r\n",
  "closed_by": {
    "login": "SinghalB",
    "id": 29537063,
    "node_id": "MDQ6VXNlcjI5NTM3MDYz",
    "avatar_url": "https://avatars.githubusercontent.com/u/29537063?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/SinghalB",
    "html_url": "https://github.com/SinghalB",
    "followers_url": "https://api.github.com/users/SinghalB/followers",
    "following_url": "https://api.github.com/users/SinghalB/following{/other_user}",
    "gists_url": "https://api.github.com/users/SinghalB/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/SinghalB/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/SinghalB/subscriptions",
    "organizations_url": "https://api.github.com/users/SinghalB/orgs",
    "repos_url": "https://api.github.com/users/SinghalB/repos",
    "events_url": "https://api.github.com/users/SinghalB/events{/privacy}",
    "received_events_url": "https://api.github.com/users/SinghalB/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15051/reactions",
    "total_count": 1,
    "+1": 1,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15051/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/326226699",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/15051#issuecomment-326226699",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15051",
    "id": 326226699,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMyNjIyNjY5OQ==",
    "user": {
      "login": "holiman",
      "id": 142290,
      "node_id": "MDQ6VXNlcjE0MjI5MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/142290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/holiman",
      "html_url": "https://github.com/holiman",
      "followers_url": "https://api.github.com/users/holiman/followers",
      "following_url": "https://api.github.com/users/holiman/following{/other_user}",
      "gists_url": "https://api.github.com/users/holiman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/holiman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/holiman/subscriptions",
      "organizations_url": "https://api.github.com/users/holiman/orgs",
      "repos_url": "https://api.github.com/users/holiman/repos",
      "events_url": "https://api.github.com/users/holiman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/holiman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-08-31T08:25:57Z",
    "updated_at": "2017-08-31T08:26:10Z",
    "author_association": "MEMBER",
    "body": "So, the `/dev/shm` is a memory-backed virtual folder? How much did you allocate for it when you mounted it? \r\n\r\nI tried your example (without using `/dev/shm`), and the `ethash.dagdir` quickly filled `1.8G`. ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/326226699/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/326238371",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/15051#issuecomment-326238371",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15051",
    "id": 326238371,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMyNjIzODM3MQ==",
    "user": {
      "login": "SinghalB",
      "id": 29537063,
      "node_id": "MDQ6VXNlcjI5NTM3MDYz",
      "avatar_url": "https://avatars.githubusercontent.com/u/29537063?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/SinghalB",
      "html_url": "https://github.com/SinghalB",
      "followers_url": "https://api.github.com/users/SinghalB/followers",
      "following_url": "https://api.github.com/users/SinghalB/following{/other_user}",
      "gists_url": "https://api.github.com/users/SinghalB/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/SinghalB/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SinghalB/subscriptions",
      "organizations_url": "https://api.github.com/users/SinghalB/orgs",
      "repos_url": "https://api.github.com/users/SinghalB/repos",
      "events_url": "https://api.github.com/users/SinghalB/events{/privacy}",
      "received_events_url": "https://api.github.com/users/SinghalB/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-08-31T09:13:45Z",
    "updated_at": "2017-08-31T09:13:45Z",
    "author_association": "NONE",
    "body": "@holiman \r\n\r\nYes, around `2GB` was allocated for `/dev/shm` and ethhash.dagdir took up all of the space.\r\nI re-tried with `4GB` `/dev/shm` and it worked fine.\r\n\r\nThanks a lot, closing the issue!",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/326238371/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/336428913",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/15051#issuecomment-336428913",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15051",
    "id": 336428913,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzNjQyODkxMw==",
    "user": {
      "login": "Jacodelange",
      "id": 26787361,
      "node_id": "MDQ6VXNlcjI2Nzg3MzYx",
      "avatar_url": "https://avatars.githubusercontent.com/u/26787361?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Jacodelange",
      "html_url": "https://github.com/Jacodelange",
      "followers_url": "https://api.github.com/users/Jacodelange/followers",
      "following_url": "https://api.github.com/users/Jacodelange/following{/other_user}",
      "gists_url": "https://api.github.com/users/Jacodelange/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Jacodelange/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Jacodelange/subscriptions",
      "organizations_url": "https://api.github.com/users/Jacodelange/orgs",
      "repos_url": "https://api.github.com/users/Jacodelange/repos",
      "events_url": "https://api.github.com/users/Jacodelange/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Jacodelange/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-10-13T11:44:28Z",
    "updated_at": "2017-10-13T11:44:28Z",
    "author_association": "NONE",
    "body": "I still have this issue, my folder is not a memory-backed virtual folder. Just a normal folder I created in the home directory, there is still 50gb available. After a while it still crashes even after creating a swap area as other people suggested\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/336428913/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/433765894",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/15051#issuecomment-433765894",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15051",
    "id": 433765894,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzMzc2NTg5NA==",
    "user": {
      "login": "NIVJAIN",
      "id": 32971454,
      "node_id": "MDQ6VXNlcjMyOTcxNDU0",
      "avatar_url": "https://avatars.githubusercontent.com/u/32971454?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/NIVJAIN",
      "html_url": "https://github.com/NIVJAIN",
      "followers_url": "https://api.github.com/users/NIVJAIN/followers",
      "following_url": "https://api.github.com/users/NIVJAIN/following{/other_user}",
      "gists_url": "https://api.github.com/users/NIVJAIN/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/NIVJAIN/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/NIVJAIN/subscriptions",
      "organizations_url": "https://api.github.com/users/NIVJAIN/orgs",
      "repos_url": "https://api.github.com/users/NIVJAIN/repos",
      "events_url": "https://api.github.com/users/NIVJAIN/events{/privacy}",
      "received_events_url": "https://api.github.com/users/NIVJAIN/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-10-29T01:57:12Z",
    "updated_at": "2018-10-29T01:57:12Z",
    "author_association": "NONE",
    "body": "I have the same issue on private eth network, mine a normal folder as well and no swap. around 19 gig still available.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/433765894/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/536632163",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/15051#issuecomment-536632163",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15051",
    "id": 536632163,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUzNjYzMjE2Mw==",
    "user": {
      "login": "bigfoot31",
      "id": 14835245,
      "node_id": "MDQ6VXNlcjE0ODM1MjQ1",
      "avatar_url": "https://avatars.githubusercontent.com/u/14835245?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bigfoot31",
      "html_url": "https://github.com/bigfoot31",
      "followers_url": "https://api.github.com/users/bigfoot31/followers",
      "following_url": "https://api.github.com/users/bigfoot31/following{/other_user}",
      "gists_url": "https://api.github.com/users/bigfoot31/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bigfoot31/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bigfoot31/subscriptions",
      "organizations_url": "https://api.github.com/users/bigfoot31/orgs",
      "repos_url": "https://api.github.com/users/bigfoot31/repos",
      "events_url": "https://api.github.com/users/bigfoot31/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bigfoot31/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-09-30T16:05:03Z",
    "updated_at": "2019-09-30T16:05:03Z",
    "author_association": "NONE",
    "body": "for future visitors, check if memory as well as file storage is totally used up.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/536632163/reactions",
      "total_count": 3,
      "+1": 3,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
