{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23479",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23479/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23479/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23479/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/23479",
  "id": 980866996,
  "node_id": "MDU6SXNzdWU5ODA4NjY5OTY=",
  "number": 23479,
  "title": "transact() attempts to use unsupported eth_maxPriorityFeePerGas via JSON RPC on Kovan",
  "user": {
    "login": "shoenseiwaso",
    "id": 5861379,
    "node_id": "MDQ6VXNlcjU4NjEzNzk=",
    "avatar_url": "https://avatars.githubusercontent.com/u/5861379?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/shoenseiwaso",
    "html_url": "https://github.com/shoenseiwaso",
    "followers_url": "https://api.github.com/users/shoenseiwaso/followers",
    "following_url": "https://api.github.com/users/shoenseiwaso/following{/other_user}",
    "gists_url": "https://api.github.com/users/shoenseiwaso/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/shoenseiwaso/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/shoenseiwaso/subscriptions",
    "organizations_url": "https://api.github.com/users/shoenseiwaso/orgs",
    "repos_url": "https://api.github.com/users/shoenseiwaso/repos",
    "events_url": "https://api.github.com/users/shoenseiwaso/events{/privacy}",
    "received_events_url": "https://api.github.com/users/shoenseiwaso/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 3,
  "created_at": "2021-08-27T04:42:57Z",
  "updated_at": "2021-09-02T09:39:51Z",
  "closed_at": null,
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "With go-ethereum v1.10.8 connected to an Infura or Alcchemy Kovan node, it is unable to transact if `gasPrice` is nil. `HeaderByNumber(\"latest\")` returns a non-nil `head.BaseFee` (implying EIP-1559 support), but then returns `Method not found` for `eth_maxPriorityFeePerGas` when `ethclient.SuggestGasTipCap()` is called.\r\n\r\nThe issue is on this line of code:\r\nhttps://github.com/ethereum/go-ethereum/blob/62ad17fb0046243255048fbf8cb0882f48d8d850/accounts/abi/bind/base.go#L263\r\n\r\ngo-ethereum client version: v1.10.8\r\nnode version (Infura and Alchemy Kovan): OpenEthereum//v3.3.0-rc.6-stable-5d9ff63-20210804/x86_64-linux-gnu/rustc1.52.1\r\n\r\nError in action - note the non-nil `head.BaseFee` and the `Method not found` error returned from `ethclient.SuggestGasTipCap()`:\r\n\r\n![image](https://user-images.githubusercontent.com/5861379/131072586-904684a3-8b43-4e7d-82f3-56bbb9ddb238.png)\r\n\r\nHave reported this to Infura support as well.\r\n\r\nEasy workaround is to manually specify a `gasPrice` of `2000000000` (2 GWei).",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23479/reactions",
    "total_count": 5,
    "+1": 5,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23479/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/906923575",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/23479#issuecomment-906923575",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23479",
    "id": 906923575,
    "node_id": "IC_kwDOAOvK9842Do43",
    "user": {
      "login": "shoenseiwaso",
      "id": 5861379,
      "node_id": "MDQ6VXNlcjU4NjEzNzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5861379?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/shoenseiwaso",
      "html_url": "https://github.com/shoenseiwaso",
      "followers_url": "https://api.github.com/users/shoenseiwaso/followers",
      "following_url": "https://api.github.com/users/shoenseiwaso/following{/other_user}",
      "gists_url": "https://api.github.com/users/shoenseiwaso/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/shoenseiwaso/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/shoenseiwaso/subscriptions",
      "organizations_url": "https://api.github.com/users/shoenseiwaso/orgs",
      "repos_url": "https://api.github.com/users/shoenseiwaso/repos",
      "events_url": "https://api.github.com/users/shoenseiwaso/events{/privacy}",
      "received_events_url": "https://api.github.com/users/shoenseiwaso/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-08-27T04:51:52Z",
    "updated_at": "2021-08-27T04:51:52Z",
    "author_association": "CONTRIBUTOR",
    "body": "Alchemy is also subject to this issue. Reported to them as well.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/906923575/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/907221023",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/23479#issuecomment-907221023",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23479",
    "id": 907221023,
    "node_id": "IC_kwDOAOvK9842Exgf",
    "user": {
      "login": "brg8",
      "id": 5247707,
      "node_id": "MDQ6VXNlcjUyNDc3MDc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5247707?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brg8",
      "html_url": "https://github.com/brg8",
      "followers_url": "https://api.github.com/users/brg8/followers",
      "following_url": "https://api.github.com/users/brg8/following{/other_user}",
      "gists_url": "https://api.github.com/users/brg8/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brg8/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brg8/subscriptions",
      "organizations_url": "https://api.github.com/users/brg8/orgs",
      "repos_url": "https://api.github.com/users/brg8/repos",
      "events_url": "https://api.github.com/users/brg8/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brg8/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-08-27T13:54:25Z",
    "updated_at": "2021-08-27T13:54:25Z",
    "author_association": "NONE",
    "body": "Hi @shoenseiwaso, I'm an engineer at Alchemy. The `eth_maxPriorityFeePerGas` method is not part of the eth spec: https://github.com/ethereum/execution-specs/blob/master/json-rpc/spec.json. That method is a lovely addition by the geth team, and we all appreciate it!\r\n\r\nHowever, Parity/OpenEthereum have not implemented that method and so Kovan is not going to register it at all. The geth client does not connect to Kovan, so when developing on the Kovan testnet you will have to estimate gas another way.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/907221023/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/907369739",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/23479#issuecomment-907369739",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23479",
    "id": 907369739,
    "node_id": "IC_kwDOAOvK9842FV0L",
    "user": {
      "login": "shoenseiwaso",
      "id": 5861379,
      "node_id": "MDQ6VXNlcjU4NjEzNzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5861379?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/shoenseiwaso",
      "html_url": "https://github.com/shoenseiwaso",
      "followers_url": "https://api.github.com/users/shoenseiwaso/followers",
      "following_url": "https://api.github.com/users/shoenseiwaso/following{/other_user}",
      "gists_url": "https://api.github.com/users/shoenseiwaso/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/shoenseiwaso/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/shoenseiwaso/subscriptions",
      "organizations_url": "https://api.github.com/users/shoenseiwaso/orgs",
      "repos_url": "https://api.github.com/users/shoenseiwaso/repos",
      "events_url": "https://api.github.com/users/shoenseiwaso/events{/privacy}",
      "received_events_url": "https://api.github.com/users/shoenseiwaso/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-08-27T17:48:13Z",
    "updated_at": "2021-08-30T11:37:14Z",
    "author_association": "CONTRIBUTOR",
    "body": "> However, Parity/OpenEthereum have not implemented that method and so Kovan is not going to register it at all. The geth client does not connect to Kovan, so when developing on the Kovan testnet you will have to estimate gas another way.\r\n\r\nThanks for your reply - I wasn't aware OpenEthereum doesn't support this! [Alchemy documentation](https://docs.alchemy.com/alchemy/documentation/apis/ethereum/eth_maxpriorityfeepergas) for `eth_maxPriorityFeePerGas` doesn't indicate it's not supported on Kovan via Alchemy, it might be worth adding a note to this effect?\r\n\r\nI think the issue is still valid as-is, in that the go-ethereum library should support connecting to a Kovan node over JSON-RPC.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/907369739/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
