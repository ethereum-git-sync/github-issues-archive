{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/2325",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/2325/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/2325/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/2325/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/2325",
  "id": 140076181,
  "node_id": "MDU6SXNzdWUxNDAwNzYxODE=",
  "number": 2325,
  "title": "discrepancies in web3.fromWei(eth.getBalance(eth.accounts[0]),\"ether\")",
  "user": {
    "login": "adligo",
    "id": 6592521,
    "node_id": "MDQ6VXNlcjY1OTI1MjE=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6592521?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/adligo",
    "html_url": "https://github.com/adligo",
    "followers_url": "https://api.github.com/users/adligo/followers",
    "following_url": "https://api.github.com/users/adligo/following{/other_user}",
    "gists_url": "https://api.github.com/users/adligo/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/adligo/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/adligo/subscriptions",
    "organizations_url": "https://api.github.com/users/adligo/orgs",
    "repos_url": "https://api.github.com/users/adligo/repos",
    "events_url": "https://api.github.com/users/adligo/events{/privacy}",
    "received_events_url": "https://api.github.com/users/adligo/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 3,
  "created_at": "2016-03-11T03:30:53Z",
  "updated_at": "2016-03-13T04:53:40Z",
  "closed_at": "2016-03-13T04:53:36Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "Hi All, \n\n   I have three machines that I am trying to mine with, all report the same results from;\n\n> eth.accounts[0]\n\nHowever 2/3 machines report 0 from the following command, the third machine reports the correct balance;\n\n> web3.fromWei(eth.getBalance(eth.accounts[0]),\"ether\")\n> Which matchs\n> http://api.etherscan.io/api?module=account&action=balance&address=X\n\nAlso I should note that I copied the data directory from the machine that shows the correct balance\nto the other machines using a .tar.gz file.   Is there some other file that I need to copy?\n\nOther issues include;\n1) AlethOne shows about 1 MH/s as only process, geth shows 120 MH/s as only process (I have cranked up the threads on some fast 6/12 physical core/virtual core machines to 260 in geth.   Which one is correct?\n2) Geth is killing my home network when run from 3 machines, I am trying to have two of the machines get the blocks from the third machine, but I can't seem to find documentation about how to do this correctly, or I am misreading the documentation.  \n   I have tried --nodiscover, and admin.addPeer(), but no mining occurs;\n   I have tried --bootnode, but this just seems to add a single peer, and more are discovered.\n   I am looking for a admin.add(remove)UpstreamPeer or something, which should also be a command line argument --upstreampeers \"enode enode\".  \n3) It would be nice if there was a standard directory for the blocks so that miners could switch between the different mining clients to find the one best for them.\n\nI can create other issue tickets for 1-3 if these are indeed issues.\n\nCheers,\nScott\n",
  "closed_by": {
    "login": "adligo",
    "id": 6592521,
    "node_id": "MDQ6VXNlcjY1OTI1MjE=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6592521?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/adligo",
    "html_url": "https://github.com/adligo",
    "followers_url": "https://api.github.com/users/adligo/followers",
    "following_url": "https://api.github.com/users/adligo/following{/other_user}",
    "gists_url": "https://api.github.com/users/adligo/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/adligo/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/adligo/subscriptions",
    "organizations_url": "https://api.github.com/users/adligo/orgs",
    "repos_url": "https://api.github.com/users/adligo/repos",
    "events_url": "https://api.github.com/users/adligo/events{/privacy}",
    "received_events_url": "https://api.github.com/users/adligo/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/2325/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/2325/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/195163911",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/2325#issuecomment-195163911",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/2325",
    "id": 195163911,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE5NTE2MzkxMQ==",
    "user": {
      "login": "adligo",
      "id": 6592521,
      "node_id": "MDQ6VXNlcjY1OTI1MjE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6592521?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/adligo",
      "html_url": "https://github.com/adligo",
      "followers_url": "https://api.github.com/users/adligo/followers",
      "following_url": "https://api.github.com/users/adligo/following{/other_user}",
      "gists_url": "https://api.github.com/users/adligo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/adligo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/adligo/subscriptions",
      "organizations_url": "https://api.github.com/users/adligo/orgs",
      "repos_url": "https://api.github.com/users/adligo/repos",
      "events_url": "https://api.github.com/users/adligo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/adligo/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-03-11T03:34:06Z",
    "updated_at": "2016-03-11T03:34:06Z",
    "author_association": "NONE",
    "body": "Also I should mention all machines are on 1.3.5 and were upgrades using;\ndebug.setHead(493.999)\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/195163911/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/195333788",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/2325#issuecomment-195333788",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/2325",
    "id": 195333788,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE5NTMzMzc4OA==",
    "user": {
      "login": "bas-vk",
      "id": 4280775,
      "node_id": "MDQ6VXNlcjQyODA3NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4280775?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bas-vk",
      "html_url": "https://github.com/bas-vk",
      "followers_url": "https://api.github.com/users/bas-vk/followers",
      "following_url": "https://api.github.com/users/bas-vk/following{/other_user}",
      "gists_url": "https://api.github.com/users/bas-vk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bas-vk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bas-vk/subscriptions",
      "organizations_url": "https://api.github.com/users/bas-vk/orgs",
      "repos_url": "https://api.github.com/users/bas-vk/repos",
      "events_url": "https://api.github.com/users/bas-vk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bas-vk/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-03-11T11:40:55Z",
    "updated_at": "2016-03-11T11:40:55Z",
    "author_association": "MEMBER",
    "body": "In case your nodes are not at the same block height you might get different results when you retrieve the balance. Web3 will by default use \"latest\" which points the latest block on the chain at that node.\n\nYou only had to do the `debug.setHead(..)` trick when your local chain passed the homestead block. This can only have happened on the test network. It is likely that some of your nodes are not synced with the network and return the balance from an older state. You can check the block height with `eth.blockNumber` in the console. If all nodes are at the same block heigh (and chain) and give you different balances please create an issue.\n\nIt should be sufficient to copy the datadir to another machine. Please keep in mind that any keys in the `datadir/keystore` directory are also copied. Just for mining you don't need to have the private key available. You can set the etherbase/coinbase address from the command line (`--etherbase`) when you start geth.\n\nYour issues:\n1. Alethone and geth are two completely different applications that don't have anything to do with each other. That makes comparing them and asking which one is correct not very useful. Both give an indication that probably is right. I'm not sure how reliable these numbers actually are.\n2. Afaik being able to mine has nothing to do with how many peers you have. You can also mine on a local private chain without problems. I would recommend keeping it simple. Just start your nodes without custom `nodiscover` and `bootnode` arguments. Check how many peers you have with `admin.peers.length`, it should give you a number `>0`. Check that your node is synced with `eth.syncing`. If this returns `false` the miner should start (it can take some time, it needs to generate a DAG before it can mine). You can verify that with `eth.hashrate`. If `eth.syncing` returns you multiple performance indicator your node is syncing with the network. During that proces the miner won't run since you would be mining on old blocks which would be a lost of energy. Btw, by default geth won't begin mining, you need to specify the `--mine` flag when you start geth. Or use `miner.start(nThreads)` from the console.\n3. The use for this is rather limited. Most serious miners will connect to a remote ethereum node over the RPC interface and don't have the chain synced locally. You can read a bit more about mining [here](http://docs.ethereum.org/en/latest/using-ethereum-the-basics/mining.html).\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/195333788/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/195876923",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/2325#issuecomment-195876923",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/2325",
    "id": 195876923,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE5NTg3NjkyMw==",
    "user": {
      "login": "adligo",
      "id": 6592521,
      "node_id": "MDQ6VXNlcjY1OTI1MjE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6592521?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/adligo",
      "html_url": "https://github.com/adligo",
      "followers_url": "https://api.github.com/users/adligo/followers",
      "following_url": "https://api.github.com/users/adligo/following{/other_user}",
      "gists_url": "https://api.github.com/users/adligo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/adligo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/adligo/subscriptions",
      "organizations_url": "https://api.github.com/users/adligo/orgs",
      "repos_url": "https://api.github.com/users/adligo/repos",
      "events_url": "https://api.github.com/users/adligo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/adligo/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-03-13T04:53:36Z",
    "updated_at": "2016-03-13T04:53:36Z",
    "author_association": "NONE",
    "body": "I was able to solve the issue by deleting the entire block chain on each machine, and having geth download the entire chain again.  However this still doesn't explain what cause the issue in the first place, since I copied the blockchain data from one machine to another.\n   I have opened another ticket for the networking issues;\nhttps://github.com/ethereum/go-ethereum/issues/2330\n\nbas-vk\nThanks for your detailed response,\nScott \n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/195876923/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
