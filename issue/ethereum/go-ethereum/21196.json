{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/21196",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/21196/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/21196/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/21196/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/21196",
  "id": 634793880,
  "node_id": "MDU6SXNzdWU2MzQ3OTM4ODA=",
  "number": 21196,
  "title": "eth/downloader: Progress is racy while a node is syncing",
  "user": {
    "login": "mvdan",
    "id": 3576549,
    "node_id": "MDQ6VXNlcjM1NzY1NDk=",
    "avatar_url": "https://avatars.githubusercontent.com/u/3576549?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/mvdan",
    "html_url": "https://github.com/mvdan",
    "followers_url": "https://api.github.com/users/mvdan/followers",
    "following_url": "https://api.github.com/users/mvdan/following{/other_user}",
    "gists_url": "https://api.github.com/users/mvdan/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/mvdan/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/mvdan/subscriptions",
    "organizations_url": "https://api.github.com/users/mvdan/orgs",
    "repos_url": "https://api.github.com/users/mvdan/repos",
    "events_url": "https://api.github.com/users/mvdan/events{/privacy}",
    "received_events_url": "https://api.github.com/users/mvdan/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2020-06-08T17:14:18Z",
  "updated_at": "2020-06-30T17:43:31Z",
  "closed_at": "2020-06-30T17:43:31Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "As far as I can tell, it should be fine to call `Downloader.Progress` on a started node while it is syncing. However, we've sporadically seen some CI failures due to data races detected. I managed to reproduce that locally after hammering the method for a few minutes on a local node running as part of a test.\r\n\r\nBelow is the race panic:\r\n\r\n<details>\r\n\r\n```\r\nWARNING: DATA RACE\r\nRead at 0x00c0010c8010 by goroutine 205:\r\n  github.com/ethereum/go-ethereum/eth/downloader.(*Downloader).Progress()\r\n      /home/mvdan/go/pkg/mod/github.com/ethereum/go-ethereum@v1.9.14/eth/downloader/downloader.go:262 +0x6e6\r\n  gitlab.com/vocdoni/go-dvote/chain.(*EthChainContext).SyncInfo()\r\n      /home/mvdan/src/dvote/chain/chain.go:339 +0x1028\r\n  gitlab.com/vocdoni/go-dvote/test.TestWeb3WSEndpoint.func1()\r\n      /home/mvdan/src/dvote/test/eth_test.go:60 +0x52\r\n\r\nPrevious write at 0x00c0010c8010 by goroutine 258:\r\n  github.com/ethereum/go-ethereum/eth/downloader.(*Downloader).synchronise()\r\n      /home/mvdan/go/pkg/mod/github.com/ethereum/go-ethereum@v1.9.14/eth/downloader/downloader.go:404 +0x509\r\n  github.com/ethereum/go-ethereum/eth/downloader.(*Downloader).Synchronise()\r\n      /home/mvdan/go/pkg/mod/github.com/ethereum/go-ethereum@v1.9.14/eth/downloader/downloader.go:323 +0xb7\r\n  github.com/ethereum/go-ethereum/eth.(*ProtocolManager).doSync()\r\n      /home/mvdan/go/pkg/mod/github.com/ethereum/go-ethereum@v1.9.14/eth/sync.go:308 +0x1b5\r\n  github.com/ethereum/go-ethereum/eth.(*chainSyncer).startSync.func1()\r\n      /home/mvdan/go/pkg/mod/github.com/ethereum/go-ethereum@v1.9.14/eth/sync.go:284 +0x59\r\n\r\nGoroutine 205 (running) created at:\r\n  gitlab.com/vocdoni/go-dvote/test.TestWeb3WSEndpoint()\r\n      /home/mvdan/src/dvote/test/eth_test.go:57 +0x20b\r\n  github.com/syndtr/goleveldb/leveldb/storage.(*fileStorage).List()\r\n      /home/mvdan/go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190923125748-758128399b1d/leveldb/storage/file_storage.go:458 +0x319\r\n  fmt.Fscanf()\r\n      /home/mvdan/tip/src/fmt/scan.go:143 +0xd4\r\n  fmt.Sscanf()\r\n      /home/mvdan/tip/src/fmt/scan.go:114 +0x191\r\n  github.com/syndtr/goleveldb/leveldb/storage.fsParseName()\r\n      /home/mvdan/go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190923125748-758128399b1d/leveldb/storage/file_storage.go:643 +0xa6\r\n  github.com/syndtr/goleveldb/leveldb/storage.(*fileStorage).List()\r\n      /home/mvdan/go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190923125748-758128399b1d/leveldb/storage/file_storage.go:458 +0x319\r\n  github.com/syndtr/goleveldb/leveldb.(*DB).checkAndCleanFiles()\r\n      /home/mvdan/go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190923125748-758128399b1d/leveldb/db_util.go:52 +0x301\r\n  github.com/syndtr/goleveldb/leveldb.openDB()\r\n      /home/mvdan/go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190923125748-758128399b1d/leveldb/db.go:136 +0xa3e\r\n  github.com/syndtr/goleveldb/leveldb/storage.(*fileStorage).List()\r\n      /home/mvdan/go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190923125748-758128399b1d/leveldb/storage/file_storage.go:458 +0x319\r\n  fmt.Fscanf()\r\n      /home/mvdan/tip/src/fmt/scan.go:143 +0xd4\r\n  fmt.Sscanf()\r\n      /home/mvdan/tip/src/fmt/scan.go:114 +0x191\r\n  github.com/syndtr/goleveldb/leveldb/storage.fsParseName()\r\n      /home/mvdan/go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190923125748-758128399b1d/leveldb/storage/file_storage.go:643 +0xa6\r\n  github.com/syndtr/goleveldb/leveldb/storage.(*fileStorage).List()\r\n      /home/mvdan/go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190923125748-758128399b1d/leveldb/storage/file_storage.go:458 +0x319\r\n  fmt.Fscanf()\r\n      /home/mvdan/tip/src/fmt/scan.go:143 +0xd4\r\n  fmt.Sscanf()\r\n      /home/mvdan/tip/src/fmt/scan.go:114 +0x284\r\n  github.com/syndtr/goleveldb/leveldb/storage.fsParseName()\r\n      /home/mvdan/go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190923125748-758128399b1d/leveldb/storage/file_storage.go:657 +0x19e\r\n  fmt.(*ss).doScanf()\r\n      /home/mvdan/tip/src/fmt/scan.go:1230 +0x3c5\r\n  fmt.Fscanf()\r\n      /home/mvdan/tip/src/fmt/scan.go:143 +0xd4\r\n  fmt.Sscanf()\r\n      /home/mvdan/tip/src/fmt/scan.go:114 +0x191\r\n  github.com/syndtr/goleveldb/leveldb/storage.fsParseName()\r\n      /home/mvdan/go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190923125748-758128399b1d/leveldb/storage/file_storage.go:643 +0xa6\r\n  github.com/syndtr/goleveldb/leveldb/storage.(*fileStorage).List()\r\n      /home/mvdan/go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190923125748-758128399b1d/leveldb/storage/file_storage.go:458 +0x319\r\n  fmt.Fscanf()\r\n      /home/mvdan/tip/src/fmt/scan.go:143 +0xd4\r\n  fmt.Sscanf()\r\n      /home/mvdan/tip/src/fmt/scan.go:114 +0x191\r\n  github.com/syndtr/goleveldb/leveldb/storage.fsParseName()\r\n      /home/mvdan/go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190923125748-758128399b1d/leveldb/storage/file_storage.go:643 +0xa6\r\n  github.com/syndtr/goleveldb/leveldb/storage.(*fileStorage).List()\r\n      /home/mvdan/go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190923125748-758128399b1d/leveldb/storage/file_storage.go:458 +0x319\r\n  github.com/syndtr/goleveldb/leveldb.(*DB).recoverJournal()\r\n      /home/mvdan/go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190923125748-758128399b1d/leveldb/db.go:482 +0xc8\r\n  github.com/syndtr/goleveldb/leveldb.openDB()\r\n      /home/mvdan/go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190923125748-758128399b1d/leveldb/db.go:131 +0xa1a\r\n  github.com/syndtr/goleveldb/leveldb.Open()\r\n      /home/mvdan/go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190923125748-758128399b1d/leveldb/db.go:203 +0x247\r\n  fmt.Fscanf()\r\n      /home/mvdan/tip/src/fmt/scan.go:143 +0xd4\r\n  fmt.Sscanf()\r\n      /home/mvdan/tip/src/fmt/scan.go:114 +0x191\r\n  github.com/syndtr/goleveldb/leveldb/storage.fsParseName()\r\n      /home/mvdan/go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190923125748-758128399b1d/leveldb/storage/file_storage.go:643 +0xa6\r\n  github.com/syndtr/goleveldb/leveldb/storage.(*fileStorage).List()\r\n      /home/mvdan/go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190923125748-758128399b1d/leveldb/storage/file_storage.go:458 +0x319\r\n  github.com/syndtr/goleveldb/leveldb.(*session).recover.func1()\r\n      /home/mvdan/go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190923125748-758128399b1d/leveldb/session.go:134 +0xfc\r\n  github.com/syndtr/goleveldb/leveldb.(*session).recover()\r\n      /home/mvdan/go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190923125748-758128399b1d/leveldb/session.go:142 +0x1952\r\n  github.com/syndtr/goleveldb/leveldb.Open()\r\n      /home/mvdan/go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190923125748-758128399b1d/leveldb/db.go:189 +0x109\r\n  github.com/syndtr/goleveldb/leveldb.OpenFile()\r\n      /home/mvdan/go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190923125748-758128399b1d/leveldb/db.go:225 +0xae\r\n  github.com/ethereum/go-ethereum/p2p/enode.newPersistentDB()\r\n      /home/mvdan/go/pkg/mod/github.com/ethereum/go-ethereum@v1.9.14/p2p/enode/nodedb.go:96 +0xa9\r\n  github.com/ethereum/go-ethereum/p2p/enode.OpenDB()\r\n      /home/mvdan/go/pkg/mod/github.com/ethereum/go-ethereum@v1.9.14/p2p/enode/nodedb.go:80 +0xa4\r\n  github.com/ethereum/go-ethereum/p2p.(*Server).setupLocalNode()\r\n      /home/mvdan/go/pkg/mod/github.com/ethereum/go-ethereum@v1.9.14/p2p/server.go:502 +0x588\r\n  github.com/ethereum/go-ethereum/p2p.(*Server).Start()\r\n      /home/mvdan/go/pkg/mod/github.com/ethereum/go-ethereum@v1.9.14/p2p/server.go:474 +0x688\r\n  github.com/ethereum/go-ethereum/node.(*Node).Start()\r\n      /home/mvdan/go/pkg/mod/github.com/ethereum/go-ethereum@v1.9.14/node/node.go:224 +0xf55\r\n  fmt.Sscanf()\r\n      /home/mvdan/tip/src/fmt/scan.go:114 +0x191\r\n  github.com/syndtr/goleveldb/leveldb/storage.fsParseName()\r\n      /home/mvdan/go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190923125748-758128399b1d/leveldb/storage/file_storage.go:643 +0xa6\r\n  github.com/syndtr/goleveldb/leveldb/storage.(*fileStorage).List()\r\n      /home/mvdan/go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190923125748-758128399b1d/leveldb/storage/file_storage.go:458 +0x319\r\n  fmt.Fscanf()\r\n      /home/mvdan/tip/src/fmt/scan.go:143 +0xd4\r\n  fmt.Sscanf()\r\n      /home/mvdan/tip/src/fmt/scan.go:114 +0x191\r\n  github.com/syndtr/goleveldb/leveldb/storage.fsParseName()\r\n      /home/mvdan/go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190923125748-758128399b1d/leveldb/storage/file_storage.go:643 +0xa6\r\n  github.com/syndtr/goleveldb/leveldb/storage.(*fileStorage).List()\r\n      /home/mvdan/go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190923125748-758128399b1d/leveldb/storage/file_storage.go:458 +0x319\r\n  github.com/syndtr/goleveldb/leveldb.(*DB).checkAndCleanFiles()\r\n      /home/mvdan/go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190923125748-758128399b1d/leveldb/db_util.go:52 +0x301\r\n  github.com/syndtr/goleveldb/leveldb.openDB()\r\n      /home/mvdan/go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190923125748-758128399b1d/leveldb/db.go:136 +0xa3e\r\n  github.com/syndtr/goleveldb/leveldb/storage.(*fileStorage).List()\r\n      /home/mvdan/go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190923125748-758128399b1d/leveldb/storage/file_storage.go:458 +0x319\r\n  fmt.Fscanf()\r\n      /home/mvdan/tip/src/fmt/scan.go:143 +0xd4\r\n  fmt.Sscanf()\r\n      /home/mvdan/tip/src/fmt/scan.go:114 +0x191\r\n  github.com/syndtr/goleveldb/leveldb/storage.fsParseName()\r\n      /home/mvdan/go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190923125748-758128399b1d/leveldb/storage/file_storage.go:643 +0xa6\r\n  github.com/syndtr/goleveldb/leveldb/storage.(*fileStorage).List()\r\n      /home/mvdan/go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190923125748-758128399b1d/leveldb/storage/file_storage.go:458 +0x319\r\n  fmt.Fscanf()\r\n      /home/mvdan/tip/src/fmt/scan.go:143 +0xd4\r\n  fmt.Sscanf()\r\n      /home/mvdan/tip/src/fmt/scan.go:114 +0x284\r\n  github.com/syndtr/goleveldb/leveldb/storage.fsParseName()\r\n      /home/mvdan/go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190923125748-758128399b1d/leveldb/storage/file_storage.go:657 +0x19e\r\n  fmt.(*ss).doScanf()\r\n      /home/mvdan/tip/src/fmt/scan.go:1230 +0x3c5\r\n  fmt.Fscanf()\r\n      /home/mvdan/tip/src/fmt/scan.go:143 +0xd4\r\n  fmt.Sscanf()\r\n      /home/mvdan/tip/src/fmt/scan.go:114 +0x191\r\n  github.com/syndtr/goleveldb/leveldb/storage.fsParseName()\r\n      /home/mvdan/go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190923125748-758128399b1d/leveldb/storage/file_storage.go:643 +0xa6\r\n  github.com/syndtr/goleveldb/leveldb/storage.(*fileStorage).List()\r\n      /home/mvdan/go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190923125748-758128399b1d/leveldb/storage/file_storage.go:458 +0x319\r\n  fmt.Fscanf()\r\n      /home/mvdan/tip/src/fmt/scan.go:143 +0xd4\r\n  fmt.Sscanf()\r\n      /home/mvdan/tip/src/fmt/scan.go:114 +0x191\r\n  github.com/syndtr/goleveldb/leveldb/storage.fsParseName()\r\n      /home/mvdan/go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190923125748-758128399b1d/leveldb/storage/file_storage.go:643 +0xa6\r\n  github.com/syndtr/goleveldb/leveldb/storage.(*fileStorage).List()\r\n      /home/mvdan/go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190923125748-758128399b1d/leveldb/storage/file_storage.go:458 +0x319\r\n  github.com/syndtr/goleveldb/leveldb.(*DB).recoverJournal()\r\n      /home/mvdan/go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190923125748-758128399b1d/leveldb/db.go:482 +0xc8\r\n  github.com/syndtr/goleveldb/leveldb.openDB()\r\n      /home/mvdan/go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190923125748-758128399b1d/leveldb/db.go:131 +0xa1a\r\n  github.com/syndtr/goleveldb/leveldb.Open()\r\n      /home/mvdan/go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190923125748-758128399b1d/leveldb/db.go:203 +0x247\r\n  fmt.Fscanf()\r\n      /home/mvdan/tip/src/fmt/scan.go:143 +0xd4\r\n  fmt.Sscanf()\r\n      /home/mvdan/tip/src/fmt/scan.go:114 +0x191\r\n  github.com/syndtr/goleveldb/leveldb/storage.fsParseName()\r\n      /home/mvdan/go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190923125748-758128399b1d/leveldb/storage/file_storage.go:643 +0xa6\r\n  github.com/syndtr/goleveldb/leveldb/storage.(*fileStorage).List()\r\n      /home/mvdan/go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190923125748-758128399b1d/leveldb/storage/file_storage.go:458 +0x319\r\n  github.com/syndtr/goleveldb/leveldb.(*session).recover.func1()\r\n      /home/mvdan/go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190923125748-758128399b1d/leveldb/session.go:134 +0xfc\r\n  github.com/syndtr/goleveldb/leveldb.(*session).recover()\r\n      /home/mvdan/go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190923125748-758128399b1d/leveldb/session.go:142 +0x1952\r\n  github.com/syndtr/goleveldb/leveldb.Open()\r\n      /home/mvdan/go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190923125748-758128399b1d/leveldb/db.go:189 +0x109\r\n  github.com/syndtr/goleveldb/leveldb.OpenFile()\r\n      /home/mvdan/go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190923125748-758128399b1d/leveldb/db.go:225 +0xae\r\n  github.com/ethereum/go-ethereum/ethdb/leveldb.New()\r\n      /home/mvdan/go/pkg/mod/github.com/ethereum/go-ethereum@v1.9.14/ethdb/leveldb/leveldb.go:98 +0x39b\r\n  github.com/ethereum/go-ethereum/core/rawdb.NewLevelDBDatabaseWithFreezer()\r\n      /home/mvdan/go/pkg/mod/github.com/ethereum/go-ethereum@v1.9.14/core/rawdb/database.go:209 +0x84\r\n  github.com/ethereum/go-ethereum/node.(*ServiceContext).OpenDatabaseWithFreezer()\r\n      /home/mvdan/go/pkg/mod/github.com/ethereum/go-ethereum@v1.9.14/node/service.go:68 +0x2fa\r\n  github.com/ethereum/go-ethereum/eth.New()\r\n      /home/mvdan/go/pkg/mod/github.com/ethereum/go-ethereum@v1.9.14/eth/backend.go:139 +0x439\r\n  github.com/ethereum/go-ethereum/cmd/utils.RegisterEthService.func2()\r\n      /home/mvdan/go/pkg/mod/github.com/ethereum/go-ethereum@v1.9.14/cmd/utils/flags.go:1630 +0x54\r\n  github.com/ethereum/go-ethereum/node.(*Node).Start()\r\n      /home/mvdan/go/pkg/mod/github.com/ethereum/go-ethereum@v1.9.14/node/node.go:210 +0x765\r\n  gitlab.com/vocdoni/go-dvote/chain.(*EthChainContext).Start()\r\n      /home/mvdan/src/dvote/chain/chain.go:202 +0x20d\r\n  gitlab.com/vocdoni/go-dvote/test.TestWeb3WSEndpoint()\r\n      /home/mvdan/src/dvote/test/eth_test.go:56 +0x1e6\r\n  testing.tRunner()\r\n      /home/mvdan/tip/src/testing/testing.go:1108 +0x202\r\n\r\nGoroutine 258 (running) created at:\r\n  github.com/ethereum/go-ethereum/eth.(*chainSyncer).startSync()\r\n      /home/mvdan/go/pkg/mod/github.com/ethereum/go-ethereum@v1.9.14/eth/sync.go:284 +0xa8\r\n  github.com/ethereum/go-ethereum/eth.(*chainSyncer).loop()\r\n      /home/mvdan/go/pkg/mod/github.com/ethereum/go-ethereum@v1.9.14/eth/sync.go:211 +0x724\r\n```\r\n\r\n</details>\r\n\r\nIf you want to reproduce the crash locally, you can check out https://gitlab.com/vocdoni/go-dvote/-/tree/eth-downloader-race, and do `cd test && go test -race -vet=off -run Web3WS -v`. It panics pretty consistently for me in 10-20s.\r\n\r\nOf course, I don't want you to debug my codebase. The test does a bunch of stuff, but in the end, it's really just starting an ethereum node and getting its downloader progress repeatedly.\r\n\r\nI think this is a bug in go-ethereum; `Downloader.Progress` reads the `mode` field, which is modified by `Downloader.synchronise`. Calls to `synchronise` seem to be done by the started node on its own; we aren't calling the method directly. `Progress` does use a mutex, but that only seems to guard the \"sync stats\" fields, not `mode`.",
  "closed_by": {
    "login": "holiman",
    "id": 142290,
    "node_id": "MDQ6VXNlcjE0MjI5MA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/142290?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/holiman",
    "html_url": "https://github.com/holiman",
    "followers_url": "https://api.github.com/users/holiman/followers",
    "following_url": "https://api.github.com/users/holiman/following{/other_user}",
    "gists_url": "https://api.github.com/users/holiman/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/holiman/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/holiman/subscriptions",
    "organizations_url": "https://api.github.com/users/holiman/orgs",
    "repos_url": "https://api.github.com/users/holiman/repos",
    "events_url": "https://api.github.com/users/holiman/events{/privacy}",
    "received_events_url": "https://api.github.com/users/holiman/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/21196/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/21196/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/640760528",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/21196#issuecomment-640760528",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/21196",
    "id": 640760528,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY0MDc2MDUyOA==",
    "user": {
      "login": "mvdan",
      "id": 3576549,
      "node_id": "MDQ6VXNlcjM1NzY1NDk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3576549?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mvdan",
      "html_url": "https://github.com/mvdan",
      "followers_url": "https://api.github.com/users/mvdan/followers",
      "following_url": "https://api.github.com/users/mvdan/following{/other_user}",
      "gists_url": "https://api.github.com/users/mvdan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mvdan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mvdan/subscriptions",
      "organizations_url": "https://api.github.com/users/mvdan/orgs",
      "repos_url": "https://api.github.com/users/mvdan/repos",
      "events_url": "https://api.github.com/users/mvdan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mvdan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-06-08T17:15:11Z",
    "updated_at": "2020-06-08T17:15:11Z",
    "author_association": "NONE",
    "body": "Sorry, I forgot to add env details:\r\n\r\n```\r\n$ go version\r\ngo version devel +fca286bed3 Fri Jun 5 23:22:11 2020 +0000 linux/amd64\r\n$ go list -m github.com/ethereum/go-ethereum\r\ngithub.com/ethereum/go-ethereum v1.9.14\r\n```\r\n\r\nThis also happens on Go 1.14.4, what our CI is running.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/640760528/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/640772815",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/21196#issuecomment-640772815",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/21196",
    "id": 640772815,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY0MDc3MjgxNQ==",
    "user": {
      "login": "mvdan",
      "id": 3576549,
      "node_id": "MDQ6VXNlcjM1NzY1NDk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3576549?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mvdan",
      "html_url": "https://github.com/mvdan",
      "followers_url": "https://api.github.com/users/mvdan/followers",
      "following_url": "https://api.github.com/users/mvdan/following{/other_user}",
      "gists_url": "https://api.github.com/users/mvdan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mvdan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mvdan/subscriptions",
      "organizations_url": "https://api.github.com/users/mvdan/orgs",
      "repos_url": "https://api.github.com/users/mvdan/repos",
      "events_url": "https://api.github.com/users/mvdan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mvdan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-06-08T17:39:41Z",
    "updated_at": "2020-06-08T17:39:41Z",
    "author_association": "NONE",
    "body": "Also, I realise that a new version came out just today; we haven't had time to upgrade yet, but will soon. I suspect it doesn't fix this race.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/640772815/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
