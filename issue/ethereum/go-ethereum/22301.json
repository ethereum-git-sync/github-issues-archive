{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22301",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22301/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22301/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22301/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/22301",
  "id": 805566646,
  "node_id": "MDU6SXNzdWU4MDU1NjY2NDY=",
  "number": 22301,
  "title": "Geth is losing pending transactions with the error: Demoting invalidated transaction",
  "user": {
    "login": "begetan",
    "id": 17225934,
    "node_id": "MDQ6VXNlcjE3MjI1OTM0",
    "avatar_url": "https://avatars.githubusercontent.com/u/17225934?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/begetan",
    "html_url": "https://github.com/begetan",
    "followers_url": "https://api.github.com/users/begetan/followers",
    "following_url": "https://api.github.com/users/begetan/following{/other_user}",
    "gists_url": "https://api.github.com/users/begetan/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/begetan/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/begetan/subscriptions",
    "organizations_url": "https://api.github.com/users/begetan/orgs",
    "repos_url": "https://api.github.com/users/begetan/repos",
    "events_url": "https://api.github.com/users/begetan/events{/privacy}",
    "received_events_url": "https://api.github.com/users/begetan/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 72233650,
      "node_id": "MDU6TGFiZWw3MjIzMzY1MA==",
      "url": "https://api.github.com/repos/ethereum/go-ethereum/labels/type:bug",
      "name": "type:bug",
      "color": "FF5E5E",
      "default": false,
      "description": ""
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 9,
  "created_at": "2021-02-10T14:33:03Z",
  "updated_at": "2022-09-09T10:07:09Z",
  "closed_at": null,
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "#### System information\r\n\r\nGeth version: `Geth/v1.9.25-stable-e7872729/linux-amd64/go1.15.6`\r\nOS & Version: Linux Ubuntu 18.04 LTS\r\nCommit hash : (if `develop`)\r\n\r\nWe have a Highly Available configuration with 2 Geth Node and AWS Application Load Balancer.\r\nOur software (several workers) sending quite a high number of transactions that are balanced across the nodes.\r\n\r\nSometimes the network fees rising high, so several transactions stuck in a pending state.  We limit this number to 10.\r\nWhen it occurs we bumping the gas limit to push them into the network. \r\n\r\n#### Expected behaviour\r\nThe transactions should stay in the queue and emit to the network ether after increasing the gas limit, or at the moment when the gas price goes down\r\n\r\n\r\n#### Actual behaviour\r\nIn some very rare case under heavy network load a node drops all transactions and start to emit new with the changing nounce.\r\nThere is a message in the log: `Demoting invalidated transaction`\r\n\r\n#### Steps to reproduce the behaviour\r\nIt is quite a rare case, but it seems to become more frequent with the increase of a load of a node ( a number TX per interval) and with the growth of network fees \r\n\r\nI am not sure if it is a bug or node misconfiguration but here is a key point of opening this issue:\r\nhttps://github.com/ethereum/go-ethereum/blob/27786671d28705159f15cd458045d29d732110e5/core/tx_pool.go#L1438\r\n\r\n```\r\n\t\tif list.Len() > 0 && list.txs.Get(nonce) == nil {\r\n\t\t\tgapped := list.Cap(0)\r\n\t\t\tfor _, tx := range gapped {\r\n\t\t\t\thash := tx.Hash()\r\n\t\t\t\tlog.Error(\"Demoting invalidated transaction\", \"hash\", hash)\r\n\r\n\t\t\t\t// Internal shuffle shouldn't touch the lookup set.\r\n\t\t\t\tpool.enqueueTx(hash, tx, false, false)\r\n\t\t\t}\r\n```\r\n\r\nSo it definitely goes into this function and drops pending transactions which should be never happened according to the comment.\r\n\r\nI wonder if any setting could protect from such an event? Is it a software issue due to the loaded network?",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22301/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22301/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/777327917",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/22301#issuecomment-777327917",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22301",
    "id": 777327917,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc3NzMyNzkxNw==",
    "user": {
      "login": "holiman",
      "id": 142290,
      "node_id": "MDQ6VXNlcjE0MjI5MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/142290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/holiman",
      "html_url": "https://github.com/holiman",
      "followers_url": "https://api.github.com/users/holiman/followers",
      "following_url": "https://api.github.com/users/holiman/following{/other_user}",
      "gists_url": "https://api.github.com/users/holiman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/holiman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/holiman/subscriptions",
      "organizations_url": "https://api.github.com/users/holiman/orgs",
      "repos_url": "https://api.github.com/users/holiman/repos",
      "events_url": "https://api.github.com/users/holiman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/holiman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-02-11T10:00:19Z",
    "updated_at": "2021-02-11T10:00:19Z",
    "author_association": "MEMBER",
    "body": "The problem is that out of `N` transactions, `n0` becomes removed due to being too cheap, compared to other transasctions. When that one is dropped, it means that `n1` ... `nN` becomes non-executable, (gapped), and demoted to the `queue` instead of `pending`. ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/777327917/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/777333722",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/22301#issuecomment-777333722",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22301",
    "id": 777333722,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc3NzMzMzcyMg==",
    "user": {
      "login": "fjl",
      "id": 6915,
      "node_id": "MDQ6VXNlcjY5MTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6915?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fjl",
      "html_url": "https://github.com/fjl",
      "followers_url": "https://api.github.com/users/fjl/followers",
      "following_url": "https://api.github.com/users/fjl/following{/other_user}",
      "gists_url": "https://api.github.com/users/fjl/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fjl/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fjl/subscriptions",
      "organizations_url": "https://api.github.com/users/fjl/orgs",
      "repos_url": "https://api.github.com/users/fjl/repos",
      "events_url": "https://api.github.com/users/fjl/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fjl/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-02-11T10:09:31Z",
    "updated_at": "2021-02-11T10:09:31Z",
    "author_association": "MEMBER",
    "body": "@begetan I'm trying to understand your problem. Are you sending transactions to your Geth nodes via RPC? Are you sending the RPC through load balancer?\r\n\r\nGeth txpool has features to treat 'local' transactions in a special way. When tx is received via RPC, it is treated as local transaction, and will not be dropped from the txpool. Your app setup with the load balancer might expose bugs in our implementation of this feature. ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/777333722/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/777605017",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/22301#issuecomment-777605017",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22301",
    "id": 777605017,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc3NzYwNTAxNw==",
    "user": {
      "login": "begetan",
      "id": 17225934,
      "node_id": "MDQ6VXNlcjE3MjI1OTM0",
      "avatar_url": "https://avatars.githubusercontent.com/u/17225934?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/begetan",
      "html_url": "https://github.com/begetan",
      "followers_url": "https://api.github.com/users/begetan/followers",
      "following_url": "https://api.github.com/users/begetan/following{/other_user}",
      "gists_url": "https://api.github.com/users/begetan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/begetan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/begetan/subscriptions",
      "organizations_url": "https://api.github.com/users/begetan/orgs",
      "repos_url": "https://api.github.com/users/begetan/repos",
      "events_url": "https://api.github.com/users/begetan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/begetan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-02-11T16:06:08Z",
    "updated_at": "2021-02-11T16:06:08Z",
    "author_association": "NONE",
    "body": "@holiman you describe the situation pretty correctly.  What is a workaround then?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/777605017/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/777628428",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/22301#issuecomment-777628428",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22301",
    "id": 777628428,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc3NzYyODQyOA==",
    "user": {
      "login": "begetan",
      "id": 17225934,
      "node_id": "MDQ6VXNlcjE3MjI1OTM0",
      "avatar_url": "https://avatars.githubusercontent.com/u/17225934?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/begetan",
      "html_url": "https://github.com/begetan",
      "followers_url": "https://api.github.com/users/begetan/followers",
      "following_url": "https://api.github.com/users/begetan/following{/other_user}",
      "gists_url": "https://api.github.com/users/begetan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/begetan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/begetan/subscriptions",
      "organizations_url": "https://api.github.com/users/begetan/orgs",
      "repos_url": "https://api.github.com/users/begetan/repos",
      "events_url": "https://api.github.com/users/begetan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/begetan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-02-11T16:40:22Z",
    "updated_at": "2021-02-11T16:40:22Z",
    "author_association": "NONE",
    "body": "@fjl we are using a load balancer with a persistent connection with WebSocket.\r\nRequests are continuously going to a single node unless a network or another long performance issue breaks the connection. \r\n\r\nWe are quite sure that most time our transactions are coming from RPC connections and staying local until get confirmed.\r\nDo you think that a handower of the connection between nodes may cause local transactions to drop?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/777628428/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/777647845",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/22301#issuecomment-777647845",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22301",
    "id": 777647845,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc3NzY0Nzg0NQ==",
    "user": {
      "login": "begetan",
      "id": 17225934,
      "node_id": "MDQ6VXNlcjE3MjI1OTM0",
      "avatar_url": "https://avatars.githubusercontent.com/u/17225934?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/begetan",
      "html_url": "https://github.com/begetan",
      "followers_url": "https://api.github.com/users/begetan/followers",
      "following_url": "https://api.github.com/users/begetan/following{/other_user}",
      "gists_url": "https://api.github.com/users/begetan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/begetan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/begetan/subscriptions",
      "organizations_url": "https://api.github.com/users/begetan/orgs",
      "repos_url": "https://api.github.com/users/begetan/repos",
      "events_url": "https://api.github.com/users/begetan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/begetan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-02-11T17:08:31Z",
    "updated_at": "2021-02-11T17:08:31Z",
    "author_association": "NONE",
    "body": "@fjl \r\nI came through logs for the last 7 days and see no correlation between the `Demoting invalidated transaction` error and the `WebSocket disconnect error` from the app.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/777647845/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/778102255",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/22301#issuecomment-778102255",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22301",
    "id": 778102255,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc3ODEwMjI1NQ==",
    "user": {
      "login": "fjl",
      "id": 6915,
      "node_id": "MDQ6VXNlcjY5MTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6915?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fjl",
      "html_url": "https://github.com/fjl",
      "followers_url": "https://api.github.com/users/fjl/followers",
      "following_url": "https://api.github.com/users/fjl/following{/other_user}",
      "gists_url": "https://api.github.com/users/fjl/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fjl/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fjl/subscriptions",
      "organizations_url": "https://api.github.com/users/fjl/orgs",
      "repos_url": "https://api.github.com/users/fjl/repos",
      "events_url": "https://api.github.com/users/fjl/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fjl/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-02-12T10:08:30Z",
    "updated_at": "2021-02-12T10:08:30Z",
    "author_association": "MEMBER",
    "body": "Thank you for the additional information.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/778102255/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/857427145",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/22301#issuecomment-857427145",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22301",
    "id": 857427145,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg1NzQyNzE0NQ==",
    "user": {
      "login": "grayguest",
      "id": 10668340,
      "node_id": "MDQ6VXNlcjEwNjY4MzQw",
      "avatar_url": "https://avatars.githubusercontent.com/u/10668340?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/grayguest",
      "html_url": "https://github.com/grayguest",
      "followers_url": "https://api.github.com/users/grayguest/followers",
      "following_url": "https://api.github.com/users/grayguest/following{/other_user}",
      "gists_url": "https://api.github.com/users/grayguest/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/grayguest/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/grayguest/subscriptions",
      "organizations_url": "https://api.github.com/users/grayguest/orgs",
      "repos_url": "https://api.github.com/users/grayguest/repos",
      "events_url": "https://api.github.com/users/grayguest/events{/privacy}",
      "received_events_url": "https://api.github.com/users/grayguest/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-06-09T06:40:10Z",
    "updated_at": "2021-06-09T06:40:10Z",
    "author_association": "NONE",
    "body": "I also met so many logs, for example\r\n```\r\nINFO [06-09|06:35:37.479] Imported new chain segment               blocks=1 txs=48  mgas=7.996  elapsed=25.602ms    mgasps=312.318  number=4,937,846 hash=0db702..615a85 dirty=141.30MiB\r\nINFO [06-09|06:35:37.479] Unindexed transactions                   blocks=1 txs=1   tail=2,587,847 elapsed=\"93.493µs\"\r\nINFO [06-09|06:35:38.642] Imported new chain segment               blocks=1 txs=82  mgas=7.707  elapsed=20.297ms    mgasps=379.673  number=4,937,846 hash=ba8f22..dc198c dirty=141.51MiB\r\nINFO [06-09|06:35:52.313] Chain reorg detected                     number=4,937,845 hash=077de6..8c9c13 drop=1 dropfrom=0db702..615a85 add=2 addfrom=38391c..b9a91a\r\nINFO [06-09|06:35:52.314] Imported new chain segment               blocks=1 txs=38  mgas=8.002  elapsed=16.564ms    mgasps=483.061  number=4,937,847 hash=38391c..b9a91a dirty=141.41MiB\r\nINFO [06-09|06:35:52.314] Unindexed transactions                   blocks=1 txs=3   tail=2,587,848 elapsed=\"73.602µs\"\r\nERROR[06-09|06:35:52.326] Demoting invalidated transaction         hash=57fe07..31cbd0\r\nERROR[06-09|06:35:52.326] Demoting invalidated transaction         hash=73fcf3..5aae07\r\nERROR[06-09|06:35:52.326] Demoting invalidated transaction         hash=a2c651..b2a4fd\r\nERROR[06-09|06:35:52.326] Demoting invalidated transaction         hash=7c95bd..a37d2f\r\nERROR[06-09|06:35:52.326] Demoting invalidated transaction         hash=071a56..16b831\r\nERROR[06-09|06:35:52.326] Demoting invalidated transaction         hash=595523..67bd7e\r\nERROR[06-09|06:35:52.326] Demoting invalidated transaction         hash=8dfb8b..1681ec\r\nERROR[06-09|06:35:52.326] Demoting invalidated transaction         hash=602965..fde21d\r\nERROR[06-09|06:35:52.326] Demoting invalidated transaction         hash=1ff634..8c5fb4\r\nERROR[06-09|06:35:52.329] Demoting invalidated transaction         hash=d6dfad..3e944b\r\nERROR[06-09|06:35:52.329] Demoting invalidated transaction         hash=cfaf23..c32e5e\r\nERROR[06-09|06:35:52.329] Demoting invalidated transaction         hash=1c7131..1d4375\r\nERROR[06-09|06:35:52.329] Demoting invalidated transaction         hash=dd3c26..dabf15\r\nERROR[06-09|06:35:52.331] Demoting invalidated transaction         hash=401c37..cff114\r\nERROR[06-09|06:35:52.332] Demoting invalidated transaction         hash=5ca986..227e48\r\nERROR[06-09|06:35:52.332] Demoting invalidated transaction         hash=3e39c8..f7c2f7\r\nERROR[06-09|06:35:52.332] Demoting invalidated transaction         hash=6a6c16..393335\r\nERROR[06-09|06:35:52.332] Demoting invalidated transaction         hash=e143e7..45b711\r\nERROR[06-09|06:35:52.332] Demoting invalidated transaction         hash=4b8f62..9dbb7b\r\nERROR[06-09|06:35:52.332] Demoting invalidated transaction         hash=4717b9..ddb2ce\r\nERROR[06-09|06:35:52.332] Demoting invalidated transaction         hash=7de7d4..fade6f\r\nERROR[06-09|06:35:52.332] Demoting invalidated transaction         hash=03953a..eeed09\r\nERROR[06-09|06:35:52.332] Demoting invalidated transaction         hash=3cb812..8f97f7\r\nERROR[06-09|06:35:52.336] Demoting invalidated transaction         hash=ff2077..33c51d\r\nERROR[06-09|06:35:52.336] Demoting invalidated transaction         hash=2fef84..62c76b\r\nERROR[06-09|06:35:52.342] Demoting invalidated transaction         hash=7471a8..2e1712\r\nERROR[06-09|06:35:52.342] Demoting invalidated transaction         hash=dc3ab8..a61ed7\r\nERROR[06-09|06:35:52.343] Demoting invalidated transaction         hash=11d5f4..a3b23e\r\nINFO [06-09|06:35:53.869] Imported new chain segment               blocks=1 txs=100 mgas=7.745  elapsed=25.701ms    mgasps=301.336  number=4,937,847 hash=8864d4..4412f2 dirty=141.59MiB\r\nINFO [06-09|06:36:07.418] Imported new chain segment               blocks=1 txs=42  mgas=7.997  elapsed=56.322ms    mgasps=141.980  number=4,937,848 hash=664cd9..496421 dirty=141.35MiB\r\nINFO [06-09|06:36:07.418] Unindexed transactions                   blocks=1 txs=1   tail=2,587,849 elapsed=\"82.744µs\"\r\nINFO [06-09|06:36:09.313] Imported new chain segment               blocks=1 txs=60  mgas=7.991  elapsed=38.821ms    mgasps=205.836  number=4,937,848 hash=1ca0e7..f405f9 dirty=141.54MiB\r\nINFO [06-09|06:36:09.366] Imported new chain segment               blocks=1 txs=58  mgas=7.986  elapsed=17.513ms    mgasps=456.009  number=4,937,848 hash=bae824..e2e26f dirty=141.56MiB\r\nINFO [06-09|06:36:23.488] Imported new chain segment               blocks=1 txs=29  mgas=3.630  elapsed=12.695ms    mgasps=285.918  number=4,937,849 hash=6d2283..33cddb dirty=141.66MiB\r\nINFO [06-09|06:36:23.488] Unindexed transactions                   blocks=1 txs=0   tail=2,587,850 elapsed=\"64.848µs\"\r\nINFO [06-09|06:36:24.057] Chain reorg detected                     number=4,937,848 hash=664cd9..496421 drop=1 dropfrom=6d2283..33cddb add=1 addfrom=f21301..45442d\r\nINFO [06-09|06:36:24.057] Imported new chain segment               blocks=1 txs=61  mgas=7.998  elapsed=16.445ms    mgasps=486.331  number=4,937,849 hash=f21301..45442d dirty=141.75MiB\r\nERROR[06-09|06:36:24.079] Demoting invalidated transaction         hash=595523..67bd7e\r\nERROR[06-09|06:36:24.079] Demoting invalidated transaction         hash=8dfb8b..1681ec\r\nERROR[06-09|06:36:24.079] Demoting invalidated transaction         hash=602965..fde21d\r\nERROR[06-09|06:36:24.079] Demoting invalidated transaction         hash=1ff634..8c5fb4\r\nINFO [06-09|06:36:24.226] Imported new chain segment               blocks=1 txs=58  mgas=7.990  elapsed=19.877ms    mgasps=401.964  number=4,937,849 hash=caaa04..70b327 dirty=141.77MiB\r\nINFO [06-09|06:36:24.526] Deep froze chain segment                 blocks=4 elapsed=4.314ms     number=4,847,849 hash=da8eee..99cc23\r\nINFO [06-09|06:36:38.442] Chain reorg detected                     number=4,937,848 hash=664cd9..496421 drop=1 dropfrom=f21301..45442d add=2 addfrom=508763..ff728b\r\nINFO [06-09|06:36:38.443] Imported new chain segment               blocks=1 txs=81  mgas=7.986  elapsed=31.013ms    mgasps=257.500  number=4,937,850 hash=508763..ff728b dirty=141.94MiB\r\nINFO [06-09|06:36:38.443] Unindexed transactions                   blocks=1 txs=2   tail=2,587,851 elapsed=\"87.705µs\"\r\nERROR[06-09|06:36:38.457] Demoting invalidated transaction         hash=65fd63..7a6bc8\r\nERROR[06-09|06:36:38.457] Demoting invalidated transaction         hash=1bd81c..23525e\r\nERROR[06-09|06:36:38.457] Demoting invalidated transaction         hash=cfa6e5..c9a145\r\nERROR[06-09|06:36:38.458] Demoting invalidated transaction         hash=f7d9ed..0673d9\r\nERROR[06-09|06:36:38.458] Demoting invalidated transaction         hash=66ea9c..766d53\r\nERROR[06-09|06:36:38.458] Demoting invalidated transaction         hash=14d606..c8dbab\r\nERROR[06-09|06:36:38.458] Demoting invalidated transaction         hash=3a9cad..c34f40\r\nERROR[06-09|06:36:38.458] Demoting invalidated transaction         hash=40b390..13325a\r\nERROR[06-09|06:36:38.458] Demoting invalidated transaction         hash=61318f..051311\r\nERROR[06-09|06:36:38.458] Demoting invalidated transaction         hash=77bce2..819385\r\nERROR[06-09|06:36:38.458] Demoting invalidated transaction         hash=3bafc6..60a08f\r\nERROR[06-09|06:36:38.458] Demoting invalidated transaction         hash=a62119..c54947\r\nERROR[06-09|06:36:38.460] Demoting invalidated transaction         hash=9e96e6..47d6c9\r\nERROR[06-09|06:36:38.461] Demoting invalidated transaction         hash=0af467..9c8d6f\r\nERROR[06-09|06:36:38.461] Demoting invalidated transaction         hash=ea3a6a..431171\r\nERROR[06-09|06:36:38.462] Demoting invalidated transaction         hash=5bb416..008582\r\nERROR[06-09|06:36:38.464] Demoting invalidated transaction         hash=6ab7cf..6dcf41\r\nERROR[06-09|06:36:38.464] Demoting invalidated transaction         hash=6e1728..ac9f0d\r\nERROR[06-09|06:36:38.464] Demoting invalidated transaction         hash=9ce8e6..c39ea5\r\nERROR[06-09|06:36:38.468] Demoting invalidated transaction         hash=685b56..b0c2eb\r\nERROR[06-09|06:36:38.468] Demoting invalidated transaction         hash=7aa9c0..1ef14f\r\nERROR[06-09|06:36:38.471] Demoting invalidated transaction         hash=462e59..d9371c\r\nINFO [06-09|06:36:52.948] Imported new chain segment               blocks=1 txs=60  mgas=7.764  elapsed=53.651ms    mgasps=144.710  number=4,937,851 hash=ab52e8..190dd4 dirty=142.14MiB\r\n\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/857427145/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1241522927",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/22301#issuecomment-1241522927",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22301",
    "id": 1241522927,
    "node_id": "IC_kwDOAOvK985KACLv",
    "user": {
      "login": "mohamedmansour",
      "id": 68524,
      "node_id": "MDQ6VXNlcjY4NTI0",
      "avatar_url": "https://avatars.githubusercontent.com/u/68524?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mohamedmansour",
      "html_url": "https://github.com/mohamedmansour",
      "followers_url": "https://api.github.com/users/mohamedmansour/followers",
      "following_url": "https://api.github.com/users/mohamedmansour/following{/other_user}",
      "gists_url": "https://api.github.com/users/mohamedmansour/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mohamedmansour/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mohamedmansour/subscriptions",
      "organizations_url": "https://api.github.com/users/mohamedmansour/orgs",
      "repos_url": "https://api.github.com/users/mohamedmansour/repos",
      "events_url": "https://api.github.com/users/mohamedmansour/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mohamedmansour/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-09-09T05:44:35Z",
    "updated_at": "2022-09-09T05:44:35Z",
    "author_association": "MEMBER",
    "body": "I recently saw these in the logs, shouldn't these be warnings instead?\r\n\r\n```\r\nINFO [09-08\\|22:16:08.555] Unindexed transactions                   blocks=1          txs=322         tail=13,150,966 elapsed=2.984ms\r\n--\r\n  |   | INFO [09-08\\|22:16:08.551] Imported new chain segment               blocks=1          txs=89          mgas=6.855   elapsed=47.287ms     mgasps=144.972  number=15,500,965 hash=4871fe..688572 dirty=1022.15MiB\r\n  |   | INFO [09-08\\|22:16:07.307] Unindexed transactions                   blocks=1          txs=277         tail=13,150,965 elapsed=2.559ms\r\n  |   | INFO [09-08\\|22:16:07.304] Imported new chain segment               blocks=1          txs=300         mgas=29.980  elapsed=199.269ms    mgasps=150.450  number=15,500,964 hash=a2f6c1..740c22 dirty=1022.97MiB\r\n  |   | ERROR[09-08\\|22:15:34.019] Demoting invalidated transaction         hash=2049b1..24c87f\r\n  |   | ERROR[09-08\\|22:15:34.019] Demoting invalidated transaction         hash=453529..718e2d\r\n  |   | INFO [09-08\\|22:15:34.003] Unindexed transactions                   blocks=1          txs=0           tail=13,150,964 elapsed=\"61.427µs\"\r\n  |   | INFO [09-08\\|22:15:34.003] Imported new chain segment               blocks=1          txs=78          mgas=16.292  elapsed=109.574ms    mgasps=148.687  number=15,500,963 hash=aa2bb5..42b404 dirty=1021.88MiB\r\n  |   | INFO [09-08\\|22:15:33.995] Chain reorg detected                     number=15,500,961 hash=6fb67b..f96aa3 drop=1 dropfrom=abe700..79e2df add=2 addfrom=aa2bb5..42b404\r\n  |   | INFO [09-08\\|22:15:32.406] Imported new chain segment               blocks=1          txs=256         mgas=29.995  elapsed=141.899ms    mgasps=211.379  number=15,500,962 hash=abe700..79e2df dirty=1023.91MiB\r\n  |   | INFO [09-08\\|22:15:32.405] Chain reorg detected                     number=15,500,961 hash=6fb67b..f96aa3 drop=1 dropfrom=65b30d..c835fe add=1 addfrom=abe700..79e2df\r\n  |   | INFO [09-08\\|22:15:32.265] Unindexed transactions                   blocks=1          txs=38          tail=13,150,963 elapsed=\"897.908µs\"\r\n  |   | INFO [09-08\\|22:15:32.264] Imported new chain segment               blocks=1          txs=252         mgas=29.998  elapsed=178.684ms    mgasps=167.883  number=15,500,962 hash=65b30d..c835fe dirty=1023.15MiB\r\n  |   | INFO [09-08\\|22:15:18.840] Unindexed transactions                   blocks=1          txs=15          tail=13,150,962 elapsed=\"410.686µs\"\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1241522927/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1241774132",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/22301#issuecomment-1241774132",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22301",
    "id": 1241774132,
    "node_id": "IC_kwDOAOvK985KA_g0",
    "user": {
      "login": "fjl",
      "id": 6915,
      "node_id": "MDQ6VXNlcjY5MTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6915?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fjl",
      "html_url": "https://github.com/fjl",
      "followers_url": "https://api.github.com/users/fjl/followers",
      "following_url": "https://api.github.com/users/fjl/following{/other_user}",
      "gists_url": "https://api.github.com/users/fjl/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fjl/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fjl/subscriptions",
      "organizations_url": "https://api.github.com/users/fjl/orgs",
      "repos_url": "https://api.github.com/users/fjl/repos",
      "events_url": "https://api.github.com/users/fjl/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fjl/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-09-09T10:07:09Z",
    "updated_at": "2022-09-09T10:07:09Z",
    "author_association": "MEMBER",
    "body": "I guess we should make this a warning, yes.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1241774132/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
