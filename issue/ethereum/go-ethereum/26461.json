{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/26461",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/26461/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/26461/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/26461/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/26461",
  "id": 1526594691,
  "node_id": "I_kwDOAOvK985a_fyD",
  "number": 26461,
  "title": "Geth not syncing with beacon chain",
  "user": {
    "login": "blockinator",
    "id": 36169687,
    "node_id": "MDQ6VXNlcjM2MTY5Njg3",
    "avatar_url": "https://avatars.githubusercontent.com/u/36169687?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/blockinator",
    "html_url": "https://github.com/blockinator",
    "followers_url": "https://api.github.com/users/blockinator/followers",
    "following_url": "https://api.github.com/users/blockinator/following{/other_user}",
    "gists_url": "https://api.github.com/users/blockinator/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/blockinator/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/blockinator/subscriptions",
    "organizations_url": "https://api.github.com/users/blockinator/orgs",
    "repos_url": "https://api.github.com/users/blockinator/repos",
    "events_url": "https://api.github.com/users/blockinator/events{/privacy}",
    "received_events_url": "https://api.github.com/users/blockinator/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 72233650,
      "node_id": "MDU6TGFiZWw3MjIzMzY1MA==",
      "url": "https://api.github.com/repos/ethereum/go-ethereum/labels/type:bug",
      "name": "type:bug",
      "color": "FF5E5E",
      "default": false,
      "description": ""
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 1,
  "created_at": "2023-01-10T01:12:15Z",
  "updated_at": "2023-01-10T03:35:37Z",
  "closed_at": null,
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "I am trying to setup a Ethereum full node for a project but it's not fully syncing or connecting to a beacon node. For the beacon nodes, I have tried both Prysm and Nimbus and both are having the same issue. Geth is the latest version. Here's how everything is started:\r\n\r\nGETH (I tried both full and snap sync modes)\r\n```\r\ngeth --http --http.addr 0.0.0.0 --http.port 8545 --http.api \"admin,debug,web3,eth,txpool,personal\" --http.rpcprefix \"/\" --http.corsdomain \"*\" --http.vhosts \"*\" --ws --ws.addr 0.0.0.0 --ws.port 8546 --ws.api \"admin,debug,web3,eth,txpool,personal\"  --ws.origins \"*\" --authrpc.addr 0.0.0.0 --authrpc.vhosts=“*” --authrpc.port 8551 --authrpc.jwtsecret=/root/.beacon/jwtsecret --syncmode snap\r\n```\r\n\r\nTest 1 - With Prysm\r\n```\r\n./prysm.sh beacon-chain --execution-endpoint=http://localhost:8551 --jwt-secret=/root/.beacon/jwtsecret\r\n```\r\n\r\nTest 2 - With Nimbus\r\n```\r\n./run-mainnet-beacon-node.sh --web3-url=http://127.0.0.1:8551 --jwt-secret=\"/root/.beacon/jwtsecret\"\r\n```\r\n\r\n### LOGS\r\n#### Here is the logs for GETH\r\n```\r\nWARN [01-09|23:23:08.429] Post-merge network, but no beacon client seen. Please launch one to follow the chain! \r\nWARN [01-09|23:24:48.731] Snapshot extension registration failed   peer=ba83bd0f err=\"peer connected on snap without compatible eth support\"\r\nWARN [01-09|23:28:08.859] Post-merge network, but no beacon client seen. Please launch one to follow the chain! \r\nWARN [01-09|23:29:29.456] Snapshot extension registration failed   peer=9c68445d err=\"peer connected on snap without compatible eth support\"\r\nWARN [01-09|23:29:39.106] Snapshot extension registration failed   peer=04dfa983 err=\"peer connected on snap without compatible eth support\"\r\nWARN [01-09|23:29:40.597] Snapshot extension registration failed   peer=0a807721 err=\"peer connected on snap without compatible eth support\"\r\nWARN [01-09|23:30:19.952] Checkpoint challenge timed out, dropping id=3faa1a8c7a725593 conn=inbound              addr=34.255.1.26:49916    type=Geth/v1.10.25-stable...\r\nWARN [01-09|23:33:09.314] Post-merge network, but no beacon client seen. Please launch one to follow the chain! \r\nWARN [01-09|23:38:09.504] Post-merge network, but no beacon client seen. Please launch one to follow the chain! \r\nWARN [01-09|23:41:32.135] Served net_version                       conn=46.114.206.218:44345 reqid=4406319431                           duration=9.076359ms  err=\"the method net_version does not exist/is not available\"\r\nINFO [01-09|23:42:12.489] Writing clean trie cache to disk         path=/root/.ethereum/geth/triecache threads=1\r\nINFO [01-09|23:42:12.566] Regenerated local transaction journal    transactions=0 accounts=0\r\nINFO [01-09|23:42:12.691] Persisted the clean trie cache           path=/root/.ethereum/geth/triecache elapsed=185.213ms\r\nWARN [01-09|23:43:10.413] Post-merge network, but no beacon client seen. Please launch one to follow the chain! \r\nWARN [01-09|23:48:10.758] Post-merge network, but no beacon client seen. Please launch one to follow the chain! \r\nWARN [01-09|23:53:11.309] Post-merge network, but no beacon client seen. Please launch one to follow the chain! \r\nWARN [01-09|23:58:11.626] Post-merge network, but no beacon client seen. Please launch one to follow the chain! \r\nWARN [01-10|00:03:03.411] Served net_version                       conn=46.114.206.218:38296 reqid=9430733359                           duration=3.88011ms   err=\"the method net_version does not exist/is not available\"\r\nWARN [01-10|00:03:12.186] Post-merge network, but no beacon client seen. Please launch one to follow the chain! \r\nWARN [01-10|00:03:18.905] Checkpoint challenge timed out, dropping id=1a8f6dc2279f063e conn=dyndial              addr=3.225.199.99:30303   type=Geth/v1.10.26-stable...\r\nWARN [01-10|00:08:12.831] Post-merge network, but no beacon client seen. Please launch one to follow the chain! \r\nWARN [01-10|00:13:13.044] Post-merge network, but no beacon client seen. Please launch one to follow the chain! \r\nWARN [01-10|00:18:13.353] Post-merge network, but no beacon client seen. Please launch one to follow the chain! \r\nWARN [01-10|00:23:13.682] Post-merge network, but no beacon client seen. Please launch one to follow the chain! \r\nWARN [01-10|00:28:14.190] Post-merge network, but no beacon client seen. Please launch one to follow the chain! \r\nWARN [01-10|00:33:14.387] Post-merge network, but no beacon client seen. Please launch one to follow the chain! \r\nWARN [01-10|00:38:15.105] Post-merge network, but no beacon client seen. Please launch one to follow the chain! \r\nINFO [01-10|00:42:12.493] Writing clean trie cache to disk         path=/root/.ethereum/geth/triecache threads=1\r\nINFO [01-10|00:42:12.797] Regenerated local transaction journal    transactions=0 accounts=0\r\nINFO [01-10|00:42:12.955] Persisted the clean trie cache           path=/root/.ethereum/geth/triecache elapsed=433.927ms\r\nWARN [01-10|00:43:15.562] Post-merge network, but no beacon client seen. Please launch one to follow the chain! \r\nWARN [01-10|00:46:04.758] Served net_version                       conn=37.187.29.234:55082  reqid=e45f6337-16ae-4617-812d-7582faae3210 duration=1.280236ms  err=\"the method net_version does not exist/is not available\"\r\nWARN [01-10|00:48:15.745] Post-merge network, but no beacon client seen. Please launch one to follow the chain! \r\nWARN [01-10|00:48:54.758] Served net_version                       conn=46.114.206.218:38075 reqid=9988974398                           duration=\"605.265µs\" err=\"the method net_version does not exist/is not available\"\r\nWARN [01-10|00:53:16.216] Post-merge network, but no beacon client seen. Please launch one to follow the chain! \r\nWARN [01-10|00:58:16.661] Post-merge network, but no beacon client seen. Please launch one to follow the chain! \r\nWARN [01-10|01:03:16.900] Post-merge network, but no beacon client seen. Please launch one to follow the chain! \r\nWARN [01-10|01:08:17.186] Post-merge network, but no beacon client seen. Please launch one to follow the chain! \r\nWARN [01-10|01:13:17.627] Post-merge network, but no beacon client seen. Please launch one to follow the chain! \r\nWARN [01-10|01:18:17.921] Post-merge network, but no beacon client seen. Please launch one to follow the chain! \r\nWARN [01-10|01:18:51.588] Served net_version                       conn=37.187.29.234:40624  reqid=7eb2a3ab-a63a-433d-9ca9-aad58ba87df4 duration=2.43883ms   err=\"the method net_version does not exist/is not available\"\r\nWARN [01-10|01:23:18.189] Post-merge network, but no beacon client seen. Please launch one to follow the chain! \r\nWARN [01-10|01:28:18.554] Post-merge network, but no beacon client seen. Please launch one to follow the chain! \r\nWARN [01-10|01:33:18.817] Post-merge network, but no beacon client seen. Please launch one to follow the chain! \r\nWARN [01-10|01:34:35.999] Served net_version                       conn=46.114.206.218:56607 reqid=842098677                            duration=\"299.6µs\"   err=\"the method net_version does not exist/is not available\"\r\nWARN [01-10|01:38:19.272] Post-merge network, but no beacon client seen. Please launch one to follow the chain! \r\nINFO [01-10|01:42:12.488] Writing clean trie cache to disk         path=/root/.ethereum/geth/triecache threads=1\r\nINFO [01-10|01:42:12.833] Regenerated local transaction journal    transactions=0 accounts=0\r\nINFO [01-10|01:42:13.033] Persisted the clean trie cache           path=/root/.ethereum/geth/triecache elapsed=440.817ms\r\nWARN [01-10|01:43:19.588] Post-merge network, but no beacon client seen. Please launch one to follow the chain! \r\nWARN [01-10|01:48:19.865] Post-merge network, but no beacon client seen. Please launch one to follow the chain! \r\nWARN [01-10|01:53:20.329] Post-merge network, but no beacon client seen. Please launch one to follow the chain! \r\nWARN [01-10|01:58:20.737] Post-merge network, but no beacon client seen. Please launch one to follow the chain! \r\nWARN [01-10|02:03:20.999] Post-merge network, but no beacon client seen. Please launch one to follow the chain! \r\nWARN [01-10|02:08:21.521] Post-merge network, but no beacon client seen. Please launch one to follow the chain! \r\n```\r\n\r\n#### Here are the logs for Beacon (Nimbus)\r\n```\r\nINF 2023-01-09 02:24:26.264+01:00 Launching beacon node                      topics=\"beacnde\" version=v22.12.0-f6a5a5-stateofus bls_backend=BLST cmdParams=\"@[\\\"--network=mainnet\\\", \\\"--data-dir=build/data/shared_mainnet_0\\\", \\\"--tcp-port=9000\\\", \\\"--udp-port=9000\\\", \\\"--rest\\\", \\\"--rest-port=5052\\\", \\\"--metrics\\\", \\\"--web3-url=http://127.0.0.1:8551\\\", \\\"--jwt-secret=/root/.beacon/jwtsecret\\\"]\" config=\"(configFile: none(InputFile), logLevel: \\\"INFO\\\", logStdout: auto, logFile: none(OutFile), eth2Network: some(\\\"mainnet\\\"), dataDir: build/data/shared_mainnet_0, validatorsDirFlag: none(InputDir), secretsDirFlag: none(InputDir), walletsDirFlag: none(InputDir), eraDirFlag: none(InputDir), web3Urls: @[\\\"http://127.0.0.1:8551\\\"], web3ForcePolling: false, optimistic: false, requireEngineAPI: none(bool), nonInteractive: false, netKeyFile: \\\"random\\\", netKeyInsecurePassword: false, agentString: \\\"nimbus\\\", subscribeAllSubnets: false, slashingDbKind: v2, numThreads: 0, jwtSecret: some(\\\"/root/.beacon/jwtsecret\\\"), cmd: noCommand, runAsServiceFlag: false, bootstrapNodes: @[], bootstrapNodesFile: , listenAddress: 0.0.0.0, tcpPort: 9000, udpPort: 9000, maxPeers: 160, hardMaxPeers: none(int), nat: (hasExtIp: false, nat: NatAny), enrAutoUpdate: false, weakSubjectivityCheckpoint: none(Checkpoint), syncLightClient: false, trustedBlockRoot: none(Eth2Digest), finalizedCheckpointState: none(InputFile), finalizedCheckpointBlock: none(InputFile), nodeName: \\\"\\\", graffiti: none(GraffitiBytes), strictVerification: false, stopAtEpoch: 0, stopAtSyncedEpoch: 0, metricsEnabled: true, metricsAddress: 127.0.0.1, metricsPort: 8008, statusBarEnabled: true, statusBarContents: \\\"peers: $connected_peers;finalized: $finalized_root:$finalized_epoch;head: $head_root:$head_epoch:$head_epoch_slot;time: $epoch:$epoch_slot ($slot);sync: $sync_status|ETH: $attached_validators_balance\\\", rpcEnabled: none(bool), rpcPort: none(Port), rpcAddress: none(ValidIpAddress), restEnabled: true, restPort: 5052, restAddress: 127.0.0.1, restAllowedOrigin: none(string), restCacheSize: 3, restCacheTtl: 60, restRequestTimeout: 0, restMaxRequestBodySize: 16384, restMaxRequestHeadersSize: 64, keymanagerEnabled: false, keymanagerPort: 5052, keymanagerAddress: 127.0.0.1, keymanagerAllowedOrigin: none(string), keymanagerTokenFile: none(InputFile), lightClientDataServe: true, lightClientDataImportMode: only-new, lightClientDataMaxPeriods: none(uint64), inProcessValidators: true, debugForkChoice: false, discv5Enabled: true, dumpEnabled: false, directPeers: @[], doppelgangerDetection: true, syncHorizon: 50, deploymentPhase: mainnet, terminalTotalDifficultyOverride: none(string), validatorMonitorAuto: false, validatorMonitorPubkeys: @[], validatorMonitorTotals: false, safeSlotsToImportOptimistically: none(uint16), suggestedFeeRecipient: none(Address), payloadBuilderEnable: false, payloadBuilderUrl: \\\"\\\")\"\r\nNOT 2023-01-09 02:24:26.265+01:00 Starting metrics HTTP server               topics=\"beacnde\" url=http://127.0.0.1:8008/metrics\r\nINF 2023-01-09 02:24:26.417+01:00 Threadpool started                         topics=\"beacnde\" numThreads=10\r\nNOT 2023-01-09 02:24:28.220+01:00 Database initialized from genesis          blockRoot=4d611d5b93fdab69013a7f0a2f961caca0c853f87cfe9595fe50038163079360 stateRoot=7e76880eb67bbdc86250aa578958e9d0675e64e714337855204fb5abaaf82c2b stateSlot=0\r\nINF 2023-01-09 02:24:28.220+01:00 Loading block DAG from database            topics=\"beacnde\" path=build/data/shared_mainnet_0/db\r\nINF 2023-01-09 02:24:28.455+01:00 Loading finalized blocks                   finHigh=err() finalizedHead=4d611d5b:0\r\nINF 2023-01-09 02:24:28.466+01:00 Block DAG initialized                      head=4d611d5b:0 finalizedHead=4d611d5b:0 tail=4d611d5b:0 backfill=\"(0, \\\"00000000\\\")\" loadDur=216ms991us855ns summariesDur=8ms4us543ns finalizedDur=20ms111us980ns frontfillDur=580ns keysDur=114us43ns\r\nNOT 2023-01-09 02:24:28.467+01:00 Starting REST HTTP server                  topics=\"beacnde\" url=http://127.0.0.1:5052/\r\nINF 2023-01-09 02:24:28.467+01:00 Generating new networking key              topics=\"networking\" network_public_key=0802122102c92b905d991c9034f3760b2dacd74213e6abc59f592a0d3216cee7493f1d4c03 network_peer_id=16Uiu2HAm8xxTNFdrevPHXKMZVNdvGyVZHtnbffKDmHaXotFQW13Q\r\nINF 2023-01-09 02:24:28.470+01:00 Discovery ENR initialized                  topics=\"eth p2p discv5\" enrAutoUpdate=false seqNum=1 ip=some(155.133.26.155) tcpPort=some(9000) udpPort=some(9000) customEnrFields=\"@[eth2:0x4A26C58B02000000FFFFFFFFFFFFFFFF, attnets:0x0000000000000000]\" uri=enr:-LK4QIPFOJVMdz-oTmtuKApZFdXcFrwsbjh5VQQItEU4ZQOSXBAlmxwHPmsO8TFrNJqLiPHRrpJnTsSJkO9xq9hYinoBh2F0dG5ldHOIAAAAAAAAAACEZXRoMpBKJsWLAgAAAP__________gmlkgnY0gmlwhJuFGpuJc2VjcDI1NmsxoQLJK5BdmRyQNPN2Cy2s10IT5qvFn1kqDTIWzudJPx1MA4N0Y3CCIyiDdWRwgiMo\r\nINF 2023-01-09 02:24:28.471+01:00 Loading slashing protection database (v2)  topics=\"beacnde\" path=build/data/shared_mainnet_0/validators\r\nINF 2023-01-09 02:24:28.696+01:00 Initializing fork choice                   topics=\"beacnde\" unfinalized_blocks=0\r\nINF 2023-01-09 02:24:28.696+01:00 Fork choice initialized                    topics=\"beacnde\" justified=0:00000000 finalized=0:00000000\r\nNOT 2023-01-09 02:24:28.696+01:00 Starting beacon node                       topics=\"beacnde\" version=v22.12.0-f6a5a5-stateofus nimVersion=1.6.11 enr=enr:-LK4QIPFOJVMdz-oTmtuKApZFdXcFrwsbjh5VQQItEU4ZQOSXBAlmxwHPmsO8TFrNJqLiPHRrpJnTsSJkO9xq9hYinoBh2F0dG5ldHOIAAAAAAAAAACEZXRoMpBKJsWLAgAAAP__________gmlkgnY0gmlwhJuFGpuJc2VjcDI1NmsxoQLJK5BdmRyQNPN2Cy2s10IT5qvFn1kqDTIWzudJPx1MA4N0Y3CCIyiDdWRwgiMo peerId=16Uiu2HAm8xxTNFdrevPHXKMZVNdvGyVZHtnbffKDmHaXotFQW13Q timeSinceFinalization=109w5d13h24m5s696ms964us198ns head=4d611d5b:0 justified=0:00000000 finalized=0:00000000 finalizedHead=4d611d5b:0 SLOTS_PER_EPOCH=32 SECONDS_PER_SLOT=12 SPEC_VERSION=1.3.0-alpha.2 dataDir=build/data/shared_mainnet_0 validators=0\r\nINF 2023-01-09 02:24:28.703+01:00 Listening to incoming network requests     topics=\"beacnde\"\r\nINF 2023-01-09 02:24:28.703+01:00 Starting discovery node                    topics=\"eth p2p discv5\" node=46*260a82:155.133.26.155:9000 bindAddress=0.0.0.0:9000\r\nINF 2023-01-09 02:24:28.707+01:00 Established connection to execution layer  topics=\"eth1\" url=http://127.0.0.1:8551\r\nINF 2023-01-09 02:24:28.707+01:00 Starting Eth1 deposit contract monitoring  topics=\"eth1\" contract=0x00000000219ab540356cbb839cbe05303d7705fa\r\nNOT 2023-01-09 02:24:28.711+01:00 REST service started                       address=127.0.0.1:5052\r\nINF 2023-01-09 02:24:28.712+01:00 Scheduling first slot action               topics=\"beacnde\" startTime=109w5d13h24m5s711ms812us74ns nextSlot=5533621 timeToNextSlot=6s288ms187us926ns\r\n peers: 0 ❯ finalized: 4d611d5b:0 ❯ head: 4d611d5b:0:0 ❯ time: 172925:20 (5533620) ❯ sync: synced  \r\n```",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/26461/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/26461/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1376683728",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/26461#issuecomment-1376683728",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/26461",
    "id": 1376683728,
    "node_id": "IC_kwDOAOvK985SDobQ",
    "user": {
      "login": "rjl493456442",
      "id": 5959481,
      "node_id": "MDQ6VXNlcjU5NTk0ODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5959481?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rjl493456442",
      "html_url": "https://github.com/rjl493456442",
      "followers_url": "https://api.github.com/users/rjl493456442/followers",
      "following_url": "https://api.github.com/users/rjl493456442/following{/other_user}",
      "gists_url": "https://api.github.com/users/rjl493456442/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rjl493456442/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rjl493456442/subscriptions",
      "organizations_url": "https://api.github.com/users/rjl493456442/orgs",
      "repos_url": "https://api.github.com/users/rjl493456442/repos",
      "events_url": "https://api.github.com/users/rjl493456442/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rjl493456442/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-01-10T03:35:37Z",
    "updated_at": "2023-01-10T03:35:37Z",
    "author_association": "MEMBER",
    "body": "Your beacon node is syncing. \r\n\r\n```\r\n./prysm.sh beacon-chain --execution-endpoint=http://localhost:8551 --jwt-secret=/root/.beacon/jwtsecret\r\n\r\n```\r\n\r\nFor example, your are starting prysm with full-sync mode(please correct me if I am wrong), you can try the checkpoint sync which should bootstrap beacon node very soon. Here are some checkpoint sources https://eth-clients.github.io/checkpoint-sync-endpoints/\r\n\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1376683728/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
