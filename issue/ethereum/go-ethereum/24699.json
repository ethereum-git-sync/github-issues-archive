{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/24699",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/24699/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/24699/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/24699/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/24699",
  "id": 1205472267,
  "node_id": "I_kwDOAOvK985H2gwL",
  "number": 24699,
  "title": "Geth returns wrong block hash via 'newHeads' subscription",
  "user": {
    "login": "ksafonov",
    "id": 238125,
    "node_id": "MDQ6VXNlcjIzODEyNQ==",
    "avatar_url": "https://avatars.githubusercontent.com/u/238125?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/ksafonov",
    "html_url": "https://github.com/ksafonov",
    "followers_url": "https://api.github.com/users/ksafonov/followers",
    "following_url": "https://api.github.com/users/ksafonov/following{/other_user}",
    "gists_url": "https://api.github.com/users/ksafonov/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/ksafonov/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/ksafonov/subscriptions",
    "organizations_url": "https://api.github.com/users/ksafonov/orgs",
    "repos_url": "https://api.github.com/users/ksafonov/repos",
    "events_url": "https://api.github.com/users/ksafonov/events{/privacy}",
    "received_events_url": "https://api.github.com/users/ksafonov/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 72233650,
      "node_id": "MDU6TGFiZWw3MjIzMzY1MA==",
      "url": "https://api.github.com/repos/ethereum/go-ethereum/labels/type:bug",
      "name": "type:bug",
      "color": "FF5E5E",
      "default": false,
      "description": ""
    },
    {
      "id": 1132689577,
      "node_id": "MDU6TGFiZWwxMTMyNjg5NTc3",
      "url": "https://api.github.com/repos/ethereum/go-ethereum/labels/status:triage",
      "name": "status:triage",
      "color": "6be514",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 8,
  "created_at": "2022-04-15T10:29:12Z",
  "updated_at": "2022-04-28T08:42:46Z",
  "closed_at": "2022-04-28T08:42:46Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "#### System information\r\n\r\nGeth version: `v1.10.17-stable-25c9b49f/linux-amd64/go1.17.5`\r\nOS & Version: Linux\r\n\r\n#### Expected behaviour\r\n\r\nWhen receiving blocks via 'newHeads' subscription, parent hash of succeeding block(s) must match hash of preceding block. \r\nIf only one block of given height was received (so there's no reorg), it's hash must be the same as one returned later by getBlockByNumber() for this height.\r\n\r\n#### Actual behaviour\r\n\r\nSometimes block hash is incorrect, it neither matches one returned by getBlockByNumber nor parentHash of succeeding block(s).\r\n\r\n#### Steps to reproduce the behaviour\r\n\r\n```\r\n$ ./wscat -c ws://127.0.0.1:18546\r\n\r\n> {\"jsonrpc\":\"2.0\",\"method\":\"web3_clientVersion\",\"params\":[],\"id\":1}\r\n< {\"jsonrpc\":\"2.0\",\"id\":1,\"result\":\"Geth/v1.10.17-stable-25c9b49f/linux-amd64/go1.17.5\"}\r\n\r\n```\r\n\r\nSubscribed successfully:\r\n```\r\n> {\"jsonrpc\":\"2.0\",\"method\":\"eth_subscribe\",\"params\":[\"newHeads\"],\"id\":0}\r\n< {\"jsonrpc\":\"2.0\",\"id\":0,\"result\":\"0x4f6c8db73c357d1808fe9637f89998c7\"}\r\n```\r\n\r\n\r\n1) After some time I got block 14582596 with hash 0xcba43417b7945a58c96b55000058bc5109241093ad42bde2a5f946b65766b47e\r\n```\r\n< {\"jsonrpc\":\"2.0\",\"method\":\"eth_subscription\",\"params\":{\"subscription\":\"0x4f6c8db73c357d1808fe9637f89998c7\",\"result\":{\"parentHash\":\"0xcfc7df291a1732dad9f0a8880c08843f6410cd709e6cb2a0eb3e8aaa2980f7a3\",\"sha3Uncles\":\"0x1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347\",\"miner\":\"0x2a20380dca5bc24d052acfbf79ba23e988ad0050\",\"stateRoot\":\"0xd1c91868001f20d279385dae5dbecb50b16517962e7ce336bdbf417e945bccea\",\"transactionsRoot\":\"0x3fc32b8dc1f91e7b66d2d0d467e43f2b372029d466c1ec678c71c52c9e0ee0e4\",\"receiptsRoot\":\"0x850c489a804a9612008d7ff4c302e03bd3f5ff1f33d5b47b13e8cfbe880c3b43\",\"logsBloom\":\"0x922c0b070380996118e21048885193420a180230102c0110020d2190150b45820224a54a90024120528f592262061110030890110b0138004a06101a003245c81704408800480d287a82040ac4a005a582e140082cd0d04438a01441c8431931b32404e52a6c4c0a8508001b70680cd34081184c14b945240b141eb4415801000c21a10a42607c1000cd2c10f80130064505383105000609ee3800e66999c812320980a33383acd0cba042d14d032e0038d40c40c00882104db204065059112055000e0204310c901018000000625045401c020a46840cf102849126c0162c0148b8e44a4814284494091f301d440b0455486060610195c94e48c1194ea870a3\",\"difficulty\":\"0x2dbb3b621647b9\",\"number\":\"0xde8344\",\"gasLimit\":\"0x1c9c346\",\"gasUsed\":\"0x80e9e8\",\"timestamp\":\"0x6257e2f7\",\"extraData\":\"0x706f6f6c696e2e636f6d203717c66e176a619a\",\"mixHash\":\"0x243606503a79c2c685f4df3cecbf853b01e13a4b2c31ec83ed021709af48ee27\",\"nonce\":\"0x4f69b4e371d98f8c\",\"baseFeePerGas\":\"0x5bfd35720\",\"hash\":\"0xcba43417b7945a58c96b55000058bc5109241093ad42bde2a5f946b65766b47e\"}}}\r\n```\r\n\r\n2) Got block 14582597 with hash 0x015a18a5387536a72d64880d95fe2db7872e98ed918d796f772df7f5e22d7909 and parent hash 0xcba43417b7945a58c96b55000058bc5109241093ad42bde2a5f946b65766b47e. \r\n\r\n```\r\n{\"jsonrpc\":\"2.0\",\"method\":\"eth_subscription\",\"params\":{\"subscription\":\"0x4f6c8db73c357d1808fe9637f89998c7\",\"result\":{\"parentHash\":\"0xcba43417b7945a58c96b55000058bc5109241093ad42bde2a5f946b65766b47e\",\"sha3Uncles\":\"0x1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347\",\"miner\":\"0xea674fdde714fd979de3edf0f56aa9716b898ec8\",\"stateRoot\":\"0xb723c254f003107bc69ad240d0ccb3968e26a2c693bca95fd0ee1f133a85c238\",\"transactionsRoot\":\"0x6f8e5c286c4beffd5e674f49100423fde9d5bd7b1f864b33db269134a6e15da1\",\"receiptsRoot\":\"0x6ab80afd599d72f3d62db405e2669dd1bcd9e13e490d35b173bb3b238405ed1b\",\"logsBloom\":\"0x92b047635dd5506bf8bb318aa619f31fea2afc2aa7745333e56f71efd6794b0c7f6fc943d7ade72975697bbe6805a7ae9b63e5335992ed484b3d5929e5777ade404f9124a7ce9ead4b6b6978e35088fd0cb3e4516a6e13dbfce41f68e6ee9d38bb3be3445e5395fec1688dd67408aee9a2d0fd5ce3559ce1a787f9d65fcef6d8ecdda762f780361c54ed7f4037c72c8e116e815d355bf1adec278d73cc5c72bc7fe859935a5f6942fe3ff4ffe74f07506bd639a0f9eb035ea3672cdb9e2e1a557122cece876b85df20611fdd4824402d57d8df93bfab8e3b9a4187ae2c08610b3fb93b7b5c1563e05e967da85830fdf29363912df18877f5a6792f5b64ebb2e9\",\"difficulty\":\"0x2dbb4b621647b9\",\"number\":\"0xde8345\",\"gasLimit\":\"0x1ca35b5\",\"gasUsed\":\"0x16ccb83\",\"timestamp\":\"0x6257e304\",\"extraData\":\"0x617369612d65617374322d36356b70\",\"mixHash\":\"0xd46b7fca228a3c568a1184a9ea48118b47cab4fad36abf98a9e5c50cff213bc4\",\"nonce\":\"0xcc1c65cf13a6c115\",\"baseFeePerGas\":\"0x56f7855ca\",\"hash\":\"0x015a18a5387536a72d64880d95fe2db7872e98ed918d796f772df7f5e22d7909\"}}}\r\n```\r\n\r\n*Looks good so far, but...*\r\n\r\n3) Got block 14582598 with hash 0x29232383fb162f9977d4a869cd0ccb95b33cea3946e5d4762f58db67f0fc1899 and parent hash 0x04ea1f40bce6aede21fa82321e8c42c6887b389644d1387d450ba3138ebaabbe. **But there's no [preceding] block with hash 0x04ea1f...**\r\n\r\n```\r\n< {\"jsonrpc\":\"2.0\",\"method\":\"eth_subscription\",\"params\":{\"subscription\":\"0x4f6c8db73c357d1808fe9637f89998c7\",\"result\":{\"parentHash\":\"0x04ea1f40bce6aede21fa82321e8c42c6887b389644d1387d450ba3138ebaabbe\",\"sha3Uncles\":\"0xa4e4d8b68089ae56ecaf3915d736c536efb63db6b45dd852fb8a8cf6c08fbeb0\",\"miner\":\"0xcd458d7f11023556cc9058f729831a038cb8df9c\",\"stateRoot\":\"0x24a1b3ad2121c14372b565011a44284fc31158cd2559a7906f8d6fe241a196b1\",\"transactionsRoot\":\"0x9115a53e8bcc1ee0051476509d25085f968c03e9588578e41c81b9ae171b6c19\",\"receiptsRoot\":\"0x2e817d8b39b1b02c711d23b3aab0374738fc0f1427536b1104860cc088c0af7e\",\"logsBloom\":\"0x896607409f4b04c3d29022108b59369fcc7cccc0d957123f2c99109f341e78e09b8547a5289a150fc32cfa9ebdfe2dc94361ed571b19eb180831fe6343adec5547a59c884653c5efc943a13ff0760a707f68444e29d57607b8b30c45c0e474361f2006260ed6e4dbadbeb8dd145dfaca2c09bd7f48901dc9f80dce36456d04f2bf9da206ec484987956d5530b195b73e4e6a2c85133dcbbf5cb86bf65c1d755536f888bf9d292ade5aa86ef508434a15bde8e252f8680892d41b4d79d63f6cc2687ed26739454340e832223200372c38fb80ac0e96ef5558244e7d4b4b437e29d6b8694d0109cd080d449f2259b63d5674414ac3bb535de3604aeb72e872f81d\",\"difficulty\":\"0x2dc112cb828a81\",\"number\":\"0xde8346\",\"gasLimit\":\"0x1c9c329\",\"gasUsed\":\"0x13f7666\",\"timestamp\":\"0x6257e308\",\"extraData\":\"0x706f6f6c696e2e636f6d1edcbecfd4738543d7\",\"mixHash\":\"0x4f7bac8c7f377fbd9b6098d236bed95341ee5b0c7afd3a6053ae939ed5bd189e\",\"nonce\":\"0x78ea3b5d8117c9de\",\"baseFeePerGas\":\"0x5d67c0085\",\"hash\":\"0x29232383fb162f9977d4a869cd0ccb95b33cea3946e5d4762f58db67f0fc1899\"}}}\r\n```\r\n\r\n4) Got another block of height 14582598 (small chain split, that's fine), this one with hash 0x445024c341eae1d1872a46696b7932a6fb166b5a9bf446cde60bea6e5a60cd6a and same **missing** parent hash 0x04ea1f40bce6aede21fa82321e8c42c6887b389644d1387d450ba3138ebaabbe\r\n\r\n```\r\n< {\"jsonrpc\":\"2.0\",\"method\":\"eth_subscription\",\"params\":{\"subscription\":\"0x4f6c8db73c357d1808fe9637f89998c7\",\"result\":{\"parentHash\":\"0x04ea1f40bce6aede21fa82321e8c42c6887b389644d1387d450ba3138ebaabbe\",\"sha3Uncles\":\"0xa4e4d8b68089ae56ecaf3915d736c536efb63db6b45dd852fb8a8cf6c08fbeb0\",\"miner\":\"0x3ecef08d0e2dad803847e052249bb4f8bff2d5bb\",\"stateRoot\":\"0xc5f494541688923ffd9a2e41ec5ea42a4086f42906d5fae535426db6eed0660b\",\"transactionsRoot\":\"0x7ad278ace049f35916eb74a52e45bf9f51540a1c67ff6b908316878d18949676\",\"receiptsRoot\":\"0x62d7ec302342f456bbbc912552731cedb2f215854491934a3762177e2d3c4c57\",\"logsBloom\":\"0x89660340974b04c3d2d022108948749f4c7ccc80d917023e2c99109e241e70e88a054521289a150f4320f29ebdfa2dc94321a5531b19eb180821fa6342adec5506a79c884653c5efc943e12ef0762ab07e714c4e21d57407b8a30c45806474361e3006260ed6e4dbadbeb8dd145dfac22c01bd7708901d09f80dce36056d54f2bf9ca202ec404d87956d5570a115b736466a2c85133dcbbd7cb8eaf65c1d757736f8083d8d212ace5aa86ef508434214bda0e240c0680892d41f4d79d62b4c42687e526729454940e9322236003f2c38faa0a00696cf5558a44e7d4b49537a29c6b8694d01018d080d4c9f2241962d4674014ac33b5359e3504aeb72e832f01d\",\"difficulty\":\"0x2dc112cb828a81\",\"number\":\"0xde8346\",\"gasLimit\":\"0x1c9c380\",\"gasUsed\":\"0x11f7f76\",\"timestamp\":\"0x6257e308\",\"extraData\":\"0x73656f32\",\"mixHash\":\"0x396c16c10da2664a0a7408fa7032a61d8060ddf7f4c967a6598918bb8161fdcb\",\"nonce\":\"0x066e1b8eb1f98638\",\"baseFeePerGas\":\"0x5d67c0085\",\"hash\":\"0x445024c341eae1d1872a46696b7932a6fb166b5a9bf446cde60bea6e5a60cd6a\"}}}\r\n```\r\n\r\nIf I then ask geth for block 14582597 I'll get a **different** hash from what I received via subscription. And this hash will match parent hash of next blocks (0x04ea1f40bce6aede21fa82321e8c42c6887b389644d1387d450ba3138ebaabbe). And this is what Etherscan would show for this block.\r\n\r\n```\r\n> {\"jsonrpc\":\"2.0\",\"method\":\"eth_getBlockByNumber\",\"params\":[\"0xde8345\",false],\"id\":2}\r\n< {\"jsonrpc\":\"2.0\",\"id\":2,\"result\":{\"baseFeePerGas\":\"0x56f7855ca\",\"difficulty\":\"0x2dbb4b621647b9\",\"extraData\":\"0x617369612d65617374312d34\",\"gasLimit\":\"0x1ca35b5\",\"gasUsed\":\"0x16ccb83\",\"hash\":\"0x04ea1f40bce6aede21fa82321e8c42c6887b389644d1387d450ba3138ebaabbe\",\"logsBloom\":\"0x92b047635dd5506bf8bb318aa619f31fea2afc2aa7745333e56f71efd6794b0c7f6fc943d7ade72975697bbe6805a7ae9b63e5335992ed484b3d5929e5777ade404f9124a7ce9ead4b6b6978e35088fd0cb3e4516a6e13dbfce41f68e6ee9d38bb3be3445e5395fec1688dd67408aee9a2d0fd5ce3559ce1a787f9d65fcef6d8ecdda762f780361c54ed7f4037c72c8e116e815d355bf1adec278d73cc5c72bc7fe859935a5f6942fe3ff4ffe74f07506bd639a0f9eb035ea3672cdb9e2e1a557122cece876b85df20611fdd4824402d57d8df93bfab8e3b9a4187ae2c08610b3fb93b7b5c1563e05e967da85830fdf29363912df18877f5a6792f5b64ebb2e9\",\"miner\":\"0xea674fdde714fd979de3edf0f56aa9716b898ec8\",\"mixHash\":\"0x020203cdb7cc239e07cd6f0dd0739eb18785186d158d93483608f634e685208c\",\"nonce\":\"0x8e5f2b593b3c4957\",\"number\":\"0xde8345\",\"parentHash\":\"0xcba43417b7945a58c96b55000058bc5109241093ad42bde2a5f946b65766b47e\",\"receiptsRoot\":\"0x6ab80afd599d72f3d62db405e2669dd1bcd9e13e490d35b173bb3b238405ed1b\",\"sha3Uncles\":\"0x1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347\",\"size\":\"0x33002\",\"stateRoot\":\"0xb723c254f003107bc69ad240d0ccb3968e26a2c693bca95fd0ee1f133a85c238\",\"timestamp\":\"0x6257e304\",\"totalDifficulty\":\"0x9cfa7f9e622cf96adf8\",\"transactions\":[\"0xadfada5887db06ffa0a52e6d9ec717974fed2050fcd6adf991128079afbf9f2a\",\"0x06cd845f6e218399c51d92f9f694cdada53a448b9c88714e713b94a4b44354f1\",\"0x2c14ebe6ba961b55730d36e77813c04d909a8220e8d8f62a54ce606d34ff3160\",\"0x349fb2fe6e7e646c11e61e8e5a9c0946d3a8054ac9a7d1db17e52d89cc1d016c\",\"0x3d130bedbbfa3ec50bd3edf3aa0960ae95d8bc69f0e97839e2d1db0e962ea54f\",\"0x2a72122f3243dd1f78ae4cebb76db8b8c8c55fe9bb6093db9ec10e1984c8d497\",\"0x4b62f9da0890edf272caf40bf5afa6e0d8e873892ec5e7dabf2b064350ace1ea\",\"0x79c3f3ad84011a5ee1dd19dd482c66f193472a129bef05539672d9c4747f71e7\",\"0x5523f2a79d677453688d55f08cdf2e8d25c11fc54d419e64dd9bb50a2be2f570\",\"0x12ec58f50b273d74f4f89d771bcb5c13640455a138ed62f5591f8b72d5ccb0e4\",\"0x220b2409b926bdcfcbb92df33c9137522a462580f889b564ecd3f3a7e1795fff\",\"0x5899dc632f8ea46087e34d8765861a6da6fadb8b94af2c2eb083ac19265203fc\",\"0xc4cd89b1ed28de6b6f75fa6f8d57b97281488bd896c2d6d7604d12f3324a688c\",\"0x63618312f84ddc27e76003cd07853880aa484f5cc40b7cbf2561f3cc9820a07c\",\"0x454a524b082fecd0aa0582e9f9667e91c25dc880b0c429c7320467cd948bfe4b\",\"0x3998df70ddb848427099745a22b572890090a3e54afc3b8d1979a933e94b8aa8\",\"0x4f244c44111f34b33b4e846622245b0226f2121d7ca08309139394b742f9be3e\",\"0x30429c2f169b9bd6855e256416b9cf2205eb82c0f97697df7c30b025b4359545\",\"0x9097263d13403bc87880e81508856a602233f5262e59936ef47fbbeac72135f1\",\"0x9fdadf19d8a0a408f75d3f232250983b5a85e8f5d5bdb0c1c8cb209f3dd3fe09\",\"0x7c1d8adaa0860e51dd2e22a242452d3829574ba72edd373da42278c37bca8c41\",\"0x0ea17a1f4c37a06628b6cb4eed012dd00e826ff2c1588f461aca528e0a480a3a\",\"0x95c897df933733afa05392b447adc21c544dc6a873c7fc4315e65a95ef6fa9b5\",\"0x443c4a4fe58e8e4b7e21c8ad207e559f25688ac076e7048aa9d0bced25419bf2\",\"0x2819a4a027b5dd13b498a95b86dd2af707f8a6e4eb039632e02c0a9e81a894ff\",\"0x03a3236df43c7fdb77b501db3e9f84504403c4dfc2b225882e3cc23ae70e4048\",\"0xc970800d09a9b3f113a236c1b32c2e1882f0524a3d4c0329ae511f59d2cf2d61\",\"0x19b3d8424bf47b42e695f875a422cc0c055c062c8d665cfe7566b5cdb50c075b\",\"0xeb72b9a6eff902da3af0b4457d55151be86b3d7e91afbefe9c9c3aeb3984fde9\",\"0x2da33c82cac5d78b695e01c5b488b6ecf1c6e299668701d7e5d0f9547d59a348\",\"0xb066539fe512f43d177909f160df94a33d32a68daf67ba57a8bf01b9649e8d5e\",\"0x343d9988c8066010ecab4d2d400e83c61b5d9b750b6d29a73e5f5ee957953b13\",\"0x7cd55a4c6a1a508b526660d1b36eb9203797d8d897ea90d4b6876e4ab4b00cd7\",\"0x9130c22016934be3940497152f949dc227688c70950a9d42a8f39df87e7551eb\",\"0x73cd7ce82c20152ef4425aafc39413e5a376c7490de7ac21b6cb7cd3052ef74d\",\"0x716e24ff5bcfbafcd2fd80a12d42f3c44652f2258a5a3312204a51413ea9bf43\",\"0xfb7ea3dbcb305d677a6a84d91e3c05866b75855385b11510f5b80f822b6fa688\",\"0xc54a6b80a498bc0ad7680438d9881f9572d9af1b270c3676ac9e2438e0754df7\",\"0xe5941d04842476260f65f84459545808f2ff8fdedb677eecca45ab05b97bf255\",\"0x4be568d9c2e240af485beb20cbcd45a820758672705e3106e5500c119adbed66\",\"0xc46e903dbafb6a9531f01d8358d1a3ab6d1ad30da33002c386611a9232bd27fa\",\"0x12fadee523adb68020a224953398b05f39d865369a38e80be198865c9fc7dc09\",\"0x00ca7fcc39d9da50565a39566dad306a093a4013ffca7701a1c9686ae96ef681\",\"0x55009d921264e1684ad8f700e2627b0507c32555a69757e695a815591a77c9e9\",\"0xc7aca4e7e2f890de2f2737c751695d0f7f5f42bdc95081e3e80396b270ad4783\",\"0x447c823d2afedceb8087a10363082761ca381c303bafd15d2bc4d26dffe3d017\",\"0x8e99dda92195b6d4cb54a63142d0b71c25ffa322d392634171af07e2c6ab5e90\",\"0x20c7c5020751a0a9cc5d4f8a5efaca961cee8f2ca78f8faa3b02b8f49b326cde\",\"0x76f4895f7d7b9ccfcea5dbb913a7e5139d7d853e79ffbf2ed413edf26fc71db1\",\"0x17cfd82273411dbf1411ff85289a61516109634ab923481dec44653957826013\",\"0xc667996464107e47b7818ebbc62de0c92b0aee0f310535c0945f5ba92c24e3e0\",\"0x6b3409a5753aa3d5350a71fb95bb74c33eca80eb7511dcc147d580dccd13656b\",\"0xea5a8376a9929c0605f2aad7b14d0aadb7adf9a2fe34ce392daede2dea85aaf5\",\"0x516e9e6acec82c7eb110f01399e97aca1736e3b25ac4f7ba7a3894e9f7c6cb89\",\"0x9feb6c0adbc9c21f50b6a4861d999a35cc3542283df2ac837363fa12432ec0b8\",\"0x683472b25fe2efb037a2c97f46f28009b3227be2ff61d4ce65c6c382e86268e7\",\"0xba1839403291d32f11f1f8f2879d7b50851003d0652880a5b576ad63ce9e716d\",\"0x748f5c06021460f3506164675cb99825b74f459c98f5e9f164cb060a2e369313\",\"0x0f1ab563754b5e37e93dfbe2263918d6b2e23ad6c1f4a58c9fd8d4d0ea4f5b15\",\"0xce3c524a0613802a0b531c8e730d3daa1184bb1cb38c03dcf0bcb14da86bf96d\",\"0xa9b3d233a25624fa812e64c88a7925e8067e5fec886b13e3cdba737cb722f262\",\"0xf627aaa132cb51759f79a9e88d6c3256daa4955692925bd42cab07012e5d95d6\",\"0xe7ea60825e668dec3969c7118238c83548dea2e144654a093e49847a6d49b133\",\"0xc8f698d078ca5e058c9852588a4786ff852f4e8d2483d5845e670a69d8a059b9\",\"0x15d26701b289b1e4c0823d02e9691a98565f81556b56eaa002f70b75a5ef7305\",\"0x7fd177cb474b3b1bf3404e6e8614e6d5eb94f5cb1d86d4b705de358eb966e5c6\",\"0x0a38dc661f3a56f712114642e64ec1d5bd8fe80840f05942ce932a5b0a2399b5\",\"0xfa1b7172ca8a158aa58a2e23facf95ba66913bee76d4c08f5cfcb08301a31ca2\",\"0x888b9244f448b25fd5e1678a54cae2498a02a2969f0049938df23382cf5aaf2b\",\"0xfa7f24fed6cc9a79c3ec0014dfb030aea81798e07b66e4c926d3eff49cef6050\",\"0x21678f3546195b1b4c738cbd845a8de6b2126985684c188502ae87cb6f7fb608\",\"0xdfa35bc11e2d19d955a1d34b4dd2ca440a4428704c6f33096e8ddd06f70f49b0\",\"0xf36a0535d921f579757c4089ec0b020a0c5826987d25955dbec07c8732bef6e9\",\"0x758793228c52ffe9a84eafc17811242c58ed24af95b293f9a8af1dc6ce9fe420\",\"0xe3b5519b3a0a20b87a31d8f466360de4e742256ea0d92e3060ce1c2279e5d0e6\",\"0x72f24c7b7133d0fd8b8bf350dd3191a19106133c3a1142a43bffaee9f21be74a\",\"0x560132f036e14585384ef19888e088abdfd3c0579539434dbc2bc38c87add557\",\"0x86c8940892520b3169f7019b21228dc5f7bc945e2336035c836f43139519dd64\",\"0x6030e0f500dd6312d7c36ac9104570fb6e4f4215e88c9a4a43ca38b2c6c3584f\",\"0xb8fa01eeabfb0c5dd3332ada668e4abdf9343955ceb48f3e8c9982567cbe624e\",\"0xb4abbf15b31ff1199721cf6f21e2dc3ad560a96cd6224e2a537d27bf050ec113\",\"0xaf13ca06d1cd4ec1e9347bef53156fe65d4e071522b23115612fc691038f53f8\",\"0xb9c87f64811597cb746b4ace80f36656c4ab3a85a997ecc49fc5f6cce5bcd33b\",\"0x81b8709090649e950693a2a0d307f57e312642944087008d699b61e4590c3deb\",\"0xd1e39ee9981cde53312ef6518053013813a3c86e745d4e341e3206f2862bddb5\",\"0x88e541e544652e1c2e7842ebf36292b9748de09ed2d92ccb2b31c8445016a59a\",\"0x019b1bbc5b8f982b951fc4a54f712803cf1d1546c183488b04e788dfef8523d4\",\"0x1de9ed3b03903710fdf1120d4b92fc0ef717b4884a684fe3af595c5db9e63aba\",\"0xf87238bdec00e035cb9bc8927c7472a20edc0b5bfb92a5c48443c27ed02980fe\",\"0x8f6e4a533eeb1c4ef98c3dd314b77f44a6ca60b8ac70e6bcf53b81b15e6633bd\",\"0x13084053aa222fba5d2358c11aecdfad15f1cd553f1c3a6ae348fcdbf6147bd1\",\"0xe1d4dd9bbbd785a4048d98008fc7c900cb66410ce62d3293f5b6de6ef694b9f9\",\"0x2306ada4812337068832aec304d60e2ae08c2ef06b1f66a9b8191f3538fa62f7\",\"0xae033df4485f12fc1a6381ae821bd2d8bc7afc2ee67a3b3e6113e0c562912b8c\",\"0x600ab332ab68b539db0674ba1e4e4a3e40779e8cd67be07874fa8c3ee5ee1b3b\",\"0x6a02a40c849b314e39ffb69cc16c820f4e94537c50ac3153d225f5bd2df8268c\",\"0xc3c49e1979888f8e4d589518d6abd8b3709d8c863ba6ac942de5d808b635b878\",\"0xd192dd89a83d1431429ed38818dc5cc9815526d6e4b33bbb1e8f94c4675f6809\",\"0xc674acfa5d3093429fc542126ad61f38b3d33053c9c2b9479e74d84d40ed748f\",\"0x2afb7b37995dffe13a59352de20b5c9c4c0100fd17f6a492c1a64c1f00537231\",\"0xf4b9305f56279660928006b167fadadd3a63c9930a8d30e3fc1b270fdf5fda39\",\"0xde3cdd60b4dfe8d4c52e9b90d9b6923eb171b9054dbef24961bfc3025111ca30\",\"0x6f8e7d855f78396e89287fc57b56bbcbe164524a3cf1f15178786dad58c6b96b\",\"0x4156955c96f7886c77a420bc6015376bf9bf3fe978478226bc4a5c39462224a4\",\"0xd8f7d4dd9ee49af54a188150cb085f7bf73a0310f4f7d82887b0f185df0ec88f\",\"0x3a644010e805c54890bf6ef517b4a2aa9f4f743ba1c3dcdce3e413cb331fc1f1\",\"0x6c362c2c5cf77b02aafa54a693d3be9a23e832d7c1e2e2fb3eea0b6a8b4a8bbc\",\"0x73701182f2f35d5a8529e6f6a930a48c130bbfda20e218bd66d2c21a13f76005\",\"0x1d6398139af9a977f02c7b846f1d58b92d8faf7e2296bb138b78b8d5033a55ee\",\"0x563c3f55b96dab903c433950a2fccec4917a6b8a7580e0061099b27941cf6b80\",\"0x1b10431431ba2ccc407fe49d8d25591c25aa60ce508b2fdb00c9a50ecbb2392f\",\"0x9683f878844841f9a2afbe609293437a75d415955c1c61c05af0ad895445662c\",\"0xdc71ddefbb3581e74a500a8acce7e9d41634cc6d394c12c10406067f7fb1ba1c\",\"0x69eb2ccb45cf745b5065696c968b60ad8e81a6382ec596c3035625b1de83f2dc\",\"0x501d1d55ed08ad359197f191889f6b46027406d8b48edb2266cc512b8476e722\",\"0xe5b7a718f5793c2b1d39f0f70894eadd0a45abd7263ad8163c8b41804fd34143\",\"0x4da2f903fb2bcd34642f7e3847455c18ccf3e090d4de7aae14d11ee56104e8e2\",\"0x3856dce04439c2af9d025025afbcc1d8226ef82928985b4587320a43ee01a9c4\",\"0x565b2a907e73492f36b1f852e0a933428bb91e76d9e20406bb208837e89128c9\",\"0x0baabd86dab95ad32c777835568cc180297cd90943a2a4c0fb51fdb025639e68\",\"0xc7d764d18a9c74d355f69aa828d120d5b29360d4c3a0e9a6e4a639105248a219\",\"0x3d68fec95ae0a1fe38b7b2976954548f9181b5c0ef40e3f79d6e8842b4ef1cf8\",\"0x2371c511c2bf66db8904bd41797486c423adb6651be9f7ea88eb46fe5e45e0ed\",\"0x62e62883cb0d91f9c230136760e422dbc211e4ef4ac6642863a1d90aea57c350\",\"0xc521ae4e1be37bfc420061527e1b9840abcbbec5268b7b39b7b73349ea604bd3\",\"0x32680cc4f8ee12a5b79c8a6bbaf62cc3e766a10ccbd65524cd254202adcd80ac\",\"0xc8381cfc7abbbfad4b39aba08fac754e2accd489ed19af373cd7138eb1729eb3\",\"0x40a7a9d0a06dfd8a08bc381afffb2875344655d2c9461d01e67097dcd788286d\",\"0x7cd4b881758e02d701bc5a4d6809d507cecc26ca268ce23bc8275872fb605323\",\"0x98e3868798973c43ee885d03e9775e21d7b24abe26d60e43a1a04706d5be479f\",\"0xcae77fa4ca602d56abf688b31ea9b11fce4b0a95076cbc2fd39dc8d19ee1ee36\",\"0xd4bcb715bbb52839b2125c0303934617968cc0356ec5a9209eee1ba9ce8cba93\",\"0x05b1842d235b6af819630eda94136b9f20b01caebfe7fd60a60079da28806068\",\"0x946bd5b562f5e47c811d320586a15f3a6d3385e87b9297b92252ed5bb6afc854\",\"0x50721b852b7923f936f5dd9a5fd2e2e5fb77b60500b88853e70d4bf2c75dab70\",\"0x7ba583206dd0cdd28c6b9eeafd07a66732777b5a6f896ed2c442a89364e3cabb\",\"0xbec0d54fec7361822d799b1022c8594d33714acaa2d75d99fb160bfd5d4f051f\",\"0xf26d8d930cc45411f04ca86bfa891d913c578c910b0729bade7e6ef87d799b68\",\"0xc57ad8d2c32706ea4e01ae2a3cde574220cb51cc9311dd5c7876f99a21ef34d6\",\"0xeb2c9a6afc1472e3e4b6e0388c445fd30d46afc915e8c4eccd8bf096177a5ee7\",\"0x0456b8eb3e65dd6fb9085a8020786ebafa1358fd97f0e38888941cdefedcf6c4\",\"0xdf9b5f19258aafc9119ffbf6bbc5b865542691311f07db4ca5881883a764856b\",\"0xf1c4f6c4460baebf8862a790393bdc61f1942a857dbad361a421b303c762874b\",\"0x32242cd33d20dd5c0a9b3e5a1e787b66e99b6d52a9067ae18cad3d521ae5b0e4\",\"0xaf512868be47abc68fb33d4a8da6e3ef99d10c9e05f51486a3d1730fa70d7268\",\"0xecb4ac2bda0b293520098f4de6cc19f44faa2d5be769fcd40044970dd25c84f5\",\"0x08acab63f57130e9d0d4fcc1fb075da84e58926376d0b6db93edfe4c2a488acf\",\"0x20e5dbdfb7d6b3f1d53a6fed0bb049f861e7b0cc653d419f11415c4b2070c341\",\"0xb526e1550fb5b78da54d62dc5ef515ba8cebd2cb3e5e1f46d2159d785f5dd000\",\"0xe8e03f9afb427dd7d0b7e7af45c7fe9f1668912f01c694ac04cee6ba35d66b1c\",\"0x4b55e2127de1492b483234b7f92f1293750af40f99038bcba85ab50f60bd59f5\",\"0xe15525ae55bb8b266691765148f4b63e853263cb75598cf24a4ab41b1d7a3c62\",\"0xe3b8816521b200aaa45150ad51751ddfd737e81a2a18466b343b50451aa15a8f\",\"0x6e0fcba98cc9c79ba369be98d27e1957106d557f15649074aa03b74f7e79de50\",\"0x92bb87c11ae07098a012033dfa1c4867aac5fd40be789e3a7326d5db3e3e11f7\",\"0x230fe99ecd847ae0c2c95dcaf2f409d12df8df2cc9cc939282bfa6cb28ffe01f\",\"0xee39e72267576d76aad535c3a6a8b4489beb7f9af6d627f834f0f03fe424d38a\",\"0x31f7889c2cb0fb331802f0fe707ff9a6bffe99d5acc1ad8d5c0bed7fc9e78756\",\"0x3cfed6742562c3b9107d1c29610e34f32c5f3a186efb3759d96762f6914ec495\",\"0xc82e18608e3accdaf7d93af98b9ddb693dc7a48da8e104da435de0640bad107f\",\"0x7009da700123180ff4fa33c5cfa0e3d18dae2d387a715526e4906a5d4675a753\",\"0x0df52e23527e70722aa1c7734a3162c368bd4a0a0dedfab7e7fecbfc2b919305\",\"0x678ff6f7df5aadebe2f2dc5ca8ddbe49c30d0bcd5108a096b5f1ae60d4a93305\",\"0xa198248d6113d0efff9d283273273ae49fa79299a65f8740f407362367b80d12\",\"0x52d0ca16e0ce6f8b2b4dd5d3618e6948118c073870671a8031743114aa895e71\",\"0xb51e07b44362cb32be72c2eb45238b2bf7a0129238d6a78a7806aa7b19109387\",\"0x6743eae71db0e0f4f4b77d306444f63a914a03ab8b1e1996780452db647e6a8b\",\"0xcbf97904ff6cb4b0e09daa1acb7227d2950d75f04126a2484801997661ff18ef\",\"0xf17a8aef52638db32ff0d6ba83c64ac0b848d600c895cc51262907eb76c5c76c\",\"0xe456ddb5ac031f11434f013888cf356deba25ed09ff6a0c8eba07fe162d2309c\",\"0xd4e0f0c513ee79815d46d7d7580eb4e4086515b5ce00bad5268ef91a997338f6\",\"0x54fdb3a2f2c58a3cbd4a496627d306f27ba09028f1f15ecdf5488d4434412e20\",\"0x51d7c6e23ef48e1b2f5c62768fe066f35c2ad056f17d8be3c09abeb026a299b7\",\"0xf56476dd35faf4d60d3b810b4ffe6db91928606bf2d47522e7a5361773e5de9a\",\"0x9ad105fce86e822805e9797462288ab84a6192a3e9fe0bca0845b4d0db029d7c\",\"0xbe3345fa47d8b1dd01a7cd5928aef8ae1ee26a9ac9bf7cc73f06820ba98130a6\",\"0xf0c245138fb76f47e91d5dfe7a5aca1f7c738c9361cb47945fca7a676a81eec3\",\"0x9e53ef89b3b5b877d33e1eeb9038b7fccec722e55b85fa97da9c5487682213f0\"],\"transactionsRoot\":\"0x6f8e5c286c4beffd5e674f49100423fde9d5bd7b1f864b33db269134a6e15da1\",\"uncles\":[]}}\r\n```",
  "closed_by": {
    "login": "holiman",
    "id": 142290,
    "node_id": "MDQ6VXNlcjE0MjI5MA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/142290?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/holiman",
    "html_url": "https://github.com/holiman",
    "followers_url": "https://api.github.com/users/holiman/followers",
    "following_url": "https://api.github.com/users/holiman/following{/other_user}",
    "gists_url": "https://api.github.com/users/holiman/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/holiman/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/holiman/subscriptions",
    "organizations_url": "https://api.github.com/users/holiman/orgs",
    "repos_url": "https://api.github.com/users/holiman/repos",
    "events_url": "https://api.github.com/users/holiman/events{/privacy}",
    "received_events_url": "https://api.github.com/users/holiman/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/24699/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/24699/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1101914901",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/24699#issuecomment-1101914901",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/24699",
    "id": 1101914901,
    "node_id": "IC_kwDOAOvK985BreMV",
    "user": {
      "login": "eval-exec",
      "id": 46400566,
      "node_id": "MDQ6VXNlcjQ2NDAwNTY2",
      "avatar_url": "https://avatars.githubusercontent.com/u/46400566?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eval-exec",
      "html_url": "https://github.com/eval-exec",
      "followers_url": "https://api.github.com/users/eval-exec/followers",
      "following_url": "https://api.github.com/users/eval-exec/following{/other_user}",
      "gists_url": "https://api.github.com/users/eval-exec/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eval-exec/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eval-exec/subscriptions",
      "organizations_url": "https://api.github.com/users/eval-exec/orgs",
      "repos_url": "https://api.github.com/users/eval-exec/repos",
      "events_url": "https://api.github.com/users/eval-exec/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eval-exec/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-04-19T01:52:34Z",
    "updated_at": "2022-04-19T01:53:09Z",
    "author_association": "CONTRIBUTOR",
    "body": "On step 2:\r\n> Got block 14582597 with hash 0x015a18a5387536a72d64880d95fe2db7872e98ed918d796f772df7f5e22d7909 and parent hash 0xcba43417b7945a58c96b55000058bc5109241093ad42bde2a5f946b65766b47e.\r\n```\r\n< {\"jsonrpc\":\"2.0\",\"method\":\"eth_subscription\",\"params\":{\"subscription\":\"0x1819ec175f5e686c013b5236f8f7dbf7\",\"result\":{\"parentHash\":\"0x25a67e49d1fe42ff727ea260be5142bd04477d1bdb45230e857eb0d6b0db72dd\",\"sha3Uncles\":\"0x1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347\",\"miner\":\"0x6ebaf477f83e055589c1188bcc6ddccd8c9b131a\",\"stateRoot\":\"0x48b4e10a0ced1ec5be68bea65c2024c7bc531e4a126187651201677f7a990560\",\"transactionsRoot\":\"0xed1f10644405249656d07c35b6e1de7c89409390dcd41fcb44de045128d4b9b5\",\"receiptsRoot\":\"0x2169aed26a177d51e5bf4ec326cc1d4d39b88e005ead896426b0431154da1958\",\"logsBloom\":\"0xbf3ebfaf6fb15e07ffd02faef17a8f5ffb331e5ffd8eaaf5e7dfecf6bd1bfdef1fdf79fffadf0fe265d94ff0e29fcff5ffe5b941ebf73b97ab9398e5bafcf0f7fb1072ee60f58ffeefc099ffed767eaffcd77de3ed7e8e77f8e7bfc1bbcedf7f9f6be0c50e4dcf43df50bddc4ff5e9f99647dc7adafb7dfde34955779dafdcdd3b37d97ccefa15d7ed7dcde2714eefffbd8fccd9f57cb9dd252def57abf9f9fe7aebfdbf35daef7a7edf58f7fd33744c2abb9b0fbe5bee6e5db7af6afafdb595457bd6e3e59fafcf757bf7b215ef5dfb177ffedbd7defe3f4bd17bffd77beaadd0d0ef5e4a87fca824ed1cb8d7fbbbe73fd8dc5573abf9f3b06aef9c53f2ebbb\",\"difficulty\":\"0x2f7c10e421101f\",\"number\":\"0xde80fc\",\"gasLimit\":\"0x1c95111\",\"gasUsed\":\"0x1c900ab\",\"timestamp\":\"0x6257c1fc\",\"extraData\":\"0xd683010a11846765746886676f312e3138856c696e7578\",\"mixHash\":\"0xbd244713d8a068918eb889b4fef53ebf408978fb1da4450f410417a1e7064dc3\",\"nonce\":\"0xd356fa483e633e1d\",\"baseFeePerGas\":\"0x77218661e\",\"hash\":\"0x483755a83732a7cb22e1c0de1bd3052d46c704535062ca4b2f878d5c20288041\"}}}\r\n\r\n```\r\nthe expect `number` is `14582597`, but it's `0xde80fc`, do you paste it by mistake?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1101914901/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1102153977",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/24699#issuecomment-1102153977",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/24699",
    "id": 1102153977,
    "node_id": "IC_kwDOAOvK985BsYj5",
    "user": {
      "login": "ksafonov",
      "id": 238125,
      "node_id": "MDQ6VXNlcjIzODEyNQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/238125?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ksafonov",
      "html_url": "https://github.com/ksafonov",
      "followers_url": "https://api.github.com/users/ksafonov/followers",
      "following_url": "https://api.github.com/users/ksafonov/following{/other_user}",
      "gists_url": "https://api.github.com/users/ksafonov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ksafonov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ksafonov/subscriptions",
      "organizations_url": "https://api.github.com/users/ksafonov/orgs",
      "repos_url": "https://api.github.com/users/ksafonov/repos",
      "events_url": "https://api.github.com/users/ksafonov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ksafonov/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-04-19T06:44:42Z",
    "updated_at": "2022-04-19T06:44:42Z",
    "author_association": "NONE",
    "body": "@eval-exec thank you! I've just updated the description.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1102153977/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1103622858",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/24699#issuecomment-1103622858",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/24699",
    "id": 1103622858,
    "node_id": "IC_kwDOAOvK985Bx_LK",
    "user": {
      "login": "karalabe",
      "id": 129561,
      "node_id": "MDQ6VXNlcjEyOTU2MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/karalabe",
      "html_url": "https://github.com/karalabe",
      "followers_url": "https://api.github.com/users/karalabe/followers",
      "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
      "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
      "organizations_url": "https://api.github.com/users/karalabe/orgs",
      "repos_url": "https://api.github.com/users/karalabe/repos",
      "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/karalabe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-04-20T08:37:11Z",
    "updated_at": "2022-04-20T08:37:11Z",
    "author_association": "MEMBER",
    "body": "This is kind of deliberate, though you can chalk it up as a subtlety.\r\n\r\nThere are two cases where the subscription stream might be unexpected:\r\n\r\n- If we get given a batch of blocks from the network at the same time (e.g. we're out of sync and the downloader gives us 3 blocks); we will only announce the last as the new head. This is to avoid making thousands of head announcements when catching up after some downtime.\r\n- If there's a 2+ block reorg, AFAIK we will only announce the *head* in this subscription stream, not feed the entire reorg. The point here being that it's easy to detect if there's a disconnect from the previous announcement (exactly as you did), but it's not obvious what the dapp should do; so it's not obvious what \"better\" data we can give you.\r\n\r\nYour case is the second.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1103622858/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1103628075",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/24699#issuecomment-1103628075",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/24699",
    "id": 1103628075,
    "node_id": "IC_kwDOAOvK985ByAcr",
    "user": {
      "login": "karalabe",
      "id": 129561,
      "node_id": "MDQ6VXNlcjEyOTU2MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/karalabe",
      "html_url": "https://github.com/karalabe",
      "followers_url": "https://api.github.com/users/karalabe/followers",
      "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
      "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
      "organizations_url": "https://api.github.com/users/karalabe/orgs",
      "repos_url": "https://api.github.com/users/karalabe/repos",
      "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/karalabe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-04-20T08:40:53Z",
    "updated_at": "2022-04-20T08:40:53Z",
    "author_association": "MEMBER",
    "body": "E.g.\r\n\r\nImport block A1, A2, A3 and announce each as a head\r\nImport block B2, rooted in A1, this is a boring side chain, so does not get announced as  head\r\nImport block B3 - heavyer than A3. At this point B3 becomes the new head and gets announced. But B2 never was a real head thus was never announced to you.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1103628075/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1103630830",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/24699#issuecomment-1103630830",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/24699",
    "id": 1103630830,
    "node_id": "IC_kwDOAOvK985ByBHu",
    "user": {
      "login": "karalabe",
      "id": 129561,
      "node_id": "MDQ6VXNlcjEyOTU2MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/karalabe",
      "html_url": "https://github.com/karalabe",
      "followers_url": "https://api.github.com/users/karalabe/followers",
      "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
      "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
      "organizations_url": "https://api.github.com/users/karalabe/orgs",
      "repos_url": "https://api.github.com/users/karalabe/repos",
      "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/karalabe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-04-20T08:42:48Z",
    "updated_at": "2022-04-20T08:42:48Z",
    "author_association": "MEMBER",
    "body": "In theory we could expose a second subscription API to return the reorgs too, but they are supposedly easy to do locally yourself when you detect a disconnect between the parent hash and the previous hash, so it would kind of be redundant sugarcoating.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1103630830/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1103685617",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/24699#issuecomment-1103685617",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/24699",
    "id": 1103685617,
    "node_id": "IC_kwDOAOvK985ByOfx",
    "user": {
      "login": "ksafonov",
      "id": 238125,
      "node_id": "MDQ6VXNlcjIzODEyNQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/238125?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ksafonov",
      "html_url": "https://github.com/ksafonov",
      "followers_url": "https://api.github.com/users/ksafonov/followers",
      "following_url": "https://api.github.com/users/ksafonov/following{/other_user}",
      "gists_url": "https://api.github.com/users/ksafonov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ksafonov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ksafonov/subscriptions",
      "organizations_url": "https://api.github.com/users/ksafonov/orgs",
      "repos_url": "https://api.github.com/users/ksafonov/repos",
      "events_url": "https://api.github.com/users/ksafonov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ksafonov/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-04-20T09:21:07Z",
    "updated_at": "2022-04-20T09:21:07Z",
    "author_association": "NONE",
    "body": "Thank you Peter.\r\n\r\n1) For the sake of completeness: I've seen similar behaviour at a more \"linear\" chain, i.e. A1 -> A2 -> A3, parent hash of A3 is different from the announced hash of A2, and getBlockByNumber() would give me a different hash for A2 than announced. If needed, I can provide full example.\r\n2) If geth had an option to announce literally every block, client/dapp would be able to ensure it doesn't miss any blocks by carefully checking chain continuity. Yes one has to deal with reorgs, but not missing a single block is essential to maintain correct off-chain state.\r\n3) Haven't seen problem this at public nodes (e.g. Alchemy)",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1103685617/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1111909012",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/24699#issuecomment-1111909012",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/24699",
    "id": 1111909012,
    "node_id": "IC_kwDOAOvK985CRmKU",
    "user": {
      "login": "fjl",
      "id": 6915,
      "node_id": "MDQ6VXNlcjY5MTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6915?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fjl",
      "html_url": "https://github.com/fjl",
      "followers_url": "https://api.github.com/users/fjl/followers",
      "following_url": "https://api.github.com/users/fjl/following{/other_user}",
      "gists_url": "https://api.github.com/users/fjl/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fjl/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fjl/subscriptions",
      "organizations_url": "https://api.github.com/users/fjl/orgs",
      "repos_url": "https://api.github.com/users/fjl/repos",
      "events_url": "https://api.github.com/users/fjl/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fjl/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-04-28T08:41:07Z",
    "updated_at": "2022-04-28T08:41:22Z",
    "author_association": "MEMBER",
    "body": "We see `newHeads` more like a 'trigger' for the app to update its internal state. You can always get the stricter behavior by resolving the parent hashes of all announced head blocks.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1111909012/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1111910578",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/24699#issuecomment-1111910578",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/24699",
    "id": 1111910578,
    "node_id": "IC_kwDOAOvK985CRmiy",
    "user": {
      "login": "holiman",
      "id": 142290,
      "node_id": "MDQ6VXNlcjE0MjI5MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/142290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/holiman",
      "html_url": "https://github.com/holiman",
      "followers_url": "https://api.github.com/users/holiman/followers",
      "following_url": "https://api.github.com/users/holiman/following{/other_user}",
      "gists_url": "https://api.github.com/users/holiman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/holiman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/holiman/subscriptions",
      "organizations_url": "https://api.github.com/users/holiman/orgs",
      "repos_url": "https://api.github.com/users/holiman/repos",
      "events_url": "https://api.github.com/users/holiman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/holiman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-04-28T08:42:46Z",
    "updated_at": "2022-04-28T08:42:46Z",
    "author_association": "MEMBER",
    "body": "> would give me a different hash for A2 than announced. If needed, I can provide full example.\r\n\r\nPlease provide a full example, so we can check if it's indeed a bug somewhere. As it is, I think this ticket is answered/resolved. ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1111910578/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
