{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23085",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23085/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23085/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23085/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/23085",
  "id": 926566618,
  "node_id": "MDU6SXNzdWU5MjY1NjY2MTg=",
  "number": 23085,
  "title": "Geth archive node extremely slow syncing",
  "user": {
    "login": "noahc66260",
    "id": 757919,
    "node_id": "MDQ6VXNlcjc1NzkxOQ==",
    "avatar_url": "https://avatars.githubusercontent.com/u/757919?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/noahc66260",
    "html_url": "https://github.com/noahc66260",
    "followers_url": "https://api.github.com/users/noahc66260/followers",
    "following_url": "https://api.github.com/users/noahc66260/following{/other_user}",
    "gists_url": "https://api.github.com/users/noahc66260/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/noahc66260/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/noahc66260/subscriptions",
    "organizations_url": "https://api.github.com/users/noahc66260/orgs",
    "repos_url": "https://api.github.com/users/noahc66260/repos",
    "events_url": "https://api.github.com/users/noahc66260/events{/privacy}",
    "received_events_url": "https://api.github.com/users/noahc66260/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 13,
  "created_at": "2021-06-21T20:22:25Z",
  "updated_at": "2023-03-13T12:40:37Z",
  "closed_at": "2023-03-13T12:40:36Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "I'm syncing a geth archival node and the syncing is becoming progressively slower. Current sync status is block ~11.7M/12.6M and syncing 1 block every 2 seconds or 60-100 transactions per second. I have been syncing for 9 weeks so far. At the current rate of progress it will take another 3 weeks, but I am concerned that the sync could become slow enough to never reach the tip.\r\n\r\nCommand I'm running is geth --syncmode full --gcmode archive --txlookuplimit=0 --cache.preimages --datadir /datadrive --cache 128000 --snapshot=false\r\n\r\nI'm running my node on Azure with a Standard E16as_v4 (16 vcpus, 128 GiB memory) instance and 16TB premium SSD storage attached disk. OS is Linux (ubuntu 18.04).\r\n\r\nI am struggling to understand what the bottleneck is. I have tried connecting to new peers from https://etherscan.io/nodetracker, optimizing caching, running on a faster disk, and running with more RAM. The performance data I can see does not suggest any particular problem (CPU, RAM, IOPS, IO bandwidth, queue depth, etc.).",
  "closed_by": {
    "login": "MariusVanDerWijden",
    "id": 16664698,
    "node_id": "MDQ6VXNlcjE2NjY0Njk4",
    "avatar_url": "https://avatars.githubusercontent.com/u/16664698?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/MariusVanDerWijden",
    "html_url": "https://github.com/MariusVanDerWijden",
    "followers_url": "https://api.github.com/users/MariusVanDerWijden/followers",
    "following_url": "https://api.github.com/users/MariusVanDerWijden/following{/other_user}",
    "gists_url": "https://api.github.com/users/MariusVanDerWijden/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/MariusVanDerWijden/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/MariusVanDerWijden/subscriptions",
    "organizations_url": "https://api.github.com/users/MariusVanDerWijden/orgs",
    "repos_url": "https://api.github.com/users/MariusVanDerWijden/repos",
    "events_url": "https://api.github.com/users/MariusVanDerWijden/events{/privacy}",
    "received_events_url": "https://api.github.com/users/MariusVanDerWijden/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23085/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23085/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/872053500",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/23085#issuecomment-872053500",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23085",
    "id": 872053500,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg3MjA1MzUwMA==",
    "user": {
      "login": "holiman",
      "id": 142290,
      "node_id": "MDQ6VXNlcjE0MjI5MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/142290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/holiman",
      "html_url": "https://github.com/holiman",
      "followers_url": "https://api.github.com/users/holiman/followers",
      "following_url": "https://api.github.com/users/holiman/following{/other_user}",
      "gists_url": "https://api.github.com/users/holiman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/holiman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/holiman/subscriptions",
      "organizations_url": "https://api.github.com/users/holiman/orgs",
      "repos_url": "https://api.github.com/users/holiman/repos",
      "events_url": "https://api.github.com/users/holiman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/holiman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-01T08:46:57Z",
    "updated_at": "2021-07-01T08:46:57Z",
    "author_association": "MEMBER",
    "body": "Could you show us some logs from block processing? \r\nAlso, we ourselves make use of the built-in metrics to figure out what the bottlenecks are, when we do benchmarks. \r\nExample charts: \r\n![Screenshot_2021-07-01 Dual Geth - Grafana](https://user-images.githubusercontent.com/142290/124095091-a6c7f980-da59-11eb-8a29-de760792cd00.png)\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/872053500/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/877322334",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/23085#issuecomment-877322334",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23085",
    "id": 877322334,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg3NzMyMjMzNA==",
    "user": {
      "login": "noahc66260",
      "id": 757919,
      "node_id": "MDQ6VXNlcjc1NzkxOQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/757919?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/noahc66260",
      "html_url": "https://github.com/noahc66260",
      "followers_url": "https://api.github.com/users/noahc66260/followers",
      "following_url": "https://api.github.com/users/noahc66260/following{/other_user}",
      "gists_url": "https://api.github.com/users/noahc66260/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/noahc66260/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/noahc66260/subscriptions",
      "organizations_url": "https://api.github.com/users/noahc66260/orgs",
      "repos_url": "https://api.github.com/users/noahc66260/repos",
      "events_url": "https://api.github.com/users/noahc66260/events{/privacy}",
      "received_events_url": "https://api.github.com/users/noahc66260/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-09T16:53:21Z",
    "updated_at": "2021-07-09T16:53:21Z",
    "author_association": "NONE",
    "body": "I used logging level 5 for the following logs: https://pastebin.com/XzkpF4hN. Is this useful or do you want me to get logs in a different way?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/877322334/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/879254706",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/23085#issuecomment-879254706",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23085",
    "id": 879254706,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg3OTI1NDcwNg==",
    "user": {
      "login": "JavierMNieto",
      "id": 22333691,
      "node_id": "MDQ6VXNlcjIyMzMzNjkx",
      "avatar_url": "https://avatars.githubusercontent.com/u/22333691?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/JavierMNieto",
      "html_url": "https://github.com/JavierMNieto",
      "followers_url": "https://api.github.com/users/JavierMNieto/followers",
      "following_url": "https://api.github.com/users/JavierMNieto/following{/other_user}",
      "gists_url": "https://api.github.com/users/JavierMNieto/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/JavierMNieto/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/JavierMNieto/subscriptions",
      "organizations_url": "https://api.github.com/users/JavierMNieto/orgs",
      "repos_url": "https://api.github.com/users/JavierMNieto/repos",
      "events_url": "https://api.github.com/users/JavierMNieto/events{/privacy}",
      "received_events_url": "https://api.github.com/users/JavierMNieto/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-13T17:05:41Z",
    "updated_at": "2021-07-23T14:17:44Z",
    "author_association": "NONE",
    "body": "I have a similar setup as @noahc66260 and have also been experiencing extremely slow syncing now at block ~10.5M. It has been syncing for a little over 6 weeks now.\r\n\r\nI am running on version `1.10.6-stable` with these flags:\r\n`geth --mainnet --syncmode full --gcmode archive --cache 60000 --cache.preimages --txlookuplimit 0 --snapshot=false --datadir /data/.ethereum/ --metrics --metrics.influxdb --metrics.influxdb.endpoint \"http://0.0.0.0:8086\" --metrics.influxdb.username \"geth\" --metrics.influxdb.password \"password\"`\r\n\r\nThe virtual machine it is running on has 16 vCPUs, 128GB memory, and 16TB SSD on Ubuntu 20.04.2.\r\n\r\nI followed [this](https://ethereum.org/en/developers/tutorials/monitoring-geth-with-influxdb-and-grafana/) tutorial to monitor the node. [Here](https://snapshot.raintank.io/dashboard/snapshot/WwB1i0YdSMHpffmW7pmkBkOIpSnAMkBL?orgId=2) is a snapshot of my metrics over the past few days.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/879254706/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/893505847",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/23085#issuecomment-893505847",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23085",
    "id": 893505847,
    "node_id": "IC_kwDOAOvK9841QdE3",
    "user": {
      "login": "jithin03",
      "id": 68288007,
      "node_id": "MDQ6VXNlcjY4Mjg4MDA3",
      "avatar_url": "https://avatars.githubusercontent.com/u/68288007?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jithin03",
      "html_url": "https://github.com/jithin03",
      "followers_url": "https://api.github.com/users/jithin03/followers",
      "following_url": "https://api.github.com/users/jithin03/following{/other_user}",
      "gists_url": "https://api.github.com/users/jithin03/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jithin03/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jithin03/subscriptions",
      "organizations_url": "https://api.github.com/users/jithin03/orgs",
      "repos_url": "https://api.github.com/users/jithin03/repos",
      "events_url": "https://api.github.com/users/jithin03/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jithin03/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-08-05T14:29:15Z",
    "updated_at": "2021-08-05T14:29:15Z",
    "author_association": "NONE",
    "body": "Any update on this?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/893505847/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/893537563",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/23085#issuecomment-893537563",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23085",
    "id": 893537563,
    "node_id": "IC_kwDOAOvK9841Qk0b",
    "user": {
      "login": "JavierMNieto",
      "id": 22333691,
      "node_id": "MDQ6VXNlcjIyMzMzNjkx",
      "avatar_url": "https://avatars.githubusercontent.com/u/22333691?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/JavierMNieto",
      "html_url": "https://github.com/JavierMNieto",
      "followers_url": "https://api.github.com/users/JavierMNieto/followers",
      "following_url": "https://api.github.com/users/JavierMNieto/following{/other_user}",
      "gists_url": "https://api.github.com/users/JavierMNieto/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/JavierMNieto/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/JavierMNieto/subscriptions",
      "organizations_url": "https://api.github.com/users/JavierMNieto/orgs",
      "repos_url": "https://api.github.com/users/JavierMNieto/repos",
      "events_url": "https://api.github.com/users/JavierMNieto/events{/privacy}",
      "received_events_url": "https://api.github.com/users/JavierMNieto/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-08-05T15:10:09Z",
    "updated_at": "2021-08-05T15:10:09Z",
    "author_association": "NONE",
    "body": "I did not make any changes to my setup and have just been waiting on it to sync. I'm open to suggestions, but I'm at block ~12.6M, so I probably won't change anything now. I've accepted the process is just going to be slow. [Here](https://snapshot.raintank.io/dashboard/snapshot/5jiENblUP5laHyrgMigO6Yx087DVxmgf?orgId=2) is an updated grafana snapshot of my system.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/893537563/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/893957354",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/23085#issuecomment-893957354",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23085",
    "id": 893957354,
    "node_id": "IC_kwDOAOvK9841SLTq",
    "user": {
      "login": "jithin03",
      "id": 68288007,
      "node_id": "MDQ6VXNlcjY4Mjg4MDA3",
      "avatar_url": "https://avatars.githubusercontent.com/u/68288007?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jithin03",
      "html_url": "https://github.com/jithin03",
      "followers_url": "https://api.github.com/users/jithin03/followers",
      "following_url": "https://api.github.com/users/jithin03/following{/other_user}",
      "gists_url": "https://api.github.com/users/jithin03/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jithin03/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jithin03/subscriptions",
      "organizations_url": "https://api.github.com/users/jithin03/orgs",
      "repos_url": "https://api.github.com/users/jithin03/repos",
      "events_url": "https://api.github.com/users/jithin03/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jithin03/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-08-06T02:32:01Z",
    "updated_at": "2021-08-06T04:01:20Z",
    "author_association": "NONE",
    "body": "The current block in our node is around 12.3M. It takes around 1 minute to sync a new block. Is this normal? We have updated our GETH to stay aligned with the London fork. but at this slow rate, It would take months to reach the forking block. I am running it on a K8s (8 cores and 32 GB) cluster with a premium SSD of 16TB attached. Attaching the Grafana [snapshot](https://snapshot.raintank.io/dashboard/snapshot/SIgYtW46RI4M6nXs1Hv7woCzbYlDAGTX) for reference. Suggestions to improve the performance are highly appreciated!",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/893957354/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/893965810",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/23085#issuecomment-893965810",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23085",
    "id": 893965810,
    "node_id": "IC_kwDOAOvK9841SNXy",
    "user": {
      "login": "JavierMNieto",
      "id": 22333691,
      "node_id": "MDQ6VXNlcjIyMzMzNjkx",
      "avatar_url": "https://avatars.githubusercontent.com/u/22333691?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/JavierMNieto",
      "html_url": "https://github.com/JavierMNieto",
      "followers_url": "https://api.github.com/users/JavierMNieto/followers",
      "following_url": "https://api.github.com/users/JavierMNieto/following{/other_user}",
      "gists_url": "https://api.github.com/users/JavierMNieto/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/JavierMNieto/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/JavierMNieto/subscriptions",
      "organizations_url": "https://api.github.com/users/JavierMNieto/orgs",
      "repos_url": "https://api.github.com/users/JavierMNieto/repos",
      "events_url": "https://api.github.com/users/JavierMNieto/events{/privacy}",
      "received_events_url": "https://api.github.com/users/JavierMNieto/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-08-06T03:01:33Z",
    "updated_at": "2021-08-06T03:01:33Z",
    "author_association": "NONE",
    "body": "Maybe try giving it more RAM (with `--cache` in megabytes), like over 30GB which seems to be where it caps at for me no matter how much I allow it to use. \r\n\r\nAlso, I'm not for sure on this, but maybe try messing around with the `--maxpeers` option to reduce the number of peers you're connected to, which may help in reducing how many blocks your node has to send out just while you sync. As you can see from my [metrics](https://snapshot.raintank.io/dashboard/snapshot/5jiENblUP5laHyrgMigO6Yx087DVxmgf?orgId=2), I only have around `16` peers connected at a time, and although it still isn't incredibly fast, I have been syncing faster than 1 block per minute. Good luck, and I hope those suggestions are helpful.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/893965810/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/893982190",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/23085#issuecomment-893982190",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23085",
    "id": 893982190,
    "node_id": "IC_kwDOAOvK9841SRXu",
    "user": {
      "login": "jithin03",
      "id": 68288007,
      "node_id": "MDQ6VXNlcjY4Mjg4MDA3",
      "avatar_url": "https://avatars.githubusercontent.com/u/68288007?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jithin03",
      "html_url": "https://github.com/jithin03",
      "followers_url": "https://api.github.com/users/jithin03/followers",
      "following_url": "https://api.github.com/users/jithin03/following{/other_user}",
      "gists_url": "https://api.github.com/users/jithin03/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jithin03/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jithin03/subscriptions",
      "organizations_url": "https://api.github.com/users/jithin03/orgs",
      "repos_url": "https://api.github.com/users/jithin03/repos",
      "events_url": "https://api.github.com/users/jithin03/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jithin03/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-08-06T03:58:04Z",
    "updated_at": "2021-08-06T03:59:20Z",
    "author_association": "NONE",
    "body": "@JavierMNieto  Can you help me with your arguments. I have the following. Geth  v1.10.6\r\n` --cache=16384 --syncmode=full --gcmode=archive --datadir=/data/eth --nousb --maxpeers=200`",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/893982190/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/893985223",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/23085#issuecomment-893985223",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23085",
    "id": 893985223,
    "node_id": "IC_kwDOAOvK9841SSHH",
    "user": {
      "login": "JavierMNieto",
      "id": 22333691,
      "node_id": "MDQ6VXNlcjIyMzMzNjkx",
      "avatar_url": "https://avatars.githubusercontent.com/u/22333691?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/JavierMNieto",
      "html_url": "https://github.com/JavierMNieto",
      "followers_url": "https://api.github.com/users/JavierMNieto/followers",
      "following_url": "https://api.github.com/users/JavierMNieto/following{/other_user}",
      "gists_url": "https://api.github.com/users/JavierMNieto/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/JavierMNieto/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/JavierMNieto/subscriptions",
      "organizations_url": "https://api.github.com/users/JavierMNieto/orgs",
      "repos_url": "https://api.github.com/users/JavierMNieto/repos",
      "events_url": "https://api.github.com/users/JavierMNieto/events{/privacy}",
      "received_events_url": "https://api.github.com/users/JavierMNieto/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-08-06T04:06:34Z",
    "updated_at": "2021-08-06T04:06:34Z",
    "author_association": "NONE",
    "body": "I am running on version `1.10.6-stable` with these flags:\r\n`geth --mainnet --syncmode full --gcmode archive --cache 60000 --cache.preimages --txlookuplimit 0 --snapshot=false`",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/893985223/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/893988809",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/23085#issuecomment-893988809",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23085",
    "id": 893988809,
    "node_id": "IC_kwDOAOvK9841SS_J",
    "user": {
      "login": "noahc66260",
      "id": 757919,
      "node_id": "MDQ6VXNlcjc1NzkxOQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/757919?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/noahc66260",
      "html_url": "https://github.com/noahc66260",
      "followers_url": "https://api.github.com/users/noahc66260/followers",
      "following_url": "https://api.github.com/users/noahc66260/following{/other_user}",
      "gists_url": "https://api.github.com/users/noahc66260/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/noahc66260/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/noahc66260/subscriptions",
      "organizations_url": "https://api.github.com/users/noahc66260/orgs",
      "repos_url": "https://api.github.com/users/noahc66260/repos",
      "events_url": "https://api.github.com/users/noahc66260/events{/privacy}",
      "received_events_url": "https://api.github.com/users/noahc66260/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-08-06T04:17:45Z",
    "updated_at": "2021-08-06T04:17:45Z",
    "author_association": "NONE",
    "body": "I needed to use 256GB of RAM to complete the initial sync, and it took several months. The impression I got was that this was a software bottleneck and the only way to somewhat compensate was adding huge amounts of RAM.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/893988809/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/893991697",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/23085#issuecomment-893991697",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23085",
    "id": 893991697,
    "node_id": "IC_kwDOAOvK9841STsR",
    "user": {
      "login": "jithin03",
      "id": 68288007,
      "node_id": "MDQ6VXNlcjY4Mjg4MDA3",
      "avatar_url": "https://avatars.githubusercontent.com/u/68288007?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jithin03",
      "html_url": "https://github.com/jithin03",
      "followers_url": "https://api.github.com/users/jithin03/followers",
      "following_url": "https://api.github.com/users/jithin03/following{/other_user}",
      "gists_url": "https://api.github.com/users/jithin03/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jithin03/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jithin03/subscriptions",
      "organizations_url": "https://api.github.com/users/jithin03/orgs",
      "repos_url": "https://api.github.com/users/jithin03/repos",
      "events_url": "https://api.github.com/users/jithin03/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jithin03/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-08-06T04:26:35Z",
    "updated_at": "2021-08-06T04:26:52Z",
    "author_association": "NONE",
    "body": "@noahc66260 Did you mean 256GB as `--cache`. What about the `--maxpeers` count?. It would be helpful if you could share the arguments you used. @JavierMNieto What change does it brings by using `--snapshot=false`. Sorry if it sounds dumb. I am a newbie here",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/893991697/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/894316357",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/23085#issuecomment-894316357",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23085",
    "id": 894316357,
    "node_id": "IC_kwDOAOvK9841Ti9F",
    "user": {
      "login": "JavierMNieto",
      "id": 22333691,
      "node_id": "MDQ6VXNlcjIyMzMzNjkx",
      "avatar_url": "https://avatars.githubusercontent.com/u/22333691?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/JavierMNieto",
      "html_url": "https://github.com/JavierMNieto",
      "followers_url": "https://api.github.com/users/JavierMNieto/followers",
      "following_url": "https://api.github.com/users/JavierMNieto/following{/other_user}",
      "gists_url": "https://api.github.com/users/JavierMNieto/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/JavierMNieto/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/JavierMNieto/subscriptions",
      "organizations_url": "https://api.github.com/users/JavierMNieto/orgs",
      "repos_url": "https://api.github.com/users/JavierMNieto/repos",
      "events_url": "https://api.github.com/users/JavierMNieto/events{/privacy}",
      "received_events_url": "https://api.github.com/users/JavierMNieto/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-08-06T14:53:48Z",
    "updated_at": "2021-08-06T14:53:48Z",
    "author_association": "NONE",
    "body": "@jithin03 I believe at the time when I started the syncing process, if I did not have snapshot set to false, the archive node would not sync properly or would sync slower.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/894316357/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1466072485",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/23085#issuecomment-1466072485",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23085",
    "id": 1466072485,
    "node_id": "IC_kwDOAOvK985XYn2l",
    "user": {
      "login": "MariusVanDerWijden",
      "id": 16664698,
      "node_id": "MDQ6VXNlcjE2NjY0Njk4",
      "avatar_url": "https://avatars.githubusercontent.com/u/16664698?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MariusVanDerWijden",
      "html_url": "https://github.com/MariusVanDerWijden",
      "followers_url": "https://api.github.com/users/MariusVanDerWijden/followers",
      "following_url": "https://api.github.com/users/MariusVanDerWijden/following{/other_user}",
      "gists_url": "https://api.github.com/users/MariusVanDerWijden/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MariusVanDerWijden/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MariusVanDerWijden/subscriptions",
      "organizations_url": "https://api.github.com/users/MariusVanDerWijden/orgs",
      "repos_url": "https://api.github.com/users/MariusVanDerWijden/repos",
      "events_url": "https://api.github.com/users/MariusVanDerWijden/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MariusVanDerWijden/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-03-13T12:40:36Z",
    "updated_at": "2023-03-13T12:40:36Z",
    "author_association": "MEMBER",
    "body": "The geth archive node has not seen much love over the last years as other clients (such as erigon) emerged. A switch from leveldb to pebble (--pebble) might accelerate it a bit, but the truth is that its just not supported anymore. At some point we might even remove the functionality for the archive node from geth. I'm going to close this issue for now",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1466072485/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
