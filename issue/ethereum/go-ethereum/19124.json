{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/19124",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/19124/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/19124/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/19124/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/19124",
  "id": 411816044,
  "node_id": "MDU6SXNzdWU0MTE4MTYwNDQ=",
  "number": 19124,
  "title": "\"Head state missing, repairing chain\"  I lost many blocks , how can I get them back?",
  "user": {
    "login": "relaxbao",
    "id": 19773804,
    "node_id": "MDQ6VXNlcjE5NzczODA0",
    "avatar_url": "https://avatars.githubusercontent.com/u/19773804?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/relaxbao",
    "html_url": "https://github.com/relaxbao",
    "followers_url": "https://api.github.com/users/relaxbao/followers",
    "following_url": "https://api.github.com/users/relaxbao/following{/other_user}",
    "gists_url": "https://api.github.com/users/relaxbao/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/relaxbao/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/relaxbao/subscriptions",
    "organizations_url": "https://api.github.com/users/relaxbao/orgs",
    "repos_url": "https://api.github.com/users/relaxbao/repos",
    "events_url": "https://api.github.com/users/relaxbao/events{/privacy}",
    "received_events_url": "https://api.github.com/users/relaxbao/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 9,
  "created_at": "2019-02-19T09:05:58Z",
  "updated_at": "2020-08-27T09:10:39Z",
  "closed_at": "2019-05-21T08:51:46Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "Hi，\r\n\r\nI run geth using `supervisor` on Ubuntu as a privatechain, the geth crashed at yesterday because generating DAG file need more CPU than our server\r\n\r\nwhen it started , we lost many blocks , the blocknumber is from `1110002` back to `422522`.\r\nI need the lost blocks ,can I find them back?\r\n\r\nlooking forward to your response, thank you ~\r\n\r\n#### System information\r\n\r\nGeth version: `1.8.11`\r\nOS & Version: Linux Ubuntu\r\n\r\n#### Expected behaviour\r\nthe height is 1110002\r\n\r\n#### Actual behaviour\r\nnow the blockNumber is 422522, it shold be 1110002, how can I back to 1110002. \r\nhere is the log\r\n```\r\nHead state missing, repairing chain      number=1110002 hash=3610a2…5c104d\r\nINFO [02-18|16:07:13] Rewound blockchain to past state         number=422522  hash=e6875a…a56025\r\nINFO [02-18|16:07:13] Loaded most recent local header          number=1110002 hash=7620a2…5c104d td=875201842768\r\nINFO [02-18|16:07:13] Loaded most recent local full block      number=422522  hash=e6875a…a56025 td=460514461017\r\nINFO [02-18|16:07:13] Loaded most recent local fast block      number=1110002 hash=7620a2…5c104d td=875201842768\r\n```\r\n####  Steps to reproduce the behaviour\r\nI restarted geth , but it's just the same \r\n",
  "closed_by": {
    "login": "adamschmideg",
    "id": 208822,
    "node_id": "MDQ6VXNlcjIwODgyMg==",
    "avatar_url": "https://avatars.githubusercontent.com/u/208822?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/adamschmideg",
    "html_url": "https://github.com/adamschmideg",
    "followers_url": "https://api.github.com/users/adamschmideg/followers",
    "following_url": "https://api.github.com/users/adamschmideg/following{/other_user}",
    "gists_url": "https://api.github.com/users/adamschmideg/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/adamschmideg/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/adamschmideg/subscriptions",
    "organizations_url": "https://api.github.com/users/adamschmideg/orgs",
    "repos_url": "https://api.github.com/users/adamschmideg/repos",
    "events_url": "https://api.github.com/users/adamschmideg/events{/privacy}",
    "received_events_url": "https://api.github.com/users/adamschmideg/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/19124/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/19124/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/465085061",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/19124#issuecomment-465085061",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/19124",
    "id": 465085061,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2NTA4NTA2MQ==",
    "user": {
      "login": "karalabe",
      "id": 129561,
      "node_id": "MDQ6VXNlcjEyOTU2MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/karalabe",
      "html_url": "https://github.com/karalabe",
      "followers_url": "https://api.github.com/users/karalabe/followers",
      "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
      "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
      "organizations_url": "https://api.github.com/users/karalabe/orgs",
      "repos_url": "https://api.github.com/users/karalabe/repos",
      "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/karalabe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-02-19T10:56:59Z",
    "updated_at": "2019-02-19T10:57:23Z",
    "author_association": "MEMBER",
    "body": "Geth keeps the state in memory (and garbage collects in memory) and only flushes every hour or so. If Geth crashes, whatever was in memory is lost.\r\n\r\nIn your case the block data is still there, just the historical states got lost so the chain rolled back. Normally this is not a big of an issue as when you reconnect to the network, Geth reprocesses from a past block. If you run a single node however, there might be no remote peer with the data.\r\n\r\nLong term I think we should fix Geth so that it reprocesses the blocks locally instead of reaching out to the network. Short term that won't help you, but you could try to do a `geth export chain.rlp 0 1110002` and then import into a different datadir (to make sure you don't lose any data).",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/465085061/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/470392011",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/19124#issuecomment-470392011",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/19124",
    "id": 470392011,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ3MDM5MjAxMQ==",
    "user": {
      "login": "tsujp",
      "id": 4571498,
      "node_id": "MDQ6VXNlcjQ1NzE0OTg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4571498?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tsujp",
      "html_url": "https://github.com/tsujp",
      "followers_url": "https://api.github.com/users/tsujp/followers",
      "following_url": "https://api.github.com/users/tsujp/following{/other_user}",
      "gists_url": "https://api.github.com/users/tsujp/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tsujp/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tsujp/subscriptions",
      "organizations_url": "https://api.github.com/users/tsujp/orgs",
      "repos_url": "https://api.github.com/users/tsujp/repos",
      "events_url": "https://api.github.com/users/tsujp/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tsujp/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-03-07T05:36:37Z",
    "updated_at": "2019-03-07T05:36:37Z",
    "author_association": "NONE",
    "body": "This only affects blocks right? Not the keystore etc?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/470392011/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/470394905",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/19124#issuecomment-470394905",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/19124",
    "id": 470394905,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ3MDM5NDkwNQ==",
    "user": {
      "login": "relaxbao",
      "id": 19773804,
      "node_id": "MDQ6VXNlcjE5NzczODA0",
      "avatar_url": "https://avatars.githubusercontent.com/u/19773804?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/relaxbao",
      "html_url": "https://github.com/relaxbao",
      "followers_url": "https://api.github.com/users/relaxbao/followers",
      "following_url": "https://api.github.com/users/relaxbao/following{/other_user}",
      "gists_url": "https://api.github.com/users/relaxbao/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/relaxbao/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/relaxbao/subscriptions",
      "organizations_url": "https://api.github.com/users/relaxbao/orgs",
      "repos_url": "https://api.github.com/users/relaxbao/repos",
      "events_url": "https://api.github.com/users/relaxbao/events{/privacy}",
      "received_events_url": "https://api.github.com/users/relaxbao/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-03-07T05:51:01Z",
    "updated_at": "2019-03-07T05:51:01Z",
    "author_association": "NONE",
    "body": "> This only affects blocks right? Not the keystore etc?\r\n\r\nyes, It only affects blocks.\r\n\r\nacctually, I can still get the Transactions in the higher blocks , but when it starts mining , the blockNumber is increasing from the lower number 422522.\r\n \r\non the other hand, the storages in the contract were back to the status in the  blockNumber 422522 . while i need the status in the 1110002\r\n\r\ncan I find some way to solve this problem?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/470394905/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/470485665",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/19124#issuecomment-470485665",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/19124",
    "id": 470485665,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ3MDQ4NTY2NQ==",
    "user": {
      "login": "karalabe",
      "id": 129561,
      "node_id": "MDQ6VXNlcjEyOTU2MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/karalabe",
      "html_url": "https://github.com/karalabe",
      "followers_url": "https://api.github.com/users/karalabe/followers",
      "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
      "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
      "organizations_url": "https://api.github.com/users/karalabe/orgs",
      "repos_url": "https://api.github.com/users/karalabe/repos",
      "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/karalabe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-03-07T11:10:14Z",
    "updated_at": "2019-03-07T11:10:14Z",
    "author_association": "MEMBER",
    "body": "I wrote in my previous comment that you could have exported your chain and fixed it that way. If you started mining on top, it's probably way too messy now to try and extract the correct blocks.\r\n\r\n@hito This only affects the state, yes.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/470485665/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/472690931",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/19124#issuecomment-472690931",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/19124",
    "id": 472690931,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ3MjY5MDkzMQ==",
    "user": {
      "login": "relaxbao",
      "id": 19773804,
      "node_id": "MDQ6VXNlcjE5NzczODA0",
      "avatar_url": "https://avatars.githubusercontent.com/u/19773804?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/relaxbao",
      "html_url": "https://github.com/relaxbao",
      "followers_url": "https://api.github.com/users/relaxbao/followers",
      "following_url": "https://api.github.com/users/relaxbao/following{/other_user}",
      "gists_url": "https://api.github.com/users/relaxbao/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/relaxbao/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/relaxbao/subscriptions",
      "organizations_url": "https://api.github.com/users/relaxbao/orgs",
      "repos_url": "https://api.github.com/users/relaxbao/repos",
      "events_url": "https://api.github.com/users/relaxbao/events{/privacy}",
      "received_events_url": "https://api.github.com/users/relaxbao/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-03-14T03:29:24Z",
    "updated_at": "2019-03-14T03:30:29Z",
    "author_association": "NONE",
    "body": "> Geth keeps the state in memory (and garbage collects in memory) and only flushes every hour or so. If Geth crashes, whatever was in memory is lost.\r\n> \r\n> In your case the block data is still there, just the historical states got lost so the chain rolled back. Normally this is not a big of an issue as when you reconnect to the network, Geth reprocesses from a past block. If you run a single node however, there might be no remote peer with the data.\r\n> \r\n> Long term I think we should fix Geth so that it reprocesses the blocks locally instead of reaching out to the network. Short term that won't help you, but you could try to do a `geth export chain.rlp 0 1110002` and then import into a different datadir (to make sure you don't lose any data).\r\n\r\nThank you so much , I think  it's a great way to save all the data .\r\nBut after export my data , and import it to a new datadir , i found an Error.\r\n```\r\nINFO [03-14|11:23:04] Imported new chain segment               blocks=2500 txs=43   mgas=2.321  elapsed=2.286s mgasps=1.015  number=420000 hash=ce1ed8…6dc233 cache=1.12mB\r\nINFO [03-14|11:23:06] Imported new chain segment               blocks=2500 txs=5    mgas=1.446  elapsed=2.098s mgasps=0.689  number=422500 hash=0b6e6d…117d9e cache=1.12mB\r\nERROR[03-14|11:23:06] Non contiguous block insert              number=423619 hash=100756…a3b36b parent=ff2b53…f13d44 prevnumber=423618 prevhash=8d7930…bcebb6\r\nERROR[03-14|11:23:06] Import error                             err=\"invalid block 423619: non contiguous insert: item 1117 is #423618 [8d793034…], item 1118 is #423619 [10075641…] (parent [ff2b53e8…])\"\r\nINFO [03-14|11:23:06] Writing cached state to disk             block=422500 hash=0b6e6d…117d9e root=e6191e…df4f85\r\n\r\n```\r\n\r\nhere is my block `423618` and `423619` and the parentBlock of `423619`, is there something wrong with it ?\r\n```\r\n> eth.getBlock(423618)\r\n{\r\n  difficulty: 941215,\r\n  extraData: \"0xd88301080b846765746888676f312e31302e32856c696e7578\",\r\n  gasLimit: 4294967295,\r\n  gasUsed: 0,\r\n  hash: \"0x8d79303491e8384dedb57812e5c8eefd83d8125e5c287a7009000ed292bcebb6\",\r\n  logsBloom: \"0x00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000\",\r\n  miner: \"0xa969f32fcdc83a6039286f267f2e7a246b4b030a\",\r\n  mixHash: \"0xad860354cf2e2b2a9e2c13bb72d1abef7606ea6e1d60f4d995e0e0e09f159f22\",\r\n  nonce: \"0x230828cb4887e0b0\",\r\n  number: 423618,\r\n  parentHash: \"0xe2025cb6ddf79f3dc2414301b715b54a9aad10b0f25e494882133c2551377493\",\r\n  receiptsRoot: \"0x56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421\",\r\n  sha3Uncles: \"0x1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347\",\r\n  size: 540,\r\n  stateRoot: \"0xce0241488e1af373ffb9ae91eaf74cbeacb7984c0a3e293c64f676eed1c36fc1\",\r\n  timestamp: 1550546650,\r\n  totalDifficulty: 460584013838,\r\n  transactions: [],\r\n  transactionsRoot: \"0x56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421\",\r\n  uncles: []\r\n}\r\n\r\n```\r\n```\r\n> eth.getBlock(423619)\r\n{\r\n  difficulty: 1000444,\r\n  extraData: \"0xd88301080b846765746888676f312e31302e32856c696e7578\",\r\n  gasLimit: 4294967295,\r\n  gasUsed: 0,\r\n  hash: \"0x10075641add742f1447a67c9fc1136a5492a9b622e883042f38864ba33a3b36b\",\r\n  logsBloom: \"0x00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000\",\r\n  miner: \"0xd271baa1ed277c3730ad5b88ef97a5921d7a8c77\",\r\n  mixHash: \"0x59f649b3123e348d84c889ae2e50f9240f1b826f65d2818c803ef94c15e6c84e\",\r\n  nonce: \"0x0d7db510f26a7025\",\r\n  number: 423619,\r\n  parentHash: \"0xff2b53e8424ddaa724a9ab3561ef44c8dfee4d260b938b5212813cc379f13d44\",\r\n  receiptsRoot: \"0x56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421\",\r\n  sha3Uncles: \"0x1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347\",\r\n  size: 540,\r\n  stateRoot: \"0xba6860c90a95997f28b4da3c7f42cbf8d2e48e9f288dfeefd7e374b164eff745\",\r\n  timestamp: 1536726254,\r\n  totalDifficulty: 460585640739,\r\n  transactions: [],\r\n  transactionsRoot: \"0x56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421\",\r\n  uncles: []\r\n}\r\n\r\n```\r\n```\r\n> eth.getBlock(\"0xff2b53e8424ddaa724a9ab3561ef44c8dfee4d260b938b5212813cc379f13d44\")\r\n{\r\n  difficulty: 999952,\r\n  extraData: \"0xd88301080b846765746888676f312e31302e32856c696e7578\",\r\n  gasLimit: 4294967295,\r\n  gasUsed: 0,\r\n  hash: \"0xff2b53e8424ddaa724a9ab3561ef44c8dfee4d260b938b5212813cc379f13d44\",\r\n  logsBloom: \"0x00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000\",\r\n  miner: \"0x10592c5155ad6655189bac1a61af49083e37152c\",\r\n  mixHash: \"0xc52cd8c7110438d401e37dd359e31dfd719ec8ff20bfc7827697b40d9afc3ad4\",\r\n  nonce: \"0x5e46c9d131d5a90d\",\r\n  number: 423618,\r\n  parentHash: \"0xc8a26455ee1781826047fe913824669fd3f30646b59fb226f917869f3cbcafb1\",\r\n  receiptsRoot: \"0x56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421\",\r\n  sha3Uncles: \"0x1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347\",\r\n  size: 540,\r\n  stateRoot: \"0xddbf4b764d59a7c11cf453a5bfaa90ad5b45ced46c159acacd82e550da59e55d\",\r\n  timestamp: 1536726248,\r\n  totalDifficulty: 460584640295,\r\n  transactions: [],\r\n  transactionsRoot: \"0x56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421\",\r\n  uncles: []\r\n}\r\n\r\n```\r\nI used the  following steps to recover my data, is there something wrong with it ?\r\n```\r\ngeth --datadir /home/workspace/recoverdatas/rdata export /home/workspace/recoverdatas/rdata/chain423619.rlp 0 423619\r\n\r\ngeth --datadir \"/home/workspace/recoverdatas/datanew\" init \"/home/workspace/data/conf/genesis.json\"\r\n\r\ngeth --datadir /home/workspace/recoverdatas/datanew import /home/workspace/recoverdatas/rdata/chain423619.rlp\r\n\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/472690931/reactions",
      "total_count": 3,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 1,
      "rocket": 1,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/487361796",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/19124#issuecomment-487361796",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/19124",
    "id": 487361796,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ4NzM2MTc5Ng==",
    "user": {
      "login": "BeOleg",
      "id": 3058791,
      "node_id": "MDQ6VXNlcjMwNTg3OTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3058791?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/BeOleg",
      "html_url": "https://github.com/BeOleg",
      "followers_url": "https://api.github.com/users/BeOleg/followers",
      "following_url": "https://api.github.com/users/BeOleg/following{/other_user}",
      "gists_url": "https://api.github.com/users/BeOleg/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/BeOleg/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/BeOleg/subscriptions",
      "organizations_url": "https://api.github.com/users/BeOleg/orgs",
      "repos_url": "https://api.github.com/users/BeOleg/repos",
      "events_url": "https://api.github.com/users/BeOleg/events{/privacy}",
      "received_events_url": "https://api.github.com/users/BeOleg/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-04-28T09:25:30Z",
    "updated_at": "2019-04-28T09:25:30Z",
    "author_association": "NONE",
    "body": "I get this as well every time I restart the node via docker compose\r\n\r\n```\r\nroot@nexwallet-eth3:/mnt/STORAGE/WALLETS# cat /var/lib/docker/containers/23406ad9bc38a5b9ab3c8e342295c91f2550d3b5c16f00d681f181aed9721c0d/23406ad9bc38a5b9ab3c8e342295c91f2550d3b5c16f00d681f181aed9721c0d-json.log | grep 'Head state missing'\r\n{\"log\":\"WARN [04-24|12:13:48.884] Head state missing, repairing chain      number=7623347 hash=b6c254…3a0dad\\n\",\"stream\":\"stderr\",\"time\":\"2019-04-24T12:13:48.885446409Z\"}\r\n{\"log\":\"WARN [04-25|19:19:10.008] Head state missing, repairing chain      number=7638271 hash=c73676…151eb8\\n\",\"stream\":\"stderr\",\"time\":\"2019-04-25T19:19:10.008881355Z\"}\r\n{\"log\":\"WARN [04-26|08:52:25.125] Head state missing, repairing chain      number=7641791 hash=c263d9…dfbe79\\n\",\"stream\":\"stderr\",\"time\":\"2019-04-26T08:52:25.125447127Z\"}\r\n{\"log\":\"WARN [04-28|09:21:28.698] Head state missing, repairing chain      number=7655058 hash=f11663…507ae5\\n\",\"stream\":\"stderr\",\"time\":\"2019-04-28T09:21:28.698886159Z\"}\r\n```\r\n\r\nOr if it restarts due to some fault, I lost a day or 2 of blocks.\r\nHow to solve this? how to properly restart?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/487361796/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/487480590",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/19124#issuecomment-487480590",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/19124",
    "id": 487480590,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ4NzQ4MDU5MA==",
    "user": {
      "login": "holiman",
      "id": 142290,
      "node_id": "MDQ6VXNlcjE0MjI5MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/142290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/holiman",
      "html_url": "https://github.com/holiman",
      "followers_url": "https://api.github.com/users/holiman/followers",
      "following_url": "https://api.github.com/users/holiman/following{/other_user}",
      "gists_url": "https://api.github.com/users/holiman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/holiman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/holiman/subscriptions",
      "organizations_url": "https://api.github.com/users/holiman/orgs",
      "repos_url": "https://api.github.com/users/holiman/repos",
      "events_url": "https://api.github.com/users/holiman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/holiman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-04-29T07:45:52Z",
    "updated_at": "2019-04-29T07:45:52Z",
    "author_association": "MEMBER",
    "body": "@BeOleg I see that you've opened https://github.com/ethereum/go-ethereum/issues/19504 , so let's continue that one there. \r\n\r\n@relaxbao yes, something is wrong with it! It seems to have lost track of the canon chain, and there's a discrepancy in the chain. This is very interesting, however, since you're on a very old version `1.8.11`, I doubt we'll be able to go to the bottom of that. ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/487480590/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/494301225",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/19124#issuecomment-494301225",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/19124",
    "id": 494301225,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5NDMwMTIyNQ==",
    "user": {
      "login": "holiman",
      "id": 142290,
      "node_id": "MDQ6VXNlcjE0MjI5MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/142290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/holiman",
      "html_url": "https://github.com/holiman",
      "followers_url": "https://api.github.com/users/holiman/followers",
      "following_url": "https://api.github.com/users/holiman/following{/other_user}",
      "gists_url": "https://api.github.com/users/holiman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/holiman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/holiman/subscriptions",
      "organizations_url": "https://api.github.com/users/holiman/orgs",
      "repos_url": "https://api.github.com/users/holiman/repos",
      "events_url": "https://api.github.com/users/holiman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/holiman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-05-21T08:51:23Z",
    "updated_at": "2019-05-21T08:51:23Z",
    "author_association": "MEMBER",
    "body": "@relaxbao your scenario was fixed in #19514 ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/494301225/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/508324010",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/19124#issuecomment-508324010",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/19124",
    "id": 508324010,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUwODMyNDAxMA==",
    "user": {
      "login": "relaxbao",
      "id": 19773804,
      "node_id": "MDQ6VXNlcjE5NzczODA0",
      "avatar_url": "https://avatars.githubusercontent.com/u/19773804?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/relaxbao",
      "html_url": "https://github.com/relaxbao",
      "followers_url": "https://api.github.com/users/relaxbao/followers",
      "following_url": "https://api.github.com/users/relaxbao/following{/other_user}",
      "gists_url": "https://api.github.com/users/relaxbao/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/relaxbao/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/relaxbao/subscriptions",
      "organizations_url": "https://api.github.com/users/relaxbao/orgs",
      "repos_url": "https://api.github.com/users/relaxbao/repos",
      "events_url": "https://api.github.com/users/relaxbao/events{/privacy}",
      "received_events_url": "https://api.github.com/users/relaxbao/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-07-04T03:25:26Z",
    "updated_at": "2019-07-04T03:26:30Z",
    "author_association": "NONE",
    "body": "> @relaxbao your scenario was fixed in #19514\r\n\r\n@holiman Thank you very much . but I still have to questions :\r\n1.  Can I get the blocks back if I stay in the version 1.8.11 ? \r\n2.  Is there someway to avoid this happen again ?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/508324010/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
