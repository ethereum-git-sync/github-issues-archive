{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/17917",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/17917/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/17917/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/17917/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/17917",
  "id": 370280488,
  "node_id": "MDU6SXNzdWUzNzAyODA0ODg=",
  "number": 17917,
  "title": "Automatization of addPeer",
  "user": {
    "login": "marcosmartinez7",
    "id": 14795944,
    "node_id": "MDQ6VXNlcjE0Nzk1OTQ0",
    "avatar_url": "https://avatars.githubusercontent.com/u/14795944?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/marcosmartinez7",
    "html_url": "https://github.com/marcosmartinez7",
    "followers_url": "https://api.github.com/users/marcosmartinez7/followers",
    "following_url": "https://api.github.com/users/marcosmartinez7/following{/other_user}",
    "gists_url": "https://api.github.com/users/marcosmartinez7/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/marcosmartinez7/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/marcosmartinez7/subscriptions",
    "organizations_url": "https://api.github.com/users/marcosmartinez7/orgs",
    "repos_url": "https://api.github.com/users/marcosmartinez7/repos",
    "events_url": "https://api.github.com/users/marcosmartinez7/events{/privacy}",
    "received_events_url": "https://api.github.com/users/marcosmartinez7/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 4,
  "created_at": "2018-10-15T18:06:55Z",
  "updated_at": "2019-01-15T13:46:24Z",
  "closed_at": "2019-01-15T13:46:24Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "Hi,\r\n\r\nthis is more like a question than an issue, but i couldt find anything in the documentation about this. \r\n\r\nI have a private PoA network with 3 geth nodes, i connect them using addPeer and create p2p network, each node is connected with the rest of them\r\n\r\nNow i want to create a bigger network, with 20 nodes, so i need to connect to the geth console and invoke the addPeer 20 x 20 = 400 times .. \r\n\r\nobviously this is unstable. \r\n\r\nI know there is an option to do this automatically, connecting the nodes to discovery/bootnodes, but i cant use a bootnode. Why? because bootnodes dont filter connections from the outside, so any hacker/malicious user could try to connect to my bootnode. \r\n\r\nSee this related issue: https://github.com/ethereum/go-ethereum/issues/16057\r\n\r\nSo, what i have in mind to research is:\r\n\r\n1.  Maybe i can create a bash script that connects to geth console and executes the addPeer too many times as nodes present but i want to know if there is any better approach\r\n2. Maybe there is a way to add firewall rules to the bootnode , something like \"only allow connections to the bootnode from the IPs of the 20 geth nodes\". I dont know if this is possible without affecting the discovery protocol\r\n\r\nAny thoughts about this scenario? \r\n\r\n",
  "closed_by": {
    "login": "marcosmartinez7",
    "id": 14795944,
    "node_id": "MDQ6VXNlcjE0Nzk1OTQ0",
    "avatar_url": "https://avatars.githubusercontent.com/u/14795944?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/marcosmartinez7",
    "html_url": "https://github.com/marcosmartinez7",
    "followers_url": "https://api.github.com/users/marcosmartinez7/followers",
    "following_url": "https://api.github.com/users/marcosmartinez7/following{/other_user}",
    "gists_url": "https://api.github.com/users/marcosmartinez7/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/marcosmartinez7/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/marcosmartinez7/subscriptions",
    "organizations_url": "https://api.github.com/users/marcosmartinez7/orgs",
    "repos_url": "https://api.github.com/users/marcosmartinez7/repos",
    "events_url": "https://api.github.com/users/marcosmartinez7/events{/privacy}",
    "received_events_url": "https://api.github.com/users/marcosmartinez7/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/17917/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/17917/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/430053394",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/17917#issuecomment-430053394",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/17917",
    "id": 430053394,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzMDA1MzM5NA==",
    "user": {
      "login": "fjl",
      "id": 6915,
      "node_id": "MDQ6VXNlcjY5MTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6915?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fjl",
      "html_url": "https://github.com/fjl",
      "followers_url": "https://api.github.com/users/fjl/followers",
      "following_url": "https://api.github.com/users/fjl/following{/other_user}",
      "gists_url": "https://api.github.com/users/fjl/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fjl/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fjl/subscriptions",
      "organizations_url": "https://api.github.com/users/fjl/orgs",
      "repos_url": "https://api.github.com/users/fjl/repos",
      "events_url": "https://api.github.com/users/fjl/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fjl/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-10-15T23:52:42Z",
    "updated_at": "2018-10-15T23:53:11Z",
    "author_association": "MEMBER",
    "body": "You can filter based on IP using the `--netrestrict` command line flag. It takes a list of IP masks. Example: `geth --netrestrict 192.168.0.1/24` will ensure geth only accepts LAN connections.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/430053394/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/430055018",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/17917#issuecomment-430055018",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/17917",
    "id": 430055018,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzMDA1NTAxOA==",
    "user": {
      "login": "marcosmartinez7",
      "id": 14795944,
      "node_id": "MDQ6VXNlcjE0Nzk1OTQ0",
      "avatar_url": "https://avatars.githubusercontent.com/u/14795944?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/marcosmartinez7",
      "html_url": "https://github.com/marcosmartinez7",
      "followers_url": "https://api.github.com/users/marcosmartinez7/followers",
      "following_url": "https://api.github.com/users/marcosmartinez7/following{/other_user}",
      "gists_url": "https://api.github.com/users/marcosmartinez7/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/marcosmartinez7/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/marcosmartinez7/subscriptions",
      "organizations_url": "https://api.github.com/users/marcosmartinez7/orgs",
      "repos_url": "https://api.github.com/users/marcosmartinez7/repos",
      "events_url": "https://api.github.com/users/marcosmartinez7/events{/privacy}",
      "received_events_url": "https://api.github.com/users/marcosmartinez7/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-10-16T00:01:12Z",
    "updated_at": "2018-10-16T00:01:12Z",
    "author_association": "NONE",
    "body": "The netrestrict is an option for sealers or standard nodes, not for bootnodes rigth? The problem i am facing is people connecting to my bootnode",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/430055018/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/430576069",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/17917#issuecomment-430576069",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/17917",
    "id": 430576069,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzMDU3NjA2OQ==",
    "user": {
      "login": "fjl",
      "id": 6915,
      "node_id": "MDQ6VXNlcjY5MTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6915?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fjl",
      "html_url": "https://github.com/fjl",
      "followers_url": "https://api.github.com/users/fjl/followers",
      "following_url": "https://api.github.com/users/fjl/following{/other_user}",
      "gists_url": "https://api.github.com/users/fjl/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fjl/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fjl/subscriptions",
      "organizations_url": "https://api.github.com/users/fjl/orgs",
      "repos_url": "https://api.github.com/users/fjl/repos",
      "events_url": "https://api.github.com/users/fjl/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fjl/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-10-17T10:28:09Z",
    "updated_at": "2018-10-17T10:28:09Z",
    "author_association": "MEMBER",
    "body": "`--netrestrict` is supported by cmd/geth and cmd/bootnode. Please try the option and see whether it fixes your issues.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/430576069/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/430647605",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/17917#issuecomment-430647605",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/17917",
    "id": 430647605,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzMDY0NzYwNQ==",
    "user": {
      "login": "marcosmartinez7",
      "id": 14795944,
      "node_id": "MDQ6VXNlcjE0Nzk1OTQ0",
      "avatar_url": "https://avatars.githubusercontent.com/u/14795944?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/marcosmartinez7",
      "html_url": "https://github.com/marcosmartinez7",
      "followers_url": "https://api.github.com/users/marcosmartinez7/followers",
      "following_url": "https://api.github.com/users/marcosmartinez7/following{/other_user}",
      "gists_url": "https://api.github.com/users/marcosmartinez7/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/marcosmartinez7/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/marcosmartinez7/subscriptions",
      "organizations_url": "https://api.github.com/users/marcosmartinez7/orgs",
      "repos_url": "https://api.github.com/users/marcosmartinez7/repos",
      "events_url": "https://api.github.com/users/marcosmartinez7/events{/privacy}",
      "received_events_url": "https://api.github.com/users/marcosmartinez7/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-10-17T14:19:49Z",
    "updated_at": "2018-10-17T14:19:49Z",
    "author_association": "NONE",
    "body": "hmm, if i understand the docs right, that works for a network and a mask, but if you have a distributed environment, where each node is on different networks, that wouldnt work.\r\n\r\nMaybe creating a VPC would be an option for using --netrestrict",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/430647605/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
