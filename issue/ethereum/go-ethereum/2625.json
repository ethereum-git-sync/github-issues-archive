{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/2625",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/2625/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/2625/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/2625/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/2625",
  "id": 156958045,
  "node_id": "MDU6SXNzdWUxNTY5NTgwNDU=",
  "number": 2625,
  "title": "Defining custom datadir ineffective on Windows",
  "user": {
    "login": "leafcutterant",
    "id": 7106231,
    "node_id": "MDQ6VXNlcjcxMDYyMzE=",
    "avatar_url": "https://avatars.githubusercontent.com/u/7106231?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/leafcutterant",
    "html_url": "https://github.com/leafcutterant",
    "followers_url": "https://api.github.com/users/leafcutterant/followers",
    "following_url": "https://api.github.com/users/leafcutterant/following{/other_user}",
    "gists_url": "https://api.github.com/users/leafcutterant/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/leafcutterant/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/leafcutterant/subscriptions",
    "organizations_url": "https://api.github.com/users/leafcutterant/orgs",
    "repos_url": "https://api.github.com/users/leafcutterant/repos",
    "events_url": "https://api.github.com/users/leafcutterant/events{/privacy}",
    "received_events_url": "https://api.github.com/users/leafcutterant/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2016-05-26T10:59:33Z",
  "updated_at": "2016-05-26T17:28:01Z",
  "closed_at": "2016-05-26T17:28:01Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "#### System information\n\nGeth version: `1.4.5 (Drop table users)`\nOS & Version: Windows 7 x64\nCommit hash : - (if `develop`)\n#### Expected behaviour\n\nGeth should work with the custom defined datadir when started\n1. with the `--datadir \"<datadirpath>\"` from command line, or\n2. (and this is just an estimation from Bitcoin command syntax) with a shortcut and defining the Target as `\"<gethpath>\" -datadir=\"<datadirpath>\"`\n#### Actual behaviour\n1. Geth starts up acknowledging the new datadir, but then quickly produces a database error and nothing happens afterwards.\n   `C:\\Users\\****>E:\\Programs\\Ethereum\\Geth\\geth.exe --datadir \"G:\\Data\\Ethereum\"\n   I0526 11:43:43.504181 ethdb/database.go:82] Alloted 128MB cache and 1024 file handles to G:\\Data\\Ethereum\\chaindata\n   Fatal: Could not open database: leveldb/table: corruption on table-footer (pos=2115192): bad magic number [file=099345.ldb]\n   Fatal: Could not open database: leveldb/table: corruption on table-footer (pos=2115192): bad magic number [file=099345.ldb]`\n2. Geth starts up acknowledging the new datadir (`I0526 11:51:44.600698 ethdb/database.go:82] Alloted 128MB cache and 1024 file handles to G:\\Data\\Ethereum\\chaindata`), but no synchronization happens, then after one minute of standing by, it exits unexpectedly.\n#### Steps to reproduce the behaviour\n\nCopy the datadir to a new location and start Geth with the above methods, using the path of the new location.\n#### Backtrace\n\n```\n[backtrace]\n```\n\nSorry, I may be wrong on how to define the Windows shortcut target, but there was not much info available.\n",
  "closed_by": {
    "login": "leafcutterant",
    "id": 7106231,
    "node_id": "MDQ6VXNlcjcxMDYyMzE=",
    "avatar_url": "https://avatars.githubusercontent.com/u/7106231?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/leafcutterant",
    "html_url": "https://github.com/leafcutterant",
    "followers_url": "https://api.github.com/users/leafcutterant/followers",
    "following_url": "https://api.github.com/users/leafcutterant/following{/other_user}",
    "gists_url": "https://api.github.com/users/leafcutterant/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/leafcutterant/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/leafcutterant/subscriptions",
    "organizations_url": "https://api.github.com/users/leafcutterant/orgs",
    "repos_url": "https://api.github.com/users/leafcutterant/repos",
    "events_url": "https://api.github.com/users/leafcutterant/events{/privacy}",
    "received_events_url": "https://api.github.com/users/leafcutterant/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/2625/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/2625/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/221851069",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/2625#issuecomment-221851069",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/2625",
    "id": 221851069,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIyMTg1MTA2OQ==",
    "user": {
      "login": "bas-vk",
      "id": 4280775,
      "node_id": "MDQ6VXNlcjQyODA3NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4280775?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bas-vk",
      "html_url": "https://github.com/bas-vk",
      "followers_url": "https://api.github.com/users/bas-vk/followers",
      "following_url": "https://api.github.com/users/bas-vk/following{/other_user}",
      "gists_url": "https://api.github.com/users/bas-vk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bas-vk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bas-vk/subscriptions",
      "organizations_url": "https://api.github.com/users/bas-vk/orgs",
      "repos_url": "https://api.github.com/users/bas-vk/repos",
      "events_url": "https://api.github.com/users/bas-vk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bas-vk/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-05-26T11:56:36Z",
    "updated_at": "2016-05-26T11:56:36Z",
    "author_association": "MEMBER",
    "body": "Could you verify that the data copied is not modified? This error indicates that the new datadir is corrupt and something went wrong during copying. You can use `--datadir` and `-datadir`, both work.\n\nOne thing that is odd in your first bullet. You specify a datadir on the G drive and according to the logging geth seems to open the database on the F drive. Did you edit something?\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/221851069/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/221938625",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/2625#issuecomment-221938625",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/2625",
    "id": 221938625,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIyMTkzODYyNQ==",
    "user": {
      "login": "leafcutterant",
      "id": 7106231,
      "node_id": "MDQ6VXNlcjcxMDYyMzE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7106231?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/leafcutterant",
      "html_url": "https://github.com/leafcutterant",
      "followers_url": "https://api.github.com/users/leafcutterant/followers",
      "following_url": "https://api.github.com/users/leafcutterant/following{/other_user}",
      "gists_url": "https://api.github.com/users/leafcutterant/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/leafcutterant/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/leafcutterant/subscriptions",
      "organizations_url": "https://api.github.com/users/leafcutterant/orgs",
      "repos_url": "https://api.github.com/users/leafcutterant/repos",
      "events_url": "https://api.github.com/users/leafcutterant/events{/privacy}",
      "received_events_url": "https://api.github.com/users/leafcutterant/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-05-26T17:28:01Z",
    "updated_at": "2016-05-26T17:28:01Z",
    "author_association": "NONE",
    "body": "Okay, I apologize, there was a mess-up. The copy was indeed corrupted, made a new one, re-started, and it's working. I don't really understand why. My guess is that during the initial copy Geth was still running in the background and files were not in the same state and/or some couldn't be copied over.\n\nDid a little experimenting, I can confirm that synchronization successfully starts with both syntactical forms (`<gethpath> --datadir <datadirpath>` and `\"<gethpath>\" -datadir=\"<datadirpath>\"`). These were in the shortcut target, they probably work in command line too.\n\nYes, I edited the log because meanwhile I swapped my drives, but apparently I missed a letter...\n\nSorry once again for the false alarm, closing.\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/221938625/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
