{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/24914",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/24914/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/24914/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/24914/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/24914",
  "id": 1242707742,
  "node_id": "I_kwDOAOvK985KEjce",
  "number": 24914,
  "title": "[PoA] Network stop at epoch block when run more than 1 sealer using clef signer",
  "user": {
    "login": "cuonghx1108",
    "id": 100658449,
    "node_id": "U_kgDOBf_tEQ",
    "avatar_url": "https://avatars.githubusercontent.com/u/100658449?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/cuonghx1108",
    "html_url": "https://github.com/cuonghx1108",
    "followers_url": "https://api.github.com/users/cuonghx1108/followers",
    "following_url": "https://api.github.com/users/cuonghx1108/following{/other_user}",
    "gists_url": "https://api.github.com/users/cuonghx1108/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/cuonghx1108/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/cuonghx1108/subscriptions",
    "organizations_url": "https://api.github.com/users/cuonghx1108/orgs",
    "repos_url": "https://api.github.com/users/cuonghx1108/repos",
    "events_url": "https://api.github.com/users/cuonghx1108/events{/privacy}",
    "received_events_url": "https://api.github.com/users/cuonghx1108/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 72233650,
      "node_id": "MDU6TGFiZWw3MjIzMzY1MA==",
      "url": "https://api.github.com/repos/ethereum/go-ethereum/labels/type:bug",
      "name": "type:bug",
      "color": "FF5E5E",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": {
    "login": "jwasinger",
    "id": 3411040,
    "node_id": "MDQ6VXNlcjM0MTEwNDA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/3411040?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/jwasinger",
    "html_url": "https://github.com/jwasinger",
    "followers_url": "https://api.github.com/users/jwasinger/followers",
    "following_url": "https://api.github.com/users/jwasinger/following{/other_user}",
    "gists_url": "https://api.github.com/users/jwasinger/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/jwasinger/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/jwasinger/subscriptions",
    "organizations_url": "https://api.github.com/users/jwasinger/orgs",
    "repos_url": "https://api.github.com/users/jwasinger/repos",
    "events_url": "https://api.github.com/users/jwasinger/events{/privacy}",
    "received_events_url": "https://api.github.com/users/jwasinger/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "jwasinger",
      "id": 3411040,
      "node_id": "MDQ6VXNlcjM0MTEwNDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3411040?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jwasinger",
      "html_url": "https://github.com/jwasinger",
      "followers_url": "https://api.github.com/users/jwasinger/followers",
      "following_url": "https://api.github.com/users/jwasinger/following{/other_user}",
      "gists_url": "https://api.github.com/users/jwasinger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jwasinger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jwasinger/subscriptions",
      "organizations_url": "https://api.github.com/users/jwasinger/orgs",
      "repos_url": "https://api.github.com/users/jwasinger/repos",
      "events_url": "https://api.github.com/users/jwasinger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jwasinger/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 1,
  "created_at": "2022-05-20T06:51:25Z",
  "updated_at": "2022-05-24T08:18:04Z",
  "closed_at": "2022-05-24T08:18:04Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "#### System information\r\n\r\nGeth version: `v1.10.17`\r\nOS & Version: Docker\r\n\r\n#### Expected behaviour\r\nMining block & Synchronizing the block on the network as normal\r\n\r\n#### Actual behaviour\r\nStop at epoch block\r\n\r\n#### Steps to reproduce the behaviour\r\n[https://github.com/cuonghx-gutech/docker-geth-private-network]\r\n\r\ncd clef-geth-docker\r\ndocker-compose up\r\n\r\n#### Backtrace\r\n\r\n````\r\n[node1_1  | INFO [05-20|06:49:35.957] Commit new sealing work                  number=4 sealhash=2761af..a328af uncles=0 txs=0 gas=0 fees=0 elapsed=984.527ms\r\nnode1_1  | INFO [05-20|06:49:36.985] Successfully sealed new block            number=4 sealhash=2761af..a328af hash=8ce753..d70491 elapsed=2.012s\r\nnode1_1  | INFO [05-20|06:49:36.986] ðŸ”¨ mined potential block                  number=4 hash=8ce753..d70491\r\nnode1_1  | INFO [05-20|06:49:36.987] Commit new sealing work                  number=5 sealhash=25522e..c87bb2 uncles=0 txs=0 gas=0 fees=0 elapsed=1.040ms\r\nnode1_1  | WARN [05-20|06:49:36.987] Block sealing failed                     err=\"signed recently, must wait for others\"\r\nnode1_1  | INFO [05-20|06:49:36.987] Commit new sealing work                  number=5 sealhash=25522e..c87bb2 uncles=0 txs=0 gas=0 fees=0 elapsed=1.873ms\r\nnode2_1  | INFO [05-20|06:49:36.989] Imported new chain segment               blocks=1 txs=0 mgas=0.000 elapsed=\"873.1Âµs\" mgasps=0.000 number=4 hash=8ce753..d70491 dirty=0.00B\r\nnode2_1  | INFO [05-20|06:49:36.990] Commit new sealing work                  number=5 sealhash=6344e3..c571bb uncles=0 txs=0 gas=0 fees=0 elapsed=\"548.8Âµs\"\r\nclef2_1  | INFO [05-20|06:49:36.999] Op approved \r\nnode2_1  | INFO [05-20|06:49:37.055] New local node record                    seq=1,653,029,370,332 id=e8c992cc7e365a3b ip=8.21.11.140 udp=57331 tcp=30303\r\nnode1_1  | INFO [05-20|06:49:37.381] New local node record                    seq=1,653,029,370,694 id=839e7c3ae225f02a ip=8.21.11.140 udp=63701 tcp=30303\r\nclef2_1  | DEBUG[05-20|06:49:37.971] Served account_signData                  reqid=5 duration=979.6799ms\r\nnode2_1  | INFO [05-20|06:49:37.972] Commit new sealing work                  number=5 sealhash=6344e3..c571bb uncles=0 txs=0 gas=0 fees=0 elapsed=982.279ms\r\nnode2_1  | ERROR[05-20|06:49:38.948] Failed to prepare header for sealing     err=\"unauthorized signer\"\r\nnode2_1  | INFO [05-20|06:49:38.948] Successfully sealed new block            number=5 sealhash=6344e3..c571bb hash=bc88d0..7d4608 elapsed=1.992s\r\nnode2_1  | INFO [05-20|06:49:38.948] ðŸ”¨ mined potential block                  number=5 hash=bc88d0..7d4608\r\nnode2_1  | INFO [05-20|06:49:39.000] New local node record                    seq=1,653,029,370,333 id=e8c992cc7e365a3b ip=8.21.11.140 udp=57331 tcp=30303\r\nnode1_1  | INFO [05-20|06:49:40.770] Looking for peers                        peercount=1 tried=47 static=2\r\nnode2_1  | INFO [05-20|06:49:41.173] Looking for peers                        peercount=0 tried=66 static=2\r\nnode1_1  | INFO [05-20|06:49:44.812] Block synchronisation started \r\nnode1_1  | INFO [05-20|06:49:44.812] Mining aborted due to sync \r\nnode1_1  | INFO [05-20|06:49:44.818] Downloader queue stats                   receiptTasks=0 blockTasks=0 itemSize=68.90B throttle=8192\r\nnode1_1  | WARN [05-20|06:49:44.819] Failed to load old bad blocks            error=\"leveldb: not found\"\r\nnode1_1  | ERROR[05-20|06:49:44.820] \r\nnode1_1  | ########## BAD BLOCK #########\r\nnode1_1  | Chain config: {ChainID: 1337 Homestead: 1 DAO: <nil> DAOSupport: false EIP150: 2 EIP155: 3 EIP158: 3 Byzantium: 4 Constantinople: 5 Petersburg: 6 Istanbul: 7, Muir Glacier: <nil>, Berlin: <nil>, London: <nil>, Arrow Glacier: <nil>, MergeFork: <nil>, Terminal TD: <nil>, Engine: clique}\r\nnode1_1  | \r\nnode1_1  | Number: 5\r\nnode1_1  | Hash: 0xbc88d02a11ff3e866e87e4758f59aa79d60c73a4e63bdf18f31e7fc7387d4608\r\nnode1_1  | \r\nnode1_1  | \r\nnode1_1  | Error: unauthorized signer\r\nnode1_1  | ##############################\r\nnode1_1  |  \r\nnode1_1  | WARN [05-20|06:49:44.820] Synchronisation failed, dropping peer    peer=e8c992cc7e365a3b1fd5ff1fd69ff1e9e1929afab183e056eebb8c4695209475 err=\"retrieved hash chain is invalid: unauthorized signer\"\r\nnode1_1  | INFO [05-20|06:49:44.821] Commit new sealing work                  number=5 sealhash=feb13c..e63076 uncles=0 txs=0 gas=0 fees=0 elapsed=\"492.6Âµs\"\r\nnode1_1  | WARN [05-20|06:49:44.821] Block sealing failed                     err=\"signed recently, must wait for others\"\r\nnode1_1  | INFO [05-20|06:49:44.821] Commit new sealing work                  number=5 sealhash=feb13c..e63076 uncles=0 txs=0 gas=0 fees=0 elapsed=\"754.3Âµs\"\r\nnode1_1  | INFO [05-20|06:49:50.784] Looking for peers                        peercount=0 tried=50 static=2\r\nnode2_1  | INFO [05-20|06:49:51.322] Looking for peers                        peercount=0 tried=54 static=2\r\nnode2_1  | ERROR[05-20|06:49:56.835] Snapshot extension registration failed   peer=e6ad1738 err=\"peer connected on snap without compatible eth support\"\r\nnode2_1  | INFO [05-20|06:50:01.503] Looking for peers                        peercount=0 tried=25 static=2\r\nnode1_1  | INFO [05-20|06:50:02.148] Looking for peers                        peercount=0 tried=41 static=2\r\nnode1_1  | INFO [05-20|06:50:05.333] Mining aborted due to sync \r\nnode1_1  | INFO [05-20|06:50:05.339] Skip duplicated bad block                number=5 hash=bc88d0..7d4608\r\nnode1_1  | ERROR[05-20|06:50:05.339] \r\nnode1_1  | ########## BAD BLOCK #########\r\nnode1_1  | Chain config: {ChainID: 1337 Homestead: 1 DAO: <nil> DAOSupport: false EIP150: 2 EIP155: 3 EIP158: 3 Byzantium: 4 Constantinople: 5 Petersburg: 6 Istanbul: 7, Muir Glacier: <nil>, Berlin: <nil>, London: <nil>, Arrow Glacier: <nil>, MergeFork: <nil>, Terminal TD: <nil>, Engine: clique}\r\nnode1_1  | \r\nnode1_1  | Number: 5\r\nnode1_1  | Hash: 0xbc88d02a11ff3e866e87e4758f59aa79d60c73a4e63bdf18f31e7fc7387d4608\r\nnode1_1  | \r\nnode1_1  | \r\nnode1_1  | Error: unauthorized signer\r\nnode1_1  | ##############################\r\nnode1_1  |  \r\nnode1_1  | WARN [05-20|06:50:05.339] Synchronisation failed, dropping peer    peer=e8c992cc7e365a3b1fd5ff1fd69ff1e9e1929afab183e056eebb8c4695209475 err=\"retrieved hash chain is invalid: unauthorized signer\"\r\nnode1_1  | INFO [05-20|06:50:05.339] Commit new sealing work                  number=5 sealhash=f54821..980c10 uncles=0 txs=0 gas=0 fees=0 elapsed=\"161.2Âµs\"\r\nnode1_1  | WARN [05-20|06:50:05.340] Block sealing failed                     err=\"signed recently, must wait for others\"\r\nnode1_1  | INFO [05-20|06:50:05.340] Commit new sealing work                  number=5 sealhash=f54821..980c10 uncles=0 txs=0 gas=0 fees=0 elapsed=\"456.7Âµs\"\r\nnode2_1  | INFO [05-20|06:50:11.469] Looking for peers                        peercount=1 tried=22 static=2\r\nnode1_1  | INFO [05-20|06:50:15.306] Mining aborted due to sync \r\nnode1_1  | INFO [05-20|06:50:15.317] Skip duplicated bad block                number=5 hash=bc88d0..7d4608\r\nnode1_1  | ERROR[05-20|06:50:15.317] \r\nnode1_1  | ########## BAD BLOCK #########\r\nnode1_1  | Chain config: {ChainID: 1337 Homestead: 1 DAO: <nil> DAOSupport: false EIP150: 2 EIP155: 3 EIP158: 3 Byzantium: 4 Constantinople: 5 Petersburg: 6 Istanbul: 7, Muir Glacier: <nil>, Berlin: <nil>, London: <nil>, Arrow Glacier: <nil>, MergeFork: <nil>, Terminal TD: <nil>, Engine: clique}\r\nnode1_1  | \r\nnode1_1  | Number: 5\r\nnode1_1  | Hash: 0xbc88d02a11ff3e866e87e4758f59aa79d60c73a4e63bdf18f31e7fc7387d4608\r\nnode1_1  | \r\nnode1_1  | \r\nnode1_1  | Error: unauthorized signer\r\nnode1_1  | ##############################\r\nnode1_1  |  \r\nnode1_1  | WARN [05-20|06:50:15.318] Synchronisation failed, dropping peer    peer=e8c992cc7e365a3b1fd5ff1fd69ff1e9e1929afab183e056eebb8c4695209475 err=\"retrieved hash chain is invalid: unauthorized signer\"\r\nnode1_1  | INFO [05-20|06:50:15.319] Commit new sealing work                  number=5 sealhash=f38b61..67287b uncles=0 txs=0 gas=0 fees=0 elapsed=\"397.4Âµs\"\r\nnode1_1  | WARN [05-20|06:50:15.321] Block sealing failed                     err=\"signed recently, must wait for others\"\r\nnode1_1  | INFO [05-20|06:50:15.321] Commit new sealing work                  number=5 sealhash=f38b61..67287b uncles=0 txs=0 gas=0 fees=0 elapsed=2.155ms\r\nnode2_1  | INFO [05-20|06:50:21.483] Looking for peers                        peercount=0 tried=87 static=2\r\nnode1_1  | INFO [05-20|06:50:22.494] Looking for peers                        peercount=0 tried=21 static=2]\r\n````\r\n\r\nWhen submitting logs: please submit them as text and not screenshots.",
  "closed_by": {
    "login": "holiman",
    "id": 142290,
    "node_id": "MDQ6VXNlcjE0MjI5MA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/142290?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/holiman",
    "html_url": "https://github.com/holiman",
    "followers_url": "https://api.github.com/users/holiman/followers",
    "following_url": "https://api.github.com/users/holiman/following{/other_user}",
    "gists_url": "https://api.github.com/users/holiman/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/holiman/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/holiman/subscriptions",
    "organizations_url": "https://api.github.com/users/holiman/orgs",
    "repos_url": "https://api.github.com/users/holiman/repos",
    "events_url": "https://api.github.com/users/holiman/events{/privacy}",
    "received_events_url": "https://api.github.com/users/holiman/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/24914/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/24914/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1134080956",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/24914#issuecomment-1134080956",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/24914",
    "id": 1134080956,
    "node_id": "IC_kwDOAOvK985DmLO8",
    "user": {
      "login": "jwasinger",
      "id": 3411040,
      "node_id": "MDQ6VXNlcjM0MTEwNDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3411040?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jwasinger",
      "html_url": "https://github.com/jwasinger",
      "followers_url": "https://api.github.com/users/jwasinger/followers",
      "following_url": "https://api.github.com/users/jwasinger/following{/other_user}",
      "gists_url": "https://api.github.com/users/jwasinger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jwasinger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jwasinger/subscriptions",
      "organizations_url": "https://api.github.com/users/jwasinger/orgs",
      "repos_url": "https://api.github.com/users/jwasinger/repos",
      "events_url": "https://api.github.com/users/jwasinger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jwasinger/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-05-23T01:51:23Z",
    "updated_at": "2022-05-23T01:51:38Z",
    "author_association": "MEMBER",
    "body": "I am looking into this.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1134080956/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
