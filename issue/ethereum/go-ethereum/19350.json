{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/19350",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/19350/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/19350/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/19350/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/19350",
  "id": 426760515,
  "node_id": "MDU6SXNzdWU0MjY3NjA1MTU=",
  "number": 19350,
  "title": "syncmode light wouldn't start - peer is unknown or unhealthy",
  "user": {
    "login": "kevinsimper",
    "id": 1126497,
    "node_id": "MDQ6VXNlcjExMjY0OTc=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1126497?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/kevinsimper",
    "html_url": "https://github.com/kevinsimper",
    "followers_url": "https://api.github.com/users/kevinsimper/followers",
    "following_url": "https://api.github.com/users/kevinsimper/following{/other_user}",
    "gists_url": "https://api.github.com/users/kevinsimper/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/kevinsimper/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/kevinsimper/subscriptions",
    "organizations_url": "https://api.github.com/users/kevinsimper/orgs",
    "repos_url": "https://api.github.com/users/kevinsimper/repos",
    "events_url": "https://api.github.com/users/kevinsimper/events{/privacy}",
    "received_events_url": "https://api.github.com/users/kevinsimper/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2019-03-29T00:18:24Z",
  "updated_at": "2019-06-25T09:53:20Z",
  "closed_at": "2019-06-25T08:32:28Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "I tried to run the light client, but it would say \"peer is unknown or unhealthy\". I couldn't find any information about that error. I tried deleting the `lightchaindata` folder but it didn't help. Then I tried deleting all three folders as shown below, then try starting the light client again and finally it worked!\r\n\r\nI installed it via brew.sh\r\n\r\nCould the error be changed to suggest clearning up existing folders. I have previously tried running `geth --syncmode fast`, so it is likely leftovers from months ago, but I think `$ geth --syncmode light` should clear all caches by itself.\r\n\r\n\r\n```\r\n$ geth --syncmode light\r\nINFO [03-29|01:06:20.598] Maximum peer count                       ETH=0 LES=100 total=25\r\nINFO [03-29|01:06:20.630] Starting peer-to-peer node               instance=Geth/v1.8.22-stable/darwin-amd64/go1.11.5\r\nINFO [03-29|01:06:20.631] Allocated cache and file handles         database=/Users/kevinsimper/Library/Ethereum/geth/lightchaindata cache=512 handles=4611686018427387903\r\nINFO [03-29|01:06:20.763] Initialised chain configuration          config=\"{ChainID: 1 Homestead: 1150000 DAO: 1920000 DAOSupport: true EIP150: 2463000 EIP155: 2675000 EIP158: 2675000 Byzantium: 4370000 Constantinople: 7280000  ConstantinopleFix: 7280000 Engine: ethash}\"\r\nINFO [03-29|01:06:20.765] Disk storage enabled for ethash caches   dir=/Users/kevinsimper/Library/Ethereum/geth/ethash count=3\r\nINFO [03-29|01:06:20.765] Disk storage enabled for ethash DAGs     dir=/Users/kevinsimper/.ethash                      count=2\r\nINFO [03-29|01:06:20.773] Added trusted checkpoint                 chain=mainnet block=7110655 hash=ae3e55…553541\r\nINFO [03-29|01:06:20.773] Loaded most recent local header          number=0 hash=d4e567…cb8fa3 td=17179869184 age=49y11mo2w\r\nINFO [03-29|01:06:20.785] UDP listener up                          net=enode://2b28c5d718f1b123dbaafca37067d30d6a95ba113a8fb51e1ff8aee633c4d715c2b02d8458d2d341f23ac7ad209f6e2fc72d134199eb60888dda1b731bc62afc@[::]:30303\r\nWARN [03-29|01:06:20.788] Light client mode is an experimental feature\r\nINFO [03-29|01:06:20.790] New local node record                    seq=2 id=8393a17582efe91d ip=127.0.0.1 udp=30303 tcp=30303\r\nINFO [03-29|01:06:20.790] Started P2P networking                   self=enode://2b28c5d718f1b123dbaafca37067d30d6a95ba113a8fb51e1ff8aee633c4d715c2b02d8458d2d341f23ac7ad209f6e2fc72d134199eb60888dda1b731bc62afc@127.0.0.1:30303\r\nINFO [03-29|01:06:20.794] IPC endpoint opened                      url=/Users/kevinsimper/Library/Ethereum/geth.ipc\r\nINFO [03-29|01:06:23.348] Mapped network port                      proto=udp extport=30303 intport=30303 interface=\"UPNP IGDv1-IP1\"\r\nINFO [03-29|01:06:23.877] Mapped network port                      proto=tcp extport=30303 intport=30303 interface=\"UPNP IGDv1-IP1\"\r\nINFO [03-29|01:06:25.853] Block synchronisation started\r\nWARN [03-29|01:06:31.355] Synchronisation failed, retrying         err=\"block download canceled (requested)\"\r\nWARN [03-29|01:07:33.951] Synchronisation failed, retrying         err=\"peer is unknown or unhealthy\"\r\nWARN [03-29|01:08:04.970] Synchronisation failed, retrying         err=\"peer is unknown or unhealthy\"\r\nWARN [03-29|01:09:14.100] Synchronisation failed, retrying         err=\"peer is unknown or unhealthy\"\r\n^CINFO [03-29|01:10:09.630] Got interrupt, shutting down...\r\nINFO [03-29|01:10:09.631] IPC endpoint closed                      url=/Users/kevinsimper/Library/Ethereum/geth.ipc\r\nINFO [03-29|01:10:09.631] Blockchain manager stopped\r\nINFO [03-29|01:10:09.632] Stopping light Ethereum protocol\r\nINFO [03-29|01:10:09.632] Light Ethereum protocol stopped\r\nINFO [03-29|01:10:09.632] Transaction pool stopped\r\nINFO [03-29|01:10:09.839] Database closed                          database=/Users/kevinsimper/Library/Ethereum/geth/lightchaindata\r\n$ rm -rf /Users/kevinsimper/Library/Ethereum/geth/lightchaindata\r\n$ rm -rf /Users/kevinsimper/Library/Ethereum/geth/ethash\r\n$ rm -rf /Users/kevinsimper/.ethash\r\n$ geth --syncmode light\r\n```",
  "closed_by": {
    "login": "fjl",
    "id": 6915,
    "node_id": "MDQ6VXNlcjY5MTU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6915?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/fjl",
    "html_url": "https://github.com/fjl",
    "followers_url": "https://api.github.com/users/fjl/followers",
    "following_url": "https://api.github.com/users/fjl/following{/other_user}",
    "gists_url": "https://api.github.com/users/fjl/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/fjl/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/fjl/subscriptions",
    "organizations_url": "https://api.github.com/users/fjl/orgs",
    "repos_url": "https://api.github.com/users/fjl/repos",
    "events_url": "https://api.github.com/users/fjl/events{/privacy}",
    "received_events_url": "https://api.github.com/users/fjl/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/19350/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/19350/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/505344561",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/19350#issuecomment-505344561",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/19350",
    "id": 505344561,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUwNTM0NDU2MQ==",
    "user": {
      "login": "fjl",
      "id": 6915,
      "node_id": "MDQ6VXNlcjY5MTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6915?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fjl",
      "html_url": "https://github.com/fjl",
      "followers_url": "https://api.github.com/users/fjl/followers",
      "following_url": "https://api.github.com/users/fjl/following{/other_user}",
      "gists_url": "https://api.github.com/users/fjl/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fjl/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fjl/subscriptions",
      "organizations_url": "https://api.github.com/users/fjl/orgs",
      "repos_url": "https://api.github.com/users/fjl/repos",
      "events_url": "https://api.github.com/users/fjl/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fjl/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-06-25T08:32:28Z",
    "updated_at": "2019-06-25T08:32:28Z",
    "author_association": "MEMBER",
    "body": "This is an intermittent sync issue. The node will sync eventually. Sorry for the trouble, we are always looking to improve sync.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/505344561/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/505373532",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/19350#issuecomment-505373532",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/19350",
    "id": 505373532,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUwNTM3MzUzMg==",
    "user": {
      "login": "kevinsimper",
      "id": 1126497,
      "node_id": "MDQ6VXNlcjExMjY0OTc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1126497?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kevinsimper",
      "html_url": "https://github.com/kevinsimper",
      "followers_url": "https://api.github.com/users/kevinsimper/followers",
      "following_url": "https://api.github.com/users/kevinsimper/following{/other_user}",
      "gists_url": "https://api.github.com/users/kevinsimper/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kevinsimper/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kevinsimper/subscriptions",
      "organizations_url": "https://api.github.com/users/kevinsimper/orgs",
      "repos_url": "https://api.github.com/users/kevinsimper/repos",
      "events_url": "https://api.github.com/users/kevinsimper/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kevinsimper/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-06-25T09:53:19Z",
    "updated_at": "2019-06-25T09:53:19Z",
    "author_association": "NONE",
    "body": "@fjl Okay thank you :)",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/505373532/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
