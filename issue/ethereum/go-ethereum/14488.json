{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/14488",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/14488/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/14488/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/14488/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/14488",
  "id": 230062512,
  "node_id": "MDU6SXNzdWUyMzAwNjI1MTI=",
  "number": 14488,
  "title": "FromHex() of a single digit number",
  "user": {
    "login": "philipcmonk",
    "id": 5553176,
    "node_id": "MDQ6VXNlcjU1NTMxNzY=",
    "avatar_url": "https://avatars.githubusercontent.com/u/5553176?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/philipcmonk",
    "html_url": "https://github.com/philipcmonk",
    "followers_url": "https://api.github.com/users/philipcmonk/followers",
    "following_url": "https://api.github.com/users/philipcmonk/following{/other_user}",
    "gists_url": "https://api.github.com/users/philipcmonk/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/philipcmonk/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/philipcmonk/subscriptions",
    "organizations_url": "https://api.github.com/users/philipcmonk/orgs",
    "repos_url": "https://api.github.com/users/philipcmonk/repos",
    "events_url": "https://api.github.com/users/philipcmonk/events{/privacy}",
    "received_events_url": "https://api.github.com/users/philipcmonk/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 3,
  "created_at": "2017-05-19T19:03:19Z",
  "updated_at": "2017-05-20T18:59:58Z",
  "closed_at": "2017-05-20T11:05:52Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "#### System information\r\n\r\nGeth version: 1.61-stable\r\nOS & Version: Ubuntu 16.04\r\n\r\n#### Expected behaviour\r\n\r\n`common.HexToAddress(\"5\").Hex()` should give `0x0000000000000000000000000000000000000005'\r\n\r\n#### Actual behaviour\r\n\r\nGives `0x0000000000000000000000000000000000000000`\r\n\r\n#### Steps to reproduce the behaviour\r\n\r\nRun the above code.\r\n\r\n#### Notes\r\n\r\nWhy does this (https://github.com/ethereum/go-ethereum/blob/83721a95/common/bytes.go#L34) check exist?  It seems to have been around ever since `FromHex` was introduced here: https://github.com/ethereum/go-ethereum/commit/ddf17d93acf92ef18b0134f19f22220362e06bad#diff-44721aff1ab930d9103fb9c3355914d1R41\r\n\r\nWould there be any issue with just deleting the conditional?",
  "closed_by": {
    "login": "obscuren",
    "id": 6264126,
    "node_id": "MDQ6VXNlcjYyNjQxMjY=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6264126?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/obscuren",
    "html_url": "https://github.com/obscuren",
    "followers_url": "https://api.github.com/users/obscuren/followers",
    "following_url": "https://api.github.com/users/obscuren/following{/other_user}",
    "gists_url": "https://api.github.com/users/obscuren/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/obscuren/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/obscuren/subscriptions",
    "organizations_url": "https://api.github.com/users/obscuren/orgs",
    "repos_url": "https://api.github.com/users/obscuren/repos",
    "events_url": "https://api.github.com/users/obscuren/events{/privacy}",
    "received_events_url": "https://api.github.com/users/obscuren/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/14488/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/14488/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/302791436",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/14488#issuecomment-302791436",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/14488",
    "id": 302791436,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwMjc5MTQzNg==",
    "user": {
      "login": "philipcmonk",
      "id": 5553176,
      "node_id": "MDQ6VXNlcjU1NTMxNzY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5553176?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/philipcmonk",
      "html_url": "https://github.com/philipcmonk",
      "followers_url": "https://api.github.com/users/philipcmonk/followers",
      "following_url": "https://api.github.com/users/philipcmonk/following{/other_user}",
      "gists_url": "https://api.github.com/users/philipcmonk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/philipcmonk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/philipcmonk/subscriptions",
      "organizations_url": "https://api.github.com/users/philipcmonk/orgs",
      "repos_url": "https://api.github.com/users/philipcmonk/repos",
      "events_url": "https://api.github.com/users/philipcmonk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/philipcmonk/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-05-19T19:30:04Z",
    "updated_at": "2017-05-19T19:54:31Z",
    "author_association": "NONE",
    "body": "Found out why we can't simply eliminate the check:  we can't create an address from an empty byte slice.  Additionally, we can't reduce the check from >1 to >0, because then the `s[0:2` is an out of bounds error.\r\n\r\nI fixed this in #14489 by special-casing the `len(s) == 1` case in `FromHex`.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/302791436/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/302866404",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/14488#issuecomment-302866404",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/14488",
    "id": 302866404,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwMjg2NjQwNA==",
    "user": {
      "login": "obscuren",
      "id": 6264126,
      "node_id": "MDQ6VXNlcjYyNjQxMjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6264126?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/obscuren",
      "html_url": "https://github.com/obscuren",
      "followers_url": "https://api.github.com/users/obscuren/followers",
      "following_url": "https://api.github.com/users/obscuren/following{/other_user}",
      "gists_url": "https://api.github.com/users/obscuren/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/obscuren/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/obscuren/subscriptions",
      "organizations_url": "https://api.github.com/users/obscuren/orgs",
      "repos_url": "https://api.github.com/users/obscuren/repos",
      "events_url": "https://api.github.com/users/obscuren/events{/privacy}",
      "received_events_url": "https://api.github.com/users/obscuren/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-05-20T11:05:52Z",
    "updated_at": "2017-05-20T11:06:42Z",
    "author_association": "MEMBER",
    "body": "> Why does this (https://github.com/ethereum/go-ethereum/blob/83721a95/common/bytes.go#L34) check exist?\r\n\r\nBecause a hex string must be preceded by `0x`, i.e. `len(input) > 1`. \r\n\r\n`FromHex` should not be used to parse numbers, it should only be used to convert hex strings to a byte slice, which means they must be even length.\r\n\r\nIf you'd like to parse numbers please use the [`hexutil`](https://godoc.org/github.com/ethereum/go-ethereum/common/hexutil) package.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/302866404/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/302892133",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/14488#issuecomment-302892133",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/14488",
    "id": 302892133,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwMjg5MjEzMw==",
    "user": {
      "login": "philipcmonk",
      "id": 5553176,
      "node_id": "MDQ6VXNlcjU1NTMxNzY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5553176?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/philipcmonk",
      "html_url": "https://github.com/philipcmonk",
      "followers_url": "https://api.github.com/users/philipcmonk/followers",
      "following_url": "https://api.github.com/users/philipcmonk/following{/other_user}",
      "gists_url": "https://api.github.com/users/philipcmonk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/philipcmonk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/philipcmonk/subscriptions",
      "organizations_url": "https://api.github.com/users/philipcmonk/orgs",
      "repos_url": "https://api.github.com/users/philipcmonk/repos",
      "events_url": "https://api.github.com/users/philipcmonk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/philipcmonk/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-05-20T18:59:58Z",
    "updated_at": "2017-05-20T18:59:58Z",
    "author_association": "NONE",
    "body": "> Because a hex string must be preceded by 0x, i.e. len(input) > 1.\r\n\r\nThis is incorrect, since the next line of code checks whether it includes a \"0x\", and deletes it if it does. \r\n `FromHex` happily accepts hex addresses without a \"0x\".  Should that part be removed?\r\n\r\n> `FromHex` should not be used to parse numbers, it should only be used to convert hex strings to a byte slice, \r\n\r\n`0x0`-`0xf` are legal addresses, and in the contract we're writing, they're useful addresses as well.  If `FromHex` cannot handle them correctly, then `HexToAddress` should not use it.\r\n\r\n> which means they must be even length.\r\n\r\nAgain, `FromHex` normalizes odd-length addresses by prepending a `0`.  Should that be removed as well?\r\n\r\nI submit that \"HexToAddress\" is misleadingly named, since `HexToAddress(\"7\")` produces the address `0x0`.  I'll create my own function for our project.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/302892133/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
