{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/686",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/686/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/686/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/686/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/686",
  "id": 67470261,
  "node_id": "MDU6SXNzdWU2NzQ3MDI2MQ==",
  "number": 686,
  "title": "[Blockpool] Idle too long: timed out without providing new blocks",
  "user": {
    "login": "ethers",
    "id": 6937903,
    "node_id": "MDQ6VXNlcjY5Mzc5MDM=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6937903?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/ethers",
    "html_url": "https://github.com/ethers",
    "followers_url": "https://api.github.com/users/ethers/followers",
    "following_url": "https://api.github.com/users/ethers/following{/other_user}",
    "gists_url": "https://api.github.com/users/ethers/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/ethers/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/ethers/subscriptions",
    "organizations_url": "https://api.github.com/users/ethers/orgs",
    "repos_url": "https://api.github.com/users/ethers/repos",
    "events_url": "https://api.github.com/users/ethers/events{/privacy}",
    "received_events_url": "https://api.github.com/users/ethers/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 5,
  "created_at": "2015-04-09T23:15:31Z",
  "updated_at": "2015-04-10T05:10:01Z",
  "closed_at": "2015-04-10T05:10:01Z",
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": "On develop 4de1e16\n\nI have sufficient peers (eg 9) running Geth.  After some time, it stops receiving new blocks.\n\n```\nWelcome to the FRONTIER\nI0409 16:01:24.686240     572 backend.go:180] Protocol Version: 60, Network Id: 0\nI0409 16:01:24.689129     572 chain_manager.go:194] Last block (#61624) 0a0fdbab48621a143b91f402684ddceeac11726ebceca4ee0cdbb02aead05095 TD=83631628090\nI0409 16:01:25.637659     572 ethash.go:94] Making cache\nI0409 16:01:26.749801     572 ethash.go:99] Took: 1.111805432s\nI0409 16:01:26.758526     572 cmd.go:116] Starting  Geth/v0.9.7/linux/go1.4.2\nI0409 16:01:26.758620     572 server.go:164] Starting Server\nI0409 16:01:26.761094     572 udp.go:157] Listening, enode://f4273b6fd5e6f030248174a6c07297dc9bb6e0590dd214a099b0b3de002bf72c8dbd5d708d4182971cb821c6bffde3a76606227353d53a615124d1e4c4d830fe@[::]:30304\nI0409 16:01:26.761218     572 blockpool.go:264] Blockpool started\nI0409 16:01:26.761225     572 whisper.go:72] Whisper started\nI0409 16:01:26.761234     572 backend.go:383] Server started\nI0409 16:01:26.761328     572 nat.go:94] mapping error: no devices discovered\nI0409 16:01:26.761365     572 server.go:266] Listening on [::]:30304\nI0409 16:01:26.761407     572 nat.go:94] mapping error: no devices discovered\nI0409 16:01:42.443578     572 chain_manager.go:551] imported 47 block(s) 0 queued in 182.438914ms. #61671 [b724b239 / 02573a9c]\nI0409 16:01:42.447987     572 chain_manager.go:551] imported 1 block(s) 0 queued in 4.226917ms. #61672 [d79f7d34 / d79f7d34]\n2015/04/09 16:03:42 [Peer e7746bc09a0bd0b4 52.5.26.21:30303] [Blockpool] Idle too long: timed out without providing new blocks (td: 83766225173, head: d79f7d34)...quitting\n```\n\nHere's another instance where it stopped getting blocks after 61735:\n\n```\nI0409 16:07:01.583514     794 chain_manager.go:551] imported 1 block(s) 0 queued in 4.245563ms. #61726 [2757cf20 / 2757cf20]\nI0409 16:07:13.638226     794 chain_manager.go:551] imported 3 block(s) 0 queued in 13.503326ms. #61729 [d2e87ba0 / ece71a94]\nI0409 16:07:13.643410     794 chain_manager.go:551] imported 1 block(s) 0 queued in 4.461201ms. #61730 [b64aaa3b / b64aaa3b]\nI0409 16:07:25.317697     794 chain_manager.go:551] imported 2 block(s) 0 queued in 170.991321ms. #61732 [b86689bf / 32a5155e]\nI0409 16:07:39.480843     794 chain_manager.go:551] imported 2 block(s) 0 queued in 10.387841ms. #61734 [692da0b2 / 91ad73d4]\nI0409 16:07:39.487707     794 chain_manager.go:551] imported 1 block(s) 0 queued in 6.48613ms. #61735 [45d9e1c8 / 45d9e1c8]\n2015/04/09 16:09:39 [Peer e7746bc09a0bd0b4 52.5.26.21:30303] [Blockpool] Idle too long: timed out without providing new blocks (td: 83956496587, head: 45d9e1c8)...quitting\n```\n",
  "closed_by": {
    "login": "ethers",
    "id": 6937903,
    "node_id": "MDQ6VXNlcjY5Mzc5MDM=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6937903?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/ethers",
    "html_url": "https://github.com/ethers",
    "followers_url": "https://api.github.com/users/ethers/followers",
    "following_url": "https://api.github.com/users/ethers/following{/other_user}",
    "gists_url": "https://api.github.com/users/ethers/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/ethers/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/ethers/subscriptions",
    "organizations_url": "https://api.github.com/users/ethers/orgs",
    "repos_url": "https://api.github.com/users/ethers/repos",
    "events_url": "https://api.github.com/users/ethers/events{/privacy}",
    "received_events_url": "https://api.github.com/users/ethers/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/686/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/686/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/91379420",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/686#issuecomment-91379420",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/686",
    "id": 91379420,
    "node_id": "MDEyOklzc3VlQ29tbWVudDkxMzc5NDIw",
    "user": {
      "login": "ethers",
      "id": 6937903,
      "node_id": "MDQ6VXNlcjY5Mzc5MDM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6937903?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ethers",
      "html_url": "https://github.com/ethers",
      "followers_url": "https://api.github.com/users/ethers/followers",
      "following_url": "https://api.github.com/users/ethers/following{/other_user}",
      "gists_url": "https://api.github.com/users/ethers/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ethers/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ethers/subscriptions",
      "organizations_url": "https://api.github.com/users/ethers/orgs",
      "repos_url": "https://api.github.com/users/ethers/repos",
      "events_url": "https://api.github.com/users/ethers/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ethers/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-04-09T23:20:49Z",
    "updated_at": "2015-04-09T23:20:49Z",
    "author_association": "MEMBER",
    "body": "after the \"quitting\" log, nothing else shows up in the log.\nI ran a bt, but it was short:\n\n```\n#0  0x00000000004634b3 in ?? ()\n#1  0x0000000000453c17 in crosscall_amd64 ()\n#2  0x0000000001257cf8 in __bss_start ()\n#3  0x0000000000000000 in ?? ()\n```\n\ngodep go install -v ./cmd/geth was used for building.  If needed, let me know how to obtain other info that might be helpful.\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/91379420/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/91385426",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/686#issuecomment-91385426",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/686",
    "id": 91385426,
    "node_id": "MDEyOklzc3VlQ29tbWVudDkxMzg1NDI2",
    "user": {
      "login": "ethers",
      "id": 6937903,
      "node_id": "MDQ6VXNlcjY5Mzc5MDM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6937903?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ethers",
      "html_url": "https://github.com/ethers",
      "followers_url": "https://api.github.com/users/ethers/followers",
      "following_url": "https://api.github.com/users/ethers/following{/other_user}",
      "gists_url": "https://api.github.com/users/ethers/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ethers/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ethers/subscriptions",
      "organizations_url": "https://api.github.com/users/ethers/orgs",
      "repos_url": "https://api.github.com/users/ethers/repos",
      "events_url": "https://api.github.com/users/ethers/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ethers/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-04-10T00:08:02Z",
    "updated_at": "2015-04-10T00:08:02Z",
    "author_association": "MEMBER",
    "body": "I tried repro and hit the issue/deadlock immediately, I had 0 peers:\nhttps://gist.github.com/ethers/96e95b169ae3509855c1\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/91385426/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/91386249",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/686#issuecomment-91386249",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/686",
    "id": 91386249,
    "node_id": "MDEyOklzc3VlQ29tbWVudDkxMzg2MjQ5",
    "user": {
      "login": "ethers",
      "id": 6937903,
      "node_id": "MDQ6VXNlcjY5Mzc5MDM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6937903?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ethers",
      "html_url": "https://github.com/ethers",
      "followers_url": "https://api.github.com/users/ethers/followers",
      "following_url": "https://api.github.com/users/ethers/following{/other_user}",
      "gists_url": "https://api.github.com/users/ethers/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ethers/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ethers/subscriptions",
      "organizations_url": "https://api.github.com/users/ethers/orgs",
      "repos_url": "https://api.github.com/users/ethers/repos",
      "events_url": "https://api.github.com/users/ethers/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ethers/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-04-10T00:11:35Z",
    "updated_at": "2015-04-10T00:11:35Z",
    "author_association": "MEMBER",
    "body": "Here's a deadlock after some blocks obtained:\nhttps://gist.github.com/ethers/72c316ac8d0f8263c72d\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/91386249/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/91394962",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/686#issuecomment-91394962",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/686",
    "id": 91394962,
    "node_id": "MDEyOklzc3VlQ29tbWVudDkxMzk0OTYy",
    "user": {
      "login": "zelig",
      "id": 769725,
      "node_id": "MDQ6VXNlcjc2OTcyNQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/769725?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/zelig",
      "html_url": "https://github.com/zelig",
      "followers_url": "https://api.github.com/users/zelig/followers",
      "following_url": "https://api.github.com/users/zelig/following{/other_user}",
      "gists_url": "https://api.github.com/users/zelig/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/zelig/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/zelig/subscriptions",
      "organizations_url": "https://api.github.com/users/zelig/orgs",
      "repos_url": "https://api.github.com/users/zelig/repos",
      "events_url": "https://api.github.com/users/zelig/events{/privacy}",
      "received_events_url": "https://api.github.com/users/zelig/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-04-10T01:26:07Z",
    "updated_at": "2015-04-10T01:26:07Z",
    "author_association": "MEMBER",
    "body": "i think you are using a 0.9.7 client not the commit you are pointing to.\nNote #667 should fix what you see in the second gist.\n\nAs for the first gist with 0 peers, it seems it hangs on NAT mapping (line 241) so you got a network problem. \n\nPlease confirm you see this behaviour on the current develop HEAD, and produce a stacktrace with `kill -QUIT`. \n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/91394962/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/91430440",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/686#issuecomment-91430440",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/686",
    "id": 91430440,
    "node_id": "MDEyOklzc3VlQ29tbWVudDkxNDMwNDQw",
    "user": {
      "login": "ethers",
      "id": 6937903,
      "node_id": "MDQ6VXNlcjY5Mzc5MDM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6937903?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ethers",
      "html_url": "https://github.com/ethers",
      "followers_url": "https://api.github.com/users/ethers/followers",
      "following_url": "https://api.github.com/users/ethers/following{/other_user}",
      "gists_url": "https://api.github.com/users/ethers/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ethers/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ethers/subscriptions",
      "organizations_url": "https://api.github.com/users/ethers/orgs",
      "repos_url": "https://api.github.com/users/ethers/repos",
      "events_url": "https://api.github.com/users/ethers/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ethers/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-04-10T05:10:01Z",
    "updated_at": "2015-04-10T05:10:01Z",
    "author_association": "MEMBER",
    "body": "You're right that a 0.9.7 version of geth ended up in my /usr/bin/geth and was run instead (since /usr/bin is earlier in the path)\n\nlooks ok On develop 4de1e16\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/91430440/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
