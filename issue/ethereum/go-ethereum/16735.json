{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/16735",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/16735/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/16735/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/16735/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/16735",
  "id": 322657053,
  "node_id": "MDU6SXNzdWUzMjI2NTcwNTM=",
  "number": 16735,
  "title": "How to let geth always connect with another peer?",
  "user": {
    "login": "wcw84",
    "id": 7152596,
    "node_id": "MDQ6VXNlcjcxNTI1OTY=",
    "avatar_url": "https://avatars.githubusercontent.com/u/7152596?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/wcw84",
    "html_url": "https://github.com/wcw84",
    "followers_url": "https://api.github.com/users/wcw84/followers",
    "following_url": "https://api.github.com/users/wcw84/following{/other_user}",
    "gists_url": "https://api.github.com/users/wcw84/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/wcw84/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/wcw84/subscriptions",
    "organizations_url": "https://api.github.com/users/wcw84/orgs",
    "repos_url": "https://api.github.com/users/wcw84/repos",
    "events_url": "https://api.github.com/users/wcw84/events{/privacy}",
    "received_events_url": "https://api.github.com/users/wcw84/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 5,
  "created_at": "2018-05-14T02:54:46Z",
  "updated_at": "2018-05-21T06:52:59Z",
  "closed_at": "2018-05-21T06:52:59Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "Geth version:  1.8.1-stable-1e67410e\r\n\r\nMy geth is always out of date, \r\n`WARN [05-14|10:24:55] Synchronisation failed, dropping peer    peer=86d38ff0ff7c68b9 err=\"no peers available or all tried for download\"\r\n[...]\r\nWARN [05-14|10:31:31] Synchronisation failed, dropping peer    peer=47bfe5e2ca07d84f err=timeout`\r\n\r\n and i also have a parity running in the same LAN with my geth node, which is always  up to date.\r\nSo I tried to let my geth sync with my parity by \"admin.addPeer(MY PARITY)\" in the geth console, and it works(I could see \"Imported new chain segment\" in the geth logs immediately).\r\n**And the problem is that my parity peer will be removed from the peers list of my geth node(I don't know why?), which would be out of date again until I do \"admin.addPeer\". \r\nSo is there anyway to let my geth ALWAYS connect with my pairty?**\r\n\r\nAny help will be appreciated.\r\n",
  "closed_by": {
    "login": "wcw84",
    "id": 7152596,
    "node_id": "MDQ6VXNlcjcxNTI1OTY=",
    "avatar_url": "https://avatars.githubusercontent.com/u/7152596?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/wcw84",
    "html_url": "https://github.com/wcw84",
    "followers_url": "https://api.github.com/users/wcw84/followers",
    "following_url": "https://api.github.com/users/wcw84/following{/other_user}",
    "gists_url": "https://api.github.com/users/wcw84/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/wcw84/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/wcw84/subscriptions",
    "organizations_url": "https://api.github.com/users/wcw84/orgs",
    "repos_url": "https://api.github.com/users/wcw84/repos",
    "events_url": "https://api.github.com/users/wcw84/events{/privacy}",
    "received_events_url": "https://api.github.com/users/wcw84/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/16735/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/16735/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/389883889",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/16735#issuecomment-389883889",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/16735",
    "id": 389883889,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4OTg4Mzg4OQ==",
    "user": {
      "login": "ryanschneider",
      "id": 53520,
      "node_id": "MDQ6VXNlcjUzNTIw",
      "avatar_url": "https://avatars.githubusercontent.com/u/53520?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ryanschneider",
      "html_url": "https://github.com/ryanschneider",
      "followers_url": "https://api.github.com/users/ryanschneider/followers",
      "following_url": "https://api.github.com/users/ryanschneider/following{/other_user}",
      "gists_url": "https://api.github.com/users/ryanschneider/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ryanschneider/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ryanschneider/subscriptions",
      "organizations_url": "https://api.github.com/users/ryanschneider/orgs",
      "repos_url": "https://api.github.com/users/ryanschneider/repos",
      "events_url": "https://api.github.com/users/ryanschneider/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ryanschneider/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-17T14:21:27Z",
    "updated_at": "2018-05-17T14:21:27Z",
    "author_association": "CONTRIBUTOR",
    "body": "This requires #16333, or for you to add the peer to the trusted peer list via .toml config at launch. ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/389883889/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/390122554",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/16735#issuecomment-390122554",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/16735",
    "id": 390122554,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5MDEyMjU1NA==",
    "user": {
      "login": "wcw84",
      "id": 7152596,
      "node_id": "MDQ6VXNlcjcxNTI1OTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7152596?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/wcw84",
      "html_url": "https://github.com/wcw84",
      "followers_url": "https://api.github.com/users/wcw84/followers",
      "following_url": "https://api.github.com/users/wcw84/following{/other_user}",
      "gists_url": "https://api.github.com/users/wcw84/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/wcw84/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/wcw84/subscriptions",
      "organizations_url": "https://api.github.com/users/wcw84/orgs",
      "repos_url": "https://api.github.com/users/wcw84/repos",
      "events_url": "https://api.github.com/users/wcw84/events{/privacy}",
      "received_events_url": "https://api.github.com/users/wcw84/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-18T07:38:33Z",
    "updated_at": "2018-05-18T07:42:03Z",
    "author_association": "NONE",
    "body": "Hi @ryanschneider ,\r\nI can't find the admin_addTrustedPeer in my geth node:\r\n```\r\n$ curl -X POST --data '{\"jsonrpc\":\"2.0\",\"method\":\"admin_addTrustedPeer\",\"params\":[],\"id\":67}' -H 'Content-Type: application/json' localhost:8545\r\n{\"jsonrpc\":\"2.0\",\"id\":67,\"error\":{\"code\":-32601,\"message\":\"The method admin_addTrustedPeer does not exist/is not available\"}}\r\n```\r\nI have started my geth node with admin in rpcapi option.\r\n\r\nAnd I don't understand what is \".toml\" config?\r\nThanks.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/390122554/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/390416784",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/16735#issuecomment-390416784",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/16735",
    "id": 390416784,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5MDQxNjc4NA==",
    "user": {
      "login": "ryanschneider",
      "id": 53520,
      "node_id": "MDQ6VXNlcjUzNTIw",
      "avatar_url": "https://avatars.githubusercontent.com/u/53520?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ryanschneider",
      "html_url": "https://github.com/ryanschneider",
      "followers_url": "https://api.github.com/users/ryanschneider/followers",
      "following_url": "https://api.github.com/users/ryanschneider/following{/other_user}",
      "gists_url": "https://api.github.com/users/ryanschneider/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ryanschneider/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ryanschneider/subscriptions",
      "organizations_url": "https://api.github.com/users/ryanschneider/orgs",
      "repos_url": "https://api.github.com/users/ryanschneider/repos",
      "events_url": "https://api.github.com/users/ryanschneider/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ryanschneider/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-19T16:38:32Z",
    "updated_at": "2018-05-19T16:38:32Z",
    "author_association": "CONTRIBUTOR",
    "body": "Sorry I should have been more clear: the PR I referenced hasn’t been merged yet. You can either compile from the PR branch or wait until it’s mergd and the next release is tagged. \r\n\r\nThe .toml config file is pretty under documented, but there’s a (possibly at this point out of date) example config here:\r\n\r\nhttps://github.com/zhiyuan2007/sample-ethereum.toml\r\n\r\nUnless you are pretty comfortable with Geth internals I think your best bet is to wait until a release with the above PR merged, as using the trusted peers option via the toml config is not documented anywhere I could except in the code. ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/390416784/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/390532422",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/16735#issuecomment-390532422",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/16735",
    "id": 390532422,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5MDUzMjQyMg==",
    "user": {
      "login": "paulvi",
      "id": 1614482,
      "node_id": "MDQ6VXNlcjE2MTQ0ODI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1614482?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/paulvi",
      "html_url": "https://github.com/paulvi",
      "followers_url": "https://api.github.com/users/paulvi/followers",
      "following_url": "https://api.github.com/users/paulvi/following{/other_user}",
      "gists_url": "https://api.github.com/users/paulvi/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/paulvi/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/paulvi/subscriptions",
      "organizations_url": "https://api.github.com/users/paulvi/orgs",
      "repos_url": "https://api.github.com/users/paulvi/repos",
      "events_url": "https://api.github.com/users/paulvi/events{/privacy}",
      "received_events_url": "https://api.github.com/users/paulvi/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-21T01:52:58Z",
    "updated_at": "2018-05-21T01:53:18Z",
    "author_association": "NONE",
    "body": "@wcw84 Add `static-nodes.json` with listed enode URL you want your geth node always try to connect to\r\n\r\nhttp://ethdocs.org/en/latest/network/connecting-to-the-network.html#static-nodes-trusted-nodes-and-boot-nodes\r\n\r\nDocumentation about `trusted-nodes.json` is missing though.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/390532422/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/390569097",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/16735#issuecomment-390569097",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/16735",
    "id": 390569097,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5MDU2OTA5Nw==",
    "user": {
      "login": "wcw84",
      "id": 7152596,
      "node_id": "MDQ6VXNlcjcxNTI1OTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7152596?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/wcw84",
      "html_url": "https://github.com/wcw84",
      "followers_url": "https://api.github.com/users/wcw84/followers",
      "following_url": "https://api.github.com/users/wcw84/following{/other_user}",
      "gists_url": "https://api.github.com/users/wcw84/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/wcw84/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/wcw84/subscriptions",
      "organizations_url": "https://api.github.com/users/wcw84/orgs",
      "repos_url": "https://api.github.com/users/wcw84/repos",
      "events_url": "https://api.github.com/users/wcw84/events{/privacy}",
      "received_events_url": "https://api.github.com/users/wcw84/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-21T06:52:59Z",
    "updated_at": "2018-05-21T06:52:59Z",
    "author_association": "NONE",
    "body": "I have tried \"admin.addPeer()\" and the \"static-nodes.json\", they both work",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/390569097/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
