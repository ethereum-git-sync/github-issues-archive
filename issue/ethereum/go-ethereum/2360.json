{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/2360",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/2360/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/2360/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/2360/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/2360",
  "id": 141595652,
  "node_id": "MDU6SXNzdWUxNDE1OTU2NTI=",
  "number": 2360,
  "title": "Suggestion: JSON RPC API - no efficient way to control transactions remotely",
  "user": {
    "login": "mudpedal",
    "id": 3278720,
    "node_id": "MDQ6VXNlcjMyNzg3MjA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/3278720?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/mudpedal",
    "html_url": "https://github.com/mudpedal",
    "followers_url": "https://api.github.com/users/mudpedal/followers",
    "following_url": "https://api.github.com/users/mudpedal/following{/other_user}",
    "gists_url": "https://api.github.com/users/mudpedal/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/mudpedal/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/mudpedal/subscriptions",
    "organizations_url": "https://api.github.com/users/mudpedal/orgs",
    "repos_url": "https://api.github.com/users/mudpedal/repos",
    "events_url": "https://api.github.com/users/mudpedal/events{/privacy}",
    "received_events_url": "https://api.github.com/users/mudpedal/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 3,
  "created_at": "2016-03-17T14:16:13Z",
  "updated_at": "2016-03-18T10:08:31Z",
  "closed_at": "2016-03-18T10:08:27Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "This is not a particular geth problem, but a problem with the rpc api in general.\n\nI'm developing a service that will automatically submit transactions to geth, I've made my own driver lib that can also sign transactions and generate wallets and I just submit raw transactions by rpc.\n\nOne problem that I have is that there is no correct way to always detect a nonce before I sign a transaction.\n- eth_getTransactionCount only returns mined transactions (not pending/queued)\n- my service has to always predict nonce, which it can most of the time but some problems can arise\n- if one of my transactions fail, others will remain queued if they have higher nonces, I cannot cancel them, they will remain hanging until I insert transactions before them\n\nWhat I'm asking is that in order for geth/other ethereum clients to become better gateways for dapp services, it has to bring more to nonce deduction, since transactions can't be properly cancelled (they might reach other nodes)\n\nMy suggestions are:\n- make rpc call be able to return what transactions are pending and what are queued, maybe even give a nonce recommendation for the next transaction for a wallet\n- for more safety, you can create a model in which you send transactions to geth by they dont automatically get submitted, you are given a chance to either cancel them or approve them.\n\nThank you,\nAndi\n",
  "closed_by": {
    "login": "karalabe",
    "id": 129561,
    "node_id": "MDQ6VXNlcjEyOTU2MQ==",
    "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/karalabe",
    "html_url": "https://github.com/karalabe",
    "followers_url": "https://api.github.com/users/karalabe/followers",
    "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
    "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
    "organizations_url": "https://api.github.com/users/karalabe/orgs",
    "repos_url": "https://api.github.com/users/karalabe/repos",
    "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
    "received_events_url": "https://api.github.com/users/karalabe/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/2360/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/2360/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/198005725",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/2360#issuecomment-198005725",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/2360",
    "id": 198005725,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE5ODAwNTcyNQ==",
    "user": {
      "login": "karalabe",
      "id": 129561,
      "node_id": "MDQ6VXNlcjEyOTU2MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/karalabe",
      "html_url": "https://github.com/karalabe",
      "followers_url": "https://api.github.com/users/karalabe/followers",
      "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
      "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
      "organizations_url": "https://api.github.com/users/karalabe/orgs",
      "repos_url": "https://api.github.com/users/karalabe/repos",
      "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/karalabe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-03-17T18:03:52Z",
    "updated_at": "2016-03-17T18:03:52Z",
    "author_association": "MEMBER",
    "body": "As almost all methods, `eth_getTransactionCount` accepts a second optional parameter to specify the block number. This can also be `\"pending\"`, in the case of which you'll get back the pending nonce, not the current one.\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/198005725/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/198260890",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/2360#issuecomment-198260890",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/2360",
    "id": 198260890,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE5ODI2MDg5MA==",
    "user": {
      "login": "mudpedal",
      "id": 3278720,
      "node_id": "MDQ6VXNlcjMyNzg3MjA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3278720?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mudpedal",
      "html_url": "https://github.com/mudpedal",
      "followers_url": "https://api.github.com/users/mudpedal/followers",
      "following_url": "https://api.github.com/users/mudpedal/following{/other_user}",
      "gists_url": "https://api.github.com/users/mudpedal/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mudpedal/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mudpedal/subscriptions",
      "organizations_url": "https://api.github.com/users/mudpedal/orgs",
      "repos_url": "https://api.github.com/users/mudpedal/repos",
      "events_url": "https://api.github.com/users/mudpedal/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mudpedal/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-03-18T08:51:13Z",
    "updated_at": "2016-03-18T08:51:13Z",
    "author_association": "NONE",
    "body": "Thank you, I entirely missed that.\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/198260890/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/198289667",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/2360#issuecomment-198289667",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/2360",
    "id": 198289667,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE5ODI4OTY2Nw==",
    "user": {
      "login": "karalabe",
      "id": 129561,
      "node_id": "MDQ6VXNlcjEyOTU2MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/karalabe",
      "html_url": "https://github.com/karalabe",
      "followers_url": "https://api.github.com/users/karalabe/followers",
      "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
      "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
      "organizations_url": "https://api.github.com/users/karalabe/orgs",
      "repos_url": "https://api.github.com/users/karalabe/repos",
      "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/karalabe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-03-18T10:08:27Z",
    "updated_at": "2016-03-18T10:08:27Z",
    "author_association": "MEMBER",
    "body": "Cheers :)\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/198289667/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
