{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/28855",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/28855/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/28855/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/28855/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/28855",
  "id": 2094733872,
  "node_id": "I_kwDOAOvK98582xow",
  "number": 28855,
  "title": "Syncing: chain download in progress",
  "user": {
    "login": "Ciejo",
    "id": 30295312,
    "node_id": "MDQ6VXNlcjMwMjk1MzEy",
    "avatar_url": "https://avatars.githubusercontent.com/u/30295312?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/Ciejo",
    "html_url": "https://github.com/Ciejo",
    "followers_url": "https://api.github.com/users/Ciejo/followers",
    "following_url": "https://api.github.com/users/Ciejo/following{/other_user}",
    "gists_url": "https://api.github.com/users/Ciejo/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/Ciejo/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/Ciejo/subscriptions",
    "organizations_url": "https://api.github.com/users/Ciejo/orgs",
    "repos_url": "https://api.github.com/users/Ciejo/repos",
    "events_url": "https://api.github.com/users/Ciejo/events{/privacy}",
    "received_events_url": "https://api.github.com/users/Ciejo/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 72233650,
      "node_id": "MDU6TGFiZWw3MjIzMzY1MA==",
      "url": "https://api.github.com/repos/ethereum/go-ethereum/labels/type:bug",
      "name": "type:bug",
      "color": "FF5E5E",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 3,
  "created_at": "2024-01-22T20:54:38Z",
  "updated_at": "2024-01-23T00:06:06Z",
  "closed_at": "2024-01-22T21:02:55Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "#### System information\r\n\r\nGeth version: Version: 1.13.10-stable\r\nCL client & version: prysm [Release v4.2.1-rc.0 · prysmaticlabs/prysm](https://github.com/prysmaticlabs/prysm/releases/tag/v4.2.1-rc.0)\r\nOS & Version: Linux 22.04.1-Ubuntu\r\nCommit hash : (if `develop`)\r\n\r\n#### Expected behaviour\r\n```\r\nINFO [01-22|20:37:01.423] Chain head was updated                   number=19,064,674 hash=aee8dd..de59fb root=032d3b..bd6d1a elapsed=5.211282ms\r\nWARN [01-22|20:37:04.044] Served web3_clientVersion                conn=10.112.3.11:42960 reqid=1 duration=\"6.419µs\" err=\"the method web3_clientVersion does not exist/is not available\"\r\nINFO [01-22|20:37:12.963] Imported new potential chain segment     number=19,064,675 hash=3150f8..0f62a6 blocks=1          txs=154           mgas=17.962 elapsed=217.268ms    mgasps=82.674  snapdiffs=5.27MiB triedirty=0.00B\r\nINFO [01-22|20:37:13.096] Chain head was updated                   number=19,064,675 hash=3150f8..0f62a6 root=bbc63f..0c4b68 elapsed=5.78726ms\r\nWARN [01-22|20:37:19.046] Served web3_clientVersion                conn=10.112.3.11:42960 reqid=1 duration=\"6.008µs\" err=\"the method web3_clientVersion does not exist/is not available\"\r\nINFO [01-22|20:37:25.537] Imported new potential chain segment     number=19,064,676 hash=9d7191..9599cd blocks=1          txs=117           mgas=17.617 elapsed=165.369ms    mgasps=106.533 snapdiffs=5.30MiB triedirty=0.00B\r\nINFO [01-22|20:37:25.674] Chain head was updated                   number=19,064,676 hash=9d7191..9599cd root=027e4f..b21358 elapsed=6.930274ms\r\n```\r\n#### Actual behaviour\r\n```\r\nJan 22 20:37:37 eth-mainnet-0 geth[280808]: INFO [01-22|20:37:37.455] Forkchoice requested sync to new head    number=19,064,677 hash=693527..6fda33 finalized=19,064,587\r\nJan 22 20:37:43 eth-mainnet-0 geth[280808]: INFO [01-22|20:37:43.108] Syncing: chain download in progress      synced=100.00% chain=660.11GiB headers=19,064,677@8.76GiB bodies=19,064,566@477.74GiB receipts=19,064,566@173.62GiB eta=22m30.685s\r\nJan 22 20:37:44 eth-mainnet-0 geth[280808]: WARN [01-22|20:37:44.349] Served web3_clientVersion                conn=127.0.0.1:48250 reqid=1 duration=\"6.693µs\" err=\"the method web3_clientVersion does not exist/is not available\"\r\nJan 22 20:37:44 eth-mainnet-0 geth[280808]: INFO [01-22|20:37:44.733] Syncing: state healing in progress       accounts=62570@3.16MiB    slots=69115@5.21MiB    codes=4988@30.94MiB nodes=41,396,488@11.75GiB pending=30146\r\nJan 22 20:37:48 eth-mainnet-0 geth[280808]: INFO [01-22|20:37:48.874] Forkchoice requested sync to new head    number=19,064,678 hash=b203b7..6341ab finalized=19,064,587\r\nJan 22 20:37:51 eth-mainnet-0 geth[280808]: INFO [01-22|20:37:51.114] Syncing: chain download in progress      synced=100.00% chain=660.11GiB headers=19,064,678@8.76GiB bodies=19,064,566@477.74GiB receipts=19,064,566@173.62GiB eta=22m43.454s\r\nJan 22 20:37:51 eth-mainnet-0 geth[280808]: WARN [01-22|20:37:51.931] Served eth_sendTransaction               conn=45.118.135.196:34418 reqid=0 duration=\"95.961µs\" err=\"unknown account\"\r\nJan 22 20:37:53 eth-mainnet-0 geth[280808]: INFO [01-22|20:37:53.050] Syncing: state healing in progress       accounts=62608@3.16MiB    slots=69153@5.21MiB    codes=4988@30.94MiB nodes=41,396,778@11.75GiB pending=30146\r\nJan 22 20:37:59 eth-mainnet-0 geth[280808]: INFO [01-22|20:37:59.119] Syncing: chain download in progress      synced=100.00% chain=660.11GiB headers=19,064,678@8.76GiB bodies=19,064,566@477.74GiB receipts=19,064,566@173.62GiB eta=22m44.054s\r\nJan 22 20:37:59 eth-mainnet-0 geth[280808]: WARN [01-22|20:37:59.350] Served web3_clientVersion                conn=127.0.0.1:52554 reqid=1 duration=\"6.712µs\" err=\"the method web3_clientVersion does not exist/is not available\"\r\nJan 22 20:38:01 eth-mainnet-0 geth[280808]: INFO [01-22|20:38:01.072] Syncing: state healing in progress       accounts=62639@3.16MiB    slots=69183@5.22MiB    codes=4988@30.94MiB nodes=41,397,044@11.75GiB pending=30222\r\nJan 22 20:38:01 eth-mainnet-0 geth[280808]: INFO [01-22|20:38:01.244] Forkchoice requested sync to new head    number=19,064,679 hash=7747b5..8ce471 finalized=19,064,587\r\n```\r\n\r\nFor some reason, always says that is syncing but if I compared with https://etherscan.io/blocks, it is synced. But if I run \r\n```\r\ncurl -X POST -H 'Content-Type: application/json' -d '{\"jsonrpc\":\"2.0\",\"id\":\"id\",\"method\":\"eth_blockNumber\",\"params\":[]}' localhost:8545\r\n```\r\n\r\nI have the following output:\r\n```\r\n{\"jsonrpc\":\"2.0\",\"id\":\"id\",\"result\":\"0x0\"}\r\n```\r\n\r\nWhat could be the issue.\r\n#### Steps to reproduce the behaviour\r\nGeth command:\r\n```\r\ngeth --mainnet --http --http.port=8545 --http.api eth,net,engine,admin,txpool --txpool.pricebump 1 --txpool.lifetime 1m --authrpc.jwtsecret=../jwt.hex --cache.preimages=true --gcmode archive --http.addr=0.0.0.0 --http.corsdomain=* --ws.port=8545 --ws.addr=0.0.0.0 --ws.origins=* --authrpc.vhosts=* --authrpc.addr=0.0.0.0 --authrpc.port=8551 --ws --metrics --metrics.addr 127.0.0.1\r\n```\r\n\r\nPrysm command\r\n```\r\nprysm.sh beacon-chain --execution-endpoint=http://localhost:8551 --mainnet --jwt-secret=../jwt.hex --checkpoint-sync-url=https://mainnet-checkpoint-sync.attestant.io --genesis-beacon-api-url=https://mainnet-checkpoint-sync.attestant.io --rpc-host=0.0.0.0 --grpc-gateway-host=0.0.0.0 --slots-per-archive-point=64 --historical-slasher-node=true --enable-debug-rpc-endpoints\r\n```\r\n\r\n#### Backtrace\r\n\r\n````\r\n\r\n````\r\n\r\nWhen submitting logs: please submit them as text and not screenshots.\r\n",
  "closed_by": {
    "login": "lightclient",
    "id": 14004106,
    "node_id": "MDQ6VXNlcjE0MDA0MTA2",
    "avatar_url": "https://avatars.githubusercontent.com/u/14004106?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/lightclient",
    "html_url": "https://github.com/lightclient",
    "followers_url": "https://api.github.com/users/lightclient/followers",
    "following_url": "https://api.github.com/users/lightclient/following{/other_user}",
    "gists_url": "https://api.github.com/users/lightclient/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/lightclient/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/lightclient/subscriptions",
    "organizations_url": "https://api.github.com/users/lightclient/orgs",
    "repos_url": "https://api.github.com/users/lightclient/repos",
    "events_url": "https://api.github.com/users/lightclient/events{/privacy}",
    "received_events_url": "https://api.github.com/users/lightclient/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/28855/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/28855/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1904811940",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/28855#issuecomment-1904811940",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/28855",
    "id": 1904811940,
    "node_id": "IC_kwDOAOvK985xiR-k",
    "user": {
      "login": "lightclient",
      "id": 14004106,
      "node_id": "MDQ6VXNlcjE0MDA0MTA2",
      "avatar_url": "https://avatars.githubusercontent.com/u/14004106?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lightclient",
      "html_url": "https://github.com/lightclient",
      "followers_url": "https://api.github.com/users/lightclient/followers",
      "following_url": "https://api.github.com/users/lightclient/following{/other_user}",
      "gists_url": "https://api.github.com/users/lightclient/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lightclient/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lightclient/subscriptions",
      "organizations_url": "https://api.github.com/users/lightclient/orgs",
      "repos_url": "https://api.github.com/users/lightclient/repos",
      "events_url": "https://api.github.com/users/lightclient/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lightclient/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2024-01-22T21:02:55Z",
    "updated_at": "2024-01-22T21:02:55Z",
    "author_association": "MEMBER",
    "body": "You are snap syncing which means you are downloading the current state trie in the background (as you see with the \"state healing\" log). Once that completes and you can fully validate a block, your current block number will be updated.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1904811940/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1904995872",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/28855#issuecomment-1904995872",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/28855",
    "id": 1904995872,
    "node_id": "IC_kwDOAOvK985xi-4g",
    "user": {
      "login": "Ciejo",
      "id": 30295312,
      "node_id": "MDQ6VXNlcjMwMjk1MzEy",
      "avatar_url": "https://avatars.githubusercontent.com/u/30295312?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Ciejo",
      "html_url": "https://github.com/Ciejo",
      "followers_url": "https://api.github.com/users/Ciejo/followers",
      "following_url": "https://api.github.com/users/Ciejo/following{/other_user}",
      "gists_url": "https://api.github.com/users/Ciejo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Ciejo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Ciejo/subscriptions",
      "organizations_url": "https://api.github.com/users/Ciejo/orgs",
      "repos_url": "https://api.github.com/users/Ciejo/repos",
      "events_url": "https://api.github.com/users/Ciejo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Ciejo/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2024-01-22T23:13:29Z",
    "updated_at": "2024-01-22T23:13:29Z",
    "author_association": "NONE",
    "body": "But this is the behaviour of the server since 7 days ago. It says that is synced 100% and the number is being updated all the time at the same speed of the number I see on https://etherscan.io/blocks",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1904995872/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1905054466",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/28855#issuecomment-1905054466",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/28855",
    "id": 1905054466,
    "node_id": "IC_kwDOAOvK985xjNMC",
    "user": {
      "login": "lightclient",
      "id": 14004106,
      "node_id": "MDQ6VXNlcjE0MDA0MTA2",
      "avatar_url": "https://avatars.githubusercontent.com/u/14004106?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lightclient",
      "html_url": "https://github.com/lightclient",
      "followers_url": "https://api.github.com/users/lightclient/followers",
      "following_url": "https://api.github.com/users/lightclient/following{/other_user}",
      "gists_url": "https://api.github.com/users/lightclient/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lightclient/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lightclient/subscriptions",
      "organizations_url": "https://api.github.com/users/lightclient/orgs",
      "repos_url": "https://api.github.com/users/lightclient/repos",
      "events_url": "https://api.github.com/users/lightclient/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lightclient/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2024-01-23T00:06:05Z",
    "updated_at": "2024-01-23T00:06:05Z",
    "author_association": "MEMBER",
    "body": "Healing can take quite a while depending how the speed of your internet connection and drive you're storing the chaindata to. For instance, HDD is too slow to heal the current size of mainnet state.\r\n\r\nPlease review other closed issues in the tracker for more info: https://github.com/ethereum/go-ethereum/issues?q=is%3Aissue+is%3Aclosed+healing",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1905054466/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
