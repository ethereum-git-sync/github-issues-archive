{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/21079",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/21079/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/21079/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/21079/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/21079",
  "id": 617909708,
  "node_id": "MDU6SXNzdWU2MTc5MDk3MDg=",
  "number": 21079,
  "title": "Log showing Initializing fast sync bloom but not downloading state entries",
  "user": {
    "login": "sssubik",
    "id": 33048746,
    "node_id": "MDQ6VXNlcjMzMDQ4NzQ2",
    "avatar_url": "https://avatars.githubusercontent.com/u/33048746?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/sssubik",
    "html_url": "https://github.com/sssubik",
    "followers_url": "https://api.github.com/users/sssubik/followers",
    "following_url": "https://api.github.com/users/sssubik/following{/other_user}",
    "gists_url": "https://api.github.com/users/sssubik/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/sssubik/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/sssubik/subscriptions",
    "organizations_url": "https://api.github.com/users/sssubik/orgs",
    "repos_url": "https://api.github.com/users/sssubik/repos",
    "events_url": "https://api.github.com/users/sssubik/events{/privacy}",
    "received_events_url": "https://api.github.com/users/sssubik/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 7,
  "created_at": "2020-05-14T04:12:46Z",
  "updated_at": "2021-02-13T19:27:32Z",
  "closed_at": "2020-05-20T08:53:06Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "Hi there,\r\n\r\n#### System information\r\n\r\nGeth version: `1.9.13-stable`\r\nOS & Version: Ubuntu Server 18.04\r\nRAM: 60GB\r\nI/O rate: 800MB/S\r\n\r\n\r\n#### Expected behaviour\r\n**The log is showing that it is importing new block headers. And the new block headers do match the current mined blocks in the Etherscan. I expect that whole state entries get downloaded soon. The log is showing new state entries repeatedly but the new state entries processed state is downloading at very low rate, The state entries does not seem to be downloading.** \r\n\r\n#### Actual behaviour\r\n```\r\nINFO [05-14|06:04:02.038] Initializing fast sync bloom             items=3436696 errorrate=0.000 elapsed=9m14.069s\r\nINFO [05-14|06:04:02.120] Imported new block headers               count=1   elapsed=30.821s   number=10062029 hash=aebf12…ab1a34 age=1m14s\r\nINFO [05-14|06:04:02.128] Imported new block headers               count=2   elapsed=7.480ms   number=10062031 hash=74bf7b…24d8ce\r\nINFO [05-14|06:04:02.142] Imported new block headers               count=1   elapsed=13.755ms  number=10062032 hash=5ca546…7456e9\r\nINFO [05-14|06:04:44.981] Imported new block headers               count=1   elapsed=12.682s   number=10062033 hash=6e00eb…d3fe24 age=1m4s\r\nINFO [05-14|06:04:44.988] Imported new block headers               count=1   elapsed=6.207ms   number=10062034 hash=51deeb…be842f age=1m\r\nINFO [05-14|06:04:45.454] Initializing fast sync bloom             items=3497054 errorrate=0.000 elapsed=9m57.484s\r\nINFO [05-14|06:05:09.442] Imported new block headers               count=1   elapsed=16.600s   number=10062035 hash=29e2f7…69c575 age=1m12s\r\nINFO [05-14|06:05:09.653] Initializing fast sync bloom             items=3746960 errorrate=0.000 elapsed=10m21.683s\r\nINFO [05-14|06:05:18.941] Initializing fast sync bloom             items=3857125 errorrate=0.000 elapsed=10m30.972s\r\nWARN [05-14|06:05:19.358] Stalling state sync, dropping peer       peer=e129ee56cf1c16fc\r\nINFO [05-14|06:05:35.455] Initializing fast sync bloom             items=4197203 errorrate=0.000 elapsed=10m47.485s\r\nINFO [05-14|06:05:39.616] Imported new block headers               count=1   elapsed=5.952ms    number=10062036 hash=e80e01…5b4fb7 age=1m10s\r\nWARN [05-14|06:05:53.659] Dropping unsynced node during fast sync  id=f5007150c02553ae conn=dyndial addr=103.47.208.170:30303  type=Ethereum(J)/v1.13.0/Windows/Dev/Java/Dev\r\nINFO [05-14|06:06:09.240] Imported new block headers               count=1   elapsed=6.086s     number=10062037 hash=cd86df…cb7a46 age=1m29s\r\nINFO [05-14|06:06:16.748] Imported new block headers               count=1   elapsed=5.670ms    number=10062038 hash=a3d37d…1c2857 age=1m28s\r\nINFO [05-14|06:06:32.344] Initializing fast sync bloom             items=4437148 errorrate=0.000 elapsed=11m44.375s\r\nINFO [05-14|06:06:40.291] Imported new block headers               count=1   elapsed=5.853ms    number=10062039 hash=302fbe…f28e79 age=1m3s\r\nINFO [05-14|06:06:40.928] Initializing fast sync bloom             items=4516977 errorrate=0.000 elapsed=11m52.958s\r\nWARN [05-14|06:06:42.877] Dropping unsynced node during fastsync  id=c7736db4b337bd5e conn=inbound addr=47.57.174.99:60530    type=Geth/v1.9.14-stable-6d74d1e5/linux-amd64/go1.14.2\r\nINFO [05-14|06:06:50.563] Imported new block headers               count=1   elapsed=6.030ms    number=10062040 hash=d6c443…feb556\r\nINFO [05-14|06:06:54.198] Imported new block headers               count=1   elapsed=5.644ms    number=10062041 hash=893308…76491e\r\nINFO [05-14|06:06:57.834] Imported new block headers               count=1   elapsed=5.803ms    number=10062042 hash=d36ef3…0437ea\r\nINFO [05-14|06:07:01.472] Imported new block headers               count=1   elapsed=7.318ms    number=10062043 hash=716fa0…fd7d7a\r\n```\r\nThe log shows -- \"**Initializing fast sync bloom**\" but doesnt sync the state entries. The new state entries are now only sparsely being shown. How long will the sync take in average?\r\n### Steps to reproduce the behaviour\r\nPerform Geth full node fast sync \r\n",
  "closed_by": {
    "login": "sssubik",
    "id": 33048746,
    "node_id": "MDQ6VXNlcjMzMDQ4NzQ2",
    "avatar_url": "https://avatars.githubusercontent.com/u/33048746?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/sssubik",
    "html_url": "https://github.com/sssubik",
    "followers_url": "https://api.github.com/users/sssubik/followers",
    "following_url": "https://api.github.com/users/sssubik/following{/other_user}",
    "gists_url": "https://api.github.com/users/sssubik/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/sssubik/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/sssubik/subscriptions",
    "organizations_url": "https://api.github.com/users/sssubik/orgs",
    "repos_url": "https://api.github.com/users/sssubik/repos",
    "events_url": "https://api.github.com/users/sssubik/events{/privacy}",
    "received_events_url": "https://api.github.com/users/sssubik/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/21079/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/21079/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/628467753",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/21079#issuecomment-628467753",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/21079",
    "id": 628467753,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYyODQ2Nzc1Mw==",
    "user": {
      "login": "ligi",
      "id": 111600,
      "node_id": "MDQ6VXNlcjExMTYwMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/111600?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ligi",
      "html_url": "https://github.com/ligi",
      "followers_url": "https://api.github.com/users/ligi/followers",
      "following_url": "https://api.github.com/users/ligi/following{/other_user}",
      "gists_url": "https://api.github.com/users/ligi/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ligi/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ligi/subscriptions",
      "organizations_url": "https://api.github.com/users/ligi/orgs",
      "repos_url": "https://api.github.com/users/ligi/repos",
      "events_url": "https://api.github.com/users/ligi/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ligi/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-05-14T08:06:07Z",
    "updated_at": "2020-05-14T08:06:07Z",
    "author_association": "MEMBER",
    "body": "Do you have an SSD in the machine?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/628467753/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/628518643",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/21079#issuecomment-628518643",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/21079",
    "id": 628518643,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYyODUxODY0Mw==",
    "user": {
      "login": "sssubik",
      "id": 33048746,
      "node_id": "MDQ6VXNlcjMzMDQ4NzQ2",
      "avatar_url": "https://avatars.githubusercontent.com/u/33048746?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sssubik",
      "html_url": "https://github.com/sssubik",
      "followers_url": "https://api.github.com/users/sssubik/followers",
      "following_url": "https://api.github.com/users/sssubik/following{/other_user}",
      "gists_url": "https://api.github.com/users/sssubik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sssubik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sssubik/subscriptions",
      "organizations_url": "https://api.github.com/users/sssubik/orgs",
      "repos_url": "https://api.github.com/users/sssubik/repos",
      "events_url": "https://api.github.com/users/sssubik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sssubik/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-05-14T09:35:29Z",
    "updated_at": "2020-05-14T09:35:29Z",
    "author_association": "NONE",
    "body": "Yes there is SSD in the machine.\r\n```\r\nsudo dd if=/dev/zero of=/tmp/output conv=fdatasync bs=384k count=20 oflag=dsync; rm -f /tmp/output\r\n20+0 records in\r\n20+0 records out\r\n7864320 bytes (7,9 MB, 7,5 MiB) copied, 0,00851456 s, 924 MB/s\r\n```\r\nI dont know if the speed given is exact but it should be around that range.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/628518643/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/629933093",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/21079#issuecomment-629933093",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/21079",
    "id": 629933093,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYyOTkzMzA5Mw==",
    "user": {
      "login": "sssubik",
      "id": 33048746,
      "node_id": "MDQ6VXNlcjMzMDQ4NzQ2",
      "avatar_url": "https://avatars.githubusercontent.com/u/33048746?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sssubik",
      "html_url": "https://github.com/sssubik",
      "followers_url": "https://api.github.com/users/sssubik/followers",
      "following_url": "https://api.github.com/users/sssubik/following{/other_user}",
      "gists_url": "https://api.github.com/users/sssubik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sssubik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sssubik/subscriptions",
      "organizations_url": "https://api.github.com/users/sssubik/orgs",
      "repos_url": "https://api.github.com/users/sssubik/repos",
      "events_url": "https://api.github.com/users/sssubik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sssubik/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-05-18T04:03:18Z",
    "updated_at": "2020-05-18T04:03:18Z",
    "author_association": "NONE",
    "body": "The sync is complete. Just needed more time I guess.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/629933093/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/630176161",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/21079#issuecomment-630176161",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/21079",
    "id": 630176161,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYzMDE3NjE2MQ==",
    "user": {
      "login": "franono",
      "id": 20502751,
      "node_id": "MDQ6VXNlcjIwNTAyNzUx",
      "avatar_url": "https://avatars.githubusercontent.com/u/20502751?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/franono",
      "html_url": "https://github.com/franono",
      "followers_url": "https://api.github.com/users/franono/followers",
      "following_url": "https://api.github.com/users/franono/following{/other_user}",
      "gists_url": "https://api.github.com/users/franono/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/franono/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/franono/subscriptions",
      "organizations_url": "https://api.github.com/users/franono/orgs",
      "repos_url": "https://api.github.com/users/franono/repos",
      "events_url": "https://api.github.com/users/franono/events{/privacy}",
      "received_events_url": "https://api.github.com/users/franono/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-05-18T13:16:59Z",
    "updated_at": "2020-05-18T13:16:59Z",
    "author_association": "NONE",
    "body": "@sssubik I'm currently fast syncing an ETH node, do you by any chance know how many total state entries there are at the moment? I'm at 570M+ and still syncing for weeks. :(",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/630176161/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/630196383",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/21079#issuecomment-630196383",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/21079",
    "id": 630196383,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYzMDE5NjM4Mw==",
    "user": {
      "login": "sssubik",
      "id": 33048746,
      "node_id": "MDQ6VXNlcjMzMDQ4NzQ2",
      "avatar_url": "https://avatars.githubusercontent.com/u/33048746?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sssubik",
      "html_url": "https://github.com/sssubik",
      "followers_url": "https://api.github.com/users/sssubik/followers",
      "following_url": "https://api.github.com/users/sssubik/following{/other_user}",
      "gists_url": "https://api.github.com/users/sssubik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sssubik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sssubik/subscriptions",
      "organizations_url": "https://api.github.com/users/sssubik/orgs",
      "repos_url": "https://api.github.com/users/sssubik/repos",
      "events_url": "https://api.github.com/users/sssubik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sssubik/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-05-18T13:50:50Z",
    "updated_at": "2020-05-18T13:50:50Z",
    "author_association": "NONE",
    "body": "Hey @franono. Seems like you are very close. But is it really 570M+. I dont know the exact value as I just left it in night and it was completely synced during morning. But last time that I had checked it was around 510M+",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/630196383/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/630296947",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/21079#issuecomment-630296947",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/21079",
    "id": 630296947,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYzMDI5Njk0Nw==",
    "user": {
      "login": "franono",
      "id": 20502751,
      "node_id": "MDQ6VXNlcjIwNTAyNzUx",
      "avatar_url": "https://avatars.githubusercontent.com/u/20502751?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/franono",
      "html_url": "https://github.com/franono",
      "followers_url": "https://api.github.com/users/franono/followers",
      "following_url": "https://api.github.com/users/franono/following{/other_user}",
      "gists_url": "https://api.github.com/users/franono/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/franono/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/franono/subscriptions",
      "organizations_url": "https://api.github.com/users/franono/orgs",
      "repos_url": "https://api.github.com/users/franono/repos",
      "events_url": "https://api.github.com/users/franono/events{/privacy}",
      "received_events_url": "https://api.github.com/users/franono/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-05-18T16:30:04Z",
    "updated_at": "2020-05-18T16:30:04Z",
    "author_association": "NONE",
    "body": "> Hey @franono. Seems like you are very close. But is it really 570M+. I dont know the exact value as I just left it in night and it was completely synced during morning. But last time that I had checked it was around 510M+\r\n\r\nYeah, it's pretty weird. That's what I read. Latest log for example is:\r\n`INFO [05-18|16:28:49.727] Imported new state entries               count=381  elapsed=6.103ms      processed=571682095 pending=427   retry=0   duplicate=25510 unexpected=126629`",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/630296947/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/778666278",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/21079#issuecomment-778666278",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/21079",
    "id": 778666278,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc3ODY2NjI3OA==",
    "user": {
      "login": "TennisBowling",
      "id": 33209196,
      "node_id": "MDQ6VXNlcjMzMjA5MTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/33209196?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TennisBowling",
      "html_url": "https://github.com/TennisBowling",
      "followers_url": "https://api.github.com/users/TennisBowling/followers",
      "following_url": "https://api.github.com/users/TennisBowling/following{/other_user}",
      "gists_url": "https://api.github.com/users/TennisBowling/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TennisBowling/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TennisBowling/subscriptions",
      "organizations_url": "https://api.github.com/users/TennisBowling/orgs",
      "repos_url": "https://api.github.com/users/TennisBowling/repos",
      "events_url": "https://api.github.com/users/TennisBowling/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TennisBowling/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-02-13T19:27:32Z",
    "updated_at": "2021-02-13T19:27:32Z",
    "author_association": "NONE",
    "body": "@sssubik did you fix the \"Initializing fast sync bloom\" by just waiting it out?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/778666278/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
