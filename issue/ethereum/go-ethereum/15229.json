{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15229",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15229/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15229/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15229/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/15229",
  "id": 262274446,
  "node_id": "MDU6SXNzdWUyNjIyNzQ0NDY=",
  "number": 15229,
  "title": "[iOS] Unable to join Rinkeby. GethNode always defaults to Homestead",
  "user": {
    "login": "ronaldmannak",
    "id": 455476,
    "node_id": "MDQ6VXNlcjQ1NTQ3Ng==",
    "avatar_url": "https://avatars.githubusercontent.com/u/455476?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/ronaldmannak",
    "html_url": "https://github.com/ronaldmannak",
    "followers_url": "https://api.github.com/users/ronaldmannak/followers",
    "following_url": "https://api.github.com/users/ronaldmannak/following{/other_user}",
    "gists_url": "https://api.github.com/users/ronaldmannak/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/ronaldmannak/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/ronaldmannak/subscriptions",
    "organizations_url": "https://api.github.com/users/ronaldmannak/orgs",
    "repos_url": "https://api.github.com/users/ronaldmannak/repos",
    "events_url": "https://api.github.com/users/ronaldmannak/events{/privacy}",
    "received_events_url": "https://api.github.com/users/ronaldmannak/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 4,
  "created_at": "2017-10-03T01:02:52Z",
  "updated_at": "2017-10-04T06:56:20Z",
  "closed_at": "2017-10-03T13:39:40Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "#### System information\r\n\r\nGeth version: `iGeth/v1.7.0-stable/darwin-arm64/go1.7.1`\r\nOS & Version: iOS\r\n\r\n#### Expected behaviour\r\nWhen GethNodeConfig is set to network ID 4, Node will join the Rinkeby network.\r\n\r\n#### Actual behaviour\r\nNode will always join Homestead (id 1), no matter what id is passed to the ```setEthereumNetworkID``` method, as can be seen by the EthereumClient logs below.\r\n\r\n````\r\nINFO [10-03|00:52:55] Starting peer-to-peer node               instance=iGeth/v1.7.0-stable/darwin-arm64/go1.7.1\r\nINFO [10-03|00:52:55] Allocated cache and file handles         database=/var/mobile/Containers/Data/Application/57A72FE9-C958-46F6-909B-C66200EF6573/Documents/iGeth/lightchaindata cache=16 handles=16\r\nINFO [10-03|00:52:55] Initialised chain configuration          config=\"{ChainID: 1 Homestead: 1150000 DAO: 1920000 DAOSupport: true EIP150: 2463000 EIP155: 2675000 EIP158: 2675000 Byzantium: 9223372036854775807 Engine: ethash}\"\r\n````\r\n\r\n#### Steps to reproduce the behaviour\r\n\r\n````\r\nlet config = GethNewNodeConfig()!\r\nconfig.setEthereumNetworkID(4) // Rinkeby\r\nvar error: NSError?\r\ngethNode = GethNewNode(NSSearchPathForDirectoriesInDomains(.documentDirectory, .userDomainMask, true).first!, config, &error)\r\nguard error == nil else { print(error!.localizedDescription) }\r\n        \r\ndo {\r\n    try gethNode.start()\r\n    gethClient = try gethNode.getEthereumClient()\r\n} catch { print(error) }\r\n````\r\n\r\nThe code above will produce the log quoted above.",
  "closed_by": {
    "login": "karalabe",
    "id": 129561,
    "node_id": "MDQ6VXNlcjEyOTU2MQ==",
    "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/karalabe",
    "html_url": "https://github.com/karalabe",
    "followers_url": "https://api.github.com/users/karalabe/followers",
    "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
    "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
    "organizations_url": "https://api.github.com/users/karalabe/orgs",
    "repos_url": "https://api.github.com/users/karalabe/repos",
    "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
    "received_events_url": "https://api.github.com/users/karalabe/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15229/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15229/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/333711733",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/15229#issuecomment-333711733",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15229",
    "id": 333711733,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzMzcxMTczMw==",
    "user": {
      "login": "ronaldmannak",
      "id": 455476,
      "node_id": "MDQ6VXNlcjQ1NTQ3Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/455476?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ronaldmannak",
      "html_url": "https://github.com/ronaldmannak",
      "followers_url": "https://api.github.com/users/ronaldmannak/followers",
      "following_url": "https://api.github.com/users/ronaldmannak/following{/other_user}",
      "gists_url": "https://api.github.com/users/ronaldmannak/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ronaldmannak/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ronaldmannak/subscriptions",
      "organizations_url": "https://api.github.com/users/ronaldmannak/orgs",
      "repos_url": "https://api.github.com/users/ronaldmannak/repos",
      "events_url": "https://api.github.com/users/ronaldmannak/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ronaldmannak/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-10-03T01:21:56Z",
    "updated_at": "2017-10-03T01:21:56Z",
    "author_association": "NONE",
    "body": "iOS version 11.0.1",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/333711733/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/333783124",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/15229#issuecomment-333783124",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15229",
    "id": 333783124,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzMzc4MzEyNA==",
    "user": {
      "login": "ligi",
      "id": 111600,
      "node_id": "MDQ6VXNlcjExMTYwMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/111600?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ligi",
      "html_url": "https://github.com/ligi",
      "followers_url": "https://api.github.com/users/ligi/followers",
      "following_url": "https://api.github.com/users/ligi/following{/other_user}",
      "gists_url": "https://api.github.com/users/ligi/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ligi/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ligi/subscriptions",
      "organizations_url": "https://api.github.com/users/ligi/orgs",
      "repos_url": "https://api.github.com/users/ligi/repos",
      "events_url": "https://api.github.com/users/ligi/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ligi/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-10-03T09:04:51Z",
    "updated_at": "2017-10-03T09:04:51Z",
    "author_association": "MEMBER",
    "body": "Have you tried setting the genesis?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/333783124/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/333844938",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/15229#issuecomment-333844938",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15229",
    "id": 333844938,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzMzg0NDkzOA==",
    "user": {
      "login": "karalabe",
      "id": 129561,
      "node_id": "MDQ6VXNlcjEyOTU2MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/karalabe",
      "html_url": "https://github.com/karalabe",
      "followers_url": "https://api.github.com/users/karalabe/followers",
      "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
      "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
      "organizations_url": "https://api.github.com/users/karalabe/orgs",
      "repos_url": "https://api.github.com/users/karalabe/repos",
      "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/karalabe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-10-03T13:39:40Z",
    "updated_at": "2017-10-03T13:39:40Z",
    "author_association": "MEMBER",
    "body": "The network ID is a networking related option, that can be used to separate multiple physical networks from one another. The chain id is a blockchain related option. It's a bit of a legacy that we have both of them, usually they are the same and should be set to the same, alas both. You'll need to set the genesis to Rinkeby if you want to joint that.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/333844938/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/334065982",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/15229#issuecomment-334065982",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15229",
    "id": 334065982,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzNDA2NTk4Mg==",
    "user": {
      "login": "ronaldmannak",
      "id": 455476,
      "node_id": "MDQ6VXNlcjQ1NTQ3Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/455476?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ronaldmannak",
      "html_url": "https://github.com/ronaldmannak",
      "followers_url": "https://api.github.com/users/ronaldmannak/followers",
      "following_url": "https://api.github.com/users/ronaldmannak/following{/other_user}",
      "gists_url": "https://api.github.com/users/ronaldmannak/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ronaldmannak/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ronaldmannak/subscriptions",
      "organizations_url": "https://api.github.com/users/ronaldmannak/orgs",
      "repos_url": "https://api.github.com/users/ronaldmannak/repos",
      "events_url": "https://api.github.com/users/ronaldmannak/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ronaldmannak/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-10-04T06:56:20Z",
    "updated_at": "2017-10-04T06:56:20Z",
    "author_association": "NONE",
    "body": "^^ Thanks both of you.\r\n\r\nFor future reference, this is the correct way of joining Rinkeby in Swift:\r\n\r\n````\r\n// Create node configuration\r\nlet config = GethNewNodeConfig()!\r\nconfig.setEthereumNetworkID(4) // Doesn't matter, but best to set it to 4, Rinkeby\r\nconfig.setEthereumGenesis(GethRinkebyGenesis()) // get Rinkeby genesis block\r\n\r\n// Create node in Rinkeby directory so we can change networks on the fly if needed\r\nvar error: NSError?\r\ngethNode = GethNewNode(NSSearchPathForDirectoriesInDomains(.documentDirectory, .userDomainMask, true).first! + \"/\" + \"Rinkeby\", config, &error)\r\n\r\n// Start node\r\ntry! gethNode.start()\r\ngethClient = try! gethNode.getEthereumClient()\r\n````",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/334065982/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
