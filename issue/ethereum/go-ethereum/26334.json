{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/26334",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/26334/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/26334/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/26334/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/26334",
  "id": 1484706801,
  "node_id": "I_kwDOAOvK985YftPx",
  "number": 26334,
  "title": " Unclean shutdown detected",
  "user": {
    "login": "2019jack",
    "id": 49616005,
    "node_id": "MDQ6VXNlcjQ5NjE2MDA1",
    "avatar_url": "https://avatars.githubusercontent.com/u/49616005?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/2019jack",
    "html_url": "https://github.com/2019jack",
    "followers_url": "https://api.github.com/users/2019jack/followers",
    "following_url": "https://api.github.com/users/2019jack/following{/other_user}",
    "gists_url": "https://api.github.com/users/2019jack/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/2019jack/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/2019jack/subscriptions",
    "organizations_url": "https://api.github.com/users/2019jack/orgs",
    "repos_url": "https://api.github.com/users/2019jack/repos",
    "events_url": "https://api.github.com/users/2019jack/events{/privacy}",
    "received_events_url": "https://api.github.com/users/2019jack/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 72233650,
      "node_id": "MDU6TGFiZWw3MjIzMzY1MA==",
      "url": "https://api.github.com/repos/ethereum/go-ethereum/labels/type:bug",
      "name": "type:bug",
      "color": "FF5E5E",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 1,
  "created_at": "2022-12-08T14:01:11Z",
  "updated_at": "2022-12-09T09:14:34Z",
  "closed_at": "2022-12-09T09:14:34Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "#### System information\r\n\r\nGeth version: geth version 1.10.26-stable buildnum=28212\r\nCL client & version lighthouse v3.2.1\r\nOS & Version: ubuntu20.04\r\nCommit hash : e5eb32acee19cc9fca6a03b10283b7484246b15a\r\n\r\n#### Expected behaviour\r\n\r\ngeth --goerli --http --http.addr=0.0.0.0 --http.port=8545 --http.vhosts=* --http.api=db,eth,net,engine,rpc,web3 --authrpc.jwtsecret=/root/jwt/jwt.hex --authrpc.addr=0.0.0.0 --authrpc.port=8551 --authrpc.vhosts=* --metrics --metrics.addr=0.0.0.0 --metrics.port=6060\r\n\r\n#### Actual behaviour\r\n```\r\n{\"log\":\"WARN [12-08|13:31:54.979] Head state missing, repairing            number=8,091,298 hash=68b169..241838 snaproot=b8fa9e..ae064d\\n\",\"stream\":\"stderr\",\"time\":\"2022-12-08T13:31:54.979644379Z\"}\r\n{\"log\":\"WARN [12-08|13:32:40.552] SetHead invalidated safe block \\n\",\"stream\":\"stderr\",\"time\":\"2022-12-08T13:32:40.553075246Z\"}\r\n{\"log\":\"ERROR[12-08|13:32:40.552] SetHead invalidated finalized block \\n\",\"stream\":\"stderr\",\"time\":\"2022-12-08T13:32:40.553121653Z\"}\r\n{\"log\":\"INFO [12-08|13:32:40.554] Loaded most recent local header          number=8,091,298 hash=68b169..241838 td=10,790,000 age=1d2h33m\\n\",\"stream\":\"stderr\",\"time\":\"2022-12-08T13:32:40.554527942Z\"}\r\n{\"log\":\"INFO [12-08|13:32:40.554] Loaded most recent local full block      number=0         hash=bf7e33..b88c1a td=1          age=3y10mo4w\\n\",\"stream\":\"stderr\",\"time\":\"2022-12-08T13:32:40.554560545Z\"}\r\n{\"log\":\"INFO [12-08|13:32:40.554] Loaded most recent local fast block      number=8,091,298 hash=68b169..241838 td=10,790,000 age=1d2h33m\\n\",\"stream\":\"stderr\",\"time\":\"2022-12-08T13:32:40.554639984Z\"}\r\n{\"log\":\"INFO [12-08|13:32:40.554] Loaded last fast-sync pivot marker       number=8,047,175\\n\",\"stream\":\"stderr\",\"time\":\"2022-12-08T13:32:40.554669991Z\"}\r\n{\"log\":\"WARN [12-08|13:32:40.554] Enabling snapshot recovery               chainhead=0 diskbase=8,097,765\\n\",\"stream\":\"stderr\",\"time\":\"2022-12-08T13:32:40.554943846Z\"}\r\n{\"log\":\"WARN [12-08|13:32:40.556] Loaded snapshot journal                  diffs=missing\\n\",\"stream\":\"stderr\",\"time\":\"2022-12-08T13:32:40.556114522Z\"}\r\n{\"log\":\"WARN [12-08|13:32:40.556] Snapshot is not continuous with chain    snaproot=b8fa9e..ae064d chainroot=5d6cde..8b3008\\n\",\"stream\":\"stderr\",\"time\":\"2022-12-08T13:32:40.55611806Z\"}\r\n{\"log\":\"INFO [12-08|13:32:40.556] Loaded local transaction journal         transactions=0 dropped=0\\n\",\"stream\":\"stderr\",\"time\":\"2022-12-08T13:32:40.556219831Z\"}\r\n{\"log\":\"INFO [12-08|13:32:40.556] Regenerated local transaction journal    transactions=0 accounts=0\\n\",\"stream\":\"stderr\",\"time\":\"2022-12-08T13:32:40.556276638Z\"}\r\n{\"log\":\"INFO [12-08|13:32:40.556] Chain post-merge, sync via beacon client \\n\",\"stream\":\"stderr\",\"time\":\"2022-12-08T13:32:40.556720605Z\"}\r\n{\"log\":\"INFO [12-08|13:32:40.556] Gasprice oracle is ignoring threshold set threshold=2\\n\",\"stream\":\"stderr\",\"time\":\"2022-12-08T13:32:40.556853525Z\"}\r\n{\"log\":\"WARN [12-08|13:32:40.556] Old unclean shutdowns found              count=11\\n\",\"stream\":\"stderr\",\"time\":\"2022-12-08T13:32:40.557060756Z\"}\r\n{\"log\":\"WARN [12-08|13:32:40.557] Unclean shutdown detected                booted=2022-11-27T17:16:03+0000 age=1w3d20h\\n\",\"stream\":\"stderr\",\"time\":\"2022-12-08T13:32:40.557086945Z\"}\r\n{\"log\":\"WARN [12-08|13:32:40.557] Unclean shutdown detected                booted=2022-11-30T07:23:41+0000 age=1w1d6h\\n\",\"stream\":\"stderr\",\"time\":\"2022-12-08T13:32:40.55708964Z\"}\r\n{\"log\":\"WARN [12-08|13:32:40.557] Unclean shutdown detected                booted=2022-11-30T08:20:18+0000 age=1w1d5h\\n\",\"stream\":\"stderr\",\"time\":\"2022-12-08T13:32:40.557107684Z\"}\r\n{\"log\":\"WARN [12-08|13:32:40.557] Unclean shutdown detected                booted=2022-12-01T01:30:40+0000 age=1w12h2m\\n\",\"stream\":\"stderr\",\"time\":\"2022-12-08T13:32:40.557110199Z\"}\r\n{\"log\":\"WARN [12-08|13:32:40.557] Unclean shutdown detected                booted=2022-12-05T05:31:25+0000 age=3d8h1m\\n\",\"stream\":\"stderr\",\"time\":\"2022-12-08T13:32:40.557123533Z\"}\r\n{\"log\":\"WARN [12-08|13:32:40.557] Unclean shutdown detected                booted=2022-12-05T08:49:09+0000 age=3d4h43m\\n\",\"stream\":\"stderr\",\"time\":\"2022-12-08T13:32:40.557126058Z\"}\r\n{\"log\":\"WARN [12-08|13:32:40.557] Unclean shutdown detected                booted=2022-12-07T07:02:30+0000 age=1d6h30m\\n\",\"stream\":\"stderr\",\"time\":\"2022-12-08T13:32:40.557143091Z\"}\r\n{\"log\":\"WARN [12-08|13:32:40.557] Unclean shutdown detected                booted=2022-12-07T18:13:28+0000 age=19h19m12s\\n\",\"stream\":\"stderr\",\"time\":\"2022-12-08T13:32:40.557152409Z\"}\r\n{\"log\":\"WARN [12-08|13:32:40.557] Unclean shutdown detected                booted=2022-12-08T08:16:22+0000 age=5h16m18s\\n\",\"stream\":\"stderr\",\"time\":\"2022-12-08T13:32:40.557171825Z\"}\r\n{\"log\":\"WARN [12-08|13:32:40.557] Unclean shutdown detected                booted=2022-12-08T12:46:22+0000 age=46m18s\\n\",\"stream\":\"st\r\nderr\",\"time\":\"2022-12-08T13:32:40.55717467Z\"}\r\n{\"log\":\"WARN [12-08|13:32:40.557] Unclean shutdown detected                booted=2022-12-08T13:25:01+0000 age=7m39s\\n\",\"stream\":\"stderr\",\"time\":\"2022-12-08T13:32:40.557176604Z\"}\r\n{\"log\":\"WARN [12-08|13:32:40.557] Engine API enabled                       protocol=eth\\n\",\"stream\":\"stderr\",\"time\":\"2022-12-08T13:32:40.557548454Z\"}\r\n{\"log\":\"INFO [12-08|13:32:40.564] Starting peer-to-peer node               instance=Geth/v1.10.26-stable-e5eb32ac/linux-amd64/go1.18.8\\n\",\"stream\":\"stderr\",\"time\":\"2022-12-08T13:32:40.564949491Z\"}\r\n{\"log\":\"INFO [12-08|13:32:40.608] New local node record                    seq=1,668,522,444,645 id=7c430c5b6ab80445 ip=127.0.0.1 udp=30303 tcp=30303\\n\",\"stream\":\"stderr\",\"time\":\"2022-12-08T13:32:40.608289842Z\"}\r\n{\"log\":\"INFO [12-08|13:32:40.608] Started P2P networking                   self=enode://bca9011d21e612f4d358e9f1eefc422124fb1232ef4138b4428302fc99bf5e1f3e0c1e14031715c529799074083d0b58cae25902dc0ada04db55a26c4aaf3fef@127.0.0.1:30303\\n\",\"stream\":\"stderr\",\"time\":\"2022-12-08T13:32:40.608818879Z\"}\r\n{\"log\":\"INFO [12-08|13:32:40.610] IPC endpoint opened                      url=/root/.ethereum/goerli/geth.ipc\\n\",\"stream\":\"stderr\",\"time\":\"2022-12-08T13:32:40.610223015Z\"}\r\n{\"log\":\"ERROR[12-08|13:32:40.610] Unavailable modules in HTTP API list     unavailable=[db] available=\\\"[admin debug web3 eth txpool personal clique miner net]\\\"\\n\",\"stream\":\"stderr\",\"time\":\"2022-12-08T13:32:40.610262609Z\"}\r\n{\"log\":\"INFO [12-08|13:32:40.610] Loaded JWT secret file                   path=/root/jwt/jwt.hex crc32=0x26f1bcab\\n\",\"stream\":\"stderr\",\"time\":\"2022-12-08T13:32:40.61082587Z\"}\r\n{\"log\":\"INFO [12-08|13:32:40.611] HTTP server started                      endpoint=[::]:8545 auth=false prefix= cors= vhosts=*\\n\",\"stream\":\"stderr\",\"time\":\"2022-12-08T13:32:40.611185088Z\"}\r\n{\"log\":\"INFO [12-08|13:32:40.611] WebSocket enabled                        url=ws://[::]:8551\\n\",\"stream\":\"stderr\",\"time\":\"2022-12-08T13:32:40.611189616Z\"}\r\n{\"log\":\"INFO [12-08|13:32:40.611] HTTP server started                      endpoint=[::]:8551 auth=true  prefix= cors=localhost vhosts=*\\n\",\"stream\":\"stderr\",\"time\":\"2022-12-08T13:32:40.61120735Z\"}\r\n{\"log\":\"INFO [12-08|13:32:48.040] New local node record                    seq=1,668,522,444,646 id=7c430c5b6ab80445 ip=152.32.252.121 udp=30303 tcp=30303\\n\",\"stream\":\"stderr\",\"time\":\"2022-12-08T13:32:48.040326962Z\"}\r\n\r\n\r\n",
  "closed_by": {
    "login": "karalabe",
    "id": 129561,
    "node_id": "MDQ6VXNlcjEyOTU2MQ==",
    "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/karalabe",
    "html_url": "https://github.com/karalabe",
    "followers_url": "https://api.github.com/users/karalabe/followers",
    "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
    "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
    "organizations_url": "https://api.github.com/users/karalabe/orgs",
    "repos_url": "https://api.github.com/users/karalabe/repos",
    "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
    "received_events_url": "https://api.github.com/users/karalabe/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/26334/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/26334/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1344048095",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/26334#issuecomment-1344048095",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/26334",
    "id": 1344048095,
    "node_id": "IC_kwDOAOvK985QHIvf",
    "user": {
      "login": "karalabe",
      "id": 129561,
      "node_id": "MDQ6VXNlcjEyOTU2MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/karalabe",
      "html_url": "https://github.com/karalabe",
      "followers_url": "https://api.github.com/users/karalabe/followers",
      "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
      "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
      "organizations_url": "https://api.github.com/users/karalabe/orgs",
      "repos_url": "https://api.github.com/users/karalabe/repos",
      "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/karalabe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-12-09T09:14:34Z",
    "updated_at": "2022-12-09T09:14:34Z",
    "author_association": "MEMBER",
    "body": "Unclean shutdown means you are killing your node, not turning it off gracefully. We've added those logs so people see that they are murdering their nodes, which will eventually lead to a data corruption. Please make sure you terminate Geth gracefully and give it time to shut down.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1344048095/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
