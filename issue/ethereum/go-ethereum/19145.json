{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/19145",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/19145/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/19145/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/19145/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/19145",
  "id": 412645698,
  "node_id": "MDU6SXNzdWU0MTI2NDU2OTg=",
  "number": 19145,
  "title": "Geth 1.9.x returns zero for non-zero storage variables in any contracts",
  "user": {
    "login": "D-Nice",
    "id": 2888248,
    "node_id": "MDQ6VXNlcjI4ODgyNDg=",
    "avatar_url": "https://avatars.githubusercontent.com/u/2888248?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/D-Nice",
    "html_url": "https://github.com/D-Nice",
    "followers_url": "https://api.github.com/users/D-Nice/followers",
    "following_url": "https://api.github.com/users/D-Nice/following{/other_user}",
    "gists_url": "https://api.github.com/users/D-Nice/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/D-Nice/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/D-Nice/subscriptions",
    "organizations_url": "https://api.github.com/users/D-Nice/orgs",
    "repos_url": "https://api.github.com/users/D-Nice/repos",
    "events_url": "https://api.github.com/users/D-Nice/events{/privacy}",
    "received_events_url": "https://api.github.com/users/D-Nice/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 4,
  "created_at": "2019-02-20T21:51:37Z",
  "updated_at": "2019-06-25T16:35:22Z",
  "closed_at": "2019-06-24T08:55:37Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "Hi there,\r\n\r\nplease note that this is an issue tracker reserved for bug reports and feature requests.\r\n\r\nFor general questions please use the gitter channel or the Ethereum stack exchange at https://ethereum.stackexchange.com.\r\n\r\n#### System information\r\n\r\nGeth version: Geth/v1.9.0-unstable-5b8ae788/linux-amd64/go1.11.5 under Docker using ethereum/client-go:latest\r\nOS & Version: Ubuntu 16.04\r\n\r\n#### Expected behaviour\r\n\r\nReading storage via a constant function call and getting non-zero result for something that is non-zero.\r\n\r\n#### Actual behaviour\r\n\r\nGetting zero as the result, for something in storage that is non-zero, breaking a number of internal scripts. (Oddly restarting these script many times over, like 20 or so, it sometimes yields the result, same issue encountered with varying web3s from 0.14 to 0.18 to whatever remix/metamask use). \r\n\r\n\r\n#### Steps to reproduce the behaviour\r\n\r\nDeploy a contract on Remix, with a function where you can set a public storage variable. After deployment, and subsequently setting it in another transaction, try reading it, and it will be 0. Use stable geth, and you get its non-zero value (e.g. 3), switch back to unstable, and it's 0 again. Tested using metamask with custom RPC set to geth stable and unstable running Goerli. Same issues apply with local js scripts for any other contract that read storage, using stable. Only tested on Goerli.\r\n",
  "closed_by": {
    "login": "holiman",
    "id": 142290,
    "node_id": "MDQ6VXNlcjE0MjI5MA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/142290?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/holiman",
    "html_url": "https://github.com/holiman",
    "followers_url": "https://api.github.com/users/holiman/followers",
    "following_url": "https://api.github.com/users/holiman/following{/other_user}",
    "gists_url": "https://api.github.com/users/holiman/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/holiman/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/holiman/subscriptions",
    "organizations_url": "https://api.github.com/users/holiman/orgs",
    "repos_url": "https://api.github.com/users/holiman/repos",
    "events_url": "https://api.github.com/users/holiman/events{/privacy}",
    "received_events_url": "https://api.github.com/users/holiman/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/19145/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/19145/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/466738603",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/19145#issuecomment-466738603",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/19145",
    "id": 466738603,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2NjczODYwMw==",
    "user": {
      "login": "xiaods",
      "id": 37678,
      "node_id": "MDQ6VXNlcjM3Njc4",
      "avatar_url": "https://avatars.githubusercontent.com/u/37678?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/xiaods",
      "html_url": "https://github.com/xiaods",
      "followers_url": "https://api.github.com/users/xiaods/followers",
      "following_url": "https://api.github.com/users/xiaods/following{/other_user}",
      "gists_url": "https://api.github.com/users/xiaods/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/xiaods/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/xiaods/subscriptions",
      "organizations_url": "https://api.github.com/users/xiaods/orgs",
      "repos_url": "https://api.github.com/users/xiaods/repos",
      "events_url": "https://api.github.com/users/xiaods/events{/privacy}",
      "received_events_url": "https://api.github.com/users/xiaods/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-02-24T06:26:51Z",
    "updated_at": "2019-02-24T06:26:51Z",
    "author_association": "NONE",
    "body": "no sample func, can't easily reproduce this bug.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/466738603/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/469729479",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/19145#issuecomment-469729479",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/19145",
    "id": 469729479,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2OTcyOTQ3OQ==",
    "user": {
      "login": "ESchouten",
      "id": 9130193,
      "node_id": "MDQ6VXNlcjkxMzAxOTM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9130193?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ESchouten",
      "html_url": "https://github.com/ESchouten",
      "followers_url": "https://api.github.com/users/ESchouten/followers",
      "following_url": "https://api.github.com/users/ESchouten/following{/other_user}",
      "gists_url": "https://api.github.com/users/ESchouten/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ESchouten/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ESchouten/subscriptions",
      "organizations_url": "https://api.github.com/users/ESchouten/orgs",
      "repos_url": "https://api.github.com/users/ESchouten/repos",
      "events_url": "https://api.github.com/users/ESchouten/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ESchouten/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-03-05T15:43:00Z",
    "updated_at": "2019-03-05T15:43:00Z",
    "author_association": "NONE",
    "body": "Had the same issue querying a list of addresses in a smart contract, sometimes returning the addresses, but most of the time an empty response.\r\nDowngrading to 1.8.23 resolved this issue, which was an inconvenience since 1.9 upgrades the database, making it incompatible with 1.8.x.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/469729479/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/504921568",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/19145#issuecomment-504921568",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/19145",
    "id": 504921568,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUwNDkyMTU2OA==",
    "user": {
      "login": "holiman",
      "id": 142290,
      "node_id": "MDQ6VXNlcjE0MjI5MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/142290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/holiman",
      "html_url": "https://github.com/holiman",
      "followers_url": "https://api.github.com/users/holiman/followers",
      "following_url": "https://api.github.com/users/holiman/following{/other_user}",
      "gists_url": "https://api.github.com/users/holiman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/holiman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/holiman/subscriptions",
      "organizations_url": "https://api.github.com/users/holiman/orgs",
      "repos_url": "https://api.github.com/users/holiman/repos",
      "events_url": "https://api.github.com/users/holiman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/holiman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-06-24T08:55:37Z",
    "updated_at": "2019-06-24T08:55:37Z",
    "author_association": "MEMBER",
    "body": "I believe this has been fixed by #19737, and that the underlying cause was internal timeout. With the changes, an internal timeout will return an error instead of an empty result. Please reopen if it persists even after the changes. ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/504921568/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/505523374",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/19145#issuecomment-505523374",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/19145",
    "id": 505523374,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUwNTUyMzM3NA==",
    "user": {
      "login": "D-Nice",
      "id": 2888248,
      "node_id": "MDQ6VXNlcjI4ODgyNDg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2888248?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/D-Nice",
      "html_url": "https://github.com/D-Nice",
      "followers_url": "https://api.github.com/users/D-Nice/followers",
      "following_url": "https://api.github.com/users/D-Nice/following{/other_user}",
      "gists_url": "https://api.github.com/users/D-Nice/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/D-Nice/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/D-Nice/subscriptions",
      "organizations_url": "https://api.github.com/users/D-Nice/orgs",
      "repos_url": "https://api.github.com/users/D-Nice/repos",
      "events_url": "https://api.github.com/users/D-Nice/events{/privacy}",
      "received_events_url": "https://api.github.com/users/D-Nice/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-06-25T16:35:22Z",
    "updated_at": "2019-06-25T16:35:22Z",
    "author_association": "NONE",
    "body": "thanks, will give new geth a try again at some point, and report here if similar issues end up being encountered!",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/505523374/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
