{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/1892",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/1892/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/1892/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/1892/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/1892",
  "id": 110659559,
  "node_id": "MDU6SXNzdWUxMTA2NTk1NTk=",
  "number": 1892,
  "title": "geth hangs and uses 100% CPU when running any js file",
  "user": {
    "login": "iurimatias",
    "id": 176720,
    "node_id": "MDQ6VXNlcjE3NjcyMA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/176720?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/iurimatias",
    "html_url": "https://github.com/iurimatias",
    "followers_url": "https://api.github.com/users/iurimatias/followers",
    "following_url": "https://api.github.com/users/iurimatias/following{/other_user}",
    "gists_url": "https://api.github.com/users/iurimatias/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/iurimatias/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/iurimatias/subscriptions",
    "organizations_url": "https://api.github.com/users/iurimatias/orgs",
    "repos_url": "https://api.github.com/users/iurimatias/repos",
    "events_url": "https://api.github.com/users/iurimatias/events{/privacy}",
    "received_events_url": "https://api.github.com/users/iurimatias/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 72233650,
      "node_id": "MDU6TGFiZWw3MjIzMzY1MA==",
      "url": "https://api.github.com/repos/ethereum/go-ethereum/labels/type:bug",
      "name": "type:bug",
      "color": "FF5E5E",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": {
    "login": "bas-vk",
    "id": 4280775,
    "node_id": "MDQ6VXNlcjQyODA3NzU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/4280775?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/bas-vk",
    "html_url": "https://github.com/bas-vk",
    "followers_url": "https://api.github.com/users/bas-vk/followers",
    "following_url": "https://api.github.com/users/bas-vk/following{/other_user}",
    "gists_url": "https://api.github.com/users/bas-vk/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/bas-vk/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/bas-vk/subscriptions",
    "organizations_url": "https://api.github.com/users/bas-vk/orgs",
    "repos_url": "https://api.github.com/users/bas-vk/repos",
    "events_url": "https://api.github.com/users/bas-vk/events{/privacy}",
    "received_events_url": "https://api.github.com/users/bas-vk/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "bas-vk",
      "id": 4280775,
      "node_id": "MDQ6VXNlcjQyODA3NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4280775?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bas-vk",
      "html_url": "https://github.com/bas-vk",
      "followers_url": "https://api.github.com/users/bas-vk/followers",
      "following_url": "https://api.github.com/users/bas-vk/following{/other_user}",
      "gists_url": "https://api.github.com/users/bas-vk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bas-vk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bas-vk/subscriptions",
      "organizations_url": "https://api.github.com/users/bas-vk/orgs",
      "repos_url": "https://api.github.com/users/bas-vk/repos",
      "events_url": "https://api.github.com/users/bas-vk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bas-vk/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 4,
  "created_at": "2015-10-09T13:30:21Z",
  "updated_at": "2015-12-15T12:20:40Z",
  "closed_at": "2015-12-15T12:20:40Z",
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": "to replicate: (note: it happens with ANY js file)\n\n```\ntouch empty.js\ngeth --datadir /tmp/something js empty.js\n```\n\nthen ctrl + c, doesn't shut it down, and geth constantly uses 100% CPU available in the background.\n\n```\n|1009 09:24:08.907754   45245 cmd.go:134] Got interrupt, shutting down...\nI1009 09:24:08.945125   45245 chain_manager.go:661] imported 203 block(s) (0 queued 0 ignored) including 0 txs in 186.876641ms. #22179 [9c1dad24 / df548ab0]\nI1009 09:24:08.945188   45245 chain_manager.go:459] Chain manager stopped\nI1009 09:24:08.945195   45245 handler.go:165] Stopping ethereum protocol handler...\nI1009 09:24:08.945205   45245 handler.go:175] Ethereum protocol handler stopped\nI1009 09:24:08.945222   45245 transaction_pool.go:138] Transaction pool stopped\nI1009 09:24:08.945284   45245 backend.go:686] Automatic pregeneration of ethash DAG OFF (ethash dir: /Users/iurimatias/.ethash)\nI1009 09:24:08.945689   45245 downloader.go:254] Synchronisation failed: hash fetching canceled (requested)\nI1009 09:24:08.987080   45245 database.go:167] flushed and closed db: /tmp/something/chaindata\nI1009 09:24:08.987216   45245 database.go:167] flushed and closed db: /tmp/something/dapp\n```\n\n```\n^CI1009 09:24:11.715322   45245 cmd.go:140] Already shutting down, please be patient.\nI1009 09:24:11.715344   45245 cmd.go:141] Interrupt 9 more times to induce panic.\n^CI1009 09:24:12.275333   45245 cmd.go:140] Already shutting down, please be patient.\nI1009 09:24:12.275350   45245 cmd.go:141] Interrupt 8 more times to induce panic.\n^CI1009 09:24:12.571711   45245 cmd.go:140] Already shutting down, please be patient.\nI1009 09:24:12.571729   45245 cmd.go:141] Interrupt 7 more times to induce panic.\n^CI1009 09:24:12.739461   45245 cmd.go:140] Already shutting down, please be patient.\nI1009 09:24:12.739479   45245 cmd.go:141] Interrupt 6 more times to induce panic.\n^CI1009 09:24:12.907311   45245 cmd.go:140] Already shutting down, please be patient.\nI1009 09:24:12.907325   45245 cmd.go:141] Interrupt 5 more times to induce panic.\n^CI1009 09:24:13.083332   45245 cmd.go:140] Already shutting down, please be patient.\nI1009 09:24:13.083346   45245 cmd.go:141] Interrupt 4 more times to induce panic.\n^CI1009 09:24:13.243409   45245 cmd.go:140] Already shutting down, please be patient.\nI1009 09:24:13.243427   45245 cmd.go:141] Interrupt 3 more times to induce panic.\n^CI1009 09:24:13.395327   45245 cmd.go:140] Already shutting down, please be patient.\nI1009 09:24:13.395347   45245 cmd.go:141] Interrupt 2 more times to induce panic.\n^CI1009 09:24:13.555318   45245 cmd.go:140] Already shutting down, please be patient.\nI1009 09:24:13.555337   45245 cmd.go:141] Interrupt 1 more times to induce panic.\n^CI1009 09:24:13.756403   45245 cmd.go:144] Force quitting: this might not end so well.\npanic: boom\n\ngoroutine 116 [running]:\ngithub.com/ethereum/go-ethereum/cmd/utils.StartEthereum.func1(0xc8200cc140)\n        /private/tmp/ethereum20150910-33799-h3id5m/src/github.com/ethereum/go-ethereum/cmd/utils/cmd.go:145 +0x6b8\ncreated by github.com/ethereum/go-ethereum/cmd/utils.StartEthereum\n        /private/tmp/ethereum20150910-33799-h3id5m/src/github.com/ethereum/go-ethereum/cmd/utils/cmd.go:146 +0x2d0\n\ngoroutine 1 [semacquire, 1 minutes]:\nsync.runtime_Semacquire(0xc82037579c)\n        /usr/local/Cellar/go/1.5.1/libexec/src/runtime/sema.go:43 +0x26\nsync.(*WaitGroup).Wait(0xc820375790)\n        /usr/local/Cellar/go/1.5.1/libexec/src/sync/waitgroup.go:126 +0xb4\ngithub.com/ethereum/go-ethereum/jsre.(*JSRE).Stop(0xc820375770, 0x7fff5fbff701)\n        /private/tmp/ethereum20150910-33799-h3id5m/src/github.com/ethereum/go-ethereum/jsre/jsre.go:198 +0x5e\nmain.(*jsre).exec(0xc820064700, 0x7fff5fbff7d1, 0x8, 0x0, 0x0)\n        /private/tmp/ethereum20150910-33799-h3id5m/src/github.com/ethereum/go-ethereum/cmd/geth/js.go:368 +0x18c\nmain.execJSFiles(0xc8202580e0)\n        /private/tmp/ethereum20150910-33799-h3id5m/src/github.com/ethereum/go-ethereum/cmd/geth/main.go:478 +0x454\n```\n\nunfortunately, for anyone using a wrapper such as 'embark blockchain', once they ctrl + c the wrapper looks shutdown, but geth actually keeps running in the background at 100% CPU indefinitely.\n",
  "closed_by": {
    "login": "karalabe",
    "id": 129561,
    "node_id": "MDQ6VXNlcjEyOTU2MQ==",
    "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/karalabe",
    "html_url": "https://github.com/karalabe",
    "followers_url": "https://api.github.com/users/karalabe/followers",
    "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
    "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
    "organizations_url": "https://api.github.com/users/karalabe/orgs",
    "repos_url": "https://api.github.com/users/karalabe/repos",
    "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
    "received_events_url": "https://api.github.com/users/karalabe/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/1892/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/1892/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/146873978",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/1892#issuecomment-146873978",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/1892",
    "id": 146873978,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE0Njg3Mzk3OA==",
    "user": {
      "login": "rfikki",
      "id": 1055929,
      "node_id": "MDQ6VXNlcjEwNTU5Mjk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1055929?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rfikki",
      "html_url": "https://github.com/rfikki",
      "followers_url": "https://api.github.com/users/rfikki/followers",
      "following_url": "https://api.github.com/users/rfikki/following{/other_user}",
      "gists_url": "https://api.github.com/users/rfikki/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rfikki/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rfikki/subscriptions",
      "organizations_url": "https://api.github.com/users/rfikki/orgs",
      "repos_url": "https://api.github.com/users/rfikki/repos",
      "events_url": "https://api.github.com/users/rfikki/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rfikki/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-10-09T13:40:08Z",
    "updated_at": "2015-10-09T13:40:08Z",
    "author_association": "NONE",
    "body": "I believe this is the same issue I had in #1882. I have been using loadscript from console command line instead.\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/146873978/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/147794304",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/1892#issuecomment-147794304",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/1892",
    "id": 147794304,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE0Nzc5NDMwNA==",
    "user": {
      "login": "VoR0220",
      "id": 7756785,
      "node_id": "MDQ6VXNlcjc3NTY3ODU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7756785?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/VoR0220",
      "html_url": "https://github.com/VoR0220",
      "followers_url": "https://api.github.com/users/VoR0220/followers",
      "following_url": "https://api.github.com/users/VoR0220/following{/other_user}",
      "gists_url": "https://api.github.com/users/VoR0220/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/VoR0220/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/VoR0220/subscriptions",
      "organizations_url": "https://api.github.com/users/VoR0220/orgs",
      "repos_url": "https://api.github.com/users/VoR0220/repos",
      "events_url": "https://api.github.com/users/VoR0220/events{/privacy}",
      "received_events_url": "https://api.github.com/users/VoR0220/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-10-13T17:51:57Z",
    "updated_at": "2015-10-13T17:51:57Z",
    "author_association": "MEMBER",
    "body": ":+1:\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/147794304/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/147864310",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/1892#issuecomment-147864310",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/1892",
    "id": 147864310,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE0Nzg2NDMxMA==",
    "user": {
      "login": "obscuren",
      "id": 6264126,
      "node_id": "MDQ6VXNlcjYyNjQxMjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6264126?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/obscuren",
      "html_url": "https://github.com/obscuren",
      "followers_url": "https://api.github.com/users/obscuren/followers",
      "following_url": "https://api.github.com/users/obscuren/following{/other_user}",
      "gists_url": "https://api.github.com/users/obscuren/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/obscuren/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/obscuren/subscriptions",
      "organizations_url": "https://api.github.com/users/obscuren/orgs",
      "repos_url": "https://api.github.com/users/obscuren/repos",
      "events_url": "https://api.github.com/users/obscuren/events{/privacy}",
      "received_events_url": "https://api.github.com/users/obscuren/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-10-13T21:51:47Z",
    "updated_at": "2015-10-13T21:51:47Z",
    "author_association": "MEMBER",
    "body": "I can confirm and replicate this issue. \n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/147864310/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/164748400",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/1892#issuecomment-164748400",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/1892",
    "id": 164748400,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE2NDc0ODQwMA==",
    "user": {
      "login": "karalabe",
      "id": 129561,
      "node_id": "MDQ6VXNlcjEyOTU2MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/karalabe",
      "html_url": "https://github.com/karalabe",
      "followers_url": "https://api.github.com/users/karalabe/followers",
      "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
      "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
      "organizations_url": "https://api.github.com/users/karalabe/orgs",
      "repos_url": "https://api.github.com/users/karalabe/repos",
      "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/karalabe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-12-15T12:20:39Z",
    "updated_at": "2015-12-15T12:20:39Z",
    "author_association": "MEMBER",
    "body": "This issue was fixed upstream in Web3, and down-streamed into geth too. Should be fine on develop. Please reopen if you still encounter this problem on the develop branch.\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/164748400/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
