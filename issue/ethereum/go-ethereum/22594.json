{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22594",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22594/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22594/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22594/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/22594",
  "id": 842896917,
  "node_id": "MDU6SXNzdWU4NDI4OTY5MTc=",
  "number": 22594,
  "title": "Rinkeby sync error invalid gas used (remote: 2830138 local: 2834632)",
  "user": {
    "login": "wind-hx",
    "id": 17685971,
    "node_id": "MDQ6VXNlcjE3Njg1OTcx",
    "avatar_url": "https://avatars.githubusercontent.com/u/17685971?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/wind-hx",
    "html_url": "https://github.com/wind-hx",
    "followers_url": "https://api.github.com/users/wind-hx/followers",
    "following_url": "https://api.github.com/users/wind-hx/following{/other_user}",
    "gists_url": "https://api.github.com/users/wind-hx/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/wind-hx/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/wind-hx/subscriptions",
    "organizations_url": "https://api.github.com/users/wind-hx/orgs",
    "repos_url": "https://api.github.com/users/wind-hx/repos",
    "events_url": "https://api.github.com/users/wind-hx/events{/privacy}",
    "received_events_url": "https://api.github.com/users/wind-hx/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 72233650,
      "node_id": "MDU6TGFiZWw3MjIzMzY1MA==",
      "url": "https://api.github.com/repos/ethereum/go-ethereum/labels/type:bug",
      "name": "type:bug",
      "color": "FF5E5E",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 1,
  "created_at": "2021-03-29T01:46:32Z",
  "updated_at": "2021-03-29T08:17:44Z",
  "closed_at": "2021-03-29T08:17:44Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "#### System information\r\n\r\nGeth version: `1.9.25-stable`\r\nOS & Version: linux\r\n\r\n#### Expected behaviour\r\n\r\nsyncing\r\n\r\n#### Actual behaviour\r\n\r\n```\r\n########## BAD BLOCK #########\r\nChain config: {ChainID: 4 Homestead: 1 DAO: <nil> DAOSupport: true EIP150: 2 EIP155: 3 EIP158: 3 Byzantium: 1035301 Constantinople: 3660663 Petersburg: 4321234 Istanbul: 5435345, Muir Glacier: <nil>, YOLO v2: <nil>, Engine: clique}\r\n\r\nNumber: 8290928\r\nHash: 0x00b55c2ba8d7b3aab577a767d6ec646ef864fa4422544cf6ed55af7a55191fd7\r\n         0: cumulative: 55786 gas: 55786 contract: 0x0000000000000000000000000000000000000000 status: 1 tx: 0xc473898b137debf6335669c745703cfa240cc7f249f5c8563a2a5bde5a596c99 logs: [0xc003a81ef0] bloom: 000000000000000000800000000000\r\n00000000000000000000000000000000000000000000000000800800000000000000000000000000000000000000000000080000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000020000000000000000000000800\r\n00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000010000000000000000000000000000000000000000000000000200000000000000000000000000000000\r\n0000000000000000 state:\r\n         1: cumulative: 311301 gas: 255515 contract: 0x0000000000000000000000000000000000000000 status: 1 tx: 0xe570d3490fad46b1ef0ec5dcbfb534de046a8cb225bb859a7ca22218f6787288 logs: [0xc033e70000 0xc033e700b0 0xc033e70160] bloom: 00\r\n00000000000000008000000000001000000000000000000000000000000200000000000000000000040000000000000000000000000000000000000004000000000808400000000000004000000000000001040000000000000000000000020080800000000000000000000000000000000000000\r\n00000000010000000000000000000001000000000001000000010000000000000080000000000400000000000000000000000000000020000000000080000000000000000000000000000000000000000000000000000000000008000000000000000000000000000040000000010000000000000\r\n00000000000000000000000020000000000000040000 state:\r\n         2: cumulative: 1634760 gas: 1323459 contract: 0xD6FA95D6687d89ee2406b1A4d1884174d422791c status: 1 tx: 0x86659c3f8fb96b9e2a3ac596c6d902bab50ef7e5d63bf23b426db8c1a1b9d60c logs: [0xc00a3fb340] bloom: 00800000000000000000000000000000000000000000000000800000000000000000000020000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000020000000000000080000800000000000000000000000000000000400000000000000000000000000000000000000000000000000000000000000000000000000000400000000000000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000020000000000000000000000000000000000001000000000000000000000000000000 state:\r\n         3: cumulative: 1815406 gas: 180646 contract: 0x0000000000000000000000000000000000000000 status: 1 tx: 0x7098870dac1946b794c380e2f747c807b0b75851e29b08fc1734014509d0321f logs: [0xc00a3fb3f0 0xc00a3fb4a0 0xc00a3fb550] bloom: 00000000000000000000000000000000000000000000000000800000000002000000000010000000020000000000000000000200000000000002000000000000000100000400000000000000000000000041000000000000000000001000000000000000021010000000000000000800000000000000000000000000000000400000000000004000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000040000000010000000000000000000000020000000000000800000000000000420000000000000000000000000000000000000000000200000000000000000000000 state:\r\n         4: cumulative: 1874358 gas: 58952 contract: 0x0000000000000000000000000000000000000000 status: 1 tx: 0x9f18f08619a90d74b7e94f001ec2b6baaeaa9f565ec51299e618e362ae153664 logs: [0xc00a3fb600 0xc00a3fb6b0] bloom: 00000000000000000000000000100000000000000000000000000080000000000000000000000008000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000010000000000000000020000000000000000000800000000000000000000000000000000000000000000000000000000000400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000400000000000000000000000000000000020000000000000000000000000000000000000000000000000000000010000000000 state:\r\n         5: cumulative: 1947776 gas: 73418 contract: 0x0000000000000000000000000000000000000000 status: 1 tx: 0xfcf24d3fa6f50711e3eb94ac1e3b41e56f31da27f4f7c2554e90b80168869ca8 logs: [] bloom: 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000 state:\r\n         6: cumulative: 1999552 gas: 51776 contract: 0x0000000000000000000000000000000000000000 status: 1 tx: 0x09f0d05bb69f5b72ba5ba6096baafd6e1e7f1ab5bfcc965fec17dcc368fd8e3c logs: [0xc00a3fb760] bloom: 00000000000000000000400200000000000000000000000000000000000080000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008000000000000020000000000000000000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000000000400000000000000000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000002000000000000000000000080000000000000000000000000000000000102000000000000000000 state:\r\n         7: cumulative: 2036621 gas: 37069 contract: 0x0000000000000000000000000000000000000000 status: 1 tx: 0xd933bd21703b5a62a9a046f9b2ce8df6e8d30cfef5a8e01031eb1f86fadf2741 logs: [0xc00a3fb810] bloom: 00001000000000000000000400000000000000000000000000000000000000020000000004000001000000000000000008000000000000000000000000000000000000000000000000000008000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000080000000000000000000000000000000000000000010000000000000000000000000000000000000040000 state:\r\n         8: cumulative: 2057621 gas: 21000 contract: 0x0000000000000000000000000000000000000000 status: 1 tx: 0x7d5ac85aed3ff1de78947c55ac2b4207af3ec8f1b93657dc82ceedbb72bf8b6a logs: [] bloom: 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000 state:\r\n         9: cumulative: 2629965 gas: 572344 contract: 0x0000000000000000000000000000000000000000 status: 1 tx: 0xe31ff0fbec5d64b3b6c44ac3c40c37725b7195cea232ba3254322e7cba422527 logs: [0xc011cee0b0 0xc011cee160] bloom: 00000000000000000000010000000000080000800000000000000000000000000000800000000000000000000000008000000000000000000200000080000080000000000000000000000100000000060000000000000000000000000000000000000000000000000000000000000200000000200040000000020000000000000000000000000000000040000000000002080000000000200000000000000000000000000000000000000000000000000000000008000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000 state:\r\n         10: cumulative: 2810611 gas: 180646 contract: 0x0000000000000000000000000000000000000000 status: 1 tx: 0x9ccb7c931211d0ba8c239298b972c455635e45236677d5e7b5890988e552ca62 logs: [0xc011cee210 0xc012154000 0xc0121540b0] bloom: 00000000000000000000000000000000000000000000000000800000000002000000000010000000020000000000000000000200000000000002000000000000000000000400000000000000000000000041000000000000000000001000000000000000021010000000000000000800000000000000000000000000000000400000000000004000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000000000040000000010000000000000000000000000000000000000000000000000000420000000000010000000000000000000000000000000200000000000000000001000 state:\r\n         11: cumulative: 2834632 gas: 24021 contract: 0x0000000000000000000000000000000000000000 status: 0 tx: 0xd0fa361587fba90d30e7a4f02a67620cfe3743ef279fbe7a840b9042d039004e logs: [] bloom: 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000 state:\r\n\r\n\r\nError: invalid gas used (remote: 2830138 local: 2834632)\r\n##############################\r\n\r\nWARN [03-29|09:42:58.135] Synchronisation failed, dropping peer    peer=3eb85451107610f7 err=\"retrieved hash chain is invalid: invalid gas used (remote: 2830138 local: 2834632)\"\r\n```\r\n\r\n#### Steps to reproduce the behaviour\r\n```\r\nnohup geth --allow-insecure-unlock --port \"30303\" --syncmode \"fast\" --cache=4096 --datadir /data/rinkeby --rinkeby --http --networkid 4 --http.api eth,net,web3,personal,admin,miner --http.port 8545 --http.addr 0.0.0.0 --http.corsdomain \"*\" --ws.port 8546 --ws --ws.api eth,net,web3,personal,admin,miner --ws.addr 0.0.0.0 --ws.origins \"*\" --maxpeers 999  --maxpendpeers 999 --bootnodes=enode://a24ac7c5484ef4ed0c5eb2d36620ba4e4aa13b8c84684e1b4aab0cebea2ae45cb4d375b77eab56516d34bfbd3c1a833fc51296ff084b770b94fb9028c4d25ccf@52.169.42.101:30303 > output.log 2>&1 &\r\n```\r\n\r\n#### Backtrace\r\n\r\n````\r\n[backtrace]\r\n````\r\n",
  "closed_by": {
    "login": "holiman",
    "id": 142290,
    "node_id": "MDQ6VXNlcjE0MjI5MA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/142290?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/holiman",
    "html_url": "https://github.com/holiman",
    "followers_url": "https://api.github.com/users/holiman/followers",
    "following_url": "https://api.github.com/users/holiman/following{/other_user}",
    "gists_url": "https://api.github.com/users/holiman/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/holiman/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/holiman/subscriptions",
    "organizations_url": "https://api.github.com/users/holiman/orgs",
    "repos_url": "https://api.github.com/users/holiman/repos",
    "events_url": "https://api.github.com/users/holiman/events{/privacy}",
    "received_events_url": "https://api.github.com/users/holiman/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22594/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22594/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/809174626",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/22594#issuecomment-809174626",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22594",
    "id": 809174626,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgwOTE3NDYyNg==",
    "user": {
      "login": "holiman",
      "id": 142290,
      "node_id": "MDQ6VXNlcjE0MjI5MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/142290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/holiman",
      "html_url": "https://github.com/holiman",
      "followers_url": "https://api.github.com/users/holiman/followers",
      "following_url": "https://api.github.com/users/holiman/following{/other_user}",
      "gists_url": "https://api.github.com/users/holiman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/holiman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/holiman/subscriptions",
      "organizations_url": "https://api.github.com/users/holiman/orgs",
      "repos_url": "https://api.github.com/users/holiman/repos",
      "events_url": "https://api.github.com/users/holiman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/holiman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-03-29T08:17:44Z",
    "updated_at": "2021-03-29T08:17:44Z",
    "author_association": "MEMBER",
    "body": "Rinkeby was upgraded with new rules at block 8 290 928 (also called hard-fork) , see https://blog.ethereum.org/2021/03/08/ethereum-berlin-upgrade-announcement/ for more details. You need to upgrade your geth node to the newest version. ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/809174626/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
