{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/27747",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/27747/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/27747/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/27747/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/27747",
  "id": 1811324970,
  "node_id": "I_kwDOAOvK985r9qAq",
  "number": 27747,
  "title": "geth full node is too slow.Only about 50 blocks can be synchronized per minute.",
  "user": {
    "login": "chinaliuhan",
    "id": 31755440,
    "node_id": "MDQ6VXNlcjMxNzU1NDQw",
    "avatar_url": "https://avatars.githubusercontent.com/u/31755440?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/chinaliuhan",
    "html_url": "https://github.com/chinaliuhan",
    "followers_url": "https://api.github.com/users/chinaliuhan/followers",
    "following_url": "https://api.github.com/users/chinaliuhan/following{/other_user}",
    "gists_url": "https://api.github.com/users/chinaliuhan/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/chinaliuhan/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/chinaliuhan/subscriptions",
    "organizations_url": "https://api.github.com/users/chinaliuhan/orgs",
    "repos_url": "https://api.github.com/users/chinaliuhan/repos",
    "events_url": "https://api.github.com/users/chinaliuhan/events{/privacy}",
    "received_events_url": "https://api.github.com/users/chinaliuhan/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 268304226,
      "node_id": "MDU6TGFiZWwyNjgzMDQyMjY=",
      "url": "https://api.github.com/repos/ethereum/go-ethereum/labels/type:docs",
      "name": "type:docs",
      "color": "fef2c0",
      "default": false,
      "description": null
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 13,
  "created_at": "2023-07-19T07:20:24Z",
  "updated_at": "2023-07-23T14:20:39Z",
  "closed_at": "2023-07-20T08:38:06Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "geth full node is too slwo.Only about 50 blocks can be synchronized per minute\r\n\r\nHowever I use snap mode to sync very quickly.\r\n\r\nUnfortunately what I need receipts for all transactions.\r\n\r\n\r\nthis is my server:\r\n- CPU 16\r\n- Memory 30G\r\n- SSD 10T\r\n- Bandwidth 10G\r\n- net.peerCount 300\r\n\r\n\r\nthis is my geth:\r\n\r\n```sh\r\n./geth --syncmode full --gcmode archive --maxpeers 500 --cache 2000 \r\n./prysm.sh beacon-chain --accept-terms-of-use=true \r\n\r\n```\r\nWhat should I do to increase the sync speed? It's been a week and only 5 million blocks have been synced. At this rate, it will never be finished.\r\n\r\n\r\n",
  "closed_by": {
    "login": "rjl493456442",
    "id": 5959481,
    "node_id": "MDQ6VXNlcjU5NTk0ODE=",
    "avatar_url": "https://avatars.githubusercontent.com/u/5959481?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/rjl493456442",
    "html_url": "https://github.com/rjl493456442",
    "followers_url": "https://api.github.com/users/rjl493456442/followers",
    "following_url": "https://api.github.com/users/rjl493456442/following{/other_user}",
    "gists_url": "https://api.github.com/users/rjl493456442/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/rjl493456442/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/rjl493456442/subscriptions",
    "organizations_url": "https://api.github.com/users/rjl493456442/orgs",
    "repos_url": "https://api.github.com/users/rjl493456442/repos",
    "events_url": "https://api.github.com/users/rjl493456442/events{/privacy}",
    "received_events_url": "https://api.github.com/users/rjl493456442/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/27747/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/27747/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1641617130",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/27747#issuecomment-1641617130",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/27747",
    "id": 1641617130,
    "node_id": "IC_kwDOAOvK985h2Rbq",
    "user": {
      "login": "s1na",
      "id": 1591639,
      "node_id": "MDQ6VXNlcjE1OTE2Mzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1591639?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/s1na",
      "html_url": "https://github.com/s1na",
      "followers_url": "https://api.github.com/users/s1na/followers",
      "following_url": "https://api.github.com/users/s1na/following{/other_user}",
      "gists_url": "https://api.github.com/users/s1na/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/s1na/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/s1na/subscriptions",
      "organizations_url": "https://api.github.com/users/s1na/orgs",
      "repos_url": "https://api.github.com/users/s1na/repos",
      "events_url": "https://api.github.com/users/s1na/events{/privacy}",
      "received_events_url": "https://api.github.com/users/s1na/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-07-19T08:04:31Z",
    "updated_at": "2023-07-19T08:04:31Z",
    "author_association": "MEMBER",
    "body": "You don't need to do a full sync to get receipts for all transactions. Snap sync should suffice. Also you're doing an archive sync which is the slowest form of sync and needs 14Tb of storage :) you should really only do an archive sync if you need to do tracing of arbitrarily old transactions.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1641617130/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 1,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1642448387",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/27747#issuecomment-1642448387",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/27747",
    "id": 1642448387,
    "node_id": "IC_kwDOAOvK985h5cYD",
    "user": {
      "login": "chinaliuhan",
      "id": 31755440,
      "node_id": "MDQ6VXNlcjMxNzU1NDQw",
      "avatar_url": "https://avatars.githubusercontent.com/u/31755440?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chinaliuhan",
      "html_url": "https://github.com/chinaliuhan",
      "followers_url": "https://api.github.com/users/chinaliuhan/followers",
      "following_url": "https://api.github.com/users/chinaliuhan/following{/other_user}",
      "gists_url": "https://api.github.com/users/chinaliuhan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chinaliuhan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chinaliuhan/subscriptions",
      "organizations_url": "https://api.github.com/users/chinaliuhan/orgs",
      "repos_url": "https://api.github.com/users/chinaliuhan/repos",
      "events_url": "https://api.github.com/users/chinaliuhan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chinaliuhan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-07-19T17:04:43Z",
    "updated_at": "2023-07-19T17:11:50Z",
    "author_association": "NONE",
    "body": "> You don't need to do a full sync to get receipts for all transactions. Snap sync should suffice. Also you're doing an archive sync which is the slowest form of sync and needs 14Tb of storage :) you should really only do an archive sync if you need to do tracing of arbitrarily old transactions.\r\n\r\n\r\n\r\nThank you for the answer.\r\n\r\nI need all the receipts,  Is snap has all receipts?\r\n\r\nWhat is the real difference between archive and full?\r\n\r\nWhich way should I try to switch to?\r\n\r\n```sh \r\n./geth --syncmode snap --gcmode archive --maxpeers 500 --cache 2000 .\r\nor \r\n./geth --syncmode full --gcmode full --maxpeers 500 --cache 2000 .\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1642448387/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1643513861",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/27747#issuecomment-1643513861",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/27747",
    "id": 1643513861,
    "node_id": "IC_kwDOAOvK985h9ggF",
    "user": {
      "login": "rjl493456442",
      "id": 5959481,
      "node_id": "MDQ6VXNlcjU5NTk0ODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5959481?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rjl493456442",
      "html_url": "https://github.com/rjl493456442",
      "followers_url": "https://api.github.com/users/rjl493456442/followers",
      "following_url": "https://api.github.com/users/rjl493456442/following{/other_user}",
      "gists_url": "https://api.github.com/users/rjl493456442/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rjl493456442/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rjl493456442/subscriptions",
      "organizations_url": "https://api.github.com/users/rjl493456442/orgs",
      "repos_url": "https://api.github.com/users/rjl493456442/repos",
      "events_url": "https://api.github.com/users/rjl493456442/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rjl493456442/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-07-20T08:38:06Z",
    "updated_at": "2023-07-20T08:38:06Z",
    "author_association": "MEMBER",
    "body": "> I need all the receipts, Is snap has all receipts?\r\n\r\nYes\r\n\r\n> What is the real difference between archive and full?\r\n\r\narchive sync will preserve all the past states, full sync won't have this guarantee(for all past states) but only the latest states.\r\n\r\n> Which way should I try to switch to?\r\n\r\n`./geth --syncmode snap`\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1643513861/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1645405387",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/27747#issuecomment-1645405387",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/27747",
    "id": 1645405387,
    "node_id": "IC_kwDOAOvK985iEuTL",
    "user": {
      "login": "chinaliuhan",
      "id": 31755440,
      "node_id": "MDQ6VXNlcjMxNzU1NDQw",
      "avatar_url": "https://avatars.githubusercontent.com/u/31755440?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chinaliuhan",
      "html_url": "https://github.com/chinaliuhan",
      "followers_url": "https://api.github.com/users/chinaliuhan/followers",
      "following_url": "https://api.github.com/users/chinaliuhan/following{/other_user}",
      "gists_url": "https://api.github.com/users/chinaliuhan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chinaliuhan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chinaliuhan/subscriptions",
      "organizations_url": "https://api.github.com/users/chinaliuhan/orgs",
      "repos_url": "https://api.github.com/users/chinaliuhan/repos",
      "events_url": "https://api.github.com/users/chinaliuhan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chinaliuhan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-07-21T11:06:17Z",
    "updated_at": "2023-07-21T11:06:46Z",
    "author_association": "NONE",
    "body": "> \r\nI tried snap and couldn't get all receipts.\r\n\r\nThanks again.\r\n\r\nI tried snap and can't get all receipts, is my command wrong?\r\n```sh\r\nnohup ./geth --syncmode snap --port 31303 --maxpeers 200 --cache 2000  > snap.out&\r\n```\r\n\r\nI changed the `--gcmode archive` to `--gcmode full`, which is still very slow, the same as before, about 50 blocks per minute.\r\n\r\n```sh\r\nnohup ./geth --syncmode full --gcmode full --maxpeers 500 --cache 2000 \r\n```\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1645405387/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1645456099",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/27747#issuecomment-1645456099",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/27747",
    "id": 1645456099,
    "node_id": "IC_kwDOAOvK985iE6rj",
    "user": {
      "login": "s1na",
      "id": 1591639,
      "node_id": "MDQ6VXNlcjE1OTE2Mzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1591639?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/s1na",
      "html_url": "https://github.com/s1na",
      "followers_url": "https://api.github.com/users/s1na/followers",
      "following_url": "https://api.github.com/users/s1na/following{/other_user}",
      "gists_url": "https://api.github.com/users/s1na/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/s1na/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/s1na/subscriptions",
      "organizations_url": "https://api.github.com/users/s1na/orgs",
      "repos_url": "https://api.github.com/users/s1na/repos",
      "events_url": "https://api.github.com/users/s1na/events{/privacy}",
      "received_events_url": "https://api.github.com/users/s1na/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-07-21T11:47:25Z",
    "updated_at": "2023-07-21T11:47:25Z",
    "author_association": "MEMBER",
    "body": "> I tried snap and can't get all receipts,\r\n\r\nCan you give us more info how you're trying to get receipts? If you're querying by transaction hash then you will also need to add `--txlookuplimit 0` to your command.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1645456099/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1645459993",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/27747#issuecomment-1645459993",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/27747",
    "id": 1645459993,
    "node_id": "IC_kwDOAOvK985iE7oZ",
    "user": {
      "login": "jsvisa",
      "id": 3627395,
      "node_id": "MDQ6VXNlcjM2MjczOTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3627395?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jsvisa",
      "html_url": "https://github.com/jsvisa",
      "followers_url": "https://api.github.com/users/jsvisa/followers",
      "following_url": "https://api.github.com/users/jsvisa/following{/other_user}",
      "gists_url": "https://api.github.com/users/jsvisa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jsvisa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jsvisa/subscriptions",
      "organizations_url": "https://api.github.com/users/jsvisa/orgs",
      "repos_url": "https://api.github.com/users/jsvisa/repos",
      "events_url": "https://api.github.com/users/jsvisa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jsvisa/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-07-21T11:50:45Z",
    "updated_at": "2023-07-21T11:50:45Z",
    "author_association": "CONTRIBUTOR",
    "body": "> I tried snap and can't get all receipts, is my command wrong?\n\nYou need to wait for all the historical data are fully synced, then you can read transactions and receipts. You can check by eth_blockNumber RPC to see it's synced or not",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1645459993/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1645538578",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/27747#issuecomment-1645538578",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/27747",
    "id": 1645538578,
    "node_id": "IC_kwDOAOvK985iFO0S",
    "user": {
      "login": "chinaliuhan",
      "id": 31755440,
      "node_id": "MDQ6VXNlcjMxNzU1NDQw",
      "avatar_url": "https://avatars.githubusercontent.com/u/31755440?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chinaliuhan",
      "html_url": "https://github.com/chinaliuhan",
      "followers_url": "https://api.github.com/users/chinaliuhan/followers",
      "following_url": "https://api.github.com/users/chinaliuhan/following{/other_user}",
      "gists_url": "https://api.github.com/users/chinaliuhan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chinaliuhan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chinaliuhan/subscriptions",
      "organizations_url": "https://api.github.com/users/chinaliuhan/orgs",
      "repos_url": "https://api.github.com/users/chinaliuhan/repos",
      "events_url": "https://api.github.com/users/chinaliuhan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chinaliuhan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-07-21T12:52:43Z",
    "updated_at": "2023-07-21T12:54:15Z",
    "author_association": "NONE",
    "body": "> > I tried snap and can't get all receipts,\r\n> \r\n> Can you give us more info how you're trying to get receipts? If you're querying by transaction hash then you will also need to add `--txlookuplimit 0` to your command.\r\n\r\nSorry , I use RPC.\r\n\r\nsyncing is done. \r\nblockNumber is the latest block.\r\n\r\n```sh \r\n> eth.syncing\r\nfalse\r\n> eth.blockNumber\r\n17741625\r\n>\r\n```\r\n\r\n\r\nThis is my curl request.\r\nThis  transaction hash in block 5701009.\r\n```sh\r\ncurl --location 'http://localhost:8645' \\\r\n--header 'Content-Type: application/json' \\\r\n--data '{\r\n    \"jsonrpc\": \"2.0\",\r\n    \"method\": \"eth_getTransactionReceipt\",\r\n    \"params\": [\r\n        \"0xbf229e0e912b9bb96fb73c8770213266b6c4b9c6edba6a7d49389c693e259d56\"\r\n    ],\r\n    \"id\": 1\r\n}'\r\n```\r\n\r\n```\r\n{\r\n    \"jsonrpc\": \"2.0\",\r\n    \"id\": 1,\r\n    \"result\": null\r\n}\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1645538578/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1645543553",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/27747#issuecomment-1645543553",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/27747",
    "id": 1645543553,
    "node_id": "IC_kwDOAOvK985iFQCB",
    "user": {
      "login": "chinaliuhan",
      "id": 31755440,
      "node_id": "MDQ6VXNlcjMxNzU1NDQw",
      "avatar_url": "https://avatars.githubusercontent.com/u/31755440?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chinaliuhan",
      "html_url": "https://github.com/chinaliuhan",
      "followers_url": "https://api.github.com/users/chinaliuhan/followers",
      "following_url": "https://api.github.com/users/chinaliuhan/following{/other_user}",
      "gists_url": "https://api.github.com/users/chinaliuhan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chinaliuhan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chinaliuhan/subscriptions",
      "organizations_url": "https://api.github.com/users/chinaliuhan/orgs",
      "repos_url": "https://api.github.com/users/chinaliuhan/repos",
      "events_url": "https://api.github.com/users/chinaliuhan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chinaliuhan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-07-21T12:56:20Z",
    "updated_at": "2023-07-21T12:56:20Z",
    "author_association": "NONE",
    "body": "> > I tried snap and can't get all receipts, is my command wrong?\r\n> \r\n> You need to wait for all the historical data are fully synced, then you can read transactions and receipts. You can check by eth_blockNumber RPC to see it's synced or not\r\n\r\n\r\nThanks, look like it's synced done.\r\n\r\n> eth.syncing\r\nfalse\r\n> eth.blockNumber\r\n17741625\r\n>",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1645543553/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1645649500",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/27747#issuecomment-1645649500",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/27747",
    "id": 1645649500,
    "node_id": "IC_kwDOAOvK985iFp5c",
    "user": {
      "login": "jsvisa",
      "id": 3627395,
      "node_id": "MDQ6VXNlcjM2MjczOTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3627395?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jsvisa",
      "html_url": "https://github.com/jsvisa",
      "followers_url": "https://api.github.com/users/jsvisa/followers",
      "following_url": "https://api.github.com/users/jsvisa/following{/other_user}",
      "gists_url": "https://api.github.com/users/jsvisa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jsvisa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jsvisa/subscriptions",
      "organizations_url": "https://api.github.com/users/jsvisa/orgs",
      "repos_url": "https://api.github.com/users/jsvisa/repos",
      "events_url": "https://api.github.com/users/jsvisa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jsvisa/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-07-21T14:07:25Z",
    "updated_at": "2023-07-21T14:07:25Z",
    "author_association": "CONTRIBUTOR",
    "body": "yeah, the chain is synced, and as @s1na mentioned, you need to add `--txlookuplimit=0` to regenerate the tx index",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1645649500/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1645677901",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/27747#issuecomment-1645677901",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/27747",
    "id": 1645677901,
    "node_id": "IC_kwDOAOvK985iFw1N",
    "user": {
      "login": "chinaliuhan",
      "id": 31755440,
      "node_id": "MDQ6VXNlcjMxNzU1NDQw",
      "avatar_url": "https://avatars.githubusercontent.com/u/31755440?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chinaliuhan",
      "html_url": "https://github.com/chinaliuhan",
      "followers_url": "https://api.github.com/users/chinaliuhan/followers",
      "following_url": "https://api.github.com/users/chinaliuhan/following{/other_user}",
      "gists_url": "https://api.github.com/users/chinaliuhan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chinaliuhan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chinaliuhan/subscriptions",
      "organizations_url": "https://api.github.com/users/chinaliuhan/orgs",
      "repos_url": "https://api.github.com/users/chinaliuhan/repos",
      "events_url": "https://api.github.com/users/chinaliuhan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chinaliuhan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-07-21T14:25:35Z",
    "updated_at": "2023-07-21T14:25:35Z",
    "author_association": "NONE",
    "body": "> yeah, the chain is synced, and as @s1na mentioned, you need to add `--txlookuplimit=0` to regenerate the tx index\r\n\r\n\r\nThank you very much, I knew `--txlookuplimit` but didn't expect it to refer to receipts.\r\nI'll try it now.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1645677901/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1646413945",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/27747#issuecomment-1646413945",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/27747",
    "id": 1646413945,
    "node_id": "IC_kwDOAOvK985iIkh5",
    "user": {
      "login": "jsvisa",
      "id": 3627395,
      "node_id": "MDQ6VXNlcjM2MjczOTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3627395?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jsvisa",
      "html_url": "https://github.com/jsvisa",
      "followers_url": "https://api.github.com/users/jsvisa/followers",
      "following_url": "https://api.github.com/users/jsvisa/following{/other_user}",
      "gists_url": "https://api.github.com/users/jsvisa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jsvisa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jsvisa/subscriptions",
      "organizations_url": "https://api.github.com/users/jsvisa/orgs",
      "repos_url": "https://api.github.com/users/jsvisa/repos",
      "events_url": "https://api.github.com/users/jsvisa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jsvisa/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-07-22T02:51:19Z",
    "updated_at": "2023-07-22T02:51:19Z",
    "author_association": "CONTRIBUTOR",
    "body": "And after https://github.com/ethereum/go-ethereum/pull/27702 merged, you can direct query the block receipts, no need to query by transaction.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1646413945/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1646548890",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/27747#issuecomment-1646548890",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/27747",
    "id": 1646548890,
    "node_id": "IC_kwDOAOvK985iJFea",
    "user": {
      "login": "chinaliuhan",
      "id": 31755440,
      "node_id": "MDQ6VXNlcjMxNzU1NDQw",
      "avatar_url": "https://avatars.githubusercontent.com/u/31755440?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chinaliuhan",
      "html_url": "https://github.com/chinaliuhan",
      "followers_url": "https://api.github.com/users/chinaliuhan/followers",
      "following_url": "https://api.github.com/users/chinaliuhan/following{/other_user}",
      "gists_url": "https://api.github.com/users/chinaliuhan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chinaliuhan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chinaliuhan/subscriptions",
      "organizations_url": "https://api.github.com/users/chinaliuhan/orgs",
      "repos_url": "https://api.github.com/users/chinaliuhan/repos",
      "events_url": "https://api.github.com/users/chinaliuhan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chinaliuhan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-07-22T10:08:06Z",
    "updated_at": "2023-07-22T10:10:40Z",
    "author_association": "NONE",
    "body": "> And after #27702 merged, you can direct query the block receipts, no need to query by transaction.\r\n\r\nok, thanks.\r\n\r\nI am using geth-linux-amd64-1.12.0-e501b3b0.\r\nDo I need to clone the code again and compile it?\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1646548890/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1646551621",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/27747#issuecomment-1646551621",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/27747",
    "id": 1646551621,
    "node_id": "IC_kwDOAOvK985iJGJF",
    "user": {
      "login": "chinaliuhan",
      "id": 31755440,
      "node_id": "MDQ6VXNlcjMxNzU1NDQw",
      "avatar_url": "https://avatars.githubusercontent.com/u/31755440?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chinaliuhan",
      "html_url": "https://github.com/chinaliuhan",
      "followers_url": "https://api.github.com/users/chinaliuhan/followers",
      "following_url": "https://api.github.com/users/chinaliuhan/following{/other_user}",
      "gists_url": "https://api.github.com/users/chinaliuhan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chinaliuhan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chinaliuhan/subscriptions",
      "organizations_url": "https://api.github.com/users/chinaliuhan/orgs",
      "repos_url": "https://api.github.com/users/chinaliuhan/repos",
      "events_url": "https://api.github.com/users/chinaliuhan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chinaliuhan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-07-22T10:24:27Z",
    "updated_at": "2023-07-22T15:34:19Z",
    "author_association": "NONE",
    "body": "> yeah, the chain is synced, and as @s1na mentioned, you need to add `--txlookuplimit=0` to regenerate the tx index\r\n\r\n```sh\r\n./geth --syncmode snap --txlookuplimit 0  --maxpeers 200 \r\n```\r\n\r\nI added `--txlookuplimit 0` and restarted, and the index transaction seemed to complete, but still couldn't query the receipt.   Do I need to delete the database and resync it?\r\n\r\nthis is my curl request:\r\n\r\nthis transaction hash is in block 5701010.\r\n\r\n```sh\r\n\r\ncurl --location 'http://localhost:8645' \\\r\n--header 'Content-Type: application/json' \\\r\n--data '{\r\n    \"jsonrpc\": \"2.0\",\r\n    \"method\": \"eth_getTransactionReceipt\",\r\n    \"params\": [\r\n        \"0xc89d2800987de4c084f51cc38c4d9d427d1047287244acb896befaadb246ce4d\"\r\n    ],\r\n    \"id\": 1\r\n}'\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1646551621/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
