{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/19458",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/19458/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/19458/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/19458/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/19458",
  "id": 432712048,
  "node_id": "MDU6SXNzdWU0MzI3MTIwNDg=",
  "number": 19458,
  "title": "Exceeding txpool.globalslots means further transactions will not be processed",
  "user": {
    "login": "jmcnevin",
    "id": 12859,
    "node_id": "MDQ6VXNlcjEyODU5",
    "avatar_url": "https://avatars.githubusercontent.com/u/12859?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/jmcnevin",
    "html_url": "https://github.com/jmcnevin",
    "followers_url": "https://api.github.com/users/jmcnevin/followers",
    "following_url": "https://api.github.com/users/jmcnevin/following{/other_user}",
    "gists_url": "https://api.github.com/users/jmcnevin/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/jmcnevin/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/jmcnevin/subscriptions",
    "organizations_url": "https://api.github.com/users/jmcnevin/orgs",
    "repos_url": "https://api.github.com/users/jmcnevin/repos",
    "events_url": "https://api.github.com/users/jmcnevin/events{/privacy}",
    "received_events_url": "https://api.github.com/users/jmcnevin/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 1,
  "created_at": "2019-04-12T19:28:04Z",
  "updated_at": "2019-06-05T08:07:47Z",
  "closed_at": "2019-06-05T08:07:46Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "#### System information\r\n\r\nGeth version: 1.8.26\r\nOS & Version: Linux\r\n\r\n#### Expected behaviour\r\n\r\nNot sure what the expected behavior is here.\r\n\r\n#### Actual behaviour\r\n\r\nIn load testing a private network, we are submitting a few thousand transactions through a node, exceeding its \"txpool.globalslots\" setting that we have configured at 8192.  Any transactions that are submitted to the node after exceeding that number seem to go nowhere, even after the network has worked through the other pending transactions.\r\n\r\n<img width=\"968\" alt=\"Screen Shot 2019-04-12 at 12 57 41 PM\" src=\"https://user-images.githubusercontent.com/12859/56056743-a4671100-5d22-11e9-8c50-554cb0557f35.png\">\r\n\r\nAfter restarting the node, the network will work through the next 8192 transactions, and then  work stops again.",
  "closed_by": {
    "login": "holiman",
    "id": 142290,
    "node_id": "MDQ6VXNlcjE0MjI5MA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/142290?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/holiman",
    "html_url": "https://github.com/holiman",
    "followers_url": "https://api.github.com/users/holiman/followers",
    "following_url": "https://api.github.com/users/holiman/following{/other_user}",
    "gists_url": "https://api.github.com/users/holiman/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/holiman/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/holiman/subscriptions",
    "organizations_url": "https://api.github.com/users/holiman/orgs",
    "repos_url": "https://api.github.com/users/holiman/repos",
    "events_url": "https://api.github.com/users/holiman/events{/privacy}",
    "received_events_url": "https://api.github.com/users/holiman/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/19458/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/19458/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/498982437",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/19458#issuecomment-498982437",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/19458",
    "id": 498982437,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5ODk4MjQzNw==",
    "user": {
      "login": "holiman",
      "id": 142290,
      "node_id": "MDQ6VXNlcjE0MjI5MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/142290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/holiman",
      "html_url": "https://github.com/holiman",
      "followers_url": "https://api.github.com/users/holiman/followers",
      "following_url": "https://api.github.com/users/holiman/following{/other_user}",
      "gists_url": "https://api.github.com/users/holiman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/holiman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/holiman/subscriptions",
      "organizations_url": "https://api.github.com/users/holiman/orgs",
      "repos_url": "https://api.github.com/users/holiman/repos",
      "events_url": "https://api.github.com/users/holiman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/holiman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-06-05T08:07:46Z",
    "updated_at": "2019-06-05T08:07:46Z",
    "author_association": "MEMBER",
    "body": "A node keeps track of which transactions it has already sent to it's peers, to avoid re-sending transactions all the time. However, if the remote node simply discards the transaction(s) (due to too overflowing the slots), the result will be that the origin node believes the peer already have the transactions. \r\n\r\nWhen you restart the origin node, it forgets about what txs what peers have, and resends them. \r\n\r\nThis is expected (although non-ideal) behaviour. If you have suggestions about how to make this better (without causing total transaction churning over mainnet), please chime in. ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/498982437/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
