{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22997",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22997/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22997/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22997/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/22997",
  "id": 911401999,
  "node_id": "MDU6SXNzdWU5MTE0MDE5OTk=",
  "number": 22997,
  "title": "Can't estimate gas for an ETH transfer from a particular EOA",
  "user": {
    "login": "mdeliadi",
    "id": 41289680,
    "node_id": "MDQ6VXNlcjQxMjg5Njgw",
    "avatar_url": "https://avatars.githubusercontent.com/u/41289680?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/mdeliadi",
    "html_url": "https://github.com/mdeliadi",
    "followers_url": "https://api.github.com/users/mdeliadi/followers",
    "following_url": "https://api.github.com/users/mdeliadi/following{/other_user}",
    "gists_url": "https://api.github.com/users/mdeliadi/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/mdeliadi/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/mdeliadi/subscriptions",
    "organizations_url": "https://api.github.com/users/mdeliadi/orgs",
    "repos_url": "https://api.github.com/users/mdeliadi/repos",
    "events_url": "https://api.github.com/users/mdeliadi/events{/privacy}",
    "received_events_url": "https://api.github.com/users/mdeliadi/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 1132689577,
      "node_id": "MDU6TGFiZWwxMTMyNjg5NTc3",
      "url": "https://api.github.com/repos/ethereum/go-ethereum/labels/status:triage",
      "name": "status:triage",
      "color": "6be514",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 7,
  "created_at": "2021-06-04T11:21:08Z",
  "updated_at": "2021-06-17T08:15:32Z",
  "closed_at": "2021-06-17T08:15:32Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "#### System information\r\n\r\nGeth version: 1.10.3-stable\r\nOS & Version: Debian GNU/Linux 9.6 (stretch)\r\n\r\n#### Expected behaviour\r\n\r\nReceive a gas estimation for an ETH transfer between two EOAs.\r\n\r\n#### Actual behaviour\r\n\r\nUnable to get any gas estimation for a transfer between two EOA; Every attempt ends in \"err: insufficient funds for transfer: address [from] (supplied gas ...)\". The \"from\" address contains more than 9 ETH and We get this error even trying to estimate a transfer of one single wei. No matter the value, We always get this error with this particular \"from\" address. Changing \"to\" address does not solve the error. Any other ETH transfer estimation, with different \"from\" addresses, works as intended.\r\n\r\n#### Steps to reproduce the behaviour\r\n\r\nCall web3.eth.estimateGas using the following payload:\r\n\r\n```\r\n{\r\n  \"from\": \"redacted\",\r\n  \"to\": \"redacted\",\r\n  \"value\": \"1000000000000000000\",\r\n  \"data\": \"0x\"\r\n}\r\n```\r\nI'm sorry that I'm not able to publicly provide the \"from\" and \"to\" addresses, but I can do it privately, so please let me know if it can help! Thanks.",
  "closed_by": {
    "login": "karalabe",
    "id": 129561,
    "node_id": "MDQ6VXNlcjEyOTU2MQ==",
    "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/karalabe",
    "html_url": "https://github.com/karalabe",
    "followers_url": "https://api.github.com/users/karalabe/followers",
    "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
    "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
    "organizations_url": "https://api.github.com/users/karalabe/orgs",
    "repos_url": "https://api.github.com/users/karalabe/repos",
    "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
    "received_events_url": "https://api.github.com/users/karalabe/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22997/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22997/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/854662297",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/22997#issuecomment-854662297",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22997",
    "id": 854662297,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg1NDY2MjI5Nw==",
    "user": {
      "login": "holiman",
      "id": 142290,
      "node_id": "MDQ6VXNlcjE0MjI5MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/142290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/holiman",
      "html_url": "https://github.com/holiman",
      "followers_url": "https://api.github.com/users/holiman/followers",
      "following_url": "https://api.github.com/users/holiman/following{/other_user}",
      "gists_url": "https://api.github.com/users/holiman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/holiman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/holiman/subscriptions",
      "organizations_url": "https://api.github.com/users/holiman/orgs",
      "repos_url": "https://api.github.com/users/holiman/repos",
      "events_url": "https://api.github.com/users/holiman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/holiman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-06-04T12:19:40Z",
    "updated_at": "2021-06-04T12:19:40Z",
    "author_association": "MEMBER",
    "body": "The node which you are running this estimation against -- is it in sync? \r\nDid you try it against a public and synced backend, e.g. infura?  ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/854662297/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/855687305",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/22997#issuecomment-855687305",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22997",
    "id": 855687305,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg1NTY4NzMwNQ==",
    "user": {
      "login": "mdeliadi",
      "id": 41289680,
      "node_id": "MDQ6VXNlcjQxMjg5Njgw",
      "avatar_url": "https://avatars.githubusercontent.com/u/41289680?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mdeliadi",
      "html_url": "https://github.com/mdeliadi",
      "followers_url": "https://api.github.com/users/mdeliadi/followers",
      "following_url": "https://api.github.com/users/mdeliadi/following{/other_user}",
      "gists_url": "https://api.github.com/users/mdeliadi/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mdeliadi/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mdeliadi/subscriptions",
      "organizations_url": "https://api.github.com/users/mdeliadi/orgs",
      "repos_url": "https://api.github.com/users/mdeliadi/repos",
      "events_url": "https://api.github.com/users/mdeliadi/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mdeliadi/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-06-07T07:49:21Z",
    "updated_at": "2021-06-07T07:49:21Z",
    "author_association": "NONE",
    "body": "Hello @holiman ! We tried this estimation against two nodes, both in sync, and got the same error. We also tried against a public and synced backend, Infura, and there the estimation worked!",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/855687305/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/855727056",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/22997#issuecomment-855727056",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22997",
    "id": 855727056,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg1NTcyNzA1Ng==",
    "user": {
      "login": "holiman",
      "id": 142290,
      "node_id": "MDQ6VXNlcjE0MjI5MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/142290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/holiman",
      "html_url": "https://github.com/holiman",
      "followers_url": "https://api.github.com/users/holiman/followers",
      "following_url": "https://api.github.com/users/holiman/following{/other_user}",
      "gists_url": "https://api.github.com/users/holiman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/holiman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/holiman/subscriptions",
      "organizations_url": "https://api.github.com/users/holiman/orgs",
      "repos_url": "https://api.github.com/users/holiman/repos",
      "events_url": "https://api.github.com/users/holiman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/holiman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-06-07T08:35:54Z",
    "updated_at": "2021-06-07T08:35:54Z",
    "author_association": "MEMBER",
    "body": "What does the `eth.getBalance(...)` return on the node for the address in question? Does it return something non-zero? ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/855727056/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/855758777",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/22997#issuecomment-855758777",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22997",
    "id": 855758777,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg1NTc1ODc3Nw==",
    "user": {
      "login": "mdeliadi",
      "id": 41289680,
      "node_id": "MDQ6VXNlcjQxMjg5Njgw",
      "avatar_url": "https://avatars.githubusercontent.com/u/41289680?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mdeliadi",
      "html_url": "https://github.com/mdeliadi",
      "followers_url": "https://api.github.com/users/mdeliadi/followers",
      "following_url": "https://api.github.com/users/mdeliadi/following{/other_user}",
      "gists_url": "https://api.github.com/users/mdeliadi/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mdeliadi/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mdeliadi/subscriptions",
      "organizations_url": "https://api.github.com/users/mdeliadi/orgs",
      "repos_url": "https://api.github.com/users/mdeliadi/repos",
      "events_url": "https://api.github.com/users/mdeliadi/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mdeliadi/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-06-07T09:14:29Z",
    "updated_at": "2021-06-07T09:14:29Z",
    "author_association": "NONE",
    "body": "@holiman eth.getBalance(...) returns something non-zero and it's aligned to the balance shown in Etherscan. In addition, I can see that the owner removed almost eveything from its wallet. I've re-tried the gas estimation and now it's working! I suspect that whatever caused the issue got fixed after the successful transfer!",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/855758777/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/856734347",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/22997#issuecomment-856734347",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22997",
    "id": 856734347,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg1NjczNDM0Nw==",
    "user": {
      "login": "MariusVanDerWijden",
      "id": 16664698,
      "node_id": "MDQ6VXNlcjE2NjY0Njk4",
      "avatar_url": "https://avatars.githubusercontent.com/u/16664698?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MariusVanDerWijden",
      "html_url": "https://github.com/MariusVanDerWijden",
      "followers_url": "https://api.github.com/users/MariusVanDerWijden/followers",
      "following_url": "https://api.github.com/users/MariusVanDerWijden/following{/other_user}",
      "gists_url": "https://api.github.com/users/MariusVanDerWijden/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MariusVanDerWijden/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MariusVanDerWijden/subscriptions",
      "organizations_url": "https://api.github.com/users/MariusVanDerWijden/orgs",
      "repos_url": "https://api.github.com/users/MariusVanDerWijden/repos",
      "events_url": "https://api.github.com/users/MariusVanDerWijden/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MariusVanDerWijden/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-06-08T12:45:21Z",
    "updated_at": "2021-06-08T12:45:21Z",
    "author_association": "MEMBER",
    "body": "How old was the from address? E.g. did it recently receive the funds or was it funded for a longer period of time? ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/856734347/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/857504267",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/22997#issuecomment-857504267",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22997",
    "id": 857504267,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg1NzUwNDI2Nw==",
    "user": {
      "login": "mdeliadi",
      "id": 41289680,
      "node_id": "MDQ6VXNlcjQxMjg5Njgw",
      "avatar_url": "https://avatars.githubusercontent.com/u/41289680?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mdeliadi",
      "html_url": "https://github.com/mdeliadi",
      "followers_url": "https://api.github.com/users/mdeliadi/followers",
      "following_url": "https://api.github.com/users/mdeliadi/following{/other_user}",
      "gists_url": "https://api.github.com/users/mdeliadi/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mdeliadi/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mdeliadi/subscriptions",
      "organizations_url": "https://api.github.com/users/mdeliadi/orgs",
      "repos_url": "https://api.github.com/users/mdeliadi/repos",
      "events_url": "https://api.github.com/users/mdeliadi/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mdeliadi/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-06-09T08:38:48Z",
    "updated_at": "2021-06-09T08:38:48Z",
    "author_association": "NONE",
    "body": "Hello @MariusVanDerWijden ! The oldest transaction in the wallet is an ETH inbound transfer dated 2018-06-05. From Etherscan I can see it operated until 2021-05-23 so the issue appeared in between this date and 2021-06-04, when the owner was able to move them funds again.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/857504267/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/863032448",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/22997#issuecomment-863032448",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22997",
    "id": 863032448,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg2MzAzMjQ0OA==",
    "user": {
      "login": "karalabe",
      "id": 129561,
      "node_id": "MDQ6VXNlcjEyOTU2MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/karalabe",
      "html_url": "https://github.com/karalabe",
      "followers_url": "https://api.github.com/users/karalabe/followers",
      "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
      "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
      "organizations_url": "https://api.github.com/users/karalabe/orgs",
      "repos_url": "https://api.github.com/users/karalabe/repos",
      "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/karalabe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-06-17T08:15:32Z",
    "updated_at": "2021-06-17T08:15:32Z",
    "author_association": "MEMBER",
    "body": "Unfortunately there's not much we can go on here. There isn't really anything that could have caused this to \"not work\" for 10 days and then start working again. Our best hunch is that the node might not have been in sync yet. Still, without any other infromation, we'll have to close this.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/863032448/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
