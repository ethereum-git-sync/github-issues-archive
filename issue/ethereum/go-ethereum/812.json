{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/812",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/812/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/812/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/812/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/812",
  "id": 70941727,
  "node_id": "MDU6SXNzdWU3MDk0MTcyNw==",
  "number": 812,
  "title": "RPC contract function call with parameters not working",
  "user": {
    "login": "tinybike",
    "id": 2637020,
    "node_id": "MDQ6VXNlcjI2MzcwMjA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/2637020?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/tinybike",
    "html_url": "https://github.com/tinybike",
    "followers_url": "https://api.github.com/users/tinybike/followers",
    "following_url": "https://api.github.com/users/tinybike/following{/other_user}",
    "gists_url": "https://api.github.com/users/tinybike/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/tinybike/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/tinybike/subscriptions",
    "organizations_url": "https://api.github.com/users/tinybike/orgs",
    "repos_url": "https://api.github.com/users/tinybike/repos",
    "events_url": "https://api.github.com/users/tinybike/events{/privacy}",
    "received_events_url": "https://api.github.com/users/tinybike/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 7,
  "created_at": "2015-04-25T17:33:53Z",
  "updated_at": "2015-04-26T00:00:43Z",
  "closed_at": "2015-04-25T23:47:55Z",
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": "I'm having trouble getting function calls working when they take parameters.  Here's a minimal example, in Serpent:\n\n```\ndef double(v):\n    return(v*2)\n```\n\nThis contract is on chain at address `0x5204f18c652d1c31c6a5968cb65e011915285a50`.  I attempted to call this contract using curl:\n\n```\ncurl --data '{\"jsonrpc\":\"2.0\",\"method\":\"eth_call\",\"params\":[{\"from\":\"0x63524e3fe4791aefce1e932bbfb3fdf375bfad89\",\"to\":\"0x5204f18c652d1c31c6a5968cb65e011915285a50\",\"data\":\"0x6ffa1caa0000000000000000000000000000000000000000000000000000000000000003\",\"gas\":700000, \"gasPrice\":90000}],\"id\":1}' http://127.0.0.1:8545\n```\n\nThe ABI data `0x6ffa1caa0000000000000000000000000000000000000000000000000000000000000003` was generated with https://github.com/tinybike/ethrpc.js/blob/master/ethrpc.js (and verified against https://github.com/etherex/pyepm/blob/master/pyepm/api.py#L21-L38).  Generating ABI data using pyepm's API has worked previously.\n\nThis data should correspond to a function call of `double(3)`.  However, this command produces an output of 0x:\n\n```\n{\n    \"id\": 1,\n    \"jsonrpc\": \"2.0\",\n    \"result\": \"0x\"\n}\n```\n\nAs per @obscuren's advice, I started geth with `--vmdebug --vmodule=api=6`, and I see the following output when I run the above curl command:\n\n```\nI0425 10:24:27.579738   24602 api.go:42] eth_call [{\"from\":\"0x63524e3fe4791aefce1e932bbfb3fdf375bfad89\",\"to\":\"0x5204f18c652d1c31c6a5968cb65e011915285a50\",\"data\":\"0x6ffa1caa0000000000000000000000000000000000000000000000000000000000000003\",\"gas\":70000000, \"gasPrice\":900000,\"value\":70000000}]\nI0425 10:24:27.580766   24602 vm.go:898] (1) (63524e3f) 5204f18c652d1c31c6a5968cb65e011915285a50 (code=67) gas: 70000000 (d) 06ffa1caa000000000000000000000000000000000000000000000000000000000000003\nI0425 10:24:27.580851   24602 vm.go:898] (pc) 0   -o- PUSH29         (m) 0    (s) 0    (g) 3   (70000000) => 0x0100000000000000000000000000000000000000000000000000000000\nI0425 10:24:27.580907   24602 vm.go:898] (pc) 30  -o- PUSH1          (m) 0    (s) 1    (g) 3   (69999997) => 0x00\nI0425 10:24:27.580956   24602 vm.go:898] (pc) 32  -o- CALLDATALOAD   (m) 0    (s) 2    (g) 3   (69999994) => 0x06ffa1caa0000000000000000000000000000000000000000000000000000000\nI0425 10:24:27.581020   24602 vm.go:898] (pc) 33  -o- DIV            (m) 0    (s) 2    (g) 5   (69999991) 3165539736939113046451851213928325670297533533575141603514676856534140452864 / 26959946667150639794667015087019630673637144422540572481103610249216 = 117416394\nI0425 10:24:27.581067   24602 vm.go:898] (pc) 34  -o- PUSH4          (m) 0    (s) 1    (g) 3   (69999986) => 0x6ffa1caa\nI0425 10:24:27.581112   24602 vm.go:898] (pc) 39  -o- DUP2           (m) 0    (s) 2    (g) 3   (69999983) => [2] 0x06ffa1ca\nI0425 10:24:27.581160   24602 vm.go:898] (pc) 40  -o- EQ             (m) 0    (s) 3    (g) 3   (69999980) 1878662314 == 117416394\nI0425 10:24:27.581198   24602 vm.go:898] (pc) 41  -o- ISZERO         (m) 0    (s) 2    (g) 3   (69999977)\nI0425 10:24:27.581242   24602 vm.go:898] (pc) 42  -o- PUSH1          (m) 0    (s) 2    (g) 3   (69999974) => 0x41\nI0425 10:24:27.581289   24602 vm.go:898] (pc) 44  -o- JUMPI          (m) 0    (s) 3    (g) 10  (69999971) ~> 65\nI0425 10:24:27.581328   24602 vm.go:898] (pc) 65  -o- JUMPDEST       (m) 0    (s) 1    (g) 1   (69999961)\nI0425 10:24:27.581366   24602 vm.go:898] (pc) 66  -o- POP            (m) 0    (s) 1    (g) 2   (69999960)\nI0425 10:24:27.581404   24602 vm.go:898] (pc) 67  -o- STOP           (m) 0    (s) 0    (g) 0   (69999958)\nI0425 10:24:27.581433   24602 vm.go:898] message call took 890.212Âµs\n```\n",
  "closed_by": {
    "login": "tinybike",
    "id": 2637020,
    "node_id": "MDQ6VXNlcjI2MzcwMjA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/2637020?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/tinybike",
    "html_url": "https://github.com/tinybike",
    "followers_url": "https://api.github.com/users/tinybike/followers",
    "following_url": "https://api.github.com/users/tinybike/following{/other_user}",
    "gists_url": "https://api.github.com/users/tinybike/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/tinybike/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/tinybike/subscriptions",
    "organizations_url": "https://api.github.com/users/tinybike/orgs",
    "repos_url": "https://api.github.com/users/tinybike/repos",
    "events_url": "https://api.github.com/users/tinybike/events{/privacy}",
    "received_events_url": "https://api.github.com/users/tinybike/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/812/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/812/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/96288553",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/812#issuecomment-96288553",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/812",
    "id": 96288553,
    "node_id": "MDEyOklzc3VlQ29tbWVudDk2Mjg4NTUz",
    "user": {
      "login": "joeykrug",
      "id": 5925937,
      "node_id": "MDQ6VXNlcjU5MjU5Mzc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5925937?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/joeykrug",
      "html_url": "https://github.com/joeykrug",
      "followers_url": "https://api.github.com/users/joeykrug/followers",
      "following_url": "https://api.github.com/users/joeykrug/following{/other_user}",
      "gists_url": "https://api.github.com/users/joeykrug/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/joeykrug/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/joeykrug/subscriptions",
      "organizations_url": "https://api.github.com/users/joeykrug/orgs",
      "repos_url": "https://api.github.com/users/joeykrug/repos",
      "events_url": "https://api.github.com/users/joeykrug/events{/privacy}",
      "received_events_url": "https://api.github.com/users/joeykrug/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-04-25T22:23:27Z",
    "updated_at": "2015-04-25T22:23:27Z",
    "author_association": "MEMBER",
    "body": "Here's your problem: `\"gas\":70000000`\n\nBlock gas limit is 3.14M\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/96288553/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/96289545",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/812#issuecomment-96289545",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/812",
    "id": 96289545,
    "node_id": "MDEyOklzc3VlQ29tbWVudDk2Mjg5NTQ1",
    "user": {
      "login": "tinybike",
      "id": 2637020,
      "node_id": "MDQ6VXNlcjI2MzcwMjA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2637020?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tinybike",
      "html_url": "https://github.com/tinybike",
      "followers_url": "https://api.github.com/users/tinybike/followers",
      "following_url": "https://api.github.com/users/tinybike/following{/other_user}",
      "gists_url": "https://api.github.com/users/tinybike/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tinybike/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tinybike/subscriptions",
      "organizations_url": "https://api.github.com/users/tinybike/orgs",
      "repos_url": "https://api.github.com/users/tinybike/repos",
      "events_url": "https://api.github.com/users/tinybike/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tinybike/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-04-25T22:49:48Z",
    "updated_at": "2015-04-25T22:58:08Z",
    "author_association": "MEMBER",
    "body": "Changing that doesn't fix anything.  Updated issue.\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/96289545/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/96289980",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/812#issuecomment-96289980",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/812",
    "id": 96289980,
    "node_id": "MDEyOklzc3VlQ29tbWVudDk2Mjg5OTgw",
    "user": {
      "login": "joeykrug",
      "id": 5925937,
      "node_id": "MDQ6VXNlcjU5MjU5Mzc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5925937?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/joeykrug",
      "html_url": "https://github.com/joeykrug",
      "followers_url": "https://api.github.com/users/joeykrug/followers",
      "following_url": "https://api.github.com/users/joeykrug/following{/other_user}",
      "gists_url": "https://api.github.com/users/joeykrug/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/joeykrug/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/joeykrug/subscriptions",
      "organizations_url": "https://api.github.com/users/joeykrug/orgs",
      "repos_url": "https://api.github.com/users/joeykrug/repos",
      "events_url": "https://api.github.com/users/joeykrug/events{/privacy}",
      "received_events_url": "https://api.github.com/users/joeykrug/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-04-25T23:02:31Z",
    "updated_at": "2015-04-25T23:11:33Z",
    "author_association": "MEMBER",
    "body": "Making an rpc call works for me:\n`Sending rpc:\n{\n    \"id\": 2, \n    \"jsonrpc\": \"2.0\", \n    \"method\": \"eth_sendTransaction\", \n    \"params\": [\n        {\n            \"data\": \"0x6ffa1caa0000000000000000000000000000000000000000000000000000000000000002\", \n            \"from\": \"0x1c11aa45c792e202e9ffdc2f12f99d0d209bef70\", \n            \"gas\": \"0x2dc6c0\", \n            \"to\": \"0x5204f18c652d1c31c6a5968cb65e011915285a50\"\n        }\n    ]\n}`\n\n\"result\": `\"0x0000000000000000000000000000000000000000000000000000000000000004\"`\n\nSeems curl calls w/ parameters are broken though\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/96289980/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/96296028",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/812#issuecomment-96296028",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/812",
    "id": 96296028,
    "node_id": "MDEyOklzc3VlQ29tbWVudDk2Mjk2MDI4",
    "user": {
      "login": "tinybike",
      "id": 2637020,
      "node_id": "MDQ6VXNlcjI2MzcwMjA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2637020?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tinybike",
      "html_url": "https://github.com/tinybike",
      "followers_url": "https://api.github.com/users/tinybike/followers",
      "following_url": "https://api.github.com/users/tinybike/following{/other_user}",
      "gists_url": "https://api.github.com/users/tinybike/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tinybike/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tinybike/subscriptions",
      "organizations_url": "https://api.github.com/users/tinybike/orgs",
      "repos_url": "https://api.github.com/users/tinybike/repos",
      "events_url": "https://api.github.com/users/tinybike/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tinybike/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-04-25T23:47:55Z",
    "updated_at": "2015-04-25T23:47:55Z",
    "author_association": "MEMBER",
    "body": "For some reason, this seems to have fixed itself -- curl + my custom encoder are both working now.  Puzzled, but closing this for now, will re-open if it breaks again.\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/96296028/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/96296124",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/812#issuecomment-96296124",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/812",
    "id": 96296124,
    "node_id": "MDEyOklzc3VlQ29tbWVudDk2Mjk2MTI0",
    "user": {
      "login": "obscuren",
      "id": 6264126,
      "node_id": "MDQ6VXNlcjYyNjQxMjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6264126?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/obscuren",
      "html_url": "https://github.com/obscuren",
      "followers_url": "https://api.github.com/users/obscuren/followers",
      "following_url": "https://api.github.com/users/obscuren/following{/other_user}",
      "gists_url": "https://api.github.com/users/obscuren/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/obscuren/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/obscuren/subscriptions",
      "organizations_url": "https://api.github.com/users/obscuren/orgs",
      "repos_url": "https://api.github.com/users/obscuren/repos",
      "events_url": "https://api.github.com/users/obscuren/events{/privacy}",
      "received_events_url": "https://api.github.com/users/obscuren/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-04-25T23:50:59Z",
    "updated_at": "2015-04-25T23:50:59Z",
    "author_association": "CONTRIBUTOR",
    "body": "Just to confirm:\n\n```\n go-ethereum git:(develop) $ curl --data '{\"jsonrpc\":\"2.0\",\"method\":\"eth_call\",\"params\":[{\"from\":\"0x63524e3fe4791aefce1e932bbfb3fdf375bfad89\",\"to\":\"0x5204f18c652d1c31c6a5968cb65e011915285a50\",\"data\":\"0x6ffa1caa0000000000000000000000000000000000000000000000000000000000000003\",\"gas\":700000, \"gasPrice\":90000}],\"id\":1}' http://127.0.0.1:8545\n{\n    \"id\": 1,\n    \"jsonrpc\": \"2.0\",\n    \"result\": \"0x0000000000000000000000000000000000000000000000000000000000000006\"\n}\n```\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/96296124/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/96296204",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/812#issuecomment-96296204",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/812",
    "id": 96296204,
    "node_id": "MDEyOklzc3VlQ29tbWVudDk2Mjk2MjA0",
    "user": {
      "login": "tinybike",
      "id": 2637020,
      "node_id": "MDQ6VXNlcjI2MzcwMjA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2637020?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tinybike",
      "html_url": "https://github.com/tinybike",
      "followers_url": "https://api.github.com/users/tinybike/followers",
      "following_url": "https://api.github.com/users/tinybike/following{/other_user}",
      "gists_url": "https://api.github.com/users/tinybike/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tinybike/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tinybike/subscriptions",
      "organizations_url": "https://api.github.com/users/tinybike/orgs",
      "repos_url": "https://api.github.com/users/tinybike/repos",
      "events_url": "https://api.github.com/users/tinybike/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tinybike/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-04-25T23:53:17Z",
    "updated_at": "2015-04-25T23:53:17Z",
    "author_association": "MEMBER",
    "body": "Yep, same result I'm getting!  Never been so happy to see the number 6 in my life.\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/96296204/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/96297311",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/812#issuecomment-96297311",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/812",
    "id": 96297311,
    "node_id": "MDEyOklzc3VlQ29tbWVudDk2Mjk3MzEx",
    "user": {
      "login": "obscuren",
      "id": 6264126,
      "node_id": "MDQ6VXNlcjYyNjQxMjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6264126?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/obscuren",
      "html_url": "https://github.com/obscuren",
      "followers_url": "https://api.github.com/users/obscuren/followers",
      "following_url": "https://api.github.com/users/obscuren/following{/other_user}",
      "gists_url": "https://api.github.com/users/obscuren/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/obscuren/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/obscuren/subscriptions",
      "organizations_url": "https://api.github.com/users/obscuren/orgs",
      "repos_url": "https://api.github.com/users/obscuren/repos",
      "events_url": "https://api.github.com/users/obscuren/events{/privacy}",
      "received_events_url": "https://api.github.com/users/obscuren/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-04-26T00:00:43Z",
    "updated_at": "2015-04-26T00:00:43Z",
    "author_association": "CONTRIBUTOR",
    "body": ":+1: \n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/96297311/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
