{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22229",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22229/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22229/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22229/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/22229",
  "id": 793316102,
  "node_id": "MDU6SXNzdWU3OTMzMTYxMDI=",
  "number": 22229,
  "title": "Transaction recieved from subscribtion, but does not exist in the TX pool",
  "user": {
    "login": "iht76",
    "id": 38973674,
    "node_id": "MDQ6VXNlcjM4OTczNjc0",
    "avatar_url": "https://avatars.githubusercontent.com/u/38973674?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/iht76",
    "html_url": "https://github.com/iht76",
    "followers_url": "https://api.github.com/users/iht76/followers",
    "following_url": "https://api.github.com/users/iht76/following{/other_user}",
    "gists_url": "https://api.github.com/users/iht76/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/iht76/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/iht76/subscriptions",
    "organizations_url": "https://api.github.com/users/iht76/orgs",
    "repos_url": "https://api.github.com/users/iht76/repos",
    "events_url": "https://api.github.com/users/iht76/events{/privacy}",
    "received_events_url": "https://api.github.com/users/iht76/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 268304226,
      "node_id": "MDU6TGFiZWwyNjgzMDQyMjY=",
      "url": "https://api.github.com/repos/ethereum/go-ethereum/labels/type:docs",
      "name": "type:docs",
      "color": "fef2c0",
      "default": false,
      "description": null
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 5,
  "created_at": "2021-01-25T11:52:22Z",
  "updated_at": "2021-02-03T20:33:37Z",
  "closed_at": "2021-02-03T20:33:37Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "I am running local Geth and I subscribe to pending transactions....\r\nso I start receiving the stream, however there are transactions which were broadcasted to the subscribtion (so I do recieve them), but when I check in the tx pool (via txpool.content) they do not exist there...\r\n\r\nWhy do they not appear in the tx pool, BUT get broadcasted via the subscribtion?\r\n\r\nShould the Tx not enter in the Tx pool when the node recieves it, and then be broadcasted to any subscribtions?",
  "closed_by": {
    "login": "holiman",
    "id": 142290,
    "node_id": "MDQ6VXNlcjE0MjI5MA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/142290?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/holiman",
    "html_url": "https://github.com/holiman",
    "followers_url": "https://api.github.com/users/holiman/followers",
    "following_url": "https://api.github.com/users/holiman/following{/other_user}",
    "gists_url": "https://api.github.com/users/holiman/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/holiman/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/holiman/subscriptions",
    "organizations_url": "https://api.github.com/users/holiman/orgs",
    "repos_url": "https://api.github.com/users/holiman/repos",
    "events_url": "https://api.github.com/users/holiman/events{/privacy}",
    "received_events_url": "https://api.github.com/users/holiman/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22229/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22229/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/768228209",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/22229#issuecomment-768228209",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22229",
    "id": 768228209,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc2ODIyODIwOQ==",
    "user": {
      "login": "MariusVanDerWijden",
      "id": 16664698,
      "node_id": "MDQ6VXNlcjE2NjY0Njk4",
      "avatar_url": "https://avatars.githubusercontent.com/u/16664698?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MariusVanDerWijden",
      "html_url": "https://github.com/MariusVanDerWijden",
      "followers_url": "https://api.github.com/users/MariusVanDerWijden/followers",
      "following_url": "https://api.github.com/users/MariusVanDerWijden/following{/other_user}",
      "gists_url": "https://api.github.com/users/MariusVanDerWijden/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MariusVanDerWijden/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MariusVanDerWijden/subscriptions",
      "organizations_url": "https://api.github.com/users/MariusVanDerWijden/orgs",
      "repos_url": "https://api.github.com/users/MariusVanDerWijden/repos",
      "events_url": "https://api.github.com/users/MariusVanDerWijden/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MariusVanDerWijden/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-01-27T11:39:50Z",
    "updated_at": "2021-01-27T11:39:50Z",
    "author_association": "MEMBER",
    "body": "It could be that the txpool already dropped the transaction. The txpool only has a limited number of slots and if they are filled up, transactions that pay too little gas price are dropped. If the node received a replacement transaction (a transaction from the same sender with the same nonce but 10% more gas), it will also drop the old transaction. ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/768228209/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/768260859",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/22229#issuecomment-768260859",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22229",
    "id": 768260859,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc2ODI2MDg1OQ==",
    "user": {
      "login": "iht76",
      "id": 38973674,
      "node_id": "MDQ6VXNlcjM4OTczNjc0",
      "avatar_url": "https://avatars.githubusercontent.com/u/38973674?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/iht76",
      "html_url": "https://github.com/iht76",
      "followers_url": "https://api.github.com/users/iht76/followers",
      "following_url": "https://api.github.com/users/iht76/following{/other_user}",
      "gists_url": "https://api.github.com/users/iht76/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/iht76/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/iht76/subscriptions",
      "organizations_url": "https://api.github.com/users/iht76/orgs",
      "repos_url": "https://api.github.com/users/iht76/repos",
      "events_url": "https://api.github.com/users/iht76/events{/privacy}",
      "received_events_url": "https://api.github.com/users/iht76/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-01-27T12:44:15Z",
    "updated_at": "2021-01-27T12:44:43Z",
    "author_association": "NONE",
    "body": "in this case the transaction is still pending and its not dropped .... it just doesnt appear in my Tx pool (my node tx pool)\r\nand if its not in the pool, how and why do I recieve it via the subscribtion? ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/768260859/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/768940043",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/22229#issuecomment-768940043",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22229",
    "id": 768940043,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc2ODk0MDA0Mw==",
    "user": {
      "login": "ligi",
      "id": 111600,
      "node_id": "MDQ6VXNlcjExMTYwMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/111600?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ligi",
      "html_url": "https://github.com/ligi",
      "followers_url": "https://api.github.com/users/ligi/followers",
      "following_url": "https://api.github.com/users/ligi/following{/other_user}",
      "gists_url": "https://api.github.com/users/ligi/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ligi/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ligi/subscriptions",
      "organizations_url": "https://api.github.com/users/ligi/orgs",
      "repos_url": "https://api.github.com/users/ligi/repos",
      "events_url": "https://api.github.com/users/ligi/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ligi/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-01-28T10:00:55Z",
    "updated_at": "2021-01-28T10:00:55Z",
    "author_association": "MEMBER",
    "body": "I guess it is just not in the pool anymore. Not really sure what action we can take here. Does it break any of your use-cases?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/768940043/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/768954900",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/22229#issuecomment-768954900",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22229",
    "id": 768954900,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc2ODk1NDkwMA==",
    "user": {
      "login": "iht76",
      "id": 38973674,
      "node_id": "MDQ6VXNlcjM4OTczNjc0",
      "avatar_url": "https://avatars.githubusercontent.com/u/38973674?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/iht76",
      "html_url": "https://github.com/iht76",
      "followers_url": "https://api.github.com/users/iht76/followers",
      "following_url": "https://api.github.com/users/iht76/following{/other_user}",
      "gists_url": "https://api.github.com/users/iht76/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/iht76/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/iht76/subscriptions",
      "organizations_url": "https://api.github.com/users/iht76/orgs",
      "repos_url": "https://api.github.com/users/iht76/repos",
      "events_url": "https://api.github.com/users/iht76/events{/privacy}",
      "received_events_url": "https://api.github.com/users/iht76/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-01-28T10:26:33Z",
    "updated_at": "2021-01-28T10:26:33Z",
    "author_association": "NONE",
    "body": "What I dont really understand is how the subscribtion works .... why I am recieving a transaction which is not in the nodes pool? Perhaps it never went through it and I got it from other node? I would expect that if I recieve a transaction throug subscribtion,  it would first go through the nodes pool, no ? \r\n\r\nI am trying to do fast check of say 2k transactions if they are mined or not.... if i do that tx by tx (web3.eth.getTransaction(txHash); its too slow, so instead i was thinking that downloading the nodes pool at once and doing the checks locally will solve that - and it does, however some txs never go through the node. Perhaps i shoud increase the node slots for pending txs?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/768954900/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/772803887",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/22229#issuecomment-772803887",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22229",
    "id": 772803887,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc3MjgwMzg4Nw==",
    "user": {
      "login": "holiman",
      "id": 142290,
      "node_id": "MDQ6VXNlcjE0MjI5MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/142290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/holiman",
      "html_url": "https://github.com/holiman",
      "followers_url": "https://api.github.com/users/holiman/followers",
      "following_url": "https://api.github.com/users/holiman/following{/other_user}",
      "gists_url": "https://api.github.com/users/holiman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/holiman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/holiman/subscriptions",
      "organizations_url": "https://api.github.com/users/holiman/orgs",
      "repos_url": "https://api.github.com/users/holiman/repos",
      "events_url": "https://api.github.com/users/holiman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/holiman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-02-03T20:33:33Z",
    "updated_at": "2021-02-03T20:33:33Z",
    "author_association": "MEMBER",
    "body": "> why I am recieving a transaction which is not in the nodes pool? \r\n\r\n1. New tx arrives -> sent to the pool + send out on the internal channels, which get's pushed to subscriptions. \r\n2. Now the tx exists in two totally separate places: as a piece of data in a subscription-pack, to be processed by the eventsystem, and as a transaction in the pool\r\n3. Something happens: a higher priced one comes in, and it gets dropped by the pool. \r\n4. You process the notification, query the pool, find it missing  \r\n5. You open a github ticket :) \r\n\r\nI don't think there are any open questions here any longer, so I'm closing tihs\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/772803887/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
