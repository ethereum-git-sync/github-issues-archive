{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/16021",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/16021/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/16021/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/16021/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/16021",
  "id": 294443554,
  "node_id": "MDU6SXNzdWUyOTQ0NDM1NTQ=",
  "number": 16021,
  "title": "Better sync progress report ",
  "user": {
    "login": "evertonfraga",
    "id": 47108,
    "node_id": "MDQ6VXNlcjQ3MTA4",
    "avatar_url": "https://avatars.githubusercontent.com/u/47108?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/evertonfraga",
    "html_url": "https://github.com/evertonfraga",
    "followers_url": "https://api.github.com/users/evertonfraga/followers",
    "following_url": "https://api.github.com/users/evertonfraga/following{/other_user}",
    "gists_url": "https://api.github.com/users/evertonfraga/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/evertonfraga/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/evertonfraga/subscriptions",
    "organizations_url": "https://api.github.com/users/evertonfraga/orgs",
    "repos_url": "https://api.github.com/users/evertonfraga/repos",
    "events_url": "https://api.github.com/users/evertonfraga/events{/privacy}",
    "received_events_url": "https://api.github.com/users/evertonfraga/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2018-02-05T15:56:22Z",
  "updated_at": "2018-03-02T23:52:39Z",
  "closed_at": "2018-03-02T23:52:39Z",
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": "It would be really awesome if we could have a better stateTrie syncing estimation. That splits into two needs:\r\n1. Persist the number of imported entries \r\n1. Rough estimation of total entries (at least from the account trie)\r\n\r\nThis issue suggests the implementation of the first bullet.\r\n\r\n#### System information\r\n\r\nGeth version: `all versions`\r\nOS & Version: `All OSes`\r\nCommit hash : `-`\r\n\r\n#### Expected behaviour\r\n\r\n```\r\n> eth.syncing.pulledStates\r\nresulting in: savedStates + statesSyncedInThisSession\r\n```\r\n\r\n\r\n#### Actual behaviour\r\n\r\nIt currently resets the `pulledStates` to those synced in the current sync session.\r\n\r\n```\r\n> eth.syncing\r\n{\r\n  currentBlock: 5025380,\r\n  highestBlock: 5035893,\r\n  knownStates: 8085,\r\n  pulledStates: 646,\r\n  startingBlock: 5025259\r\n}\r\n```\r\n",
  "closed_by": {
    "login": "fjl",
    "id": 6915,
    "node_id": "MDQ6VXNlcjY5MTU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6915?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/fjl",
    "html_url": "https://github.com/fjl",
    "followers_url": "https://api.github.com/users/fjl/followers",
    "following_url": "https://api.github.com/users/fjl/following{/other_user}",
    "gists_url": "https://api.github.com/users/fjl/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/fjl/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/fjl/subscriptions",
    "organizations_url": "https://api.github.com/users/fjl/orgs",
    "repos_url": "https://api.github.com/users/fjl/repos",
    "events_url": "https://api.github.com/users/fjl/events{/privacy}",
    "received_events_url": "https://api.github.com/users/fjl/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/16021/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/16021/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/368287093",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/16021#issuecomment-368287093",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/16021",
    "id": 368287093,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2ODI4NzA5Mw==",
    "user": {
      "login": "jeffywu",
      "id": 977434,
      "node_id": "MDQ6VXNlcjk3NzQzNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/977434?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jeffywu",
      "html_url": "https://github.com/jeffywu",
      "followers_url": "https://api.github.com/users/jeffywu/followers",
      "following_url": "https://api.github.com/users/jeffywu/following{/other_user}",
      "gists_url": "https://api.github.com/users/jeffywu/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jeffywu/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jeffywu/subscriptions",
      "organizations_url": "https://api.github.com/users/jeffywu/orgs",
      "repos_url": "https://api.github.com/users/jeffywu/repos",
      "events_url": "https://api.github.com/users/jeffywu/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jeffywu/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-02-25T06:27:33Z",
    "updated_at": "2018-02-25T06:27:33Z",
    "author_association": "NONE",
    "body": "Also would like to add another feature, currently impossible to tell if the fast sync has been disabled or not. I've sync'd all the block headers and transaction receipts but the state sync is still running. I'm sure lots of people are having this problem. When geth crashes its starts all over again, not sure what's happening but having a better report would make it a lot easier to figure out.\r\n\r\nIs there any way to expose the \"mode\" flag set on the NewProtocolHandler? I think that might help.\r\nhttps://github.com/ethereum/go-ethereum/blob/master/eth/handler.go#L117\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/368287093/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/369616991",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/16021#issuecomment-369616991",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/16021",
    "id": 369616991,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2OTYxNjk5MQ==",
    "user": {
      "login": "karalabe",
      "id": 129561,
      "node_id": "MDQ6VXNlcjEyOTU2MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/karalabe",
      "html_url": "https://github.com/karalabe",
      "followers_url": "https://api.github.com/users/karalabe/followers",
      "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
      "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
      "organizations_url": "https://api.github.com/users/karalabe/orgs",
      "repos_url": "https://api.github.com/users/karalabe/repos",
      "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/karalabe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-01T14:55:07Z",
    "updated_at": "2018-03-01T14:55:07Z",
    "author_association": "MEMBER",
    "body": "@jeffallen It doesn't start over, it continues where it left off, but it doesn't maintain a counter across restarts.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/369616991/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
