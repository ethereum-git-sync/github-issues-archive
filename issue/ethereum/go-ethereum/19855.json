{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/19855",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/19855/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/19855/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/19855/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/19855",
  "id": 469756814,
  "node_id": "MDU6SXNzdWU0Njk3NTY4MTQ=",
  "number": 19855,
  "title": "Blocks rewound on fully synced node after graceful shutdown",
  "user": {
    "login": "mesudip",
    "id": 11131298,
    "node_id": "MDQ6VXNlcjExMTMxMjk4",
    "avatar_url": "https://avatars.githubusercontent.com/u/11131298?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/mesudip",
    "html_url": "https://github.com/mesudip",
    "followers_url": "https://api.github.com/users/mesudip/followers",
    "following_url": "https://api.github.com/users/mesudip/following{/other_user}",
    "gists_url": "https://api.github.com/users/mesudip/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/mesudip/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/mesudip/subscriptions",
    "organizations_url": "https://api.github.com/users/mesudip/orgs",
    "repos_url": "https://api.github.com/users/mesudip/repos",
    "events_url": "https://api.github.com/users/mesudip/events{/privacy}",
    "received_events_url": "https://api.github.com/users/mesudip/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 6,
  "created_at": "2019-07-18T13:01:10Z",
  "updated_at": "2019-07-30T12:42:04Z",
  "closed_at": "2019-07-18T13:46:00Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "Hi there,\r\n\r\n#### Expected behaviour\r\n\r\nGeth would start quickly on restart when a graceful shutdown is made\r\n\r\n#### Actual behaviour\r\n\r\nIt's going back 5000+ blocks into the past and starting to sync.\r\n(will take around 1 hrs to reach the previous block)\r\n\r\n#### Backtrace\r\n\r\n````\r\n#### Logs of just stopped container (it's fully synced and eth.syncing returns false)\r\n\r\nroot@node:~# docker logs -f --tail 20 mainnet_eth.1.girzzqzypmcq6k4sxg1eyrfhu\r\nINFO [07-18|12:17:28.873] Deep froze chain segment                 blocks=4     elapsed=2.920s    number=8084627 hash=4ea09e…9f8fa1\r\nINFO [07-18|12:17:29.187] Imported new chain segment               blocks=1     txs=109  mgas=7.993   elapsed=327.385ms mgasps=24.416  number=8174629 hash=b13258…73abf6 dirty=511.08MiB\r\nINFO [07-18|12:17:33.616] Imported new chain segment               blocks=1     txs=106  mgas=7.985   elapsed=285.686ms mgasps=27.949  number=8174630 hash=8272c5…be21be dirty=510.83MiB\r\nINFO [07-18|12:17:35.206] Imported new chain segment               blocks=1     txs=87   mgas=7.997   elapsed=292.183ms mgasps=27.369  number=8174631 hash=e22304…702232 dirty=511.02MiB\r\nINFO [07-18|12:17:36.001] Imported new chain segment               blocks=1     txs=88   mgas=7.991   elapsed=174.313ms mgasps=45.840  number=8174631 hash=aa5eaa…838d29 dirty=511.04MiB\r\nINFO [07-18|12:17:40.029] Imported new chain segment               blocks=1     txs=41   mgas=4.936   elapsed=170.688ms mgasps=28.919  number=8174632 hash=f98a45…f4d7e1 dirty=510.81MiB\r\nINFO [07-18|12:17:41.537] Imported new chain segment               blocks=1     txs=43   mgas=6.165   elapsed=173.436ms mgasps=35.546  number=8174633 hash=f9a0bb…577ba2 dirty=510.88MiB\r\nINFO [07-18|12:17:42.939] Imported new chain segment               blocks=1     txs=10   mgas=1.610   elapsed=77.752ms  mgasps=20.710  number=8174634 hash=e606fa…9af0f4 dirty=510.32MiB\r\nINFO [07-18|12:17:44.301] Imported new chain segment               blocks=1     txs=68   mgas=7.924   elapsed=279.928ms mgasps=28.306  number=8174634 hash=646f80…a98794 dirty=510.77MiB\r\nINFO [07-18|12:17:53.028] Imported new chain segment               blocks=1     txs=29   mgas=4.272   elapsed=152.088ms mgasps=28.086  number=8174635 hash=7572bd…bedb3e dirty=510.91MiB\r\nINFO [07-18|12:18:17.105] Imported new chain segment               blocks=1     txs=165  mgas=7.994   elapsed=885.257ms mgasps=9.030   number=8174636 hash=beb471…aab597 dirty=511.40MiB\r\nINFO [07-18|12:18:28.986] Imported new chain segment               blocks=1     txs=116  mgas=7.997   elapsed=1.735s    mgasps=4.607   number=8174637 hash=e0efc5…8976ce dirty=511.73MiB\r\nINFO [07-18|12:18:29.775] Deep froze chain segment                 blocks=8     elapsed=889.413ms number=8084635 hash=8a798c…685032\r\nINFO [07-18|12:18:45.245] Imported new chain segment               blocks=1     txs=149  mgas=7.987   elapsed=836.302ms mgasps=9.550   number=8174638 hash=494b9d…12d6c6 dirty=510.70MiB\r\nINFO [07-18|12:18:50.313] Imported new chain segment               blocks=1     txs=60   mgas=2.568   elapsed=177.670ms mgasps=14.455  number=8174639 hash=649618…f81401 dirty=510.62MiB\r\nINFO [07-18|12:18:54.240] Got interrupt, shutting down... \r\nINFO [07-18|12:18:54.240] WebSocket endpoint closed                url=ws://0.0.0.0:8546\r\nINFO [07-18|12:18:54.241] HTTP endpoint closed                     url=http://0.0.0.0:8545\r\nINFO [07-18|12:18:54.245] IPC endpoint closed                      url=/root/.ethereum/geth.ipc\r\nINFO [07-18|12:18:54.246] Writing cached state to disk             block=8174639 hash=649618…f81401 root=ff770f…68aa2f\r\n\r\n### Logs of just started container\r\nroot@node:~# docker logs mainnet_eth.1.r481wqt6uwkgnswkbhfx250t9 | head -n  20\r\nINFO [07-18|12:19:08.505] Maximum peer count                       ETH=50 LES=0 total=50\r\nINFO [07-18|12:19:08.506] Smartcard socket not found, disabling    err=\"stat /run/pcscd/pcscd.comm: no such file or directory\"\r\nERROR[07-18|12:19:08.509] Failed to enumerate USB devices          hub=ledger vendor=11415 failcount=1 err=\"failed to initialize libusb: libusb: unknown error [code -99]\"\r\nERROR[07-18|12:19:08.509] Failed to enumerate USB devices          hub=trezor vendor=21324 failcount=1 err=\"failed to initialize libusb: libusb: unknown error [code -99]\"\r\nERROR[07-18|12:19:08.510] Failed to enumerate USB devices          hub=trezor vendor=4617  failcount=1 err=\"failed to initialize libusb: libusb: unknown error [code -99]\"\r\nERROR[07-18|12:19:08.510] Failed to enumerate USB devices          hub=ledger vendor=11415 failcount=2 err=\"failed to initialize libusb: libusb: unknown error [code -99]\"\r\nERROR[07-18|12:19:08.510] Failed to enumerate USB devices          hub=trezor vendor=21324 failcount=2 err=\"failed to initialize libusb: libusb: unknown error [code -99]\"\r\nERROR[07-18|12:19:08.510] Failed to enumerate USB devices          hub=trezor vendor=4617  failcount=2 err=\"failed to initialize libusb: libusb: unknown error [code -99]\"\r\nINFO [07-18|12:19:08.515] Starting peer-to-peer node               instance=Geth/v1.9.1-unstable-4ac04ae0-20190717/linux-amd64/go1.12.7\r\nINFO [07-18|12:19:08.515] Allocated trie memory caches             clean=512.00MiB dirty=512.00MiB\r\nINFO [07-18|12:19:08.515] Allocated cache and file handles         database=/root/.ethereum/geth/chaindata cache=1024.00MiB handles=524288\r\nERROR[07-18|12:19:09.511] Failed to enumerate USB devices          hub=trezor vendor=21324 failcount=3 err=\"failed to initialize libusb: libusb: unknown error [code -99]\"\r\nERROR[07-18|12:19:09.512] Failed to enumerate USB devices          hub=ledger vendor=11415 failcount=3 err=\"failed to initialize libusb: libusb: unknown error [code -99]\"\r\nERROR[07-18|12:19:09.512] Failed to enumerate USB devices          hub=trezor vendor=4617  failcount=3 err=\"failed to initialize libusb: libusb: unknown error [code -99]\"\r\nINFO [07-18|12:19:19.057] Opened ancient database                  database=/root/.ethereum/geth/chaindata/ancient\r\nINFO [07-18|12:19:19.161] Initialised chain configuration          config=\"{ChainID: 1 Homestead: 1150000 DAO: 1920000 DAOSupport: true EIP150: 2463000 EIP155: 2675000 EIP158: 2675000 Byzantium: 4370000 Constantinople: 7280000  Petersburg: 7280000 Engine: ethash}\"\r\nINFO [07-18|12:19:19.161] Disk storage enabled for ethash caches   dir=/root/.ethereum/geth/ethash count=3\r\nINFO [07-18|12:19:19.161] Disk storage enabled for ethash DAGs     dir=/root/.ethash               count=2\r\nINFO [07-18|12:19:19.169] Initialising Ethereum protocol           versions=[63] network=1 dbversion=7\r\nINFO [07-18|12:19:19.177] Deep froze chain segment                 blocks=3 elapsed=111.993ms number=8084638 hash=9c7a9b…ca94e8\r\nWARN [07-18|12:19:19.270] Head state missing, repairing chain      number=8174639 hash=649618…f81401\r\nINFO [07-18|12:19:38.239] Rewound blockchain to past state         number=8169617 hash=9bc5ad…9092db\r\nINFO [07-18|12:19:38.241] Loaded most recent local header          number=8174639 hash=649618…f81401 td=11068832399083983453854 age=54s\r\nINFO [07-18|12:19:38.241] Loaded most recent local full block      number=8169617 hash=9bc5ad…9092db td=11057632602387405789173 age=18h43m12s\r\nINFO [07-18|12:19:38.241] Loaded most recent local fast block      number=8174639 hash=649618…f81401 td=11068832399083983453854 age=54s\r\nINFO [07-18|12:19:38.244] Loaded local transaction journal         transactions=0 dropped=0\r\nINFO [07-18|12:19:38.245] Regenerated local transaction journal    transactions=0 accounts=0\r\nWARN [07-18|12:19:38.245] Switch sync mode from fast sync to full sync \r\nINFO [07-18|12:19:38.663] New local node record                    seq=13446 id=f103680175fc3a69 ip=127.0.0.1 udp=30303 tcp=30303\r\nINFO [07-18|12:19:38.664] Started P2P networking                   self=enode://dcaf9bcfbf18fcdececb6694d6c2c48e70512d2a042ae7e2f228c8f2d1315ed531e9f83806a8c15298ba69130ad56883bc76073da897b8aa28527d49d27f6f7b@127.0.0.1:30303\r\nINFO [07-18|12:19:38.669] IPC endpoint opened                      url=/root/.ethereum/geth.ipc\r\nINFO [07-18|12:19:38.670] HTTP endpoint opened                     url=http://0.0.0.0:8545      cors= vhosts=*\r\nINFO [07-18|12:19:38.671] WebSocket endpoint opened                url=ws://[::]:8546\r\nINFO [07-18|12:19:46.265] New local node record                    seq=13447 id=f103680175fc3a69 ip=173.212.220.87 udp=1324  tcp=30303\r\nINFO [07-18|12:20:28.665] Block synchronisation started \r\nINFO [07-18|12:20:31.471] Importing heavy sidechain segment        blocks=2048 start=8169618 end=8171665\r\nINFO [07-18|12:20:48.932] Imported new chain segment               blocks=1    txs=180 mgas=7.983 elapsed=17.455s   mgasps=0.457 number=8169618 hash=0168c9…db3885 age=18h44m19s dirty=826.15KiB\r\nINFO [07-18|12:20:58.141] Imported new chain segment               blocks=2    txs=195 mgas=15.969 elapsed=9.208s    mgasps=1.734 number=8169620 hash=e173c1…39f178 age=18h43m56s dirty=2.69MiB\r\n\r\nroot@node:~# docker exec -it mainnet_eth.1.r481wqt6uwkgnswkbhfx250t9 geth attach\r\nINFO [07-18|12:22:42.481] Bumping default cache on mainnet         provided=1024 updated=4096\r\nWelcome to the Geth JavaScript console!\r\n\r\ninstance: Geth/v1.9.1-unstable-4ac04ae0-20190717/linux-amd64/go1.12.7\r\nat block: 8169685 (Wed, 17 Jul 2019 17:51:43 UTC)\r\n datadir: /root/.ethereum\r\n modules: admin:1.0 debug:1.0 eth:1.0 ethash:1.0 miner:1.0 net:1.0 personal:1.0 rpc:1.0 txpool:1.0 web3:1.0\r\n\r\n> eth.syncing\r\n{\r\n  currentBlock: 8169688,\r\n  highestBlock: 8174651,\r\n  knownStates: 333717387,\r\n  pulledStates: 333717387,\r\n  startingBlock: 8174634\r\n}\r\n\r\n````\r\n",
  "closed_by": {
    "login": "karalabe",
    "id": 129561,
    "node_id": "MDQ6VXNlcjEyOTU2MQ==",
    "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/karalabe",
    "html_url": "https://github.com/karalabe",
    "followers_url": "https://api.github.com/users/karalabe/followers",
    "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
    "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
    "organizations_url": "https://api.github.com/users/karalabe/orgs",
    "repos_url": "https://api.github.com/users/karalabe/repos",
    "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
    "received_events_url": "https://api.github.com/users/karalabe/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/19855/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/19855/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/512822486",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/19855#issuecomment-512822486",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/19855",
    "id": 512822486,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUxMjgyMjQ4Ng==",
    "user": {
      "login": "karalabe",
      "id": 129561,
      "node_id": "MDQ6VXNlcjEyOTU2MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/karalabe",
      "html_url": "https://github.com/karalabe",
      "followers_url": "https://api.github.com/users/karalabe/followers",
      "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
      "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
      "organizations_url": "https://api.github.com/users/karalabe/orgs",
      "repos_url": "https://api.github.com/users/karalabe/repos",
      "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/karalabe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-07-18T13:46:00Z",
    "updated_at": "2019-07-18T13:46:00Z",
    "author_association": "MEMBER",
    "body": "You didn't wait for Geth to terminate. The last log was `INFO [07-18|12:18:54.246] Writing cached state to disk             block=8174639 hash=649618…f81401 root=ff770f…68aa2f`, but nowhere did it print that it's done (it actually displays 3 of these, and then a lot of other shutdown messages).\r\n\r\nIf you are using docker, by default it gives 10 seconds for a container to terminate, which is generally not enough. You should bump that to 1 minute at least, preferably 3 to have ample wiggle room for slow writes.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/512822486/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/516361589",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/19855#issuecomment-516361589",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/19855",
    "id": 516361589,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUxNjM2MTU4OQ==",
    "user": {
      "login": "knaperek",
      "id": 1131179,
      "node_id": "MDQ6VXNlcjExMzExNzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1131179?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/knaperek",
      "html_url": "https://github.com/knaperek",
      "followers_url": "https://api.github.com/users/knaperek/followers",
      "following_url": "https://api.github.com/users/knaperek/following{/other_user}",
      "gists_url": "https://api.github.com/users/knaperek/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/knaperek/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/knaperek/subscriptions",
      "organizations_url": "https://api.github.com/users/knaperek/orgs",
      "repos_url": "https://api.github.com/users/knaperek/repos",
      "events_url": "https://api.github.com/users/knaperek/events{/privacy}",
      "received_events_url": "https://api.github.com/users/knaperek/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-07-30T10:27:11Z",
    "updated_at": "2019-07-30T10:27:11Z",
    "author_association": "NONE",
    "body": "This happens to me all the time I restart geth. I configured `stop_grace_period: 2m30s` in my Docker Compose file but it doesn't help. geth just crashes with code 137 after about 30-60 seconds (still long before Docker would try to kill it forcefully).\r\nThis has been happening to me for a long time already (~ 6 months), with usually the most recent version of geth.\r\nAny ideas? Could I perhaps force geth to make the snapshots more frequently to avoid the syncing nightmare if such a crash happens on restart?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/516361589/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/516386891",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/19855#issuecomment-516386891",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/19855",
    "id": 516386891,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUxNjM4Njg5MQ==",
    "user": {
      "login": "karalabe",
      "id": 129561,
      "node_id": "MDQ6VXNlcjEyOTU2MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/karalabe",
      "html_url": "https://github.com/karalabe",
      "followers_url": "https://api.github.com/users/karalabe/followers",
      "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
      "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
      "organizations_url": "https://api.github.com/users/karalabe/orgs",
      "repos_url": "https://api.github.com/users/karalabe/repos",
      "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/karalabe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-07-30T11:54:46Z",
    "updated_at": "2019-07-30T11:54:46Z",
    "author_association": "MEMBER",
    "body": "If it crashes, you must have crash dump. Please share them.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/516386891/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/516387167",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/19855#issuecomment-516387167",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/19855",
    "id": 516387167,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUxNjM4NzE2Nw==",
    "user": {
      "login": "karalabe",
      "id": 129561,
      "node_id": "MDQ6VXNlcjEyOTU2MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/karalabe",
      "html_url": "https://github.com/karalabe",
      "followers_url": "https://api.github.com/users/karalabe/followers",
      "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
      "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
      "organizations_url": "https://api.github.com/users/karalabe/orgs",
      "repos_url": "https://api.github.com/users/karalabe/repos",
      "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/karalabe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-07-30T11:55:48Z",
    "updated_at": "2019-07-30T11:55:48Z",
    "author_association": "MEMBER",
    "body": "Code 137 on Docker means the internal process was forcefully killed by docker https://success.docker.com/article/what-causes-a-container-to-exit-with-code-137",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/516387167/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/516396898",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/19855#issuecomment-516396898",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/19855",
    "id": 516396898,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUxNjM5Njg5OA==",
    "user": {
      "login": "knaperek",
      "id": 1131179,
      "node_id": "MDQ6VXNlcjExMzExNzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1131179?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/knaperek",
      "html_url": "https://github.com/knaperek",
      "followers_url": "https://api.github.com/users/knaperek/followers",
      "following_url": "https://api.github.com/users/knaperek/following{/other_user}",
      "gists_url": "https://api.github.com/users/knaperek/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/knaperek/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/knaperek/subscriptions",
      "organizations_url": "https://api.github.com/users/knaperek/orgs",
      "repos_url": "https://api.github.com/users/knaperek/repos",
      "events_url": "https://api.github.com/users/knaperek/events{/privacy}",
      "received_events_url": "https://api.github.com/users/knaperek/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-07-30T12:26:54Z",
    "updated_at": "2019-07-30T12:26:54Z",
    "author_association": "NONE",
    "body": "hmm, thanks @karalabe. It's hard to imagine it would need more then 2.5 minutes to clean up and shut down voluntarily, but guess I'll just increase this timeout further.\r\nAlso, I noticed this happens when geth has been running for a longer time (week+). If I try to stop it a few minutes after it's been started, it shuts down nicely.\r\n\r\nIn any case, is there perhaps any way to make geth do savepoints more frequently?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/516396898/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/516401823",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/19855#issuecomment-516401823",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/19855",
    "id": 516401823,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUxNjQwMTgyMw==",
    "user": {
      "login": "karalabe",
      "id": 129561,
      "node_id": "MDQ6VXNlcjEyOTU2MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/karalabe",
      "html_url": "https://github.com/karalabe",
      "followers_url": "https://api.github.com/users/karalabe/followers",
      "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
      "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
      "organizations_url": "https://api.github.com/users/karalabe/orgs",
      "repos_url": "https://api.github.com/users/karalabe/repos",
      "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/karalabe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-07-30T12:42:04Z",
    "updated_at": "2019-07-30T12:42:04Z",
    "author_association": "MEMBER",
    "body": "It depends on the memory allowance. But the more frequent the saves are, the more junk accumulates in the database. Could you perhaps set it to something insane (60 minutes), and wait it out and see how much time it spends on it? Some logs would still be appreciated though, just in case.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/516401823/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
