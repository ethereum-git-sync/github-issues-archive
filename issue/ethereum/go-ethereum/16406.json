{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/16406",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/16406/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/16406/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/16406/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/16406",
  "id": 309518568,
  "node_id": "MDU6SXNzdWUzMDk1MTg1Njg=",
  "number": 16406,
  "title": "Geth signing stops after a period of time",
  "user": {
    "login": "REPTILEHAUS",
    "id": 4680621,
    "node_id": "MDQ6VXNlcjQ2ODA2MjE=",
    "avatar_url": "https://avatars.githubusercontent.com/u/4680621?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/REPTILEHAUS",
    "html_url": "https://github.com/REPTILEHAUS",
    "followers_url": "https://api.github.com/users/REPTILEHAUS/followers",
    "following_url": "https://api.github.com/users/REPTILEHAUS/following{/other_user}",
    "gists_url": "https://api.github.com/users/REPTILEHAUS/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/REPTILEHAUS/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/REPTILEHAUS/subscriptions",
    "organizations_url": "https://api.github.com/users/REPTILEHAUS/orgs",
    "repos_url": "https://api.github.com/users/REPTILEHAUS/repos",
    "events_url": "https://api.github.com/users/REPTILEHAUS/events{/privacy}",
    "received_events_url": "https://api.github.com/users/REPTILEHAUS/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 1132754722,
      "node_id": "MDU6TGFiZWwxMTMyNzU0NzIy",
      "url": "https://api.github.com/repos/ethereum/go-ethereum/labels/need:more-information",
      "name": "need:more-information",
      "color": "db6fa3",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 9,
  "created_at": "2018-03-28T20:25:40Z",
  "updated_at": "2019-10-31T08:54:23Z",
  "closed_at": "2019-10-31T08:54:23Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "I have 5 clients setup (1 boot, 1 geth, 3 signers using Clique) - Most of the time they work no problem and mining starts, sometimes mining just stops with no warning nor issue/error message.\r\n\r\nAnother time I noticed that after coming to consensus on an additional external signer that mining will also stop - I have tried to find information on the order with which signers take turns and what can stop mining from happening, from looking at the code it seems that signers are chosen more so by timing than randomly but can a signer who misses their \"turn\" for whatever reason cripple or stop the other nodes from signing/validating blocks ? I would hazard a guess that this is not the case but I cant seem to tract down the issue and its is rendering my dev network useless. I know I'm not giving much to go on but there is no errors like usual such \"as bad propagated block\" all that happens is siging stops and everyone is on \"signed recently, waiting to sign again\"\r\n\r\nfor what its worth im running my signers with this \r\n```\r\n geth --datadir ~/test-net/data --mine --cache=1024 --syncmode 'full' --bootnodes=\"enode://enodeurlgoeshere@ipgoeshere:port\" --networkid 47592 --rpc --rpcapi admin,db,eth,debug,miner,net,txpool,personal,web3 --rpcport \"8545\" --rpcaddr \"0.0.0.0\" --rpccorsdomain \"*\" --unlock 914be90b2a0dd6a5b0789c2cee5836dd1f1c030 --password <(echo \"password\") console --nat \"extip:pubIPgoeshere\"\r\n```\r\n\r\n\r\n```\r\nINFO [03-28|18:15:34] Commit new mining work                   number=21271 txs=0 uncles=2 elapsed=315.821Âµs\r\nINFO [03-28|18:15:34] Successfully sealed new block            number=21271 hash=0e4d19â€¦b0854b\r\nINFO [03-28|18:15:34] ðŸ”¨ mined potential block                  number=21271 hash=0e4d19â€¦b0854b\r\nINFO [03-28|18:15:34] Commit new mining work                   number=21272 txs=0 uncles=2 elapsed=434.638Âµs\r\nINFO [03-28|18:15:34] Signed recently, must wait for others \r\nINFO [03-28|18:23:07] Regenerated local transaction journal    transactions=0 accounts=0\r\nINFO [03-28|19:23:07] Regenerated local transaction journal    transactions=0 accounts=0\r\nINFO [03-28|20:23:07] Regenerated local transaction journal    transactions=0 accounts=0\r\nINFO [03-28|21:23:07] Regenerated local transaction journal    transactions=0 accounts=0\r\n```",
  "closed_by": {
    "login": "no-response[bot]",
    "id": 32965360,
    "node_id": "MDM6Qm90MzI5NjUzNjA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/26350515?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/no-response%5Bbot%5D",
    "html_url": "https://github.com/apps/no-response",
    "followers_url": "https://api.github.com/users/no-response%5Bbot%5D/followers",
    "following_url": "https://api.github.com/users/no-response%5Bbot%5D/following{/other_user}",
    "gists_url": "https://api.github.com/users/no-response%5Bbot%5D/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/no-response%5Bbot%5D/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/no-response%5Bbot%5D/subscriptions",
    "organizations_url": "https://api.github.com/users/no-response%5Bbot%5D/orgs",
    "repos_url": "https://api.github.com/users/no-response%5Bbot%5D/repos",
    "events_url": "https://api.github.com/users/no-response%5Bbot%5D/events{/privacy}",
    "received_events_url": "https://api.github.com/users/no-response%5Bbot%5D/received_events",
    "type": "Bot",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/16406/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/16406/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/377171922",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/16406#issuecomment-377171922",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/16406",
    "id": 377171922,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3NzE3MTkyMg==",
    "user": {
      "login": "karalabe",
      "id": 129561,
      "node_id": "MDQ6VXNlcjEyOTU2MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/karalabe",
      "html_url": "https://github.com/karalabe",
      "followers_url": "https://api.github.com/users/karalabe/followers",
      "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
      "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
      "organizations_url": "https://api.github.com/users/karalabe/orgs",
      "repos_url": "https://api.github.com/users/karalabe/repos",
      "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/karalabe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-29T09:05:08Z",
    "updated_at": "2018-03-29T09:05:08Z",
    "author_association": "MEMBER",
    "body": "Quick recap on sealing in Clique:\r\n\r\n * To seal a block, you have to be authorized to do so (doh)\r\n * To ensure there is ever only one majority chain (50% + 1), a signer is only allowed to seal a new block if they had not signed one for the last `(len(signers)+1) / 2` blocks. So if there are 3 signers, each signer can only sign every 2nd block. If there are 4 signers, the majority consensus is 3 (50% + 1), so each signer can only sign every third block. This may be one error cause, because if 2 signers disconnect from the authorized 4, the chain cannot progress.\r\n * Since every authorized signer (who hasn't signed in a while) can create new blocks, we need to weigh them differently somehow, otherwise they all would just try to create new blocks and chaos would ensue. We have two mechanisms for that:\r\n    * One one hand, signers take their turn as to who **should** sign next (e.g. if we're at block N and we have K signers, then N % K is in-turn); if you're in-turn, your block is weighed 2, otherwise 1. This ensures that the network always prefers in-turn blocks over random signings.\r\n    * The second heuristic is that out-of-turn signers will delay signing by a bit to ensure the in-turn signer has a change to make and propagate its block.\r\n\r\nThere's a slight race condition possible if your in-turn signer is offline. E.g. you have 3 signers, and the in-turn one goes offline. In that case you need both the other signers to work in lockstep to progress the chain. But since both are out-of-turn, they will both mine blocks with 1 diff. Given a good timing, those blocks will be mined simultaneously, and both will be stuck on their own little world.\r\n\r\nCould you provide some more infos about your setup, maybe th eligs from each individual signer when they get stuck? That might shed some light on the issue.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/377171922/reactions",
      "total_count": 8,
      "+1": 4,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 4,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/377233987",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/16406#issuecomment-377233987",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/16406",
    "id": 377233987,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3NzIzMzk4Nw==",
    "user": {
      "login": "REPTILEHAUS",
      "id": 4680621,
      "node_id": "MDQ6VXNlcjQ2ODA2MjE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4680621?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/REPTILEHAUS",
      "html_url": "https://github.com/REPTILEHAUS",
      "followers_url": "https://api.github.com/users/REPTILEHAUS/followers",
      "following_url": "https://api.github.com/users/REPTILEHAUS/following{/other_user}",
      "gists_url": "https://api.github.com/users/REPTILEHAUS/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/REPTILEHAUS/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/REPTILEHAUS/subscriptions",
      "organizations_url": "https://api.github.com/users/REPTILEHAUS/orgs",
      "repos_url": "https://api.github.com/users/REPTILEHAUS/repos",
      "events_url": "https://api.github.com/users/REPTILEHAUS/events{/privacy}",
      "received_events_url": "https://api.github.com/users/REPTILEHAUS/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-29T13:25:05Z",
    "updated_at": "2018-03-29T13:25:05Z",
    "author_association": "NONE",
    "body": "Thanks for getting back and sure no problem I can provide logs output should I set verbosity to 4 and output to file ? My setup is basically 5 AWS EC2 instnaces, each running with Clique, genesis created with puppeth and a dedicated bootnode server also, 1 standard geth install with nothing fancy just the usual rpc commands much the same as the example signer command above. just running with verbosity 4 and i see this \r\n\r\n```\r\nDEBUG[03-29|15:11:36] HTTP registered                          service=\"&{backend:0xc420448ca0 mux:0xc420438780 quit:<nil> chainDb:0xc42006c9c0 events:0xc421366340 filtersMu:{state:0 sema:0} filters:map[]}\" namespace=eth\r\nDEBUG[03-29|15:11:36] HTTP registered                          service=&{eth:0xc420272000}                                                                                                                     namespace=admin\r\nDEBUG[03-29|15:11:36] HTTP registered                          service=&{eth:0xc420272000}                                                                                                                     namespace=debug\r\nDEBUG[03-29|15:11:36] HTTP registered                          service=\"&{config:0xc42007e380 eth:0xc420272000}\"                                                                                               namespace=debug\r\nDEBUG[03-29|15:11:36] HTTP registered                          service=\"&{net:0xc420432f00 networkVersion:47891}\"                                                                                              namespace=net\r\nINFO [03-29|15:11:36] HTTP endpoint opened                     url=http://0.0.0.0:8545 cors=* vhosts=localhost\r\nINFO [03-29|15:11:36] RLPx listener up                         self=enode://c07a353261a8006acf8fdd07cc2b8c7a6f0f7ca96dd8acfec6c3e4f4454723979f4b2d19e46ebf2ce1fa18e2a87f91cf17c30f4c9c0517283336acef76e6c7b4@[::]:30303\r\nDEBUG[03-29|15:11:36] Couldn't add port mapping                proto=tcp extport=30303 intport=30303 interface=\"UPnP or NAT-PMP\" err=\"no UPnP or NAT-PMP router discovered\"\r\nINFO [03-29|15:11:36] IPC endpoint opened                      url=/root/test-net/data/geth.ipc\r\nDEBUG[03-29|15:11:37] Found seed node in database              id=20ade6a5fbb9d043 addr=ipaddress1here:30303  age=3m14.025063702s\r\nDEBUG[03-29|15:11:37] Found seed node in database              id=95ccc5e1a0e8b2eb addr=ipaddress2here:30303  age=7h59m12.025205753s\r\nDEBUG[03-29|15:11:37] Found seed node in database              id=51c7fdf37abd52cf addr=ipaddress3here:30303 age=11m31.025278095s\r\nDEBUG[03-29|15:11:37] Found seed node in database              id=48f6d73541396876 addr=ipaddress4here:30303 age=1.025338561s\r\nINFO [03-29|15:11:37] Unlocked account                         address=0x3F82F2F04AF76178d2E4414a5CE92A71d1494EA9\r\nINFO [03-29|15:11:37] Transaction pool price threshold updated price=18000000000\r\nINFO [03-29|15:11:37] Etherbase automatically configured       address=0x3F82F2F04AF76178d2E4414a5CE92A71d1494EA9\r\nINFO [03-29|15:11:37] Starting mining operation \r\nINFO [03-29|15:11:37] Commit new mining work                   number=21272 txs=0 uncles=0 elapsed=107.032Âµs\r\nINFO [03-29|15:11:37] Signed recently, must wait for others \r\nDEBUG[03-29|15:11:37] Adding p2p peer                          name=Geth/v1.8.1-stable/l... addr=ipaddress4here:30303 peers=1\r\nDEBUG[03-29|15:11:37] Ethereum peer connected                  id=48f6d73541396876 conn=dyndial name=Geth/v1.8.1-stable/linux-amd64/go1.9.2\r\nDEBUG[03-29|15:11:37] Adding p2p peer                          name=Geth/v1.8.1-stable/l...                addr=ipaddress2here:30303  peers=2\r\nDEBUG[03-29|15:11:37] Ethereum peer connected                  id=95ccc5e1a0e8b2eb conn=dyndial name=Geth/v1.8.1-stable/linux-amd64/go1.9.2\r\nDEBUG[03-29|15:11:37] Adding p2p peer                          name=Geth/v1.8.1-stable/l...                addr=ipaddress1here:30303  peers=3\r\nDEBUG[03-29|15:11:37] Ethereum peer connected                  id=20ade6a5fbb9d043 conn=dyndial name=Geth/v1.8.1-stable/linux-amd64/go1.9.2\r\nDEBUG[03-29|15:11:37] Relaxed downloader QoS values            rtt=20s confidence=0.500 ttl=1m0s\r\nDEBUG[03-29|15:11:37] Relaxed downloader QoS values            rtt=20s confidence=0.333 ttl=1m0s\r\nDEBUG[03-29|15:11:42] Revalidated node                         b=14 id=20ade6a5fbb9d043\r\nDEBUG[03-29|15:11:44] Revalidated node                         b=16 id=20ade6a5fbb9d043\r\nDEBUG[03-29|15:11:49] Removed dead node                        b=11 id=95ccc5e1a0e8b2eb ip=ipaddress2here\r\nDEBUG[03-29|15:11:50] Revalidated node                         b=14 id=20ade6a5fbb9d043\r\nDEBUG[03-29|15:11:54] Recalculated downloader QoS values       rtt=20s confidence=0.667 ttl=1m0s\r\nDEBUG[03-29|15:11:56] Revalidated node                         b=14 id=20ade6a5fbb9d043\r\nDEBUG[03-29|15:12:03] Revalidated node                         b=14 id=20ade6a5fbb9d043\r\nDEBUG[03-29|15:12:05] Removed dead node                        b=16 id=95ccc5e1a0e8b2eb ip=ipaddress2here\r\nDEBUG[03-29|15:12:13] Revalidated node                         b=14 id=20ade6a5fbb9d043\r\nDEBUG[03-29|15:12:14] Recalculated downloader QoS values       rtt=20s confidence=0.833 ttl=1m0s\r\nDEBUG[03-29|15:12:21] Removed dead node                        b=11 id=95ccc5e1a0e8b2eb ip=ipaddress2here\r\nDEBUG[03-29|15:12:31] Removed dead node                        b=11 id=95ccc5e1a0e8b2eb ip=ipaddress2here\r\n\r\n```\r\nat the moment all 3 signers have stopped, is there anywhere in particular where i can check for why signers fall over or a specific kind of error when nothing is coming up on the screen. I can send the 4 logs of output to you somehow if you need to see them",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/377233987/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/377238085",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/16406#issuecomment-377238085",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/16406",
    "id": 377238085,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3NzIzODA4NQ==",
    "user": {
      "login": "REPTILEHAUS",
      "id": 4680621,
      "node_id": "MDQ6VXNlcjQ2ODA2MjE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4680621?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/REPTILEHAUS",
      "html_url": "https://github.com/REPTILEHAUS",
      "followers_url": "https://api.github.com/users/REPTILEHAUS/followers",
      "following_url": "https://api.github.com/users/REPTILEHAUS/following{/other_user}",
      "gists_url": "https://api.github.com/users/REPTILEHAUS/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/REPTILEHAUS/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/REPTILEHAUS/subscriptions",
      "organizations_url": "https://api.github.com/users/REPTILEHAUS/orgs",
      "repos_url": "https://api.github.com/users/REPTILEHAUS/repos",
      "events_url": "https://api.github.com/users/REPTILEHAUS/events{/privacy}",
      "received_events_url": "https://api.github.com/users/REPTILEHAUS/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-29T13:39:40Z",
    "updated_at": "2018-03-29T13:40:09Z",
    "author_association": "NONE",
    "body": "just stopped and started all 3 AWS signers and the 1 signer i have locally.. i started them back up again and see the block numbers in the output but they are all frozen like this, seems like 2 are stuck on block 2172 and 2 are stuck on block 2171\r\n\r\nsigner 1 (AWS)\r\n```\r\nINFO [03-29|15:32:09] Commit new mining work                   number=21272 txs=0 uncles=0 elapsed=117.728Âµs\r\n```\r\nsigner 2 (local instance)\r\n```\r\nINFO [03-29|15:32:09] Commit new mining work                   number=21272 txs=0 uncles=0 elapsed=117.728Âµs\r\n```\r\nnode 3 (AWS)\r\n```\r\nINFO [03-29|15:32:10] Commit new mining work                   number=21271 txs=0 uncles=0 elapsed=99.351Âµs\r\n```\r\n\r\nnode 4 (AWS)\r\n```\r\nINFO [03-29|15:31:57] Commit new mining work                   number=21271 txs=0 uncles=0 elapsed=100.583Âµs\r\n```\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/377238085/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/397819946",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/16406#issuecomment-397819946",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/16406",
    "id": 397819946,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5NzgxOTk0Ng==",
    "user": {
      "login": "tudyzhb",
      "id": 3745427,
      "node_id": "MDQ6VXNlcjM3NDU0Mjc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3745427?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tudyzhb",
      "html_url": "https://github.com/tudyzhb",
      "followers_url": "https://api.github.com/users/tudyzhb/followers",
      "following_url": "https://api.github.com/users/tudyzhb/following{/other_user}",
      "gists_url": "https://api.github.com/users/tudyzhb/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tudyzhb/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tudyzhb/subscriptions",
      "organizations_url": "https://api.github.com/users/tudyzhb/orgs",
      "repos_url": "https://api.github.com/users/tudyzhb/repos",
      "events_url": "https://api.github.com/users/tudyzhb/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tudyzhb/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-06-16T15:33:37Z",
    "updated_at": "2018-06-16T15:33:37Z",
    "author_association": "NONE",
    "body": "[Ref clique-seal of v1.8.11](https://github.com/ethereum/go-ethereum/blob/v1.8.11/consensus/clique/clique.go#L646-L649), I think there is no an effective mechanism to `retry seal`, when an in-turn/out-of-turn seal fail occur. So our dev network useless easily.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/397819946/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/423868265",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/16406#issuecomment-423868265",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/16406",
    "id": 423868265,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQyMzg2ODI2NQ==",
    "user": {
      "login": "lyhbarry",
      "id": 9069097,
      "node_id": "MDQ6VXNlcjkwNjkwOTc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9069097?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lyhbarry",
      "html_url": "https://github.com/lyhbarry",
      "followers_url": "https://api.github.com/users/lyhbarry/followers",
      "following_url": "https://api.github.com/users/lyhbarry/following{/other_user}",
      "gists_url": "https://api.github.com/users/lyhbarry/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lyhbarry/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lyhbarry/subscriptions",
      "organizations_url": "https://api.github.com/users/lyhbarry/orgs",
      "repos_url": "https://api.github.com/users/lyhbarry/repos",
      "events_url": "https://api.github.com/users/lyhbarry/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lyhbarry/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-09-24T02:55:43Z",
    "updated_at": "2018-09-24T02:55:43Z",
    "author_association": "NONE",
    "body": "> Quick recap on sealing in Clique:\r\n> \r\n> * To seal a block, you have to be authorized to do so (doh)\r\n> * To ensure there is ever only one majority chain (50% + 1), a signer is only allowed to seal a new block if they had not signed one for the last `(len(signers)+1) / 2` blocks. So if there are 3 signers, each signer can only sign every 2nd block. If there are 4 signers, the majority consensus is 3 (50% + 1), so each signer can only sign every third block. This may be one error cause, because if 2 signers disconnect from the authorized 4, the chain cannot progress.\r\n> * Since every authorized signer (who hasn't signed in a while) can create new blocks, we need to weigh them differently somehow, otherwise they all would just try to create new blocks and chaos would ensue. We have two mechanisms for that:\r\n>   \r\n>   * One one hand, signers take their turn as to who **should** sign next (e.g. if we're at block N and we have K signers, then N % K is in-turn); if you're in-turn, your block is weighed 2, otherwise 1. This ensures that the network always prefers in-turn blocks over random signings.\r\n>   * The second heuristic is that out-of-turn signers will delay signing by a bit to ensure the in-turn signer has a change to make and propagate its block.\r\n> \r\n> There's a slight race condition possible if your in-turn signer is offline. E.g. you have 3 signers, and the in-turn one goes offline. In that case you need both the other signers to work in lockstep to progress the chain. But since both are out-of-turn, they will both mine blocks with 1 diff. Given a good timing, those blocks will be mined simultaneously, and both will be stuck on their own little world.\r\n> \r\n> Could you provide some more infos about your setup, maybe th eligs from each individual signer when they get stuck? That might shed some light on the issue.\r\n\r\nI'm also facing the same issue with 3 signers. Will the possibility of the occurrence of the race condition mentioned be reduced with more signers?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/423868265/reactions",
      "total_count": 2,
      "+1": 2,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/452032304",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/16406#issuecomment-452032304",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/16406",
    "id": 452032304,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1MjAzMjMwNA==",
    "user": {
      "login": "marcosmartinez7",
      "id": 14795944,
      "node_id": "MDQ6VXNlcjE0Nzk1OTQ0",
      "avatar_url": "https://avatars.githubusercontent.com/u/14795944?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/marcosmartinez7",
      "html_url": "https://github.com/marcosmartinez7",
      "followers_url": "https://api.github.com/users/marcosmartinez7/followers",
      "following_url": "https://api.github.com/users/marcosmartinez7/following{/other_user}",
      "gists_url": "https://api.github.com/users/marcosmartinez7/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/marcosmartinez7/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/marcosmartinez7/subscriptions",
      "organizations_url": "https://api.github.com/users/marcosmartinez7/orgs",
      "repos_url": "https://api.github.com/users/marcosmartinez7/repos",
      "events_url": "https://api.github.com/users/marcosmartinez7/events{/privacy}",
      "received_events_url": "https://api.github.com/users/marcosmartinez7/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-01-07T18:25:26Z",
    "updated_at": "2019-01-07T20:43:46Z",
    "author_association": "NONE",
    "body": "Experimenting the same issue with 6 sealers, i restarted each node but now im get stucked in\r\n\r\n> INFO [01-07|18:17:30.645] Etherbase automatically configured       address=0x5Bc69DC4dba04b6955aC94BbdF129C3ce2d20D34\r\n> INFO [01-07|18:17:30.645] Commit new mining work                   number=488677 sealhash=a506ecâ€¦8cb403 uncles=0 txs=0 gas=0 fees=0 elapsed=133.76Âµs\r\n> INFO [01-07|18:17:30.645] Signed recently, must wait for others \r\n> \r\n\r\nBtw, some nodes are stucked on the 488677 and others are on 488676, same issue of @lyhbarry \r\n\r\nAlso, after 1 hour, the issue of local transactions is showed again\r\n\r\n```\r\nINFO [01-07|18:41:56.134] Signed recently, must wait for others \r\nINFO [01-07|19:41:42.125] Regenerated local transaction journal    transactions=0 accounts=0\r\nINFO [01-07|18:41:56.134] Signed recently, must wait for others \r\n```\r\n\r\nAny ideas? \r\n\r\nMy current version is:\r\n\r\n```\r\nGeth\r\nVersion: 1.8.17-stable\r\nGit Commit: 8bbe72075e4e16442c4e28d999edee12e294329e\r\nArchitecture: amd64\r\nProtocol Versions: [63 62]\r\nNetwork Id: 1\r\nGo Version: go1.10.1\r\nOperating System: linux\r\nGOPATH=\r\nGOROOT=/usr/lib/go-1.10\r\n```\r\n\r\n\r\nI dont know why the \r\n\r\n> Regenerated local transaction journal    transactions=0 accounts=0\r\n\r\nerror happens.. but since is the same issue as @lyhbarry is pretty sure that error makes the chain out of sync and now the signers can continue\r\n\r\nIs there any information i can provide? The blockchain was running for 2 months without any issues..\r\n\r\nAlso, i see this message in one signer:\r\n\r\n`Synchronisation failed, dropping peer    peer=7875a002affc775b err=\"retrieved hash chain is invalid\"`\r\n\r\nAnd this information\r\n\r\n> WARN [12-24|00:43:33.989] **Header broke chain ancestry**              number=447760 hash=d2c11fâ€¦10fd6a\r\n> WARN [12-24|00:43:33.990] **Synchronisation failed, dropping peer**    peer=7875a002affc775b err=\"action from bad peer ignored\"\r\n\r\n```\r\nWARN [12-26|18:33:19.540] Synchronisation failed, dropping peer    peer=7875a002affc775b err=\"action from bad peer ignored\"\r\nWARN [12-26|22:37:49.572] Synchronisation failed, dropping peer    peer=7875a002affc775b err=\"action from bad peer ignored\"\r\nWARN [12-26|23:57:10.541] Synchronisation failed, dropping peer    peer=7875a002affc775b err=\"action from bad peer ignored\"\r\nWARN [12-27|08:03:25.895] Synchronisation failed, dropping peer    peer=7875a002affc775b err=\"action from bad peer ignored\"\r\nWARN [12-31|06:41:24.760] Synchronisation failed, dropping peer    peer=7875a002affc775b err=\"retrieved hash chain is invalid\"\r\nWARN [12-31|06:42:04.810] Synchronisation failed, dropping peer    peer=7875a002affc775b err=\"retrieved hash chain is invalid\"\r\nWARN [12-31|06:42:14.335] Synchronisation failed, dropping peer    peer=7875a002affc775b err=\"retrieved hash chain is invalid\"\r\nWARN [12-31|06:42:43.001] Synchronisation failed, dropping peer    peer=7875a002affc775b err=\"retrieved hash chain is invalid\"\r\nWARN [12-31|06:43:24.631] Synchronisation failed, dropping peer    peer=7875a002affc775b err=\"retrieved hash chain is invalid\"\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/452032304/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/536928412",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/16406#issuecomment-536928412",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/16406",
    "id": 536928412,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUzNjkyODQxMg==",
    "user": {
      "login": "holiman",
      "id": 142290,
      "node_id": "MDQ6VXNlcjE0MjI5MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/142290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/holiman",
      "html_url": "https://github.com/holiman",
      "followers_url": "https://api.github.com/users/holiman/followers",
      "following_url": "https://api.github.com/users/holiman/following{/other_user}",
      "gists_url": "https://api.github.com/users/holiman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/holiman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/holiman/subscriptions",
      "organizations_url": "https://api.github.com/users/holiman/orgs",
      "repos_url": "https://api.github.com/users/holiman/repos",
      "events_url": "https://api.github.com/users/holiman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/holiman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-10-01T08:28:43Z",
    "updated_at": "2019-10-01T08:28:43Z",
    "author_association": "MEMBER",
    "body": "@REPTILEHAUS it appears that you have some sort of network partition, since two sealers are on `..71` and two are on `..72`. Four signers split into two pairs _will_ halt progress. \r\n@marcosmartinez7 you seem to have a consensus failure between your sealers, in that one rejects that hash of the other. Perhaps configured erroneously, - `1.8.17` is rather old, and perhaps it doesn't support the same forks as the other node does? \r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/536928412/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/537061037",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/16406#issuecomment-537061037",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/16406",
    "id": 537061037,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUzNzA2MTAzNw==",
    "user": {
      "login": "marcosmartinez7",
      "id": 14795944,
      "node_id": "MDQ6VXNlcjE0Nzk1OTQ0",
      "avatar_url": "https://avatars.githubusercontent.com/u/14795944?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/marcosmartinez7",
      "html_url": "https://github.com/marcosmartinez7",
      "followers_url": "https://api.github.com/users/marcosmartinez7/followers",
      "following_url": "https://api.github.com/users/marcosmartinez7/following{/other_user}",
      "gists_url": "https://api.github.com/users/marcosmartinez7/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/marcosmartinez7/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/marcosmartinez7/subscriptions",
      "organizations_url": "https://api.github.com/users/marcosmartinez7/orgs",
      "repos_url": "https://api.github.com/users/marcosmartinez7/repos",
      "events_url": "https://api.github.com/users/marcosmartinez7/events{/privacy}",
      "received_events_url": "https://api.github.com/users/marcosmartinez7/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-10-01T14:24:25Z",
    "updated_at": "2019-10-01T14:24:25Z",
    "author_association": "NONE",
    "body": "@holiman My issue was described better here https://github.com/ethereum/go-ethereum/issues/18402 \r\n\r\nIt was a bug on the clique algorithm. ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/537061037/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/548271591",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/16406#issuecomment-548271591",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/16406",
    "id": 548271591,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU0ODI3MTU5MQ==",
    "user": {
      "login": "no-response[bot]",
      "id": 32965360,
      "node_id": "MDM6Qm90MzI5NjUzNjA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/26350515?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/no-response%5Bbot%5D",
      "html_url": "https://github.com/apps/no-response",
      "followers_url": "https://api.github.com/users/no-response%5Bbot%5D/followers",
      "following_url": "https://api.github.com/users/no-response%5Bbot%5D/following{/other_user}",
      "gists_url": "https://api.github.com/users/no-response%5Bbot%5D/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/no-response%5Bbot%5D/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/no-response%5Bbot%5D/subscriptions",
      "organizations_url": "https://api.github.com/users/no-response%5Bbot%5D/orgs",
      "repos_url": "https://api.github.com/users/no-response%5Bbot%5D/repos",
      "events_url": "https://api.github.com/users/no-response%5Bbot%5D/events{/privacy}",
      "received_events_url": "https://api.github.com/users/no-response%5Bbot%5D/received_events",
      "type": "Bot",
      "site_admin": false
    },
    "created_at": "2019-10-31T08:54:22Z",
    "updated_at": "2019-10-31T08:54:22Z",
    "author_association": "NONE",
    "body": "This issue has been automatically closed because there has been no response to our request for more information from the original author. With only the information that is currently in the issue, we don't have enough information to take action. Please reach out if you have more relevant information or answers to our questions so that we can investigate further.\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/548271591/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
