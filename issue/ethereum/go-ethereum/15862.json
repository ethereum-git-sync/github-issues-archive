{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15862",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15862/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15862/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15862/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/15862",
  "id": 288045742,
  "node_id": "MDU6SXNzdWUyODgwNDU3NDI=",
  "number": 15862,
  "title": "how to handle the transaction which were in the invalid block when the blockchain change the chain?",
  "user": {
    "login": "kazaff",
    "id": 801787,
    "node_id": "MDQ6VXNlcjgwMTc4Nw==",
    "avatar_url": "https://avatars.githubusercontent.com/u/801787?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/kazaff",
    "html_url": "https://github.com/kazaff",
    "followers_url": "https://api.github.com/users/kazaff/followers",
    "following_url": "https://api.github.com/users/kazaff/following{/other_user}",
    "gists_url": "https://api.github.com/users/kazaff/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/kazaff/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/kazaff/subscriptions",
    "organizations_url": "https://api.github.com/users/kazaff/orgs",
    "repos_url": "https://api.github.com/users/kazaff/repos",
    "events_url": "https://api.github.com/users/kazaff/events{/privacy}",
    "received_events_url": "https://api.github.com/users/kazaff/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 7,
  "created_at": "2018-01-12T08:45:38Z",
  "updated_at": "2018-01-12T13:45:08Z",
  "closed_at": "2018-01-12T09:26:58Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "Hi there.\r\n\r\nI wonder that how can i make sure my transaction was count in the blockchain?~\r\nFor example, I will count the confirm times for my transaction. But, how can i sure about that my transaction be invalid and it never be change to valid? \r\n\r\nWill the miner deal with my transaction again?  Or just left it to dead?\r\n\r\nThanks & Waiting your answer~\r\n",
  "closed_by": {
    "login": "holiman",
    "id": 142290,
    "node_id": "MDQ6VXNlcjE0MjI5MA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/142290?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/holiman",
    "html_url": "https://github.com/holiman",
    "followers_url": "https://api.github.com/users/holiman/followers",
    "following_url": "https://api.github.com/users/holiman/following{/other_user}",
    "gists_url": "https://api.github.com/users/holiman/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/holiman/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/holiman/subscriptions",
    "organizations_url": "https://api.github.com/users/holiman/orgs",
    "repos_url": "https://api.github.com/users/holiman/repos",
    "events_url": "https://api.github.com/users/holiman/events{/privacy}",
    "received_events_url": "https://api.github.com/users/holiman/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15862/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15862/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/357187085",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/15862#issuecomment-357187085",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15862",
    "id": 357187085,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1NzE4NzA4NQ==",
    "user": {
      "login": "holiman",
      "id": 142290,
      "node_id": "MDQ6VXNlcjE0MjI5MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/142290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/holiman",
      "html_url": "https://github.com/holiman",
      "followers_url": "https://api.github.com/users/holiman/followers",
      "following_url": "https://api.github.com/users/holiman/following{/other_user}",
      "gists_url": "https://api.github.com/users/holiman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/holiman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/holiman/subscriptions",
      "organizations_url": "https://api.github.com/users/holiman/orgs",
      "repos_url": "https://api.github.com/users/holiman/repos",
      "events_url": "https://api.github.com/users/holiman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/holiman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-01-12T09:26:58Z",
    "updated_at": "2018-01-12T09:26:58Z",
    "author_association": "MEMBER",
    "body": "If you mean `invalid` as in e.g. \"nonce too high\" or \"balance too low\", then the network will most likely discard your transaction. How fast depends on how many other transactions there are, when the pools are filling up, transactions get evicted. However, there's no guarantee it'll ever get evicted, it is still technically _valid_ , just not at this point in time. \r\n\r\n\r\nIf you want to make certain the transaction `X` can never ever be broadcast by someone else, you should\r\n\r\n* Check what `nonce` was used in `X`. \r\n* Make a new transaction (`Y`), from the same account, using nonce `X`. \r\n* In any chain where `Y` 'made it', `X` can never happen. These two are mutually exclusive. \r\n\r\nSo, as you may understand from this, if the `invalid` is caused by `nonce too low`, then it's already permanently invalid, and no peer will keep it around, it's a total dud. ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/357187085/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/357196509",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/15862#issuecomment-357196509",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15862",
    "id": 357196509,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1NzE5NjUwOQ==",
    "user": {
      "login": "kazaff",
      "id": 801787,
      "node_id": "MDQ6VXNlcjgwMTc4Nw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/801787?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kazaff",
      "html_url": "https://github.com/kazaff",
      "followers_url": "https://api.github.com/users/kazaff/followers",
      "following_url": "https://api.github.com/users/kazaff/following{/other_user}",
      "gists_url": "https://api.github.com/users/kazaff/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kazaff/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kazaff/subscriptions",
      "organizations_url": "https://api.github.com/users/kazaff/orgs",
      "repos_url": "https://api.github.com/users/kazaff/repos",
      "events_url": "https://api.github.com/users/kazaff/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kazaff/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-01-12T10:06:03Z",
    "updated_at": "2018-01-12T10:06:03Z",
    "author_association": "NONE",
    "body": "@holiman thanks\r\n\r\ncan you explain the `nonce too low` or `nonce too high` means? Or just give me some articles?\r\n\r\nI had tried to find some info from [here](https://github.com/ethereum/wiki/wiki/JavaScript-API#web3ethsendtransaction): \r\n```\r\nnonce: Number - (optional) Integer of a nonce. This allows to overwrite your own pending transactions that use the same nonce.\r\n```\r\n\r\nIn other words, I create a transaction use a bigger nonce, And once it had been in the main chain. Then, My transactions which use a smaller nonce will never be accepted by all miner?\r\n\r\nthank you  again.\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/357196509/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/357200497",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/15862#issuecomment-357200497",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15862",
    "id": 357200497,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1NzIwMDQ5Nw==",
    "user": {
      "login": "holiman",
      "id": 142290,
      "node_id": "MDQ6VXNlcjE0MjI5MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/142290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/holiman",
      "html_url": "https://github.com/holiman",
      "followers_url": "https://api.github.com/users/holiman/followers",
      "following_url": "https://api.github.com/users/holiman/following{/other_user}",
      "gists_url": "https://api.github.com/users/holiman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/holiman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/holiman/subscriptions",
      "organizations_url": "https://api.github.com/users/holiman/orgs",
      "repos_url": "https://api.github.com/users/holiman/repos",
      "events_url": "https://api.github.com/users/holiman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/holiman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-01-12T10:23:01Z",
    "updated_at": "2018-01-12T10:23:01Z",
    "author_association": "MEMBER",
    "body": "At any time, there's only _one_ correct nonce for an account/transaction. If no transaction has ever been sent, the first nonce is `0`. The next transaction needs to have nonce `1`. \r\n\r\nSo let's say those two have been made. The next nonce needs to be `2`. \r\n\r\n* If you make a tx with nonce  `1` (again), all nodes will discard it. That number is permanently burned. \r\n* If you make a tx with nonce `4`, some nodes may hang on to it, figuring that it's a nonce-gap, and they just haven't seen the missing one, but will keep this one around for a bit until the `3` comes along. \r\n* If you make a tx with nonce `3`, but too low gasprice, so it doesn't get included, and you don't see it anywhere -- then __if__ you want to perma-delete it, you need to replace it, with another `3`, with a better gasprice or whatever it was that made it not become included. \r\n\r\nYour original question was kind of vague, so I'm not sure if you're asking a theoretical question or if you have a specific scenario you want help with. ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/357200497/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/357240853",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/15862#issuecomment-357240853",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15862",
    "id": 357240853,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1NzI0MDg1Mw==",
    "user": {
      "login": "kazaff",
      "id": 801787,
      "node_id": "MDQ6VXNlcjgwMTc4Nw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/801787?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kazaff",
      "html_url": "https://github.com/kazaff",
      "followers_url": "https://api.github.com/users/kazaff/followers",
      "following_url": "https://api.github.com/users/kazaff/following{/other_user}",
      "gists_url": "https://api.github.com/users/kazaff/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kazaff/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kazaff/subscriptions",
      "organizations_url": "https://api.github.com/users/kazaff/orgs",
      "repos_url": "https://api.github.com/users/kazaff/repos",
      "events_url": "https://api.github.com/users/kazaff/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kazaff/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-01-12T13:40:20Z",
    "updated_at": "2018-01-12T13:40:20Z",
    "author_association": "NONE",
    "body": "@holiman  your answer is very helpful for me, thank you a lot!!!!!!!! I'm very interested in this theoretical point.\r\n\r\nYou said that the nodes `will keep this one around for a bit until the 3 comes along.`,  But when the time up, Or when they find the tx(nonce 3), but they do not want to handle it(for some reason like too low gasprice),\r\nthey will do the tx(nonce 4) immediately. right? \r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/357240853/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/357241566",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/15862#issuecomment-357241566",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15862",
    "id": 357241566,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1NzI0MTU2Ng==",
    "user": {
      "login": "holiman",
      "id": 142290,
      "node_id": "MDQ6VXNlcjE0MjI5MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/142290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/holiman",
      "html_url": "https://github.com/holiman",
      "followers_url": "https://api.github.com/users/holiman/followers",
      "following_url": "https://api.github.com/users/holiman/following{/other_user}",
      "gists_url": "https://api.github.com/users/holiman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/holiman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/holiman/subscriptions",
      "organizations_url": "https://api.github.com/users/holiman/orgs",
      "repos_url": "https://api.github.com/users/holiman/repos",
      "events_url": "https://api.github.com/users/holiman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/holiman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-01-12T13:43:24Z",
    "updated_at": "2018-01-12T13:43:24Z",
    "author_association": "MEMBER",
    "body": "At any time, there's only one correct nonce for an account/transaction.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/357241566/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/357241778",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/15862#issuecomment-357241778",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15862",
    "id": 357241778,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1NzI0MTc3OA==",
    "user": {
      "login": "holiman",
      "id": 142290,
      "node_id": "MDQ6VXNlcjE0MjI5MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/142290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/holiman",
      "html_url": "https://github.com/holiman",
      "followers_url": "https://api.github.com/users/holiman/followers",
      "following_url": "https://api.github.com/users/holiman/following{/other_user}",
      "gists_url": "https://api.github.com/users/holiman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/holiman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/holiman/subscriptions",
      "organizations_url": "https://api.github.com/users/holiman/orgs",
      "repos_url": "https://api.github.com/users/holiman/repos",
      "events_url": "https://api.github.com/users/holiman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/holiman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-01-12T13:44:15Z",
    "updated_at": "2018-01-12T13:44:15Z",
    "author_association": "MEMBER",
    "body": "4 can never ever ever be executed without a number three. ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/357241778/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/357241975",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/15862#issuecomment-357241975",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15862",
    "id": 357241975,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1NzI0MTk3NQ==",
    "user": {
      "login": "kazaff",
      "id": 801787,
      "node_id": "MDQ6VXNlcjgwMTc4Nw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/801787?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kazaff",
      "html_url": "https://github.com/kazaff",
      "followers_url": "https://api.github.com/users/kazaff/followers",
      "following_url": "https://api.github.com/users/kazaff/following{/other_user}",
      "gists_url": "https://api.github.com/users/kazaff/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kazaff/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kazaff/subscriptions",
      "organizations_url": "https://api.github.com/users/kazaff/orgs",
      "repos_url": "https://api.github.com/users/kazaff/repos",
      "events_url": "https://api.github.com/users/kazaff/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kazaff/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-01-12T13:45:08Z",
    "updated_at": "2018-01-12T13:45:08Z",
    "author_association": "NONE",
    "body": "oh~~ I got it.😆",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/357241975/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
