{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/681",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/681/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/681/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/681/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/681",
  "id": 67416005,
  "node_id": "MDU6SXNzdWU2NzQxNjAwNQ==",
  "number": 681,
  "title": "Eventer and RPC in deadlock but only when console is started",
  "user": {
    "login": "zelig",
    "id": 769725,
    "node_id": "MDQ6VXNlcjc2OTcyNQ==",
    "avatar_url": "https://avatars.githubusercontent.com/u/769725?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/zelig",
    "html_url": "https://github.com/zelig",
    "followers_url": "https://api.github.com/users/zelig/followers",
    "following_url": "https://api.github.com/users/zelig/following{/other_user}",
    "gists_url": "https://api.github.com/users/zelig/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/zelig/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/zelig/subscriptions",
    "organizations_url": "https://api.github.com/users/zelig/orgs",
    "repos_url": "https://api.github.com/users/zelig/repos",
    "events_url": "https://api.github.com/users/zelig/events{/privacy}",
    "received_events_url": "https://api.github.com/users/zelig/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 6,
  "created_at": "2015-04-09T17:51:40Z",
  "updated_at": "2015-04-15T15:04:34Z",
  "closed_at": "2015-04-15T15:04:34Z",
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": "on current develop, \n\nworks:\n\n```\n./geth --datadir=/tmp/eth/60/11 -port 30300 -logfile /tmp/eth/60/11.09.log -loglevel 5 -rpc -rpccorsdomain \"*\" -mine 2> /tmp/eth/60/11.09.glog\n```\n\ndeadlocks:\n\n```\n./geth --datadir=/tmp/eth/60/11 -port 30300 -logfile /tmp/eth/60/11.09.log -loglevel 5 -rpc -rpccorsdomain \"*\" -mine console 2> /tmp/eth/60/11.09.glog\n```\n\nfind the trace here https://gist.github.com/zelig/2ba201b4461079b0abc4\n",
  "closed_by": {
    "login": "obscuren",
    "id": 6264126,
    "node_id": "MDQ6VXNlcjYyNjQxMjY=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6264126?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/obscuren",
    "html_url": "https://github.com/obscuren",
    "followers_url": "https://api.github.com/users/obscuren/followers",
    "following_url": "https://api.github.com/users/obscuren/following{/other_user}",
    "gists_url": "https://api.github.com/users/obscuren/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/obscuren/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/obscuren/subscriptions",
    "organizations_url": "https://api.github.com/users/obscuren/orgs",
    "repos_url": "https://api.github.com/users/obscuren/repos",
    "events_url": "https://api.github.com/users/obscuren/events{/privacy}",
    "received_events_url": "https://api.github.com/users/obscuren/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/681/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/681/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/91490412",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/681#issuecomment-91490412",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/681",
    "id": 91490412,
    "node_id": "MDEyOklzc3VlQ29tbWVudDkxNDkwNDEy",
    "user": {
      "login": "fjl",
      "id": 6915,
      "node_id": "MDQ6VXNlcjY5MTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6915?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fjl",
      "html_url": "https://github.com/fjl",
      "followers_url": "https://api.github.com/users/fjl/followers",
      "following_url": "https://api.github.com/users/fjl/following{/other_user}",
      "gists_url": "https://api.github.com/users/fjl/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fjl/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fjl/subscriptions",
      "organizations_url": "https://api.github.com/users/fjl/orgs",
      "repos_url": "https://api.github.com/users/fjl/repos",
      "events_url": "https://api.github.com/users/fjl/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fjl/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-04-10T09:18:23Z",
    "updated_at": "2015-04-10T09:18:29Z",
    "author_association": "MEMBER",
    "body": "Do you know which event is being delivered in this trace?\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/91490412/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/91490546",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/681#issuecomment-91490546",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/681",
    "id": 91490546,
    "node_id": "MDEyOklzc3VlQ29tbWVudDkxNDkwNTQ2",
    "user": {
      "login": "fjl",
      "id": 6915,
      "node_id": "MDQ6VXNlcjY5MTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6915?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fjl",
      "html_url": "https://github.com/fjl",
      "followers_url": "https://api.github.com/users/fjl/followers",
      "following_url": "https://api.github.com/users/fjl/following{/other_user}",
      "gists_url": "https://api.github.com/users/fjl/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fjl/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fjl/subscriptions",
      "organizations_url": "https://api.github.com/users/fjl/orgs",
      "repos_url": "https://api.github.com/users/fjl/repos",
      "events_url": "https://api.github.com/users/fjl/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fjl/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-04-10T09:19:21Z",
    "updated_at": "2015-04-10T09:33:25Z",
    "author_association": "MEMBER",
    "body": "This one looks like the culprit:\n\n```\ngoroutine 37 [chan send (nil chan), 9 minutes]:\ngithub.com/ethereum/go-ethereum/miner.(*worker).push(0xc20c532000)\n    /Users/tron/Work/ethereum/go/src/github.com/ethereum/go-ethereum/miner/worker.go:228 +0x23e\ngithub.com/ethereum/go-ethereum/miner.(*worker).commitNewWork(0xc20c532000)\n    /Users/tron/Work/ethereum/go/src/github.com/ethereum/go-ethereum/miner/worker.go:327 +0xa5a\ngithub.com/ethereum/go-ethereum/miner.(*worker).update(0xc20c532000)\n    /Users/tron/Work/ethereum/go/src/github.com/ethereum/go-ethereum/miner/worker.go:162 +0x391\ncreated by github.com/ethereum/go-ethereum/miner.newWorker\n    /Users/tron/Work/ethereum/go/src/github.com/ethereum/go-ethereum/miner/worker.go:103 +0x2cb\n```\n\nThe miner is not receiving `core.ChainHeadEvent` because it blocks on a `nil` channel. \nThis blocks everyone else.\n\nThat doesn't seem to be related to the console at all. @zelig can you reproduce the hang reliably?\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/91490546/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/91524310",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/681#issuecomment-91524310",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/681",
    "id": 91524310,
    "node_id": "MDEyOklzc3VlQ29tbWVudDkxNTI0MzEw",
    "user": {
      "login": "zelig",
      "id": 769725,
      "node_id": "MDQ6VXNlcjc2OTcyNQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/769725?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/zelig",
      "html_url": "https://github.com/zelig",
      "followers_url": "https://api.github.com/users/zelig/followers",
      "following_url": "https://api.github.com/users/zelig/following{/other_user}",
      "gists_url": "https://api.github.com/users/zelig/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/zelig/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/zelig/subscriptions",
      "organizations_url": "https://api.github.com/users/zelig/orgs",
      "repos_url": "https://api.github.com/users/zelig/repos",
      "events_url": "https://api.github.com/users/zelig/events{/privacy}",
      "received_events_url": "https://api.github.com/users/zelig/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-04-10T11:28:05Z",
    "updated_at": "2015-04-10T11:28:05Z",
    "author_association": "MEMBER",
    "body": "@fjl, yes it is ChainHeadEvent\n\nOn 10 April 2015 at 10:19, Felix Lange notifications@github.com wrote:\n\n> This one also looks like a bug:\n> \n> goroutine 37 [chan send (nil chan), 9 minutes]:github.com/ethereum/go-ethereum/miner.(_worker).push(0xc20c532000)\n>     /Users/tron/Work/ethereum/go/src/github.com/ethereum/go-ethereum/miner/worker.go:228 +0x23egithub.com/ethereum/go-ethereum/miner.(_worker).commitNewWork(0xc20c532000)\n>     /Users/tron/Work/ethereum/go/src/github.com/ethereum/go-ethereum/miner/worker.go:327 +0xa5agithub.com/ethereum/go-ethereum/miner.(*worker).update(0xc20c532000)\n>     /Users/tron/Work/ethereum/go/src/github.com/ethereum/go-ethereum/miner/worker.go:162 +0x391\n> created by github.com/ethereum/go-ethereum/miner.newWorker\n>     /Users/tron/Work/ethereum/go/src/github.com/ethereum/go-ethereum/miner/worker.go:103 +0x2cb\n> \n> ## \n> \n> Reply to this email directly or view it on GitHub\n> https://github.com/ethereum/go-ethereum/issues/681#issuecomment-91490546\n> .\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/91524310/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/91526986",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/681#issuecomment-91526986",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/681",
    "id": 91526986,
    "node_id": "MDEyOklzc3VlQ29tbWVudDkxNTI2OTg2",
    "user": {
      "login": "obscuren",
      "id": 6264126,
      "node_id": "MDQ6VXNlcjYyNjQxMjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6264126?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/obscuren",
      "html_url": "https://github.com/obscuren",
      "followers_url": "https://api.github.com/users/obscuren/followers",
      "following_url": "https://api.github.com/users/obscuren/following{/other_user}",
      "gists_url": "https://api.github.com/users/obscuren/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/obscuren/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/obscuren/subscriptions",
      "organizations_url": "https://api.github.com/users/obscuren/orgs",
      "repos_url": "https://api.github.com/users/obscuren/repos",
      "events_url": "https://api.github.com/users/obscuren/events{/privacy}",
      "received_events_url": "https://api.github.com/users/obscuren/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-04-10T11:38:28Z",
    "updated_at": "2015-04-10T11:38:28Z",
    "author_association": "MEMBER",
    "body": "Not seen that one before. I'll have a look\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/91526986/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/91529219",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/681#issuecomment-91529219",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/681",
    "id": 91529219,
    "node_id": "MDEyOklzc3VlQ29tbWVudDkxNTI5MjE5",
    "user": {
      "login": "zelig",
      "id": 769725,
      "node_id": "MDQ6VXNlcjc2OTcyNQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/769725?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/zelig",
      "html_url": "https://github.com/zelig",
      "followers_url": "https://api.github.com/users/zelig/followers",
      "following_url": "https://api.github.com/users/zelig/following{/other_user}",
      "gists_url": "https://api.github.com/users/zelig/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/zelig/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/zelig/subscriptions",
      "organizations_url": "https://api.github.com/users/zelig/orgs",
      "repos_url": "https://api.github.com/users/zelig/repos",
      "events_url": "https://api.github.com/users/zelig/events{/privacy}",
      "received_events_url": "https://api.github.com/users/zelig/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-04-10T11:45:34Z",
    "updated_at": "2015-04-10T11:45:34Z",
    "author_association": "MEMBER",
    "body": "@fjl no, unfortunately not able to reproduce. bit of a hit and miss\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/91529219/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/93354738",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/681#issuecomment-93354738",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/681",
    "id": 93354738,
    "node_id": "MDEyOklzc3VlQ29tbWVudDkzMzU0NzM4",
    "user": {
      "login": "zelig",
      "id": 769725,
      "node_id": "MDQ6VXNlcjc2OTcyNQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/769725?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/zelig",
      "html_url": "https://github.com/zelig",
      "followers_url": "https://api.github.com/users/zelig/followers",
      "following_url": "https://api.github.com/users/zelig/following{/other_user}",
      "gists_url": "https://api.github.com/users/zelig/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/zelig/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/zelig/subscriptions",
      "organizations_url": "https://api.github.com/users/zelig/orgs",
      "repos_url": "https://api.github.com/users/zelig/repos",
      "events_url": "https://api.github.com/users/zelig/events{/privacy}",
      "received_events_url": "https://api.github.com/users/zelig/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-04-15T11:59:30Z",
    "updated_at": "2015-04-15T11:59:30Z",
    "author_association": "MEMBER",
    "body": "another case may be related https://gist.github.com/zelig/d83879d7f8e259c79d3b \ni was on commit https://github.com/ethereum/go-ethereum/commit/d82aaf617c8ec868446d8bd334d1e3dbc1475244\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/93354738/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
