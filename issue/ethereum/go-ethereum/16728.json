{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/16728",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/16728/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/16728/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/16728/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/16728",
  "id": 322129520,
  "node_id": "MDU6SXNzdWUzMjIxMjk1MjA=",
  "number": 16728,
  "title": "Memory leak on go-ethereum 1.8.7",
  "user": {
    "login": "vogelito",
    "id": 1325863,
    "node_id": "MDQ6VXNlcjEzMjU4NjM=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1325863?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/vogelito",
    "html_url": "https://github.com/vogelito",
    "followers_url": "https://api.github.com/users/vogelito/followers",
    "following_url": "https://api.github.com/users/vogelito/following{/other_user}",
    "gists_url": "https://api.github.com/users/vogelito/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/vogelito/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/vogelito/subscriptions",
    "organizations_url": "https://api.github.com/users/vogelito/orgs",
    "repos_url": "https://api.github.com/users/vogelito/repos",
    "events_url": "https://api.github.com/users/vogelito/events{/privacy}",
    "received_events_url": "https://api.github.com/users/vogelito/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 40,
  "created_at": "2018-05-11T00:27:43Z",
  "updated_at": "2018-05-30T07:33:07Z",
  "closed_at": "2018-05-29T02:24:31Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "#### System information\r\n\r\nGeth version: \r\n```\r\nGeth\r\nVersion: 1.8.7-stable\r\nGit Commit: 66432f3821badf24d526f2d9205f36c0543219de\r\nArchitecture: amd64\r\nProtocol Versions: [63 62]\r\nNetwork Id: 1\r\nGo Version: go1.10\r\nOperating System: linux\r\nGOPATH=\r\nGOROOT=/usr/local/go\r\n```\r\nOS & Version: Linux\r\n\r\n#### Expected behaviour\r\n\r\nMemory usage of go-ethereum should be stable.\r\n\r\n\r\n#### Actual behaviour\r\n\r\nSomething happens which causes memory usage to increase substantially.\r\n\r\n#### Steps to reproduce the behaviour\r\n\r\nUnknown\r\n\r\n#### pprof top\r\n\r\nThis wasn't hugely useful to us, but hoping it means something to the folks in here. Happy to provide additional information. This is currently happening ~1/day\r\n````\r\n# go tool pprof http://localhost:6060/debug/pprof/heap\r\nFetching profile over HTTP from http://localhost:6060/debug/pprof/heap\r\nSaved profile in /root/pprof/pprof.geth.alloc_objects.alloc_space.inuse_objects.inuse_space.001.pb.gz\r\nFile: geth\r\nBuild ID: fb815f00e769fd84f7336a86cf929a66ba8ab66f\r\nType: inuse_space\r\nTime: May 9, 2018 at 9:40pm (UTC)\r\nEntering interactive mode (type \"help\" for commands, \"o\" for options)\r\n(pprof) top\r\nShowing nodes accounting for 5332.62MB, 84.39% of 6318.78MB total\r\nDropped 349 nodes (cum <= 31.59MB)\r\nShowing top 10 nodes out of 145\r\n      flat  flat%   sum%        cum   cum%\r\n 1186.93MB 18.78% 18.78%  1186.93MB 18.78%  runtime.malg\r\n  861.97MB 13.64% 32.43%   861.97MB 13.64%  github.com/ethereum/go-ethereum/vendor/github.com/syndtr/goleveldb/leveldb/util.(*BufferPool).Get\r\n  708.04MB 11.21% 43.63%   708.04MB 11.21%  math/big.nat.setBytes\r\n  529.06MB  8.37% 52.00%   529.06MB  8.37%  reflect.unsafe_New\r\n  509.52MB  8.06% 60.07%  1251.55MB 19.81%  github.com/ethereum/go-ethereum/rlp.decodeBigInt\r\n  453.14MB  7.17% 67.24%   464.65MB  7.35%  github.com/ethereum/go-ethereum/trie.(*hasher).store\r\n     388MB  6.14% 73.38%      388MB  6.14%  github.com/ethereum/go-ethereum/vendor/github.com/syndtr/goleveldb/leveldb/memdb.New\r\n  264.43MB  4.18% 77.56%   264.43MB  4.18%  github.com/ethereum/go-ethereum/vendor/gopkg.in/fatih/set%2ev0.(*Set).Add\r\n  228.51MB  3.62% 81.18%   482.26MB  7.63%  github.com/ethereum/go-ethereum/eth.(*peer).SendTransactions\r\n  203.02MB  3.21% 84.39%   203.02MB  3.21%  github.com/ethereum/go-ethereum/event.(*Feed).Send\r\n````\r\n\r\n\r\n#### Metrics\r\nLast month:\r\n<img width=\"593\" alt=\"screen shot 2018-05-10 at 7 17 03 pm\" src=\"https://user-images.githubusercontent.com/1325863/39900330-cf00da36-5486-11e8-802a-82ef9371e02a.png\">\r\n\r\nLast 2 months:\r\n<img width=\"594\" alt=\"screen shot 2018-05-10 at 7 19 15 pm\" src=\"https://user-images.githubusercontent.com/1325863/39900371-1046361c-5487-11e8-913a-ea93675b7700.png\">\r\n\r\n#### Additional info\r\nFor reference, this host was migrated to run:\r\nv1.8.2 on March 5\r\nv1.8.3 on March 27\r\nv1.8.6 on Apr 26\r\nv1.8.6 with PR #16576 on May 1\r\nv1.8.7 on May 4\r\n\r\nWe run our node with the following cmd line arguments ` --rpc --rpcapi \"debug,personal,eth,web3\" --targetgaslimit 1000000 --cache 2048 --gpopercentile 30 --maxpeers 25`\r\n\r\nOn May 1st we added `--metrics --pprof --pprofaddr=127.0.0.1` and started tracking various metrics. We thought this was the source of the problem so earlier today we restarted the node without the additional flags, but unfortunately the memory leak happened again.\r\n\r\nThis is the memory breakdown the last 48 hours:\r\n<img width=\"601\" alt=\"screen shot 2018-05-10 at 7 25 28 pm\" src=\"https://user-images.githubusercontent.com/1325863/39900510-f60d9f46-5487-11e8-9284-0f788d7f3084.png\">\r\n\r\nAnd since upgrading to 1.8.7:\r\n<img width=\"593\" alt=\"screen shot 2018-05-10 at 7 26 39 pm\" src=\"https://user-images.githubusercontent.com/1325863/39900548-2350d57c-5488-11e8-9ba5-bbae9dc4c10a.png\">\r\n",
  "closed_by": {
    "login": "vogelito",
    "id": 1325863,
    "node_id": "MDQ6VXNlcjEzMjU4NjM=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1325863?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/vogelito",
    "html_url": "https://github.com/vogelito",
    "followers_url": "https://api.github.com/users/vogelito/followers",
    "following_url": "https://api.github.com/users/vogelito/following{/other_user}",
    "gists_url": "https://api.github.com/users/vogelito/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/vogelito/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/vogelito/subscriptions",
    "organizations_url": "https://api.github.com/users/vogelito/orgs",
    "repos_url": "https://api.github.com/users/vogelito/repos",
    "events_url": "https://api.github.com/users/vogelito/events{/privacy}",
    "received_events_url": "https://api.github.com/users/vogelito/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/16728/reactions",
    "total_count": 5,
    "+1": 4,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 1,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/16728/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/388224892",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/16728#issuecomment-388224892",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/16728",
    "id": 388224892,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4ODIyNDg5Mg==",
    "user": {
      "login": "vogelito",
      "id": 1325863,
      "node_id": "MDQ6VXNlcjEzMjU4NjM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1325863?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vogelito",
      "html_url": "https://github.com/vogelito",
      "followers_url": "https://api.github.com/users/vogelito/followers",
      "following_url": "https://api.github.com/users/vogelito/following{/other_user}",
      "gists_url": "https://api.github.com/users/vogelito/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vogelito/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vogelito/subscriptions",
      "organizations_url": "https://api.github.com/users/vogelito/orgs",
      "repos_url": "https://api.github.com/users/vogelito/repos",
      "events_url": "https://api.github.com/users/vogelito/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vogelito/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-11T00:31:25Z",
    "updated_at": "2018-05-11T00:31:25Z",
    "author_association": "NONE",
    "body": "Note: geth is basically the only thing running on this box and we have made sure the memory increases in the box are all geth. The sawtooth shape in the memory graphs are geth restarts.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/388224892/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/388298933",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/16728#issuecomment-388298933",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/16728",
    "id": 388298933,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4ODI5ODkzMw==",
    "user": {
      "login": "corverroos",
      "id": 29249923,
      "node_id": "MDQ6VXNlcjI5MjQ5OTIz",
      "avatar_url": "https://avatars.githubusercontent.com/u/29249923?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/corverroos",
      "html_url": "https://github.com/corverroos",
      "followers_url": "https://api.github.com/users/corverroos/followers",
      "following_url": "https://api.github.com/users/corverroos/following{/other_user}",
      "gists_url": "https://api.github.com/users/corverroos/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/corverroos/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/corverroos/subscriptions",
      "organizations_url": "https://api.github.com/users/corverroos/orgs",
      "repos_url": "https://api.github.com/users/corverroos/repos",
      "events_url": "https://api.github.com/users/corverroos/events{/privacy}",
      "received_events_url": "https://api.github.com/users/corverroos/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-11T08:33:39Z",
    "updated_at": "2018-05-11T08:35:15Z",
    "author_association": "NONE",
    "body": "We are experiencing a similar issue:\r\n\r\nGeth started in docker container on Ubuntu with:\r\n```\r\ndocker run \\\r\n    --memory=8g \\\r\n    -v /mnt/ethereum:/root/.ethereum \\\r\n    -p 8545:8545 \\\r\n    -p 30303:30303 \\\r\n    -p 6060:6060 \\\r\n    -d \\\r\n    ethereum/client-go:v1.8.7 \\\r\n    --pprof --pprofaddr=0.0.0.0 --rpc --rpcapi=eth,personal,txpool,debug,admin,net --rpcaddr=0.0.0.0 --cache=1024 --datadir=/root/.ethereum --gpopercentile=50 --syncmode=full --gcmode=archive --rpcvhosts=*\r\n```\r\nWe introduced the 8GB memory limit as work around for docker to auto restart the container.\r\n\r\nOutput of [memStats](https://github.com/ethereum/go-ethereum/wiki/Management-APIs#debug_memStats) (time in UTC+2)\r\n![screen shot on may 11th at 10_23 am](https://user-images.githubusercontent.com/29249923/39914496-769231e0-5505-11e8-941a-1e64d6c91089.png)\r\n\r\nOutput of `/debug/pprof/heap` at 2018-05-10 17:00 UTC+2:\r\n![geth_heap_20180510_1515](https://user-images.githubusercontent.com/29249923/39914681-0a311aec-5506-11e8-942f-afa6fa0f345b.png)\r\n\r\nOutput of `/debug/pprof/heap` at 2018-05-11 02:00 UTC+2:\r\n![geth_heap_20180511_0005](https://user-images.githubusercontent.com/29249923/39914418-4a937766-5505-11e8-9fbf-07cbd7609613.png)\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/388298933/reactions",
      "total_count": 2,
      "+1": 2,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/388422500",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/16728#issuecomment-388422500",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/16728",
    "id": 388422500,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4ODQyMjUwMA==",
    "user": {
      "login": "vogelito",
      "id": 1325863,
      "node_id": "MDQ6VXNlcjEzMjU4NjM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1325863?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vogelito",
      "html_url": "https://github.com/vogelito",
      "followers_url": "https://api.github.com/users/vogelito/followers",
      "following_url": "https://api.github.com/users/vogelito/following{/other_user}",
      "gists_url": "https://api.github.com/users/vogelito/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vogelito/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vogelito/subscriptions",
      "organizations_url": "https://api.github.com/users/vogelito/orgs",
      "repos_url": "https://api.github.com/users/vogelito/repos",
      "events_url": "https://api.github.com/users/vogelito/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vogelito/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-11T16:56:40Z",
    "updated_at": "2018-05-11T16:56:40Z",
    "author_association": "NONE",
    "body": "We just downgraded to v1.8.6 with PR #16576. Will keep you posted",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/388422500/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/388480730",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/16728#issuecomment-388480730",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/16728",
    "id": 388480730,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4ODQ4MDczMA==",
    "user": {
      "login": "mykolasmith",
      "id": 1483054,
      "node_id": "MDQ6VXNlcjE0ODMwNTQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1483054?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mykolasmith",
      "html_url": "https://github.com/mykolasmith",
      "followers_url": "https://api.github.com/users/mykolasmith/followers",
      "following_url": "https://api.github.com/users/mykolasmith/following{/other_user}",
      "gists_url": "https://api.github.com/users/mykolasmith/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mykolasmith/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mykolasmith/subscriptions",
      "organizations_url": "https://api.github.com/users/mykolasmith/orgs",
      "repos_url": "https://api.github.com/users/mykolasmith/repos",
      "events_url": "https://api.github.com/users/mykolasmith/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mykolasmith/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-11T20:44:52Z",
    "updated_at": "2018-05-11T20:44:52Z",
    "author_association": "NONE",
    "body": "+1, we are also experiencing this issue.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/388480730/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/388490956",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/16728#issuecomment-388490956",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/16728",
    "id": 388490956,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4ODQ5MDk1Ng==",
    "user": {
      "login": "vogelito",
      "id": 1325863,
      "node_id": "MDQ6VXNlcjEzMjU4NjM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1325863?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vogelito",
      "html_url": "https://github.com/vogelito",
      "followers_url": "https://api.github.com/users/vogelito/followers",
      "following_url": "https://api.github.com/users/vogelito/following{/other_user}",
      "gists_url": "https://api.github.com/users/vogelito/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vogelito/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vogelito/subscriptions",
      "organizations_url": "https://api.github.com/users/vogelito/orgs",
      "repos_url": "https://api.github.com/users/vogelito/repos",
      "events_url": "https://api.github.com/users/vogelito/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vogelito/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-11T21:31:05Z",
    "updated_at": "2018-05-11T21:31:05Z",
    "author_association": "NONE",
    "body": "Confirmed that 1.8.6 with PR #16576 also sees this issue. We're downgrading to 1.8.3 which is the last stable version we ran.\r\n\r\n@ryanschneider suspects that the memory issues were always there (at least in 1.8.x) but have been exacerbated by the recent uptick in txs. ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/388490956/reactions",
      "total_count": 2,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 2,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/388503006",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/16728#issuecomment-388503006",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/16728",
    "id": 388503006,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4ODUwMzAwNg==",
    "user": {
      "login": "mykolasmith",
      "id": 1483054,
      "node_id": "MDQ6VXNlcjE0ODMwNTQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1483054?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mykolasmith",
      "html_url": "https://github.com/mykolasmith",
      "followers_url": "https://api.github.com/users/mykolasmith/followers",
      "following_url": "https://api.github.com/users/mykolasmith/following{/other_user}",
      "gists_url": "https://api.github.com/users/mykolasmith/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mykolasmith/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mykolasmith/subscriptions",
      "organizations_url": "https://api.github.com/users/mykolasmith/orgs",
      "repos_url": "https://api.github.com/users/mykolasmith/repos",
      "events_url": "https://api.github.com/users/mykolasmith/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mykolasmith/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-11T22:41:37Z",
    "updated_at": "2018-05-11T22:41:37Z",
    "author_association": "NONE",
    "body": "@vogelito Just wondering, are you using filter queries? (experimental feature)",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/388503006/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/388514542",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/16728#issuecomment-388514542",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/16728",
    "id": 388514542,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4ODUxNDU0Mg==",
    "user": {
      "login": "vogelito",
      "id": 1325863,
      "node_id": "MDQ6VXNlcjEzMjU4NjM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1325863?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vogelito",
      "html_url": "https://github.com/vogelito",
      "followers_url": "https://api.github.com/users/vogelito/followers",
      "following_url": "https://api.github.com/users/vogelito/following{/other_user}",
      "gists_url": "https://api.github.com/users/vogelito/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vogelito/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vogelito/subscriptions",
      "organizations_url": "https://api.github.com/users/vogelito/orgs",
      "repos_url": "https://api.github.com/users/vogelito/repos",
      "events_url": "https://api.github.com/users/vogelito/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vogelito/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-12T00:09:04Z",
    "updated_at": "2018-05-12T00:09:04Z",
    "author_association": "NONE",
    "body": "@mykolasmith - no we are most definitely not.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/388514542/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/388599478",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/16728#issuecomment-388599478",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/16728",
    "id": 388599478,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4ODU5OTQ3OA==",
    "user": {
      "login": "vogelito",
      "id": 1325863,
      "node_id": "MDQ6VXNlcjEzMjU4NjM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1325863?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vogelito",
      "html_url": "https://github.com/vogelito",
      "followers_url": "https://api.github.com/users/vogelito/followers",
      "following_url": "https://api.github.com/users/vogelito/following{/other_user}",
      "gists_url": "https://api.github.com/users/vogelito/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vogelito/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vogelito/subscriptions",
      "organizations_url": "https://api.github.com/users/vogelito/orgs",
      "repos_url": "https://api.github.com/users/vogelito/repos",
      "events_url": "https://api.github.com/users/vogelito/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vogelito/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-13T04:05:23Z",
    "updated_at": "2018-05-13T04:05:23Z",
    "author_association": "NONE",
    "body": "This is the node's memory consumption since Friday morning.\r\n\r\n<img width=\"596\" alt=\"screen shot 2018-05-12 at 10 59 04 pm\" src=\"https://user-images.githubusercontent.com/1325863/39963690-a768a1b2-5638-11e8-901e-0ea8263d65f1.png\">\r\n\r\n1.8.3 **seems**  to be doing better, but if the issue is indeed caused by an uptick in txs, then it's possible things only look like this because it's the weekend.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/388599478/reactions",
      "total_count": 2,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 2,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/388882400",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/16728#issuecomment-388882400",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/16728",
    "id": 388882400,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4ODg4MjQwMA==",
    "user": {
      "login": "vogelito",
      "id": 1325863,
      "node_id": "MDQ6VXNlcjEzMjU4NjM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1325863?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vogelito",
      "html_url": "https://github.com/vogelito",
      "followers_url": "https://api.github.com/users/vogelito/followers",
      "following_url": "https://api.github.com/users/vogelito/following{/other_user}",
      "gists_url": "https://api.github.com/users/vogelito/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vogelito/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vogelito/subscriptions",
      "organizations_url": "https://api.github.com/users/vogelito/orgs",
      "repos_url": "https://api.github.com/users/vogelito/repos",
      "events_url": "https://api.github.com/users/vogelito/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vogelito/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-14T16:39:04Z",
    "updated_at": "2018-05-14T16:39:04Z",
    "author_association": "NONE",
    "body": "Update on memory usage. 1.8.3 still doing ok:\r\n\r\n![image](https://user-images.githubusercontent.com/1325863/40010762-5bad9596-576b-11e8-8aba-9b20bea0443d.png)\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/388882400/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/388883388",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/16728#issuecomment-388883388",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/16728",
    "id": 388883388,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4ODg4MzM4OA==",
    "user": {
      "login": "vogelito",
      "id": 1325863,
      "node_id": "MDQ6VXNlcjEzMjU4NjM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1325863?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vogelito",
      "html_url": "https://github.com/vogelito",
      "followers_url": "https://api.github.com/users/vogelito/followers",
      "following_url": "https://api.github.com/users/vogelito/following{/other_user}",
      "gists_url": "https://api.github.com/users/vogelito/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vogelito/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vogelito/subscriptions",
      "organizations_url": "https://api.github.com/users/vogelito/orgs",
      "repos_url": "https://api.github.com/users/vogelito/repos",
      "events_url": "https://api.github.com/users/vogelito/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vogelito/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-14T16:42:14Z",
    "updated_at": "2018-05-14T16:42:14Z",
    "author_association": "NONE",
    "body": "@karalabe - I saw some memory-management related improvements on the latest v1.8.8 release\r\nDo you think there's a chance they address the memory-related problems we're seeing here?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/388883388/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/388955562",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/16728#issuecomment-388955562",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/16728",
    "id": 388955562,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4ODk1NTU2Mg==",
    "user": {
      "login": "karalabe",
      "id": 129561,
      "node_id": "MDQ6VXNlcjEyOTU2MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/karalabe",
      "html_url": "https://github.com/karalabe",
      "followers_url": "https://api.github.com/users/karalabe/followers",
      "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
      "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
      "organizations_url": "https://api.github.com/users/karalabe/orgs",
      "repos_url": "https://api.github.com/users/karalabe/repos",
      "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/karalabe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-14T20:41:07Z",
    "updated_at": "2018-05-14T20:41:07Z",
    "author_association": "MEMBER",
    "body": "Unfortunately not. ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/388955562/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/388956403",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/16728#issuecomment-388956403",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/16728",
    "id": 388956403,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4ODk1NjQwMw==",
    "user": {
      "login": "karalabe",
      "id": 129561,
      "node_id": "MDQ6VXNlcjEyOTU2MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/karalabe",
      "html_url": "https://github.com/karalabe",
      "followers_url": "https://api.github.com/users/karalabe/followers",
      "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
      "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
      "organizations_url": "https://api.github.com/users/karalabe/orgs",
      "repos_url": "https://api.github.com/users/karalabe/repos",
      "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/karalabe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-14T20:44:01Z",
    "updated_at": "2018-05-14T20:44:01Z",
    "author_association": "MEMBER",
    "body": "@vogelito Out of curiosity. Could you try reverting https://github.com/ethereum/go-ethereum/pull/16494 locally for yourself from master and seeing if that fixes it. I don't see how it would, just playing guessing game as to what we've changed in 1.8.4 that might cause this.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/388956403/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/388969999",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/16728#issuecomment-388969999",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/16728",
    "id": 388969999,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4ODk2OTk5OQ==",
    "user": {
      "login": "vogelito",
      "id": 1325863,
      "node_id": "MDQ6VXNlcjEzMjU4NjM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1325863?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vogelito",
      "html_url": "https://github.com/vogelito",
      "followers_url": "https://api.github.com/users/vogelito/followers",
      "following_url": "https://api.github.com/users/vogelito/following{/other_user}",
      "gists_url": "https://api.github.com/users/vogelito/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vogelito/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vogelito/subscriptions",
      "organizations_url": "https://api.github.com/users/vogelito/orgs",
      "repos_url": "https://api.github.com/users/vogelito/repos",
      "events_url": "https://api.github.com/users/vogelito/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vogelito/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-14T21:32:34Z",
    "updated_at": "2018-05-14T21:32:34Z",
    "author_association": "NONE",
    "body": "@karalabe - happy to. However, I was planning on waiting a bit more to see if the problem is indeed gone in 1.8.3\r\n\r\nWe ran 1.8.6 without problems for a while until there was an uptick in network transactions.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/388969999/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/388973748",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/16728#issuecomment-388973748",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/16728",
    "id": 388973748,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4ODk3Mzc0OA==",
    "user": {
      "login": "karalabe",
      "id": 129561,
      "node_id": "MDQ6VXNlcjEyOTU2MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/karalabe",
      "html_url": "https://github.com/karalabe",
      "followers_url": "https://api.github.com/users/karalabe/followers",
      "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
      "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
      "organizations_url": "https://api.github.com/users/karalabe/orgs",
      "repos_url": "https://api.github.com/users/karalabe/repos",
      "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/karalabe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-14T21:47:23Z",
    "updated_at": "2018-05-14T21:47:23Z",
    "author_association": "MEMBER",
    "body": "Another interesting experiment might be to run 1.8.7 or 1.8.8 with `--pprof`, and when you see the memory spiking, load `http://localhost:6060/memsize` and generate a report (`Scan \"node\"`). This will use some experimental memory stats gathering written by @fjl to try and report how much memory different parts of our code use. That might help pinpoint what part is leaky.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/388973748/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/388973915",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/16728#issuecomment-388973915",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/16728",
    "id": 388973915,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4ODk3MzkxNQ==",
    "user": {
      "login": "karalabe",
      "id": 129561,
      "node_id": "MDQ6VXNlcjEyOTU2MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/karalabe",
      "html_url": "https://github.com/karalabe",
      "followers_url": "https://api.github.com/users/karalabe/followers",
      "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
      "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
      "organizations_url": "https://api.github.com/users/karalabe/orgs",
      "repos_url": "https://api.github.com/users/karalabe/repos",
      "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/karalabe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-14T21:48:03Z",
    "updated_at": "2018-05-14T21:48:03Z",
    "author_association": "MEMBER",
    "body": "Do note however that 'scanning all objects and measuring their memory use' will probably hit the node hard for 30+ seconds. So, take care with doing this on a production system.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/388973915/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/388976546",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/16728#issuecomment-388976546",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/16728",
    "id": 388976546,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4ODk3NjU0Ng==",
    "user": {
      "login": "vogelito",
      "id": 1325863,
      "node_id": "MDQ6VXNlcjEzMjU4NjM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1325863?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vogelito",
      "html_url": "https://github.com/vogelito",
      "followers_url": "https://api.github.com/users/vogelito/followers",
      "following_url": "https://api.github.com/users/vogelito/following{/other_user}",
      "gists_url": "https://api.github.com/users/vogelito/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vogelito/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vogelito/subscriptions",
      "organizations_url": "https://api.github.com/users/vogelito/orgs",
      "repos_url": "https://api.github.com/users/vogelito/repos",
      "events_url": "https://api.github.com/users/vogelito/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vogelito/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-14T21:58:52Z",
    "updated_at": "2018-05-14T21:59:36Z",
    "author_association": "NONE",
    "body": "Happy to do whichever one you find more useful, just let me know. (and thanks for the heads up!)",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/388976546/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/389950097",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/16728#issuecomment-389950097",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/16728",
    "id": 389950097,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4OTk1MDA5Nw==",
    "user": {
      "login": "vogelito",
      "id": 1325863,
      "node_id": "MDQ6VXNlcjEzMjU4NjM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1325863?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vogelito",
      "html_url": "https://github.com/vogelito",
      "followers_url": "https://api.github.com/users/vogelito/followers",
      "following_url": "https://api.github.com/users/vogelito/following{/other_user}",
      "gists_url": "https://api.github.com/users/vogelito/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vogelito/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vogelito/subscriptions",
      "organizations_url": "https://api.github.com/users/vogelito/orgs",
      "repos_url": "https://api.github.com/users/vogelito/repos",
      "events_url": "https://api.github.com/users/vogelito/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vogelito/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-17T17:42:18Z",
    "updated_at": "2018-05-17T17:42:18Z",
    "author_association": "NONE",
    "body": "I can confirm that this is still an issue in 1.8.3. We just started seeing the leak happening on 1.8.3 today.\r\n\r\n<img width=\"606\" alt=\"screen shot 2018-05-17 at 12 41 15 pm\" src=\"https://user-images.githubusercontent.com/1325863/40194337-ac7f6402-59cf-11e8-8557-078988efdfda.png\">\r\n\r\nWe are restarting the node on 1.8.8 and will run with `--pprof`",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/389950097/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/390049805",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/16728#issuecomment-390049805",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/16728",
    "id": 390049805,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5MDA0OTgwNQ==",
    "user": {
      "login": "vogelito",
      "id": 1325863,
      "node_id": "MDQ6VXNlcjEzMjU4NjM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1325863?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vogelito",
      "html_url": "https://github.com/vogelito",
      "followers_url": "https://api.github.com/users/vogelito/followers",
      "following_url": "https://api.github.com/users/vogelito/following{/other_user}",
      "gists_url": "https://api.github.com/users/vogelito/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vogelito/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vogelito/subscriptions",
      "organizations_url": "https://api.github.com/users/vogelito/orgs",
      "repos_url": "https://api.github.com/users/vogelito/repos",
      "events_url": "https://api.github.com/users/vogelito/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vogelito/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-17T23:55:28Z",
    "updated_at": "2018-05-18T00:02:23Z",
    "author_association": "NONE",
    "body": "our node (now running 1.8.8) is not exhibiting the parabolic memory usage behavior, yet. However, memory usage is already quite high (~14GB) and this is the report.\r\n\r\n<img width=\"396\" alt=\"screen shot 2018-05-17 at 3 09 27 pm\" src=\"https://user-images.githubusercontent.com/1325863/40209245-cad70fd4-5a03-11e8-94e8-c340a79d0376.png\">\r\n\r\nEdit: for some reason this message wasn't posted when I first intended to, so please check the date timestamp on the image.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/390049805/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/390050985",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/16728#issuecomment-390050985",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/16728",
    "id": 390050985,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5MDA1MDk4NQ==",
    "user": {
      "login": "vogelito",
      "id": 1325863,
      "node_id": "MDQ6VXNlcjEzMjU4NjM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1325863?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vogelito",
      "html_url": "https://github.com/vogelito",
      "followers_url": "https://api.github.com/users/vogelito/followers",
      "following_url": "https://api.github.com/users/vogelito/following{/other_user}",
      "gists_url": "https://api.github.com/users/vogelito/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vogelito/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vogelito/subscriptions",
      "organizations_url": "https://api.github.com/users/vogelito/orgs",
      "repos_url": "https://api.github.com/users/vogelito/repos",
      "events_url": "https://api.github.com/users/vogelito/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vogelito/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-18T00:01:49Z",
    "updated_at": "2018-05-18T00:01:49Z",
    "author_association": "NONE",
    "body": "The node is now at 18.69 and this is what the report shows now:\r\n<img width=\"407\" alt=\"screen shot 2018-05-17 at 6 59 27 pm\" src=\"https://user-images.githubusercontent.com/1325863/40209436-ba1dc6a0-5a04-11e8-9e58-4b35ceb54fd9.png\">\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/390050985/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/390252487",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/16728#issuecomment-390252487",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/16728",
    "id": 390252487,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5MDI1MjQ4Nw==",
    "user": {
      "login": "vogelito",
      "id": 1325863,
      "node_id": "MDQ6VXNlcjEzMjU4NjM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1325863?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vogelito",
      "html_url": "https://github.com/vogelito",
      "followers_url": "https://api.github.com/users/vogelito/followers",
      "following_url": "https://api.github.com/users/vogelito/following{/other_user}",
      "gists_url": "https://api.github.com/users/vogelito/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vogelito/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vogelito/subscriptions",
      "organizations_url": "https://api.github.com/users/vogelito/orgs",
      "repos_url": "https://api.github.com/users/vogelito/repos",
      "events_url": "https://api.github.com/users/vogelito/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vogelito/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-18T15:57:20Z",
    "updated_at": "2018-05-18T15:57:20Z",
    "author_association": "NONE",
    "body": "last 24 hours running 1.8.8.\r\n\r\n![image](https://user-images.githubusercontent.com/1325863/40245040-11125f04-5a8a-11e8-81a6-9669cf773e0d.png)\r\n\r\nProcess killed by the OS:\r\n```\r\n# dmesg | grep oom\r\n[14196605.693635] geth invoked oom-killer: gfp_mask=0x24201ca, order=0, oom_score_adj=0\r\n[14196605.693664]  [<ffffffff81192e72>] oom_kill_process+0x202/0x3c0\r\n[14196605.693750] [ pid ]   uid  tgid total_vm      rss nr_ptes nr_pmds swapents oom_score_adj name\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/390252487/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/390264063",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/16728#issuecomment-390264063",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/16728",
    "id": 390264063,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5MDI2NDA2Mw==",
    "user": {
      "login": "karalabe",
      "id": 129561,
      "node_id": "MDQ6VXNlcjEyOTU2MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/karalabe",
      "html_url": "https://github.com/karalabe",
      "followers_url": "https://api.github.com/users/karalabe/followers",
      "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
      "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
      "organizations_url": "https://api.github.com/users/karalabe/orgs",
      "repos_url": "https://api.github.com/users/karalabe/repos",
      "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/karalabe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-18T16:39:40Z",
    "updated_at": "2018-05-18T16:40:02Z",
    "author_association": "MEMBER",
    "body": "We're running a few tests ourselves too now. A PR from Gary https://github.com/ethereum/go-ethereum/pull/16720 could help with the tons of goroutines by making less of them and also fixes some pending block generation issues that made tx posting slow. I can't give you meaningful numbers since the syncs just finished now, but lets see how the two behave in comparison after a day or so.\r\n\r\nAfter this is in, I also have an update lined up that removes a blockage from block and transaction propagation into the network. That should avoid any goroutine leak caused by slow remote peers. Will set up a benchmark for it on Monday (want to run the above PR until then).",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/390264063/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/390268266",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/16728#issuecomment-390268266",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/16728",
    "id": 390268266,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5MDI2ODI2Ng==",
    "user": {
      "login": "vogelito",
      "id": 1325863,
      "node_id": "MDQ6VXNlcjEzMjU4NjM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1325863?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vogelito",
      "html_url": "https://github.com/vogelito",
      "followers_url": "https://api.github.com/users/vogelito/followers",
      "following_url": "https://api.github.com/users/vogelito/following{/other_user}",
      "gists_url": "https://api.github.com/users/vogelito/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vogelito/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vogelito/subscriptions",
      "organizations_url": "https://api.github.com/users/vogelito/orgs",
      "repos_url": "https://api.github.com/users/vogelito/repos",
      "events_url": "https://api.github.com/users/vogelito/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vogelito/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-18T16:55:19Z",
    "updated_at": "2018-05-18T16:55:19Z",
    "author_association": "NONE",
    "body": "Thanks. I will try to provide you with a memory report of the node later today. If there's anything else I can do to help you track this problem, please let me know.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/390268266/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/390282580",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/16728#issuecomment-390282580",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/16728",
    "id": 390282580,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5MDI4MjU4MA==",
    "user": {
      "login": "mykolasmith",
      "id": 1483054,
      "node_id": "MDQ6VXNlcjE0ODMwNTQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1483054?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mykolasmith",
      "html_url": "https://github.com/mykolasmith",
      "followers_url": "https://api.github.com/users/mykolasmith/followers",
      "following_url": "https://api.github.com/users/mykolasmith/following{/other_user}",
      "gists_url": "https://api.github.com/users/mykolasmith/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mykolasmith/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mykolasmith/subscriptions",
      "organizations_url": "https://api.github.com/users/mykolasmith/orgs",
      "repos_url": "https://api.github.com/users/mykolasmith/repos",
      "events_url": "https://api.github.com/users/mykolasmith/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mykolasmith/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-18T17:48:45Z",
    "updated_at": "2018-05-18T17:48:45Z",
    "author_association": "NONE",
    "body": "@karalabe We're going to try this out as well. Will report back results in a few hours!",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/390282580/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/390335893",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/16728#issuecomment-390335893",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/16728",
    "id": 390335893,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5MDMzNTg5Mw==",
    "user": {
      "login": "vogelito",
      "id": 1325863,
      "node_id": "MDQ6VXNlcjEzMjU4NjM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1325863?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vogelito",
      "html_url": "https://github.com/vogelito",
      "followers_url": "https://api.github.com/users/vogelito/followers",
      "following_url": "https://api.github.com/users/vogelito/following{/other_user}",
      "gists_url": "https://api.github.com/users/vogelito/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vogelito/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vogelito/subscriptions",
      "organizations_url": "https://api.github.com/users/vogelito/orgs",
      "repos_url": "https://api.github.com/users/vogelito/repos",
      "events_url": "https://api.github.com/users/vogelito/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vogelito/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-18T21:22:23Z",
    "updated_at": "2018-05-18T21:22:23Z",
    "author_association": "NONE",
    "body": "Current situation and memory report\r\n\r\n<img width=\"602\" alt=\"screen shot 2018-05-18 at 3 16 42 pm\" src=\"https://user-images.githubusercontent.com/1325863/40258525-1c64c7c8-5aaf-11e8-9218-56c8a99a8e6a.png\">\r\n\r\n<img width=\"388\" alt=\"screen shot 2018-05-18 at 3 20 22 pm\" src=\"https://user-images.githubusercontent.com/1325863/40258522-1c2a8432-5aaf-11e8-82a1-c2cbea93b309.png\">",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/390335893/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/390397898",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/16728#issuecomment-390397898",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/16728",
    "id": 390397898,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5MDM5Nzg5OA==",
    "user": {
      "login": "vogelito",
      "id": 1325863,
      "node_id": "MDQ6VXNlcjEzMjU4NjM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1325863?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vogelito",
      "html_url": "https://github.com/vogelito",
      "followers_url": "https://api.github.com/users/vogelito/followers",
      "following_url": "https://api.github.com/users/vogelito/following{/other_user}",
      "gists_url": "https://api.github.com/users/vogelito/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vogelito/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vogelito/subscriptions",
      "organizations_url": "https://api.github.com/users/vogelito/orgs",
      "repos_url": "https://api.github.com/users/vogelito/repos",
      "events_url": "https://api.github.com/users/vogelito/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vogelito/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-19T11:12:18Z",
    "updated_at": "2018-05-19T11:12:18Z",
    "author_association": "NONE",
    "body": "Update. Node exhausted memory again.\r\n\r\nMemory scan\r\n<img width=\"411\" alt=\"screen shot 2018-05-19 at 5 06 32 am\" src=\"https://user-images.githubusercontent.com/1325863/40267950-71feab9a-5b22-11e8-9807-c32de5732012.png\">\r\n\r\nLast   month\r\n<img width=\"605\" alt=\"screen shot 2018-05-19 at 5 03 59 am\" src=\"https://user-images.githubusercontent.com/1325863/40267954-72b83010-5b22-11e8-88e7-ce7c1a7fb1d2.png\">\r\n\r\nLast week\r\n\r\n<img width=\"599\" alt=\"screen shot 2018-05-19 at 5 04 15 am\" src=\"https://user-images.githubusercontent.com/1325863/40267953-7292b74a-5b22-11e8-9803-7738334e1dd1.png\">\r\n\r\nLast 2 days\r\n<img width=\"603\" alt=\"screen shot 2018-05-19 at 5 04 41 am\" src=\"https://user-images.githubusercontent.com/1325863/40267952-7260ca28-5b22-11e8-8ca5-54761163847a.png\">\r\n\r\n\r\nLast 24 hours\r\n<img width=\"604\" alt=\"screen shot 2018-05-19 at 5 05 14 am\" src=\"https://user-images.githubusercontent.com/1325863/40267951-72363f10-5b22-11e8-87c4-672b5ee8ffed.png\">\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/390397898/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/390415836",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/16728#issuecomment-390415836",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/16728",
    "id": 390415836,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5MDQxNTgzNg==",
    "user": {
      "login": "mykolasmith",
      "id": 1483054,
      "node_id": "MDQ6VXNlcjE0ODMwNTQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1483054?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mykolasmith",
      "html_url": "https://github.com/mykolasmith",
      "followers_url": "https://api.github.com/users/mykolasmith/followers",
      "following_url": "https://api.github.com/users/mykolasmith/following{/other_user}",
      "gists_url": "https://api.github.com/users/mykolasmith/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mykolasmith/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mykolasmith/subscriptions",
      "organizations_url": "https://api.github.com/users/mykolasmith/orgs",
      "repos_url": "https://api.github.com/users/mykolasmith/repos",
      "events_url": "https://api.github.com/users/mykolasmith/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mykolasmith/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-19T16:23:17Z",
    "updated_at": "2018-05-19T16:23:17Z",
    "author_association": "NONE",
    "body": "<img width=\"618\" alt=\"screen shot 2018-05-19 at 12 22 21 pm\" src=\"https://user-images.githubusercontent.com/1483054/40270666-509e0ae4-5b5f-11e8-96de-7c043fa18c31.png\">\r\n\r\nStill seeing memory leak as of https://github.com/ethereum/go-ethereum/pull/16720.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/390415836/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/390499540",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/16728#issuecomment-390499540",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/16728",
    "id": 390499540,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5MDQ5OTU0MA==",
    "user": {
      "login": "vogelito",
      "id": 1325863,
      "node_id": "MDQ6VXNlcjEzMjU4NjM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1325863?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vogelito",
      "html_url": "https://github.com/vogelito",
      "followers_url": "https://api.github.com/users/vogelito/followers",
      "following_url": "https://api.github.com/users/vogelito/following{/other_user}",
      "gists_url": "https://api.github.com/users/vogelito/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vogelito/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vogelito/subscriptions",
      "organizations_url": "https://api.github.com/users/vogelito/orgs",
      "repos_url": "https://api.github.com/users/vogelito/repos",
      "events_url": "https://api.github.com/users/vogelito/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vogelito/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-20T17:55:53Z",
    "updated_at": "2018-05-20T17:55:53Z",
    "author_association": "NONE",
    "body": "Per @holiman's post in #16673, I'm attaching the output of `http://localhost:6060/debug/pprof/goroutine?debug=1`\r\n\r\nThis was with 1.8.8 at over 24GB. The node had 2.3M goroutines on the event feed (99.9934% of all goroutines).\r\n\r\n```\r\ngoroutine profile: total 2364583\r\n2364427 @ 0x44272a 0x4427de 0x419c42 0x4198fb 0x6c1fec 0x4706e1\r\n#\t0x6c1feb\tgithub.com/ethereum/go-ethereum/event.(*Feed).Send+0xcb\t/home/ubuntu/geth/go-ethereum/build/_workspace/src/github.com/ethereum/go-ethereum/event/feed.go:133\r\n\r\n17 @ 0x44272a 0x4427de 0x453344 0x45305d 0x4871b8 0x4880bd 0x886b44 0x8868ce 0xa8f821 0xa8f0a6 0xa9d90b 0x985ce6 0x4706e1\r\n#\t0x45305c\tsync.runtime_SemacquireMutex+0x3c\t\t\t\t\t/usr/local/go/src/runtime/sema.go:71\r\n#\t0x4871b7\tsync.(*Mutex).Lock+0x107\t\t\t\t\t\t/usr/local/go/src/sync/mutex.go:134\r\n#\t0x4880bc\tsync.(*RWMutex).Lock+0x2c\t\t\t\t\t\t/usr/local/go/src/sync/rwmutex.go:93\r\n#\t0x886b43\tgithub.com/ethereum/go-ethereum/core.(*TxPool).addTxs+0x53\t\t/home/ubuntu/geth/go-ethereum/build/_workspace/src/github.com/ethereum/go-ethereum/core/tx_pool.go:801\r\n```\r\n\r\nThe [full output file here](https://github.com/ethereum/go-ethereum/files/2020523/2018.05.20_goroutine.log)\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/390499540/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/390591432",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/16728#issuecomment-390591432",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/16728",
    "id": 390591432,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5MDU5MTQzMg==",
    "user": {
      "login": "karalabe",
      "id": 129561,
      "node_id": "MDQ6VXNlcjEyOTU2MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/karalabe",
      "html_url": "https://github.com/karalabe",
      "followers_url": "https://api.github.com/users/karalabe/followers",
      "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
      "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
      "organizations_url": "https://api.github.com/users/karalabe/orgs",
      "repos_url": "https://api.github.com/users/karalabe/repos",
      "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/karalabe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-21T08:41:44Z",
    "updated_at": "2018-05-21T08:41:44Z",
    "author_association": "MEMBER",
    "body": "Master currently contains some optimizations that should help avoid one potential bottleneck from the transaction feed. Trying that might be a good data point for us.\r\n\r\nOn top of master, I have a PR https://github.com/ethereum/go-ethereum/pull/16769 which removes another potential congestion points from the transaction feed. Trying out this might also be a valuable data point.\r\n\r\nNo promise that these will fix the issue, but is should most definitely fix *some* issue that could lead to this scenario in insanely busy nodes.\r\n\r\n---\r\n\r\nQuick question. Could you detail a bit your setup? How many peers do you run with? What is your API usage? What kind of requests are you serving? Anything else that might be helpful to find congested pathways?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/390591432/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/390652436",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/16728#issuecomment-390652436",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/16728",
    "id": 390652436,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5MDY1MjQzNg==",
    "user": {
      "login": "vogelito",
      "id": 1325863,
      "node_id": "MDQ6VXNlcjEzMjU4NjM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1325863?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vogelito",
      "html_url": "https://github.com/vogelito",
      "followers_url": "https://api.github.com/users/vogelito/followers",
      "following_url": "https://api.github.com/users/vogelito/following{/other_user}",
      "gists_url": "https://api.github.com/users/vogelito/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vogelito/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vogelito/subscriptions",
      "organizations_url": "https://api.github.com/users/vogelito/orgs",
      "repos_url": "https://api.github.com/users/vogelito/repos",
      "events_url": "https://api.github.com/users/vogelito/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vogelito/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-21T13:23:34Z",
    "updated_at": "2018-05-21T13:23:34Z",
    "author_association": "NONE",
    "body": "I see that #16769 has been merged into master. I'll try a new build off of master and report back.\r\n\r\nRegarding our setup, here are the details:\r\n* startup args: `--rpc --rpcapi \"debug,personal,eth,web3\" --targetgaslimit 1000000 --cache 2048 --gpopercentile 30 --maxpeers 25 --metrics --pprof --pprofaddr=127.0.0.1`\r\n* We heavily use the JSONRPC API with the following calls:\r\n  * eth_blockNumber: Continuously\r\n  * eth_getBlockByNumber: Once a new block we haven't seen is mined\r\n  * eth_getTransactionReceipt: Low volume (on transactions we care about)\r\n  * eth_getTransactionByHash: Low volume (on transactions we care about)\r\n  * eth_getBalance: twice / minute\r\n  * eth_gasPrice: varies but constantly\r\n  * personal_unlockAccount: varies but constantly\r\n  * eth_sendTransaction: varies but constantly\r\n  * personal_newAccount: Low volume\r\n \r\nI hope this is useful. We're restarting our node now with a build from master and will report back.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/390652436/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/390656064",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/16728#issuecomment-390656064",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/16728",
    "id": 390656064,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5MDY1NjA2NA==",
    "user": {
      "login": "vogelito",
      "id": 1325863,
      "node_id": "MDQ6VXNlcjEzMjU4NjM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1325863?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vogelito",
      "html_url": "https://github.com/vogelito",
      "followers_url": "https://api.github.com/users/vogelito/followers",
      "following_url": "https://api.github.com/users/vogelito/following{/other_user}",
      "gists_url": "https://api.github.com/users/vogelito/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vogelito/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vogelito/subscriptions",
      "organizations_url": "https://api.github.com/users/vogelito/orgs",
      "repos_url": "https://api.github.com/users/vogelito/repos",
      "events_url": "https://api.github.com/users/vogelito/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vogelito/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-21T13:37:52Z",
    "updated_at": "2018-05-21T13:38:06Z",
    "author_association": "NONE",
    "body": "For reference, this is what we're running now\r\n```\r\n# /home/ubuntu/geth/current/geth version\r\nGeth\r\nVersion: 1.8.9-unstable\r\nGit Commit: 415969f534d8122e717e18abafdc8ec7bb913a84\r\nArchitecture: amd64\r\nProtocol Versions: [63 62]\r\nNetwork Id: 1\r\nGo Version: go1.10\r\nOperating System: linux\r\nGOPATH=\r\nGOROOT=/usr/local/go\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/390656064/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
