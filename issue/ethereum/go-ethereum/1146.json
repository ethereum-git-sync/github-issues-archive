{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/1146",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/1146/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/1146/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/1146/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/1146",
  "id": 82103085,
  "node_id": "MDU6SXNzdWU4MjEwMzA4NQ==",
  "number": 1146,
  "title": "Synchronisation failed: peer is stalling",
  "user": {
    "login": "ethers",
    "id": 6937903,
    "node_id": "MDQ6VXNlcjY5Mzc5MDM=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6937903?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/ethers",
    "html_url": "https://github.com/ethers",
    "followers_url": "https://api.github.com/users/ethers/followers",
    "following_url": "https://api.github.com/users/ethers/following{/other_user}",
    "gists_url": "https://api.github.com/users/ethers/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/ethers/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/ethers/subscriptions",
    "organizations_url": "https://api.github.com/users/ethers/orgs",
    "repos_url": "https://api.github.com/users/ethers/repos",
    "events_url": "https://api.github.com/users/ethers/events{/privacy}",
    "received_events_url": "https://api.github.com/users/ethers/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 3,
  "created_at": "2015-05-28T20:05:05Z",
  "updated_at": "2015-05-29T19:00:52Z",
  "closed_at": "2015-05-29T19:00:52Z",
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": "On 0.9.26\n\na node is not getting blocks and keeps getting `Synchronisation failed: peer is stalling`:\n\n```\nI0528 12:56:48.419925   22722 queue.go:136] Hash 79891aa470056cc993bf26254621049f9b9a9cf2af65dc3e38abaee5e1f058e6 already scheduled at index 458529\nI0528 12:56:48.653142   22722 queue.go:136] Hash 2a1c9703e7d90ce08642f90d66ba56bc1c28b701c57e9b9161598252e7939f05 already scheduled at index 460576\nI0528 12:56:48.917047   22722 queue.go:136] Hash bbde2dcf439faf69851e5922caa20443d3af688c316a90fe45d2ab82caf91ab9 already scheduled at index 462623\nI0528 12:56:48.917475   22722 sync.go:120] Synchronisation failed: peer is stalling\n```\n",
  "closed_by": {
    "login": "ethers",
    "id": 6937903,
    "node_id": "MDQ6VXNlcjY5Mzc5MDM=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6937903?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/ethers",
    "html_url": "https://github.com/ethers",
    "followers_url": "https://api.github.com/users/ethers/followers",
    "following_url": "https://api.github.com/users/ethers/following{/other_user}",
    "gists_url": "https://api.github.com/users/ethers/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/ethers/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/ethers/subscriptions",
    "organizations_url": "https://api.github.com/users/ethers/orgs",
    "repos_url": "https://api.github.com/users/ethers/repos",
    "events_url": "https://api.github.com/users/ethers/events{/privacy}",
    "received_events_url": "https://api.github.com/users/ethers/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/1146/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/1146/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/106605515",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/1146#issuecomment-106605515",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/1146",
    "id": 106605515,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEwNjYwNTUxNQ==",
    "user": {
      "login": "ethers",
      "id": 6937903,
      "node_id": "MDQ6VXNlcjY5Mzc5MDM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6937903?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ethers",
      "html_url": "https://github.com/ethers",
      "followers_url": "https://api.github.com/users/ethers/followers",
      "following_url": "https://api.github.com/users/ethers/following{/other_user}",
      "gists_url": "https://api.github.com/users/ethers/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ethers/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ethers/subscriptions",
      "organizations_url": "https://api.github.com/users/ethers/orgs",
      "repos_url": "https://api.github.com/users/ethers/repos",
      "events_url": "https://api.github.com/users/ethers/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ethers/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-05-28T21:29:59Z",
    "updated_at": "2015-05-28T21:29:59Z",
    "author_association": "MEMBER",
    "body": "logs are just like this:\n\n```\nI0528 14:28:25.182371   26015 udp.go:397] >>> 85.183.206.130:62751 discover.neighbors\nI0528 14:28:25.182706   26015 udp.go:397] >>> 85.183.206.130:62751 discover.neighbors\nI0528 14:28:25.182744   26015 udp.go:452] <<< 85.183.206.130:62751 *discover.findnode: ok\nI0528 14:28:26.954203   26015 udp.go:397] >>> 75.143.157.56:30303 discover.pong\nI0528 14:28:26.954344   26015 udp.go:452] <<< 75.143.157.56:30303 *discover.ping: ok\nI0528 14:28:27.065498   26015 udp.go:397] >>> 75.143.157.56:30303 discover.pong\nI0528 14:28:27.065611   26015 udp.go:452] <<< 75.143.157.56:30303 *discover.ping: ok\nI0528 14:28:27.187485   26015 udp.go:397] >>> 75.143.157.56:30303 discover.pong\nI0528 14:28:27.187677   26015 udp.go:452] <<< 75.143.157.56:30303 *discover.ping: ok\nI0528 14:28:27.302091   26015 udp.go:397] >>> 75.143.157.56:30303 discover.pong\nI0528 14:28:27.302535   26015 udp.go:452] <<< 75.143.157.56:30303 *discover.ping: ok\nI0528 14:28:27.319589   26015 server.go:463] <-addpeer: dyn dial conn f461e77954fa8a0e 5.35.246.32:30303\nI0528 14:28:27.319784   26015 server.go:631] Added Peer f461e77954fa8a0e 5.35.246.32:30303\nI0528 14:28:27.319974   26015 server.go:447] <-taskdone: dyn dial f461e77954fa8a0e 5.35.246.32:30303\nI0528 14:28:27.419146   26015 udp.go:397] >>> 75.143.157.56:30303 discover.pong\nI0528 14:28:27.419468   26015 udp.go:452] <<< 75.143.157.56:30303 *discover.ping: ok\nI0528 14:28:27.546609   26015 udp.go:397] >>> 75.143.157.56:30303 discover.pong\nI0528 14:28:27.547860   26015 udp.go:452] <<< 75.143.157.56:30303 *discover.ping: ok\nI0528 14:28:27.669841   26015 udp.go:397] >>> 75.143.157.56:30303 discover.pong\nI0528 14:28:27.670302   26015 udp.go:452] <<< 75.143.157.56:30303 *discover.ping: ok\nI0528 14:28:27.784078   26015 udp.go:397] >>> 75.143.157.56:30303 discover.pong\nI0528 14:28:27.785186   26015 udp.go:452] <<< 75.143.157.56:30303 *discover.ping: ok\nI0528 14:28:28.775305   26015 udp.go:397] >>> 52.4.180.23:30303 discover.neighbors\nI0528 14:28:28.775899   26015 udp.go:397] >>> 52.4.180.23:30303 discover.neighbors\nI0528 14:28:28.775946   26015 udp.go:452] <<< 52.4.180.23:30303 *discover.findnode: ok\nI0528 14:28:32.658003   26015 udp.go:397] >>> 153.127.243.164:30303 discover.neighbors\nI0528 14:28:32.658515   26015 udp.go:397] >>> 153.127.243.164:30303 discover.neighbors\nI0528 14:28:32.658567   26015 udp.go:452] <<< 153.127.243.164:30303 *discover.findnode: ok\nI0528 14:28:34.267741   26015 udp.go:397] >>> 153.127.243.164:30303 discover.pong\nI0528 14:28:34.268877   26015 udp.go:452] <<< 153.127.243.164:30303 *discover.ping: ok\nI0528 14:28:35.533104   26015 udp.go:397] >>> 75.143.157.56:30303 discover.pong\nI0528 14:28:35.533244   26015 udp.go:452] <<< 75.143.157.56:30303 *discover.ping: ok\nI0528 14:28:38.059421   26015 udp.go:397] >>> 24.54.10.24:30303 discover.neighbors\nI0528 14:28:38.059797   26015 udp.go:397] >>> 24.54.10.24:30303 discover.neighbors\nI0528 14:28:38.059870   26015 udp.go:452] <<< 24.54.10.24:30303 *discover.findnode: ok\nI0528 14:28:41.500473   26015 udp.go:397] >>> 129.42.208.174:30311 discover.pong\nI0528 14:28:41.500641   26015 udp.go:452] <<< 129.42.208.174:30311 *discover.ping: ok\nI0528 14:28:41.501352   26015 udp.go:397] >>> 99.44.54.32:30303 discover.ping\nI0528 14:28:41.618364   26015 udp.go:452] <<< 99.44.54.32:30303 *discover.pong: ok\nI0528 14:28:42.689952   26015 udp.go:397] >>> 52.4.180.23:30303 discover.pong\nI0528 14:28:42.690184   26015 udp.go:452] <<< 52.4.180.23:30303 *discover.ping: ok\nI0528 14:28:42.691188   26015 udp.go:397] >>> 99.44.54.32:30303 discover.ping\nI0528 14:28:42.804200   26015 udp.go:452] <<< 99.44.54.32:30303 *discover.pong: ok\nI0528 14:28:45.185626   26015 udp.go:397] >>> 75.143.157.56:30303 discover.neighbors\nI0528 14:28:45.186302   26015 udp.go:397] >>> 75.143.157.56:30303 discover.neighbors\nI0528 14:28:45.186368   26015 udp.go:452] <<< 75.143.157.56:30303 *discover.findnode: ok\nI0528 14:28:45.309182   26015 udp.go:397] >>> 75.143.157.56:30303 discover.pong\nI0528 14:28:45.309246   26015 udp.go:452] <<< 75.143.157.56:30303 *discover.ping: ok\nI0528 14:28:45.434445   26015 udp.go:397] >>> 75.143.157.56:30303 discover.pong\nI0528 14:28:45.434548   26015 udp.go:452] <<< 75.143.157.56:30303 *discover.ping: ok\nI0528 14:28:45.548110   26015 udp.go:397] >>> 75.143.157.56:30303 discover.pong\nI0528 14:28:45.548220   26015 udp.go:452] <<< 75.143.157.56:30303 *discover.ping: ok\nI0528 14:28:45.660944   26015 udp.go:397] >>> 75.143.157.56:30303 discover.pong\nI0528 14:28:45.661327   26015 udp.go:452] <<< 75.143.157.56:30303 *discover.ping: ok\nI0528 14:28:45.940415   26015 udp.go:397] >>> 75.143.157.56:30303 discover.pong\nI0528 14:28:45.940646   26015 udp.go:452] <<< 75.143.157.56:30303 *discover.ping: ok\nI0528 14:28:46.271229   26015 udp.go:397] >>> 75.143.157.56:30303 discover.pong\nI0528 14:28:46.271309   26015 udp.go:452] <<< 75.143.157.56:30303 *discover.ping: ok\nI0528 14:28:46.390114   26015 udp.go:397] >>> 75.143.157.56:30303 discover.pong\nI0528 14:28:46.390358   26015 udp.go:452] <<< 75.143.157.56:30303 *discover.ping: ok\nI0528 14:28:47.385845   26015 udp.go:397] >>> 24.251.161.112:5292 discover.pong\nI0528 14:28:47.385909   26015 udp.go:452] <<< 24.251.161.112:5292 *discover.ping: ok\nI0528 14:28:47.578142   26015 udp.go:397] >>> 24.251.161.112:5292 discover.pong\nI0528 14:28:47.578206   26015 udp.go:452] <<< 24.251.161.112:5292 *discover.ping: ok\nI0528 14:28:47.661663   26015 udp.go:397] >>> 24.251.161.112:5292 discover.pong\nI0528 14:28:47.663073   26015 udp.go:452] <<< 24.251.161.112:5292 *discover.ping: ok\nI0528 14:28:47.729467   26015 udp.go:397] >>> 24.251.161.112:5292 discover.neighbors\nI0528 14:28:47.729683   26015 udp.go:397] >>> 24.251.161.112:5292 discover.neighbors\nI0528 14:28:47.729705   26015 udp.go:452] <<< 24.251.161.112:5292 *discover.findnode: ok\nI0528 14:28:47.730096   26015 udp.go:397] >>> 24.251.161.112:5292 discover.pong\nI0528 14:28:47.730141   26015 udp.go:452] <<< 24.251.161.112:5292 *discover.ping: ok\nI0528 14:28:47.781141   26015 udp.go:397] >>> 52.4.180.23:30303 discover.pong\nI0528 14:28:47.781256   26015 udp.go:452] <<< 52.4.180.23:30303 *discover.ping: ok\nI0528 14:28:47.781947   26015 udp.go:397] >>> 99.44.54.32:30303 discover.ping\nI0528 14:28:47.893446   26015 udp.go:452] <<< 99.44.54.32:30303 *discover.pong: ok\nI0528 14:28:48.643080   26015 udp.go:397] >>> 24.251.161.112:5292 discover.pong\nI0528 14:28:48.643269   26015 udp.go:452] <<< 24.251.161.112:5292 *discover.ping: ok\nI0528 14:28:48.706110   26015 udp.go:397] >>> 52.4.180.23:30303 discover.pong\nI0528 14:28:48.706335   26015 udp.go:452] <<< 52.4.180.23:30303 *discover.ping: ok\nI0528 14:28:48.706978   26015 udp.go:397] >>> 99.44.54.32:30303 discover.ping\nI0528 14:28:48.824203   26015 udp.go:452] <<< 99.44.54.32:30303 *discover.pong: ok\nI0528 14:28:51.554641   26015 udp.go:397] >>> 52.4.180.23:30303 discover.pong\nI0528 14:28:51.554757   26015 udp.go:452] <<< 52.4.180.23:30303 *discover.ping: ok\nI0528 14:28:51.555037   26015 udp.go:397] >>> 99.44.54.32:30303 discover.ping\nI0528 14:28:51.671081   26015 udp.go:452] <<< 99.44.54.32:30303 *discover.pong: ok\nI0528 14:28:51.697681   26015 server.go:447] <-taskdone: wait for dial hist expire (29.389827458s)\nI0528 14:28:51.697781   26015 server.go:413] new task: wait for dial hist expire (608.764965ms)\nI0528 14:28:52.306807   26015 server.go:447] <-taskdone: wait for dial hist expire (608.764965ms)\nI0528 14:28:52.306912   26015 server.go:413] new task: wait for dial hist expire (5.013066009s)\nI0528 14:28:54.066511   26015 udp.go:397] >>> 54.207.93.166:30303 discover.pong\nI0528 14:28:54.066643   26015 udp.go:452] <<< 54.207.93.166:30303 *discover.ping: ok\nI0528 14:28:54.067626   26015 udp.go:397] >>> 54.207.93.166:30303 discover.neighbors\nI0528 14:28:54.067926   26015 udp.go:397] >>> 54.207.93.166:30303 discover.neighbors\nI0528 14:28:54.067960   26015 udp.go:452] <<< 54.207.93.166:30303 *discover.findnode: ok\nI0528 14:28:55.637747   26015 udp.go:397] >>> 79.98.29.93:30303 discover.pong\nI0528 14:28:55.637962   26015 udp.go:452] <<< 79.98.29.93:30303 *discover.ping: ok\nI0528 14:28:56.603218   26015 udp.go:397] >>> 79.98.29.93:30303 discover.pong\nI0528 14:28:56.603301   26015 udp.go:452] <<< 79.98.29.93:30303 *discover.ping: ok\nI0528 14:28:57.320179   26015 server.go:447] <-taskdone: wait for dial hist expire (5.013066009s)\n\n```\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/106605515/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/106808861",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/1146#issuecomment-106808861",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/1146",
    "id": 106808861,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEwNjgwODg2MQ==",
    "user": {
      "login": "karalabe",
      "id": 129561,
      "node_id": "MDQ6VXNlcjEyOTU2MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/karalabe",
      "html_url": "https://github.com/karalabe",
      "followers_url": "https://api.github.com/users/karalabe/followers",
      "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
      "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
      "organizations_url": "https://api.github.com/users/karalabe/orgs",
      "repos_url": "https://api.github.com/users/karalabe/repos",
      "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/karalabe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-05-29T13:53:07Z",
    "updated_at": "2015-05-29T13:53:16Z",
    "author_association": "MEMBER",
    "body": "If this a consistent problem, can you run with `--vmodule=sync=6,downloader=6` please?\n\nThat particular error message is returned if you request a batch of hashes from a peer (2048 to be precise), it returns less than 512 and none of them is known to you. This scenario means that even though asked, and even though it should have more, the peer did _not_ give you enough hashes. This check was implemented to prevent a peer from dripping you hashes 1 by 1 and starving your node.\n\nIf may of course be a faulty/badly implemented peer too in the network, but then I don't mind detecting and dropping it.\n\n---\n\nNow, given that you have another issue with duplicate hashes being received, I can imagine that there may be some underlying issue too, but could you please send a log ran with the above cli args?\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/106808861/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/106904148",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/1146#issuecomment-106904148",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/1146",
    "id": 106904148,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEwNjkwNDE0OA==",
    "user": {
      "login": "ethers",
      "id": 6937903,
      "node_id": "MDQ6VXNlcjY5Mzc5MDM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6937903?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ethers",
      "html_url": "https://github.com/ethers",
      "followers_url": "https://api.github.com/users/ethers/followers",
      "following_url": "https://api.github.com/users/ethers/following{/other_user}",
      "gists_url": "https://api.github.com/users/ethers/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ethers/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ethers/subscriptions",
      "organizations_url": "https://api.github.com/users/ethers/orgs",
      "repos_url": "https://api.github.com/users/ethers/repos",
      "events_url": "https://api.github.com/users/ethers/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ethers/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-05-29T19:00:52Z",
    "updated_at": "2015-05-29T19:00:52Z",
    "author_association": "MEMBER",
    "body": "Sorry I had to get my node running yesterday so did removedb and re-started from block 0.  I will do your suggestions if I see it again; closing for now.\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/106904148/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
