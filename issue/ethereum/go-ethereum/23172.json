{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23172",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23172/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23172/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23172/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/23172",
  "id": 938289853,
  "node_id": "MDU6SXNzdWU5MzgyODk4NTM=",
  "number": 23172,
  "title": "Error-handling Mechanisms for Different System Call Invocation Errors?",
  "user": {
    "login": "gluckzhang",
    "id": 6386131,
    "node_id": "MDQ6VXNlcjYzODYxMzE=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6386131?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/gluckzhang",
    "html_url": "https://github.com/gluckzhang",
    "followers_url": "https://api.github.com/users/gluckzhang/followers",
    "following_url": "https://api.github.com/users/gluckzhang/following{/other_user}",
    "gists_url": "https://api.github.com/users/gluckzhang/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/gluckzhang/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/gluckzhang/subscriptions",
    "organizations_url": "https://api.github.com/users/gluckzhang/orgs",
    "repos_url": "https://api.github.com/users/gluckzhang/repos",
    "events_url": "https://api.github.com/users/gluckzhang/events{/privacy}",
    "received_events_url": "https://api.github.com/users/gluckzhang/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 268304226,
      "node_id": "MDU6TGFiZWwyNjgzMDQyMjY=",
      "url": "https://api.github.com/repos/ethereum/go-ethereum/labels/type:docs",
      "name": "type:docs",
      "color": "fef2c0",
      "default": false,
      "description": null
    },
    {
      "id": 1132689577,
      "node_id": "MDU6TGFiZWwxMTMyNjg5NTc3",
      "url": "https://api.github.com/repos/ethereum/go-ethereum/labels/status:triage",
      "name": "status:triage",
      "color": "6be514",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2021-07-06T21:57:50Z",
  "updated_at": "2021-07-08T08:38:46Z",
  "closed_at": "2021-07-08T08:30:45Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "Hello! I am a Ph.D. student in computer science and my research topic is software dependability. Currently I am doing some experiments to study an application's resilience with respect to system call invocation errors. For example, I find that when a [`futex`](https://man7.org/linux/man-pages/man2/futex.2.html) system call invocation fails with error `ENOMEM` (insufficient memory), geth directly crashes and output the following information (full log could be found [here](https://gist.github.com/gluckzhang/742140a93199076224c1f1bc0a087e7a)):\r\n\r\n```\r\nfutexwakeup addr=0xc000059550 returned -12\r\nfatal error: unexpected signal during runtime execution\r\n[signal SIGSEGV: segmentation violation code=0x1 addr=0x1006 pc=0x44b26b]\r\n\r\nruntime stack:\r\nruntime.throw(0x1361858, 0x2a)\r\n\truntime/panic.go:1117 +0x72\r\nruntime.sigpanic()\r\n\truntime/signal_unix.go:718 +0x2e5\r\nruntime.futexwakeup(0xc000059550, 0x1)\r\n\truntime/os_linux.go:68 +0x8b\r\nruntime.notewakeup(0xc000059550)\r\n\truntime/lock_futex.go:144 +0x45\r\nruntime.startm(0x0, 0xc41eb856d14b6201)\r\n\truntime/proc.go:2397 +0x1b9\r\nruntime.wakep()\r\n\truntime/proc.go:2477 +0x66\r\nruntime.ready(0xc002790f00, 0x3, 0xc0ba753501)\r\n\truntime/proc.go:790 +0xb6\r\nruntime.goready.func1()\r\n\truntime/proc.go:347 +0x38\r\nruntime.systemstack(0x0)\r\n\truntime/asm_amd64.s:379 +0x66\r\nruntime.mstart()\r\n\truntime/proc.go:1246\r\n\r\ngoroutine 9468 [running]:\r\n...\r\n...\r\ngoroutine 9416 [select]:\r\ngithub.com/ethereum/go-ethereum/p2p.(*Peer).pingLoop(0xc095c9c7e0)\r\n\tgithub.com/ethereum/go-ethereum/p2p/peer.go:278 +0x125\r\ncreated by github.com/ethereum/go-ethereum/p2p.(*Peer).run\r\n\tgithub.com/ethereum/go-ethereum/p2p/peer.go:232 +0x125\r\n```\r\n\r\nMy question is do you think the developers of go-ethereum need to design some error handling mechanisms for system call invocation errors, or this is something related to the go library?\r\n\r\nI haven't used go before. I am wondering if it is possible to retry since some of the errors such as ENOMEM rarely happen and they can be fixed by the OS later? In this case, the geth client could be more resilient facing turbulence caused by an unstable operating system.\r\n\r\nThanks and look forward to hearing your feedback! Have a nice day!\r\n\r\n*I have tried to use Discord channels first but I am not able to send long messages there. So I create this issue and hopefully you don't mind.*",
  "closed_by": {
    "login": "ligi",
    "id": 111600,
    "node_id": "MDQ6VXNlcjExMTYwMA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/111600?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/ligi",
    "html_url": "https://github.com/ligi",
    "followers_url": "https://api.github.com/users/ligi/followers",
    "following_url": "https://api.github.com/users/ligi/following{/other_user}",
    "gists_url": "https://api.github.com/users/ligi/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/ligi/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/ligi/subscriptions",
    "organizations_url": "https://api.github.com/users/ligi/orgs",
    "repos_url": "https://api.github.com/users/ligi/repos",
    "events_url": "https://api.github.com/users/ligi/events{/privacy}",
    "received_events_url": "https://api.github.com/users/ligi/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23172/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23172/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/876243589",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/23172#issuecomment-876243589",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23172",
    "id": 876243589,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg3NjI0MzU4OQ==",
    "user": {
      "login": "ligi",
      "id": 111600,
      "node_id": "MDQ6VXNlcjExMTYwMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/111600?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ligi",
      "html_url": "https://github.com/ligi",
      "followers_url": "https://api.github.com/users/ligi/followers",
      "following_url": "https://api.github.com/users/ligi/following{/other_user}",
      "gists_url": "https://api.github.com/users/ligi/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ligi/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ligi/subscriptions",
      "organizations_url": "https://api.github.com/users/ligi/orgs",
      "repos_url": "https://api.github.com/users/ligi/repos",
      "events_url": "https://api.github.com/users/ligi/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ligi/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-08T08:30:45Z",
    "updated_at": "2021-07-08T08:30:45Z",
    "author_association": "MEMBER",
    "body": "Please help to keep this issue-tracker clean and only for real issues with go-ethereum. For questions please go to http://ethereum.stackexchange.com\r\n\r\nIf the issue-tracker gets littered with questions - it is really hard to keep track of real issues. So I am sorry to close this issue - but feel free to answer here with the link to your question on stackexchange. Thanks!",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/876243589/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/876248630",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/23172#issuecomment-876248630",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23172",
    "id": 876248630,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg3NjI0ODYzMA==",
    "user": {
      "login": "gluckzhang",
      "id": 6386131,
      "node_id": "MDQ6VXNlcjYzODYxMzE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6386131?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gluckzhang",
      "html_url": "https://github.com/gluckzhang",
      "followers_url": "https://api.github.com/users/gluckzhang/followers",
      "following_url": "https://api.github.com/users/gluckzhang/following{/other_user}",
      "gists_url": "https://api.github.com/users/gluckzhang/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gluckzhang/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gluckzhang/subscriptions",
      "organizations_url": "https://api.github.com/users/gluckzhang/orgs",
      "repos_url": "https://api.github.com/users/gluckzhang/repos",
      "events_url": "https://api.github.com/users/gluckzhang/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gluckzhang/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-08T08:38:05Z",
    "updated_at": "2021-07-08T08:38:46Z",
    "author_association": "NONE",
    "body": "No problem. I have posted my question there. Thanks @ligi !\r\n\r\nref: https://ethereum.stackexchange.com/questions/103179/error-handling-mechanisms-for-different-system-call-invocation-errors",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/876248630/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
