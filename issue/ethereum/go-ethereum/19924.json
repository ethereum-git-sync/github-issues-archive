{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/19924",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/19924/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/19924/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/19924/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/19924",
  "id": 477900694,
  "node_id": "MDU6SXNzdWU0Nzc5MDA2OTQ=",
  "number": 19924,
  "title": "Lag in eth_getTransactionByHash",
  "user": {
    "login": "ds414",
    "id": 11996268,
    "node_id": "MDQ6VXNlcjExOTk2MjY4",
    "avatar_url": "https://avatars.githubusercontent.com/u/11996268?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/ds414",
    "html_url": "https://github.com/ds414",
    "followers_url": "https://api.github.com/users/ds414/followers",
    "following_url": "https://api.github.com/users/ds414/following{/other_user}",
    "gists_url": "https://api.github.com/users/ds414/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/ds414/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/ds414/subscriptions",
    "organizations_url": "https://api.github.com/users/ds414/orgs",
    "repos_url": "https://api.github.com/users/ds414/repos",
    "events_url": "https://api.github.com/users/ds414/events{/privacy}",
    "received_events_url": "https://api.github.com/users/ds414/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 3,
  "created_at": "2019-08-07T12:33:09Z",
  "updated_at": "2020-04-22T16:24:03Z",
  "closed_at": "2020-04-22T16:24:03Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "#### System information\r\n\r\nGeth version: `1.8.23-stable`\r\nOS & Version: Ubuntu 18.04.2 LTS x64\r\nMode: --gcmode archive --syncmode full\r\nSynced: Yes\r\n\r\n#### Expected behaviour\r\nWe regularly check the geth for new events. When a new event appears, we immediately try to get transaction properties - eth_getTransactionByHash. For example:\r\n> curl --data '{\"method\":\"eth_getTransactionByHash\",\"params\":[\"0xf5c0fe7f75f9b4aceee2dd87fb983cfe544607afcf1a9a462c218c0c0f744517\"],\"id\":1,\"jsonrpc\":\"2.0\"}' -H \"Content-Type: application/json\" -X POST localhost:8545\r\n\r\n`{\"jsonrpc\":\"2.0\",\"id\":1,\"result\":{\"blockHash\":\"0x937ecf4e0a98abeafde57529133b9b1bcdb6a42c5efa67d149c7b5692cb522f7\",\"blockNumber\":\"0x7eb18d\",\"from\":\"0x6d5591ea38e3ea32cd4db138d26341c86827946a\",\"gas\":\"0x5fe1b\",\"gasPrice\":\"0x77359400\",\"hash\":\"0xf5c0fe7f75f9b4aceee2dd87fb983cfe544607afcf1a9a462c218c0c0f744517\",\"input\":\"0x1cff79cd000000000000000000000000526af336d614ade5cc252a407062b8861af998f500000000000000000000000000000000000000000000000000000000000000400000000000000000000000000000000000000000000000000000000000000044bc25a810000000000000000000000000448a5065aebb8e423f0896e6c5d525c040f59af3000000000000000000000000000000000000000000000000000000000000fd5a00000000000000000000000000000000000000000000000000000000\",\"nonce\":\"0x5\",\"to\":\"0xc34ff80be0290bc4e90e19f9892773f3e1d2fc5b\",\"transactionIndex\":\"0x48\",\"value\":\"0x1ff973cafa8000\",\"v\":\"0x25\",\"r\":\"0x1cd79478210eeea6270c75c64bd85ebe6f25d234c2970f2ec0028ad2913aadc5\",\"s\":\"0x3a71ff8b2423c1dedc72ede14b2c7092dca45123fc5f9359a5896cd3209f84\"}}`\r\n\r\n#### Actual behaviour\r\nBut sometimes it returns empty response:\r\n`{\" jsonrpc \":\" 2.0 \",\" result \": null,\" id \": 1}`\r\nWe try again and again, usually within a minute \"transaction receipt\" comes.\r\nRecently, empty response has been happening more and more often and the interval between the empty response and the \"transaction receipt\" in the response has been increasing (up to 5 min).\r\n\r\n#### Steps to reproduce the behaviour\r\nWait new events and immediately send eth_getTransactionByHash. Sometimes you will get empty response.\r\n\r\n#### Question\r\nIs this normal behavior?\r\nCan we to get \"transaction receipt\" content from the first request eth_getTransactionByHash?\r\n\r\n",
  "closed_by": {
    "login": "adamschmideg",
    "id": 208822,
    "node_id": "MDQ6VXNlcjIwODgyMg==",
    "avatar_url": "https://avatars.githubusercontent.com/u/208822?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/adamschmideg",
    "html_url": "https://github.com/adamschmideg",
    "followers_url": "https://api.github.com/users/adamschmideg/followers",
    "following_url": "https://api.github.com/users/adamschmideg/following{/other_user}",
    "gists_url": "https://api.github.com/users/adamschmideg/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/adamschmideg/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/adamschmideg/subscriptions",
    "organizations_url": "https://api.github.com/users/adamschmideg/orgs",
    "repos_url": "https://api.github.com/users/adamschmideg/repos",
    "events_url": "https://api.github.com/users/adamschmideg/events{/privacy}",
    "received_events_url": "https://api.github.com/users/adamschmideg/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/19924/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/19924/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/519446641",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/19924#issuecomment-519446641",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/19924",
    "id": 519446641,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUxOTQ0NjY0MQ==",
    "user": {
      "login": "karalabe",
      "id": 129561,
      "node_id": "MDQ6VXNlcjEyOTU2MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/karalabe",
      "html_url": "https://github.com/karalabe",
      "followers_url": "https://api.github.com/users/karalabe/followers",
      "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
      "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
      "organizations_url": "https://api.github.com/users/karalabe/orgs",
      "repos_url": "https://api.github.com/users/karalabe/repos",
      "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/karalabe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-08-08T09:38:45Z",
    "updated_at": "2019-08-08T09:38:45Z",
    "author_association": "MEMBER",
    "body": "Does this reproduce with latest stable? 1.8.23 is a fairly old release",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/519446641/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/520258786",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/19924#issuecomment-520258786",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/19924",
    "id": 520258786,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUyMDI1ODc4Ng==",
    "user": {
      "login": "ds414",
      "id": 11996268,
      "node_id": "MDQ6VXNlcjExOTk2MjY4",
      "avatar_url": "https://avatars.githubusercontent.com/u/11996268?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ds414",
      "html_url": "https://github.com/ds414",
      "followers_url": "https://api.github.com/users/ds414/followers",
      "following_url": "https://api.github.com/users/ds414/following{/other_user}",
      "gists_url": "https://api.github.com/users/ds414/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ds414/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ds414/subscriptions",
      "organizations_url": "https://api.github.com/users/ds414/orgs",
      "repos_url": "https://api.github.com/users/ds414/repos",
      "events_url": "https://api.github.com/users/ds414/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ds414/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-08-11T20:42:53Z",
    "updated_at": "2019-08-11T20:42:53Z",
    "author_association": "NONE",
    "body": "Geth updated to 1.9.1-stable. Now waiting before errors will come. This can take some days.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/520258786/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/617884000",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/19924#issuecomment-617884000",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/19924",
    "id": 617884000,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxNzg4NDAwMA==",
    "user": {
      "login": "adamschmideg",
      "id": 208822,
      "node_id": "MDQ6VXNlcjIwODgyMg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/208822?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/adamschmideg",
      "html_url": "https://github.com/adamschmideg",
      "followers_url": "https://api.github.com/users/adamschmideg/followers",
      "following_url": "https://api.github.com/users/adamschmideg/following{/other_user}",
      "gists_url": "https://api.github.com/users/adamschmideg/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/adamschmideg/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/adamschmideg/subscriptions",
      "organizations_url": "https://api.github.com/users/adamschmideg/orgs",
      "repos_url": "https://api.github.com/users/adamschmideg/repos",
      "events_url": "https://api.github.com/users/adamschmideg/events{/privacy}",
      "received_events_url": "https://api.github.com/users/adamschmideg/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-04-22T16:24:03Z",
    "updated_at": "2020-04-22T16:24:03Z",
    "author_association": "MEMBER",
    "body": "@ds414 I assume you haven't experienced this problem since. If the problem persists, please open a new issue.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/617884000/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
