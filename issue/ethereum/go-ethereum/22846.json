{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22846",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22846/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22846/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22846/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/22846",
  "id": 883154451,
  "node_id": "MDU6SXNzdWU4ODMxNTQ0NTE=",
  "number": 22846,
  "title": "Unexpected response from debug_traceTransaction",
  "user": {
    "login": "MinwooJ",
    "id": 19898854,
    "node_id": "MDQ6VXNlcjE5ODk4ODU0",
    "avatar_url": "https://avatars.githubusercontent.com/u/19898854?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/MinwooJ",
    "html_url": "https://github.com/MinwooJ",
    "followers_url": "https://api.github.com/users/MinwooJ/followers",
    "following_url": "https://api.github.com/users/MinwooJ/following{/other_user}",
    "gists_url": "https://api.github.com/users/MinwooJ/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/MinwooJ/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/MinwooJ/subscriptions",
    "organizations_url": "https://api.github.com/users/MinwooJ/orgs",
    "repos_url": "https://api.github.com/users/MinwooJ/repos",
    "events_url": "https://api.github.com/users/MinwooJ/events{/privacy}",
    "received_events_url": "https://api.github.com/users/MinwooJ/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 72233650,
      "node_id": "MDU6TGFiZWw3MjIzMzY1MA==",
      "url": "https://api.github.com/repos/ethereum/go-ethereum/labels/type:bug",
      "name": "type:bug",
      "color": "FF5E5E",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 6,
  "created_at": "2021-05-10T01:50:13Z",
  "updated_at": "2022-07-20T19:26:52Z",
  "closed_at": "2021-11-02T12:28:51Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "#### System information\r\n\r\nGeth version: `v1.10.2`\r\nOS & Version: Linux\r\n\r\n#### Expected behaviour\r\nWhen `debug_traceTransaction` with `{\"tracer\": \"callTracer\"}` option, I expected to get general response like actions.\r\n\r\n#### Actual behaviour\r\nIt usually responses fine, but intermittently gives `{code=-32000, message=genesis is not traceable}` error Or `{code=-32000, message=transaction 0b3251312a4091994164b1de4fc10900527b656cc08ef3dd90a82d7921afff1c not found}` error\r\n\r\n#### Steps to reproduce the behaviour\r\nI am running a scheduler which `eth_getBlockByNumber`  first and `debug_traceTransaction` using the transaction hashes from the getBlock response.\r\n",
  "closed_by": {
    "login": "holiman",
    "id": 142290,
    "node_id": "MDQ6VXNlcjE0MjI5MA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/142290?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/holiman",
    "html_url": "https://github.com/holiman",
    "followers_url": "https://api.github.com/users/holiman/followers",
    "following_url": "https://api.github.com/users/holiman/following{/other_user}",
    "gists_url": "https://api.github.com/users/holiman/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/holiman/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/holiman/subscriptions",
    "organizations_url": "https://api.github.com/users/holiman/orgs",
    "repos_url": "https://api.github.com/users/holiman/repos",
    "events_url": "https://api.github.com/users/holiman/events{/privacy}",
    "received_events_url": "https://api.github.com/users/holiman/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22846/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22846/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/839443062",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/22846#issuecomment-839443062",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22846",
    "id": 839443062,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgzOTQ0MzA2Mg==",
    "user": {
      "login": "karalabe",
      "id": 129561,
      "node_id": "MDQ6VXNlcjEyOTU2MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/karalabe",
      "html_url": "https://github.com/karalabe",
      "followers_url": "https://api.github.com/users/karalabe/followers",
      "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
      "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
      "organizations_url": "https://api.github.com/users/karalabe/orgs",
      "repos_url": "https://api.github.com/users/karalabe/repos",
      "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/karalabe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-05-12T05:11:22Z",
    "updated_at": "2021-05-12T05:11:22Z",
    "author_association": "MEMBER",
    "body": "`{code=-32000, message=genesis is not traceable}` -> You tried to trace block `0`\r\n\r\nAre you tracing old blocks? Do you have an archive node? If you're tracing historical blocks on a non-archive full node, you might want to look into debug.traceChain, which can stream traces from block to block without needing to regenerate stuff in between (won't work for newly mined blocks).\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/839443062/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/840230042",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/22846#issuecomment-840230042",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22846",
    "id": 840230042,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg0MDIzMDA0Mg==",
    "user": {
      "login": "MinwooJ",
      "id": 19898854,
      "node_id": "MDQ6VXNlcjE5ODk4ODU0",
      "avatar_url": "https://avatars.githubusercontent.com/u/19898854?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MinwooJ",
      "html_url": "https://github.com/MinwooJ",
      "followers_url": "https://api.github.com/users/MinwooJ/followers",
      "following_url": "https://api.github.com/users/MinwooJ/following{/other_user}",
      "gists_url": "https://api.github.com/users/MinwooJ/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MinwooJ/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MinwooJ/subscriptions",
      "organizations_url": "https://api.github.com/users/MinwooJ/orgs",
      "repos_url": "https://api.github.com/users/MinwooJ/repos",
      "events_url": "https://api.github.com/users/MinwooJ/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MinwooJ/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-05-13T01:58:32Z",
    "updated_at": "2021-05-13T01:58:32Z",
    "author_association": "NONE",
    "body": "@karalabe I am running the archive node and what I am curious about is usually it works well but intermittently it gives that error message. \r\n\r\nWhat I found is the error message occurs when the chain reorg happens. \r\n\r\nI runned the node fast sync at the first, and after the sync is completed, I changed it as full and archive. \r\n\r\nAnd this happened at Ropsten testnet. ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/840230042/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/841069081",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/22846#issuecomment-841069081",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22846",
    "id": 841069081,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg0MTA2OTA4MQ==",
    "user": {
      "login": "MariusVanDerWijden",
      "id": 16664698,
      "node_id": "MDQ6VXNlcjE2NjY0Njk4",
      "avatar_url": "https://avatars.githubusercontent.com/u/16664698?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MariusVanDerWijden",
      "html_url": "https://github.com/MariusVanDerWijden",
      "followers_url": "https://api.github.com/users/MariusVanDerWijden/followers",
      "following_url": "https://api.github.com/users/MariusVanDerWijden/following{/other_user}",
      "gists_url": "https://api.github.com/users/MariusVanDerWijden/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MariusVanDerWijden/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MariusVanDerWijden/subscriptions",
      "organizations_url": "https://api.github.com/users/MariusVanDerWijden/orgs",
      "repos_url": "https://api.github.com/users/MariusVanDerWijden/repos",
      "events_url": "https://api.github.com/users/MariusVanDerWijden/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MariusVanDerWijden/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-05-14T07:29:29Z",
    "updated_at": "2021-05-14T07:29:29Z",
    "author_association": "MEMBER",
    "body": "> What I found is the error message occurs when the chain reorg happens.\r\n\r\nThere's an inherent race condition when a reorg happens. You get the block `a` containing the old transactions, now a reorg happens and `a` is not part of the canonical chain anymore, this means that some of the transactions in `a` might not have been executed in the current head `b`. There's nothing to be done about that. You need to discard the traces of the transactions of `a` and instead retrieve the transactions from `b` and trace them.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/841069081/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/843530962",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/22846#issuecomment-843530962",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22846",
    "id": 843530962,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg0MzUzMDk2Mg==",
    "user": {
      "login": "StevenProhashing",
      "id": 74576808,
      "node_id": "MDQ6VXNlcjc0NTc2ODA4",
      "avatar_url": "https://avatars.githubusercontent.com/u/74576808?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/StevenProhashing",
      "html_url": "https://github.com/StevenProhashing",
      "followers_url": "https://api.github.com/users/StevenProhashing/followers",
      "following_url": "https://api.github.com/users/StevenProhashing/following{/other_user}",
      "gists_url": "https://api.github.com/users/StevenProhashing/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/StevenProhashing/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/StevenProhashing/subscriptions",
      "organizations_url": "https://api.github.com/users/StevenProhashing/orgs",
      "repos_url": "https://api.github.com/users/StevenProhashing/repos",
      "events_url": "https://api.github.com/users/StevenProhashing/events{/privacy}",
      "received_events_url": "https://api.github.com/users/StevenProhashing/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-05-18T20:22:34Z",
    "updated_at": "2021-05-18T20:22:34Z",
    "author_association": "NONE",
    "body": "I've noticed a similar issue happening for us. We have a system setup that uses debug_traceTransaction to check transactions sent from our system's wallet. Normally for pending unconfirmed transactions from our wallet, debug_traceTransaction would return a \"not found\" error message. But now it's returning the weird \"genesis is not traceable\" message. \r\n\r\nThis first time we noticed this message was sometime in late April 2021. We upgraded to v1.10.2 in mid April for the Berlin fork. Before upgrading, we were running v1.9.25. We're running a linux non-archive full node.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/843530962/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/957450518",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/22846#issuecomment-957450518",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22846",
    "id": 957450518,
    "node_id": "IC_kwDOAOvK9845EYkW",
    "user": {
      "login": "holiman",
      "id": 142290,
      "node_id": "MDQ6VXNlcjE0MjI5MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/142290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/holiman",
      "html_url": "https://github.com/holiman",
      "followers_url": "https://api.github.com/users/holiman/followers",
      "following_url": "https://api.github.com/users/holiman/following{/other_user}",
      "gists_url": "https://api.github.com/users/holiman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/holiman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/holiman/subscriptions",
      "organizations_url": "https://api.github.com/users/holiman/orgs",
      "repos_url": "https://api.github.com/users/holiman/repos",
      "events_url": "https://api.github.com/users/holiman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/holiman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-11-02T12:28:51Z",
    "updated_at": "2021-11-02T12:28:51Z",
    "author_association": "MEMBER",
    "body": "Already answered by @MariusVanDerWijden , closing this",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/957450518/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1190666357",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/22846#issuecomment-1190666357",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22846",
    "id": 1190666357,
    "node_id": "IC_kwDOAOvK985G-CB1",
    "user": {
      "login": "nuliknol",
      "id": 1125368,
      "node_id": "MDQ6VXNlcjExMjUzNjg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1125368?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nuliknol",
      "html_url": "https://github.com/nuliknol",
      "followers_url": "https://api.github.com/users/nuliknol/followers",
      "following_url": "https://api.github.com/users/nuliknol/following{/other_user}",
      "gists_url": "https://api.github.com/users/nuliknol/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nuliknol/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nuliknol/subscriptions",
      "organizations_url": "https://api.github.com/users/nuliknol/orgs",
      "repos_url": "https://api.github.com/users/nuliknol/repos",
      "events_url": "https://api.github.com/users/nuliknol/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nuliknol/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-07-20T19:24:46Z",
    "updated_at": "2022-07-20T19:26:52Z",
    "author_association": "NONE",
    "body": "> @karalabe I am running the archive node and what I am curious about is usually it works well but intermittently it gives that error message.\r\n> \r\nthis error happens when transaction is still pending (when it is still in the txpool) , so it doesn't have assigned block, that's why this error shows up. So , before showing up this error you should check if the Tx is present in the txpool, and then show \"transaction is pending\" error instead",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1190666357/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
