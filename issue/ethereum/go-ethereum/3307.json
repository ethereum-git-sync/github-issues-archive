{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/3307",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/3307/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/3307/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/3307/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/3307",
  "id": 190305681,
  "node_id": "MDU6SXNzdWUxOTAzMDU2ODE=",
  "number": 3307,
  "title": "cmd/bzzd: \"Manifest 1ff07d81 is malformed: unexpected end of JSON input\"",
  "user": {
    "login": "paulperegud",
    "id": 247162,
    "node_id": "MDQ6VXNlcjI0NzE2Mg==",
    "avatar_url": "https://avatars.githubusercontent.com/u/247162?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/paulperegud",
    "html_url": "https://github.com/paulperegud",
    "followers_url": "https://api.github.com/users/paulperegud/followers",
    "following_url": "https://api.github.com/users/paulperegud/following{/other_user}",
    "gists_url": "https://api.github.com/users/paulperegud/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/paulperegud/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/paulperegud/subscriptions",
    "organizations_url": "https://api.github.com/users/paulperegud/orgs",
    "repos_url": "https://api.github.com/users/paulperegud/repos",
    "events_url": "https://api.github.com/users/paulperegud/events{/privacy}",
    "received_events_url": "https://api.github.com/users/paulperegud/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 856638432,
      "node_id": "MDU6TGFiZWw4NTY2Mzg0MzI=",
      "url": "https://api.github.com/repos/ethereum/go-ethereum/labels/status:inactive",
      "name": "status:inactive",
      "color": "ffffff",
      "default": false,
      "description": null
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": {
    "login": "zelig",
    "id": 769725,
    "node_id": "MDQ6VXNlcjc2OTcyNQ==",
    "avatar_url": "https://avatars.githubusercontent.com/u/769725?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/zelig",
    "html_url": "https://github.com/zelig",
    "followers_url": "https://api.github.com/users/zelig/followers",
    "following_url": "https://api.github.com/users/zelig/following{/other_user}",
    "gists_url": "https://api.github.com/users/zelig/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/zelig/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/zelig/subscriptions",
    "organizations_url": "https://api.github.com/users/zelig/orgs",
    "repos_url": "https://api.github.com/users/zelig/repos",
    "events_url": "https://api.github.com/users/zelig/events{/privacy}",
    "received_events_url": "https://api.github.com/users/zelig/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "zelig",
      "id": 769725,
      "node_id": "MDQ6VXNlcjc2OTcyNQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/769725?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/zelig",
      "html_url": "https://github.com/zelig",
      "followers_url": "https://api.github.com/users/zelig/followers",
      "following_url": "https://api.github.com/users/zelig/following{/other_user}",
      "gists_url": "https://api.github.com/users/zelig/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/zelig/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/zelig/subscriptions",
      "organizations_url": "https://api.github.com/users/zelig/orgs",
      "repos_url": "https://api.github.com/users/zelig/repos",
      "events_url": "https://api.github.com/users/zelig/events{/privacy}",
      "received_events_url": "https://api.github.com/users/zelig/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 13,
  "created_at": "2016-11-18T12:15:01Z",
  "updated_at": "2018-04-16T14:37:26Z",
  "closed_at": "2018-04-16T14:37:26Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "#### System information\r\n\r\nGeth version: Version: 1.5.1-stable\r\nOS & Version: Linux, Ubuntu 16.04.1 LTS\r\n\r\n#### Expected behaviour\r\n`wget -O - \"http://localhost:8500/bzz:/1ff07d819f3c35674c4effc1072de7c8efcb9fb27cc77781f53b990d6b28eb0f\"`\r\nproduces contents of \"github.com/ethereum/go-ethereum/README.md\" file. \r\nURL comes from http://swarm-guide.readthedocs.io/en/latest/usage.html#using-a-local-swarm-instance\r\n\r\n#### Actual behaviour\r\n```\r\n$ wget -O - \"http://localhost:8500/bzz:/1ff07d819f3c35674c4effc1072de7c8efcb9fb27cc77781f53b990d6b28eb0f/\"\r\n--2016-11-18 13:09:32--  http://localhost:8500/bzz:/1ff07d819f3c35674c4effc1072de7c8efcb9fb27cc77781f53b990d6b28eb0f/\r\nResolving localhost (localhost)... 127.0.0.1\r\nConnecting to localhost (localhost)|127.0.0.1|:8500... connected.\r\nHTTP request sent, awaiting response... 400 Bad Request\r\n2016-11-18 13:09:35 ERROR 400: Bad Request\r\n```\r\n\r\nbzz.log entry is produced:\r\n`I1118 13:09:35.982637 swarm/api/api.go:148] loadManifestTrie error: Manifest 1ff07d81 is malformed: unexpected end of JSON input`\r\n\r\n#### Steps to reproduce the behaviour\r\nAdd any file to bzzd/geth instance A. Attempt to download it using bzzd/geth instance B.\r\n",
  "closed_by": {
    "login": "stale[bot]",
    "id": 26384082,
    "node_id": "MDM6Qm90MjYzODQwODI=",
    "avatar_url": "https://avatars.githubusercontent.com/in/1724?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/stale%5Bbot%5D",
    "html_url": "https://github.com/apps/stale",
    "followers_url": "https://api.github.com/users/stale%5Bbot%5D/followers",
    "following_url": "https://api.github.com/users/stale%5Bbot%5D/following{/other_user}",
    "gists_url": "https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/stale%5Bbot%5D/subscriptions",
    "organizations_url": "https://api.github.com/users/stale%5Bbot%5D/orgs",
    "repos_url": "https://api.github.com/users/stale%5Bbot%5D/repos",
    "events_url": "https://api.github.com/users/stale%5Bbot%5D/events{/privacy}",
    "received_events_url": "https://api.github.com/users/stale%5Bbot%5D/received_events",
    "type": "Bot",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/3307/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/3307/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/261530796",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/3307#issuecomment-261530796",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/3307",
    "id": 261530796,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2MTUzMDc5Ng==",
    "user": {
      "login": "maran",
      "id": 20855,
      "node_id": "MDQ6VXNlcjIwODU1",
      "avatar_url": "https://avatars.githubusercontent.com/u/20855?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/maran",
      "html_url": "https://github.com/maran",
      "followers_url": "https://api.github.com/users/maran/followers",
      "following_url": "https://api.github.com/users/maran/following{/other_user}",
      "gists_url": "https://api.github.com/users/maran/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/maran/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/maran/subscriptions",
      "organizations_url": "https://api.github.com/users/maran/orgs",
      "repos_url": "https://api.github.com/users/maran/repos",
      "events_url": "https://api.github.com/users/maran/events{/privacy}",
      "received_events_url": "https://api.github.com/users/maran/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-11-18T13:25:21Z",
    "updated_at": "2016-11-18T13:26:23Z",
    "author_association": "MEMBER",
    "body": "Did you actually upload the readme file again? There is no telling that the hash from the example is still around and if you upload it again it's quite possible you will have a different hash.\n\nI just tried following the instructions and I could pull down the readme file if you are on mainnet and not a private one you can use: b41b0bcd7cb5b3527cc8a5ee8223276a20bbc0bfd4af5cb492faa3264673e928 to pull down the readme.\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/261530796/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/261532056",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/3307#issuecomment-261532056",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/3307",
    "id": 261532056,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2MTUzMjA1Ng==",
    "user": {
      "login": "paulperegud",
      "id": 247162,
      "node_id": "MDQ6VXNlcjI0NzE2Mg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/247162?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/paulperegud",
      "html_url": "https://github.com/paulperegud",
      "followers_url": "https://api.github.com/users/paulperegud/followers",
      "following_url": "https://api.github.com/users/paulperegud/following{/other_user}",
      "gists_url": "https://api.github.com/users/paulperegud/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/paulperegud/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/paulperegud/subscriptions",
      "organizations_url": "https://api.github.com/users/paulperegud/orgs",
      "repos_url": "https://api.github.com/users/paulperegud/repos",
      "events_url": "https://api.github.com/users/paulperegud/events{/privacy}",
      "received_events_url": "https://api.github.com/users/paulperegud/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-11-18T13:31:50Z",
    "updated_at": "2016-11-18T13:31:50Z",
    "author_association": "NONE",
    "body": "I got the same behavior with three different files I've tried to upload on machine A and download on machine B. Both are running same version of geth (v1.5.1, compiled from repo tag) and both were fully synchronized. bzzd used one account on first machine and other on second, both with non-zero ETH balance.\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/261532056/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/261532834",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/3307#issuecomment-261532834",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/3307",
    "id": 261532834,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2MTUzMjgzNA==",
    "user": {
      "login": "cobordism",
      "id": 12838530,
      "node_id": "MDQ6VXNlcjEyODM4NTMw",
      "avatar_url": "https://avatars.githubusercontent.com/u/12838530?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cobordism",
      "html_url": "https://github.com/cobordism",
      "followers_url": "https://api.github.com/users/cobordism/followers",
      "following_url": "https://api.github.com/users/cobordism/following{/other_user}",
      "gists_url": "https://api.github.com/users/cobordism/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cobordism/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cobordism/subscriptions",
      "organizations_url": "https://api.github.com/users/cobordism/orgs",
      "repos_url": "https://api.github.com/users/cobordism/repos",
      "events_url": "https://api.github.com/users/cobordism/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cobordism/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-11-18T13:35:34Z",
    "updated_at": "2016-11-18T13:35:34Z",
    "author_association": "CONTRIBUTOR",
    "body": "paul, I am in the process of writing the documentation. \nThe example you cite is only one day old :) Thank you for joining in.\n\nCan you try something for me:\nI am currently trying to write up how to properly connect up nodes. Maybe your nodes are not connected to each other. So can you try to do the download on the same host that you performed the upload on. Does that work?\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/261532834/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/261533245",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/3307#issuecomment-261533245",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/3307",
    "id": 261533245,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2MTUzMzI0NQ==",
    "user": {
      "login": "paulperegud",
      "id": 247162,
      "node_id": "MDQ6VXNlcjI0NzE2Mg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/247162?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/paulperegud",
      "html_url": "https://github.com/paulperegud",
      "followers_url": "https://api.github.com/users/paulperegud/followers",
      "following_url": "https://api.github.com/users/paulperegud/following{/other_user}",
      "gists_url": "https://api.github.com/users/paulperegud/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/paulperegud/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/paulperegud/subscriptions",
      "organizations_url": "https://api.github.com/users/paulperegud/orgs",
      "repos_url": "https://api.github.com/users/paulperegud/repos",
      "events_url": "https://api.github.com/users/paulperegud/events{/privacy}",
      "received_events_url": "https://api.github.com/users/paulperegud/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-11-18T13:37:35Z",
    "updated_at": "2016-11-18T13:53:45Z",
    "author_association": "NONE",
    "body": "@homotopycolimit I'm aware of its freshness :)\n\nYes, I can download from the same node I was doing uploading at.\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/261533245/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/261533575",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/3307#issuecomment-261533575",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/3307",
    "id": 261533575,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2MTUzMzU3NQ==",
    "user": {
      "login": "paulperegud",
      "id": 247162,
      "node_id": "MDQ6VXNlcjI0NzE2Mg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/247162?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/paulperegud",
      "html_url": "https://github.com/paulperegud",
      "followers_url": "https://api.github.com/users/paulperegud/followers",
      "following_url": "https://api.github.com/users/paulperegud/following{/other_user}",
      "gists_url": "https://api.github.com/users/paulperegud/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/paulperegud/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/paulperegud/subscriptions",
      "organizations_url": "https://api.github.com/users/paulperegud/orgs",
      "repos_url": "https://api.github.com/users/paulperegud/repos",
      "events_url": "https://api.github.com/users/paulperegud/events{/privacy}",
      "received_events_url": "https://api.github.com/users/paulperegud/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-11-18T13:39:09Z",
    "updated_at": "2016-11-18T14:01:30Z",
    "author_association": "NONE",
    "body": "@maran I've tried to download README.md reuploaded by you.\n\n```\n$ wget -O - \"http://localhost:8500/bzz:/b41b0bcd7cb5b3527cc8a5ee8223276a20bbc0bfd4af5cb492faa3264673e928\"\n--2016-11-18 14:38:19--  http://localhost:8500/bzz:/b41b0bcd7cb5b3527cc8a5ee8223276a20bbc0bfd4af5cb492faa3264673e928\nResolving localhost (localhost)... 127.0.0.1\nConnecting to localhost (localhost)|127.0.0.1|:8500... connected.\nHTTP request sent, awaiting response... 302 Found\nLocation: /bzz:/b41b0bcd7cb5b3527cc8a5ee8223276a20bbc0bfd4af5cb492faa3264673e928/ [following]\n--2016-11-18 14:38:19--  http://localhost:8500/bzz:/b41b0bcd7cb5b3527cc8a5ee8223276a20bbc0bfd4af5cb492faa3264673e928/\nReusing existing connection to localhost:8500.\nHTTP request sent, awaiting response... 400 Bad Request\n2016-11-18 14:38:22 ERROR 400: Bad Request.\n```\n\nI see two possibilities.\n1) I mis-configured my bzzd, and I'm currently experiencing some unpredicted mode of behavior  \n2) There might be some kind of network issue  \n\nI've uploaded a file. My geth node has 12 peers right now.\n\n```\n~$ \npawel@ppsh:~$ bzzup ~/code/go-ethereum/README.md\nuploading file /home/pawel/code/go-ethereum/README.md (16731 bytes)\nuploading manifest\n{\n  \"hash\": \"b41b0bcd7cb5b3527cc8a5ee8223276a20bbc0bfd4af5cb492faa3264673e928\",\n  \"entries\": [\n    {\n      \"hash\": \"b98c09359a86860f40326d8b01ff5e833c3083c40217950cd431024684716f21\"\n    }\n  ]\n}\n```\n\n`geth --exec \"admin.peers\" attach` [output](https://gist.github.com/paulperegud/2cb5e2d05ab22f6931391ba3fe621400)\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/261533575/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/261543429",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/3307#issuecomment-261543429",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/3307",
    "id": 261543429,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2MTU0MzQyOQ==",
    "user": {
      "login": "paulperegud",
      "id": 247162,
      "node_id": "MDQ6VXNlcjI0NzE2Mg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/247162?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/paulperegud",
      "html_url": "https://github.com/paulperegud",
      "followers_url": "https://api.github.com/users/paulperegud/followers",
      "following_url": "https://api.github.com/users/paulperegud/following{/other_user}",
      "gists_url": "https://api.github.com/users/paulperegud/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/paulperegud/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/paulperegud/subscriptions",
      "organizations_url": "https://api.github.com/users/paulperegud/orgs",
      "repos_url": "https://api.github.com/users/paulperegud/repos",
      "events_url": "https://api.github.com/users/paulperegud/events{/privacy}",
      "received_events_url": "https://api.github.com/users/paulperegud/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-11-18T14:24:53Z",
    "updated_at": "2016-11-18T14:25:22Z",
    "author_association": "NONE",
    "body": "Update. @maran I've downloaded file you've uploaded. My first try failed.\n\n```\n$ wget -O - \"http://localhost:8500/bzz:/b41b0bcd7cb5b3527cc8a5ee8223276a20bbc0bfd4af5cb492faa3264673e928\" > README.md\n--2016-11-18 15:24:22--  http://localhost:8500/bzz:/b41b0bcd7cb5b3527cc8a5ee8223276a20bbc0bfd4af5cb492faa3264673e928\nResolving localhost (localhost)... 127.0.0.1\nConnecting to localhost (localhost)|127.0.0.1|:8500... connected.\nHTTP request sent, awaiting response... 302 Found\nLocation: /bzz:/b41b0bcd7cb5b3527cc8a5ee8223276a20bbc0bfd4af5cb492faa3264673e928/ [following]\n--2016-11-18 15:24:22--  http://localhost:8500/bzz:/b41b0bcd7cb5b3527cc8a5ee8223276a20bbc0bfd4af5cb492faa3264673e928/\nReusing existing connection to localhost:8500.\nHTTP request sent, awaiting response... 200 OK\nLength: 16731 (16K) []\nSaving to: ‘STDOUT’\n\n-                                                         100%[===================================================================================================================================>]  16,34K  --.-KB/s    in 0s      \n\n2016-11-18 15:24:22 (67,3 MB/s) - written to stdout [16731/16731]\n```\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/261543429/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/261553843",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/3307#issuecomment-261553843",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/3307",
    "id": 261553843,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2MTU1Mzg0Mw==",
    "user": {
      "login": "paulperegud",
      "id": 247162,
      "node_id": "MDQ6VXNlcjI0NzE2Mg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/247162?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/paulperegud",
      "html_url": "https://github.com/paulperegud",
      "followers_url": "https://api.github.com/users/paulperegud/followers",
      "following_url": "https://api.github.com/users/paulperegud/following{/other_user}",
      "gists_url": "https://api.github.com/users/paulperegud/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/paulperegud/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/paulperegud/subscriptions",
      "organizations_url": "https://api.github.com/users/paulperegud/orgs",
      "repos_url": "https://api.github.com/users/paulperegud/repos",
      "events_url": "https://api.github.com/users/paulperegud/events{/privacy}",
      "received_events_url": "https://api.github.com/users/paulperegud/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-11-18T15:07:51Z",
    "updated_at": "2016-11-18T15:07:51Z",
    "author_association": "NONE",
    "body": "It seems that this is an combination of following things:\n1) low timeouts for retrieval (should probably be increased)\n2) bad wording of a message (timeout is a timeout)\n\nI suggest closing this issue.\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/261553843/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/261604562",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/3307#issuecomment-261604562",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/3307",
    "id": 261604562,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2MTYwNDU2Mg==",
    "user": {
      "login": "fjl",
      "id": 6915,
      "node_id": "MDQ6VXNlcjY5MTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6915?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fjl",
      "html_url": "https://github.com/fjl",
      "followers_url": "https://api.github.com/users/fjl/followers",
      "following_url": "https://api.github.com/users/fjl/following{/other_user}",
      "gists_url": "https://api.github.com/users/fjl/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fjl/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fjl/subscriptions",
      "organizations_url": "https://api.github.com/users/fjl/orgs",
      "repos_url": "https://api.github.com/users/fjl/repos",
      "events_url": "https://api.github.com/users/fjl/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fjl/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-11-18T18:27:18Z",
    "updated_at": "2016-11-18T18:27:18Z",
    "author_association": "MEMBER",
    "body": "I would like to repurpose this issue so it tracks the bad error message experience instead. I've been hit by this myself.\n\nIt would be nice if the HTTP endpoint returned a better, distinguishable message if \n- a timeout is reached while fetching content from the network\n- the content was loaded but does not look like a manifest\n- the content does not exist at all (maybe thats already handled, didn't check) \n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/261604562/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/262036006",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/3307#issuecomment-262036006",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/3307",
    "id": 262036006,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2MjAzNjAwNg==",
    "user": {
      "login": "cobordism",
      "id": 12838530,
      "node_id": "MDQ6VXNlcjEyODM4NTMw",
      "avatar_url": "https://avatars.githubusercontent.com/u/12838530?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cobordism",
      "html_url": "https://github.com/cobordism",
      "followers_url": "https://api.github.com/users/cobordism/followers",
      "following_url": "https://api.github.com/users/cobordism/following{/other_user}",
      "gists_url": "https://api.github.com/users/cobordism/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cobordism/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cobordism/subscriptions",
      "organizations_url": "https://api.github.com/users/cobordism/orgs",
      "repos_url": "https://api.github.com/users/cobordism/repos",
      "events_url": "https://api.github.com/users/cobordism/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cobordism/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-11-21T19:10:20Z",
    "updated_at": "2016-11-21T19:10:20Z",
    "author_association": "CONTRIBUTOR",
    "body": "I have some more info on the \"seeker can't seek\" error message. \r\nIt comes from https://golang.org/src/net/http/fs.go where it tells us that \"seeker can't seek\"\r\nquote:  is returned by ServeContent's sizeFunc when the content doesn't seek properly. The underlying Seeker's error text isn't included in the sizeFunc reply so it's not sent over HTTP to end users.\r\n\r\nI rewrote my local fs.go so that errors are passed through and I got: \"seek from the end requires rootchunk for size. call Size first\"\r\nThis is interesting in as much swarm uses the size (which is part of the info in the root chunk)  to enable seeking from the end, while in fs.go:\r\n\"ServeContent uses a seek to the end of the content to determine its size.\"\r\n\r\n\r\neither way I think there was a timeout happening in the background because I found messages in my logs of the form \"DPA.Get: 7246109f request time out\".\r\n\r\nI'll keep digging.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/262036006/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/262038451",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/3307#issuecomment-262038451",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/3307",
    "id": 262038451,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2MjAzODQ1MQ==",
    "user": {
      "login": "fjl",
      "id": 6915,
      "node_id": "MDQ6VXNlcjY5MTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6915?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fjl",
      "html_url": "https://github.com/fjl",
      "followers_url": "https://api.github.com/users/fjl/followers",
      "following_url": "https://api.github.com/users/fjl/following{/other_user}",
      "gists_url": "https://api.github.com/users/fjl/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fjl/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fjl/subscriptions",
      "organizations_url": "https://api.github.com/users/fjl/orgs",
      "repos_url": "https://api.github.com/users/fjl/repos",
      "events_url": "https://api.github.com/users/fjl/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fjl/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-11-21T19:18:58Z",
    "updated_at": "2016-11-21T19:19:43Z",
    "author_association": "MEMBER",
    "body": "A bit more about timeouts: Not sure what the current value is, but you can make it very long and abort when the client connection goes away using a Context.\r\n\r\n```go\r\nimport \"golang.org/x/net/context\"\r\n\r\n// In your handler:\r\nconst defaultTimeout = 40 * time.Second\r\nctx, cancel := context.WithTimeout(req.Context(), defaultTimeout)\r\ndefer cancel()\r\nvalue, err := storage.doTheFetch(ctx, ...)\r\n```\r\n\r\nThis would require changing the storage code so it passes around a Context everywhere.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/262038451/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/265551728",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/3307#issuecomment-265551728",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/3307",
    "id": 265551728,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2NTU1MTcyOA==",
    "user": {
      "login": "cobordism",
      "id": 12838530,
      "node_id": "MDQ6VXNlcjEyODM4NTMw",
      "avatar_url": "https://avatars.githubusercontent.com/u/12838530?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cobordism",
      "html_url": "https://github.com/cobordism",
      "followers_url": "https://api.github.com/users/cobordism/followers",
      "following_url": "https://api.github.com/users/cobordism/following{/other_user}",
      "gists_url": "https://api.github.com/users/cobordism/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cobordism/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cobordism/subscriptions",
      "organizations_url": "https://api.github.com/users/cobordism/orgs",
      "repos_url": "https://api.github.com/users/cobordism/repos",
      "events_url": "https://api.github.com/users/cobordism/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cobordism/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-12-07T19:43:38Z",
    "updated_at": "2016-12-07T19:44:17Z",
    "author_association": "CONTRIBUTOR",
    "body": "Here is a loglevel 6 output of bzzd when the HTTP interface just shows 'Manifest 7b822279 is malformed: unexpected end of JSON input'\r\n\r\n```\r\nI1207 20:37:34.302841 swarm/api/manifest.go:55] manifest lookup key: '7b822279'.\r\nI1207 20:37:34.302982 swarm/storage/dpa.go:139] dpa: retrieve loop : chunk 7b822279\r\nI1207 20:37:34.302997 swarm/storage/netstore.go:123] NetStore.Get: 7b82227929d8e484fdda280476c2e17e1c972d172fa3489aa7b2798a762438db hit on an existing request\r\nI1207 20:37:37.303224 swarm/storage/dpa.go:213] DPA.Get: 7b822279 request time out \r\nI1207 20:37:37.303248 swarm/storage/dpa.go:142] chunk 7b822279 not found\r\nI1207 20:37:37.303270 swarm/api/manifest.go:75] Manifest 7b822279 retrieved\r\nI1207 20:37:37.303289 swarm/api/manifest.go:80] Manifest 7b822279 is malformed: unexpected end of JSON input\r\nI1207 20:37:37.303299 swarm/api/api.go:148] loadManifestTrie error: Manifest 7b822279 is malformed: unexpected end of JSON input\r\nI1207 20:37:37.303314 swarm/api/http/server.go:214] Manifest 7b822279 is malformed: unexpected end of JSON input\r\n```\r\n\r\nI presume that the DPA.Get timeout was too short... but in any event we should get a better error message in the browser.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/265551728/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/268038660",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/3307#issuecomment-268038660",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/3307",
    "id": 268038660,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2ODAzODY2MA==",
    "user": {
      "login": "cobordism",
      "id": 12838530,
      "node_id": "MDQ6VXNlcjEyODM4NTMw",
      "avatar_url": "https://avatars.githubusercontent.com/u/12838530?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cobordism",
      "html_url": "https://github.com/cobordism",
      "followers_url": "https://api.github.com/users/cobordism/followers",
      "following_url": "https://api.github.com/users/cobordism/following{/other_user}",
      "gists_url": "https://api.github.com/users/cobordism/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cobordism/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cobordism/subscriptions",
      "organizations_url": "https://api.github.com/users/cobordism/orgs",
      "repos_url": "https://api.github.com/users/cobordism/repos",
      "events_url": "https://api.github.com/users/cobordism/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cobordism/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-12-19T18:23:37Z",
    "updated_at": "2016-12-19T18:56:21Z",
    "author_association": "CONTRIBUTOR",
    "body": "I have two suggestions.\r\n\r\n1. \"unexpected end of JSON iput\"\r\n\r\nIn manifest.go, the readManifest function calls `size, err := manifestReader.Size(quitC)` but never checks the error. If there was an error determining the manifest size (eg chunk not found) the returned size is 0. The readManifest function the continues with a size of 0 until it stumbles at Unmarshalling the expected JSON.\r\n\r\nSuggestion: func readManifest should begin something like this:\r\n```\r\n\tsize, err := manifestReader.Size(quitC)\r\n        if err !=0 { // or if size == 0\r\n                   glog.V(logger.Detail).Infof(\"Manifest %v not found.\", hash.Log())\r\n                   return\r\n        }\r\n```\r\nhttps://github.com/homotopycolimit/go-ethereum/tree/unexpected-end\r\n\r\n2. Seeker can't seek. \r\nInstead of giving the error \"seek from end requires rootchunk for size, call size first\", the lazyChunkReader.Seek function should simply call Size in this scenario.. Example:\r\n```\r\nfunc (s *LazyChunkReader) Seek(offset int64, whence int) (int64, error) {\r\n\tswitch whence {\r\n...\r\n...\r\n\t\tif s.chunk == nil { //\r\n                        quitC := make(chan bool)\r\n\t\t\t_, err := s.Size(quitC)\r\n\t\t\tif err != nil {\r\n\t\t\t\treturn 0, fmt.Errorf(\"seek from the end requires rootchunk for size. call to size failed: %v\", err.Error())\r\n\t\t\t}\r\n\t\t}\r\n```\r\nhttps://github.com/homotopycolimit/go-ethereum/tree/size-before-seek\r\n\r\nNote: this error message will not appear in the browser. There it will continue to just say seeker can't seek, unless we use our own version of net/http/fs.go that doesn't swallow the error message.\r\n\r\nAnother suggestion would be not to use http.ServeContent but instead write our own http handler based off net/http's serverContent using our own version of sizeFunc that doesn't require a seek-from-end",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/268038660/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/370422996",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/3307#issuecomment-370422996",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/3307",
    "id": 370422996,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3MDQyMjk5Ng==",
    "user": {
      "login": "stale[bot]",
      "id": 26384082,
      "node_id": "MDM6Qm90MjYzODQwODI=",
      "avatar_url": "https://avatars.githubusercontent.com/in/1724?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/stale%5Bbot%5D",
      "html_url": "https://github.com/apps/stale",
      "followers_url": "https://api.github.com/users/stale%5Bbot%5D/followers",
      "following_url": "https://api.github.com/users/stale%5Bbot%5D/following{/other_user}",
      "gists_url": "https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/stale%5Bbot%5D/subscriptions",
      "organizations_url": "https://api.github.com/users/stale%5Bbot%5D/orgs",
      "repos_url": "https://api.github.com/users/stale%5Bbot%5D/repos",
      "events_url": "https://api.github.com/users/stale%5Bbot%5D/events{/privacy}",
      "received_events_url": "https://api.github.com/users/stale%5Bbot%5D/received_events",
      "type": "Bot",
      "site_admin": false
    },
    "created_at": "2018-03-05T13:44:45Z",
    "updated_at": "2018-03-05T13:44:45Z",
    "author_association": "NONE",
    "body": "This issue has been automatically marked as stale because it has not had recent activity. It will be closed if no further activity occurs. Thank you for your contributions.\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/370422996/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
