{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/17545",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/17545/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/17545/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/17545/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/17545",
  "id": 355065821,
  "node_id": "MDU6SXNzdWUzNTUwNjU4MjE=",
  "number": 17545,
  "title": "Whisper: Posted messages won't filtered on the other nodes",
  "user": {
    "login": "avatar-lavventura",
    "id": 18537398,
    "node_id": "MDQ6VXNlcjE4NTM3Mzk4",
    "avatar_url": "https://avatars.githubusercontent.com/u/18537398?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/avatar-lavventura",
    "html_url": "https://github.com/avatar-lavventura",
    "followers_url": "https://api.github.com/users/avatar-lavventura/followers",
    "following_url": "https://api.github.com/users/avatar-lavventura/following{/other_user}",
    "gists_url": "https://api.github.com/users/avatar-lavventura/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/avatar-lavventura/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/avatar-lavventura/subscriptions",
    "organizations_url": "https://api.github.com/users/avatar-lavventura/orgs",
    "repos_url": "https://api.github.com/users/avatar-lavventura/repos",
    "events_url": "https://api.github.com/users/avatar-lavventura/events{/privacy}",
    "received_events_url": "https://api.github.com/users/avatar-lavventura/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 12,
  "created_at": "2018-08-29T09:06:18Z",
  "updated_at": "2018-12-17T09:09:26Z",
  "closed_at": "2018-12-17T09:09:26Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "geth version: `1.8.15-unstable`\r\nPython: 3.7.0\r\nOS: linux\r\n\r\nThe way I run `geth`:\r\n\r\n`geth --syncmode fast --cache=1024 --shh --datadir $DATADIR/private  --rpcaddr 127.0.0.1 --rpc --rpcport 8545 --rpccorsdomain=\"*\" --networkid 12345 --rpcapi admin,eth,net,web3,debug,personal,shh`\r\n\r\n---------\r\n\r\nI have followed the linked documentations that given on this issue (https://github.com/ethereum/go-ethereum/issues/17120#issuecomment-409490209) by @gballet . I have lost on the documentations and could not able to send a single message from one node to another (1-N signalling messages). If there would be an simple example about it would be very helpful.\r\n\r\n-------\r\n\r\nThis is as far as I came, please also see  (https://ethereum.stackexchange.com/questions/52218/how-to-send-1-n-signalling-or-broadcast-messages-on-whisper). \r\n\r\nOn this approach I observe that each node can only sends message to itself and other nodes don't filter/see those messages. For example, when `node-1` sends a message to the network; it won't show up on the `node-2` such that node-2's `web3.shh.info{memory}` remains 0, where I assume that it never catches the message.\r\n\r\n**On node-1's geth-client:**\r\n\r\n\r\n    generatedSymKey=shh.generateSymKeyFromPassword(\"hello\");    \r\n    symKey=shh.getSymKey(generatedSymKey)    \r\n    symKeyID=shh.addSymKey(symKey) //ex: \"d5212e736703afbb21246e8acd192e4345ea910398544d765ed6b49f0ec524b5\"\r\n    filter = web3.shh.newMessageFilter(\r\n            {symKeyID: symKeyID, topic: '0x07678231'}, \r\n            function(err, res) {console.log(web3.toUtf8(res.payload))});\r\n\r\n**On node-2's geth-client:**\r\n\r\n\r\n    generatedSymKey=shh.generateSymKeyFromPassword(\"hello\")    \r\n    symKey=shh.getSymKey(generatedSymKey)    \r\n    symKeyID=shh.addSymKey(symKey) //ex: \"c4c4cecf6ad9499c2386b8ce6416f44684e042e491726b38315646c0b4afadc6\"\r\n    filter = web3.shh.newMessageFilter(\r\n            {symKeyID: symKeyID, topic: '0x07678231'}, \r\n            function(err, res) {console.log(web3.toUtf8(res.payload))});\r\n\r\n-----\r\n\r\nThen, **node-1** sends message to the network, where only node-1 receives it but node-2 does not.\r\n\r\nFollowing code is run on `node-1's geth-client`:\r\n\r\n**node-1's `symKeyID` is given:**\r\n\r\n    web3.shh.post({\r\n      symKeyID: 'd5212e736703afbb21246e8acd192e4345ea910398544d765ed6b49f0ec524b5', //symKeyID of the node-1\r\n      ttl: 10,\r\n      topic: '0x07678231',\r\n      powTarget: 2.01,\r\n      powTime: 2,\r\n      payload: web3.fromAscii(\"Hello there!\")\r\n      });\r\n\r\n**[Q]** How could I able to make `node-2` to filter `node-1`'s messages?\r\n\r\nAlso asked at [ethereum.stackexchange](https://ethereum.stackexchange.com/q/57693/4575) but I couldn't reach anyone.",
  "closed_by": {
    "login": "gballet",
    "id": 3272758,
    "node_id": "MDQ6VXNlcjMyNzI3NTg=",
    "avatar_url": "https://avatars.githubusercontent.com/u/3272758?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/gballet",
    "html_url": "https://github.com/gballet",
    "followers_url": "https://api.github.com/users/gballet/followers",
    "following_url": "https://api.github.com/users/gballet/following{/other_user}",
    "gists_url": "https://api.github.com/users/gballet/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/gballet/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/gballet/subscriptions",
    "organizations_url": "https://api.github.com/users/gballet/orgs",
    "repos_url": "https://api.github.com/users/gballet/repos",
    "events_url": "https://api.github.com/users/gballet/events{/privacy}",
    "received_events_url": "https://api.github.com/users/gballet/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/17545/reactions",
    "total_count": 2,
    "+1": 2,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/17545/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/419512628",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/17545#issuecomment-419512628",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/17545",
    "id": 419512628,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxOTUxMjYyOA==",
    "user": {
      "login": "demmojo",
      "id": 30584067,
      "node_id": "MDQ6VXNlcjMwNTg0MDY3",
      "avatar_url": "https://avatars.githubusercontent.com/u/30584067?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/demmojo",
      "html_url": "https://github.com/demmojo",
      "followers_url": "https://api.github.com/users/demmojo/followers",
      "following_url": "https://api.github.com/users/demmojo/following{/other_user}",
      "gists_url": "https://api.github.com/users/demmojo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/demmojo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/demmojo/subscriptions",
      "organizations_url": "https://api.github.com/users/demmojo/orgs",
      "repos_url": "https://api.github.com/users/demmojo/repos",
      "events_url": "https://api.github.com/users/demmojo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/demmojo/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-09-07T17:36:06Z",
    "updated_at": "2018-09-07T17:36:06Z",
    "author_association": "NONE",
    "body": "Hello @avatar-lavventura, I have followed the instructions that you gave above and I am able to see the messages on both nodes. Could you please check again? Just in case, please check that the nodes are peers using 'net.peerCount' which should give a count of 1 if there are no other nodes in the network. \r\n\r\nMy geth version is: 1.8.15-stable-89451f7c\r\nPython: 2.7.15rc1 \r\nOS: Linux",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/419512628/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/419517805",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/17545#issuecomment-419517805",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/17545",
    "id": 419517805,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxOTUxNzgwNQ==",
    "user": {
      "login": "avatar-lavventura",
      "id": 18537398,
      "node_id": "MDQ6VXNlcjE4NTM3Mzk4",
      "avatar_url": "https://avatars.githubusercontent.com/u/18537398?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/avatar-lavventura",
      "html_url": "https://github.com/avatar-lavventura",
      "followers_url": "https://api.github.com/users/avatar-lavventura/followers",
      "following_url": "https://api.github.com/users/avatar-lavventura/following{/other_user}",
      "gists_url": "https://api.github.com/users/avatar-lavventura/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/avatar-lavventura/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/avatar-lavventura/subscriptions",
      "organizations_url": "https://api.github.com/users/avatar-lavventura/orgs",
      "repos_url": "https://api.github.com/users/avatar-lavventura/repos",
      "events_url": "https://api.github.com/users/avatar-lavventura/events{/privacy}",
      "received_events_url": "https://api.github.com/users/avatar-lavventura/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-09-07T17:54:51Z",
    "updated_at": "2018-09-07T18:31:00Z",
    "author_association": "NONE",
    "body": "Ah, I am not sure the reason. I have a small private network. I have delete the chain-data of both nodes and rsync them from `0th block`. I verify that both nodes have `net.peerCount` that is minimum 1 on both nodes  and now it works.\r\n\r\nSorry for asking already working example.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/419517805/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/423754475",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/17545#issuecomment-423754475",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/17545",
    "id": 423754475,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQyMzc1NDQ3NQ==",
    "user": {
      "login": "avatar-lavventura",
      "id": 18537398,
      "node_id": "MDQ6VXNlcjE4NTM3Mzk4",
      "avatar_url": "https://avatars.githubusercontent.com/u/18537398?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/avatar-lavventura",
      "html_url": "https://github.com/avatar-lavventura",
      "followers_url": "https://api.github.com/users/avatar-lavventura/followers",
      "following_url": "https://api.github.com/users/avatar-lavventura/following{/other_user}",
      "gists_url": "https://api.github.com/users/avatar-lavventura/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/avatar-lavventura/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/avatar-lavventura/subscriptions",
      "organizations_url": "https://api.github.com/users/avatar-lavventura/orgs",
      "repos_url": "https://api.github.com/users/avatar-lavventura/repos",
      "events_url": "https://api.github.com/users/avatar-lavventura/events{/privacy}",
      "received_events_url": "https://api.github.com/users/avatar-lavventura/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-09-22T16:06:54Z",
    "updated_at": "2018-09-22T16:38:06Z",
    "author_association": "NONE",
    "body": "@danmelton : It worked once 15 days ago but when I tried again it does not work anymore. Honestly I don't now the reason behind it :( Same problem also occurred on another user please see [https://github.com/ethereum/go-ethereum/issues/17043#issuecomment-423750752](https://github.com/ethereum/go-ethereum/issues/17043#issuecomment-423750752)\r\n\r\nI verify that both nodes are connected to the network. `net.peerCount` returns 3 on both nodes.\r\n\r\n**=>** Currently, I am able to send/receive from the same node, but not from two different ones.\r\n\r\nOn the reciever `shh.info.memory` remains 0 when sender node posts a message.\r\n\r\nFor both machines:\r\nGeth version:`1.8.15-unstable`\r\nOS: Linux ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/423754475/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/428523568",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/17545#issuecomment-428523568",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/17545",
    "id": 428523568,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQyODUyMzU2OA==",
    "user": {
      "login": "gballet",
      "id": 3272758,
      "node_id": "MDQ6VXNlcjMyNzI3NTg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3272758?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gballet",
      "html_url": "https://github.com/gballet",
      "followers_url": "https://api.github.com/users/gballet/followers",
      "following_url": "https://api.github.com/users/gballet/following{/other_user}",
      "gists_url": "https://api.github.com/users/gballet/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gballet/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gballet/subscriptions",
      "organizations_url": "https://api.github.com/users/gballet/orgs",
      "repos_url": "https://api.github.com/users/gballet/repos",
      "events_url": "https://api.github.com/users/gballet/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gballet/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-10-10T10:35:52Z",
    "updated_at": "2018-10-10T10:35:52Z",
    "author_association": "MEMBER",
    "body": "So moving the discussion back here for future cases, you have three nodes:\r\n\r\nThe bootnode is started with:\r\n```\r\nbootnode -nodekey bootnode.key -verbosity 9 -addr :300\r\n```\r\n\r\nThe first node is started with:\r\n```\r\ngeth --shh --port 3000 --datadir $DATADIR/private --rpcaddr 127.0.0.1 --rpc --rpcport 8545 --rpccorsdomain=\"*\" --networkid 23422 --rpcapi admin,eth,net,web3,debug,personal,shh --nodiscover\r\n```\r\n\r\nAnd the second node is started with:\r\n```\r\ngeth --bootnodes enode://44d77989e8097b672ac712e516d36bf27b3420e945d3538ca67fcfb16ce579a1f95c0f0c9c64947607727c568f9591163fd0cd4bac25fda67284ff7351dc43ac@[ip redacted]:300 --syncmode fast --cache=1024 --shh --datadir $DATADIR/private --rpcaddr 127.0.0.1 --rpc --rpcport 8545 --rpccorsdomain=\"*\" --networkid 23422 --rpcapi admin,eth,net,web3,debug,personal,shh\r\n```\r\n\r\nAnd the issue is that, in spite of manually adding peers, you can't get messages from node 1 to node 2.\r\n\r\nDo you use web3.js over the RPC api, or the console interface?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/428523568/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/428525511",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/17545#issuecomment-428525511",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/17545",
    "id": 428525511,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQyODUyNTUxMQ==",
    "user": {
      "login": "avatar-lavventura",
      "id": 18537398,
      "node_id": "MDQ6VXNlcjE4NTM3Mzk4",
      "avatar_url": "https://avatars.githubusercontent.com/u/18537398?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/avatar-lavventura",
      "html_url": "https://github.com/avatar-lavventura",
      "followers_url": "https://api.github.com/users/avatar-lavventura/followers",
      "following_url": "https://api.github.com/users/avatar-lavventura/following{/other_user}",
      "gists_url": "https://api.github.com/users/avatar-lavventura/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/avatar-lavventura/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/avatar-lavventura/subscriptions",
      "organizations_url": "https://api.github.com/users/avatar-lavventura/orgs",
      "repos_url": "https://api.github.com/users/avatar-lavventura/repos",
      "events_url": "https://api.github.com/users/avatar-lavventura/events{/privacy}",
      "received_events_url": "https://api.github.com/users/avatar-lavventura/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-10-10T10:41:45Z",
    "updated_at": "2018-10-10T10:46:14Z",
    "author_association": "NONE",
    "body": "I have used Web3.js console interface (please [see](https://ethereum.stackexchange.com/a/52932/4575)) and also Web3'py (please [see](https://ethereum.stackexchange.com/a/58299/4575)). In both cases I cannot get message from node-1 to node-2, please note that node-1 and node-2 located on different machines.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/428525511/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/428594843",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/17545#issuecomment-428594843",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/17545",
    "id": 428594843,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQyODU5NDg0Mw==",
    "user": {
      "login": "gballet",
      "id": 3272758,
      "node_id": "MDQ6VXNlcjMyNzI3NTg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3272758?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gballet",
      "html_url": "https://github.com/gballet",
      "followers_url": "https://api.github.com/users/gballet/followers",
      "following_url": "https://api.github.com/users/gballet/following{/other_user}",
      "gists_url": "https://api.github.com/users/gballet/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gballet/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gballet/subscriptions",
      "organizations_url": "https://api.github.com/users/gballet/orgs",
      "repos_url": "https://api.github.com/users/gballet/repos",
      "events_url": "https://api.github.com/users/gballet/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gballet/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-10-10T14:30:20Z",
    "updated_at": "2018-10-10T14:30:20Z",
    "author_association": "MEMBER",
    "body": "Alright, so I tested a similar setup to check if the issue was with the peer management system:\r\n\r\nI have 5 machines:\r\n\r\n  * A boot node (**b**) started with: `b$ bootnode -nodekey bootnode.key -addr :30303`\r\n  * Two machines (**m1** & **m2**) with `geth` running, started as such (`mX` stands for either **m1** or **m2**:\r\n```shell\r\nmX$ geth --datadir=/datadrive --bootnodes b_enode --shh console\r\n```\r\n  * Two request machines (**r1** & **r2**) running `wnode` and started as: `rX$ wnode -test -boot mX_enode`\r\n\r\nWhere `b_enode` is the enode of **b**, `m1_enode` is the enode of **m1** and so on...\r\n\r\n  1. **r1** and **r2** connect to **m1** and **m2** respectively. If I send a message from **r1**, **r2** doesn't receive it. That's expected, because `bootnode` doesn't understand Whisper.\r\n\r\n  2. From the console of **m2** I manually add **m1** with `addPeer`:\r\n\r\n```javascript\r\nadmin.addPeer(\"m1_enode\")\r\n```\r\n\r\n  3. From **r1**, I send a message, and **r2** receives it.\r\n\r\nSo messages do get forwarded from one node to the next. I assume the issue is either in your RPC call or in your own setup.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/428594843/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/428615364",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/17545#issuecomment-428615364",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/17545",
    "id": 428615364,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQyODYxNTM2NA==",
    "user": {
      "login": "avatar-lavventura",
      "id": 18537398,
      "node_id": "MDQ6VXNlcjE4NTM3Mzk4",
      "avatar_url": "https://avatars.githubusercontent.com/u/18537398?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/avatar-lavventura",
      "html_url": "https://github.com/avatar-lavventura",
      "followers_url": "https://api.github.com/users/avatar-lavventura/followers",
      "following_url": "https://api.github.com/users/avatar-lavventura/following{/other_user}",
      "gists_url": "https://api.github.com/users/avatar-lavventura/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/avatar-lavventura/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/avatar-lavventura/subscriptions",
      "organizations_url": "https://api.github.com/users/avatar-lavventura/orgs",
      "repos_url": "https://api.github.com/users/avatar-lavventura/repos",
      "events_url": "https://api.github.com/users/avatar-lavventura/events{/privacy}",
      "received_events_url": "https://api.github.com/users/avatar-lavventura/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-10-10T15:21:56Z",
    "updated_at": "2018-10-11T12:48:19Z",
    "author_association": "NONE",
    "body": "**=>** Does all machines and request machine located on different node?\r\n**=>** Can both machines (**m1** and **m2**) send whisper message to each other?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/428615364/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/428949467",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/17545#issuecomment-428949467",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/17545",
    "id": 428949467,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQyODk0OTQ2Nw==",
    "user": {
      "login": "gballet",
      "id": 3272758,
      "node_id": "MDQ6VXNlcjMyNzI3NTg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3272758?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gballet",
      "html_url": "https://github.com/gballet",
      "followers_url": "https://api.github.com/users/gballet/followers",
      "following_url": "https://api.github.com/users/gballet/following{/other_user}",
      "gists_url": "https://api.github.com/users/gballet/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gballet/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gballet/subscriptions",
      "organizations_url": "https://api.github.com/users/gballet/orgs",
      "repos_url": "https://api.github.com/users/gballet/repos",
      "events_url": "https://api.github.com/users/gballet/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gballet/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-10-11T13:11:35Z",
    "updated_at": "2018-10-11T13:11:35Z",
    "author_association": "MEMBER",
    "body": "yes, because otherwise **r1** and **r2** could not; ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/428949467/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/428953077",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/17545#issuecomment-428953077",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/17545",
    "id": 428953077,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQyODk1MzA3Nw==",
    "user": {
      "login": "avatar-lavventura",
      "id": 18537398,
      "node_id": "MDQ6VXNlcjE4NTM3Mzk4",
      "avatar_url": "https://avatars.githubusercontent.com/u/18537398?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/avatar-lavventura",
      "html_url": "https://github.com/avatar-lavventura",
      "followers_url": "https://api.github.com/users/avatar-lavventura/followers",
      "following_url": "https://api.github.com/users/avatar-lavventura/following{/other_user}",
      "gists_url": "https://api.github.com/users/avatar-lavventura/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/avatar-lavventura/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/avatar-lavventura/subscriptions",
      "organizations_url": "https://api.github.com/users/avatar-lavventura/orgs",
      "repos_url": "https://api.github.com/users/avatar-lavventura/repos",
      "events_url": "https://api.github.com/users/avatar-lavventura/events{/privacy}",
      "received_events_url": "https://api.github.com/users/avatar-lavventura/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-10-11T13:22:30Z",
    "updated_at": "2018-10-11T13:23:25Z",
    "author_association": "NONE",
    "body": "On my case, I have a proof-of-authority private Ethereum Network, which has 3 signer nodes.\r\n\r\nI have pretty similar setup. Each machine connects network as follows:\r\n\r\n`\r\ngeth --syncmode fast --cache=1024 --shh --datadir $DATADIR/private --rpcaddr 127.0.0.1 --rpc --rpcport 8545 --rpccorsdomain=\"*\" --networkid 23422 --rpcapi admin,eth,net,web3,debug,personal,shh\r\n`\r\n\r\nLater, each node adds all three signer nodes's `enodeID` manually like you did. All machines are synced and have peer count 3, which is all the signer nodes.\r\n\r\n=> But they cannot send any whisper message to any signer nodes or any other connected machine on the network.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/428953077/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/430506236",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/17545#issuecomment-430506236",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/17545",
    "id": 430506236,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzMDUwNjIzNg==",
    "user": {
      "login": "gballet",
      "id": 3272758,
      "node_id": "MDQ6VXNlcjMyNzI3NTg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3272758?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gballet",
      "html_url": "https://github.com/gballet",
      "followers_url": "https://api.github.com/users/gballet/followers",
      "following_url": "https://api.github.com/users/gballet/following{/other_user}",
      "gists_url": "https://api.github.com/users/gballet/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gballet/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gballet/subscriptions",
      "organizations_url": "https://api.github.com/users/gballet/orgs",
      "repos_url": "https://api.github.com/users/gballet/repos",
      "events_url": "https://api.github.com/users/gballet/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gballet/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-10-17T06:31:39Z",
    "updated_at": "2018-10-17T06:31:39Z",
    "author_association": "MEMBER",
    "body": "You should start with what I did, then move step by step to your own configuration to find out at which step the problem occurs, then paste the startup command of *every* machine for the last step it worked and the first step it didn't.\r\n\r\nI spend a lot of time - more time than I have to be precise - just trying to guess what it is that you are doing and you have to make a clarity effort if you want this to go anywhere.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/430506236/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/430580437",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/17545#issuecomment-430580437",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/17545",
    "id": 430580437,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzMDU4MDQzNw==",
    "user": {
      "login": "avatar-lavventura",
      "id": 18537398,
      "node_id": "MDQ6VXNlcjE4NTM3Mzk4",
      "avatar_url": "https://avatars.githubusercontent.com/u/18537398?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/avatar-lavventura",
      "html_url": "https://github.com/avatar-lavventura",
      "followers_url": "https://api.github.com/users/avatar-lavventura/followers",
      "following_url": "https://api.github.com/users/avatar-lavventura/following{/other_user}",
      "gists_url": "https://api.github.com/users/avatar-lavventura/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/avatar-lavventura/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/avatar-lavventura/subscriptions",
      "organizations_url": "https://api.github.com/users/avatar-lavventura/orgs",
      "repos_url": "https://api.github.com/users/avatar-lavventura/repos",
      "events_url": "https://api.github.com/users/avatar-lavventura/events{/privacy}",
      "received_events_url": "https://api.github.com/users/avatar-lavventura/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-10-17T10:44:29Z",
    "updated_at": "2018-10-17T11:01:47Z",
    "author_association": "NONE",
    "body": "I am sorry to take your time and please note that thank you for your help. I really do not know why it was not working before but it works on my end now.\r\n\r\nPlease see my problem more in detail. I have tried little bit different way than you did.\r\n\r\n-----------\r\n\r\n**Case:** There is no node in the network started as `bootnode`. But I have manually added static nodes using `admin.addPeer()`.\r\n\r\nThere are three main nodes, their `enode` is shared publicly where any new coming peers connected to all those three using `admin.addPeer(\"mX_enode\")`. `mX` stands for either `m1` or `m2` or `m3`. Also all those 3 nodes are connected to each other using `admin.addPeer(\"mX_enode\")` as well. I have added few nodes which connects to all those 3 nodes, that makes network more stable.\r\n\r\nAll those three nodes in the network uses following `geth` line, and newly connected nodes uses same line without ` --nodiscover` flag:\r\n\r\n`\r\ngeth --syncmode fast --cache=1024 --shh --datadir $DATADIR/private --rpcaddr 127.0.0.1 --rpc --rpcport 8545 --rpccorsdomain=\"*\" --networkid 12345 --rpcapi eth,net,web3,personal,shh --nodiscover\r\n`\r\n\r\nPlease see the image where all nodes are connected to each other.\r\n\r\n<img width=\"971\" alt=\"screen shot 2018-10-17 at 12 54 15\" src=\"https://user-images.githubusercontent.com/18537398/47078416-f1eb4100-d20b-11e8-9cb7-69c77557bbfc.png\">\r\n\r\nLater I pick a sender and receiver node, where both `admin.peers` returns other node's `enode` so I verify that selected sender and receiver node is connected to each other on the network.\r\n\r\n**=>** Receiver and sender node runs following code on its `geth` console:\r\n\r\n```\r\ngeneratedSymKey=shh.generateSymKeyFromPassword(\"hello\");    \r\nsymKey=shh.getSymKey(generatedSymKey)    \r\nsymKeyID=shh.addSymKey(symKey)\r\nfilter = web3.shh.newMessageFilter(\r\n        {symKeyID: symKeyID, topic: '0x07678231'}, \r\n        function(err, res) {console.log(web3.toUtf8(res.payload))});\r\n```\r\n\r\nI have stored sender and receiver's `symKeyID` where I will use it to post message. Sender's returned `symKeyID` is `321f3531fad3de1dd8344da26cba1a074ee3689acb796ecb8e5bdf8507b1a0ef `. Receiver's returned `symKeyID` is `ed30b966e40cec9088fb6054c1823d3ff36941aaa002ebd2eea9d5a6efd1a9fe `:\r\n\r\n**=>** Than sender node copy paste its `symKeyID` into following code piece to post its message\r\n\r\n```\r\nweb3.shh.post({\r\n  symKeyID: '321f3531fad3de1dd8344da26cba1a074ee3689acb796ecb8e5bdf8507b1a0ef', //symKeyID of the sender\r\n  ttl: 10,\r\n  topic: '0x07678231',\r\n  powTarget: 2.01,\r\n  powTime: 2,\r\n  payload: web3.fromAscii(\"Hello there!\")\r\n  });\r\n```\r\n\r\n**=>** Receiver also do the same. Receiver copy paste its `symKeyID` into same code piece to post its message.\r\n\r\n```\r\nweb3.shh.post({\r\n  symKeyID: 'ed30b966e40cec9088fb6054c1823d3ff36941aaa002ebd2eea9d5a6efd1a9fe', //symKeyID of the receiver\r\n  ttl: 10,\r\n  topic: '0x07678231',\r\n  powTarget: 2.01,\r\n  powTime: 2,\r\n  payload: web3.fromAscii(\"Hello there!\")\r\n  });\r\n```\r\n\r\nAnd I can see the sent message on the sender and receiver node's `geth` console.\r\n\r\n---------\r\n\r\n**I observe that:**\r\n\r\nIn order to user Whisper protocol, where are not required to use any `bootnode`. Later I have tried running receiver and sender node without `--nodiscover` and still they were able to send and receive messages between each other.\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/430580437/reactions",
      "total_count": 2,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 1,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/447771736",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/17545#issuecomment-447771736",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/17545",
    "id": 447771736,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ0Nzc3MTczNg==",
    "user": {
      "login": "gballet",
      "id": 3272758,
      "node_id": "MDQ6VXNlcjMyNzI3NTg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3272758?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gballet",
      "html_url": "https://github.com/gballet",
      "followers_url": "https://api.github.com/users/gballet/followers",
      "following_url": "https://api.github.com/users/gballet/following{/other_user}",
      "gists_url": "https://api.github.com/users/gballet/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gballet/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gballet/subscriptions",
      "organizations_url": "https://api.github.com/users/gballet/orgs",
      "repos_url": "https://api.github.com/users/gballet/repos",
      "events_url": "https://api.github.com/users/gballet/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gballet/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-12-17T09:09:26Z",
    "updated_at": "2018-12-17T09:09:26Z",
    "author_association": "MEMBER",
    "body": "Closing this issue, as it couldn't be reproduced.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/447771736/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
