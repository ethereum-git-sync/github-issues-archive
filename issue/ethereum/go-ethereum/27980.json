{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/27980",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/27980/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/27980/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/27980/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/27980",
  "id": 1862559719,
  "node_id": "I_kwDOAOvK985vBGfn",
  "number": 27980,
  "title": "Is this normal behavior when syncing geth?",
  "user": {
    "login": "kevgithub",
    "id": 813641,
    "node_id": "MDQ6VXNlcjgxMzY0MQ==",
    "avatar_url": "https://avatars.githubusercontent.com/u/813641?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/kevgithub",
    "html_url": "https://github.com/kevgithub",
    "followers_url": "https://api.github.com/users/kevgithub/followers",
    "following_url": "https://api.github.com/users/kevgithub/following{/other_user}",
    "gists_url": "https://api.github.com/users/kevgithub/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/kevgithub/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/kevgithub/subscriptions",
    "organizations_url": "https://api.github.com/users/kevgithub/orgs",
    "repos_url": "https://api.github.com/users/kevgithub/repos",
    "events_url": "https://api.github.com/users/kevgithub/events{/privacy}",
    "received_events_url": "https://api.github.com/users/kevgithub/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 268304226,
      "node_id": "MDU6TGFiZWwyNjgzMDQyMjY=",
      "url": "https://api.github.com/repos/ethereum/go-ethereum/labels/type:docs",
      "name": "type:docs",
      "color": "fef2c0",
      "default": false,
      "description": null
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 1,
  "created_at": "2023-08-23T04:46:40Z",
  "updated_at": "2023-08-23T07:51:52Z",
  "closed_at": "2023-08-23T07:51:52Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "Im using mev-geth + prysm, and here's what eth.syncing display:\r\n\r\n```\r\n{\r\n  currentBlock: 15537228,\r\n  healedBytecodeBytes: 102602373,\r\n  healedBytecodes: 13114,\r\n  healedTrienodeBytes: 1738935298,\r\n  healedTrienodes: 16601768,\r\n  healingBytecode: 0,\r\n  healingTrienodes: 0,\r\n  highestBlock: 15537420,\r\n  startingBlock: 6218844,\r\n  syncedAccountBytes: 47670286424,\r\n  syncedAccounts: 192520528,\r\n  syncedBytecodeBytes: 5057491353,\r\n  syncedBytecodes: 763178,\r\n  syncedStorage: 831341321,\r\n  syncedStorageBytes: 178645236259\r\n}\r\n```\r\ntheres been several hours and only **healedTrienodeBytes & healedTrienodes** keep changing?\r\nthe latest EL log as follow:\r\n\r\n```\r\nWARN [08-23|12:44:38.940] Unexpected trienode heal packet          peer=6049b1ac reqid=4,531,407,276,297,173,660\r\nINFO [08-23|12:44:43.838] Disabling direct-ancient mode            origin=15,537,228 ancient=14,811,135\r\nINFO [08-23|12:44:44.834] Imported new block headers               count=0    elapsed=26.373ms    number=15,537,393 hash=55b11b..7bb286 age=11mo1w4d  ignored=165\r\nINFO [08-23|12:44:44.834] Legacy sync reached merge threshold      number=15,537,394 hash=b84f2d..b2e97c td=58,750,014,772,935,592,709,055 ttd=58,750,000,000,000,000,000,000\r\nINFO [08-23|12:44:44.835] State heal in progress                   accounts=2,655,807@124.33MiB  slots=7,594,857@576.91MiB   codes=13114@97.85MiB     nodes=16,601,810@1.62GiB    pending=1\r\nWARN [08-23|12:44:44.835] Local chain is post-merge, waiting for beacon client sync switch-over...\r\nWARN [08-23|12:44:45.076] Unexpected trienode heal packet          peer=6049b1ac reqid=2,819,173,807,220,586,721\r\nINFO [08-23|12:44:49.976] Disabling direct-ancient mode            origin=15,537,228 ancient=14,811,135\r\nINFO [08-23|12:44:50.952] Imported new block headers               count=0    elapsed=26.891ms    number=15,537,393 hash=55b11b..7bb286 age=11mo1w4d  ignored=165\r\nINFO [08-23|12:44:50.953] Legacy sync reached merge threshold      number=15,537,394 hash=b84f2d..b2e97c td=58,750,014,772,935,592,709,055 ttd=58,750,000,000,000,000,000,000\r\nINFO [08-23|12:44:50.953] State heal in progress                   accounts=2,655,807@124.33MiB  slots=7,594,857@576.91MiB   codes=13114@97.85MiB     nodes=16,601,827@1.62GiB    pending=273\r\n```\r\n\r\nCL log:\r\n\r\n```\r\ntime=\"2023-08-23 12:44:30\" level=info msg=\"Processing block batch of size 64 starting from  0x66dc5472... 767827/7161820 - estimated time remaining 56h17m42s\" blocksPerSecond=31.6 peers=44 prefix=initial-sync\r\ntime=\"2023-08-23 12:44:32\" level=info msg=\"Processing block batch of size 62 starting from  0x349f6cbf... 767891/7161820 - estimated time remaining 51h15m28s\" blocksPerSecond=34.6 peers=44 prefix=initial-sync\r\ntime=\"2023-08-23 12:44:33\" level=info msg=\"Peer summary\" activePeers=44 inbound=12 outbound=32 prefix=p2p\r\ntime=\"2023-08-23 12:45:03\" level=info msg=\"Ready for The Merge\" latestDifficulty=17179869184 network=mainnet prefix=powchain terminalDifficulty=58750000000000000000000\r\ntime=\"2023-08-23 12:45:31\" level=info msg=\"Processing block batch of size 64 starting from  0x94f436ef... 767955/7161825 - estimated time remaining 555h1m24s\" blocksPerSecond=3.2 peers=47 prefix=initial-sync\r\ntime=\"2023-08-23 12:45:32\" level=info msg=\"Processing block batch of size 64 starting from  0x45ba7152... 768019/7161825 - estimated time remaining 277h30m32s\" blocksPerSecond=6.4 peers=47 prefix=initial-sync\r\ntime=\"2023-08-23 12:45:33\" level=info msg=\"Peer summary\" activePeers=47 inbound=12 outbound=35 prefix=p2p\r\ntime=\"2023-08-23 12:45:34\" level=info msg=\"Processing block batch of size 64 starting from  0x70d83f4e... 768083/7161825 - estimated time remaining 185h0m14s\" blocksPerSecond=9.6 peers=47 prefix=initial-sync\r\n```\r\n\r\nI m not sure if this is all right, should I be worry about anyting?\r\nalso this is very first time I do the mev-geth syncing",
  "closed_by": {
    "login": "karalabe",
    "id": 129561,
    "node_id": "MDQ6VXNlcjEyOTU2MQ==",
    "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/karalabe",
    "html_url": "https://github.com/karalabe",
    "followers_url": "https://api.github.com/users/karalabe/followers",
    "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
    "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
    "organizations_url": "https://api.github.com/users/karalabe/orgs",
    "repos_url": "https://api.github.com/users/karalabe/repos",
    "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
    "received_events_url": "https://api.github.com/users/karalabe/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/27980/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/27980/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1689337087",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/27980#issuecomment-1689337087",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/27980",
    "id": 1689337087,
    "node_id": "IC_kwDOAOvK985ksTz_",
    "user": {
      "login": "MariusVanDerWijden",
      "id": 16664698,
      "node_id": "MDQ6VXNlcjE2NjY0Njk4",
      "avatar_url": "https://avatars.githubusercontent.com/u/16664698?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MariusVanDerWijden",
      "html_url": "https://github.com/MariusVanDerWijden",
      "followers_url": "https://api.github.com/users/MariusVanDerWijden/followers",
      "following_url": "https://api.github.com/users/MariusVanDerWijden/following{/other_user}",
      "gists_url": "https://api.github.com/users/MariusVanDerWijden/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MariusVanDerWijden/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MariusVanDerWijden/subscriptions",
      "organizations_url": "https://api.github.com/users/MariusVanDerWijden/orgs",
      "repos_url": "https://api.github.com/users/MariusVanDerWijden/repos",
      "events_url": "https://api.github.com/users/MariusVanDerWijden/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MariusVanDerWijden/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-08-23T06:10:25Z",
    "updated_at": "2023-08-23T06:10:25Z",
    "author_association": "MEMBER",
    "body": "I don't know if mev-geth is able to sync post-merge but the logs look ok on the geth side. However you are using a full sync on the prysm side which is incredibly slow. Try using a checkpoint sync for prysm",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1689337087/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
