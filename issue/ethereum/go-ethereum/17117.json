{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/17117",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/17117/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/17117/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/17117/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/17117",
  "id": 337916142,
  "node_id": "MDU6SXNzdWUzMzc5MTYxNDI=",
  "number": 17117,
  "title": "Geth 1.8.11-stable struggling with network usage uptick",
  "user": {
    "login": "vogelito",
    "id": 1325863,
    "node_id": "MDQ6VXNlcjEzMjU4NjM=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1325863?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/vogelito",
    "html_url": "https://github.com/vogelito",
    "followers_url": "https://api.github.com/users/vogelito/followers",
    "following_url": "https://api.github.com/users/vogelito/following{/other_user}",
    "gists_url": "https://api.github.com/users/vogelito/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/vogelito/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/vogelito/subscriptions",
    "organizations_url": "https://api.github.com/users/vogelito/orgs",
    "repos_url": "https://api.github.com/users/vogelito/repos",
    "events_url": "https://api.github.com/users/vogelito/events{/privacy}",
    "received_events_url": "https://api.github.com/users/vogelito/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 4,
  "created_at": "2018-07-03T14:08:53Z",
  "updated_at": "2019-06-19T14:27:56Z",
  "closed_at": "2019-06-19T14:27:56Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "Unfortunately we have very little useful information about this at the moment, but our geth node has started to struggle. This has only gotten worse as network usage has increased. When I say \"started to struggle\" I mean being unresponsive to RPC calls.\r\n\r\n#### System information\r\n\r\nGeth version: \r\n```\r\nGeth\r\nVersion: 1.8.11-stable\r\nGit Commit: dea1ce052a10cd7d401a5c04f83f371a06fe293c\r\nArchitecture: amd64\r\nProtocol Versions: [63 62]\r\nNetwork Id: 1\r\nGo Version: go1.10\r\nOperating System: linux\r\nGOPATH=\r\nGOROOT=/usr/local/go\r\n```\r\nOS & Version: Linux\r\n\r\n#### Expected behaviour\r\nRPC calls to our node should render responses\r\n\r\n#### Actual behaviour\r\nRPC calls to our node time out even though our clients are set to time out after 20 seconds (which we set up this way when we saw #16940 which is now fixed). We notice this is a problem when gas price increases, which is probably the result of higher network congestion.\r\n\r\nWe are trying to graph client timeouts to better monitor this, but wanted to open a ticket to begin tracking this issue. Our node's metrics (as reported via `--metrics --pprof`) are graphed, so if there are specific things you think would be useful to look at, please let me know.\r\n\r\nWe haven't restarted our node in 20 days and the node becomes responsive as gas prices goes down.\r\n\r\n#### Steps to reproduce the behaviour\r\nUnknown at the time.\r\n",
  "closed_by": {
    "login": "holiman",
    "id": 142290,
    "node_id": "MDQ6VXNlcjE0MjI5MA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/142290?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/holiman",
    "html_url": "https://github.com/holiman",
    "followers_url": "https://api.github.com/users/holiman/followers",
    "following_url": "https://api.github.com/users/holiman/following{/other_user}",
    "gists_url": "https://api.github.com/users/holiman/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/holiman/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/holiman/subscriptions",
    "organizations_url": "https://api.github.com/users/holiman/orgs",
    "repos_url": "https://api.github.com/users/holiman/repos",
    "events_url": "https://api.github.com/users/holiman/events{/privacy}",
    "received_events_url": "https://api.github.com/users/holiman/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/17117/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/17117/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/402171100",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/17117#issuecomment-402171100",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/17117",
    "id": 402171100,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwMjE3MTEwMA==",
    "user": {
      "login": "vogelito",
      "id": 1325863,
      "node_id": "MDQ6VXNlcjEzMjU4NjM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1325863?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vogelito",
      "html_url": "https://github.com/vogelito",
      "followers_url": "https://api.github.com/users/vogelito/followers",
      "following_url": "https://api.github.com/users/vogelito/following{/other_user}",
      "gists_url": "https://api.github.com/users/vogelito/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vogelito/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vogelito/subscriptions",
      "organizations_url": "https://api.github.com/users/vogelito/orgs",
      "repos_url": "https://api.github.com/users/vogelito/repos",
      "events_url": "https://api.github.com/users/vogelito/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vogelito/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-07-03T14:10:52Z",
    "updated_at": "2018-07-03T14:10:52Z",
    "author_association": "NONE",
    "body": "Here's a graph that's trending with network usage (i guess perhaps expectedly)\r\n\r\n![image](https://user-images.githubusercontent.com/1325863/42224942-f0bb2e62-7ea0-11e8-9dd5-ddb9e0dcc7c4.png)\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/402171100/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/402333015",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/17117#issuecomment-402333015",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/17117",
    "id": 402333015,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwMjMzMzAxNQ==",
    "user": {
      "login": "vogelito",
      "id": 1325863,
      "node_id": "MDQ6VXNlcjEzMjU4NjM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1325863?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vogelito",
      "html_url": "https://github.com/vogelito",
      "followers_url": "https://api.github.com/users/vogelito/followers",
      "following_url": "https://api.github.com/users/vogelito/following{/other_user}",
      "gists_url": "https://api.github.com/users/vogelito/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vogelito/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vogelito/subscriptions",
      "organizations_url": "https://api.github.com/users/vogelito/orgs",
      "repos_url": "https://api.github.com/users/vogelito/repos",
      "events_url": "https://api.github.com/users/vogelito/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vogelito/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-07-04T01:05:04Z",
    "updated_at": "2018-07-04T01:05:04Z",
    "author_association": "NONE",
    "body": "we're restarting our node to see if it gets any better.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/402333015/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/405738802",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/17117#issuecomment-405738802",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/17117",
    "id": 405738802,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwNTczODgwMg==",
    "user": {
      "login": "mykolasmith",
      "id": 1483054,
      "node_id": "MDQ6VXNlcjE0ODMwNTQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1483054?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mykolasmith",
      "html_url": "https://github.com/mykolasmith",
      "followers_url": "https://api.github.com/users/mykolasmith/followers",
      "following_url": "https://api.github.com/users/mykolasmith/following{/other_user}",
      "gists_url": "https://api.github.com/users/mykolasmith/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mykolasmith/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mykolasmith/subscriptions",
      "organizations_url": "https://api.github.com/users/mykolasmith/orgs",
      "repos_url": "https://api.github.com/users/mykolasmith/repos",
      "events_url": "https://api.github.com/users/mykolasmith/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mykolasmith/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-07-17T21:46:36Z",
    "updated_at": "2018-07-17T21:46:36Z",
    "author_association": "NONE",
    "body": "We're also seeing this issue as of both 1.8.11 and 1.8.12 running on Go 1.10.2",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/405738802/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/503584938",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/17117#issuecomment-503584938",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/17117",
    "id": 503584938,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUwMzU4NDkzOA==",
    "user": {
      "login": "holiman",
      "id": 142290,
      "node_id": "MDQ6VXNlcjE0MjI5MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/142290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/holiman",
      "html_url": "https://github.com/holiman",
      "followers_url": "https://api.github.com/users/holiman/followers",
      "following_url": "https://api.github.com/users/holiman/following{/other_user}",
      "gists_url": "https://api.github.com/users/holiman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/holiman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/holiman/subscriptions",
      "organizations_url": "https://api.github.com/users/holiman/orgs",
      "repos_url": "https://api.github.com/users/holiman/repos",
      "events_url": "https://api.github.com/users/holiman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/holiman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-06-19T14:27:56Z",
    "updated_at": "2019-06-19T14:27:56Z",
    "author_association": "MEMBER",
    "body": "Closing this -- a lot of performance improvements has made it in since then",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/503584938/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
